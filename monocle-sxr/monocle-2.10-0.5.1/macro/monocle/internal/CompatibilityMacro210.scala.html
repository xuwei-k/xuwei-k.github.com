<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>macro/monocle/internal/CompatibilityMacro210.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> monocle.internal

<span class="comment">// defines stubs for stuff that's missing in Scala 2.10</span>
<span class="comment">// form https://github.com/scalamacros/macrology201/blob/part1/macros/src/main/scala/Internal210.scala</span>
<span class="keyword">object</span> <a title="monocle.internal.CompatibilityMacro210.type" id="monocle.internal.CompatibilityMacro210">CompatibilityMacro210</a> <a href="#monocle.internal.CompatibilityMacro210" title="monocle.internal.CompatibilityMacro210.type" class="delimiter">{</a>
  <span class="keyword">object</span> <a title="monocle.internal.CompatibilityMacro210.blackbox.type" id="monocle.internal.CompatibilityMacro210.blackbox">blackbox</a> <a href="#monocle.internal.CompatibilityMacro210.blackbox" title="monocle.internal.CompatibilityMacro210.blackbox.type" class="delimiter">{</a> <span class="comment">// scala.reflect.macros.blackbox package</span>
    <span class="keyword">type</span> <a title="scala.reflect.macros.Context" id="monocle.internal.CompatibilityMacro210.blackbox;Context">Context</a> = scala.reflect.macros.<span title="scala.reflect.macros.Context">Context</span>
  <span class="delimiter">}</span>
  <span class="keyword">object</span> <a title="monocle.internal.CompatibilityMacro210.internal.type" id="monocle.internal.CompatibilityMacro210.internal">internal</a> <span class="comment">// Context.internal object</span>
  <span class="keyword">object</span> <a title="monocle.internal.CompatibilityMacro210.decorators.type" id="monocle.internal.CompatibilityMacro210.decorators">decorators</a> <span class="comment">// Context.decorators object</span>
  <span class="keyword">object</span> <a title="monocle.internal.CompatibilityMacro210.contexts.type" id="monocle.internal.CompatibilityMacro210.contexts">contexts</a> <span class="comment">// scala.reflect.macros.contexts package</span>
<span title="AnyRef" class="delimiter">}</span>
<span title="AnyRef" class="keyword">import</span> <a href="#monocle.internal.CompatibilityMacro210" title="monocle.internal.CompatibilityMacro210.type">CompatibilityMacro210</a>._

<span class="comment">// unifies scala.reflect.macros.runtime.Context (Scala 2.10)</span>
<span class="comment">// and scala.reflect.macros.contexts.Context (Scala 2.11)</span>
<span class="keyword">object</span> <a title="monocle.internal.Power.type" id="monocle.internal.Power">Power</a> <a href="#monocle.internal.Power" title="monocle.internal.Power.type" class="delimiter">{</a>

  <span class="keyword">import</span> scala.reflect.macros._

  <span class="keyword">object</span> <a title="monocle.internal.Power.DummyScope.type" id="monocle.internal.Power.DummyScope">DummyScope</a><a href="#monocle.internal.Power.DummyScope" title="monocle.internal.Power.DummyScope.type" class="delimiter">{</a>

    <span class="keyword">import</span> runtime._

    <span class="keyword">type</span> <a title="scala.reflect.macros.runtime.Context" id="monocle.internal.Power.DummyScope;Result">Result</a> = <span title="scala.reflect.macros.runtime.Context">Context</span>
  <span class="delimiter">}</span>
  <span class="keyword">type</span> <a title="monocle.internal.Power.DummyScope.Result" id="monocle.internal.Power;PowerContext">PowerContext</a> = DummyScope.<span title="monocle.internal.Power.DummyScope.Result">Result</span>
<span class="delimiter">}</span>

<span title="AnyRef" class="keyword">import</span> <a href="#monocle.internal.Power" title="monocle.internal.Power.type">Power</a>._

<span class="comment">// a cake slice that can be mixed into improvised macro bundles</span>
<span class="comment">// to transparently bring new Scala 2.11 features to Scala 2.10</span>
<span class="keyword">trait</span> <a title="trait Internal210 extends AnyRef" id="monocle.internal;Internal210">Internal210</a> <span title="Unit" class="delimiter">{</span> self =&gt;

  <span class="keyword">import</span> scala.reflect.macros._
  <span class="keyword">import</span> <a href="#monocle.internal.CompatibilityMacro210.blackbox" title="monocle.internal.CompatibilityMacro210.blackbox.type">blackbox</a>.Context

  <span class="keyword">val</span> <a title="=&gt; monocle.internal.CompatibilityMacro210.blackbox.Context" id="monocle.internal;Internal210.c">c</a>: <span title="monocle.internal.CompatibilityMacro210.blackbox.Context">Context</span>
  <span class="keyword">import</span> <a href="#monocle.internal;Internal210.c" title="=&gt; monocle.internal.CompatibilityMacro210.blackbox.Context">c</a>.<span title="=&gt; scala.reflect.macros.Universe">universe</span>._

  <span class="comment">// enrichments that backport parts of Scala 2.11's c.internal to Scala 2.10</span>
  <span class="comment">// these are only going to be picked up if we compile against Scala 2.10</span>
  <span class="keyword">implicit</span> <span class="keyword">class</span> <a title="class RichContext extends AnyRef" id="monocle.internal;Internal210.RichContext">RichContext</a><a href="#monocle.internal;Internal210.RichContext" title="Internal210.this.RichContext" class="delimiter">(</a><span class="keyword">val</span> <a title="Internal210.this.c.type" id="monocle.internal;Internal210.RichContext.c">c</a>: self.c.<span class="keyword">type</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">object</span> <a title="RichContext.this.internal.type" id="monocle.internal;Internal210;RichContext.internal">internal</a> <a href="#monocle.internal;Internal210;RichContext.internal" title="RichContext.this.internal.type" class="delimiter">{</a>
      <span class="keyword">def</span> <a title="=&gt; Internal210.this.c.universe.Symbol" id="monocle.internal;Internal210;RichContext.internal.enclosingOwner">enclosingOwner</a>: <span title="Internal210.this.c.universe.Symbol">Symbol</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="monocle.internal.Power.PowerContext" id="monocle.internal;Internal210;RichContext.internal.enclosingOwner.powerContext">powerContext</a> = <a href="#monocle.internal;Internal210.RichContext.c" title="=&gt; Internal210.this.c.type">c</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="monocle.internal.Power.PowerContext" class="delimiter">[</span><span title="monocle.internal.Power.PowerContext">PowerContext</span><span class="delimiter">]</span>
        <a href="#monocle.internal;Internal210;RichContext.internal.enclosingOwner.powerContext" title="monocle.internal.Power.PowerContext">powerContext</a>.<span title="=&gt; powerContext.universe.analyzer.Typer">callsiteTyper</span>.<span title="=&gt; powerContext.universe.analyzer.Context">context</span>.<span title="=&gt; powerContext.universe.analyzer.global.Symbol">owner</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Internal210.this.c.universe.Symbol" class="delimiter">[</span><span title="Internal210.this.c.universe.Symbol">Symbol</span><span class="delimiter">]</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(tree: Internal210.this.c.universe.Tree, oldOwner: Internal210.this.c.universe.Symbol, newOwner: Internal210.this.c.universe.Symbol)Internal210.this.c.universe.Tree" id="monocle.internal;Internal210;RichContext.internal.changeOwner">changeOwner</a><span class="delimiter">(</span><a title="Internal210.this.c.universe.Tree" id="monocle.internal;Internal210;RichContext.internal.changeOwner.tree">tree</a>: <span title="Internal210.this.c.universe.Tree">Tree</span>, <a title="Internal210.this.c.universe.Symbol" id="monocle.internal;Internal210;RichContext.internal.changeOwner.oldOwner">oldOwner</a>: <span title="Internal210.this.c.universe.Symbol">Symbol</span>, <a title="Internal210.this.c.universe.Symbol" id="monocle.internal;Internal210;RichContext.internal.changeOwner.newOwner">newOwner</a>: <span title="Internal210.this.c.universe.Symbol">Symbol</span><span class="delimiter">)</span>: <span title="Internal210.this.c.universe.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="monocle.internal.Power.PowerContext" id="monocle.internal;Internal210;RichContext.internal.changeOwner.powerContext">powerContext</a> = <a href="#monocle.internal;Internal210.RichContext.c" title="=&gt; Internal210.this.c.type">c</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="monocle.internal.Power.PowerContext" class="delimiter">[</span><span title="monocle.internal.Power.PowerContext">PowerContext</span><span class="delimiter">]</span>
        <span class="keyword">val</span> <a title="scala.tools.nsc.Global" id="monocle.internal;Internal210;RichContext.internal.changeOwner.global">global</a> = <a href="#monocle.internal;Internal210;RichContext.internal.changeOwner.powerContext" title="monocle.internal.Power.PowerContext">powerContext</a>.<span title="=&gt; scala.tools.nsc.Global">universe</span>
        <span class="keyword">class</span> <a title="class ChangeOwnerAndModuleClassTraverser extends global.ChangeOwnerTraverser" id="monocle.internal;Internal210;RichContext.internal.changeOwner;ChangeOwnerAndModuleClassTraverser">ChangeOwnerAndModuleClassTraverser</a><a href="#monocle.internal;Internal210;RichContext.internal.changeOwner;ChangeOwnerAndModuleClassTraverser" title="ChangeOwnerAndModuleClassTraverser" class="delimiter">(</a><a title="global.Symbol" id="monocle.internal;Internal210;RichContext.internal.changeOwner;ChangeOwnerAndModuleClassTraverser.oldOwner">oldOwner</a>: global.<span title="global.Symbol">Symbol</span>, <a title="global.Symbol" id="monocle.internal;Internal210;RichContext.internal.changeOwner;ChangeOwnerAndModuleClassTraverser.newOwner">newOwner</a>: global.<span title="global.Symbol">Symbol</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#monocle.internal;Internal210;RichContext.internal.changeOwner.global" title="scala.tools.nsc.Global">global</a>.<span title="global.ChangeOwnerTraverser">ChangeOwnerTraverser</span><span class="delimiter">(</span><a href="#monocle.internal;Internal210;RichContext.internal.changeOwner;ChangeOwnerAndModuleClassTraverser.oldOwner" title="global.Symbol">oldOwner</a>, <a href="#monocle.internal;Internal210;RichContext.internal.changeOwner;ChangeOwnerAndModuleClassTraverser.newOwner" title="global.Symbol">newOwner</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: global.Tree)Unit" id="monocle.internal;Internal210;RichContext.internal.changeOwner;ChangeOwnerAndModuleClassTraverser.traverse">traverse</a><span class="delimiter">(</span><a title="global.Tree" id="monocle.internal;Internal210;RichContext.internal.changeOwner;ChangeOwnerAndModuleClassTraverser.traverse.tree">tree</a>: global.<span title="global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#monocle.internal;Internal210;RichContext.internal.changeOwner;ChangeOwnerAndModuleClassTraverser.traverse.tree" title="global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> _: global.<span title="global.DefTree">DefTree</span> =&gt; <a href="#monocle.internal;Internal210;RichContext.internal.changeOwner;ChangeOwnerAndModuleClassTraverser" title="(sym: global.Symbol)Unit">change</a><span class="delimiter">(</span><a href="#monocle.internal;Internal210;RichContext.internal.changeOwner;ChangeOwnerAndModuleClassTraverser.traverse.tree" title="global.Tree">tree</a>.<span title="=&gt; global.Symbol">symbol</span>.<span title="=&gt; global.Symbol">moduleClass</span><span class="delimiter">)</span>
              <span class="keyword">case</span> _ =&gt;
            <span class="delimiter">}</span>
            <a href="#monocle.internal;Internal210;RichContext.internal.changeOwner;ChangeOwnerAndModuleClassTraverser" title="ChangeOwnerAndModuleClassTraverser" class="keyword">super</a>.<span title="(tree: global.Tree)Unit">traverse</span><span class="delimiter">(</span><a href="#monocle.internal;Internal210;RichContext.internal.changeOwner;ChangeOwnerAndModuleClassTraverser.traverse.tree" title="global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="ChangeOwnerAndModuleClassTraverser" id="monocle.internal;Internal210;RichContext.internal.changeOwner.traverser">traverser</a> = <span title="ChangeOwnerAndModuleClassTraverser" class="keyword">new</span> <a href="#monocle.internal;Internal210;RichContext.internal.changeOwner;ChangeOwnerAndModuleClassTraverser" title="ChangeOwnerAndModuleClassTraverser">ChangeOwnerAndModuleClassTraverser</a><span class="delimiter">(</span><a href="#monocle.internal;Internal210;RichContext.internal.changeOwner.oldOwner" title="Internal210.this.c.universe.Symbol">oldOwner</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="global.Symbol" class="delimiter">[</span>global.<span title="global.Symbol">Symbol</span><span class="delimiter">]</span>, <a href="#monocle.internal;Internal210;RichContext.internal.changeOwner.newOwner" title="Internal210.this.c.universe.Symbol">newOwner</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="global.Symbol" class="delimiter">[</span>global.<span title="global.Symbol">Symbol</span><span class="delimiter">]</span><span class="delimiter">)</span>
        <a href="#monocle.internal;Internal210;RichContext.internal.changeOwner.traverser" title="ChangeOwnerAndModuleClassTraverser">traverser</a>.<a href="#monocle.internal;Internal210;RichContext.internal.changeOwner;ChangeOwnerAndModuleClassTraverser.traverse" title="(tree: global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#monocle.internal;Internal210;RichContext.internal.changeOwner.tree" title="Internal210.this.c.universe.Tree">tree</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="global.Tree" class="delimiter">[</span>global.<span title="global.Tree">Tree</span><span class="delimiter">]</span><span class="delimiter">)</span>
        <a href="#monocle.internal;Internal210;RichContext.internal.changeOwner.tree" title="Internal210.this.c.universe.Tree">tree</a>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(sym: Internal210.this.c.universe.Symbol, rhs: Internal210.this.c.universe.Tree)Internal210.this.c.universe.ValDef" id="monocle.internal;Internal210;RichContext.internal.valDef">valDef</a><span class="delimiter">(</span><a title="Internal210.this.c.universe.Symbol" id="monocle.internal;Internal210;RichContext.internal.valDef.sym">sym</a>: <span title="Internal210.this.c.universe.Symbol">Symbol</span>, <a title="Internal210.this.c.universe.Tree" id="monocle.internal;Internal210;RichContext.internal.valDef.rhs">rhs</a>: <span title="Internal210.this.c.universe.Tree">Tree</span><span class="delimiter">)</span>: <span title="Internal210.this.c.universe.ValDef">ValDef</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="monocle.internal.Power.PowerContext" id="monocle.internal;Internal210;RichContext.internal.valDef.powerContext">powerContext</a> = <a href="#monocle.internal;Internal210.RichContext.c" title="=&gt; Internal210.this.c.type">c</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="monocle.internal.Power.PowerContext" class="delimiter">[</span><span title="monocle.internal.Power.PowerContext">PowerContext</span><span class="delimiter">]</span>
        <span class="keyword">val</span> <a title="scala.tools.nsc.Global" id="monocle.internal;Internal210;RichContext.internal.valDef.global">global</a> = <a href="#monocle.internal;Internal210;RichContext.internal.valDef.powerContext" title="monocle.internal.Power.PowerContext">powerContext</a>.<span title="=&gt; scala.tools.nsc.Global">universe</span>
        <a href="#monocle.internal;Internal210;RichContext.internal.valDef.global" title="scala.tools.nsc.Global">global</a>.<span title="(sym: global.Symbol, rhs: global.Tree)global.ValDef">ValDef</span><span class="delimiter">(</span><a href="#monocle.internal;Internal210;RichContext.internal.valDef.sym" title="Internal210.this.c.universe.Symbol">sym</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="global.Symbol" class="delimiter">[</span>global.<span title="global.Symbol">Symbol</span><span class="delimiter">]</span>, <a href="#monocle.internal;Internal210;RichContext.internal.valDef.rhs" title="Internal210.this.c.universe.Tree">rhs</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="global.Tree" class="delimiter">[</span>global.<span title="global.Tree">Tree</span><span class="delimiter">]</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Internal210.this.c.universe.ValDef" class="delimiter">[</span><span title="Internal210.this.c.universe.ValDef">ValDef</span><span class="delimiter">]</span>
      <span class="delimiter">}</span>
      <span class="keyword">trait</span> <a title="trait TypingTransformApi extends AnyRef" id="monocle.internal;Internal210;RichContext.internal;TypingTransformApi">TypingTransformApi</a> <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(tree: Internal210.this.c.universe.Tree)Internal210.this.c.universe.Tree" id="monocle.internal;Internal210;RichContext.internal;TypingTransformApi.default">default</a><span class="delimiter">(</span><a title="Internal210.this.c.universe.Tree" id="monocle.internal;Internal210;RichContext.internal;TypingTransformApi.default.tree">tree</a>: <span title="Internal210.this.c.universe.Tree">Tree</span><span class="delimiter">)</span>: <span title="Internal210.this.c.universe.Tree">Tree</span>
        <span class="keyword">def</span> <a title="(tree: Internal210.this.c.universe.Tree)Internal210.this.c.universe.Tree" id="monocle.internal;Internal210;RichContext.internal;TypingTransformApi.typecheck">typecheck</a><span class="delimiter">(</span><a title="Internal210.this.c.universe.Tree" id="monocle.internal;Internal210;RichContext.internal;TypingTransformApi.typecheck.tree">tree</a>: <span title="Internal210.this.c.universe.Tree">Tree</span><span class="delimiter">)</span>: <span title="Internal210.this.c.universe.Tree">Tree</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(tree: Internal210.this.c.universe.Tree)(transformer: (Internal210.this.c.universe.Tree, monocle.internal.Internal210.RichContext.internal.TypingTransformApi) =&gt; Internal210.this.c.universe.Tree)Internal210.this.c.universe.Tree" id="monocle.internal;Internal210;RichContext.internal.typingTransform">typingTransform</a><span class="delimiter">(</span><a title="Internal210.this.c.universe.Tree" id="monocle.internal;Internal210;RichContext.internal.typingTransform.tree">tree</a>: <span title="Internal210.this.c.universe.Tree">Tree</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="(Internal210.this.c.universe.Tree, monocle.internal.Internal210.RichContext.internal.TypingTransformApi) =&gt; Internal210.this.c.universe.Tree" id="monocle.internal;Internal210;RichContext.internal.typingTransform.transformer">transformer</a>: <span class="delimiter">(</span>Tree, TypingTransformApi<span class="delimiter">)</span> =&gt; Tree<span class="delimiter">)</span>: <span title="Internal210.this.c.universe.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="monocle.internal.Power.PowerContext" id="monocle.internal;Internal210;RichContext.internal.typingTransform.powerContext">powerContext</a> = <a href="#monocle.internal;Internal210.RichContext.c" title="=&gt; Internal210.this.c.type">c</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="monocle.internal.Power.PowerContext" class="delimiter">[</span><span title="monocle.internal.Power.PowerContext">PowerContext</span><span class="delimiter">]</span>
        <span class="keyword">val</span> <a title="scala.tools.nsc.Global" id="monocle.internal;Internal210;RichContext.internal.typingTransform.global">global</a> = <a href="#monocle.internal;Internal210;RichContext.internal.typingTransform.powerContext" title="monocle.internal.Power.PowerContext">powerContext</a>.<span title="=&gt; scala.tools.nsc.Global">universe</span>
        <span class="keyword">class</span> <a title="class MiniCake[G &lt;: scala.tools.nsc.Global] extends AnyRef with scala.tools.nsc.transform.TypingTransformers" id="monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake">MiniCake</a><span class="delimiter">[</span><a title=" &lt;: scala.tools.nsc.Global" id="monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;G">G</a> &lt;: scala.tools.nsc.Global<span class="delimiter">]</span><a href="#monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake" title="MiniCake[G]" class="delimiter">(</a><span class="keyword">val</span> <a title="G" id="monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake.global">global</a>: <a href="#monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;G" title="G">G</a><span class="delimiter">)</span> <span class="keyword">extends</span> scala.tools.nsc.transform.<span title="scala.tools.nsc.transform.TypingTransformers">TypingTransformers</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="MiniCake.this.global.analyzer.Typer" id="monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake.callsiteTyper">callsiteTyper</a> = <a href="#monocle.internal;Internal210;RichContext.internal.typingTransform.powerContext" title="monocle.internal.Power.PowerContext">powerContext</a>.<span title="=&gt; powerContext.universe.analyzer.Typer">callsiteTyper</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="MiniCake.this.global.analyzer.Typer" class="delimiter">[</span>global.analyzer.<span title="MiniCake.this.global.analyzer.Typer">Typer</span><span class="delimiter">]</span>
          <span class="keyword">class</span> <a title="class HofTypingTransformer extends MiniCake.this.TypingTransformer" id="monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;HofTypingTransformer">HofTypingTransformer</a><a href="#monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;HofTypingTransformer" title="MiniCake.this.HofTypingTransformer" class="delimiter">(</a><a title="(Internal210.this.c.universe.Tree, monocle.internal.Internal210.RichContext.internal.TypingTransformApi) =&gt; Internal210.this.c.universe.Tree" id="monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;HofTypingTransformer.hof">hof</a>: <span class="delimiter">(</span>Tree, TypingTransformApi<span class="delimiter">)</span> =&gt; Tree<span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake" title="MiniCake.this.TypingTransformer">TypingTransformer</a><span class="delimiter">(</span><a href="#monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake.callsiteTyper" title="=&gt; MiniCake.this.global.analyzer.Typer">callsiteTyper</a>.<span title="=&gt; MiniCake.this.global.analyzer.Context">context</span>.<span title="=&gt; MiniCake.this.global.analyzer.global.CompilationUnit">unit</span><span class="delimiter">)</span> <span class="delimiter">{</span> self =&gt;
            <a href="#monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;HofTypingTransformer" title="(x$1: MiniCake.this.global.Symbol)Unit">currentOwner</a> = <a href="#monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake.callsiteTyper" title="=&gt; MiniCake.this.global.analyzer.Typer">callsiteTyper</a>.<span title="=&gt; MiniCake.this.global.analyzer.Context">context</span>.<span title="=&gt; MiniCake.this.global.analyzer.global.Symbol">owner</span>
            <a href="#monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;HofTypingTransformer" title="(x$1: MiniCake.this.global.Tree)Unit">curTree</a> = <a href="#monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake.global" title="=&gt; G">global</a>.<span title="MiniCake.this.global.EmptyTree.type">EmptyTree</span>
            <a href="#monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;HofTypingTransformer" title="(x$1: MiniCake.this.global.analyzer.Typer)Unit">localTyper</a> = <a href="#monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake.global" title="=&gt; G">global</a>.<span title="=&gt; scala.tools.nsc.typechecker.Analyzer{val global: MiniCake.this.global.type}">analyzer</span>.<span title="(context: MiniCake.this.global.analyzer.Context)MiniCake.this.global.analyzer.Typer">newTyper</span><span class="delimiter">(</span><a href="#monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake.callsiteTyper" title="=&gt; MiniCake.this.global.analyzer.Typer">callsiteTyper</a>.<span title="=&gt; MiniCake.this.global.analyzer.Context">context</span>.<span title="(unit: MiniCake.this.global.analyzer.global.CompilationUnit)MiniCake.this.global.analyzer.Context">make</span><span class="delimiter">(</span>unit = <a href="#monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake.callsiteTyper" title="=&gt; MiniCake.this.global.analyzer.Typer">callsiteTyper</a>.<span title="=&gt; MiniCake.this.global.analyzer.Context">context</span>.<span title="=&gt; MiniCake.this.global.analyzer.global.CompilationUnit">unit</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="api extends AnyRef with monocle.internal.Internal210.RichContext.internal.TypingTransformApi" id="monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;HofTypingTransformer.api">api</a> = <a href="#monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;HofTypingTransformer.api;$anon" title="monocle.internal.Internal210.RichContext.internal.TypingTransformApi" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with monocle.internal.Internal210.RichContext.internal.TypingTransformApi" id="monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;HofTypingTransformer.api;$anon">TypingTransformApi</a> <span class="delimiter">{</span>
              <span class="keyword">def</span> <a title="(tree: Internal210.this.c.universe.Tree)Internal210.this.c.universe.Tree" id="monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;HofTypingTransformer.api;$anon.default">default</a><span class="delimiter">(</span><a title="Internal210.this.c.universe.Tree" id="monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;HofTypingTransformer.api;$anon.default.tree">tree</a>: <span title="Internal210.this.c.universe.Tree">Tree</span><span class="delimiter">)</span>: <span title="Internal210.this.c.universe.Tree">Tree</span> = <a href="#monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;HofTypingTransformer.superTransform" title="(tree: MiniCake.this.global.Tree)MiniCake.this.global.Tree">superTransform</a><span class="delimiter">(</span><a href="#monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;HofTypingTransformer.api;$anon.default.tree" title="Internal210.this.c.universe.Tree">tree</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="MiniCake.this.global.Tree" class="delimiter">[</span>global.<span title="MiniCake.this.global.Tree">Tree</span><span class="delimiter">]</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Internal210.this.c.universe.Tree" class="delimiter">[</span><span title="Internal210.this.c.universe.Tree">Tree</span><span class="delimiter">]</span>
              <span class="keyword">def</span> <a title="(tree: Internal210.this.c.universe.Tree)Internal210.this.c.universe.Tree" id="monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;HofTypingTransformer.api;$anon.typecheck">typecheck</a><span class="delimiter">(</span><a title="Internal210.this.c.universe.Tree" id="monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;HofTypingTransformer.api;$anon.typecheck.tree">tree</a>: <span title="Internal210.this.c.universe.Tree">Tree</span><span class="delimiter">)</span>: <span title="Internal210.this.c.universe.Tree">Tree</span> = <a href="#monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;HofTypingTransformer" title="=&gt; MiniCake.this.global.analyzer.Typer">localTyper</a>.<span title="(tree: MiniCake.this.global.analyzer.global.Tree)MiniCake.this.global.analyzer.global.Tree">typed</span><span class="delimiter">(</span><a href="#monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;HofTypingTransformer.api;$anon.typecheck.tree" title="Internal210.this.c.universe.Tree">tree</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="MiniCake.this.global.Tree" class="delimiter">[</span>global.<span title="MiniCake.this.global.Tree">Tree</span><span class="delimiter">]</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Internal210.this.c.universe.Tree" class="delimiter">[</span><span title="Internal210.this.c.universe.Tree">Tree</span><span class="delimiter">]</span>
            <span class="delimiter">}</span>
            <span class="keyword">def</span> <a title="(tree: MiniCake.this.global.Tree)MiniCake.this.global.Tree" id="monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;HofTypingTransformer.superTransform">superTransform</a><span class="delimiter">(</span><a title="MiniCake.this.global.Tree" id="monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;HofTypingTransformer.superTransform.tree">tree</a>: global.<span title="MiniCake.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;HofTypingTransformer" title="MiniCake.this.HofTypingTransformer" class="keyword">super</a>.<span title="(tree: MiniCake.this.global.Tree)MiniCake.this.global.Tree">transform</span><span class="delimiter">(</span><a href="#monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;HofTypingTransformer.superTransform.tree" title="MiniCake.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: MiniCake.this.global.Tree)MiniCake.this.global.Tree" id="monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;HofTypingTransformer.transform">transform</a><span class="delimiter">(</span><a title="MiniCake.this.global.Tree" id="monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;HofTypingTransformer.transform.tree">tree</a>: global.<span title="MiniCake.this.global.Tree">Tree</span><span class="delimiter">)</span>: global.<span title="MiniCake.this.global.Tree">Tree</span> = <a href="#monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;HofTypingTransformer.hof" title="(v1: Internal210.this.c.universe.Tree, v2: monocle.internal.Internal210.RichContext.internal.TypingTransformApi)Internal210.this.c.universe.Tree">hof</a><span class="delimiter">(</span><a href="#monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;HofTypingTransformer.transform.tree" title="MiniCake.this.global.Tree">tree</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Internal210.this.c.universe.Tree" class="delimiter">[</span><span title="Internal210.this.c.universe.Tree">Tree</span><span class="delimiter">]</span>, <a href="#monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;HofTypingTransformer.api" title="=&gt; monocle.internal.Internal210.RichContext.internal.TypingTransformApi">api</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="MiniCake.this.global.Tree" class="delimiter">[</span>global.<span title="MiniCake.this.global.Tree">Tree</span><span class="delimiter">]</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="MiniCake[global.type]" id="monocle.internal;Internal210;RichContext.internal.typingTransform.miniCake">miniCake</a> = <span title="MiniCake[global.type]" class="keyword">new</span> <a href="#monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake" title="MiniCake[global.type]">MiniCake</a><span class="delimiter">[</span>global.<span class="keyword">type</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#monocle.internal;Internal210;RichContext.internal.typingTransform.global" title="scala.tools.nsc.Global">global</a><span class="delimiter">)</span>
        <span title="miniCake.HofTypingTransformer" class="keyword">new</span> <a href="#monocle.internal;Internal210;RichContext.internal.typingTransform.miniCake" title="MiniCake[global.type]">miniCake</a>.<a href="#monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;HofTypingTransformer" title="miniCake.HofTypingTransformer">HofTypingTransformer</a><span class="delimiter">(</span><a href="#monocle.internal;Internal210;RichContext.internal.typingTransform.transformer" title="(Internal210.this.c.universe.Tree, monocle.internal.Internal210.RichContext.internal.TypingTransformApi) =&gt; Internal210.this.c.universe.Tree">transformer</a><span class="delimiter">)</span>.<a href="#monocle.internal;Internal210;RichContext.internal.typingTransform;MiniCake;HofTypingTransformer.transform" title="(tree: miniCake.global.Tree)miniCake.global.Tree">transform</a><span class="delimiter">(</span><a href="#monocle.internal;Internal210;RichContext.internal.typingTransform.tree" title="Internal210.this.c.universe.Tree">tree</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="global.Tree" class="delimiter">[</span>global.<span title="global.Tree">Tree</span><span class="delimiter">]</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Internal210.this.c.universe.Tree" class="delimiter">[</span><span title="Internal210.this.c.universe.Tree">Tree</span><span class="delimiter">]</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span title="AnyRef" class="delimiter">}</span>

  <span class="comment">// we can't use Symbol.setInfo in Scala 2.10 (doesn't exist yet) or Symbol.setTypeSignature in Scala 2.11 (has been removed)</span>
  <span class="comment">// therefore we need to settle on some sort of a middle ground</span>
  <span class="keyword">implicit</span> <span class="keyword">class</span> <a title="class RichSymbol extends AnyRef" id="monocle.internal;Internal210.RichSymbol">RichSymbol</a><a href="#monocle.internal;Internal210.RichSymbol" title="Internal210.this.RichSymbol" class="delimiter">(</a><span class="keyword">val</span> <a title="Internal210.this.c.universe.Symbol" id="monocle.internal;Internal210.RichSymbol.sym">sym</a>: self.c.universe.<span title="Internal210.this.c.universe.Symbol">Symbol</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(info: Internal210.this.c.universe.Type)Internal210.this.c.universe.Symbol" id="monocle.internal;Internal210;RichSymbol.setInfoCompat">setInfoCompat</a><span class="delimiter">(</span><a title="Internal210.this.c.universe.Type" id="monocle.internal;Internal210;RichSymbol.setInfoCompat.info">info</a>: <span title="Internal210.this.c.universe.Type">Type</span><span class="delimiter">)</span>: <span title="Internal210.this.c.universe.Symbol">Symbol</span> = <span class="delimiter">{</span>
      <span class="keyword">import</span> compat._
      <a href="#monocle.internal;Internal210.RichSymbol.sym" title="=&gt; Internal210.this.c.universe.Symbol">sym</a>.<span title="(tpe: Internal210.this.c.universe.Type)Internal210.this.c.universe.Symbol">setTypeSignature</span><span class="delimiter">(</span><a href="#monocle.internal;Internal210;RichSymbol.setInfoCompat.info" title="Internal210.this.c.universe.Type">info</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span title="AnyRef" class="delimiter">}</span>
        </pre>
    </body>
</html>
