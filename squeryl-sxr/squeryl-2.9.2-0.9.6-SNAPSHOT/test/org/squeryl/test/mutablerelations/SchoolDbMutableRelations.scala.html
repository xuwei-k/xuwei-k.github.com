<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>test/org/squeryl/test/mutablerelations/SchoolDbMutableRelations.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> org.squeryl.test.mutablerelations

<span class="keyword">import</span> org.squeryl.test.<a href="../PrimitiveTypeModeForTests.scala.html#8432" title="org.squeryl.test.PrimitiveTypeModeForTests.type">PrimitiveTypeModeForTests</a>._
<span class="keyword">import</span> org.squeryl._
<span class="keyword">import</span> org.squeryl.dsl.CompositeKey2

<span class="keyword">trait</span> <a title="trait SchoolDb2Object extends Object with org.squeryl.KeyedEntity[Long]" id="8567">SchoolDb2Object</a> <span title="Unit" class="keyword">extends</span> <a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#7126" title="org.squeryl.KeyedEntity[Long]">KeyedEntity</a><span class="delimiter">[</span>Long<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">val</span> <a title="Long" id="214982">id</a>: <span title="Long">Long</span> = <span title="Long(0L)" class="int">0</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class Professor extends Object with org.squeryl.test.mutablerelations.SchoolDb2Object" id="8568">Professor</a><a href="#8568" title="org.squeryl.test.mutablerelations.Professor" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="214994">lastName</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#8567" title="org.squeryl.test.mutablerelations.SchoolDb2Object">SchoolDb2Object</a> <span class="delimiter">{</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseAssignment]" id="214991">courses</a> = <a href="#8574" title="org.squeryl.test.mutablerelations.SchoolDb2.type">SchoolDb2</a>.<a href="#215004" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseAssignment]">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#38299" title="(leftSide: org.squeryl.test.mutablerelations.Professor)org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseAssignment]">leftStateful</a><span class="delimiter">(</span><a href="#8568" title="org.squeryl.test.mutablerelations.Professor" class="keyword">this</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class Course extends Object with org.squeryl.test.mutablerelations.SchoolDb2Object" id="8569">Course</a><a href="#8569" title="org.squeryl.test.mutablerelations.Course" class="delimiter">(</a><span class="keyword">val</span> <a title="Long" id="215983">subjectId</a>: <span title="Long">Long</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#8567" title="org.squeryl.test.mutablerelations.SchoolDb2Object">SchoolDb2Object</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="()org.squeryl.test.mutablerelations.Course" id="215249" class="keyword">this</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#8569" title="Course.this.type" class="keyword">this</a><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span><span class="delimiter">)</span>

  // Lets support the case where a course can have more than one professor
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.CourseAssignment]" id="215251">professors</a> = <a href="#8574" title="org.squeryl.test.mutablerelations.SchoolDb2.type">SchoolDb2</a>.<a href="#215004" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseAssignment]">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#38301" title="(rightSide: org.squeryl.test.mutablerelations.Course)org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.CourseAssignment]">rightStateful</a><span class="delimiter">(</span><a href="#8569" title="org.squeryl.test.mutablerelations.Course" class="keyword">this</a><span class="delimiter">)</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Student,org.squeryl.test.mutablerelations.CourseSubscription]" id="215253">students</a> = <a href="#8574" title="org.squeryl.test.mutablerelations.SchoolDb2.type">SchoolDb2</a>.<a href="#215006" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.Student,org.squeryl.test.mutablerelations.CourseSubscription]">courseSubscriptions</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#38299" title="(leftSide: org.squeryl.test.mutablerelations.Course)org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Student,org.squeryl.test.mutablerelations.CourseSubscription]">leftStateful</a><span class="delimiter">(</span><a href="#8569" title="org.squeryl.test.mutablerelations.Course" class="keyword">this</a><span class="delimiter">)</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.squeryl.dsl.StatefulManyToOne[org.squeryl.test.mutablerelations.Subject]" id="215255">subject</a> = <a href="#8574" title="org.squeryl.test.mutablerelations.SchoolDb2.type">SchoolDb2</a>.<a href="#215008" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.OneToManyRelationImpl[org.squeryl.test.mutablerelations.Subject,org.squeryl.test.mutablerelations.Course]">subjectToCourses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#38223" title="(rightSide: org.squeryl.test.mutablerelations.Course)org.squeryl.dsl.StatefulManyToOne[org.squeryl.test.mutablerelations.Subject]">rightStateful</a><span class="delimiter">(</span><a href="#8569" title="org.squeryl.test.mutablerelations.Course" class="keyword">this</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class Student extends Object with org.squeryl.test.mutablerelations.SchoolDb2Object" id="8570">Student</a><a href="#8570" title="org.squeryl.test.mutablerelations.Student" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="217298">firstName</a>: <span title="String">String</span>, <span class="keyword">val</span> <a title="String" id="217299">lastName</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#8567" title="org.squeryl.test.mutablerelations.SchoolDb2Object">SchoolDb2Object</a> <span class="delimiter">{</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseSubscription]" id="216047">courses</a> = <a href="#8574" title="org.squeryl.test.mutablerelations.SchoolDb2.type">SchoolDb2</a>.<a href="#215006" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.Student,org.squeryl.test.mutablerelations.CourseSubscription]">courseSubscriptions</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#38301" title="(rightSide: org.squeryl.test.mutablerelations.Student)org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseSubscription]">rightStateful</a><span class="delimiter">(</span><a href="#8570" title="org.squeryl.test.mutablerelations.Student" class="keyword">this</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class Subject extends Object with org.squeryl.test.mutablerelations.SchoolDb2Object" id="8571">Subject</a><a href="#8571" title="org.squeryl.test.mutablerelations.Subject" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="217303">name</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#8567" title="org.squeryl.test.mutablerelations.SchoolDb2Object">SchoolDb2Object</a> <span class="delimiter">{</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.squeryl.dsl.StatefulOneToMany[org.squeryl.test.mutablerelations.Course]" id="216791">courses</a> = <a href="#8574" title="org.squeryl.test.mutablerelations.SchoolDb2.type">SchoolDb2</a>.<a href="#215008" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.OneToManyRelationImpl[org.squeryl.test.mutablerelations.Subject,org.squeryl.test.mutablerelations.Course]">subjectToCourses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#38221" title="(leftSide: org.squeryl.test.mutablerelations.Subject)org.squeryl.dsl.StatefulOneToMany[org.squeryl.test.mutablerelations.Course]">leftStateful</a><span class="delimiter">(</span><a href="#8571" title="org.squeryl.test.mutablerelations.Subject" class="keyword">this</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class CourseSubscription extends Object with org.squeryl.KeyedEntity[org.squeryl.dsl.CompositeKey2[Long,Long]]" id="8572">CourseSubscription</a><a href="#8572" title="org.squeryl.test.mutablerelations.CourseSubscription" class="delimiter">(</a><span class="keyword">val</span> <a title="Long" id="217309">courseId</a>: <span title="Long">Long</span>, <span class="keyword">val</span> <a title="Long" id="217310">studentId</a>: <span title="Long">Long</span>, <span class="keyword">val</span> <a title="Float" id="217311">grade</a>: <span title="Float">Float</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#7126" title="org.squeryl.KeyedEntity[org.squeryl.dsl.CompositeKey2[Long,Long]]">KeyedEntity</a><span class="delimiter">[</span>CompositeKey2<span class="delimiter">[</span>Long,Long<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="=&gt; org.squeryl.dsl.CompositeKey2[Long,Long]" id="216499">id</a> = <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24782" title="(a1: Long, a2: Long)org.squeryl.dsl.CompositeKey2[Long,Long]">compositeKey</a><span class="delimiter">(</span><a href="#217309" title="=&gt; Long">courseId</a>, <a href="#217310" title="=&gt; Long">studentId</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class CourseAssignment extends Object with org.squeryl.KeyedEntity[org.squeryl.dsl.CompositeKey2[Long,Long]]" id="8573">CourseAssignment</a><a href="#8573" title="org.squeryl.test.mutablerelations.CourseAssignment" class="delimiter">(</a><span class="keyword">val</span> <a title="Long" id="217414">courseId</a>: <span title="Long">Long</span>, <span class="keyword">val</span> <a title="Long" id="217415">professorId</a>: <span title="Long">Long</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#7126" title="org.squeryl.KeyedEntity[org.squeryl.dsl.CompositeKey2[Long,Long]]">KeyedEntity</a><span class="delimiter">[</span>CompositeKey2<span class="delimiter">[</span>Long,Long<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="=&gt; org.squeryl.dsl.CompositeKey2[Long,Long]" id="215704">id</a> = <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24782" title="(a1: Long, a2: Long)org.squeryl.dsl.CompositeKey2[Long,Long]">compositeKey</a><span class="delimiter">(</span><a href="#217414" title="=&gt; Long">courseId</a>, <a href="#217415" title="=&gt; Long">professorId</a><span class="delimiter">)</span>
<span class="delimiter">}</span>


<span class="keyword">object</span> <a title="org.squeryl.test.mutablerelations.SchoolDb2.type" id="8574">SchoolDb2</a> <a href="#8575" title="org.squeryl.test.mutablerelations.SchoolDb2.type" class="keyword">extends</a> <a href="../../../../../main/org/squeryl/Schema.scala.html#7184" title="org.squeryl.Schema">Schema</a> <span class="delimiter">{</span>

  <span class="keyword">val</span> <a title="org.squeryl.Table[org.squeryl.test.mutablerelations.Professor]" id="214996">professors</a> = <a href="../../../../../main/org/squeryl/Schema.scala.html#24288" title="[T]()(implicit manifestT: scala.reflect.Manifest[T], implicit ked: org.squeryl.OptionalKeyedEntityDef[T, _])org.squeryl.Table[T]">table</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24517" title="()(implicit manifestT: scala.reflect.Manifest[org.squeryl.test.mutablerelations.Professor], implicit ked: org.squeryl.OptionalKeyedEntityDef[org.squeryl.test.mutablerelations.Professor, _])org.squeryl.Table[org.squeryl.test.mutablerelations.Professor]" class="delimiter">[</a><a href="#8568" title="org.squeryl.test.mutablerelations.Professor">Professor</a><span class="delimiter">]</span>

  <span class="keyword">val</span> <a title="org.squeryl.Table[org.squeryl.test.mutablerelations.Student]" id="214998">students</a> = <a href="../../../../../main/org/squeryl/Schema.scala.html#24288" title="[T]()(implicit manifestT: scala.reflect.Manifest[T], implicit ked: org.squeryl.OptionalKeyedEntityDef[T, _])org.squeryl.Table[T]">table</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24517" title="()(implicit manifestT: scala.reflect.Manifest[org.squeryl.test.mutablerelations.Student], implicit ked: org.squeryl.OptionalKeyedEntityDef[org.squeryl.test.mutablerelations.Student, _])org.squeryl.Table[org.squeryl.test.mutablerelations.Student]" class="delimiter">[</a><a href="#8570" title="org.squeryl.test.mutablerelations.Student">Student</a><span class="delimiter">]</span>

  <span class="keyword">val</span> <a title="org.squeryl.Table[org.squeryl.test.mutablerelations.Course]" id="215000">courses</a> = <a href="../../../../../main/org/squeryl/Schema.scala.html#24288" title="[T]()(implicit manifestT: scala.reflect.Manifest[T], implicit ked: org.squeryl.OptionalKeyedEntityDef[T, _])org.squeryl.Table[T]">table</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24517" title="()(implicit manifestT: scala.reflect.Manifest[org.squeryl.test.mutablerelations.Course], implicit ked: org.squeryl.OptionalKeyedEntityDef[org.squeryl.test.mutablerelations.Course, _])org.squeryl.Table[org.squeryl.test.mutablerelations.Course]" class="delimiter">[</a><a href="#8569" title="org.squeryl.test.mutablerelations.Course">Course</a><span class="delimiter">]</span>

  <span class="keyword">val</span> <a title="org.squeryl.Table[org.squeryl.test.mutablerelations.Subject]" id="215002">subjects</a> = <a href="../../../../../main/org/squeryl/Schema.scala.html#24288" title="[T]()(implicit manifestT: scala.reflect.Manifest[T], implicit ked: org.squeryl.OptionalKeyedEntityDef[T, _])org.squeryl.Table[T]">table</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24517" title="()(implicit manifestT: scala.reflect.Manifest[org.squeryl.test.mutablerelations.Subject], implicit ked: org.squeryl.OptionalKeyedEntityDef[org.squeryl.test.mutablerelations.Subject, _])org.squeryl.Table[org.squeryl.test.mutablerelations.Subject]" class="delimiter">[</a><a href="#8571" title="org.squeryl.test.mutablerelations.Subject">Subject</a><span class="delimiter">]</span>

  <span class="keyword">val</span> <a title="org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseAssignment]" id="215004">courseAssignments</a> =
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24752" title="(l: org.squeryl.Table[org.squeryl.test.mutablerelations.Professor], r: org.squeryl.Table[org.squeryl.test.mutablerelations.Course])(implicit kedL: org.squeryl.KeyedEntityDef[org.squeryl.test.mutablerelations.Professor, _], implicit kedR: org.squeryl.KeyedEntityDef[org.squeryl.test.mutablerelations.Course, _])org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationBuilder[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.Course]">manyToManyRelation</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24517" title="(implicit ev: &lt;:&lt;[org.squeryl.test.mutablerelations.Professor,org.squeryl.KeyedEntity[Long]], implicit m: Manifest[org.squeryl.test.mutablerelations.Professor])org.squeryl.KeyedEntityDef[org.squeryl.test.mutablerelations.Professor,Long]" class="delimiter">(</a><a href="#214996" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Professor]">professors</a>, <a href="#215000" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Course]">courses</a><span class="delimiter">)</span>.
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#76712" title="[A](f: (org.squeryl.test.mutablerelations.Professor, org.squeryl.test.mutablerelations.Course, A) =&gt; (org.squeryl.dsl.ast.EqualityExpression, org.squeryl.dsl.ast.EqualityExpression))(implicit manifestA: Manifest[A], implicit schema: org.squeryl.Schema, implicit kedA: org.squeryl.KeyedEntityDef[A, _])org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.Course,A]">via</a><span title="(f: (org.squeryl.test.mutablerelations.Professor, org.squeryl.test.mutablerelations.Course, org.squeryl.test.mutablerelations.CourseAssignment) =&gt; (org.squeryl.dsl.ast.EqualityExpression, org.squeryl.dsl.ast.EqualityExpression))(implicit manifestA: Manifest[org.squeryl.test.mutablerelations.CourseAssignment], implicit schema: org.squeryl.Schema, implicit kedA: org.squeryl.KeyedEntityDef[org.squeryl.test.mutablerelations.CourseAssignment, _])org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseAssignment]" class="delimiter">[</span><a href="#8573" title="org.squeryl.test.mutablerelations.CourseAssignment">CourseAssignment</a><span class="delimiter">]</span><a href="../../../../../main/org/squeryl/Schema.scala.html#24241" title="(clazz: Class[_])scala.reflect.Manifest[org.squeryl.test.mutablerelations.CourseAssignment]" class="delimiter">(</a><span class="delimiter">(</span><a title="org.squeryl.test.mutablerelations.Professor" id="215711">p</a>,<a title="org.squeryl.test.mutablerelations.Course" id="215712">c</a>,<a title="org.squeryl.test.mutablerelations.CourseAssignment" id="215713">a</a><span class="delimiter">)</span> =&gt; <span title="(_1: org.squeryl.dsl.ast.EqualityExpression, _2: org.squeryl.dsl.ast.EqualityExpression)(org.squeryl.dsl.ast.EqualityExpression, org.squeryl.dsl.ast.EqualityExpression)" class="delimiter">(</span><a href="#215713" title="org.squeryl.test.mutablerelations.CourseAssignment">a</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25039" title="implicit org.squeryl.PrimitiveTypeMode.longToTE : (f: Long)org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong]">professorId</a> <a href="../../../../../main/org/squeryl/dsl/TypedExpression.scala.html#31742" title="(b: org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong])(implicit ev: org.squeryl.dsl.CanCompare[org.squeryl.dsl.TLong,org.squeryl.dsl.TLong])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#215711" title="org.squeryl.test.mutablerelations.Professor">p</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25039" title="implicit org.squeryl.PrimitiveTypeMode.longToTE : (f: Long)org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong]">id</a>, <a href="#215713" title="org.squeryl.test.mutablerelations.CourseAssignment">a</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25039" title="implicit org.squeryl.PrimitiveTypeMode.longToTE : (f: Long)org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong]">courseId</a> <a href="../../../../../main/org/squeryl/dsl/TypedExpression.scala.html#31742" title="(b: org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong])(implicit ev: org.squeryl.dsl.CanCompare[org.squeryl.dsl.TLong,org.squeryl.dsl.TLong])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#215712" title="org.squeryl.test.mutablerelations.Course">c</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25039" title="implicit org.squeryl.PrimitiveTypeMode.longToTE : (f: Long)org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong]">id</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.Student,org.squeryl.test.mutablerelations.CourseSubscription]" id="215006">courseSubscriptions</a> =
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24752" title="(l: org.squeryl.Table[org.squeryl.test.mutablerelations.Course], r: org.squeryl.Table[org.squeryl.test.mutablerelations.Student])(implicit kedL: org.squeryl.KeyedEntityDef[org.squeryl.test.mutablerelations.Course, _], implicit kedR: org.squeryl.KeyedEntityDef[org.squeryl.test.mutablerelations.Student, _])org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationBuilder[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.Student]">manyToManyRelation</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24517" title="(implicit ev: &lt;:&lt;[org.squeryl.test.mutablerelations.Course,org.squeryl.KeyedEntity[Long]], implicit m: Manifest[org.squeryl.test.mutablerelations.Course])org.squeryl.KeyedEntityDef[org.squeryl.test.mutablerelations.Course,Long]" class="delimiter">(</a><a href="#215000" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Course]">courses</a>, <a href="#214998" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Student]">students</a><span class="delimiter">)</span>.
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#76712" title="[A](f: (org.squeryl.test.mutablerelations.Course, org.squeryl.test.mutablerelations.Student, A) =&gt; (org.squeryl.dsl.ast.EqualityExpression, org.squeryl.dsl.ast.EqualityExpression))(implicit manifestA: Manifest[A], implicit schema: org.squeryl.Schema, implicit kedA: org.squeryl.KeyedEntityDef[A, _])org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.Student,A]">via</a><span title="(f: (org.squeryl.test.mutablerelations.Course, org.squeryl.test.mutablerelations.Student, org.squeryl.test.mutablerelations.CourseSubscription) =&gt; (org.squeryl.dsl.ast.EqualityExpression, org.squeryl.dsl.ast.EqualityExpression))(implicit manifestA: Manifest[org.squeryl.test.mutablerelations.CourseSubscription], implicit schema: org.squeryl.Schema, implicit kedA: org.squeryl.KeyedEntityDef[org.squeryl.test.mutablerelations.CourseSubscription, _])org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.Student,org.squeryl.test.mutablerelations.CourseSubscription]" class="delimiter">[</span><a href="#8572" title="org.squeryl.test.mutablerelations.CourseSubscription">CourseSubscription</a><span class="delimiter">]</span><a href="../../../../../main/org/squeryl/Schema.scala.html#24241" title="(clazz: Class[_])scala.reflect.Manifest[org.squeryl.test.mutablerelations.CourseSubscription]" class="delimiter">(</a><span class="delimiter">(</span><a title="org.squeryl.test.mutablerelations.Course" id="216506">c</a>,<a title="org.squeryl.test.mutablerelations.Student" id="216507">s</a>,<a title="org.squeryl.test.mutablerelations.CourseSubscription" id="216508">cs</a><span class="delimiter">)</span> =&gt; <span title="(_1: org.squeryl.dsl.ast.EqualityExpression, _2: org.squeryl.dsl.ast.EqualityExpression)(org.squeryl.dsl.ast.EqualityExpression, org.squeryl.dsl.ast.EqualityExpression)" class="delimiter">(</span><a href="#216508" title="org.squeryl.test.mutablerelations.CourseSubscription">cs</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25039" title="implicit org.squeryl.PrimitiveTypeMode.longToTE : (f: Long)org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong]">studentId</a> <a href="../../../../../main/org/squeryl/dsl/TypedExpression.scala.html#31742" title="(b: org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong])(implicit ev: org.squeryl.dsl.CanCompare[org.squeryl.dsl.TLong,org.squeryl.dsl.TLong])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#216507" title="org.squeryl.test.mutablerelations.Student">s</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25039" title="implicit org.squeryl.PrimitiveTypeMode.longToTE : (f: Long)org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong]">id</a>, <a href="#216506" title="org.squeryl.test.mutablerelations.Course">c</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25039" title="implicit org.squeryl.PrimitiveTypeMode.longToTE : (f: Long)org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong]">id</a> <a href="../../../../../main/org/squeryl/dsl/TypedExpression.scala.html#31742" title="(b: org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong])(implicit ev: org.squeryl.dsl.CanCompare[org.squeryl.dsl.TLong,org.squeryl.dsl.TLong])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#216508" title="org.squeryl.test.mutablerelations.CourseSubscription">cs</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25039" title="implicit org.squeryl.PrimitiveTypeMode.longToTE : (f: Long)org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong]">courseId</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="org.squeryl.test.PrimitiveTypeModeForTests.OneToManyRelationImpl[org.squeryl.test.mutablerelations.Subject,org.squeryl.test.mutablerelations.Course]" id="215008">subjectToCourses</a> =
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24770" title="(ot: org.squeryl.Table[org.squeryl.test.mutablerelations.Subject], mt: org.squeryl.Table[org.squeryl.test.mutablerelations.Course])(implicit kedO: org.squeryl.KeyedEntityDef[org.squeryl.test.mutablerelations.Subject, _])org.squeryl.test.PrimitiveTypeModeForTests.OneToManyRelationBuilder[org.squeryl.test.mutablerelations.Subject,org.squeryl.test.mutablerelations.Course]">oneToManyRelation</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24517" title="(implicit ev: &lt;:&lt;[org.squeryl.test.mutablerelations.Subject,org.squeryl.KeyedEntity[Long]], implicit m: Manifest[org.squeryl.test.mutablerelations.Subject])org.squeryl.KeyedEntityDef[org.squeryl.test.mutablerelations.Subject,Long]" class="delimiter">(</a><a href="#215002" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Subject]">subjects</a>, <a href="#215000" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Course]">courses</a><span class="delimiter">)</span>.
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#78584" title="(f: (org.squeryl.test.mutablerelations.Subject, org.squeryl.test.mutablerelations.Course) =&gt; org.squeryl.dsl.ast.EqualityExpression)(implicit schema: org.squeryl.Schema, implicit kedM: org.squeryl.KeyedEntityDef[org.squeryl.test.mutablerelations.Course, _])org.squeryl.test.PrimitiveTypeModeForTests.OneToManyRelationImpl[org.squeryl.test.mutablerelations.Subject,org.squeryl.test.mutablerelations.Course]">via</a><a href="../../../../../main/org/squeryl/Schema.scala.html#24241" title="=&gt; org.squeryl.Schema" class="delimiter">(</a><span class="delimiter">(</span><a title="org.squeryl.test.mutablerelations.Subject" id="217110">s</a>,<a title="org.squeryl.test.mutablerelations.Course" id="217111">c</a><span class="delimiter">)</span> =&gt; <a href="#217111" title="org.squeryl.test.mutablerelations.Course">c</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25039" title="implicit org.squeryl.PrimitiveTypeMode.longToTE : (f: Long)org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong]">subjectId</a> <a href="../../../../../main/org/squeryl/dsl/TypedExpression.scala.html#31742" title="(b: org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong])(implicit ev: org.squeryl.dsl.CanCompare[org.squeryl.dsl.TLong,org.squeryl.dsl.TLong])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#217110" title="org.squeryl.test.mutablerelations.Subject">s</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25039" title="implicit org.squeryl.PrimitiveTypeMode.longToTE : (f: Long)org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong]">id</a><span class="delimiter">)</span>

  // the default constraint for all foreign keys in this schema :
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(foreignKeyDeclaration: org.squeryl.ForeignKeyDeclaration)Unit" id="215010">applyDefaultForeignKeyPolicy</a><span class="delimiter">(</span><a title="org.squeryl.ForeignKeyDeclaration" id="217516">foreignKeyDeclaration</a>: <a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#7139" title="org.squeryl.ForeignKeyDeclaration">ForeignKeyDeclaration</a><span class="delimiter">)</span> =
    <a href="#217516" title="org.squeryl.ForeignKeyDeclaration">foreignKeyDeclaration</a>.<a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#24218" title="()(implicit ev: org.squeryl.Schema)Unit">constrainReference</a>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Unit" id="215011">drop</a> = <span class="delimiter">{</span>
    <a href="../../../../../main/org/squeryl/Session.scala.html#7193" title="org.squeryl.Session.type">Session</a>.<a href="../../../../../main/org/squeryl/Session.scala.html#38069" title="=&gt; Unit">cleanupResources</a>
    <span class="keyword">super</span>.<a href="../../../../../main/org/squeryl/Schema.scala.html#24273" title="=&gt; Unit">drop</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">import</span> org.squeryl.framework._

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class SchoolDb2MetableRelations extends org.squeryl.framework.SchemaTester with org.squeryl.framework.QueryTester with org.squeryl.framework.RunTestsInsideTransaction" id="8577">SchoolDb2MetableRelations</a> <a href="#8577" title="org.squeryl.test.mutablerelations.SchoolDb2MetableRelations" class="keyword">extends</a> <a href="../../framework/SchemaTester.scala.html#8315" title="org.squeryl.framework.SchemaTester">SchemaTester</a> <span class="keyword">with</span> <a href="../../framework/QueryTester.scala.html#8297" title="org.squeryl.framework.QueryTester">QueryTester</a> <span class="keyword">with</span> <a href="../../framework/RunTestsInsideTransaction.scala.html#8306" title="org.squeryl.framework.RunTestsInsideTransaction">RunTestsInsideTransaction</a> <span class="delimiter">{</span>

  <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.SchoolDb2.type" id="118594">schema</a> = <a href="#8574" title="org.squeryl.test.mutablerelations.SchoolDb2.type">SchoolDb2</a>

  <span class="keyword">def</span> <a title="=&gt; Object{val professeurTournesol: org.squeryl.test.mutablerelations.Professor; val madProfessor: org.squeryl.test.mutablerelations.Professor; val philosophy: org.squeryl.test.mutablerelations.Subject; val chemistry: org.squeryl.test.mutablerelations.Subject; val physics: org.squeryl.test.mutablerelations.Subject; val computationTheory: org.squeryl.test.mutablerelations.Subject; val chemistryCourse: org.squeryl.test.mutablerelations.Course; val physicsCourse: org.squeryl.test.mutablerelations.Course}" id="118596">instance</a> = <a href="#217523" title="Object{val professeurTournesol: org.squeryl.test.mutablerelations.Professor; val madProfessor: org.squeryl.test.mutablerelations.Professor; val philosophy: org.squeryl.test.mutablerelations.Subject; val chemistry: org.squeryl.test.mutablerelations.Subject; val physics: org.squeryl.test.mutablerelations.Subject; val computationTheory: org.squeryl.test.mutablerelations.Subject; val chemistryCourse: org.squeryl.test.mutablerelations.Course; val physicsCourse: org.squeryl.test.mutablerelations.Course}" class="keyword">new</a> <a title="anonymous class $anon extends Object" id="217523" class="delimiter">{</a>

    <span class="keyword">import</span> <a href="#118594" title="=&gt; org.squeryl.test.mutablerelations.SchoolDb2.type">schema</a>._

    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Professor" id="217526">professeurTournesol</a> = <a href="#214996" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Professor]">professors</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#37997" title="(t: org.squeryl.test.mutablerelations.Professor)org.squeryl.test.mutablerelations.Professor">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.mutablerelations.Professor" class="keyword">new</span> <a href="#8568" title="org.squeryl.test.mutablerelations.Professor">Professor</a><span class="delimiter">(</span><span title="String(&quot;Tournesol&quot;)" class="string">&quot;Tournesol&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Professor" id="217528">madProfessor</a> = <a href="#214996" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Professor]">professors</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#37997" title="(t: org.squeryl.test.mutablerelations.Professor)org.squeryl.test.mutablerelations.Professor">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.mutablerelations.Professor" class="keyword">new</span> <a href="#8568" title="org.squeryl.test.mutablerelations.Professor">Professor</a><span class="delimiter">(</span><span title="String(&quot;Mad Professor&quot;)" class="string">&quot;Mad Professor&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Subject" id="217530">philosophy</a> = <a href="#215002" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Subject]">subjects</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#37997" title="(t: org.squeryl.test.mutablerelations.Subject)org.squeryl.test.mutablerelations.Subject">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.mutablerelations.Subject" class="keyword">new</span> <a href="#8571" title="org.squeryl.test.mutablerelations.Subject">Subject</a><span class="delimiter">(</span><span title="String(&quot;Philosophy&quot;)" class="string">&quot;Philosophy&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Subject" id="217532">chemistry</a> = <a href="#215002" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Subject]">subjects</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#37997" title="(t: org.squeryl.test.mutablerelations.Subject)org.squeryl.test.mutablerelations.Subject">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.mutablerelations.Subject" class="keyword">new</span> <a href="#8571" title="org.squeryl.test.mutablerelations.Subject">Subject</a><span class="delimiter">(</span><span title="String(&quot;Chemistry&quot;)" class="string">&quot;Chemistry&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Subject" id="217534">physics</a> = <a href="#215002" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Subject]">subjects</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#37997" title="(t: org.squeryl.test.mutablerelations.Subject)org.squeryl.test.mutablerelations.Subject">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.mutablerelations.Subject" class="keyword">new</span> <a href="#8571" title="org.squeryl.test.mutablerelations.Subject">Subject</a><span class="delimiter">(</span><span title="String(&quot;Physic&quot;)" class="string">&quot;Physic&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Subject" id="217536">computationTheory</a> = <a href="#215002" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Subject]">subjects</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#37997" title="(t: org.squeryl.test.mutablerelations.Subject)org.squeryl.test.mutablerelations.Subject">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.mutablerelations.Subject" class="keyword">new</span> <a href="#8571" title="org.squeryl.test.mutablerelations.Subject">Subject</a><span class="delimiter">(</span><span title="String(&quot;Computation Theory&quot;)" class="string">&quot;Computation Theory&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>


    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Course" id="217538">chemistryCourse</a> = <a href="#215000" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Course]">courses</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#37997" title="(t: org.squeryl.test.mutablerelations.Course)org.squeryl.test.mutablerelations.Course">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.mutablerelations.Course" class="keyword">new</span> <a href="#8569" title="org.squeryl.test.mutablerelations.Course">Course</a><span class="delimiter">(</span><a href="#217532" title="=&gt; org.squeryl.test.mutablerelations.Subject">chemistry</a>.<a href="#214982" title="=&gt; Long">id</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Course" id="217540">physicsCourse</a> = <a href="#215000" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Course]">courses</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#37997" title="(t: org.squeryl.test.mutablerelations.Course)org.squeryl.test.mutablerelations.Course">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.mutablerelations.Course" class="keyword">new</span> <a href="#8569" title="org.squeryl.test.mutablerelations.Course">Course</a><span class="delimiter">(</span><a href="#217534" title="=&gt; org.squeryl.test.mutablerelations.Subject">physics</a>.<a href="#214982" title="=&gt; Long">id</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>


  <a href="#8577" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a><span class="delimiter">(</span><span title="String(&quot;Many2ManyAssociationFromLeftSide&quot;)" class="string">&quot;Many2ManyAssociationFromLeftSide&quot;</span><span class="delimiter">)</span><span class="delimiter">{</span>

    <span class="keyword">import</span> <a href="#8574" title="org.squeryl.test.mutablerelations.SchoolDb2.type">SchoolDb2</a>._

    <span class="keyword">val</span> <a title="instance extends Object" id="217623">i</a> = <a href="#118596" title="=&gt; Object{val professeurTournesol: org.squeryl.test.mutablerelations.Professor; val madProfessor: org.squeryl.test.mutablerelations.Professor; val philosophy: org.squeryl.test.mutablerelations.Subject; val chemistry: org.squeryl.test.mutablerelations.Subject; val physics: org.squeryl.test.mutablerelations.Subject; val computationTheory: org.squeryl.test.mutablerelations.Subject; val chemistryCourse: org.squeryl.test.mutablerelations.Course; val physicsCourse: org.squeryl.test.mutablerelations.Course}">instance</a>
    <span class="keyword">import</span> <a href="#217623" title="instance extends Object">i</a>._

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span>, <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24729" title="(q: org.squeryl.Queryable[org.squeryl.test.mutablerelations.CourseAssignment])org.squeryl.test.PrimitiveTypeModeForTests.CountSubQueryableQuery">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24726" title="(sq: org.squeryl.test.PrimitiveTypeModeForTests.ScalarQuery[Long])Long">Count</a> : <span title="Long">Long</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationFromLeftSide</span><span class="delimiter">)</span>

    <a href="#217614" title="=&gt; org.squeryl.test.mutablerelations.Professor">professeurTournesol</a>.<a href="#214990" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseAssignment]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74814" title="(o: org.squeryl.test.mutablerelations.Course)org.squeryl.test.mutablerelations.CourseAssignment">associate</a><span class="delimiter">(</span><a href="#217621" title="=&gt; org.squeryl.test.mutablerelations.Course">physicsCourse</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Course" id="217625">c1</a> = <a href="#217614" title="=&gt; org.squeryl.test.mutablerelations.Professor">professeurTournesol</a>.<a href="#214990" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseAssignment]">courses</a>.<span title="=&gt; org.squeryl.test.mutablerelations.Course">head</span> : <a href="#8569" title="org.squeryl.test.mutablerelations.Course">Course</a>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#217625" title="org.squeryl.test.mutablerelations.Course">c1</a>.<a href="#214982" title="=&gt; Long">id</a>,  <a href="#217621" title="=&gt; org.squeryl.test.mutablerelations.Course">physicsCourse</a>.<a href="#214982" title="=&gt; Long">id</a>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationFromLeftSide</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.CourseAssignment" id="217626">ca</a> = <a href="#217614" title="=&gt; org.squeryl.test.mutablerelations.Professor">professeurTournesol</a>.<a href="#214990" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseAssignment]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74817" title="=&gt; Iterable[org.squeryl.test.mutablerelations.CourseAssignment]">associations</a>.<span title="=&gt; org.squeryl.test.mutablerelations.CourseAssignment">head</span> : <a href="#8573" title="org.squeryl.test.mutablerelations.CourseAssignment">CourseAssignment</a>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#217626" title="org.squeryl.test.mutablerelations.CourseAssignment">ca</a>.<a href="#217414" title="=&gt; Long">courseId</a>,  <a href="#217621" title="=&gt; org.squeryl.test.mutablerelations.Course">physicsCourse</a>.<a href="#214982" title="=&gt; Long">id</a>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationFromLeftSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Int, actual: Int, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#217614" title="=&gt; org.squeryl.test.mutablerelations.Professor">professeurTournesol</a>.<a href="#214990" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseAssignment]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74816" title="=&gt; Int">dissociateAll</a>, <span title="Int(1)" class="int">1</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationFromLeftSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Int, actual: Int, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#217614" title="=&gt; org.squeryl.test.mutablerelations.Professor">professeurTournesol</a>.<a href="#214990" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseAssignment]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74816" title="=&gt; Int">dissociateAll</a>, <span title="Int(0)" class="int">0</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationFromLeftSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span>, <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24729" title="(q: org.squeryl.Queryable[org.squeryl.test.mutablerelations.CourseAssignment])org.squeryl.test.PrimitiveTypeModeForTests.CountSubQueryableQuery">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24726" title="(sq: org.squeryl.test.PrimitiveTypeModeForTests.ScalarQuery[Long])Long">Count</a> : <span title="Long">Long</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationFromLeftSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118632" title="(s: Symbol)Unit">passed</a><span class="delimiter">(</span><span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationFromLeftSide</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <a href="#8577" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a><span class="delimiter">(</span><span title="String(&quot;Many2ManyAssociationFromRightSide&quot;)" class="string">&quot;Many2ManyAssociationFromRightSide&quot;</span><span class="delimiter">)</span><span class="delimiter">{</span>

    <span class="keyword">import</span> <a href="#8574" title="org.squeryl.test.mutablerelations.SchoolDb2.type">SchoolDb2</a>._
    <span class="keyword">val</span> <a title="instance extends Object" id="217847">i</a> = <a href="#118596" title="=&gt; Object{val professeurTournesol: org.squeryl.test.mutablerelations.Professor; val madProfessor: org.squeryl.test.mutablerelations.Professor; val philosophy: org.squeryl.test.mutablerelations.Subject; val chemistry: org.squeryl.test.mutablerelations.Subject; val physics: org.squeryl.test.mutablerelations.Subject; val computationTheory: org.squeryl.test.mutablerelations.Subject; val chemistryCourse: org.squeryl.test.mutablerelations.Course; val physicsCourse: org.squeryl.test.mutablerelations.Course}">instance</a>
    <span class="keyword">import</span> <a href="#217847" title="instance extends Object">i</a>._

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span>, <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24729" title="(q: org.squeryl.Queryable[org.squeryl.test.mutablerelations.CourseAssignment])org.squeryl.test.PrimitiveTypeModeForTests.CountSubQueryableQuery">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24726" title="(sq: org.squeryl.test.PrimitiveTypeModeForTests.ScalarQuery[Long])Long">Count</a> : <span title="Long">Long</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>

    <a href="#217621" title="=&gt; org.squeryl.test.mutablerelations.Course">physicsCourse</a>.<a href="#215250" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.CourseAssignment]">professors</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74814" title="(o: org.squeryl.test.mutablerelations.Professor)org.squeryl.test.mutablerelations.CourseAssignment">associate</a><span class="delimiter">(</span><a href="#217614" title="=&gt; org.squeryl.test.mutablerelations.Professor">professeurTournesol</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Professor" id="217849">profT</a> = <a href="#217621" title="=&gt; org.squeryl.test.mutablerelations.Course">physicsCourse</a>.<a href="#215250" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.CourseAssignment]">professors</a>.<span title="=&gt; org.squeryl.test.mutablerelations.Professor">head</span> : <a href="#8568" title="org.squeryl.test.mutablerelations.Professor">Professor</a>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: String, actual: String, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#217614" title="=&gt; org.squeryl.test.mutablerelations.Professor">professeurTournesol</a>.<a href="#214994" title="=&gt; String">lastName</a>, <a href="#217849" title="org.squeryl.test.mutablerelations.Professor">profT</a>.<a href="#214994" title="=&gt; String">lastName</a>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>

    <a href="#217614" title="=&gt; org.squeryl.test.mutablerelations.Professor">professeurTournesol</a>.<a href="#214990" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseAssignment]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74811" title="=&gt; Unit">refresh</a>

    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.CourseAssignment" id="217850">ca</a> = <a href="#217614" title="=&gt; org.squeryl.test.mutablerelations.Professor">professeurTournesol</a>.<a href="#214990" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseAssignment]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74817" title="=&gt; Iterable[org.squeryl.test.mutablerelations.CourseAssignment]">associations</a>.<span title="=&gt; org.squeryl.test.mutablerelations.CourseAssignment">head</span> : <a href="#8573" title="org.squeryl.test.mutablerelations.CourseAssignment">CourseAssignment</a>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#217850" title="org.squeryl.test.mutablerelations.CourseAssignment">ca</a>.<a href="#217414" title="=&gt; Long">courseId</a>,  <a href="#217621" title="=&gt; org.squeryl.test.mutablerelations.Course">physicsCourse</a>.<a href="#214982" title="=&gt; Long">id</a>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Int, actual: Int, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#217621" title="=&gt; org.squeryl.test.mutablerelations.Course">physicsCourse</a>.<a href="#215250" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.CourseAssignment]">professors</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74816" title="=&gt; Int">dissociateAll</a>, <span title="Int(1)" class="int">1</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Int, actual: Int, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#217621" title="=&gt; org.squeryl.test.mutablerelations.Course">physicsCourse</a>.<a href="#215250" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.CourseAssignment]">professors</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74816" title="=&gt; Int">dissociateAll</a>, <span title="Int(0)" class="int">0</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span>, <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24729" title="(q: org.squeryl.Queryable[org.squeryl.test.mutablerelations.CourseAssignment])org.squeryl.test.PrimitiveTypeModeForTests.CountSubQueryableQuery">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24726" title="(sq: org.squeryl.test.PrimitiveTypeModeForTests.ScalarQuery[Long])Long">Count</a> : <span title="Long">Long</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>

    // test dissociate :
    <a href="#217621" title="=&gt; org.squeryl.test.mutablerelations.Course">physicsCourse</a>.<a href="#215250" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.CourseAssignment]">professors</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74814" title="(o: org.squeryl.test.mutablerelations.Professor)org.squeryl.test.mutablerelations.CourseAssignment">associate</a><span class="delimiter">(</span><a href="#217614" title="=&gt; org.squeryl.test.mutablerelations.Professor">professeurTournesol</a><span class="delimiter">)</span>

    <a href="#217621" title="=&gt; org.squeryl.test.mutablerelations.Course">physicsCourse</a>.<a href="#215250" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.CourseAssignment]">professors</a>.<span title="=&gt; org.squeryl.test.mutablerelations.Professor">head</span> : <a href="#8568" title="org.squeryl.test.mutablerelations.Professor">Professor</a>

    <a href="#217614" title="=&gt; org.squeryl.test.mutablerelations.Professor">professeurTournesol</a>.<a href="#214990" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseAssignment]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74811" title="=&gt; Unit">refresh</a>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Boolean, actual: Boolean, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#217621" title="=&gt; org.squeryl.test.mutablerelations.Course">physicsCourse</a>.<a href="#215250" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.CourseAssignment]">professors</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74815" title="(o: org.squeryl.test.mutablerelations.Professor)Boolean">dissociate</a><span class="delimiter">(</span><a href="#217614" title="=&gt; org.squeryl.test.mutablerelations.Professor">professeurTournesol</a><span class="delimiter">)</span>, <span title="Boolean(true)" class="keyword">true</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>
    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Boolean, actual: Boolean, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#217621" title="=&gt; org.squeryl.test.mutablerelations.Course">physicsCourse</a>.<a href="#215250" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.CourseAssignment]">professors</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74815" title="(o: org.squeryl.test.mutablerelations.Professor)Boolean">dissociate</a><span class="delimiter">(</span><a href="#217614" title="=&gt; org.squeryl.test.mutablerelations.Professor">professeurTournesol</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118632" title="(s: Symbol)Unit">passed</a><span class="delimiter">(</span><span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <a href="#8577" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a><span class="delimiter">(</span><span title="String(&quot;OneToMany&quot;)" class="string">&quot;OneToMany&quot;</span><span class="delimiter">)</span><span class="delimiter">{</span>

    <span class="keyword">import</span> <a href="#8574" title="org.squeryl.test.mutablerelations.SchoolDb2.type">SchoolDb2</a>._
    <span class="keyword">val</span> <a title="instance extends Object" id="218123">i</a> = <a href="#118596" title="=&gt; Object{val professeurTournesol: org.squeryl.test.mutablerelations.Professor; val madProfessor: org.squeryl.test.mutablerelations.Professor; val philosophy: org.squeryl.test.mutablerelations.Subject; val chemistry: org.squeryl.test.mutablerelations.Subject; val physics: org.squeryl.test.mutablerelations.Subject; val computationTheory: org.squeryl.test.mutablerelations.Subject; val chemistryCourse: org.squeryl.test.mutablerelations.Course; val physicsCourse: org.squeryl.test.mutablerelations.Course}">instance</a>
    <span class="keyword">import</span> <a href="#218123" title="instance extends Object">i</a>._

    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Course" id="218125">philosophyCourse10AMWednesday</a> = <a href="#215249" title="()org.squeryl.test.mutablerelations.Course" class="keyword">new</a> <a href="#8569" title="org.squeryl.test.mutablerelations.Course">Course</a>
    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Course" id="218126">philosophyCourse2PMWednesday</a> = <a href="#215249" title="()org.squeryl.test.mutablerelations.Course" class="keyword">new</a> <a href="#8569" title="org.squeryl.test.mutablerelations.Course">Course</a>
    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Course" id="218127">philosophyCourse3PMFriday</a> = <a href="#215249" title="()org.squeryl.test.mutablerelations.Course" class="keyword">new</a> <a href="#8569" title="org.squeryl.test.mutablerelations.Course">Course</a>

    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Course" id="218128">c1</a> = <a href="#217616" title="=&gt; org.squeryl.test.mutablerelations.Subject">philosophy</a>.<a href="#216790" title="=&gt; org.squeryl.dsl.StatefulOneToMany[org.squeryl.test.mutablerelations.Course]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74678" title="(m: org.squeryl.test.mutablerelations.Course)org.squeryl.test.mutablerelations.Course">associate</a><span class="delimiter">(</span><a href="#218125" title="org.squeryl.test.mutablerelations.Course">philosophyCourse10AMWednesday</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Course" id="218129">c2</a> = <a href="#217616" title="=&gt; org.squeryl.test.mutablerelations.Subject">philosophy</a>.<a href="#216790" title="=&gt; org.squeryl.dsl.StatefulOneToMany[org.squeryl.test.mutablerelations.Course]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74678" title="(m: org.squeryl.test.mutablerelations.Course)org.squeryl.test.mutablerelations.Course">associate</a><span class="delimiter">(</span><a href="#218126" title="org.squeryl.test.mutablerelations.Course">philosophyCourse2PMWednesday</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Course" id="218130">c3</a> = <a href="#217616" title="=&gt; org.squeryl.test.mutablerelations.Subject">philosophy</a>.<a href="#216790" title="=&gt; org.squeryl.dsl.StatefulOneToMany[org.squeryl.test.mutablerelations.Course]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74678" title="(m: org.squeryl.test.mutablerelations.Course)org.squeryl.test.mutablerelations.Course">associate</a><span class="delimiter">(</span><a href="#218127" title="org.squeryl.test.mutablerelations.Course">philosophyCourse3PMFriday</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Course" id="218131">c4</a> = <a href="#217617" title="=&gt; org.squeryl.test.mutablerelations.Subject">chemistry</a>.<a href="#216790" title="=&gt; org.squeryl.dsl.StatefulOneToMany[org.squeryl.test.mutablerelations.Course]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74678" title="(m: org.squeryl.test.mutablerelations.Course)org.squeryl.test.mutablerelations.Course">associate</a><span class="delimiter">(</span><a href="#215249" title="()org.squeryl.test.mutablerelations.Course" class="keyword">new</a> <a href="#8569" title="org.squeryl.test.mutablerelations.Course">Course</a><span class="delimiter">)</span>


    <span class="keyword">val</span> <a title="org.squeryl.Query[org.squeryl.test.mutablerelations.Subject]" id="218132">s</a> = <a href="../../../../../main/org/squeryl/dsl/boilerplate/FromSignatures.scala.html#25268" title="(t1: org.squeryl.Queryable[org.squeryl.test.mutablerelations.Subject])(f: org.squeryl.test.mutablerelations.Subject =&gt; org.squeryl.dsl.QueryYield[org.squeryl.test.mutablerelations.Subject])org.squeryl.Query[org.squeryl.test.mutablerelations.Subject]">from</a><span class="delimiter">(</span><a href="#215002" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Subject]">subjects</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="org.squeryl.test.mutablerelations.Subject" id="218289">s0</a> =&gt;
      <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24552" title="(b: =&gt; org.squeryl.dsl.ast.LogicalBoolean)org.squeryl.dsl.fsm.WhereState[org.squeryl.dsl.fsm.Conditioned]">where</a><span class="delimiter">(</span><a href="#218289" title="org.squeryl.test.mutablerelations.Subject">s0</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25039" title="implicit org.squeryl.PrimitiveTypeMode.longToTE : (f: Long)org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong]">id</a> <a href="../../../../../main/org/squeryl/dsl/TypedExpression.scala.html#31875" title="(t: Traversable[Long])(implicit cc: org.squeryl.dsl.CanCompare[org.squeryl.dsl.TLong,Nothing])org.squeryl.dsl.ast.LogicalBoolean">notIn</a><span class="delimiter">(</span><span title="(elems: Long*)Seq[Long]">Seq</span><span class="delimiter">(</span><a href="#217619" title="=&gt; org.squeryl.test.mutablerelations.Subject">computationTheory</a>.<a href="#214982" title="=&gt; Long">id</a>, <a href="#217618" title="=&gt; org.squeryl.test.mutablerelations.Subject">physics</a>.<a href="#214982" title="=&gt; Long">id</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../../../../../main/org/squeryl/dsl/fsm/StartState.scala.html#24510" title="(yieldClosure: =&gt; org.squeryl.test.mutablerelations.Subject)org.squeryl.dsl.fsm.SelectState[org.squeryl.test.mutablerelations.Subject]">select</a><span class="delimiter">(</span><a href="#218289" title="org.squeryl.test.mutablerelations.Subject">s0</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>

    <span class="keyword">var</span> <a title="Int" id="218133">cnt</a> = <span title="Int(0)" class="int">0</span>

    <span class="keyword">for</span><span class="delimiter">(</span><a title="org.squeryl.test.mutablerelations.Subject" id="218488">s0</a> &lt;- <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24522" title="(f: org.squeryl.test.mutablerelations.Subject =&gt; Unit)Unit">s</a> <span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="218489">sCnt</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">for</span><span class="delimiter">(</span><a title="org.squeryl.test.mutablerelations.Course" id="218512">c</a> &lt;- <a href="#218488" title="org.squeryl.test.mutablerelations.Subject">s0</a>.<a href="#216790" title="(f: org.squeryl.test.mutablerelations.Course =&gt; Unit)Unit">courses</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#218133" title="Int">cnt</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        <a href="#218489" title="Int">sCnt</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#218488" title="org.squeryl.test.mutablerelations.Subject">s0</a>.<a href="#214982" title="=&gt; Long">id</a> <span title="(x: Long)Boolean">==</span> <a href="#217616" title="=&gt; org.squeryl.test.mutablerelations.Subject">philosophy</a>.<a href="#214982" title="=&gt; Long">id</a><span class="delimiter">)</span>
        <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Int, actual: Int, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Int(3)" class="int">3</span>, <a href="#218489" title="Int">sCnt</a>, <span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#218488" title="org.squeryl.test.mutablerelations.Subject">s0</a>.<a href="#214982" title="=&gt; Long">id</a> <span title="(x: Long)Boolean">==</span> <a href="#217617" title="=&gt; org.squeryl.test.mutablerelations.Subject">chemistry</a>.<a href="#214982" title="=&gt; Long">id</a><span class="delimiter">)</span>
        <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Int, actual: Int, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Int(2)" class="int">2</span>, <a href="#218489" title="Int">sCnt</a>, <span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>
      <span class="keyword">else</span>
        org.squeryl.internals.<a href="../../../../../main/org/squeryl/internals/Utils.scala.html#8187" title="org.squeryl.internals.Utils.type">Utils</a>.<a href="../../../../../main/org/squeryl/internals/Utils.scala.html#32420" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="String(&quot;unknown subject : &quot;)" class="string">&quot;unknown subject : &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#218488" title="org.squeryl.test.mutablerelations.Subject">s0</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Int, actual: Int, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Int(5)" class="int">5</span>, <a href="#218133" title="Int">cnt</a>, <span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: scala.collection.immutable.Set[Long], actual: scala.collection.immutable.Set[Long], s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span>
      <a href="#217616" title="=&gt; org.squeryl.test.mutablerelations.Subject">philosophy</a>.<a href="#216790" title="=&gt; org.squeryl.dsl.StatefulOneToMany[org.squeryl.test.mutablerelations.Course]">courses</a>.<span title="(f: org.squeryl.test.mutablerelations.Course =&gt; Long)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[org.squeryl.test.mutablerelations.Course],Long,Iterable[Long]])Iterable[Long]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,Long,Iterable[Long]]" class="delimiter">(</span><a href="#218664" title="org.squeryl.test.mutablerelations.Course">_</a>.<a href="#214982" title="=&gt; Long">id</a><span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[Long]">toSet</span>,
      <span title="(elems: Long*)scala.collection.immutable.Set[Long]">Set</span><span class="delimiter">(</span><a href="#218125" title="org.squeryl.test.mutablerelations.Course">philosophyCourse10AMWednesday</a>.<a href="#214982" title="=&gt; Long">id</a>, <a href="#218126" title="org.squeryl.test.mutablerelations.Course">philosophyCourse2PMWednesday</a>.<a href="#214982" title="=&gt; Long">id</a>, <a href="#218127" title="org.squeryl.test.mutablerelations.Course">philosophyCourse3PMFriday</a>.<a href="#214982" title="=&gt; Long">id</a><span class="delimiter">)</span>,
      <span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>

    // no need to refresh :
    //philosophyCourse2PMWednesday.subject.refresh
    // since the relation is lazy and we haven't touched it yet...

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: String, actual: String, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span>
      <a href="#218126" title="org.squeryl.test.mutablerelations.Course">philosophyCourse2PMWednesday</a>.<a href="#215254" title="=&gt; org.squeryl.dsl.StatefulManyToOne[org.squeryl.test.mutablerelations.Subject]">subject</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74710" title="=&gt; Option[org.squeryl.test.mutablerelations.Subject]">one</a>.<span title="=&gt; org.squeryl.test.mutablerelations.Subject">get</span>.<a href="#217303" title="=&gt; String">name</a>,
      <a href="#217616" title="=&gt; org.squeryl.test.mutablerelations.Subject">philosophy</a>.<a href="#217303" title="=&gt; String">name</a>,
      <span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>

    // verify that a reassociation does an update and not an insert :
    <span class="keyword">val</span> <a title="Long" id="218134">pk1</a> = <a href="#218127" title="org.squeryl.test.mutablerelations.Course">philosophyCourse3PMFriday</a>.<a href="#214982" title="=&gt; Long">id</a>

    <a href="#217619" title="=&gt; org.squeryl.test.mutablerelations.Subject">computationTheory</a>.<a href="#216790" title="=&gt; org.squeryl.dsl.StatefulOneToMany[org.squeryl.test.mutablerelations.Course]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74678" title="(m: org.squeryl.test.mutablerelations.Course)org.squeryl.test.mutablerelations.Course">associate</a><span class="delimiter">(</span><a href="#218127" title="org.squeryl.test.mutablerelations.Course">philosophyCourse3PMFriday</a><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span>
      <a href="#218134" title="Long">pk1</a>,
      <a href="#218127" title="org.squeryl.test.mutablerelations.Course">philosophyCourse3PMFriday</a>.<a href="#214982" title="=&gt; Long">id</a>,
      <span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>

    <a href="#217616" title="=&gt; org.squeryl.test.mutablerelations.Subject">philosophy</a>.<a href="#216790" title="=&gt; org.squeryl.dsl.StatefulOneToMany[org.squeryl.test.mutablerelations.Course]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74676" title="=&gt; Unit">refresh</a>

    // verify that the reassociation worked, which means that
    // 1) : the set of philosophy.courses was reduced properly
    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: scala.collection.immutable.Set[Long], actual: scala.collection.immutable.Set[Long], s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span>
      <a href="#217616" title="=&gt; org.squeryl.test.mutablerelations.Subject">philosophy</a>.<a href="#216790" title="=&gt; org.squeryl.dsl.StatefulOneToMany[org.squeryl.test.mutablerelations.Course]">courses</a>.<span title="(f: org.squeryl.test.mutablerelations.Course =&gt; Long)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[org.squeryl.test.mutablerelations.Course],Long,Iterable[Long]])Iterable[Long]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,Long,Iterable[Long]]" class="delimiter">(</span><a href="#218806" title="org.squeryl.test.mutablerelations.Course">_</a>.<a href="#214982" title="=&gt; Long">id</a><span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[Long]">toSet</span>,
      <span title="(elems: Long*)scala.collection.immutable.Set[Long]">Set</span><span class="delimiter">(</span><a href="#218125" title="org.squeryl.test.mutablerelations.Course">philosophyCourse10AMWednesday</a>.<a href="#214982" title="=&gt; Long">id</a>, <a href="#218126" title="org.squeryl.test.mutablerelations.Course">philosophyCourse2PMWednesday</a>.<a href="#214982" title="=&gt; Long">id</a><span class="delimiter">)</span>,
      <span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>

    // 2) philosophyCourse3PMFriday.subject points to the proper subject
    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: String, actual: String, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span>
      <a href="#217619" title="=&gt; org.squeryl.test.mutablerelations.Subject">computationTheory</a>.<a href="#217303" title="=&gt; String">name</a>,
      <a href="#218127" title="org.squeryl.test.mutablerelations.Course">philosophyCourse3PMFriday</a>.<a href="#215254" title="=&gt; org.squeryl.dsl.StatefulManyToOne[org.squeryl.test.mutablerelations.Subject]">subject</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74710" title="=&gt; Option[org.squeryl.test.mutablerelations.Subject]">one</a>.<span title="=&gt; org.squeryl.test.mutablerelations.Subject">get</span>.<a href="#217303" title="=&gt; String">name</a>,
      <span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118632" title="(s: Symbol)Unit">passed</a><span class="delimiter">(</span><span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>