<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>test/org/squeryl/test/schooldb2/SchoolDb2.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> org.squeryl.test.schooldb2

<span class="keyword">import</span> org.squeryl.test.<a href="../PrimitiveTypeModeForTests.scala.html#8432" title="org.squeryl.test.PrimitiveTypeModeForTests.type">PrimitiveTypeModeForTests</a>._
<span class="keyword">import</span> org.squeryl._
<span class="keyword">import</span> dsl.ast._
<span class="keyword">import</span> dsl.<span class="delimiter">{</span>OneToMany, CompositeKey2<span class="delimiter">}</span>
<span class="keyword">import</span> java.sql.<span class="delimiter">{</span>Savepoint<span class="delimiter">}</span>

<span class="keyword">import</span> org.squeryl.framework._

<span class="keyword">trait</span> <a title="trait SchoolDb2Object extends Object" id="8651">SchoolDb2Object</a> <span title="Unit" class="delimiter">{</span>
  <span class="keyword">val</span> <a title="Long" id="266792">id</a>: <span title="Long">Long</span> = <span title="Long(0L)" class="int">0</span>
<span class="delimiter">}</span>

<span title="Object" class="keyword">object</span> <a title="org.squeryl.test.schooldb2.SchoolDb2.type" id="8652">SchoolDb2</a> <a href="#8653" title="org.squeryl.test.schooldb2.SchoolDb2.type" class="keyword">extends</a> <a href="#8670" title="org.squeryl.test.schooldb2.SchoolDb2">SchoolDb2</a>

<span class="keyword">class</span> <a title="class Professor extends Object with org.squeryl.test.schooldb2.SchoolDb2Object" id="8655">Professor</a><a href="#8655" title="org.squeryl.test.schooldb2.Professor" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="266846">lastName</a>: <span title="String">String</span>, <span class="keyword">var</span> <a title="Option[Long]" id="266849">bossId</a>: <span title="Option[Long]">Option</span><span class="delimiter">[</span>Long<span class="delimiter">]</span>=<span title="None.type">None</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#8651" title="org.squeryl.test.schooldb2.SchoolDb2Object">SchoolDb2Object</a> <span class="delimiter">{</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ManyToManyRelationImpl extends org.squeryl.Query[org.squeryl.test.schooldb2.Course] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]" id="266841">courses</a> = <a href="#8652" title="org.squeryl.test.schooldb2.SchoolDb2.type">SchoolDb2</a>.<a href="#266812" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#76872" title="(leftSideMember: org.squeryl.test.schooldb2.Professor)org.squeryl.Query[org.squeryl.test.schooldb2.Course] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]">left</a><span class="delimiter">(</span><a href="#8655" title="org.squeryl.test.schooldb2.Professor" class="keyword">this</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class Course extends Object with org.squeryl.test.schooldb2.SchoolDb2Object" id="8657">Course</a><a href="#8657" title="org.squeryl.test.schooldb2.Course" class="delimiter">(</a><span class="keyword">val</span> <a title="Long" id="267747">subjectId</a>: <span title="Long">Long</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#8651" title="org.squeryl.test.schooldb2.SchoolDb2Object">SchoolDb2Object</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="()org.squeryl.test.schooldb2.Course" id="267070" class="keyword">this</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#8657" title="Course.this.type" class="keyword">this</a><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span><span class="delimiter">)</span>

  // Lets support the case where a course can have more than one professor
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ManyToManyRelationImpl extends org.squeryl.Query[org.squeryl.test.schooldb2.Professor] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.CourseAssignment]" id="267072">professors</a> = <a href="#8652" title="org.squeryl.test.schooldb2.SchoolDb2.type">SchoolDb2</a>.<a href="#266812" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#76873" title="(rightSideMember: org.squeryl.test.schooldb2.Course)org.squeryl.Query[org.squeryl.test.schooldb2.Professor] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.CourseAssignment]">right</a><span class="delimiter">(</span><a href="#8657" title="org.squeryl.test.schooldb2.Course" class="keyword">this</a><span class="delimiter">)</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ManyToManyRelationImpl extends org.squeryl.Query[org.squeryl.test.schooldb2.Student] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.CourseSubscription]" id="267074">students</a> = <a href="#8652" title="org.squeryl.test.schooldb2.SchoolDb2.type">SchoolDb2</a>.<a href="#266814" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.CourseSubscription]">courseSubscriptions</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#76872" title="(leftSideMember: org.squeryl.test.schooldb2.Course)org.squeryl.Query[org.squeryl.test.schooldb2.Student] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.CourseSubscription]">left</a><span class="delimiter">(</span><a href="#8657" title="org.squeryl.test.schooldb2.Course" class="keyword">this</a><span class="delimiter">)</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.squeryl.dsl.ManyToOne[org.squeryl.test.schooldb2.Subject]" id="267076">subject</a> = <a href="#8652" title="org.squeryl.test.schooldb2.SchoolDb2.type">SchoolDb2</a>.<a href="#266816" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.OneToManyRelationImpl[org.squeryl.test.schooldb2.Subject,org.squeryl.test.schooldb2.Course]">subjectToCourses</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#78628" title="(rightSide: org.squeryl.test.schooldb2.Course)org.squeryl.dsl.ManyToOne[org.squeryl.test.schooldb2.Subject]">right</a><span class="delimiter">(</span><a href="#8657" title="org.squeryl.test.schooldb2.Course" class="keyword">this</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class Student extends Object with org.squeryl.test.schooldb2.SchoolDb2Object" id="8658">Student</a><a href="#8658" title="org.squeryl.test.schooldb2.Student" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="268955">firstName</a>: <span title="String">String</span>, <span class="keyword">val</span> <a title="String" id="268956">lastName</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#8651" title="org.squeryl.test.schooldb2.SchoolDb2Object">SchoolDb2Object</a> <span class="delimiter">{</span>  
  
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ManyToManyRelationImpl extends org.squeryl.Query[org.squeryl.test.schooldb2.Course] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseSubscription]" id="267813">courses</a> = <a href="#8652" title="org.squeryl.test.schooldb2.SchoolDb2.type">SchoolDb2</a>.<a href="#266814" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.CourseSubscription]">courseSubscriptions</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#76873" title="(rightSideMember: org.squeryl.test.schooldb2.Student)org.squeryl.Query[org.squeryl.test.schooldb2.Course] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseSubscription]">right</a><span class="delimiter">(</span><a href="#8658" title="org.squeryl.test.schooldb2.Student" class="keyword">this</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; org.squeryl.dsl.CompositeKey2[String,String]" id="267814">fullName</a> = <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24782" title="(a1: String, a2: String)org.squeryl.dsl.CompositeKey2[String,String]">compositeKey</a><span class="delimiter">(</span><a href="#268955" title="=&gt; String">firstName</a>, <a href="#268956" title="=&gt; String">lastName</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class Subject extends Object with org.squeryl.test.schooldb2.SchoolDb2Object" id="8659">Subject</a><a href="#8659" title="org.squeryl.test.schooldb2.Subject" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="269062">name</a>: <span title="String">String</span>, <span class="keyword">val</span> <a title="Option[Long]" id="269063">parentSubjectId</a>: <span title="Option[Long]">Option</span><span class="delimiter">[</span>Long<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#8651" title="org.squeryl.test.schooldb2.SchoolDb2Object">SchoolDb2Object</a> <span class="delimiter">{</span>
  
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Course]" id="268504">courses</a> = <a href="#8652" title="org.squeryl.test.schooldb2.SchoolDb2.type">SchoolDb2</a>.<a href="#266816" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.OneToManyRelationImpl[org.squeryl.test.schooldb2.Subject,org.squeryl.test.schooldb2.Course]">subjectToCourses</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#78627" title="(leftSide: org.squeryl.test.schooldb2.Subject)org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Course]">left</a><span class="delimiter">(</span><a href="#8659" title="org.squeryl.test.schooldb2.Subject" class="keyword">this</a><span class="delimiter">)</span>
  
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Subject]" id="268506">childSubjects</a> = <a href="#8652" title="org.squeryl.test.schooldb2.SchoolDb2.type">SchoolDb2</a>.<a href="#266820" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.OneToManyRelationImpl[org.squeryl.test.schooldb2.Subject,org.squeryl.test.schooldb2.Subject]">subjectToParentSubject</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#78627" title="(leftSide: org.squeryl.test.schooldb2.Subject)org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Subject]">left</a><span class="delimiter">(</span><a href="#8659" title="org.squeryl.test.schooldb2.Subject" class="keyword">this</a><span class="delimiter">)</span>
  
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.squeryl.dsl.ManyToOne[org.squeryl.test.schooldb2.Subject]" id="268508">parentSubject</a> = <a href="#8652" title="org.squeryl.test.schooldb2.SchoolDb2.type">SchoolDb2</a>.<a href="#266820" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.OneToManyRelationImpl[org.squeryl.test.schooldb2.Subject,org.squeryl.test.schooldb2.Subject]">subjectToParentSubject</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#78628" title="(rightSide: org.squeryl.test.schooldb2.Subject)org.squeryl.dsl.ManyToOne[org.squeryl.test.schooldb2.Subject]">right</a><span class="delimiter">(</span><a href="#8659" title="org.squeryl.test.schooldb2.Subject" class="keyword">this</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class CourseSubscription extends Object with org.squeryl.KeyedEntity[org.squeryl.dsl.CompositeKey2[Long,Long]]" id="8660">CourseSubscription</a><a href="#8660" title="org.squeryl.test.schooldb2.CourseSubscription" class="delimiter">(</a><span class="keyword">val</span> <a title="Long" id="269401">courseId</a>: <span title="Long">Long</span>, <span class="keyword">val</span> <a title="Long" id="269402">studentId</a>: <span title="Long">Long</span>, <span class="keyword">var</span> <a title="Float" id="269403">grade</a>: <span title="Float">Float</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#7126" title="org.squeryl.KeyedEntity[org.squeryl.dsl.CompositeKey2[Long,Long]]">KeyedEntity</a><span class="delimiter">[</span>CompositeKey2<span class="delimiter">[</span>Long,Long<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="=&gt; org.squeryl.dsl.CompositeKey2[Long,Long]" id="268206">id</a> = <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24782" title="(a1: Long, a2: Long)org.squeryl.dsl.CompositeKey2[Long,Long]">compositeKey</a><span class="delimiter">(</span><a href="#269401" title="=&gt; Long">courseId</a>, <a href="#269402" title="=&gt; Long">studentId</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class CourseAssignment extends Object with org.squeryl.KeyedEntity[org.squeryl.dsl.CompositeKey2[Long,Long]]" id="8661">CourseAssignment</a><a href="#8661" title="org.squeryl.test.schooldb2.CourseAssignment" class="delimiter">(</a><span class="keyword">val</span> <a title="Long" id="269506">courseId</a>: <span title="Long">Long</span>, <span class="keyword">val</span> <a title="Long" id="269507">professorId</a>: <span title="Long">Long</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#7126" title="org.squeryl.KeyedEntity[org.squeryl.dsl.CompositeKey2[Long,Long]]">KeyedEntity</a><span class="delimiter">[</span>CompositeKey2<span class="delimiter">[</span>Long,Long<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="=&gt; org.squeryl.dsl.CompositeKey2[Long,Long]" id="267465">id</a> = <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24782" title="(a1: Long, a2: Long)org.squeryl.dsl.CompositeKey2[Long,Long]">compositeKey</a><span class="delimiter">(</span><a href="#269506" title="=&gt; Long">courseId</a>, <a href="#269507" title="=&gt; Long">professorId</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="class Entry extends Object with org.squeryl.KeyedEntity[Int] with Product with Serializable" id="276253">Entry</a><a href="#276253" title="Product" class="delimiter">(</a><a title="String" id="271865">text</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#7126" title="org.squeryl.KeyedEntity[Int]">KeyedEntity</a><span class="delimiter">[</span>Int<span class="delimiter">]</span> <span class="delimiter">{</span>
 <span class="keyword">val</span> <a title="Int" id="269611">id</a>:<span title="Int">Int</span> = <span title="Int(0)" class="int">0</span>
 // entryToComments is a one-to-many relation:
 <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Comment]" id="269614">comments</a>: <a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#7488" title="org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Comment]">OneToMany</a><span class="delimiter">[</span>Comment<span class="delimiter">]</span> = <a href="#8652" title="org.squeryl.test.schooldb2.SchoolDb2.type">SchoolDb2</a>.<a href="#266802" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.OneToManyRelationImpl[org.squeryl.test.schooldb2.Entry,org.squeryl.test.schooldb2.Comment]">entryToComments</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#78627" title="(leftSide: org.squeryl.test.schooldb2.Entry)org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Comment]">left</a><span class="delimiter">(</span><a href="#276253" title="org.squeryl.test.schooldb2.Entry" class="keyword">this</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="class Comment extends Object with org.squeryl.KeyedEntity[Int] with Product with Serializable" id="276286">Comment</a><a href="#276286" title="Product" class="delimiter">(</a><a title="String" id="271868">text</a>: <span title="String">String</span>, <a title="Int" id="271874">entryId</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span>, <a title="Int" id="271875">userId</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
   <span class="keyword">extends</span> <a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#7126" title="org.squeryl.KeyedEntity[Int]">KeyedEntity</a><span class="delimiter">[</span>Int<span class="delimiter">]</span> <span class="delimiter">{</span>
 <span class="keyword">val</span> <a title="Int" id="269836">id</a>:<span title="Int">Int</span> = <span title="Int(0)" class="int">0</span>
<span class="delimiter">}</span>



<span class="keyword">class</span> <a title="class ASTConstructionInterferenceA extends Object with org.squeryl.KeyedEntity[Long]" id="8668">ASTConstructionInterferenceA</a> <a href="#8668" title="org.squeryl.test.schooldb2.ASTConstructionInterferenceA" class="keyword">extends</a> <a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#7126" title="org.squeryl.KeyedEntity[Long]">KeyedEntity</a><span class="delimiter">[</span>Long<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">val</span> <a title="Long" id="270386">id</a>: <span title="Long">Long</span> = <span title="Long(0L)" class="int">0</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.ASTConstructionInterferenceB]" id="270389">bs</a> = <a href="#8652" title="org.squeryl.test.schooldb2.SchoolDb2.type">SchoolDb2</a>.<a href="#266828" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.OneToManyRelationImpl[org.squeryl.test.schooldb2.ASTConstructionInterferenceA,org.squeryl.test.schooldb2.ASTConstructionInterferenceB]">aToB</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#78627" title="(leftSide: org.squeryl.test.schooldb2.ASTConstructionInterferenceA)org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.ASTConstructionInterferenceB]">left</a><span class="delimiter">(</span><a href="#8668" title="org.squeryl.test.schooldb2.ASTConstructionInterferenceA" class="keyword">this</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class ASTConstructionInterferenceB extends Object with org.squeryl.KeyedEntity[Long]" id="8669">ASTConstructionInterferenceB</a><a href="#8669" title="org.squeryl.test.schooldb2.ASTConstructionInterferenceB" class="delimiter">(</a><span class="keyword">val</span> <a title="Long" id="271116">aId</a>: <span title="Long">Long</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#7126" title="org.squeryl.KeyedEntity[Long]">KeyedEntity</a><span class="delimiter">[</span>Long<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">val</span> <a title="Long" id="270598">id</a>: <span title="Long">Long</span> = <span title="Long(0L)" class="int">0</span>

  <span class="keyword">val</span> <a title="String" id="270600">field1</a> = <span title="String(&quot;abc&quot;)" class="string">&quot;abc&quot;</span>
  <span class="keyword">val</span> <a title="String" id="270602">field2</a> = <a href="#270600" title="=&gt; String">field1</a>
<span class="delimiter">}</span>



<span class="keyword">class</span> <a title="class SchoolDb2 extends org.squeryl.Schema" id="8670">SchoolDb2</a> <a href="#8670" title="org.squeryl.test.schooldb2.SchoolDb2" class="keyword">extends</a> <a href="../../../../../main/org/squeryl/Schema.scala.html#7184" title="org.squeryl.Schema">Schema</a> <span class="delimiter">{</span>

  <span class="keyword">implicit</span> <span class="keyword">object</span> <a title="SchoolDb2.this.schoolDbObjectKED.type" id="266796">schoolDbObjectKED</a> <a href="#266797" title="SchoolDb2.this.schoolDbObjectKED.type" class="keyword">extends</a> <a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#7120" title="org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.SchoolDb2Object,Long]">KeyedEntityDef</a><span class="delimiter">[</span>SchoolDb2Object,Long<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(a: org.squeryl.test.schooldb2.SchoolDb2Object)Long" id="266933">getId</a><span class="delimiter">(</span><a title="org.squeryl.test.schooldb2.SchoolDb2Object" id="271412">a</a>:<a href="#8651" title="org.squeryl.test.schooldb2.SchoolDb2Object">SchoolDb2Object</a><span class="delimiter">)</span> = <a href="#271412" title="org.squeryl.test.schooldb2.SchoolDb2Object">a</a>.<a href="#266792" title="=&gt; Long">id</a>
    <span class="keyword">def</span> <a title="(a: org.squeryl.test.schooldb2.SchoolDb2Object)Boolean" id="266934">isPersisted</a><span class="delimiter">(</span><a title="org.squeryl.test.schooldb2.SchoolDb2Object" id="271416">a</a>:<a href="#8651" title="org.squeryl.test.schooldb2.SchoolDb2Object">SchoolDb2Object</a><span class="delimiter">)</span> = <a href="#271416" title="org.squeryl.test.schooldb2.SchoolDb2Object">a</a>.<a href="#266792" title="=&gt; Long">id</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="266935">idPropertyName</a> = <span title="String(&quot;id&quot;)" class="string">&quot;id&quot;</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">val</span> <a title="org.squeryl.Table[org.squeryl.test.schooldb2.Entry]" id="266798">entries</a> = <a href="../../../../../main/org/squeryl/Schema.scala.html#24288" title="[T]()(implicit manifestT: scala.reflect.Manifest[T], implicit ked: org.squeryl.OptionalKeyedEntityDef[T, _])org.squeryl.Table[T]">table</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24517" title="()(implicit manifestT: scala.reflect.Manifest[org.squeryl.test.schooldb2.Entry], implicit ked: org.squeryl.OptionalKeyedEntityDef[org.squeryl.test.schooldb2.Entry, _])org.squeryl.Table[org.squeryl.test.schooldb2.Entry]" class="delimiter">[</a><a href="#276253" title="org.squeryl.test.schooldb2.Entry">Entry</a><span class="delimiter">]</span>
  <span class="keyword">val</span> <a title="org.squeryl.Table[org.squeryl.test.schooldb2.Comment]" id="266800">comments</a> = <a href="../../../../../main/org/squeryl/Schema.scala.html#24291" title="[T](name: String)(implicit manifestT: scala.reflect.Manifest[T], implicit ked: org.squeryl.OptionalKeyedEntityDef[T, _])org.squeryl.Table[T]">table</a><span title="(name: String)(implicit manifestT: scala.reflect.Manifest[org.squeryl.test.schooldb2.Comment], implicit ked: org.squeryl.OptionalKeyedEntityDef[org.squeryl.test.schooldb2.Comment, _])org.squeryl.Table[org.squeryl.test.schooldb2.Comment]" class="delimiter">[</span><a href="#276286" title="org.squeryl.test.schooldb2.Comment">Comment</a><span class="delimiter">]</span><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24517" title="(clazz: Class[_])scala.reflect.Manifest[org.squeryl.test.schooldb2.Comment]" class="delimiter">(</a><span title="String(&quot;commentz&quot;)" class="string">&quot;commentz&quot;</span><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="org.squeryl.test.PrimitiveTypeModeForTests.OneToManyRelationImpl[org.squeryl.test.schooldb2.Entry,org.squeryl.test.schooldb2.Comment]" id="266802">entryToComments</a> = <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24770" title="(ot: org.squeryl.Table[org.squeryl.test.schooldb2.Entry], mt: org.squeryl.Table[org.squeryl.test.schooldb2.Comment])(implicit kedO: org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.Entry, _])org.squeryl.test.PrimitiveTypeModeForTests.OneToManyRelationBuilder[org.squeryl.test.schooldb2.Entry,org.squeryl.test.schooldb2.Comment]">oneToManyRelation</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24517" title="(implicit ev: &lt;:&lt;[org.squeryl.test.schooldb2.Entry,org.squeryl.KeyedEntity[Int]], implicit m: Manifest[org.squeryl.test.schooldb2.Entry])org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.Entry,Int]" class="delimiter">(</a><a href="#266798" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Entry]">entries</a>, <a href="#266800" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Comment]">comments</a><span class="delimiter">)</span>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#78584" title="(f: (org.squeryl.test.schooldb2.Entry, org.squeryl.test.schooldb2.Comment) =&gt; org.squeryl.dsl.ast.EqualityExpression)(implicit schema: org.squeryl.Schema, implicit kedM: org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.Comment, _])org.squeryl.test.PrimitiveTypeModeForTests.OneToManyRelationImpl[org.squeryl.test.schooldb2.Entry,org.squeryl.test.schooldb2.Comment]">via</a><a href="../../../../../main/org/squeryl/Schema.scala.html#24241" title="=&gt; org.squeryl.Schema" class="delimiter">(</a>
    <span class="delimiter">(</span><a title="org.squeryl.test.schooldb2.Entry" id="270139">e</a>,<a title="org.squeryl.test.schooldb2.Comment" id="270140">c</a><span class="delimiter">)</span> =&gt; <a href="#270139" title="org.squeryl.test.schooldb2.Entry">e</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25037" title="implicit org.squeryl.PrimitiveTypeMode.intToTE : (f: Int)org.squeryl.dsl.TypedExpression[Int,org.squeryl.dsl.TInt]">id</a> <a href="../../../../../main/org/squeryl/dsl/TypedExpression.scala.html#31742" title="(b: org.squeryl.dsl.TypedExpression[Int,org.squeryl.dsl.TInt])(implicit ev: org.squeryl.dsl.CanCompare[org.squeryl.dsl.TInt,org.squeryl.dsl.TInt])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#270140" title="org.squeryl.test.schooldb2.Comment">c</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25037" title="implicit org.squeryl.PrimitiveTypeMode.intToTE : (f: Int)org.squeryl.dsl.TypedExpression[Int,org.squeryl.dsl.TInt]">entryId</a><span class="delimiter">)</span>
  
  <span class="keyword">val</span> <a title="org.squeryl.Table[org.squeryl.test.schooldb2.Professor]" id="266804">professors</a> = <a href="../../../../../main/org/squeryl/Schema.scala.html#24288" title="[T]()(implicit manifestT: scala.reflect.Manifest[T], implicit ked: org.squeryl.OptionalKeyedEntityDef[T, _])org.squeryl.Table[T]">table</a><a href="#266796" title="()(implicit manifestT: scala.reflect.Manifest[org.squeryl.test.schooldb2.Professor], implicit ked: org.squeryl.OptionalKeyedEntityDef[org.squeryl.test.schooldb2.Professor, _])org.squeryl.Table[org.squeryl.test.schooldb2.Professor]" class="delimiter">[</a><a href="#8655" title="org.squeryl.test.schooldb2.Professor">Professor</a><span class="delimiter">]</span>

  <span class="keyword">val</span> <a title="org.squeryl.Table[org.squeryl.test.schooldb2.Student]" id="266806">students</a> = <a href="../../../../../main/org/squeryl/Schema.scala.html#24288" title="[T]()(implicit manifestT: scala.reflect.Manifest[T], implicit ked: org.squeryl.OptionalKeyedEntityDef[T, _])org.squeryl.Table[T]">table</a><a href="#266796" title="()(implicit manifestT: scala.reflect.Manifest[org.squeryl.test.schooldb2.Student], implicit ked: org.squeryl.OptionalKeyedEntityDef[org.squeryl.test.schooldb2.Student, _])org.squeryl.Table[org.squeryl.test.schooldb2.Student]" class="delimiter">[</a><a href="#8658" title="org.squeryl.test.schooldb2.Student">Student</a><span class="delimiter">]</span>


  <a href="../../../../../main/org/squeryl/Schema.scala.html#24313" title="(table: org.squeryl.Table[org.squeryl.test.schooldb2.Student])(declarations: org.squeryl.test.schooldb2.Student =&gt; Seq[org.squeryl.dsl.ast.BaseColumnAttributeAssignment])Unit">on</a><span class="delimiter">(</span><a href="#266806" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Student]">students</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="org.squeryl.test.schooldb2.Student" id="271435">s</a> =&gt; <a href="../../../../../main/org/squeryl/Schema.scala.html#24310" title="(a: org.squeryl.dsl.ast.BaseColumnAttributeAssignment*)Seq[org.squeryl.dsl.ast.BaseColumnAttributeAssignment]">declare</a><span class="delimiter">(</span>
    <a href="#271435" title="org.squeryl.test.schooldb2.Student">s</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25017" title="implicit org.squeryl.PrimitiveTypeMode.stringToTE : (s: String)org.squeryl.dsl.TypedExpression[String,org.squeryl.dsl.TString]">firstName</a> <a href="../../../../../main/org/squeryl/dsl/TypedExpression.scala.html#31864" title="(columnAttributes: org.squeryl.internals.AttributeValidOnNumericalColumn*)(implicit restrictUsageWithinSchema: org.squeryl.Schema)org.squeryl.dsl.ast.ColumnAttributeAssignment">is</a><span class="delimiter">(</span><a href="../../../../../main/org/squeryl/Schema.scala.html#24322" title="=&gt; org.squeryl.internals.Indexed">indexed</a><span class="delimiter">)</span>,
    <a href="#271435" title="org.squeryl.test.schooldb2.Student">s</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25017" title="implicit org.squeryl.PrimitiveTypeMode.stringToTE : (s: String)org.squeryl.dsl.TypedExpression[String,org.squeryl.dsl.TString]">lastName</a> <a href="../../../../../main/org/squeryl/dsl/TypedExpression.scala.html#31892" title="(b: String)(implicit evidence$2: String =&gt; org.squeryl.dsl.TypedExpression[String,org.squeryl.dsl.TString])org.squeryl.dsl.ast.DefaultValueAssignment">defaultsTo</a><span class="delimiter">(</span><span title="String(&quot;!&quot;)" class="string">&quot;!&quot;</span><span class="delimiter">)</span>,
    <a href="#271435" title="org.squeryl.test.schooldb2.Student">s</a>.<a href="#267814" title="=&gt; org.squeryl.dsl.CompositeKey2[String,String]">fullName</a> <a href="../../../../../main/org/squeryl/dsl/CompositeKey.scala.html#33404" title="(attributes: org.squeryl.internals.AttributeValidOnMultipleColumn*)org.squeryl.dsl.ast.CompositeKeyAttributeAssignment">is</a><span class="delimiter">(</span><a href="../../../../../main/org/squeryl/Schema.scala.html#24318" title="=&gt; org.squeryl.internals.Unique">unique</a>, <a href="../../../../../main/org/squeryl/Schema.scala.html#24322" title="=&gt; org.squeryl.internals.Indexed">indexed</a><span class="delimiter">)</span>,
    <a href="../../../../../main/org/squeryl/Schema.scala.html#24330" title="(fieldList: org.squeryl.dsl.TypedExpression[_, _]*)SchoolDb2.this.ColGroupDeclaration">columns</a><span class="delimiter">(</span><a href="#271435" title="org.squeryl.test.schooldb2.Student">s</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25039" title="implicit org.squeryl.PrimitiveTypeMode.longToTE : (f: Long)org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong]">id</a>, <a href="#271435" title="org.squeryl.test.schooldb2.Student">s</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25017" title="implicit org.squeryl.PrimitiveTypeMode.stringToTE : (s: String)org.squeryl.dsl.TypedExpression[String,org.squeryl.dsl.TString]">firstName</a>, <a href="#271435" title="org.squeryl.test.schooldb2.Student">s</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25017" title="implicit org.squeryl.PrimitiveTypeMode.stringToTE : (s: String)org.squeryl.dsl.TypedExpression[String,org.squeryl.dsl.TString]">lastName</a><span class="delimiter">)</span> <a href="../../../../../main/org/squeryl/Schema.scala.html#56469" title="(columnAttributes: org.squeryl.internals.AttributeValidOnMultipleColumn*)org.squeryl.dsl.ast.ColumnGroupAttributeAssignment">are</a><span class="delimiter">(</span><a href="../../../../../main/org/squeryl/Schema.scala.html#24322" title="=&gt; org.squeryl.internals.Indexed">indexed</a><span class="delimiter">)</span>  
  <span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="org.squeryl.Table[org.squeryl.test.schooldb2.Course]" id="266808">courses</a> = <a href="../../../../../main/org/squeryl/Schema.scala.html#24288" title="[T]()(implicit manifestT: scala.reflect.Manifest[T], implicit ked: org.squeryl.OptionalKeyedEntityDef[T, _])org.squeryl.Table[T]">table</a><a href="#266796" title="()(implicit manifestT: scala.reflect.Manifest[org.squeryl.test.schooldb2.Course], implicit ked: org.squeryl.OptionalKeyedEntityDef[org.squeryl.test.schooldb2.Course, _])org.squeryl.Table[org.squeryl.test.schooldb2.Course]" class="delimiter">[</a><a href="#8657" title="org.squeryl.test.schooldb2.Course">Course</a><span class="delimiter">]</span>

  <span class="keyword">val</span> <a title="org.squeryl.Table[org.squeryl.test.schooldb2.Subject]" id="266810">subjects</a> = <a href="../../../../../main/org/squeryl/Schema.scala.html#24288" title="[T]()(implicit manifestT: scala.reflect.Manifest[T], implicit ked: org.squeryl.OptionalKeyedEntityDef[T, _])org.squeryl.Table[T]">table</a><a href="#266796" title="()(implicit manifestT: scala.reflect.Manifest[org.squeryl.test.schooldb2.Subject], implicit ked: org.squeryl.OptionalKeyedEntityDef[org.squeryl.test.schooldb2.Subject, _])org.squeryl.Table[org.squeryl.test.schooldb2.Subject]" class="delimiter">[</a><a href="#8659" title="org.squeryl.test.schooldb2.Subject">Subject</a><span class="delimiter">]</span>

  <span class="keyword">val</span> <a title="org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]" id="266812">courseAssignments</a> =
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24757" title="(l: org.squeryl.Table[org.squeryl.test.schooldb2.Professor], r: org.squeryl.Table[org.squeryl.test.schooldb2.Course], nameOfMiddleTable: String)(implicit kedL: org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.Professor, _], implicit kedR: org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.Course, _])org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationBuilder[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.Course]">manyToManyRelation</a><a href="#266796" title="SchoolDb2.this.schoolDbObjectKED.type" class="delimiter">(</a><a href="#266804" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Professor]">professors</a>, <a href="#266808" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Course]">courses</a>, <span title="String(&quot;CourseAssignmentZ&quot;)" class="string">&quot;CourseAssignmentZ&quot;</span><span class="delimiter">)</span>.
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#76712" title="[A](f: (org.squeryl.test.schooldb2.Professor, org.squeryl.test.schooldb2.Course, A) =&gt; (org.squeryl.dsl.ast.EqualityExpression, org.squeryl.dsl.ast.EqualityExpression))(implicit manifestA: Manifest[A], implicit schema: org.squeryl.Schema, implicit kedA: org.squeryl.KeyedEntityDef[A, _])org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.Course,A]">via</a><span title="(f: (org.squeryl.test.schooldb2.Professor, org.squeryl.test.schooldb2.Course, org.squeryl.test.schooldb2.CourseAssignment) =&gt; (org.squeryl.dsl.ast.EqualityExpression, org.squeryl.dsl.ast.EqualityExpression))(implicit manifestA: Manifest[org.squeryl.test.schooldb2.CourseAssignment], implicit schema: org.squeryl.Schema, implicit kedA: org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.CourseAssignment, _])org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]" class="delimiter">[</span><a href="#8661" title="org.squeryl.test.schooldb2.CourseAssignment">CourseAssignment</a><span class="delimiter">]</span><a href="../../../../../main/org/squeryl/Schema.scala.html#24241" title="(clazz: Class[_])scala.reflect.Manifest[org.squeryl.test.schooldb2.CourseAssignment]" class="delimiter">(</a><span class="delimiter">(</span><a title="org.squeryl.test.schooldb2.Professor" id="267472">p</a>,<a title="org.squeryl.test.schooldb2.Course" id="267473">c</a>,<a title="org.squeryl.test.schooldb2.CourseAssignment" id="267474">a</a><span class="delimiter">)</span> =&gt; <span title="(_1: org.squeryl.dsl.ast.EqualityExpression, _2: org.squeryl.dsl.ast.EqualityExpression)(org.squeryl.dsl.ast.EqualityExpression, org.squeryl.dsl.ast.EqualityExpression)" class="delimiter">(</span><a href="#267472" title="org.squeryl.test.schooldb2.Professor">p</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25039" title="implicit org.squeryl.PrimitiveTypeMode.longToTE : (f: Long)org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong]">id</a> <a href="../../../../../main/org/squeryl/dsl/TypedExpression.scala.html#31742" title="(b: org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong])(implicit ev: org.squeryl.dsl.CanCompare[org.squeryl.dsl.TLong,org.squeryl.dsl.TLong])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#267474" title="org.squeryl.test.schooldb2.CourseAssignment">a</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25039" title="implicit org.squeryl.PrimitiveTypeMode.longToTE : (f: Long)org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong]">professorId</a>, <a href="#267474" title="org.squeryl.test.schooldb2.CourseAssignment">a</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25039" title="implicit org.squeryl.PrimitiveTypeMode.longToTE : (f: Long)org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong]">courseId</a> <a href="../../../../../main/org/squeryl/dsl/TypedExpression.scala.html#31742" title="(b: org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong])(implicit ev: org.squeryl.dsl.CanCompare[org.squeryl.dsl.TLong,org.squeryl.dsl.TLong])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#267473" title="org.squeryl.test.schooldb2.Course">c</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25039" title="implicit org.squeryl.PrimitiveTypeMode.longToTE : (f: Long)org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong]">id</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.CourseSubscription]" id="266814">courseSubscriptions</a> =
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24752" title="(l: org.squeryl.Table[org.squeryl.test.schooldb2.Course], r: org.squeryl.Table[org.squeryl.test.schooldb2.Student])(implicit kedL: org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.Course, _], implicit kedR: org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.Student, _])org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationBuilder[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Student]">manyToManyRelation</a><a href="#266796" title="SchoolDb2.this.schoolDbObjectKED.type" class="delimiter">(</a><a href="#266808" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Course]">courses</a>, <a href="#266806" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Student]">students</a><span class="delimiter">)</span>.
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#76712" title="[A](f: (org.squeryl.test.schooldb2.Course, org.squeryl.test.schooldb2.Student, A) =&gt; (org.squeryl.dsl.ast.EqualityExpression, org.squeryl.dsl.ast.EqualityExpression))(implicit manifestA: Manifest[A], implicit schema: org.squeryl.Schema, implicit kedA: org.squeryl.KeyedEntityDef[A, _])org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Student,A]">via</a><span title="(f: (org.squeryl.test.schooldb2.Course, org.squeryl.test.schooldb2.Student, org.squeryl.test.schooldb2.CourseSubscription) =&gt; (org.squeryl.dsl.ast.EqualityExpression, org.squeryl.dsl.ast.EqualityExpression))(implicit manifestA: Manifest[org.squeryl.test.schooldb2.CourseSubscription], implicit schema: org.squeryl.Schema, implicit kedA: org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.CourseSubscription, _])org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.CourseSubscription]" class="delimiter">[</span><a href="#8660" title="org.squeryl.test.schooldb2.CourseSubscription">CourseSubscription</a><span class="delimiter">]</span><a href="../../../../../main/org/squeryl/Schema.scala.html#24241" title="(clazz: Class[_])scala.reflect.Manifest[org.squeryl.test.schooldb2.CourseSubscription]" class="delimiter">(</a><span class="delimiter">(</span><a title="org.squeryl.test.schooldb2.Course" id="268213">c</a>,<a title="org.squeryl.test.schooldb2.Student" id="268214">s</a>,<a title="org.squeryl.test.schooldb2.CourseSubscription" id="268215">cs</a><span class="delimiter">)</span> =&gt; <span title="(_1: org.squeryl.dsl.ast.EqualityExpression, _2: org.squeryl.dsl.ast.EqualityExpression)(org.squeryl.dsl.ast.EqualityExpression, org.squeryl.dsl.ast.EqualityExpression)" class="delimiter">(</span><a href="#268215" title="org.squeryl.test.schooldb2.CourseSubscription">cs</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25039" title="implicit org.squeryl.PrimitiveTypeMode.longToTE : (f: Long)org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong]">studentId</a> <a href="../../../../../main/org/squeryl/dsl/TypedExpression.scala.html#31742" title="(b: org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong])(implicit ev: org.squeryl.dsl.CanCompare[org.squeryl.dsl.TLong,org.squeryl.dsl.TLong])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#268214" title="org.squeryl.test.schooldb2.Student">s</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25039" title="implicit org.squeryl.PrimitiveTypeMode.longToTE : (f: Long)org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong]">id</a>, <a href="#268213" title="org.squeryl.test.schooldb2.Course">c</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25039" title="implicit org.squeryl.PrimitiveTypeMode.longToTE : (f: Long)org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong]">id</a> <a href="../../../../../main/org/squeryl/dsl/TypedExpression.scala.html#31742" title="(b: org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong])(implicit ev: org.squeryl.dsl.CanCompare[org.squeryl.dsl.TLong,org.squeryl.dsl.TLong])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#268215" title="org.squeryl.test.schooldb2.CourseSubscription">cs</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25039" title="implicit org.squeryl.PrimitiveTypeMode.longToTE : (f: Long)org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong]">courseId</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="org.squeryl.test.PrimitiveTypeModeForTests.OneToManyRelationImpl[org.squeryl.test.schooldb2.Subject,org.squeryl.test.schooldb2.Course]" id="266816">subjectToCourses</a> =
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24770" title="(ot: org.squeryl.Table[org.squeryl.test.schooldb2.Subject], mt: org.squeryl.Table[org.squeryl.test.schooldb2.Course])(implicit kedO: org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.Subject, _])org.squeryl.test.PrimitiveTypeModeForTests.OneToManyRelationBuilder[org.squeryl.test.schooldb2.Subject,org.squeryl.test.schooldb2.Course]">oneToManyRelation</a><a href="#266796" title="SchoolDb2.this.schoolDbObjectKED.type" class="delimiter">(</a><a href="#266810" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Subject]">subjects</a>, <a href="#266808" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Course]">courses</a><span class="delimiter">)</span>.
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#78584" title="(f: (org.squeryl.test.schooldb2.Subject, org.squeryl.test.schooldb2.Course) =&gt; org.squeryl.dsl.ast.EqualityExpression)(implicit schema: org.squeryl.Schema, implicit kedM: org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.Course, _])org.squeryl.test.PrimitiveTypeModeForTests.OneToManyRelationImpl[org.squeryl.test.schooldb2.Subject,org.squeryl.test.schooldb2.Course]">via</a><a href="../../../../../main/org/squeryl/Schema.scala.html#24241" title="=&gt; org.squeryl.Schema" class="delimiter">(</a><span class="delimiter">(</span><a title="org.squeryl.test.schooldb2.Subject" id="268785">s</a>,<a title="org.squeryl.test.schooldb2.Course" id="268786">c</a><span class="delimiter">)</span> =&gt; <a href="#268785" title="org.squeryl.test.schooldb2.Subject">s</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25039" title="implicit org.squeryl.PrimitiveTypeMode.longToTE : (f: Long)org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong]">id</a> <a href="../../../../../main/org/squeryl/dsl/TypedExpression.scala.html#31742" title="(b: org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong])(implicit ev: org.squeryl.dsl.CanCompare[org.squeryl.dsl.TLong,org.squeryl.dsl.TLong])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#268786" title="org.squeryl.test.schooldb2.Course">c</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25039" title="implicit org.squeryl.PrimitiveTypeMode.longToTE : (f: Long)org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong]">subjectId</a><span class="delimiter">)</span>
    
  <span class="keyword">val</span> <a title="org.squeryl.test.PrimitiveTypeModeForTests.OneToManyRelationImpl[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.Professor]" id="266818">bossToProfessors</a> =
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24770" title="(ot: org.squeryl.Table[org.squeryl.test.schooldb2.Professor], mt: org.squeryl.Table[org.squeryl.test.schooldb2.Professor])(implicit kedO: org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.Professor, _])org.squeryl.test.PrimitiveTypeModeForTests.OneToManyRelationBuilder[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.Professor]">oneToManyRelation</a><a href="#266796" title="SchoolDb2.this.schoolDbObjectKED.type" class="delimiter">(</a><a href="#266804" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Professor]">professors</a>, <a href="#266804" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Professor]">professors</a><span class="delimiter">)</span>.
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#78584" title="(f: (org.squeryl.test.schooldb2.Professor, org.squeryl.test.schooldb2.Professor) =&gt; org.squeryl.dsl.ast.EqualityExpression)(implicit schema: org.squeryl.Schema, implicit kedM: org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.Professor, _])org.squeryl.test.PrimitiveTypeModeForTests.OneToManyRelationImpl[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.Professor]">via</a><a href="../../../../../main/org/squeryl/Schema.scala.html#24241" title="=&gt; org.squeryl.Schema" class="delimiter">(</a><span class="delimiter">(</span><a title="org.squeryl.test.schooldb2.Professor" id="271241">boss</a>,<a title="org.squeryl.test.schooldb2.Professor" id="271242">p</a><span class="delimiter">)</span> =&gt; <a href="#271241" title="org.squeryl.test.schooldb2.Professor">boss</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25039" title="implicit org.squeryl.PrimitiveTypeMode.longToTE : (f: Long)org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong]">id</a> <a href="../../../../../main/org/squeryl/dsl/TypedExpression.scala.html#31742" title="(b: org.squeryl.dsl.TypedExpression[Option[Long],org.squeryl.dsl.TOptionLong])(implicit ev: org.squeryl.dsl.CanCompare[org.squeryl.dsl.TLong,org.squeryl.dsl.TOptionLong])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#271242" title="org.squeryl.test.schooldb2.Professor">p</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25040" title="implicit org.squeryl.PrimitiveTypeMode.optionLongToTE : (f: Option[Long])org.squeryl.dsl.TypedExpression[Option[Long],org.squeryl.dsl.TOptionLong]">bossId</a><span class="delimiter">)</span>

    
  <span class="keyword">val</span> <a title="org.squeryl.test.PrimitiveTypeModeForTests.OneToManyRelationImpl[org.squeryl.test.schooldb2.Subject,org.squeryl.test.schooldb2.Subject]" id="266820">subjectToParentSubject</a> =
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24770" title="(ot: org.squeryl.Table[org.squeryl.test.schooldb2.Subject], mt: org.squeryl.Table[org.squeryl.test.schooldb2.Subject])(implicit kedO: org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.Subject, _])org.squeryl.test.PrimitiveTypeModeForTests.OneToManyRelationBuilder[org.squeryl.test.schooldb2.Subject,org.squeryl.test.schooldb2.Subject]">oneToManyRelation</a><a href="#266796" title="SchoolDb2.this.schoolDbObjectKED.type" class="delimiter">(</a><a href="#266810" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Subject]">subjects</a>, <a href="#266810" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Subject]">subjects</a><span class="delimiter">)</span>.
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#78584" title="(f: (org.squeryl.test.schooldb2.Subject, org.squeryl.test.schooldb2.Subject) =&gt; org.squeryl.dsl.ast.EqualityExpression)(implicit schema: org.squeryl.Schema, implicit kedM: org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.Subject, _])org.squeryl.test.PrimitiveTypeModeForTests.OneToManyRelationImpl[org.squeryl.test.schooldb2.Subject,org.squeryl.test.schooldb2.Subject]">via</a><a href="../../../../../main/org/squeryl/Schema.scala.html#24241" title="=&gt; org.squeryl.Schema" class="delimiter">(</a><span class="delimiter">(</span><a title="org.squeryl.test.schooldb2.Subject" id="269189">subject</a>,<a title="org.squeryl.test.schooldb2.Subject" id="269190">childSubject</a><span class="delimiter">)</span> =&gt; <span title="(x: Long)Option[Long]">Option</span><a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25040" title="implicit org.squeryl.PrimitiveTypeMode.optionLongToTE : (f: Option[Long])org.squeryl.dsl.TypedExpression[Option[Long],org.squeryl.dsl.TOptionLong]" class="delimiter">(</a><a href="#269189" title="org.squeryl.test.schooldb2.Subject">subject</a>.<a href="#266792" title="=&gt; Long">id</a><span class="delimiter">)</span> <a href="../../../../../main/org/squeryl/dsl/TypedExpression.scala.html#31742" title="(b: org.squeryl.dsl.TypedExpression[Option[Long],org.squeryl.dsl.TOptionLong])(implicit ev: org.squeryl.dsl.CanCompare[org.squeryl.dsl.TOptionLong,org.squeryl.dsl.TOptionLong])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#269190" title="org.squeryl.test.schooldb2.Subject">childSubject</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25040" title="implicit org.squeryl.PrimitiveTypeMode.optionLongToTE : (f: Option[Long])org.squeryl.dsl.TypedExpression[Option[Long],org.squeryl.dsl.TOptionLong]">parentSubjectId</a><span class="delimiter">)</span>
 
    
  // the default constraint for all foreign keys in this schema :
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(foreignKeyDeclaration: org.squeryl.ForeignKeyDeclaration)Unit" id="266822">applyDefaultForeignKeyPolicy</a><span class="delimiter">(</span><a title="org.squeryl.ForeignKeyDeclaration" id="271723">foreignKeyDeclaration</a>: <a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#7139" title="org.squeryl.ForeignKeyDeclaration">ForeignKeyDeclaration</a><span class="delimiter">)</span> =
    <a href="#271723" title="org.squeryl.ForeignKeyDeclaration">foreignKeyDeclaration</a>.<a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#24218" title="()(implicit ev: org.squeryl.Schema)Unit">constrainReference</a>

  //now we will redefine some of the foreign key constraints :
  //if we delete a subject, we want all courses to be deleted
  <a href="#266816" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.OneToManyRelationImpl[org.squeryl.test.schooldb2.Subject,org.squeryl.test.schooldb2.Course]">subjectToCourses</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#78625" title="=&gt; org.squeryl.ForeignKeyDeclaration">foreignKeyDeclaration</a>.<a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#24219" title="(a1: org.squeryl.ReferentialAction)(implicit ev: org.squeryl.Schema)Unit">constrainReference</a><a href="../../../../../main/org/squeryl/Schema.scala.html#24241" title="=&gt; org.squeryl.Schema" class="delimiter">(</a><a href="../../../../../main/org/squeryl/Schema.scala.html#24302" title="=&gt; SchoolDb2.this.ReferentialEvent">onDelete</a> <a href="../../../../../main/org/squeryl/Schema.scala.html#52871" title="=&gt; SchoolDb2.this.ReferentialActionImpl">cascade</a><span class="delimiter">)</span>

  //when a course is deleted, all of the subscriptions will get deleted :
  <a href="#266814" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.CourseSubscription]">courseSubscriptions</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#76865" title="=&gt; org.squeryl.ForeignKeyDeclaration">leftForeignKeyDeclaration</a>.<a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#24219" title="(a1: org.squeryl.ReferentialAction)(implicit ev: org.squeryl.Schema)Unit">constrainReference</a><a href="../../../../../main/org/squeryl/Schema.scala.html#24241" title="=&gt; org.squeryl.Schema" class="delimiter">(</a><a href="../../../../../main/org/squeryl/Schema.scala.html#24302" title="=&gt; SchoolDb2.this.ReferentialEvent">onDelete</a> <a href="../../../../../main/org/squeryl/Schema.scala.html#52871" title="=&gt; SchoolDb2.this.ReferentialActionImpl">cascade</a><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Unit" id="266823">drop</a> = <span class="delimiter">{</span>
    <a href="../../../../../main/org/squeryl/Session.scala.html#7193" title="org.squeryl.Session.type">Session</a>.<a href="../../../../../main/org/squeryl/Session.scala.html#38069" title="=&gt; Unit">cleanupResources</a>
    <a href="#8670" title="org.squeryl.test.schooldb2.SchoolDb2" class="keyword">super</a>.<a href="../../../../../main/org/squeryl/Schema.scala.html#24273" title="=&gt; Unit">drop</a>
  <span class="delimiter">}</span>

  <span class="keyword">val</span> <a title="org.squeryl.Table[org.squeryl.test.schooldb2.ASTConstructionInterferenceA]" id="266824">as</a> = <a href="../../../../../main/org/squeryl/Schema.scala.html#24288" title="[T]()(implicit manifestT: scala.reflect.Manifest[T], implicit ked: org.squeryl.OptionalKeyedEntityDef[T, _])org.squeryl.Table[T]">table</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24517" title="()(implicit manifestT: scala.reflect.Manifest[org.squeryl.test.schooldb2.ASTConstructionInterferenceA], implicit ked: org.squeryl.OptionalKeyedEntityDef[org.squeryl.test.schooldb2.ASTConstructionInterferenceA, _])org.squeryl.Table[org.squeryl.test.schooldb2.ASTConstructionInterferenceA]" class="delimiter">[</a><a href="#8668" title="org.squeryl.test.schooldb2.ASTConstructionInterferenceA">ASTConstructionInterferenceA</a><span class="delimiter">]</span>
  <span class="keyword">val</span> <a title="org.squeryl.Table[org.squeryl.test.schooldb2.ASTConstructionInterferenceB]" id="266826">bs</a> = <a href="../../../../../main/org/squeryl/Schema.scala.html#24288" title="[T]()(implicit manifestT: scala.reflect.Manifest[T], implicit ked: org.squeryl.OptionalKeyedEntityDef[T, _])org.squeryl.Table[T]">table</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24517" title="()(implicit manifestT: scala.reflect.Manifest[org.squeryl.test.schooldb2.ASTConstructionInterferenceB], implicit ked: org.squeryl.OptionalKeyedEntityDef[org.squeryl.test.schooldb2.ASTConstructionInterferenceB, _])org.squeryl.Table[org.squeryl.test.schooldb2.ASTConstructionInterferenceB]" class="delimiter">[</a><a href="#8669" title="org.squeryl.test.schooldb2.ASTConstructionInterferenceB">ASTConstructionInterferenceB</a><span class="delimiter">]</span>

  <span class="keyword">val</span> <a title="org.squeryl.test.PrimitiveTypeModeForTests.OneToManyRelationImpl[org.squeryl.test.schooldb2.ASTConstructionInterferenceA,org.squeryl.test.schooldb2.ASTConstructionInterferenceB]" id="266828">aToB</a> =
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24770" title="(ot: org.squeryl.Table[org.squeryl.test.schooldb2.ASTConstructionInterferenceA], mt: org.squeryl.Table[org.squeryl.test.schooldb2.ASTConstructionInterferenceB])(implicit kedO: org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.ASTConstructionInterferenceA, _])org.squeryl.test.PrimitiveTypeModeForTests.OneToManyRelationBuilder[org.squeryl.test.schooldb2.ASTConstructionInterferenceA,org.squeryl.test.schooldb2.ASTConstructionInterferenceB]">oneToManyRelation</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24517" title="(implicit ev: &lt;:&lt;[org.squeryl.test.schooldb2.ASTConstructionInterferenceA,org.squeryl.KeyedEntity[Long]], implicit m: Manifest[org.squeryl.test.schooldb2.ASTConstructionInterferenceA])org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.ASTConstructionInterferenceA,Long]" class="delimiter">(</a><a href="#266824" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.ASTConstructionInterferenceA]">as</a>, <a href="#266826" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.ASTConstructionInterferenceB]">bs</a><span class="delimiter">)</span>.
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#78584" title="(f: (org.squeryl.test.schooldb2.ASTConstructionInterferenceA, org.squeryl.test.schooldb2.ASTConstructionInterferenceB) =&gt; org.squeryl.dsl.ast.EqualityExpression)(implicit schema: org.squeryl.Schema, implicit kedM: org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.ASTConstructionInterferenceB, _])org.squeryl.test.PrimitiveTypeModeForTests.OneToManyRelationImpl[org.squeryl.test.schooldb2.ASTConstructionInterferenceA,org.squeryl.test.schooldb2.ASTConstructionInterferenceB]">via</a><a href="../../../../../main/org/squeryl/Schema.scala.html#24241" title="=&gt; org.squeryl.Schema" class="delimiter">(</a><span class="delimiter">(</span><a title="org.squeryl.test.schooldb2.ASTConstructionInterferenceA" id="270924">a</a>, <a title="org.squeryl.test.schooldb2.ASTConstructionInterferenceB" id="270925">b</a><span class="delimiter">)</span> =&gt; <a href="#270924" title="org.squeryl.test.schooldb2.ASTConstructionInterferenceA">a</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25039" title="implicit org.squeryl.PrimitiveTypeMode.longToTE : (f: Long)org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong]">id</a> <a href="../../../../../main/org/squeryl/dsl/TypedExpression.scala.html#31742" title="(b: org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong])(implicit ev: org.squeryl.dsl.CanCompare[org.squeryl.dsl.TLong,org.squeryl.dsl.TLong])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#270925" title="org.squeryl.test.schooldb2.ASTConstructionInterferenceB">b</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25039" title="implicit org.squeryl.PrimitiveTypeMode.longToTE : (f: Long)org.squeryl.dsl.TypedExpression[Long,org.squeryl.dsl.TLong]">aId</a><span class="delimiter">)</span>

  <a href="#266828" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.OneToManyRelationImpl[org.squeryl.test.schooldb2.ASTConstructionInterferenceA,org.squeryl.test.schooldb2.ASTConstructionInterferenceB]">aToB</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#78625" title="=&gt; org.squeryl.ForeignKeyDeclaration">foreignKeyDeclaration</a>.<a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#24217" title="()(implicit ev: org.squeryl.Schema)Unit">unConstrainReference</a>
<span class="delimiter">}</span>

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class SchoolDb2Tests extends org.squeryl.framework.SchemaTester with org.squeryl.framework.RunTestsInsideTransaction with org.squeryl.framework.QueryTester" id="8671">SchoolDb2Tests</a> <a href="#8671" title="org.squeryl.test.schooldb2.SchoolDb2Tests" class="keyword">extends</a> <a href="../../framework/SchemaTester.scala.html#8315" title="org.squeryl.framework.SchemaTester">SchemaTester</a> <span class="keyword">with</span> <a href="../../framework/RunTestsInsideTransaction.scala.html#8306" title="org.squeryl.framework.RunTestsInsideTransaction">RunTestsInsideTransaction</a> <span class="keyword">with</span> <a href="../../framework/QueryTester.scala.html#8297" title="org.squeryl.framework.QueryTester">QueryTester</a> <span class="delimiter">{</span>

  <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.SchoolDb2" id="118640">schema</a> = <span title="org.squeryl.test.schooldb2.SchoolDb2" class="keyword">new</span> <a href="#8670" title="org.squeryl.test.schooldb2.SchoolDb2">SchoolDb2</a>
  
  <span class="keyword">import</span> <a href="#118640" title="=&gt; org.squeryl.test.schooldb2.SchoolDb2">schema</a>._

  <span class="keyword">def</span> <a title="=&gt; Object{val professeurTournesol: org.squeryl.test.schooldb2.Professor; val madProfessor: org.squeryl.test.schooldb2.Professor; val philosophy: org.squeryl.test.schooldb2.Subject; val chemistry: org.squeryl.test.schooldb2.Subject; val physics: org.squeryl.test.schooldb2.Subject; val computerScience: org.squeryl.test.schooldb2.Subject; val computationTheory: org.squeryl.test.schooldb2.Subject; val chemistryCourse: org.squeryl.test.schooldb2.Course; val physicsCourse: org.squeryl.test.schooldb2.Course; val xiaoJimbao: org.squeryl.test.schooldb2.Student}" id="118643">seedDataDef</a> = <a href="#271734" title="Object{val professeurTournesol: org.squeryl.test.schooldb2.Professor; val madProfessor: org.squeryl.test.schooldb2.Professor; val philosophy: org.squeryl.test.schooldb2.Subject; val chemistry: org.squeryl.test.schooldb2.Subject; val physics: org.squeryl.test.schooldb2.Subject; val computerScience: org.squeryl.test.schooldb2.Subject; val computationTheory: org.squeryl.test.schooldb2.Subject; val chemistryCourse: org.squeryl.test.schooldb2.Course; val physicsCourse: org.squeryl.test.schooldb2.Course; val xiaoJimbao: org.squeryl.test.schooldb2.Student}" class="keyword">new</a> <a title="anonymous class $anon extends Object" id="271734" class="delimiter">{</a>
    
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Professor" id="271736">professeurTournesol</a> = <a href="#266804" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Professor]">professors</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#37997" title="(t: org.squeryl.test.schooldb2.Professor)org.squeryl.test.schooldb2.Professor">insert</a><span class="delimiter">(</span><a href="#266849" title="org.squeryl.test.schooldb2.Professor" class="keyword">new</a> <a href="#8655" title="org.squeryl.test.schooldb2.Professor">Professor</a><span class="delimiter">(</span><span title="String(&quot;Tournesol&quot;)" class="string">&quot;Tournesol&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Professor" id="271738">madProfessor</a> = <a href="#266804" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Professor]">professors</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#37997" title="(t: org.squeryl.test.schooldb2.Professor)org.squeryl.test.schooldb2.Professor">insert</a><span class="delimiter">(</span><a href="#266849" title="org.squeryl.test.schooldb2.Professor" class="keyword">new</a> <a href="#8655" title="org.squeryl.test.schooldb2.Professor">Professor</a><span class="delimiter">(</span><span title="String(&quot;Mad Professor&quot;)" class="string">&quot;Mad Professor&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Subject" id="271740">philosophy</a> = <a href="#266810" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Subject]">subjects</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#37997" title="(t: org.squeryl.test.schooldb2.Subject)org.squeryl.test.schooldb2.Subject">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.schooldb2.Subject" class="keyword">new</span> <a href="#8659" title="org.squeryl.test.schooldb2.Subject">Subject</a><span class="delimiter">(</span><span title="String(&quot;Philosophy&quot;)" class="string">&quot;Philosophy&quot;</span>, <span title="None.type">None</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Subject" id="271742">chemistry</a> = <a href="#266810" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Subject]">subjects</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#37997" title="(t: org.squeryl.test.schooldb2.Subject)org.squeryl.test.schooldb2.Subject">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.schooldb2.Subject" class="keyword">new</span> <a href="#8659" title="org.squeryl.test.schooldb2.Subject">Subject</a><span class="delimiter">(</span><span title="String(&quot;Chemistry&quot;)" class="string">&quot;Chemistry&quot;</span>, <span title="None.type">None</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Subject" id="271744">physics</a> = <a href="#266810" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Subject]">subjects</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#37997" title="(t: org.squeryl.test.schooldb2.Subject)org.squeryl.test.schooldb2.Subject">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.schooldb2.Subject" class="keyword">new</span> <a href="#8659" title="org.squeryl.test.schooldb2.Subject">Subject</a><span class="delimiter">(</span><span title="String(&quot;Physic&quot;)" class="string">&quot;Physic&quot;</span>, <span title="None.type">None</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Subject" id="271746">computerScience</a> = <a href="#266810" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Subject]">subjects</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#37997" title="(t: org.squeryl.test.schooldb2.Subject)org.squeryl.test.schooldb2.Subject">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.schooldb2.Subject" class="keyword">new</span> <a href="#8659" title="org.squeryl.test.schooldb2.Subject">Subject</a><span class="delimiter">(</span><span title="String(&quot;Computer Science&quot;)" class="string">&quot;Computer Science&quot;</span>, <span title="None.type">None</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Subject" id="271748">computationTheory</a> = <a href="#266810" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Subject]">subjects</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#37997" title="(t: org.squeryl.test.schooldb2.Subject)org.squeryl.test.schooldb2.Subject">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.schooldb2.Subject" class="keyword">new</span> <a href="#8659" title="org.squeryl.test.schooldb2.Subject">Subject</a><span class="delimiter">(</span><span title="String(&quot;Computation Theory&quot;)" class="string">&quot;Computation Theory&quot;</span>, <span title="(x: Long)Some[Long]">Some</span><span class="delimiter">(</span><a href="#271746" title="=&gt; org.squeryl.test.schooldb2.Subject">computerScience</a>.<a href="#266792" title="=&gt; Long">id</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>


    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Course" id="271750">chemistryCourse</a> = <a href="#266808" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Course]">courses</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#37997" title="(t: org.squeryl.test.schooldb2.Course)org.squeryl.test.schooldb2.Course">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.schooldb2.Course" class="keyword">new</span> <a href="#8657" title="org.squeryl.test.schooldb2.Course">Course</a><span class="delimiter">(</span><a href="#271742" title="=&gt; org.squeryl.test.schooldb2.Subject">chemistry</a>.<a href="#266792" title="=&gt; Long">id</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Course" id="271752">physicsCourse</a> = <a href="#266808" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Course]">courses</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#37997" title="(t: org.squeryl.test.schooldb2.Course)org.squeryl.test.schooldb2.Course">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.schooldb2.Course" class="keyword">new</span> <a href="#8657" title="org.squeryl.test.schooldb2.Course">Course</a><span class="delimiter">(</span><a href="#271744" title="=&gt; org.squeryl.test.schooldb2.Subject">physics</a>.<a href="#266792" title="=&gt; Long">id</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Student" id="271754">xiaoJimbao</a> = <a href="#266806" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Student]">students</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#37997" title="(t: org.squeryl.test.schooldb2.Student)org.squeryl.test.schooldb2.Student">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.schooldb2.Student" class="keyword">new</span> <a href="#8658" title="org.squeryl.test.schooldb2.Student">Student</a><span class="delimiter">(</span><span title="String(&quot;Xiao&quot;)" class="string">&quot;Xiao&quot;</span>, <span title="String(&quot;Jimbao&quot;)" class="string">&quot;Jimbao&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>


//  def testAll = {
//
//    testInFromSeq
//    testInFromSet
//
//    testIssue68
//
//    val entry = entries.insert(Entry(&quot;An entry&quot;))
//    val comment = Comment(&quot;A single comment&quot;)
//    entry.comments.associate(comment)
//
//    from(entry.comments)(c =&gt; where(c.id === comment.id) select(c))
//
//    seedData
//
//    testUpdateWithCompositePK
//
//    testCompositeEquality
//
//    testMany2ManyAssociationFromLeftSide
//    testMany2ManyAssociationsFromRightSide
//
//    testOneToMany
//
//    testUniquenessConstraint
//
//    SchoolDb2.drop
//  }

  <a href="#8671" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a><span class="delimiter">(</span><span title="String(&quot;associate comment&quot;)" class="string">&quot;associate comment&quot;</span><span class="delimiter">)</span><span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Entry" id="271857">entry</a> = <a href="#266798" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Entry]">entries</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#37997" title="(t: org.squeryl.test.schooldb2.Entry)org.squeryl.test.schooldb2.Entry">insert</a><span class="delimiter">(</span><a href="#276253" title="(text: String)org.squeryl.test.schooldb2.Entry">Entry</a><span class="delimiter">(</span><span title="String(&quot;An entry&quot;)" class="string">&quot;An entry&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Comment" id="271858">comment</a> = <a href="#276286" title="(text: String, entryId: Int, userId: Int)org.squeryl.test.schooldb2.Comment">Comment</a><span class="delimiter">(</span><span title="String(&quot;A single comment&quot;)" class="string">&quot;A single comment&quot;</span><span class="delimiter">)</span>
    <a href="#271857" title="org.squeryl.test.schooldb2.Entry">entry</a>.<a href="#269613" title="=&gt; org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Comment]">comments</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74665" title="(m: org.squeryl.test.schooldb2.Comment)org.squeryl.test.schooldb2.Comment">associate</a><span class="delimiter">(</span><a href="#271858" title="org.squeryl.test.schooldb2.Comment">comment</a><span class="delimiter">)</span>

    <a href="../../../../../main/org/squeryl/dsl/boilerplate/FromSignatures.scala.html#25268" title="(t1: org.squeryl.Queryable[org.squeryl.test.schooldb2.Comment])(f: org.squeryl.test.schooldb2.Comment =&gt; org.squeryl.dsl.QueryYield[org.squeryl.test.schooldb2.Comment])org.squeryl.Query[org.squeryl.test.schooldb2.Comment]">from</a><span class="delimiter">(</span><a href="#271857" title="org.squeryl.test.schooldb2.Entry">entry</a>.<a href="#269613" title="=&gt; org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Comment]">comments</a><span class="delimiter">)</span><span title="Unit" class="delimiter">(</span><a title="org.squeryl.test.schooldb2.Comment" id="272024">c</a> =&gt; <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24552" title="(b: =&gt; org.squeryl.dsl.ast.LogicalBoolean)org.squeryl.dsl.fsm.WhereState[org.squeryl.dsl.fsm.Conditioned]">where</a><span class="delimiter">(</span><a href="#272024" title="org.squeryl.test.schooldb2.Comment">c</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25037" title="implicit org.squeryl.PrimitiveTypeMode.intToTE : (f: Int)org.squeryl.dsl.TypedExpression[Int,org.squeryl.dsl.TInt]">id</a> <a href="../../../../../main/org/squeryl/dsl/TypedExpression.scala.html#31742" title="(b: org.squeryl.dsl.TypedExpression[Int,org.squeryl.dsl.TInt])(implicit ev: org.squeryl.dsl.CanCompare[org.squeryl.dsl.TInt,org.squeryl.dsl.TInt])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#271858" title="org.squeryl.test.schooldb2.Comment">comment</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25037" title="implicit org.squeryl.PrimitiveTypeMode.intToTE : (f: Int)org.squeryl.dsl.TypedExpression[Int,org.squeryl.dsl.TInt]">id</a><span class="delimiter">)</span> <a href="../../../../../main/org/squeryl/dsl/fsm/StartState.scala.html#24510" title="(yieldClosure: =&gt; org.squeryl.test.schooldb2.Comment)org.squeryl.dsl.fsm.SelectState[org.squeryl.test.schooldb2.Comment]">select</a><span class="delimiter">(</span><a href="#272024" title="org.squeryl.test.schooldb2.Comment">c</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <a href="#8671" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a><span class="delimiter">(</span><span title="String(&quot;UpdateWithCompositePK&quot;)" class="string">&quot;UpdateWithCompositePK&quot;</span><span class="delimiter">)</span><span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="seedDataDef extends Object" id="272144">seedData</a> = <a href="#118643" title="=&gt; Object{val professeurTournesol: org.squeryl.test.schooldb2.Professor; val madProfessor: org.squeryl.test.schooldb2.Professor; val philosophy: org.squeryl.test.schooldb2.Subject; val chemistry: org.squeryl.test.schooldb2.Subject; val physics: org.squeryl.test.schooldb2.Subject; val computerScience: org.squeryl.test.schooldb2.Subject; val computationTheory: org.squeryl.test.schooldb2.Subject; val chemistryCourse: org.squeryl.test.schooldb2.Course; val physicsCourse: org.squeryl.test.schooldb2.Course; val xiaoJimbao: org.squeryl.test.schooldb2.Student}">seedDataDef</a>
    <span class="keyword">import</span> <a href="#272144" title="seedDataDef extends Object">seedData</a>._

    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Student" id="272146">xiao</a> = <span class="delimiter">{</span><a href="#266806" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Student]">students</a>.<a href="../../../../../main/org/squeryl/View.scala.html#37977" title="(k: Long)(implicit ked: org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.Student,Long], implicit dsl: org.squeryl.dsl.QueryDsl)Option[org.squeryl.test.schooldb2.Student]">lookup</a><a href="#266796" title="SchoolDb2Tests.this.schema.schoolDbObjectKED.type" class="delimiter">(</a><a href="#271856" title="=&gt; org.squeryl.test.schooldb2.Student">xiaoJimbao</a>.<a href="#266792" title="=&gt; Long">id</a><span class="delimiter">)</span>
      
    <span class="delimiter">}</span>.<span title="=&gt; org.squeryl.test.schooldb2.Student">get</span>

    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.CourseSubscription" id="272147">courseSubscription</a> = <a href="#272146" title="org.squeryl.test.schooldb2.Student">xiao</a>.<a href="#267812" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Course] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseSubscription]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74796" title="(o: org.squeryl.test.schooldb2.Course)org.squeryl.test.schooldb2.CourseSubscription">assign</a><span class="delimiter">(</span><a href="#271854" title="=&gt; org.squeryl.test.schooldb2.Course">chemistryCourse</a><span class="delimiter">)</span>

    <a href="#266814" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.CourseSubscription]">courseSubscriptions</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#37997" title="(t: org.squeryl.test.schooldb2.CourseSubscription)org.squeryl.test.schooldb2.CourseSubscription">insert</a><span class="delimiter">(</span><a href="#272147" title="org.squeryl.test.schooldb2.CourseSubscription">courseSubscription</a><span class="delimiter">)</span>
    <a href="#272147" title="org.squeryl.test.schooldb2.CourseSubscription">courseSubscription</a>.<a href="#269403" title="(x$1: Float)Unit">grade</a> = <span title="Float(95.0)" class="float">95.0F</span>
    <a href="#266814" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.CourseSubscription]">courseSubscriptions</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#38001" title="(o: org.squeryl.test.schooldb2.CourseSubscription)(implicit ked: org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.CourseSubscription, _])Unit">update</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24517" title="(implicit ev: &lt;:&lt;[org.squeryl.test.schooldb2.CourseSubscription,org.squeryl.KeyedEntity[org.squeryl.dsl.CompositeKey2[Long,Long]]], implicit m: Manifest[org.squeryl.test.schooldb2.CourseSubscription])org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.CourseSubscription,org.squeryl.dsl.CompositeKey2[Long,Long]]" class="delimiter">(</a><a href="#272147" title="org.squeryl.test.schooldb2.CourseSubscription">courseSubscription</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.CourseSubscription" id="272148">cs2</a> = <a href="#266814" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.CourseSubscription]">courseSubscriptions</a>.<a href="../../../../../main/org/squeryl/View.scala.html#37977" title="(k: org.squeryl.dsl.CompositeKey2[Long,Long])(implicit ked: org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.CourseSubscription,org.squeryl.dsl.CompositeKey2[Long,Long]], implicit dsl: org.squeryl.dsl.QueryDsl)Option[org.squeryl.test.schooldb2.CourseSubscription]">lookup</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24517" title="(implicit ev: &lt;:&lt;[org.squeryl.test.schooldb2.CourseSubscription,org.squeryl.KeyedEntity[org.squeryl.dsl.CompositeKey2[Long,Long]]], implicit m: Manifest[org.squeryl.test.schooldb2.CourseSubscription])org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.CourseSubscription,org.squeryl.dsl.CompositeKey2[Long,Long]]" class="delimiter">(</a><a href="#272147" title="org.squeryl.test.schooldb2.CourseSubscription">courseSubscription</a>.<a href="#268206" title="=&gt; org.squeryl.dsl.CompositeKey2[Long,Long]">id</a><span class="delimiter">)</span>.<span title="=&gt; org.squeryl.test.schooldb2.CourseSubscription">get</span>
    
    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Float, actual: Float, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Float(95.0)" class="float">95.0F</span>, <a href="#272148" title="org.squeryl.test.schooldb2.CourseSubscription">cs2</a>.<a href="#269403" title="=&gt; Float">grade</a>, <span title="(name: String)Symbol" class="symbol">'testUpdateWithCompositePK</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118632" title="(s: Symbol)Unit">passed</a><span class="delimiter">(</span><span title="(name: String)Symbol" class="symbol">'testUpdateWithCompositePK</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <a href="#8671" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a><span class="delimiter">(</span><span title="String(&quot;Many2ManyAssociationFromLeftSide&quot;)" class="string">&quot;Many2ManyAssociationFromLeftSide&quot;</span><span class="delimiter">)</span><span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="seedDataDef extends Object" id="272379">seedData</a> = <a href="#118643" title="=&gt; Object{val professeurTournesol: org.squeryl.test.schooldb2.Professor; val madProfessor: org.squeryl.test.schooldb2.Professor; val philosophy: org.squeryl.test.schooldb2.Subject; val chemistry: org.squeryl.test.schooldb2.Subject; val physics: org.squeryl.test.schooldb2.Subject; val computerScience: org.squeryl.test.schooldb2.Subject; val computationTheory: org.squeryl.test.schooldb2.Subject; val chemistryCourse: org.squeryl.test.schooldb2.Course; val physicsCourse: org.squeryl.test.schooldb2.Course; val xiaoJimbao: org.squeryl.test.schooldb2.Student}">seedDataDef</a>
    <span class="keyword">import</span> <a href="#272379" title="seedDataDef extends Object">seedData</a>._

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span>, <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24729" title="(q: org.squeryl.Queryable[org.squeryl.test.schooldb2.CourseAssignment])org.squeryl.test.PrimitiveTypeModeForTests.CountSubQueryableQuery">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24726" title="(sq: org.squeryl.test.PrimitiveTypeModeForTests.ScalarQuery[Long])Long">Count</a> : <span title="Long">Long</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationFromLeftSide</span><span class="delimiter">)</span>

    <a href="#271847" title="=&gt; org.squeryl.test.schooldb2.Professor">professeurTournesol</a>.<a href="#266840" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Course] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74797" title="(o: org.squeryl.test.schooldb2.Course)org.squeryl.test.schooldb2.CourseAssignment">associate</a><span class="delimiter">(</span><a href="#271855" title="=&gt; org.squeryl.test.schooldb2.Course">physicsCourse</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Course" id="272381">c1</a> = <a href="#271847" title="=&gt; org.squeryl.test.schooldb2.Professor">professeurTournesol</a>.<a href="#266840" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Course] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]">courses</a>.<a href="../../../../../main/org/squeryl/Query.scala.html#24190" title="=&gt; org.squeryl.test.schooldb2.Course">single</a> : <a href="#8657" title="org.squeryl.test.schooldb2.Course">Course</a>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#272381" title="org.squeryl.test.schooldb2.Course">c1</a>.<a href="#266792" title="=&gt; Long">id</a>,  <a href="#271855" title="=&gt; org.squeryl.test.schooldb2.Course">physicsCourse</a>.<a href="#266792" title="=&gt; Long">id</a>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationFromLeftSide</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.CourseAssignment" id="272382">ca</a> = <a href="#271847" title="=&gt; org.squeryl.test.schooldb2.Professor">professeurTournesol</a>.<a href="#266840" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Course] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74800" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.CourseAssignment]">associations</a>.<a href="../../../../../main/org/squeryl/Query.scala.html#24190" title="=&gt; org.squeryl.test.schooldb2.CourseAssignment">single</a> : <a href="#8661" title="org.squeryl.test.schooldb2.CourseAssignment">CourseAssignment</a>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#272382" title="org.squeryl.test.schooldb2.CourseAssignment">ca</a>.<a href="#269506" title="=&gt; Long">courseId</a>,  <a href="#271855" title="=&gt; org.squeryl.test.schooldb2.Course">physicsCourse</a>.<a href="#266792" title="=&gt; Long">id</a>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationFromLeftSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Int, actual: Int, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#271847" title="=&gt; org.squeryl.test.schooldb2.Professor">professeurTournesol</a>.<a href="#266840" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Course] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74799" title="=&gt; Int">dissociateAll</a>, <span title="Int(1)" class="int">1</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationFromLeftSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Int, actual: Int, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#271847" title="=&gt; org.squeryl.test.schooldb2.Professor">professeurTournesol</a>.<a href="#266840" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Course] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74799" title="=&gt; Int">dissociateAll</a>, <span title="Int(0)" class="int">0</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationFromLeftSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span>, <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24729" title="(q: org.squeryl.Queryable[org.squeryl.test.schooldb2.CourseAssignment])org.squeryl.test.PrimitiveTypeModeForTests.CountSubQueryableQuery">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24726" title="(sq: org.squeryl.test.PrimitiveTypeModeForTests.ScalarQuery[Long])Long">Count</a> : <span title="Long">Long</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationFromLeftSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118632" title="(s: Symbol)Unit">passed</a><span class="delimiter">(</span><span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationFromLeftSide</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <a href="#8671" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a><span class="delimiter">(</span><span title="String(&quot;Many2ManyAssociationsFromRightSide&quot;)" class="string">&quot;Many2ManyAssociationsFromRightSide&quot;</span><span class="delimiter">)</span><span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="seedDataDef extends Object" id="272592">seedData</a> = <a href="#118643" title="=&gt; Object{val professeurTournesol: org.squeryl.test.schooldb2.Professor; val madProfessor: org.squeryl.test.schooldb2.Professor; val philosophy: org.squeryl.test.schooldb2.Subject; val chemistry: org.squeryl.test.schooldb2.Subject; val physics: org.squeryl.test.schooldb2.Subject; val computerScience: org.squeryl.test.schooldb2.Subject; val computationTheory: org.squeryl.test.schooldb2.Subject; val chemistryCourse: org.squeryl.test.schooldb2.Course; val physicsCourse: org.squeryl.test.schooldb2.Course; val xiaoJimbao: org.squeryl.test.schooldb2.Student}">seedDataDef</a>
    <span class="keyword">import</span> <a href="#272592" title="seedDataDef extends Object">seedData</a>._

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span>, <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24729" title="(q: org.squeryl.Queryable[org.squeryl.test.schooldb2.CourseAssignment])org.squeryl.test.PrimitiveTypeModeForTests.CountSubQueryableQuery">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24726" title="(sq: org.squeryl.test.PrimitiveTypeModeForTests.ScalarQuery[Long])Long">Count</a> : <span title="Long">Long</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>

    <a href="#271855" title="=&gt; org.squeryl.test.schooldb2.Course">physicsCourse</a>.<a href="#267071" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Professor] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.CourseAssignment]">professors</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74797" title="(o: org.squeryl.test.schooldb2.Professor)org.squeryl.test.schooldb2.CourseAssignment">associate</a><span class="delimiter">(</span><a href="#271847" title="=&gt; org.squeryl.test.schooldb2.Professor">professeurTournesol</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Professor" id="272594">profT</a> = <a href="#271855" title="=&gt; org.squeryl.test.schooldb2.Course">physicsCourse</a>.<a href="#267071" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Professor] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.CourseAssignment]">professors</a>.<a href="../../../../../main/org/squeryl/Query.scala.html#24190" title="=&gt; org.squeryl.test.schooldb2.Professor">single</a> : <a href="#8655" title="org.squeryl.test.schooldb2.Professor">Professor</a>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: String, actual: String, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#271847" title="=&gt; org.squeryl.test.schooldb2.Professor">professeurTournesol</a>.<a href="#266846" title="=&gt; String">lastName</a>, <a href="#272594" title="org.squeryl.test.schooldb2.Professor">profT</a>.<a href="#266846" title="=&gt; String">lastName</a>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.CourseAssignment" id="272595">ca</a> = <a href="#271847" title="=&gt; org.squeryl.test.schooldb2.Professor">professeurTournesol</a>.<a href="#266840" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Course] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74800" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.CourseAssignment]">associations</a>.<a href="../../../../../main/org/squeryl/Query.scala.html#24190" title="=&gt; org.squeryl.test.schooldb2.CourseAssignment">single</a> : <a href="#8661" title="org.squeryl.test.schooldb2.CourseAssignment">CourseAssignment</a>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#272595" title="org.squeryl.test.schooldb2.CourseAssignment">ca</a>.<a href="#269506" title="=&gt; Long">courseId</a>,  <a href="#271855" title="=&gt; org.squeryl.test.schooldb2.Course">physicsCourse</a>.<a href="#266792" title="=&gt; Long">id</a>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Int, actual: Int, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#271855" title="=&gt; org.squeryl.test.schooldb2.Course">physicsCourse</a>.<a href="#267071" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Professor] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.CourseAssignment]">professors</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74799" title="=&gt; Int">dissociateAll</a>, <span title="Int(1)" class="int">1</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Int, actual: Int, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#271855" title="=&gt; org.squeryl.test.schooldb2.Course">physicsCourse</a>.<a href="#267071" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Professor] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.CourseAssignment]">professors</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74799" title="=&gt; Int">dissociateAll</a>, <span title="Int(0)" class="int">0</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span>, <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24729" title="(q: org.squeryl.Queryable[org.squeryl.test.schooldb2.CourseAssignment])org.squeryl.test.PrimitiveTypeModeForTests.CountSubQueryableQuery">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24726" title="(sq: org.squeryl.test.PrimitiveTypeModeForTests.ScalarQuery[Long])Long">Count</a> : <span title="Long">Long</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118632" title="(s: Symbol)Unit">passed</a><span class="delimiter">(</span><span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <a href="#8671" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a><span class="delimiter">(</span><span title="String(&quot;OneToMany&quot;)" class="string">&quot;OneToMany&quot;</span><span class="delimiter">)</span><span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="seedDataDef extends Object" id="272805">seedData</a> = <a href="#118643" title="=&gt; Object{val professeurTournesol: org.squeryl.test.schooldb2.Professor; val madProfessor: org.squeryl.test.schooldb2.Professor; val philosophy: org.squeryl.test.schooldb2.Subject; val chemistry: org.squeryl.test.schooldb2.Subject; val physics: org.squeryl.test.schooldb2.Subject; val computerScience: org.squeryl.test.schooldb2.Subject; val computationTheory: org.squeryl.test.schooldb2.Subject; val chemistryCourse: org.squeryl.test.schooldb2.Course; val physicsCourse: org.squeryl.test.schooldb2.Course; val xiaoJimbao: org.squeryl.test.schooldb2.Student}">seedDataDef</a>
    <span class="keyword">import</span> <a href="#272805" title="seedDataDef extends Object">seedData</a>._

    <span class="keyword">val</span> <a title="Long" id="272807">pc</a> = <a href="#271849" title="=&gt; org.squeryl.test.schooldb2.Subject">philosophy</a>.<a href="#266792" title="=&gt; Long">id</a>

    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Course" id="272808">philosophyCourse10AMWednesday</a> = <a href="#267070" title="()org.squeryl.test.schooldb2.Course" class="keyword">new</a> <a href="#8657" title="org.squeryl.test.schooldb2.Course">Course</a>
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Course" id="272809">philosophyCourse2PMWednesday</a> = <a href="#267070" title="()org.squeryl.test.schooldb2.Course" class="keyword">new</a> <a href="#8657" title="org.squeryl.test.schooldb2.Course">Course</a>
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Course" id="272810">philosophyCourse3PMFriday</a> = <a href="#267070" title="()org.squeryl.test.schooldb2.Course" class="keyword">new</a> <a href="#8657" title="org.squeryl.test.schooldb2.Course">Course</a>

    <a href="#271849" title="=&gt; org.squeryl.test.schooldb2.Subject">philosophy</a>.<a href="#268503" title="=&gt; org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Course]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74665" title="(m: org.squeryl.test.schooldb2.Course)org.squeryl.test.schooldb2.Course">associate</a><span class="delimiter">(</span><a href="#272808" title="org.squeryl.test.schooldb2.Course">philosophyCourse10AMWednesday</a><span class="delimiter">)</span>
    <a href="#271849" title="=&gt; org.squeryl.test.schooldb2.Subject">philosophy</a>.<a href="#268503" title="=&gt; org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Course]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74665" title="(m: org.squeryl.test.schooldb2.Course)org.squeryl.test.schooldb2.Course">associate</a><span class="delimiter">(</span><a href="#272809" title="org.squeryl.test.schooldb2.Course">philosophyCourse2PMWednesday</a><span class="delimiter">)</span>
    <a href="#271849" title="=&gt; org.squeryl.test.schooldb2.Subject">philosophy</a>.<a href="#268503" title="=&gt; org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Course]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74665" title="(m: org.squeryl.test.schooldb2.Course)org.squeryl.test.schooldb2.Course">associate</a><span class="delimiter">(</span><a href="#272810" title="org.squeryl.test.schooldb2.Course">philosophyCourse3PMFriday</a><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: scala.collection.immutable.Set[Long], actual: scala.collection.immutable.Set[Long], s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span>
      <a href="#271849" title="=&gt; org.squeryl.test.schooldb2.Subject">philosophy</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24522" title="(q: org.squeryl.Query[org.squeryl.test.schooldb2.Course])Iterable[org.squeryl.test.schooldb2.Course]">courses</a>.<span title="(f: org.squeryl.test.schooldb2.Course =&gt; Long)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[org.squeryl.test.schooldb2.Course],Long,Iterable[Long]])Iterable[Long]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,Long,Iterable[Long]]" class="delimiter">(</span><a href="#272943" title="org.squeryl.test.schooldb2.Course">_</a>.<a href="#266792" title="=&gt; Long">id</a><span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[Long]">toSet</span>,
      <span title="(elems: Long*)scala.collection.immutable.Set[Long]">Set</span><span class="delimiter">(</span><a href="#272808" title="org.squeryl.test.schooldb2.Course">philosophyCourse10AMWednesday</a>.<a href="#266792" title="=&gt; Long">id</a>, <a href="#272809" title="org.squeryl.test.schooldb2.Course">philosophyCourse2PMWednesday</a>.<a href="#266792" title="=&gt; Long">id</a>, <a href="#272810" title="org.squeryl.test.schooldb2.Course">philosophyCourse3PMFriday</a>.<a href="#266792" title="=&gt; Long">id</a><span class="delimiter">)</span>,
      <span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: String, actual: String, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span>
      <a href="#272809" title="org.squeryl.test.schooldb2.Course">philosophyCourse2PMWednesday</a>.<a href="#267075" title="=&gt; org.squeryl.dsl.ManyToOne[org.squeryl.test.schooldb2.Subject]">subject</a>.<a href="../../../../../main/org/squeryl/Query.scala.html#24190" title="=&gt; org.squeryl.test.schooldb2.Subject">single</a>.<a href="#269062" title="=&gt; String">name</a>,
      <a href="#271849" title="=&gt; org.squeryl.test.schooldb2.Subject">philosophy</a>.<a href="#269062" title="=&gt; String">name</a>,
      <span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>

    // verify that a reassociation does an update and not an insert :
    <span class="keyword">val</span> <a title="Long" id="272811">pk1</a> = <a href="#272810" title="org.squeryl.test.schooldb2.Course">philosophyCourse3PMFriday</a>.<a href="#266792" title="=&gt; Long">id</a>

    <a href="#271853" title="=&gt; org.squeryl.test.schooldb2.Subject">computationTheory</a>.<a href="#268503" title="=&gt; org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Course]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74665" title="(m: org.squeryl.test.schooldb2.Course)org.squeryl.test.schooldb2.Course">associate</a><span class="delimiter">(</span><a href="#272810" title="org.squeryl.test.schooldb2.Course">philosophyCourse3PMFriday</a><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span>
      <a href="#272811" title="Long">pk1</a>,
      <a href="#272810" title="org.squeryl.test.schooldb2.Course">philosophyCourse3PMFriday</a>.<a href="#266792" title="=&gt; Long">id</a>,
      <span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>

    // verify that the reassociation worked, which means that
    // 1) : the set of philosophy.courses was reduced properly
    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: scala.collection.immutable.Set[Long], actual: scala.collection.immutable.Set[Long], s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span>
      <a href="#271849" title="=&gt; org.squeryl.test.schooldb2.Subject">philosophy</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24522" title="(q: org.squeryl.Query[org.squeryl.test.schooldb2.Course])Iterable[org.squeryl.test.schooldb2.Course]">courses</a>.<span title="(f: org.squeryl.test.schooldb2.Course =&gt; Long)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[org.squeryl.test.schooldb2.Course],Long,Iterable[Long]])Iterable[Long]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,Long,Iterable[Long]]" class="delimiter">(</span><a href="#273174" title="org.squeryl.test.schooldb2.Course">_</a>.<a href="#266792" title="=&gt; Long">id</a><span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[Long]">toSet</span>,
      <span title="(elems: Long*)scala.collection.immutable.Set[Long]">Set</span><span class="delimiter">(</span><a href="#272808" title="org.squeryl.test.schooldb2.Course">philosophyCourse10AMWednesday</a>.<a href="#266792" title="=&gt; Long">id</a>, <a href="#272809" title="org.squeryl.test.schooldb2.Course">philosophyCourse2PMWednesday</a>.<a href="#266792" title="=&gt; Long">id</a><span class="delimiter">)</span>,
      <span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>

    // 2) philosophyCourse3PMFriday.subject points to the proper subject
    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: String, actual: String, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span>
      <a href="#271853" title="=&gt; org.squeryl.test.schooldb2.Subject">computationTheory</a>.<a href="#269062" title="=&gt; String">name</a>,
      <a href="#272810" title="org.squeryl.test.schooldb2.Course">philosophyCourse3PMFriday</a>.<a href="#267075" title="=&gt; org.squeryl.dsl.ManyToOne[org.squeryl.test.schooldb2.Subject]">subject</a>.<a href="../../../../../main/org/squeryl/Query.scala.html#24190" title="=&gt; org.squeryl.test.schooldb2.Subject">single</a>.<a href="#269062" title="=&gt; String">name</a>,
      <span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118632" title="(s: Symbol)Unit">passed</a><span class="delimiter">(</span><span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <a href="#8671" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a><span class="delimiter">(</span><span title="String(&quot;CompositeEquality&quot;)" class="string">&quot;CompositeEquality&quot;</span><span class="delimiter">)</span><span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="seedDataDef extends Object" id="273253">seedData</a> = <a href="#118643" title="=&gt; Object{val professeurTournesol: org.squeryl.test.schooldb2.Professor; val madProfessor: org.squeryl.test.schooldb2.Professor; val philosophy: org.squeryl.test.schooldb2.Subject; val chemistry: org.squeryl.test.schooldb2.Subject; val physics: org.squeryl.test.schooldb2.Subject; val computerScience: org.squeryl.test.schooldb2.Subject; val computationTheory: org.squeryl.test.schooldb2.Subject; val chemistryCourse: org.squeryl.test.schooldb2.Course; val physicsCourse: org.squeryl.test.schooldb2.Course; val xiaoJimbao: org.squeryl.test.schooldb2.Student}">seedDataDef</a>
    <span class="keyword">import</span> <a href="#273253" title="seedDataDef extends Object">seedData</a>._
    
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.CourseAssignment" id="273255">a</a> = <a href="#271855" title="=&gt; org.squeryl.test.schooldb2.Course">physicsCourse</a>.<a href="#267071" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Professor] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.CourseAssignment]">professors</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74797" title="(o: org.squeryl.test.schooldb2.Professor)org.squeryl.test.schooldb2.CourseAssignment">associate</a><span class="delimiter">(</span><a href="#271847" title="=&gt; org.squeryl.test.schooldb2.Professor">professeurTournesol</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="Option[org.squeryl.test.schooldb2.CourseAssignment]" id="273256">qA</a> = <a href="#266812" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]">courseAssignments</a>.<a href="../../../../../main/org/squeryl/View.scala.html#37977" title="(k: org.squeryl.dsl.CompositeKey2[Long,Long])(implicit ked: org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.CourseAssignment,org.squeryl.dsl.CompositeKey2[Long,Long]], implicit dsl: org.squeryl.dsl.QueryDsl)Option[org.squeryl.test.schooldb2.CourseAssignment]">lookup</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24517" title="(implicit ev: &lt;:&lt;[org.squeryl.test.schooldb2.CourseAssignment,org.squeryl.KeyedEntity[org.squeryl.dsl.CompositeKey2[Long,Long]]], implicit m: Manifest[org.squeryl.test.schooldb2.CourseAssignment])org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.CourseAssignment,org.squeryl.dsl.CompositeKey2[Long,Long]]" class="delimiter">(</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24782" title="(a1: Long, a2: Long)org.squeryl.dsl.CompositeKey2[Long,Long]">compositeKey</a><span class="delimiter">(</span><a href="#273255" title="org.squeryl.test.schooldb2.CourseAssignment">a</a>.<a href="#269506" title="=&gt; Long">courseId</a>, <a href="#273255" title="org.squeryl.test.schooldb2.CourseAssignment">a</a>.<a href="#269507" title="=&gt; Long">professorId</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="#118644" title="(oca: Option[org.squeryl.test.schooldb2.CourseAssignment], ca: org.squeryl.test.schooldb2.CourseAssignment)Unit">_existsAndEquals</a><span class="delimiter">(</span><a href="#273256" title="Option[org.squeryl.test.schooldb2.CourseAssignment]">qA</a>, <a href="#273255" title="org.squeryl.test.schooldb2.CourseAssignment">a</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.Query[org.squeryl.test.schooldb2.CourseAssignment]" id="273257">qA2</a> =
      <a href="../../../../../main/org/squeryl/dsl/boilerplate/FromSignatures.scala.html#25268" title="(t1: org.squeryl.Queryable[org.squeryl.test.schooldb2.CourseAssignment])(f: org.squeryl.test.schooldb2.CourseAssignment =&gt; org.squeryl.dsl.QueryYield[org.squeryl.test.schooldb2.CourseAssignment])org.squeryl.Query[org.squeryl.test.schooldb2.CourseAssignment]">from</a><span class="delimiter">(</span><a href="#266812" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]">courseAssignments</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="org.squeryl.test.schooldb2.CourseAssignment" id="273578">ca</a> =&gt;
        <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24552" title="(b: =&gt; org.squeryl.dsl.ast.LogicalBoolean)org.squeryl.dsl.fsm.WhereState[org.squeryl.dsl.fsm.Conditioned]">where</a><span class="delimiter">(</span><a href="#273578" title="org.squeryl.test.schooldb2.CourseAssignment">ca</a>.<a href="#267465" title="=&gt; org.squeryl.dsl.CompositeKey2[Long,Long]">id</a> <a href="../../../../../main/org/squeryl/dsl/CompositeKey.scala.html#34692" title="(ck: (Long, Long))org.squeryl.dsl.ast.LogicalBoolean">===</a><span class="delimiter">(</span><a href="#273255" title="org.squeryl.test.schooldb2.CourseAssignment">a</a>.<a href="#269506" title="=&gt; Long">courseId</a>, <a href="#273255" title="org.squeryl.test.schooldb2.CourseAssignment">a</a>.<a href="#269507" title="=&gt; Long">professorId</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../../../../../main/org/squeryl/dsl/fsm/StartState.scala.html#24510" title="(yieldClosure: =&gt; org.squeryl.test.schooldb2.CourseAssignment)org.squeryl.dsl.fsm.SelectState[org.squeryl.test.schooldb2.CourseAssignment]">select</a><span class="delimiter">(</span><a href="#273578" title="org.squeryl.test.schooldb2.CourseAssignment">ca</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>

    <a href="#118644" title="(oca: Option[org.squeryl.test.schooldb2.CourseAssignment], ca: org.squeryl.test.schooldb2.CourseAssignment)Unit">_existsAndEquals</a><span class="delimiter">(</span><a href="#273257" title="org.squeryl.Query[org.squeryl.test.schooldb2.CourseAssignment]">qA2</a>.<a href="../../../../../main/org/squeryl/Query.scala.html#24192" title="=&gt; Option[org.squeryl.test.schooldb2.CourseAssignment]">headOption</a>, <a href="#273255" title="org.squeryl.test.schooldb2.CourseAssignment">a</a><span class="delimiter">)</span>

    //println(qA2.statement)

    <span class="keyword">val</span> <a title="org.squeryl.Query[org.squeryl.test.schooldb2.CourseAssignment]" id="273258">qA3</a> =
      <a href="#266812" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]">courseAssignments</a>.<a href="../../../../../main/org/squeryl/Queryable.scala.html#24182" title="(whereClauseFunctor: org.squeryl.test.schooldb2.CourseAssignment =&gt; org.squeryl.dsl.ast.LogicalBoolean)(implicit dsl: org.squeryl.dsl.QueryDsl)org.squeryl.Query[org.squeryl.test.schooldb2.CourseAssignment]">where</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24549" title="=&gt; org.squeryl.dsl.QueryDsl" class="delimiter">(</a><a href="#273603" title="org.squeryl.test.schooldb2.CourseAssignment">_</a>.<a href="#267465" title="=&gt; org.squeryl.dsl.CompositeKey2[Long,Long]">id</a> <a href="../../../../../main/org/squeryl/dsl/CompositeKey.scala.html#34691" title="(ck: org.squeryl.dsl.CompositeKey2[Long,Long])org.squeryl.dsl.ast.LogicalBoolean">===</a> <a href="#273255" title="org.squeryl.test.schooldb2.CourseAssignment">a</a>.<a href="#267465" title="=&gt; org.squeryl.dsl.CompositeKey2[Long,Long]">id</a><span class="delimiter">)</span>

    <a href="#118644" title="(oca: Option[org.squeryl.test.schooldb2.CourseAssignment], ca: org.squeryl.test.schooldb2.CourseAssignment)Unit">_existsAndEquals</a><span class="delimiter">(</span><a href="#273258" title="org.squeryl.Query[org.squeryl.test.schooldb2.CourseAssignment]">qA3</a>.<a href="../../../../../main/org/squeryl/Query.scala.html#24192" title="=&gt; Option[org.squeryl.test.schooldb2.CourseAssignment]">headOption</a>, <a href="#273255" title="org.squeryl.test.schooldb2.CourseAssignment">a</a><span class="delimiter">)</span>

    <a href="#266812" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]">courseAssignments</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#38009" title="(k: org.squeryl.dsl.CompositeKey2[Long,Long])(implicit ked: org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.CourseAssignment,org.squeryl.dsl.CompositeKey2[Long,Long]], implicit dsl: org.squeryl.dsl.QueryDsl)Boolean">delete</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24517" title="(implicit ev: &lt;:&lt;[org.squeryl.test.schooldb2.CourseAssignment,org.squeryl.KeyedEntity[org.squeryl.dsl.CompositeKey2[Long,Long]]], implicit m: Manifest[org.squeryl.test.schooldb2.CourseAssignment])org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.CourseAssignment,org.squeryl.dsl.CompositeKey2[Long,Long]]" class="delimiter">(</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24782" title="(a1: Long, a2: Long)org.squeryl.dsl.CompositeKey2[Long,Long]">compositeKey</a><span class="delimiter">(</span><a href="#273255" title="org.squeryl.test.schooldb2.CourseAssignment">a</a>.<a href="#269506" title="=&gt; Long">courseId</a>, <a href="#273255" title="org.squeryl.test.schooldb2.CourseAssignment">a</a>.<a href="#269507" title="=&gt; Long">professorId</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Long(0L)" class="long">0L</span>, <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24729" title="(q: org.squeryl.Queryable[org.squeryl.test.schooldb2.CourseAssignment])org.squeryl.test.PrimitiveTypeModeForTests.CountSubQueryableQuery">qA3</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24726" title="(sq: org.squeryl.test.PrimitiveTypeModeForTests.ScalarQuery[Long])Long">Count</a>: <span title="Long">Long</span>, <span title="(name: String)Symbol" class="symbol">'testCompositeEquality</span><span class="delimiter">)</span>

    //println(ca2.statement)
    <a href="../../framework/QueryTester.scala.html#118632" title="(s: Symbol)Unit">passed</a><span class="delimiter">(</span><span title="(name: String)Symbol" class="symbol">'testCompositeEquality</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(oca: Option[org.squeryl.test.schooldb2.CourseAssignment], ca: org.squeryl.test.schooldb2.CourseAssignment)Unit" id="118644">_existsAndEquals</a><span class="delimiter">(</span><a title="Option[org.squeryl.test.schooldb2.CourseAssignment]" id="273396">oca</a>: <span title="Option[org.squeryl.test.schooldb2.CourseAssignment]">Option</span><span class="delimiter">[</span>CourseAssignment<span class="delimiter">]</span>, <a title="org.squeryl.test.schooldb2.CourseAssignment" id="273397">ca</a>: <a href="#8661" title="org.squeryl.test.schooldb2.CourseAssignment">CourseAssignment</a><span class="delimiter">)</span> = <span class="delimiter">{</span>

    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#273396" title="Option[org.squeryl.test.schooldb2.CourseAssignment]">oca</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="None.type">None</span><span class="delimiter">)</span>
      org.squeryl.internals.<a href="../../../../../main/org/squeryl/internals/Utils.scala.html#8187" title="org.squeryl.internals.Utils.type">Utils</a>.<a href="../../../../../main/org/squeryl/internals/Utils.scala.html#32420" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="String(&quot;query returned no rows&quot;)" class="string">&quot;query returned no rows&quot;</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: org.squeryl.dsl.CompositeKey2[Long,Long], actual: org.squeryl.dsl.CompositeKey2[Long,Long], s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#273397" title="org.squeryl.test.schooldb2.CourseAssignment">ca</a>.<a href="#267465" title="=&gt; org.squeryl.dsl.CompositeKey2[Long,Long]">id</a>, <a href="#273396" title="Option[org.squeryl.test.schooldb2.CourseAssignment]">oca</a>.<span title="=&gt; org.squeryl.test.schooldb2.CourseAssignment">get</span>.<a href="#267465" title="=&gt; org.squeryl.dsl.CompositeKey2[Long,Long]">id</a>, <span title="(name: String)Symbol" class="symbol">'testCompositeEquality</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <a href="#8671" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a><span class="delimiter">(</span><span title="String(&quot;UniquenessConstraint&quot;)" class="string">&quot;UniquenessConstraint&quot;</span><span class="delimiter">)</span><span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="seedDataDef extends Object" id="273806">seedData</a> = <a href="#118643" title="=&gt; Object{val professeurTournesol: org.squeryl.test.schooldb2.Professor; val madProfessor: org.squeryl.test.schooldb2.Professor; val philosophy: org.squeryl.test.schooldb2.Subject; val chemistry: org.squeryl.test.schooldb2.Subject; val physics: org.squeryl.test.schooldb2.Subject; val computerScience: org.squeryl.test.schooldb2.Subject; val computationTheory: org.squeryl.test.schooldb2.Subject; val chemistryCourse: org.squeryl.test.schooldb2.Course; val physicsCourse: org.squeryl.test.schooldb2.Course; val xiaoJimbao: org.squeryl.test.schooldb2.Student}">seedDataDef</a>
    <span class="keyword">import</span> <a href="#273806" title="seedDataDef extends Object">seedData</a>._
    
    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span>, <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24729" title="(q: org.squeryl.Queryable[org.squeryl.test.schooldb2.CourseAssignment])org.squeryl.test.PrimitiveTypeModeForTests.CountSubQueryableQuery">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24726" title="(sq: org.squeryl.test.PrimitiveTypeModeForTests.ScalarQuery[Long])Long">Count</a> : <span title="Long">Long</span>, <span title="(name: String)Symbol" class="symbol">'testUniquenessConstraint</span><span class="delimiter">)</span>

    <a href="#271855" title="=&gt; org.squeryl.test.schooldb2.Course">physicsCourse</a>.<a href="#267071" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Professor] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.CourseAssignment]">professors</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74797" title="(o: org.squeryl.test.schooldb2.Professor)org.squeryl.test.schooldb2.CourseAssignment">associate</a><span class="delimiter">(</span><a href="#271847" title="=&gt; org.squeryl.test.schooldb2.Professor">professeurTournesol</a><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Long(1L)" class="int">1</span>, <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24729" title="(q: org.squeryl.Queryable[org.squeryl.test.schooldb2.CourseAssignment])org.squeryl.test.PrimitiveTypeModeForTests.CountSubQueryableQuery">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24726" title="(sq: org.squeryl.test.PrimitiveTypeModeForTests.ScalarQuery[Long])Long">Count</a> : <span title="Long">Long</span>, <span title="(name: String)Symbol" class="symbol">'testUniquenessConstraint</span><span class="delimiter">)</span>

    <span class="keyword">var</span> <a title="Boolean" id="273808">exceptionThrown</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="keyword">val</span> <a title="org.squeryl.Session" id="273809">s</a> = <a href="../../../../../main/org/squeryl/Session.scala.html#7193" title="org.squeryl.Session.type">Session</a>.<a href="../../../../../main/org/squeryl/Session.scala.html#38067" title="=&gt; org.squeryl.Session">currentSession</a>

    <span class="keyword">val</span> <a title="Option[java.sql.Savepoint]" id="273810">sp</a>: <span title="Option[java.sql.Savepoint]">Option</span><span class="delimiter">[</span>Savepoint<span class="delimiter">]</span> =
      <span title="Option[java.sql.Savepoint]" class="keyword">if</span><span class="delimiter">(</span><a href="#273809" title="org.squeryl.Session">s</a>.<a href="../../../../../main/org/squeryl/Session.scala.html#38076" title="=&gt; org.squeryl.internals.DatabaseAdapter">databaseAdapter</a>.<a href="../../../../../main/org/squeryl/internals/DatabaseAdapter.scala.html#38146" title="=&gt; Boolean">failureOfStatementRequiresRollback</a><span class="delimiter">)</span>
        <span title="(x: java.sql.Savepoint)Some[java.sql.Savepoint]">Some</span><span class="delimiter">(</span><a href="#273809" title="org.squeryl.Session">s</a>.<a href="../../../../../main/org/squeryl/Session.scala.html#38074" title="=&gt; java.sql.Connection">connection</a>.<span title="()java.sql.Savepoint">setSavepoint</span><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <span title="None.type">None</span>
    
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <a href="#271855" title="=&gt; org.squeryl.test.schooldb2.Course">physicsCourse</a>.<a href="#267071" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Professor] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.CourseAssignment]">professors</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74797" title="(o: org.squeryl.test.schooldb2.Professor)org.squeryl.test.schooldb2.CourseAssignment">associate</a><span class="delimiter">(</span><a href="#271847" title="=&gt; org.squeryl.test.schooldb2.Professor">professeurTournesol</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">catch</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Unit" id="273911">e</a>:<span title="RuntimeException">RuntimeException</span> =&gt; <span class="delimiter">{</span>
        <a href="#273808" title="Boolean">exceptionThrown</a> = <span title="Boolean(true)" class="keyword">true</span>
        <a href="#273810" title="Option[java.sql.Savepoint]">sp</a>.<span title="(f: java.sql.Savepoint =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#273809" title="org.squeryl.Session">s</a>.<a href="../../../../../main/org/squeryl/Session.scala.html#38074" title="=&gt; java.sql.Connection">connection</a>.<span title="(x$1: java.sql.Savepoint)Unit">rollback</span><span class="delimiter">(</span><a href="#273916" title="java.sql.Savepoint">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span> <a href="#273808" title="Boolean">exceptionThrown</a><span class="delimiter">)</span>
      org.squeryl.internals.<a href="../../../../../main/org/squeryl/internals/Utils.scala.html#8187" title="org.squeryl.internals.Utils.type">Utils</a>.<a href="../../../../../main/org/squeryl/internals/Utils.scala.html#32420" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="symbol">'testUniquenessConstraint</span> <span title="(other: String)String">+</span> <span title="String(&quot; failed, unique constraint violation occured&quot;)" class="string">&quot; failed, unique constraint violation occured&quot;</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Long(1L)" class="int">1</span>, <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24729" title="(q: org.squeryl.Queryable[org.squeryl.test.schooldb2.CourseAssignment])org.squeryl.test.PrimitiveTypeModeForTests.CountSubQueryableQuery">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24726" title="(sq: org.squeryl.test.PrimitiveTypeModeForTests.ScalarQuery[Long])Long">Count</a> : <span title="Long">Long</span>, <span title="(name: String)Symbol" class="symbol">'testUniquenessConstraint</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#118632" title="(s: Symbol)Unit">passed</a><span class="delimiter">(</span><span title="(name: String)Symbol" class="symbol">'testUniquenessConstraint</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>


//  test(&quot;Issue68&quot;){
//    //https://github.com/max-l/Squeryl/issues#issue/68
//    // Invoking a persisent field during construction causes interference in AST construction
//
//    val a = new ASTConstructionInterferenceA
//    val bs = a.bs
//    val ast = bs.ast.asInstanceOf[QueryExpressionElements]
//
//    val andExp = ast.whereClause.get.asInstanceOf[EqualityExpression]
//
//    assert(andExp.left.isInstanceOf[ConstantExpressionNode[_]], &quot;expected a ConstantExpressionNode[_] in the where clause :\n&quot; + bs.statement)
//
//    bs.deleteAll
//    passed('testIssue68)
//  }

  <a href="#8671" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a><span class="delimiter">(</span><span title="String(&quot;InFromSet&quot;)" class="string">&quot;InFromSet&quot;</span><span class="delimiter">)</span><span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.Set[String]" id="273995">set</a> = <span title="(elems: String*)scala.collection.immutable.Set[String]">Set</span><span class="delimiter">(</span><span title="String(&quot;foo&quot;)" class="string">&quot;foo&quot;</span>, <span title="String(&quot;bar&quot;)" class="string">&quot;bar&quot;</span>, <span title="String(&quot;baz&quot;)" class="string">&quot;baz&quot;</span><span class="delimiter">)</span>
    <a href="../../../../../main/org/squeryl/dsl/boilerplate/FromSignatures.scala.html#25268" title="(t1: org.squeryl.Queryable[org.squeryl.test.schooldb2.Entry])(f: org.squeryl.test.schooldb2.Entry =&gt; org.squeryl.dsl.QueryYield[org.squeryl.test.schooldb2.Entry])org.squeryl.Query[org.squeryl.test.schooldb2.Entry]">from</a><span class="delimiter">(</span><a href="#266798" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Entry]">entries</a><span class="delimiter">)</span><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24522" title="(q: org.squeryl.Query[org.squeryl.test.schooldb2.Entry])Iterable[org.squeryl.test.schooldb2.Entry]" class="delimiter">(</a><a title="org.squeryl.test.schooldb2.Entry" id="274143">e</a> =&gt; <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24552" title="(b: =&gt; org.squeryl.dsl.ast.LogicalBoolean)org.squeryl.dsl.fsm.WhereState[org.squeryl.dsl.fsm.Conditioned]">where</a><span class="delimiter">(</span><a href="#274143" title="org.squeryl.test.schooldb2.Entry">e</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25017" title="implicit org.squeryl.PrimitiveTypeMode.stringToTE : (s: String)org.squeryl.dsl.TypedExpression[String,org.squeryl.dsl.TString]">text</a>.<a href="../../../../../main/org/squeryl/dsl/TypedExpression.scala.html#31865" title="(t: Traversable[String])(implicit cc: org.squeryl.dsl.CanCompare[org.squeryl.dsl.TString,Nothing])org.squeryl.dsl.ast.LogicalBoolean">in</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24672" title="=&gt; org.squeryl.dsl.CanCompare[org.squeryl.dsl.TOptionString,org.squeryl.dsl.TOptionString]" class="delimiter">(</a><a href="#273995" title="scala.collection.immutable.Set[String]">set</a><span class="delimiter">)</span><span class="delimiter">)</span><a href="../../../../../main/org/squeryl/dsl/fsm/StartState.scala.html#24510" title="(yieldClosure: =&gt; org.squeryl.test.schooldb2.Entry)org.squeryl.dsl.fsm.SelectState[org.squeryl.test.schooldb2.Entry]">select</a><span class="delimiter">(</span><a href="#274143" title="org.squeryl.test.schooldb2.Entry">e</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; List[org.squeryl.test.schooldb2.Entry]">toList</span>
    <a href="../../framework/QueryTester.scala.html#118632" title="(s: Symbol)Unit">passed</a><span class="delimiter">(</span><span title="(name: String)Symbol" class="symbol">'testInFromSet</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <a href="#8671" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a><span class="delimiter">(</span><span title="String(&quot;InFromSeq&quot;)" class="string">&quot;InFromSeq&quot;</span><span class="delimiter">)</span><span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Seq[String]" id="274295">set</a> = <span title="(elems: String*)scala.collection.immutable.Set[String]">Set</span><span class="delimiter">(</span><span title="String(&quot;foo&quot;)" class="string">&quot;foo&quot;</span>, <span title="String(&quot;bar&quot;)" class="string">&quot;bar&quot;</span>, <span title="String(&quot;baz&quot;)" class="string">&quot;baz&quot;</span><span class="delimiter">)</span>.<span title="=&gt; Seq[String]">toSeq</span>
    <a href="../../../../../main/org/squeryl/dsl/boilerplate/FromSignatures.scala.html#25268" title="(t1: org.squeryl.Queryable[org.squeryl.test.schooldb2.Entry])(f: org.squeryl.test.schooldb2.Entry =&gt; org.squeryl.dsl.QueryYield[org.squeryl.test.schooldb2.Entry])org.squeryl.Query[org.squeryl.test.schooldb2.Entry]">from</a><span class="delimiter">(</span><a href="#266798" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Entry]">entries</a><span class="delimiter">)</span><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24522" title="(q: org.squeryl.Query[org.squeryl.test.schooldb2.Entry])Iterable[org.squeryl.test.schooldb2.Entry]" class="delimiter">(</a><a title="org.squeryl.test.schooldb2.Entry" id="274453">e</a> =&gt; <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24552" title="(b: =&gt; org.squeryl.dsl.ast.LogicalBoolean)org.squeryl.dsl.fsm.WhereState[org.squeryl.dsl.fsm.Conditioned]">where</a><span class="delimiter">(</span><a href="#274453" title="org.squeryl.test.schooldb2.Entry">e</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25017" title="implicit org.squeryl.PrimitiveTypeMode.stringToTE : (s: String)org.squeryl.dsl.TypedExpression[String,org.squeryl.dsl.TString]">text</a>.<a href="../../../../../main/org/squeryl/dsl/TypedExpression.scala.html#31865" title="(t: Traversable[String])(implicit cc: org.squeryl.dsl.CanCompare[org.squeryl.dsl.TString,Nothing])org.squeryl.dsl.ast.LogicalBoolean">in</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24672" title="=&gt; org.squeryl.dsl.CanCompare[org.squeryl.dsl.TOptionString,org.squeryl.dsl.TOptionString]" class="delimiter">(</a><a href="#274295" title="Seq[String]">set</a><span class="delimiter">)</span><span class="delimiter">)</span><a href="../../../../../main/org/squeryl/dsl/fsm/StartState.scala.html#24510" title="(yieldClosure: =&gt; org.squeryl.test.schooldb2.Entry)org.squeryl.dsl.fsm.SelectState[org.squeryl.test.schooldb2.Entry]">select</a><span class="delimiter">(</span><a href="#274453" title="org.squeryl.test.schooldb2.Entry">e</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; List[org.squeryl.test.schooldb2.Entry]">toList</span>
    <a href="../../framework/QueryTester.scala.html#118632" title="(s: Symbol)Unit">passed</a><span class="delimiter">(</span><span title="(name: String)Symbol" class="symbol">'testInFromSeq</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <a href="#8671" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a><span class="delimiter">(</span><span title="String(&quot;Inequality with query on right hand side&quot;)" class="string">&quot;Inequality with query on right hand side&quot;</span>, <a href="../../framework/QueryTester.scala.html#8298" title="org.squeryl.framework.SingleTestRun.type">SingleTestRun</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="seedDataDef extends Object" id="274592">seedData</a> = <a href="#118643" title="=&gt; Object{val professeurTournesol: org.squeryl.test.schooldb2.Professor; val madProfessor: org.squeryl.test.schooldb2.Professor; val philosophy: org.squeryl.test.schooldb2.Subject; val chemistry: org.squeryl.test.schooldb2.Subject; val physics: org.squeryl.test.schooldb2.Subject; val computerScience: org.squeryl.test.schooldb2.Subject; val computationTheory: org.squeryl.test.schooldb2.Subject; val chemistryCourse: org.squeryl.test.schooldb2.Course; val physicsCourse: org.squeryl.test.schooldb2.Course; val xiaoJimbao: org.squeryl.test.schooldb2.Student}">seedDataDef</a>
    <span class="keyword">import</span> <a href="#274592" title="seedDataDef extends Object">seedData</a>._
   
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Student" id="274594">xiao</a> = <a href="#266806" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Student]">students</a>.<a href="../../../../../main/org/squeryl/View.scala.html#37977" title="(k: Long)(implicit ked: org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.Student,Long], implicit dsl: org.squeryl.dsl.QueryDsl)Option[org.squeryl.test.schooldb2.Student]">lookup</a><a href="#266796" title="SchoolDb2Tests.this.schema.schoolDbObjectKED.type" class="delimiter">(</a><a href="#271856" title="=&gt; org.squeryl.test.schooldb2.Student">xiaoJimbao</a>.<a href="#266792" title="=&gt; Long">id</a><span class="delimiter">)</span>.<span title="=&gt; org.squeryl.test.schooldb2.Student">get</span>

    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.CourseSubscription" id="274595">courseSubscription</a> = <a href="#274594" title="org.squeryl.test.schooldb2.Student">xiao</a>.<a href="#267812" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Course] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseSubscription]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#74796" title="(o: org.squeryl.test.schooldb2.Course)org.squeryl.test.schooldb2.CourseSubscription">assign</a><span class="delimiter">(</span><a href="#271854" title="=&gt; org.squeryl.test.schooldb2.Course">chemistryCourse</a><span class="delimiter">)</span>

    <a href="#266814" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.CourseSubscription]">courseSubscriptions</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#37997" title="(t: org.squeryl.test.schooldb2.CourseSubscription)org.squeryl.test.schooldb2.CourseSubscription">insert</a><span class="delimiter">(</span><a href="#274595" title="org.squeryl.test.schooldb2.CourseSubscription">courseSubscription</a><span class="delimiter">)</span>
    <a href="#274595" title="org.squeryl.test.schooldb2.CourseSubscription">courseSubscription</a>.<a href="#269403" title="(x$1: Float)Unit">grade</a> = <span title="Float(95.0)" class="float">95.0F</span>
    <a href="#266814" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.CourseSubscription]">courseSubscriptions</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#38001" title="(o: org.squeryl.test.schooldb2.CourseSubscription)(implicit ked: org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.CourseSubscription, _])Unit">update</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24517" title="(implicit ev: &lt;:&lt;[org.squeryl.test.schooldb2.CourseSubscription,org.squeryl.KeyedEntity[org.squeryl.dsl.CompositeKey2[Long,Long]]], implicit m: Manifest[org.squeryl.test.schooldb2.CourseSubscription])org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.CourseSubscription,org.squeryl.dsl.CompositeKey2[Long,Long]]" class="delimiter">(</a><a href="#274595" title="org.squeryl.test.schooldb2.CourseSubscription">courseSubscription</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.CourseSubscription" id="274596">cs2</a> = <a href="#266814" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.CourseSubscription]">courseSubscriptions</a>.<a href="../../../../../main/org/squeryl/View.scala.html#37977" title="(k: org.squeryl.dsl.CompositeKey2[Long,Long])(implicit ked: org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.CourseSubscription,org.squeryl.dsl.CompositeKey2[Long,Long]], implicit dsl: org.squeryl.dsl.QueryDsl)Option[org.squeryl.test.schooldb2.CourseSubscription]">lookup</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24517" title="(implicit ev: &lt;:&lt;[org.squeryl.test.schooldb2.CourseSubscription,org.squeryl.KeyedEntity[org.squeryl.dsl.CompositeKey2[Long,Long]]], implicit m: Manifest[org.squeryl.test.schooldb2.CourseSubscription])org.squeryl.KeyedEntityDef[org.squeryl.test.schooldb2.CourseSubscription,org.squeryl.dsl.CompositeKey2[Long,Long]]" class="delimiter">(</a><a href="#274595" title="org.squeryl.test.schooldb2.CourseSubscription">courseSubscription</a>.<a href="#268206" title="=&gt; org.squeryl.dsl.CompositeKey2[Long,Long]">id</a><span class="delimiter">)</span>.<span title="=&gt; org.squeryl.test.schooldb2.CourseSubscription">get</span>
    
    <a href="../../framework/QueryTester.scala.html#118616" title="(expected: Float, actual: Float, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Float(95.0)" class="float">95.0F</span>, <a href="#274596" title="org.squeryl.test.schooldb2.CourseSubscription">cs2</a>.<a href="#269403" title="=&gt; Float">grade</a>, <span title="(name: String)Symbol" class="symbol">'testUpdateWithCompositePK</span><span class="delimiter">)</span>
    
    <span class="keyword">val</span> <a title="org.squeryl.Query[org.squeryl.dsl.Measures[Option[Float]]]" id="274597">cs</a> = <a href="../../../../../main/org/squeryl/dsl/boilerplate/FromSignatures.scala.html#25268" title="(t1: org.squeryl.Queryable[org.squeryl.test.schooldb2.CourseSubscription])(f: org.squeryl.test.schooldb2.CourseSubscription =&gt; org.squeryl.dsl.QueryYield[org.squeryl.dsl.Measures[Option[Float]]])org.squeryl.Query[org.squeryl.dsl.Measures[Option[Float]]]">from</a><span class="delimiter">(</span><a href="#266814" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.CourseSubscription]">courseSubscriptions</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="org.squeryl.test.schooldb2.CourseSubscription" id="274971">p</a> =&gt; <a href="../../../../../main/org/squeryl/dsl/boilerplate/ComputeMeasuresSignaturesFromStartOrWhereState.scala.html#25053" title="(e1: =&gt; org.squeryl.dsl.TypedExpression[Option[Float], _])org.squeryl.dsl.fsm.ComputeStateStartOrWhereState[Option[Float]]">compute</a><span class="delimiter">(</span><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24616" title="(b: org.squeryl.dsl.TypedExpression[Float,org.squeryl.dsl.TFloat])(implicit f: org.squeryl.dsl.TypedExpressionFactory[Option[Float],org.squeryl.dsl.TOptionFloat])org.squeryl.dsl.TypedExpressionConversion[Option[Float],org.squeryl.dsl.TOptionFloat]">avg</a><a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25007" title="=&gt; org.squeryl.dsl.FloatTypedExpressionFactory[Option[Float],org.squeryl.dsl.TOptionFloat] with org.squeryl.dsl.DeOptionizer[Float,Float,org.squeryl.dsl.TFloat,Option[Float],org.squeryl.dsl.TOptionFloat]{val deOptionizer: org.squeryl.dsl.FloatTypedExpressionFactory[Float,org.squeryl.dsl.TFloat] with org.squeryl.dsl.PrimitiveJdbcMapper[Float]{val sample: Float; val defaultColumnLength: Int}}" class="delimiter">(</a><a href="#274971" title="org.squeryl.test.schooldb2.CourseSubscription">p</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25041" title="implicit org.squeryl.PrimitiveTypeMode.floatToTE : (f: Float)org.squeryl.dsl.TypedExpression[Float,org.squeryl.dsl.TFloat]">grade</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
   
    <span class="keyword">val</span> <a title="List[org.squeryl.test.schooldb2.CourseSubscription]" id="274598">belowOrEqualToAvg</a> = 
      <a href="../../../../../main/org/squeryl/dsl/boilerplate/FromSignatures.scala.html#25268" title="(t1: org.squeryl.Queryable[org.squeryl.test.schooldb2.CourseSubscription])(f: org.squeryl.test.schooldb2.CourseSubscription =&gt; org.squeryl.dsl.QueryYield[org.squeryl.test.schooldb2.CourseSubscription])org.squeryl.Query[org.squeryl.test.schooldb2.CourseSubscription]">from</a><span class="delimiter">(</span><a href="#266814" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.CourseSubscription]">courseSubscriptions</a><span class="delimiter">)</span><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24522" title="(q: org.squeryl.Query[org.squeryl.test.schooldb2.CourseSubscription])Iterable[org.squeryl.test.schooldb2.CourseSubscription]" class="delimiter">(</a><a title="org.squeryl.test.schooldb2.CourseSubscription" id="275205">p</a> =&gt;
        <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24552" title="(b: =&gt; org.squeryl.dsl.ast.LogicalBoolean)org.squeryl.dsl.fsm.WhereState[org.squeryl.dsl.fsm.Conditioned]">where</a><span class="delimiter">(</span><a href="#275205" title="org.squeryl.test.schooldb2.CourseSubscription">p</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25041" title="implicit org.squeryl.PrimitiveTypeMode.floatToTE : (f: Float)org.squeryl.dsl.TypedExpression[Float,org.squeryl.dsl.TFloat]">grade</a> <a href="../../../../../main/org/squeryl/dsl/TypedExpression.scala.html#31797" title="(q: org.squeryl.Query[org.squeryl.dsl.Measures[Option[Float]]])(implicit cc: org.squeryl.dsl.CanCompare[org.squeryl.dsl.TFloat,Nothing])org.squeryl.dsl.ast.LogicalBoolean">lte</a> <a href="../../../../../main/org/squeryl/dsl/boilerplate/FromSignatures.scala.html#25268" title="(t1: org.squeryl.Queryable[org.squeryl.test.schooldb2.CourseSubscription])(f: org.squeryl.test.schooldb2.CourseSubscription =&gt; org.squeryl.dsl.QueryYield[org.squeryl.dsl.Measures[Option[Float]]])org.squeryl.Query[org.squeryl.dsl.Measures[Option[Float]]]">from</a><span class="delimiter">(</span><a href="#266814" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.CourseSubscription]">courseSubscriptions</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="org.squeryl.test.schooldb2.CourseSubscription" id="275396">p</a> =&gt; <a href="../../../../../main/org/squeryl/dsl/boilerplate/ComputeMeasuresSignaturesFromStartOrWhereState.scala.html#25053" title="(e1: =&gt; org.squeryl.dsl.TypedExpression[Option[Float], _])org.squeryl.dsl.fsm.ComputeStateStartOrWhereState[Option[Float]]">compute</a><span class="delimiter">(</span><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24616" title="(b: org.squeryl.dsl.TypedExpression[Float,org.squeryl.dsl.TFloat])(implicit f: org.squeryl.dsl.TypedExpressionFactory[Option[Float],org.squeryl.dsl.TOptionFloat])org.squeryl.dsl.TypedExpressionConversion[Option[Float],org.squeryl.dsl.TOptionFloat]">avg</a><a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25007" title="=&gt; org.squeryl.dsl.FloatTypedExpressionFactory[Option[Float],org.squeryl.dsl.TOptionFloat] with org.squeryl.dsl.DeOptionizer[Float,Float,org.squeryl.dsl.TFloat,Option[Float],org.squeryl.dsl.TOptionFloat]{val deOptionizer: org.squeryl.dsl.FloatTypedExpressionFactory[Float,org.squeryl.dsl.TFloat] with org.squeryl.dsl.PrimitiveJdbcMapper[Float]{val sample: Float; val defaultColumnLength: Int}}" class="delimiter">(</a><a href="#275396" title="org.squeryl.test.schooldb2.CourseSubscription">p</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25041" title="implicit org.squeryl.PrimitiveTypeMode.floatToTE : (f: Float)org.squeryl.dsl.TypedExpression[Float,org.squeryl.dsl.TFloat]">grade</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../../../../../main/org/squeryl/dsl/fsm/StartState.scala.html#24510" title="(yieldClosure: =&gt; org.squeryl.test.schooldb2.CourseSubscription)org.squeryl.dsl.fsm.SelectState[org.squeryl.test.schooldb2.CourseSubscription]">select</a><span class="delimiter">(</span><a href="#275205" title="org.squeryl.test.schooldb2.CourseSubscription">p</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>.<span title="=&gt; List[org.squeryl.test.schooldb2.CourseSubscription]">toList</span>
      
    <a href="#8671" title="(condition: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#274598" title="List[org.squeryl.test.schooldb2.CourseSubscription]">belowOrEqualToAvg</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    
    <span class="keyword">val</span> <a title="List[org.squeryl.test.schooldb2.CourseSubscription]" id="274599">belowAvg</a> = 
      <a href="../../../../../main/org/squeryl/dsl/boilerplate/FromSignatures.scala.html#25268" title="(t1: org.squeryl.Queryable[org.squeryl.test.schooldb2.CourseSubscription])(f: org.squeryl.test.schooldb2.CourseSubscription =&gt; org.squeryl.dsl.QueryYield[org.squeryl.test.schooldb2.CourseSubscription])org.squeryl.Query[org.squeryl.test.schooldb2.CourseSubscription]">from</a><span class="delimiter">(</span><a href="#266814" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.CourseSubscription]">courseSubscriptions</a><span class="delimiter">)</span><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24522" title="(q: org.squeryl.Query[org.squeryl.test.schooldb2.CourseSubscription])Iterable[org.squeryl.test.schooldb2.CourseSubscription]" class="delimiter">(</a><a title="org.squeryl.test.schooldb2.CourseSubscription" id="275697">p</a> =&gt;
        <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24552" title="(b: =&gt; org.squeryl.dsl.ast.LogicalBoolean)org.squeryl.dsl.fsm.WhereState[org.squeryl.dsl.fsm.Conditioned]">where</a><span class="delimiter">(</span><a href="#275697" title="org.squeryl.test.schooldb2.CourseSubscription">p</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25041" title="implicit org.squeryl.PrimitiveTypeMode.floatToTE : (f: Float)org.squeryl.dsl.TypedExpression[Float,org.squeryl.dsl.TFloat]">grade</a> <a href="../../../../../main/org/squeryl/dsl/TypedExpression.scala.html#31792" title="(q: org.squeryl.Query[org.squeryl.dsl.Measures[Option[Float]]])(implicit cc: org.squeryl.dsl.CanCompare[org.squeryl.dsl.TFloat,Nothing])org.squeryl.dsl.ast.LogicalBoolean">lt</a> <a href="../../../../../main/org/squeryl/dsl/boilerplate/FromSignatures.scala.html#25268" title="(t1: org.squeryl.Queryable[org.squeryl.test.schooldb2.CourseSubscription])(f: org.squeryl.test.schooldb2.CourseSubscription =&gt; org.squeryl.dsl.QueryYield[org.squeryl.dsl.Measures[Option[Float]]])org.squeryl.Query[org.squeryl.dsl.Measures[Option[Float]]]">from</a><span class="delimiter">(</span><a href="#266814" title="=&gt; org.squeryl.test.PrimitiveTypeModeForTests.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.CourseSubscription]">courseSubscriptions</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="org.squeryl.test.schooldb2.CourseSubscription" id="275886">p</a> =&gt; <a href="../../../../../main/org/squeryl/dsl/boilerplate/ComputeMeasuresSignaturesFromStartOrWhereState.scala.html#25053" title="(e1: =&gt; org.squeryl.dsl.TypedExpression[Option[Float], _])org.squeryl.dsl.fsm.ComputeStateStartOrWhereState[Option[Float]]">compute</a><span class="delimiter">(</span><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24616" title="(b: org.squeryl.dsl.TypedExpression[Float,org.squeryl.dsl.TFloat])(implicit f: org.squeryl.dsl.TypedExpressionFactory[Option[Float],org.squeryl.dsl.TOptionFloat])org.squeryl.dsl.TypedExpressionConversion[Option[Float],org.squeryl.dsl.TOptionFloat]">avg</a><a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25007" title="=&gt; org.squeryl.dsl.FloatTypedExpressionFactory[Option[Float],org.squeryl.dsl.TOptionFloat] with org.squeryl.dsl.DeOptionizer[Float,Float,org.squeryl.dsl.TFloat,Option[Float],org.squeryl.dsl.TOptionFloat]{val deOptionizer: org.squeryl.dsl.FloatTypedExpressionFactory[Float,org.squeryl.dsl.TFloat] with org.squeryl.dsl.PrimitiveJdbcMapper[Float]{val sample: Float; val defaultColumnLength: Int}}" class="delimiter">(</a><a href="#275886" title="org.squeryl.test.schooldb2.CourseSubscription">p</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25041" title="implicit org.squeryl.PrimitiveTypeMode.floatToTE : (f: Float)org.squeryl.dsl.TypedExpression[Float,org.squeryl.dsl.TFloat]">grade</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../../../../../main/org/squeryl/dsl/fsm/StartState.scala.html#24510" title="(yieldClosure: =&gt; org.squeryl.test.schooldb2.CourseSubscription)org.squeryl.dsl.fsm.SelectState[org.squeryl.test.schooldb2.CourseSubscription]">select</a><span class="delimiter">(</span><a href="#275697" title="org.squeryl.test.schooldb2.CourseSubscription">p</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>.<span title="=&gt; List[org.squeryl.test.schooldb2.CourseSubscription]">toList</span>
      
    <a href="#8671" title="(condition: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#274599" title="List[org.squeryl.test.schooldb2.CourseSubscription]">belowAvg</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>    
  <span class="delimiter">}</span>
  
  <a href="#8671" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a> <span class="delimiter">(</span><span title="String(&quot;#73 relations with Option[] on one side of the equality expression blow up&quot;)" class="string">&quot;#73 relations with Option[] on one side of the equality expression blow up&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>

    <a href="#118643" title="=&gt; Object{val professeurTournesol: org.squeryl.test.schooldb2.Professor; val madProfessor: org.squeryl.test.schooldb2.Professor; val philosophy: org.squeryl.test.schooldb2.Subject; val chemistry: org.squeryl.test.schooldb2.Subject; val physics: org.squeryl.test.schooldb2.Subject; val computerScience: org.squeryl.test.schooldb2.Subject; val computationTheory: org.squeryl.test.schooldb2.Subject; val chemistryCourse: org.squeryl.test.schooldb2.Course; val physicsCourse: org.squeryl.test.schooldb2.Course; val xiaoJimbao: org.squeryl.test.schooldb2.Student}">seedDataDef</a>
        
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Subject" id="276041">cs</a> = <a href="#266810" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Subject]">subjects</a>.<a href="../../../../../main/org/squeryl/Queryable.scala.html#24182" title="(whereClauseFunctor: org.squeryl.test.schooldb2.Subject =&gt; org.squeryl.dsl.ast.LogicalBoolean)(implicit dsl: org.squeryl.dsl.QueryDsl)org.squeryl.Query[org.squeryl.test.schooldb2.Subject]">where</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#24549" title="=&gt; org.squeryl.dsl.QueryDsl" class="delimiter">(</a><a href="#276045" title="org.squeryl.test.schooldb2.Subject">_</a>.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25017" title="implicit org.squeryl.PrimitiveTypeMode.stringToTE : (s: String)org.squeryl.dsl.TypedExpression[String,org.squeryl.dsl.TString]">name</a> <a href="../../../../../main/org/squeryl/dsl/TypedExpression.scala.html#31742" title="(b: org.squeryl.dsl.TypedExpression[String,org.squeryl.dsl.TString])(implicit ev: org.squeryl.dsl.CanCompare[org.squeryl.dsl.TString,org.squeryl.dsl.TString])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#25017" title="implicit org.squeryl.PrimitiveTypeMode.stringToTE : (s: String)org.squeryl.dsl.TypedExpression[String,org.squeryl.dsl.TString]" class="string">&quot;Computer Science&quot;</a><span class="delimiter">)</span>.<a href="../../../../../main/org/squeryl/Query.scala.html#24190" title="=&gt; org.squeryl.test.schooldb2.Subject">single</a>
    
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Subject" id="276042">compTheory</a> = <a href="#276041" title="org.squeryl.test.schooldb2.Subject">cs</a>.<a href="#268505" title="=&gt; org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Subject]">childSubjects</a>.<a href="../../../../../main/org/squeryl/Query.scala.html#24190" title="=&gt; org.squeryl.test.schooldb2.Subject">single</a>
    
    <a href="#8671" title="(condition: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#276042" title="org.squeryl.test.schooldb2.Subject">compTheory</a>.<a href="#269062" title="=&gt; String">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="String(&quot;Computation Theory&quot;)" class="string">&quot;Computation Theory&quot;</span><span class="delimiter">)</span>
    
  <span class="delimiter">}</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>