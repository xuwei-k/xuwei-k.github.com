<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>main/org/squeryl/dsl/ast/QueryExpressionNode.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/*******************************************************************************
 * Copyright 2010 Maxime LÃ©vesque
 * 
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *   http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ***************************************************************************** */
<span class="keyword">package</span> org.squeryl.dsl.ast

<span class="keyword">import</span> org.squeryl.internals._
<span class="keyword">import</span> org.squeryl.dsl.<span class="delimiter">{</span>QueryYield, AbstractQuery<span class="delimiter">}</span>
<span class="keyword">import</span> scala.collection.mutable.ListBuffer

<span class="keyword">class</span> <a title="class QueryExpressionNode[R] extends Object with org.squeryl.dsl.ast.QueryExpressionElements with org.squeryl.dsl.ast.QueryableExpressionNode" id="7699">QueryExpressionNode</a><span class="delimiter">[</span><a title="" id="7700">R</a><span class="delimiter">]</span><a href="#7699" title="org.squeryl.dsl.ast.QueryExpressionNode[R]" class="delimiter">(</a><a title="org.squeryl.dsl.AbstractQuery[R]" id="70349">_query</a>: <a href="../AbstractQuery.scala.html#7366" title="org.squeryl.dsl.AbstractQuery[R]">AbstractQuery</a><span class="delimiter">[</span>R<span class="delimiter">]</span>,
                             <a title="org.squeryl.dsl.QueryYield[R]" id="70350">_queryYield</a>:<a href="../QueryYield.scala.html#7520" title="org.squeryl.dsl.QueryYield[R]">QueryYield</a><span class="delimiter">[</span>R<span class="delimiter">]</span>,
                             <span class="keyword">val</span> <a title="Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]" id="70351">subQueries</a>: <span title="Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]">Iterable</span><span class="delimiter">[</span>QueryableExpressionNode<span class="delimiter">]</span>,
                             <span class="keyword">val</span> <a title="Iterable[org.squeryl.dsl.ast.ViewExpressionNode[_]]" id="70352">views</a>: <span title="Iterable[org.squeryl.dsl.ast.ViewExpressionNode[_]]">Iterable</span><span class="delimiter">[</span>ViewExpressionNode<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="QueryExpressionElements.scala.html#7692" title="org.squeryl.dsl.ast.QueryExpressionElements">QueryExpressionElements</a>
    <span class="keyword">with</span> <a href="ExpressionNode.scala.html#7677" title="org.squeryl.dsl.ast.QueryableExpressionNode">QueryableExpressionNode</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="=&gt; Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]" id="70307">tableExpressions</a>: <span title="Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]">Iterable</span><span class="delimiter">[</span>QueryableExpressionNode<span class="delimiter">]</span> = 
    <span title="(xs: Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]*)List[Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]]">List</span><span class="delimiter">(</span><a href="#70352" title="=&gt; Iterable[org.squeryl.dsl.ast.ViewExpressionNode[_]]">views</a>.<span title="(p: org.squeryl.dsl.ast.ViewExpressionNode[_] =&gt; Boolean)Iterable[org.squeryl.dsl.ast.ViewExpressionNode[_]]">filter</span><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.ViewExpressionNode[_]" id="81757">v</a> =&gt; <span title="=&gt; Boolean">!</span> <a href="#81757" title="org.squeryl.dsl.ast.ViewExpressionNode[_]">v</a>.<a href="ExpressionNode.scala.html#64960" title="=&gt; Boolean">inhibited</a><span class="delimiter">)</span>,
         <a href="#70351" title="=&gt; Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]">subQueries</a>.<span title="(p: org.squeryl.dsl.ast.QueryableExpressionNode =&gt; Boolean)Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]">filter</span><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryableExpressionNode" id="81761">v</a> =&gt; <span title="=&gt; Boolean">!</span> <a href="#81761" title="org.squeryl.dsl.ast.QueryableExpressionNode">v</a>.<a href="ExpressionNode.scala.html#64960" title="=&gt; Boolean">inhibited</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(implicit asTraversable: Iterable[org.squeryl.dsl.ast.QueryableExpressionNode] =&gt; scala.collection.GenTraversableOnce[org.squeryl.dsl.ast.QueryableExpressionNode])List[org.squeryl.dsl.ast.QueryableExpressionNode]">flatten</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="70308">isJoinForm</a> = <a href="#70350" title="org.squeryl.dsl.QueryYield[R]">_queryYield</a>.<a href="../QueryYield.scala.html#36306" title="=&gt; Seq[() =&gt; org.squeryl.dsl.ast.LogicalBoolean]">joinExpressions</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="scala.collection.immutable.Nil.type">Nil</span>

  <span class="keyword">val</span> <a href="#424471" title="(x: (Option[org.squeryl.dsl.ast.ExpressionNode], Option[org.squeryl.dsl.ast.ExpressionNode], Iterable[org.squeryl.dsl.ast.ExpressionNode], Iterable[org.squeryl.dsl.ast.ExpressionNode]))(Option[org.squeryl.dsl.ast.ExpressionNode], Option[org.squeryl.dsl.ast.ExpressionNode], Iterable[org.squeryl.dsl.ast.ExpressionNode], Iterable[org.squeryl.dsl.ast.ExpressionNode])" class="delimiter">(</a><a href="#424469" title="Option[org.squeryl.dsl.ast.ExpressionNode]" id="70310">whereClause</a>, <a href="#424469" title="Option[org.squeryl.dsl.ast.ExpressionNode]" id="70312">havingClause</a>, <a href="#424469" title="Iterable[org.squeryl.dsl.ast.ExpressionNode]" id="70314">groupByClause</a>, <a href="#424469" title="Iterable[org.squeryl.dsl.ast.ExpressionNode]" id="70316">orderByClause</a><span class="delimiter">)</span> =
     <a href="#70350" title="org.squeryl.dsl.QueryYield[R]">_queryYield</a>.<a href="../QueryYield.scala.html#36305" title="=&gt; (Option[org.squeryl.dsl.ast.ExpressionNode], Option[org.squeryl.dsl.ast.ExpressionNode], Iterable[org.squeryl.dsl.ast.ExpressionNode], Iterable[org.squeryl.dsl.ast.ExpressionNode])">queryElements</a>

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Iterable[org.squeryl.dsl.ast.SelectElement]" id="70319">_selectList</a>: <span title="Iterable[org.squeryl.dsl.ast.SelectElement]">Iterable</span><span class="delimiter">[</span>SelectElement<span class="delimiter">]</span> = <span title="=&gt; collection.Iterable.type">Iterable</span>.<span title="Iterable[Nothing]">empty</span>

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Option[AnyRef]" id="70322">_sample</a>: <span title="Option[AnyRef]">Option</span><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span> = <span title="None.type">None</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(o: AnyRef)Boolean" id="70324">_isPrimitiveType</a><span class="delimiter">(</span><a title="AnyRef" id="81791">o</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> =
    <a href="#81791" title="AnyRef">o</a>.<span title="()Class[_]">getClass</span>.<span title="()Boolean">isPrimitive</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="70325">isUseableAsSubquery</a>: <span title="Boolean">Boolean</span> =
    <a href="#70322" title="=&gt; Option[AnyRef]">_sample</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#424475" title="Boolean" id="424479">None</a> =&gt; <a href="#424484" title="(x: Boolean)Boolean" class="keyword">throw</a> <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><span title="String(&quot;method cannot be called before initialization&quot;)" class="string">&quot;method cannot be called before initialization&quot;</span><span class="delimiter">)</span>
      <span class="keyword">case</span> Some<a href="#424475" title="Boolean" id="424477" class="delimiter">(</a><a href="#424477" title="AnyRef" id="81801">p</a>:Product<span class="delimiter">)</span> =&gt;
        <a href="#424484" title="(x: Boolean)Boolean" class="keyword">if</a><span class="delimiter">(</span>p.<span title="()Class[_]">getClass</span>.<span title="()String">getName</span>.<span title="(x$1: String)Boolean">startsWith</span><span class="delimiter">(</span><span title="String(&quot;scala.Tuple&quot;)" class="string">&quot;scala.Tuple&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="scala.collection.immutable.IndexedSeq[Any]" id="81807">z</a> = <span class="delimiter">(</span><span class="keyword">for</span><span class="delimiter">(</span><a title="Int" id="81944">i</a> &lt;- <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(f: Int =&gt; Any)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[Int],Any,scala.collection.immutable.IndexedSeq[Any]])scala.collection.immutable.IndexedSeq[Any]">to</span> <span class="delimiter">(</span>p.<span title="=&gt; Int">productArity</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span> p.<span title="(n: Int)Any">productElement</span><span class="delimiter">(</span><a href="#81944" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="=&gt; Boolean">!</span> <a href="#81807" title="scala.collection.immutable.IndexedSeq[Any]">z</a>.<span title="(p: Any =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a title="Any" id="81985">o</a> =&gt; <a href="#70324" title="(o: AnyRef)Boolean">_isPrimitiveType</a><span class="delimiter">(</span><a href="#81985" title="Any">o</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span>
          <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="AnyRef" id="81987">a</a>:AnyRef<span class="delimiter">)</span> =&gt; <a href="#424484" title="(x: Boolean)Boolean">!</a> <a href="#70324" title="(o: AnyRef)Boolean">_isPrimitiveType</a><span class="delimiter">(</span>a<span class="delimiter">)</span>
    <span class="delimiter">}</span>


  <span class="keyword">def</span> <a title="=&gt; AnyRef" id="70326">sample</a>:<span title="AnyRef">AnyRef</span> = <a href="#70322" title="=&gt; Option[AnyRef]">_sample</a>.<span title="=&gt; AnyRef">get</span>

  <span class="keyword">def</span> <a title="(aSample: AnyRef)Boolean" id="70327">owns</a><span class="delimiter">(</span><a title="AnyRef" id="81988">aSample</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> = 
    <a href="#70322" title="=&gt; Option[AnyRef]">_sample</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="None.type">None</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#70322" title="=&gt; Option[AnyRef]">_sample</a>.<span title="=&gt; AnyRef">get</span>.<span title="(x$1: AnyRef)Boolean">eq</span><span class="delimiter">(</span><a href="#81988" title="AnyRef">aSample</a><span class="delimiter">)</span>
  
  <span class="keyword">def</span> <a title="(fmd: org.squeryl.internals.FieldMetaData, forScope: org.squeryl.dsl.ast.QueryExpressionElements)Nothing" id="70328">getOrCreateSelectElement</a><span class="delimiter">(</span><a title="org.squeryl.internals.FieldMetaData" id="81996">fmd</a>: <a href="../../internals/FieldMetaData.scala.html#8086" title="org.squeryl.internals.FieldMetaData">FieldMetaData</a>, <a title="org.squeryl.dsl.ast.QueryExpressionElements" id="81997">forScope</a>: <a href="QueryExpressionElements.scala.html#7692" title="org.squeryl.dsl.ast.QueryExpressionElements">QueryExpressionElements</a><span class="delimiter">)</span> = <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)UnsupportedOperationException" class="keyword">new</span> <span title="UnsupportedOperationException">UnsupportedOperationException</span><span class="delimiter">(</span><span title="String(&quot;implement me&quot;)" class="string">&quot;implement me&quot;</span><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="70329">toString</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="StringBuffer" id="82007">sb</a> = <span title="StringBuffer" class="keyword">new</span> <span title="StringBuffer">StringBuffer</span>
    <a href="#82007" title="StringBuffer">sb</a>.<span title="(x$1: String)StringBuffer">append</span><span class="delimiter">(</span><span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="symbol">'QueryExpressionNode</span> <span title="(other: String)String">+</span> <span title="String(&quot;[&quot;)" class="string">&quot;[&quot;</span><span class="delimiter">)</span>
    <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="#70349" title="org.squeryl.dsl.AbstractQuery[R]">_query</a>.<a href="../AbstractQuery.scala.html#70114" title="=&gt; Boolean">isRoot</a><span class="delimiter">)</span>
      <a href="#82007" title="StringBuffer">sb</a>.<span title="(x$1: String)StringBuffer">append</span><span class="delimiter">(</span><span title="String(&quot;root:&quot;)" class="string">&quot;root:&quot;</span><span class="delimiter">)</span>
    <a href="#82007" title="StringBuffer">sb</a>.<span title="(x$1: String)StringBuffer">append</span><span class="delimiter">(</span><a href="ExpressionNode.scala.html#31640" title="=&gt; String">id</a><span class="delimiter">)</span>
    <a href="#82007" title="StringBuffer">sb</a>.<span title="(x$1: String)StringBuffer">append</span><span class="delimiter">(</span><span title="String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span>
    <a href="#82007" title="StringBuffer">sb</a>.<span title="(x$1: String)StringBuffer">append</span><span class="delimiter">(</span><span title="String(&quot;:rsm=&quot;)" class="string">&quot;:rsm=&quot;</span><span title="(x$1: Any)String">+</span><a href="#70349" title="org.squeryl.dsl.AbstractQuery[R]">_query</a>.<a href="../AbstractQuery.scala.html#70126" title="=&gt; org.squeryl.internals.ResultSetMapper">resultSetMapper</a><span class="delimiter">)</span>
    <a href="#82007" title="StringBuffer">sb</a>.<span title="()String">toString</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[org.squeryl.dsl.ast.ExpressionNode]" id="70330">children</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[org.squeryl.dsl.ast.ExpressionNode]" id="82040">lb</a> = <span title="[A](elems: A*)scala.collection.mutable.ListBuffer[A]">ListBuffer</span><span title="(elems: org.squeryl.dsl.ast.ExpressionNode*)scala.collection.mutable.ListBuffer[org.squeryl.dsl.ast.ExpressionNode]" class="delimiter">[</span><a href="ExpressionNode.scala.html#7640" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>;
    <a href="#82040" title="scala.collection.mutable.ListBuffer[org.squeryl.dsl.ast.ExpressionNode]">lb</a> <span title="(xs: scala.collection.TraversableOnce[org.squeryl.dsl.ast.ExpressionNode])lb.type">++=</span> <a href="#70338" title="=&gt; Iterable[org.squeryl.dsl.ast.SelectElement]">selectList</a>
    <a href="#82040" title="scala.collection.mutable.ListBuffer[org.squeryl.dsl.ast.ExpressionNode]">lb</a> <span title="(xs: scala.collection.TraversableOnce[org.squeryl.dsl.ast.ExpressionNode])lb.type">++=</span> <a href="#70352" title="=&gt; Iterable[org.squeryl.dsl.ast.ViewExpressionNode[_]]">views</a>
    <a href="#82040" title="scala.collection.mutable.ListBuffer[org.squeryl.dsl.ast.ExpressionNode]">lb</a> <span title="(xs: scala.collection.TraversableOnce[org.squeryl.dsl.ast.ExpressionNode])lb.type">++=</span> <a href="#70351" title="=&gt; Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]">subQueries</a>
    <a href="#82040" title="scala.collection.mutable.ListBuffer[org.squeryl.dsl.ast.ExpressionNode]">lb</a> <span title="(xs: scala.collection.TraversableOnce[org.squeryl.dsl.ast.ExpressionNode])lb.type">++=</span> <a href="#70307" title="=&gt; Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]">tableExpressions</a>.<span title="(p: org.squeryl.dsl.ast.QueryableExpressionNode =&gt; Boolean)Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]">filter</span><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryableExpressionNode" id="82384">e</a>=&gt; <a href="#82384" title="org.squeryl.dsl.ast.QueryableExpressionNode">e</a>.<a href="ExpressionNode.scala.html#64967" title="=&gt; Option[org.squeryl.dsl.ast.LogicalBoolean]">joinExpression</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="None.type">None</span><span class="delimiter">)</span>.<span title="(f: org.squeryl.dsl.ast.QueryableExpressionNode =&gt; org.squeryl.dsl.ast.LogicalBoolean)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[org.squeryl.dsl.ast.QueryableExpressionNode],org.squeryl.dsl.ast.LogicalBoolean,scala.collection.TraversableOnce[org.squeryl.dsl.ast.ExpressionNode]])scala.collection.TraversableOnce[org.squeryl.dsl.ast.ExpressionNode]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,org.squeryl.dsl.ast.LogicalBoolean,Iterable[org.squeryl.dsl.ast.LogicalBoolean]]" class="delimiter">(</span><a href="#82409" title="org.squeryl.dsl.ast.QueryableExpressionNode">_</a>.<a href="ExpressionNode.scala.html#64967" title="=&gt; Option[org.squeryl.dsl.ast.LogicalBoolean]">joinExpression</a>.<span title="=&gt; org.squeryl.dsl.ast.LogicalBoolean">get</span><span class="delimiter">)</span>  
    <a href="#82040" title="scala.collection.mutable.ListBuffer[org.squeryl.dsl.ast.ExpressionNode]">lb</a> <span title="(xs: scala.collection.TraversableOnce[org.squeryl.dsl.ast.ExpressionNode])lb.type">++=</span> <a href="#70310" title="(xo: Option[org.squeryl.dsl.ast.ExpressionNode])Iterable[org.squeryl.dsl.ast.ExpressionNode]">whereClause</a>
    <a href="#82040" title="scala.collection.mutable.ListBuffer[org.squeryl.dsl.ast.ExpressionNode]">lb</a> <span title="(xs: scala.collection.TraversableOnce[org.squeryl.dsl.ast.ExpressionNode])lb.type">++=</span> <a href="#70314" title="=&gt; Iterable[org.squeryl.dsl.ast.ExpressionNode]">groupByClause</a>
    <a href="#82040" title="scala.collection.mutable.ListBuffer[org.squeryl.dsl.ast.ExpressionNode]">lb</a> <span title="(xs: scala.collection.TraversableOnce[org.squeryl.dsl.ast.ExpressionNode])lb.type">++=</span> <a href="#70312" title="(xo: Option[org.squeryl.dsl.ast.ExpressionNode])Iterable[org.squeryl.dsl.ast.ExpressionNode]">havingClause</a>
    <a href="#82040" title="scala.collection.mutable.ListBuffer[org.squeryl.dsl.ast.ExpressionNode]">lb</a> <span title="(xs: scala.collection.TraversableOnce[org.squeryl.dsl.ast.ExpressionNode])lb.type">++=</span> <a href="#70316" title="=&gt; Iterable[org.squeryl.dsl.ast.ExpressionNode]">orderByClause</a>      
    <a href="#82040" title="scala.collection.mutable.ListBuffer[org.squeryl.dsl.ast.ExpressionNode]">lb</a>.<span title="=&gt; List[org.squeryl.dsl.ast.ExpressionNode]">toList</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(q: org.squeryl.dsl.ast.QueryableExpressionNode)Boolean" id="70331">isChild</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryableExpressionNode" id="82437">q</a>: <a href="ExpressionNode.scala.html#7677" title="org.squeryl.dsl.ast.QueryableExpressionNode">QueryableExpressionNode</a><span class="delimiter">)</span>:<span title="Boolean">Boolean</span> =
    <a href="#70352" title="=&gt; Iterable[org.squeryl.dsl.ast.ViewExpressionNode[_]]">views</a>.<span title="(p: org.squeryl.dsl.ast.ViewExpressionNode[_] =&gt; Boolean)Option[org.squeryl.dsl.ast.ViewExpressionNode[_]]">find</span><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.ViewExpressionNode[_]" id="82444">n</a> =&gt; <a href="#82444" title="org.squeryl.dsl.ast.ViewExpressionNode[_]">n</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#82437" title="org.squeryl.dsl.ast.QueryableExpressionNode">q</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="None.type">None</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="70332">selectDistinct</a> = <a href="#70349" title="org.squeryl.dsl.AbstractQuery[R]">_query</a>.<a href="../AbstractQuery.scala.html#70117" title="=&gt; Boolean">selectDistinct</a>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="70333">isForUpdate</a> = <a href="#70349" title="org.squeryl.dsl.AbstractQuery[R]">_query</a>.<a href="../AbstractQuery.scala.html#70120" title="=&gt; Boolean">isForUpdate</a>

  <span class="keyword">def</span> <a title="=&gt; Option[(Int, Int)]" id="70334">page</a> = <a href="#70349" title="org.squeryl.dsl.AbstractQuery[R]">_query</a>.<a href="../AbstractQuery.scala.html#70123" title="=&gt; Option[(Int, Int)]">page</a>

  <span class="keyword">def</span> <a title="=&gt; String" id="70335">alias</a> = <span title="String(&quot;q&quot;)" class="string">&quot;q&quot;</span> <span title="(x$1: Any)String">+</span> <a href="ExpressionNode.scala.html#56585" title="=&gt; Option[Int]">uniqueId</a>.<span title="=&gt; Int">get</span>

  <span class="keyword">def</span> <a title="(forScope: org.squeryl.dsl.ast.QueryExpressionElements)Iterable[org.squeryl.dsl.ast.SelectElement]" id="70336">getOrCreateAllSelectElements</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryExpressionElements" id="82468">forScope</a>: <a href="QueryExpressionElements.scala.html#7692" title="org.squeryl.dsl.ast.QueryExpressionElements">QueryExpressionElements</a><span class="delimiter">)</span>: <span title="Iterable[org.squeryl.dsl.ast.SelectElement]">Iterable</span><span class="delimiter">[</span>SelectElement<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#70319" title="=&gt; Iterable[org.squeryl.dsl.ast.SelectElement]">_selectList</a>.<span title="(f: org.squeryl.dsl.ast.SelectElement =&gt; org.squeryl.dsl.ast.ExportedSelectElement)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[org.squeryl.dsl.ast.SelectElement],org.squeryl.dsl.ast.ExportedSelectElement,Iterable[org.squeryl.dsl.ast.SelectElement]])Iterable[org.squeryl.dsl.ast.SelectElement]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,org.squeryl.dsl.ast.ExportedSelectElement,Iterable[org.squeryl.dsl.ast.ExportedSelectElement]]" class="delimiter">(</span><a title="org.squeryl.dsl.ast.SelectElement" id="82489">se</a> =&gt; <span title="org.squeryl.dsl.ast.ExportedSelectElement" class="keyword">new</span> <a href="SelectElement.scala.html#7717" title="org.squeryl.dsl.ast.ExportedSelectElement">ExportedSelectElement</a><span class="delimiter">(</span><a href="#82489" title="org.squeryl.dsl.ast.SelectElement">se</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(sl: Iterable[org.squeryl.dsl.ast.SelectElement], s: AnyRef)Unit" id="70337">setOutExpressionNodesAndSample</a><span class="delimiter">(</span><a title="Iterable[org.squeryl.dsl.ast.SelectElement]" id="70384">sl</a>: <span title="Iterable[org.squeryl.dsl.ast.SelectElement]">Iterable</span><span class="delimiter">[</span>SelectElement<span class="delimiter">]</span>, <a title="AnyRef" id="70385">s</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#70319" title="(x$1: Iterable[org.squeryl.dsl.ast.SelectElement])Unit">_selectList</a> = <a href="#70384" title="Iterable[org.squeryl.dsl.ast.SelectElement]">sl</a>
    <a href="#70322" title="(x$1: Option[AnyRef])Unit">_sample</a> = <span title="(x: AnyRef)Some[AnyRef]">Some</span><span class="delimiter">(</span><a href="#70385" title="AnyRef">s</a><span class="delimiter">)</span>

    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#70349" title="org.squeryl.dsl.AbstractQuery[R]">_query</a>.<a href="../AbstractQuery.scala.html#70114" title="=&gt; Boolean">isRoot</a><span class="delimiter">)</span> <span class="delimiter">{</span>

      <span class="keyword">var</span> <a title="Int" id="70393">jdbcIndex</a> = <span title="Int(1)" class="int">1</span>
      <span class="keyword">for</span><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.SelectElement" id="70419">oen</a> &lt;- <a href="#70338" title="(f: org.squeryl.dsl.ast.SelectElement =&gt; Unit)Unit">selectList</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#70419" title="org.squeryl.dsl.ast.SelectElement">oen</a>.<a href="SelectElement.scala.html#56553" title="(jdbcIndex: Int)Unit">prepareMapper</a><span class="delimiter">(</span><a href="#70393" title="Int">jdbcIndex</a><span class="delimiter">)</span>
        <a href="#70393" title="Int">jdbcIndex</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>

      <span class="keyword">var</span> <a title="Int" id="70394">idGen</a> = <span title="Int(0)" class="int">0</span>
      <a href="ExpressionNode.scala.html#31654" title="(visitor: (org.squeryl.dsl.ast.ExpressionNode, Option[org.squeryl.dsl.ast.ExpressionNode], Int) =&gt; Unit)Unit">visitDescendants</a><span class="delimiter">(</span><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.ExpressionNode" id="70430">node</a>,<a title="Option[org.squeryl.dsl.ast.ExpressionNode]" id="70431">parent</a>,<a title="Int" id="70432">i</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
        <a href="#70430" title="org.squeryl.dsl.ast.ExpressionNode">node</a>.<a href="ExpressionNode.scala.html#31638" title="(x$1: Option[org.squeryl.dsl.ast.ExpressionNode])Unit">parent</a> = <a href="#70431" title="Option[org.squeryl.dsl.ast.ExpressionNode]">parent</a>

        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#70430" title="org.squeryl.dsl.ast.ExpressionNode">node</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="ExpressionNode.scala.html#7676" title="org.squeryl.dsl.ast.UniqueIdInAliaseRequired">UniqueIdInAliaseRequired</a><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="org.squeryl.dsl.ast.UniqueIdInAliaseRequired" id="70433">nxn</a> = <a href="#70430" title="org.squeryl.dsl.ast.ExpressionNode">node</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.dsl.ast.UniqueIdInAliaseRequired" class="delimiter">[</span><a href="ExpressionNode.scala.html#7676" title="org.squeryl.dsl.ast.UniqueIdInAliaseRequired">UniqueIdInAliaseRequired</a><span class="delimiter">]</span>
          <a href="#70433" title="org.squeryl.dsl.ast.UniqueIdInAliaseRequired">nxn</a>.<a href="ExpressionNode.scala.html#56586" title="(x$1: Option[Int])Unit">uniqueId</a> = <span title="(x: Int)Some[Int]">Some</span><span class="delimiter">(</span><a href="#70394" title="Int">idGen</a><span class="delimiter">)</span>
          <a href="#70394" title="Int">idGen</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; Iterable[org.squeryl.dsl.ast.SelectElement]" id="70338">selectList</a>: <span title="Iterable[org.squeryl.dsl.ast.SelectElement]">Iterable</span><span class="delimiter">[</span>SelectElement<span class="delimiter">]</span> = <a href="#70319" title="=&gt; Iterable[org.squeryl.dsl.ast.SelectElement]">_selectList</a>

  <span class="keyword">def</span> <a title="(sw: org.squeryl.internals.StatementWriter)Unit" id="70339">doWrite</a><span class="delimiter">(</span><a title="org.squeryl.internals.StatementWriter" id="82531">sw</a>: <a href="../../internals/StatementWriter.scala.html#8175" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Boolean" id="82534">isNotRoot</a> = <a href="ExpressionNode.scala.html#31637" title="=&gt; Option[org.squeryl.dsl.ast.ExpressionNode]">parent</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="None.type">None</span>

    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#82534" title="Boolean">isNotRoot</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#82531" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../../internals/StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span><span class="delimiter">)</span>
      <a href="#82531" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../../internals/StatementWriter.scala.html#41672" title="(width: Int)Unit">indent</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#82531" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../../internals/StatementWriter.scala.html#41652" title="=&gt; org.squeryl.internals.DatabaseAdapter">databaseAdapter</a>.<a href="../../internals/DatabaseAdapter.scala.html#38109" title="(qen: org.squeryl.dsl.ast.QueryExpressionElements, sw: org.squeryl.internals.StatementWriter)Unit">writeQuery</a><span class="delimiter">(</span><a href="#7699" title="org.squeryl.dsl.ast.QueryExpressionNode[R]" class="keyword">this</a>, <a href="#82531" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#82534" title="Boolean">isNotRoot</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#82531" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../../internals/StatementWriter.scala.html#41673" title="(width: Int)Unit">unindent</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      <a href="#82531" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../../internals/StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;) &quot;)" class="string">&quot;) &quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>