<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>main/org/squeryl/internals/DatabaseAdapter.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/*******************************************************************************
 * Copyright 2010 Maxime LÃ©vesque
 * 
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *   http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ***************************************************************************** */
<span class="keyword">package</span> org.squeryl.internals

<span class="keyword">import</span> org.squeryl.dsl.ast._
<span class="keyword">import</span> org.squeryl.dsl._
<span class="keyword">import</span> org.squeryl._
<span class="keyword">import</span> dsl.CompositeKey
<span class="keyword">import</span> org.squeryl.<span class="delimiter">{</span>Schema, Session, Table<span class="delimiter">}</span>
<span class="keyword">import</span> java.sql._
<span class="keyword">import</span> java.util.UUID

<span class="keyword">trait</span> <a title="trait DatabaseAdapter extends Object" id="8052">DatabaseAdapter</a> <span title="Unit" class="delimiter">{</span>

  <span class="keyword">class</span> <a title="class Zip[T] extends Object" id="38102">Zip</a><span class="delimiter">[</span><a title="" id="38103">T</a><span class="delimiter">]</span><a href="#38102" title="DatabaseAdapter.this.Zip[T]" class="delimiter">(</a><span class="keyword">val</span> <a title="T" id="95204">element</a>: <a href="#38103" title="T">T</a>, <span class="keyword">val</span> <a title="Boolean" id="95205">isLast</a>: <span title="Boolean">Boolean</span>, <span class="keyword">val</span> <a title="Boolean" id="95206">isFirst</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>
  
  <span class="keyword">class</span> <a title="class ZipIterable[T] extends Object" id="38104">ZipIterable</a><span class="delimiter">[</span><a title="" id="38105">T</a><span class="delimiter">]</span><a href="#38104" title="DatabaseAdapter.this.ZipIterable[T]" class="delimiter">(</a><a title="Iterable[T]" id="42316">iterable</a>: <span title="Iterable[T]">Iterable</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Int" id="42309">count</a> = <a href="#42316" title="Iterable[T]">iterable</a>.<span title="=&gt; Int">size</span>
    <span class="keyword">def</span> <a title="[U](f: DatabaseAdapter.this.Zip[T] =&gt; U)Unit" id="42311">foreach</a><span class="delimiter">[</span><a title="" id="42313">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="DatabaseAdapter.this.Zip[T] =&gt; U" id="63617">f</a>: Zip<span class="delimiter">[</span>T<span class="delimiter">]</span> =&gt; U<span class="delimiter">)</span>:<span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="95209">c</a> = <span title="Int(1)" class="int">1</span>  
      <span class="keyword">for</span><span class="delimiter">(</span><a title="T" id="95226">i</a> &lt;- <a href="#42316" title="(f: T =&gt; Unit)Unit">iterable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#63617" title="(v1: DatabaseAdapter.this.Zip[T])U">f</a><span class="delimiter">(</span><span title="DatabaseAdapter.this.Zip[T]" class="keyword">new</span> <a href="#38102" title="DatabaseAdapter.this.Zip[T]">Zip</a><span class="delimiter">(</span><a href="#95226" title="T">i</a>, <a href="#95209" title="Int">c</a> <span title="(x: Int)Boolean">==</span> <a href="#42309" title="=&gt; Int">count</a>, <a href="#95209" title="Int">c</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#95209" title="Int">c</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; DatabaseAdapter.this.ZipIterable[T]" id="42314">zipi</a> = <a href="#38104" title="DatabaseAdapter.this.ZipIterable[T]" class="keyword">this</a>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[T](i: Iterable[T])DatabaseAdapter.this.ZipIterable[T]" id="38106">zipIterable</a><span class="delimiter">[</span><a title="" id="38108">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Iterable[T]" id="42305">i</a>: <span title="Iterable[T]">Iterable</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="DatabaseAdapter.this.ZipIterable[T]" class="keyword">new</span> <a href="#38104" title="DatabaseAdapter.this.ZipIterable[T]">ZipIterable</a><span class="delimiter">(</span><a href="#42305" title="Iterable[T]">i</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(qen: org.squeryl.dsl.ast.QueryExpressionElements, sw: org.squeryl.internals.StatementWriter)Unit" id="38109">writeQuery</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryExpressionElements" id="66399">qen</a>: <a href="../dsl/ast/QueryExpressionElements.scala.html#7692" title="org.squeryl.dsl.ast.QueryExpressionElements">QueryExpressionElements</a>, <a title="org.squeryl.internals.StatementWriter" id="66400">sw</a>: <a href="StatementWriter.scala.html#8175" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span>:<span title="Unit">Unit</span> =
    <a href="#38110" title="(qen: org.squeryl.dsl.ast.QueryExpressionElements, sw: org.squeryl.internals.StatementWriter, inverseOrderBy: Boolean, topHint: Option[String])Unit">writeQuery</a><span class="delimiter">(</span><a href="#66399" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>, <a href="#66400" title="org.squeryl.internals.StatementWriter">sw</a>, <span title="Boolean(false)" class="keyword">false</span>, <span title="None.type">None</span><span class="delimiter">)</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(qen: org.squeryl.dsl.ast.QueryExpressionElements, sw: org.squeryl.internals.StatementWriter, inverseOrderBy: Boolean, topHint: Option[String])Unit" id="38110">writeQuery</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryExpressionElements" id="66395">qen</a>: <a href="../dsl/ast/QueryExpressionElements.scala.html#7692" title="org.squeryl.dsl.ast.QueryExpressionElements">QueryExpressionElements</a>, <a title="org.squeryl.internals.StatementWriter" id="66396">sw</a>: <a href="StatementWriter.scala.html#8175" title="org.squeryl.internals.StatementWriter">StatementWriter</a>, <a title="Boolean" id="66397">inverseOrderBy</a>: <span title="Boolean">Boolean</span>, <a title="Option[String]" id="66398">topHint</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>:<span title="Unit">Unit</span> = <span class="delimiter">{</span>

    <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;Select&quot;)" class="string">&quot;Select&quot;</span><span class="delimiter">)</span>

    <a href="#66398" title="Option[String]">topHint</a>.<span title="(f: String =&gt; String)Unit">foreach</span><span class="delimiter">(</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span>  <span title="(x$1: Any)String">+</span> <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#95260" title="String">_</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span>

    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#66395" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>.<a href="../dsl/ast/QueryExpressionElements.scala.html#63856" title="=&gt; Boolean">selectDistinct</a><span class="delimiter">)</span>
      <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot; distinct&quot;)" class="string">&quot; distinct&quot;</span><span class="delimiter">)</span>
    
    <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41680" title="=&gt; Unit">nextLine</a>
    <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41690" title="(u: =&gt; Unit)Unit">writeIndented</a> <span class="delimiter">{</span>
      <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41688" title="(s: Iterable[org.squeryl.dsl.ast.ExpressionNode], separator: String, newLineAfterSeparator: Boolean)Unit">writeNodesWithSeparator</a><span class="delimiter">(</span><a href="#66395" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>.<a href="../dsl/ast/QueryExpressionElements.scala.html#63863" title="=&gt; Iterable[org.squeryl.dsl.ast.SelectElement]">selectList</a>.<span title="(p: org.squeryl.dsl.ast.SelectElement =&gt; Boolean)Iterable[org.squeryl.dsl.ast.SelectElement]">filter</span><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.SelectElement" id="95269">e</a> =&gt; <span title="=&gt; Boolean">!</span> <a href="#95269" title="org.squeryl.dsl.ast.SelectElement">e</a>.<a href="../dsl/ast/SelectElement.scala.html#56554" title="=&gt; Boolean">inhibited</a><span class="delimiter">)</span>, <span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41680" title="=&gt; Unit">nextLine</a>
    <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;From&quot;)" class="string">&quot;From&quot;</span><span class="delimiter">)</span>
    <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41680" title="=&gt; Unit">nextLine</a>

    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#66395" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>.<a href="../dsl/ast/QueryExpressionElements.scala.html#63860" title="=&gt; Boolean">isJoinForm</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41690" title="(u: =&gt; Unit)Unit">writeIndented</a> <span class="delimiter">{</span>
        <span class="keyword">for</span><span class="delimiter">(</span><a title="DatabaseAdapter.this.Zip[org.squeryl.dsl.ast.QueryableExpressionNode]" id="95296">z</a> &lt;- <a href="#66395" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>.<a href="#38106" title="(i: Iterable[org.squeryl.dsl.ast.QueryableExpressionNode])DatabaseAdapter.this.ZipIterable[org.squeryl.dsl.ast.QueryableExpressionNode]">tableExpressions</a>.<a href="#42311" title="(f: DatabaseAdapter.this.Zip[org.squeryl.dsl.ast.QueryableExpressionNode] =&gt; Unit)Unit">zipi</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#95296" title="DatabaseAdapter.this.Zip[org.squeryl.dsl.ast.QueryableExpressionNode]">z</a>.<a href="#95204" title="=&gt; org.squeryl.dsl.ast.QueryableExpressionNode">element</a>.<a href="../dsl/ast/ExpressionNode.scala.html#31643" title="(sw: org.squeryl.internals.StatementWriter)Unit">write</a><span class="delimiter">(</span><a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
          <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span>
          <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41692" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#95296" title="DatabaseAdapter.this.Zip[org.squeryl.dsl.ast.QueryableExpressionNode]">z</a>.<a href="#95204" title="=&gt; org.squeryl.dsl.ast.QueryableExpressionNode">element</a>.<a href="../dsl/ast/ExpressionNode.scala.html#64978" title="=&gt; String">alias</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#95296" title="DatabaseAdapter.this.Zip[org.squeryl.dsl.ast.QueryableExpressionNode]">z</a>.<a href="#95205" title="=&gt; Boolean">isLast</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span>
            <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41680" title="=&gt; Unit">nextLine</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41684" title="=&gt; Unit">pushPendingNextLine</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]" id="95298">singleNonJoinTableExpression</a> = <a href="#66395" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>.<a href="../dsl/ast/QueryExpressionElements.scala.html#63862" title="=&gt; Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]">tableExpressions</a>.<span title="(p: org.squeryl.dsl.ast.QueryableExpressionNode =&gt; Boolean)Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]">filter</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span> <a href="#95306" title="org.squeryl.dsl.ast.QueryableExpressionNode">_</a>.<a href="../dsl/ast/ExpressionNode.scala.html#64962" title="=&gt; Boolean">isMemberOfJoinList</a><span class="delimiter">)</span>
      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#95298" title="Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]">singleNonJoinTableExpression</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span>, <span title="String(&quot;join query must have exactly one FROM argument, got : &quot;)" class="string">&quot;join query must have exactly one FROM argument, got : &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#66395" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>.<a href="../dsl/ast/QueryExpressionElements.scala.html#63862" title="=&gt; Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]">tableExpressions</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="org.squeryl.dsl.ast.QueryableExpressionNode" id="95299">firstJoinExpr</a> = <a href="#95298" title="Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]">singleNonJoinTableExpression</a>.<span title="=&gt; org.squeryl.dsl.ast.QueryableExpressionNode">head</span>
      <span class="keyword">val</span> <a title="Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]" id="95300">restOfJoinExpr</a> = <a href="#66395" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>.<a href="../dsl/ast/QueryExpressionElements.scala.html#63862" title="=&gt; Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]">tableExpressions</a>.<span title="(p: org.squeryl.dsl.ast.QueryableExpressionNode =&gt; Boolean)Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]">filter</span><span class="delimiter">(</span><a href="#95319" title="org.squeryl.dsl.ast.QueryableExpressionNode">_</a>.<a href="../dsl/ast/ExpressionNode.scala.html#64962" title="=&gt; Boolean">isMemberOfJoinList</a><span class="delimiter">)</span>
      <a href="#95299" title="org.squeryl.dsl.ast.QueryableExpressionNode">firstJoinExpr</a>.<a href="../dsl/ast/ExpressionNode.scala.html#31643" title="(sw: org.squeryl.internals.StatementWriter)Unit">write</a><span class="delimiter">(</span><a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
      <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span>
      <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41692" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#95299" title="org.squeryl.dsl.ast.QueryableExpressionNode">firstJoinExpr</a>.<a href="../dsl/ast/ExpressionNode.scala.html#64978" title="=&gt; String">alias</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41680" title="=&gt; Unit">nextLine</a>

      <span class="keyword">for</span><span class="delimiter">(</span><a title="DatabaseAdapter.this.Zip[org.squeryl.dsl.ast.QueryableExpressionNode]" id="95343">z</a> &lt;- <a href="#38106" title="(i: Iterable[org.squeryl.dsl.ast.QueryableExpressionNode])DatabaseAdapter.this.ZipIterable[org.squeryl.dsl.ast.QueryableExpressionNode]">restOfJoinExpr</a>.<a href="#42311" title="(f: DatabaseAdapter.this.Zip[org.squeryl.dsl.ast.QueryableExpressionNode] =&gt; Unit)Unit">zipi</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#38114" title="(queryableExpressionNode: org.squeryl.dsl.ast.QueryableExpressionNode, sw: org.squeryl.internals.StatementWriter)Unit">writeJoin</a><span class="delimiter">(</span><a href="#95343" title="DatabaseAdapter.this.Zip[org.squeryl.dsl.ast.QueryableExpressionNode]">z</a>.<a href="#95204" title="=&gt; org.squeryl.dsl.ast.QueryableExpressionNode">element</a>, <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#95343" title="DatabaseAdapter.this.Zip[org.squeryl.dsl.ast.QueryableExpressionNode]">z</a>.<a href="#95205" title="=&gt; Boolean">isLast</a><span class="delimiter">)</span>
          <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41675" title="=&gt; Unit">unindent</a>
        <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41684" title="=&gt; Unit">pushPendingNextLine</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <a href="#38112" title="(qen: org.squeryl.dsl.ast.QueryExpressionElements, sw: org.squeryl.internals.StatementWriter)Unit">writeEndOfFromHint</a><span class="delimiter">(</span><a href="#66395" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>, <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
    
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#66395" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>.<a href="../dsl/ast/QueryExpressionElements.scala.html#63865" title="=&gt; Boolean">hasUnInhibitedWhereClause</a><span class="delimiter">)</span> <span class="delimiter">{</span>      
      <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;Where&quot;)" class="string">&quot;Where&quot;</span><span class="delimiter">)</span>
      <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41680" title="=&gt; Unit">nextLine</a>
      <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41690" title="(u: =&gt; Unit)Unit">writeIndented</a> <span class="delimiter">{</span>
        <a href="#66395" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>.<a href="../dsl/ast/QueryExpressionElements.scala.html#63864" title="=&gt; Option[org.squeryl.dsl.ast.ExpressionNode]">whereClause</a>.<span title="=&gt; org.squeryl.dsl.ast.ExpressionNode">get</span>.<a href="../dsl/ast/ExpressionNode.scala.html#31643" title="(sw: org.squeryl.internals.StatementWriter)Unit">write</a><span class="delimiter">(</span><a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41684" title="=&gt; Unit">pushPendingNextLine</a>
    <span class="delimiter">}</span>

    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span> <a href="#66395" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>.<a href="../dsl/ast/QueryExpressionElements.scala.html#63867" title="=&gt; Iterable[org.squeryl.dsl.ast.ExpressionNode]">groupByClause</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>      
      <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;Group By&quot;)" class="string">&quot;Group By&quot;</span><span class="delimiter">)</span>
      <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41680" title="=&gt; Unit">nextLine</a>
      <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41690" title="(u: =&gt; Unit)Unit">writeIndented</a> <span class="delimiter">{</span>
        <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41688" title="(s: Iterable[org.squeryl.dsl.ast.ExpressionNode], separator: String, newLineAfterSeparator: Boolean)Unit">writeNodesWithSeparator</a><span class="delimiter">(</span><a href="#66395" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>.<a href="../dsl/ast/QueryExpressionElements.scala.html#63867" title="=&gt; Iterable[org.squeryl.dsl.ast.ExpressionNode]">groupByClause</a>.<span title="(p: org.squeryl.dsl.ast.ExpressionNode =&gt; Boolean)Iterable[org.squeryl.dsl.ast.ExpressionNode]">filter</span><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.ExpressionNode" id="95359">e</a> =&gt; <span title="=&gt; Boolean">!</span> <a href="#95359" title="org.squeryl.dsl.ast.ExpressionNode">e</a>.<a href="../dsl/ast/ExpressionNode.scala.html#31641" title="=&gt; Boolean">inhibited</a><span class="delimiter">)</span>, <span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41684" title="=&gt; Unit">pushPendingNextLine</a>
    <span class="delimiter">}</span>

    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span> <a href="#66395" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>.<a href="../dsl/ast/QueryExpressionElements.scala.html#63866" title="=&gt; Option[org.squeryl.dsl.ast.ExpressionNode]">havingClause</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;Having&quot;)" class="string">&quot;Having&quot;</span><span class="delimiter">)</span>
      <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41680" title="=&gt; Unit">nextLine</a>
      <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41690" title="(u: =&gt; Unit)Unit">writeIndented</a> <span class="delimiter">{</span>
        <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41688" title="(s: Iterable[org.squeryl.dsl.ast.ExpressionNode], separator: String, newLineAfterSeparator: Boolean)Unit">writeNodesWithSeparator</a><span class="delimiter">(</span><a href="#66395" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>.<a href="../dsl/ast/QueryExpressionElements.scala.html#63866" title="=&gt; Option[org.squeryl.dsl.ast.ExpressionNode]">havingClause</a>.<span title="(p: org.squeryl.dsl.ast.ExpressionNode =&gt; Boolean)Option[org.squeryl.dsl.ast.ExpressionNode]">filter</span><span title="(xo: Option[org.squeryl.dsl.ast.ExpressionNode])Iterable[org.squeryl.dsl.ast.ExpressionNode]" class="delimiter">(</span><a title="org.squeryl.dsl.ast.ExpressionNode" id="95364">e</a> =&gt; <span title="=&gt; Boolean">!</span> <a href="#95364" title="org.squeryl.dsl.ast.ExpressionNode">e</a>.<a href="../dsl/ast/ExpressionNode.scala.html#31641" title="=&gt; Boolean">inhibited</a><span class="delimiter">)</span>, <span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41684" title="=&gt; Unit">pushPendingNextLine</a>
    <span class="delimiter">}</span>

    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span> <a href="#66395" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>.<a href="../dsl/ast/QueryExpressionElements.scala.html#63868" title="=&gt; Iterable[org.squeryl.dsl.ast.ExpressionNode]">orderByClause</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#66395" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>.<a href="../dsl/ast/ExpressionNode.scala.html#31637" title="=&gt; Option[org.squeryl.dsl.ast.ExpressionNode]">parent</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="None.type">None</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;Order By&quot;)" class="string">&quot;Order By&quot;</span><span class="delimiter">)</span>
      <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41680" title="=&gt; Unit">nextLine</a>
      <span class="keyword">val</span> <a title="Iterable[org.squeryl.dsl.ast.ExpressionNode]" id="95376">ob0</a> = <a href="#66395" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>.<a href="../dsl/ast/QueryExpressionElements.scala.html#63868" title="=&gt; Iterable[org.squeryl.dsl.ast.ExpressionNode]">orderByClause</a>.<span title="(p: org.squeryl.dsl.ast.ExpressionNode =&gt; Boolean)Iterable[org.squeryl.dsl.ast.ExpressionNode]">filter</span><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.ExpressionNode" id="95383">e</a> =&gt; <span title="=&gt; Boolean">!</span> <a href="#95383" title="org.squeryl.dsl.ast.ExpressionNode">e</a>.<a href="../dsl/ast/ExpressionNode.scala.html#31641" title="=&gt; Boolean">inhibited</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Iterable[org.squeryl.dsl.ast.ExpressionNode]" id="95377">ob</a> = <span title="Iterable[org.squeryl.dsl.ast.ExpressionNode]" class="keyword">if</span><span class="delimiter">(</span><a href="#66397" title="Boolean">inverseOrderBy</a><span class="delimiter">)</span> <a href="#95376" title="Iterable[org.squeryl.dsl.ast.ExpressionNode]">ob0</a>.<span title="(f: org.squeryl.dsl.ast.ExpressionNode =&gt; org.squeryl.dsl.ast.OrderByExpression)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[org.squeryl.dsl.ast.ExpressionNode],org.squeryl.dsl.ast.OrderByExpression,Iterable[org.squeryl.dsl.ast.OrderByExpression]])Iterable[org.squeryl.dsl.ast.OrderByExpression]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,org.squeryl.dsl.ast.OrderByExpression,Iterable[org.squeryl.dsl.ast.OrderByExpression]]" class="delimiter">(</span><a href="#95400" title="org.squeryl.dsl.ast.ExpressionNode">_</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.dsl.ast.OrderByExpression" class="delimiter">[</span><a href="../dsl/ast/ExpressionNode.scala.html#7679" title="org.squeryl.dsl.ast.OrderByExpression">OrderByExpression</a><span class="delimiter">]</span>.<a href="../dsl/ast/ExpressionNode.scala.html#35302" title="=&gt; org.squeryl.dsl.ast.OrderByExpression">inverse</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#95376" title="Iterable[org.squeryl.dsl.ast.ExpressionNode]">ob0</a>
      <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41690" title="(u: =&gt; Unit)Unit">writeIndented</a> <span class="delimiter">{</span>
        <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41688" title="(s: Iterable[org.squeryl.dsl.ast.ExpressionNode], separator: String, newLineAfterSeparator: Boolean)Unit">writeNodesWithSeparator</a><span class="delimiter">(</span><a href="#95377" title="Iterable[org.squeryl.dsl.ast.ExpressionNode]">ob</a>, <span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41684" title="=&gt; Unit">pushPendingNextLine</a>
    <span class="delimiter">}</span>

    <a href="#38111" title="(qen: org.squeryl.dsl.ast.QueryExpressionElements, sw: org.squeryl.internals.StatementWriter)Unit">writeEndOfQueryHint</a><span class="delimiter">(</span><a href="#66395" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>, <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>

    <a href="#38113" title="(qen: org.squeryl.dsl.ast.QueryExpressionElements, sw: org.squeryl.internals.StatementWriter)Unit">writePaginatedQueryDeclaration</a><span class="delimiter">(</span><a href="#66395" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>, <a href="#66396" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(qen: org.squeryl.dsl.ast.QueryExpressionElements, sw: org.squeryl.internals.StatementWriter)Unit" id="38111">writeEndOfQueryHint</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryExpressionElements" id="66737">qen</a>: <a href="../dsl/ast/QueryExpressionElements.scala.html#7692" title="org.squeryl.dsl.ast.QueryExpressionElements">QueryExpressionElements</a>, <a title="org.squeryl.internals.StatementWriter" id="66738">sw</a>: <a href="StatementWriter.scala.html#8175" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> = 
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#66737" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>.<a href="../dsl/ast/QueryExpressionElements.scala.html#63857" title="=&gt; Boolean">isForUpdate</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#66738" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;for update&quot;)" class="string">&quot;for update&quot;</span><span class="delimiter">)</span>
      <a href="#66738" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41684" title="=&gt; Unit">pushPendingNextLine</a>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(qen: org.squeryl.dsl.ast.QueryExpressionElements, sw: org.squeryl.internals.StatementWriter)Unit" id="38112">writeEndOfFromHint</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryExpressionElements" id="66749">qen</a>: <a href="../dsl/ast/QueryExpressionElements.scala.html#7692" title="org.squeryl.dsl.ast.QueryExpressionElements">QueryExpressionElements</a>, <a title="org.squeryl.internals.StatementWriter" id="66750">sw</a>: <a href="StatementWriter.scala.html#8175" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> = <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(qen: org.squeryl.dsl.ast.QueryExpressionElements, sw: org.squeryl.internals.StatementWriter)Unit" id="38113">writePaginatedQueryDeclaration</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryExpressionElements" id="66388">qen</a>: <a href="../dsl/ast/QueryExpressionElements.scala.html#7692" title="org.squeryl.dsl.ast.QueryExpressionElements">QueryExpressionElements</a>, <a title="org.squeryl.internals.StatementWriter" id="66389">sw</a>: <a href="StatementWriter.scala.html#8175" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span>:<span title="Unit">Unit</span> = 
    <a href="#66388" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>.<a href="../dsl/ast/QueryExpressionElements.scala.html#63858" title="=&gt; Option[(Int, Int)]">page</a>.<span title="(f: ((Int, Int)) =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a title="(Int, Int)" id="95425">p</a> =&gt; <span class="delimiter">{</span>
      <a href="#66389" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;limit &quot;)" class="string">&quot;limit &quot;</span><span class="delimiter">)</span>
      <a href="#66389" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#95425" title="(Int, Int)">p</a>.<span title="=&gt; Int">_2</span>.<span title="()String">toString</span><span class="delimiter">)</span>
      <a href="#66389" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot; offset &quot;)" class="string">&quot; offset &quot;</span><span class="delimiter">)</span>
      <a href="#66389" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#95425" title="(Int, Int)">p</a>.<span title="=&gt; Int">_1</span>.<span title="()String">toString</span><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>


  <span class="keyword">def</span> <a title="(queryableExpressionNode: org.squeryl.dsl.ast.QueryableExpressionNode, sw: org.squeryl.internals.StatementWriter)Unit" id="38114">writeJoin</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryableExpressionNode" id="67339">queryableExpressionNode</a>: <a href="../dsl/ast/ExpressionNode.scala.html#7677" title="org.squeryl.dsl.ast.QueryableExpressionNode">QueryableExpressionNode</a>, <a title="org.squeryl.internals.StatementWriter" id="67340">sw</a>: <a href="StatementWriter.scala.html#8175" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#67340" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#67339" title="org.squeryl.dsl.ast.QueryableExpressionNode">queryableExpressionNode</a>.<a href="../dsl/ast/ExpressionNode.scala.html#64963" title="=&gt; Option[(String, String)]">joinKind</a>.<span title="=&gt; (String, String)">get</span>.<span title="=&gt; String">_1</span><span class="delimiter">)</span>
    <a href="#67340" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span>
    <a href="#67340" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#67339" title="org.squeryl.dsl.ast.QueryableExpressionNode">queryableExpressionNode</a>.<a href="../dsl/ast/ExpressionNode.scala.html#64963" title="=&gt; Option[(String, String)]">joinKind</a>.<span title="=&gt; (String, String)">get</span>.<span title="=&gt; String">_2</span><span class="delimiter">)</span>
    <a href="#67340" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot; join &quot;)" class="string">&quot; join &quot;</span><span class="delimiter">)</span>
    <a href="#67339" title="org.squeryl.dsl.ast.QueryableExpressionNode">queryableExpressionNode</a>.<a href="../dsl/ast/ExpressionNode.scala.html#31643" title="(sw: org.squeryl.internals.StatementWriter)Unit">write</a><span class="delimiter">(</span><a href="#67340" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
    <a href="#67340" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot; as &quot;)" class="string">&quot; as &quot;</span><span class="delimiter">)</span>
    <a href="#67340" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#67340" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41692" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#67339" title="org.squeryl.dsl.ast.QueryableExpressionNode">queryableExpressionNode</a>.<a href="../dsl/ast/ExpressionNode.scala.html#64978" title="=&gt; String">alias</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#67340" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot; on &quot;)" class="string">&quot; on &quot;</span><span class="delimiter">)</span>
    <a href="#67339" title="org.squeryl.dsl.ast.QueryableExpressionNode">queryableExpressionNode</a>.<a href="../dsl/ast/ExpressionNode.scala.html#64967" title="=&gt; Option[org.squeryl.dsl.ast.LogicalBoolean]">joinExpression</a>.<span title="=&gt; org.squeryl.dsl.ast.LogicalBoolean">get</span>.<a href="../dsl/ast/ExpressionNode.scala.html#31643" title="(sw: org.squeryl.internals.StatementWriter)Unit">write</a><span class="delimiter">(</span><a href="#67340" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; String" id="38115">intTypeDeclaration</a> = <span title="String(&quot;int&quot;)" class="string">&quot;int&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="38116">stringTypeDeclaration</a> = <span title="String(&quot;varchar&quot;)" class="string">&quot;varchar&quot;</span>
  <span class="keyword">def</span> <a title="(length: Int)String" id="38117">stringTypeDeclaration</a><span class="delimiter">(</span><a title="Int" id="66664">length</a>:<span title="Int">Int</span><span class="delimiter">)</span> = <span title="String(&quot;varchar(&quot;)" class="string">&quot;varchar(&quot;</span><span title="(x$1: Any)String">+</span><a href="#66664" title="Int">length</a><span title="(x$1: Any)String">+</span><span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="38118">booleanTypeDeclaration</a> = <span title="String(&quot;boolean&quot;)" class="string">&quot;boolean&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="38119">doubleTypeDeclaration</a> = <span title="String(&quot;double&quot;)" class="string">&quot;double&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="38120">dateTypeDeclaration</a> = <span title="String(&quot;date&quot;)" class="string">&quot;date&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="38121">longTypeDeclaration</a> = <span title="String(&quot;bigint&quot;)" class="string">&quot;bigint&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="38122">floatTypeDeclaration</a> = <span title="String(&quot;real&quot;)" class="string">&quot;real&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="38123">bigDecimalTypeDeclaration</a> = <span title="String(&quot;decimal&quot;)" class="string">&quot;decimal&quot;</span>
  <span class="keyword">def</span> <a title="(precision: Int, scale: Int)String" id="38124">bigDecimalTypeDeclaration</a><span class="delimiter">(</span><a title="Int" id="66685">precision</a>:<span title="Int">Int</span>, <a title="Int" id="66686">scale</a>:<span title="Int">Int</span><span class="delimiter">)</span> = <span title="String(&quot;decimal(&quot;)" class="string">&quot;decimal(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#66685" title="Int">precision</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#66686" title="Int">scale</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="38125">timestampTypeDeclaration</a> = <span title="String(&quot;timestamp&quot;)" class="string">&quot;timestamp&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="38126">binaryTypeDeclaration</a> = <span title="String(&quot;binary&quot;)" class="string">&quot;binary&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="38127">uuidTypeDeclaration</a> = <span title="String(&quot;char(36)&quot;)" class="string">&quot;char(36)&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="38128">intArrayTypeDeclaration</a> = <a href="#38115" title="=&gt; String">intTypeDeclaration</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;[]&quot;)" class="string">&quot;[]&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="38129">longArrayTypeDeclaration</a> = <a href="#38121" title="=&gt; String">longTypeDeclaration</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;[]&quot;)" class="string">&quot;[]&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="38130">doubleArrayTypeDeclaration</a> = <a href="#38119" title="=&gt; String">doubleTypeDeclaration</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;[]&quot;)" class="string">&quot;[]&quot;</span>
    
  <span class="keyword">def</span> <a title="=&gt; String" id="38131">jdbcIntArrayCreationType</a> = <a href="#38115" title="=&gt; String">intTypeDeclaration</a>
  <span class="keyword">def</span> <a title="=&gt; String" id="38132">jdbcLongArrayCreationType</a> = <a href="#38121" title="=&gt; String">longTypeDeclaration</a>
  <span class="keyword">def</span> <a title="=&gt; String" id="38133">jdbcDoubleArrayCreationType</a> = <a href="#38119" title="=&gt; String">doubleTypeDeclaration</a>
    
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(ptype: Class[_])String" id="38134">arrayCreationType</a><span class="delimiter">(</span><a title="Class[_]" id="94666">ptype</a> : <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> : <span title="String">String</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="String" id="95428">rv</a> = <a href="#94666" title="Class[_]">ptype</a>.<span title="()String">getName</span><span title="String" class="delimiter">(</span><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#424698" title="String" id="424705" class="string">&quot;java.lang.Integer&quot;</a> =&gt; <a href="#424709" title="(x: String)String">jdbcIntArrayCreationType</a>
      <span class="keyword">case</span> <a href="#424698" title="String" id="424706" class="string">&quot;java.lang.Double&quot;</a> =&gt; <a href="#424709" title="(x: String)String">jdbcDoubleArrayCreationType</a>
      <span class="keyword">case</span> <a href="#424698" title="String" id="424707" class="string">&quot;java.lang.Long&quot;</a> =&gt; <a href="#424709" title="(x: String)String">jdbcLongArrayCreationType</a>
      <span class="keyword">case</span> _ =&gt; <a href="#424709" title="(x: String)String" class="string">&quot;&quot;</a>
    <span class="delimiter">}</span>
    <a href="#95428" title="String">rv</a>
  <span class="delimiter">}</span>
    
/*
  private val _declarationHandler = new FieldTypeHandler[String] {

    def handleIntType = intTypeDeclaration
    def handleStringType  = stringTypeDeclaration
    def handleBooleanType = booleanTypeDeclaration
    def handleDoubleType = doubleTypeDeclaration
    def handleDateType = dateTypeDeclaration
    def handleLongType = longTypeDeclaration
    def handleFloatType = floatTypeDeclaration
    def handleBigDecimalType = bigDecimalTypeDeclaration
    def handleTimestampType = timestampTypeDeclaration
    def handleBinaryType = binaryTypeDeclaration
    def handleUuidType = uuidTypeDeclaration
    def handleEnumerationValueType = intTypeDeclaration
    def handleUnknownType(c: Class[_]) =
      org.squeryl.internals.Utils.throwError(&quot;don't know how to map field type &quot; + c.getName)
  }
*/  
  <span class="keyword">def</span> <a title="(fmd: org.squeryl.internals.FieldMetaData)String" id="38135">databaseTypeFor</a><span class="delimiter">(</span><a title="org.squeryl.internals.FieldMetaData" id="66525">fmd</a>: <a href="FieldMetaData.scala.html#8086" title="org.squeryl.internals.FieldMetaData">FieldMetaData</a><span class="delimiter">)</span>:<span title="String">String</span> =
    <a href="#66525" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49732" title="=&gt; Option[String]">explicitDbTypeDeclaration</a>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span>
      <a href="#66525" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49737" title="=&gt; org.squeryl.Schema">schema</a>.<a href="../Schema.scala.html#24286" title="(fieldMetaData: org.squeryl.internals.FieldMetaData, owner: org.squeryl.Table[_])Option[String]">columnTypeFor</a><span class="delimiter">(</span><a href="#66525" title="org.squeryl.internals.FieldMetaData">fmd</a>, <a href="#66525" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49694" title="=&gt; org.squeryl.internals.PosoMetaData[_]">parentMetaData</a>.<a href="PosoMetaData.scala.html#38365" title="=&gt; org.squeryl.View[_$1]">viewOrTable</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.Table[_$2]" class="delimiter">[</span><a href="../Table.scala.html#7209" title="org.squeryl.Table[_]">Table</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>.<span title="(default: =&gt; String)String">getOrElse</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Class[_]" id="95442">nativeJdbcType</a> = <a href="#66525" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49715" title="=&gt; Class[_]">nativeJdbcType</a>
          
        <span title="String" class="keyword">if</span><span class="delimiter">(</span>classOf<span title="Class[String](classOf[java.lang.String])" class="delimiter">[</span>String<span class="delimiter">]</span>.<span title="(x$1: Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#95442" title="Class[_]">nativeJdbcType</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#38117" title="(length: Int)String">stringTypeDeclaration</a><span class="delimiter">(</span><a href="#66525" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49735" title="=&gt; Int">length</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="String" class="keyword">if</span><span class="delimiter">(</span>classOf<span title="Class[BigDecimal](classOf[scala.math.BigDecimal])" class="delimiter">[</span>BigDecimal<span class="delimiter">]</span>.<span title="(x$1: Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#95442" title="Class[_]">nativeJdbcType</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#38124" title="(precision: Int, scale: Int)String">bigDecimalTypeDeclaration</a><span class="delimiter">(</span><a href="#66525" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49735" title="=&gt; Int">length</a>, <a href="#66525" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49736" title="=&gt; Int">scale</a><span class="delimiter">)</span>
        <span class="keyword">else</span>             
          <a href="#38204" title="(fieldMapper: org.squeryl.internals.FieldMapper, c: Class[_])String">databaseTypeFor</a><span class="delimiter">(</span><a href="#66525" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49737" title="=&gt; org.squeryl.Schema">schema</a>.<a href="../Schema.scala.html#24238" title="=&gt; org.squeryl.internals.FieldMapper">fieldMapper</a>, <a href="#95442" title="Class[_]">nativeJdbcType</a><span class="delimiter">)</span>        
      <span class="delimiter">}</span>
    <span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(fmd: org.squeryl.internals.FieldMetaData, isPrimaryKey: Boolean, schema: org.squeryl.Schema)String" id="38136">writeColumnDeclaration</a><span class="delimiter">(</span><a title="org.squeryl.internals.FieldMetaData" id="50216">fmd</a>: <a href="FieldMetaData.scala.html#8086" title="org.squeryl.internals.FieldMetaData">FieldMetaData</a>, <a title="Boolean" id="50217">isPrimaryKey</a>: <span title="Boolean">Boolean</span>, <a title="org.squeryl.Schema" id="50218">schema</a>: <a href="../Schema.scala.html#7184" title="org.squeryl.Schema">Schema</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="String" id="95525">dbTypeDeclaration</a> = <a href="#38135" title="(fmd: org.squeryl.internals.FieldMetaData)String">databaseTypeFor</a><span class="delimiter">(</span><a href="#50216" title="org.squeryl.internals.FieldMetaData">fmd</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="StringBuilder" id="95526">sb</a> = <span title="(capacity: Int)StringBuilder" class="keyword">new</span> <span title="StringBuilder">StringBuilder</span><span class="delimiter">(</span><span title="Int(128)" class="int">128</span><span class="delimiter">)</span>
  
    <a href="#95526" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;  &quot;)" class="string">&quot;  &quot;</span><span class="delimiter">)</span>
    <a href="#95526" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#50216" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49738" title="=&gt; String">columnName</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#95526" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span>
    <a href="#95526" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#95525" title="String">dbTypeDeclaration</a><span class="delimiter">)</span>

    <span class="keyword">for</span><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.ConstantTypedExpression[_, _]" id="95555">d</a> &lt;- <a href="#50216" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49731" title="(f: org.squeryl.dsl.ast.ConstantTypedExpression[_, _] =&gt; StringBuilder)Unit">defaultValue</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#95526" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot; default &quot;)" class="string">&quot; default &quot;</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="AnyRef" id="95556">v</a> = <a href="#38162" title="(r: AnyRef)AnyRef">convertToJdbcValue</a><span class="delimiter">(</span><a href="#95555" title="org.squeryl.dsl.ast.ConstantTypedExpression[_, _]">d</a>.<a href="../dsl/ast/ExpressionNode.scala.html#52987" title="=&gt; _$7">value</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span><span class="delimiter">)</span>
      <span title="StringBuilder" class="keyword">if</span><span class="delimiter">(</span><a href="#95556" title="AnyRef">v</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span><span class="delimiter">)</span>
        <a href="#95526" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;\'&quot;)" class="string">&quot;'&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#95556" title="AnyRef">v</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\'&quot;)" class="string">&quot;'&quot;</span><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="#95526" title="StringBuilder">sb</a>.<span title="(x: Any)StringBuilder">append</span><span class="delimiter">(</span><a href="#95556" title="AnyRef">v</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="#50217" title="Boolean">isPrimaryKey</a><span class="delimiter">)</span>
      <a href="#95526" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot; primary key&quot;)" class="string">&quot; primary key&quot;</span><span class="delimiter">)</span>

    <span title="Any" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#50216" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49704" title="=&gt; Boolean">isOption</a><span class="delimiter">)</span>
      <a href="#95526" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot; not null&quot;)" class="string">&quot; not null&quot;</span><span class="delimiter">)</span>
    
    <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="#38137" title="=&gt; Boolean">supportsAutoIncrementInColumnDeclaration</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#50216" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49746" title="=&gt; Boolean">isAutoIncremented</a><span class="delimiter">)</span>
      <a href="#95526" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot; auto_increment&quot;)" class="string">&quot; auto_increment&quot;</span><span class="delimiter">)</span>

    <a href="#95526" title="StringBuilder">sb</a>.<span title="()String">toString</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="38137">supportsAutoIncrementInColumnDeclaration</a>:<span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span>

  <span class="keyword">def</span> <a title="[T](t: org.squeryl.Table[T], sw: org.squeryl.internals.StatementWriter, schema: org.squeryl.Schema)Unit" id="38138">writeCreateTable</a><span class="delimiter">[</span><a title="" id="38140">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="org.squeryl.Table[T]" id="41698">t</a>: <a href="../Table.scala.html#7209" title="org.squeryl.Table[T]">Table</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="org.squeryl.internals.StatementWriter" id="41699">sw</a>: <a href="StatementWriter.scala.html#8175" title="org.squeryl.internals.StatementWriter">StatementWriter</a>, <a title="org.squeryl.Schema" id="41700">schema</a>: <a href="../Schema.scala.html#7184" title="org.squeryl.Schema">Schema</a><span class="delimiter">)</span> = <span class="delimiter">{</span>

    <a href="#41699" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;create table &quot;)" class="string">&quot;create table &quot;</span><span class="delimiter">)</span>
    <a href="#41699" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#41698" title="org.squeryl.Table[T]">t</a>.<a href="../View.scala.html#37963" title="=&gt; String">prefixedName</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#41699" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot; (\n&quot;)" class="string">&quot; (\n&quot;</span><span class="delimiter">)</span>;
    <a href="#41699" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41690" title="(u: =&gt; Unit)Unit">writeIndented</a> <span class="delimiter">{</span>
      <a href="#41699" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41687" title="(s: Iterable[String], separator: String)Unit">writeLinesWithSeparator</a><span class="delimiter">(</span>
        <a href="#41698" title="org.squeryl.Table[T]">t</a>.<a href="../View.scala.html#37966" title="=&gt; org.squeryl.internals.PosoMetaData[T]">posoMetaData</a>.<a href="PosoMetaData.scala.html#38374" title="=&gt; Iterable[org.squeryl.internals.FieldMetaData]">fieldsMetaData</a>.<span title="(f: org.squeryl.internals.FieldMetaData =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[org.squeryl.internals.FieldMetaData],String,Iterable[String]])Iterable[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,String,Iterable[String]]" class="delimiter">(</span>
          <a title="org.squeryl.internals.FieldMetaData" id="50215">fmd</a> =&gt; <a href="#38136" title="(fmd: org.squeryl.internals.FieldMetaData, isPrimaryKey: Boolean, schema: org.squeryl.Schema)String">writeColumnDeclaration</a><span class="delimiter">(</span><a href="#50215" title="org.squeryl.internals.FieldMetaData">fmd</a>, <a href="#50215" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49745" title="=&gt; Boolean">declaredAsPrimaryKeyInSchema</a>, <a href="#41700" title="org.squeryl.Schema">schema</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>,
        <span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#41699" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>                     
  
  <span class="keyword">def</span> <a title="(params: Iterable[AnyRef])Iterable[AnyRef]" id="38141">convertParamsForJdbc</a><span class="delimiter">(</span><a title="Iterable[AnyRef]" id="63905">params</a>: <span title="Iterable[AnyRef]">Iterable</span><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span><span class="delimiter">)</span> =
    <span class="keyword">for</span><span class="delimiter">(</span><a title="AnyRef" id="63922">p</a> &lt;- <a href="#63905" title="(f: AnyRef =&gt; AnyRef)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[AnyRef],AnyRef,Iterable[AnyRef]])Iterable[AnyRef]">params</a><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
       <a href="#63922" title="AnyRef">p</a> <span class="keyword">match</span> <span class="delimiter">{</span>
         <span class="keyword">case</span> <a href="#424725" title="AnyRef" id="424730" class="keyword">null</a> =&gt; <a href="#424735" title="(x: AnyRef)AnyRef" class="keyword">null</a>	        
	     <span class="keyword">case</span> <a href="#424725" title="AnyRef" id="424731">None</a> =&gt; <a href="#424735" title="(x: AnyRef)AnyRef" class="keyword">null</a>
	     <span class="keyword">case</span> Some<a href="#424725" title="AnyRef" id="424729" class="delimiter">(</a><a href="#424729" title="Any" id="63924">x</a>: AnyRef<span class="delimiter">)</span> =&gt; <a href="#38162" title="(r: AnyRef)AnyRef">convertToJdbcValue</a><a href="#424735" title="(x: AnyRef)AnyRef" class="delimiter">(</a>x<span class="delimiter">)</span>
	     <span class="keyword">case</span> <a href="#424725" title="AnyRef" id="424733">x</a>: AnyRef =&gt;  <a href="#38162" title="(r: AnyRef)AnyRef">convertToJdbcValue</a><a href="#424735" title="(x: AnyRef)AnyRef" class="delimiter">(</a>x<span class="delimiter">)</span>
	   <span class="delimiter">}</span>     
    <span class="delimiter">}</span>
        
  <span class="keyword">def</span> <a title="(params: Iterable[AnyRef], s: java.sql.PreparedStatement)Unit" id="38142">fillParamsInto</a><span class="delimiter">(</span><a title="Iterable[AnyRef]" id="63240">params</a>: <span title="Iterable[AnyRef]">Iterable</span><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span>, <a title="java.sql.PreparedStatement" id="63241">s</a>: <span title="java.sql.PreparedStatement">PreparedStatement</span><span class="delimiter">)</span> <span class="delimiter">{</span>    
    <span class="keyword">var</span> <a title="Int" id="95599">i</a> = <span title="Int(1)" class="int">1</span>;
    <span class="keyword">for</span><span class="delimiter">(</span><a title="AnyRef" id="95616">p</a> &lt;- <a href="#63240" title="(f: AnyRef =&gt; Unit)Unit">params</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#63241" title="java.sql.PreparedStatement">s</a>.<span title="(x$1: Int, x$2: Any)Unit">setObject</span><span class="delimiter">(</span><a href="#95599" title="Int">i</a>, <a href="#95616" title="AnyRef">p</a><span class="delimiter">)</span>
      <a href="#95599" title="Int">i</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>    
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[A](s: org.squeryl.Session, sw: org.squeryl.internals.StatementWriter, block: Iterable[AnyRef] =&gt; A, args: Iterable[AnyRef])A" id="38143">_exec</a><span class="delimiter">[</span><a title="" id="38145">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="org.squeryl.Session" id="95626">s</a>: <a href="../Session.scala.html#7192" title="org.squeryl.Session">Session</a>, <a title="org.squeryl.internals.StatementWriter" id="95627">sw</a>: <a href="StatementWriter.scala.html#8175" title="org.squeryl.internals.StatementWriter">StatementWriter</a>, <a title="Iterable[AnyRef] =&gt; A" id="95628">block</a>: Iterable<span class="delimiter">[</span>AnyRef<span class="delimiter">]</span>=&gt;A, <a title="Iterable[AnyRef]" id="95629">args</a>: <span title="Iterable[AnyRef]">Iterable</span><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#38145" title="A">A</a> =
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#95626" title="org.squeryl.Session">s</a>.<a href="../Session.scala.html#38088" title="=&gt; Boolean">isLoggingEnabled</a><span class="delimiter">)</span>
        <a href="#95626" title="org.squeryl.Session">s</a>.<a href="../Session.scala.html#38089" title="(s: String)Unit">log</a><span class="delimiter">(</span><a href="#95627" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41666" title="()String">toString</a><span class="delimiter">)</span>      
      <a href="#95628" title="(v1: Iterable[AnyRef])A">block</a><span class="delimiter">(</span><a href="#95629" title="Iterable[AnyRef]">args</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">catch</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Nothing" id="95645">e</a>: <span title="java.sql.SQLException">SQLException</span> =&gt;
          <span title="Nothing" class="keyword">throw</span> <a href="../KeyedEntity.scala.html#15659" title="(message: String, cause: java.sql.SQLException)org.squeryl.SquerylSQLException">SquerylSQLException</a><span class="delimiter">(</span>
            <span title="String(&quot;Exception while executing statement : &quot;)" class="string">&quot;Exception while executing statement : &quot;</span><span title="(x$1: Any)String">+</span> <a href="#95645" title="java.sql.SQLException">e</a>.<span title="()String">getMessage</span><span title="(x$1: Any)String">+</span>
           <span title="String(&quot;\nerrorCode: &quot;)" class="string">&quot;\nerrorCode: &quot;</span> <span title="(x$1: Any)String">+</span>
            <a href="#95645" title="java.sql.SQLException">e</a>.<span title="()Int">getErrorCode</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, sqlState: &quot;)" class="string">&quot;, sqlState: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#95645" title="java.sql.SQLException">e</a>.<span title="()String">getSQLState</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)String">+</span>
            <a href="#95627" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41664" title="=&gt; String">statement</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\njdbcParams:&quot;)" class="string">&quot;\njdbcParams:&quot;</span> <span title="(x$1: Any)String">+</span> 
            <a href="#95629" title="Iterable[AnyRef]">args</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;[&quot;)" class="string">&quot;[&quot;</span>,<span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span>,<span title="String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span>, <a href="#95645" title="java.sql.SQLException">e</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>    

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="38146">failureOfStatementRequiresRollback</a> = <span title="Boolean(false)" class="keyword">false</span>

  /**
   * Some methods like 'dropTable' issue their statement, and will silence the exception.
   * For example dropTable will silence when isTableDoesNotExistException(theExceptionThrown).
   * It must be used carefully, and an exception should not be silenced unless identified.
   */
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sw: org.squeryl.internals.StatementWriter, silenceException: java.sql.SQLException =&gt; Boolean)Unit" id="38147">execFailSafeExecute</a><span class="delimiter">(</span><a title="org.squeryl.internals.StatementWriter" id="51769">sw</a>: <a href="StatementWriter.scala.html#8175" title="org.squeryl.internals.StatementWriter">StatementWriter</a>, <a title="java.sql.SQLException =&gt; Boolean" id="51770">silenceException</a>: SQLException =&gt; Boolean<span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="org.squeryl.Session" id="95654">s</a> = <a href="../Session.scala.html#7193" title="org.squeryl.Session.type">Session</a>.<a href="../Session.scala.html#38067" title="=&gt; org.squeryl.Session">currentSession</a>
    <span class="keyword">val</span> <a title="java.sql.Connection" id="95655">c</a> = <a href="#95654" title="org.squeryl.Session">s</a>.<a href="../Session.scala.html#38074" title="=&gt; java.sql.Connection">connection</a>
    <span class="keyword">val</span> <a title="java.sql.Statement" id="95656">stat</a> = <a href="#38153" title="(conn: java.sql.Connection)java.sql.Statement">createStatement</a><span class="delimiter">(</span><a href="#95655" title="java.sql.Connection">c</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Option[java.sql.Savepoint]" id="95657">sp</a> =
      <span title="Option[java.sql.Savepoint]" class="keyword">if</span><span class="delimiter">(</span><a href="#38146" title="=&gt; Boolean">failureOfStatementRequiresRollback</a><span class="delimiter">)</span> <span title="(x: java.sql.Savepoint)Some[java.sql.Savepoint]">Some</span><span class="delimiter">(</span><a href="#95655" title="java.sql.Connection">c</a>.<span title="()java.sql.Savepoint">setSavepoint</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="None.type">None</span>

    <span class="keyword">try</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#95654" title="org.squeryl.Session">s</a>.<a href="../Session.scala.html#38088" title="=&gt; Boolean">isLoggingEnabled</a><span class="delimiter">)</span>
        <a href="#95654" title="org.squeryl.Session">s</a>.<a href="../Session.scala.html#38089" title="(s: String)Unit">log</a><span class="delimiter">(</span><a href="#51769" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41666" title="()String">toString</a><span class="delimiter">)</span>
      <a href="#95656" title="java.sql.Statement">stat</a>.<span title="(x$1: String)Boolean">execute</span><span title="Unit" class="delimiter">(</span><a href="#51769" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41664" title="=&gt; String">statement</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">catch</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Unit" id="95676">e</a>: <span title="java.sql.SQLException">SQLException</span> =&gt;
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#51770" title="(v1: java.sql.SQLException)Boolean">silenceException</a><span class="delimiter">(</span><a href="#95676" title="java.sql.SQLException">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#95657" title="Option[java.sql.Savepoint]">sp</a>.<span title="(f: java.sql.Savepoint =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#95655" title="java.sql.Connection">c</a>.<span title="(x$1: java.sql.Savepoint)Unit">rollback</span><span class="delimiter">(</span><a href="#95682" title="java.sql.Savepoint">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <span title="Nothing" class="keyword">throw</span> <a href="../KeyedEntity.scala.html#15659" title="(message: String, cause: java.sql.SQLException)org.squeryl.SquerylSQLException">SquerylSQLException</a><span class="delimiter">(</span>
            <span class="string">&quot;Exception while executing statement,\n&quot;</span> <span title="String(&quot;Exception while executing statement,\nSQLState:&quot;)">+</span>
            <span class="string">&quot;SQLState:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#95676" title="java.sql.SQLException">e</a>.<span title="()String">getSQLState</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, ErrorCode:&quot;)" class="string">&quot;, ErrorCode:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#95676" title="java.sql.SQLException">e</a>.<span title="()Int">getErrorCode</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n :&quot;)" class="string">&quot;\n :&quot;</span> <span title="(x$1: Any)String">+</span>
            <a href="#51769" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41664" title="=&gt; String">statement</a>, <a href="#95676" title="java.sql.SQLException">e</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">finally</span> <span class="delimiter">{</span>
      <a href="#95657" title="Option[java.sql.Savepoint]">sp</a>.<span title="(f: java.sql.Savepoint =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#95655" title="java.sql.Connection">c</a>.<span title="(x$1: java.sql.Savepoint)Unit">releaseSavepoint</span><span class="delimiter">(</span><a href="#95695" title="java.sql.Savepoint">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="Utils.scala.html#8187" title="org.squeryl.internals.Utils.type">Utils</a>.<a href="Utils.scala.html#32401" title="(s: java.sql.Statement)Unit">close</a><span class="delimiter">(</span><a href="#95656" title="java.sql.Statement">stat</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit org.squeryl.internals.DatabaseAdapter.string2StatementWriter : (s: String)org.squeryl.internals.StatementWriter" id="38148">string2StatementWriter</a><span class="delimiter">(</span><a title="String" id="42334">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="org.squeryl.internals.StatementWriter" id="42335">sw</a> = <a href="StatementWriter.scala.html#41655" title="(databaseAdapter: org.squeryl.internals.DatabaseAdapter)org.squeryl.internals.StatementWriter" class="keyword">new</a> <a href="StatementWriter.scala.html#8175" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">(</span><a href="#8052" title="org.squeryl.internals.DatabaseAdapter" class="keyword">this</a><span class="delimiter">)</span>
    <a href="#42335" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#42334" title="String">s</a><span class="delimiter">)</span>
    <a href="#42335" title="org.squeryl.internals.StatementWriter">sw</a>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="[A](s: org.squeryl.Session, sw: org.squeryl.internals.StatementWriter)(block: Iterable[AnyRef] =&gt; A)A" id="38149">exec</a><span class="delimiter">[</span><a title="" id="38151">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="org.squeryl.Session" id="63230">s</a>: <a href="../Session.scala.html#7192" title="org.squeryl.Session">Session</a>, <a title="org.squeryl.internals.StatementWriter" id="63231">sw</a>: <a href="StatementWriter.scala.html#8175" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Iterable[AnyRef] =&gt; A" id="63232">block</a>: Iterable<span class="delimiter">[</span>AnyRef<span class="delimiter">]</span>=&gt;A<span class="delimiter">)</span>: <a href="#38151" title="A">A</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Iterable[AnyRef]" id="95701">p</a> = <a href="#38141" title="(params: Iterable[AnyRef])Iterable[AnyRef]">convertParamsForJdbc</a><span class="delimiter">(</span><a href="#63231" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41661" title="=&gt; Iterable[AnyRef]">paramsZ</a><span class="delimiter">)</span>
    <a href="#38143" title="[A](s: org.squeryl.Session, sw: org.squeryl.internals.StatementWriter, block: Iterable[AnyRef] =&gt; A, args: Iterable[AnyRef])A">_exec</a><span title="(s: org.squeryl.Session, sw: org.squeryl.internals.StatementWriter, block: Iterable[AnyRef] =&gt; A, args: Iterable[AnyRef])A" class="delimiter">[</span><a href="#38151" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#63230" title="org.squeryl.Session">s</a>, <a href="#63231" title="org.squeryl.internals.StatementWriter">sw</a>, <a href="#63232" title="Iterable[AnyRef] =&gt; A">block</a>, <a href="#95701" title="Iterable[AnyRef]">p</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(conn: java.sql.Connection, statement: String)java.sql.PreparedStatement" id="38152">prepareStatement</a><span class="delimiter">(</span><a title="java.sql.Connection" id="71088">conn</a>: <span title="java.sql.Connection">Connection</span>, <a title="String" id="71089">statement</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="java.sql.PreparedStatement">PreparedStatement</span> =
    <a href="#71088" title="java.sql.Connection">conn</a>.<span title="(x$1: String)java.sql.PreparedStatement">prepareStatement</span><span class="delimiter">(</span><a href="#71089" title="String">statement</a><span class="delimiter">)</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(conn: java.sql.Connection)java.sql.Statement" id="38153">createStatement</a><span class="delimiter">(</span><a title="java.sql.Connection" id="95658">conn</a>: <span title="java.sql.Connection">Connection</span><span class="delimiter">)</span>: <span title="java.sql.Statement">Statement</span> =
    <a href="#95658" title="java.sql.Connection">conn</a>.<span title="()java.sql.Statement">createStatement</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(s: org.squeryl.Session, sw: org.squeryl.internals.StatementWriter)(java.sql.ResultSet, java.sql.PreparedStatement)" id="38154">executeQuery</a><span class="delimiter">(</span><a title="org.squeryl.Session" id="71079">s</a>: <a href="../Session.scala.html#7192" title="org.squeryl.Session">Session</a>, <a title="org.squeryl.internals.StatementWriter" id="71080">sw</a>: <a href="StatementWriter.scala.html#8175" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> = <a href="#38149" title="(s: org.squeryl.Session, sw: org.squeryl.internals.StatementWriter)(block: Iterable[AnyRef] =&gt; (java.sql.ResultSet, java.sql.PreparedStatement))(java.sql.ResultSet, java.sql.PreparedStatement)">exec</a><span class="delimiter">(</span><a href="#71079" title="org.squeryl.Session">s</a>, <a href="#71080" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="Iterable[AnyRef]" id="71086">params</a> =&gt;
    <span class="keyword">val</span> <a title="java.sql.PreparedStatement" id="71087">st</a> = <a href="#38152" title="(conn: java.sql.Connection, statement: String)java.sql.PreparedStatement">prepareStatement</a><span class="delimiter">(</span><a href="#71079" title="org.squeryl.Session">s</a>.<a href="../Session.scala.html#38074" title="=&gt; java.sql.Connection">connection</a>, <a href="#71080" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41664" title="=&gt; String">statement</a><span class="delimiter">)</span>
    <a href="#38142" title="(params: Iterable[AnyRef], s: java.sql.PreparedStatement)Unit">fillParamsInto</a><span class="delimiter">(</span><a href="#71086" title="Iterable[AnyRef]">params</a>, <a href="#71087" title="java.sql.PreparedStatement">st</a><span class="delimiter">)</span>
    <span title="(_1: java.sql.ResultSet, _2: java.sql.PreparedStatement)(java.sql.ResultSet, java.sql.PreparedStatement)" class="delimiter">(</span><a href="#71087" title="java.sql.PreparedStatement">st</a>.<span title="()java.sql.ResultSet">executeQuery</span>, <a href="#71087" title="java.sql.PreparedStatement">st</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(s: org.squeryl.Session, sw: org.squeryl.internals.StatementWriter)(Int, java.sql.PreparedStatement)" id="38155">executeUpdate</a><span class="delimiter">(</span><a title="org.squeryl.Session" id="95710">s</a>: <a href="../Session.scala.html#7192" title="org.squeryl.Session">Session</a>, <a title="org.squeryl.internals.StatementWriter" id="95711">sw</a>: <a href="StatementWriter.scala.html#8175" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span>:<span title="(Int, java.sql.PreparedStatement)" class="delimiter">(</span>Int,PreparedStatement<span class="delimiter">)</span> = <a href="#38149" title="(s: org.squeryl.Session, sw: org.squeryl.internals.StatementWriter)(block: Iterable[AnyRef] =&gt; (Int, java.sql.PreparedStatement))(Int, java.sql.PreparedStatement)">exec</a><span class="delimiter">(</span><a href="#95710" title="org.squeryl.Session">s</a>, <a href="#95711" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="Iterable[AnyRef]" id="95717">params</a> =&gt;
    <span class="keyword">val</span> <a title="java.sql.PreparedStatement" id="95718">st</a> = <a href="#38152" title="(conn: java.sql.Connection, statement: String)java.sql.PreparedStatement">prepareStatement</a><span class="delimiter">(</span><a href="#95710" title="org.squeryl.Session">s</a>.<a href="../Session.scala.html#38074" title="=&gt; java.sql.Connection">connection</a>, <a href="#95711" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41664" title="=&gt; String">statement</a><span class="delimiter">)</span>
    <a href="#38142" title="(params: Iterable[AnyRef], s: java.sql.PreparedStatement)Unit">fillParamsInto</a><span class="delimiter">(</span><a href="#95717" title="Iterable[AnyRef]">params</a>, <a href="#95718" title="java.sql.PreparedStatement">st</a><span class="delimiter">)</span>
    <span title="(_1: Int, _2: java.sql.PreparedStatement)(Int, java.sql.PreparedStatement)" class="delimiter">(</span><a href="#95718" title="java.sql.PreparedStatement">st</a>.<span title="()Int">executeUpdate</span>, <a href="#95718" title="java.sql.PreparedStatement">st</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(s: org.squeryl.Session, sw: org.squeryl.internals.StatementWriter)Int" id="38156">executeUpdateAndCloseStatement</a><span class="delimiter">(</span><a title="org.squeryl.Session" id="64814">s</a>: <a href="../Session.scala.html#7192" title="org.squeryl.Session">Session</a>, <a title="org.squeryl.internals.StatementWriter" id="64815">sw</a>: <a href="StatementWriter.scala.html#8175" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span>: <span title="Int">Int</span> = <a href="#38149" title="(s: org.squeryl.Session, sw: org.squeryl.internals.StatementWriter)(block: Iterable[AnyRef] =&gt; Int)Int">exec</a><span class="delimiter">(</span><a href="#64814" title="org.squeryl.Session">s</a>, <a href="#64815" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="Iterable[AnyRef]" id="95734">params</a> =&gt;
    <span class="keyword">val</span> <a title="java.sql.PreparedStatement" id="95735">st</a> = <a href="#38152" title="(conn: java.sql.Connection, statement: String)java.sql.PreparedStatement">prepareStatement</a><span class="delimiter">(</span><a href="#64814" title="org.squeryl.Session">s</a>.<a href="../Session.scala.html#38074" title="=&gt; java.sql.Connection">connection</a>, <a href="#64815" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41664" title="=&gt; String">statement</a><span class="delimiter">)</span>
    <a href="#38142" title="(params: Iterable[AnyRef], s: java.sql.PreparedStatement)Unit">fillParamsInto</a><span class="delimiter">(</span><a href="#95734" title="Iterable[AnyRef]">params</a>, <a href="#95735" title="java.sql.PreparedStatement">st</a><span class="delimiter">)</span>
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <a href="#95735" title="java.sql.PreparedStatement">st</a>.<span title="()Int">executeUpdate</span>
    <span class="delimiter">}</span>
    <span class="keyword">finally</span> <span class="delimiter">{</span>
      <a href="#95735" title="java.sql.PreparedStatement">st</a>.<span title="()Unit">close</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(s: org.squeryl.Session, sw: org.squeryl.internals.StatementWriter, ps: java.sql.PreparedStatement)Int" id="38157">executeUpdateForInsert</a><span class="delimiter">(</span><a title="org.squeryl.Session" id="63227">s</a>: <a href="../Session.scala.html#7192" title="org.squeryl.Session">Session</a>, <a title="org.squeryl.internals.StatementWriter" id="63228">sw</a>: <a href="StatementWriter.scala.html#8175" title="org.squeryl.internals.StatementWriter">StatementWriter</a>, <a title="java.sql.PreparedStatement" id="63229">ps</a>: <span title="java.sql.PreparedStatement">PreparedStatement</span><span class="delimiter">)</span> = <a href="#38149" title="(s: org.squeryl.Session, sw: org.squeryl.internals.StatementWriter)(block: Iterable[AnyRef] =&gt; Int)Int">exec</a><span class="delimiter">(</span><a href="#63227" title="org.squeryl.Session">s</a>, <a href="#63228" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="Iterable[AnyRef]" id="63239">params</a> =&gt;
    <a href="#38142" title="(params: Iterable[AnyRef], s: java.sql.PreparedStatement)Unit">fillParamsInto</a><span class="delimiter">(</span><a href="#63239" title="Iterable[AnyRef]">params</a>, <a href="#63229" title="java.sql.PreparedStatement">ps</a><span class="delimiter">)</span>
    <a href="#63229" title="java.sql.PreparedStatement">ps</a>.<span title="()Int">executeUpdate</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(fmd: Iterable[org.squeryl.internals.FieldMetaData])Iterable[org.squeryl.internals.FieldMetaData]" id="38158">getInsertableFields</a><span class="delimiter">(</span><a title="Iterable[org.squeryl.internals.FieldMetaData]" id="66100">fmd</a> : <span title="Iterable[org.squeryl.internals.FieldMetaData]">Iterable</span><span class="delimiter">[</span>FieldMetaData<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#66100" title="Iterable[org.squeryl.internals.FieldMetaData]">fmd</a>.<span title="(p: org.squeryl.internals.FieldMetaData =&gt; Boolean)Iterable[org.squeryl.internals.FieldMetaData]">filter</span><span class="delimiter">(</span><a title="org.squeryl.internals.FieldMetaData" id="66104">fmd</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#66104" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49746" title="=&gt; Boolean">isAutoIncremented</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#66104" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49747" title="=&gt; Boolean">isInsertable</a> <span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[T](o: T, t: org.squeryl.Table[T], sw: org.squeryl.internals.StatementWriter)Unit" id="38159">writeInsert</a><span class="delimiter">[</span><a title="" id="38161">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="63016">o</a>: <a href="#38161" title="T">T</a>, <a title="org.squeryl.Table[T]" id="63017">t</a>: <a href="../Table.scala.html#7209" title="org.squeryl.Table[T]">Table</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="org.squeryl.internals.StatementWriter" id="63018">sw</a>: <a href="StatementWriter.scala.html#8175" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span>:<span title="Unit">Unit</span> = <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="AnyRef" id="95740">o_</a> = <a href="#63016" title="T">o</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span>    
    <span class="keyword">val</span> <a title="Iterable[org.squeryl.internals.FieldMetaData]" id="95741">f</a> = <a href="#38158" title="(fmd: Iterable[org.squeryl.internals.FieldMetaData])Iterable[org.squeryl.internals.FieldMetaData]">getInsertableFields</a><span class="delimiter">(</span><a href="#63017" title="org.squeryl.Table[T]">t</a>.<a href="../View.scala.html#37966" title="=&gt; org.squeryl.internals.PosoMetaData[T]">posoMetaData</a>.<a href="PosoMetaData.scala.html#38374" title="=&gt; Iterable[org.squeryl.internals.FieldMetaData]">fieldsMetaData</a><span class="delimiter">)</span>

    <a href="#63018" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;insert into &quot;)" class="string">&quot;insert into &quot;</span><span class="delimiter">)</span>;
    <a href="#63018" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#63017" title="org.squeryl.Table[T]">t</a>.<a href="../View.scala.html#37963" title="=&gt; String">prefixedName</a><span class="delimiter">)</span><span class="delimiter">)</span>;
    <a href="#63018" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot; (&quot;)" class="string">&quot; (&quot;</span><span class="delimiter">)</span>;
    <a href="#63018" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#95741" title="Iterable[org.squeryl.internals.FieldMetaData]">f</a>.<span title="(f: org.squeryl.internals.FieldMetaData =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[org.squeryl.internals.FieldMetaData],String,Iterable[String]])Iterable[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,String,Iterable[String]]" class="delimiter">(</span><a title="org.squeryl.internals.FieldMetaData" id="95758">fmd</a> =&gt; <a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#95758" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49738" title="=&gt; String">columnName</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <a href="#63018" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;) values &quot;)" class="string">&quot;) values &quot;</span><span class="delimiter">)</span>;
    <a href="#63018" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span>
      <a href="#95741" title="Iterable[org.squeryl.internals.FieldMetaData]">f</a>.<span title="(f: org.squeryl.internals.FieldMetaData =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[org.squeryl.internals.FieldMetaData],String,Iterable[String]])Iterable[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,String,Iterable[String]]" class="delimiter">(</span><a title="org.squeryl.internals.FieldMetaData" id="95789">fmd</a> =&gt; <a href="#38163" title="(o: AnyRef, fmd: org.squeryl.internals.FieldMetaData, sw: org.squeryl.internals.StatementWriter)String">writeValue</a><span class="delimiter">(</span><a href="#95740" title="AnyRef">o_</a>, <a href="#95789" title="org.squeryl.internals.FieldMetaData">fmd</a>, <a href="#63018" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span>,<span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span>,<span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  /**
   * Converts field instances so they can be fed, and understood by JDBC
   * will not do conversion from None/Some, so @arg r should be a java primitive type or
   * a CustomType
   */
  <span class="keyword">def</span> <a title="(r: AnyRef)AnyRef" id="38162">convertToJdbcValue</a><span class="delimiter">(</span><a title="AnyRef" id="63925">r</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> : <span title="AnyRef">AnyRef</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="AnyRef" id="95810">v</a> = <a href="#63925" title="AnyRef">r</a>
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#95810" title="AnyRef">v</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Product1[_]">Product1</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
       <a href="#95810" title="AnyRef">v</a> = <a href="#95810" title="AnyRef">v</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Product1[Any]" class="delimiter">[</span><span title="Product1[Any]">Product1</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="=&gt; Any">_1</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span>

    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#95810" title="AnyRef">v</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span>java.util.<span title="java.util.Date">Date</span><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span> <a href="#95810" title="AnyRef">v</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span>java.sql.<span title="java.sql.Date">Date</span><span class="delimiter">]</span>  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span> <a href="#95810" title="AnyRef">v</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="java.sql.Timestamp">Timestamp</span><span class="delimiter">]</span><span class="delimiter">)</span>
       <a href="#95810" title="AnyRef">v</a> = <span title="(x$1: Long)java.sql.Date" class="keyword">new</span> java.sql.<span title="java.sql.Date">Date</span><span class="delimiter">(</span><a href="#95810" title="AnyRef">v</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="java.util.Date" class="delimiter">[</span>java.util.<span title="java.util.Date">Date</span><span class="delimiter">]</span>.<span title="()Long">getTime</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#95810" title="AnyRef">v</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span>scala.math.<span title="scala.math.BigDecimal">BigDecimal</span><span class="delimiter">]</span><span class="delimiter">)</span>
       <a href="#95810" title="AnyRef">v</a> = <a href="#95810" title="AnyRef">v</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scala.math.BigDecimal" class="delimiter">[</span>scala.math.<span title="scala.math.BigDecimal">BigDecimal</span><span class="delimiter">]</span>.<span title="=&gt; java.math.BigDecimal">bigDecimal</span>
    <span class="keyword">else</span> <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#95810" title="AnyRef">v</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span>scala.Enumeration#<span title="Enumeration#Value">Value</span><span class="delimiter">]</span><span class="delimiter">)</span>
       <a href="#95810" title="AnyRef">v</a> = <a href="#95810" title="AnyRef">v</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Enumeration#Value" class="delimiter">[</span>scala.Enumeration#<span title="Enumeration#Value">Value</span><span class="delimiter">]</span>.<span title="=&gt; Int">id</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span>
    <span class="keyword">else</span> <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#95810" title="AnyRef">v</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span>java.util.<span title="java.util.UUID">UUID</span><span class="delimiter">]</span><span class="delimiter">)</span>
       <a href="#95810" title="AnyRef">v</a> = <a href="#38177" title="(u: java.util.UUID)AnyRef">convertFromUuidForJdbc</a><span class="delimiter">(</span><a href="#95810" title="AnyRef">v</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="java.util.UUID" class="delimiter">[</span><span title="java.util.UUID">UUID</span><span class="delimiter">]</span><span class="delimiter">)</span>
    <a href="#95810" title="AnyRef">v</a>
  <span class="delimiter">}</span>

//  see comment in def convertFromBooleanForJdbc
//    if(v.isInstanceOf[java.lang.Boolean])
//      v = convertFromBooleanForJdbc(v)
  
  // TODO: move to StatementWriter (since it encapsulates the 'magic' of swapping values for '?' when needed)
  //and consider delaying the ? to 'value' decision until execution, in order to make StatementWriter loggable
  //with values at any time (via : a kind of prettyStatement method)
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(o: AnyRef, fmd: org.squeryl.internals.FieldMetaData, sw: org.squeryl.internals.StatementWriter)String" id="38163">writeValue</a><span class="delimiter">(</span><a title="AnyRef" id="63712">o</a>: <span title="AnyRef">AnyRef</span>, <a title="org.squeryl.internals.FieldMetaData" id="63713">fmd</a>: <a href="FieldMetaData.scala.html#8086" title="org.squeryl.internals.FieldMetaData">FieldMetaData</a>, <a title="org.squeryl.internals.StatementWriter" id="63714">sw</a>: <a href="StatementWriter.scala.html#8175" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span>:<span title="String">String</span> =
    <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#63714" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41650" title="=&gt; Boolean">isForDisplay</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="AnyRef" id="95823">v</a> = <a href="#63713" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49750" title="(o: AnyRef)AnyRef">getNativeJdbcValue</a><span class="delimiter">(</span><a href="#63712" title="AnyRef">o</a><span class="delimiter">)</span>
      <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#95823" title="AnyRef">v</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
        <a href="#95823" title="AnyRef">v</a>.<span title="()String">toString</span>
      <span class="keyword">else</span>
        <span title="String(&quot;null&quot;)" class="string">&quot;null&quot;</span>
    <span class="delimiter">}</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <a href="#63714" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41665" title="(p: AnyRef)Unit">addParam</a><span class="delimiter">(</span><a href="#38162" title="(r: AnyRef)AnyRef">convertToJdbcValue</a><span class="delimiter">(</span><a href="#63713" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49750" title="(o: AnyRef)AnyRef">getNativeJdbcValue</a><span class="delimiter">(</span><a href="#63712" title="AnyRef">o</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="String(&quot;?&quot;)" class="string">&quot;?&quot;</span>
    <span class="delimiter">}</span>

//  protected def writeValue(sw: StatementWriter, v: AnyRef):String =
//    if(sw.isForDisplay) {
//      if(v != null)
//        v.toString
//      else
//        &quot;null&quot;
//    }
//    else {
//      sw.addParam(convertToJdbcValue(v))
//      &quot;?&quot;
//    }

  /**
   * When @arg printSinkWhenWriteOnlyMode is not None, the adapter will not execute any statement, but only silently give it to the String=&gt;Unit closure
   */
  <span class="keyword">def</span> <a title="(t: org.squeryl.Table[_], printSinkWhenWriteOnlyMode: Option[String =&gt; Unit])Unit" id="38164">postCreateTable</a><span class="delimiter">(</span><a title="org.squeryl.Table[_]" id="50269">t</a>: <a href="../Table.scala.html#7209" title="org.squeryl.Table[_]">Table</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="Option[String =&gt; Unit]" id="50270">printSinkWhenWriteOnlyMode</a>: <span title="Option[String =&gt; Unit]">Option</span><span class="delimiter">[</span>String =&gt; Unit<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>
  
  <span class="keyword">def</span> <a title="(t: org.squeryl.Table[_])Unit" id="38165">postDropTable</a><span class="delimiter">(</span><a title="org.squeryl.Table[_]" id="51779">t</a>: <a href="../Table.scala.html#7209" title="org.squeryl.Table[_]">Table</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(fmd: org.squeryl.internals.FieldMetaData)String" id="38166">createSequenceName</a><span class="delimiter">(</span><a title="org.squeryl.internals.FieldMetaData" id="67137">fmd</a>: <a href="FieldMetaData.scala.html#8086" title="org.squeryl.internals.FieldMetaData">FieldMetaData</a><span class="delimiter">)</span> = 
    <span title="String(&quot;s_&quot;)" class="string">&quot;s_&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#67137" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49694" title="=&gt; org.squeryl.internals.PosoMetaData[_]">parentMetaData</a>.<a href="PosoMetaData.scala.html#38365" title="=&gt; org.squeryl.View[_$1]">viewOrTable</a>.<a href="../View.scala.html#37961" title="=&gt; String">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;_&quot;)" class="string">&quot;_&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#67137" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49738" title="=&gt; String">columnName</a>

  <span class="keyword">def</span> <a title="(fn: org.squeryl.dsl.ast.FunctionNode, sw: org.squeryl.internals.StatementWriter)Unit" id="38167">writeConcatFunctionCall</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.FunctionNode" id="66332">fn</a>: <a href="../dsl/ast/ExpressionNode.scala.html#7665" title="org.squeryl.dsl.ast.FunctionNode">FunctionNode</a>, <a title="org.squeryl.internals.StatementWriter" id="66333">sw</a>: <a href="StatementWriter.scala.html#8175" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#66333" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#66332" title="org.squeryl.dsl.ast.FunctionNode">fn</a>.<a href="../dsl/ast/ExpressionNode.scala.html#66336" title="=&gt; String">name</a><span class="delimiter">)</span>
    <a href="#66333" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span><span class="delimiter">)</span>
    <a href="#66333" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41688" title="(s: Iterable[org.squeryl.dsl.ast.ExpressionNode], separator: String, newLineAfterSeparator: Boolean)Unit">writeNodesWithSeparator</a><span class="delimiter">(</span><a href="#66332" title="org.squeryl.dsl.ast.FunctionNode">fn</a>.<a href="../dsl/ast/ExpressionNode.scala.html#66338" title="=&gt; Seq[org.squeryl.dsl.ast.ExpressionNode]">args</a>, <span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
    <a href="#66333" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>    
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="38168">isFullOuterJoinSupported</a> = <span title="Boolean(true)" class="keyword">true</span>

  <span class="keyword">def</span> <a title="[T](o: T, t: org.squeryl.Table[T], sw: org.squeryl.internals.StatementWriter, checkOCC: Boolean)Unit" id="38169">writeUpdate</a><span class="delimiter">[</span><a title="" id="38171">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="63671">o</a>: <a href="#38171" title="T">T</a>, <a title="org.squeryl.Table[T]" id="63672">t</a>: <a href="../Table.scala.html#7209" title="org.squeryl.Table[T]">Table</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="org.squeryl.internals.StatementWriter" id="63673">sw</a>: <a href="StatementWriter.scala.html#8175" title="org.squeryl.internals.StatementWriter">StatementWriter</a>, <a title="Boolean" id="63674">checkOCC</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="AnyRef" id="63675">o_</a> = <a href="#63671" title="T">o</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span>


    <a href="#63673" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;update &quot;)" class="string">&quot;update &quot;</span>, <a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#63672" title="org.squeryl.Table[T]">t</a>.<a href="../View.scala.html#37963" title="=&gt; String">prefixedName</a><span class="delimiter">)</span>, <span title="String(&quot; set &quot;)" class="string">&quot; set &quot;</span><span class="delimiter">)</span>
    <a href="#63673" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41680" title="=&gt; Unit">nextLine</a>
    <a href="#63673" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41674" title="=&gt; Unit">indent</a>
    <a href="#63673" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41687" title="(s: Iterable[String], separator: String)Unit">writeLinesWithSeparator</a><span class="delimiter">(</span>
      <a href="#63672" title="org.squeryl.Table[T]">t</a>.<a href="../View.scala.html#37966" title="=&gt; org.squeryl.internals.PosoMetaData[T]">posoMetaData</a>.<a href="PosoMetaData.scala.html#38374" title="=&gt; Iterable[org.squeryl.internals.FieldMetaData]">fieldsMetaData</a>.
        <span title="(p: org.squeryl.internals.FieldMetaData =&gt; Boolean)Iterable[org.squeryl.internals.FieldMetaData]">filter</span><span class="delimiter">(</span><a title="org.squeryl.internals.FieldMetaData" id="63683">fmd</a>=&gt; <span title="=&gt; Boolean">!</span> <a href="#63683" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49726" title="=&gt; Boolean">isIdFieldOfKeyedEntity</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#63683" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49748" title="=&gt; Boolean">isUpdatable</a><span class="delimiter">)</span>.
          <span title="(f: org.squeryl.internals.FieldMetaData =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[org.squeryl.internals.FieldMetaData],String,Iterable[String]])Iterable[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,String,Iterable[String]]" class="delimiter">(</span><a title="org.squeryl.internals.FieldMetaData" id="63711">fmd</a> =&gt; <span class="delimiter">{</span>
            <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#63711" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49710" title="=&gt; Boolean">isOptimisticCounter</a><span class="delimiter">)</span>
              <a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#63711" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49738" title="=&gt; String">columnName</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; = &quot;)" class="string">&quot; = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#63711" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49738" title="=&gt; String">columnName</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; + 1 &quot;)" class="string">&quot; + 1 &quot;</span>
            <span class="keyword">else</span>
              <a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#63711" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49738" title="=&gt; String">columnName</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; = &quot;)" class="string">&quot; = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#38163" title="(o: AnyRef, fmd: org.squeryl.internals.FieldMetaData, sw: org.squeryl.internals.StatementWriter)String">writeValue</a><span class="delimiter">(</span><a href="#63675" title="AnyRef">o_</a>, <a href="#63711" title="org.squeryl.internals.FieldMetaData">fmd</a>, <a href="#63673" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>,
      <span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span>
    <span class="delimiter">)</span>
    <a href="#63673" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41675" title="=&gt; Unit">unindent</a>
    <a href="#63673" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;where&quot;)" class="string">&quot;where&quot;</span><span class="delimiter">)</span>
    <a href="#63673" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41680" title="=&gt; Unit">nextLine</a>
    <a href="#63673" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41674" title="=&gt; Unit">indent</a>
    
    <a href="#63672" title="org.squeryl.Table[T]">t</a>.<a href="../View.scala.html#37966" title="=&gt; org.squeryl.internals.PosoMetaData[T]">posoMetaData</a>.<a href="PosoMetaData.scala.html#38378" title="=&gt; Option[Either[org.squeryl.internals.FieldMetaData,java.lang.reflect.Method]]">primaryKey</a>.<span title="(default: =&gt; Either[org.squeryl.internals.FieldMetaData,java.lang.reflect.Method])Either[org.squeryl.internals.FieldMetaData,java.lang.reflect.Method]">getOrElse</span><span class="delimiter">(</span><span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)UnsupportedOperationException" class="keyword">new</span> <span title="UnsupportedOperationException">UnsupportedOperationException</span><span class="delimiter">(</span><span title="String(&quot;writeUpdate was called on an object that does not extend from KeyedEntity[]&quot;)" class="string">&quot;writeUpdate was called on an object that does not extend from KeyedEntity[]&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(fa: org.squeryl.internals.FieldMetaData =&gt; Any, fb: java.lang.reflect.Method =&gt; Any)Any">fold</span><span class="delimiter">(</span>
      <a title="org.squeryl.internals.FieldMetaData" id="63751">pkMd</a> =&gt; <a href="#63673" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#63751" title="org.squeryl.internals.FieldMetaData">pkMd</a>.<a href="FieldMetaData.scala.html#49738" title="=&gt; String">columnName</a><span class="delimiter">)</span>, <span title="String(&quot; = &quot;)" class="string">&quot; = &quot;</span>, <a href="#38163" title="(o: AnyRef, fmd: org.squeryl.internals.FieldMetaData, sw: org.squeryl.internals.StatementWriter)String">writeValue</a><span class="delimiter">(</span><a href="#63675" title="AnyRef">o_</a>, <a href="#63751" title="org.squeryl.internals.FieldMetaData">pkMd</a>, <a href="#63673" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span><span class="delimiter">)</span>,
      <a title="java.lang.reflect.Method" id="63753">pkGetter</a> =&gt; <span class="delimiter">{</span>
        <a href="Utils.scala.html#8187" title="org.squeryl.internals.Utils.type">Utils</a>.<a href="Utils.scala.html#32412" title="(q: org.squeryl.Queryable[T], whereClause: T =&gt; org.squeryl.dsl.ast.LogicalBoolean)org.squeryl.dsl.ast.QueryExpressionElements">createQuery4WhereClause</a><span class="delimiter">(</span><a href="#63672" title="org.squeryl.Table[T]">t</a>, <span class="delimiter">(</span>t0:<a href="#38171" title="T">T</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="org.squeryl.dsl.CompositeKey" id="63763">ck</a> = <a href="#63753" title="java.lang.reflect.Method">pkGetter</a>.<span title="(x$1: Any, x$2: &lt;repeated...&gt;[Object])Object">invoke</span><span class="delimiter">(</span><a href="#63762" title="T">t0</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.dsl.CompositeKey" class="delimiter">[</span><a href="../dsl/CompositeKey.scala.html#7375" title="org.squeryl.dsl.CompositeKey">CompositeKey</a><span class="delimiter">]</span>

          <span class="keyword">val</span> <a title="Seq[String]" id="63764">fieldWhere</a> = <a href="#63763" title="org.squeryl.dsl.CompositeKey">ck</a>.<a href="../dsl/CompositeKey.scala.html#33400" title="=&gt; Seq[org.squeryl.internals.FieldMetaData]">_fields</a> <span title="(f: org.squeryl.internals.FieldMetaData =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[org.squeryl.internals.FieldMetaData],String,Seq[String]])Seq[String]">map</span> <span class="delimiter">(</span><a title="org.squeryl.internals.FieldMetaData" id="63784">fmd</a> =&gt; <a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#63784" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49738" title="=&gt; String">columnName</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; = &quot;)" class="string">&quot; = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#38163" title="(o: AnyRef, fmd: org.squeryl.internals.FieldMetaData, sw: org.squeryl.internals.StatementWriter)String">writeValue</a><span class="delimiter">(</span><a href="#63675" title="AnyRef">o_</a>, <a href="#63784" title="org.squeryl.internals.FieldMetaData">fmd</a>, <a href="#63673" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#63673" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#63764" title="Seq[String]">fieldWhere</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot; and &quot;)" class="string">&quot; and &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span title="org.squeryl.dsl.ast.EqualityExpression" class="keyword">new</span> <a href="../dsl/ast/ExpressionNode.scala.html#7642" title="org.squeryl.dsl.ast.EqualityExpression">EqualityExpression</a><span class="delimiter">(</span><span title="org.squeryl.dsl.ast.InputOnlyConstantExpressionNode" class="keyword">new</span> <a href="../dsl/ast/ExpressionNode.scala.html#7659" title="org.squeryl.dsl.ast.InputOnlyConstantExpressionNode">InputOnlyConstantExpressionNode</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>, <span title="org.squeryl.dsl.ast.InputOnlyConstantExpressionNode" class="keyword">new</span> <a href="../dsl/ast/ExpressionNode.scala.html#7659" title="org.squeryl.dsl.ast.InputOnlyConstantExpressionNode">InputOnlyConstantExpressionNode</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">)</span>

    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#63674" title="Boolean">checkOCC</a><span class="delimiter">)</span>
      <a href="#63672" title="org.squeryl.Table[T]">t</a>.<a href="../View.scala.html#37966" title="=&gt; org.squeryl.internals.PosoMetaData[T]">posoMetaData</a>.<a href="PosoMetaData.scala.html#38380" title="=&gt; Option[org.squeryl.internals.FieldMetaData]">optimisticCounter</a>.<span title="(f: org.squeryl.internals.FieldMetaData =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a title="org.squeryl.internals.FieldMetaData" id="63880">occ</a> =&gt; <span class="delimiter">{</span>
         <a href="#63673" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot; and &quot;)" class="string">&quot; and &quot;</span><span class="delimiter">)</span>
         <a href="#63673" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#63880" title="org.squeryl.internals.FieldMetaData">occ</a>.<a href="FieldMetaData.scala.html#49738" title="=&gt; String">columnName</a><span class="delimiter">)</span><span class="delimiter">)</span>
         <a href="#63673" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot; = &quot;)" class="string">&quot; = &quot;</span><span class="delimiter">)</span>
         <a href="#63673" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#38163" title="(o: AnyRef, fmd: org.squeryl.internals.FieldMetaData, sw: org.squeryl.internals.StatementWriter)String">writeValue</a><span class="delimiter">(</span><a href="#63675" title="AnyRef">o_</a>, <a href="#63880" title="org.squeryl.internals.FieldMetaData">occ</a>, <a href="#63673" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](t: org.squeryl.Table[T], whereClause: Option[org.squeryl.dsl.ast.ExpressionNode], sw: org.squeryl.internals.StatementWriter)Unit" id="38172">writeDelete</a><span class="delimiter">[</span><a title="" id="38174">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="org.squeryl.Table[T]" id="65115">t</a>: <a href="../Table.scala.html#7209" title="org.squeryl.Table[T]">Table</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="Option[org.squeryl.dsl.ast.ExpressionNode]" id="65116">whereClause</a>: <span title="Option[org.squeryl.dsl.ast.ExpressionNode]">Option</span><span class="delimiter">[</span>ExpressionNode<span class="delimiter">]</span>, <a title="org.squeryl.internals.StatementWriter" id="65117">sw</a>: <a href="StatementWriter.scala.html#8175" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> = <span class="delimiter">{</span>

    <a href="#65117" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;delete from &quot;)" class="string">&quot;delete from &quot;</span><span class="delimiter">)</span>
    <a href="#65117" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#65115" title="org.squeryl.Table[T]">t</a>.<a href="../View.scala.html#37963" title="=&gt; String">prefixedName</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#65116" title="Option[org.squeryl.dsl.ast.ExpressionNode]">whereClause</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="None.type">None</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#65117" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41680" title="=&gt; Unit">nextLine</a>
      <a href="#65117" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;where&quot;)" class="string">&quot;where&quot;</span><span class="delimiter">)</span>
      <a href="#65117" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41680" title="=&gt; Unit">nextLine</a>
      <a href="#65117" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41690" title="(u: =&gt; Unit)Unit">writeIndented</a> <span class="delimiter">{</span>
        <a href="#65116" title="Option[org.squeryl.dsl.ast.ExpressionNode]">whereClause</a>.<span title="=&gt; org.squeryl.dsl.ast.ExpressionNode">get</span>.<a href="../dsl/ast/ExpressionNode.scala.html#31643" title="(sw: org.squeryl.internals.StatementWriter)Unit">write</a><span class="delimiter">(</span><a href="#65117" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * unused at the moment, since all jdbc drivers adhere to the standard that :
   *  1 == true, false otherwise. If a new driver would not adhere
   * to this, the call can be uncommented in method convertToJdbcValue
   */
  <span class="keyword">def</span> <a title="(b: Boolean)Boolean" id="38175">convertFromBooleanForJdbc</a><span class="delimiter">(</span><a title="Boolean" id="95830">b</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#95830" title="Boolean">b</a>

  /**
   * unused for the same reason as def convertFromBooleanForJdbc (see comment)
   */
  <span class="keyword">def</span> <a title="(rs: java.sql.ResultSet, i: Int)Boolean" id="38176">convertToBooleanForJdbc</a><span class="delimiter">(</span><a title="java.sql.ResultSet" id="95831">rs</a>: <span title="java.sql.ResultSet">ResultSet</span>, <a title="Int" id="95832">i</a>:<span title="Int">Int</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#95831" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)Boolean">getBoolean</span><span class="delimiter">(</span><a href="#95832" title="Int">i</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(u: java.util.UUID)AnyRef" id="38177">convertFromUuidForJdbc</a><span class="delimiter">(</span><a title="java.util.UUID" id="68287">u</a>: <span title="java.util.UUID">UUID</span><span class="delimiter">)</span>: <span title="AnyRef">AnyRef</span> =
    <a href="#68287" title="java.util.UUID">u</a>.<span title="()String">toString</span>

  <span class="keyword">def</span> <a title="(rs: java.sql.ResultSet, i: Int)java.util.UUID" id="38178">convertToUuidForJdbc</a><span class="delimiter">(</span><a title="java.sql.ResultSet" id="68291">rs</a>: <span title="java.sql.ResultSet">ResultSet</span>, <a title="Int" id="68292">i</a>:<span title="Int">Int</span><span class="delimiter">)</span>: <span title="java.util.UUID">UUID</span> =
    <span title="java.util.UUID.type">UUID</span>.<span title="(x$1: String)java.util.UUID">fromString</span><span class="delimiter">(</span><a href="#68291" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)String">getString</span><span class="delimiter">(</span><a href="#68292" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(t: org.squeryl.Table[_], us: org.squeryl.dsl.ast.UpdateStatement, sw: org.squeryl.internals.StatementWriter)Unit" id="38179">writeUpdate</a><span class="delimiter">(</span><a title="org.squeryl.Table[_]" id="63474">t</a>: <a href="../Table.scala.html#7209" title="org.squeryl.Table[_]">Table</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="org.squeryl.dsl.ast.UpdateStatement" id="63475">us</a>: <a href="../dsl/ast/UpdateStatement.scala.html#7722" title="org.squeryl.dsl.ast.UpdateStatement">UpdateStatement</a>, <a title="org.squeryl.internals.StatementWriter" id="63476">sw</a> : <a href="StatementWriter.scala.html#8175" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> = <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="Iterator[org.squeryl.internals.FieldMetaData]" id="63477">colsToUpdate</a> = <a href="#63475" title="org.squeryl.dsl.ast.UpdateStatement">us</a>.<a href="../dsl/ast/UpdateStatement.scala.html#63487" title="=&gt; Seq[org.squeryl.internals.FieldMetaData]">columns</a>.<span title="=&gt; Iterator[org.squeryl.internals.FieldMetaData]">iterator</span>

    <a href="#63476" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;update &quot;)" class="string">&quot;update &quot;</span><span class="delimiter">)</span>
    <a href="#63476" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#63474" title="org.squeryl.Table[_]">t</a>.<a href="../View.scala.html#37963" title="=&gt; String">prefixedName</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#63476" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot; set&quot;)" class="string">&quot; set&quot;</span><span class="delimiter">)</span>
    <a href="#63476" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41674" title="=&gt; Unit">indent</a>
    <a href="#63476" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41680" title="=&gt; Unit">nextLine</a>
    <span class="keyword">for</span><span class="delimiter">(</span><a title="DatabaseAdapter.this.Zip[org.squeryl.dsl.ast.ExpressionNode]" id="63623">z</a> &lt;- <a href="#63475" title="org.squeryl.dsl.ast.UpdateStatement">us</a>.<a href="#38106" title="(i: Iterable[org.squeryl.dsl.ast.ExpressionNode])DatabaseAdapter.this.ZipIterable[org.squeryl.dsl.ast.ExpressionNode]">values</a>.<a href="#42311" title="(f: DatabaseAdapter.this.Zip[org.squeryl.dsl.ast.ExpressionNode] =&gt; Unit)Unit">zipi</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.squeryl.internals.FieldMetaData" id="63634">col</a> = <a href="#63477" title="Iterator[org.squeryl.internals.FieldMetaData]">colsToUpdate</a>.<span title="()org.squeryl.internals.FieldMetaData">next</span>
      <a href="#63476" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#63634" title="org.squeryl.internals.FieldMetaData">col</a>.<a href="FieldMetaData.scala.html#49738" title="=&gt; String">columnName</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#63476" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot; = &quot;)" class="string">&quot; = &quot;</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="org.squeryl.dsl.ast.ExpressionNode" id="63635">v</a> = <a href="#63623" title="DatabaseAdapter.this.Zip[org.squeryl.dsl.ast.ExpressionNode]">z</a>.<a href="#95204" title="=&gt; org.squeryl.dsl.ast.ExpressionNode">element</a>
      <a href="#63476" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span><span class="delimiter">)</span>
      <a href="#63635" title="org.squeryl.dsl.ast.ExpressionNode">v</a>.<a href="../dsl/ast/ExpressionNode.scala.html#31643" title="(sw: org.squeryl.internals.StatementWriter)Unit">write</a><span class="delimiter">(</span><a href="#63476" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
      <a href="#63476" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#63623" title="DatabaseAdapter.this.Zip[org.squeryl.dsl.ast.ExpressionNode]">z</a>.<a href="#95205" title="=&gt; Boolean">isLast</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#63476" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span>
        <a href="#63476" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41680" title="=&gt; Unit">nextLine</a>
      <span class="delimiter">}</span>      
    <span class="delimiter">}</span>

    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#63474" title="org.squeryl.Table[_]">t</a>.<a href="../View.scala.html#37966" title="=&gt; org.squeryl.internals.PosoMetaData[_$6]">posoMetaData</a>.<a href="PosoMetaData.scala.html#38370" title="=&gt; Boolean">isOptimistic</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#63476" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span>
      <a href="#63476" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41680" title="=&gt; Unit">nextLine</a>      
      <span class="keyword">val</span> <a title="org.squeryl.internals.FieldMetaData" id="63651">occ</a> = <a href="#63474" title="org.squeryl.Table[_]">t</a>.<a href="../View.scala.html#37966" title="=&gt; org.squeryl.internals.PosoMetaData[_$6]">posoMetaData</a>.<a href="PosoMetaData.scala.html#38380" title="=&gt; Option[org.squeryl.internals.FieldMetaData]">optimisticCounter</a>.<span title="=&gt; org.squeryl.internals.FieldMetaData">get</span>
      <a href="#63476" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#63651" title="org.squeryl.internals.FieldMetaData">occ</a>.<a href="FieldMetaData.scala.html#49738" title="=&gt; String">columnName</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#63476" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot; = &quot;)" class="string">&quot; = &quot;</span><span class="delimiter">)</span>
      <a href="#63476" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#63651" title="org.squeryl.internals.FieldMetaData">occ</a>.<a href="FieldMetaData.scala.html#49738" title="=&gt; String">columnName</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; + 1&quot;)" class="string">&quot; + 1&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    
    <a href="#63476" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41675" title="=&gt; Unit">unindent</a>

    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#63475" title="org.squeryl.dsl.ast.UpdateStatement">us</a>.<a href="../dsl/ast/UpdateStatement.scala.html#63483" title="=&gt; Option[org.squeryl.dsl.ast.LogicalBoolean]">whereClause</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="None.type">None</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#63476" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41680" title="=&gt; Unit">nextLine</a>
      <a href="#63476" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;Where&quot;)" class="string">&quot;Where&quot;</span><span class="delimiter">)</span>
      <a href="#63476" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41680" title="=&gt; Unit">nextLine</a>
      <a href="#63476" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41690" title="(u: =&gt; Unit)Unit">writeIndented</a> <span class="delimiter">{</span>
        <a href="#63475" title="org.squeryl.dsl.ast.UpdateStatement">us</a>.<a href="../dsl/ast/UpdateStatement.scala.html#63483" title="=&gt; Option[org.squeryl.dsl.ast.LogicalBoolean]">whereClause</a>.<span title="=&gt; org.squeryl.dsl.ast.LogicalBoolean">get</span>.<a href="../dsl/ast/ExpressionNode.scala.html#31643" title="(sw: org.squeryl.internals.StatementWriter)Unit">write</a><span class="delimiter">(</span><a href="#63476" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; String" id="38180">nvlToken</a> = <span title="String(&quot;coalesce&quot;)" class="string">&quot;coalesce&quot;</span>

  <span class="keyword">def</span> <a title="(left: org.squeryl.dsl.ast.ExpressionNode, right: org.squeryl.dsl.ast.ExpressionNode, sw: org.squeryl.internals.StatementWriter)Unit" id="38181">writeNvlCall</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.ExpressionNode" id="80904">left</a>: <a href="../dsl/ast/ExpressionNode.scala.html#7640" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a>, <a title="org.squeryl.dsl.ast.ExpressionNode" id="80905">right</a>: <a href="../dsl/ast/ExpressionNode.scala.html#7640" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a>, <a title="org.squeryl.internals.StatementWriter" id="80906">sw</a>: <a href="StatementWriter.scala.html#8175" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#80906" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#38180" title="=&gt; String">nvlToken</a><span class="delimiter">)</span>
    <a href="#80906" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span><span class="delimiter">)</span>
    <a href="#80904" title="org.squeryl.dsl.ast.ExpressionNode">left</a>.<a href="../dsl/ast/ExpressionNode.scala.html#31643" title="(sw: org.squeryl.internals.StatementWriter)Unit">write</a><span class="delimiter">(</span><a href="#80906" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
    <a href="#80906" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span>
    <a href="#80905" title="org.squeryl.dsl.ast.ExpressionNode">right</a>.<a href="../dsl/ast/ExpressionNode.scala.html#31643" title="(sw: org.squeryl.internals.StatementWriter)Unit">write</a><span class="delimiter">(</span><a href="#80906" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
    <a href="#80906" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Figures out from the SQLException (ex.: vendor specific error code) 
   * if it's cause is a NOT NULL constraint violation
   */
  <span class="keyword">def</span> <a title="(e: java.sql.SQLException)Boolean" id="38182">isNotNullConstraintViolation</a><span class="delimiter">(</span><a title="java.sql.SQLException" id="77594">e</a>: <span title="java.sql.SQLException">SQLException</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>  

  <span class="keyword">def</span> <a title="(foreignKeyTable: org.squeryl.Table[_], idWithinSchema: Int)String" id="38183">foreignKeyConstraintName</a><span class="delimiter">(</span><a title="org.squeryl.Table[_]" id="50549">foreignKeyTable</a>: <a href="../Table.scala.html#7209" title="org.squeryl.Table[_]">Table</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="Int" id="50550">idWithinSchema</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
    <a href="#50549" title="org.squeryl.Table[_]">foreignKeyTable</a>.<a href="../View.scala.html#37961" title="=&gt; String">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;FK&quot;)" class="string">&quot;FK&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#50550" title="Int">idWithinSchema</a>

  <span class="keyword">def</span> <a title="(vn: org.squeryl.dsl.ast.ViewExpressionNode[_])String" id="38184">viewAlias</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.ViewExpressionNode[_]" id="67757">vn</a>: <a href="../dsl/ast/ViewExpressionNode.scala.html#7730" title="org.squeryl.dsl.ast.ViewExpressionNode[_]">ViewExpressionNode</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =
     <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#67757" title="org.squeryl.dsl.ast.ViewExpressionNode[_]">vn</a>.<a href="../dsl/ast/ViewExpressionNode.scala.html#64983" title="=&gt; org.squeryl.View[_$8]">view</a>.<a href="../View.scala.html#37962" title="=&gt; Option[String]">prefix</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="None.type">None</span><span class="delimiter">)</span>
       <a href="#67757" title="org.squeryl.dsl.ast.ViewExpressionNode[_]">vn</a>.<a href="../dsl/ast/ViewExpressionNode.scala.html#64983" title="=&gt; org.squeryl.View[_$8]">view</a>.<a href="../View.scala.html#37962" title="=&gt; Option[String]">prefix</a>.<span title="=&gt; String">get</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;_&quot;)" class="string">&quot;_&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#67757" title="org.squeryl.dsl.ast.ViewExpressionNode[_]">vn</a>.<a href="../dsl/ast/ViewExpressionNode.scala.html#64983" title="=&gt; org.squeryl.View[_$8]">view</a>.<a href="../View.scala.html#37961" title="=&gt; String">name</a> <span title="(x$1: Any)String">+</span> <a href="#67757" title="org.squeryl.dsl.ast.ViewExpressionNode[_]">vn</a>.<a href="../dsl/ast/ExpressionNode.scala.html#56585" title="=&gt; Option[Int]">uniqueId</a>.<span title="=&gt; Int">get</span>
     <span class="keyword">else</span>
       <a href="#67757" title="org.squeryl.dsl.ast.ViewExpressionNode[_]">vn</a>.<a href="../dsl/ast/ViewExpressionNode.scala.html#64983" title="=&gt; org.squeryl.View[_$8]">view</a>.<a href="../View.scala.html#37961" title="=&gt; String">name</a> <span title="(x$1: Any)String">+</span> <a href="#67757" title="org.squeryl.dsl.ast.ViewExpressionNode[_]">vn</a>.<a href="../dsl/ast/ExpressionNode.scala.html#56585" title="=&gt; Option[Int]">uniqueId</a>.<span title="=&gt; Int">get</span>

  <span class="keyword">def</span> <a title="(foreignKeyTable: org.squeryl.Table[_], foreignKeyColumnName: String, primaryKeyTable: org.squeryl.Table[_], primaryKeyColumnName: String, referentialAction1: Option[org.squeryl.ReferentialAction], referentialAction2: Option[org.squeryl.ReferentialAction], fkId: Int)String" id="38185">writeForeignKeyDeclaration</a><span class="delimiter">(</span>
    <a title="org.squeryl.Table[_]" id="50518">foreignKeyTable</a>: <a href="../Table.scala.html#7209" title="org.squeryl.Table[_]">Table</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="String" id="50519">foreignKeyColumnName</a>: <span title="String">String</span>,
    <a title="org.squeryl.Table[_]" id="50520">primaryKeyTable</a>: <a href="../Table.scala.html#7209" title="org.squeryl.Table[_]">Table</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="String" id="50521">primaryKeyColumnName</a>: <span title="String">String</span>,
    <a title="Option[org.squeryl.ReferentialAction]" id="50522">referentialAction1</a>: <span title="Option[org.squeryl.ReferentialAction]">Option</span><span class="delimiter">[</span>ReferentialAction<span class="delimiter">]</span>,
    <a title="Option[org.squeryl.ReferentialAction]" id="50523">referentialAction2</a>: <span title="Option[org.squeryl.ReferentialAction]">Option</span><span class="delimiter">[</span>ReferentialAction<span class="delimiter">]</span>,
    <a title="Int" id="50524">fkId</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    
    <span class="keyword">val</span> <a title="StringBuilder" id="50525">sb</a> = <span title="(capacity: Int)StringBuilder" class="keyword">new</span> <span title="StringBuilder">StringBuilder</span><span class="delimiter">(</span><span title="Int(256)" class="int">256</span><span class="delimiter">)</span>

    <a href="#50525" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;alter table &quot;)" class="string">&quot;alter table &quot;</span><span class="delimiter">)</span>
    <a href="#50525" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#50518" title="org.squeryl.Table[_]">foreignKeyTable</a>.<a href="../View.scala.html#37963" title="=&gt; String">prefixedName</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#50525" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot; add constraint &quot;)" class="string">&quot; add constraint &quot;</span><span class="delimiter">)</span>
    <a href="#50525" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#38183" title="(foreignKeyTable: org.squeryl.Table[_], idWithinSchema: Int)String">foreignKeyConstraintName</a><span class="delimiter">(</span><a href="#50518" title="org.squeryl.Table[_]">foreignKeyTable</a>, <a href="#50524" title="Int">fkId</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#50525" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot; foreign key (&quot;)" class="string">&quot; foreign key (&quot;</span><span class="delimiter">)</span>
    <a href="#50525" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#50519" title="String">foreignKeyColumnName</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#50525" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;) references &quot;)" class="string">&quot;) references &quot;</span><span class="delimiter">)</span>
    <a href="#50525" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#50520" title="org.squeryl.Table[_]">primaryKeyTable</a>.<a href="../View.scala.html#37963" title="=&gt; String">prefixedName</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#50525" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span><span class="delimiter">)</span>
    <a href="#50525" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#50521" title="String">primaryKeyColumnName</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#50525" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.ReferentialAction =&gt; StringBuilder" id="50526">f</a> =  <span class="delimiter">(</span>ra:<a href="../KeyedEntity.scala.html#7138" title="org.squeryl.ReferentialAction">ReferentialAction</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
      <a href="#50525" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot; on &quot;)" class="string">&quot; on &quot;</span><span class="delimiter">)</span>
      <a href="#50525" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#50586" title="org.squeryl.ReferentialAction">ra</a>.<a href="../KeyedEntity.scala.html#24198" title="=&gt; String">event</a><span class="delimiter">)</span>
      <a href="#50525" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span>
      <a href="#50525" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#50586" title="org.squeryl.ReferentialAction">ra</a>.<a href="../KeyedEntity.scala.html#24199" title="=&gt; String">action</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="#50522" title="Option[org.squeryl.ReferentialAction]">referentialAction1</a>.<span title="(f: org.squeryl.ReferentialAction =&gt; StringBuilder)Unit">foreach</span><span class="delimiter">(</span><a href="#50526" title="org.squeryl.ReferentialAction =&gt; StringBuilder">f</a><span class="delimiter">)</span>
    <a href="#50523" title="Option[org.squeryl.ReferentialAction]">referentialAction2</a>.<span title="(f: org.squeryl.ReferentialAction =&gt; StringBuilder)Unit">foreach</span><span class="delimiter">(</span><a href="#50526" title="org.squeryl.ReferentialAction =&gt; StringBuilder">f</a><span class="delimiter">)</span>

    <a href="#50525" title="StringBuilder">sb</a>.<span title="()String">toString</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; org.squeryl.Session" id="38186">currenSession</a> =
    <a href="../Session.scala.html#7193" title="org.squeryl.Session.type">Session</a>.<a href="../Session.scala.html#38067" title="=&gt; org.squeryl.Session">currentSession</a>

  <span class="keyword">def</span> <a title="(foreignKeyTable: org.squeryl.Table[_], fkName: String)String" id="38187">writeDropForeignKeyStatement</a><span class="delimiter">(</span><a title="org.squeryl.Table[_]" id="66939">foreignKeyTable</a>: <a href="../Table.scala.html#7209" title="org.squeryl.Table[_]">Table</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="String" id="66940">fkName</a>: <span title="String">String</span><span class="delimiter">)</span> =
    <span title="String(&quot;alter table &quot;)" class="string">&quot;alter table &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#66939" title="org.squeryl.Table[_]">foreignKeyTable</a>.<a href="../View.scala.html#37963" title="=&gt; String">prefixedName</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; drop constraint &quot;)" class="string">&quot; drop constraint &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#66940" title="String">fkName</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(foreignKeyTable: org.squeryl.Table[_], fkName: String, session: org.squeryl.Session)Unit" id="38188">dropForeignKeyStatement</a><span class="delimiter">(</span><a title="org.squeryl.Table[_]" id="51735">foreignKeyTable</a>: <a href="../Table.scala.html#7209" title="org.squeryl.Table[_]">Table</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="String" id="51736">fkName</a>: <span title="String">String</span>, <a title="org.squeryl.Session" id="51737">session</a>: <a href="../Session.scala.html#7192" title="org.squeryl.Session">Session</a><span class="delimiter">)</span>:<span title="Unit">Unit</span> =
    <a href="#38147" title="(sw: org.squeryl.internals.StatementWriter, silenceException: java.sql.SQLException =&gt; Boolean)Unit">execFailSafeExecute</a><span class="delimiter">(</span><a href="#38187" title="(foreignKeyTable: org.squeryl.Table[_], fkName: String)String">writeDropForeignKeyStatement</a><a href="#38148" title="implicit org.squeryl.internals.DatabaseAdapter.string2StatementWriter : (s: String)org.squeryl.internals.StatementWriter" class="delimiter">(</a><a href="#51735" title="org.squeryl.Table[_]">foreignKeyTable</a>, <a href="#51736" title="String">fkName</a><span class="delimiter">)</span>, <a title="java.sql.SQLException" id="95851">e</a> =&gt; <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(e: java.sql.SQLException)Boolean" id="38189">isTableDoesNotExistException</a><span class="delimiter">(</span><a title="java.sql.SQLException" id="51776">e</a>: <span title="java.sql.SQLException">SQLException</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="38190">supportsForeignKeyConstraints</a> = <span title="Boolean(true)" class="keyword">true</span>

  <span class="keyword">def</span> <a title="(tableName: String)String" id="38191">writeDropTable</a><span class="delimiter">(</span><a title="String" id="51771">tableName</a>: <span title="String">String</span><span class="delimiter">)</span> =
    <span title="String(&quot;drop table &quot;)" class="string">&quot;drop table &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#51771" title="String">tableName</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(t: org.squeryl.Table[_])Unit" id="38192">dropTable</a><span class="delimiter">(</span><a title="org.squeryl.Table[_]" id="51768">t</a>: <a href="../Table.scala.html#7209" title="org.squeryl.Table[_]">Table</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#38147" title="(sw: org.squeryl.internals.StatementWriter, silenceException: java.sql.SQLException =&gt; Boolean)Unit">execFailSafeExecute</a><span class="delimiter">(</span><a href="#38191" title="(tableName: String)String">writeDropTable</a><a href="#38148" title="implicit org.squeryl.internals.DatabaseAdapter.string2StatementWriter : (s: String)org.squeryl.internals.StatementWriter" class="delimiter">(</a><a href="#51768" title="org.squeryl.Table[_]">t</a>.<a href="../View.scala.html#37963" title="=&gt; String">prefixedName</a><span class="delimiter">)</span>, <a title="java.sql.SQLException" id="51775">e</a>=&gt; <a href="#38189" title="(e: java.sql.SQLException)Boolean">isTableDoesNotExistException</a><span class="delimiter">(</span><a href="#51775" title="java.sql.SQLException">e</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(t: org.squeryl.Table[_], cols: Iterable[org.squeryl.internals.FieldMetaData])String" id="38193">writeCompositePrimaryKeyConstraint</a><span class="delimiter">(</span><a title="org.squeryl.Table[_]" id="50816">t</a>: <a href="../Table.scala.html#7209" title="org.squeryl.Table[_]">Table</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="Iterable[org.squeryl.internals.FieldMetaData]" id="50817">cols</a>: <span title="Iterable[org.squeryl.internals.FieldMetaData]">Iterable</span><span class="delimiter">[</span>FieldMetaData<span class="delimiter">]</span><span class="delimiter">)</span> = 
      <a href="#38194" title="(t: org.squeryl.Table[_], cols: Iterable[org.squeryl.internals.FieldMetaData])String">writeUniquenessConstraint</a><span class="delimiter">(</span><a href="#50816" title="org.squeryl.Table[_]">t</a>, <a href="#50817" title="Iterable[org.squeryl.internals.FieldMetaData]">cols</a><span class="delimiter">)</span>;

  <span class="keyword">def</span> <a title="(t: org.squeryl.Table[_], cols: Iterable[org.squeryl.internals.FieldMetaData])String" id="38194">writeUniquenessConstraint</a><span class="delimiter">(</span><a title="org.squeryl.Table[_]" id="50818">t</a>: <a href="../Table.scala.html#7209" title="org.squeryl.Table[_]">Table</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="Iterable[org.squeryl.internals.FieldMetaData]" id="50819">cols</a>: <span title="Iterable[org.squeryl.internals.FieldMetaData]">Iterable</span><span class="delimiter">[</span>FieldMetaData<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    //ALTER TABLE TEST ADD CONSTRAINT NAME_UNIQUE UNIQUE(NAME)
    <span class="keyword">val</span> <a title="StringBuilder" id="50820">sb</a> = <span title="(capacity: Int)StringBuilder" class="keyword">new</span> <span title="StringBuilder">StringBuilder</span><span class="delimiter">(</span><span title="Int(256)" class="int">256</span><span class="delimiter">)</span>
    
    <a href="#50820" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;alter table &quot;)" class="string">&quot;alter table &quot;</span><span class="delimiter">)</span>
    <a href="#50820" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#50818" title="org.squeryl.Table[_]">t</a>.<a href="../View.scala.html#37963" title="=&gt; String">prefixedName</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#50820" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot; add constraint &quot;)" class="string">&quot; add constraint &quot;</span><span class="delimiter">)</span>
    <a href="#50820" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#50818" title="org.squeryl.Table[_]">t</a>.<a href="../View.scala.html#37963" title="=&gt; String">prefixedName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;CPK&quot;)" class="string">&quot;CPK&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#50820" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot; unique(&quot;)" class="string">&quot; unique(&quot;</span><span class="delimiter">)</span>
    <a href="#50820" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#50819" title="Iterable[org.squeryl.internals.FieldMetaData]">cols</a>.<span title="(f: org.squeryl.internals.FieldMetaData =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[org.squeryl.internals.FieldMetaData],String,Iterable[String]])Iterable[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,String,Iterable[String]]" class="delimiter">(</span><a href="#50867" title="org.squeryl.internals.FieldMetaData">_</a>.<a href="FieldMetaData.scala.html#49738" title="=&gt; String">columnName</a><span class="delimiter">)</span>.<span title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[String],String,Iterable[String]])Iterable[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,String,Iterable[String]]" class="delimiter">(</span><a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#50947" title="String">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#50820" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
    <a href="#50820" title="StringBuilder">sb</a>.<span title="()String">toString</span>
  <span class="delimiter">}</span>


  <span class="keyword">def</span> <a title="(left: org.squeryl.dsl.ast.ExpressionNode, pattern: String, sw: org.squeryl.internals.StatementWriter)Unit" id="38195">writeRegexExpression</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.ExpressionNode" id="66475">left</a>: <a href="../dsl/ast/ExpressionNode.scala.html#7640" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a>, <a title="String" id="66476">pattern</a>: <span title="String">String</span>, <a title="org.squeryl.internals.StatementWriter" id="66477">sw</a>: <a href="StatementWriter.scala.html#8175" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#66477" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span><span class="delimiter">)</span>
    <a href="#66475" title="org.squeryl.dsl.ast.ExpressionNode">left</a>.<a href="../dsl/ast/ExpressionNode.scala.html#31643" title="(sw: org.squeryl.internals.StatementWriter)Unit">write</a><span class="delimiter">(</span><a href="#66477" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
    <a href="#66477" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="String(&quot; ~ ?)&quot;)" class="string">&quot; ~ ?)&quot;</span><span class="delimiter">)</span>
    <a href="#66477" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41665" title="(p: AnyRef)Unit">addParam</a><span class="delimiter">(</span><a href="#66476" title="String">pattern</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(left: org.squeryl.dsl.ast.ExpressionNode, right: org.squeryl.dsl.ast.ExpressionNode, sw: org.squeryl.internals.StatementWriter)Unit" id="38196">writeConcatOperator</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.ExpressionNode" id="66441">left</a>: <a href="../dsl/ast/ExpressionNode.scala.html#7640" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a>, <a title="org.squeryl.dsl.ast.ExpressionNode" id="66442">right</a>: <a href="../dsl/ast/ExpressionNode.scala.html#7640" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a>, <a title="org.squeryl.internals.StatementWriter" id="66443">sw</a>: <a href="StatementWriter.scala.html#8175" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="org.squeryl.dsl.ast.BinaryOperatorNode" id="66444">binaryOpNode</a> = <a href="../dsl/ast/ExpressionNode.scala.html#66450" title="org.squeryl.dsl.ast.BinaryOperatorNode" class="keyword">new</a> <a href="../dsl/ast/ExpressionNode.scala.html#7668" title="org.squeryl.dsl.ast.BinaryOperatorNode">BinaryOperatorNode</a><span class="delimiter">(</span><a href="#66441" title="org.squeryl.dsl.ast.ExpressionNode">left</a>, <a href="#66442" title="org.squeryl.dsl.ast.ExpressionNode">right</a>, <span title="String(&quot;||&quot;)" class="string">&quot;||&quot;</span><span class="delimiter">)</span>
    <a href="#66444" title="org.squeryl.dsl.ast.BinaryOperatorNode">binaryOpNode</a>.<a href="../dsl/ast/ExpressionNode.scala.html#35158" title="(sw: org.squeryl.internals.StatementWriter)Unit">doWrite</a><span class="delimiter">(</span><a href="#66443" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

//  /**
//   * @nameOfCompositeKey when not None, the column group forms a composite key, 'nameOfCompositeKey' can be used
//   * as part of the name to create a more meaningfull name for the constraint
//   */
//  def writeUniquenessConstraint(columnDefs: Seq[FieldMetaData], nameOfCompositeKey: Option[String]) = &quot;&quot;

  /**
   * @name the name specified in the Schema, when not None, it  must be used as the name
   * @nameOfCompositeKey when not None, the column group forms a composite key, 'nameOfCompositeKey' can be used
   * as part of the name to create a more meaningfull name for the constraint, when 'name' is None
   */
  <span class="keyword">def</span> <a title="(columnDefs: Seq[org.squeryl.internals.FieldMetaData], name: Option[String], nameOfCompositeKey: Option[String], isUnique: Boolean)String" id="38197">writeIndexDeclaration</a><span class="delimiter">(</span><a title="Seq[org.squeryl.internals.FieldMetaData]" id="52441">columnDefs</a>: <span title="Seq[org.squeryl.internals.FieldMetaData]">Seq</span><span class="delimiter">[</span>FieldMetaData<span class="delimiter">]</span>, <a title="Option[String]" id="52442">name</a>:<span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="Option[String]" id="52443">nameOfCompositeKey</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="Boolean" id="52444">isUnique</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <span class="delimiter">{</span>                                    
    <span class="keyword">val</span> <a title="StringBuilder" id="52445">sb</a> = <span title="(capacity: Int)StringBuilder" class="keyword">new</span> <span title="StringBuilder">StringBuilder</span><span class="delimiter">(</span><span title="Int(256)" class="int">256</span><span class="delimiter">)</span>
    <a href="#52445" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;create &quot;)" class="string">&quot;create &quot;</span><span class="delimiter">)</span>

    <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="#52444" title="Boolean">isUnique</a><span class="delimiter">)</span>
      <a href="#52445" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;unique &quot;)" class="string">&quot;unique &quot;</span><span class="delimiter">)</span>

    <a href="#52445" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;index &quot;)" class="string">&quot;index &quot;</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="String" id="52446">tableName</a> = <a href="#52441" title="Seq[org.squeryl.internals.FieldMetaData]">columnDefs</a>.<span title="=&gt; org.squeryl.internals.FieldMetaData">head</span>.<a href="FieldMetaData.scala.html#49694" title="=&gt; org.squeryl.internals.PosoMetaData[_]">parentMetaData</a>.<a href="PosoMetaData.scala.html#38365" title="=&gt; org.squeryl.View[_$1]">viewOrTable</a>.<a href="../View.scala.html#37963" title="=&gt; String">prefixedName</a>

    <span title="StringBuilder" class="keyword">if</span><span class="delimiter">(</span><a href="#52442" title="Option[String]">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="None.type">None</span><span class="delimiter">)</span>
      <a href="#52445" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#52442" title="Option[String]">name</a>.<span title="=&gt; String">get</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="StringBuilder" class="keyword">if</span><span class="delimiter">(</span><a href="#52443" title="Option[String]">nameOfCompositeKey</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="None.type">None</span><span class="delimiter">)</span>
      <a href="#52445" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><span title="String(&quot;idx&quot;)" class="string">&quot;idx&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#52443" title="Option[String]">nameOfCompositeKey</a>.<span title="=&gt; String">get</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span>
      <a href="#52445" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><span title="String(&quot;idx&quot;)" class="string">&quot;idx&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#38198" title="(s: String)String">generateAlmostUniqueSuffixWithHash</a><span class="delimiter">(</span><a href="#52446" title="String">tableName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;-&quot;)" class="string">&quot;-&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#52441" title="Seq[org.squeryl.internals.FieldMetaData]">columnDefs</a>.<span title="(f: org.squeryl.internals.FieldMetaData =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[org.squeryl.internals.FieldMetaData],String,Seq[String]])Seq[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,String,Seq[String]]" class="delimiter">(</span><a href="#52511" title="org.squeryl.internals.FieldMetaData">_</a>.<a href="FieldMetaData.scala.html#49738" title="=&gt; String">columnName</a><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;-&quot;)" class="string">&quot;-&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="#52445" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot; on &quot;)" class="string">&quot; on &quot;</span><span class="delimiter">)</span>

    <a href="#52445" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#52446" title="String">tableName</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="#52445" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#52441" title="Seq[org.squeryl.internals.FieldMetaData]">columnDefs</a>.<span title="(f: org.squeryl.internals.FieldMetaData =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[org.squeryl.internals.FieldMetaData],String,Seq[String]])Seq[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,String,Seq[String]]" class="delimiter">(</span><a href="#52589" title="org.squeryl.internals.FieldMetaData">_</a>.<a href="FieldMetaData.scala.html#49738" title="=&gt; String">columnName</a><span class="delimiter">)</span>.<span title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[String],String,Seq[String]])Seq[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,String,Seq[String]]" class="delimiter">(</span><a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#52633" title="String">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot; (&quot;)" class="string">&quot; (&quot;</span>,<span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span>,<span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="#52445" title="StringBuilder">sb</a>.<span title="()String">toString</span>
  <span class="delimiter">}</span>

  /**
   * This will create an probabilistically unique string of length no longer than 11 chars,
   * it can be used to create &quot;almost unique&quot; names where uniqueness is not an absolute requirement,
   * is not ,
   */
  <span class="keyword">def</span> <a title="(s: String)String" id="38198">generateAlmostUniqueSuffixWithHash</a><span class="delimiter">(</span><a title="String" id="52494">s</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.util.zip.Adler32" id="95855">a32</a> = <span title="java.util.zip.Adler32" class="keyword">new</span> java.util.zip.<span title="java.util.zip.Adler32">Adler32</span>
    <a href="#95855" title="java.util.zip.Adler32">a32</a>.<span title="(x$1: Array[Byte])Unit">update</span><span class="delimiter">(</span><a href="#52494" title="String">s</a>.<span title="()Array[Byte]">getBytes</span><span class="delimiter">)</span>
    <a href="#95855" title="java.util.zip.Adler32">a32</a>.<span title="implicit scala.LowPriorityImplicits.longWrapper : (x: Long)scala.runtime.RichLong">getValue</span>.<span title="=&gt; String">toHexString</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(s: String)String" id="38199">quoteIdentifier</a><span class="delimiter">(</span><a title="String" id="42752">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#42752" title="String">s</a>

  <span class="keyword">def</span> <a title="(s: String)String" id="38200">quoteName</a><span class="delimiter">(</span><a title="String" id="42302">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#42302" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">s</a>.<span title="(separator: Char)Array[String]">split</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="Char('.')" class="char">'.'</span><span class="delimiter">)</span>.<span title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Array[String],String,Array[String]])Array[String]">map</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><a href="#38199" title="(s: String)String">quoteIdentifier</a><span class="delimiter">(</span><a href="#42751" title="String">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(n: org.squeryl.dsl.ast.QueryableExpressionNode, fse: org.squeryl.dsl.ast.FieldSelectElement)String" id="38201">fieldAlias</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryableExpressionNode" id="67744">n</a>: <a href="../dsl/ast/ExpressionNode.scala.html#7677" title="org.squeryl.dsl.ast.QueryableExpressionNode">QueryableExpressionNode</a>, <a title="org.squeryl.dsl.ast.FieldSelectElement" id="67745">fse</a>: <a href="../dsl/ast/SelectElement.scala.html#7712" title="org.squeryl.dsl.ast.FieldSelectElement">FieldSelectElement</a><span class="delimiter">)</span> =
    <a href="#67744" title="org.squeryl.dsl.ast.QueryableExpressionNode">n</a>.<a href="../dsl/ast/ExpressionNode.scala.html#64978" title="=&gt; String">alias</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;_&quot;)" class="string">&quot;_&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#67745" title="org.squeryl.dsl.ast.FieldSelectElement">fse</a>.<a href="../dsl/ast/SelectElement.scala.html#56568" title="=&gt; org.squeryl.internals.FieldMetaData">fieldMetaData</a>.<a href="FieldMetaData.scala.html#49738" title="=&gt; String">columnName</a>

  <span class="keyword">def</span> <a title="(parentOfTarget: org.squeryl.dsl.ast.QueryableExpressionNode, target: org.squeryl.dsl.ast.SelectElement)String" id="38202">aliasExport</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryableExpressionNode" id="67750">parentOfTarget</a>: <a href="../dsl/ast/ExpressionNode.scala.html#7677" title="org.squeryl.dsl.ast.QueryableExpressionNode">QueryableExpressionNode</a>, <a title="org.squeryl.dsl.ast.SelectElement" id="67751">target</a>: <a href="../dsl/ast/SelectElement.scala.html#7710" title="org.squeryl.dsl.ast.SelectElement">SelectElement</a><span class="delimiter">)</span> =
    <a href="#67750" title="org.squeryl.dsl.ast.QueryableExpressionNode">parentOfTarget</a>.<a href="../dsl/ast/ExpressionNode.scala.html#64978" title="=&gt; String">alias</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;_&quot;)" class="string">&quot;_&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#67751" title="org.squeryl.dsl.ast.SelectElement">target</a>.<a href="../dsl/ast/SelectElement.scala.html#56548" title="=&gt; String">aliasSegment</a>

  <span class="keyword">def</span> <a title="(se: org.squeryl.dsl.ast.SelectElement, sw: org.squeryl.internals.StatementWriter)Unit" id="38203">writeSelectElementAlias</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.SelectElement" id="67717">se</a>: <a href="../dsl/ast/SelectElement.scala.html#7710" title="org.squeryl.dsl.ast.SelectElement">SelectElement</a>, <a title="org.squeryl.internals.StatementWriter" id="67718">sw</a>: <a href="StatementWriter.scala.html#8175" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="String" id="67719">a</a> = <a href="#67717" title="org.squeryl.dsl.ast.SelectElement">se</a>.<a href="../dsl/ast/SelectElement.scala.html#56548" title="=&gt; String">aliasSegment</a>
//    if(a.length &gt; 30)
//      org.squeryl.internals.Utils.throwError(&quot;Oracle Bust : &quot; + a)
    <a href="#67718" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="StatementWriter.scala.html#41689" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#38200" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#67719" title="String">a</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(fieldMapper: org.squeryl.internals.FieldMapper, c: Class[_])String" id="38204">databaseTypeFor</a><span class="delimiter">(</span><a title="org.squeryl.internals.FieldMapper" id="66521">fieldMapper</a>: <a href="FieldMapper.scala.html#8065" title="org.squeryl.internals.FieldMapper">FieldMapper</a>, <a title="Class[_]" id="66522">c</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="AnyRef" id="96047">ar</a> = <a href="#66521" title="org.squeryl.internals.FieldMapper">fieldMapper</a>.<a href="FieldMapper.scala.html#25432" title="(c: Class[_])AnyRef">sampleValueFor</a><span class="delimiter">(</span><a href="#66522" title="Class[_]">c</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="String" id="96048">decl</a> = 
      <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#96047" title="AnyRef">ar</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span>Enumeration#<span title="Enumeration#Value">Value</span><span class="delimiter">]</span><span class="delimiter">)</span>                 
        <a href="#38115" title="=&gt; String">intTypeDeclaration</a>
      <span class="keyword">else</span> <span title="String" class="keyword">if</span><span class="delimiter">(</span>classOf<span title="Class[String](classOf[java.lang.String])" class="delimiter">[</span>String<span class="delimiter">]</span>.<span title="(x$1: Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#66522" title="Class[_]">c</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#38116" title="=&gt; String">stringTypeDeclaration</a>                  
      <span class="keyword">else</span> <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#96047" title="AnyRef">ar</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span>java.sql.<span title="java.sql.Timestamp">Timestamp</span><span class="delimiter">]</span><span class="delimiter">)</span>
        <a href="#38125" title="=&gt; String">timestampTypeDeclaration</a>                  
      <span class="keyword">else</span> <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#96047" title="AnyRef">ar</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span>java.util.<span title="java.util.Date">Date</span><span class="delimiter">]</span><span class="delimiter">)</span>
        <a href="#38120" title="=&gt; String">dateTypeDeclaration</a>
      <span class="keyword">else</span> <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#96047" title="AnyRef">ar</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span>java.lang.<span title="Integer">Integer</span><span class="delimiter">]</span><span class="delimiter">)</span>
        <a href="#38115" title="=&gt; String">intTypeDeclaration</a>
      <span class="keyword">else</span> <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#96047" title="AnyRef">ar</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span>java.lang.<span title="Long">Long</span><span class="delimiter">]</span><span class="delimiter">)</span>
        <a href="#38121" title="=&gt; String">longTypeDeclaration</a>
      <span class="keyword">else</span> <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#96047" title="AnyRef">ar</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span>java.lang.<span title="Boolean">Boolean</span><span class="delimiter">]</span><span class="delimiter">)</span>
        <a href="#38118" title="=&gt; String">booleanTypeDeclaration</a>
      <span class="keyword">else</span> <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#96047" title="AnyRef">ar</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span>java.lang.<span title="Double">Double</span><span class="delimiter">]</span><span class="delimiter">)</span>
        <a href="#38119" title="=&gt; String">doubleTypeDeclaration</a>
      <span class="keyword">else</span> <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#96047" title="AnyRef">ar</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span>java.lang.<span title="Float">Float</span><span class="delimiter">]</span><span class="delimiter">)</span>
        <a href="#38122" title="=&gt; String">floatTypeDeclaration</a>
      <span class="keyword">else</span> <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#96047" title="AnyRef">ar</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span>java.util.<span title="java.util.UUID">UUID</span><span class="delimiter">]</span><span class="delimiter">)</span>
        <a href="#38127" title="=&gt; String">uuidTypeDeclaration</a>
      <span class="keyword">else</span> <span title="String" class="keyword">if</span><span class="delimiter">(</span>classOf<span title="Class[Array[Byte]](classOf[[B])" class="delimiter">[</span>scala.Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="(x$1: Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#66522" title="Class[_]">c</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#38126" title="=&gt; String">binaryTypeDeclaration</a>
      <span class="keyword">else</span> <span title="String" class="keyword">if</span><span class="delimiter">(</span>classOf<span title="Class[BigDecimal](classOf[scala.math.BigDecimal])" class="delimiter">[</span>BigDecimal<span class="delimiter">]</span>.<span title="(x$1: Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#66522" title="Class[_]">c</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#38123" title="=&gt; String">bigDecimalTypeDeclaration</a>                  
      <span class="keyword">else</span> <span title="String" class="keyword">if</span><span class="delimiter">(</span>classOf<span title="Class[Array[Int]](classOf[[I])" class="delimiter">[</span>scala.Array<span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="(x$1: Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#66522" title="Class[_]">c</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#38128" title="=&gt; String">intArrayTypeDeclaration</a>
      <span class="keyword">else</span> <span title="String" class="keyword">if</span><span class="delimiter">(</span>classOf<span title="Class[Array[Long]](classOf[[J])" class="delimiter">[</span>scala.Array<span class="delimiter">[</span>Long<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="(x$1: Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#66522" title="Class[_]">c</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#38129" title="=&gt; String">longArrayTypeDeclaration</a>
      <span class="keyword">else</span> <span title="String" class="keyword">if</span><span class="delimiter">(</span>classOf<span title="Class[Array[Double]](classOf[[D])" class="delimiter">[</span>scala.Array<span class="delimiter">[</span>Double<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="(x$1: Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#66522" title="Class[_]">c</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#38130" title="=&gt; String">doubleArrayTypeDeclaration</a>
      <span class="keyword">else</span>
        <a href="Utils.scala.html#8187" title="org.squeryl.internals.Utils.type">Utils</a>.<a href="Utils.scala.html#32420" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="String(&quot;unsupported type &quot;)" class="string">&quot;unsupported type &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#96047" title="AnyRef">ar</a>.<span title="()Class[_]">getClass</span>.<span title="()String">getCanonicalName</span><span class="delimiter">)</span>
     
      <a href="#96048" title="String">decl</a>    
  <span class="delimiter">}</span>

/*
  def writeCastInvocation(e: TypedExpression[_,_], sw: StatementWriter) = {
    sw.write(&quot;cast(&quot;)
    e.write(sw)

    val dbSpecificType = databaseTypeFor(e.mapper.jdbcClass)

    sw.write(&quot; as &quot;)
    sw.write(dbSpecificType)
    sw.write(&quot;)&quot;)
  }

  def writeCaseStatement(toMatch: Option[ExpressionNode], cases: Iterable[(ExpressionNode, TypedExpression[_,_])], otherwise: TypedExpression[_,_], sw: StatementWriter) = {

    sw.write(&quot;(case &quot;)
    toMatch.foreach(_.write(sw))
    sw.indent
    sw.nextLine

    for(c &lt;- cases) {
      sw.write(&quot;when &quot;)
      c._1.write(sw)
      sw.write(&quot; then &quot;)
      writeCastInvocation(c._2, sw)
      sw.nextLine
    }

    sw.write(&quot;else &quot;)
    writeCastInvocation(otherwise,sw)
    sw.nextLine
    sw.unindent
    sw.write(&quot;end)&quot;)
  }
*/  
<span class="delimiter">}</span>

        </pre>
    </body>
</html>