<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>main/org/squeryl/internals/PosoMetaData.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/*******************************************************************************
 * Copyright 2010 Maxime LÃ©vesque
 * 
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *   http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ***************************************************************************** */
<span class="keyword">package</span> org.squeryl.internals
 

<span class="keyword">import</span> java.lang.Class
<span class="keyword">import</span> java.lang.annotation.Annotation
<span class="keyword">import</span> net.sf.cglib.proxy.<span class="delimiter">{</span>Factory, Callback, Enhancer<span class="delimiter">}</span>
<span class="keyword">import</span> java.lang.reflect.<span class="delimiter">{</span>Member, Constructor, Method, Field, Modifier<span class="delimiter">}</span>
<span class="keyword">import</span> collection.mutable.<span class="delimiter">{</span>HashSet, ArrayBuffer<span class="delimiter">}</span>
<span class="keyword">import</span> org.squeryl.annotations._
<span class="keyword">import</span> org.squeryl._
<span class="keyword">import</span> dsl.CompositeKey

<span class="keyword">class</span> <a title="class PosoMetaData[T] extends Object" id="8151">PosoMetaData</a><span class="delimiter">[</span><a title="" id="8152">T</a><span class="delimiter">]</span><a href="#8151" title="org.squeryl.internals.PosoMetaData[T]" class="delimiter">(</a><span class="keyword">val</span> <a title="Class[T]" id="38395">clasz</a>: <span title="Class[T]">Class</span><span class="delimiter">[</span>T<span class="delimiter">]</span>, <span class="keyword">val</span> <a title="org.squeryl.Schema" id="38396">schema</a>: <a href="../Schema.scala.html#7184" title="org.squeryl.Schema">Schema</a>, <span class="keyword">val</span> <a title="org.squeryl.View[T]" id="38397">viewOrTable</a>: <a href="../View.scala.html#7217" title="org.squeryl.View[T]">View</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="38368">toString</a> =
    <span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="symbol">'PosoMetaData</span> <span title="(other: String)String">+</span> <span title="String(&quot;[&quot;)" class="string">&quot;[&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#38395" title="=&gt; Class[T]">clasz</a>.<span title="()String">getSimpleName</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;]&quot;)" class="string">&quot;]&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#38374" title="=&gt; Iterable[org.squeryl.internals.FieldMetaData]">fieldsMetaData</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span>,<span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span>,<span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(name: String)Option[org.squeryl.internals.FieldMetaData]" id="38369">findFieldMetaDataForProperty</a><span class="delimiter">(</span><a title="String" id="65598">name</a>: <span title="String">String</span><span class="delimiter">)</span> =
     <a href="#38376" title="=&gt; Iterable[org.squeryl.internals.FieldMetaData]">_fieldsMetaData</a>.<span title="(p: org.squeryl.internals.FieldMetaData =&gt; Boolean)Option[org.squeryl.internals.FieldMetaData]">find</span><span class="delimiter">(</span><a title="org.squeryl.internals.FieldMetaData" id="65604">fmd</a> =&gt; <a href="#65604" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49696" title="=&gt; String">nameOfProperty</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#65598" title="String">name</a><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="Boolean" id="38370">isOptimistic</a> = <a href="#38397" title="=&gt; org.squeryl.View[T]">viewOrTable</a>.<a href="../View.scala.html#37956" title="=&gt; Option[org.squeryl.KeyedEntityDef[T, _]]">ked</a>.<span title="(f: org.squeryl.KeyedEntityDef[T, _] =&gt; Boolean)Option[Boolean]">map</span><span class="delimiter">(</span><a href="#63644" title="org.squeryl.KeyedEntityDef[T, _]">_</a>.<a href="../KeyedEntity.scala.html#8842" title="=&gt; Boolean">isOptimistic</a><span class="delimiter">)</span>.<span title="(default: =&gt; Boolean)Boolean">getOrElse</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
  
  <span class="keyword">val</span> <a title="(java.lang.reflect.Constructor[_], Array[Object])" id="38372">constructor</a> =
    <a href="#38381" title="=&gt; scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Constructor[_], Array[Object])]">_const</a>.<span title="=&gt; Option[(java.lang.reflect.Constructor[_], Array[Object])]">headOption</span>.<span title="(alternative: =&gt; Option[(java.lang.reflect.Constructor[_], Array[Object])])Option[(java.lang.reflect.Constructor[_], Array[Object])]">orElse</span><span class="delimiter">(</span>org.squeryl.internals.<a href="Utils.scala.html#8187" title="org.squeryl.internals.Utils.type">Utils</a>.<a href="Utils.scala.html#32420" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><a href="#38395" title="=&gt; Class[T]">clasz</a>.<span title="()String">getName</span> <span title="(x$1: Any)String">+</span>
            <span title="String(&quot; must have a 0 param constructor or a constructor with only primitive types&quot;)" class="string">&quot; must have a 0 param constructor or a constructor with only primitive types&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; (java.lang.reflect.Constructor[_], Array[Object])">get</span>

  <span class="keyword">def</span> <a title="=&gt; Iterable[org.squeryl.internals.FieldMetaData]" id="38374">fieldsMetaData</a> =
    <a href="#38376" title="=&gt; Iterable[org.squeryl.internals.FieldMetaData]">_fieldsMetaData</a>.<span title="(p: org.squeryl.internals.FieldMetaData =&gt; Boolean)Iterable[org.squeryl.internals.FieldMetaData]">filter</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span> <a href="#50182" title="org.squeryl.internals.FieldMetaData">_</a>.<a href="FieldMetaData.scala.html#49733" title="=&gt; Boolean">isTransient</a><span class="delimiter">)</span>
    
  /**
   * @arg fieldsMetaData the metadata of the persistent fields of this Poso
   * @arg primaryKey None if this Poso is not a KeyedEntity[], Either[a persistedField, a composite key]  
   */
  <span class="keyword">val</span> <a href="#425001" title="(x: (Iterable[org.squeryl.internals.FieldMetaData], Option[Either[org.squeryl.internals.FieldMetaData,java.lang.reflect.Method]]))(Iterable[org.squeryl.internals.FieldMetaData], Option[Either[org.squeryl.internals.FieldMetaData,java.lang.reflect.Method]])" class="delimiter">(</a><a href="#424999" title="Iterable[org.squeryl.internals.FieldMetaData]" id="38376">_fieldsMetaData</a>, <a href="#424999" title="Option[Either[org.squeryl.internals.FieldMetaData,java.lang.reflect.Method]]" id="38378">primaryKey</a><span class="delimiter">)</span>: <span title="(Iterable[org.squeryl.internals.FieldMetaData], Option[Either[org.squeryl.internals.FieldMetaData,java.lang.reflect.Method]])" class="delimiter">(</span>Iterable<span class="delimiter">[</span>FieldMetaData<span class="delimiter">]</span>, Option<span class="delimiter">[</span>Either<span class="delimiter">[</span>FieldMetaData,Method<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#424999" title="(scala.collection.mutable.ArrayBuffer[org.squeryl.internals.FieldMetaData], Option[Either[org.squeryl.internals.FieldMetaData,java.lang.reflect.Method]]) @unchecked" class="delimiter">{</a>

    <span class="keyword">val</span> <a title="Boolean" id="43664">isImplicitMode</a> = <a href="#38387" title="=&gt; Boolean">_isImplicitMode</a>

    <span class="keyword">val</span> <a title="scala.collection.mutable.ArrayBuffer[java.lang.reflect.Method]" id="43665">setters</a> = <span title="()scala.collection.mutable.ArrayBuffer[java.lang.reflect.Method]" class="keyword">new</span> <span title="scala.collection.mutable.ArrayBuffer[java.lang.reflect.Method]">ArrayBuffer</span><span class="delimiter">[</span>Method<span class="delimiter">]</span>

    <span class="keyword">val</span> <a title="AnyRef" id="43666">sampleInstance4OptionTypeDeduction</a> =
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#38372" title="=&gt; (java.lang.reflect.Constructor[_], Array[Object])">constructor</a>.<span title="=&gt; java.lang.reflect.Constructor[_]">_1</span>.<span title="(x$1: &lt;repeated...&gt;[Object])_$1">newInstance</span><span class="delimiter">(</span><a href="#38372" title="=&gt; (java.lang.reflect.Constructor[_], Array[Object])">constructor</a>.<span title="=&gt; Array[Object]">_2</span> :_*<span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span>;
      <span class="delimiter">}</span>
      <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Nothing" id="44841">e</a>:<span title="IllegalArgumentException">IllegalArgumentException</span> =&gt;
          <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String, x$2: Throwable)RuntimeException" class="keyword">new</span> <span title="RuntimeException">RuntimeException</span><span class="delimiter">(</span><span title="String(&quot;invalid constructor choice &quot;)" class="string">&quot;invalid constructor choice &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#38372" title="=&gt; (java.lang.reflect.Constructor[_], Array[Object])">constructor</a>.<span title="=&gt; java.lang.reflect.Constructor[_]">_1</span>, <a href="#44841" title="IllegalArgumentException">e</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Nothing" id="44854">e</a>:<span title="Exception">Exception</span> =&gt;
          <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String, x$2: Throwable)RuntimeException" class="keyword">new</span> <span title="RuntimeException">RuntimeException</span><span class="delimiter">(</span><span title="String(&quot;exception occurred while invoking constructor : &quot;)" class="string">&quot;exception occurred while invoking constructor : &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#38372" title="=&gt; (java.lang.reflect.Constructor[_], Array[Object])">constructor</a>.<span title="=&gt; java.lang.reflect.Constructor[_]">_1</span>, <a href="#44854" title="Exception">e</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    
    <span class="keyword">val</span> <a title="scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])]" id="43667">members</a> = <span title="()scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])]" class="keyword">new</span> <span title="scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])]">ArrayBuffer</span><span class="delimiter">[</span><span class="delimiter">(</span>Member,HashSet<span class="delimiter">[</span>Annotation<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span>

    <a href="#38393" title="(clasz: Class[_], members: scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])])Unit">_fillWithMembers</a><span class="delimiter">(</span><a href="#38395" title="=&gt; Class[T]">clasz</a>, <a href="#43667" title="scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])]">members</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="scala.collection.immutable.Map[String,scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])]]" id="43668">name2MembersMap</a> =
      <a href="#43667" title="scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])]">members</a>.<span title="(f: ((java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])) =&gt; String)scala.collection.immutable.Map[String,scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])]]">groupBy</span><span class="delimiter">(</span><a title="(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])" id="44872">m</a> =&gt; <span class="delimiter">{</span>

        <span class="keyword">val</span> <a title="String" id="44873">n</a> = <a href="#44872" title="(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])">m</a>.<span title="=&gt; java.lang.reflect.Member">_1</span>.<span title="()String">getName</span>
        <span class="keyword">val</span> <a title="Int" id="44874">idx</a> = <a href="#44873" title="String">n</a>.<span title="(x$1: String)Int">indexOf</span><span class="delimiter">(</span><span title="String(&quot;_$eq&quot;)" class="string">&quot;_$eq&quot;</span><span class="delimiter">)</span>
        <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#44874" title="Int">idx</a> <span title="(x: Int)Boolean">!=</span> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#44873" title="String">n</a>.<span title="(x$1: Int, x$2: Int)String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#44874" title="Int">idx</a><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="#44873" title="String">n</a>
      <span class="delimiter">}</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="scala.collection.mutable.ArrayBuffer[org.squeryl.internals.FieldMetaData]" id="43669">fmds</a> = <span title="()scala.collection.mutable.ArrayBuffer[org.squeryl.internals.FieldMetaData]" class="keyword">new</span> <span title="scala.collection.mutable.ArrayBuffer[org.squeryl.internals.FieldMetaData]">ArrayBuffer</span><span class="delimiter">[</span>FieldMetaData<span class="delimiter">]</span>;

    <span class="keyword">for</span><span class="delimiter">(</span><a title="(String, scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])])" id="45229">e</a> &lt;- <a href="#43668" title="(f: ((String, scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])])) =&gt; Unit)Unit">name2MembersMap</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="45230">name</a> = <a href="#45229" title="(String, scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])])">e</a>.<span title="=&gt; String">_1</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])]" id="45231">v</a> = <a href="#45229" title="(String, scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])])">e</a>.<span title="=&gt; scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])]">_2</span>

      <span class="keyword">var</span> <a title="Set[java.lang.annotation.Annotation]" id="45232">a</a>:<span title="Set[java.lang.annotation.Annotation]">Set</span><span class="delimiter">[</span>Annotation<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Set.type">Set</span>.<span title="scala.collection.immutable.Set[java.lang.annotation.Annotation]">empty</span>
      <span class="keyword">for</span><span class="delimiter">(</span><a title="(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])" id="45320">memberWithAnnotationTuple</a> &lt;- <a href="#45231" title="(f: ((java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])) =&gt; Unit)Unit">v</a><span class="delimiter">)</span>
        <a href="#45232" title="Set[java.lang.annotation.Annotation]">a</a> = <a href="#45232" title="Set[java.lang.annotation.Annotation]">a</a>.<span title="(that: scala.collection.GenSet[java.lang.annotation.Annotation])scala.collection.immutable.Set[java.lang.annotation.Annotation]">union</span><span class="delimiter">(</span><a href="#45320" title="(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])">memberWithAnnotationTuple</a>.<span title="=&gt; scala.collection.mutable.HashSet[java.lang.annotation.Annotation]">_2</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="scala.collection.mutable.ArrayBuffer[java.lang.reflect.Member]" id="45233">members</a> = <a href="#45231" title="scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])]">v</a>.<span title="(f: ((java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])) =&gt; java.lang.reflect.Member)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])],java.lang.reflect.Member,scala.collection.mutable.ArrayBuffer[java.lang.reflect.Member]])scala.collection.mutable.ArrayBuffer[java.lang.reflect.Member]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.mutable.ArrayBuffer.Coll,java.lang.reflect.Member,scala.collection.mutable.ArrayBuffer[java.lang.reflect.Member]]" class="delimiter">(</span><a title="(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])" id="45372">t</a> =&gt; <a href="#45372" title="(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])">t</a>.<span title="=&gt; java.lang.reflect.Member">_1</span><span class="delimiter">)</span>

      // here we do a filter and not a find, because there can be more than one setter/getter/field
      // with the same name, we want one that is not an erased type, excluding return and input type
      // of java.lang.Object does it.

      <span class="keyword">val</span> <a title="Class[Object]" id="45234">o</a> = classOf<span title="Class[Object](classOf[java.lang.Object])" class="delimiter">[</span>java.lang.Object<span class="delimiter">]</span>

      <span class="keyword">val</span> <a title="Option[java.lang.reflect.Field]" id="45235">field</a> =
        <a href="#45233" title="scala.collection.mutable.ArrayBuffer[java.lang.reflect.Member]">members</a>.<span title="(p: java.lang.reflect.Member =&gt; Boolean)scala.collection.mutable.ArrayBuffer[java.lang.reflect.Member]">filter</span><span class="delimiter">(</span><a title="java.lang.reflect.Member" id="46443">m</a> =&gt; <a href="#46443" title="java.lang.reflect.Member">m</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="java.lang.reflect.Field">Field</span><span class="delimiter">]</span><span class="delimiter">)</span>.
           <span title="(f: java.lang.reflect.Member =&gt; java.lang.reflect.Field)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.ArrayBuffer[java.lang.reflect.Member],java.lang.reflect.Field,scala.collection.mutable.ArrayBuffer[java.lang.reflect.Field]])scala.collection.mutable.ArrayBuffer[java.lang.reflect.Field]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.mutable.ArrayBuffer.Coll,java.lang.reflect.Field,scala.collection.mutable.ArrayBuffer[java.lang.reflect.Field]]" class="delimiter">(</span><a title="java.lang.reflect.Member" id="46573">m</a>=&gt; <a href="#46573" title="java.lang.reflect.Member">m</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="java.lang.reflect.Field" class="delimiter">[</span><span title="java.lang.reflect.Field">Field</span><span class="delimiter">]</span><span class="delimiter">)</span>.<span title="(p: java.lang.reflect.Field =&gt; Boolean)scala.collection.mutable.ArrayBuffer[java.lang.reflect.Field]">filter</span><span class="delimiter">(</span><a title="java.lang.reflect.Field" id="46629">f</a>=&gt; <a href="#46629" title="java.lang.reflect.Field">f</a>.<span title="()Class[_]">getType</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#45234" title="Class[Object]">o</a><span class="delimiter">)</span>.<span title="=&gt; Option[java.lang.reflect.Field]">headOption</span>

      <span class="keyword">val</span> <a title="Option[java.lang.reflect.Method]" id="45236">getter</a> =
        <a href="#45233" title="scala.collection.mutable.ArrayBuffer[java.lang.reflect.Member]">members</a>.<span title="(p: java.lang.reflect.Member =&gt; Boolean)scala.collection.mutable.ArrayBuffer[java.lang.reflect.Member]">filter</span><span class="delimiter">(</span><a title="java.lang.reflect.Member" id="46640">m</a> =&gt; <a href="#46640" title="java.lang.reflect.Member">m</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="java.lang.reflect.Method">Method</span><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#46640" title="java.lang.reflect.Member">m</a>.<span title="()String">getName</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#45230" title="String">name</a><span class="delimiter">)</span>.
          <span title="(f: java.lang.reflect.Member =&gt; java.lang.reflect.Method)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.ArrayBuffer[java.lang.reflect.Member],java.lang.reflect.Method,scala.collection.mutable.ArrayBuffer[java.lang.reflect.Method]])scala.collection.mutable.ArrayBuffer[java.lang.reflect.Method]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.mutable.ArrayBuffer.Coll,java.lang.reflect.Method,scala.collection.mutable.ArrayBuffer[java.lang.reflect.Method]]" class="delimiter">(</span><a title="java.lang.reflect.Member" id="46665">m</a>=&gt; <a href="#46665" title="java.lang.reflect.Member">m</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="java.lang.reflect.Method" class="delimiter">[</span><span title="java.lang.reflect.Method">Method</span><span class="delimiter">]</span><span class="delimiter">)</span>.<span title="(p: java.lang.reflect.Method =&gt; Boolean)scala.collection.mutable.ArrayBuffer[java.lang.reflect.Method]">filter</span><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="46721">m</a>=&gt; <a href="#46721" title="java.lang.reflect.Method">m</a>.<span title="()Class[_]">getReturnType</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#45234" title="Class[Object]">o</a><span class="delimiter">)</span>.<span title="=&gt; Option[java.lang.reflect.Method]">headOption</span>

      <span class="keyword">val</span> <a title="Option[java.lang.reflect.Method]" id="45237">setter</a> =
        <a href="#45233" title="scala.collection.mutable.ArrayBuffer[java.lang.reflect.Member]">members</a>.<span title="(p: java.lang.reflect.Member =&gt; Boolean)scala.collection.mutable.ArrayBuffer[java.lang.reflect.Member]">filter</span><span class="delimiter">(</span><a title="java.lang.reflect.Member" id="46732">m</a> =&gt; <a href="#46732" title="java.lang.reflect.Member">m</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="java.lang.reflect.Method">Method</span><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#46732" title="java.lang.reflect.Member">m</a>.<span title="()String">getName</span>.<span title="(x$1: String)Boolean">endsWith</span><span class="delimiter">(</span><span title="String(&quot;_$eq&quot;)" class="string">&quot;_$eq&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.
          <span title="(f: java.lang.reflect.Member =&gt; java.lang.reflect.Method)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.ArrayBuffer[java.lang.reflect.Member],java.lang.reflect.Method,scala.collection.mutable.ArrayBuffer[java.lang.reflect.Method]])scala.collection.mutable.ArrayBuffer[java.lang.reflect.Method]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.mutable.ArrayBuffer.Coll,java.lang.reflect.Method,scala.collection.mutable.ArrayBuffer[java.lang.reflect.Method]]" class="delimiter">(</span><a title="java.lang.reflect.Member" id="46752">m</a>=&gt; <a href="#46752" title="java.lang.reflect.Member">m</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="java.lang.reflect.Method" class="delimiter">[</span><span title="java.lang.reflect.Method">Method</span><span class="delimiter">]</span><span class="delimiter">)</span>.<span title="(p: java.lang.reflect.Method =&gt; Boolean)scala.collection.mutable.ArrayBuffer[java.lang.reflect.Method]">filter</span><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="46790">m</a>=&gt; <a href="#46790" title="java.lang.reflect.Method">m</a>.<span title="()Array[Class[_]]">getParameterTypes</span>.<span title="(i: Int)Class[_]">apply</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#45234" title="Class[Object]">o</a><span class="delimiter">)</span>.<span title="=&gt; Option[java.lang.reflect.Method]">headOption</span>

      <span class="keyword">val</span> <a title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])" id="45238">property</a> = <span title="(_1: Option[java.lang.reflect.Field], _2: Option[java.lang.reflect.Method], _3: Option[java.lang.reflect.Method], _4: Set[java.lang.annotation.Annotation])(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])" class="delimiter">(</span><a href="#45235" title="Option[java.lang.reflect.Field]">field</a>, <a href="#45236" title="Option[java.lang.reflect.Method]">getter</a>, <a href="#45237" title="Option[java.lang.reflect.Method]">setter</a>, <a href="#45232" title="Set[java.lang.annotation.Annotation]">a</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#43664" title="Boolean">isImplicitMode</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#38388" title="(property: (Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation]))Boolean">_groupOfMembersIsProperty</a><span class="delimiter">(</span><a href="#45238" title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])">property</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="46811">isOptimisitcCounter</a> =
          <span class="delimiter">(</span><span class="keyword">for</span><span class="delimiter">(</span><a title="org.squeryl.KeyedEntityDef[T, _]" id="46818">k</a> &lt;- <a href="#38397" title="=&gt; org.squeryl.View[T]">viewOrTable</a>.<a href="../View.scala.html#37956" title="(f: org.squeryl.KeyedEntityDef[T, _] =&gt; Option[Boolean])Option[Boolean]">ked</a>; 
              <a title="String" id="46833">counterProp</a> &lt;- <a href="#46818" title="org.squeryl.KeyedEntityDef[T, _]">k</a>.<a href="../KeyedEntity.scala.html#8841" title="(f: String =&gt; Boolean)Option[Boolean]">optimisticCounterPropertyName</a> <span class="keyword">if</span> <a href="#46833" title="String">counterProp</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#45230" title="String">name</a><span class="delimiter">)</span> <span class="keyword">yield</span> <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>.<span title="=&gt; Boolean">isDefined</span>
        <span class="keyword">try</span> <span class="delimiter">{</span>
          <a href="#43669" title="scala.collection.mutable.ArrayBuffer[org.squeryl.internals.FieldMetaData]">fmds</a>.<span title="(elems: org.squeryl.internals.FieldMetaData*)Unit">append</span><span class="delimiter">(</span><a href="FieldMetaData.scala.html#8088" title="org.squeryl.internals.FieldMetaData.type">FieldMetaData</a>.<a href="FieldMetaData.scala.html#46840" title="=&gt; org.squeryl.internals.FieldMetaDataFactory">factory</a>.<a href="FieldMetaData.scala.html#46851" title="(parentMetaData: org.squeryl.internals.PosoMetaData[_], name: String, property: (Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation]), sampleInstance4OptionTypeDeduction: AnyRef, isOptimisticCounter: Boolean)org.squeryl.internals.FieldMetaData">build</a><span class="delimiter">(</span><a href="#8151" title="org.squeryl.internals.PosoMetaData[T]" class="keyword">this</a>, <a href="#45230" title="String">name</a>, <a href="#45238" title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])">property</a>, <a href="#43666" title="AnyRef">sampleInstance4OptionTypeDeduction</a>, <a href="#46811" title="Boolean">isOptimisitcCounter</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Nothing" id="49827">e</a>:<span title="Exception">Exception</span> =&gt; <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String, x$2: Throwable)RuntimeException" class="keyword">new</span> <span title="RuntimeException">RuntimeException</span><span class="delimiter">(</span>
              <a href="Utils.scala.html#8187" title="org.squeryl.internals.Utils.type">Utils</a>.<a href="Utils.scala.html#32398" title="(s: =&gt; String)String">failSafeString</a><span class="delimiter">(</span>
              <span title="String(&quot;error while reflecting on metadata for &quot;)" class="string">&quot;error while reflecting on metadata for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#45238" title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])">property</a> <span title="(x$1: Any)String">+</span> 
              <span title="String(&quot; of class &quot;)" class="string">&quot; of class &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#8151" title="PosoMetaData.this.type" class="keyword">this</a>.<a href="#38395" title="=&gt; Class[T]">clasz</a>.<span title="()String">getCanonicalName</span><span class="delimiter">)</span>, <a href="#49827" title="Exception">e</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">var</span> <a title="Option[org.squeryl.internals.FieldMetaData]" id="43670">k</a> = <a href="#43669" title="scala.collection.mutable.ArrayBuffer[org.squeryl.internals.FieldMetaData]">fmds</a>.<span title="(p: org.squeryl.internals.FieldMetaData =&gt; Boolean)Option[org.squeryl.internals.FieldMetaData]">find</span><span class="delimiter">(</span><a title="org.squeryl.internals.FieldMetaData" id="49848">fmd</a> =&gt; <a href="#49848" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49726" title="=&gt; Boolean">isIdFieldOfKeyedEntity</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="Option[java.lang.reflect.Method]" id="43671">compositePrimaryKeyGetter</a>: <span title="Option[java.lang.reflect.Method]">Option</span><span class="delimiter">[</span>Method<span class="delimiter">]</span> =
      <span title="Option[java.lang.reflect.Method]" class="keyword">if</span><span class="delimiter">(</span><a href="#43670" title="Option[org.squeryl.internals.FieldMetaData]">k</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="None.type">None</span><span class="delimiter">)</span> // can't have both PK Field and CompositePK
        <span title="None.type">None</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        // verify if we have an 'id' method that is a composite key, in this case we need to construct a
        // FieldMetaData that will become the 'primaryKey' field of this PosoMetaData
        
        <a href="#38397" title="=&gt; org.squeryl.View[T]">viewOrTable</a>.<a href="../View.scala.html#37956" title="=&gt; Option[org.squeryl.KeyedEntityDef[T, _]]">ked</a>.<span title="(f: org.squeryl.KeyedEntityDef[T, _] =&gt; java.lang.reflect.Method)Option[java.lang.reflect.Method]">map</span> <span class="delimiter">{</span> <a title="org.squeryl.KeyedEntityDef[T, _]" id="49877">ked</a> =&gt;

          <span class="keyword">val</span> <a title="java.lang.reflect.Method" id="49878">pkMethod</a> = <a href="#38395" title="=&gt; Class[T]">clasz</a>.<span title="(x$1: String, x$2: &lt;repeated...&gt;[Class[_]])java.lang.reflect.Method">getMethod</span><span class="delimiter">(</span><a href="#49877" title="org.squeryl.KeyedEntityDef[T, _]">ked</a>.<a href="../KeyedEntity.scala.html#8840" title="=&gt; String">idPropertyName</a><span class="delimiter">)</span>

          <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#49878" title="java.lang.reflect.Method">pkMethod</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span>, <span title="String(&quot;Could not get getter for &quot;)" class="string">&quot;Could not get getter for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#49877" title="org.squeryl.KeyedEntityDef[T, _]">ked</a>.<a href="../KeyedEntity.scala.html#8840" title="=&gt; String">idPropertyName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#38395" title="=&gt; Class[T]">clasz</a>.<span title="()String">getCanonicalName</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <a href="#49878" title="java.lang.reflect.Method">pkMethod</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="Option[Either[org.squeryl.internals.FieldMetaData,java.lang.reflect.Method]]" id="43672">metaDataForPk</a>: <span title="Option[Either[org.squeryl.internals.FieldMetaData,java.lang.reflect.Method]]">Option</span><span class="delimiter">[</span>Either<span class="delimiter">[</span>FieldMetaData,Method<span class="delimiter">]</span><span class="delimiter">]</span> =
      <span title="Option[Either[org.squeryl.internals.FieldMetaData,java.lang.reflect.Method]]" class="keyword">if</span><span class="delimiter">(</span><a href="#43670" title="Option[org.squeryl.internals.FieldMetaData]">k</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="None.type">None</span><span class="delimiter">)</span>
        <span title="(x: scala.util.Left[org.squeryl.internals.FieldMetaData,Nothing])Some[scala.util.Left[org.squeryl.internals.FieldMetaData,Nothing]]">Some</span><span class="delimiter">(</span><span title="(a: org.squeryl.internals.FieldMetaData)scala.util.Left[org.squeryl.internals.FieldMetaData,Nothing]">Left</span><span class="delimiter">(</span><a href="#43670" title="Option[org.squeryl.internals.FieldMetaData]">k</a>.<span title="=&gt; org.squeryl.internals.FieldMetaData">get</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="Option[Either[org.squeryl.internals.FieldMetaData,java.lang.reflect.Method]]" class="keyword">if</span><span class="delimiter">(</span><a href="#43671" title="Option[java.lang.reflect.Method]">compositePrimaryKeyGetter</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="None.type">None</span><span class="delimiter">)</span>
        <span title="(x: scala.util.Right[Nothing,java.lang.reflect.Method])Some[scala.util.Right[Nothing,java.lang.reflect.Method]]">Some</span><span class="delimiter">(</span><span title="(b: java.lang.reflect.Method)scala.util.Right[Nothing,java.lang.reflect.Method]">Right</span><span class="delimiter">(</span><a href="#43671" title="Option[java.lang.reflect.Method]">compositePrimaryKeyGetter</a>.<span title="=&gt; java.lang.reflect.Method">get</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <span title="None.type">None</span>
    
    <span title="(_1: scala.collection.mutable.ArrayBuffer[org.squeryl.internals.FieldMetaData], _2: Option[Either[org.squeryl.internals.FieldMetaData,java.lang.reflect.Method]])(scala.collection.mutable.ArrayBuffer[org.squeryl.internals.FieldMetaData], Option[Either[org.squeryl.internals.FieldMetaData,java.lang.reflect.Method]])" class="delimiter">(</span><a href="#43669" title="scala.collection.mutable.ArrayBuffer[org.squeryl.internals.FieldMetaData]">fmds</a>, <a href="#43672" title="Option[Either[org.squeryl.internals.FieldMetaData,java.lang.reflect.Method]]">metaDataForPk</a><span class="delimiter">)</span> //: (Iterable[FieldMetaData], Option[Either[FieldMetaData,Method]])
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; Option[org.squeryl.internals.FieldMetaData]" id="38380">optimisticCounter</a> =
    <a href="#38374" title="=&gt; Iterable[org.squeryl.internals.FieldMetaData]">fieldsMetaData</a>.<span title="(p: org.squeryl.internals.FieldMetaData =&gt; Boolean)Option[org.squeryl.internals.FieldMetaData]">find</span><span class="delimiter">(</span><a title="org.squeryl.internals.FieldMetaData" id="63659">fmd</a> =&gt; <a href="#63659" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="FieldMetaData.scala.html#49710" title="=&gt; Boolean">isOptimisticCounter</a><span class="delimiter">)</span>

  <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#38370" title="=&gt; Boolean">isOptimistic</a><span class="delimiter">)</span>
    <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#38380" title="=&gt; Option[org.squeryl.internals.FieldMetaData]">optimisticCounter</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="None.type">None</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Constructor[_], Array[Object])]" id="38381">_const</a> = <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Constructor[_], Array[Object])]" id="43892">r</a> = <span title="()scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Constructor[_], Array[Object])]" class="keyword">new</span> <span title="scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Constructor[_], Array[Object])]">ArrayBuffer</span><span class="delimiter">[</span><span class="delimiter">(</span>Constructor<span class="delimiter">[</span>_<span class="delimiter">]</span>,Array<span class="delimiter">[</span>Object<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span>

//    for(ct &lt;- clasz.getConstructors)
//      println(&quot;CT: &quot; + ct.getParameterTypes.map(c=&gt;c.getName).mkString(&quot;,&quot;))
    
    <span class="keyword">for</span><span class="delimiter">(</span><a title="java.lang.reflect.Constructor[_]" id="44782">ct</a> &lt;- <a href="#38395" title="=&gt; Class[T]">clasz</a>.<span title="(f: java.lang.reflect.Constructor[_] =&gt; Unit)Unit">getConstructors</span><span class="delimiter">)</span>
      <a href="#38382" title="(r: scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Constructor[_], Array[Object])], c: java.lang.reflect.Constructor[_])Unit">_tryToCreateParamArray</a><span class="delimiter">(</span><a href="#43892" title="scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Constructor[_], Array[Object])]">r</a>, <a href="#44782" title="java.lang.reflect.Constructor[_]">ct</a><span class="delimiter">)</span>

    <a href="#43892" title="scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Constructor[_], Array[Object])]">r</a>.<span title="(lt: ((java.lang.reflect.Constructor[_], Array[Object]), (java.lang.reflect.Constructor[_], Array[Object])) =&gt; Boolean)scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Constructor[_], Array[Object])]">sortWith</span><span class="delimiter">(</span>
      <span class="delimiter">(</span>a:<span title="(java.lang.reflect.Constructor[_], Array[Object])" class="delimiter">(</span>Constructor<span class="delimiter">[</span>_<span class="delimiter">]</span>,Array<span class="delimiter">[</span>Object<span class="delimiter">]</span><span class="delimiter">)</span>,
       b:<span title="(java.lang.reflect.Constructor[_], Array[Object])" class="delimiter">(</span>Constructor<span class="delimiter">[</span>_<span class="delimiter">]</span>,Array<span class="delimiter">[</span>Object<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#44798" title="(java.lang.reflect.Constructor[_], Array[Object])">a</a>.<span title="=&gt; Array[Object]">_2</span>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&lt;</span> <a href="#44799" title="(java.lang.reflect.Constructor[_], Array[Object])">b</a>.<span title="=&gt; Array[Object]">_2</span>.<span title="=&gt; Int">length</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(r: scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Constructor[_], Array[Object])], c: java.lang.reflect.Constructor[_])Unit" id="38382">_tryToCreateParamArray</a><span class="delimiter">(</span>
    <a title="scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Constructor[_], Array[Object])]" id="44783">r</a>: <span title="scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Constructor[_], Array[Object])]">ArrayBuffer</span><span class="delimiter">[</span><span class="delimiter">(</span>Constructor<span class="delimiter">[</span>_<span class="delimiter">]</span>,Array<span class="delimiter">[</span>Object<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span>,
    <a title="java.lang.reflect.Constructor[_]" id="44784">c</a>: <span title="java.lang.reflect.Constructor[_]">Constructor</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="Array[Class[_]]" id="101897">params</a>: <span title="Array[Class[_]]">Array</span><span class="delimiter">[</span>Class<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#44784" title="java.lang.reflect.Constructor[_]">c</a>.<span title="()Array[Class[_]]">getParameterTypes</span>

    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#101897" title="Array[Class[_]]">params</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="101910">cn</a> = <a href="#38395" title="=&gt; Class[T]">clasz</a>.<span title="()String">getName</span>
      <span class="keyword">val</span> <a title="String" id="101911">test</a> = <a href="#101897" title="(i: Int)Class[_]">params</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<span title="()String">getName</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;$&quot;)" class="string">&quot;$&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#38395" title="=&gt; Class[T]">clasz</a>.<span title="()String">getSimpleName</span>
      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#101910" title="String">cn</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#101911" title="String">test</a><span class="delimiter">)</span>
        org.squeryl.internals.<a href="Utils.scala.html#8187" title="org.squeryl.internals.Utils.type">Utils</a>.<a href="Utils.scala.html#32420" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="String(&quot;inner classes are not supported, except when outer class is a singleton (object)\ninner class is : &quot;)" class="string">&quot;inner classes are not supported, except when outer class is a singleton (object)\ninner class is : &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#101910" title="String">cn</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">var</span> <a title="Array[Object]" id="101898">res</a> = <span title="Array[Object]" class="keyword">new</span> <span title="Array[Object]">Array</span><span class="delimiter">[</span>Object<span class="delimiter">]</span><span class="delimiter">(</span><a href="#101897" title="(xs: Array[Class[_]])scala.collection.mutable.ArrayOps[Class[_]]">params</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>

    <span class="keyword">for</span><span class="delimiter">(</span><a title="Int" id="102147">i</a> &lt;- <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(f: Int =&gt; Unit)Unit">to</span> <a href="#101897" title="Array[Class[_]]">params</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Object" id="102148">v</a> = <a href="FieldMetaData.scala.html#8088" title="org.squeryl.internals.FieldMetaData.type">FieldMetaData</a>.<a href="FieldMetaData.scala.html#46847" title="(fieldMapper: org.squeryl.internals.FieldMapper, member: java.lang.reflect.Member, p: Class[_], t: Option[java.lang.reflect.Type], optionFieldsInfo: Option[org.squeryl.annotations.Column])Object">createDefaultValue</a><span class="delimiter">(</span><a href="#38396" title="=&gt; org.squeryl.Schema">schema</a>.<a href="../Schema.scala.html#24238" title="=&gt; org.squeryl.internals.FieldMapper">fieldMapper</a>, <a href="#44784" title="java.lang.reflect.Constructor[_]">c</a>, <a href="#101897" title="(i: Int)Class[_]">params</a><span class="delimiter">(</span><a href="#102147" title="Int">i</a><span class="delimiter">)</span>, <span title="None.type">None</span>, <span title="None.type">None</span><span class="delimiter">)</span>
      <a href="#101898" title="(i: Int, x: Object)Unit">res</a><span class="delimiter">(</span><a href="#102147" title="Int">i</a><span class="delimiter">)</span> = <a href="#102148" title="Object">v</a>
    <span class="delimiter">}</span>

    <a href="#44783" title="scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Constructor[_], Array[Object])]">r</a>.<span title="(elems: (java.lang.reflect.Constructor[_], Array[Object])*)Unit">append</span><span class="delimiter">(</span><span title="(_1: java.lang.reflect.Constructor[_$5], _2: Array[Object])(java.lang.reflect.Constructor[_$5], Array[Object])" class="delimiter">(</span><a href="#44784" title="java.lang.reflect.Constructor[_]">c</a>, <a href="#101898" title="Array[Object]">res</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Nothing" id="38383">_noOptionalColumnDeclared</a> =
    org.squeryl.internals.<a href="Utils.scala.html#8187" title="org.squeryl.internals.Utils.type">Utils</a>.<a href="Utils.scala.html#32420" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="String(&quot;class &quot;)" class="string">&quot;class &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#38395" title="=&gt; Class[T]">clasz</a>.<span title="()String">getName</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; has an Option[] member with no Column annotation with optionType declared.&quot;)" class="string">&quot; has an Option[] member with no Column annotation with optionType declared.&quot;</span><span class="delimiter">)</span>

  //def createSamplePoso[T](vxn: ViewExpressionNode[T], classOfT: Class[T]): T = {
    //Enhancer.create(classOfT, new PosoPropertyAccessInterceptor(vxn)).asInstanceOf[T]
  //}

  <span class="keyword">def</span> <a title="(cb: net.sf.cglib.proxy.Callback)T" id="38384">createSample</a><span class="delimiter">(</span><a title="net.sf.cglib.proxy.Callback" id="65019">cb</a>: <span title="net.sf.cglib.proxy.Callback">Callback</span><span class="delimiter">)</span> =
    <a href="FieldReferenceLinker.scala.html#8099" title="org.squeryl.internals.FieldReferenceLinker.type">FieldReferenceLinker</a>.<a href="FieldReferenceLinker.scala.html#65035" title="(expressionWithSideEffectsASTConstructionThreadLocalState: =&gt; T)T">executeAndRestoreLastAccessedFieldReference</a><span class="delimiter">(</span><a href="#38385" title="(v1: net.sf.cglib.proxy.Callback)T">_builder</a><span class="delimiter">(</span><a href="#65019" title="net.sf.cglib.proxy.Callback">cb</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="net.sf.cglib.proxy.Callback =&gt; T" id="38385">_builder</a>: <span class="delimiter">(</span>Callback<span class="delimiter">)</span> =&gt; T = <span class="delimiter">{</span>


    <span class="keyword">val</span> <a title="net.sf.cglib.proxy.Enhancer" id="102166">e</a> = <span title="net.sf.cglib.proxy.Enhancer" class="keyword">new</span> <span title="net.sf.cglib.proxy.Enhancer">Enhancer</span>
    <a href="#102166" title="net.sf.cglib.proxy.Enhancer">e</a>.<span title="(x$1: Class[_])Unit">setSuperclass</span><span class="delimiter">(</span><a href="#38395" title="=&gt; Class[T]">clasz</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Array[Class[_]]" id="102167">pc</a>: <span title="Array[Class[_]]">Array</span><span class="delimiter">[</span>Class<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#38372" title="=&gt; (java.lang.reflect.Constructor[_], Array[Object])">constructor</a>.<span title="=&gt; java.lang.reflect.Constructor[_]">_1</span>.<span title="()Array[Class[_]]">getParameterTypes</span>
    <span class="keyword">val</span> <a title="Array[Object]" id="102168">args</a>:<span title="Array[Object]">Array</span><span class="delimiter">[</span>Object<span class="delimiter">]</span> = <a href="#38372" title="=&gt; (java.lang.reflect.Constructor[_], Array[Object])">constructor</a>.<span title="=&gt; Array[Object]">_2</span>
    <a href="#102166" title="net.sf.cglib.proxy.Enhancer">e</a>.<span title="(x$1: Boolean)Unit">setUseFactory</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

    <span class="delimiter">(</span>callB:<span title="net.sf.cglib.proxy.Callback">Callback</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>

      <span class="keyword">val</span> <a title="Array[net.sf.cglib.proxy.Callback]" id="102386">cb</a> = <span title="Array[net.sf.cglib.proxy.Callback]" class="keyword">new</span> <span title="Array[net.sf.cglib.proxy.Callback]">Array</span><span class="delimiter">[</span>Callback<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      <a href="#102386" title="(i: Int, x: net.sf.cglib.proxy.Callback)Unit">cb</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> = <a href="#102385" title="net.sf.cglib.proxy.Callback">callB</a>
      <a href="#102166" title="net.sf.cglib.proxy.Enhancer">e</a>.<span title="(x$1: net.sf.cglib.proxy.Callback)Unit">setCallback</span><span class="delimiter">(</span><a href="#102385" title="net.sf.cglib.proxy.Callback">callB</a><span class="delimiter">)</span>
      //TODO : are we creating am unnecessary instance ?  
      <span class="keyword">val</span> <a title="net.sf.cglib.proxy.Factory" id="102387">fac</a> = <a href="#102166" title="net.sf.cglib.proxy.Enhancer">e</a>.<span title="(x$1: Array[Class[_]], x$2: Array[Object])Object">create</span><span class="delimiter">(</span><a href="#102167" title="Array[Class[_]]">pc</a> , <a href="#38372" title="=&gt; (java.lang.reflect.Constructor[_], Array[Object])">constructor</a>.<span title="=&gt; Array[Object]">_2</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="net.sf.cglib.proxy.Factory" class="delimiter">[</span><span title="net.sf.cglib.proxy.Factory">Factory</span><span class="delimiter">]</span>

      <a href="#102387" title="net.sf.cglib.proxy.Factory">fac</a>.<span title="(x$1: Array[Class[_]], x$2: Array[Object], x$3: Array[net.sf.cglib.proxy.Callback])Object">newInstance</span><span class="delimiter">(</span><a href="#102167" title="Array[Class[_]]">pc</a>, <a href="#38372" title="=&gt; (java.lang.reflect.Constructor[_], Array[Object])">constructor</a>.<span title="=&gt; Array[Object]">_2</span>, <a href="#102386" title="Array[net.sf.cglib.proxy.Callback]">cb</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="T" class="delimiter">[</span><a href="#8152" title="T">T</a><span class="delimiter">]</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="38387">_isImplicitMode</a> = <span class="delimiter">{</span>
    
    <span class="keyword">val</span> <a title="org.squeryl.annotations.Row" id="43673">rowAnnotation</a> = <a href="#38395" title="=&gt; Class[T]">clasz</a>.<span title="(x$1: Class[org.squeryl.annotations.Row])org.squeryl.annotations.Row">getAnnotation</span><span class="delimiter">(</span>classOf<span title="Class[org.squeryl.annotations.Row](classOf[org.squeryl.annotations.Row])" class="delimiter">[</span>Row<span class="delimiter">]</span><span class="delimiter">)</span>

    <a href="#43673" title="org.squeryl.annotations.Row">rowAnnotation</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">||</span>
     <a href="#43673" title="org.squeryl.annotations.Row">rowAnnotation</a>.<a href="../annotations/Row.java.html#43680" title="()org.squeryl.annotations.FieldToColumnCorrespondanceMode">fieldToColumnCorrespondanceMode</a> <span title="(x$1: AnyRef)Boolean">==</span> FieldToColumnCorrespondanceMode.<span title="org.squeryl.annotations.FieldToColumnCorrespondanceMode(IMPLICIT)">IMPLICIT</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(property: (Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation]))Boolean" id="38388">_groupOfMembersIsProperty</a><span class="delimiter">(</span><a title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])" id="46810">property</a>: <span title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])" class="delimiter">(</span>Option<span class="delimiter">[</span>Field<span class="delimiter">]</span>, Option<span class="delimiter">[</span>Method<span class="delimiter">]</span>, Option<span class="delimiter">[</span>Method<span class="delimiter">]</span>, Set<span class="delimiter">[</span>Annotation<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span>  = <span class="delimiter">{</span>
    
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#46810" title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])">property</a>.<span title="=&gt; Set[java.lang.annotation.Annotation]">_4</span>.<span title="(p: java.lang.annotation.Annotation =&gt; Boolean)Option[java.lang.annotation.Annotation]">find</span><span class="delimiter">(</span><a title="java.lang.annotation.Annotation" id="102430">an</a> =&gt; <a href="#102430" title="java.lang.annotation.Annotation">an</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../annotations/Transient.java.html#7317" title="org.squeryl.annotations.Transient">Transient</a><span class="delimiter">]</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="None.type">None</span><span class="delimiter">)</span>
      <span title="Nothing" class="keyword">return</span> <span title="Boolean(false)" class="keyword">false</span>    

    <span class="keyword">val</span> <a title="Boolean" id="102419">hasAField</a> = <a href="#46810" title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])">property</a>.<span title="=&gt; Option[java.lang.reflect.Field]">_1</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="None.type">None</span>
	
	<span class="keyword">val</span> <a title="Boolean" id="102420">isAStaticField</a> = <a href="#46810" title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])">property</a>.<span title="=&gt; Option[java.lang.reflect.Field]">_1</span>.<span title="(f: java.lang.reflect.Field =&gt; Boolean)Option[Boolean]">map</span><span class="delimiter">(</span><a title="java.lang.reflect.Field" id="102444">f</a> =&gt; <span title="java.lang.reflect.Modifier.type">Modifier</span>.<span title="(x$1: Int)Boolean">isStatic</span><span class="delimiter">(</span><a href="#102444" title="java.lang.reflect.Field">f</a>.<span title="()Int">getModifiers</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; Boolean)Boolean">getOrElse</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="Boolean" id="102421">hasGetter</a> = <a href="#46810" title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])">property</a>.<span title="=&gt; Option[java.lang.reflect.Method]">_2</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="None.type">None</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
      <span title="=&gt; Boolean">!</span> classOf<span title="Class[Void](classOf[java.lang.Void])" class="delimiter">[</span>java.lang.Void<span class="delimiter">]</span>.<span title="(x$1: Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#46810" title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])">property</a>.<span title="=&gt; Option[java.lang.reflect.Method]">_2</span>.<span title="=&gt; java.lang.reflect.Method">get</span>.<span title="()Class[_]">getReturnType</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
      <a href="#46810" title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])">property</a>.<span title="=&gt; Option[java.lang.reflect.Method]">_2</span>.<span title="=&gt; java.lang.reflect.Method">get</span>.<span title="()Array[Class[_]]">getParameterTypes</span>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span>

    <span class="keyword">val</span> <a title="Boolean" id="102422">hasSetter</a> = <a href="#46810" title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])">property</a>.<span title="=&gt; Option[java.lang.reflect.Method]">_3</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="None.type">None</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
      <a href="#46810" title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])">property</a>.<span title="=&gt; Option[java.lang.reflect.Method]">_3</span>.<span title="=&gt; java.lang.reflect.Method">get</span>.<span title="()Array[Class[_]]">getParameterTypes</span>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span>
    
    <span class="keyword">val</span> <a title="scala.collection.mutable.ArrayBuffer[Class[_]]" id="102423">memberTypes</a> = <span title="()scala.collection.mutable.ArrayBuffer[Class[_]]" class="keyword">new</span> <span title="scala.collection.mutable.ArrayBuffer[Class[_]]">ArrayBuffer</span><span class="delimiter">[</span>Class<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span>

    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#102419" title="Boolean">hasAField</a><span class="delimiter">)</span>
      <a href="#102423" title="scala.collection.mutable.ArrayBuffer[Class[_]]">memberTypes</a>.<span title="(elems: Class[_]*)Unit">append</span><span class="delimiter">(</span><a href="#46810" title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])">property</a>.<span title="=&gt; Option[java.lang.reflect.Field]">_1</span>.<span title="=&gt; java.lang.reflect.Field">get</span>.<span title="()Class[_]">getType</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#102421" title="Boolean">hasGetter</a><span class="delimiter">)</span>
      <a href="#102423" title="scala.collection.mutable.ArrayBuffer[Class[_]]">memberTypes</a>.<span title="(elems: Class[_]*)Unit">append</span><span class="delimiter">(</span><a href="#46810" title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])">property</a>.<span title="=&gt; Option[java.lang.reflect.Method]">_2</span>.<span title="=&gt; java.lang.reflect.Method">get</span>.<span title="()Class[_]">getReturnType</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#102422" title="Boolean">hasSetter</a><span class="delimiter">)</span>
      <a href="#102423" title="scala.collection.mutable.ArrayBuffer[Class[_]]">memberTypes</a>.<span title="(elems: Class[_]*)Unit">append</span><span class="delimiter">(</span><a href="#46810" title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])">property</a>.<span title="=&gt; Option[java.lang.reflect.Method]">_3</span>.<span title="=&gt; java.lang.reflect.Method">get</span>.<span title="()Array[Class[_]]">getParameterTypes</span>.<span title="(i: Int)Class[_]">apply</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>    

    //not a property if it has no getter, setter or field
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#102423" title="scala.collection.mutable.ArrayBuffer[Class[_]]">memberTypes</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
      <span title="Nothing" class="keyword">return</span> <span title="Boolean(false)" class="keyword">false</span>

    //verify that all types are compatible :
    <span class="keyword">val</span> <a title="Class[_]" id="102424">c</a> = <a href="#102423" title="scala.collection.mutable.ArrayBuffer[Class[_]]">memberTypes</a>.<span title="(n: Int)Class[_]">remove</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
    <span class="keyword">for</span><span class="delimiter">(</span><a title="Class[_]" id="102566">c0</a> &lt;- <a href="#102423" title="(f: Class[_] =&gt; Unit)Unit">memberTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#102566" title="Class[_]">c0</a>.<span title="(x$1: Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#102424" title="Class[_]">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#102424" title="Class[_]">c</a>.<span title="(x$1: Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#102566" title="Class[_]">c0</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">return</span> <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>

    <a href="#425005" title="(_1: Boolean, _2: Boolean, _3: Boolean)(Boolean, Boolean, Boolean)" class="delimiter">(</a><a href="#102419" title="Boolean">hasAField</a>, <a href="#102421" title="Boolean">hasGetter</a>, <a href="#102422" title="Boolean">hasSetter</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span class="delimiter">(</span><a href="#425005" title="Boolean" id="425042" class="keyword">true</a>,  <a href="#425005" title="Boolean" id="425043" class="keyword">false</a>, <a href="#425005" title="Boolean" id="425044" class="keyword">false</a><span class="delimiter">)</span> =&gt; <a href="#425056" title="(x: Boolean)Boolean">!</a><a href="#102420" title="Boolean">isAStaticField</a>
      <span class="keyword">case</span> <span class="delimiter">(</span><a href="#425005" title="Boolean" id="425045" class="keyword">false</a>, <a href="#425005" title="Boolean" id="425046" class="keyword">true</a>,  <a href="#425005" title="Boolean" id="425047" class="keyword">true</a><span class="delimiter">)</span>  =&gt; <a href="#425056" title="(x: Boolean)Boolean" class="keyword">true</a>
      <span class="keyword">case</span> <span class="delimiter">(</span><a href="#425005" title="Boolean" id="425048" class="keyword">true</a>,  <a href="#425005" title="Boolean" id="425049" class="keyword">true</a>,  <a href="#425005" title="Boolean" id="425050" class="keyword">true</a><span class="delimiter">)</span>  =&gt; <a href="#425056" title="(x: Boolean)Boolean" class="keyword">true</a>
      <span class="keyword">case</span> <span class="delimiter">(</span><a href="#425005" title="Boolean" id="425051" class="keyword">true</a>,  <a href="#425005" title="Boolean" id="425052" class="keyword">true</a>, <a href="#425005" title="Boolean" id="425053" class="keyword">false</a><span class="delimiter">)</span>  =&gt; <a href="#425056" title="(x: Boolean)Boolean" class="keyword">true</a>
      <span class="keyword">case</span> <a href="#425005" title="Boolean" id="425054">a</a>:Any =&gt; <a href="#425056" title="(x: Boolean)Boolean" class="keyword">false</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(a: java.lang.annotation.Annotation)Boolean" id="38389">_includeAnnotation</a><span class="delimiter">(</span><a title="java.lang.annotation.Annotation" id="102594">a</a>: <span title="java.lang.annotation.Annotation">Annotation</span><span class="delimiter">)</span> =
   <a href="#102594" title="java.lang.annotation.Annotation">a</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../annotations/ColumnBase.java.html#7295" title="org.squeryl.annotations.ColumnBase">ColumnBase</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">||</span> <a href="#102594" title="java.lang.annotation.Annotation">a</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../annotations/Transient.java.html#7317" title="org.squeryl.annotations.Transient">Transient</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">||</span> <a href="#102594" title="java.lang.annotation.Annotation">a</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../annotations/OptionType.java.html#7305" title="org.squeryl.annotations.OptionType">OptionType</a><span class="delimiter">]</span>
  
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(m: java.lang.reflect.Field, s: scala.collection.mutable.HashSet[java.lang.annotation.Annotation])Unit" id="38390">_addAnnotations</a><span class="delimiter">(</span><a title="java.lang.reflect.Field" id="102598">m</a>: <span title="java.lang.reflect.Field">Field</span>, <a title="scala.collection.mutable.HashSet[java.lang.annotation.Annotation]" id="102599">s</a>: <span title="scala.collection.mutable.HashSet[java.lang.annotation.Annotation]">HashSet</span><span class="delimiter">[</span>Annotation<span class="delimiter">]</span><span class="delimiter">)</span> =
    <span class="keyword">for</span><span class="delimiter">(</span><a title="java.lang.annotation.Annotation" id="102747">a</a> &lt;- <a href="#102598" title="java.lang.reflect.Field">m</a>.<span title="(f: java.lang.annotation.Annotation =&gt; Boolean)Unit">getAnnotations</span> <span class="keyword">if</span> <a href="#38389" title="(a: java.lang.annotation.Annotation)Boolean">_includeAnnotation</a><span class="delimiter">(</span><a href="#102747" title="java.lang.annotation.Annotation">a</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#102599" title="scala.collection.mutable.HashSet[java.lang.annotation.Annotation]">s</a>.<span title="(elem: java.lang.annotation.Annotation)Boolean">add</span><span class="delimiter">(</span><a href="#102747" title="java.lang.annotation.Annotation">a</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(m: java.lang.reflect.Method, s: scala.collection.mutable.HashSet[java.lang.annotation.Annotation])Unit" id="38391">_addAnnotations</a><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="102752">m</a>: <span title="java.lang.reflect.Method">Method</span>, <a title="scala.collection.mutable.HashSet[java.lang.annotation.Annotation]" id="102753">s</a>: <span title="scala.collection.mutable.HashSet[java.lang.annotation.Annotation]">HashSet</span><span class="delimiter">[</span>Annotation<span class="delimiter">]</span><span class="delimiter">)</span> =
    <span class="keyword">for</span><span class="delimiter">(</span><a title="java.lang.annotation.Annotation" id="102896">a</a> &lt;- <a href="#102752" title="java.lang.reflect.Method">m</a>.<span title="(f: java.lang.annotation.Annotation =&gt; Boolean)Unit">getAnnotations</span> <span class="keyword">if</span> <a href="#38389" title="(a: java.lang.annotation.Annotation)Boolean">_includeAnnotation</a><span class="delimiter">(</span><a href="#102896" title="java.lang.annotation.Annotation">a</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#102753" title="scala.collection.mutable.HashSet[java.lang.annotation.Annotation]">s</a>.<span title="(elem: java.lang.annotation.Annotation)Boolean">add</span><span class="delimiter">(</span><a href="#102896" title="java.lang.annotation.Annotation">a</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(c: Class[_])Boolean" id="38392">_includeFieldOrMethodType</a><span class="delimiter">(</span><a title="Class[_]" id="102901">c</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#38396" title="=&gt; org.squeryl.Schema">schema</a>.<a href="../Schema.scala.html#24238" title="=&gt; org.squeryl.internals.FieldMapper">fieldMapper</a>.<a href="FieldMapper.scala.html#25427" title="(c: Class[_])Boolean">isSupported</a><span class="delimiter">(</span><a href="#102901" title="Class[_]">c</a><span class="delimiter">)</span>
      //! classOf[Query[_]].isAssignableFrom(c)

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clasz: Class[_], members: scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])])Unit" id="38393">_fillWithMembers</a><span class="delimiter">(</span><a title="Class[_]" id="44861">clasz</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])]" id="44862">members</a>: <span title="scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])]">ArrayBuffer</span><span class="delimiter">[</span><span class="delimiter">(</span>Member,HashSet<span class="delimiter">[</span>Annotation<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>

    <span class="keyword">for</span><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="103060">m</a> &lt;-<a href="#44861" title="Class[_]">clasz</a>.<span title="(f: java.lang.reflect.Method =&gt; Unit)Unit">getMethods</span> <span class="keyword">if</span><span class="delimiter">(</span><a href="#103060" title="java.lang.reflect.Method">m</a>.<span title="()Class[_]">getDeclaringClass</span> <span title="(x$1: AnyRef)Boolean">!=</span> classOf<span title="Class[Object](classOf[java.lang.Object])" class="delimiter">[</span>Object<span class="delimiter">]</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#38392" title="(c: Class[_])Boolean">_includeFieldOrMethodType</a><span class="delimiter">(</span><a href="#103060" title="java.lang.reflect.Method">m</a>.<span title="()Class[_]">getReturnType</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#103060" title="java.lang.reflect.Method">m</a>.<span title="(x$1: Boolean)Unit">setAccessible</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="(java.lang.reflect.Method, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])" id="103061">t</a> = <span title="(_1: java.lang.reflect.Method, _2: scala.collection.mutable.HashSet[java.lang.annotation.Annotation])(java.lang.reflect.Method, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])" class="delimiter">(</span><a href="#103060" title="java.lang.reflect.Method">m</a>, <span title="()scala.collection.mutable.HashSet[java.lang.annotation.Annotation]" class="keyword">new</span> <span title="scala.collection.mutable.HashSet[java.lang.annotation.Annotation]">HashSet</span><span class="delimiter">[</span>Annotation<span class="delimiter">]</span><span class="delimiter">)</span>
      <a href="#38391" title="(m: java.lang.reflect.Method, s: scala.collection.mutable.HashSet[java.lang.annotation.Annotation])Unit">_addAnnotations</a><span class="delimiter">(</span><a href="#103060" title="java.lang.reflect.Method">m</a>, <a href="#103061" title="(java.lang.reflect.Method, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])">t</a>.<span title="=&gt; scala.collection.mutable.HashSet[java.lang.annotation.Annotation]">_2</span><span class="delimiter">)</span>
      <a href="#44862" title="scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])]">members</a>.<span title="(elems: (java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])*)Unit">append</span><span class="delimiter">(</span><a href="#103061" title="(java.lang.reflect.Method, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])">t</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">for</span><span class="delimiter">(</span><a title="java.lang.reflect.Field" id="103242">m</a> &lt;- <a href="#44861" title="Class[_]">clasz</a>.<span title="(f: java.lang.reflect.Field =&gt; Unit)Unit">getDeclaredFields</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#103242" title="java.lang.reflect.Field">m</a>.<span title="()String">getName</span>.<span title="(x$1: String)Int">indexOf</span><span class="delimiter">(</span><span title="String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#38392" title="(c: Class[_])Boolean">_includeFieldOrMethodType</a><span class="delimiter">(</span><a href="#103242" title="java.lang.reflect.Field">m</a>.<span title="()Class[_]">getType</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#103242" title="java.lang.reflect.Field">m</a>.<span title="(x$1: Boolean)Unit">setAccessible</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="(java.lang.reflect.Field, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])" id="103243">t</a> = <span title="(_1: java.lang.reflect.Field, _2: scala.collection.mutable.HashSet[java.lang.annotation.Annotation])(java.lang.reflect.Field, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])" class="delimiter">(</span><a href="#103242" title="java.lang.reflect.Field">m</a>, <span title="()scala.collection.mutable.HashSet[java.lang.annotation.Annotation]" class="keyword">new</span> <span title="scala.collection.mutable.HashSet[java.lang.annotation.Annotation]">HashSet</span><span class="delimiter">[</span>Annotation<span class="delimiter">]</span><span class="delimiter">)</span>
      <a href="#38390" title="(m: java.lang.reflect.Field, s: scala.collection.mutable.HashSet[java.lang.annotation.Annotation])Unit">_addAnnotations</a><span class="delimiter">(</span><a href="#103242" title="java.lang.reflect.Field">m</a>, <a href="#103243" title="(java.lang.reflect.Field, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])">t</a>.<span title="=&gt; scala.collection.mutable.HashSet[java.lang.annotation.Annotation]">_2</span><span class="delimiter">)</span>
      <a href="#44862" title="scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])]">members</a>.<span title="(elems: (java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])*)Unit">append</span><span class="delimiter">(</span><a href="#103243" title="(java.lang.reflect.Field, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])">t</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="Class[?0] forSome { type ?0 &gt;: _$10; type _$10 }" id="102908">c</a> = <a href="#44861" title="Class[_]">clasz</a>.<span title="()Class[_ &gt;: _$10]">getSuperclass</span>

    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#102908" title="Class[?0] forSome { type ?0 &gt;: _$10; type _$10 }">c</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
      <a href="#38393" title="(clasz: Class[_], members: scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])])Unit">_fillWithMembers</a><span class="delimiter">(</span><a href="#102908" title="Class[?0] forSome { type ?0 &gt;: _$10; type _$10 }">c</a>, <a href="#44862" title="scala.collection.mutable.ArrayBuffer[(java.lang.reflect.Member, scala.collection.mutable.HashSet[java.lang.annotation.Annotation])]">members</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>



        </pre>
    </body>
</html>