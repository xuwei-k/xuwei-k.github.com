<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>org/squeryl/dsl/ast/SelectElement.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*******************************************************************************
 * Copyright 2010 Maxime LÃ©vesque
 * 
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *   http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ***************************************************************************** */</span>
<span class="keyword">package</span> org.squeryl.dsl.ast

<span class="keyword">import</span> collection.mutable.ArrayBuffer
<span class="keyword">import</span> org.squeryl.internals._
<span class="keyword">import</span> java.sql.ResultSet
<span class="keyword">import</span> org.squeryl.Session


<span class="keyword">import</span> scala.annotation.tailrec

<span class="comment">/**
 * SelectElement are elements of a select list, for example they are a,b, and c in :
 *
 * select a,b,c from T
 *
 * they are either
 *  ValueSelectElement for composite expressions, i.e. select (x / 2) * y as Z from ....
 *  TupleSelectElement for group by or compute elements (TODO: document group by/compute)
 *  FieldSelectElement for table columns (that map to fields)
 *
 *  ExportSelectElement for a select element that refers to a SelectElement of an inner or outer query.
 *
 * SelectElementReference are nodes in any clause other than select (where, having, composite expression, order by, etc)
 *  that refer to a SelectElement  
 */</span>
<span class="keyword">trait</span> <a title="trait SelectElement extends java.lang.Object with org.squeryl.dsl.ast.ExpressionNode with ScalaObject" id="11682">SelectElement</a> <span title="ScalaObject" class="keyword">extends</span> <a href="ExpressionNode.scala.html#11715" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a> <span class="delimiter">{</span>
  outer =&gt;
  <span class="comment">/**
   * &lt;pre&gt;
   * In the following select :
   *
   *   select t.x from t
   *
   *  t.x is a select element and t is it's origin
   *
   * Here q.z1 is a SelectElement who's origin is t
   *
   *   select q.z1
   *   from
   *     (select t.x as z1 from t) q
   *
   * &lt;/pre&gt;
   */</span>  
  <span class="keyword">def</span> <a title="=&gt; org.squeryl.dsl.ast.QueryableExpressionNode" id="20668">origin</a>: <a href="ExpressionNode.scala.html#11499" title="org.squeryl.dsl.ast.QueryableExpressionNode">QueryableExpressionNode</a>

  <span class="keyword">def</span> <a title="=&gt; org.squeryl.dsl.ast.QueryableExpressionNode" id="20669">parentQueryable</a> = <a href="ExpressionNode.scala.html#20361" title="=&gt; Option[org.squeryl.dsl.ast.ExpressionNode]">parent</a>.<span title="=&gt; org.squeryl.dsl.ast.ExpressionNode">get</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.dsl.ast.QueryableExpressionNode" class="delimiter">[</span><a href="ExpressionNode.scala.html#11499" title="org.squeryl.dsl.ast.QueryableExpressionNode">QueryableExpressionNode</a><span class="delimiter">]</span>  

  <span class="keyword">def</span> <a title="=&gt; org.squeryl.internals.ResultSetMapper" id="20670">resultSetMapper</a>: <a href="../../internals/ResultSetMapper.scala.html#12886" title="org.squeryl.internals.ResultSetMapper">ResultSetMapper</a>

  <span class="keyword">def</span> <a title="=&gt; String" id="20671">alias</a>: <span title="String">String</span>

  <span class="keyword">def</span> <a title="=&gt; String" id="20672">aliasSegment</a>: <span title="String">String</span> =
    <a href="#20671" title="=&gt; String">alias</a>

  <span class="keyword">def</span> <a title="=&gt; org.squeryl.dsl.ast.SelectElement" id="20673">actualSelectElement</a>: <a href="#11682" title="org.squeryl.dsl.ast.SelectElement">SelectElement</a> = <a href="#11682" title="org.squeryl.dsl.ast.SelectElement" class="keyword">this</a>

  <span class="comment">/**
   * Update, Insert, and Delete statements are always at the root of an AST, so they
   * are never aliased, but then can have sub queries, ex.: update ... where x in (subquery).
   * Name clashes are impossible since SelectElements of query are always aliased.
   *
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="20674">inhibitAliasOnSelectElementReference</a>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>

    <span class="keyword">def</span> <a title="(e: org.squeryl.dsl.ast.ExpressionNode)Boolean" id="87149">shouldInhibit</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.ExpressionNode" id="87150">e</a>: <a href="ExpressionNode.scala.html#11715" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
      <a href="#87150" title="org.squeryl.dsl.ast.ExpressionNode">e</a>.<a href="ExpressionNode.scala.html#20361" title="=&gt; Option[org.squeryl.dsl.ast.ExpressionNode]">parent</a> <span title="(f: org.squeryl.dsl.ast.ExpressionNode =&gt; Boolean)Option[Boolean]">map</span> <span class="delimiter">(</span><span class="delimiter">{</span> <a title="org.squeryl.dsl.ast.ExpressionNode" id="87155">p</a> =&gt;
        <span title="Boolean" class="keyword">if</span><span class="delimiter">(</span><a href="#87155" title="org.squeryl.dsl.ast.ExpressionNode">p</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="QueryExpressionElements.scala.html#11562" title="org.squeryl.dsl.ast.QueryExpressionElements">QueryExpressionElements</a><span class="delimiter">]</span><span class="delimiter">)</span>
          <a href="#87155" title="org.squeryl.dsl.ast.ExpressionNode">p</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.dsl.ast.QueryExpressionElements" class="delimiter">[</span><a href="QueryExpressionElements.scala.html#11562" title="org.squeryl.dsl.ast.QueryExpressionElements">QueryExpressionElements</a><span class="delimiter">]</span>.<a href="QueryExpressionElements.scala.html#64204" title="=&gt; Boolean">inhibitAliasOnSelectElementReference</a>
        <span class="keyword">else</span>
          <a href="#87149" title="(e: org.squeryl.dsl.ast.ExpressionNode)Boolean">shouldInhibit</a><span class="delimiter">(</span><a href="#87155" title="org.squeryl.dsl.ast.ExpressionNode">p</a><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span> <span title="(default: =&gt; Boolean)Boolean">getOrElse</span> <span title="Boolean(true)" class="keyword">true</span>

    <a href="#87149" title="(e: org.squeryl.dsl.ast.ExpressionNode)Boolean">shouldInhibit</a><span class="delimiter">(</span><a href="#20668" title="=&gt; org.squeryl.dsl.ast.QueryableExpressionNode">origin</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="20675">realTableNamePrefix</a>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>

    <span class="keyword">def</span> <a title="(e: org.squeryl.dsl.ast.ExpressionNode)org.squeryl.dsl.ast.ExpressionNode" id="87164">parent</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.ExpressionNode" id="87166">e</a>: <a href="ExpressionNode.scala.html#11715" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a><span class="delimiter">)</span>: <a href="ExpressionNode.scala.html#11715" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a> =
      <span class="delimiter">(</span><a href="#87166" title="org.squeryl.dsl.ast.ExpressionNode">e</a>.<a href="ExpressionNode.scala.html#20361" title="=&gt; Option[org.squeryl.dsl.ast.ExpressionNode]">parent</a> <span title="(f: org.squeryl.dsl.ast.ExpressionNode =&gt; org.squeryl.dsl.ast.ExpressionNode)Option[org.squeryl.dsl.ast.ExpressionNode]">map</span> <span class="delimiter">(</span><a title="org.squeryl.dsl.ast.ExpressionNode" id="87170">p</a> =&gt; <a href="#87164" title="(e: org.squeryl.dsl.ast.ExpressionNode)org.squeryl.dsl.ast.ExpressionNode">parent</a><span class="delimiter">(</span><a href="#87170" title="org.squeryl.dsl.ast.ExpressionNode">p</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(default: =&gt; org.squeryl.dsl.ast.ExpressionNode)org.squeryl.dsl.ast.ExpressionNode">getOrElse</span> <a href="#87166" title="org.squeryl.dsl.ast.ExpressionNode">e</a>

    <span class="keyword">val</span> <a title="org.squeryl.dsl.ast.ExpressionNode" id="87165">p</a> = <a href="#87164" title="(e: org.squeryl.dsl.ast.ExpressionNode)org.squeryl.dsl.ast.ExpressionNode">parent</a><span class="delimiter">(</span><a href="#20668" title="=&gt; org.squeryl.dsl.ast.QueryableExpressionNode">origin</a><span class="delimiter">)</span>
    <a href="#87165" title="org.squeryl.dsl.ast.ExpressionNode">p</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="UpdateStatement.scala.html#11508" title="org.squeryl.dsl.ast.UpdateStatement">UpdateStatement</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">||</span> <a href="#87165" title="org.squeryl.dsl.ast.ExpressionNode">p</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="QueryExpressionElements.scala.html#11562" title="org.squeryl.dsl.ast.QueryExpressionElements">QueryExpressionElements</a><span class="delimiter">]</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(index: Int)Unit" id="20676">prepareColumnMapper</a><span class="delimiter">(</span><a title="Int" id="87177">index</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Unit">Unit</span>

  <span class="keyword">def</span> <a title="(jdbcIndex: Int)Unit" id="20677">prepareMapper</a><span class="delimiter">(</span><a title="Int" id="73225">jdbcIndex</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Unit">Unit</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="20678">inhibited</a> =
    <a href="#20668" title="=&gt; org.squeryl.dsl.ast.QueryableExpressionNode">origin</a>.<a href="ExpressionNode.scala.html#65367" title="=&gt; Boolean">inhibited</a>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="20679">isActive</a> = <a href="#20681" title="=&gt; Boolean">_isActive</a>

  <span class="keyword">protected</span> <span class="delimiter">[</span>squeryl<span class="delimiter">]</span> <span class="keyword">var</span> <a title="Boolean" id="20681">_isActive</a> = <span title="Boolean(false)" class="keyword">false</span>
  
  <span class="keyword">def</span> <a title="=&gt; org.squeryl.dsl.ast.ExpressionNode" id="20683">expression</a>: <a href="ExpressionNode.scala.html#11715" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a>

  <span class="comment">/**
   * strictly for logging purposes, i.e. to display a more explicit AST
   */</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="20684">typeOfExpressionToString</a>: <span title="String">String</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[org.squeryl.dsl.ast.ExpressionNode]" id="20685">children</a> = <span title="(xs: org.squeryl.dsl.ast.ExpressionNode*)List[org.squeryl.dsl.ast.ExpressionNode]">List</span><span class="delimiter">(</span><a href="#20683" title="=&gt; org.squeryl.dsl.ast.ExpressionNode">expression</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(sw: org.squeryl.internals.StatementWriter)Unit" id="20686">doWrite</a><span class="delimiter">(</span><a title="org.squeryl.internals.StatementWriter" id="87200">sw</a>: <a href="../../internals/StatementWriter.scala.html#12931" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#20683" title="=&gt; org.squeryl.dsl.ast.ExpressionNode">expression</a>.<a href="ExpressionNode.scala.html#20367" title="(sw: org.squeryl.internals.StatementWriter)Unit">write</a><span class="delimiter">(</span><a href="#87200" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
    <a href="#87200" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot; as &quot;)" class="string">&quot; as &quot;</span><span class="delimiter">)</span>
    <a href="#87200" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../../internals/StatementWriter.scala.html#40638" title="=&gt; org.squeryl.internals.DatabaseAdapter">databaseAdapter</a>.<a href="../../internals/DatabaseAdapter.scala.html#37086" title="(se: org.squeryl.dsl.ast.SelectElement, sw: org.squeryl.internals.StatementWriter)Unit">writeSelectElementAlias</a><span class="delimiter">(</span><a href="#11682" title="org.squeryl.dsl.ast.SelectElement" class="keyword">this</a>, <a href="#87200" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Will throw a ClassCastException if this type is not a Enumeration#Value
   */</span>
  <span class="keyword">def</span> <a title="(s: Enumeration#Value)org.squeryl.internals.OutMapper[Enumeration#Value]" id="20687">createEnumerationMapper</a><span class="delimiter">(</span><a title="Enumeration#Value" id="33800">s</a>: Enumeration#<span title="Enumeration#Value">Value</span><span class="delimiter">)</span>: <a href="../../internals/ResultSetMapper.scala.html#12946" title="org.squeryl.internals.OutMapper[Enumeration#Value]">OutMapper</a><span class="delimiter">[</span>Enumeration#Value<span class="delimiter">]</span> = <a href="#87207" title="java.lang.Object with org.squeryl.internals.OutMapper[Enumeration#Value]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with org.squeryl.internals.OutMapper[Enumeration#Value]" id="87207">OutMapper</a><span class="delimiter">[</span>Enumeration#Value<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>

    <span class="keyword">def</span> <a title="(rs: java.sql.ResultSet)Enumeration#Value" id="87213">doMap</a><span class="delimiter">(</span><a title="java.sql.ResultSet" id="87215">rs</a>: <span title="java.sql.ResultSet">ResultSet</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.squeryl.internals.FieldMetaData" id="87218">fmd</a> = <a href="#11682" title="SelectElement.this.type">outer</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.dsl.ast.FieldSelectElement" class="delimiter">[</span><a href="#11619" title="org.squeryl.dsl.ast.FieldSelectElement">FieldSelectElement</a><span class="delimiter">]</span>.<a href="#87397" title="=&gt; org.squeryl.internals.FieldMetaData">fieldMetaData</a>
      <a href="#87218" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="../../internals/FieldMetaData.scala.html#48385" title="(id: Int)Option[Enumeration#Value]">canonicalEnumerationValueFor</a><span class="delimiter">(</span><a href="#87215" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)Int">getInt</span><span class="delimiter">(</span><a href="#87207" title="this.type" class="keyword">this</a>.<a href="../../internals/ResultSetMapper.scala.html#20767" title="=&gt; Int">index</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Enumeration#Value">get</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Enumeration#Value" id="87214">sample</a> = <a href="#33800" title="Enumeration#Value">s</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Will throw a ClassCastException if this type is not a Enumeration#Value
   */</span>
  <span class="keyword">def</span> <a title="(s: Option[Enumeration#Value])org.squeryl.internals.OutMapper[Option[Enumeration#Value]]" id="20688">createEnumerationOptionMapper</a><span class="delimiter">(</span><a title="Option[Enumeration#Value]" id="34268">s</a>: <span title="Option[Enumeration#Value]">Option</span><span class="delimiter">[</span>Enumeration#Value<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../internals/ResultSetMapper.scala.html#12946" title="org.squeryl.internals.OutMapper[Option[Enumeration#Value]]">OutMapper</a><span class="delimiter">[</span>Option<span class="delimiter">[</span>Enumeration#Value<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#87234" title="java.lang.Object with org.squeryl.internals.OutMapper[Option[Enumeration#Value]]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with org.squeryl.internals.OutMapper[Option[Enumeration#Value]]" id="87234">OutMapper</a><span class="delimiter">[</span>Option<span class="delimiter">[</span>Enumeration#Value<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>

    <span class="keyword">def</span> <a title="(rs: java.sql.ResultSet)Option[Enumeration#Value]" id="87240">doMap</a><span class="delimiter">(</span><a title="java.sql.ResultSet" id="87242">rs</a>: <span title="java.sql.ResultSet">ResultSet</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.squeryl.internals.FieldMetaData" id="87245">fmd</a> = <a href="#11682" title="SelectElement.this.type">outer</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.dsl.ast.FieldSelectElement" class="delimiter">[</span><a href="#11619" title="org.squeryl.dsl.ast.FieldSelectElement">FieldSelectElement</a><span class="delimiter">]</span>.<a href="#87397" title="=&gt; org.squeryl.internals.FieldMetaData">fieldMetaData</a>
      <a href="#87245" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="../../internals/FieldMetaData.scala.html#48385" title="(id: Int)Option[Enumeration#Value]">canonicalEnumerationValueFor</a><span class="delimiter">(</span><a href="#87242" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)Int">getInt</span><span class="delimiter">(</span><a href="#87234" title="this.type" class="keyword">this</a>.<a href="../../internals/ResultSetMapper.scala.html#20767" title="=&gt; Int">index</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Option[Enumeration#Value]" id="87241">sample</a> = 
      <span title="Option[Enumeration#Value]" class="keyword">if</span><span class="delimiter">(</span><a href="#34268" title="Option[Enumeration#Value]">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span> 
        org.squeryl.internals.<a href="../../internals/Utils.scala.html#13022" title="object org.squeryl.internals.Utils">Utils</a>.<a href="../../internals/Utils.scala.html#32775" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;can\'t find a sample value for enum &quot;)" class="string">&quot;can't find a sample value for enum &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#11682" title="org.squeryl.dsl.ast.SelectElement">outer</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#34268" title="Option[Enumeration#Value]">s</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class TupleSelectElement extends java.lang.Object with org.squeryl.dsl.ast.SelectElement with ScalaObject" id="11496">TupleSelectElement</a>
 <span class="delimiter">(</span><span class="keyword">val</span> <a title="org.squeryl.dsl.ast.QueryExpressionNode[_]" id="87293">origin</a>: <a href="QueryExpressionNode.scala.html#11772" title="org.squeryl.dsl.ast.QueryExpressionNode[_]">QueryExpressionNode</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <span class="keyword">val</span> <a title="org.squeryl.dsl.ast.ExpressionNode" id="87294">expression</a>: <a href="ExpressionNode.scala.html#11715" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a>, <a title="Int" id="87295">indexInTuple</a>: <span title="Int">Int</span>, <a title="Boolean" id="87296">isGroupTuple</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>
    <span class="keyword">extends</span> <a href="#11682" title="org.squeryl.dsl.ast.SelectElement">SelectElement</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="=&gt; org.squeryl.internals.ResultSetMapper" id="87272">resultSetMapper</a>: <a href="../../internals/ResultSetMapper.scala.html#12886" title="org.squeryl.internals.ResultSetMapper">ResultSetMapper</a> = org.squeryl.internals.<a href="../../internals/Utils.scala.html#13022" title="object org.squeryl.internals.Utils">Utils</a>.<a href="../../internals/Utils.scala.html#32775" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;refactor me&quot;)" class="string">&quot;refactor me&quot;</span><span class="delimiter">)</span>

  <span class="comment">//TODO: normalize ?</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="87273">alias</a> =
    <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#87296" title="Boolean">isGroupTuple</a><span class="delimiter">)</span>
      <span title="java.lang.String(&quot;g&quot;)" class="string">&quot;g&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#87295" title="Int">indexInTuple</a>
    <span class="keyword">else</span>
      <span title="java.lang.String(&quot;c&quot;)" class="string">&quot;c&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#87295" title="Int">indexInTuple</a>


  <span class="keyword">var</span> <a title="Option[org.squeryl.internals.ColumnToTupleMapper]" id="87275">columnToTupleMapper</a>: <span title="Option[org.squeryl.internals.ColumnToTupleMapper]">Option</span><span class="delimiter">[</span>ColumnToTupleMapper<span class="delimiter">]</span> = <span title="object None">None</span>

  <span class="keyword">def</span> <a title="(index: Int)Unit" id="87277">prepareColumnMapper</a><span class="delimiter">(</span><a title="Int" id="87317">index</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; String" id="87278">typeOfExpressionToString</a>: <span title="String">String</span> =
    <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#87275" title="=&gt; Option[org.squeryl.internals.ColumnToTupleMapper]">columnToTupleMapper</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span>
      <span title="java.lang.String(&quot;unknown&quot;)" class="string">&quot;unknown&quot;</span>
    <span class="keyword">else</span>
      <a href="#87275" title="=&gt; Option[org.squeryl.internals.ColumnToTupleMapper]">columnToTupleMapper</a>.<span title="=&gt; org.squeryl.internals.ColumnToTupleMapper">get</span>.<a href="../../internals/ResultSetMapper.scala.html#87310" title="(idx: Int)java.lang.String">typeOfExpressionToString</a><span class="delimiter">(</span><a href="#87295" title="Int">indexInTuple</a><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(jdbcIndex: Int)Unit" id="87279">prepareMapper</a><span class="delimiter">(</span><a title="Int" id="87339">jdbcIndex</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#87275" title="=&gt; Option[org.squeryl.internals.ColumnToTupleMapper]">columnToTupleMapper</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object None">None</span><span class="delimiter">)</span>
      <a href="#87275" title="=&gt; Option[org.squeryl.internals.ColumnToTupleMapper]">columnToTupleMapper</a>.<span title="=&gt; org.squeryl.internals.ColumnToTupleMapper">get</span>.<a href="../../internals/ResultSetMapper.scala.html#87311" title="(i: Int, jdbcIndex: Int)Unit">activate</a><span class="delimiter">(</span><a href="#87295" title="Int">indexInTuple</a>, <a href="#87339" title="Int">jdbcIndex</a><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="87280">toString</a> =
    <span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="symbol">'TupleSelectElement</span> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#87295" title="Int">indexInTuple</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="ExpressionNode.scala.html#20369" title="=&gt; String">writeToString</a>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class FieldSelectElement extends java.lang.Object with org.squeryl.dsl.ast.SelectElement with org.squeryl.dsl.ast.UniqueIdInAliaseRequired with ScalaObject" id="11619">FieldSelectElement</a>
<a href="#11619" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="org.squeryl.dsl.ast.ViewExpressionNode[_]" id="87396">origin</a>: <a href="ViewExpressionNode.scala.html#11532" title="org.squeryl.dsl.ast.ViewExpressionNode[_]">ViewExpressionNode</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <span class="keyword">val</span> <a title="org.squeryl.internals.FieldMetaData" id="87397">fieldMetaData</a>: <a href="../../internals/FieldMetaData.scala.html#12577" title="org.squeryl.internals.FieldMetaData">FieldMetaData</a>, <span class="keyword">val</span> <a title="org.squeryl.internals.ResultSetMapper" id="87398">resultSetMapper</a>: <a href="../../internals/ResultSetMapper.scala.html#12886" title="org.squeryl.internals.ResultSetMapper">ResultSetMapper</a><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="#11682" title="org.squeryl.dsl.ast.SelectElement">SelectElement</a> <span class="keyword">with</span> <a href="ExpressionNode.scala.html#11571" title="org.squeryl.dsl.ast.UniqueIdInAliaseRequired">UniqueIdInAliaseRequired</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="=&gt; String" id="55821">alias</a> =
    <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#20674" title="=&gt; Boolean">inhibitAliasOnSelectElementReference</a><span class="delimiter">)</span>
      <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#20675" title="=&gt; Boolean">realTableNamePrefix</a><span class="delimiter">)</span>
        <a href="#87396" title="=&gt; org.squeryl.dsl.ast.ViewExpressionNode[_]">origin</a>.<a href="ViewExpressionNode.scala.html#65390" title="(=&gt; org.squeryl.View[_$2]) forSome { type _$2 }">view</a>.<a href="../../View.scala.html#22723" title="=&gt; String">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#87397" title="=&gt; org.squeryl.internals.FieldMetaData">fieldMetaData</a>.<a href="../../internals/FieldMetaData.scala.html#48404" title="=&gt; String">columnName</a>
      <span class="keyword">else</span>
        <a href="#87397" title="=&gt; org.squeryl.internals.FieldMetaData">fieldMetaData</a>.<a href="../../internals/FieldMetaData.scala.html#48404" title="=&gt; String">columnName</a>
    <span class="keyword">else</span>
      <a href="#87396" title="=&gt; org.squeryl.dsl.ast.ViewExpressionNode[_]">origin</a>.<a href="ViewExpressionNode.scala.html#65402" title="=&gt; java.lang.String">alias</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#87397" title="=&gt; org.squeryl.internals.FieldMetaData">fieldMetaData</a>.<a href="../../internals/FieldMetaData.scala.html#48404" title="=&gt; String">columnName</a>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="55822">aliasSegment</a>: <span title="String">String</span> =
    <a href="../../Session.scala.html#10079" title="object org.squeryl.Session">Session</a>.<a href="../../Session.scala.html#36953" title="=&gt; org.squeryl.Session">currentSession</a>.<a href="../../Session.scala.html#36964" title="=&gt; org.squeryl.internals.DatabaseAdapter">databaseAdapter</a>.<a href="../../internals/DatabaseAdapter.scala.html#37084" title="(n: org.squeryl.dsl.ast.QueryableExpressionNode, fse: org.squeryl.dsl.ast.FieldSelectElement)java.lang.String">fieldAlias</a><span class="delimiter">(</span><a href="#87396" title="=&gt; org.squeryl.dsl.ast.ViewExpressionNode[_]">origin</a>, <a href="#11619" title="org.squeryl.dsl.ast.FieldSelectElement" class="keyword">this</a><span class="delimiter">)</span>
    <span class="comment">//origin.alias + &quot;_&quot; + fieldMetaData.columnName</span>
  
  <span class="keyword">val</span> <a title="expression extends java.lang.Object with org.squeryl.dsl.ast.ExpressionNode" id="55823">expression</a> = <a href="#87371" title="java.lang.Object with org.squeryl.dsl.ast.ExpressionNode" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with org.squeryl.dsl.ast.ExpressionNode" id="87371">ExpressionNode</a> <span class="delimiter">{</span>
    
    <span class="keyword">def</span> <a title="(sw: org.squeryl.internals.StatementWriter)Unit" id="87373">doWrite</a><span class="delimiter">(</span><a title="org.squeryl.internals.StatementWriter" id="87374">sw</a>: <a href="../../internals/StatementWriter.scala.html#12931" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> =
      <a href="#87374" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#87374" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../../internals/StatementWriter.scala.html#40678" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#55821" title="=&gt; String">alias</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(index: Int)Unit" id="55825">prepareColumnMapper</a><span class="delimiter">(</span><a title="Int" id="87405">index</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
    <a href="#55827" title="(x$1: Option[org.squeryl.internals.ColumnToFieldMapper])Unit">columnMapper</a> = <span title="(x: org.squeryl.internals.ColumnToFieldMapper)Some[org.squeryl.internals.ColumnToFieldMapper]">Some</span><span class="delimiter">(</span><span title="org.squeryl.internals.ColumnToFieldMapper" class="keyword">new</span> <a href="../../internals/ResultSetMapper.scala.html#13018" title="org.squeryl.internals.ColumnToFieldMapper">ColumnToFieldMapper</a><span class="delimiter">(</span><a href="#87405" title="Int">index</a>, <a href="#87397" title="=&gt; org.squeryl.internals.FieldMetaData">fieldMetaData</a>, <a href="#11619" title="org.squeryl.dsl.ast.FieldSelectElement" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Option[org.squeryl.internals.ColumnToFieldMapper]" id="55827">columnMapper</a>: <span title="Option[org.squeryl.internals.ColumnToFieldMapper]">Option</span><span class="delimiter">[</span>ColumnToFieldMapper<span class="delimiter">]</span> = <span title="object None">None</span>

  <span class="keyword">def</span> <a title="(jdbcIndex: Int)Unit" id="55829">prepareMapper</a><span class="delimiter">(</span><a title="Int" id="87425">jdbcIndex</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#55827" title="=&gt; Option[org.squeryl.internals.ColumnToFieldMapper]">columnMapper</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object None">None</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#87398" title="=&gt; org.squeryl.internals.ResultSetMapper">resultSetMapper</a>.<a href="../../internals/ResultSetMapper.scala.html#34915" title="(cm: org.squeryl.internals.ColumnToFieldMapper)Unit">addColumnMapper</a><span class="delimiter">(</span><a href="#55827" title="=&gt; Option[org.squeryl.internals.ColumnToFieldMapper]">columnMapper</a>.<span title="=&gt; org.squeryl.internals.ColumnToFieldMapper">get</span><span class="delimiter">)</span>
      <a href="#87398" title="=&gt; org.squeryl.internals.ResultSetMapper">resultSetMapper</a>.<a href="../../internals/ResultSetMapper.scala.html#34912" title="(x$1: Boolean)Unit">isActive</a> = <span title="Boolean(true)" class="keyword">true</span>
      <a href="#20681" title="(x$1: Boolean)Unit">_isActive</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="delimiter">}</span>
  
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="55830">typeOfExpressionToString</a> =
    <a href="#87397" title="=&gt; org.squeryl.internals.FieldMetaData">fieldMetaData</a>.<a href="../../internals/FieldMetaData.scala.html#48409" title="=&gt; java.lang.String">displayType</a>
  
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="55831">toString</a> =
    <span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="symbol">'FieldSelectElement</span> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
       <a href="../../internals/Utils.scala.html#13022" title="object org.squeryl.internals.Utils">Utils</a>.<a href="../../internals/Utils.scala.html#32754" title="(s: =&gt; String, valueOnFail: String)String">failSafeString</a><span class="delimiter">(</span><a href="#55821" title="=&gt; String">alias</a>, <a href="#87397" title="=&gt; org.squeryl.internals.FieldMetaData">fieldMetaData</a>.<a href="../../internals/FieldMetaData.scala.html#48365" title="=&gt; String">nameOfProperty</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class ValueSelectElement extends java.lang.Object with org.squeryl.dsl.ast.SelectElement with org.squeryl.dsl.ast.UniqueIdInAliaseRequired with ScalaObject" id="11565">ValueSelectElement</a>
  <span class="delimiter">(</span><span class="keyword">val</span> <a title="org.squeryl.dsl.ast.ExpressionNode" id="87490">expression</a>: <a href="ExpressionNode.scala.html#11715" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a>, <span class="keyword">val</span> <a title="org.squeryl.internals.ResultSetMapper" id="87491">resultSetMapper</a>: <a href="../../internals/ResultSetMapper.scala.html#12886" title="org.squeryl.internals.ResultSetMapper">ResultSetMapper</a>, <a title="org.squeryl.internals.OutMapper[_]" id="87492">mapper</a>: <a href="../../internals/ResultSetMapper.scala.html#12946" title="org.squeryl.internals.OutMapper[_]">OutMapper</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <span class="keyword">val</span> <a title="org.squeryl.dsl.ast.QueryExpressionNode[_]" id="87493">origin</a>: <a href="QueryExpressionNode.scala.html#11772" title="org.squeryl.dsl.ast.QueryExpressionNode[_]">QueryExpressionNode</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>
     <span class="keyword">extends</span> <a href="#11682" title="org.squeryl.dsl.ast.SelectElement">SelectElement</a> <span class="keyword">with</span> <a href="ExpressionNode.scala.html#11571" title="org.squeryl.dsl.ast.UniqueIdInAliaseRequired">UniqueIdInAliaseRequired</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="87467">alias</a> = <span title="java.lang.String(&quot;v&quot;)" class="string">&quot;v&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="ExpressionNode.scala.html#55833" title="=&gt; Option[Int]">uniqueId</a>.<span title="=&gt; Int">get</span>

  <span class="keyword">var</span> <a title="Option[org.squeryl.internals.YieldValuePusher]" id="87469">yieldPusher</a>: <span title="Option[org.squeryl.internals.YieldValuePusher]">Option</span><span class="delimiter">[</span>YieldValuePusher<span class="delimiter">]</span> = <span title="object None">None</span>

  <span class="keyword">def</span> <a title="(index: Int)Unit" id="87471">prepareColumnMapper</a><span class="delimiter">(</span><a title="Int" id="87514">index</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
    <a href="#87469" title="(x$1: Option[org.squeryl.internals.YieldValuePusher])Unit">yieldPusher</a> = <span title="(x: org.squeryl.internals.YieldValuePusher)Some[org.squeryl.internals.YieldValuePusher]">Some</span><span class="delimiter">(</span><span title="org.squeryl.internals.YieldValuePusher" class="keyword">new</span> <a href="../../internals/ResultSetMapper.scala.html#13012" title="org.squeryl.internals.YieldValuePusher">YieldValuePusher</a><span class="delimiter">(</span><a href="#87514" title="Int">index</a>, <a href="#11565" title="org.squeryl.dsl.ast.ValueSelectElement" class="keyword">this</a>, <a href="#87492" title="org.squeryl.internals.OutMapper[_]">mapper</a><span class="delimiter">)</span><span class="delimiter">)</span>  

  <span class="keyword">def</span> <a title="=&gt; String" id="87472">typeOfExpressionToString</a> =
    <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#87469" title="=&gt; Option[org.squeryl.internals.YieldValuePusher]">yieldPusher</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span>
      <span title="java.lang.String(&quot;unknown&quot;)" class="string">&quot;unknown&quot;</span>
    <span class="keyword">else</span>
      <a href="#87469" title="=&gt; Option[org.squeryl.internals.YieldValuePusher]">yieldPusher</a>.<span title="=&gt; org.squeryl.internals.YieldValuePusher">get</span>.<a href="../../internals/ResultSetMapper.scala.html#87508" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#20684" title="=&gt; String">typeOfExpressionToString</a>
  
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(jdbcIndex: Int)Unit" id="87473">prepareMapper</a><span class="delimiter">(</span><a title="Int" id="87535">jdbcIndex</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#87469" title="=&gt; Option[org.squeryl.internals.YieldValuePusher]">yieldPusher</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object None">None</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#87491" title="=&gt; org.squeryl.internals.ResultSetMapper">resultSetMapper</a>.<a href="../../internals/ResultSetMapper.scala.html#34916" title="(yvp: org.squeryl.internals.YieldValuePusher)Unit">addYieldValuePusher</a><span class="delimiter">(</span><a href="#87469" title="=&gt; Option[org.squeryl.internals.YieldValuePusher]">yieldPusher</a>.<span title="=&gt; org.squeryl.internals.YieldValuePusher">get</span><span class="delimiter">)</span>
      <a href="#87491" title="=&gt; org.squeryl.internals.ResultSetMapper">resultSetMapper</a>.<a href="../../internals/ResultSetMapper.scala.html#34912" title="(x$1: Boolean)Unit">isActive</a> = <span title="Boolean(true)" class="keyword">true</span>
      <a href="#20681" title="(x$1: Boolean)Unit">_isActive</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="87474">toString</a> =
    <span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="symbol">'ValueSelectElement</span> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#87490" title="=&gt; org.squeryl.dsl.ast.ExpressionNode">expression</a>.<a href="ExpressionNode.scala.html#20369" title="=&gt; String">writeToString</a>  
<span class="delimiter">}</span>

<span class="comment">/**
 * All nodes that refer to a SelectElement are SelectElementReference,
 * with the exception of SelectElement that refer to an inner or outer query's SelectElement,
 * these are ExportedSelectElement
 */</span>
<span class="keyword">class</span> <a title="class SelectElementReference[A] extends java.lang.Object with org.squeryl.dsl.ast.TypedExpressionNode[A] with ScalaObject" id="11568">SelectElementReference</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="11826">A</a><span class="delimiter">]</span>
  <span class="delimiter">(</span><span class="keyword">val</span> <a title="org.squeryl.dsl.ast.SelectElement" id="32191">selectElement</a>: <a href="#11682" title="org.squeryl.dsl.ast.SelectElement">SelectElement</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <span class="keyword">val</span> <a title="org.squeryl.internals.OutMapper[A]" id="32192">mapper</a>: <a href="../../internals/ResultSetMapper.scala.html#12946" title="org.squeryl.internals.OutMapper[A]">OutMapper</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>
    <span class="keyword">extends</span> <a href="ExpressionNode.scala.html#11664" title="org.squeryl.dsl.ast.TypedExpressionNode[A]">TypedExpressionNode</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="32182">toString</a> =
    <span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="symbol">'SelectElementReference</span> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../../internals/Utils.scala.html#13022" title="object org.squeryl.internals.Utils">Utils</a>.<a href="../../internals/Utils.scala.html#32753" title="(s: =&gt; String)String">failSafeString</a><span class="delimiter">(</span><a href="#32185" title="=&gt; org.squeryl.dsl.ast.SelectElement">delegateAtUseSite</a>.<a href="#20671" title="=&gt; String">alias</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#32191" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#20684" title="=&gt; String">typeOfExpressionToString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="ExpressionNode.scala.html#20366" title="=&gt; java.lang.String">inhibitedFlagForAstDump</a>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="32183">inhibited</a> =
    <a href="#32191" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#20678" title="=&gt; Boolean">inhibited</a>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; org.squeryl.dsl.ast.QueryExpressionNode[_]" id="32184">_useSite</a>: <a href="QueryExpressionNode.scala.html#11772" title="org.squeryl.dsl.ast.QueryExpressionNode[_]">QueryExpressionNode</a><span class="delimiter">[</span>_<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="org.squeryl.dsl.ast.ExpressionNode" id="87592">e</a>: <a href="ExpressionNode.scala.html#11715" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a> = <a href="#11568" title="org.squeryl.dsl.ast.SelectElementReference[A]" class="keyword">this</a>

    <a href="#87593" title="Unit" class="keyword">do</a> <span class="delimiter">{</span>
      <a href="#87592" title="org.squeryl.dsl.ast.ExpressionNode">e</a> = <a href="#87592" title="org.squeryl.dsl.ast.ExpressionNode">e</a>.<a href="ExpressionNode.scala.html#20361" title="=&gt; Option[org.squeryl.dsl.ast.ExpressionNode]">parent</a>.<span title="=&gt; org.squeryl.dsl.ast.ExpressionNode">get</span>
      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#87592" title="org.squeryl.dsl.ast.ExpressionNode">e</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="QueryExpressionNode.scala.html#11772" title="org.squeryl.dsl.ast.QueryExpressionNode[_]">QueryExpressionNode</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">return</span> <a href="#87592" title="org.squeryl.dsl.ast.ExpressionNode">e</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.dsl.ast.QueryExpressionNode[_$7]" class="delimiter">[</span><a href="QueryExpressionNode.scala.html#11772" title="org.squeryl.dsl.ast.QueryExpressionNode[_]">QueryExpressionNode</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span>
    <span class="delimiter">}</span> <span class="keyword">while</span> <span class="delimiter">(</span><a href="#87592" title="org.squeryl.dsl.ast.ExpressionNode">e</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object None">None</span><span class="delimiter">)</span>

    org.squeryl.internals.<a href="../../internals/Utils.scala.html#13022" title="object org.squeryl.internals.Utils">Utils</a>.<a href="../../internals/Utils.scala.html#32775" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;could not determine use site of &quot;)" class="string">&quot;could not determine use site of &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#11568" title="org.squeryl.dsl.ast.SelectElementReference[A]" class="keyword">this</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.squeryl.dsl.ast.SelectElement" id="32186">delegateAtUseSite</a> =
    <span title="org.squeryl.dsl.ast.SelectElement" class="keyword">if</span><span class="delimiter">(</span><a href="#32191" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="ExpressionNode.scala.html#20361" title="=&gt; Option[org.squeryl.dsl.ast.ExpressionNode]">parent</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span>
      <a href="#32191" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.squeryl.dsl.ast.QueryExpressionNode[_]" id="87562">us</a> = <a href="#11568" title="SelectElementReference.this.type" class="keyword">this</a>.<a href="#32184" title="=&gt; org.squeryl.dsl.ast.QueryExpressionNode[_]">_useSite</a>
      <span title="org.squeryl.dsl.ast.SelectElement" class="keyword">if</span><span class="delimiter">(</span><a href="#32191" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#20669" title="=&gt; org.squeryl.dsl.ast.QueryableExpressionNode">parentQueryable</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#87562" title="org.squeryl.dsl.ast.QueryExpressionNode[_]">us</a><span class="delimiter">)</span>
        <a href="#32191" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="org.squeryl.dsl.ast.ExportedSelectElement" id="87576">ese</a> = <span title="org.squeryl.dsl.ast.ExportedSelectElement" class="keyword">new</span> <a href="#11649" title="org.squeryl.dsl.ast.ExportedSelectElement">ExportedSelectElement</a><span class="delimiter">(</span><a href="#11568" title="SelectElementReference.this.type" class="keyword">this</a>.<a href="#32191" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a><span class="delimiter">)</span>
        <a href="#87576" title="org.squeryl.dsl.ast.ExportedSelectElement">ese</a>.<a href="ExpressionNode.scala.html#20362" title="(x$1: Option[org.squeryl.dsl.ast.ExpressionNode])Unit">parent</a> = <span title="(x: org.squeryl.dsl.ast.QueryExpressionNode[_$5])Some[org.squeryl.dsl.ast.QueryExpressionNode[_$5]]">Some</span><span class="delimiter">(</span><a href="#87562" title="org.squeryl.dsl.ast.QueryExpressionNode[_]">us</a><span class="delimiter">)</span>
        <a href="#87576" title="org.squeryl.dsl.ast.ExportedSelectElement">ese</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sw: org.squeryl.internals.StatementWriter)Unit" id="32187">doWrite</a><span class="delimiter">(</span><a title="org.squeryl.internals.StatementWriter" id="87611">sw</a>: <a href="../../internals/StatementWriter.scala.html#12931" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> =
    <a href="#87611" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#87611" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../../internals/StatementWriter.scala.html#40678" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#32185" title="=&gt; org.squeryl.dsl.ast.SelectElement">delegateAtUseSite</a>.<a href="#20671" title="=&gt; String">alias</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * SelectElement that refer to a SelectElement of an inner or outer query
 */</span>
<span class="keyword">class</span> <a title="class ExportedSelectElement extends java.lang.Object with org.squeryl.dsl.ast.SelectElement with ScalaObject" id="11649">ExportedSelectElement</a>
  <span class="delimiter">(</span><span class="keyword">val</span> <a title="org.squeryl.dsl.ast.SelectElement" id="87103">selectElement</a>: <a href="#11682" title="org.squeryl.dsl.ast.SelectElement">SelectElement</a><span class="delimiter">)</span>
    <span class="keyword">extends</span> <a href="#11682" title="org.squeryl.dsl.ast.SelectElement">SelectElement</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="=&gt; org.squeryl.internals.ResultSetMapper" id="87084">resultSetMapper</a> = <a href="#87103" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#20670" title="=&gt; org.squeryl.internals.ResultSetMapper">resultSetMapper</a>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="87085">inhibited</a> =
    <a href="#87103" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#20678" title="=&gt; Boolean">inhibited</a>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(jdbcIndex: Int)Unit" id="87086">prepareMapper</a><span class="delimiter">(</span><a title="Int" id="87640">jdbcIndex</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
    <a href="#87103" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#20677" title="(jdbcIndex: Int)Unit">prepareMapper</a><span class="delimiter">(</span><a href="#87640" title="Int">jdbcIndex</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(index: Int)Unit" id="87087">prepareColumnMapper</a><span class="delimiter">(</span><a title="Int" id="87643">index</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
    <a href="#87103" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#20676" title="(index: Int)Unit">prepareColumnMapper</a><span class="delimiter">(</span><a href="#87643" title="Int">index</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; String" id="87088">typeOfExpressionToString</a> =
    <a href="#87103" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#20684" title="=&gt; String">typeOfExpressionToString</a>

  <span class="keyword">def</span> <a title="=&gt; org.squeryl.dsl.ast.QueryableExpressionNode" id="87089">origin</a> = <a href="#87103" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#20668" title="=&gt; org.squeryl.dsl.ast.QueryableExpressionNode">origin</a>

  <span class="keyword">val</span> <a title="expression extends java.lang.Object with org.squeryl.dsl.ast.ExpressionNode" id="87090">expression</a> = <a href="#87616" title="java.lang.Object with org.squeryl.dsl.ast.ExpressionNode" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with org.squeryl.dsl.ast.ExpressionNode" id="87616">ExpressionNode</a> <span class="delimiter">{</span>

    <span class="keyword">def</span> <a title="(sw: org.squeryl.internals.StatementWriter)Unit" id="87618">doWrite</a><span class="delimiter">(</span><a title="org.squeryl.internals.StatementWriter" id="87619">sw</a>: <a href="../../internals/StatementWriter.scala.html#12931" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> =
    <a href="#87619" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#87619" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../../internals/StatementWriter.scala.html#40678" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#87093" title="=&gt; String">alias</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="87092">toString</a> =
    <span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="symbol">'ExportedSelectElement</span> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#87093" title="=&gt; String">alias</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;,(selectElement=&quot;)" class="string">&quot;,(selectElement=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#87103" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>

  <span class="keyword">def</span> <a title="=&gt; String" id="87093">alias</a>:<span title="String">String</span> =
    <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#87100" title="=&gt; Boolean">isDirectOuterReference</a><span class="delimiter">)</span>
      <a href="#87103" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#20671" title="=&gt; String">alias</a>
    <span class="keyword">else</span>
      <a href="#87096" title="=&gt; org.squeryl.dsl.ast.SelectElement">target</a>.<a href="ExpressionNode.scala.html#20361" title="=&gt; Option[org.squeryl.dsl.ast.ExpressionNode]">parent</a>.<span title="=&gt; org.squeryl.dsl.ast.ExpressionNode">get</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.dsl.ast.QueryableExpressionNode" class="delimiter">[</span><a href="ExpressionNode.scala.html#11499" title="org.squeryl.dsl.ast.QueryableExpressionNode">QueryableExpressionNode</a><span class="delimiter">]</span>.<a href="ExpressionNode.scala.html#65385" title="=&gt; String">alias</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#87096" title="=&gt; org.squeryl.dsl.ast.SelectElement">target</a>.<a href="#20672" title="=&gt; String">aliasSegment</a>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="87094">aliasSegment</a>: <span title="String">String</span> =
    <span class="comment">//target.parent.get.asInstanceOf[QueryableExpressionNode].alias + &quot;_&quot; + target.aliasSegment</span>
    <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#87100" title="=&gt; Boolean">isDirectOuterReference</a><span class="delimiter">)</span>
      <a href="#87103" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#20672" title="=&gt; String">aliasSegment</a>
    <span class="keyword">else</span>
      <a href="../../Session.scala.html#10079" title="object org.squeryl.Session">Session</a>.<a href="../../Session.scala.html#36953" title="=&gt; org.squeryl.Session">currentSession</a>.<a href="../../Session.scala.html#36964" title="=&gt; org.squeryl.internals.DatabaseAdapter">databaseAdapter</a>.<a href="../../internals/DatabaseAdapter.scala.html#37085" title="(parentOfTarget: org.squeryl.dsl.ast.QueryableExpressionNode, target: org.squeryl.dsl.ast.SelectElement)java.lang.String">aliasExport</a><span class="delimiter">(</span>
        <a href="#87096" title="=&gt; org.squeryl.dsl.ast.SelectElement">target</a>.<a href="ExpressionNode.scala.html#20361" title="=&gt; Option[org.squeryl.dsl.ast.ExpressionNode]">parent</a>.<span title="=&gt; org.squeryl.dsl.ast.ExpressionNode">get</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.dsl.ast.QueryableExpressionNode" class="delimiter">[</span><a href="ExpressionNode.scala.html#11499" title="org.squeryl.dsl.ast.QueryableExpressionNode">QueryableExpressionNode</a><span class="delimiter">]</span>, <a href="#87096" title="=&gt; org.squeryl.dsl.ast.SelectElement">target</a><span class="delimiter">)</span>

  <span class="comment">/**
   * A root level query that has nested queries (or refers to queries in an outer scope) will
   * have SelectElements that are ExportedSelectElement, the 'actualSelectElement' points directly
   * to the refered AST node, while 'target' refers to it indirectly (see target)
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; org.squeryl.dsl.ast.SelectElement" id="87095">actualSelectElement</a>: <a href="#11682" title="org.squeryl.dsl.ast.SelectElement">SelectElement</a> =
    <a href="#87103" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#20673" title="=&gt; org.squeryl.dsl.ast.SelectElement">actualSelectElement</a>

  <span class="comment">/**
   * target points to the selectElement that this ExportSelectElement refers to, who can
   * also be an ExportSelectElement, whose target will point to its inner select element,
   * recursively, until it becomes equal to the 'end' target, the actualSelectElement
   * In other words :
   *   exportSelectElement.target.target.,...,.target == exportSelectElement.actualSelectElement
   */</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.squeryl.dsl.ast.SelectElement" id="87097">target</a>: <a href="#11682" title="org.squeryl.dsl.ast.SelectElement">SelectElement</a> = <a href="#87102" title="=&gt; Option[org.squeryl.dsl.ast.SelectElement]">innerTarget</a>.<span title="(default: =&gt; org.squeryl.dsl.ast.SelectElement)org.squeryl.dsl.ast.SelectElement">getOrElse</span><span class="delimiter">(</span>
    <a href="#87101" title="=&gt; Option[org.squeryl.dsl.ast.SelectElement]">outerTarget</a>.<span title="(default: =&gt; org.squeryl.dsl.ast.SelectElement)org.squeryl.dsl.ast.SelectElement">getOrElse</span><span class="delimiter">(</span>org.squeryl.internals.<a href="../../internals/Utils.scala.html#13022" title="object org.squeryl.internals.Utils">Utils</a>.<a href="../../internals/Utils.scala.html#32775" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;could not find the target of : &quot;)" class="string">&quot;could not find the target of : &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#87103" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; List[org.squeryl.dsl.ast.QueryExpressionNode[_]]" id="87098">outerScopes</a>: <span title="List[org.squeryl.dsl.ast.QueryExpressionNode[_]]">List</span><span class="delimiter">[</span>QueryExpressionNode<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#87099" title="(current: org.squeryl.dsl.ast.ExpressionNode, scopes: List[org.squeryl.dsl.ast.QueryExpressionNode[_]])List[org.squeryl.dsl.ast.QueryExpressionNode[_]]">outerScopes0</a><span class="delimiter">(</span><a href="#11649" title="org.squeryl.dsl.ast.ExportedSelectElement" class="keyword">this</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span>

  @tailrec
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(current: org.squeryl.dsl.ast.ExpressionNode, scopes: List[org.squeryl.dsl.ast.QueryExpressionNode[_]])List[org.squeryl.dsl.ast.QueryExpressionNode[_]]" id="87099">outerScopes0</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.ExpressionNode" id="87681">current</a>: <a href="ExpressionNode.scala.html#11715" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a>, <a title="List[org.squeryl.dsl.ast.QueryExpressionNode[_]]" id="87682">scopes</a>: <span title="List[org.squeryl.dsl.ast.QueryExpressionNode[_]]">List</span><span class="delimiter">[</span>QueryExpressionNode<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[org.squeryl.dsl.ast.QueryExpressionNode[_]]">List</span><span class="delimiter">[</span>QueryExpressionNode<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#87681" title="org.squeryl.dsl.ast.ExpressionNode">current</a>.<a href="ExpressionNode.scala.html#20361" title="=&gt; Option[org.squeryl.dsl.ast.ExpressionNode]">parent</a> <span title="List[org.squeryl.dsl.ast.QueryExpressionNode[_]]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[org.squeryl.dsl.ast.QueryExpressionNode[_]]">Some</span><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryExpressionNode[_]" id="87696">s</a>: <a href="QueryExpressionNode.scala.html#11772" title="org.squeryl.dsl.ast.QueryExpressionNode[_]">QueryExpressionNode</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <a href="#87099" title="(current: org.squeryl.dsl.ast.ExpressionNode, scopes: List[org.squeryl.dsl.ast.QueryExpressionNode[_]])List[org.squeryl.dsl.ast.QueryExpressionNode[_]]">outerScopes0</a><span class="delimiter">(</span><a href="#87696" title="org.squeryl.dsl.ast.QueryExpressionNode[_]">s</a>, <a href="#87682" title="List[org.squeryl.dsl.ast.QueryExpressionNode[_]]">scopes</a> <span title="(elem: org.squeryl.dsl.ast.QueryExpressionNode[_])(implicit bf: scala.collection.generic.CanBuildFrom[List[org.squeryl.dsl.ast.QueryExpressionNode[_]],org.squeryl.dsl.ast.QueryExpressionNode[_],List[org.squeryl.dsl.ast.QueryExpressionNode[_]]])List[org.squeryl.dsl.ast.QueryExpressionNode[_]]">:+</span> <a href="#87696" title="org.squeryl.dsl.ast.QueryExpressionNode[_]">s</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="List[org.squeryl.dsl.ast.QueryExpressionNode[_]]">Some</span><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.ExpressionNode" id="87790">n</a><span class="delimiter">)</span> =&gt; <a href="#87099" title="(current: org.squeryl.dsl.ast.ExpressionNode, scopes: List[org.squeryl.dsl.ast.QueryExpressionNode[_]])List[org.squeryl.dsl.ast.QueryExpressionNode[_]]">outerScopes0</a><span class="delimiter">(</span><a href="#87790" title="org.squeryl.dsl.ast.ExpressionNode">n</a>, <a href="#87682" title="List[org.squeryl.dsl.ast.QueryExpressionNode[_]]">scopes</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="List[org.squeryl.dsl.ast.QueryExpressionNode[_]]">None</span> =&gt; <a href="#87682" title="List[org.squeryl.dsl.ast.QueryExpressionNode[_]]">scopes</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="87100">isDirectOuterReference</a>: <span title="Boolean">Boolean</span> = <a href="#87098" title="=&gt; List[org.squeryl.dsl.ast.QueryExpressionNode[_]]">outerScopes</a>.<span title="(p: org.squeryl.dsl.ast.QueryExpressionNode[_] =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryExpressionNode[_]" id="87809">outer</a><span class="delimiter">)</span> =&gt; <a href="#87809" title="org.squeryl.dsl.ast.QueryExpressionNode[_]">outer</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#87103" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#20669" title="=&gt; org.squeryl.dsl.ast.QueryableExpressionNode">parentQueryable</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Option[org.squeryl.dsl.ast.SelectElement]" id="87101">outerTarget</a>: <span title="Option[org.squeryl.dsl.ast.SelectElement]">Option</span><span class="delimiter">[</span>SelectElement<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[org.squeryl.dsl.ast.SelectElement]" id="87814">q</a> =
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryExpressionNode[_]" id="87834">outer</a> &lt;- <a href="#87098" title="(f: org.squeryl.dsl.ast.QueryExpressionNode[_] =&gt; scala.collection.GenTraversableOnce[org.squeryl.dsl.ast.SelectElement])(implicit bf: scala.collection.generic.CanBuildFrom[List[org.squeryl.dsl.ast.QueryExpressionNode[_]],org.squeryl.dsl.ast.SelectElement,List[org.squeryl.dsl.ast.SelectElement]])List[org.squeryl.dsl.ast.SelectElement]">outerScopes</a>;
           <a title="org.squeryl.dsl.ast.QueryableExpressionNode" id="87851">subQuery</a> &lt;- <a href="#87834" title="org.squeryl.dsl.ast.QueryExpressionNode[_]">outer</a>.<a href="QueryExpressionNode.scala.html#73109" title="(f: org.squeryl.dsl.ast.QueryableExpressionNode =&gt; scala.collection.GenTraversableOnce[org.squeryl.dsl.ast.SelectElement])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[org.squeryl.dsl.ast.QueryableExpressionNode],org.squeryl.dsl.ast.SelectElement,Iterable[org.squeryl.dsl.ast.SelectElement]])Iterable[org.squeryl.dsl.ast.SelectElement]">subQueries</a>;
           <a title="org.squeryl.dsl.ast.SelectElement" id="87875">se</a> &lt;- <a href="#87851" title="org.squeryl.dsl.ast.QueryableExpressionNode">subQuery</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.dsl.ast.QueryExpressionElements" class="delimiter">[</span><a href="QueryExpressionElements.scala.html#11562" title="org.squeryl.dsl.ast.QueryExpressionElements">QueryExpressionElements</a><span class="delimiter">]</span>.<a href="QueryExpressionElements.scala.html#64216" title="(f: org.squeryl.dsl.ast.SelectElement =&gt; org.squeryl.dsl.ast.SelectElement)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[org.squeryl.dsl.ast.SelectElement],org.squeryl.dsl.ast.SelectElement,Iterable[org.squeryl.dsl.ast.SelectElement]])Iterable[org.squeryl.dsl.ast.SelectElement]">selectList</a>
             <span class="keyword">if</span> <a href="#87875" title="org.squeryl.dsl.ast.SelectElement">se</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#87103" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a> <span title="(x: Boolean)Boolean">||</span> <a href="#87875" title="org.squeryl.dsl.ast.SelectElement">se</a>.<a href="#20673" title="=&gt; org.squeryl.dsl.ast.SelectElement">actualSelectElement</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#87103" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a><span class="delimiter">)</span>
      <span class="keyword">yield</span> <a href="#87875" title="org.squeryl.dsl.ast.SelectElement">se</a>

    <a href="#87814" title="List[org.squeryl.dsl.ast.SelectElement]">q</a>.<span title="=&gt; Option[org.squeryl.dsl.ast.SelectElement]">headOption</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Option[org.squeryl.dsl.ast.SelectElement]" id="87102">innerTarget</a>: <span title="Option[org.squeryl.dsl.ast.SelectElement]">Option</span><span class="delimiter">[</span>SelectElement<span class="delimiter">]</span> =
    <span title="Option[org.squeryl.dsl.ast.SelectElement]" class="keyword">if</span><span class="delimiter">(</span><a href="ExpressionNode.scala.html#20361" title="=&gt; Option[org.squeryl.dsl.ast.ExpressionNode]">parent</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span>
      <span title="Nothing" class="keyword">return</span> <span title="object None">None</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.squeryl.dsl.ast.QueryExpressionElements" id="87992">parentOfThis</a> = <a href="ExpressionNode.scala.html#20361" title="=&gt; Option[org.squeryl.dsl.ast.ExpressionNode]">parent</a>.<span title="=&gt; org.squeryl.dsl.ast.ExpressionNode">get</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.dsl.ast.QueryExpressionElements" class="delimiter">[</span><a href="QueryExpressionElements.scala.html#11562" title="org.squeryl.dsl.ast.QueryExpressionElements">QueryExpressionElements</a><span class="delimiter">]</span>

      <span title="Option[org.squeryl.dsl.ast.SelectElement]" class="keyword">if</span><span class="delimiter">(</span><a href="#87103" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#20668" title="=&gt; org.squeryl.dsl.ast.QueryableExpressionNode">origin</a>.<a href="ExpressionNode.scala.html#20361" title="=&gt; Option[org.squeryl.dsl.ast.ExpressionNode]">parent</a>.<span title="=&gt; org.squeryl.dsl.ast.ExpressionNode">get</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#87992" title="org.squeryl.dsl.ast.QueryExpressionElements">parentOfThis</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="(x: org.squeryl.dsl.ast.SelectElement)Some[org.squeryl.dsl.ast.SelectElement]">Some</span><span class="delimiter">(</span><a href="#87103" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Iterable[org.squeryl.dsl.ast.SelectElement]" id="88001">q</a> =
          <span class="keyword">for</span><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryableExpressionNode" id="88021">q</a> &lt;- <a href="#87992" title="org.squeryl.dsl.ast.QueryExpressionElements">parentOfThis</a>.<a href="QueryExpressionElements.scala.html#64214" title="(f: org.squeryl.dsl.ast.QueryableExpressionNode =&gt; scala.collection.GenTraversableOnce[org.squeryl.dsl.ast.SelectElement])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[org.squeryl.dsl.ast.QueryableExpressionNode],org.squeryl.dsl.ast.SelectElement,Iterable[org.squeryl.dsl.ast.SelectElement]])Iterable[org.squeryl.dsl.ast.SelectElement]">subQueries</a>;
              <a title="org.squeryl.dsl.ast.SelectElement" id="88043">se</a> &lt;- <a href="#88021" title="org.squeryl.dsl.ast.QueryableExpressionNode">q</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.dsl.ast.QueryExpressionElements" class="delimiter">[</span><a href="QueryExpressionElements.scala.html#11562" title="org.squeryl.dsl.ast.QueryExpressionElements">QueryExpressionElements</a><span class="delimiter">]</span>.<a href="QueryExpressionElements.scala.html#64216" title="(f: org.squeryl.dsl.ast.SelectElement =&gt; org.squeryl.dsl.ast.SelectElement)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[org.squeryl.dsl.ast.SelectElement],org.squeryl.dsl.ast.SelectElement,Iterable[org.squeryl.dsl.ast.SelectElement]])Iterable[org.squeryl.dsl.ast.SelectElement]">selectList</a> <span class="keyword">if</span> <a href="#88043" title="org.squeryl.dsl.ast.SelectElement">se</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#87103" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a> <span title="(x: Boolean)Boolean">||</span> <a href="#88043" title="org.squeryl.dsl.ast.SelectElement">se</a>.<a href="#20673" title="=&gt; org.squeryl.dsl.ast.SelectElement">actualSelectElement</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#87103" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a><span class="delimiter">)</span>
          <span class="keyword">yield</span> <a href="#88043" title="org.squeryl.dsl.ast.SelectElement">se</a>

        <a href="#88001" title="Iterable[org.squeryl.dsl.ast.SelectElement]">q</a>.<span title="=&gt; Option[org.squeryl.dsl.ast.SelectElement]">headOption</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>