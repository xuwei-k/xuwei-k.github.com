<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>org/squeryl/dsl/ast/QueryExpressionNode.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*******************************************************************************
 * Copyright 2010 Maxime LÃ©vesque
 * 
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *   http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ***************************************************************************** */</span>
<span class="keyword">package</span> org.squeryl.dsl.ast

<span class="keyword">import</span> org.squeryl.internals._
<span class="keyword">import</span> org.squeryl.dsl.<span class="delimiter">{</span>QueryYield, AbstractQuery<span class="delimiter">}</span>
<span class="keyword">import</span> scala.collection.mutable.ListBuffer

<span class="keyword">class</span> <a title="class QueryExpressionNode[R] extends java.lang.Object with org.squeryl.dsl.ast.QueryExpressionElements with org.squeryl.dsl.ast.QueryableExpressionNode with ScalaObject" id="11772">QueryExpressionNode</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="11817">R</a><span class="delimiter">]</span><a href="#11772" title="ScalaObject" class="delimiter">(</a><a title="org.squeryl.dsl.AbstractQuery[R]" id="73155">_query</a>: <a href="../AbstractQuery.scala.html#10928" title="org.squeryl.dsl.AbstractQuery[R]">AbstractQuery</a><span class="delimiter">[</span>R<span class="delimiter">]</span>,
                             <a title="org.squeryl.dsl.QueryYield[R]" id="73156">_queryYield</a>:<a href="../QueryYield.scala.html#11072" title="org.squeryl.dsl.QueryYield[R]">QueryYield</a><span class="delimiter">[</span>R<span class="delimiter">]</span>,
                             <span class="keyword">val</span> <a title="Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]" id="73157">subQueries</a>: <span title="Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]">Iterable</span><span class="delimiter">[</span>QueryableExpressionNode<span class="delimiter">]</span>,
                             <span class="keyword">val</span> <a title="Iterable[org.squeryl.dsl.ast.ViewExpressionNode[_]]" id="73158">views</a>: <span title="Iterable[org.squeryl.dsl.ast.ViewExpressionNode[_]]">Iterable</span><span class="delimiter">[</span>ViewExpressionNode<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="QueryExpressionElements.scala.html#11562" title="org.squeryl.dsl.ast.QueryExpressionElements">QueryExpressionElements</a>
    <span class="keyword">with</span> <a href="ExpressionNode.scala.html#11499" title="org.squeryl.dsl.ast.QueryableExpressionNode">QueryableExpressionNode</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="=&gt; Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]" id="73114">tableExpressions</a>: <span title="Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]">Iterable</span><span class="delimiter">[</span>QueryableExpressionNode<span class="delimiter">]</span> = 
    <span title="(xs: Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]*)List[Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]]">List</span><span class="delimiter">(</span><a href="#73158" title="=&gt; Iterable[org.squeryl.dsl.ast.ViewExpressionNode[_]]">views</a>.<span title="(p: org.squeryl.dsl.ast.ViewExpressionNode[_] =&gt; Boolean)Iterable[org.squeryl.dsl.ast.ViewExpressionNode[_]]">filter</span><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.ViewExpressionNode[_]" id="86110">v</a> =&gt; <span title="=&gt; Boolean">!</span> <a href="#86110" title="org.squeryl.dsl.ast.ViewExpressionNode[_]">v</a>.<a href="ExpressionNode.scala.html#65367" title="=&gt; Boolean">inhibited</a><span class="delimiter">)</span>,
         <a href="#73157" title="=&gt; Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]">subQueries</a>.<span title="(p: org.squeryl.dsl.ast.QueryableExpressionNode =&gt; Boolean)Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]">filter</span><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryableExpressionNode" id="86114">v</a> =&gt; <span title="=&gt; Boolean">!</span> <a href="#86114" title="org.squeryl.dsl.ast.QueryableExpressionNode">v</a>.<a href="ExpressionNode.scala.html#65367" title="=&gt; Boolean">inhibited</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(implicit asTraversable: Iterable[org.squeryl.dsl.ast.QueryableExpressionNode] =&gt; scala.collection.TraversableOnce[org.squeryl.dsl.ast.QueryableExpressionNode])List[org.squeryl.dsl.ast.QueryableExpressionNode]">flatten</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="73115">isJoinForm</a> = <a href="#73156" title="org.squeryl.dsl.QueryYield[R]">_queryYield</a>.<a href="../QueryYield.scala.html#22758" title="=&gt; Seq[() =&gt; org.squeryl.dsl.ast.LogicalBoolean]">joinExpressions</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object Nil">Nil</span>

  <span class="keyword">val</span> <a href="#73117" title="(Option[org.squeryl.dsl.ast.ExpressionNode], Option[org.squeryl.dsl.ast.ExpressionNode], Iterable[org.squeryl.dsl.ast.ExpressionNode], Iterable[org.squeryl.dsl.ast.ExpressionNode])" class="delimiter">(</a><a href="#73116" title="Option[org.squeryl.dsl.ast.ExpressionNode]" id="73117">whereClause</a>, <a href="#73116" title="Option[org.squeryl.dsl.ast.ExpressionNode]" id="73119">havingClause</a>, <a href="#73116" title="Iterable[org.squeryl.dsl.ast.ExpressionNode]" id="73121">groupByClause</a>, <a href="#73116" title="Iterable[org.squeryl.dsl.ast.ExpressionNode]" id="73123">orderByClause</a><span class="delimiter">)</span> =
     <a href="#73156" title="org.squeryl.dsl.QueryYield[R]">_queryYield</a>.<a href="../QueryYield.scala.html#22757" title="=&gt; (Option[org.squeryl.dsl.ast.ExpressionNode], Option[org.squeryl.dsl.ast.ExpressionNode], Iterable[org.squeryl.dsl.ast.ExpressionNode], Iterable[org.squeryl.dsl.ast.ExpressionNode])">queryElements</a>

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Iterable[org.squeryl.dsl.ast.SelectElement]" id="73126">_selectList</a>: <span title="Iterable[org.squeryl.dsl.ast.SelectElement]">Iterable</span><span class="delimiter">[</span>SelectElement<span class="delimiter">]</span> = <span title="=&gt; collection.Iterable.type">Iterable</span>.<span title="Iterable[Nothing]">empty</span>

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Option[AnyRef]" id="73129">_sample</a>: <span title="Option[AnyRef]">Option</span><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span> = <span title="object None">None</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(o: AnyRef)Boolean" id="73131">_isPrimitiveType</a><span class="delimiter">(</span><a title="AnyRef" id="86166">o</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> =
    <a href="../../internals/FieldMetaData.scala.html#12578" title="object org.squeryl.internals.FieldMetaData">FieldMetaData</a>.<a href="../../internals/FieldMetaData.scala.html#45514" title="=&gt; java.lang.Object with org.squeryl.internals.FieldTypeHandler[Boolean]">_isSupportedFieldType</a>.<a href="../../internals/FieldTypeHandler.scala.html#62916" title="(t: Class[_], fmd: Option[org.squeryl.internals.FieldMetaData])Boolean">handleType</a><span class="delimiter">(</span><a href="#86166" title="AnyRef">o</a>.<span title="()java.lang.Class[_]">getClass</span>, <span title="object None">None</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="73132">isUseableAsSubquery</a>: <span title="Boolean">Boolean</span> =
    <a href="#73129" title="=&gt; Option[AnyRef]">_sample</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Nothing">None</span> =&gt; org.squeryl.internals.<a href="../../internals/Utils.scala.html#13022" title="object org.squeryl.internals.Utils">Utils</a>.<a href="../../internals/Utils.scala.html#32775" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;method cannot be called before initialization&quot;)" class="string">&quot;method cannot be called before initialization&quot;</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">Some</span><span class="delimiter">(</span><a title="Product" id="86326">p</a>:<span title="Product">Product</span><span class="delimiter">)</span> =&gt;
        <span title="Boolean" class="keyword">if</span><span class="delimiter">(</span><a href="#86326" title="Product">p</a>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.String">getName</span>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;scala.Tuple&quot;)" class="string">&quot;scala.Tuple&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="scala.collection.immutable.IndexedSeq[Any]" id="86331">z</a> = <span class="delimiter">(</span><span class="keyword">for</span><span class="delimiter">(</span><a title="Int" id="86468">i</a> &lt;- <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(f: Int =&gt; Any)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[Int],Any,scala.collection.immutable.IndexedSeq[Any]])scala.collection.immutable.IndexedSeq[Any]">to</span> <span class="delimiter">(</span><a href="#86326" title="Product">p</a>.<span title="=&gt; Int">productArity</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#86326" title="Product">p</a>.<span title="(n: Int)Any">productElement</span><span class="delimiter">(</span><a href="#86468" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="=&gt; Boolean">!</span> <a href="#86331" title="scala.collection.immutable.IndexedSeq[Any]">z</a>.<span title="(p: Any =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a title="Any" id="86508">o</a> =&gt; <a href="#73131" title="(o: AnyRef)Boolean">_isPrimitiveType</a><span class="delimiter">(</span><a href="#86508" title="Any">o</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span>
          <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">case</span> <span title="Boolean">Some</span><span class="delimiter">(</span><a title="java.lang.Object" id="86510">a</a>:<span title="AnyRef">AnyRef</span><span class="delimiter">)</span> =&gt; <span title="=&gt; Boolean">!</span> <a href="#73131" title="(o: AnyRef)Boolean">_isPrimitiveType</a><span class="delimiter">(</span><a href="#86510" title="java.lang.Object">a</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>


  <span class="keyword">def</span> <a title="=&gt; AnyRef" id="73133">sample</a>:<span title="AnyRef">AnyRef</span> = <a href="#73129" title="=&gt; Option[AnyRef]">_sample</a>.<span title="=&gt; AnyRef">get</span>

  <span class="keyword">def</span> <a title="(aSample: AnyRef)Boolean" id="73134">owns</a><span class="delimiter">(</span><a title="AnyRef" id="86511">aSample</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> = 
    <a href="#73129" title="=&gt; Option[AnyRef]">_sample</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object None">None</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#73129" title="=&gt; Option[AnyRef]">_sample</a>.<span title="=&gt; AnyRef">get</span>.<span title="(x$1: AnyRef)Boolean">eq</span><span class="delimiter">(</span><a href="#86511" title="AnyRef">aSample</a><span class="delimiter">)</span>
  
  <span class="keyword">def</span> <a title="(fmd: org.squeryl.internals.FieldMetaData, forScope: org.squeryl.dsl.ast.QueryExpressionElements)Nothing" id="73135">getOrCreateSelectElement</a><span class="delimiter">(</span><a title="org.squeryl.internals.FieldMetaData" id="86519">fmd</a>: <a href="../../internals/FieldMetaData.scala.html#12577" title="org.squeryl.internals.FieldMetaData">FieldMetaData</a>, <a title="org.squeryl.dsl.ast.QueryExpressionElements" id="86520">forScope</a>: <a href="QueryExpressionElements.scala.html#11562" title="org.squeryl.dsl.ast.QueryExpressionElements">QueryExpressionElements</a><span class="delimiter">)</span> = org.squeryl.internals.<a href="../../internals/Utils.scala.html#13022" title="object org.squeryl.internals.Utils">Utils</a>.<a href="../../internals/Utils.scala.html#32775" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;implement me&quot;)" class="string">&quot;implement me&quot;</span><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="73136">toString</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.lang.StringBuffer" id="86526">sb</a> = <span title="java.lang.StringBuffer" class="keyword">new</span> <span title="java.lang.StringBuffer">StringBuffer</span>
    <a href="#86526" title="java.lang.StringBuffer">sb</a>.<span title="(x$1: java.lang.String)java.lang.StringBuffer">append</span><span class="delimiter">(</span><span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="symbol">'QueryExpressionNode</span> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span><span class="delimiter">)</span>
    <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="#73155" title="org.squeryl.dsl.AbstractQuery[R]">_query</a>.<a href="../AbstractQuery.scala.html#72920" title="=&gt; Boolean">isRoot</a><span class="delimiter">)</span>
      <a href="#86526" title="java.lang.StringBuffer">sb</a>.<span title="(x$1: java.lang.String)java.lang.StringBuffer">append</span><span class="delimiter">(</span><span title="java.lang.String(&quot;root:&quot;)" class="string">&quot;root:&quot;</span><span class="delimiter">)</span>
    <a href="#86526" title="java.lang.StringBuffer">sb</a>.<span title="(x$1: java.lang.String)java.lang.StringBuffer">append</span><span class="delimiter">(</span><a href="ExpressionNode.scala.html#20364" title="=&gt; java.lang.String">id</a><span class="delimiter">)</span>
    <a href="#86526" title="java.lang.StringBuffer">sb</a>.<span title="(x$1: java.lang.String)java.lang.StringBuffer">append</span><span class="delimiter">(</span><span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span>
    <a href="#86526" title="java.lang.StringBuffer">sb</a>.<span title="(x$1: java.lang.String)java.lang.StringBuffer">append</span><span class="delimiter">(</span><span title="java.lang.String(&quot;:rsm=&quot;)" class="string">&quot;:rsm=&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#73155" title="org.squeryl.dsl.AbstractQuery[R]">_query</a>.<a href="../AbstractQuery.scala.html#72932" title="=&gt; org.squeryl.internals.ResultSetMapper">resultSetMapper</a><span class="delimiter">)</span>
    <a href="#86526" title="java.lang.StringBuffer">sb</a>.<span title="()java.lang.String">toString</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[org.squeryl.dsl.ast.ExpressionNode]" id="73137">children</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[org.squeryl.dsl.ast.ExpressionNode]" id="86562">lb</a> = <span title="[A](elems: A*)scala.collection.mutable.ListBuffer[A]">ListBuffer</span><span title="(elems: org.squeryl.dsl.ast.ExpressionNode*)scala.collection.mutable.ListBuffer[org.squeryl.dsl.ast.ExpressionNode]" class="delimiter">[</span><a href="ExpressionNode.scala.html#11715" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>;
    <a href="#86562" title="scala.collection.mutable.ListBuffer[org.squeryl.dsl.ast.ExpressionNode]">lb</a> <span title="(xs: scala.collection.TraversableOnce[org.squeryl.dsl.ast.ExpressionNode])lb.type">++=</span> <a href="#73145" title="=&gt; Iterable[org.squeryl.dsl.ast.SelectElement]">selectList</a>
    <a href="#86562" title="scala.collection.mutable.ListBuffer[org.squeryl.dsl.ast.ExpressionNode]">lb</a> <span title="(xs: scala.collection.TraversableOnce[org.squeryl.dsl.ast.ExpressionNode])lb.type">++=</span> <a href="#73158" title="=&gt; Iterable[org.squeryl.dsl.ast.ViewExpressionNode[_]]">views</a>
    <a href="#86562" title="scala.collection.mutable.ListBuffer[org.squeryl.dsl.ast.ExpressionNode]">lb</a> <span title="(xs: scala.collection.TraversableOnce[org.squeryl.dsl.ast.ExpressionNode])lb.type">++=</span> <a href="#73157" title="=&gt; Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]">subQueries</a>
    <a href="#86562" title="scala.collection.mutable.ListBuffer[org.squeryl.dsl.ast.ExpressionNode]">lb</a> <span title="(xs: scala.collection.TraversableOnce[org.squeryl.dsl.ast.ExpressionNode])lb.type">++=</span> <a href="#73114" title="=&gt; Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]">tableExpressions</a>.<span title="(p: org.squeryl.dsl.ast.QueryableExpressionNode =&gt; Boolean)Iterable[org.squeryl.dsl.ast.QueryableExpressionNode]">filter</span><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryableExpressionNode" id="86903">e</a>=&gt; <a href="#86903" title="org.squeryl.dsl.ast.QueryableExpressionNode">e</a>.<a href="ExpressionNode.scala.html#65374" title="=&gt; Option[org.squeryl.dsl.ast.LogicalBoolean]">joinExpression</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object None">None</span><span class="delimiter">)</span>.<span title="(f: org.squeryl.dsl.ast.QueryableExpressionNode =&gt; org.squeryl.dsl.ast.LogicalBoolean)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[org.squeryl.dsl.ast.QueryableExpressionNode],org.squeryl.dsl.ast.LogicalBoolean,scala.collection.TraversableOnce[org.squeryl.dsl.ast.ExpressionNode]])scala.collection.TraversableOnce[org.squeryl.dsl.ast.ExpressionNode]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,org.squeryl.dsl.ast.LogicalBoolean,Iterable[org.squeryl.dsl.ast.LogicalBoolean]]" class="delimiter">(</span><a href="#86928" title="org.squeryl.dsl.ast.QueryableExpressionNode">_</a>.<a href="ExpressionNode.scala.html#65374" title="=&gt; Option[org.squeryl.dsl.ast.LogicalBoolean]">joinExpression</a>.<span title="=&gt; org.squeryl.dsl.ast.LogicalBoolean">get</span><span class="delimiter">)</span>  
    <a href="#86562" title="scala.collection.mutable.ListBuffer[org.squeryl.dsl.ast.ExpressionNode]">lb</a> <span title="(xs: scala.collection.TraversableOnce[org.squeryl.dsl.ast.ExpressionNode])lb.type">++=</span> <a href="#73117" title="(xo: Option[org.squeryl.dsl.ast.ExpressionNode])Iterable[org.squeryl.dsl.ast.ExpressionNode]">whereClause</a>
    <a href="#86562" title="scala.collection.mutable.ListBuffer[org.squeryl.dsl.ast.ExpressionNode]">lb</a> <span title="(xs: scala.collection.TraversableOnce[org.squeryl.dsl.ast.ExpressionNode])lb.type">++=</span> <a href="#73121" title="=&gt; Iterable[org.squeryl.dsl.ast.ExpressionNode]">groupByClause</a>
    <a href="#86562" title="scala.collection.mutable.ListBuffer[org.squeryl.dsl.ast.ExpressionNode]">lb</a> <span title="(xs: scala.collection.TraversableOnce[org.squeryl.dsl.ast.ExpressionNode])lb.type">++=</span> <a href="#73119" title="(xo: Option[org.squeryl.dsl.ast.ExpressionNode])Iterable[org.squeryl.dsl.ast.ExpressionNode]">havingClause</a>
    <a href="#86562" title="scala.collection.mutable.ListBuffer[org.squeryl.dsl.ast.ExpressionNode]">lb</a> <span title="(xs: scala.collection.TraversableOnce[org.squeryl.dsl.ast.ExpressionNode])lb.type">++=</span> <a href="#73123" title="=&gt; Iterable[org.squeryl.dsl.ast.ExpressionNode]">orderByClause</a>      
    <a href="#86562" title="scala.collection.mutable.ListBuffer[org.squeryl.dsl.ast.ExpressionNode]">lb</a>.<span title="=&gt; List[org.squeryl.dsl.ast.ExpressionNode]">toList</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(q: org.squeryl.dsl.ast.QueryableExpressionNode)Boolean" id="73138">isChild</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryableExpressionNode" id="87027">q</a>: <a href="ExpressionNode.scala.html#11499" title="org.squeryl.dsl.ast.QueryableExpressionNode">QueryableExpressionNode</a><span class="delimiter">)</span>:<span title="Boolean">Boolean</span> =
    <a href="#73158" title="=&gt; Iterable[org.squeryl.dsl.ast.ViewExpressionNode[_]]">views</a>.<span title="(p: org.squeryl.dsl.ast.ViewExpressionNode[_] =&gt; Boolean)Option[org.squeryl.dsl.ast.ViewExpressionNode[_]]">find</span><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.ViewExpressionNode[_]" id="87034">n</a> =&gt; <a href="#87034" title="org.squeryl.dsl.ast.ViewExpressionNode[_]">n</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#87027" title="org.squeryl.dsl.ast.QueryableExpressionNode">q</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object None">None</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="73139">selectDistinct</a> = <a href="#73155" title="org.squeryl.dsl.AbstractQuery[R]">_query</a>.<a href="../AbstractQuery.scala.html#72923" title="=&gt; Boolean">selectDistinct</a>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="73140">isForUpdate</a> = <a href="#73155" title="org.squeryl.dsl.AbstractQuery[R]">_query</a>.<a href="../AbstractQuery.scala.html#72926" title="=&gt; Boolean">isForUpdate</a>

  <span class="keyword">def</span> <a title="=&gt; Option[(Int, Int)]" id="73141">page</a> = <a href="#73155" title="org.squeryl.dsl.AbstractQuery[R]">_query</a>.<a href="../AbstractQuery.scala.html#72929" title="=&gt; Option[(Int, Int)]">page</a>

  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="73142">alias</a> = <span title="java.lang.String(&quot;q&quot;)" class="string">&quot;q&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="ExpressionNode.scala.html#55833" title="=&gt; Option[Int]">uniqueId</a>.<span title="=&gt; Int">get</span>

  <span class="keyword">def</span> <a title="(forScope: org.squeryl.dsl.ast.QueryExpressionElements)Iterable[org.squeryl.dsl.ast.SelectElement]" id="73143">getOrCreateAllSelectElements</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryExpressionElements" id="87058">forScope</a>: <a href="QueryExpressionElements.scala.html#11562" title="org.squeryl.dsl.ast.QueryExpressionElements">QueryExpressionElements</a><span class="delimiter">)</span>: <span title="Iterable[org.squeryl.dsl.ast.SelectElement]">Iterable</span><span class="delimiter">[</span>SelectElement<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#73126" title="=&gt; Iterable[org.squeryl.dsl.ast.SelectElement]">_selectList</a>.<span title="(f: org.squeryl.dsl.ast.SelectElement =&gt; org.squeryl.dsl.ast.ExportedSelectElement)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[org.squeryl.dsl.ast.SelectElement],org.squeryl.dsl.ast.ExportedSelectElement,Iterable[org.squeryl.dsl.ast.SelectElement]])Iterable[org.squeryl.dsl.ast.SelectElement]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,org.squeryl.dsl.ast.ExportedSelectElement,Iterable[org.squeryl.dsl.ast.ExportedSelectElement]]" class="delimiter">(</span><a title="org.squeryl.dsl.ast.SelectElement" id="87079">se</a> =&gt; <span title="org.squeryl.dsl.ast.ExportedSelectElement" class="keyword">new</span> <a href="SelectElement.scala.html#11649" title="org.squeryl.dsl.ast.ExportedSelectElement">ExportedSelectElement</a><span class="delimiter">(</span><a href="#87079" title="org.squeryl.dsl.ast.SelectElement">se</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(sl: Iterable[org.squeryl.dsl.ast.SelectElement], s: AnyRef)Unit" id="73144">setOutExpressionNodesAndSample</a><span class="delimiter">(</span><a title="Iterable[org.squeryl.dsl.ast.SelectElement]" id="73189">sl</a>: <span title="Iterable[org.squeryl.dsl.ast.SelectElement]">Iterable</span><span class="delimiter">[</span>SelectElement<span class="delimiter">]</span>, <a title="AnyRef" id="73190">s</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#73126" title="(x$1: Iterable[org.squeryl.dsl.ast.SelectElement])Unit">_selectList</a> = <a href="#73189" title="Iterable[org.squeryl.dsl.ast.SelectElement]">sl</a>
    <a href="#73129" title="(x$1: Option[AnyRef])Unit">_sample</a> = <span title="(x: AnyRef)Some[AnyRef]">Some</span><span class="delimiter">(</span><a href="#73190" title="AnyRef">s</a><span class="delimiter">)</span>

    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#73155" title="org.squeryl.dsl.AbstractQuery[R]">_query</a>.<a href="../AbstractQuery.scala.html#72920" title="=&gt; Boolean">isRoot</a><span class="delimiter">)</span> <span class="delimiter">{</span>

      <span class="keyword">var</span> <a title="Int" id="73198">jdbcIndex</a> = <span title="Int(1)" class="int">1</span>
      <span class="keyword">for</span><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.SelectElement" id="73224">oen</a> &lt;- <a href="#73145" title="(f: org.squeryl.dsl.ast.SelectElement =&gt; Unit)Unit">selectList</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#73224" title="org.squeryl.dsl.ast.SelectElement">oen</a>.<a href="SelectElement.scala.html#20677" title="(jdbcIndex: Int)Unit">prepareMapper</a><span class="delimiter">(</span><a href="#73198" title="Int">jdbcIndex</a><span class="delimiter">)</span>
        <a href="#73198" title="Int">jdbcIndex</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>

      <span class="keyword">var</span> <a title="Int" id="73199">idGen</a> = <span title="Int(0)" class="int">0</span>
      <a href="ExpressionNode.scala.html#20378" title="(visitor: (org.squeryl.dsl.ast.ExpressionNode, Option[org.squeryl.dsl.ast.ExpressionNode], Int) =&gt; Unit)Unit">visitDescendants</a><span class="delimiter">(</span><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.ExpressionNode" id="73234">node</a>,<a title="Option[org.squeryl.dsl.ast.ExpressionNode]" id="73235">parent</a>,<a title="Int" id="73236">i</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
        <a href="#73234" title="org.squeryl.dsl.ast.ExpressionNode">node</a>.<a href="ExpressionNode.scala.html#20362" title="(x$1: Option[org.squeryl.dsl.ast.ExpressionNode])Unit">parent</a> = <a href="#73235" title="Option[org.squeryl.dsl.ast.ExpressionNode]">parent</a>

        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#73234" title="org.squeryl.dsl.ast.ExpressionNode">node</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="ExpressionNode.scala.html#11571" title="org.squeryl.dsl.ast.UniqueIdInAliaseRequired">UniqueIdInAliaseRequired</a><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="org.squeryl.dsl.ast.UniqueIdInAliaseRequired" id="73237">nxn</a> = <a href="#73234" title="org.squeryl.dsl.ast.ExpressionNode">node</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.dsl.ast.UniqueIdInAliaseRequired" class="delimiter">[</span><a href="ExpressionNode.scala.html#11571" title="org.squeryl.dsl.ast.UniqueIdInAliaseRequired">UniqueIdInAliaseRequired</a><span class="delimiter">]</span>
          <a href="#73237" title="org.squeryl.dsl.ast.UniqueIdInAliaseRequired">nxn</a>.<a href="ExpressionNode.scala.html#55834" title="(x$1: Option[Int])Unit">uniqueId</a> = <span title="(x: Int)Some[Int]">Some</span><span class="delimiter">(</span><a href="#73199" title="Int">idGen</a><span class="delimiter">)</span>
          <a href="#73199" title="Int">idGen</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; Iterable[org.squeryl.dsl.ast.SelectElement]" id="73145">selectList</a>: <span title="Iterable[org.squeryl.dsl.ast.SelectElement]">Iterable</span><span class="delimiter">[</span>SelectElement<span class="delimiter">]</span> = <a href="#73126" title="=&gt; Iterable[org.squeryl.dsl.ast.SelectElement]">_selectList</a>

  <span class="keyword">def</span> <a title="(sw: org.squeryl.internals.StatementWriter)Unit" id="73146">doWrite</a><span class="delimiter">(</span><a title="org.squeryl.internals.StatementWriter" id="87120">sw</a>: <a href="../../internals/StatementWriter.scala.html#12931" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Boolean" id="87123">isNotRoot</a> = <a href="ExpressionNode.scala.html#20361" title="=&gt; Option[org.squeryl.dsl.ast.ExpressionNode]">parent</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object None">None</span>

    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#87123" title="Boolean">isNotRoot</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#87120" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span><span class="delimiter">)</span>
      <a href="#87120" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../../internals/StatementWriter.scala.html#40658" title="(width: Int)Unit">indent</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#87120" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../../internals/StatementWriter.scala.html#40638" title="=&gt; org.squeryl.internals.DatabaseAdapter">databaseAdapter</a>.<a href="../../internals/DatabaseAdapter.scala.html#36997" title="(qen: org.squeryl.dsl.ast.QueryExpressionElements, sw: org.squeryl.internals.StatementWriter)Unit">writeQuery</a><span class="delimiter">(</span><a href="#11772" title="org.squeryl.dsl.ast.QueryExpressionNode[R]" class="keyword">this</a>, <a href="#87120" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#87123" title="Boolean">isNotRoot</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#87120" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../../internals/StatementWriter.scala.html#40659" title="(width: Int)Unit">unindent</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      <a href="#87120" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;) &quot;)" class="string">&quot;) &quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>