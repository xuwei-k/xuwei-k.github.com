<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>org/squeryl/adapters/DB2Adapter.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*******************************************************************************
 * Copyright 2010 Maxime LÃ©vesque
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ***************************************************************************** */</span>
<span class="keyword">package</span> org.squeryl.adapters

<span class="keyword">import</span> org.squeryl.internals.<span class="delimiter">{</span>StatementWriter, DatabaseAdapter<span class="delimiter">}</span>
<span class="keyword">import</span> org.squeryl.<span class="delimiter">{</span>Session, Table<span class="delimiter">}</span>
<span class="keyword">import</span> java.sql.SQLException
<span class="keyword">import</span> org.squeryl.dsl.ast._

<span class="keyword">class</span> <a title="class DB2Adapter extends java.lang.Object with org.squeryl.internals.DatabaseAdapter with ScalaObject" id="10375">DB2Adapter</a> <a href="#10375" title="ScalaObject" class="keyword">extends</a> <a href="../internals/DatabaseAdapter.scala.html#12499" title="org.squeryl.internals.DatabaseAdapter">DatabaseAdapter</a> <span class="delimiter">{</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="67837">booleanTypeDeclaration</a> = <span title="java.lang.String(&quot;char(1)&quot;)" class="string">&quot;char(1)&quot;</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="67838">timestampTypeDeclaration</a> = <span title="java.lang.String(&quot;timestamp&quot;)" class="string">&quot;timestamp&quot;</span>

  <span class="comment">// This defaults to 1M in size.</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="67839">binaryTypeDeclaration</a> = <span title="java.lang.String(&quot;blob&quot;)" class="string">&quot;blob&quot;</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="67840">supportsAutoIncrementInColumnDeclaration</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(t: org.squeryl.Table[_], printSinkWhenWriteOnlyMode: Option[String =&gt; Unit])Unit" id="67841">postCreateTable</a><span class="delimiter">(</span><a title="org.squeryl.Table[_]" id="67875">t</a>: <a href="../Table.scala.html#10243" title="org.squeryl.Table[_]">Table</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="Option[String =&gt; Unit]" id="67876">printSinkWhenWriteOnlyMode</a>: <span title="Option[String =&gt; Unit]">Option</span><span class="delimiter">[</span>String =&gt; Unit<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="org.squeryl.internals.StatementWriter" id="67881">sw</a> = <span title="org.squeryl.internals.StatementWriter" class="keyword">new</span> <a href="../internals/StatementWriter.scala.html#12931" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <a href="#10375" title="org.squeryl.adapters.DB2Adapter" class="keyword">this</a><span class="delimiter">)</span>
    <a href="#67881" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;create sequence &quot;)" class="string">&quot;create sequence &quot;</span>, <a href="#67843" title="(t: org.squeryl.Table[_])java.lang.String">sequenceName</a><span class="delimiter">(</span><a href="#67875" title="org.squeryl.Table[_]">t</a><span class="delimiter">)</span>, <span title="java.lang.String(&quot; start with 1 increment by 1 nomaxvalue&quot;)" class="string">&quot; start with 1 increment by 1 nomaxvalue&quot;</span><span class="delimiter">)</span>

    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#67876" title="Option[String =&gt; Unit]">printSinkWhenWriteOnlyMode</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.sql.Statement" id="67897">st</a> = <a href="../Session.scala.html#10079" title="object org.squeryl.Session">Session</a>.<a href="../Session.scala.html#36953" title="=&gt; org.squeryl.Session">currentSession</a>.<a href="../Session.scala.html#36962" title="=&gt; java.sql.Connection">connection</a>.<span title="()java.sql.Statement">createStatement</span>
      <a href="#67897" title="java.sql.Statement">st</a>.<span title="(x$1: java.lang.String)Boolean">execute</span><span title="Unit" class="delimiter">(</span><a href="#67881" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40650" title="=&gt; java.lang.String">statement</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">else</span>
      <a href="#67876" title="Option[String =&gt; Unit]">printSinkWhenWriteOnlyMode</a>.<span title="=&gt; String =&gt; Unit">get</span>.<span title="(v1: String)Unit">apply</span><span class="delimiter">(</span><a href="#67881" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40650" title="=&gt; java.lang.String">statement</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;;&quot;)" class="string">&quot;;&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(t: org.squeryl.Table[_])Unit" id="67842">postDropTable</a><span class="delimiter">(</span><a title="org.squeryl.Table[_]" id="67904">t</a>: <a href="../Table.scala.html#10243" title="org.squeryl.Table[_]">Table</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="../internals/DatabaseAdapter.scala.html#37030" title="(sw: org.squeryl.internals.StatementWriter, silenceException: java.sql.SQLException =&gt; Boolean)Unit">execFailSafeExecute</a><span class="delimiter">(</span><span title="java.lang.String(&quot;drop sequence &quot;)" class="string">&quot;drop sequence &quot;</span> <a href="../internals/DatabaseAdapter.scala.html#37031" title="implicit org.squeryl.internals.DatabaseAdapter.string2StatementWriter : (s: String)org.squeryl.internals.StatementWriter">+</a> <a href="#67843" title="(t: org.squeryl.Table[_])java.lang.String">sequenceName</a><span class="delimiter">(</span><a href="#67904" title="org.squeryl.Table[_]">t</a><span class="delimiter">)</span>, <a title="java.sql.SQLException" id="67912">e</a> =&gt; <a href="#67912" title="java.sql.SQLException">e</a>.<span title="()Int">getErrorCode</span> <span title="(x: Int)Boolean">==</span> -<span title="Int(-204)" class="int">204</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(t: org.squeryl.Table[_])java.lang.String" id="67843">sequenceName</a><span class="delimiter">(</span><a title="org.squeryl.Table[_]" id="67886">t</a>: <a href="../Table.scala.html#10243" title="org.squeryl.Table[_]">Table</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#67886" title="org.squeryl.Table[_]">t</a>.<a href="../View.scala.html#22726" title="(s: String)java.lang.String">prefixedPrefixedName</a><span class="delimiter">(</span><span title="java.lang.String(&quot;s_&quot;)" class="string">&quot;s_&quot;</span><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="[T](o: T, t: org.squeryl.Table[T], sw: org.squeryl.internals.StatementWriter)Unit" id="67844">writeInsert</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="67846">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="67920">o</a>: <a href="#67846" title="T">T</a>, <a title="org.squeryl.Table[T]" id="67921">t</a>: <a href="../Table.scala.html#10243" title="org.squeryl.Table[T]">Table</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="org.squeryl.internals.StatementWriter" id="67922">sw</a>: <a href="../internals/StatementWriter.scala.html#12931" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="AnyRef" id="67933">o_</a> = <a href="#67920" title="T">o</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span>

    <span class="keyword">val</span> <a title="Option[org.squeryl.internals.FieldMetaData]" id="67934">autoIncPK</a> = <a href="#67921" title="org.squeryl.Table[T]">t</a>.<a href="../View.scala.html#22728" title="=&gt; org.squeryl.internals.PosoMetaData[T]">posoMetaData</a>.<a href="../internals/PosoMetaData.scala.html#37261" title="=&gt; Iterable[org.squeryl.internals.FieldMetaData]">fieldsMetaData</a>.<span title="(p: org.squeryl.internals.FieldMetaData =&gt; Boolean)Option[org.squeryl.internals.FieldMetaData]">find</span><span class="delimiter">(</span><a title="org.squeryl.internals.FieldMetaData" id="67943">fmd</a> =&gt; <a href="#67943" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="../internals/FieldMetaData.scala.html#48411" title="=&gt; Boolean">isAutoIncremented</a><span class="delimiter">)</span>

    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#67934" title="Option[org.squeryl.internals.FieldMetaData]">autoIncPK</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#10375" title="org.squeryl.adapters.DB2Adapter" class="keyword">super</a>.<a href="../internals/DatabaseAdapter.scala.html#37042" title="(o: T, t: org.squeryl.Table[T], sw: org.squeryl.internals.StatementWriter)Unit">writeInsert</a><span class="delimiter">(</span><a href="#67920" title="T">o</a>, <a href="#67921" title="org.squeryl.Table[T]">t</a>, <a href="#67922" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
      <span title="Nothing" class="keyword">return</span>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="Iterable[org.squeryl.internals.FieldMetaData]" id="67935">f</a> = <a href="../internals/DatabaseAdapter.scala.html#37041" title="(fmd: Iterable[org.squeryl.internals.FieldMetaData])Iterable[org.squeryl.internals.FieldMetaData]">getInsertableFields</a><span class="delimiter">(</span><a href="#67921" title="org.squeryl.Table[T]">t</a>.<a href="../View.scala.html#22728" title="=&gt; org.squeryl.internals.PosoMetaData[T]">posoMetaData</a>.<a href="../internals/PosoMetaData.scala.html#37261" title="=&gt; Iterable[org.squeryl.internals.FieldMetaData]">fieldsMetaData</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="List[org.squeryl.internals.FieldMetaData]" id="67936">colNames</a> = <span title="(xs: org.squeryl.internals.FieldMetaData*)List[org.squeryl.internals.FieldMetaData]">List</span><span class="delimiter">(</span><a href="#67934" title="Option[org.squeryl.internals.FieldMetaData]">autoIncPK</a>.<span title="=&gt; org.squeryl.internals.FieldMetaData">get</span><span class="delimiter">)</span> <a href="#67963" title="(prefix: List[org.squeryl.internals.FieldMetaData])List[org.squeryl.internals.FieldMetaData]">:::</a> <a href="#67935" title="Iterable[org.squeryl.internals.FieldMetaData]">f</a>.<span title="=&gt; List[org.squeryl.internals.FieldMetaData]">toList</span>
    <span class="keyword">val</span> <a title="List[String]" id="67937">colVals</a> = <span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><span title="java.lang.String(&quot;next value for &quot;)" class="string">&quot;next value for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#67843" title="(t: org.squeryl.Table[_])java.lang.String">sequenceName</a><span class="delimiter">(</span><a href="#67921" title="org.squeryl.Table[T]">t</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#67988" title="(prefix: List[String])List[String]">:::</a> <a href="#67935" title="Iterable[org.squeryl.internals.FieldMetaData]">f</a>.<span title="(f: org.squeryl.internals.FieldMetaData =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[org.squeryl.internals.FieldMetaData],String,Iterable[String]])Iterable[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,String,Iterable[String]]" class="delimiter">(</span><a title="org.squeryl.internals.FieldMetaData" id="68013">fmd</a> =&gt; <a href="../internals/DatabaseAdapter.scala.html#37046" title="(o: AnyRef, fmd: org.squeryl.internals.FieldMetaData, sw: org.squeryl.internals.StatementWriter)String">writeValue</a><span class="delimiter">(</span><a href="#67933" title="AnyRef">o_</a>, <a href="#68013" title="org.squeryl.internals.FieldMetaData">fmd</a>, <a href="#67922" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; List[String]">toList</span>

    <a href="#67922" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;insert into &quot;)" class="string">&quot;insert into &quot;</span><span class="delimiter">)</span>;
    <a href="#67922" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#67921" title="org.squeryl.Table[T]">t</a>.<a href="../View.scala.html#22725" title="=&gt; java.lang.String">prefixedName</a><span class="delimiter">)</span>;
    <a href="#67922" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot; (&quot;)" class="string">&quot; (&quot;</span><span class="delimiter">)</span>;
    <a href="#67922" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#67936" title="List[org.squeryl.internals.FieldMetaData]">colNames</a>.<span title="(f: org.squeryl.internals.FieldMetaData =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[org.squeryl.internals.FieldMetaData],String,List[String]])List[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</span><a title="org.squeryl.internals.FieldMetaData" id="68066">fmd</a> =&gt; <a href="#68066" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="../internals/FieldMetaData.scala.html#48404" title="=&gt; String">columnName</a><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <a href="#67922" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;) values &quot;)" class="string">&quot;) values &quot;</span><span class="delimiter">)</span>;
    <a href="#67922" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#67937" title="List[String]">colVals</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(fn: org.squeryl.dsl.ast.FunctionNode[_], sw: org.squeryl.internals.StatementWriter)Unit" id="67847">writeConcatFunctionCall</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.FunctionNode[_]" id="68187">fn</a>: <a href="../dsl/ast/ExpressionNode.scala.html#11646" title="org.squeryl.dsl.ast.FunctionNode[_]">FunctionNode</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="org.squeryl.internals.StatementWriter" id="68188">sw</a>: <a href="../internals/StatementWriter.scala.html#12931" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> =
    <a href="#68188" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40674" title="(s: Iterable[org.squeryl.dsl.ast.ExpressionNode], separator: String, newLineAfterSeparator: Boolean)Unit">writeNodesWithSeparator</a><span class="delimiter">(</span><a href="#68187" title="org.squeryl.dsl.ast.FunctionNode[_]">fn</a>.<a href="../dsl/ast/ExpressionNode.scala.html#28005" title="=&gt; Iterable[org.squeryl.dsl.ast.ExpressionNode]">args</a>, <span title="java.lang.String(&quot; || &quot;)" class="string">&quot; || &quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(e: java.sql.SQLException)Boolean" id="67848">isTableDoesNotExistException</a><span class="delimiter">(</span><a title="java.sql.SQLException" id="68233">e</a>: <span title="java.sql.SQLException">SQLException</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#68233" title="java.sql.SQLException">e</a>.<span title="()Int">getErrorCode</span> <span title="(x: Int)Boolean">==</span> -<span title="Int(-204)" class="int">204</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(qen: org.squeryl.dsl.ast.QueryExpressionElements, sw: org.squeryl.internals.StatementWriter)Unit" id="67849">writePaginatedQueryDeclaration</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryExpressionElements" id="68241">qen</a>: <a href="../dsl/ast/QueryExpressionElements.scala.html#11562" title="org.squeryl.dsl.ast.QueryExpressionElements">QueryExpressionElements</a>, <a title="org.squeryl.internals.StatementWriter" id="68242">sw</a>: <a href="../internals/StatementWriter.scala.html#12931" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> = <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(qen: org.squeryl.dsl.ast.QueryExpressionElements, sw: org.squeryl.internals.StatementWriter)Unit" id="67850">writeQuery</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryExpressionElements" id="68248">qen</a>: <a href="../dsl/ast/QueryExpressionElements.scala.html#11562" title="org.squeryl.dsl.ast.QueryExpressionElements">QueryExpressionElements</a>, <a title="org.squeryl.internals.StatementWriter" id="68249">sw</a>: <a href="../internals/StatementWriter.scala.html#12931" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> =
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#68248" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>.<a href="../dsl/ast/QueryExpressionElements.scala.html#64211" title="=&gt; Option[(Int, Int)]">page</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span>
      <a href="#10375" title="org.squeryl.adapters.DB2Adapter" class="keyword">super</a>.<a href="../internals/DatabaseAdapter.scala.html#36997" title="(qen: org.squeryl.dsl.ast.QueryExpressionElements, sw: org.squeryl.internals.StatementWriter)Unit">writeQuery</a><span class="delimiter">(</span><a href="#68248" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>, <a href="#68249" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <a href="#68249" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;select sq____1.* from (&quot;)" class="string">&quot;select sq____1.* from (&quot;</span><span class="delimiter">)</span>
      <a href="#68249" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40666" title="=&gt; Unit">nextLine</a>
      <a href="#68249" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40676" title="(u: =&gt; Unit)Unit">writeIndented</a> <span class="delimiter">{</span>
        <a href="#68249" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;select sq____0.*, row_number() over() as rn____&quot;)" class="string">&quot;select sq____0.*, row_number() over() as rn____&quot;</span><span class="delimiter">)</span>
        <a href="#68249" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40666" title="=&gt; Unit">nextLine</a>
        <a href="#68249" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;from&quot;)" class="string">&quot;from&quot;</span><span class="delimiter">)</span>
        <a href="#68249" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40666" title="=&gt; Unit">nextLine</a>
        <a href="#68249" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40676" title="(u: =&gt; Unit)Unit">writeIndented</a> <span class="delimiter">{</span>
          <a href="#68249" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span><span class="delimiter">)</span>
          <a href="#10375" title="org.squeryl.adapters.DB2Adapter" class="keyword">super</a>.<a href="../internals/DatabaseAdapter.scala.html#36997" title="(qen: org.squeryl.dsl.ast.QueryExpressionElements, sw: org.squeryl.internals.StatementWriter)Unit">writeQuery</a><span class="delimiter">(</span><a href="#68248" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>, <a href="#68249" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
          <a href="#68249" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;) sq____0&quot;)" class="string">&quot;) sq____0&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#68249" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40666" title="=&gt; Unit">nextLine</a>
      <a href="#68249" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;) sq____1&quot;)" class="string">&quot;) sq____1&quot;</span><span class="delimiter">)</span>
      <a href="#68249" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40666" title="=&gt; Unit">nextLine</a>
      <a href="#68249" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;where&quot;)" class="string">&quot;where&quot;</span><span class="delimiter">)</span>
      <a href="#68249" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40666" title="=&gt; Unit">nextLine</a>
      <a href="#68249" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40676" title="(u: =&gt; Unit)Unit">writeIndented</a> <span class="delimiter">{</span>
        <a href="#68249" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;rn____ between &quot;)" class="string">&quot;rn____ between &quot;</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="(Int, Int)" id="68281">page</a> = <a href="#68248" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>.<a href="../dsl/ast/QueryExpressionElements.scala.html#64211" title="=&gt; Option[(Int, Int)]">page</a>.<span title="=&gt; (Int, Int)">get</span>
        <span class="keyword">val</span> <a title="Int" id="68282">beginOffset</a> = <a href="#68281" title="(Int, Int)">page</a>.<span title="=&gt; Int">_1</span> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>
        <span class="keyword">val</span> <a title="Int" id="68283">endOffset</a> = <a href="#68281" title="(Int, Int)">page</a>.<span title="=&gt; Int">_2</span> <span title="(x: Int)Int">+</span> <a href="#68282" title="Int">beginOffset</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span>
        <a href="#68249" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#68282" title="Int">beginOffset</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span>
        <a href="#68249" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span><span class="delimiter">)</span>
        <a href="#68249" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#68283" title="Int">endOffset</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(left: org.squeryl.dsl.ast.ExpressionNode, right: org.squeryl.dsl.ast.ExpressionNode, sw: org.squeryl.internals.StatementWriter)Unit" id="67851">writeConcatOperator</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.ExpressionNode" id="68296">left</a>: <a href="../dsl/ast/ExpressionNode.scala.html#11715" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a>, <a title="org.squeryl.dsl.ast.ExpressionNode" id="68297">right</a>: <a href="../dsl/ast/ExpressionNode.scala.html#11715" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a>, <a title="org.squeryl.internals.StatementWriter" id="68298">sw</a>: <a href="../internals/StatementWriter.scala.html#12931" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#68298" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span><span class="delimiter">)</span>
    <a href="#67852" title="(e: org.squeryl.dsl.ast.ExpressionNode, sw: org.squeryl.internals.StatementWriter)Unit">_writeConcatOperand</a><span class="delimiter">(</span><a href="#68296" title="org.squeryl.dsl.ast.ExpressionNode">left</a>, <a href="#68298" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
    <a href="#68298" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span>
    <a href="#68298" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;||&quot;)" class="string">&quot;||&quot;</span><span class="delimiter">)</span>
    <a href="#68298" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span>
    <a href="#67852" title="(e: org.squeryl.dsl.ast.ExpressionNode, sw: org.squeryl.internals.StatementWriter)Unit">_writeConcatOperand</a><span class="delimiter">(</span><a href="#68297" title="org.squeryl.dsl.ast.ExpressionNode">right</a>, <a href="#68298" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
    <a href="#68298" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(e: org.squeryl.dsl.ast.ExpressionNode, sw: org.squeryl.internals.StatementWriter)Unit" id="67852">_writeConcatOperand</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.ExpressionNode" id="68318">e</a>: <a href="../dsl/ast/ExpressionNode.scala.html#11715" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a>, <a title="org.squeryl.internals.StatementWriter" id="68319">sw</a>: <a href="../internals/StatementWriter.scala.html#12931" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#68318" title="org.squeryl.dsl.ast.ExpressionNode">e</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../dsl/ast/ExpressionNode.scala.html#11763" title="org.squeryl.dsl.ast.ConstantExpressionNode[_]">ConstantExpressionNode</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.squeryl.dsl.ast.ConstantExpressionNode[Any]" id="68326">c</a> = <a href="#68318" title="org.squeryl.dsl.ast.ExpressionNode">e</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.dsl.ast.ConstantExpressionNode[Any]" class="delimiter">[</span><a href="../dsl/ast/ExpressionNode.scala.html#11763" title="org.squeryl.dsl.ast.ConstantExpressionNode[Any]">ConstantExpressionNode</a><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">]</span>
      <a href="#68319" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;cast(&quot;)" class="string">&quot;cast(&quot;</span><span class="delimiter">)</span>
      <a href="#68318" title="org.squeryl.dsl.ast.ExpressionNode">e</a>.<a href="../dsl/ast/ExpressionNode.scala.html#20367" title="(sw: org.squeryl.internals.StatementWriter)Unit">write</a><span class="delimiter">(</span><a href="#68319" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
      <a href="#68319" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot; as varchar(&quot;)" class="string">&quot; as varchar(&quot;</span><span class="delimiter">)</span>
      <a href="#68319" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#68326" title="org.squeryl.dsl.ast.ConstantExpressionNode[Any]">c</a>.<a href="../dsl/ast/ExpressionNode.scala.html#20702" title="=&gt; Any">value</a>.<span title="()java.lang.String">toString</span>.<span title="()Int">length</span>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span>
      <a href="#68319" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;))&quot;)" class="string">&quot;))&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">else</span>
      <a href="#68318" title="org.squeryl.dsl.ast.ExpressionNode">e</a>.<a href="../dsl/ast/ExpressionNode.scala.html#20367" title="(sw: org.squeryl.internals.StatementWriter)Unit">write</a><span class="delimiter">(</span><a href="#68319" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(left: org.squeryl.dsl.ast.ExpressionNode, pattern: String, sw: org.squeryl.internals.StatementWriter)Nothing" id="67853">writeRegexExpression</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.ExpressionNode" id="68328">left</a>: <a href="../dsl/ast/ExpressionNode.scala.html#11715" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a>, <a title="String" id="68329">pattern</a>: <span title="String">String</span>, <a title="org.squeryl.internals.StatementWriter" id="68330">sw</a>: <a href="../internals/StatementWriter.scala.html#12931" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="comment">// If you are keen enough you can implement a UDF and subclass this method to call out to it.</span>
    <span class="comment">// See http://www.ibm.com/developerworks/data/library/techarticle/0301stolze/0301stolze.html for how.</span>
    <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.UnsupportedOperationException" class="keyword">new</span> <span title="java.lang.UnsupportedOperationException">UnsupportedOperationException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;DB2 does not support a regex scalar function&quot;)" class="string">&quot;DB2 does not support a regex scalar function&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>
        </pre>
    </body>
</html>