<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>org/squeryl/adapters/OracleAdapter.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*******************************************************************************
 * Copyright 2010 Maxime LÃ©vesque
 * 
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *   http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ***************************************************************************** */</span>
<span class="keyword">package</span> org.squeryl.adapters

<span class="keyword">import</span> org.squeryl.<span class="delimiter">{</span>Session, Table<span class="delimiter">}</span>
<span class="keyword">import</span> org.squeryl.dsl.ast._
<span class="keyword">import</span> java.sql.SQLException
<span class="keyword">import</span> collection.Set
<span class="keyword">import</span> collection.immutable.List
<span class="keyword">import</span> collection.mutable.HashSet
<span class="keyword">import</span> org.squeryl.internals.<span class="delimiter">{</span>FieldMetaData, StatementWriter, DatabaseAdapter<span class="delimiter">}</span>


<span class="keyword">class</span> <a title="class OracleAdapter extends java.lang.Object with org.squeryl.internals.DatabaseAdapter with ScalaObject" id="10396">OracleAdapter</a> <a href="#10396" title="ScalaObject" class="keyword">extends</a> <a href="../internals/DatabaseAdapter.scala.html#12499" title="org.squeryl.internals.DatabaseAdapter">DatabaseAdapter</a> <span class="delimiter">{</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="69083">intTypeDeclaration</a> = <span title="java.lang.String(&quot;number&quot;)" class="string">&quot;number&quot;</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="69084">stringTypeDeclaration</a> = <span title="java.lang.String(&quot;varchar2&quot;)" class="string">&quot;varchar2&quot;</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(length: Int)java.lang.String" id="69085">stringTypeDeclaration</a><span class="delimiter">(</span><a title="Int" id="69126">length</a>:<span title="Int">Int</span><span class="delimiter">)</span> = <span title="java.lang.String(&quot;varchar2(&quot;)" class="string">&quot;varchar2(&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#69126" title="Int">length</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="69086">booleanTypeDeclaration</a> = <span title="java.lang.String(&quot;number(1)&quot;)" class="string">&quot;number(1)&quot;</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="69087">doubleTypeDeclaration</a> = <span title="java.lang.String(&quot;double precision&quot;)" class="string">&quot;double precision&quot;</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="69088">longTypeDeclaration</a> = <span title="java.lang.String(&quot;number&quot;)" class="string">&quot;number&quot;</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="69089">binaryTypeDeclaration</a> = <span title="java.lang.String(&quot;blob&quot;)" class="string">&quot;blob&quot;</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="69090">timestampTypeDeclaration</a> = <span title="java.lang.String(&quot;timestamp&quot;)" class="string">&quot;timestamp&quot;</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="69091">supportsAutoIncrementInColumnDeclaration</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(t: org.squeryl.Table[_], printSinkWhenWriteOnlyMode: Option[String =&gt; Unit])Unit" id="69092">postCreateTable</a><span class="delimiter">(</span><a title="org.squeryl.Table[_]" id="69148">t</a>: <a href="../Table.scala.html#10243" title="org.squeryl.Table[_]">Table</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="Option[String =&gt; Unit]" id="69149">printSinkWhenWriteOnlyMode</a>: <span title="Option[String =&gt; Unit]">Option</span><span class="delimiter">[</span>String =&gt; Unit<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="Iterable[org.squeryl.internals.FieldMetaData]" id="69154">autoIncrementedFields</a> = <a href="#69148" title="org.squeryl.Table[_]">t</a>.<a href="../View.scala.html#22728" title="(=&gt; org.squeryl.internals.PosoMetaData[_$1]) forSome { type _$1 }">posoMetaData</a>.<a href="../internals/PosoMetaData.scala.html#37261" title="=&gt; Iterable[org.squeryl.internals.FieldMetaData]">fieldsMetaData</a>.<span title="(p: org.squeryl.internals.FieldMetaData =&gt; Boolean)Iterable[org.squeryl.internals.FieldMetaData]">filter</span><span class="delimiter">(</span><a href="#69158" title="org.squeryl.internals.FieldMetaData">_</a>.<a href="../internals/FieldMetaData.scala.html#48411" title="=&gt; Boolean">isAutoIncremented</a><span class="delimiter">)</span>

    <span class="keyword">for</span><span class="delimiter">(</span><a title="org.squeryl.internals.FieldMetaData" id="69175">fmd</a> &lt;-<a href="#69154" title="(f: org.squeryl.internals.FieldMetaData =&gt; AnyVal)Unit">autoIncrementedFields</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      
      <span class="keyword">val</span> <a title="org.squeryl.internals.StatementWriter" id="69176">sw</a> = <span title="org.squeryl.internals.StatementWriter" class="keyword">new</span> <a href="../internals/StatementWriter.scala.html#12931" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <a href="#10396" title="org.squeryl.adapters.OracleAdapter" class="keyword">this</a><span class="delimiter">)</span>
      <a href="#69176" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;create sequence &quot;)" class="string">&quot;create sequence &quot;</span>, <a href="#69175" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="../internals/FieldMetaData.scala.html#48392" title="=&gt; String">sequenceName</a>, <span title="java.lang.String(&quot; start with 1 increment by 1 nomaxvalue&quot;)" class="string">&quot; start with 1 increment by 1 nomaxvalue&quot;</span><span class="delimiter">)</span>

      <span title="AnyVal" class="keyword">if</span><span class="delimiter">(</span><a href="#69149" title="Option[String =&gt; Unit]">printSinkWhenWriteOnlyMode</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="java.sql.Statement" id="69187">st</a> = <a href="../Session.scala.html#10079" title="object org.squeryl.Session">Session</a>.<a href="../Session.scala.html#36953" title="=&gt; org.squeryl.Session">currentSession</a>.<a href="../Session.scala.html#36962" title="=&gt; java.sql.Connection">connection</a>.<span title="()java.sql.Statement">createStatement</span>
        <a href="#69187" title="java.sql.Statement">st</a>.<span title="(x$1: java.lang.String)Boolean">execute</span><span class="delimiter">(</span><a href="#69176" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40650" title="=&gt; java.lang.String">statement</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span>
        <a href="#69149" title="Option[String =&gt; Unit]">printSinkWhenWriteOnlyMode</a>.<span title="=&gt; String =&gt; Unit">get</span>.<span title="(v1: String)Unit">apply</span><span class="delimiter">(</span><a href="#69176" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40650" title="=&gt; java.lang.String">statement</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;;&quot;)" class="string">&quot;;&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(t: org.squeryl.Table[_])Unit" id="69093">postDropTable</a><span class="delimiter">(</span><a title="org.squeryl.Table[_]" id="69208">t</a>: <a href="../Table.scala.html#10243" title="org.squeryl.Table[_]">Table</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="Iterable[org.squeryl.internals.FieldMetaData]" id="69213">autoIncrementedFields</a> = <a href="#69208" title="org.squeryl.Table[_]">t</a>.<a href="../View.scala.html#22728" title="(=&gt; org.squeryl.internals.PosoMetaData[_$2]) forSome { type _$2 }">posoMetaData</a>.<a href="../internals/PosoMetaData.scala.html#37261" title="=&gt; Iterable[org.squeryl.internals.FieldMetaData]">fieldsMetaData</a>.<span title="(p: org.squeryl.internals.FieldMetaData =&gt; Boolean)Iterable[org.squeryl.internals.FieldMetaData]">filter</span><span class="delimiter">(</span><a href="#69217" title="org.squeryl.internals.FieldMetaData">_</a>.<a href="../internals/FieldMetaData.scala.html#48411" title="=&gt; Boolean">isAutoIncremented</a><span class="delimiter">)</span>

    <span class="keyword">for</span><span class="delimiter">(</span><a title="org.squeryl.internals.FieldMetaData" id="69234">fmd</a> &lt;-<a href="#69213" title="(f: org.squeryl.internals.FieldMetaData =&gt; Unit)Unit">autoIncrementedFields</a><span class="delimiter">)</span>
      <a href="../internals/DatabaseAdapter.scala.html#37030" title="(sw: org.squeryl.internals.StatementWriter, silenceException: java.sql.SQLException =&gt; Boolean)Unit">execFailSafeExecute</a><span class="delimiter">(</span><span title="java.lang.String(&quot;drop sequence &quot;)" class="string">&quot;drop sequence &quot;</span> <a href="../internals/DatabaseAdapter.scala.html#37031" title="implicit org.squeryl.internals.DatabaseAdapter.string2StatementWriter : (s: String)org.squeryl.internals.StatementWriter">+</a> <a href="#69234" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="../internals/FieldMetaData.scala.html#48392" title="=&gt; String">sequenceName</a>, <a title="java.sql.SQLException" id="69236">e</a>=&gt;<a href="#69236" title="java.sql.SQLException">e</a>.<span title="()Int">getErrorCode</span> <span title="(x: Int)Boolean">==</span> <span title="Int(2289)" class="int">2289</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(fmd: org.squeryl.internals.FieldMetaData)java.lang.String" id="69094">createSequenceName</a><span class="delimiter">(</span><a title="org.squeryl.internals.FieldMetaData" id="69244">fmd</a>: <a href="../internals/FieldMetaData.scala.html#12577" title="org.squeryl.internals.FieldMetaData">FieldMetaData</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    
    <span class="keyword">val</span> <a title="java.lang.String" id="69250">prefix</a> = <span title="java.lang.String(&quot;s_&quot;)" class="string">&quot;s_&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#69244" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="../internals/FieldMetaData.scala.html#48404" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">columnName</a>.<span title="(n: Int)String">take</span><span class="delimiter">(</span><span title="Int(6)" class="int">6</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;_&quot;)" class="string">&quot;_&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#69244" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="../internals/FieldMetaData.scala.html#48363" title="=&gt; org.squeryl.internals.PosoMetaData[_]">parentMetaData</a>.<a href="../internals/PosoMetaData.scala.html#37251" title="(=&gt; org.squeryl.View[_$1]) forSome { type _$1 }">viewOrTable</a>.<a href="../View.scala.html#22723" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">name</a>.<span title="(n: Int)String">take</span><span class="delimiter">(</span><span title="Int(10)" class="int">10</span><span class="delimiter">)</span>

    <span class="comment">// prefix is no longer than 19, we will pad it with a suffix no longer than 11 :</span>
    <span class="keyword">val</span> <a title="java.lang.String" id="69251">shrunkName</a> = <a href="#69250" title="java.lang.String">prefix</a> <span title="(x$1: Any)java.lang.String">+</span>
      <a href="../internals/DatabaseAdapter.scala.html#37081" title="(s: String)String">generateAlmostUniqueSuffixWithHash</a><span class="delimiter">(</span><a href="#69244" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="../internals/FieldMetaData.scala.html#48404" title="=&gt; String">columnName</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;_&quot;)" class="string">&quot;_&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#69244" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="../internals/FieldMetaData.scala.html#48363" title="=&gt; org.squeryl.internals.PosoMetaData[_]">parentMetaData</a>.<a href="../internals/PosoMetaData.scala.html#37251" title="(=&gt; org.squeryl.View[_$1]) forSome { type _$1 }">viewOrTable</a>.<a href="../View.scala.html#22723" title="=&gt; String">name</a><span class="delimiter">)</span>

    <a href="#69251" title="java.lang.String">shrunkName</a>
  <span class="delimiter">}</span>
    
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="[T](o: T, t: org.squeryl.Table[T], sw: org.squeryl.internals.StatementWriter)Unit" id="69095">writeInsert</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="69097">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="69380">o</a>: <a href="#69097" title="T">T</a>, <a title="org.squeryl.Table[T]" id="69381">t</a>: <a href="../Table.scala.html#10243" title="org.squeryl.Table[T]">Table</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="org.squeryl.internals.StatementWriter" id="69382">sw</a>: <a href="../internals/StatementWriter.scala.html#12931" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span>:<span title="Unit">Unit</span> = <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="AnyRef" id="69393">o_</a> = <a href="#69380" title="T">o</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span>

    <span class="keyword">val</span> <a title="Option[org.squeryl.internals.FieldMetaData]" id="69394">autoIncPK</a> = <a href="#69381" title="org.squeryl.Table[T]">t</a>.<a href="../View.scala.html#22728" title="=&gt; org.squeryl.internals.PosoMetaData[T]">posoMetaData</a>.<a href="../internals/PosoMetaData.scala.html#37261" title="=&gt; Iterable[org.squeryl.internals.FieldMetaData]">fieldsMetaData</a>.<span title="(p: org.squeryl.internals.FieldMetaData =&gt; Boolean)Option[org.squeryl.internals.FieldMetaData]">find</span><span class="delimiter">(</span><a title="org.squeryl.internals.FieldMetaData" id="69403">fmd</a> =&gt; <a href="#69403" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="../internals/FieldMetaData.scala.html#48411" title="=&gt; Boolean">isAutoIncremented</a><span class="delimiter">)</span>

    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#69394" title="Option[org.squeryl.internals.FieldMetaData]">autoIncPK</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#10396" title="org.squeryl.adapters.OracleAdapter" class="keyword">super</a>.<a href="../internals/DatabaseAdapter.scala.html#37042" title="(o: T, t: org.squeryl.Table[T], sw: org.squeryl.internals.StatementWriter)Unit">writeInsert</a><span class="delimiter">(</span><a href="#69380" title="T">o</a>, <a href="#69381" title="org.squeryl.Table[T]">t</a>, <a href="#69382" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
      <span title="Nothing" class="keyword">return</span>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="Iterable[org.squeryl.internals.FieldMetaData]" id="69395">f</a> = <a href="../internals/DatabaseAdapter.scala.html#37041" title="(fmd: Iterable[org.squeryl.internals.FieldMetaData])Iterable[org.squeryl.internals.FieldMetaData]">getInsertableFields</a><span class="delimiter">(</span><a href="#69381" title="org.squeryl.Table[T]">t</a>.<a href="../View.scala.html#22728" title="=&gt; org.squeryl.internals.PosoMetaData[T]">posoMetaData</a>.<a href="../internals/PosoMetaData.scala.html#37261" title="=&gt; Iterable[org.squeryl.internals.FieldMetaData]">fieldsMetaData</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="List[org.squeryl.internals.FieldMetaData]" id="69396">colNames</a> = <span title="(xs: org.squeryl.internals.FieldMetaData*)List[org.squeryl.internals.FieldMetaData]">List</span><span class="delimiter">(</span><a href="#69394" title="Option[org.squeryl.internals.FieldMetaData]">autoIncPK</a>.<span title="=&gt; org.squeryl.internals.FieldMetaData">get</span><span class="delimiter">)</span> <a href="#69416" title="(prefix: List[org.squeryl.internals.FieldMetaData])List[org.squeryl.internals.FieldMetaData]">:::</a> <a href="#69395" title="Iterable[org.squeryl.internals.FieldMetaData]">f</a>.<span title="=&gt; List[org.squeryl.internals.FieldMetaData]">toList</span>
    <span class="keyword">val</span> <a title="List[String]" id="69397">colVals</a> = <span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><a href="#69394" title="Option[org.squeryl.internals.FieldMetaData]">autoIncPK</a>.<span title="=&gt; org.squeryl.internals.FieldMetaData">get</span>.<a href="../internals/FieldMetaData.scala.html#48392" title="=&gt; String">sequenceName</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.nextval&quot;)" class="string">&quot;.nextval&quot;</span><span class="delimiter">)</span> <a href="#69435" title="(prefix: List[String])List[String]">:::</a> <a href="#69395" title="Iterable[org.squeryl.internals.FieldMetaData]">f</a>.<span title="(f: org.squeryl.internals.FieldMetaData =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[org.squeryl.internals.FieldMetaData],String,Iterable[String]])Iterable[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,String,Iterable[String]]" class="delimiter">(</span><a title="org.squeryl.internals.FieldMetaData" id="69459">fmd</a> =&gt; <a href="../internals/DatabaseAdapter.scala.html#37046" title="(o: AnyRef, fmd: org.squeryl.internals.FieldMetaData, sw: org.squeryl.internals.StatementWriter)String">writeValue</a><span class="delimiter">(</span><a href="#69393" title="AnyRef">o_</a>, <a href="#69459" title="org.squeryl.internals.FieldMetaData">fmd</a>, <a href="#69382" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; List[String]">toList</span>

    <a href="#69382" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;insert into &quot;)" class="string">&quot;insert into &quot;</span><span class="delimiter">)</span>;
    <a href="#69382" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#69381" title="org.squeryl.Table[T]">t</a>.<a href="../View.scala.html#22725" title="=&gt; java.lang.String">prefixedName</a><span class="delimiter">)</span>;
    <a href="#69382" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot; (&quot;)" class="string">&quot; (&quot;</span><span class="delimiter">)</span>;
    <a href="#69382" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#69396" title="List[org.squeryl.internals.FieldMetaData]">colNames</a>.<span title="(f: org.squeryl.internals.FieldMetaData =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[org.squeryl.internals.FieldMetaData],String,List[String]])List[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</span><a title="org.squeryl.internals.FieldMetaData" id="69506">fmd</a> =&gt; <a href="#69506" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="../internals/FieldMetaData.scala.html#48404" title="=&gt; String">columnName</a><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <a href="#69382" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;) values &quot;)" class="string">&quot;) values &quot;</span><span class="delimiter">)</span>;
    <a href="#69382" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#69397" title="List[String]">colVals</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>,<span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>,<span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(fn: org.squeryl.dsl.ast.FunctionNode[_], sw: org.squeryl.internals.StatementWriter)Unit" id="69098">writeConcatFunctionCall</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.FunctionNode[_]" id="69547">fn</a>: <a href="../dsl/ast/ExpressionNode.scala.html#11646" title="org.squeryl.dsl.ast.FunctionNode[_]">FunctionNode</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="org.squeryl.internals.StatementWriter" id="69548">sw</a>: <a href="../internals/StatementWriter.scala.html#12931" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> =
    <a href="#69548" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40674" title="(s: Iterable[org.squeryl.dsl.ast.ExpressionNode], separator: String, newLineAfterSeparator: Boolean)Unit">writeNodesWithSeparator</a><span class="delimiter">(</span><a href="#69547" title="org.squeryl.dsl.ast.FunctionNode[_]">fn</a>.<a href="../dsl/ast/ExpressionNode.scala.html#28005" title="=&gt; Iterable[org.squeryl.dsl.ast.ExpressionNode]">args</a>, <span title="java.lang.String(&quot; || &quot;)" class="string">&quot; || &quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(queryableExpressionNode: org.squeryl.dsl.ast.QueryableExpressionNode, sw: org.squeryl.internals.StatementWriter)Unit" id="69099">writeJoin</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryableExpressionNode" id="69554">queryableExpressionNode</a>: <a href="../dsl/ast/ExpressionNode.scala.html#11499" title="org.squeryl.dsl.ast.QueryableExpressionNode">QueryableExpressionNode</a>, <a title="org.squeryl.internals.StatementWriter" id="69555">sw</a>: <a href="../internals/StatementWriter.scala.html#12931" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#69555" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#69554" title="org.squeryl.dsl.ast.QueryableExpressionNode">queryableExpressionNode</a>.<a href="../dsl/ast/ExpressionNode.scala.html#65370" title="=&gt; Option[(String, String)]">joinKind</a>.<span title="=&gt; (String, String)">get</span>.<span title="=&gt; String">_1</span><span class="delimiter">)</span>
    <a href="#69555" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span>
    <a href="#69555" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#69554" title="org.squeryl.dsl.ast.QueryableExpressionNode">queryableExpressionNode</a>.<a href="../dsl/ast/ExpressionNode.scala.html#65370" title="=&gt; Option[(String, String)]">joinKind</a>.<span title="=&gt; (String, String)">get</span>.<span title="=&gt; String">_2</span><span class="delimiter">)</span>
    <a href="#69555" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot; join &quot;)" class="string">&quot; join &quot;</span><span class="delimiter">)</span>
    <a href="#69554" title="org.squeryl.dsl.ast.QueryableExpressionNode">queryableExpressionNode</a>.<a href="../dsl/ast/ExpressionNode.scala.html#20367" title="(sw: org.squeryl.internals.StatementWriter)Unit">write</a><span class="delimiter">(</span><a href="#69555" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
    <a href="#69555" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span>
    <a href="#69555" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#69554" title="org.squeryl.dsl.ast.QueryableExpressionNode">queryableExpressionNode</a>.<a href="../dsl/ast/ExpressionNode.scala.html#65385" title="=&gt; String">alias</a><span class="delimiter">)</span>
    <a href="#69555" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot; on &quot;)" class="string">&quot; on &quot;</span><span class="delimiter">)</span>
    <a href="#69554" title="org.squeryl.dsl.ast.QueryableExpressionNode">queryableExpressionNode</a>.<a href="../dsl/ast/ExpressionNode.scala.html#65374" title="=&gt; Option[org.squeryl.dsl.ast.LogicalBoolean]">joinExpression</a>.<span title="=&gt; org.squeryl.dsl.ast.LogicalBoolean">get</span>.<a href="../dsl/ast/ExpressionNode.scala.html#20367" title="(sw: org.squeryl.internals.StatementWriter)Unit">write</a><span class="delimiter">(</span><a href="#69555" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(qen: org.squeryl.dsl.ast.QueryExpressionElements, sw: org.squeryl.internals.StatementWriter)Unit" id="69100">writePaginatedQueryDeclaration</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryExpressionElements" id="69571">qen</a>: <a href="../dsl/ast/QueryExpressionElements.scala.html#11562" title="org.squeryl.dsl.ast.QueryExpressionElements">QueryExpressionElements</a>, <a title="org.squeryl.internals.StatementWriter" id="69572">sw</a>: <a href="../internals/StatementWriter.scala.html#12931" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> = <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span> 

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(qen: org.squeryl.dsl.ast.QueryExpressionElements, sw: org.squeryl.internals.StatementWriter)Unit" id="69101">writeQuery</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryExpressionElements" id="69575">qen</a>: <a href="../dsl/ast/QueryExpressionElements.scala.html#11562" title="org.squeryl.dsl.ast.QueryExpressionElements">QueryExpressionElements</a>, <a title="org.squeryl.internals.StatementWriter" id="69576">sw</a>: <a href="../internals/StatementWriter.scala.html#12931" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> =
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#69575" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>.<a href="../dsl/ast/QueryExpressionElements.scala.html#64211" title="=&gt; Option[(Int, Int)]">page</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span>
      <a href="#10396" title="org.squeryl.adapters.OracleAdapter" class="keyword">super</a>.<a href="../internals/DatabaseAdapter.scala.html#36997" title="(qen: org.squeryl.dsl.ast.QueryExpressionElements, sw: org.squeryl.internals.StatementWriter)Unit">writeQuery</a><span class="delimiter">(</span><a href="#69575" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>, <a href="#69576" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>        
      <a href="#69576" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;select sq____1.* from (&quot;)" class="string">&quot;select sq____1.* from (&quot;</span><span class="delimiter">)</span>
      <a href="#69576" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40666" title="=&gt; Unit">nextLine</a>
      <a href="#69576" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40676" title="(u: =&gt; Unit)Unit">writeIndented</a> <span class="delimiter">{</span>
        <a href="#69576" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;select sq____0.*, rownum as rn____&quot;)" class="string">&quot;select sq____0.*, rownum as rn____&quot;</span><span class="delimiter">)</span>
        <a href="#69576" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40666" title="=&gt; Unit">nextLine</a>
        <a href="#69576" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;from&quot;)" class="string">&quot;from&quot;</span><span class="delimiter">)</span>
        <a href="#69576" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40666" title="=&gt; Unit">nextLine</a>
        <a href="#69576" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40676" title="(u: =&gt; Unit)Unit">writeIndented</a> <span class="delimiter">{</span>
          <a href="#69576" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span><span class="delimiter">)</span>
          <a href="#10396" title="org.squeryl.adapters.OracleAdapter" class="keyword">super</a>.<a href="../internals/DatabaseAdapter.scala.html#36997" title="(qen: org.squeryl.dsl.ast.QueryExpressionElements, sw: org.squeryl.internals.StatementWriter)Unit">writeQuery</a><span class="delimiter">(</span><a href="#69575" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>, <a href="#69576" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
          <a href="#69576" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;) sq____0&quot;)" class="string">&quot;) sq____0&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#69576" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40666" title="=&gt; Unit">nextLine</a>
      <a href="#69576" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;) sq____1&quot;)" class="string">&quot;) sq____1&quot;</span><span class="delimiter">)</span>
      <a href="#69576" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40666" title="=&gt; Unit">nextLine</a>
      <a href="#69576" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;where&quot;)" class="string">&quot;where&quot;</span><span class="delimiter">)</span>
      <a href="#69576" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40666" title="=&gt; Unit">nextLine</a>
      <a href="#69576" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40676" title="(u: =&gt; Unit)Unit">writeIndented</a> <span class="delimiter">{</span>
        <a href="#69576" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;rn____ between &quot;)" class="string">&quot;rn____ between &quot;</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="(Int, Int)" id="69598">page</a> = <a href="#69575" title="org.squeryl.dsl.ast.QueryExpressionElements">qen</a>.<a href="../dsl/ast/QueryExpressionElements.scala.html#64211" title="=&gt; Option[(Int, Int)]">page</a>.<span title="=&gt; (Int, Int)">get</span>
        <span class="keyword">val</span> <a title="Int" id="69599">beginOffset</a> = <a href="#69598" title="(Int, Int)">page</a>.<span title="=&gt; Int">_1</span> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>
        <span class="keyword">val</span> <a title="Int" id="69600">endOffset</a> = <a href="#69598" title="(Int, Int)">page</a>.<span title="=&gt; Int">_2</span> <span title="(x: Int)Int">+</span> <a href="#69599" title="Int">beginOffset</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span>
        <a href="#69576" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#69599" title="Int">beginOffset</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span>
        <a href="#69576" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span><span class="delimiter">)</span>
        <a href="#69576" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#69600" title="Int">endOffset</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(e: java.sql.SQLException)Boolean" id="69102">isTableDoesNotExistException</a><span class="delimiter">(</span><a title="java.sql.SQLException" id="69613">e</a>: <span title="java.sql.SQLException">SQLException</span><span class="delimiter">)</span> =
    <a href="#69613" title="java.sql.SQLException">e</a>.<span title="()Int">getErrorCode</span> <span title="(x: Int)Boolean">==</span> <span title="Int(942)" class="int">942</span>

  <span class="keyword">def</span> <a title="=&gt; List[Char]" id="69103">legalOracleSuffixChars</a> =
    <a href="#10397" title="object org.squeryl.adapters.OracleAdapter">OracleAdapter</a>.<a href="#69625" title="=&gt; List[Char]">legalOracleSuffixChars</a>

  <span class="keyword">def</span> <a title="(start: String, padLength: Int)Iterable[String]" id="69104">paddingPossibilities</a><span class="delimiter">(</span><a title="String" id="69732">start</a>: <span title="String">String</span>, <a title="Int" id="69733">padLength</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Iterable[String]">Iterable</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    <span title="Iterable[String]" class="keyword">if</span><span class="delimiter">(</span><a href="#69733" title="Int">padLength</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
      org.squeryl.internals.<a href="../internals/Utils.scala.html#13022" title="object org.squeryl.internals.Utils">Utils</a>.<a href="../internals/Utils.scala.html#32775" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;padLength must be positive, was given : &quot;)" class="string">&quot;padLength must be positive, was given : &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#69733" title="Int">padLength</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="Iterable[String]" class="keyword">if</span><span class="delimiter">(</span><a href="#69733" title="Int">padLength</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
      <span title="(elems: String*)Seq[String]">Seq</span><span class="delimiter">(</span><a href="#69732" title="String">start</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="Iterable[String]" class="keyword">if</span><span class="delimiter">(</span><a href="#69733" title="Int">padLength</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      <a href="#69103" title="=&gt; List[Char]">legalOracleSuffixChars</a>.<span title="(f: Char =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Char],java.lang.String,Iterable[String]])Iterable[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,java.lang.String,List[java.lang.String]]" class="delimiter">(</span><a href="#69732" title="String">start</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#69769" title="Char">_</a><span class="delimiter">)</span>
    <span class="keyword">else</span>
      <span class="keyword">for</span><span class="delimiter">(</span><a title="Char" id="69824">end</a> &lt;- <a href="#69103" title="(f: Char =&gt; scala.collection.GenTraversableOnce[java.lang.String])(implicit bf: scala.collection.generic.CanBuildFrom[List[Char],java.lang.String,Iterable[String]])Iterable[String]">legalOracleSuffixChars</a>;
          <a title="String" id="69848">pad</a> &lt;- <a href="#69104" title="(start: String, padLength: Int)Iterable[String]">paddingPossibilities</a><span title="(f: String =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[String],java.lang.String,Iterable[java.lang.String]])Iterable[java.lang.String]" class="delimiter">(</span><a href="#69732" title="String">start</a>, <a href="#69733" title="Int">padLength</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">yield</span> <a href="#69848" title="String">pad</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#69824" title="Char">end</a>

  <span class="keyword">class</span> <a title="class CouldNotShrinkIdentifierException extends java.lang.RuntimeException with ScalaObject" id="69105">CouldNotShrinkIdentifierException</a> <a href="#69105" title="ScalaObject" class="keyword">extends</a> <span title="java.lang.RuntimeException">RuntimeException</span>

  <span class="keyword">def</span> <a title="(s: String, scope: scala.collection.Set[String], padLength: Int)String" id="69106">makeUniqueInScope</a><span class="delimiter">(</span><a title="String" id="69905">s</a>: <span title="String">String</span>, <a title="scala.collection.Set[String]" id="69906">scope</a>: <span title="scala.collection.Set[String]">Set</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="Int" id="69907">padLength</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>

    <span class="keyword">var</span> <a title="java.lang.String" id="69909">prefix</a> = <a href="#69905" title="String">s</a>.<span title="(x$1: Int, x$2: Int)java.lang.String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#69905" title="String">s</a>.<span title="()Int">length</span> <span title="(x: Int)Int">-</span> <a href="#69907" title="Int">padLength</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Iterable[String]" id="69910">possibilities</a> = <a href="#69104" title="(start: String, padLength: Int)Iterable[String]">paddingPossibilities</a><span class="delimiter">(</span><a href="#69909" title="java.lang.String">prefix</a>, <a href="#69907" title="Int">padLength</a><span class="delimiter">)</span>

    <span class="keyword">for</span><span class="delimiter">(</span><a title="String" id="69927">p</a> &lt;- <a href="#69910" title="(f: String =&gt; Nothing)Unit">possibilities</a> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#69906" title="scala.collection.Set[String]">scope</a>.<span title="(elem: String)Boolean">contains</span><span class="delimiter">(</span><a href="#69927" title="String">p</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="Nothing" class="keyword">return</span> <a href="#69927" title="String">p</a>

    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#69905" title="String">s</a>.<span title="()Int">length</span> <span title="(x: Int)Boolean">==</span> <a href="#69907" title="Int">padLength</a><span class="delimiter">)</span> <span class="comment">// at this point 's' is completely 'random like', not helpfull to add it in the error message</span>
      <span title="Nothing" class="keyword">throw</span> <span title="OracleAdapter.this.CouldNotShrinkIdentifierException" class="keyword">new</span> <a href="#69105" title="OracleAdapter.this.CouldNotShrinkIdentifierException">CouldNotShrinkIdentifierException</a>

    <a href="#69106" title="(s: String, scope: scala.collection.Set[String], padLength: Int)String">makeUniqueInScope</a><span class="delimiter">(</span><a href="#69905" title="String">s</a>, <a href="#69906" title="scala.collection.Set[String]">scope</a>, <a href="#69907" title="Int">padLength</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(s: String, scope: scala.collection.Set[String])String" id="69107">makeUniqueInScope</a><span class="delimiter">(</span><a title="String" id="69938">s</a>: <span title="String">String</span>, <a title="scala.collection.Set[String]" id="69939">scope</a>: scala.collection.<span title="scala.collection.Set[String]">Set</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="String">String</span> =
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#69939" title="scala.collection.Set[String]">scope</a>.<span title="(elem: String)Boolean">contains</span><span class="delimiter">(</span><a href="#69938" title="String">s</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#69106" title="(s: String, scope: scala.collection.Set[String], padLength: Int)String">makeUniqueInScope</a><span class="delimiter">(</span><a href="#69938" title="String">s</a>, <a href="#69939" title="scala.collection.Set[String]">scope</a>, <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="#69938" title="String">s</a>
    <span class="delimiter">}</span>
    <span class="keyword">catch</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Nothing" id="69951">e</a>:<a href="#69105" title="OracleAdapter.this.CouldNotShrinkIdentifierException">CouldNotShrinkIdentifierException</a> =&gt;
        org.squeryl.internals.<a href="../internals/Utils.scala.html#13022" title="object org.squeryl.internals.Utils">Utils</a>.<a href="../internals/Utils.scala.html#32775" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;could not make a unique identifier with \'&quot;)" class="string">&quot;could not make a unique identifier with '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#69938" title="String">s</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\'&quot;)" class="string">&quot;'&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(identifier: String, scope: scala.collection.mutable.HashSet[String])String" id="69108">shrinkTo30AndPreserveUniquenessInScope</a><span class="delimiter">(</span><a title="String" id="69952">identifier</a>: <span title="String">String</span>, <a title="scala.collection.mutable.HashSet[String]" id="69953">scope</a>: <span title="scala.collection.mutable.HashSet[String]">HashSet</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> =
    <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#69952" title="String">identifier</a>.<span title="()Int">length</span> <span title="(x: Int)Boolean">&lt;=</span> <span title="Int(29)" class="int">29</span><span class="delimiter">)</span>
      <a href="#69952" title="String">identifier</a>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="69960">res</a> = <a href="#69107" title="(s: String, scope: scala.collection.Set[String])String">makeUniqueInScope</a><span class="delimiter">(</span><a href="#69952" title="String">identifier</a>.<span title="(x$1: Int, x$2: Int)java.lang.String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <span title="Int(30)" class="int">30</span><span class="delimiter">)</span>, <a href="#69953" title="scala.collection.mutable.HashSet[String]">scope</a><span class="delimiter">)</span>
      <a href="#69953" title="scala.collection.mutable.HashSet[String]">scope</a>.<span title="(elem: String)Boolean">add</span><span class="delimiter">(</span><a href="#69960" title="String">res</a><span class="delimiter">)</span>
      <span class="comment">//println(identifier + &quot;-----&gt;&quot; + res)</span>
      <a href="#69960" title="String">res</a>
    <span class="delimiter">}</span>  

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(se: org.squeryl.dsl.ast.SelectElement, sw: org.squeryl.internals.StatementWriter)Unit" id="69109">writeSelectElementAlias</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.SelectElement" id="69969">se</a>: <a href="../dsl/ast/SelectElement.scala.html#11682" title="org.squeryl.dsl.ast.SelectElement">SelectElement</a>, <a title="org.squeryl.internals.StatementWriter" id="69970">sw</a>: <a href="../internals/StatementWriter.scala.html#12931" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> =
    <a href="#69970" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#69108" title="(identifier: String, scope: scala.collection.mutable.HashSet[String])String">shrinkTo30AndPreserveUniquenessInScope</a><span class="delimiter">(</span><a href="#69969" title="org.squeryl.dsl.ast.SelectElement">se</a>.<a href="../dsl/ast/SelectElement.scala.html#20672" title="=&gt; String">aliasSegment</a>, <a href="#69970" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40642" title="=&gt; scala.collection.mutable.HashSet[String]">scope</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(foreignKeyTable: org.squeryl.Table[_], idWithinSchema: Int)String" id="69110">foreignKeyConstraintName</a><span class="delimiter">(</span><a title="org.squeryl.Table[_]" id="69981">foreignKeyTable</a>: <a href="../Table.scala.html#10243" title="org.squeryl.Table[_]">Table</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="Int" id="69982">idWithinSchema</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.lang.String" id="69987">name</a> = <a href="#10396" title="org.squeryl.adapters.OracleAdapter" class="keyword">super</a>.<a href="../internals/DatabaseAdapter.scala.html#37066" title="(foreignKeyTable: org.squeryl.Table[_], idWithinSchema: Int)java.lang.String">foreignKeyConstraintName</a><span class="delimiter">(</span><a href="#69981" title="org.squeryl.Table[_]">foreignKeyTable</a>, <a href="#69982" title="Int">idWithinSchema</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="String" id="69988">r</a> = <a href="#69108" title="(identifier: String, scope: scala.collection.mutable.HashSet[String])String">shrinkTo30AndPreserveUniquenessInScope</a><span class="delimiter">(</span><a href="#69987" title="java.lang.String">name</a>, <a href="#69981" title="org.squeryl.Table[_]">foreignKeyTable</a>.<a href="../Table.scala.html#36869" title="=&gt; org.squeryl.Schema">schema</a>.<a href="../Schema.scala.html#16599" title="=&gt; scala.collection.mutable.HashSet[String]">_namingScope</a><span class="delimiter">)</span>
    <a href="#69988" title="String">r</a>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(left: org.squeryl.dsl.ast.ExpressionNode, pattern: String, sw: org.squeryl.internals.StatementWriter)Unit" id="69111">writeRegexExpression</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.ExpressionNode" id="69993">left</a>: <a href="../dsl/ast/ExpressionNode.scala.html#11715" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a>, <a title="String" id="69994">pattern</a>: <span title="String">String</span>, <a title="org.squeryl.internals.StatementWriter" id="69995">sw</a>: <a href="../internals/StatementWriter.scala.html#12931" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#69995" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot; REGEXP_LIKE(&quot;)" class="string">&quot; REGEXP_LIKE(&quot;</span><span class="delimiter">)</span>
    <a href="#69993" title="org.squeryl.dsl.ast.ExpressionNode">left</a>.<a href="../dsl/ast/ExpressionNode.scala.html#20367" title="(sw: org.squeryl.internals.StatementWriter)Unit">write</a><span class="delimiter">(</span><a href="#69995" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
    <a href="#69995" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;,?)&quot;)" class="string">&quot;,?)&quot;</span><span class="delimiter">)</span>
    <a href="#69995" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40651" title="(p: AnyRef)Unit">addParam</a><span class="delimiter">(</span><a href="#69994" title="String">pattern</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(n: org.squeryl.dsl.ast.QueryableExpressionNode, fse: org.squeryl.dsl.ast.FieldSelectElement)java.lang.String" id="69112">fieldAlias</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryableExpressionNode" id="69998">n</a>: <a href="../dsl/ast/ExpressionNode.scala.html#11499" title="org.squeryl.dsl.ast.QueryableExpressionNode">QueryableExpressionNode</a>, <a title="org.squeryl.dsl.ast.FieldSelectElement" id="69999">fse</a>: <a href="../dsl/ast/SelectElement.scala.html#11619" title="org.squeryl.dsl.ast.FieldSelectElement">FieldSelectElement</a><span class="delimiter">)</span> =
    <span title="java.lang.String(&quot;f&quot;)" class="string">&quot;f&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#69999" title="org.squeryl.dsl.ast.FieldSelectElement">fse</a>.<a href="../dsl/ast/ExpressionNode.scala.html#55833" title="=&gt; Option[Int]">uniqueId</a>.<span title="=&gt; Int">get</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(parentOfTarget: org.squeryl.dsl.ast.QueryableExpressionNode, target: org.squeryl.dsl.ast.SelectElement)java.lang.String" id="69113">aliasExport</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryableExpressionNode" id="70006">parentOfTarget</a>: <a href="../dsl/ast/ExpressionNode.scala.html#11499" title="org.squeryl.dsl.ast.QueryableExpressionNode">QueryableExpressionNode</a>, <a title="org.squeryl.dsl.ast.SelectElement" id="70007">target</a>: <a href="../dsl/ast/SelectElement.scala.html#11682" title="org.squeryl.dsl.ast.SelectElement">SelectElement</a><span class="delimiter">)</span> =
    <span class="comment">//parentOfTarget.alias + &quot;_&quot; + target.aliasSegment</span>
    <span title="java.lang.String(&quot;f&quot;)" class="string">&quot;f&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#70007" title="org.squeryl.dsl.ast.SelectElement">target</a>.<a href="../dsl/ast/SelectElement.scala.html#20673" title="=&gt; org.squeryl.dsl.ast.SelectElement">actualSelectElement</a>.<a href="../dsl/ast/ExpressionNode.scala.html#20364" title="=&gt; java.lang.String">id</a>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(vn: org.squeryl.dsl.ast.ViewExpressionNode[_])java.lang.String" id="69114">viewAlias</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.ViewExpressionNode[_]" id="70016">vn</a>: <a href="../dsl/ast/ViewExpressionNode.scala.html#11532" title="org.squeryl.dsl.ast.ViewExpressionNode[_]">ViewExpressionNode</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =
    <span title="java.lang.String(&quot;t&quot;)" class="string">&quot;t&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#70016" title="org.squeryl.dsl.ast.ViewExpressionNode[_]">vn</a>.<a href="../dsl/ast/ExpressionNode.scala.html#55833" title="=&gt; Option[Int]">uniqueId</a>.<span title="=&gt; Int">get</span>
    
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(e: org.squeryl.dsl.ast.TypedExpressionNode[_], sw: org.squeryl.internals.StatementWriter)Unit" id="69115">writeCastInvocation</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.TypedExpressionNode[_]" id="70032">e</a>: <a href="../dsl/ast/ExpressionNode.scala.html#11664" title="org.squeryl.dsl.ast.TypedExpressionNode[_]">TypedExpressionNode</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="org.squeryl.internals.StatementWriter" id="70033">sw</a>: <a href="../internals/StatementWriter.scala.html#12931" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#70033" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;cast(&quot;)" class="string">&quot;cast(&quot;</span><span class="delimiter">)</span>
    <a href="#70032" title="org.squeryl.dsl.ast.TypedExpressionNode[_]">e</a>.<a href="../dsl/ast/ExpressionNode.scala.html#20367" title="(sw: org.squeryl.internals.StatementWriter)Unit">write</a><span class="delimiter">(</span><a href="#70033" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="String" id="70103">dbSpecificType</a> = <a href="../internals/DatabaseAdapter.scala.html#37087" title="(c: Class[_])String">databaseTypeFor</a><span class="delimiter">(</span><a href="#70032" title="org.squeryl.dsl.ast.TypedExpressionNode[_]">e</a>.<a href="../dsl/ast/ExpressionNode.scala.html#20386" title="(=&gt; org.squeryl.internals.OutMapper[_$6]) forSome { type _$6 }">mapper</a>.<a href="../internals/ResultSetMapper.scala.html#20773" title="=&gt; java.lang.Class[_ &gt;: ?0 with ?0 &lt;: java.lang.Object]">jdbcClass</a><span class="delimiter">)</span>

    <a href="#70033" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot; as &quot;)" class="string">&quot; as &quot;</span><span class="delimiter">)</span>
    
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#70103" title="String">dbSpecificType</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#69084" title="=&gt; java.lang.String">stringTypeDeclaration</a><span class="delimiter">)</span>
      <a href="#70033" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#69085" title="(length: Int)java.lang.String">stringTypeDeclaration</a><span class="delimiter">(</span><span title="Int(1024)" class="int">1024</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span>
      <a href="#70033" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#70103" title="String">dbSpecificType</a><span class="delimiter">)</span>
      
    <a href="#70033" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../internals/StatementWriter.scala.html#40675" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
    
<span class="delimiter">}</span>


<span class="keyword">object</span> <a title="object org.squeryl.adapters.OracleAdapter" id="10397">OracleAdapter</a> <span title="ScalaObject" class="delimiter">{</span>
  
  <span class="keyword">val</span> <a title="List[Char]" id="69625">legalOracleSuffixChars</a> =
     <span title="java.lang.String(&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ_0123456789&quot;)" class="string">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ_0123456789&quot;</span>.<span title="implicit scala.Predef.charArrayOps : (xs: Array[Char])scala.collection.mutable.ArrayOps[Char]">toCharArray</span>.<span title="=&gt; List[Char]">toList</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>