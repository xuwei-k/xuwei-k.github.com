<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>org/squeryl/internals/FieldMetaData.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*******************************************************************************
 * Copyright 2010 Maxime LÃ©vesque
 * 
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *   http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ***************************************************************************** */</span>
<span class="keyword">package</span> org.squeryl.internals

<span class="keyword">import</span> java.lang.annotation.Annotation
<span class="keyword">import</span> java.lang.reflect.<span class="delimiter">{</span>Field, Method, Constructor, InvocationTargetException, Type, ParameterizedType<span class="delimiter">}</span>
<span class="keyword">import</span> java.sql.ResultSet
<span class="keyword">import</span> java.math.BigDecimal
<span class="keyword">import</span> scala.annotation.tailrec
<span class="keyword">import</span> org.squeryl.annotations.<span class="delimiter">{</span>ColumnBase, Column<span class="delimiter">}</span>
<span class="keyword">import</span> org.squeryl.dsl.ast.<span class="delimiter">{</span>ConstantExpressionNode, TypedExpressionNode<span class="delimiter">}</span>
<span class="keyword">import</span> collection.mutable.<span class="delimiter">{</span>HashMap, HashSet, ArrayBuffer<span class="delimiter">}</span>
<span class="keyword">import</span> org.squeryl.<span class="delimiter">{</span>IndirectKeyedEntity, Session, KeyedEntity<span class="delimiter">}</span>
<span class="keyword">import</span> org.squeryl.dsl.CompositeKey
<span class="keyword">import</span> org.squeryl.customtypes.CustomType
<span class="keyword">import</span> scala.tools.scalap.scalax.rules.scalasig.<span class="delimiter">{</span>ScalaSigAttributeParsers, ByteCode, ScalaSigPrinter<span class="delimiter">}</span>
<span class="keyword">import</span> java.io.ByteArrayOutputStream
<span class="keyword">import</span> java.io.PrintStream
<span class="keyword">import</span> java.lang.reflect.Member
<span class="keyword">import</span> scala.tools.scalap.scalax.rules.scalasig.ScalaSigParser

<span class="keyword">class</span> <a title="class FieldMetaData extends java.lang.Object with ScalaObject" id="12577">FieldMetaData</a><a href="#12577" title="ScalaObject" class="delimiter">(</a>
        <span class="keyword">val</span> <a title="org.squeryl.internals.PosoMetaData[_]" id="48421">parentMetaData</a>: <a href="PosoMetaData.scala.html#12658" title="org.squeryl.internals.PosoMetaData[_]">PosoMetaData</a><span class="delimiter">[</span>_<span class="delimiter">]</span>,
        <span class="keyword">val</span> <a title="String" id="48422">nameOfProperty</a>:<span title="String">String</span>,
        <span class="keyword">val</span> <a title="Class[_]" id="48423">fieldType</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span>, <span class="comment">// if isOption, this fieldType is the type param of Option, i.e. the T in Option[T]</span>
        <span class="keyword">val</span> <a title="Class[_]" id="48424">wrappedFieldType</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span>, <span class="comment">//in primitive type mode fieldType == wrappedFieldType, in custom type mode wrappedFieldType is the 'real'</span>
        <span class="comment">// type, i.e. the (primitive) type that jdbc understands</span>
        <span class="keyword">val</span> <a title="Option[AnyRef =&gt; Product1[Any] with AnyRef]" id="48425">customTypeFactory</a>: <span title="Option[AnyRef =&gt; Product1[Any] with AnyRef]">Option</span><span class="delimiter">[</span>AnyRef =&gt; Product1<span class="delimiter">[</span>Any<span class="delimiter">]</span> <span class="keyword">with</span> AnyRef<span class="delimiter">]</span>,
        <span class="keyword">val</span> <a title="Boolean" id="48426">isOption</a>: <span title="Boolean">Boolean</span>,
        <a title="Option[java.lang.reflect.Method]" id="48427">getter</a>: <span title="Option[java.lang.reflect.Method]">Option</span><span class="delimiter">[</span>Method<span class="delimiter">]</span>,
        <a title="Option[java.lang.reflect.Method]" id="48428">setter</a>: <span title="Option[java.lang.reflect.Method]">Option</span><span class="delimiter">[</span>Method<span class="delimiter">]</span>,
        <a title="Option[java.lang.reflect.Field]" id="48429">field</a>:  <span title="Option[java.lang.reflect.Field]">Option</span><span class="delimiter">[</span>Field<span class="delimiter">]</span>,
        <a title="Option[org.squeryl.annotations.package.Column]" id="48430">columnAnnotation</a>: <span title="Option[org.squeryl.annotations.package.Column]">Option</span><span class="delimiter">[</span>Column<span class="delimiter">]</span>,
        <span class="keyword">val</span> <a title="Boolean" id="48431">isOptimisticCounter</a>: <span title="Boolean">Boolean</span>,
        <span class="keyword">val</span> <a title="Any" id="48432">sampleValue</a>: <span title="Any">Any</span><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="48384">isEnumeration</a> = <span class="delimiter">{</span>
    classOf<span title="java.lang.Class[Enumeration#Value](classOf[scala.Enumeration$Value])" class="delimiter">[</span>Enumeration#Value<span class="delimiter">]</span>.<span title="(x$1: java.lang.Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#48424" title="=&gt; Class[_]">wrappedFieldType</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(id: Int)Option[Enumeration#Value]" id="48385">canonicalEnumerationValueFor</a><span class="delimiter">(</span><a title="Int" id="63640">id</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
    <span title="Option[enu.Value]" class="keyword">if</span><span class="delimiter">(</span><a href="#48432" title="=&gt; Any">sampleValue</a> <span title="(x$1: Any)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      org.squeryl.internals.<a href="Utils.scala.html#13022" title="object org.squeryl.internals.Utils">Utils</a>.<a href="Utils.scala.html#32775" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;classes with Enumerations must have a zero param constructor that assigns a sample to the enumeration field&quot;)" class="string">&quot;classes with Enumerations must have a zero param constructor that assigns a sample to the enumeration field&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>

      <span class="keyword">val</span> <a title="Enumeration#Value" id="63643">svE</a> =
        <span title="Enumeration#Value" class="keyword">if</span><span class="delimiter">(</span><a href="#48426" title="=&gt; Boolean">isOption</a><span class="delimiter">)</span>
          <a href="#48432" title="=&gt; Any">sampleValue</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Option[Enumeration#Value]" class="delimiter">[</span><span title="Option[Enumeration#Value]">Option</span><span class="delimiter">[</span>Enumeration#Value<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="=&gt; Enumeration#Value">get</span>
        <span class="keyword">else</span>
          <a href="#48432" title="=&gt; Any">sampleValue</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Enumeration#Value" class="delimiter">[</span>Enumeration#<span title="Enumeration#Value">Value</span><span class="delimiter">]</span>

      <span class="keyword">val</span> <a title="Enumeration" id="63644">enu</a> = <a href="Utils.scala.html#13022" title="object org.squeryl.internals.Utils">Utils</a>.<a href="Utils.scala.html#32776" title="(v: Enumeration#Value)Enumeration">enumerationForValue</a><span class="delimiter">(</span><a href="#63643" title="Enumeration#Value">svE</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Option[enu.Value]" id="63645">r</a> = <a href="#63644" title="Enumeration">enu</a>.<span title="=&gt; enu.ValueSet">values</span>.<span title="(p: enu.Value =&gt; Boolean)Option[enu.Value]">find</span><span class="delimiter">(</span><a href="#63679" title="enu.Value">_</a>.<span title="=&gt; Int">id</span> <span title="(x: Int)Boolean">==</span> <a href="#63640" title="Int">id</a><span class="delimiter">)</span>

      <a href="#63645" title="Option[enu.Value]">r</a>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * This field is mutable only by the Schema trait, and only during the Schema instantiation,
   * so it can safely be considered immutable (read only) by the columnAttributes accessor 
   */</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[org.squeryl.internals.ColumnAttribute]" id="48386">_columnAttributes</a> = <span title="()scala.collection.mutable.HashSet[org.squeryl.internals.ColumnAttribute]" class="keyword">new</span> <span title="scala.collection.mutable.HashSet[org.squeryl.internals.ColumnAttribute]">HashSet</span><span class="delimiter">[</span>ColumnAttribute<span class="delimiter">]</span>


  <span class="keyword">private</span> <span class="delimiter">[</span>squeryl<span class="delimiter">]</span> <span class="keyword">def</span> <a title="=&gt; Unit" id="48388">_clearColumnAttributes</a> = <span class="delimiter">{</span>
    <a href="#48386" title="=&gt; scala.collection.mutable.HashSet[org.squeryl.internals.ColumnAttribute]">_columnAttributes</a>.<span title="()Unit">clear</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="delimiter">[</span>squeryl<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(ca: org.squeryl.internals.ColumnAttribute)Boolean" id="48389">_addColumnAttribute</a><span class="delimiter">(</span><a title="org.squeryl.internals.ColumnAttribute" id="51783">ca</a>: <a href="ColumnAttribute.scala.html#12571" title="org.squeryl.internals.ColumnAttribute">ColumnAttribute</a><span class="delimiter">)</span> =
      <a href="#48386" title="=&gt; scala.collection.mutable.HashSet[org.squeryl.internals.ColumnAttribute]">_columnAttributes</a>.<span title="(elem: org.squeryl.internals.ColumnAttribute)Boolean">add</span><span class="delimiter">(</span><a href="#51783" title="org.squeryl.internals.ColumnAttribute">ca</a><span class="delimiter">)</span>

  <span class="comment">/**
   * In some circumstances (like in the test suite) a Schema instance must run on multiple database types,
   * this Map keeps the sequence names 'per schema'
   */</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[java.lang.Class[_],String]" id="48390">_sequenceNamePerDBAdapter</a> = <span title="()scala.collection.mutable.HashMap[Class[_],String]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[Class[_],String]">HashMap</span><span class="delimiter">[</span>Class<span class="delimiter">[</span>_<span class="delimiter">]</span>,String<span class="delimiter">]</span>

  <span class="keyword">def</span> <a title="=&gt; String" id="48392">sequenceName</a>: <span title="String">String</span> = <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="org.squeryl.internals.AutoIncremented" id="96878">ai</a> = <a href="#48386" title="=&gt; scala.collection.mutable.HashSet[org.squeryl.internals.ColumnAttribute]">_columnAttributes</a>.<span title="(p: org.squeryl.internals.ColumnAttribute =&gt; Boolean)Option[org.squeryl.internals.ColumnAttribute]">find</span><span class="delimiter">(</span><a href="#96884" title="org.squeryl.internals.ColumnAttribute">_</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="ColumnAttribute.scala.html#12958" title="org.squeryl.internals.AutoIncremented">AutoIncremented</a><span class="delimiter">]</span><span class="delimiter">)</span>.
      <span title="(default: =&gt; org.squeryl.internals.ColumnAttribute)org.squeryl.internals.ColumnAttribute">getOrElse</span><span class="delimiter">(</span>org.squeryl.internals.<a href="Utils.scala.html#13022" title="object org.squeryl.internals.Utils">Utils</a>.<a href="Utils.scala.html#32775" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><a href="#12577" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="keyword">this</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; is not declared as autoIncremented, hence it has no sequenceName&quot;)" class="string">&quot; is not declared as autoIncremented, hence it has no sequenceName&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.
        <span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.internals.AutoIncremented" class="delimiter">[</span><a href="ColumnAttribute.scala.html#12958" title="org.squeryl.internals.AutoIncremented">AutoIncremented</a><span class="delimiter">]</span>

    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#96878" title="org.squeryl.internals.AutoIncremented">ai</a>.<a href="ColumnAttribute.scala.html#51885" title="=&gt; Option[String]">nameOfSequence</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object None">None</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Nothing" class="keyword">return</span> <a href="#96878" title="org.squeryl.internals.AutoIncremented">ai</a>.<a href="ColumnAttribute.scala.html#51885" title="=&gt; Option[String]">nameOfSequence</a>.<span title="=&gt; String">get</span>
    <span class="delimiter">}</span>

    <a href="#12577" title="(x$1: Nothing)Nothing">synchronized</a> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.lang.Class[_ &lt;: org.squeryl.internals.DatabaseAdapter]" id="96900">c</a> = <a href="../Session.scala.html#10079" title="object org.squeryl.Session">Session</a>.<a href="../Session.scala.html#36953" title="=&gt; org.squeryl.Session">currentSession</a>.<a href="../Session.scala.html#36964" title="=&gt; org.squeryl.internals.DatabaseAdapter">databaseAdapter</a>.<span title="()java.lang.Class[_]">getClass</span>

      <span class="keyword">val</span> <a title="Option[String]" id="96901">s</a> = <a href="#48390" title="=&gt; scala.collection.mutable.HashMap[java.lang.Class[_],String]">_sequenceNamePerDBAdapter</a>.<span title="(key: java.lang.Class[_])Option[String]">get</span><span class="delimiter">(</span><a href="#96900" title="java.lang.Class[_ &lt;: org.squeryl.internals.DatabaseAdapter]">c</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#96901" title="Option[String]">s</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object None">None</span><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">return</span> <a href="#96901" title="Option[String]">s</a>.<span title="=&gt; String">get</span>

      <span class="keyword">val</span> <a title="java.lang.String" id="96902">s0</a> = <a href="../Session.scala.html#10079" title="object org.squeryl.Session">Session</a>.<a href="../Session.scala.html#36953" title="=&gt; org.squeryl.Session">currentSession</a>.<a href="../Session.scala.html#36964" title="=&gt; org.squeryl.internals.DatabaseAdapter">databaseAdapter</a>.<a href="DatabaseAdapter.scala.html#37049" title="(fmd: org.squeryl.internals.FieldMetaData)java.lang.String">createSequenceName</a><span class="delimiter">(</span><a href="#12577" title="org.squeryl.internals.FieldMetaData" class="keyword">this</a><span class="delimiter">)</span>
      
      <a href="#48390" title="=&gt; scala.collection.mutable.HashMap[java.lang.Class[_],String]">_sequenceNamePerDBAdapter</a>.<span title="(key: java.lang.Class[_], value: String)Option[String]">put</span><span class="delimiter">(</span><a href="#96900" title="java.lang.Class[_ &lt;: org.squeryl.internals.DatabaseAdapter]">c</a>, <a href="#96902" title="java.lang.String">s0</a><span class="delimiter">)</span>

      <span title="Nothing" class="keyword">return</span> <a href="#96902" title="java.lang.String">s0</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="48393">isIdFieldOfKeyedEntity</a> =
    <span class="delimiter">(</span>classOf<span title="java.lang.Class[org.squeryl.KeyedEntity[Any]](classOf[org.squeryl.KeyedEntity])" class="delimiter">[</span>KeyedEntity<span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="(x$1: java.lang.Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#48421" title="=&gt; org.squeryl.internals.PosoMetaData[_]">parentMetaData</a>.<a href="PosoMetaData.scala.html#37247" title="(=&gt; java.lang.Class[_$1]) forSome { type _$1 }">clasz</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#48422" title="=&gt; String">nameOfProperty</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;id&quot;)" class="string">&quot;id&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
    <span class="delimiter">(</span>classOf<span title="java.lang.Class[org.squeryl.IndirectKeyedEntity[_, _]](classOf[org.squeryl.IndirectKeyedEntity])" class="delimiter">[</span>IndirectKeyedEntity<span class="delimiter">[</span>_,_<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="(x$1: java.lang.Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#48421" title="=&gt; org.squeryl.internals.PosoMetaData[_]">parentMetaData</a>.<a href="PosoMetaData.scala.html#37247" title="(=&gt; java.lang.Class[_$1]) forSome { type _$1 }">clasz</a><span class="delimiter">)</span>  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#48422" title="=&gt; String">nameOfProperty</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;idField&quot;)" class="string">&quot;idField&quot;</span><span class="delimiter">)</span>

  <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#48393" title="=&gt; Boolean">isIdFieldOfKeyedEntity</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span> classOf<span title="java.lang.Class[org.squeryl.dsl.CompositeKey](classOf[org.squeryl.dsl.CompositeKey])" class="delimiter">[</span>CompositeKey<span class="delimiter">]</span>.<span title="(x$1: java.lang.Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#48424" title="=&gt; Class[_]">wrappedFieldType</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#48403" title="=&gt; org.squeryl.Schema">schema</a>.<a href="../Schema.scala.html#16669" title="(typeOfIdField: Class[_])scala.collection.immutable.Set[_ &gt;: org.squeryl.internals.PrimaryKey &lt;: Product with Serializable with org.squeryl.internals.AttributeValidOnNumericalColumn]">defaultColumnAttributesForKeyedEntityId</a><span class="delimiter">(</span><a href="#48424" title="=&gt; Class[_]">wrappedFieldType</a><span class="delimiter">)</span>.<span title="(f: _48 =&gt; Boolean)Unit">foreach</span><span class="delimiter">(</span><a title="_48" id="96976">ca</a> =&gt; <span class="delimiter">{</span>

      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#96976" title="_48">ca</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="ColumnAttribute.scala.html#12958" title="org.squeryl.internals.AutoIncremented">AutoIncremented</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span> <span class="delimiter">(</span><a href="#48424" title="=&gt; Class[_]">wrappedFieldType</a>.<span title="(x$1: java.lang.Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[java.lang.Long](classOf[java.lang.Long])" class="delimiter">[</span>java.lang.Long<span class="delimiter">]</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#48424" title="=&gt; Class[_]">wrappedFieldType</a>.<span title="(x$1: java.lang.Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[java.lang.Integer](classOf[java.lang.Integer])" class="delimiter">[</span>java.lang.Integer<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        org.squeryl.internals.<a href="Utils.scala.html#13022" title="object org.squeryl.internals.Utils">Utils</a>.<a href="Utils.scala.html#32775" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Schema &quot;)" class="string">&quot;Schema &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#48403" title="=&gt; org.squeryl.Schema">schema</a>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.String">getName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; has method defaultColumnAttributesForKeyedEntityId returning AutoIncremented \012for &quot;)" class="string">&quot; has method defaultColumnAttributesForKeyedEntityId returning AutoIncremented \nfor &quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
          <span title="java.lang.String(&quot; all KeyedEntity tables, while class &quot;)" class="string">&quot; all KeyedEntity tables, while class &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#48421" title="=&gt; org.squeryl.internals.PosoMetaData[_]">parentMetaData</a>.<a href="PosoMetaData.scala.html#37247" title="(=&gt; java.lang.Class[_$1]) forSome { type _$1 }">clasz</a>.<span title="()java.lang.String">getName</span> <span title="(x$1: Any)java.lang.String">+</span>
          <span title="java.lang.String(&quot;\012 has it\'s id field of type &quot;)" class="string">&quot;\n has it's id field of type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#48423" title="=&gt; Class[_]">fieldType</a>.<span title="()java.lang.String">getName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, that is neither an Int or a Long, \012 the only two types that can &quot;)" class="string">&quot;, that is neither an Int or a Long, \n the only two types that can &quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
          <span title="java.lang.String(&quot;be auto incremented&quot;)" class="string">&quot;be auto incremented&quot;</span><span class="delimiter">)</span>

      <a href="#48389" title="(ca: org.squeryl.internals.ColumnAttribute)Boolean">_addColumnAttribute</a><span class="delimiter">(</span><a href="#96976" title="_48">ca</a><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="delimiter">[</span>squeryl<span class="delimiter">]</span> <span class="keyword">var</span> <a title="Option[org.squeryl.dsl.ast.ConstantExpressionNode[_]]" id="48395">_defaultValue</a>: <span title="Option[org.squeryl.dsl.ast.ConstantExpressionNode[_]]">Option</span><span class="delimiter">[</span>ConstantExpressionNode<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="object None">None</span>

  <span class="keyword">def</span> <a title="=&gt; Iterable[org.squeryl.internals.ColumnAttribute]" id="48397">columnAttributes</a>: <span title="Iterable[org.squeryl.internals.ColumnAttribute]">Iterable</span><span class="delimiter">[</span>ColumnAttribute<span class="delimiter">]</span> = <a href="#48386" title="=&gt; scala.collection.mutable.HashSet[org.squeryl.internals.ColumnAttribute]">_columnAttributes</a>

  <span class="keyword">def</span> <a title="=&gt; Option[org.squeryl.dsl.ast.ConstantExpressionNode[_]]" id="48398">defaultValue</a>: <span title="Option[org.squeryl.dsl.ast.ConstantExpressionNode[_]]">Option</span><span class="delimiter">[</span>ConstantExpressionNode<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#48395" title="=&gt; Option[org.squeryl.dsl.ast.ConstantExpressionNode[_]]">_defaultValue</a>

  <span class="comment">/**
   * The db column type declaration overriden in the schema, if None, it means that it is the default value for
   * the adapter (see Correspondance of field types to database column types http://squeryl.org/schema-definition.html)  
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Option[String]" id="48399">explicitDbTypeDeclaration</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Option[org.squeryl.internals.ColumnAttribute]" id="96988">dbt</a> = <a href="#48386" title="=&gt; scala.collection.mutable.HashSet[org.squeryl.internals.ColumnAttribute]">_columnAttributes</a>.<span title="(p: org.squeryl.internals.ColumnAttribute =&gt; Boolean)Option[org.squeryl.internals.ColumnAttribute]">find</span><span class="delimiter">(</span><a href="#96990" title="org.squeryl.internals.ColumnAttribute">_</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="ColumnAttribute.scala.html#12613" title="org.squeryl.internals.DBType">DBType</a><span class="delimiter">]</span><span class="delimiter">)</span>
    <span title="Option[String]" class="keyword">if</span><span class="delimiter">(</span><a href="#96988" title="Option[org.squeryl.internals.ColumnAttribute]">dbt</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span>
      <span title="object None">None</span>
    <span class="keyword">else</span>
      <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="#96988" title="Option[org.squeryl.internals.ColumnAttribute]">dbt</a>.<span title="=&gt; org.squeryl.internals.ColumnAttribute">get</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.internals.DBType" class="delimiter">[</span><a href="ColumnAttribute.scala.html#12613" title="org.squeryl.internals.DBType">DBType</a><span class="delimiter">]</span>.<a href="ColumnAttribute.scala.html#55718" title="=&gt; String">declaration</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="48400">isCustomType</a> = <a href="#48425" title="=&gt; Option[AnyRef =&gt; Product1[Any] with AnyRef]">customTypeFactory</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object None">None</span>

  <span class="comment">/**
   * @return the length defined in org.squeryl.annotations.Column.length
   * if it is defined, or the default length for Java primitive types.
   * The unit of the length is dependent on the type, the convention is
   * that numeric types have a length in byte, boolean is bits
   * date has -1, and for string the lenght is in chars.  
   * double,long -&gt; 8, float,int -&gt; 4, byte -&gt; 1, boolean -&gt; 1
   * java.util.Date -&gt; -1.
   *
   * The use of this field is to help custom schema generators select
   * the most appropriate column type  
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Int" id="48401">length</a>: <span title="Int">Int</span> =
    <span title="Int" class="keyword">if</span><span class="delimiter">(</span><a href="#48430" title="Option[org.squeryl.annotations.package.Column]">columnAnnotation</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span> <span title="(x: Boolean)Boolean">||</span> <a href="#48430" title="Option[org.squeryl.annotations.package.Column]">columnAnnotation</a>.<span title="=&gt; org.squeryl.annotations.package.Column">get</span>.<a href="../annotations/ColumnBase.java.html#45593" title="()Int">length</a> <span title="(x: Int)Boolean">==</span> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span>
      <a href="#12578" title="object org.squeryl.internals.FieldMetaData">FieldMetaData</a>.<a href="#45520" title="(fieldType: Class[_], fmd: org.squeryl.internals.FieldMetaData)Int">defaultFieldLength</a><span class="delimiter">(</span><a href="#48424" title="=&gt; Class[_]">wrappedFieldType</a>, <a href="#12577" title="org.squeryl.internals.FieldMetaData" class="keyword">this</a><span class="delimiter">)</span>
    <span class="keyword">else</span>
      <a href="#48430" title="Option[org.squeryl.annotations.package.Column]">columnAnnotation</a>.<span title="=&gt; org.squeryl.annotations.package.Column">get</span>.<a href="../annotations/ColumnBase.java.html#45593" title="()Int">length</a>

  <span class="keyword">def</span> <a title="=&gt; Int" id="48402">scale</a>: <span title="Int">Int</span> =
    <span title="Int" class="keyword">if</span><span class="delimiter">(</span><a href="#48430" title="Option[org.squeryl.annotations.package.Column]">columnAnnotation</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span> <span title="(x: Boolean)Boolean">||</span> <a href="#48430" title="Option[org.squeryl.annotations.package.Column]">columnAnnotation</a>.<span title="=&gt; org.squeryl.annotations.package.Column">get</span>.<a href="../annotations/ColumnBase.java.html#45594" title="()Int">scale</a> <span title="(x: Int)Boolean">==</span> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span>
      <a href="#48403" title="=&gt; org.squeryl.Schema">schema</a>.<a href="../Schema.scala.html#16660" title="=&gt; (Int, Int)">defaultSizeOfBigDecimal</a>.<span title="=&gt; Int">_2</span>
    <span class="keyword">else</span>
      <a href="#48430" title="Option[org.squeryl.annotations.package.Column]">columnAnnotation</a>.<span title="=&gt; org.squeryl.annotations.package.Column">get</span>.<a href="../annotations/ColumnBase.java.html#45594" title="()Int">scale</a>   

  <span class="keyword">def</span> <a title="=&gt; org.squeryl.Schema" id="48403">schema</a> = <a href="#48421" title="=&gt; org.squeryl.internals.PosoMetaData[_]">parentMetaData</a>.<a href="PosoMetaData.scala.html#37249" title="=&gt; org.squeryl.Schema">schema</a>

  <span class="comment">/**
   * The name of the database column
   */</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="48404">columnName</a> =
    <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#48430" title="Option[org.squeryl.annotations.package.Column]">columnAnnotation</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Option[String]" id="49558">nameDefinedInSchema</a> = <a href="#48386" title="=&gt; scala.collection.mutable.HashSet[org.squeryl.internals.ColumnAttribute]">_columnAttributes</a>.<span title="(p: org.squeryl.internals.ColumnAttribute =&gt; Boolean)Option[org.squeryl.internals.ColumnAttribute]">find</span><span class="delimiter">(</span><a href="#49565" title="org.squeryl.internals.ColumnAttribute">_</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="ColumnAttribute.scala.html#13153" title="org.squeryl.internals.Named">Named</a><span class="delimiter">]</span><span class="delimiter">)</span>.<span title="(f: org.squeryl.internals.ColumnAttribute =&gt; String)Option[String]">map</span><span class="delimiter">(</span><a href="#49575" title="org.squeryl.internals.ColumnAttribute">_</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.internals.Named" class="delimiter">[</span><a href="ColumnAttribute.scala.html#13153" title="org.squeryl.internals.Named">Named</a><span class="delimiter">]</span>.<a href="ColumnAttribute.scala.html#49567" title="=&gt; String">name</a><span class="delimiter">)</span>      
      <a href="#48421" title="=&gt; org.squeryl.internals.PosoMetaData[_]">parentMetaData</a>.<a href="PosoMetaData.scala.html#37249" title="=&gt; org.squeryl.Schema">schema</a>.<a href="../Schema.scala.html#16613" title="(propertyName: String)String">columnNameFromPropertyName</a><span class="delimiter">(</span><a href="#49558" title="Option[String]">nameDefinedInSchema</a>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><a href="#48422" title="=&gt; String">nameOfProperty</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.squeryl.annotations.package.Column" id="49582">ca</a> = <a href="#48430" title="Option[org.squeryl.annotations.package.Column]">columnAnnotation</a>.<span title="=&gt; org.squeryl.annotations.package.Column">get</span>
      <span class="keyword">var</span> <a title="java.lang.String" id="49583">res</a> = <a href="#49582" title="org.squeryl.annotations.package.Column">ca</a>.<a href="../annotations/ColumnBase.java.html#45592" title="()java.lang.String">name</a>

      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#49583" title="java.lang.String">res</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
        <a href="#49583" title="java.lang.String">res</a> = <a href="#49582" title="org.squeryl.annotations.package.Column">ca</a>.<a href="../annotations/ColumnBase.java.html#45591" title="()java.lang.String">value</a>

      <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#49583" title="java.lang.String">res</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
        <a href="#48421" title="=&gt; org.squeryl.internals.PosoMetaData[_]">parentMetaData</a>.<a href="PosoMetaData.scala.html#37249" title="=&gt; org.squeryl.Schema">schema</a>.<a href="../Schema.scala.html#16613" title="(propertyName: String)String">columnNameFromPropertyName</a><span class="delimiter">(</span><a href="#48422" title="=&gt; String">nameOfProperty</a><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="#49583" title="java.lang.String">res</a>
    <span class="delimiter">}</span>
  
  <span class="keyword">val</span> <a title="(java.sql.ResultSet, Int) =&gt; AnyRef" id="48405">resultSetHandler</a> =
    <a href="#12578" title="object org.squeryl.internals.FieldMetaData">FieldMetaData</a>.<a href="#45529" title="(c: Class[_])(java.sql.ResultSet, Int) =&gt; AnyRef">resultSetHandlerFor</a><span class="delimiter">(</span><a href="#48424" title="=&gt; Class[_]">wrappedFieldType</a><span class="delimiter">)</span>

  <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#48400" title="=&gt; Boolean">isCustomType</a><span class="delimiter">)</span>
    <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#48423" title="=&gt; Class[_]">fieldType</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#48424" title="=&gt; Class[_]">wrappedFieldType</a>,
      <span title="java.lang.String(&quot;expected fieldType == wrappedFieldType in primitive type mode, got &quot;)" class="string">&quot;expected fieldType == wrappedFieldType in primitive type mode, got &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
      <a href="#48423" title="=&gt; Class[_]">fieldType</a>.<span title="()java.lang.String">getName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; != &quot;)" class="string">&quot; != &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#48424" title="=&gt; Class[_]">wrappedFieldType</a>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="48407">toString</a> =
    <a href="#48421" title="=&gt; org.squeryl.internals.PosoMetaData[_]">parentMetaData</a>.<a href="PosoMetaData.scala.html#37247" title="(=&gt; java.lang.Class[_$1]) forSome { type _$1 }">clasz</a>.<span title="()java.lang.String">getSimpleName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#48404" title="=&gt; String">columnName</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#48409" title="=&gt; java.lang.String">displayType</a>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="48408">isStringType</a> =
    <a href="#48424" title="=&gt; Class[_]">wrappedFieldType</a>.<span title="(x$1: java.lang.Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[String](classOf[java.lang.String])" class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>  

  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="48409">displayType</a> =
     <span class="delimiter">(</span><span title="java.lang.String" class="keyword">if</span><span class="delimiter">(</span><a href="#48426" title="=&gt; Boolean">isOption</a><span class="delimiter">)</span>
        <span title="java.lang.String(&quot;Option[&quot;)" class="string">&quot;Option[&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#48423" title="=&gt; Class[_]">fieldType</a>.<span title="()java.lang.String">getName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span>
      <span class="keyword">else</span>
        <a href="#48423" title="=&gt; Class[_]">fieldType</a>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>

  <span class="comment">/**
   * When true, will cause Schema generation to declare as PrimaryKey, Note that for
   * KeyedEntity[]s,  declaredAsPrimaryKeyInSchema is always true, and the cannot be made otherwise,
   * the inverse is not true, a field can be declared as primary key in the Shema without it being the
   * id of a KeyedEntity[], ex. :
   *  
   * &lt;pre&gt;
   * on(myTable)(t =&gt;declare(
   *   myField.is(primaryKey)  // myField doesn't need to be a KeyedEntity.id 
   * ))
   * &lt;/pre&gt;
   * 
   * &lt;pre&gt;
   * on(myKeyedEntityTable)(t =&gt;declare(
   *   id.is(autoIncremented)  // omiting primaryKey here has no effect, it is equivalent as id.is(primaryKey,autoIncremented)
   * ))
   * &lt;/pre&gt;
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="48410">declaredAsPrimaryKeyInSchema</a> =
    <a href="#48397" title="=&gt; Iterable[org.squeryl.internals.ColumnAttribute]">columnAttributes</a>.<span title="(p: org.squeryl.internals.ColumnAttribute =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#48913" title="org.squeryl.internals.ColumnAttribute">_</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="ColumnAttribute.scala.html#12676" title="org.squeryl.internals.PrimaryKey">PrimaryKey</a><span class="delimiter">]</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="48411">isAutoIncremented</a> =
    <a href="#48397" title="=&gt; Iterable[org.squeryl.internals.ColumnAttribute]">columnAttributes</a>.<span title="(p: org.squeryl.internals.ColumnAttribute =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#62889" title="org.squeryl.internals.ColumnAttribute">_</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="ColumnAttribute.scala.html#12958" title="org.squeryl.internals.AutoIncremented">AutoIncremented</a><span class="delimiter">]</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Inserts will only set values for a column if isInsertable is true
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="48412">isInsertable</a> =
    <span title="=&gt; Boolean">!</span><a href="#48397" title="=&gt; Iterable[org.squeryl.internals.ColumnAttribute]">columnAttributes</a>.<span title="(p: org.squeryl.internals.ColumnAttribute =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#63798" title="org.squeryl.internals.ColumnAttribute">_</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="ColumnAttribute.scala.html#12679" title="org.squeryl.internals.Uninsertable">Uninsertable</a><span class="delimiter">]</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Updates will only set values for a column if isUpdatable is true
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="48413">isUpdatable</a> =
    <span title="=&gt; Boolean">!</span><a href="#48397" title="=&gt; Iterable[org.squeryl.internals.ColumnAttribute]">columnAttributes</a>.<span title="(p: org.squeryl.internals.ColumnAttribute =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#64042" title="org.squeryl.internals.ColumnAttribute">_</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="ColumnAttribute.scala.html#12490" title="org.squeryl.internals.Unupdatable">Unupdatable</a><span class="delimiter">]</span><span class="delimiter">)</span>

  <span class="comment">/**
   *  gets the value of the field from the object.
   * Note that it will unwrap Option[] and return null instead of None, i.e.
   * if converts None and Some to null and some.get respectively 
   * @arg o the object that owns the field
   */</span>
  <span class="keyword">def</span> <a title="(o: AnyRef)AnyRef" id="48414">get</a><span class="delimiter">(</span><a title="AnyRef" id="64328">o</a>:<span title="AnyRef">AnyRef</span><span class="delimiter">)</span>: <span title="AnyRef">AnyRef</span> =
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.lang.Object" id="97201">res</a> =
        <span title="java.lang.Object" class="keyword">if</span><span class="delimiter">(</span><a href="#48427" title="Option[java.lang.reflect.Method]">getter</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object None">None</span><span class="delimiter">)</span>
          <a href="#48417" title="(o: AnyRef)java.lang.Object">_getFromGetter</a><span class="delimiter">(</span><a href="#64328" title="AnyRef">o</a><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="#48419" title="(o: AnyRef)java.lang.Object">_getFromField</a><span class="delimiter">(</span><a href="#64328" title="AnyRef">o</a><span class="delimiter">)</span>

      <span title="AnyRef" class="keyword">if</span><span class="delimiter">(</span><a href="#48426" title="=&gt; Boolean">isOption</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="AnyRef" class="keyword">if</span><span class="delimiter">(</span><a href="#97201" title="java.lang.Object">res</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span>
          <span title="Null(null)" class="keyword">null</span>
        <span class="keyword">else</span>
          <a href="#97201" title="java.lang.Object">res</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Option[_$9]" class="delimiter">[</span><span title="Option[_]">Option</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="=&gt; _$9">get</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span>
        <a href="#97201" title="java.lang.Object">res</a>
    <span class="delimiter">}</span>
    <span class="keyword">catch</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Nothing" id="97221">e</a>: <span title="IllegalArgumentException">IllegalArgumentException</span> =&gt; org.squeryl.internals.<a href="Utils.scala.html#13022" title="object org.squeryl.internals.Utils">Utils</a>.<a href="Utils.scala.html#32775" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><a href="#48424" title="=&gt; Class[_]">wrappedFieldType</a>.<span title="()java.lang.String">getName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; used on &quot;)" class="string">&quot; used on &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#64328" title="AnyRef">o</a>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(target: AnyRef, rs: java.sql.ResultSet, index: Int)Unit" id="48415">setFromResultSet</a><span class="delimiter">(</span><a title="AnyRef" id="62893">target</a>: <span title="AnyRef">AnyRef</span>, <a title="java.sql.ResultSet" id="62894">rs</a>: <span title="java.sql.ResultSet">ResultSet</span>, <a title="Int" id="62895">index</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="AnyRef" id="62898">v</a> = <a href="#48405" title="(v1: java.sql.ResultSet, v2: Int)AnyRef">resultSetHandler</a><span class="delimiter">(</span><a href="#62894" title="java.sql.ResultSet">rs</a>, <a href="#62895" title="Int">index</a><span class="delimiter">)</span>
    <a href="#48416" title="(target: AnyRef, v: AnyRef)Unit">set</a><span class="delimiter">(</span><a href="#62893" title="AnyRef">target</a>, <a href="#62898" title="AnyRef">v</a><span class="delimiter">)</span>    
  <span class="delimiter">}</span>
  
  <span class="comment">/**
   * Sets the value 'v' to the object, the value will be converted to Some or None
   * if the field is an Option[], (if isOption).   
   */</span>
  <span class="keyword">def</span> <a title="(target: AnyRef, v: AnyRef)Unit" id="48416">set</a><span class="delimiter">(</span><a title="AnyRef" id="63622">target</a>: <span title="AnyRef">AnyRef</span>, <a title="AnyRef" id="63623">v</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="AnyRef" id="63626">v0</a>: <span title="AnyRef">AnyRef</span> =
        <span title="AnyRef" class="keyword">if</span><span class="delimiter">(</span><a href="#63623" title="AnyRef">v</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <span title="Null(null)" class="keyword">null</span>
        <span class="keyword">else</span> <span title="AnyRef" class="keyword">if</span><span class="delimiter">(</span><a href="#48384" title="=&gt; Boolean">isEnumeration</a><span class="delimiter">)</span>
          <a href="#48385" title="(id: Int)Option[Enumeration#Value]">canonicalEnumerationValueFor</a><span class="delimiter">(</span><a href="#63623" title="AnyRef">v</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="java.lang.Integer" class="delimiter">[</span>java.lang.<span title="java.lang.Integer">Integer</span><span class="delimiter">]</span>.<span title="()Int">intValue</span><span class="delimiter">)</span>.<span title="=&gt; Enumeration#Value">get</span>
        <span class="keyword">else</span> <span title="AnyRef" class="keyword">if</span><span class="delimiter">(</span><a href="#48425" title="=&gt; Option[AnyRef =&gt; Product1[Any] with AnyRef]">customTypeFactory</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span>
          <a href="#63623" title="AnyRef">v</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="AnyRef =&gt; Product1[Any] with AnyRef" id="63694">f</a> = <a href="#48425" title="=&gt; Option[AnyRef =&gt; Product1[Any] with AnyRef]">customTypeFactory</a>.<span title="=&gt; AnyRef =&gt; Product1[Any] with AnyRef">get</span>

          <span title="AnyRef" class="keyword">if</span><span class="delimiter">(</span><a href="#63623" title="AnyRef">v</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../customtypes/CustomTypesMode.scala.html#10627" title="org.squeryl.customtypes.CustomType[_]">CustomType</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Any" id="63703">r</a> = <a href="#63623" title="AnyRef">v</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.customtypes.CustomType[_$11]" class="delimiter">[</span><a href="../customtypes/CustomTypesMode.scala.html#10627" title="org.squeryl.customtypes.CustomType[_]">CustomType</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span>.<a href="../customtypes/CustomTypesMode.scala.html#63700" title="=&gt; _$11">_1</a>
            <a href="#63694" title="(v1: AnyRef)Product1[Any] with AnyRef">f</a><span class="delimiter">(</span><span title="AnyRef" class="keyword">if</span><span class="delimiter">(</span><a href="#63703" title="Any">r</a> <span title="(x$1: Any)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Null(null)" class="keyword">null</span> <span class="keyword">else</span> <a href="#63703" title="Any">r</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
           <a href="#63694" title="(v1: AnyRef)Product1[Any] with AnyRef">f</a><span class="delimiter">(</span><a href="#63623" title="AnyRef">v</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="AnyRef" id="63627">actualValue</a> =
        <span title="AnyRef" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#48426" title="=&gt; Boolean">isOption</a><span class="delimiter">)</span>
          <a href="#63626" title="AnyRef">v0</a>
        <span class="keyword">else</span> <span title="Option[AnyRef]" class="keyword">if</span><span class="delimiter">(</span><a href="#63626" title="AnyRef">v0</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <span title="object None">None</span>
        <span class="keyword">else</span>
          <span title="(x: AnyRef)Some[AnyRef]">Some</span><span class="delimiter">(</span><a href="#63626" title="AnyRef">v0</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Any" id="63628">res</a> =
        <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="#48428" title="Option[java.lang.reflect.Method]">setter</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object None">None</span><span class="delimiter">)</span>
          <a href="#48418" title="(target: AnyRef, v: AnyRef)java.lang.Object">_setWithSetter</a><span class="delimiter">(</span><a href="#63622" title="AnyRef">target</a>, <a href="#63627" title="AnyRef">actualValue</a><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="#48420" title="(target: AnyRef, v: AnyRef)Unit">_setWithField</a><span class="delimiter">(</span><a href="#63622" title="AnyRef">target</a>, <a href="#63627" title="AnyRef">actualValue</a><span class="delimiter">)</span>
    <span title="Unit" class="delimiter">}</span>
    <span class="keyword">catch</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Nothing" id="63755">e</a>: <span title="IllegalArgumentException">IllegalArgumentException</span> =&gt; <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="java.lang.String" id="63756">typeOfV</a> = <span title="java.lang.String" class="keyword">if</span><span class="delimiter">(</span><a href="#63623" title="AnyRef">v</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;null&quot;)" class="string">&quot;null&quot;</span> <span class="keyword">else</span> <a href="#63623" title="AnyRef">v</a>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.String">getName</span>
        org.squeryl.internals.<a href="Utils.scala.html#13022" title="object org.squeryl.internals.Utils">Utils</a>.<a href="Utils.scala.html#32775" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span>
          <a href="#12577" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="keyword">this</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; was invoked with value \'&quot;)" class="string">&quot; was invoked with value '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#63623" title="AnyRef">v</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\' of type &quot;)" class="string">&quot;' of type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#63756" title="java.lang.String">typeOfV</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; on object of type &quot;)" class="string">&quot; on object of type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#63622" title="AnyRef">target</a>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.String">getName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; \012&quot;)" class="string">&quot; \n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#63755" title="IllegalArgumentException">e</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(o: AnyRef)java.lang.Object" id="48417">_getFromGetter</a><span class="delimiter">(</span><a title="AnyRef" id="97206">o</a>:<span title="AnyRef">AnyRef</span><span class="delimiter">)</span> =
    <a href="#48427" title="Option[java.lang.reflect.Method]">getter</a>.<span title="=&gt; java.lang.reflect.Method">get</span>.<span title="(x$1: Any, x$2: &lt;repeated...&gt;[java.lang.Object])java.lang.Object">invoke</span><span class="delimiter">(</span><a href="#97206" title="AnyRef">o</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(target: AnyRef, v: AnyRef)java.lang.Object" id="48418">_setWithSetter</a><span class="delimiter">(</span><a title="AnyRef" id="63739">target</a>: <span title="AnyRef">AnyRef</span>, <a title="AnyRef" id="63740">v</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> =
    <a href="#48428" title="Option[java.lang.reflect.Method]">setter</a>.<span title="=&gt; java.lang.reflect.Method">get</span>.<span title="(x$1: Any, x$2: &lt;repeated...&gt;[java.lang.Object])java.lang.Object">invoke</span><span class="delimiter">(</span><a href="#63739" title="AnyRef">target</a>, <a href="#63740" title="AnyRef">v</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(o: AnyRef)java.lang.Object" id="48419">_getFromField</a><span class="delimiter">(</span><a title="AnyRef" id="97209">o</a>:<span title="AnyRef">AnyRef</span><span class="delimiter">)</span> =
    <a href="#48429" title="Option[java.lang.reflect.Field]">field</a>.<span title="=&gt; java.lang.reflect.Field">get</span>.<span title="(x$1: Any)java.lang.Object">get</span><span class="delimiter">(</span><a href="#97209" title="AnyRef">o</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(target: AnyRef, v: AnyRef)Unit" id="48420">_setWithField</a><span class="delimiter">(</span><a title="AnyRef" id="63743">target</a>: <span title="AnyRef">AnyRef</span>, <a title="AnyRef" id="63744">v</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> =
    <a href="#48429" title="Option[java.lang.reflect.Field]">field</a>.<span title="=&gt; java.lang.reflect.Field">get</span>.<span title="(x$1: Any, x$2: Any)Unit">set</span><span class="delimiter">(</span><a href="#63743" title="AnyRef">target</a>, <a href="#63744" title="AnyRef">v</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait FieldMetaDataFactory extends java.lang.Object with ScalaObject" id="12619">FieldMetaDataFactory</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(o: AnyRef, f: java.lang.reflect.Field)Boolean" id="45535">hideFromYieldInspection</a><span class="delimiter">(</span><a title="AnyRef" id="97226">o</a>: <span title="AnyRef">AnyRef</span>, <a title="java.lang.reflect.Field" id="97227">f</a>: <span title="java.lang.reflect.Field">Field</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">def</span> <a title="(parentMetaData: org.squeryl.internals.PosoMetaData[_], name: String, property: (Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation]), sampleInstance4OptionTypeDeduction: AnyRef, isOptimisticCounter: Boolean)org.squeryl.internals.FieldMetaData" id="45536">build</a><span class="delimiter">(</span><a title="org.squeryl.internals.PosoMetaData[_]" id="45556">parentMetaData</a>: <a href="PosoMetaData.scala.html#12658" title="org.squeryl.internals.PosoMetaData[_]">PosoMetaData</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="String" id="45557">name</a>: <span title="String">String</span>, <a title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])" id="45558">property</a>: <span title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])" class="delimiter">(</span>Option<span class="delimiter">[</span>Field<span class="delimiter">]</span>, Option<span class="delimiter">[</span>Method<span class="delimiter">]</span>, Option<span class="delimiter">[</span>Method<span class="delimiter">]</span>, Set<span class="delimiter">[</span>Annotation<span class="delimiter">]</span><span class="delimiter">)</span>, <a title="AnyRef" id="45559">sampleInstance4OptionTypeDeduction</a>: <span title="AnyRef">AnyRef</span>, <a title="Boolean" id="45560">isOptimisticCounter</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="#12577" title="org.squeryl.internals.FieldMetaData">FieldMetaData</a>

  <span class="keyword">def</span> <a title="(c: Class[_])Boolean" id="45537">isSupportedFieldType</a><span class="delimiter">(</span><a title="Class[_]" id="97230">c</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <a href="#12578" title="object org.squeryl.internals.FieldMetaData">FieldMetaData</a>.<a href="#45514" title="=&gt; java.lang.Object with org.squeryl.internals.FieldTypeHandler[Boolean]">_isSupportedFieldType</a>.<a href="FieldTypeHandler.scala.html#62916" title="(t: Class[_], fmd: Option[org.squeryl.internals.FieldMetaData])Boolean">handleType</a><span class="delimiter">(</span><a href="#97230" title="Class[_]">c</a>, <span title="object None">None</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(posoMetaData: org.squeryl.internals.PosoMetaData[_])() =&gt; AnyRef" id="45538">createPosoFactory</a><span class="delimiter">(</span><a title="org.squeryl.internals.PosoMetaData[_]" id="45544">posoMetaData</a>: <a href="PosoMetaData.scala.html#12658" title="org.squeryl.internals.PosoMetaData[_]">PosoMetaData</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span class="delimiter">(</span><span class="delimiter">)</span>=&gt;AnyRef
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object org.squeryl.internals.FieldMetaData" id="12578">FieldMetaData</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Array[java.lang.Object]" id="45512">_EMPTY_ARRAY</a> = <span title="Array[java.lang.Object]" class="keyword">new</span> <span title="Array[java.lang.Object]">Array</span><span class="delimiter">[</span>Object<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="delimiter">[</span>squeryl<span class="delimiter">]</span> <span class="keyword">val</span> <a title="_isSupportedFieldType extends java.lang.Object with org.squeryl.internals.FieldTypeHandler[Boolean]" id="45514">_isSupportedFieldType</a> = <a href="#86169" title="java.lang.Object with org.squeryl.internals.FieldTypeHandler[Boolean]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with org.squeryl.internals.FieldTypeHandler[Boolean]" id="86169">FieldTypeHandler</a><span class="delimiter">[</span>Boolean<span class="delimiter">]</span> <span class="delimiter">{</span>

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="86171">handleIntType</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="86172">handleStringType</a>  = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="(fmd: Option[org.squeryl.internals.FieldMetaData])Boolean" id="86173">handleStringType</a><span class="delimiter">(</span><a title="Option[org.squeryl.internals.FieldMetaData]" id="86196">fmd</a>: <span title="Option[org.squeryl.internals.FieldMetaData]">Option</span><span class="delimiter">[</span>FieldMetaData<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="86174">handleBooleanType</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="86175">handleDoubleType</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="86176">handleDateType</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="86177">handleLongType</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="86178">handleFloatType</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="(fmd: Option[org.squeryl.internals.FieldMetaData])Boolean" id="86179">handleBigDecimalType</a><span class="delimiter">(</span><a title="Option[org.squeryl.internals.FieldMetaData]" id="86216">fmd</a>: <span title="Option[org.squeryl.internals.FieldMetaData]">Option</span><span class="delimiter">[</span>FieldMetaData<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="86180">handleTimestampType</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="86181">handleBinaryType</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="86182">handleEnumerationValueType</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="86183">handleUuidType</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="(c: Class[_])Boolean" id="86184">handleUnknownType</a><span class="delimiter">(</span><a title="Class[_]" id="86231">c</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =
      <a href="#86231" title="Class[_]">c</a>.<span title="(x$1: java.lang.Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[Some[_]](classOf[scala.Some])" class="delimiter">[</span>Some<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
      classOf<span title="java.lang.Class[Product1[Any]](classOf[scala.Product1])" class="delimiter">[</span>Product1<span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="(x$1: java.lang.Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#86231" title="Class[_]">c</a><span class="delimiter">)</span>
        <span class="comment">//classOf[Some[_]].isAssignableFrom(c)</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">var</span> <a title="factory extends java.lang.Object with org.squeryl.internals.FieldMetaDataFactory" id="45517">factory</a> = <a href="#45533" title="java.lang.Object with org.squeryl.internals.FieldMetaDataFactory" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with org.squeryl.internals.FieldMetaDataFactory" id="45533">FieldMetaDataFactory</a> <span class="delimiter">{</span>   

    <span class="keyword">def</span> <a title="(posoMetaData: org.squeryl.internals.PosoMetaData[_])() =&gt; AnyRef" id="45540">createPosoFactory</a><span class="delimiter">(</span><a title="org.squeryl.internals.PosoMetaData[_]" id="45542">posoMetaData</a>: <a href="PosoMetaData.scala.html#12658" title="org.squeryl.internals.PosoMetaData[_]">PosoMetaData</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span class="delimiter">(</span><span class="delimiter">)</span>=&gt;AnyRef =
      <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="(java.lang.reflect.Constructor[_], Array[java.lang.Object])" id="48462">c</a> = <a href="#45542" title="org.squeryl.internals.PosoMetaData[_]">posoMetaData</a>.<a href="PosoMetaData.scala.html#37258" title="=&gt; (java.lang.reflect.Constructor[_], Array[java.lang.Object])">constructor</a>
        <a href="#48462" title="(java.lang.reflect.Constructor[_], Array[java.lang.Object])">c</a>.<span title="=&gt; java.lang.reflect.Constructor[_]">_1</span>.<span title="(x$1: &lt;repeated...&gt;[java.lang.Object])Any">newInstance</span><span class="delimiter">(</span><a href="#48462" title="(java.lang.reflect.Constructor[_], Array[java.lang.Object])">c</a>.<span title="=&gt; Array[java.lang.Object]">_2</span> :_*<span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span>;
      <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(parentMetaData: org.squeryl.internals.PosoMetaData[_], name: String, property: (Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation]), sampleInstance4OptionTypeDeduction: AnyRef, isOptimisticCounter: Boolean)org.squeryl.internals.FieldMetaData" id="45541">build</a><span class="delimiter">(</span><a title="org.squeryl.internals.PosoMetaData[_]" id="45550">parentMetaData</a>: <a href="PosoMetaData.scala.html#12658" title="org.squeryl.internals.PosoMetaData[_]">PosoMetaData</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="String" id="45551">name</a>: <span title="String">String</span>, <a title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])" id="45552">property</a>: <span title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])" class="delimiter">(</span>Option<span class="delimiter">[</span>Field<span class="delimiter">]</span>, Option<span class="delimiter">[</span>Method<span class="delimiter">]</span>, Option<span class="delimiter">[</span>Method<span class="delimiter">]</span>, Set<span class="delimiter">[</span>Annotation<span class="delimiter">]</span><span class="delimiter">)</span>, <a title="AnyRef" id="45553">sampleInstance4OptionTypeDeduction</a>: <span title="AnyRef">AnyRef</span>, <a title="Boolean" id="45554">isOptimisticCounter</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <span class="delimiter">{</span>

      <span class="keyword">val</span> <a title="Option[java.lang.reflect.Field]" id="45567">field</a>  = <a href="#45552" title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])">property</a>.<span title="=&gt; Option[java.lang.reflect.Field]">_1</span>
      <span class="keyword">val</span> <a title="Option[java.lang.reflect.Method]" id="45568">getter</a> = <a href="#45552" title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])">property</a>.<span title="=&gt; Option[java.lang.reflect.Method]">_2</span>
      <span class="keyword">val</span> <a title="Option[java.lang.reflect.Method]" id="45569">setter</a> = <a href="#45552" title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])">property</a>.<span title="=&gt; Option[java.lang.reflect.Method]">_3</span>
      <span class="keyword">val</span> <a title="Set[java.lang.annotation.Annotation]" id="45570">annotations</a> = <a href="#45552" title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])">property</a>.<span title="=&gt; Set[java.lang.annotation.Annotation]">_4</span>

      <span class="keyword">val</span> <a title="Option[org.squeryl.annotations.ColumnBase]" id="45571">colAnnotation</a> = <a href="#45570" title="Set[java.lang.annotation.Annotation]">annotations</a>.<span title="(p: java.lang.annotation.Annotation =&gt; Boolean)Option[java.lang.annotation.Annotation]">find</span><span class="delimiter">(</span><a title="java.lang.annotation.Annotation" id="45588">a</a> =&gt; <a href="#45588" title="java.lang.annotation.Annotation">a</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../annotations/ColumnBase.java.html#10566" title="org.squeryl.annotations.ColumnBase">ColumnBase</a><span class="delimiter">]</span><span class="delimiter">)</span>.<span title="(f: java.lang.annotation.Annotation =&gt; org.squeryl.annotations.ColumnBase)Option[org.squeryl.annotations.ColumnBase]">map</span><span class="delimiter">(</span><a title="java.lang.annotation.Annotation" id="45600">a</a> =&gt; <a href="#45600" title="java.lang.annotation.Annotation">a</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.annotations.ColumnBase" class="delimiter">[</span><a href="../annotations/ColumnBase.java.html#10566" title="org.squeryl.annotations.ColumnBase">ColumnBase</a><span class="delimiter">]</span><span class="delimiter">)</span>
      
      <span class="comment">/*
       * Retrieve the member in use, its class and its generic type
       */</span>
      <span class="keyword">var</span> <a href="#45573" title="(java.lang.reflect.Member, java.lang.Class[?0], java.lang.reflect.Type)" class="delimiter">(</a><a href="#45572" title="java.lang.reflect.Member" id="45573">member</a>, <a href="#45572" title="java.lang.Class[?0]" id="45574">clsOfField</a>, <a href="#45572" title="java.lang.reflect.Type" id="45575">typeOfField</a><span class="delimiter">)</span> =
        <span class="delimiter">(</span><a href="#45569" title="Option[java.lang.reflect.Method]">setter</a>.<span title="(f: java.lang.reflect.Method =&gt; (java.lang.reflect.Member, java.lang.Class[?0], java.lang.reflect.Type) forSome { type ?0 })Option[(java.lang.reflect.Member, java.lang.Class[?0], java.lang.reflect.Type) forSome { type ?0 }]">map</span><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="45606">s</a> =&gt; <span title="(_1: java.lang.reflect.Member, _2: java.lang.Class[?0], _3: java.lang.reflect.Type)(java.lang.reflect.Member, java.lang.Class[?0], java.lang.reflect.Type)" class="delimiter">(</span><a href="#45606" title="java.lang.reflect.Method">s</a>: <span title="java.lang.reflect.Member">Member</span>, <a href="#45606" title="java.lang.reflect.Method">s</a>.<span title="(xs: Array[java.lang.Class[_]])scala.collection.mutable.ArrayOps[java.lang.Class[_]]">getParameterTypes</span>.<span title="=&gt; java.lang.Class[_]">head</span>, <a href="#45606" title="java.lang.reflect.Method">s</a>.<span title="(xs: Array[java.lang.reflect.Type])scala.collection.mutable.ArrayOps[java.lang.reflect.Type]">getGenericParameterTypes</span>.<span title="=&gt; java.lang.reflect.Type">head</span><span class="delimiter">)</span><span class="delimiter">)</span>
          .<span title="(alternative: =&gt; Option[(java.lang.reflect.Member, java.lang.Class[?0], java.lang.reflect.Type) forSome { type ?0 }])Option[(java.lang.reflect.Member, java.lang.Class[?0], java.lang.reflect.Type) forSome { type ?0 }]">orElse</span><span class="delimiter">(</span><a href="#45568" title="Option[java.lang.reflect.Method]">getter</a>.<span title="(f: java.lang.reflect.Method =&gt; (java.lang.reflect.Member, java.lang.Class[?0], java.lang.reflect.Type) forSome { type ?0 })Option[(java.lang.reflect.Member, java.lang.Class[?0], java.lang.reflect.Type) forSome { type ?0 }]">map</span><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="47985">g</a> =&gt; <span title="(_1: java.lang.reflect.Member, _2: java.lang.Class[?0], _3: java.lang.reflect.Type)(java.lang.reflect.Member, java.lang.Class[?0], java.lang.reflect.Type)" class="delimiter">(</span><a href="#47985" title="java.lang.reflect.Method">g</a>: <span title="java.lang.reflect.Member">Member</span>, <a href="#47985" title="java.lang.reflect.Method">g</a>.<span title="()java.lang.Class[_]">getReturnType</span>, <a href="#47985" title="java.lang.reflect.Method">g</a>.<span title="()java.lang.reflect.Type">getGenericReturnType</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          .<span title="(alternative: =&gt; Option[(java.lang.reflect.Member, java.lang.Class[?0], java.lang.reflect.Type) forSome { type ?0 }])Option[(java.lang.reflect.Member, java.lang.Class[?0], java.lang.reflect.Type) forSome { type ?0 }]">orElse</span><span class="delimiter">(</span><a href="#45567" title="Option[java.lang.reflect.Field]">field</a>.<span title="(f: java.lang.reflect.Field =&gt; (java.lang.reflect.Member, java.lang.Class[?0], java.lang.Class[?0]) forSome { type ?0; type ?0 })Option[(java.lang.reflect.Member, java.lang.Class[?0], java.lang.Class[?0]) forSome { type ?0; type ?0 }]">map</span><span class="delimiter">(</span><a title="java.lang.reflect.Field" id="48014">f</a> =&gt; <span title="(_1: java.lang.reflect.Member, _2: java.lang.Class[?0], _3: java.lang.Class[?0])(java.lang.reflect.Member, java.lang.Class[?0], java.lang.Class[?0])" class="delimiter">(</span><a href="#48014" title="java.lang.reflect.Field">f</a>: <span title="java.lang.reflect.Member">Member</span>, <a href="#48014" title="java.lang.reflect.Field">f</a>.<span title="()java.lang.Class[_]">getType</span>, <a href="#48014" title="java.lang.reflect.Field">f</a>.<span title="()java.lang.Class[_]">getType</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          .<span title="(default: =&gt; (java.lang.reflect.Member, java.lang.Class[?0], java.lang.reflect.Type) forSome { type ?0 })(java.lang.reflect.Member, java.lang.Class[?0], java.lang.reflect.Type) forSome { type ?0 }">getOrElse</span><span title="(java.lang.reflect.Member, java.lang.Class[?0], java.lang.reflect.Type) @unchecked" class="delimiter">(</span>org.squeryl.internals.<a href="Utils.scala.html#13022" title="object org.squeryl.internals.Utils">Utils</a>.<a href="Utils.scala.html#32775" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;invalid field group&quot;)" class="string">&quot;invalid field group&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="comment">/*
       * Look for a value in the sample type.  If one exists and
       * it is not None, we can use it to deduce the Option type.   
       */</span>
      <span class="keyword">var</span> <a title="AnyRef" id="45576">v</a>: <span title="AnyRef">AnyRef</span> =
         <span title="AnyRef" class="keyword">if</span><span class="delimiter">(</span><a href="#45553" title="AnyRef">sampleInstance4OptionTypeDeduction</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
           <a href="#45567" title="Option[java.lang.reflect.Field]">field</a> <span title="(f: java.lang.reflect.Field =&gt; Option[java.lang.Object])Option[java.lang.Object]">flatMap</span> <span class="delimiter">{</span> <a title="java.lang.reflect.Field" id="48081">f</a> =&gt;
             <a href="#48081" title="java.lang.reflect.Field">f</a>.<span title="(x$1: Any)java.lang.Object">get</span><span class="delimiter">(</span><a href="#45553" title="AnyRef">sampleInstance4OptionTypeDeduction</a><span class="delimiter">)</span> <span title="Option[java.lang.Object]" class="keyword">match</span> <span class="delimiter">{</span>
               <span class="keyword">case</span> <a title="Some[java.lang.Object]" id="48082">a</a>: <span title="AnyRef">AnyRef</span> =&gt; <span title="(x: java.lang.Object)Some[java.lang.Object]">Some</span><span class="delimiter">(</span><a href="#48082" title="java.lang.Object">a</a><span class="delimiter">)</span>
               <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span>
             <span class="delimiter">}</span>
           <span class="delimiter">}</span> <span title="(alternative: =&gt; Option[java.lang.Object])Option[java.lang.Object]">orElse</span> <span class="delimiter">{</span>
	             <a href="#45568" title="Option[java.lang.reflect.Method]">getter</a> <span title="(f: java.lang.reflect.Method =&gt; Option[java.lang.Object])Option[java.lang.Object]">flatMap</span> <span class="delimiter">{</span> <a href="#48106" title="java.lang.reflect.Method">_</a>.<span title="(x$1: Any, x$2: &lt;repeated...&gt;[java.lang.Object])java.lang.Object">invoke</span><span class="delimiter">(</span><a href="#45553" title="AnyRef">sampleInstance4OptionTypeDeduction</a>, <a href="#45512" title="=&gt; Array[java.lang.Object]">_EMPTY_ARRAY</a> : _*<span class="delimiter">)</span> <span title="Option[java.lang.Object]" class="keyword">match</span> <span class="delimiter">{</span>
	               <span class="keyword">case</span> <a title="Some[java.lang.Object]" id="48111">a</a>: <span title="AnyRef">AnyRef</span> =&gt; <span title="(x: java.lang.Object)Some[java.lang.Object]">Some</span><span class="delimiter">(</span><a href="#48111" title="java.lang.Object">a</a><span class="delimiter">)</span>
	               <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span>
	             <span class="delimiter">}</span>
             <span class="delimiter">}</span>
           <span class="delimiter">}</span> <span title="(default: =&gt; java.lang.Object)java.lang.Object">getOrElse</span>
            <a href="#45532" title="(member: java.lang.reflect.Member, p: Class[_], t: Option[java.lang.reflect.Type], optionFieldsInfo: Option[org.squeryl.annotations.package.Column])java.lang.Object">createDefaultValue</a><span class="delimiter">(</span><a href="#45573" title="java.lang.reflect.Member">member</a>, <a href="#45574" title="java.lang.Class[_]">clsOfField</a>, <span title="(x: java.lang.reflect.Type)Some[java.lang.reflect.Type]">Some</span><span class="delimiter">(</span><a href="#45575" title="java.lang.reflect.Type">typeOfField</a><span class="delimiter">)</span>, <a href="#45571" title="Option[org.squeryl.annotations.ColumnBase]">colAnnotation</a><span class="delimiter">)</span>
         <span class="delimiter">}</span>
         <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span>

      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#45576" title="AnyRef">v</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#45576" title="AnyRef">v</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span> <span class="comment">// can't deduce the type from None keep trying</span>
        <a href="#45576" title="AnyRef">v</a> = <span title="Null(null)" class="keyword">null</span>

      <span class="keyword">val</span> <a title="AnyRef" id="45577">constructorSuppliedDefaultValue</a> = <a href="#45576" title="AnyRef">v</a>

      <span class="keyword">var</span> <a title="Option[AnyRef =&gt; Product1[Any] with AnyRef]" id="45578">customTypeFactory</a>: <span title="Option[AnyRef =&gt; Product1[Any] with AnyRef]">Option</span><span class="delimiter">[</span>AnyRef=&gt;Product1<span class="delimiter">[</span>Any<span class="delimiter">]</span> <span class="keyword">with</span> AnyRef<span class="delimiter">]</span> = <span title="object None">None</span>

      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[Product1[Any]](classOf[scala.Product1])" class="delimiter">[</span>Product1<span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="(x$1: java.lang.Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#45574" title="java.lang.Class[_]">clsOfField</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#45578" title="Option[AnyRef =&gt; Product1[Any] with AnyRef]">customTypeFactory</a> = <a href="#45519" title="(ownerClass: Class[_], typeOfField: Class[_])Option[AnyRef =&gt; Product1[Any] with AnyRef]">_createCustomTypeFactory</a><span class="delimiter">(</span><a href="#45550" title="org.squeryl.internals.PosoMetaData[_]">parentMetaData</a>.<a href="PosoMetaData.scala.html#37247" title="(=&gt; java.lang.Class[_$18]) forSome { type _$18 }">clasz</a>, <a href="#45574" title="java.lang.Class[_]">clsOfField</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#45578" title="Option[AnyRef =&gt; Product1[Any] with AnyRef]">customTypeFactory</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object None">None</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="AnyRef =&gt; Product1[Any] with AnyRef" id="48186">f</a> = <a href="#45578" title="Option[AnyRef =&gt; Product1[Any] with AnyRef]">customTypeFactory</a>.<span title="=&gt; AnyRef =&gt; Product1[Any] with AnyRef">get</span>
        <a href="#45576" title="AnyRef">v</a> = <a href="#48186" title="(v1: AnyRef)Product1[Any] with AnyRef">f</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="comment">// this creates a dummy (sample) field</span>
      <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#45576" title="AnyRef">v</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
        <span class="comment">/*
         * If we have not yet been able to deduce the value of the field, delegate to createDefaultValue
         * in order to do so.
         */</span>
        <a href="#45576" title="AnyRef">v</a> = <span class="keyword">try</span> <span class="delimiter">{</span>
          <a href="#45532" title="(member: java.lang.reflect.Member, p: Class[_], t: Option[java.lang.reflect.Type], optionFieldsInfo: Option[org.squeryl.annotations.package.Column])java.lang.Object">createDefaultValue</a><span class="delimiter">(</span><a href="#45573" title="java.lang.reflect.Member">member</a>, <a href="#45574" title="java.lang.Class[_]">clsOfField</a>, <span title="(x: java.lang.reflect.Type)Some[java.lang.reflect.Type]">Some</span><span class="delimiter">(</span><a href="#45575" title="java.lang.reflect.Type">typeOfField</a><span class="delimiter">)</span>, <a href="#45571" title="Option[org.squeryl.annotations.ColumnBase]">colAnnotation</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Null(null)" id="48198">e</a>:<span title="Exception">Exception</span> =&gt; <span title="Null(null)" class="keyword">null</span>
        <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Boolean" id="45579">deductionFailed</a> =
        <a href="#45576" title="AnyRef">v</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean(true)">Some</span><span class="delimiter">(</span><span title="object None">None</span><span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">case</span> <a title="Boolean" id="48200">a</a>:<span title="Any">Any</span>  =&gt; <span class="delimiter">(</span><a href="#45576" title="AnyRef">v</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#45579" title="Boolean">deductionFailed</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="java.lang.String" id="48206">errorMessage</a> = <span title="java.lang.String(&quot;Could not deduce Option[] type of field \'&quot;)" class="string">&quot;Could not deduce Option[] type of field '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#45551" title="String">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\' of class &quot;)" class="string">&quot;' of class &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#45550" title="org.squeryl.internals.PosoMetaData[_]">parentMetaData</a>.<a href="PosoMetaData.scala.html#37247" title="(=&gt; java.lang.Class[_$18]) forSome { type _$18 }">clasz</a>.<span title="()java.lang.String">getName</span>
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#45530" title="()Boolean">detectScalapOnClasspath</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#48206" title="java.lang.String">errorMessage</a> <span title="(x$1: Any)java.lang.String">+=</span> <span title="java.lang.String(&quot;scalap option deduction not enabled. See: http://squeryl.org/scalap.html for more information.&quot;)" class="string">&quot;scalap option deduction not enabled. See: http://squeryl.org/scalap.html for more information.&quot;</span>
        org.squeryl.internals.<a href="Utils.scala.html#13022" title="object org.squeryl.internals.Utils">Utils</a>.<a href="Utils.scala.html#32775" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><a href="#48206" title="java.lang.String">errorMessage</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Boolean" id="45580">isOption</a> = <a href="#45576" title="AnyRef">v</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Some[_]">Some</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span>

      <span class="keyword">val</span> <a title="java.lang.Class[_ &gt;: ?0 with ?0 &lt;: java.lang.Object]" id="45581">typeOfFieldOrTypeOfOption</a> =
        <span title="java.lang.Class[_44]" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#45580" title="Boolean">isOption</a><span class="delimiter">)</span>
          <a href="#45576" title="AnyRef">v</a>.<span title="()java.lang.Class[_]">getClass</span>
        <span class="keyword">else</span>
          <a href="#45576" title="AnyRef">v</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Option[AnyRef]" class="delimiter">[</span><span title="Option[AnyRef]">Option</span><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="=&gt; AnyRef">get</span>.<span title="()java.lang.Class[_]">getClass</span>

      <span class="keyword">val</span> <a title="java.lang.Class[_ &gt;: ?0 with _45 &lt;: java.lang.Object]" id="45582">primitiveFieldType</a> =
        <span title="java.lang.Class[_46]" class="keyword">if</span><span class="delimiter">(</span><a href="#45576" title="AnyRef">v</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Product1[_]">Product1</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
          <a href="#45576" title="AnyRef">v</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Product1[Any]" class="delimiter">[</span><span title="Product1[Any]">Product1</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="=&gt; Any">_1</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span>.<span title="()java.lang.Class[_]">getClass</span>
        <span class="keyword">else</span> <span title="java.lang.Class[_45]" class="keyword">if</span><span class="delimiter">(</span><a href="#45580" title="Boolean">isOption</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#45576" title="AnyRef">v</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Option[AnyRef]" class="delimiter">[</span><span title="Option[AnyRef]">Option</span><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="=&gt; AnyRef">get</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Product1[_]">Product1</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">//if we get here, customTypeFactory has not had a chance to get created</span>
          <a href="#45578" title="Option[AnyRef =&gt; Product1[Any] with AnyRef]">customTypeFactory</a> = <a href="#45519" title="(ownerClass: Class[_], typeOfField: Class[_])Option[AnyRef =&gt; Product1[Any] with AnyRef]">_createCustomTypeFactory</a><span class="delimiter">(</span><a href="#45550" title="org.squeryl.internals.PosoMetaData[_]">parentMetaData</a>.<a href="PosoMetaData.scala.html#37247" title="(=&gt; java.lang.Class[_$18]) forSome { type _$18 }">clasz</a>, <a href="#45581" title="java.lang.Class[_ &gt;: ?0 with ?0 &lt;: java.lang.Object]">typeOfFieldOrTypeOfOption</a><span class="delimiter">)</span>
          <a href="#45576" title="AnyRef">v</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Option[AnyRef]" class="delimiter">[</span><span title="Option[AnyRef]">Option</span><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="=&gt; AnyRef">get</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Product1[Any]" class="delimiter">[</span><span title="Product1[Any]">Product1</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="=&gt; Any">_1</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span>.<span title="()java.lang.Class[_]">getClass</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span>
          <a href="#45581" title="java.lang.Class[_ &gt;: ?0 with ?0 &lt;: java.lang.Object]">typeOfFieldOrTypeOfOption</a>


      <span title="org.squeryl.internals.FieldMetaData" class="keyword">new</span> <a href="#12577" title="org.squeryl.internals.FieldMetaData">FieldMetaData</a><span class="delimiter">(</span>
        <a href="#45550" title="org.squeryl.internals.PosoMetaData[_]">parentMetaData</a>,
        <a href="#45551" title="String">name</a>,
        <a href="#45581" title="java.lang.Class[_ &gt;: ?0 with ?0 &lt;: java.lang.Object]">typeOfFieldOrTypeOfOption</a>,
        <a href="#45582" title="java.lang.Class[_ &gt;: ?0 with _45 &lt;: java.lang.Object]">primitiveFieldType</a>,
        <a href="#45578" title="Option[AnyRef =&gt; Product1[Any] with AnyRef]">customTypeFactory</a>,
        <a href="#45580" title="Boolean">isOption</a>,
        <a href="#45568" title="Option[java.lang.reflect.Method]">getter</a>,
        <a href="#45569" title="Option[java.lang.reflect.Method]">setter</a>,
        <a href="#45567" title="Option[java.lang.reflect.Field]">field</a>,
        <a href="#45571" title="Option[org.squeryl.annotations.ColumnBase]">colAnnotation</a>,
        <a href="#45554" title="Boolean">isOptimisticCounter</a>,
        <a href="#45577" title="AnyRef">constructorSuppliedDefaultValue</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * creates a closure that takes a java.lang. primitive wrapper (ex.: java.lang.Integer) and
   * that creates an instance of a custom type with it, the factory accepts null to create
   * default values for non nullable primitive types (int, long, etc...)
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(ownerClass: Class[_], typeOfField: Class[_])Option[AnyRef =&gt; Product1[Any] with AnyRef]" id="45519">_createCustomTypeFactory</a><span class="delimiter">(</span><a title="Class[_]" id="48169">ownerClass</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="Class[_]" id="48170">typeOfField</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[AnyRef =&gt; Product1[Any] with AnyRef]">Option</span><span class="delimiter">[</span>AnyRef=&gt;Product1<span class="delimiter">[</span>Any<span class="delimiter">]</span> <span class="keyword">with</span> AnyRef<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// run through the given class hierarchy and return the first method</span>
    <span class="comment">// which is called &quot;value&quot; and doesn't return java.lang.Object</span>
    @tailrec
    <span class="keyword">def</span> <a title="(c: Class[_])Option[java.lang.reflect.Method]" id="97440">find</a><span class="delimiter">(</span><a title="Class[_]" id="97442">c</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[java.lang.reflect.Method]">Option</span><span class="delimiter">[</span>Method<span class="delimiter">]</span> =
     <span title="Option[java.lang.reflect.Method]" class="keyword">if</span><span class="delimiter">(</span><a href="#97442" title="Class[_]">c</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
       <a href="#97442" title="Class[_]">c</a>.<span title="(xs: Array[java.lang.reflect.Method])scala.collection.mutable.ArrayOps[java.lang.reflect.Method]">getMethods</span>.<span title="(p: java.lang.reflect.Method =&gt; Boolean)Option[java.lang.reflect.Method]">find</span><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="97722">m</a> =&gt; <a href="#97722" title="java.lang.reflect.Method">m</a>.<span title="()java.lang.String">getName</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;value&quot;)" class="string">&quot;value&quot;</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#97722" title="java.lang.reflect.Method">m</a>.<span title="()java.lang.Class[_]">getReturnType</span> <span title="(x$1: AnyRef)Boolean">!=</span> classOf<span title="java.lang.Class[java.lang.Object](classOf[java.lang.Object])" class="delimiter">[</span>java.lang.Object<span class="delimiter">]</span><span class="delimiter">)</span> <span title="Option[java.lang.reflect.Method]" class="keyword">match</span> <span class="delimiter">{</span>
         <span class="keyword">case</span> <span title="Some[java.lang.reflect.Method]">Some</span><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="97735">m</a><span class="delimiter">)</span> =&gt; <span title="(x: java.lang.reflect.Method)Some[java.lang.reflect.Method]">Some</span><span class="delimiter">(</span><a href="#97735" title="java.lang.reflect.Method">m</a><span class="delimiter">)</span>
         <span class="keyword">case</span> <span title="Option[java.lang.reflect.Method]">None</span> =&gt; <a href="#97440" title="(c: Class[_])Option[java.lang.reflect.Method]">find</a><span class="delimiter">(</span><a href="#97442" title="Class[_]">c</a>.<span title="(()java.lang.Class[_ &gt;: _$24]) forSome { type _$24; type _$24 }">getSuperclass</span><span class="delimiter">)</span>
       <span class="delimiter">}</span>
     <span class="keyword">else</span> <span title="object None">None</span>

     <span class="comment">// invoke the given constructor and expose possible exceptions to the caller.</span>
    <span class="keyword">def</span> <a title="(c: java.lang.reflect.Constructor[_], value: AnyRef)Product1[Any] with AnyRef" id="97441">invoke</a><span class="delimiter">(</span><a title="java.lang.reflect.Constructor[_]" id="97745">c</a>: <span title="java.lang.reflect.Constructor[_]">Constructor</span><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="AnyRef" id="97746">value</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> =
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#97745" title="java.lang.reflect.Constructor[_]">c</a>.<span title="(x$1: &lt;repeated...&gt;[java.lang.Object])Any">newInstance</span><span class="delimiter">(</span><a href="#97746" title="AnyRef">value</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="FieldMetaData extends Product1[Any] with AnyRef" class="delimiter">[</span><a href="#97749" title="FieldMetaData extends Product1[Any] with AnyRef">Product1</a><span class="delimiter">[</span>Any<span class="delimiter">]</span> <span class="keyword">with</span> AnyRef<span class="delimiter">]</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Nothing" id="97750">ex</a>: <span title="java.lang.reflect.InvocationTargetException">InvocationTargetException</span> =&gt;
          <span title="Nothing" class="keyword">throw</span> <a href="#97750" title="java.lang.reflect.InvocationTargetException">ex</a>.<span title="()java.lang.Throwable">getTargetException</span>
      <span class="delimiter">}</span>

    <a href="#97440" title="(c: Class[_])Option[java.lang.reflect.Method]">find</a><span class="delimiter">(</span><a href="#48170" title="Class[_]">typeOfField</a><span class="delimiter">)</span> <span title="(f: java.lang.reflect.Method =&gt; Option[AnyRef =&gt; Product1[Any] with AnyRef])Option[AnyRef =&gt; Product1[Any] with AnyRef]">flatMap</span><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="97775">m</a> =&gt; <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.lang.Class[_]" id="97776">pType</a> = <a href="#97775" title="java.lang.reflect.Method">m</a>.<span title="()java.lang.Class[_]">getReturnType</span>

      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#45517" title="=&gt; java.lang.Object with org.squeryl.internals.FieldMetaDataFactory">factory</a>.<a href="#45537" title="(c: Class[_])Boolean">isSupportedFieldType</a><span class="delimiter">(</span><a href="#97776" title="java.lang.Class[_]">pType</a><span class="delimiter">)</span>,
        <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;enclosed type %s of CustomType %s is not a supported field type!&quot;</span>
        .<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#97776" title="java.lang.Class[_]">pType</a>.<span title="()java.lang.String">getName</span>, <a href="#48170" title="Class[_]">typeOfField</a>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="java.lang.reflect.Constructor[_]" id="97777">c</a> = <a href="#48170" title="Class[_]">typeOfField</a>.<span title="((x$1: &lt;repeated...&gt;[java.lang.Class[_]])java.lang.reflect.Constructor[_$23]) forSome { type _$23 }">getConstructor</span><span class="delimiter">(</span><a href="#97776" title="java.lang.Class[_]">pType</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="java.lang.Object" id="97778">defaultValue</a> = <a href="#45532" title="(member: java.lang.reflect.Member, p: Class[_], t: Option[java.lang.reflect.Type], optionFieldsInfo: Option[org.squeryl.annotations.package.Column])java.lang.Object">createDefaultValue</a><span class="delimiter">(</span><a href="#97777" title="java.lang.reflect.Constructor[_]">c</a>, <a href="#97776" title="java.lang.Class[_]">pType</a>, <span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>

      <span title="Option[AnyRef =&gt; Product1[Any] with AnyRef]" class="keyword">if</span><span class="delimiter">(</span><a href="#97778" title="java.lang.Object">defaultValue</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="object None">None</span>
      <span class="keyword">else</span>
        <span title="(x: AnyRef =&gt; Product1[Any] with AnyRef)Some[AnyRef =&gt; Product1[Any] with AnyRef]">Some</span><span class="delimiter">(</span><span class="delimiter">(</span>i: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> =&gt;
          <span title="FieldMetaData extends Product1[Any] with AnyRef" class="keyword">if</span><span class="delimiter">(</span><a href="#97804" title="AnyRef">i</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#97441" title="(c: java.lang.reflect.Constructor[_], value: AnyRef)Product1[Any] with AnyRef">invoke</a><span class="delimiter">(</span><a href="#97777" title="java.lang.reflect.Constructor[_]">c</a>, <a href="#97778" title="java.lang.Object">defaultValue</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#97441" title="(c: java.lang.reflect.Constructor[_], value: AnyRef)Product1[Any] with AnyRef">invoke</a><span class="delimiter">(</span><a href="#97777" title="java.lang.reflect.Constructor[_]">c</a>, <a href="#97804" title="AnyRef">i</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(fieldType: Class[_], fmd: org.squeryl.internals.FieldMetaData)Int" id="45520">defaultFieldLength</a><span class="delimiter">(</span><a title="Class[_]" id="97015">fieldType</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="org.squeryl.internals.FieldMetaData" id="97016">fmd</a>: <a href="#12577" title="org.squeryl.internals.FieldMetaData">FieldMetaData</a><span class="delimiter">)</span> =
    <a href="#45521" title="=&gt; java.lang.Object with org.squeryl.internals.FieldTypeHandler[Int]{def handleUnknownType(c: Class[_]): Nothing}">_defaultFieldLengthAssigner</a>.<a href="FieldTypeHandler.scala.html#62916" title="(t: Class[_], fmd: Option[org.squeryl.internals.FieldMetaData])Int">handleType</a><span class="delimiter">(</span><a href="#97015" title="Class[_]">fieldType</a>, <span title="(x: org.squeryl.internals.FieldMetaData)Some[org.squeryl.internals.FieldMetaData]">Some</span><span class="delimiter">(</span><a href="#97016" title="org.squeryl.internals.FieldMetaData">fmd</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="_defaultFieldLengthAssigner extends java.lang.Object with org.squeryl.internals.FieldTypeHandler[Int]" id="45521">_defaultFieldLengthAssigner</a> = <a href="#97019" title="java.lang.Object with org.squeryl.internals.FieldTypeHandler[Int]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with org.squeryl.internals.FieldTypeHandler[Int]" id="97019">FieldTypeHandler</a><span class="delimiter">[</span>Int<span class="delimiter">]</span> <span class="delimiter">{</span>

    <span class="keyword">def</span> <a title="=&gt; Int" id="97021">handleIntType</a> = <span title="Int(4)" class="int">4</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="97022">handleStringType</a>  = <span title="Int(255)" class="int">255</span>
    <span class="keyword">def</span> <a title="(fmd: Option[org.squeryl.internals.FieldMetaData])Int" id="97023">handleStringType</a><span class="delimiter">(</span><a title="Option[org.squeryl.internals.FieldMetaData]" id="97046">fmd</a>: <span title="Option[org.squeryl.internals.FieldMetaData]">Option</span><span class="delimiter">[</span>FieldMetaData<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#97046" title="Option[org.squeryl.internals.FieldMetaData]">fmd</a>.<span title="=&gt; org.squeryl.internals.FieldMetaData">get</span>.<a href="#48403" title="=&gt; org.squeryl.Schema">schema</a>.<a href="../Schema.scala.html#16661" title="=&gt; Int">defaultLengthOfString</a>
    <span class="keyword">def</span> <a title="=&gt; Int" id="97024">handleBooleanType</a> = <span title="Int(1)" class="int">1</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="97025">handleDoubleType</a> = <span title="Int(8)" class="int">8</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="97026">handleDateType</a> = -<span title="Int(-1)" class="int">1</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="97027">handleLongType</a> = <span title="Int(8)" class="int">8</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="97028">handleFloatType</a> = <span title="Int(4)" class="int">4</span>
    <span class="keyword">def</span> <a title="(fmd: Option[org.squeryl.internals.FieldMetaData])Int" id="97029">handleBigDecimalType</a><span class="delimiter">(</span><a title="Option[org.squeryl.internals.FieldMetaData]" id="97066">fmd</a>: <span title="Option[org.squeryl.internals.FieldMetaData]">Option</span><span class="delimiter">[</span>FieldMetaData<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#97066" title="Option[org.squeryl.internals.FieldMetaData]">fmd</a>.<span title="=&gt; org.squeryl.internals.FieldMetaData">get</span>.<a href="#48403" title="=&gt; org.squeryl.Schema">schema</a>.<a href="../Schema.scala.html#16660" title="=&gt; (Int, Int)">defaultSizeOfBigDecimal</a>.<span title="=&gt; Int">_1</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="97030">handleTimestampType</a> = -<span title="Int(-1)" class="int">1</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="97031">handleBinaryType</a> = <span title="Int(255)" class="int">255</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="97032">handleEnumerationValueType</a> = <span title="Int(4)" class="int">4</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="97033">handleUuidType</a> = <span title="Int(36)" class="int">36</span>
    <span class="keyword">def</span> <a title="(c: Class[_])Nothing" id="97034">handleUnknownType</a><span class="delimiter">(</span><a title="Class[_]" id="97082">c</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> = org.squeryl.internals.<a href="Utils.scala.html#13022" title="object org.squeryl.internals.Utils">Utils</a>.<a href="Utils.scala.html#32775" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot assign field length for &quot;)" class="string">&quot;Cannot assign field length for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#97082" title="Class[_]">c</a>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="_defaultValueFactory extends java.lang.Object with org.squeryl.internals.FieldTypeHandler[AnyRef]" id="45523">_defaultValueFactory</a> = <a href="#97240" title="java.lang.Object with org.squeryl.internals.FieldTypeHandler[AnyRef]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with org.squeryl.internals.FieldTypeHandler[AnyRef]" id="97240">FieldTypeHandler</a><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span> <span class="delimiter">{</span>

    <span class="keyword">def</span> <a title="=&gt; java.lang.Integer" id="97242">handleIntType</a> = <span title="java.lang.Integer" class="keyword">new</span> java.lang.<span title="java.lang.Integer">Integer</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="97243">handleStringType</a>  = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
    <span class="keyword">def</span> <a title="(fmd: Option[org.squeryl.internals.FieldMetaData])java.lang.String" id="97244">handleStringType</a><span class="delimiter">(</span><a title="Option[org.squeryl.internals.FieldMetaData]" id="97271">fmd</a>: <span title="Option[org.squeryl.internals.FieldMetaData]">Option</span><span class="delimiter">[</span>FieldMetaData<span class="delimiter">]</span><span class="delimiter">)</span>  = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
    <span class="keyword">def</span> <a title="=&gt; java.lang.Boolean" id="97245">handleBooleanType</a> = <span title="java.lang.Boolean" class="keyword">new</span> java.lang.<span title="java.lang.Boolean">Boolean</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; java.lang.Double" id="97246">handleDoubleType</a> = <span title="java.lang.Double" class="keyword">new</span> java.lang.<span title="java.lang.Double">Double</span><span class="delimiter">(</span><span title="Double(0.0)" class="double">0.0</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; java.util.Date" id="97247">handleDateType</a> = <span title="java.util.Date" class="keyword">new</span> java.util.<span title="java.util.Date">Date</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; java.lang.Long" id="97248">handleLongType</a> = <span title="java.lang.Long" class="keyword">new</span> java.lang.<span title="java.lang.Long">Long</span><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; java.lang.Float" id="97249">handleFloatType</a> = <span title="java.lang.Float" class="keyword">new</span> java.lang.<span title="java.lang.Float">Float</span><span class="delimiter">(</span><span title="Float(0.0)" class="int">0</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(fmd: Option[org.squeryl.internals.FieldMetaData])scala.math.BigDecimal" id="97250">handleBigDecimalType</a><span class="delimiter">(</span><a title="Option[org.squeryl.internals.FieldMetaData]" id="97309">fmd</a>: <span title="Option[org.squeryl.internals.FieldMetaData]">Option</span><span class="delimiter">[</span>FieldMetaData<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="(bigDecimal: java.math.BigDecimal)scala.math.BigDecimal" class="keyword">new</span> scala.math.<span title="scala.math.BigDecimal">BigDecimal</span><span class="delimiter">(</span>java.math.<span title="object java.math.BigDecimal">BigDecimal</span>.<span title="java.math.BigDecimal">ZERO</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; java.sql.Timestamp" id="97251">handleTimestampType</a> = <span title="(x$1: Long)java.sql.Timestamp" class="keyword">new</span> java.sql.<span title="java.sql.Timestamp">Timestamp</span><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; Array[Byte]" id="97252">handleBinaryType</a> = <span title="Array[Byte]" class="keyword">new</span> <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; org.squeryl.internals.FieldMetaData.DummyE.Value" id="97253">handleEnumerationValueType</a> = <a href="#45525" title="object org.squeryl.internals.FieldMetaData.DummyE">DummyE</a>.<a href="#97329" title="=&gt; org.squeryl.internals.FieldMetaData.DummyE.Value">Z</a>
    <span class="keyword">def</span> <a title="=&gt; java.util.UUID" id="97254">handleUuidType</a> = java.util.<span title="object java.util.UUID">UUID</span>.<span title="(x$1: java.lang.String)java.util.UUID">fromString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;00000000-0000-0000-0000-000000000000&quot;)" class="string">&quot;00000000-0000-0000-0000-000000000000&quot;</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(c: Class[_])Null" id="97255">handleUnknownType</a><span class="delimiter">(</span><a title="Class[_]" id="97338">c</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="Null(null)" class="keyword">null</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object org.squeryl.internals.FieldMetaData.DummyE" id="45525">DummyE</a> <span title="ScalaObject" class="keyword">extends</span> <span title="Enumeration">Enumeration</span> <span class="delimiter">{</span>
    <span class="keyword">type</span> <a title="org.squeryl.internals.FieldMetaData.DummyE.Value" id="97328">DummyE</a> = <span title="org.squeryl.internals.FieldMetaData.DummyE.Value">Value</span>
    <span class="keyword">val</span> <a title="org.squeryl.internals.FieldMetaData.DummyE.Value" id="97329">Z</a> = <span title="=&gt; org.squeryl.internals.FieldMetaData.DummyE.Value">Value</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="_mapper extends java.lang.Object with org.squeryl.internals.FieldTypeHandler[(java.sql.ResultSet, Int) =&gt; AnyRef]" id="45527">_mapper</a> = <a href="#62902" title="java.lang.Object with org.squeryl.internals.FieldTypeHandler[(java.sql.ResultSet, Int) =&gt; AnyRef]{val _intM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _stringM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _doubleM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _booleanM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _dateM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _longM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _floatM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _bigDecM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _timestampM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _binaryM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _uuidM: (java.sql.ResultSet, Int) =&gt; java.util.UUID; def handleBigDecimalType: (java.sql.ResultSet, Int) =&gt; AnyRef}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with org.squeryl.internals.FieldTypeHandler[(java.sql.ResultSet, Int) =&gt; AnyRef]" id="62902">FieldTypeHandler</a><span class="delimiter">[</span><span class="delimiter">(</span>ResultSet,Int<span class="delimiter">)</span>=&gt;AnyRef<span class="delimiter">]</span> <span class="delimiter">{</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(rs: java.sql.ResultSet, v: Any)AnyRef" id="62932">_handleNull</a><span class="delimiter">(</span><a title="java.sql.ResultSet" id="62973">rs</a>: <span title="java.sql.ResultSet">ResultSet</span>, <a title="Any" id="62974">v</a>: <span title="Any">Any</span><span class="delimiter">)</span> =
      <span title="AnyRef" class="keyword">if</span><span class="delimiter">(</span><a href="#62973" title="java.sql.ResultSet">rs</a>.<span title="()Boolean">wasNull</span><span class="delimiter">)</span>
        <span title="Null(null)" class="keyword">null</span>
      <span class="keyword">else</span>
        <a href="#62974" title="Any">v</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span>

    <span class="keyword">val</span> <a title="(java.sql.ResultSet, Int) =&gt; AnyRef" id="62933">_intM</a> =     <span class="delimiter">(</span>rs:<span title="java.sql.ResultSet">ResultSet</span>,i:<span title="Int">Int</span><span class="delimiter">)</span> =&gt; <a href="#62932" title="(rs: java.sql.ResultSet, v: Any)AnyRef">_handleNull</a><span class="delimiter">(</span><a href="#62971" title="java.sql.ResultSet">rs</a>, <a href="#62971" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)Int">getInt</span><span class="delimiter">(</span><a href="#62972" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="(java.sql.ResultSet, Int) =&gt; AnyRef" id="62935">_stringM</a> =  <span class="delimiter">(</span>rs:<span title="java.sql.ResultSet">ResultSet</span>,i:<span title="Int">Int</span><span class="delimiter">)</span> =&gt; <a href="#62932" title="(rs: java.sql.ResultSet, v: Any)AnyRef">_handleNull</a><span class="delimiter">(</span><a href="#62982" title="java.sql.ResultSet">rs</a>, <a href="#62982" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)java.lang.String">getString</span><span class="delimiter">(</span><a href="#62983" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="(java.sql.ResultSet, Int) =&gt; AnyRef" id="62937">_doubleM</a> =  <span class="delimiter">(</span>rs:<span title="java.sql.ResultSet">ResultSet</span>,i:<span title="Int">Int</span><span class="delimiter">)</span> =&gt; <a href="#62932" title="(rs: java.sql.ResultSet, v: Any)AnyRef">_handleNull</a><span class="delimiter">(</span><a href="#62989" title="java.sql.ResultSet">rs</a>, <a href="#62989" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)Double">getDouble</span><span class="delimiter">(</span><a href="#62990" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="(java.sql.ResultSet, Int) =&gt; AnyRef" id="62939">_booleanM</a> = <span class="delimiter">(</span>rs:<span title="java.sql.ResultSet">ResultSet</span>,i:<span title="Int">Int</span><span class="delimiter">)</span> =&gt; <a href="#62932" title="(rs: java.sql.ResultSet, v: Any)AnyRef">_handleNull</a><span class="delimiter">(</span><a href="#62996" title="java.sql.ResultSet">rs</a>, <a href="#62996" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)Boolean">getBoolean</span><span class="delimiter">(</span><a href="#62997" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="comment">//(rs:ResultSet,i:Int) =&gt; Session.currentSession.databaseAdapter.convertToBooleanForJdbc(rs, i)</span>
    <span class="keyword">val</span> <a title="(java.sql.ResultSet, Int) =&gt; AnyRef" id="62941">_dateM</a> =    <span class="delimiter">(</span>rs:<span title="java.sql.ResultSet">ResultSet</span>,i:<span title="Int">Int</span><span class="delimiter">)</span> =&gt; <a href="#62932" title="(rs: java.sql.ResultSet, v: Any)AnyRef">_handleNull</a><span class="delimiter">(</span><a href="#63003" title="java.sql.ResultSet">rs</a>, <a href="#63003" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)java.sql.Date">getDate</span><span class="delimiter">(</span><a href="#63004" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="(java.sql.ResultSet, Int) =&gt; AnyRef" id="62943">_longM</a> =    <span class="delimiter">(</span>rs:<span title="java.sql.ResultSet">ResultSet</span>,i:<span title="Int">Int</span><span class="delimiter">)</span> =&gt; <a href="#62932" title="(rs: java.sql.ResultSet, v: Any)AnyRef">_handleNull</a><span class="delimiter">(</span><a href="#63230" title="java.sql.ResultSet">rs</a>, <a href="#63230" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)Long">getLong</span><span class="delimiter">(</span><a href="#63231" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="(java.sql.ResultSet, Int) =&gt; AnyRef" id="62945">_floatM</a> =   <span class="delimiter">(</span>rs:<span title="java.sql.ResultSet">ResultSet</span>,i:<span title="Int">Int</span><span class="delimiter">)</span> =&gt; <a href="#62932" title="(rs: java.sql.ResultSet, v: Any)AnyRef">_handleNull</a><span class="delimiter">(</span><a href="#63237" title="java.sql.ResultSet">rs</a>, <a href="#63237" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)Float">getFloat</span><span class="delimiter">(</span><a href="#63238" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="(java.sql.ResultSet, Int) =&gt; AnyRef" id="62947">_bigDecM</a> =  <span class="delimiter">(</span>rs:<span title="java.sql.ResultSet">ResultSet</span>,i:<span title="Int">Int</span><span class="delimiter">)</span> =&gt; <a href="#62932" title="(rs: java.sql.ResultSet, v: Any)AnyRef">_handleNull</a><span class="delimiter">(</span><a href="#63244" title="java.sql.ResultSet">rs</a>, <span title="(bigDecimal: java.math.BigDecimal)scala.math.BigDecimal" class="keyword">new</span> scala.math.<span title="scala.math.BigDecimal">BigDecimal</span><span class="delimiter">(</span><a href="#63244" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)java.math.BigDecimal">getBigDecimal</span><span class="delimiter">(</span><a href="#63245" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="(java.sql.ResultSet, Int) =&gt; AnyRef" id="62949">_timestampM</a> =    <span class="delimiter">(</span>rs:<span title="java.sql.ResultSet">ResultSet</span>,i:<span title="Int">Int</span><span class="delimiter">)</span> =&gt; <a href="#62932" title="(rs: java.sql.ResultSet, v: Any)AnyRef">_handleNull</a><span class="delimiter">(</span><a href="#63253" title="java.sql.ResultSet">rs</a>, <a href="#63253" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)java.sql.Timestamp">getTimestamp</span><span class="delimiter">(</span><a href="#63254" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="(java.sql.ResultSet, Int) =&gt; AnyRef" id="62951">_binaryM</a> =  <span class="delimiter">(</span>rs:<span title="java.sql.ResultSet">ResultSet</span>,i:<span title="Int">Int</span><span class="delimiter">)</span> =&gt; <a href="#62932" title="(rs: java.sql.ResultSet, v: Any)AnyRef">_handleNull</a><span class="delimiter">(</span><a href="#63260" title="java.sql.ResultSet">rs</a>, <a href="#63260" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)Array[Byte]">getBytes</span><span class="delimiter">(</span><a href="#63261" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="(java.sql.ResultSet, Int) =&gt; java.util.UUID" id="62953">_uuidM</a> = <span class="delimiter">(</span>rs:<span title="java.sql.ResultSet">ResultSet</span>, i:<span title="Int">Int</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
      <a href="#63267" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)java.lang.Object">getObject</span><span class="delimiter">(</span><a href="#63268" title="Int">i</a><span class="delimiter">)</span> <span class="comment">// Some DBs require a call to getXXX before calling wasNull</span>
      <span title="java.util.UUID" class="keyword">if</span> <span class="delimiter">(</span><a href="#63267" title="java.sql.ResultSet">rs</a>.<span title="()Boolean">wasNull</span><span class="delimiter">)</span> <span title="Null(null)" class="keyword">null</span>
      <span class="keyword">else</span> <a href="../Session.scala.html#10079" title="object org.squeryl.Session">Session</a>.<a href="../Session.scala.html#36953" title="=&gt; org.squeryl.Session">currentSession</a>.<a href="../Session.scala.html#36964" title="=&gt; org.squeryl.internals.DatabaseAdapter">databaseAdapter</a>.<a href="DatabaseAdapter.scala.html#37061" title="(rs: java.sql.ResultSet, i: Int)java.util.UUID">convertToUuidForJdbc</a><span class="delimiter">(</span><a href="#63267" title="java.sql.ResultSet">rs</a>, <a href="#63268" title="Int">i</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef" id="62955">handleIntType</a> = <a href="#62933" title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef">_intM</a>
    <span class="keyword">def</span> <a title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef" id="62956">handleStringType</a>  = <a href="#62935" title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef">_stringM</a>
    <span class="keyword">def</span> <a title="(fmd: Option[org.squeryl.internals.FieldMetaData])(java.sql.ResultSet, Int) =&gt; AnyRef" id="62957">handleStringType</a><span class="delimiter">(</span><a title="Option[org.squeryl.internals.FieldMetaData]" id="63335">fmd</a>: <span title="Option[org.squeryl.internals.FieldMetaData]">Option</span><span class="delimiter">[</span>FieldMetaData<span class="delimiter">]</span><span class="delimiter">)</span>  = <a href="#62935" title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef">_stringM</a>
    <span class="keyword">def</span> <a title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef" id="62958">handleBooleanType</a> = <a href="#62939" title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef">_booleanM</a>
    <span class="keyword">def</span> <a title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef" id="62959">handleDoubleType</a> = <a href="#62937" title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef">_doubleM</a>
    <span class="keyword">def</span> <a title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef" id="62960">handleDateType</a> = <a href="#62941" title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef">_dateM</a>
    <span class="keyword">def</span> <a title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef" id="62961">handleFloatType</a> = <a href="#62945" title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef">_floatM</a>
    <span class="keyword">def</span> <a title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef" id="62962">handleLongType</a> = <a href="#62943" title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef">_longM</a>
    <span class="keyword">def</span> <a title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef" id="62963">handleBigDecimalType</a> = <a href="#62947" title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef">_bigDecM</a>
    <span class="keyword">def</span> <a title="(fmd: Option[org.squeryl.internals.FieldMetaData])(java.sql.ResultSet, Int) =&gt; AnyRef" id="62964">handleBigDecimalType</a><span class="delimiter">(</span><a title="Option[org.squeryl.internals.FieldMetaData]" id="63370">fmd</a>: <span title="Option[org.squeryl.internals.FieldMetaData]">Option</span><span class="delimiter">[</span>FieldMetaData<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#62947" title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef">_bigDecM</a>
    <span class="keyword">def</span> <a title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef" id="62965">handleTimestampType</a> = <a href="#62949" title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef">_timestampM</a>
    <span class="keyword">def</span> <a title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef" id="62966">handleBinaryType</a> = <a href="#62951" title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef">_binaryM</a>
    <span class="keyword">def</span> <a title="=&gt; (java.sql.ResultSet, Int) =&gt; java.util.UUID" id="62967">handleUuidType</a> = <a href="#62953" title="=&gt; (java.sql.ResultSet, Int) =&gt; java.util.UUID">_uuidM</a>
    <span class="keyword">def</span> <a title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef" id="62968">handleEnumerationValueType</a> = <a href="#62933" title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef">_intM</a>

    <span class="keyword">def</span> <a title="(c: Class[_])Nothing" id="62969">handleUnknownType</a><span class="delimiter">(</span><a title="Class[_]" id="63393">c</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =
      org.squeryl.internals.<a href="Utils.scala.html#13022" title="object org.squeryl.internals.Utils">Utils</a>.<a href="Utils.scala.html#32775" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;field type &quot;)" class="string">&quot;field type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#63393" title="Class[_]">c</a>.<span title="()java.lang.String">getName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is not supported&quot;)" class="string">&quot; is not supported&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(c: Class[_])(java.sql.ResultSet, Int) =&gt; AnyRef" id="45529">resultSetHandlerFor</a><span class="delimiter">(</span><a title="Class[_]" id="62899">c</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#45527" title="=&gt; java.lang.Object with org.squeryl.internals.FieldTypeHandler[(java.sql.ResultSet, Int) =&gt; AnyRef]{val _intM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _stringM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _doubleM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _booleanM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _dateM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _longM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _floatM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _bigDecM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _timestampM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _binaryM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _uuidM: (java.sql.ResultSet, Int) =&gt; java.util.UUID; def handleBigDecimalType: (java.sql.ResultSet, Int) =&gt; AnyRef; def handleUuidType: (java.sql.ResultSet, Int) =&gt; java.util.UUID; def handleUnknownType(c: Class[_]): Nothing}">_mapper</a>.<a href="FieldTypeHandler.scala.html#62916" title="(t: Class[_], fmd: Option[org.squeryl.internals.FieldMetaData])(java.sql.ResultSet, Int) =&gt; AnyRef">handleType</a><span class="delimiter">(</span><a href="#62899" title="Class[_]">c</a>, <span title="object None">None</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="()Boolean" id="45530">detectScalapOnClasspath</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <span title="object java.lang.Class">Class</span>.<span title="(x$1: java.lang.String)java.lang.Class[_]">forName</span><span class="delimiter">(</span><span title="java.lang.String(&quot;scala.tools.scalap.scalax.rules.scalasig.ByteCode&quot;)" class="string">&quot;scala.tools.scalap.scalax.rules.scalasig.ByteCode&quot;</span><span class="delimiter">)</span>
      <span title="Boolean(true)" class="keyword">true</span>
    <span class="delimiter">}</span><span class="keyword">catch</span><span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Boolean(false)" id="98454">cnfe</a> : <span title="java.lang.ClassNotFoundException">ClassNotFoundException</span> =&gt;
        <span title="Boolean(false)" class="keyword">false</span>

    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(member: java.lang.reflect.Member)Option[Class[_]]" id="45531">optionTypeFromScalaSig</a><span class="delimiter">(</span><a title="java.lang.reflect.Member" id="98463">member</a>: <span title="java.lang.reflect.Member">Member</span><span class="delimiter">)</span>: <span title="Option[Class[_]]">Option</span><span class="delimiter">[</span>Class<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Option[scala.tools.scalap.scalax.rules.scalasig.ScalaSig]" id="98469">scalaSigOption</a> = <span title="object scala.tools.scalap.scalax.rules.scalasig.ScalaSigParser">ScalaSigParser</span>.<span title="(clazz: Class[_])Option[scala.tools.scalap.scalax.rules.scalasig.ScalaSig]">parse</span><span class="delimiter">(</span><a href="#98463" title="java.lang.reflect.Member">member</a>.<span title="()java.lang.Class[_]">getDeclaringClass</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#98469" title="Option[scala.tools.scalap.scalax.rules.scalasig.ScalaSig]">scalaSigOption</a> <span title="(f: scala.tools.scalap.scalax.rules.scalasig.ScalaSig =&gt; Option[Class[_]])Option[Class[_]]">flatMap</span> <span class="delimiter">{</span> <a title="scala.tools.scalap.scalax.rules.scalasig.ScalaSig" id="98642">scalaSig</a> =&gt;
      <span class="keyword">val</span> <a title="List[scala.tools.scalap.scalax.rules.scalasig.ClassSymbol]" id="98643">syms</a> = <a href="#98642" title="scala.tools.scalap.scalax.rules.scalasig.ScalaSig">scalaSig</a>.<span title="=&gt; List[scala.tools.scalap.scalax.rules.scalasig.ClassSymbol]">topLevelClasses</span>
      <span class="comment">// Print classes</span>
      <span class="keyword">val</span> <a title="java.io.ByteArrayOutputStream" id="98644">baos</a> = <span title="java.io.ByteArrayOutputStream" class="keyword">new</span> <span title="java.io.ByteArrayOutputStream">ByteArrayOutputStream</span>
      <span class="keyword">val</span> <a title="java.io.PrintStream" id="98645">stream</a> = <span title="java.io.PrintStream" class="keyword">new</span> <span title="java.io.PrintStream">PrintStream</span><span class="delimiter">(</span><a href="#98644" title="java.io.ByteArrayOutputStream">baos</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.tools.scalap.scalax.rules.scalasig.ScalaSigPrinter" id="98646">printer</a> = <span title="scala.tools.scalap.scalax.rules.scalasig.ScalaSigPrinter" class="keyword">new</span> <span title="scala.tools.scalap.scalax.rules.scalasig.ScalaSigPrinter">ScalaSigPrinter</span><span class="delimiter">(</span><a href="#98645" title="java.io.PrintStream">stream</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="scala.tools.scalap.scalax.rules.scalasig.ClassSymbol" id="99292">c</a> &lt;- <a href="#98643" title="(f: scala.tools.scalap.scalax.rules.scalasig.ClassSymbol =&gt; Unit)Unit">syms</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#99292" title="scala.tools.scalap.scalax.rules.scalasig.ClassSymbol">c</a>.<span title="=&gt; String">path</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#98463" title="java.lang.reflect.Member">member</a>.<span title="()java.lang.Class[_]">getDeclaringClass</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="()java.lang.String">getName</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        	<a href="#98646" title="scala.tools.scalap.scalax.rules.scalasig.ScalaSigPrinter">printer</a>.<span title="(symbol: scala.tools.scalap.scalax.rules.scalasig.Symbol)Unit">printSymbol</span><span class="delimiter">(</span><a href="#99292" title="scala.tools.scalap.scalax.rules.scalasig.ClassSymbol">c</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="java.lang.String" id="98647">fullSig</a> = <a href="#98644" title="java.io.ByteArrayOutputStream">baos</a>.<span title="()java.lang.String">toString</span>
      <span class="keyword">val</span> <a title="java.util.regex.Matcher" id="98648">matcher</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;\s%s : scala.Option\[scala\.(\w+)\]?&quot;&quot;&quot;</span>.<span title="(args: Any*)String">format</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</span><a href="#98463" title="java.lang.reflect.Member">member</a>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>.<span title="=&gt; scala.util.matching.Regex">r</span>.<span title="=&gt; java.util.regex.Pattern">pattern</span>.<span title="(x$1: java.lang.CharSequence)java.util.regex.Matcher">matcher</span><span class="delimiter">(</span><a href="#98647" title="java.lang.String">fullSig</a><span class="delimiter">)</span>
      <span title="Option[Class[_]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#98648" title="java.util.regex.Matcher">matcher</a>.<span title="()Boolean">find</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#98648" title="java.util.regex.Matcher">matcher</a>.<span title="(x$1: Int)java.lang.String">group</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="Option[Class[_]]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Some[java.lang.Class[Int]]" class="string">&quot;Int&quot;</span> =&gt; <span title="(x: java.lang.Class[Int])Some[java.lang.Class[Int]]">Some</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[Int](classOf[scala.Int])" class="delimiter">[</span>scala.Int<span class="delimiter">]</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Some[java.lang.Class[Short]]" class="string">&quot;Short&quot;</span> =&gt; <span title="(x: java.lang.Class[Short])Some[java.lang.Class[Short]]">Some</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[Short](classOf[scala.Short])" class="delimiter">[</span>scala.Short<span class="delimiter">]</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Some[java.lang.Class[Long]]" class="string">&quot;Long&quot;</span> =&gt; <span title="(x: java.lang.Class[Long])Some[java.lang.Class[Long]]">Some</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[Long](classOf[scala.Long])" class="delimiter">[</span>scala.Long<span class="delimiter">]</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Some[java.lang.Class[Double]]" class="string">&quot;Double&quot;</span> =&gt; <span title="(x: java.lang.Class[Double])Some[java.lang.Class[Double]]">Some</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[Double](classOf[scala.Double])" class="delimiter">[</span>scala.Double<span class="delimiter">]</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Some[java.lang.Class[Float]]" class="string">&quot;Float&quot;</span> =&gt; <span title="(x: java.lang.Class[Float])Some[java.lang.Class[Float]]">Some</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[Float](classOf[scala.Float])" class="delimiter">[</span>scala.Float<span class="delimiter">]</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Some[java.lang.Class[Boolean]]" class="string">&quot;Boolean&quot;</span> =&gt; <span title="(x: java.lang.Class[Boolean])Some[java.lang.Class[Boolean]]">Some</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[Boolean](classOf[scala.Boolean])" class="delimiter">[</span>scala.Boolean<span class="delimiter">]</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Some[java.lang.Class[Byte]]" class="string">&quot;Byte&quot;</span> =&gt; <span title="(x: java.lang.Class[Byte])Some[java.lang.Class[Byte]]">Some</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[Byte](classOf[scala.Byte])" class="delimiter">[</span>scala.Byte<span class="delimiter">]</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Some[java.lang.Class[Char]]" class="string">&quot;Char&quot;</span> =&gt; <span title="(x: java.lang.Class[Char])Some[java.lang.Class[Char]]">Some</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[Char](classOf[scala.Char])" class="delimiter">[</span>scala.Char<span class="delimiter">]</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span> <span class="comment">//Unknown scala primitive type?</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span>
        <span title="object None">None</span> <span class="comment">//Pattern was not found anywhere in the signature</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(member: java.lang.reflect.Member, p: Class[_], t: Option[java.lang.reflect.Type], optionFieldsInfo: Option[org.squeryl.annotations.package.Column])java.lang.Object" id="45532">createDefaultValue</a><span class="delimiter">(</span><a title="java.lang.reflect.Member" id="48132">member</a>: <span title="java.lang.reflect.Member">Member</span>, <a title="Class[_]" id="48133">p</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="Option[java.lang.reflect.Type]" id="48134">t</a>: <span title="Option[java.lang.reflect.Type]">Option</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Option[org.squeryl.annotations.package.Column]" id="48135">optionFieldsInfo</a>: <span title="Option[org.squeryl.annotations.package.Column]">Option</span><span class="delimiter">[</span>Column<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="java.lang.Object">Object</span> = <span class="delimiter">{</span>
    <span title="java.lang.Object" class="keyword">if</span> <span class="delimiter">(</span><a href="#48133" title="Class[_]">p</a>.<span title="(x$1: java.lang.Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[Option[Any]](classOf[scala.Option])" class="delimiter">[</span>Option<span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="comment">/*
       * First we'll look at the annotation if it exists as it's the lowest cost.
       */</span>
       <a href="#48135" title="Option[org.squeryl.annotations.package.Column]">optionFieldsInfo</a>.<span title="(f: org.squeryl.annotations.package.Column =&gt; Option[java.lang.Object])Option[java.lang.Object]">flatMap</span><span class="delimiter">(</span><a title="org.squeryl.annotations.package.Column" id="99975">ann</a> =&gt; 
         <span title="Option[java.lang.Object]" class="keyword">if</span><span class="delimiter">(</span><a href="#99975" title="org.squeryl.annotations.package.Column">ann</a>.<a href="../annotations/ColumnBase.java.html#45595" title="()java.lang.Class[_]">optionType</a> <span title="(x$1: AnyRef)Boolean">!=</span> classOf<span title="java.lang.Class[java.lang.Object](classOf[java.lang.Object])" class="delimiter">[</span>Object<span class="delimiter">]</span><span class="delimiter">)</span>
           <span title="(x: java.lang.Object)Some[java.lang.Object]">Some</span><span class="delimiter">(</span><a href="#45532" title="(member: java.lang.reflect.Member, p: Class[_], t: Option[java.lang.reflect.Type], optionFieldsInfo: Option[org.squeryl.annotations.package.Column])java.lang.Object">createDefaultValue</a><span class="delimiter">(</span><a href="#48132" title="java.lang.reflect.Member">member</a>, <a href="#99975" title="org.squeryl.annotations.package.Column">ann</a>.<a href="../annotations/ColumnBase.java.html#45595" title="()java.lang.Class[_]">optionType</a>, <span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="object None">None</span><span class="delimiter">)</span>.<span title="(alternative: =&gt; Option[java.lang.Object])Option[java.lang.Object]">orElse</span><span class="delimiter">{</span>
	      <span class="comment">/*
	       * Next we'll try the Java generic type.  This will fail if the generic parameter is a primitive as
	       * we'll see Object instead of scala.X
	       */</span>
	      <a href="#48134" title="Option[java.lang.reflect.Type]">t</a> <span title="Option[java.lang.Object]" class="keyword">match</span> <span class="delimiter">{</span>
	        <span class="keyword">case</span> <span title="Option[java.lang.Object]">Some</span><span class="delimiter">(</span><a title="java.lang.reflect.ParameterizedType" id="100008">pt</a>: <span title="java.lang.reflect.ParameterizedType">ParameterizedType</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
	          <a href="#100008" title="java.lang.reflect.ParameterizedType">pt</a>.<span title="(xs: Array[java.lang.reflect.Type])scala.collection.mutable.ArrayOps[java.lang.reflect.Type]">getActualTypeArguments</span>.<span title="=&gt; List[java.lang.reflect.Type]">toList</span> <span title="Option[java.lang.Object]" class="keyword">match</span> <span class="delimiter">{</span>
	            <span class="keyword">case</span> <a title="Option[java.lang.Object]" id="100173">oType</a> :: <span title="object Nil">Nil</span> =&gt; <span class="delimiter">{</span>
	              <span title="Option[java.lang.Object]" class="keyword">if</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[Class[_]](classOf[java.lang.Class])" class="delimiter">[</span>Class<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="(x$1: Any)Boolean">isInstance</span><span class="delimiter">(</span><a href="#100173" title="java.lang.reflect.Type">oType</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
	                <span class="comment">/*
	                 * Primitive types are seen by Java reflection as classOf[Object], 
	                 * if that's what we find then we need to get the real value from @ScalaSignature
	                 */</span>
	                <span class="keyword">val</span> <a title="Option[Class[_]]" id="100178">trueTypeOption</a> = 
	                  <span title="Option[Class[_]]" class="keyword">if</span> <span class="delimiter">(</span>classOf<span title="java.lang.Class[java.lang.Object](classOf[java.lang.Object])" class="delimiter">[</span>Object<span class="delimiter">]</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#100173" title="java.lang.reflect.Type">oType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#45530" title="()Boolean">detectScalapOnClasspath</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#45531" title="(member: java.lang.reflect.Member)Option[Class[_]]">optionTypeFromScalaSig</a><span class="delimiter">(</span><a href="#48132" title="java.lang.reflect.Member">member</a><span class="delimiter">)</span> 
	                  <span class="keyword">else</span> <span title="(x: Class[_$34])Some[Class[_$34]]">Some</span><span class="delimiter">(</span><a href="#100173" title="java.lang.reflect.Type">oType</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Class[_$34]" class="delimiter">[</span><span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
	                <a href="#100178" title="Option[Class[_]]">trueTypeOption</a> <span title="(f: Class[_] =&gt; Option[java.lang.Object])Option[java.lang.Object]">flatMap</span> <span class="delimiter">{</span> <a title="Class[_]" id="100197">trueType</a> =&gt;
	                  <span class="keyword">val</span> <a title="java.lang.Object" id="100198">deduced</a> = <a href="#45532" title="(member: java.lang.reflect.Member, p: Class[_], t: Option[java.lang.reflect.Type], optionFieldsInfo: Option[org.squeryl.annotations.package.Column])java.lang.Object">createDefaultValue</a><span class="delimiter">(</span><a href="#48132" title="java.lang.reflect.Member">member</a>, <a href="#100197" title="Class[_]">trueType</a>, <span title="object None">None</span>, <a href="#48135" title="Option[org.squeryl.annotations.package.Column]">optionFieldsInfo</a><span class="delimiter">)</span>
	                  <span title="Option[java.lang.Object]" class="keyword">if</span> <span class="delimiter">(</span><a href="#100198" title="java.lang.Object">deduced</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
	                    <span title="(x: java.lang.Object)Some[java.lang.Object]">Some</span><span class="delimiter">(</span><a href="#100198" title="java.lang.Object">deduced</a><span class="delimiter">)</span>
	                  <span class="keyword">else</span>
	                    <span title="object None">None</span> <span class="comment">//Couldn't create default for type param</span>
	                <span class="delimiter">}</span>
	              <span class="delimiter">}</span> <span class="keyword">else</span><span class="delimiter">{</span>
	            	  <span title="object None">None</span> <span class="comment">//Type parameter is not a Class</span>
	              <span class="delimiter">}</span>
	            <span class="delimiter">}</span>
	            <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span> <span class="comment">//Not a single type parameter</span>
	          <span class="delimiter">}</span>
	        <span class="delimiter">}</span>
	        <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span> <span class="comment">//Not a parameterized type</span>
	      <span class="delimiter">}</span> 
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> <span class="keyword">else</span>
      <a href="#45523" title="=&gt; java.lang.Object with org.squeryl.internals.FieldTypeHandler[AnyRef]{def handleIntType: java.lang.Integer; def handleStringType: java.lang.String; def handleStringType(fmd: Option[org.squeryl.internals.FieldMetaData]): java.lang.String; def handleBooleanType: java.lang.Boolean; def handleDoubleType: java.lang.Double; def handleDateType: java.util.Date; def handleLongType: java.lang.Long; def handleFloatType: java.lang.Float; def handleBigDecimalType(fmd: Option[org.squeryl.internals.FieldMetaData]): scala.math.BigDecimal; def handleTimestampType: java.sql.Timestamp; def handleBinaryType: Array[Byte]; def handleEnumerationValueType: org.squeryl.internals.FieldMetaData.DummyE.Value; def handleUuidType: java.util.UUID; def handleUnknownType(c: Class[_]): Null}">_defaultValueFactory</a>.<a href="FieldTypeHandler.scala.html#62916" title="(t: Class[_], fmd: Option[org.squeryl.internals.FieldMetaData])AnyRef">handleType</a><span class="delimiter">(</span><a href="#48133" title="Class[_]">p</a>, <span title="object None">None</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>