<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>main/org/squeryl/internals/FieldMetaData.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*******************************************************************************
 * Copyright 2010 Maxime LÃ©vesque
 * 
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *   http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ***************************************************************************** */</span>
<span class="keyword">package</span> org.squeryl.internals

<span class="keyword">import</span> java.lang.annotation.Annotation
<span class="keyword">import</span> java.lang.reflect.<span class="delimiter">{</span>Field, Method, Constructor, InvocationTargetException, Type, ParameterizedType<span class="delimiter">}</span>
<span class="keyword">import</span> java.sql.ResultSet
<span class="keyword">import</span> java.math.BigDecimal
<span class="keyword">import</span> scala.annotation.tailrec
<span class="keyword">import</span> org.squeryl.annotations.<span class="delimiter">{</span>ColumnBase, Column<span class="delimiter">}</span>
<span class="keyword">import</span> org.squeryl.dsl.ast.<span class="delimiter">{</span>ConstantExpressionNode, TypedExpressionNode<span class="delimiter">}</span>
<span class="keyword">import</span> collection.mutable.<span class="delimiter">{</span>HashMap, HashSet, ArrayBuffer<span class="delimiter">}</span>
<span class="keyword">import</span> org.squeryl.<span class="delimiter">{</span>IndirectKeyedEntity, Session, KeyedEntity<span class="delimiter">}</span>
<span class="keyword">import</span> org.squeryl.dsl.CompositeKey
<span class="keyword">import</span> org.squeryl.customtypes.CustomType
<span class="keyword">import</span> scala.tools.scalap.scalax.rules.scalasig.<span class="delimiter">{</span>ScalaSigAttributeParsers, ByteCode, ScalaSigPrinter<span class="delimiter">}</span>
<span class="keyword">import</span> java.io.ByteArrayOutputStream
<span class="keyword">import</span> java.io.PrintStream
<span class="keyword">import</span> java.lang.reflect.Member
<span class="keyword">import</span> scala.tools.scalap.scalax.rules.scalasig.ScalaSigParser

<span class="keyword">class</span> <a title="class FieldMetaData extends java.lang.Object with ScalaObject" id="10742">FieldMetaData</a><a href="#10742" title="ScalaObject" class="delimiter">(</a>
        <span class="keyword">val</span> <a title="org.squeryl.internals.PosoMetaData[_]" id="46148">parentMetaData</a>: <a href="PosoMetaData.scala.html#10791" title="org.squeryl.internals.PosoMetaData[_]">PosoMetaData</a><span class="delimiter">[</span>_<span class="delimiter">]</span>,
        <span class="keyword">val</span> <a title="String" id="46149">nameOfProperty</a>:<span title="String">String</span>,
        <span class="keyword">val</span> <a title="Class[_]" id="46150">fieldType</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span>, <span class="comment">// if isOption, this fieldType is the type param of Option, i.e. the T in Option[T]</span>
        <span class="keyword">val</span> <a title="Class[_]" id="46151">wrappedFieldType</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span>, <span class="comment">//in primitive type mode fieldType == wrappedFieldType, in custom type mode wrappedFieldType is the 'real'</span>
        <span class="comment">// type, i.e. the (primitive) type that jdbc understands</span>
        <span class="keyword">val</span> <a title="Option[AnyRef =&gt; Product1[Any] with AnyRef]" id="46152">customTypeFactory</a>: <span title="Option[AnyRef =&gt; Product1[Any] with AnyRef]">Option</span><span class="delimiter">[</span>AnyRef =&gt; Product1<span class="delimiter">[</span>Any<span class="delimiter">]</span> <span class="keyword">with</span> AnyRef<span class="delimiter">]</span>,
        <span class="keyword">val</span> <a title="Boolean" id="46153">isOption</a>: <span title="Boolean">Boolean</span>,
        <a title="Option[java.lang.reflect.Method]" id="46154">getter</a>: <span title="Option[java.lang.reflect.Method]">Option</span><span class="delimiter">[</span>Method<span class="delimiter">]</span>,
        <a title="Option[java.lang.reflect.Method]" id="46155">setter</a>: <span title="Option[java.lang.reflect.Method]">Option</span><span class="delimiter">[</span>Method<span class="delimiter">]</span>,
        <a title="Option[java.lang.reflect.Field]" id="46156">field</a>:  <span title="Option[java.lang.reflect.Field]">Option</span><span class="delimiter">[</span>Field<span class="delimiter">]</span>,
        <a title="Option[org.squeryl.annotations.package.Column]" id="46157">columnAnnotation</a>: <span title="Option[org.squeryl.annotations.package.Column]">Option</span><span class="delimiter">[</span>Column<span class="delimiter">]</span>,
        <span class="keyword">val</span> <a title="Boolean" id="46158">isOptimisticCounter</a>: <span title="Boolean">Boolean</span>,
        <span class="keyword">val</span> <a title="Any" id="46159">sampleValue</a>: <span title="Any">Any</span><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="46111">isEnumeration</a> = <span class="delimiter">{</span>
    classOf<span title="java.lang.Class[Enumeration#Value](classOf[scala.Enumeration$Value])" class="delimiter">[</span>Enumeration#Value<span class="delimiter">]</span>.<span title="(x$1: java.lang.Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#46151" title="=&gt; Class[_]">wrappedFieldType</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(id: Int)Option[Enumeration#Value]" id="46112">canonicalEnumerationValueFor</a><span class="delimiter">(</span><a title="Int" id="61367">id</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
    <span title="Option[enu.Value]" class="keyword">if</span><span class="delimiter">(</span><a href="#46159" title="=&gt; Any">sampleValue</a> <span title="(x$1: Any)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      org.squeryl.internals.<a href="Utils.scala.html#10829" title="object org.squeryl.internals.Utils">Utils</a>.<a href="Utils.scala.html#30502" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;classes with Enumerations must have a zero param constructor that assigns a sample to the enumeration field&quot;)" class="string">&quot;classes with Enumerations must have a zero param constructor that assigns a sample to the enumeration field&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>

      <span class="keyword">val</span> <a title="Enumeration#Value" id="61370">svE</a> =
        <span title="Enumeration#Value" class="keyword">if</span><span class="delimiter">(</span><a href="#46153" title="=&gt; Boolean">isOption</a><span class="delimiter">)</span>
          <a href="#46159" title="=&gt; Any">sampleValue</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Option[Enumeration#Value]" class="delimiter">[</span><span title="Option[Enumeration#Value]">Option</span><span class="delimiter">[</span>Enumeration#Value<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="=&gt; Enumeration#Value">get</span>
        <span class="keyword">else</span>
          <a href="#46159" title="=&gt; Any">sampleValue</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Enumeration#Value" class="delimiter">[</span>Enumeration#<span title="Enumeration#Value">Value</span><span class="delimiter">]</span>

      <span class="keyword">val</span> <a title="Enumeration" id="61371">enu</a> = <a href="Utils.scala.html#10829" title="object org.squeryl.internals.Utils">Utils</a>.<a href="Utils.scala.html#30503" title="(v: Enumeration#Value)Enumeration">enumerationForValue</a><span class="delimiter">(</span><a href="#61370" title="Enumeration#Value">svE</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Option[enu.Value]" id="61372">r</a> = <a href="#61371" title="Enumeration">enu</a>.<span title="=&gt; enu.ValueSet">values</span>.<span title="(p: enu.Value =&gt; Boolean)Option[enu.Value]">find</span><span class="delimiter">(</span><a href="#61406" title="enu.Value">_</a>.<span title="=&gt; Int">id</span> <span title="(x: Int)Boolean">==</span> <a href="#61367" title="Int">id</a><span class="delimiter">)</span>

      <a href="#61372" title="Option[enu.Value]">r</a>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * This field is mutable only by the Schema trait, and only during the Schema instantiation,
   * so it can safely be considered immutable (read only) by the columnAttributes accessor 
   */</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[org.squeryl.internals.ColumnAttribute]" id="46113">_columnAttributes</a> = <span title="()scala.collection.mutable.HashSet[org.squeryl.internals.ColumnAttribute]" class="keyword">new</span> <span title="scala.collection.mutable.HashSet[org.squeryl.internals.ColumnAttribute]">HashSet</span><span class="delimiter">[</span>ColumnAttribute<span class="delimiter">]</span>


  <span class="keyword">private</span> <span class="delimiter">[</span>squeryl<span class="delimiter">]</span> <span class="keyword">def</span> <a title="=&gt; Unit" id="46115">_clearColumnAttributes</a> = <span class="delimiter">{</span>
    <a href="#46113" title="=&gt; scala.collection.mutable.HashSet[org.squeryl.internals.ColumnAttribute]">_columnAttributes</a>.<span title="()Unit">clear</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="delimiter">[</span>squeryl<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(ca: org.squeryl.internals.ColumnAttribute)Boolean" id="46116">_addColumnAttribute</a><span class="delimiter">(</span><a title="org.squeryl.internals.ColumnAttribute" id="49510">ca</a>: <a href="ColumnAttribute.scala.html#10684" title="org.squeryl.internals.ColumnAttribute">ColumnAttribute</a><span class="delimiter">)</span> =
      <a href="#46113" title="=&gt; scala.collection.mutable.HashSet[org.squeryl.internals.ColumnAttribute]">_columnAttributes</a>.<span title="(elem: org.squeryl.internals.ColumnAttribute)Boolean">add</span><span class="delimiter">(</span><a href="#49510" title="org.squeryl.internals.ColumnAttribute">ca</a><span class="delimiter">)</span>

  <span class="comment">/**
   * In some circumstances (like in the test suite) a Schema instance must run on multiple database types,
   * this Map keeps the sequence names 'per schema'
   */</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[java.lang.Class[_],String]" id="46117">_sequenceNamePerDBAdapter</a> = <span title="()scala.collection.mutable.HashMap[Class[_],String]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[Class[_],String]">HashMap</span><span class="delimiter">[</span>Class<span class="delimiter">[</span>_<span class="delimiter">]</span>,String<span class="delimiter">]</span>

  <span class="keyword">def</span> <a title="=&gt; String" id="46119">sequenceName</a>: <span title="String">String</span> = <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="org.squeryl.internals.AutoIncremented" id="94607">ai</a> = <a href="#46113" title="=&gt; scala.collection.mutable.HashSet[org.squeryl.internals.ColumnAttribute]">_columnAttributes</a>.<span title="(p: org.squeryl.internals.ColumnAttribute =&gt; Boolean)Option[org.squeryl.internals.ColumnAttribute]">find</span><span class="delimiter">(</span><a href="#94613" title="org.squeryl.internals.ColumnAttribute">_</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="ColumnAttribute.scala.html#10692" title="org.squeryl.internals.AutoIncremented">AutoIncremented</a><span class="delimiter">]</span><span class="delimiter">)</span>.
      <span title="(default: =&gt; org.squeryl.internals.ColumnAttribute)org.squeryl.internals.ColumnAttribute">getOrElse</span><span class="delimiter">(</span>org.squeryl.internals.<a href="Utils.scala.html#10829" title="object org.squeryl.internals.Utils">Utils</a>.<a href="Utils.scala.html#30502" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><a href="#10742" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="keyword">this</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; is not declared as autoIncremented, hence it has no sequenceName&quot;)" class="string">&quot; is not declared as autoIncremented, hence it has no sequenceName&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.
        <span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.internals.AutoIncremented" class="delimiter">[</span><a href="ColumnAttribute.scala.html#10692" title="org.squeryl.internals.AutoIncremented">AutoIncremented</a><span class="delimiter">]</span>

    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#94607" title="org.squeryl.internals.AutoIncremented">ai</a>.<a href="ColumnAttribute.scala.html#49612" title="=&gt; Option[String]">nameOfSequence</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object None">None</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Nothing" class="keyword">return</span> <a href="#94607" title="org.squeryl.internals.AutoIncremented">ai</a>.<a href="ColumnAttribute.scala.html#49612" title="=&gt; Option[String]">nameOfSequence</a>.<span title="=&gt; String">get</span>
    <span class="delimiter">}</span>

    <a href="#10742" title="(x$1: Nothing)Nothing">synchronized</a> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.lang.Class[_ &lt;: org.squeryl.internals.DatabaseAdapter]" id="94629">c</a> = <a href="../Session.scala.html#9848" title="object org.squeryl.Session">Session</a>.<a href="../Session.scala.html#34680" title="=&gt; org.squeryl.Session">currentSession</a>.<a href="../Session.scala.html#34691" title="=&gt; org.squeryl.internals.DatabaseAdapter">databaseAdapter</a>.<span title="()java.lang.Class[_]">getClass</span>

      <span class="keyword">val</span> <a title="Option[String]" id="94630">s</a> = <a href="#46117" title="=&gt; scala.collection.mutable.HashMap[java.lang.Class[_],String]">_sequenceNamePerDBAdapter</a>.<span title="(key: java.lang.Class[_])Option[String]">get</span><span class="delimiter">(</span><a href="#94629" title="java.lang.Class[_ &lt;: org.squeryl.internals.DatabaseAdapter]">c</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#94630" title="Option[String]">s</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object None">None</span><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">return</span> <a href="#94630" title="Option[String]">s</a>.<span title="=&gt; String">get</span>

      <span class="keyword">val</span> <a title="java.lang.String" id="94631">s0</a> = <a href="../Session.scala.html#9848" title="object org.squeryl.Session">Session</a>.<a href="../Session.scala.html#34680" title="=&gt; org.squeryl.Session">currentSession</a>.<a href="../Session.scala.html#34691" title="=&gt; org.squeryl.internals.DatabaseAdapter">databaseAdapter</a>.<a href="DatabaseAdapter.scala.html#34776" title="(fmd: org.squeryl.internals.FieldMetaData)java.lang.String">createSequenceName</a><span class="delimiter">(</span><a href="#10742" title="org.squeryl.internals.FieldMetaData" class="keyword">this</a><span class="delimiter">)</span>
      
      <a href="#46117" title="=&gt; scala.collection.mutable.HashMap[java.lang.Class[_],String]">_sequenceNamePerDBAdapter</a>.<span title="(key: java.lang.Class[_], value: String)Option[String]">put</span><span class="delimiter">(</span><a href="#94629" title="java.lang.Class[_ &lt;: org.squeryl.internals.DatabaseAdapter]">c</a>, <a href="#94631" title="java.lang.String">s0</a><span class="delimiter">)</span>

      <span title="Nothing" class="keyword">return</span> <a href="#94631" title="java.lang.String">s0</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="46120">isIdFieldOfKeyedEntity</a> =
    <span class="delimiter">(</span>classOf<span title="java.lang.Class[org.squeryl.KeyedEntity[Any]](classOf[org.squeryl.KeyedEntity])" class="delimiter">[</span>KeyedEntity<span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="(x$1: java.lang.Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#46148" title="=&gt; org.squeryl.internals.PosoMetaData[_]">parentMetaData</a>.<a href="PosoMetaData.scala.html#34974" title="(=&gt; java.lang.Class[_$1]) forSome { type _$1 }">clasz</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#46149" title="=&gt; String">nameOfProperty</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;id&quot;)" class="string">&quot;id&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
    <span class="delimiter">(</span>classOf<span title="java.lang.Class[org.squeryl.IndirectKeyedEntity[_, _]](classOf[org.squeryl.IndirectKeyedEntity])" class="delimiter">[</span>IndirectKeyedEntity<span class="delimiter">[</span>_,_<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="(x$1: java.lang.Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#46148" title="=&gt; org.squeryl.internals.PosoMetaData[_]">parentMetaData</a>.<a href="PosoMetaData.scala.html#34974" title="(=&gt; java.lang.Class[_$1]) forSome { type _$1 }">clasz</a><span class="delimiter">)</span>  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#46149" title="=&gt; String">nameOfProperty</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;idField&quot;)" class="string">&quot;idField&quot;</span><span class="delimiter">)</span>

  <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#46120" title="=&gt; Boolean">isIdFieldOfKeyedEntity</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span> classOf<span title="java.lang.Class[org.squeryl.dsl.CompositeKey](classOf[org.squeryl.dsl.CompositeKey])" class="delimiter">[</span>CompositeKey<span class="delimiter">]</span>.<span title="(x$1: java.lang.Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#46151" title="=&gt; Class[_]">wrappedFieldType</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#46130" title="=&gt; org.squeryl.Schema">schema</a>.<a href="../Schema.scala.html#14394" title="(typeOfIdField: Class[_])scala.collection.immutable.Set[_ &gt;: org.squeryl.internals.PrimaryKey &lt;: Product with Serializable with org.squeryl.internals.AttributeValidOnNumericalColumn]">defaultColumnAttributesForKeyedEntityId</a><span class="delimiter">(</span><a href="#46151" title="=&gt; Class[_]">wrappedFieldType</a><span class="delimiter">)</span>.<span title="(f: _48 =&gt; Boolean)Unit">foreach</span><span class="delimiter">(</span><a title="_48" id="94705">ca</a> =&gt; <span class="delimiter">{</span>

      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#94705" title="_48">ca</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="ColumnAttribute.scala.html#10692" title="org.squeryl.internals.AutoIncremented">AutoIncremented</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span> <span class="delimiter">(</span><a href="#46151" title="=&gt; Class[_]">wrappedFieldType</a>.<span title="(x$1: java.lang.Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[java.lang.Long](classOf[java.lang.Long])" class="delimiter">[</span>java.lang.Long<span class="delimiter">]</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#46151" title="=&gt; Class[_]">wrappedFieldType</a>.<span title="(x$1: java.lang.Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[java.lang.Integer](classOf[java.lang.Integer])" class="delimiter">[</span>java.lang.Integer<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        org.squeryl.internals.<a href="Utils.scala.html#10829" title="object org.squeryl.internals.Utils">Utils</a>.<a href="Utils.scala.html#30502" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Schema &quot;)" class="string">&quot;Schema &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#46130" title="=&gt; org.squeryl.Schema">schema</a>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.String">getName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; has method defaultColumnAttributesForKeyedEntityId returning AutoIncremented \012for &quot;)" class="string">&quot; has method defaultColumnAttributesForKeyedEntityId returning AutoIncremented \nfor &quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
          <span title="java.lang.String(&quot; all KeyedEntity tables, while class &quot;)" class="string">&quot; all KeyedEntity tables, while class &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#46148" title="=&gt; org.squeryl.internals.PosoMetaData[_]">parentMetaData</a>.<a href="PosoMetaData.scala.html#34974" title="(=&gt; java.lang.Class[_$1]) forSome { type _$1 }">clasz</a>.<span title="()java.lang.String">getName</span> <span title="(x$1: Any)java.lang.String">+</span>
          <span title="java.lang.String(&quot;\012 has it\'s id field of type &quot;)" class="string">&quot;\n has it's id field of type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#46150" title="=&gt; Class[_]">fieldType</a>.<span title="()java.lang.String">getName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, that is neither an Int or a Long, \012 the only two types that can &quot;)" class="string">&quot;, that is neither an Int or a Long, \n the only two types that can &quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
          <span title="java.lang.String(&quot;be auto incremented&quot;)" class="string">&quot;be auto incremented&quot;</span><span class="delimiter">)</span>

      <a href="#46116" title="(ca: org.squeryl.internals.ColumnAttribute)Boolean">_addColumnAttribute</a><span class="delimiter">(</span><a href="#94705" title="_48">ca</a><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="delimiter">[</span>squeryl<span class="delimiter">]</span> <span class="keyword">var</span> <a title="Option[org.squeryl.dsl.ast.ConstantExpressionNode[_]]" id="46122">_defaultValue</a>: <span title="Option[org.squeryl.dsl.ast.ConstantExpressionNode[_]]">Option</span><span class="delimiter">[</span>ConstantExpressionNode<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="object None">None</span>

  <span class="keyword">def</span> <a title="=&gt; Iterable[org.squeryl.internals.ColumnAttribute]" id="46124">columnAttributes</a>: <span title="Iterable[org.squeryl.internals.ColumnAttribute]">Iterable</span><span class="delimiter">[</span>ColumnAttribute<span class="delimiter">]</span> = <a href="#46113" title="=&gt; scala.collection.mutable.HashSet[org.squeryl.internals.ColumnAttribute]">_columnAttributes</a>

  <span class="keyword">def</span> <a title="=&gt; Option[org.squeryl.dsl.ast.ConstantExpressionNode[_]]" id="46125">defaultValue</a>: <span title="Option[org.squeryl.dsl.ast.ConstantExpressionNode[_]]">Option</span><span class="delimiter">[</span>ConstantExpressionNode<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#46122" title="=&gt; Option[org.squeryl.dsl.ast.ConstantExpressionNode[_]]">_defaultValue</a>

  <span class="comment">/**
   * The db column type declaration overriden in the schema, if None, it means that it is the default value for
   * the adapter (see Correspondance of field types to database column types http://squeryl.org/schema-definition.html)  
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Option[String]" id="46126">explicitDbTypeDeclaration</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Option[org.squeryl.internals.ColumnAttribute]" id="94717">dbt</a> = <a href="#46113" title="=&gt; scala.collection.mutable.HashSet[org.squeryl.internals.ColumnAttribute]">_columnAttributes</a>.<span title="(p: org.squeryl.internals.ColumnAttribute =&gt; Boolean)Option[org.squeryl.internals.ColumnAttribute]">find</span><span class="delimiter">(</span><a href="#94719" title="org.squeryl.internals.ColumnAttribute">_</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="ColumnAttribute.scala.html#10701" title="org.squeryl.internals.DBType">DBType</a><span class="delimiter">]</span><span class="delimiter">)</span>
    <span title="Option[String]" class="keyword">if</span><span class="delimiter">(</span><a href="#94717" title="Option[org.squeryl.internals.ColumnAttribute]">dbt</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span>
      <span title="object None">None</span>
    <span class="keyword">else</span>
      <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="#94717" title="Option[org.squeryl.internals.ColumnAttribute]">dbt</a>.<span title="=&gt; org.squeryl.internals.ColumnAttribute">get</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.internals.DBType" class="delimiter">[</span><a href="ColumnAttribute.scala.html#10701" title="org.squeryl.internals.DBType">DBType</a><span class="delimiter">]</span>.<a href="ColumnAttribute.scala.html#53445" title="=&gt; String">declaration</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="46127">isCustomType</a> = <a href="#46152" title="=&gt; Option[AnyRef =&gt; Product1[Any] with AnyRef]">customTypeFactory</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object None">None</span>

  <span class="comment">/**
   * @return the length defined in org.squeryl.annotations.Column.length
   * if it is defined, or the default length for Java primitive types.
   * The unit of the length is dependent on the type, the convention is
   * that numeric types have a length in byte, boolean is bits
   * date has -1, and for string the lenght is in chars.  
   * double,long -&gt; 8, float,int -&gt; 4, byte -&gt; 1, boolean -&gt; 1
   * java.util.Date -&gt; -1.
   *
   * The use of this field is to help custom schema generators select
   * the most appropriate column type  
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Int" id="46128">length</a>: <span title="Int">Int</span> =
    <span title="Int" class="keyword">if</span><span class="delimiter">(</span><a href="#46157" title="Option[org.squeryl.annotations.package.Column]">columnAnnotation</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span> <span title="(x: Boolean)Boolean">||</span> <a href="#46157" title="Option[org.squeryl.annotations.package.Column]">columnAnnotation</a>.<span title="=&gt; org.squeryl.annotations.package.Column">get</span>.<a href="../annotations/ColumnBase.java.html#43320" title="()Int">length</a> <span title="(x: Int)Boolean">==</span> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span>
      <a href="#10744" title="object org.squeryl.internals.FieldMetaData">FieldMetaData</a>.<a href="#43247" title="(fieldType: Class[_], fmd: org.squeryl.internals.FieldMetaData)Int">defaultFieldLength</a><span class="delimiter">(</span><a href="#46151" title="=&gt; Class[_]">wrappedFieldType</a>, <a href="#10742" title="org.squeryl.internals.FieldMetaData" class="keyword">this</a><span class="delimiter">)</span>
    <span class="keyword">else</span>
      <a href="#46157" title="Option[org.squeryl.annotations.package.Column]">columnAnnotation</a>.<span title="=&gt; org.squeryl.annotations.package.Column">get</span>.<a href="../annotations/ColumnBase.java.html#43320" title="()Int">length</a>

  <span class="keyword">def</span> <a title="=&gt; Int" id="46129">scale</a>: <span title="Int">Int</span> =
    <span title="Int" class="keyword">if</span><span class="delimiter">(</span><a href="#46157" title="Option[org.squeryl.annotations.package.Column]">columnAnnotation</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span> <span title="(x: Boolean)Boolean">||</span> <a href="#46157" title="Option[org.squeryl.annotations.package.Column]">columnAnnotation</a>.<span title="=&gt; org.squeryl.annotations.package.Column">get</span>.<a href="../annotations/ColumnBase.java.html#43321" title="()Int">scale</a> <span title="(x: Int)Boolean">==</span> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span>
      <a href="#46130" title="=&gt; org.squeryl.Schema">schema</a>.<a href="../Schema.scala.html#14385" title="=&gt; (Int, Int)">defaultSizeOfBigDecimal</a>.<span title="=&gt; Int">_2</span>
    <span class="keyword">else</span>
      <a href="#46157" title="Option[org.squeryl.annotations.package.Column]">columnAnnotation</a>.<span title="=&gt; org.squeryl.annotations.package.Column">get</span>.<a href="../annotations/ColumnBase.java.html#43321" title="()Int">scale</a>   

  <span class="keyword">def</span> <a title="=&gt; org.squeryl.Schema" id="46130">schema</a> = <a href="#46148" title="=&gt; org.squeryl.internals.PosoMetaData[_]">parentMetaData</a>.<a href="PosoMetaData.scala.html#34976" title="=&gt; org.squeryl.Schema">schema</a>

  <span class="comment">/**
   * The name of the database column
   */</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="46131">columnName</a> =
    <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#46157" title="Option[org.squeryl.annotations.package.Column]">columnAnnotation</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Option[String]" id="47285">nameDefinedInSchema</a> = <a href="#46113" title="=&gt; scala.collection.mutable.HashSet[org.squeryl.internals.ColumnAttribute]">_columnAttributes</a>.<span title="(p: org.squeryl.internals.ColumnAttribute =&gt; Boolean)Option[org.squeryl.internals.ColumnAttribute]">find</span><span class="delimiter">(</span><a href="#47292" title="org.squeryl.internals.ColumnAttribute">_</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="ColumnAttribute.scala.html#10710" title="org.squeryl.internals.Named">Named</a><span class="delimiter">]</span><span class="delimiter">)</span>.<span title="(f: org.squeryl.internals.ColumnAttribute =&gt; String)Option[String]">map</span><span class="delimiter">(</span><a href="#47302" title="org.squeryl.internals.ColumnAttribute">_</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.internals.Named" class="delimiter">[</span><a href="ColumnAttribute.scala.html#10710" title="org.squeryl.internals.Named">Named</a><span class="delimiter">]</span>.<a href="ColumnAttribute.scala.html#47294" title="=&gt; String">name</a><span class="delimiter">)</span>      
      <a href="#46148" title="=&gt; org.squeryl.internals.PosoMetaData[_]">parentMetaData</a>.<a href="PosoMetaData.scala.html#34976" title="=&gt; org.squeryl.Schema">schema</a>.<a href="../Schema.scala.html#14338" title="(propertyName: String)String">columnNameFromPropertyName</a><span class="delimiter">(</span><a href="#47285" title="Option[String]">nameDefinedInSchema</a>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><a href="#46149" title="=&gt; String">nameOfProperty</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.squeryl.annotations.package.Column" id="47309">ca</a> = <a href="#46157" title="Option[org.squeryl.annotations.package.Column]">columnAnnotation</a>.<span title="=&gt; org.squeryl.annotations.package.Column">get</span>
      <span class="keyword">var</span> <a title="java.lang.String" id="47310">res</a> = <a href="#47309" title="org.squeryl.annotations.package.Column">ca</a>.<a href="../annotations/ColumnBase.java.html#43319" title="()java.lang.String">name</a>

      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#47310" title="java.lang.String">res</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
        <a href="#47310" title="java.lang.String">res</a> = <a href="#47309" title="org.squeryl.annotations.package.Column">ca</a>.<a href="../annotations/ColumnBase.java.html#43318" title="()java.lang.String">value</a>

      <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#47310" title="java.lang.String">res</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
        <a href="#46148" title="=&gt; org.squeryl.internals.PosoMetaData[_]">parentMetaData</a>.<a href="PosoMetaData.scala.html#34976" title="=&gt; org.squeryl.Schema">schema</a>.<a href="../Schema.scala.html#14338" title="(propertyName: String)String">columnNameFromPropertyName</a><span class="delimiter">(</span><a href="#46149" title="=&gt; String">nameOfProperty</a><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="#47310" title="java.lang.String">res</a>
    <span class="delimiter">}</span>
  
  <span class="keyword">val</span> <a title="(java.sql.ResultSet, Int) =&gt; AnyRef" id="46132">resultSetHandler</a> =
    <a href="#10744" title="object org.squeryl.internals.FieldMetaData">FieldMetaData</a>.<a href="#43256" title="(c: Class[_])(java.sql.ResultSet, Int) =&gt; AnyRef">resultSetHandlerFor</a><span class="delimiter">(</span><a href="#46151" title="=&gt; Class[_]">wrappedFieldType</a><span class="delimiter">)</span>

  <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#46127" title="=&gt; Boolean">isCustomType</a><span class="delimiter">)</span>
    <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#46150" title="=&gt; Class[_]">fieldType</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#46151" title="=&gt; Class[_]">wrappedFieldType</a>,
      <span title="java.lang.String(&quot;expected fieldType == wrappedFieldType in primitive type mode, got &quot;)" class="string">&quot;expected fieldType == wrappedFieldType in primitive type mode, got &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
      <a href="#46150" title="=&gt; Class[_]">fieldType</a>.<span title="()java.lang.String">getName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; != &quot;)" class="string">&quot; != &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#46151" title="=&gt; Class[_]">wrappedFieldType</a>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="46134">toString</a> =
    <a href="#46148" title="=&gt; org.squeryl.internals.PosoMetaData[_]">parentMetaData</a>.<a href="PosoMetaData.scala.html#34974" title="(=&gt; java.lang.Class[_$1]) forSome { type _$1 }">clasz</a>.<span title="()java.lang.String">getSimpleName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#46131" title="=&gt; String">columnName</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#46136" title="=&gt; java.lang.String">displayType</a>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="46135">isStringType</a> =
    <a href="#46151" title="=&gt; Class[_]">wrappedFieldType</a>.<span title="(x$1: java.lang.Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[String](classOf[java.lang.String])" class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>  

  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="46136">displayType</a> =
     <span class="delimiter">(</span><span title="java.lang.String" class="keyword">if</span><span class="delimiter">(</span><a href="#46153" title="=&gt; Boolean">isOption</a><span class="delimiter">)</span>
        <span title="java.lang.String(&quot;Option[&quot;)" class="string">&quot;Option[&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#46150" title="=&gt; Class[_]">fieldType</a>.<span title="()java.lang.String">getName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span>
      <span class="keyword">else</span>
        <a href="#46150" title="=&gt; Class[_]">fieldType</a>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>

  <span class="comment">/**
   * When true, will cause Schema generation to declare as PrimaryKey, Note that for
   * KeyedEntity[]s,  declaredAsPrimaryKeyInSchema is always true, and the cannot be made otherwise,
   * the inverse is not true, a field can be declared as primary key in the Shema without it being the
   * id of a KeyedEntity[], ex. :
   *  
   * &lt;pre&gt;
   * on(myTable)(t =&gt;declare(
   *   myField.is(primaryKey)  // myField doesn't need to be a KeyedEntity.id 
   * ))
   * &lt;/pre&gt;
   * 
   * &lt;pre&gt;
   * on(myKeyedEntityTable)(t =&gt;declare(
   *   id.is(autoIncremented)  // omiting primaryKey here has no effect, it is equivalent as id.is(primaryKey,autoIncremented)
   * ))
   * &lt;/pre&gt;
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="46137">declaredAsPrimaryKeyInSchema</a> =
    <a href="#46124" title="=&gt; Iterable[org.squeryl.internals.ColumnAttribute]">columnAttributes</a>.<span title="(p: org.squeryl.internals.ColumnAttribute =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#46640" title="org.squeryl.internals.ColumnAttribute">_</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="ColumnAttribute.scala.html#10698" title="org.squeryl.internals.PrimaryKey">PrimaryKey</a><span class="delimiter">]</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="46138">isAutoIncremented</a> =
    <a href="#46124" title="=&gt; Iterable[org.squeryl.internals.ColumnAttribute]">columnAttributes</a>.<span title="(p: org.squeryl.internals.ColumnAttribute =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#60616" title="org.squeryl.internals.ColumnAttribute">_</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="ColumnAttribute.scala.html#10692" title="org.squeryl.internals.AutoIncremented">AutoIncremented</a><span class="delimiter">]</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Inserts will only set values for a column if isInsertable is true
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="46139">isInsertable</a> =
    <span title="=&gt; Boolean">!</span><a href="#46124" title="=&gt; Iterable[org.squeryl.internals.ColumnAttribute]">columnAttributes</a>.<span title="(p: org.squeryl.internals.ColumnAttribute =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#61525" title="org.squeryl.internals.ColumnAttribute">_</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="ColumnAttribute.scala.html#10704" title="org.squeryl.internals.Uninsertable">Uninsertable</a><span class="delimiter">]</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Updates will only set values for a column if isUpdatable is true
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="46140">isUpdatable</a> =
    <span title="=&gt; Boolean">!</span><a href="#46124" title="=&gt; Iterable[org.squeryl.internals.ColumnAttribute]">columnAttributes</a>.<span title="(p: org.squeryl.internals.ColumnAttribute =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#61769" title="org.squeryl.internals.ColumnAttribute">_</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="ColumnAttribute.scala.html#10707" title="org.squeryl.internals.Unupdatable">Unupdatable</a><span class="delimiter">]</span><span class="delimiter">)</span>

  <span class="comment">/**
   *  gets the value of the field from the object.
   * Note that it will unwrap Option[] and return null instead of None, i.e.
   * if converts None and Some to null and some.get respectively 
   * @arg o the object that owns the field
   */</span>
  <span class="keyword">def</span> <a title="(o: AnyRef)AnyRef" id="46141">get</a><span class="delimiter">(</span><a title="AnyRef" id="62055">o</a>:<span title="AnyRef">AnyRef</span><span class="delimiter">)</span>: <span title="AnyRef">AnyRef</span> =
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.lang.Object" id="94930">res</a> =
        <span title="java.lang.Object" class="keyword">if</span><span class="delimiter">(</span><a href="#46154" title="Option[java.lang.reflect.Method]">getter</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object None">None</span><span class="delimiter">)</span>
          <a href="#46144" title="(o: AnyRef)java.lang.Object">_getFromGetter</a><span class="delimiter">(</span><a href="#62055" title="AnyRef">o</a><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="#46146" title="(o: AnyRef)java.lang.Object">_getFromField</a><span class="delimiter">(</span><a href="#62055" title="AnyRef">o</a><span class="delimiter">)</span>

      <span title="AnyRef" class="keyword">if</span><span class="delimiter">(</span><a href="#46153" title="=&gt; Boolean">isOption</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="AnyRef" class="keyword">if</span><span class="delimiter">(</span><a href="#94930" title="java.lang.Object">res</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span>
          <span title="Null(null)" class="keyword">null</span>
        <span class="keyword">else</span>
          <a href="#94930" title="java.lang.Object">res</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Option[_$9]" class="delimiter">[</span><span title="Option[_]">Option</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="=&gt; _$9">get</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span>
        <a href="#94930" title="java.lang.Object">res</a>
    <span class="delimiter">}</span>
    <span class="keyword">catch</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Nothing" id="94950">e</a>: <span title="IllegalArgumentException">IllegalArgumentException</span> =&gt; org.squeryl.internals.<a href="Utils.scala.html#10829" title="object org.squeryl.internals.Utils">Utils</a>.<a href="Utils.scala.html#30502" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><a href="#46151" title="=&gt; Class[_]">wrappedFieldType</a>.<span title="()java.lang.String">getName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; used on &quot;)" class="string">&quot; used on &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#62055" title="AnyRef">o</a>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(target: AnyRef, rs: java.sql.ResultSet, index: Int)Unit" id="46142">setFromResultSet</a><span class="delimiter">(</span><a title="AnyRef" id="60620">target</a>: <span title="AnyRef">AnyRef</span>, <a title="java.sql.ResultSet" id="60621">rs</a>: <span title="java.sql.ResultSet">ResultSet</span>, <a title="Int" id="60622">index</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="AnyRef" id="60625">v</a> = <a href="#46132" title="(v1: java.sql.ResultSet, v2: Int)AnyRef">resultSetHandler</a><span class="delimiter">(</span><a href="#60621" title="java.sql.ResultSet">rs</a>, <a href="#60622" title="Int">index</a><span class="delimiter">)</span>
    <a href="#46143" title="(target: AnyRef, v: AnyRef)Unit">set</a><span class="delimiter">(</span><a href="#60620" title="AnyRef">target</a>, <a href="#60625" title="AnyRef">v</a><span class="delimiter">)</span>    
  <span class="delimiter">}</span>
  
  <span class="comment">/**
   * Sets the value 'v' to the object, the value will be converted to Some or None
   * if the field is an Option[], (if isOption).   
   */</span>
  <span class="keyword">def</span> <a title="(target: AnyRef, v: AnyRef)Unit" id="46143">set</a><span class="delimiter">(</span><a title="AnyRef" id="61349">target</a>: <span title="AnyRef">AnyRef</span>, <a title="AnyRef" id="61350">v</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="AnyRef" id="61353">v0</a>: <span title="AnyRef">AnyRef</span> =
        <span title="AnyRef" class="keyword">if</span><span class="delimiter">(</span><a href="#61350" title="AnyRef">v</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <span title="Null(null)" class="keyword">null</span>
        <span class="keyword">else</span> <span title="AnyRef" class="keyword">if</span><span class="delimiter">(</span><a href="#46111" title="=&gt; Boolean">isEnumeration</a><span class="delimiter">)</span>
          <a href="#46112" title="(id: Int)Option[Enumeration#Value]">canonicalEnumerationValueFor</a><span class="delimiter">(</span><a href="#61350" title="AnyRef">v</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="java.lang.Integer" class="delimiter">[</span>java.lang.<span title="java.lang.Integer">Integer</span><span class="delimiter">]</span>.<span title="()Int">intValue</span><span class="delimiter">)</span>.<span title="=&gt; Enumeration#Value">get</span>
        <span class="keyword">else</span> <span title="AnyRef" class="keyword">if</span><span class="delimiter">(</span><a href="#46152" title="=&gt; Option[AnyRef =&gt; Product1[Any] with AnyRef]">customTypeFactory</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span>
          <a href="#61350" title="AnyRef">v</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="AnyRef =&gt; Product1[Any] with AnyRef" id="61421">f</a> = <a href="#46152" title="=&gt; Option[AnyRef =&gt; Product1[Any] with AnyRef]">customTypeFactory</a>.<span title="=&gt; AnyRef =&gt; Product1[Any] with AnyRef">get</span>

          <span title="AnyRef" class="keyword">if</span><span class="delimiter">(</span><a href="#61350" title="AnyRef">v</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../customtypes/CustomTypesMode.scala.html#9991" title="org.squeryl.customtypes.CustomType[_]">CustomType</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Any" id="61430">r</a> = <a href="#61350" title="AnyRef">v</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.customtypes.CustomType[_$11]" class="delimiter">[</span><a href="../customtypes/CustomTypesMode.scala.html#9991" title="org.squeryl.customtypes.CustomType[_]">CustomType</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span>.<a href="../customtypes/CustomTypesMode.scala.html#61427" title="=&gt; _$11">_1</a>
            <a href="#61421" title="(v1: AnyRef)Product1[Any] with AnyRef">f</a><span class="delimiter">(</span><span title="AnyRef" class="keyword">if</span><span class="delimiter">(</span><a href="#61430" title="Any">r</a> <span title="(x$1: Any)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Null(null)" class="keyword">null</span> <span class="keyword">else</span> <a href="#61430" title="Any">r</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
           <a href="#61421" title="(v1: AnyRef)Product1[Any] with AnyRef">f</a><span class="delimiter">(</span><a href="#61350" title="AnyRef">v</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="AnyRef" id="61354">actualValue</a> =
        <span title="AnyRef" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#46153" title="=&gt; Boolean">isOption</a><span class="delimiter">)</span>
          <a href="#61353" title="AnyRef">v0</a>
        <span class="keyword">else</span> <span title="Option[AnyRef]" class="keyword">if</span><span class="delimiter">(</span><a href="#61353" title="AnyRef">v0</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <span title="object None">None</span>
        <span class="keyword">else</span>
          <span title="(x: AnyRef)Some[AnyRef]">Some</span><span class="delimiter">(</span><a href="#61353" title="AnyRef">v0</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Any" id="61355">res</a> =
        <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="#46155" title="Option[java.lang.reflect.Method]">setter</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object None">None</span><span class="delimiter">)</span>
          <a href="#46145" title="(target: AnyRef, v: AnyRef)java.lang.Object">_setWithSetter</a><span class="delimiter">(</span><a href="#61349" title="AnyRef">target</a>, <a href="#61354" title="AnyRef">actualValue</a><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="#46147" title="(target: AnyRef, v: AnyRef)Unit">_setWithField</a><span class="delimiter">(</span><a href="#61349" title="AnyRef">target</a>, <a href="#61354" title="AnyRef">actualValue</a><span class="delimiter">)</span>
    <span title="Unit" class="delimiter">}</span>
    <span class="keyword">catch</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Nothing" id="61482">e</a>: <span title="IllegalArgumentException">IllegalArgumentException</span> =&gt; <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="java.lang.String" id="61483">typeOfV</a> = <span title="java.lang.String" class="keyword">if</span><span class="delimiter">(</span><a href="#61350" title="AnyRef">v</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;null&quot;)" class="string">&quot;null&quot;</span> <span class="keyword">else</span> <a href="#61350" title="AnyRef">v</a>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.String">getName</span>
        org.squeryl.internals.<a href="Utils.scala.html#10829" title="object org.squeryl.internals.Utils">Utils</a>.<a href="Utils.scala.html#30502" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span>
          <a href="#10742" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="keyword">this</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; was invoked with value \'&quot;)" class="string">&quot; was invoked with value '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#61350" title="AnyRef">v</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\' of type &quot;)" class="string">&quot;' of type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#61483" title="java.lang.String">typeOfV</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; on object of type &quot;)" class="string">&quot; on object of type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#61349" title="AnyRef">target</a>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.String">getName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; \012&quot;)" class="string">&quot; \n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#61482" title="IllegalArgumentException">e</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(o: AnyRef)java.lang.Object" id="46144">_getFromGetter</a><span class="delimiter">(</span><a title="AnyRef" id="94935">o</a>:<span title="AnyRef">AnyRef</span><span class="delimiter">)</span> =
    <a href="#46154" title="Option[java.lang.reflect.Method]">getter</a>.<span title="=&gt; java.lang.reflect.Method">get</span>.<span title="(x$1: Any, x$2: &lt;repeated...&gt;[java.lang.Object])java.lang.Object">invoke</span><span class="delimiter">(</span><a href="#94935" title="AnyRef">o</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(target: AnyRef, v: AnyRef)java.lang.Object" id="46145">_setWithSetter</a><span class="delimiter">(</span><a title="AnyRef" id="61466">target</a>: <span title="AnyRef">AnyRef</span>, <a title="AnyRef" id="61467">v</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> =
    <a href="#46155" title="Option[java.lang.reflect.Method]">setter</a>.<span title="=&gt; java.lang.reflect.Method">get</span>.<span title="(x$1: Any, x$2: &lt;repeated...&gt;[java.lang.Object])java.lang.Object">invoke</span><span class="delimiter">(</span><a href="#61466" title="AnyRef">target</a>, <a href="#61467" title="AnyRef">v</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(o: AnyRef)java.lang.Object" id="46146">_getFromField</a><span class="delimiter">(</span><a title="AnyRef" id="94938">o</a>:<span title="AnyRef">AnyRef</span><span class="delimiter">)</span> =
    <a href="#46156" title="Option[java.lang.reflect.Field]">field</a>.<span title="=&gt; java.lang.reflect.Field">get</span>.<span title="(x$1: Any)java.lang.Object">get</span><span class="delimiter">(</span><a href="#94938" title="AnyRef">o</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(target: AnyRef, v: AnyRef)Unit" id="46147">_setWithField</a><span class="delimiter">(</span><a title="AnyRef" id="61470">target</a>: <span title="AnyRef">AnyRef</span>, <a title="AnyRef" id="61471">v</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> =
    <a href="#46156" title="Option[java.lang.reflect.Field]">field</a>.<span title="=&gt; java.lang.reflect.Field">get</span>.<span title="(x$1: Any, x$2: Any)Unit">set</span><span class="delimiter">(</span><a href="#61470" title="AnyRef">target</a>, <a href="#61471" title="AnyRef">v</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait FieldMetaDataFactory extends java.lang.Object with ScalaObject" id="10743">FieldMetaDataFactory</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(o: AnyRef, f: java.lang.reflect.Field)Boolean" id="43262">hideFromYieldInspection</a><span class="delimiter">(</span><a title="AnyRef" id="94955">o</a>: <span title="AnyRef">AnyRef</span>, <a title="java.lang.reflect.Field" id="94956">f</a>: <span title="java.lang.reflect.Field">Field</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">def</span> <a title="(parentMetaData: org.squeryl.internals.PosoMetaData[_], name: String, property: (Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation]), sampleInstance4OptionTypeDeduction: AnyRef, isOptimisticCounter: Boolean)org.squeryl.internals.FieldMetaData" id="43263">build</a><span class="delimiter">(</span><a title="org.squeryl.internals.PosoMetaData[_]" id="43283">parentMetaData</a>: <a href="PosoMetaData.scala.html#10791" title="org.squeryl.internals.PosoMetaData[_]">PosoMetaData</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="String" id="43284">name</a>: <span title="String">String</span>, <a title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])" id="43285">property</a>: <span title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])" class="delimiter">(</span>Option<span class="delimiter">[</span>Field<span class="delimiter">]</span>, Option<span class="delimiter">[</span>Method<span class="delimiter">]</span>, Option<span class="delimiter">[</span>Method<span class="delimiter">]</span>, Set<span class="delimiter">[</span>Annotation<span class="delimiter">]</span><span class="delimiter">)</span>, <a title="AnyRef" id="43286">sampleInstance4OptionTypeDeduction</a>: <span title="AnyRef">AnyRef</span>, <a title="Boolean" id="43287">isOptimisticCounter</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="#10742" title="org.squeryl.internals.FieldMetaData">FieldMetaData</a>

  <span class="keyword">def</span> <a title="(c: Class[_])Boolean" id="43264">isSupportedFieldType</a><span class="delimiter">(</span><a title="Class[_]" id="94959">c</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <a href="#10744" title="object org.squeryl.internals.FieldMetaData">FieldMetaData</a>.<a href="#43241" title="=&gt; java.lang.Object with org.squeryl.internals.FieldTypeHandler[Boolean]">_isSupportedFieldType</a>.<a href="FieldTypeHandler.scala.html#60643" title="(t: Class[_], fmd: Option[org.squeryl.internals.FieldMetaData])Boolean">handleType</a><span class="delimiter">(</span><a href="#94959" title="Class[_]">c</a>, <span title="object None">None</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(posoMetaData: org.squeryl.internals.PosoMetaData[_])() =&gt; AnyRef" id="43265">createPosoFactory</a><span class="delimiter">(</span><a title="org.squeryl.internals.PosoMetaData[_]" id="43271">posoMetaData</a>: <a href="PosoMetaData.scala.html#10791" title="org.squeryl.internals.PosoMetaData[_]">PosoMetaData</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span class="delimiter">(</span><span class="delimiter">)</span>=&gt;AnyRef
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object org.squeryl.internals.FieldMetaData" id="10744">FieldMetaData</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Array[java.lang.Object]" id="43239">_EMPTY_ARRAY</a> = <span title="Array[java.lang.Object]" class="keyword">new</span> <span title="Array[java.lang.Object]">Array</span><span class="delimiter">[</span>Object<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="delimiter">[</span>squeryl<span class="delimiter">]</span> <span class="keyword">val</span> <a title="_isSupportedFieldType extends java.lang.Object with org.squeryl.internals.FieldTypeHandler[Boolean]" id="43241">_isSupportedFieldType</a> = <a href="#83898" title="java.lang.Object with org.squeryl.internals.FieldTypeHandler[Boolean]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with org.squeryl.internals.FieldTypeHandler[Boolean]" id="83898">FieldTypeHandler</a><span class="delimiter">[</span>Boolean<span class="delimiter">]</span> <span class="delimiter">{</span>

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="83900">handleIntType</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="83901">handleStringType</a>  = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="(fmd: Option[org.squeryl.internals.FieldMetaData])Boolean" id="83902">handleStringType</a><span class="delimiter">(</span><a title="Option[org.squeryl.internals.FieldMetaData]" id="83925">fmd</a>: <span title="Option[org.squeryl.internals.FieldMetaData]">Option</span><span class="delimiter">[</span>FieldMetaData<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="83903">handleBooleanType</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="83904">handleDoubleType</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="83905">handleDateType</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="83906">handleLongType</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="83907">handleFloatType</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="(fmd: Option[org.squeryl.internals.FieldMetaData])Boolean" id="83908">handleBigDecimalType</a><span class="delimiter">(</span><a title="Option[org.squeryl.internals.FieldMetaData]" id="83945">fmd</a>: <span title="Option[org.squeryl.internals.FieldMetaData]">Option</span><span class="delimiter">[</span>FieldMetaData<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="83909">handleTimestampType</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="83910">handleBinaryType</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="83911">handleEnumerationValueType</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="83912">handleUuidType</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="(c: Class[_])Boolean" id="83913">handleUnknownType</a><span class="delimiter">(</span><a title="Class[_]" id="83960">c</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =
      <a href="#83960" title="Class[_]">c</a>.<span title="(x$1: java.lang.Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[Some[_]](classOf[scala.Some])" class="delimiter">[</span>Some<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
      classOf<span title="java.lang.Class[Product1[Any]](classOf[scala.Product1])" class="delimiter">[</span>Product1<span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="(x$1: java.lang.Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#83960" title="Class[_]">c</a><span class="delimiter">)</span>
        <span class="comment">//classOf[Some[_]].isAssignableFrom(c)</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">var</span> <a title="factory extends java.lang.Object with org.squeryl.internals.FieldMetaDataFactory" id="43244">factory</a> = <a href="#43260" title="java.lang.Object with org.squeryl.internals.FieldMetaDataFactory" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with org.squeryl.internals.FieldMetaDataFactory" id="43260">FieldMetaDataFactory</a> <span class="delimiter">{</span>   

    <span class="keyword">def</span> <a title="(posoMetaData: org.squeryl.internals.PosoMetaData[_])() =&gt; AnyRef" id="43267">createPosoFactory</a><span class="delimiter">(</span><a title="org.squeryl.internals.PosoMetaData[_]" id="43269">posoMetaData</a>: <a href="PosoMetaData.scala.html#10791" title="org.squeryl.internals.PosoMetaData[_]">PosoMetaData</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span class="delimiter">(</span><span class="delimiter">)</span>=&gt;AnyRef =
      <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="(java.lang.reflect.Constructor[_], Array[java.lang.Object])" id="46189">c</a> = <a href="#43269" title="org.squeryl.internals.PosoMetaData[_]">posoMetaData</a>.<a href="PosoMetaData.scala.html#34985" title="=&gt; (java.lang.reflect.Constructor[_], Array[java.lang.Object])">constructor</a>
        <a href="#46189" title="(java.lang.reflect.Constructor[_], Array[java.lang.Object])">c</a>.<span title="=&gt; java.lang.reflect.Constructor[_]">_1</span>.<span title="(x$1: &lt;repeated...&gt;[java.lang.Object])Any">newInstance</span><span class="delimiter">(</span><a href="#46189" title="(java.lang.reflect.Constructor[_], Array[java.lang.Object])">c</a>.<span title="=&gt; Array[java.lang.Object]">_2</span> :_*<span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span>;
      <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(parentMetaData: org.squeryl.internals.PosoMetaData[_], name: String, property: (Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation]), sampleInstance4OptionTypeDeduction: AnyRef, isOptimisticCounter: Boolean)org.squeryl.internals.FieldMetaData" id="43268">build</a><span class="delimiter">(</span><a title="org.squeryl.internals.PosoMetaData[_]" id="43277">parentMetaData</a>: <a href="PosoMetaData.scala.html#10791" title="org.squeryl.internals.PosoMetaData[_]">PosoMetaData</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="String" id="43278">name</a>: <span title="String">String</span>, <a title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])" id="43279">property</a>: <span title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])" class="delimiter">(</span>Option<span class="delimiter">[</span>Field<span class="delimiter">]</span>, Option<span class="delimiter">[</span>Method<span class="delimiter">]</span>, Option<span class="delimiter">[</span>Method<span class="delimiter">]</span>, Set<span class="delimiter">[</span>Annotation<span class="delimiter">]</span><span class="delimiter">)</span>, <a title="AnyRef" id="43280">sampleInstance4OptionTypeDeduction</a>: <span title="AnyRef">AnyRef</span>, <a title="Boolean" id="43281">isOptimisticCounter</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <span class="delimiter">{</span>

      <span class="keyword">val</span> <a title="Option[java.lang.reflect.Field]" id="43294">field</a>  = <a href="#43279" title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])">property</a>.<span title="=&gt; Option[java.lang.reflect.Field]">_1</span>
      <span class="keyword">val</span> <a title="Option[java.lang.reflect.Method]" id="43295">getter</a> = <a href="#43279" title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])">property</a>.<span title="=&gt; Option[java.lang.reflect.Method]">_2</span>
      <span class="keyword">val</span> <a title="Option[java.lang.reflect.Method]" id="43296">setter</a> = <a href="#43279" title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])">property</a>.<span title="=&gt; Option[java.lang.reflect.Method]">_3</span>
      <span class="keyword">val</span> <a title="Set[java.lang.annotation.Annotation]" id="43297">annotations</a> = <a href="#43279" title="(Option[java.lang.reflect.Field], Option[java.lang.reflect.Method], Option[java.lang.reflect.Method], Set[java.lang.annotation.Annotation])">property</a>.<span title="=&gt; Set[java.lang.annotation.Annotation]">_4</span>

      <span class="keyword">val</span> <a title="Option[org.squeryl.annotations.ColumnBase]" id="43298">colAnnotation</a> = <a href="#43297" title="Set[java.lang.annotation.Annotation]">annotations</a>.<span title="(p: java.lang.annotation.Annotation =&gt; Boolean)Option[java.lang.annotation.Annotation]">find</span><span class="delimiter">(</span><a title="java.lang.annotation.Annotation" id="43315">a</a> =&gt; <a href="#43315" title="java.lang.annotation.Annotation">a</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../annotations/ColumnBase.java.html#9950" title="org.squeryl.annotations.ColumnBase">ColumnBase</a><span class="delimiter">]</span><span class="delimiter">)</span>.<span title="(f: java.lang.annotation.Annotation =&gt; org.squeryl.annotations.ColumnBase)Option[org.squeryl.annotations.ColumnBase]">map</span><span class="delimiter">(</span><a title="java.lang.annotation.Annotation" id="43327">a</a> =&gt; <a href="#43327" title="java.lang.annotation.Annotation">a</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.annotations.ColumnBase" class="delimiter">[</span><a href="../annotations/ColumnBase.java.html#9950" title="org.squeryl.annotations.ColumnBase">ColumnBase</a><span class="delimiter">]</span><span class="delimiter">)</span>
      
      <span class="comment">/*
       * Retrieve the member in use, its class and its generic type
       */</span>
      <span class="keyword">var</span> <a href="#43300" title="(java.lang.reflect.Member, java.lang.Class[?0], java.lang.reflect.Type)" class="delimiter">(</a><a href="#43299" title="java.lang.reflect.Member" id="43300">member</a>, <a href="#43299" title="java.lang.Class[?0]" id="43301">clsOfField</a>, <a href="#43299" title="java.lang.reflect.Type" id="43302">typeOfField</a><span class="delimiter">)</span> =
        <span class="delimiter">(</span><a href="#43296" title="Option[java.lang.reflect.Method]">setter</a>.<span title="(f: java.lang.reflect.Method =&gt; (java.lang.reflect.Member, java.lang.Class[?0], java.lang.reflect.Type) forSome { type ?0 })Option[(java.lang.reflect.Member, java.lang.Class[?0], java.lang.reflect.Type) forSome { type ?0 }]">map</span><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="43333">s</a> =&gt; <span title="(_1: java.lang.reflect.Member, _2: java.lang.Class[?0], _3: java.lang.reflect.Type)(java.lang.reflect.Member, java.lang.Class[?0], java.lang.reflect.Type)" class="delimiter">(</span><a href="#43333" title="java.lang.reflect.Method">s</a>: <span title="java.lang.reflect.Member">Member</span>, <a href="#43333" title="java.lang.reflect.Method">s</a>.<span title="(xs: Array[java.lang.Class[_]])scala.collection.mutable.ArrayOps[java.lang.Class[_]]">getParameterTypes</span>.<span title="=&gt; java.lang.Class[_]">head</span>, <a href="#43333" title="java.lang.reflect.Method">s</a>.<span title="(xs: Array[java.lang.reflect.Type])scala.collection.mutable.ArrayOps[java.lang.reflect.Type]">getGenericParameterTypes</span>.<span title="=&gt; java.lang.reflect.Type">head</span><span class="delimiter">)</span><span class="delimiter">)</span>
          .<span title="(alternative: =&gt; Option[(java.lang.reflect.Member, java.lang.Class[?0], java.lang.reflect.Type) forSome { type ?0 }])Option[(java.lang.reflect.Member, java.lang.Class[?0], java.lang.reflect.Type) forSome { type ?0 }]">orElse</span><span class="delimiter">(</span><a href="#43295" title="Option[java.lang.reflect.Method]">getter</a>.<span title="(f: java.lang.reflect.Method =&gt; (java.lang.reflect.Member, java.lang.Class[?0], java.lang.reflect.Type) forSome { type ?0 })Option[(java.lang.reflect.Member, java.lang.Class[?0], java.lang.reflect.Type) forSome { type ?0 }]">map</span><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="45712">g</a> =&gt; <span title="(_1: java.lang.reflect.Member, _2: java.lang.Class[?0], _3: java.lang.reflect.Type)(java.lang.reflect.Member, java.lang.Class[?0], java.lang.reflect.Type)" class="delimiter">(</span><a href="#45712" title="java.lang.reflect.Method">g</a>: <span title="java.lang.reflect.Member">Member</span>, <a href="#45712" title="java.lang.reflect.Method">g</a>.<span title="()java.lang.Class[_]">getReturnType</span>, <a href="#45712" title="java.lang.reflect.Method">g</a>.<span title="()java.lang.reflect.Type">getGenericReturnType</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          .<span title="(alternative: =&gt; Option[(java.lang.reflect.Member, java.lang.Class[?0], java.lang.reflect.Type) forSome { type ?0 }])Option[(java.lang.reflect.Member, java.lang.Class[?0], java.lang.reflect.Type) forSome { type ?0 }]">orElse</span><span class="delimiter">(</span><a href="#43294" title="Option[java.lang.reflect.Field]">field</a>.<span title="(f: java.lang.reflect.Field =&gt; (java.lang.reflect.Member, java.lang.Class[?0], java.lang.Class[?0]) forSome { type ?0; type ?0 })Option[(java.lang.reflect.Member, java.lang.Class[?0], java.lang.Class[?0]) forSome { type ?0; type ?0 }]">map</span><span class="delimiter">(</span><a title="java.lang.reflect.Field" id="45741">f</a> =&gt; <span title="(_1: java.lang.reflect.Member, _2: java.lang.Class[?0], _3: java.lang.Class[?0])(java.lang.reflect.Member, java.lang.Class[?0], java.lang.Class[?0])" class="delimiter">(</span><a href="#45741" title="java.lang.reflect.Field">f</a>: <span title="java.lang.reflect.Member">Member</span>, <a href="#45741" title="java.lang.reflect.Field">f</a>.<span title="()java.lang.Class[_]">getType</span>, <a href="#45741" title="java.lang.reflect.Field">f</a>.<span title="()java.lang.Class[_]">getType</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          .<span title="(default: =&gt; (java.lang.reflect.Member, java.lang.Class[?0], java.lang.reflect.Type) forSome { type ?0 })(java.lang.reflect.Member, java.lang.Class[?0], java.lang.reflect.Type) forSome { type ?0 }">getOrElse</span><span title="(java.lang.reflect.Member, java.lang.Class[?0], java.lang.reflect.Type) @unchecked" class="delimiter">(</span>org.squeryl.internals.<a href="Utils.scala.html#10829" title="object org.squeryl.internals.Utils">Utils</a>.<a href="Utils.scala.html#30502" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;invalid field group&quot;)" class="string">&quot;invalid field group&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="comment">/*
       * Look for a value in the sample type.  If one exists and
       * it is not None, we can use it to deduce the Option type.   
       */</span>
      <span class="keyword">var</span> <a title="AnyRef" id="43303">v</a>: <span title="AnyRef">AnyRef</span> =
         <span title="AnyRef" class="keyword">if</span><span class="delimiter">(</span><a href="#43280" title="AnyRef">sampleInstance4OptionTypeDeduction</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
           <a href="#43294" title="Option[java.lang.reflect.Field]">field</a> <span title="(f: java.lang.reflect.Field =&gt; Option[java.lang.Object])Option[java.lang.Object]">flatMap</span> <span class="delimiter">{</span> <a title="java.lang.reflect.Field" id="45808">f</a> =&gt;
             <a href="#45808" title="java.lang.reflect.Field">f</a>.<span title="(x$1: Any)java.lang.Object">get</span><span class="delimiter">(</span><a href="#43280" title="AnyRef">sampleInstance4OptionTypeDeduction</a><span class="delimiter">)</span> <span title="Option[java.lang.Object]" class="keyword">match</span> <span class="delimiter">{</span>
               <span class="keyword">case</span> <a title="Some[java.lang.Object]" id="45809">a</a>: <span title="AnyRef">AnyRef</span> =&gt; <span title="(x: java.lang.Object)Some[java.lang.Object]">Some</span><span class="delimiter">(</span><a href="#45809" title="java.lang.Object">a</a><span class="delimiter">)</span>
               <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span>
             <span class="delimiter">}</span>
           <span class="delimiter">}</span> <span title="(alternative: =&gt; Option[java.lang.Object])Option[java.lang.Object]">orElse</span> <span class="delimiter">{</span>
	             <a href="#43295" title="Option[java.lang.reflect.Method]">getter</a> <span title="(f: java.lang.reflect.Method =&gt; Option[java.lang.Object])Option[java.lang.Object]">flatMap</span> <span class="delimiter">{</span> <a href="#45833" title="java.lang.reflect.Method">_</a>.<span title="(x$1: Any, x$2: &lt;repeated...&gt;[java.lang.Object])java.lang.Object">invoke</span><span class="delimiter">(</span><a href="#43280" title="AnyRef">sampleInstance4OptionTypeDeduction</a>, <a href="#43239" title="=&gt; Array[java.lang.Object]">_EMPTY_ARRAY</a> : _*<span class="delimiter">)</span> <span title="Option[java.lang.Object]" class="keyword">match</span> <span class="delimiter">{</span>
	               <span class="keyword">case</span> <a title="Some[java.lang.Object]" id="45838">a</a>: <span title="AnyRef">AnyRef</span> =&gt; <span title="(x: java.lang.Object)Some[java.lang.Object]">Some</span><span class="delimiter">(</span><a href="#45838" title="java.lang.Object">a</a><span class="delimiter">)</span>
	               <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span>
	             <span class="delimiter">}</span>
             <span class="delimiter">}</span>
           <span class="delimiter">}</span> <span title="(default: =&gt; java.lang.Object)java.lang.Object">getOrElse</span>
            <a href="#43259" title="(member: java.lang.reflect.Member, p: Class[_], t: Option[java.lang.reflect.Type], optionFieldsInfo: Option[org.squeryl.annotations.package.Column])java.lang.Object">createDefaultValue</a><span class="delimiter">(</span><a href="#43300" title="java.lang.reflect.Member">member</a>, <a href="#43301" title="java.lang.Class[_]">clsOfField</a>, <span title="(x: java.lang.reflect.Type)Some[java.lang.reflect.Type]">Some</span><span class="delimiter">(</span><a href="#43302" title="java.lang.reflect.Type">typeOfField</a><span class="delimiter">)</span>, <a href="#43298" title="Option[org.squeryl.annotations.ColumnBase]">colAnnotation</a><span class="delimiter">)</span>
         <span class="delimiter">}</span>
         <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span>

      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#43303" title="AnyRef">v</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#43303" title="AnyRef">v</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span> <span class="comment">// can't deduce the type from None keep trying</span>
        <a href="#43303" title="AnyRef">v</a> = <span title="Null(null)" class="keyword">null</span>

      <span class="keyword">val</span> <a title="AnyRef" id="43304">constructorSuppliedDefaultValue</a> = <a href="#43303" title="AnyRef">v</a>

      <span class="keyword">var</span> <a title="Option[AnyRef =&gt; Product1[Any] with AnyRef]" id="43305">customTypeFactory</a>: <span title="Option[AnyRef =&gt; Product1[Any] with AnyRef]">Option</span><span class="delimiter">[</span>AnyRef=&gt;Product1<span class="delimiter">[</span>Any<span class="delimiter">]</span> <span class="keyword">with</span> AnyRef<span class="delimiter">]</span> = <span title="object None">None</span>

      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[Product1[Any]](classOf[scala.Product1])" class="delimiter">[</span>Product1<span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="(x$1: java.lang.Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#43301" title="java.lang.Class[_]">clsOfField</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#43305" title="Option[AnyRef =&gt; Product1[Any] with AnyRef]">customTypeFactory</a> = <a href="#43246" title="(ownerClass: Class[_], typeOfField: Class[_])Option[AnyRef =&gt; Product1[Any] with AnyRef]">_createCustomTypeFactory</a><span class="delimiter">(</span><a href="#43277" title="org.squeryl.internals.PosoMetaData[_]">parentMetaData</a>.<a href="PosoMetaData.scala.html#34974" title="(=&gt; java.lang.Class[_$18]) forSome { type _$18 }">clasz</a>, <a href="#43301" title="java.lang.Class[_]">clsOfField</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#43305" title="Option[AnyRef =&gt; Product1[Any] with AnyRef]">customTypeFactory</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object None">None</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="AnyRef =&gt; Product1[Any] with AnyRef" id="45913">f</a> = <a href="#43305" title="Option[AnyRef =&gt; Product1[Any] with AnyRef]">customTypeFactory</a>.<span title="=&gt; AnyRef =&gt; Product1[Any] with AnyRef">get</span>
        <a href="#43303" title="AnyRef">v</a> = <a href="#45913" title="(v1: AnyRef)Product1[Any] with AnyRef">f</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="comment">// this creates a dummy (sample) field</span>
      <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#43303" title="AnyRef">v</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
        <span class="comment">/*
         * If we have not yet been able to deduce the value of the field, delegate to createDefaultValue
         * in order to do so.
         */</span>
        <a href="#43303" title="AnyRef">v</a> = <span class="keyword">try</span> <span class="delimiter">{</span>
          <a href="#43259" title="(member: java.lang.reflect.Member, p: Class[_], t: Option[java.lang.reflect.Type], optionFieldsInfo: Option[org.squeryl.annotations.package.Column])java.lang.Object">createDefaultValue</a><span class="delimiter">(</span><a href="#43300" title="java.lang.reflect.Member">member</a>, <a href="#43301" title="java.lang.Class[_]">clsOfField</a>, <span title="(x: java.lang.reflect.Type)Some[java.lang.reflect.Type]">Some</span><span class="delimiter">(</span><a href="#43302" title="java.lang.reflect.Type">typeOfField</a><span class="delimiter">)</span>, <a href="#43298" title="Option[org.squeryl.annotations.ColumnBase]">colAnnotation</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Null(null)" id="45925">e</a>:<span title="Exception">Exception</span> =&gt; <span title="Null(null)" class="keyword">null</span>
        <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Boolean" id="43306">deductionFailed</a> =
        <a href="#43303" title="AnyRef">v</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean(true)">Some</span><span class="delimiter">(</span><span title="object None">None</span><span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">case</span> <a title="Boolean" id="45927">a</a>:<span title="Any">Any</span>  =&gt; <span class="delimiter">(</span><a href="#43303" title="AnyRef">v</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#43306" title="Boolean">deductionFailed</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="java.lang.String" id="45933">errorMessage</a> = <span title="java.lang.String(&quot;Could not deduce Option[] type of field \'&quot;)" class="string">&quot;Could not deduce Option[] type of field '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#43278" title="String">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\' of class &quot;)" class="string">&quot;' of class &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#43277" title="org.squeryl.internals.PosoMetaData[_]">parentMetaData</a>.<a href="PosoMetaData.scala.html#34974" title="(=&gt; java.lang.Class[_$18]) forSome { type _$18 }">clasz</a>.<span title="()java.lang.String">getName</span>
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#43257" title="()Boolean">detectScalapOnClasspath</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#45933" title="java.lang.String">errorMessage</a> <span title="(x$1: Any)java.lang.String">+=</span> <span title="java.lang.String(&quot;scalap option deduction not enabled. See: http://squeryl.org/scalap.html for more information.&quot;)" class="string">&quot;scalap option deduction not enabled. See: http://squeryl.org/scalap.html for more information.&quot;</span>
        org.squeryl.internals.<a href="Utils.scala.html#10829" title="object org.squeryl.internals.Utils">Utils</a>.<a href="Utils.scala.html#30502" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><a href="#45933" title="java.lang.String">errorMessage</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Boolean" id="43307">isOption</a> = <a href="#43303" title="AnyRef">v</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Some[_]">Some</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span>

      <span class="keyword">val</span> <a title="java.lang.Class[_ &gt;: ?0 with ?0 &lt;: java.lang.Object]" id="43308">typeOfFieldOrTypeOfOption</a> =
        <span title="java.lang.Class[_44]" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#43307" title="Boolean">isOption</a><span class="delimiter">)</span>
          <a href="#43303" title="AnyRef">v</a>.<span title="()java.lang.Class[_]">getClass</span>
        <span class="keyword">else</span>
          <a href="#43303" title="AnyRef">v</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Option[AnyRef]" class="delimiter">[</span><span title="Option[AnyRef]">Option</span><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="=&gt; AnyRef">get</span>.<span title="()java.lang.Class[_]">getClass</span>

      <span class="keyword">val</span> <a title="java.lang.Class[_ &gt;: ?0 with _45 &lt;: java.lang.Object]" id="43309">primitiveFieldType</a> =
        <span title="java.lang.Class[_46]" class="keyword">if</span><span class="delimiter">(</span><a href="#43303" title="AnyRef">v</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Product1[_]">Product1</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
          <a href="#43303" title="AnyRef">v</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Product1[Any]" class="delimiter">[</span><span title="Product1[Any]">Product1</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="=&gt; Any">_1</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span>.<span title="()java.lang.Class[_]">getClass</span>
        <span class="keyword">else</span> <span title="java.lang.Class[_45]" class="keyword">if</span><span class="delimiter">(</span><a href="#43307" title="Boolean">isOption</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#43303" title="AnyRef">v</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Option[AnyRef]" class="delimiter">[</span><span title="Option[AnyRef]">Option</span><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="=&gt; AnyRef">get</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Product1[_]">Product1</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">//if we get here, customTypeFactory has not had a chance to get created</span>
          <a href="#43305" title="Option[AnyRef =&gt; Product1[Any] with AnyRef]">customTypeFactory</a> = <a href="#43246" title="(ownerClass: Class[_], typeOfField: Class[_])Option[AnyRef =&gt; Product1[Any] with AnyRef]">_createCustomTypeFactory</a><span class="delimiter">(</span><a href="#43277" title="org.squeryl.internals.PosoMetaData[_]">parentMetaData</a>.<a href="PosoMetaData.scala.html#34974" title="(=&gt; java.lang.Class[_$18]) forSome { type _$18 }">clasz</a>, <a href="#43308" title="java.lang.Class[_ &gt;: ?0 with ?0 &lt;: java.lang.Object]">typeOfFieldOrTypeOfOption</a><span class="delimiter">)</span>
          <a href="#43303" title="AnyRef">v</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Option[AnyRef]" class="delimiter">[</span><span title="Option[AnyRef]">Option</span><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="=&gt; AnyRef">get</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Product1[Any]" class="delimiter">[</span><span title="Product1[Any]">Product1</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="=&gt; Any">_1</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span>.<span title="()java.lang.Class[_]">getClass</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span>
          <a href="#43308" title="java.lang.Class[_ &gt;: ?0 with ?0 &lt;: java.lang.Object]">typeOfFieldOrTypeOfOption</a>


      <span title="org.squeryl.internals.FieldMetaData" class="keyword">new</span> <a href="#10742" title="org.squeryl.internals.FieldMetaData">FieldMetaData</a><span class="delimiter">(</span>
        <a href="#43277" title="org.squeryl.internals.PosoMetaData[_]">parentMetaData</a>,
        <a href="#43278" title="String">name</a>,
        <a href="#43308" title="java.lang.Class[_ &gt;: ?0 with ?0 &lt;: java.lang.Object]">typeOfFieldOrTypeOfOption</a>,
        <a href="#43309" title="java.lang.Class[_ &gt;: ?0 with _45 &lt;: java.lang.Object]">primitiveFieldType</a>,
        <a href="#43305" title="Option[AnyRef =&gt; Product1[Any] with AnyRef]">customTypeFactory</a>,
        <a href="#43307" title="Boolean">isOption</a>,
        <a href="#43295" title="Option[java.lang.reflect.Method]">getter</a>,
        <a href="#43296" title="Option[java.lang.reflect.Method]">setter</a>,
        <a href="#43294" title="Option[java.lang.reflect.Field]">field</a>,
        <a href="#43298" title="Option[org.squeryl.annotations.ColumnBase]">colAnnotation</a>,
        <a href="#43281" title="Boolean">isOptimisticCounter</a>,
        <a href="#43304" title="AnyRef">constructorSuppliedDefaultValue</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * creates a closure that takes a java.lang. primitive wrapper (ex.: java.lang.Integer) and
   * that creates an instance of a custom type with it, the factory accepts null to create
   * default values for non nullable primitive types (int, long, etc...)
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(ownerClass: Class[_], typeOfField: Class[_])Option[AnyRef =&gt; Product1[Any] with AnyRef]" id="43246">_createCustomTypeFactory</a><span class="delimiter">(</span><a title="Class[_]" id="45896">ownerClass</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="Class[_]" id="45897">typeOfField</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[AnyRef =&gt; Product1[Any] with AnyRef]">Option</span><span class="delimiter">[</span>AnyRef=&gt;Product1<span class="delimiter">[</span>Any<span class="delimiter">]</span> <span class="keyword">with</span> AnyRef<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// run through the given class hierarchy and return the first method</span>
    <span class="comment">// which is called &quot;value&quot; and doesn't return java.lang.Object</span>
    @tailrec
    <span class="keyword">def</span> <a title="(c: Class[_])Option[java.lang.reflect.Method]" id="95169">find</a><span class="delimiter">(</span><a title="Class[_]" id="95171">c</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[java.lang.reflect.Method]">Option</span><span class="delimiter">[</span>Method<span class="delimiter">]</span> =
     <span title="Option[java.lang.reflect.Method]" class="keyword">if</span><span class="delimiter">(</span><a href="#95171" title="Class[_]">c</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
       <a href="#95171" title="Class[_]">c</a>.<span title="(xs: Array[java.lang.reflect.Method])scala.collection.mutable.ArrayOps[java.lang.reflect.Method]">getMethods</span>.<span title="(p: java.lang.reflect.Method =&gt; Boolean)Option[java.lang.reflect.Method]">find</span><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="95451">m</a> =&gt; <a href="#95451" title="java.lang.reflect.Method">m</a>.<span title="()java.lang.String">getName</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;value&quot;)" class="string">&quot;value&quot;</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#95451" title="java.lang.reflect.Method">m</a>.<span title="()java.lang.Class[_]">getReturnType</span> <span title="(x$1: AnyRef)Boolean">!=</span> classOf<span title="java.lang.Class[java.lang.Object](classOf[java.lang.Object])" class="delimiter">[</span>java.lang.Object<span class="delimiter">]</span><span class="delimiter">)</span> <span title="Option[java.lang.reflect.Method]" class="keyword">match</span> <span class="delimiter">{</span>
         <span class="keyword">case</span> <span title="Some[java.lang.reflect.Method]">Some</span><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="95464">m</a><span class="delimiter">)</span> =&gt; <span title="(x: java.lang.reflect.Method)Some[java.lang.reflect.Method]">Some</span><span class="delimiter">(</span><a href="#95464" title="java.lang.reflect.Method">m</a><span class="delimiter">)</span>
         <span class="keyword">case</span> <span title="Option[java.lang.reflect.Method]">None</span> =&gt; <a href="#95169" title="(c: Class[_])Option[java.lang.reflect.Method]">find</a><span class="delimiter">(</span><a href="#95171" title="Class[_]">c</a>.<span title="(()java.lang.Class[_ &gt;: _$24]) forSome { type _$24; type _$24 }">getSuperclass</span><span class="delimiter">)</span>
       <span class="delimiter">}</span>
     <span class="keyword">else</span> <span title="object None">None</span>

     <span class="comment">// invoke the given constructor and expose possible exceptions to the caller.</span>
    <span class="keyword">def</span> <a title="(c: java.lang.reflect.Constructor[_], value: AnyRef)Product1[Any] with AnyRef" id="95170">invoke</a><span class="delimiter">(</span><a title="java.lang.reflect.Constructor[_]" id="95474">c</a>: <span title="java.lang.reflect.Constructor[_]">Constructor</span><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="AnyRef" id="95475">value</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> =
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#95474" title="java.lang.reflect.Constructor[_]">c</a>.<span title="(x$1: &lt;repeated...&gt;[java.lang.Object])Any">newInstance</span><span class="delimiter">(</span><a href="#95475" title="AnyRef">value</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="FieldMetaData extends Product1[Any] with AnyRef" class="delimiter">[</span><a href="#95478" title="FieldMetaData extends Product1[Any] with AnyRef">Product1</a><span class="delimiter">[</span>Any<span class="delimiter">]</span> <span class="keyword">with</span> AnyRef<span class="delimiter">]</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Nothing" id="95479">ex</a>: <span title="java.lang.reflect.InvocationTargetException">InvocationTargetException</span> =&gt;
          <span title="Nothing" class="keyword">throw</span> <a href="#95479" title="java.lang.reflect.InvocationTargetException">ex</a>.<span title="()java.lang.Throwable">getTargetException</span>
      <span class="delimiter">}</span>

    <a href="#95169" title="(c: Class[_])Option[java.lang.reflect.Method]">find</a><span class="delimiter">(</span><a href="#45897" title="Class[_]">typeOfField</a><span class="delimiter">)</span> <span title="(f: java.lang.reflect.Method =&gt; Option[AnyRef =&gt; Product1[Any] with AnyRef])Option[AnyRef =&gt; Product1[Any] with AnyRef]">flatMap</span><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="95504">m</a> =&gt; <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.lang.Class[_]" id="95505">pType</a> = <a href="#95504" title="java.lang.reflect.Method">m</a>.<span title="()java.lang.Class[_]">getReturnType</span>

      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#43244" title="=&gt; java.lang.Object with org.squeryl.internals.FieldMetaDataFactory">factory</a>.<a href="#43264" title="(c: Class[_])Boolean">isSupportedFieldType</a><span class="delimiter">(</span><a href="#95505" title="java.lang.Class[_]">pType</a><span class="delimiter">)</span>,
        <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;enclosed type %s of CustomType %s is not a supported field type!&quot;</span>
        .<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#95505" title="java.lang.Class[_]">pType</a>.<span title="()java.lang.String">getName</span>, <a href="#45897" title="Class[_]">typeOfField</a>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="java.lang.reflect.Constructor[_]" id="95506">c</a> = <a href="#45897" title="Class[_]">typeOfField</a>.<span title="((x$1: &lt;repeated...&gt;[java.lang.Class[_]])java.lang.reflect.Constructor[_$23]) forSome { type _$23 }">getConstructor</span><span class="delimiter">(</span><a href="#95505" title="java.lang.Class[_]">pType</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="java.lang.Object" id="95507">defaultValue</a> = <a href="#43259" title="(member: java.lang.reflect.Member, p: Class[_], t: Option[java.lang.reflect.Type], optionFieldsInfo: Option[org.squeryl.annotations.package.Column])java.lang.Object">createDefaultValue</a><span class="delimiter">(</span><a href="#95506" title="java.lang.reflect.Constructor[_]">c</a>, <a href="#95505" title="java.lang.Class[_]">pType</a>, <span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>

      <span title="Option[AnyRef =&gt; Product1[Any] with AnyRef]" class="keyword">if</span><span class="delimiter">(</span><a href="#95507" title="java.lang.Object">defaultValue</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="object None">None</span>
      <span class="keyword">else</span>
        <span title="(x: AnyRef =&gt; Product1[Any] with AnyRef)Some[AnyRef =&gt; Product1[Any] with AnyRef]">Some</span><span class="delimiter">(</span><span class="delimiter">(</span>i: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> =&gt;
          <span title="FieldMetaData extends Product1[Any] with AnyRef" class="keyword">if</span><span class="delimiter">(</span><a href="#95533" title="AnyRef">i</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#95170" title="(c: java.lang.reflect.Constructor[_], value: AnyRef)Product1[Any] with AnyRef">invoke</a><span class="delimiter">(</span><a href="#95506" title="java.lang.reflect.Constructor[_]">c</a>, <a href="#95507" title="java.lang.Object">defaultValue</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#95170" title="(c: java.lang.reflect.Constructor[_], value: AnyRef)Product1[Any] with AnyRef">invoke</a><span class="delimiter">(</span><a href="#95506" title="java.lang.reflect.Constructor[_]">c</a>, <a href="#95533" title="AnyRef">i</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(fieldType: Class[_], fmd: org.squeryl.internals.FieldMetaData)Int" id="43247">defaultFieldLength</a><span class="delimiter">(</span><a title="Class[_]" id="94744">fieldType</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="org.squeryl.internals.FieldMetaData" id="94745">fmd</a>: <a href="#10742" title="org.squeryl.internals.FieldMetaData">FieldMetaData</a><span class="delimiter">)</span> =
    <a href="#43248" title="=&gt; java.lang.Object with org.squeryl.internals.FieldTypeHandler[Int]{def handleUnknownType(c: Class[_]): Nothing}">_defaultFieldLengthAssigner</a>.<a href="FieldTypeHandler.scala.html#60643" title="(t: Class[_], fmd: Option[org.squeryl.internals.FieldMetaData])Int">handleType</a><span class="delimiter">(</span><a href="#94744" title="Class[_]">fieldType</a>, <span title="(x: org.squeryl.internals.FieldMetaData)Some[org.squeryl.internals.FieldMetaData]">Some</span><span class="delimiter">(</span><a href="#94745" title="org.squeryl.internals.FieldMetaData">fmd</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="_defaultFieldLengthAssigner extends java.lang.Object with org.squeryl.internals.FieldTypeHandler[Int]" id="43248">_defaultFieldLengthAssigner</a> = <a href="#94748" title="java.lang.Object with org.squeryl.internals.FieldTypeHandler[Int]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with org.squeryl.internals.FieldTypeHandler[Int]" id="94748">FieldTypeHandler</a><span class="delimiter">[</span>Int<span class="delimiter">]</span> <span class="delimiter">{</span>

    <span class="keyword">def</span> <a title="=&gt; Int" id="94750">handleIntType</a> = <span title="Int(4)" class="int">4</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="94751">handleStringType</a>  = <span title="Int(255)" class="int">255</span>
    <span class="keyword">def</span> <a title="(fmd: Option[org.squeryl.internals.FieldMetaData])Int" id="94752">handleStringType</a><span class="delimiter">(</span><a title="Option[org.squeryl.internals.FieldMetaData]" id="94775">fmd</a>: <span title="Option[org.squeryl.internals.FieldMetaData]">Option</span><span class="delimiter">[</span>FieldMetaData<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#94775" title="Option[org.squeryl.internals.FieldMetaData]">fmd</a>.<span title="=&gt; org.squeryl.internals.FieldMetaData">get</span>.<a href="#46130" title="=&gt; org.squeryl.Schema">schema</a>.<a href="../Schema.scala.html#14386" title="=&gt; Int">defaultLengthOfString</a>
    <span class="keyword">def</span> <a title="=&gt; Int" id="94753">handleBooleanType</a> = <span title="Int(1)" class="int">1</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="94754">handleDoubleType</a> = <span title="Int(8)" class="int">8</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="94755">handleDateType</a> = -<span title="Int(-1)" class="int">1</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="94756">handleLongType</a> = <span title="Int(8)" class="int">8</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="94757">handleFloatType</a> = <span title="Int(4)" class="int">4</span>
    <span class="keyword">def</span> <a title="(fmd: Option[org.squeryl.internals.FieldMetaData])Int" id="94758">handleBigDecimalType</a><span class="delimiter">(</span><a title="Option[org.squeryl.internals.FieldMetaData]" id="94795">fmd</a>: <span title="Option[org.squeryl.internals.FieldMetaData]">Option</span><span class="delimiter">[</span>FieldMetaData<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#94795" title="Option[org.squeryl.internals.FieldMetaData]">fmd</a>.<span title="=&gt; org.squeryl.internals.FieldMetaData">get</span>.<a href="#46130" title="=&gt; org.squeryl.Schema">schema</a>.<a href="../Schema.scala.html#14385" title="=&gt; (Int, Int)">defaultSizeOfBigDecimal</a>.<span title="=&gt; Int">_1</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="94759">handleTimestampType</a> = -<span title="Int(-1)" class="int">1</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="94760">handleBinaryType</a> = <span title="Int(255)" class="int">255</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="94761">handleEnumerationValueType</a> = <span title="Int(4)" class="int">4</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="94762">handleUuidType</a> = <span title="Int(36)" class="int">36</span>
    <span class="keyword">def</span> <a title="(c: Class[_])Nothing" id="94763">handleUnknownType</a><span class="delimiter">(</span><a title="Class[_]" id="94811">c</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> = org.squeryl.internals.<a href="Utils.scala.html#10829" title="object org.squeryl.internals.Utils">Utils</a>.<a href="Utils.scala.html#30502" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot assign field length for &quot;)" class="string">&quot;Cannot assign field length for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#94811" title="Class[_]">c</a>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="_defaultValueFactory extends java.lang.Object with org.squeryl.internals.FieldTypeHandler[AnyRef]" id="43250">_defaultValueFactory</a> = <a href="#94969" title="java.lang.Object with org.squeryl.internals.FieldTypeHandler[AnyRef]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with org.squeryl.internals.FieldTypeHandler[AnyRef]" id="94969">FieldTypeHandler</a><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span> <span class="delimiter">{</span>

    <span class="keyword">def</span> <a title="=&gt; java.lang.Integer" id="94971">handleIntType</a> = <span title="java.lang.Integer" class="keyword">new</span> java.lang.<span title="java.lang.Integer">Integer</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="94972">handleStringType</a>  = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
    <span class="keyword">def</span> <a title="(fmd: Option[org.squeryl.internals.FieldMetaData])java.lang.String" id="94973">handleStringType</a><span class="delimiter">(</span><a title="Option[org.squeryl.internals.FieldMetaData]" id="95000">fmd</a>: <span title="Option[org.squeryl.internals.FieldMetaData]">Option</span><span class="delimiter">[</span>FieldMetaData<span class="delimiter">]</span><span class="delimiter">)</span>  = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
    <span class="keyword">def</span> <a title="=&gt; java.lang.Boolean" id="94974">handleBooleanType</a> = <span title="java.lang.Boolean" class="keyword">new</span> java.lang.<span title="java.lang.Boolean">Boolean</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; java.lang.Double" id="94975">handleDoubleType</a> = <span title="java.lang.Double" class="keyword">new</span> java.lang.<span title="java.lang.Double">Double</span><span class="delimiter">(</span><span title="Double(0.0)" class="double">0.0</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; java.util.Date" id="94976">handleDateType</a> = <span title="java.util.Date" class="keyword">new</span> java.util.<span title="java.util.Date">Date</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; java.lang.Long" id="94977">handleLongType</a> = <span title="java.lang.Long" class="keyword">new</span> java.lang.<span title="java.lang.Long">Long</span><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; java.lang.Float" id="94978">handleFloatType</a> = <span title="java.lang.Float" class="keyword">new</span> java.lang.<span title="java.lang.Float">Float</span><span class="delimiter">(</span><span title="Float(0.0)" class="int">0</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(fmd: Option[org.squeryl.internals.FieldMetaData])scala.math.BigDecimal" id="94979">handleBigDecimalType</a><span class="delimiter">(</span><a title="Option[org.squeryl.internals.FieldMetaData]" id="95038">fmd</a>: <span title="Option[org.squeryl.internals.FieldMetaData]">Option</span><span class="delimiter">[</span>FieldMetaData<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="(bigDecimal: java.math.BigDecimal)scala.math.BigDecimal" class="keyword">new</span> scala.math.<span title="scala.math.BigDecimal">BigDecimal</span><span class="delimiter">(</span>java.math.<span title="object java.math.BigDecimal">BigDecimal</span>.<span title="java.math.BigDecimal">ZERO</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; java.sql.Timestamp" id="94980">handleTimestampType</a> = <span title="(x$1: Long)java.sql.Timestamp" class="keyword">new</span> java.sql.<span title="java.sql.Timestamp">Timestamp</span><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; Array[Byte]" id="94981">handleBinaryType</a> = <span title="Array[Byte]" class="keyword">new</span> <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; org.squeryl.internals.FieldMetaData.DummyE.Value" id="94982">handleEnumerationValueType</a> = <a href="#43252" title="object org.squeryl.internals.FieldMetaData.DummyE">DummyE</a>.<a href="#95058" title="=&gt; org.squeryl.internals.FieldMetaData.DummyE.Value">Z</a>
    <span class="keyword">def</span> <a title="=&gt; java.util.UUID" id="94983">handleUuidType</a> = java.util.<span title="object java.util.UUID">UUID</span>.<span title="(x$1: java.lang.String)java.util.UUID">fromString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;00000000-0000-0000-0000-000000000000&quot;)" class="string">&quot;00000000-0000-0000-0000-000000000000&quot;</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(c: Class[_])Null" id="94984">handleUnknownType</a><span class="delimiter">(</span><a title="Class[_]" id="95067">c</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="Null(null)" class="keyword">null</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object org.squeryl.internals.FieldMetaData.DummyE" id="43252">DummyE</a> <span title="ScalaObject" class="keyword">extends</span> <span title="Enumeration">Enumeration</span> <span class="delimiter">{</span>
    <span class="keyword">type</span> <a title="org.squeryl.internals.FieldMetaData.DummyE.Value" id="95057">DummyE</a> = <span title="org.squeryl.internals.FieldMetaData.DummyE.Value">Value</span>
    <span class="keyword">val</span> <a title="org.squeryl.internals.FieldMetaData.DummyE.Value" id="95058">Z</a> = <span title="=&gt; org.squeryl.internals.FieldMetaData.DummyE.Value">Value</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="_mapper extends java.lang.Object with org.squeryl.internals.FieldTypeHandler[(java.sql.ResultSet, Int) =&gt; AnyRef]" id="43254">_mapper</a> = <a href="#60629" title="java.lang.Object with org.squeryl.internals.FieldTypeHandler[(java.sql.ResultSet, Int) =&gt; AnyRef]{val _intM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _stringM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _doubleM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _booleanM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _dateM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _longM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _floatM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _bigDecM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _timestampM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _binaryM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _uuidM: (java.sql.ResultSet, Int) =&gt; java.util.UUID; def handleBigDecimalType: (java.sql.ResultSet, Int) =&gt; AnyRef}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with org.squeryl.internals.FieldTypeHandler[(java.sql.ResultSet, Int) =&gt; AnyRef]" id="60629">FieldTypeHandler</a><span class="delimiter">[</span><span class="delimiter">(</span>ResultSet,Int<span class="delimiter">)</span>=&gt;AnyRef<span class="delimiter">]</span> <span class="delimiter">{</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(rs: java.sql.ResultSet, v: Any)AnyRef" id="60659">_handleNull</a><span class="delimiter">(</span><a title="java.sql.ResultSet" id="60700">rs</a>: <span title="java.sql.ResultSet">ResultSet</span>, <a title="Any" id="60701">v</a>: <span title="Any">Any</span><span class="delimiter">)</span> =
      <span title="AnyRef" class="keyword">if</span><span class="delimiter">(</span><a href="#60700" title="java.sql.ResultSet">rs</a>.<span title="()Boolean">wasNull</span><span class="delimiter">)</span>
        <span title="Null(null)" class="keyword">null</span>
      <span class="keyword">else</span>
        <a href="#60701" title="Any">v</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span>

    <span class="keyword">val</span> <a title="(java.sql.ResultSet, Int) =&gt; AnyRef" id="60660">_intM</a> =     <span class="delimiter">(</span>rs:<span title="java.sql.ResultSet">ResultSet</span>,i:<span title="Int">Int</span><span class="delimiter">)</span> =&gt; <a href="#60659" title="(rs: java.sql.ResultSet, v: Any)AnyRef">_handleNull</a><span class="delimiter">(</span><a href="#60698" title="java.sql.ResultSet">rs</a>, <a href="#60698" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)Int">getInt</span><span class="delimiter">(</span><a href="#60699" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="(java.sql.ResultSet, Int) =&gt; AnyRef" id="60662">_stringM</a> =  <span class="delimiter">(</span>rs:<span title="java.sql.ResultSet">ResultSet</span>,i:<span title="Int">Int</span><span class="delimiter">)</span> =&gt; <a href="#60659" title="(rs: java.sql.ResultSet, v: Any)AnyRef">_handleNull</a><span class="delimiter">(</span><a href="#60709" title="java.sql.ResultSet">rs</a>, <a href="#60709" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)java.lang.String">getString</span><span class="delimiter">(</span><a href="#60710" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="(java.sql.ResultSet, Int) =&gt; AnyRef" id="60664">_doubleM</a> =  <span class="delimiter">(</span>rs:<span title="java.sql.ResultSet">ResultSet</span>,i:<span title="Int">Int</span><span class="delimiter">)</span> =&gt; <a href="#60659" title="(rs: java.sql.ResultSet, v: Any)AnyRef">_handleNull</a><span class="delimiter">(</span><a href="#60716" title="java.sql.ResultSet">rs</a>, <a href="#60716" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)Double">getDouble</span><span class="delimiter">(</span><a href="#60717" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="(java.sql.ResultSet, Int) =&gt; AnyRef" id="60666">_booleanM</a> = <span class="delimiter">(</span>rs:<span title="java.sql.ResultSet">ResultSet</span>,i:<span title="Int">Int</span><span class="delimiter">)</span> =&gt; <a href="#60659" title="(rs: java.sql.ResultSet, v: Any)AnyRef">_handleNull</a><span class="delimiter">(</span><a href="#60723" title="java.sql.ResultSet">rs</a>, <a href="#60723" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)Boolean">getBoolean</span><span class="delimiter">(</span><a href="#60724" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="comment">//(rs:ResultSet,i:Int) =&gt; Session.currentSession.databaseAdapter.convertToBooleanForJdbc(rs, i)</span>
    <span class="keyword">val</span> <a title="(java.sql.ResultSet, Int) =&gt; AnyRef" id="60668">_dateM</a> =    <span class="delimiter">(</span>rs:<span title="java.sql.ResultSet">ResultSet</span>,i:<span title="Int">Int</span><span class="delimiter">)</span> =&gt; <a href="#60659" title="(rs: java.sql.ResultSet, v: Any)AnyRef">_handleNull</a><span class="delimiter">(</span><a href="#60730" title="java.sql.ResultSet">rs</a>, <a href="#60730" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)java.sql.Date">getDate</span><span class="delimiter">(</span><a href="#60731" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="(java.sql.ResultSet, Int) =&gt; AnyRef" id="60670">_longM</a> =    <span class="delimiter">(</span>rs:<span title="java.sql.ResultSet">ResultSet</span>,i:<span title="Int">Int</span><span class="delimiter">)</span> =&gt; <a href="#60659" title="(rs: java.sql.ResultSet, v: Any)AnyRef">_handleNull</a><span class="delimiter">(</span><a href="#60957" title="java.sql.ResultSet">rs</a>, <a href="#60957" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)Long">getLong</span><span class="delimiter">(</span><a href="#60958" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="(java.sql.ResultSet, Int) =&gt; AnyRef" id="60672">_floatM</a> =   <span class="delimiter">(</span>rs:<span title="java.sql.ResultSet">ResultSet</span>,i:<span title="Int">Int</span><span class="delimiter">)</span> =&gt; <a href="#60659" title="(rs: java.sql.ResultSet, v: Any)AnyRef">_handleNull</a><span class="delimiter">(</span><a href="#60964" title="java.sql.ResultSet">rs</a>, <a href="#60964" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)Float">getFloat</span><span class="delimiter">(</span><a href="#60965" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="(java.sql.ResultSet, Int) =&gt; AnyRef" id="60674">_bigDecM</a> =  <span class="delimiter">(</span>rs:<span title="java.sql.ResultSet">ResultSet</span>,i:<span title="Int">Int</span><span class="delimiter">)</span> =&gt; <a href="#60659" title="(rs: java.sql.ResultSet, v: Any)AnyRef">_handleNull</a><span class="delimiter">(</span><a href="#60971" title="java.sql.ResultSet">rs</a>, <span title="(bigDecimal: java.math.BigDecimal)scala.math.BigDecimal" class="keyword">new</span> scala.math.<span title="scala.math.BigDecimal">BigDecimal</span><span class="delimiter">(</span><a href="#60971" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)java.math.BigDecimal">getBigDecimal</span><span class="delimiter">(</span><a href="#60972" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="(java.sql.ResultSet, Int) =&gt; AnyRef" id="60676">_timestampM</a> =    <span class="delimiter">(</span>rs:<span title="java.sql.ResultSet">ResultSet</span>,i:<span title="Int">Int</span><span class="delimiter">)</span> =&gt; <a href="#60659" title="(rs: java.sql.ResultSet, v: Any)AnyRef">_handleNull</a><span class="delimiter">(</span><a href="#60980" title="java.sql.ResultSet">rs</a>, <a href="#60980" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)java.sql.Timestamp">getTimestamp</span><span class="delimiter">(</span><a href="#60981" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="(java.sql.ResultSet, Int) =&gt; AnyRef" id="60678">_binaryM</a> =  <span class="delimiter">(</span>rs:<span title="java.sql.ResultSet">ResultSet</span>,i:<span title="Int">Int</span><span class="delimiter">)</span> =&gt; <a href="#60659" title="(rs: java.sql.ResultSet, v: Any)AnyRef">_handleNull</a><span class="delimiter">(</span><a href="#60987" title="java.sql.ResultSet">rs</a>, <a href="#60987" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)Array[Byte]">getBytes</span><span class="delimiter">(</span><a href="#60988" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="(java.sql.ResultSet, Int) =&gt; java.util.UUID" id="60680">_uuidM</a> = <span class="delimiter">(</span>rs:<span title="java.sql.ResultSet">ResultSet</span>, i:<span title="Int">Int</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
      <a href="#60994" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)java.lang.Object">getObject</span><span class="delimiter">(</span><a href="#60995" title="Int">i</a><span class="delimiter">)</span> <span class="comment">// Some DBs require a call to getXXX before calling wasNull</span>
      <span title="java.util.UUID" class="keyword">if</span> <span class="delimiter">(</span><a href="#60994" title="java.sql.ResultSet">rs</a>.<span title="()Boolean">wasNull</span><span class="delimiter">)</span> <span title="Null(null)" class="keyword">null</span>
      <span class="keyword">else</span> <a href="../Session.scala.html#9848" title="object org.squeryl.Session">Session</a>.<a href="../Session.scala.html#34680" title="=&gt; org.squeryl.Session">currentSession</a>.<a href="../Session.scala.html#34691" title="=&gt; org.squeryl.internals.DatabaseAdapter">databaseAdapter</a>.<a href="DatabaseAdapter.scala.html#34788" title="(rs: java.sql.ResultSet, i: Int)java.util.UUID">convertToUuidForJdbc</a><span class="delimiter">(</span><a href="#60994" title="java.sql.ResultSet">rs</a>, <a href="#60995" title="Int">i</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef" id="60682">handleIntType</a> = <a href="#60660" title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef">_intM</a>
    <span class="keyword">def</span> <a title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef" id="60683">handleStringType</a>  = <a href="#60662" title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef">_stringM</a>
    <span class="keyword">def</span> <a title="(fmd: Option[org.squeryl.internals.FieldMetaData])(java.sql.ResultSet, Int) =&gt; AnyRef" id="60684">handleStringType</a><span class="delimiter">(</span><a title="Option[org.squeryl.internals.FieldMetaData]" id="61062">fmd</a>: <span title="Option[org.squeryl.internals.FieldMetaData]">Option</span><span class="delimiter">[</span>FieldMetaData<span class="delimiter">]</span><span class="delimiter">)</span>  = <a href="#60662" title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef">_stringM</a>
    <span class="keyword">def</span> <a title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef" id="60685">handleBooleanType</a> = <a href="#60666" title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef">_booleanM</a>
    <span class="keyword">def</span> <a title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef" id="60686">handleDoubleType</a> = <a href="#60664" title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef">_doubleM</a>
    <span class="keyword">def</span> <a title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef" id="60687">handleDateType</a> = <a href="#60668" title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef">_dateM</a>
    <span class="keyword">def</span> <a title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef" id="60688">handleFloatType</a> = <a href="#60672" title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef">_floatM</a>
    <span class="keyword">def</span> <a title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef" id="60689">handleLongType</a> = <a href="#60670" title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef">_longM</a>
    <span class="keyword">def</span> <a title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef" id="60690">handleBigDecimalType</a> = <a href="#60674" title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef">_bigDecM</a>
    <span class="keyword">def</span> <a title="(fmd: Option[org.squeryl.internals.FieldMetaData])(java.sql.ResultSet, Int) =&gt; AnyRef" id="60691">handleBigDecimalType</a><span class="delimiter">(</span><a title="Option[org.squeryl.internals.FieldMetaData]" id="61097">fmd</a>: <span title="Option[org.squeryl.internals.FieldMetaData]">Option</span><span class="delimiter">[</span>FieldMetaData<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#60674" title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef">_bigDecM</a>
    <span class="keyword">def</span> <a title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef" id="60692">handleTimestampType</a> = <a href="#60676" title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef">_timestampM</a>
    <span class="keyword">def</span> <a title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef" id="60693">handleBinaryType</a> = <a href="#60678" title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef">_binaryM</a>
    <span class="keyword">def</span> <a title="=&gt; (java.sql.ResultSet, Int) =&gt; java.util.UUID" id="60694">handleUuidType</a> = <a href="#60680" title="=&gt; (java.sql.ResultSet, Int) =&gt; java.util.UUID">_uuidM</a>
    <span class="keyword">def</span> <a title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef" id="60695">handleEnumerationValueType</a> = <a href="#60660" title="=&gt; (java.sql.ResultSet, Int) =&gt; AnyRef">_intM</a>

    <span class="keyword">def</span> <a title="(c: Class[_])Nothing" id="60696">handleUnknownType</a><span class="delimiter">(</span><a title="Class[_]" id="61120">c</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =
      org.squeryl.internals.<a href="Utils.scala.html#10829" title="object org.squeryl.internals.Utils">Utils</a>.<a href="Utils.scala.html#30502" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;field type &quot;)" class="string">&quot;field type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#61120" title="Class[_]">c</a>.<span title="()java.lang.String">getName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is not supported&quot;)" class="string">&quot; is not supported&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(c: Class[_])(java.sql.ResultSet, Int) =&gt; AnyRef" id="43256">resultSetHandlerFor</a><span class="delimiter">(</span><a title="Class[_]" id="60626">c</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#43254" title="=&gt; java.lang.Object with org.squeryl.internals.FieldTypeHandler[(java.sql.ResultSet, Int) =&gt; AnyRef]{val _intM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _stringM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _doubleM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _booleanM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _dateM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _longM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _floatM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _bigDecM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _timestampM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _binaryM: (java.sql.ResultSet, Int) =&gt; AnyRef; val _uuidM: (java.sql.ResultSet, Int) =&gt; java.util.UUID; def handleBigDecimalType: (java.sql.ResultSet, Int) =&gt; AnyRef; def handleUuidType: (java.sql.ResultSet, Int) =&gt; java.util.UUID; def handleUnknownType(c: Class[_]): Nothing}">_mapper</a>.<a href="FieldTypeHandler.scala.html#60643" title="(t: Class[_], fmd: Option[org.squeryl.internals.FieldMetaData])(java.sql.ResultSet, Int) =&gt; AnyRef">handleType</a><span class="delimiter">(</span><a href="#60626" title="Class[_]">c</a>, <span title="object None">None</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="()Boolean" id="43257">detectScalapOnClasspath</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <span title="object java.lang.Class">Class</span>.<span title="(x$1: java.lang.String)java.lang.Class[_]">forName</span><span class="delimiter">(</span><span title="java.lang.String(&quot;scala.tools.scalap.scalax.rules.scalasig.ByteCode&quot;)" class="string">&quot;scala.tools.scalap.scalax.rules.scalasig.ByteCode&quot;</span><span class="delimiter">)</span>
      <span title="Boolean(true)" class="keyword">true</span>
    <span class="delimiter">}</span><span class="keyword">catch</span><span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Boolean(false)" id="96183">cnfe</a> : <span title="java.lang.ClassNotFoundException">ClassNotFoundException</span> =&gt;
        <span title="Boolean(false)" class="keyword">false</span>

    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(member: java.lang.reflect.Member)Option[Class[_]]" id="43258">optionTypeFromScalaSig</a><span class="delimiter">(</span><a title="java.lang.reflect.Member" id="96192">member</a>: <span title="java.lang.reflect.Member">Member</span><span class="delimiter">)</span>: <span title="Option[Class[_]]">Option</span><span class="delimiter">[</span>Class<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Option[scala.tools.scalap.scalax.rules.scalasig.ScalaSig]" id="96198">scalaSigOption</a> = <span title="object scala.tools.scalap.scalax.rules.scalasig.ScalaSigParser">ScalaSigParser</span>.<span title="(clazz: Class[_])Option[scala.tools.scalap.scalax.rules.scalasig.ScalaSig]">parse</span><span class="delimiter">(</span><a href="#96192" title="java.lang.reflect.Member">member</a>.<span title="()java.lang.Class[_]">getDeclaringClass</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#96198" title="Option[scala.tools.scalap.scalax.rules.scalasig.ScalaSig]">scalaSigOption</a> <span title="(f: scala.tools.scalap.scalax.rules.scalasig.ScalaSig =&gt; Option[Class[_]])Option[Class[_]]">flatMap</span> <span class="delimiter">{</span> <a title="scala.tools.scalap.scalax.rules.scalasig.ScalaSig" id="96371">scalaSig</a> =&gt;
      <span class="keyword">val</span> <a title="List[scala.tools.scalap.scalax.rules.scalasig.ClassSymbol]" id="96372">syms</a> = <a href="#96371" title="scala.tools.scalap.scalax.rules.scalasig.ScalaSig">scalaSig</a>.<span title="=&gt; List[scala.tools.scalap.scalax.rules.scalasig.ClassSymbol]">topLevelClasses</span>
      <span class="comment">// Print classes</span>
      <span class="keyword">val</span> <a title="java.io.ByteArrayOutputStream" id="96373">baos</a> = <span title="java.io.ByteArrayOutputStream" class="keyword">new</span> <span title="java.io.ByteArrayOutputStream">ByteArrayOutputStream</span>
      <span class="keyword">val</span> <a title="java.io.PrintStream" id="96374">stream</a> = <span title="java.io.PrintStream" class="keyword">new</span> <span title="java.io.PrintStream">PrintStream</span><span class="delimiter">(</span><a href="#96373" title="java.io.ByteArrayOutputStream">baos</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.tools.scalap.scalax.rules.scalasig.ScalaSigPrinter" id="96375">printer</a> = <span title="scala.tools.scalap.scalax.rules.scalasig.ScalaSigPrinter" class="keyword">new</span> <span title="scala.tools.scalap.scalax.rules.scalasig.ScalaSigPrinter">ScalaSigPrinter</span><span class="delimiter">(</span><a href="#96374" title="java.io.PrintStream">stream</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="scala.tools.scalap.scalax.rules.scalasig.ClassSymbol" id="97021">c</a> &lt;- <a href="#96372" title="(f: scala.tools.scalap.scalax.rules.scalasig.ClassSymbol =&gt; Unit)Unit">syms</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#97021" title="scala.tools.scalap.scalax.rules.scalasig.ClassSymbol">c</a>.<span title="=&gt; String">path</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#96192" title="java.lang.reflect.Member">member</a>.<span title="()java.lang.Class[_]">getDeclaringClass</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="()java.lang.String">getName</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        	<a href="#96375" title="scala.tools.scalap.scalax.rules.scalasig.ScalaSigPrinter">printer</a>.<span title="(symbol: scala.tools.scalap.scalax.rules.scalasig.Symbol)Unit">printSymbol</span><span class="delimiter">(</span><a href="#97021" title="scala.tools.scalap.scalax.rules.scalasig.ClassSymbol">c</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="java.lang.String" id="96376">fullSig</a> = <a href="#96373" title="java.io.ByteArrayOutputStream">baos</a>.<span title="()java.lang.String">toString</span>
      <span class="keyword">val</span> <a title="java.util.regex.Matcher" id="96377">matcher</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;\s%s : scala.Option\[scala\.(\w+)\]?&quot;&quot;&quot;</span>.<span title="(args: Any*)String">format</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</span><a href="#96192" title="java.lang.reflect.Member">member</a>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>.<span title="=&gt; scala.util.matching.Regex">r</span>.<span title="=&gt; java.util.regex.Pattern">pattern</span>.<span title="(x$1: java.lang.CharSequence)java.util.regex.Matcher">matcher</span><span class="delimiter">(</span><a href="#96376" title="java.lang.String">fullSig</a><span class="delimiter">)</span>
      <span title="Option[Class[_]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#96377" title="java.util.regex.Matcher">matcher</a>.<span title="()Boolean">find</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#96377" title="java.util.regex.Matcher">matcher</a>.<span title="(x$1: Int)java.lang.String">group</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="Option[Class[_]]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Some[java.lang.Class[Int]]" class="string">&quot;Int&quot;</span> =&gt; <span title="(x: java.lang.Class[Int])Some[java.lang.Class[Int]]">Some</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[Int](classOf[scala.Int])" class="delimiter">[</span>scala.Int<span class="delimiter">]</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Some[java.lang.Class[Short]]" class="string">&quot;Short&quot;</span> =&gt; <span title="(x: java.lang.Class[Short])Some[java.lang.Class[Short]]">Some</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[Short](classOf[scala.Short])" class="delimiter">[</span>scala.Short<span class="delimiter">]</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Some[java.lang.Class[Long]]" class="string">&quot;Long&quot;</span> =&gt; <span title="(x: java.lang.Class[Long])Some[java.lang.Class[Long]]">Some</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[Long](classOf[scala.Long])" class="delimiter">[</span>scala.Long<span class="delimiter">]</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Some[java.lang.Class[Double]]" class="string">&quot;Double&quot;</span> =&gt; <span title="(x: java.lang.Class[Double])Some[java.lang.Class[Double]]">Some</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[Double](classOf[scala.Double])" class="delimiter">[</span>scala.Double<span class="delimiter">]</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Some[java.lang.Class[Float]]" class="string">&quot;Float&quot;</span> =&gt; <span title="(x: java.lang.Class[Float])Some[java.lang.Class[Float]]">Some</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[Float](classOf[scala.Float])" class="delimiter">[</span>scala.Float<span class="delimiter">]</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Some[java.lang.Class[Boolean]]" class="string">&quot;Boolean&quot;</span> =&gt; <span title="(x: java.lang.Class[Boolean])Some[java.lang.Class[Boolean]]">Some</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[Boolean](classOf[scala.Boolean])" class="delimiter">[</span>scala.Boolean<span class="delimiter">]</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Some[java.lang.Class[Byte]]" class="string">&quot;Byte&quot;</span> =&gt; <span title="(x: java.lang.Class[Byte])Some[java.lang.Class[Byte]]">Some</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[Byte](classOf[scala.Byte])" class="delimiter">[</span>scala.Byte<span class="delimiter">]</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Some[java.lang.Class[Char]]" class="string">&quot;Char&quot;</span> =&gt; <span title="(x: java.lang.Class[Char])Some[java.lang.Class[Char]]">Some</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[Char](classOf[scala.Char])" class="delimiter">[</span>scala.Char<span class="delimiter">]</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span> <span class="comment">//Unknown scala primitive type?</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span>
        <span title="object None">None</span> <span class="comment">//Pattern was not found anywhere in the signature</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(member: java.lang.reflect.Member, p: Class[_], t: Option[java.lang.reflect.Type], optionFieldsInfo: Option[org.squeryl.annotations.package.Column])java.lang.Object" id="43259">createDefaultValue</a><span class="delimiter">(</span><a title="java.lang.reflect.Member" id="45859">member</a>: <span title="java.lang.reflect.Member">Member</span>, <a title="Class[_]" id="45860">p</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="Option[java.lang.reflect.Type]" id="45861">t</a>: <span title="Option[java.lang.reflect.Type]">Option</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Option[org.squeryl.annotations.package.Column]" id="45862">optionFieldsInfo</a>: <span title="Option[org.squeryl.annotations.package.Column]">Option</span><span class="delimiter">[</span>Column<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="java.lang.Object">Object</span> = <span class="delimiter">{</span>
    <span title="java.lang.Object" class="keyword">if</span> <span class="delimiter">(</span><a href="#45860" title="Class[_]">p</a>.<span title="(x$1: java.lang.Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[Option[Any]](classOf[scala.Option])" class="delimiter">[</span>Option<span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="comment">/*
       * First we'll look at the annotation if it exists as it's the lowest cost.
       */</span>
       <a href="#45862" title="Option[org.squeryl.annotations.package.Column]">optionFieldsInfo</a>.<span title="(f: org.squeryl.annotations.package.Column =&gt; Option[java.lang.Object])Option[java.lang.Object]">flatMap</span><span class="delimiter">(</span><a title="org.squeryl.annotations.package.Column" id="97704">ann</a> =&gt; 
         <span title="Option[java.lang.Object]" class="keyword">if</span><span class="delimiter">(</span><a href="#97704" title="org.squeryl.annotations.package.Column">ann</a>.<a href="../annotations/ColumnBase.java.html#43322" title="()java.lang.Class[_]">optionType</a> <span title="(x$1: AnyRef)Boolean">!=</span> classOf<span title="java.lang.Class[java.lang.Object](classOf[java.lang.Object])" class="delimiter">[</span>Object<span class="delimiter">]</span><span class="delimiter">)</span>
           <span title="(x: java.lang.Object)Some[java.lang.Object]">Some</span><span class="delimiter">(</span><a href="#43259" title="(member: java.lang.reflect.Member, p: Class[_], t: Option[java.lang.reflect.Type], optionFieldsInfo: Option[org.squeryl.annotations.package.Column])java.lang.Object">createDefaultValue</a><span class="delimiter">(</span><a href="#45859" title="java.lang.reflect.Member">member</a>, <a href="#97704" title="org.squeryl.annotations.package.Column">ann</a>.<a href="../annotations/ColumnBase.java.html#43322" title="()java.lang.Class[_]">optionType</a>, <span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="object None">None</span><span class="delimiter">)</span>.<span title="(alternative: =&gt; Option[java.lang.Object])Option[java.lang.Object]">orElse</span><span class="delimiter">{</span>
	      <span class="comment">/*
	       * Next we'll try the Java generic type.  This will fail if the generic parameter is a primitive as
	       * we'll see Object instead of scala.X
	       */</span>
	      <a href="#45861" title="Option[java.lang.reflect.Type]">t</a> <span title="Option[java.lang.Object]" class="keyword">match</span> <span class="delimiter">{</span>
	        <span class="keyword">case</span> <span title="Option[java.lang.Object]">Some</span><span class="delimiter">(</span><a title="java.lang.reflect.ParameterizedType" id="97737">pt</a>: <span title="java.lang.reflect.ParameterizedType">ParameterizedType</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
	          <a href="#97737" title="java.lang.reflect.ParameterizedType">pt</a>.<span title="(xs: Array[java.lang.reflect.Type])scala.collection.mutable.ArrayOps[java.lang.reflect.Type]">getActualTypeArguments</span>.<span title="=&gt; List[java.lang.reflect.Type]">toList</span> <span title="Option[java.lang.Object]" class="keyword">match</span> <span class="delimiter">{</span>
	            <span class="keyword">case</span> <a title="Option[java.lang.Object]" id="97902">oType</a> :: <span title="object Nil">Nil</span> =&gt; <span class="delimiter">{</span>
	              <span title="Option[java.lang.Object]" class="keyword">if</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[Class[_]](classOf[java.lang.Class])" class="delimiter">[</span>Class<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="(x$1: Any)Boolean">isInstance</span><span class="delimiter">(</span><a href="#97902" title="java.lang.reflect.Type">oType</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
	                <span class="comment">/*
	                 * Primitive types are seen by Java reflection as classOf[Object], 
	                 * if that's what we find then we need to get the real value from @ScalaSignature
	                 */</span>
	                <span class="keyword">val</span> <a title="Option[Class[_]]" id="97907">trueTypeOption</a> = 
	                  <span title="Option[Class[_]]" class="keyword">if</span> <span class="delimiter">(</span>classOf<span title="java.lang.Class[java.lang.Object](classOf[java.lang.Object])" class="delimiter">[</span>Object<span class="delimiter">]</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#97902" title="java.lang.reflect.Type">oType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#43257" title="()Boolean">detectScalapOnClasspath</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#43258" title="(member: java.lang.reflect.Member)Option[Class[_]]">optionTypeFromScalaSig</a><span class="delimiter">(</span><a href="#45859" title="java.lang.reflect.Member">member</a><span class="delimiter">)</span> 
	                  <span class="keyword">else</span> <span title="(x: Class[_$34])Some[Class[_$34]]">Some</span><span class="delimiter">(</span><a href="#97902" title="java.lang.reflect.Type">oType</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Class[_$34]" class="delimiter">[</span><span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
	                <a href="#97907" title="Option[Class[_]]">trueTypeOption</a> <span title="(f: Class[_] =&gt; Option[java.lang.Object])Option[java.lang.Object]">flatMap</span> <span class="delimiter">{</span> <a title="Class[_]" id="97926">trueType</a> =&gt;
	                  <span class="keyword">val</span> <a title="java.lang.Object" id="97927">deduced</a> = <a href="#43259" title="(member: java.lang.reflect.Member, p: Class[_], t: Option[java.lang.reflect.Type], optionFieldsInfo: Option[org.squeryl.annotations.package.Column])java.lang.Object">createDefaultValue</a><span class="delimiter">(</span><a href="#45859" title="java.lang.reflect.Member">member</a>, <a href="#97926" title="Class[_]">trueType</a>, <span title="object None">None</span>, <a href="#45862" title="Option[org.squeryl.annotations.package.Column]">optionFieldsInfo</a><span class="delimiter">)</span>
	                  <span title="Option[java.lang.Object]" class="keyword">if</span> <span class="delimiter">(</span><a href="#97927" title="java.lang.Object">deduced</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
	                    <span title="(x: java.lang.Object)Some[java.lang.Object]">Some</span><span class="delimiter">(</span><a href="#97927" title="java.lang.Object">deduced</a><span class="delimiter">)</span>
	                  <span class="keyword">else</span>
	                    <span title="object None">None</span> <span class="comment">//Couldn't create default for type param</span>
	                <span class="delimiter">}</span>
	              <span class="delimiter">}</span> <span class="keyword">else</span><span class="delimiter">{</span>
	            	  <span title="object None">None</span> <span class="comment">//Type parameter is not a Class</span>
	              <span class="delimiter">}</span>
	            <span class="delimiter">}</span>
	            <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span> <span class="comment">//Not a single type parameter</span>
	          <span class="delimiter">}</span>
	        <span class="delimiter">}</span>
	        <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span> <span class="comment">//Not a parameterized type</span>
	      <span class="delimiter">}</span> 
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> <span class="keyword">else</span>
      <a href="#43250" title="=&gt; java.lang.Object with org.squeryl.internals.FieldTypeHandler[AnyRef]{def handleIntType: java.lang.Integer; def handleStringType: java.lang.String; def handleStringType(fmd: Option[org.squeryl.internals.FieldMetaData]): java.lang.String; def handleBooleanType: java.lang.Boolean; def handleDoubleType: java.lang.Double; def handleDateType: java.util.Date; def handleLongType: java.lang.Long; def handleFloatType: java.lang.Float; def handleBigDecimalType(fmd: Option[org.squeryl.internals.FieldMetaData]): scala.math.BigDecimal; def handleTimestampType: java.sql.Timestamp; def handleBinaryType: Array[Byte]; def handleEnumerationValueType: org.squeryl.internals.FieldMetaData.DummyE.Value; def handleUuidType: java.util.UUID; def handleUnknownType(c: Class[_]): Null}">_defaultValueFactory</a>.<a href="FieldTypeHandler.scala.html#60643" title="(t: Class[_], fmd: Option[org.squeryl.internals.FieldMetaData])AnyRef">handleType</a><span class="delimiter">(</span><a href="#45860" title="Class[_]">p</a>, <span title="object None">None</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>