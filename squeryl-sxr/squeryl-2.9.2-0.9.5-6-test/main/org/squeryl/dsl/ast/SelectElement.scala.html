<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>main/org/squeryl/dsl/ast/SelectElement.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*******************************************************************************
 * Copyright 2010 Maxime LÃ©vesque
 * 
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *   http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ***************************************************************************** */</span>
<span class="keyword">package</span> org.squeryl.dsl.ast

<span class="keyword">import</span> collection.mutable.ArrayBuffer
<span class="keyword">import</span> org.squeryl.internals._
<span class="keyword">import</span> java.sql.ResultSet
<span class="keyword">import</span> org.squeryl.Session


<span class="keyword">import</span> scala.annotation.tailrec

<span class="comment">/**
 * SelectElement are elements of a select list, for example they are a,b, and c in :
 *
 * select a,b,c from T
 *
 * they are either
 *  ValueSelectElement for composite expressions, i.e. select (x / 2) * y as Z from ....
 *  TupleSelectElement for group by or compute elements (TODO: document group by/compute)
 *  FieldSelectElement for table columns (that map to fields)
 *
 *  ExportSelectElement for a select element that refers to a SelectElement of an inner or outer query.
 *
 * SelectElementReference are nodes in any clause other than select (where, having, composite expression, order by, etc)
 *  that refer to a SelectElement  
 */</span>
<span class="keyword">trait</span> <a title="trait SelectElement extends java.lang.Object with org.squeryl.dsl.ast.ExpressionNode with ScalaObject" id="10343">SelectElement</a> <span title="ScalaObject" class="keyword">extends</span> <a href="ExpressionNode.scala.html#10271" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a> <span class="delimiter">{</span>
  outer =&gt;
  <span class="comment">/**
   * &lt;pre&gt;
   * In the following select :
   *
   *   select t.x from t
   *
   *  t.x is a select element and t is it's origin
   *
   * Here q.z1 is a SelectElement who's origin is t
   *
   *   select q.z1
   *   from
   *     (select t.x as z1 from t) q
   *
   * &lt;/pre&gt;
   */</span>  
  <span class="keyword">def</span> <a title="=&gt; org.squeryl.dsl.ast.QueryableExpressionNode" id="18395">origin</a>: <a href="ExpressionNode.scala.html#10311" title="org.squeryl.dsl.ast.QueryableExpressionNode">QueryableExpressionNode</a>

  <span class="keyword">def</span> <a title="=&gt; org.squeryl.dsl.ast.QueryableExpressionNode" id="18396">parentQueryable</a> = <a href="ExpressionNode.scala.html#18086" title="=&gt; Option[org.squeryl.dsl.ast.ExpressionNode]">parent</a>.<span title="=&gt; org.squeryl.dsl.ast.ExpressionNode">get</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.dsl.ast.QueryableExpressionNode" class="delimiter">[</span><a href="ExpressionNode.scala.html#10311" title="org.squeryl.dsl.ast.QueryableExpressionNode">QueryableExpressionNode</a><span class="delimiter">]</span>  

  <span class="keyword">def</span> <a title="=&gt; org.squeryl.internals.ResultSetMapper" id="18397">resultSetMapper</a>: <a href="../../internals/ResultSetMapper.scala.html#10810" title="org.squeryl.internals.ResultSetMapper">ResultSetMapper</a>

  <span class="keyword">def</span> <a title="=&gt; String" id="18398">alias</a>: <span title="String">String</span>

  <span class="keyword">def</span> <a title="=&gt; String" id="18399">aliasSegment</a>: <span title="String">String</span> =
    <a href="#18398" title="=&gt; String">alias</a>

  <span class="keyword">def</span> <a title="=&gt; org.squeryl.dsl.ast.SelectElement" id="18400">actualSelectElement</a>: <a href="#10343" title="org.squeryl.dsl.ast.SelectElement">SelectElement</a> = <a href="#10343" title="org.squeryl.dsl.ast.SelectElement" class="keyword">this</a>

  <span class="comment">/**
   * Update, Insert, and Delete statements are always at the root of an AST, so they
   * are never aliased, but then can have sub queries, ex.: update ... where x in (subquery).
   * Name clashes are impossible since SelectElements of query are always aliased.
   *
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="18401">inhibitAliasOnSelectElementReference</a>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>

    <span class="keyword">def</span> <a title="(e: org.squeryl.dsl.ast.ExpressionNode)Boolean" id="84878">shouldInhibit</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.ExpressionNode" id="84879">e</a>: <a href="ExpressionNode.scala.html#10271" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
      <a href="#84879" title="org.squeryl.dsl.ast.ExpressionNode">e</a>.<a href="ExpressionNode.scala.html#18086" title="=&gt; Option[org.squeryl.dsl.ast.ExpressionNode]">parent</a> <span title="(f: org.squeryl.dsl.ast.ExpressionNode =&gt; Boolean)Option[Boolean]">map</span> <span class="delimiter">(</span><span class="delimiter">{</span> <a title="org.squeryl.dsl.ast.ExpressionNode" id="84884">p</a> =&gt;
        <span title="Boolean" class="keyword">if</span><span class="delimiter">(</span><a href="#84884" title="org.squeryl.dsl.ast.ExpressionNode">p</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="QueryExpressionElements.scala.html#10326" title="org.squeryl.dsl.ast.QueryExpressionElements">QueryExpressionElements</a><span class="delimiter">]</span><span class="delimiter">)</span>
          <a href="#84884" title="org.squeryl.dsl.ast.ExpressionNode">p</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.dsl.ast.QueryExpressionElements" class="delimiter">[</span><a href="QueryExpressionElements.scala.html#10326" title="org.squeryl.dsl.ast.QueryExpressionElements">QueryExpressionElements</a><span class="delimiter">]</span>.<a href="QueryExpressionElements.scala.html#61931" title="=&gt; Boolean">inhibitAliasOnSelectElementReference</a>
        <span class="keyword">else</span>
          <a href="#84878" title="(e: org.squeryl.dsl.ast.ExpressionNode)Boolean">shouldInhibit</a><span class="delimiter">(</span><a href="#84884" title="org.squeryl.dsl.ast.ExpressionNode">p</a><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span> <span title="(default: =&gt; Boolean)Boolean">getOrElse</span> <span title="Boolean(true)" class="keyword">true</span>

    <a href="#84878" title="(e: org.squeryl.dsl.ast.ExpressionNode)Boolean">shouldInhibit</a><span class="delimiter">(</span><a href="#18395" title="=&gt; org.squeryl.dsl.ast.QueryableExpressionNode">origin</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="18402">realTableNamePrefix</a>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>

    <span class="keyword">def</span> <a title="(e: org.squeryl.dsl.ast.ExpressionNode)org.squeryl.dsl.ast.ExpressionNode" id="84893">parent</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.ExpressionNode" id="84895">e</a>: <a href="ExpressionNode.scala.html#10271" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a><span class="delimiter">)</span>: <a href="ExpressionNode.scala.html#10271" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a> =
      <span class="delimiter">(</span><a href="#84895" title="org.squeryl.dsl.ast.ExpressionNode">e</a>.<a href="ExpressionNode.scala.html#18086" title="=&gt; Option[org.squeryl.dsl.ast.ExpressionNode]">parent</a> <span title="(f: org.squeryl.dsl.ast.ExpressionNode =&gt; org.squeryl.dsl.ast.ExpressionNode)Option[org.squeryl.dsl.ast.ExpressionNode]">map</span> <span class="delimiter">(</span><a title="org.squeryl.dsl.ast.ExpressionNode" id="84899">p</a> =&gt; <a href="#84893" title="(e: org.squeryl.dsl.ast.ExpressionNode)org.squeryl.dsl.ast.ExpressionNode">parent</a><span class="delimiter">(</span><a href="#84899" title="org.squeryl.dsl.ast.ExpressionNode">p</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(default: =&gt; org.squeryl.dsl.ast.ExpressionNode)org.squeryl.dsl.ast.ExpressionNode">getOrElse</span> <a href="#84895" title="org.squeryl.dsl.ast.ExpressionNode">e</a>

    <span class="keyword">val</span> <a title="org.squeryl.dsl.ast.ExpressionNode" id="84894">p</a> = <a href="#84893" title="(e: org.squeryl.dsl.ast.ExpressionNode)org.squeryl.dsl.ast.ExpressionNode">parent</a><span class="delimiter">(</span><a href="#18395" title="=&gt; org.squeryl.dsl.ast.QueryableExpressionNode">origin</a><span class="delimiter">)</span>
    <a href="#84894" title="org.squeryl.dsl.ast.ExpressionNode">p</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="UpdateStatement.scala.html#10354" title="org.squeryl.dsl.ast.UpdateStatement">UpdateStatement</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">||</span> <a href="#84894" title="org.squeryl.dsl.ast.ExpressionNode">p</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="QueryExpressionElements.scala.html#10326" title="org.squeryl.dsl.ast.QueryExpressionElements">QueryExpressionElements</a><span class="delimiter">]</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(index: Int)Unit" id="18403">prepareColumnMapper</a><span class="delimiter">(</span><a title="Int" id="84906">index</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Unit">Unit</span>

  <span class="keyword">def</span> <a title="(jdbcIndex: Int)Unit" id="18404">prepareMapper</a><span class="delimiter">(</span><a title="Int" id="70954">jdbcIndex</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Unit">Unit</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="18405">inhibited</a> =
    <a href="#18395" title="=&gt; org.squeryl.dsl.ast.QueryableExpressionNode">origin</a>.<a href="ExpressionNode.scala.html#63094" title="=&gt; Boolean">inhibited</a>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="18406">isActive</a> = <a href="#18408" title="=&gt; Boolean">_isActive</a>

  <span class="keyword">protected</span> <span class="delimiter">[</span>squeryl<span class="delimiter">]</span> <span class="keyword">var</span> <a title="Boolean" id="18408">_isActive</a> = <span title="Boolean(false)" class="keyword">false</span>
  
  <span class="keyword">def</span> <a title="=&gt; org.squeryl.dsl.ast.ExpressionNode" id="18410">expression</a>: <a href="ExpressionNode.scala.html#10271" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a>

  <span class="comment">/**
   * strictly for logging purposes, i.e. to display a more explicit AST
   */</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="18411">typeOfExpressionToString</a>: <span title="String">String</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[org.squeryl.dsl.ast.ExpressionNode]" id="18412">children</a> = <span title="(xs: org.squeryl.dsl.ast.ExpressionNode*)List[org.squeryl.dsl.ast.ExpressionNode]">List</span><span class="delimiter">(</span><a href="#18410" title="=&gt; org.squeryl.dsl.ast.ExpressionNode">expression</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(sw: org.squeryl.internals.StatementWriter)Unit" id="18413">doWrite</a><span class="delimiter">(</span><a title="org.squeryl.internals.StatementWriter" id="84929">sw</a>: <a href="../../internals/StatementWriter.scala.html#10817" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#18410" title="=&gt; org.squeryl.dsl.ast.ExpressionNode">expression</a>.<a href="ExpressionNode.scala.html#18092" title="(sw: org.squeryl.internals.StatementWriter)Unit">write</a><span class="delimiter">(</span><a href="#84929" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
    <a href="#84929" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../../internals/StatementWriter.scala.html#38402" title="(s: String*)Unit">write</a><span class="delimiter">(</span><span title="java.lang.String(&quot; as &quot;)" class="string">&quot; as &quot;</span><span class="delimiter">)</span>
    <a href="#84929" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../../internals/StatementWriter.scala.html#38365" title="=&gt; org.squeryl.internals.DatabaseAdapter">databaseAdapter</a>.<a href="../../internals/DatabaseAdapter.scala.html#34813" title="(se: org.squeryl.dsl.ast.SelectElement, sw: org.squeryl.internals.StatementWriter)Unit">writeSelectElementAlias</a><span class="delimiter">(</span><a href="#10343" title="org.squeryl.dsl.ast.SelectElement" class="keyword">this</a>, <a href="#84929" title="org.squeryl.internals.StatementWriter">sw</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Will throw a ClassCastException if this type is not a Enumeration#Value
   */</span>
  <span class="keyword">def</span> <a title="(s: Enumeration#Value)org.squeryl.internals.OutMapper[Enumeration#Value]" id="18414">createEnumerationMapper</a><span class="delimiter">(</span><a title="Enumeration#Value" id="31527">s</a>: Enumeration#<span title="Enumeration#Value">Value</span><span class="delimiter">)</span>: <a href="../../internals/ResultSetMapper.scala.html#10804" title="org.squeryl.internals.OutMapper[Enumeration#Value]">OutMapper</a><span class="delimiter">[</span>Enumeration#Value<span class="delimiter">]</span> = <a href="#84936" title="java.lang.Object with org.squeryl.internals.OutMapper[Enumeration#Value]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with org.squeryl.internals.OutMapper[Enumeration#Value]" id="84936">OutMapper</a><span class="delimiter">[</span>Enumeration#Value<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>

    <span class="keyword">def</span> <a title="(rs: java.sql.ResultSet)Enumeration#Value" id="84942">doMap</a><span class="delimiter">(</span><a title="java.sql.ResultSet" id="84944">rs</a>: <span title="java.sql.ResultSet">ResultSet</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.squeryl.internals.FieldMetaData" id="84947">fmd</a> = <a href="#10343" title="SelectElement.this.type">outer</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.dsl.ast.FieldSelectElement" class="delimiter">[</span><a href="#10345" title="org.squeryl.dsl.ast.FieldSelectElement">FieldSelectElement</a><span class="delimiter">]</span>.<a href="#85126" title="=&gt; org.squeryl.internals.FieldMetaData">fieldMetaData</a>
      <a href="#84947" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="../../internals/FieldMetaData.scala.html#46112" title="(id: Int)Option[Enumeration#Value]">canonicalEnumerationValueFor</a><span class="delimiter">(</span><a href="#84944" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)Int">getInt</span><span class="delimiter">(</span><a href="#84936" title="this.type" class="keyword">this</a>.<a href="../../internals/ResultSetMapper.scala.html#18494" title="=&gt; Int">index</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Enumeration#Value">get</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Enumeration#Value" id="84943">sample</a> = <a href="#31527" title="Enumeration#Value">s</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Will throw a ClassCastException if this type is not a Enumeration#Value
   */</span>
  <span class="keyword">def</span> <a title="(s: Option[Enumeration#Value])org.squeryl.internals.OutMapper[Option[Enumeration#Value]]" id="18415">createEnumerationOptionMapper</a><span class="delimiter">(</span><a title="Option[Enumeration#Value]" id="31995">s</a>: <span title="Option[Enumeration#Value]">Option</span><span class="delimiter">[</span>Enumeration#Value<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../internals/ResultSetMapper.scala.html#10804" title="org.squeryl.internals.OutMapper[Option[Enumeration#Value]]">OutMapper</a><span class="delimiter">[</span>Option<span class="delimiter">[</span>Enumeration#Value<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#84963" title="java.lang.Object with org.squeryl.internals.OutMapper[Option[Enumeration#Value]]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with org.squeryl.internals.OutMapper[Option[Enumeration#Value]]" id="84963">OutMapper</a><span class="delimiter">[</span>Option<span class="delimiter">[</span>Enumeration#Value<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>

    <span class="keyword">def</span> <a title="(rs: java.sql.ResultSet)Option[Enumeration#Value]" id="84969">doMap</a><span class="delimiter">(</span><a title="java.sql.ResultSet" id="84971">rs</a>: <span title="java.sql.ResultSet">ResultSet</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.squeryl.internals.FieldMetaData" id="84974">fmd</a> = <a href="#10343" title="SelectElement.this.type">outer</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.dsl.ast.FieldSelectElement" class="delimiter">[</span><a href="#10345" title="org.squeryl.dsl.ast.FieldSelectElement">FieldSelectElement</a><span class="delimiter">]</span>.<a href="#85126" title="=&gt; org.squeryl.internals.FieldMetaData">fieldMetaData</a>
      <a href="#84974" title="org.squeryl.internals.FieldMetaData">fmd</a>.<a href="../../internals/FieldMetaData.scala.html#46112" title="(id: Int)Option[Enumeration#Value]">canonicalEnumerationValueFor</a><span class="delimiter">(</span><a href="#84971" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)Int">getInt</span><span class="delimiter">(</span><a href="#84963" title="this.type" class="keyword">this</a>.<a href="../../internals/ResultSetMapper.scala.html#18494" title="=&gt; Int">index</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Option[Enumeration#Value]" id="84970">sample</a> = 
      <span title="Option[Enumeration#Value]" class="keyword">if</span><span class="delimiter">(</span><a href="#31995" title="Option[Enumeration#Value]">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span> 
        org.squeryl.internals.<a href="../../internals/Utils.scala.html#10829" title="object org.squeryl.internals.Utils">Utils</a>.<a href="../../internals/Utils.scala.html#30502" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;can\'t find a sample value for enum &quot;)" class="string">&quot;can't find a sample value for enum &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#10343" title="org.squeryl.dsl.ast.SelectElement">outer</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#31995" title="Option[Enumeration#Value]">s</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class TupleSelectElement extends java.lang.Object with org.squeryl.dsl.ast.SelectElement with ScalaObject" id="10344">TupleSelectElement</a>
 <span class="delimiter">(</span><span class="keyword">val</span> <a title="org.squeryl.dsl.ast.QueryExpressionNode[_]" id="85022">origin</a>: <a href="QueryExpressionNode.scala.html#10333" title="org.squeryl.dsl.ast.QueryExpressionNode[_]">QueryExpressionNode</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <span class="keyword">val</span> <a title="org.squeryl.dsl.ast.ExpressionNode" id="85023">expression</a>: <a href="ExpressionNode.scala.html#10271" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a>, <a title="Int" id="85024">indexInTuple</a>: <span title="Int">Int</span>, <a title="Boolean" id="85025">isGroupTuple</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>
    <span class="keyword">extends</span> <a href="#10343" title="org.squeryl.dsl.ast.SelectElement">SelectElement</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="=&gt; org.squeryl.internals.ResultSetMapper" id="85001">resultSetMapper</a>: <a href="../../internals/ResultSetMapper.scala.html#10810" title="org.squeryl.internals.ResultSetMapper">ResultSetMapper</a> = org.squeryl.internals.<a href="../../internals/Utils.scala.html#10829" title="object org.squeryl.internals.Utils">Utils</a>.<a href="../../internals/Utils.scala.html#30502" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;refactor me&quot;)" class="string">&quot;refactor me&quot;</span><span class="delimiter">)</span>

  <span class="comment">//TODO: normalize ?</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="85002">alias</a> =
    <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#85025" title="Boolean">isGroupTuple</a><span class="delimiter">)</span>
      <span title="java.lang.String(&quot;g&quot;)" class="string">&quot;g&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#85024" title="Int">indexInTuple</a>
    <span class="keyword">else</span>
      <span title="java.lang.String(&quot;c&quot;)" class="string">&quot;c&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#85024" title="Int">indexInTuple</a>


  <span class="keyword">var</span> <a title="Option[org.squeryl.internals.ColumnToTupleMapper]" id="85004">columnToTupleMapper</a>: <span title="Option[org.squeryl.internals.ColumnToTupleMapper]">Option</span><span class="delimiter">[</span>ColumnToTupleMapper<span class="delimiter">]</span> = <span title="object None">None</span>

  <span class="keyword">def</span> <a title="(index: Int)Unit" id="85006">prepareColumnMapper</a><span class="delimiter">(</span><a title="Int" id="85046">index</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; String" id="85007">typeOfExpressionToString</a>: <span title="String">String</span> =
    <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#85004" title="=&gt; Option[org.squeryl.internals.ColumnToTupleMapper]">columnToTupleMapper</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span>
      <span title="java.lang.String(&quot;unknown&quot;)" class="string">&quot;unknown&quot;</span>
    <span class="keyword">else</span>
      <a href="#85004" title="=&gt; Option[org.squeryl.internals.ColumnToTupleMapper]">columnToTupleMapper</a>.<span title="=&gt; org.squeryl.internals.ColumnToTupleMapper">get</span>.<a href="../../internals/ResultSetMapper.scala.html#85039" title="(idx: Int)java.lang.String">typeOfExpressionToString</a><span class="delimiter">(</span><a href="#85024" title="Int">indexInTuple</a><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(jdbcIndex: Int)Unit" id="85008">prepareMapper</a><span class="delimiter">(</span><a title="Int" id="85068">jdbcIndex</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#85004" title="=&gt; Option[org.squeryl.internals.ColumnToTupleMapper]">columnToTupleMapper</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object None">None</span><span class="delimiter">)</span>
      <a href="#85004" title="=&gt; Option[org.squeryl.internals.ColumnToTupleMapper]">columnToTupleMapper</a>.<span title="=&gt; org.squeryl.internals.ColumnToTupleMapper">get</span>.<a href="../../internals/ResultSetMapper.scala.html#85040" title="(i: Int, jdbcIndex: Int)Unit">activate</a><span class="delimiter">(</span><a href="#85024" title="Int">indexInTuple</a>, <a href="#85068" title="Int">jdbcIndex</a><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="85009">toString</a> =
    <span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="symbol">'TupleSelectElement</span> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#85024" title="Int">indexInTuple</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="ExpressionNode.scala.html#18094" title="=&gt; String">writeToString</a>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class FieldSelectElement extends java.lang.Object with org.squeryl.dsl.ast.SelectElement with org.squeryl.dsl.ast.UniqueIdInAliaseRequired with ScalaObject" id="10345">FieldSelectElement</a>
<a href="#10345" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="org.squeryl.dsl.ast.ViewExpressionNode[_]" id="85125">origin</a>: <a href="ViewExpressionNode.scala.html#10362" title="org.squeryl.dsl.ast.ViewExpressionNode[_]">ViewExpressionNode</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <span class="keyword">val</span> <a title="org.squeryl.internals.FieldMetaData" id="85126">fieldMetaData</a>: <a href="../../internals/FieldMetaData.scala.html#10742" title="org.squeryl.internals.FieldMetaData">FieldMetaData</a>, <span class="keyword">val</span> <a title="org.squeryl.internals.ResultSetMapper" id="85127">resultSetMapper</a>: <a href="../../internals/ResultSetMapper.scala.html#10810" title="org.squeryl.internals.ResultSetMapper">ResultSetMapper</a><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="#10343" title="org.squeryl.dsl.ast.SelectElement">SelectElement</a> <span class="keyword">with</span> <a href="ExpressionNode.scala.html#10310" title="org.squeryl.dsl.ast.UniqueIdInAliaseRequired">UniqueIdInAliaseRequired</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="=&gt; String" id="53548">alias</a> =
    <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#18401" title="=&gt; Boolean">inhibitAliasOnSelectElementReference</a><span class="delimiter">)</span>
      <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#18402" title="=&gt; Boolean">realTableNamePrefix</a><span class="delimiter">)</span>
        <a href="#85125" title="=&gt; org.squeryl.dsl.ast.ViewExpressionNode[_]">origin</a>.<a href="ViewExpressionNode.scala.html#63117" title="(=&gt; org.squeryl.View[_$2]) forSome { type _$2 }">view</a>.<a href="../../View.scala.html#20450" title="=&gt; String">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#85126" title="=&gt; org.squeryl.internals.FieldMetaData">fieldMetaData</a>.<a href="../../internals/FieldMetaData.scala.html#46131" title="=&gt; String">columnName</a>
      <span class="keyword">else</span>
        <a href="#85126" title="=&gt; org.squeryl.internals.FieldMetaData">fieldMetaData</a>.<a href="../../internals/FieldMetaData.scala.html#46131" title="=&gt; String">columnName</a>
    <span class="keyword">else</span>
      <a href="#85125" title="=&gt; org.squeryl.dsl.ast.ViewExpressionNode[_]">origin</a>.<a href="ViewExpressionNode.scala.html#63129" title="=&gt; java.lang.String">alias</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#85126" title="=&gt; org.squeryl.internals.FieldMetaData">fieldMetaData</a>.<a href="../../internals/FieldMetaData.scala.html#46131" title="=&gt; String">columnName</a>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="53549">aliasSegment</a>: <span title="String">String</span> =
    <a href="../../Session.scala.html#9848" title="object org.squeryl.Session">Session</a>.<a href="../../Session.scala.html#34680" title="=&gt; org.squeryl.Session">currentSession</a>.<a href="../../Session.scala.html#34691" title="=&gt; org.squeryl.internals.DatabaseAdapter">databaseAdapter</a>.<a href="../../internals/DatabaseAdapter.scala.html#34811" title="(n: org.squeryl.dsl.ast.QueryableExpressionNode, fse: org.squeryl.dsl.ast.FieldSelectElement)java.lang.String">fieldAlias</a><span class="delimiter">(</span><a href="#85125" title="=&gt; org.squeryl.dsl.ast.ViewExpressionNode[_]">origin</a>, <a href="#10345" title="org.squeryl.dsl.ast.FieldSelectElement" class="keyword">this</a><span class="delimiter">)</span>
    <span class="comment">//origin.alias + &quot;_&quot; + fieldMetaData.columnName</span>
  
  <span class="keyword">val</span> <a title="expression extends java.lang.Object with org.squeryl.dsl.ast.ExpressionNode" id="53550">expression</a> = <a href="#85100" title="java.lang.Object with org.squeryl.dsl.ast.ExpressionNode" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with org.squeryl.dsl.ast.ExpressionNode" id="85100">ExpressionNode</a> <span class="delimiter">{</span>
    
    <span class="keyword">def</span> <a title="(sw: org.squeryl.internals.StatementWriter)Unit" id="85102">doWrite</a><span class="delimiter">(</span><a title="org.squeryl.internals.StatementWriter" id="85103">sw</a>: <a href="../../internals/StatementWriter.scala.html#10817" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> =
      <a href="#85103" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../../internals/StatementWriter.scala.html#38402" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#85103" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../../internals/StatementWriter.scala.html#38405" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#53548" title="=&gt; String">alias</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(index: Int)Unit" id="53552">prepareColumnMapper</a><span class="delimiter">(</span><a title="Int" id="85134">index</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
    <a href="#53554" title="(x$1: Option[org.squeryl.internals.ColumnToFieldMapper])Unit">columnMapper</a> = <span title="(x: org.squeryl.internals.ColumnToFieldMapper)Some[org.squeryl.internals.ColumnToFieldMapper]">Some</span><span class="delimiter">(</span><span title="org.squeryl.internals.ColumnToFieldMapper" class="keyword">new</span> <a href="../../internals/ResultSetMapper.scala.html#10808" title="org.squeryl.internals.ColumnToFieldMapper">ColumnToFieldMapper</a><span class="delimiter">(</span><a href="#85134" title="Int">index</a>, <a href="#85126" title="=&gt; org.squeryl.internals.FieldMetaData">fieldMetaData</a>, <a href="#10345" title="org.squeryl.dsl.ast.FieldSelectElement" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Option[org.squeryl.internals.ColumnToFieldMapper]" id="53554">columnMapper</a>: <span title="Option[org.squeryl.internals.ColumnToFieldMapper]">Option</span><span class="delimiter">[</span>ColumnToFieldMapper<span class="delimiter">]</span> = <span title="object None">None</span>

  <span class="keyword">def</span> <a title="(jdbcIndex: Int)Unit" id="53556">prepareMapper</a><span class="delimiter">(</span><a title="Int" id="85154">jdbcIndex</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#53554" title="=&gt; Option[org.squeryl.internals.ColumnToFieldMapper]">columnMapper</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object None">None</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#85127" title="=&gt; org.squeryl.internals.ResultSetMapper">resultSetMapper</a>.<a href="../../internals/ResultSetMapper.scala.html#32642" title="(cm: org.squeryl.internals.ColumnToFieldMapper)Unit">addColumnMapper</a><span class="delimiter">(</span><a href="#53554" title="=&gt; Option[org.squeryl.internals.ColumnToFieldMapper]">columnMapper</a>.<span title="=&gt; org.squeryl.internals.ColumnToFieldMapper">get</span><span class="delimiter">)</span>
      <a href="#85127" title="=&gt; org.squeryl.internals.ResultSetMapper">resultSetMapper</a>.<a href="../../internals/ResultSetMapper.scala.html#32639" title="(x$1: Boolean)Unit">isActive</a> = <span title="Boolean(true)" class="keyword">true</span>
      <a href="#18408" title="(x$1: Boolean)Unit">_isActive</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="delimiter">}</span>
  
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="53557">typeOfExpressionToString</a> =
    <a href="#85126" title="=&gt; org.squeryl.internals.FieldMetaData">fieldMetaData</a>.<a href="../../internals/FieldMetaData.scala.html#46136" title="=&gt; java.lang.String">displayType</a>
  
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="53558">toString</a> =
    <span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="symbol">'FieldSelectElement</span> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
       <a href="../../internals/Utils.scala.html#10829" title="object org.squeryl.internals.Utils">Utils</a>.<a href="../../internals/Utils.scala.html#30481" title="(s: =&gt; String, valueOnFail: String)String">failSafeString</a><span class="delimiter">(</span><a href="#53548" title="=&gt; String">alias</a>, <a href="#85126" title="=&gt; org.squeryl.internals.FieldMetaData">fieldMetaData</a>.<a href="../../internals/FieldMetaData.scala.html#46092" title="=&gt; String">nameOfProperty</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class ValueSelectElement extends java.lang.Object with org.squeryl.dsl.ast.SelectElement with org.squeryl.dsl.ast.UniqueIdInAliaseRequired with ScalaObject" id="10346">ValueSelectElement</a>
  <span class="delimiter">(</span><span class="keyword">val</span> <a title="org.squeryl.dsl.ast.ExpressionNode" id="85219">expression</a>: <a href="ExpressionNode.scala.html#10271" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a>, <span class="keyword">val</span> <a title="org.squeryl.internals.ResultSetMapper" id="85220">resultSetMapper</a>: <a href="../../internals/ResultSetMapper.scala.html#10810" title="org.squeryl.internals.ResultSetMapper">ResultSetMapper</a>, <a title="org.squeryl.internals.OutMapper[_]" id="85221">mapper</a>: <a href="../../internals/ResultSetMapper.scala.html#10804" title="org.squeryl.internals.OutMapper[_]">OutMapper</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <span class="keyword">val</span> <a title="org.squeryl.dsl.ast.QueryExpressionNode[_]" id="85222">origin</a>: <a href="QueryExpressionNode.scala.html#10333" title="org.squeryl.dsl.ast.QueryExpressionNode[_]">QueryExpressionNode</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>
     <span class="keyword">extends</span> <a href="#10343" title="org.squeryl.dsl.ast.SelectElement">SelectElement</a> <span class="keyword">with</span> <a href="ExpressionNode.scala.html#10310" title="org.squeryl.dsl.ast.UniqueIdInAliaseRequired">UniqueIdInAliaseRequired</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="85196">alias</a> = <span title="java.lang.String(&quot;v&quot;)" class="string">&quot;v&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="ExpressionNode.scala.html#53560" title="=&gt; Option[Int]">uniqueId</a>.<span title="=&gt; Int">get</span>

  <span class="keyword">var</span> <a title="Option[org.squeryl.internals.YieldValuePusher]" id="85198">yieldPusher</a>: <span title="Option[org.squeryl.internals.YieldValuePusher]">Option</span><span class="delimiter">[</span>YieldValuePusher<span class="delimiter">]</span> = <span title="object None">None</span>

  <span class="keyword">def</span> <a title="(index: Int)Unit" id="85200">prepareColumnMapper</a><span class="delimiter">(</span><a title="Int" id="85243">index</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
    <a href="#85198" title="(x$1: Option[org.squeryl.internals.YieldValuePusher])Unit">yieldPusher</a> = <span title="(x: org.squeryl.internals.YieldValuePusher)Some[org.squeryl.internals.YieldValuePusher]">Some</span><span class="delimiter">(</span><span title="org.squeryl.internals.YieldValuePusher" class="keyword">new</span> <a href="../../internals/ResultSetMapper.scala.html#10811" title="org.squeryl.internals.YieldValuePusher">YieldValuePusher</a><span class="delimiter">(</span><a href="#85243" title="Int">index</a>, <a href="#10346" title="org.squeryl.dsl.ast.ValueSelectElement" class="keyword">this</a>, <a href="#85221" title="org.squeryl.internals.OutMapper[_]">mapper</a><span class="delimiter">)</span><span class="delimiter">)</span>  

  <span class="keyword">def</span> <a title="=&gt; String" id="85201">typeOfExpressionToString</a> =
    <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#85198" title="=&gt; Option[org.squeryl.internals.YieldValuePusher]">yieldPusher</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span>
      <span title="java.lang.String(&quot;unknown&quot;)" class="string">&quot;unknown&quot;</span>
    <span class="keyword">else</span>
      <a href="#85198" title="=&gt; Option[org.squeryl.internals.YieldValuePusher]">yieldPusher</a>.<span title="=&gt; org.squeryl.internals.YieldValuePusher">get</span>.<a href="../../internals/ResultSetMapper.scala.html#85237" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#18411" title="=&gt; String">typeOfExpressionToString</a>
  
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(jdbcIndex: Int)Unit" id="85202">prepareMapper</a><span class="delimiter">(</span><a title="Int" id="85264">jdbcIndex</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#85198" title="=&gt; Option[org.squeryl.internals.YieldValuePusher]">yieldPusher</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object None">None</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#85220" title="=&gt; org.squeryl.internals.ResultSetMapper">resultSetMapper</a>.<a href="../../internals/ResultSetMapper.scala.html#32643" title="(yvp: org.squeryl.internals.YieldValuePusher)Unit">addYieldValuePusher</a><span class="delimiter">(</span><a href="#85198" title="=&gt; Option[org.squeryl.internals.YieldValuePusher]">yieldPusher</a>.<span title="=&gt; org.squeryl.internals.YieldValuePusher">get</span><span class="delimiter">)</span>
      <a href="#85220" title="=&gt; org.squeryl.internals.ResultSetMapper">resultSetMapper</a>.<a href="../../internals/ResultSetMapper.scala.html#32639" title="(x$1: Boolean)Unit">isActive</a> = <span title="Boolean(true)" class="keyword">true</span>
      <a href="#18408" title="(x$1: Boolean)Unit">_isActive</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="85203">toString</a> =
    <span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="symbol">'ValueSelectElement</span> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#85219" title="=&gt; org.squeryl.dsl.ast.ExpressionNode">expression</a>.<a href="ExpressionNode.scala.html#18094" title="=&gt; String">writeToString</a>  
<span class="delimiter">}</span>

<span class="comment">/**
 * All nodes that refer to a SelectElement are SelectElementReference,
 * with the exception of SelectElement that refer to an inner or outer query's SelectElement,
 * these are ExportedSelectElement
 */</span>
<span class="keyword">class</span> <a title="class SelectElementReference[A] extends java.lang.Object with org.squeryl.dsl.ast.TypedExpressionNode[A] with ScalaObject" id="10347">SelectElementReference</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="10348">A</a><span class="delimiter">]</span>
  <span class="delimiter">(</span><span class="keyword">val</span> <a title="org.squeryl.dsl.ast.SelectElement" id="29918">selectElement</a>: <a href="#10343" title="org.squeryl.dsl.ast.SelectElement">SelectElement</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <span class="keyword">val</span> <a title="org.squeryl.internals.OutMapper[A]" id="29919">mapper</a>: <a href="../../internals/ResultSetMapper.scala.html#10804" title="org.squeryl.internals.OutMapper[A]">OutMapper</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>
    <span class="keyword">extends</span> <a href="ExpressionNode.scala.html#10289" title="org.squeryl.dsl.ast.TypedExpressionNode[A]">TypedExpressionNode</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="29909">toString</a> =
    <span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="symbol">'SelectElementReference</span> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../../internals/Utils.scala.html#10829" title="object org.squeryl.internals.Utils">Utils</a>.<a href="../../internals/Utils.scala.html#30480" title="(s: =&gt; String)String">failSafeString</a><span class="delimiter">(</span><a href="#29912" title="=&gt; org.squeryl.dsl.ast.SelectElement">delegateAtUseSite</a>.<a href="#18398" title="=&gt; String">alias</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#29918" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#18411" title="=&gt; String">typeOfExpressionToString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="ExpressionNode.scala.html#18091" title="=&gt; java.lang.String">inhibitedFlagForAstDump</a>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="29910">inhibited</a> =
    <a href="#29918" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#18405" title="=&gt; Boolean">inhibited</a>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; org.squeryl.dsl.ast.QueryExpressionNode[_]" id="29911">_useSite</a>: <a href="QueryExpressionNode.scala.html#10333" title="org.squeryl.dsl.ast.QueryExpressionNode[_]">QueryExpressionNode</a><span class="delimiter">[</span>_<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="org.squeryl.dsl.ast.ExpressionNode" id="85321">e</a>: <a href="ExpressionNode.scala.html#10271" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a> = <a href="#10347" title="org.squeryl.dsl.ast.SelectElementReference[A]" class="keyword">this</a>

    <a href="#85322" title="Unit" class="keyword">do</a> <span class="delimiter">{</span>
      <a href="#85321" title="org.squeryl.dsl.ast.ExpressionNode">e</a> = <a href="#85321" title="org.squeryl.dsl.ast.ExpressionNode">e</a>.<a href="ExpressionNode.scala.html#18086" title="=&gt; Option[org.squeryl.dsl.ast.ExpressionNode]">parent</a>.<span title="=&gt; org.squeryl.dsl.ast.ExpressionNode">get</span>
      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#85321" title="org.squeryl.dsl.ast.ExpressionNode">e</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="QueryExpressionNode.scala.html#10333" title="org.squeryl.dsl.ast.QueryExpressionNode[_]">QueryExpressionNode</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">return</span> <a href="#85321" title="org.squeryl.dsl.ast.ExpressionNode">e</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.dsl.ast.QueryExpressionNode[_$7]" class="delimiter">[</span><a href="QueryExpressionNode.scala.html#10333" title="org.squeryl.dsl.ast.QueryExpressionNode[_]">QueryExpressionNode</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span>
    <span class="delimiter">}</span> <span class="keyword">while</span> <span class="delimiter">(</span><a href="#85321" title="org.squeryl.dsl.ast.ExpressionNode">e</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object None">None</span><span class="delimiter">)</span>

    org.squeryl.internals.<a href="../../internals/Utils.scala.html#10829" title="object org.squeryl.internals.Utils">Utils</a>.<a href="../../internals/Utils.scala.html#30502" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;could not determine use site of &quot;)" class="string">&quot;could not determine use site of &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#10347" title="org.squeryl.dsl.ast.SelectElementReference[A]" class="keyword">this</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.squeryl.dsl.ast.SelectElement" id="29913">delegateAtUseSite</a> =
    <span title="org.squeryl.dsl.ast.SelectElement" class="keyword">if</span><span class="delimiter">(</span><a href="#29918" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="ExpressionNode.scala.html#18086" title="=&gt; Option[org.squeryl.dsl.ast.ExpressionNode]">parent</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span>
      <a href="#29918" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.squeryl.dsl.ast.QueryExpressionNode[_]" id="85291">us</a> = <a href="#10347" title="SelectElementReference.this.type" class="keyword">this</a>.<a href="#29911" title="=&gt; org.squeryl.dsl.ast.QueryExpressionNode[_]">_useSite</a>
      <span title="org.squeryl.dsl.ast.SelectElement" class="keyword">if</span><span class="delimiter">(</span><a href="#29918" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#18396" title="=&gt; org.squeryl.dsl.ast.QueryableExpressionNode">parentQueryable</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#85291" title="org.squeryl.dsl.ast.QueryExpressionNode[_]">us</a><span class="delimiter">)</span>
        <a href="#29918" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="org.squeryl.dsl.ast.ExportedSelectElement" id="85305">ese</a> = <span title="org.squeryl.dsl.ast.ExportedSelectElement" class="keyword">new</span> <a href="#10349" title="org.squeryl.dsl.ast.ExportedSelectElement">ExportedSelectElement</a><span class="delimiter">(</span><a href="#10347" title="SelectElementReference.this.type" class="keyword">this</a>.<a href="#29918" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a><span class="delimiter">)</span>
        <a href="#85305" title="org.squeryl.dsl.ast.ExportedSelectElement">ese</a>.<a href="ExpressionNode.scala.html#18087" title="(x$1: Option[org.squeryl.dsl.ast.ExpressionNode])Unit">parent</a> = <span title="(x: org.squeryl.dsl.ast.QueryExpressionNode[_$5])Some[org.squeryl.dsl.ast.QueryExpressionNode[_$5]]">Some</span><span class="delimiter">(</span><a href="#85291" title="org.squeryl.dsl.ast.QueryExpressionNode[_]">us</a><span class="delimiter">)</span>
        <a href="#85305" title="org.squeryl.dsl.ast.ExportedSelectElement">ese</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sw: org.squeryl.internals.StatementWriter)Unit" id="29914">doWrite</a><span class="delimiter">(</span><a title="org.squeryl.internals.StatementWriter" id="85340">sw</a>: <a href="../../internals/StatementWriter.scala.html#10817" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> =
    <a href="#85340" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../../internals/StatementWriter.scala.html#38402" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#85340" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../../internals/StatementWriter.scala.html#38405" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#29912" title="=&gt; org.squeryl.dsl.ast.SelectElement">delegateAtUseSite</a>.<a href="#18398" title="=&gt; String">alias</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * SelectElement that refer to a SelectElement of an inner or outer query
 */</span>
<span class="keyword">class</span> <a title="class ExportedSelectElement extends java.lang.Object with org.squeryl.dsl.ast.SelectElement with ScalaObject" id="10349">ExportedSelectElement</a>
  <span class="delimiter">(</span><span class="keyword">val</span> <a title="org.squeryl.dsl.ast.SelectElement" id="84832">selectElement</a>: <a href="#10343" title="org.squeryl.dsl.ast.SelectElement">SelectElement</a><span class="delimiter">)</span>
    <span class="keyword">extends</span> <a href="#10343" title="org.squeryl.dsl.ast.SelectElement">SelectElement</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="=&gt; org.squeryl.internals.ResultSetMapper" id="84813">resultSetMapper</a> = <a href="#84832" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#18397" title="=&gt; org.squeryl.internals.ResultSetMapper">resultSetMapper</a>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="84814">inhibited</a> =
    <a href="#84832" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#18405" title="=&gt; Boolean">inhibited</a>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(jdbcIndex: Int)Unit" id="84815">prepareMapper</a><span class="delimiter">(</span><a title="Int" id="85369">jdbcIndex</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
    <a href="#84832" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#18404" title="(jdbcIndex: Int)Unit">prepareMapper</a><span class="delimiter">(</span><a href="#85369" title="Int">jdbcIndex</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(index: Int)Unit" id="84816">prepareColumnMapper</a><span class="delimiter">(</span><a title="Int" id="85372">index</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
    <a href="#84832" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#18403" title="(index: Int)Unit">prepareColumnMapper</a><span class="delimiter">(</span><a href="#85372" title="Int">index</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; String" id="84817">typeOfExpressionToString</a> =
    <a href="#84832" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#18411" title="=&gt; String">typeOfExpressionToString</a>

  <span class="keyword">def</span> <a title="=&gt; org.squeryl.dsl.ast.QueryableExpressionNode" id="84818">origin</a> = <a href="#84832" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#18395" title="=&gt; org.squeryl.dsl.ast.QueryableExpressionNode">origin</a>

  <span class="keyword">val</span> <a title="expression extends java.lang.Object with org.squeryl.dsl.ast.ExpressionNode" id="84819">expression</a> = <a href="#85345" title="java.lang.Object with org.squeryl.dsl.ast.ExpressionNode" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with org.squeryl.dsl.ast.ExpressionNode" id="85345">ExpressionNode</a> <span class="delimiter">{</span>

    <span class="keyword">def</span> <a title="(sw: org.squeryl.internals.StatementWriter)Unit" id="85347">doWrite</a><span class="delimiter">(</span><a title="org.squeryl.internals.StatementWriter" id="85348">sw</a>: <a href="../../internals/StatementWriter.scala.html#10817" title="org.squeryl.internals.StatementWriter">StatementWriter</a><span class="delimiter">)</span> =
    <a href="#85348" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../../internals/StatementWriter.scala.html#38402" title="(s: String*)Unit">write</a><span class="delimiter">(</span><a href="#85348" title="org.squeryl.internals.StatementWriter">sw</a>.<a href="../../internals/StatementWriter.scala.html#38405" title="(s: String)String">quoteName</a><span class="delimiter">(</span><a href="#84822" title="=&gt; String">alias</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="84821">toString</a> =
    <span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="symbol">'ExportedSelectElement</span> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#84822" title="=&gt; String">alias</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;,(selectElement=&quot;)" class="string">&quot;,(selectElement=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#84832" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>

  <span class="keyword">def</span> <a title="=&gt; String" id="84822">alias</a>:<span title="String">String</span> =
    <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#84829" title="=&gt; Boolean">isDirectOuterReference</a><span class="delimiter">)</span>
      <a href="#84832" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#18398" title="=&gt; String">alias</a>
    <span class="keyword">else</span>
      <a href="#84825" title="=&gt; org.squeryl.dsl.ast.SelectElement">target</a>.<a href="ExpressionNode.scala.html#18086" title="=&gt; Option[org.squeryl.dsl.ast.ExpressionNode]">parent</a>.<span title="=&gt; org.squeryl.dsl.ast.ExpressionNode">get</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.dsl.ast.QueryableExpressionNode" class="delimiter">[</span><a href="ExpressionNode.scala.html#10311" title="org.squeryl.dsl.ast.QueryableExpressionNode">QueryableExpressionNode</a><span class="delimiter">]</span>.<a href="ExpressionNode.scala.html#63112" title="=&gt; String">alias</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#84825" title="=&gt; org.squeryl.dsl.ast.SelectElement">target</a>.<a href="#18399" title="=&gt; String">aliasSegment</a>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="84823">aliasSegment</a>: <span title="String">String</span> =
    <span class="comment">//target.parent.get.asInstanceOf[QueryableExpressionNode].alias + &quot;_&quot; + target.aliasSegment</span>
    <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#84829" title="=&gt; Boolean">isDirectOuterReference</a><span class="delimiter">)</span>
      <a href="#84832" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#18399" title="=&gt; String">aliasSegment</a>
    <span class="keyword">else</span>
      <a href="../../Session.scala.html#9848" title="object org.squeryl.Session">Session</a>.<a href="../../Session.scala.html#34680" title="=&gt; org.squeryl.Session">currentSession</a>.<a href="../../Session.scala.html#34691" title="=&gt; org.squeryl.internals.DatabaseAdapter">databaseAdapter</a>.<a href="../../internals/DatabaseAdapter.scala.html#34812" title="(parentOfTarget: org.squeryl.dsl.ast.QueryableExpressionNode, target: org.squeryl.dsl.ast.SelectElement)java.lang.String">aliasExport</a><span class="delimiter">(</span>
        <a href="#84825" title="=&gt; org.squeryl.dsl.ast.SelectElement">target</a>.<a href="ExpressionNode.scala.html#18086" title="=&gt; Option[org.squeryl.dsl.ast.ExpressionNode]">parent</a>.<span title="=&gt; org.squeryl.dsl.ast.ExpressionNode">get</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.dsl.ast.QueryableExpressionNode" class="delimiter">[</span><a href="ExpressionNode.scala.html#10311" title="org.squeryl.dsl.ast.QueryableExpressionNode">QueryableExpressionNode</a><span class="delimiter">]</span>, <a href="#84825" title="=&gt; org.squeryl.dsl.ast.SelectElement">target</a><span class="delimiter">)</span>

  <span class="comment">/**
   * A root level query that has nested queries (or refers to queries in an outer scope) will
   * have SelectElements that are ExportedSelectElement, the 'actualSelectElement' points directly
   * to the refered AST node, while 'target' refers to it indirectly (see target)
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; org.squeryl.dsl.ast.SelectElement" id="84824">actualSelectElement</a>: <a href="#10343" title="org.squeryl.dsl.ast.SelectElement">SelectElement</a> =
    <a href="#84832" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#18400" title="=&gt; org.squeryl.dsl.ast.SelectElement">actualSelectElement</a>

  <span class="comment">/**
   * target points to the selectElement that this ExportSelectElement refers to, who can
   * also be an ExportSelectElement, whose target will point to its inner select element,
   * recursively, until it becomes equal to the 'end' target, the actualSelectElement
   * In other words :
   *   exportSelectElement.target.target.,...,.target == exportSelectElement.actualSelectElement
   */</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.squeryl.dsl.ast.SelectElement" id="84826">target</a>: <a href="#10343" title="org.squeryl.dsl.ast.SelectElement">SelectElement</a> = <a href="#84831" title="=&gt; Option[org.squeryl.dsl.ast.SelectElement]">innerTarget</a>.<span title="(default: =&gt; org.squeryl.dsl.ast.SelectElement)org.squeryl.dsl.ast.SelectElement">getOrElse</span><span class="delimiter">(</span>
    <a href="#84830" title="=&gt; Option[org.squeryl.dsl.ast.SelectElement]">outerTarget</a>.<span title="(default: =&gt; org.squeryl.dsl.ast.SelectElement)org.squeryl.dsl.ast.SelectElement">getOrElse</span><span class="delimiter">(</span>org.squeryl.internals.<a href="../../internals/Utils.scala.html#10829" title="object org.squeryl.internals.Utils">Utils</a>.<a href="../../internals/Utils.scala.html#30502" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;could not find the target of : &quot;)" class="string">&quot;could not find the target of : &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#84832" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; List[org.squeryl.dsl.ast.QueryExpressionNode[_]]" id="84827">outerScopes</a>: <span title="List[org.squeryl.dsl.ast.QueryExpressionNode[_]]">List</span><span class="delimiter">[</span>QueryExpressionNode<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#84828" title="(current: org.squeryl.dsl.ast.ExpressionNode, scopes: List[org.squeryl.dsl.ast.QueryExpressionNode[_]])List[org.squeryl.dsl.ast.QueryExpressionNode[_]]">outerScopes0</a><span class="delimiter">(</span><a href="#10349" title="org.squeryl.dsl.ast.ExportedSelectElement" class="keyword">this</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span>

  @tailrec
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(current: org.squeryl.dsl.ast.ExpressionNode, scopes: List[org.squeryl.dsl.ast.QueryExpressionNode[_]])List[org.squeryl.dsl.ast.QueryExpressionNode[_]]" id="84828">outerScopes0</a><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.ExpressionNode" id="85410">current</a>: <a href="ExpressionNode.scala.html#10271" title="org.squeryl.dsl.ast.ExpressionNode">ExpressionNode</a>, <a title="List[org.squeryl.dsl.ast.QueryExpressionNode[_]]" id="85411">scopes</a>: <span title="List[org.squeryl.dsl.ast.QueryExpressionNode[_]]">List</span><span class="delimiter">[</span>QueryExpressionNode<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[org.squeryl.dsl.ast.QueryExpressionNode[_]]">List</span><span class="delimiter">[</span>QueryExpressionNode<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#85410" title="org.squeryl.dsl.ast.ExpressionNode">current</a>.<a href="ExpressionNode.scala.html#18086" title="=&gt; Option[org.squeryl.dsl.ast.ExpressionNode]">parent</a> <span title="List[org.squeryl.dsl.ast.QueryExpressionNode[_]]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[org.squeryl.dsl.ast.QueryExpressionNode[_]]">Some</span><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryExpressionNode[_]" id="85425">s</a>: <a href="QueryExpressionNode.scala.html#10333" title="org.squeryl.dsl.ast.QueryExpressionNode[_]">QueryExpressionNode</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <a href="#84828" title="(current: org.squeryl.dsl.ast.ExpressionNode, scopes: List[org.squeryl.dsl.ast.QueryExpressionNode[_]])List[org.squeryl.dsl.ast.QueryExpressionNode[_]]">outerScopes0</a><span class="delimiter">(</span><a href="#85425" title="org.squeryl.dsl.ast.QueryExpressionNode[_]">s</a>, <a href="#85411" title="List[org.squeryl.dsl.ast.QueryExpressionNode[_]]">scopes</a> <span title="(elem: org.squeryl.dsl.ast.QueryExpressionNode[_])(implicit bf: scala.collection.generic.CanBuildFrom[List[org.squeryl.dsl.ast.QueryExpressionNode[_]],org.squeryl.dsl.ast.QueryExpressionNode[_],List[org.squeryl.dsl.ast.QueryExpressionNode[_]]])List[org.squeryl.dsl.ast.QueryExpressionNode[_]]">:+</span> <a href="#85425" title="org.squeryl.dsl.ast.QueryExpressionNode[_]">s</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="List[org.squeryl.dsl.ast.QueryExpressionNode[_]]">Some</span><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.ExpressionNode" id="85519">n</a><span class="delimiter">)</span> =&gt; <a href="#84828" title="(current: org.squeryl.dsl.ast.ExpressionNode, scopes: List[org.squeryl.dsl.ast.QueryExpressionNode[_]])List[org.squeryl.dsl.ast.QueryExpressionNode[_]]">outerScopes0</a><span class="delimiter">(</span><a href="#85519" title="org.squeryl.dsl.ast.ExpressionNode">n</a>, <a href="#85411" title="List[org.squeryl.dsl.ast.QueryExpressionNode[_]]">scopes</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="List[org.squeryl.dsl.ast.QueryExpressionNode[_]]">None</span> =&gt; <a href="#85411" title="List[org.squeryl.dsl.ast.QueryExpressionNode[_]]">scopes</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="84829">isDirectOuterReference</a>: <span title="Boolean">Boolean</span> = <a href="#84827" title="=&gt; List[org.squeryl.dsl.ast.QueryExpressionNode[_]]">outerScopes</a>.<span title="(p: org.squeryl.dsl.ast.QueryExpressionNode[_] =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryExpressionNode[_]" id="85538">outer</a><span class="delimiter">)</span> =&gt; <a href="#85538" title="org.squeryl.dsl.ast.QueryExpressionNode[_]">outer</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#84832" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#18396" title="=&gt; org.squeryl.dsl.ast.QueryableExpressionNode">parentQueryable</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Option[org.squeryl.dsl.ast.SelectElement]" id="84830">outerTarget</a>: <span title="Option[org.squeryl.dsl.ast.SelectElement]">Option</span><span class="delimiter">[</span>SelectElement<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[org.squeryl.dsl.ast.SelectElement]" id="85543">q</a> =
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryExpressionNode[_]" id="85563">outer</a> &lt;- <a href="#84827" title="(f: org.squeryl.dsl.ast.QueryExpressionNode[_] =&gt; scala.collection.GenTraversableOnce[org.squeryl.dsl.ast.SelectElement])(implicit bf: scala.collection.generic.CanBuildFrom[List[org.squeryl.dsl.ast.QueryExpressionNode[_]],org.squeryl.dsl.ast.SelectElement,List[org.squeryl.dsl.ast.SelectElement]])List[org.squeryl.dsl.ast.SelectElement]">outerScopes</a>;
           <a title="org.squeryl.dsl.ast.QueryableExpressionNode" id="85580">subQuery</a> &lt;- <a href="#85563" title="org.squeryl.dsl.ast.QueryExpressionNode[_]">outer</a>.<a href="QueryExpressionNode.scala.html#70838" title="(f: org.squeryl.dsl.ast.QueryableExpressionNode =&gt; scala.collection.GenTraversableOnce[org.squeryl.dsl.ast.SelectElement])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[org.squeryl.dsl.ast.QueryableExpressionNode],org.squeryl.dsl.ast.SelectElement,Iterable[org.squeryl.dsl.ast.SelectElement]])Iterable[org.squeryl.dsl.ast.SelectElement]">subQueries</a>;
           <a title="org.squeryl.dsl.ast.SelectElement" id="85604">se</a> &lt;- <a href="#85580" title="org.squeryl.dsl.ast.QueryableExpressionNode">subQuery</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.dsl.ast.QueryExpressionElements" class="delimiter">[</span><a href="QueryExpressionElements.scala.html#10326" title="org.squeryl.dsl.ast.QueryExpressionElements">QueryExpressionElements</a><span class="delimiter">]</span>.<a href="QueryExpressionElements.scala.html#61943" title="(f: org.squeryl.dsl.ast.SelectElement =&gt; org.squeryl.dsl.ast.SelectElement)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[org.squeryl.dsl.ast.SelectElement],org.squeryl.dsl.ast.SelectElement,Iterable[org.squeryl.dsl.ast.SelectElement]])Iterable[org.squeryl.dsl.ast.SelectElement]">selectList</a>
             <span class="keyword">if</span> <a href="#85604" title="org.squeryl.dsl.ast.SelectElement">se</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#84832" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a> <span title="(x: Boolean)Boolean">||</span> <a href="#85604" title="org.squeryl.dsl.ast.SelectElement">se</a>.<a href="#18400" title="=&gt; org.squeryl.dsl.ast.SelectElement">actualSelectElement</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#84832" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a><span class="delimiter">)</span>
      <span class="keyword">yield</span> <a href="#85604" title="org.squeryl.dsl.ast.SelectElement">se</a>

    <a href="#85543" title="List[org.squeryl.dsl.ast.SelectElement]">q</a>.<span title="=&gt; Option[org.squeryl.dsl.ast.SelectElement]">headOption</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Option[org.squeryl.dsl.ast.SelectElement]" id="84831">innerTarget</a>: <span title="Option[org.squeryl.dsl.ast.SelectElement]">Option</span><span class="delimiter">[</span>SelectElement<span class="delimiter">]</span> =
    <span title="Option[org.squeryl.dsl.ast.SelectElement]" class="keyword">if</span><span class="delimiter">(</span><a href="ExpressionNode.scala.html#18086" title="=&gt; Option[org.squeryl.dsl.ast.ExpressionNode]">parent</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span>
      <span title="Nothing" class="keyword">return</span> <span title="object None">None</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.squeryl.dsl.ast.QueryExpressionElements" id="85721">parentOfThis</a> = <a href="ExpressionNode.scala.html#18086" title="=&gt; Option[org.squeryl.dsl.ast.ExpressionNode]">parent</a>.<span title="=&gt; org.squeryl.dsl.ast.ExpressionNode">get</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.dsl.ast.QueryExpressionElements" class="delimiter">[</span><a href="QueryExpressionElements.scala.html#10326" title="org.squeryl.dsl.ast.QueryExpressionElements">QueryExpressionElements</a><span class="delimiter">]</span>

      <span title="Option[org.squeryl.dsl.ast.SelectElement]" class="keyword">if</span><span class="delimiter">(</span><a href="#84832" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a>.<a href="#18395" title="=&gt; org.squeryl.dsl.ast.QueryableExpressionNode">origin</a>.<a href="ExpressionNode.scala.html#18086" title="=&gt; Option[org.squeryl.dsl.ast.ExpressionNode]">parent</a>.<span title="=&gt; org.squeryl.dsl.ast.ExpressionNode">get</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#85721" title="org.squeryl.dsl.ast.QueryExpressionElements">parentOfThis</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="(x: org.squeryl.dsl.ast.SelectElement)Some[org.squeryl.dsl.ast.SelectElement]">Some</span><span class="delimiter">(</span><a href="#84832" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Iterable[org.squeryl.dsl.ast.SelectElement]" id="85730">q</a> =
          <span class="keyword">for</span><span class="delimiter">(</span><a title="org.squeryl.dsl.ast.QueryableExpressionNode" id="85750">q</a> &lt;- <a href="#85721" title="org.squeryl.dsl.ast.QueryExpressionElements">parentOfThis</a>.<a href="QueryExpressionElements.scala.html#61941" title="(f: org.squeryl.dsl.ast.QueryableExpressionNode =&gt; scala.collection.GenTraversableOnce[org.squeryl.dsl.ast.SelectElement])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[org.squeryl.dsl.ast.QueryableExpressionNode],org.squeryl.dsl.ast.SelectElement,Iterable[org.squeryl.dsl.ast.SelectElement]])Iterable[org.squeryl.dsl.ast.SelectElement]">subQueries</a>;
              <a title="org.squeryl.dsl.ast.SelectElement" id="85772">se</a> &lt;- <a href="#85750" title="org.squeryl.dsl.ast.QueryableExpressionNode">q</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.dsl.ast.QueryExpressionElements" class="delimiter">[</span><a href="QueryExpressionElements.scala.html#10326" title="org.squeryl.dsl.ast.QueryExpressionElements">QueryExpressionElements</a><span class="delimiter">]</span>.<a href="QueryExpressionElements.scala.html#61943" title="(f: org.squeryl.dsl.ast.SelectElement =&gt; org.squeryl.dsl.ast.SelectElement)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[org.squeryl.dsl.ast.SelectElement],org.squeryl.dsl.ast.SelectElement,Iterable[org.squeryl.dsl.ast.SelectElement]])Iterable[org.squeryl.dsl.ast.SelectElement]">selectList</a> <span class="keyword">if</span> <a href="#85772" title="org.squeryl.dsl.ast.SelectElement">se</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#84832" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a> <span title="(x: Boolean)Boolean">||</span> <a href="#85772" title="org.squeryl.dsl.ast.SelectElement">se</a>.<a href="#18400" title="=&gt; org.squeryl.dsl.ast.SelectElement">actualSelectElement</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#84832" title="=&gt; org.squeryl.dsl.ast.SelectElement">selectElement</a><span class="delimiter">)</span>
          <span class="keyword">yield</span> <a href="#85772" title="org.squeryl.dsl.ast.SelectElement">se</a>

        <a href="#85730" title="Iterable[org.squeryl.dsl.ast.SelectElement]">q</a>.<span title="=&gt; Option[org.squeryl.dsl.ast.SelectElement]">headOption</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>