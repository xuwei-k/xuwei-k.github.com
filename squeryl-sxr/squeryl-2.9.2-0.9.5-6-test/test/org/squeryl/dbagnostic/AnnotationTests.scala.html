<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>test/org/squeryl/dbagnostic/AnnotationTests.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> org.squeryl.dbagnostic

<span class="comment">/*******************************************************************************
 * Copyright 2010 Maxime LÃ©vesque
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ***************************************************************************** */</span>

<span class="keyword">import</span> org.squeryl.KeyedEntity
<span class="keyword">import</span> org.squeryl.annotations.<span class="delimiter">{</span>Row, Column<span class="delimiter">}</span>
<span class="keyword">import</span> org.squeryl.Schema
<span class="keyword">import</span> java.util.Date
<span class="keyword">import</span> org.scalatest.FunSuite
<span class="keyword">import</span> org.scalatest.matchers.ShouldMatchers

@Row<span class="delimiter">(</span><span class="string">&quot;T_TOASTER&quot;</span><span class="delimiter">)</span>
<span class="keyword">class</span> <a title="class Toaster extends java.lang.Object with ScalaObject" id="10895">Toaster</a><a href="#10895" title="ScalaObject" class="delimiter">(</a>

  @Column<span class="delimiter">(</span>optionType=classOf<span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="keyword">var</span> <a title="Option[Int]" id="113977">yearOfManufacture</a>: <span title="Option[Int]">Option</span><span class="delimiter">[</span>Int<span class="delimiter">]</span>,

<span class="comment">// TODO: uncomment when scalac bug #3003 is resolved</span>
<span class="comment">//  @Column(optionType=classOf[String], length=25)</span>
<span class="comment">//  var countryOfOrigin: Option[String],</span>

<span class="comment">//  @Column(name=&quot;dateOfPurchase&quot;, optionType=classOf[java.util.Date])</span>
<span class="comment">//  var dateOfPurchase: Option[java.util.Date]</span>

  @Column<span class="delimiter">(</span>length=<span class="int">25</span><span class="delimiter">)</span>
  <span class="keyword">var</span> <a title="String" id="113978">countryOfOrigin</a>: <span title="String">String</span>,

  @Column<span class="delimiter">(</span>name=<span class="string">&quot;BRAND_NAME&quot;</span>, length=<span class="int">32</span><span class="delimiter">)</span>
  <span class="keyword">var</span> <a title="String" id="113979">brandName</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>

  @Column<span class="delimiter">(</span>name=<span class="string">&quot;WEIGHT&quot;</span>, optionType=classOf<span class="delimiter">[</span>Float<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="keyword">var</span> <a title="Option[String]" id="113946">weightInGrams</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="object None">None</span>

  @Column<span class="delimiter">(</span><span class="string">&quot;Zozo12&quot;</span><span class="delimiter">)</span>
  <span class="keyword">var</span> <a title="String" id="113949">zozo</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>

<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class NailCutter extends java.lang.Object with org.squeryl.KeyedEntity[Long] with ScalaObject" id="10896">NailCutter</a> <a href="#10896" title="ScalaObject" class="keyword">extends</a> <a href="../../../../main/org/squeryl/KeyedEntity.scala.html#9788" title="org.squeryl.KeyedEntity[Long]">KeyedEntity</a><span class="delimiter">[</span>Long<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">val</span> <a title="Long" id="113988">id</a>: <span title="Long">Long</span> = <span title="Long(0L)" class="int">0</span>
<span class="delimiter">}</span>


<span class="keyword">class</span> <a title="class KeyedObject extends java.lang.Object with org.squeryl.KeyedEntity[Long] with ScalaObject" id="10897">KeyedObject</a> <a href="#10897" title="ScalaObject" class="keyword">extends</a> <a href="../../../../main/org/squeryl/KeyedEntity.scala.html#9788" title="org.squeryl.KeyedEntity[Long]">KeyedEntity</a><span class="delimiter">[</span>Long<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">val</span> <a title="Long" id="113992">id</a>: <span title="Long">Long</span> = <span title="Long(0L)" class="int">0</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class DescendantOfKeyedObject extends org.squeryl.dbagnostic.KeyedObject with ScalaObject" id="10898">DescendantOfKeyedObject</a> <a href="#10898" title="ScalaObject" class="keyword">extends</a> <a href="#10897" title="org.squeryl.dbagnostic.KeyedObject">KeyedObject</a> <span class="delimiter">{</span>
  <span class="comment">//val pouf = &quot;pouf&quot;</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class AnnotationTests extends java.lang.Object with org.scalatest.FunSuite with org.scalatest.matchers.ShouldMatchers with ScalaObject" id="10899">AnnotationTests</a> <a href="#10899" title="ScalaObject" class="keyword">extends</a> <span title="org.scalatest.FunSuite">FunSuite</span> <span class="keyword">with</span> <span title="org.scalatest.matchers.ShouldMatchers">ShouldMatchers</span><span class="delimiter">{</span>


  <span class="keyword">class</span> <a title="class C extends java.lang.Object with ScalaObject" id="114448">C</a><a href="#114448" title="ScalaObject" class="delimiter">(</a>
    @Column<span class="delimiter">(</span>optionType=classOf<span class="delimiter">[</span>Long<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">var</span> <a title="Option[Long]" id="116288">j</a>: <span title="Option[Long]">Option</span><span class="delimiter">[</span>Long<span class="delimiter">]</span>,
    @Column<span class="delimiter">(</span>optionType=classOf<span class="delimiter">[</span>java.lang.String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">var</span> <a title="Option[String]" id="116289">k</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">(</span>

    @Column<span class="delimiter">(</span>optionType=classOf<span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">)</span>
    <span class="keyword">var</span> <a title="Option[Int]" id="116290">i</a>:<span title="Option[Int]">Option</span><span class="delimiter">[</span>Int<span class="delimiter">]</span>
  <span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; Unit" id="114449">allTests</a> = <span title="Unit" class="delimiter">{</span>
    <span class="comment">//rudimentaryTests</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class ToastersInc extends java.lang.Object with org.squeryl.Schema with ScalaObject" id="114450">ToastersInc</a> <a href="#114450" title="ScalaObject" class="keyword">extends</a> <a href="../../../../main/org/squeryl/Schema.scala.html#9839" title="org.squeryl.Schema">Schema</a> <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="org.squeryl.Table[org.squeryl.dbagnostic.DescendantOfKeyedObject]" id="116304">descendantOfKeyedObjects</a> = <a href="../../../../main/org/squeryl/Schema.scala.html#14359" title="[T]()(implicit manifestT: scala.reflect.Manifest[T])org.squeryl.Table[T]">table</a><span title="()(implicit manifestT: scala.reflect.Manifest[org.squeryl.dbagnostic.DescendantOfKeyedObject])org.squeryl.Table[org.squeryl.dbagnostic.DescendantOfKeyedObject]" class="delimiter">[</span><a href="#10898" title="org.squeryl.dbagnostic.DescendantOfKeyedObject">DescendantOfKeyedObject</a><span class="delimiter">]</span>

    <span class="keyword">val</span> <a title="org.squeryl.Table[org.squeryl.dbagnostic.NailCutter]" id="116306">nailCutters</a> = <a href="../../../../main/org/squeryl/Schema.scala.html#14359" title="[T]()(implicit manifestT: scala.reflect.Manifest[T])org.squeryl.Table[T]">table</a><span title="()(implicit manifestT: scala.reflect.Manifest[org.squeryl.dbagnostic.NailCutter])org.squeryl.Table[org.squeryl.dbagnostic.NailCutter]" class="delimiter">[</span><a href="#10896" title="org.squeryl.dbagnostic.NailCutter">NailCutter</a><span class="delimiter">]</span>

    <span class="keyword">val</span> <a title="org.squeryl.Table[org.squeryl.dbagnostic.Toaster]" id="116308">toasters</a> = <a href="../../../../main/org/squeryl/Schema.scala.html#14359" title="[T]()(implicit manifestT: scala.reflect.Manifest[T])org.squeryl.Table[T]">table</a><span title="()(implicit manifestT: scala.reflect.Manifest[org.squeryl.dbagnostic.Toaster])org.squeryl.Table[org.squeryl.dbagnostic.Toaster]" class="delimiter">[</span><a href="#10895" title="org.squeryl.dbagnostic.Toaster">Toaster</a><span class="delimiter">]</span>
  <span class="delimiter">}</span>

  <span class="comment">//test(&quot;MetaData&quot;){</span>

  <span class="keyword">def</span> <a title="=&gt; Unit" id="114451">reflectionBrokenIn_2_9_0_RCx</a> = <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="AnnotationTests.this.ToastersInc" id="116497">ti</a> = <span title="AnnotationTests.this.ToastersInc" class="keyword">new</span> <a href="#114450" title="AnnotationTests.this.ToastersInc">ToastersInc</a>
    <span class="keyword">import</span> <a href="#116497" title="AnnotationTests.this.ToastersInc">ti</a>._


    <span class="keyword">val</span> <a title="Option[org.squeryl.internals.FieldMetaData]" id="116499">_isPersistedFmd</a> = <a href="#116304" title="=&gt; org.squeryl.Table[org.squeryl.dbagnostic.DescendantOfKeyedObject]">descendantOfKeyedObjects</a>.<a href="../../../../main/org/squeryl/View.scala.html#20455" title="=&gt; org.squeryl.internals.PosoMetaData[org.squeryl.dbagnostic.DescendantOfKeyedObject]">posoMetaData</a>.<a href="../../../../main/org/squeryl/internals/PosoMetaData.scala.html#34982" title="(name: String)Option[org.squeryl.internals.FieldMetaData]">findFieldMetaDataForProperty</a><span class="delimiter">(</span><span title="java.lang.String(&quot;_isPersisted&quot;)" class="string">&quot;_isPersisted&quot;</span><span class="delimiter">)</span>

    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#116499" title="Option[org.squeryl.internals.FieldMetaData]">_isPersistedFmd</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object None">None</span><span class="delimiter">)</span>
      <a href="#10899" title="(message: String)Nothing">fail</a><span class="delimiter">(</span><span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="symbol">'testMetaData</span> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; failed, @transient annotation of field _isPersisted was not effective.&quot;)" class="string">&quot; failed, @transient annotation of field _isPersisted was not effective.&quot;</span><span class="delimiter">)</span>

    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#116304" title="=&gt; org.squeryl.Table[org.squeryl.dbagnostic.DescendantOfKeyedObject]">descendantOfKeyedObjects</a>.<a href="../../../../main/org/squeryl/View.scala.html#20454" title="(name: String)Option[org.squeryl.internals.FieldMetaData]">findFieldMetaDataForProperty</a><span class="delimiter">(</span><span title="java.lang.String(&quot;id&quot;)" class="string">&quot;id&quot;</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span>
      <a href="#10899" title="(message: String)Nothing">fail</a><span class="delimiter">(</span><span title="java.lang.String(&quot;PosoMetaData has failed to build immutable field \'id\'.&quot;)" class="string">&quot;PosoMetaData has failed to build immutable field 'id'.&quot;</span><span class="delimiter">)</span>

    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#116306" title="=&gt; org.squeryl.Table[org.squeryl.dbagnostic.NailCutter]">nailCutters</a>.<a href="../../../../main/org/squeryl/View.scala.html#20454" title="(name: String)Option[org.squeryl.internals.FieldMetaData]">findFieldMetaDataForProperty</a><span class="delimiter">(</span><span title="java.lang.String(&quot;id&quot;)" class="string">&quot;id&quot;</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span>
      <a href="#10899" title="(message: String)Nothing">fail</a><span class="delimiter">(</span><span title="java.lang.String(&quot;PosoMetaData has failed to build immutable field \'id\'.&quot;)" class="string">&quot;PosoMetaData has failed to build immutable field 'id'.&quot;</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.internals.FieldMetaData" id="116500">brandNameMD</a> = <a href="#116308" title="=&gt; org.squeryl.Table[org.squeryl.dbagnostic.Toaster]">toasters</a>.<a href="../../../../main/org/squeryl/View.scala.html#20454" title="(name: String)Option[org.squeryl.internals.FieldMetaData]">findFieldMetaDataForProperty</a><span class="delimiter">(</span><span title="java.lang.String(&quot;brandName&quot;)" class="string">&quot;brandName&quot;</span><span class="delimiter">)</span>.<span title="=&gt; org.squeryl.internals.FieldMetaData">get</span>
    <a href="#10899" title="(condition: Boolean, clue: Any)Unit">assert</a><span class="delimiter">(</span><a href="#116500" title="org.squeryl.internals.FieldMetaData">brandNameMD</a>.<a href="../../../../main/org/squeryl/internals/FieldMetaData.scala.html#46131" title="=&gt; String">columnName</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;BRAND_NAME&quot;)" class="string">&quot;BRAND_NAME&quot;</span>, <span title="java.lang.String(&quot;expected \'BRAND_NAME\' got &quot;)" class="string">&quot;expected 'BRAND_NAME' got &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#116500" title="org.squeryl.internals.FieldMetaData">brandNameMD</a>.<a href="../../../../main/org/squeryl/internals/FieldMetaData.scala.html#46131" title="=&gt; String">columnName</a><span class="delimiter">)</span>
    <a href="#10899" title="(condition: Boolean, clue: Any)Unit">assert</a><span class="delimiter">(</span><a href="#116500" title="org.squeryl.internals.FieldMetaData">brandNameMD</a>.<a href="../../../../main/org/squeryl/internals/FieldMetaData.scala.html#46128" title="=&gt; Int">length</a> <span title="(x: Int)Boolean">==</span> <span title="Int(32)" class="int">32</span>, <span title="java.lang.String(&quot;expected 32 got &quot;)" class="string">&quot;expected 32 got &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#116500" title="org.squeryl.internals.FieldMetaData">brandNameMD</a>.<a href="../../../../main/org/squeryl/internals/FieldMetaData.scala.html#46128" title="=&gt; Int">length</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.internals.FieldMetaData" id="116501">yearOfManufacture</a> = <a href="#116308" title="=&gt; org.squeryl.Table[org.squeryl.dbagnostic.Toaster]">toasters</a>.<a href="../../../../main/org/squeryl/View.scala.html#20454" title="(name: String)Option[org.squeryl.internals.FieldMetaData]">findFieldMetaDataForProperty</a><span class="delimiter">(</span><span title="java.lang.String(&quot;yearOfManufacture&quot;)" class="string">&quot;yearOfManufacture&quot;</span><span class="delimiter">)</span>.<span title="=&gt; org.squeryl.internals.FieldMetaData">get</span>
    <a href="#10899" title="(condition: Boolean, clue: Any)Unit">assert</a><span class="delimiter">(</span><a href="#116501" title="org.squeryl.internals.FieldMetaData">yearOfManufacture</a>.<a href="../../../../main/org/squeryl/internals/FieldMetaData.scala.html#46131" title="=&gt; String">columnName</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;yearOfManufacture&quot;)" class="string">&quot;yearOfManufacture&quot;</span>, <span title="java.lang.String(&quot;expected \'yearOfManufacture\' got &quot;)" class="string">&quot;expected 'yearOfManufacture' got &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#116501" title="org.squeryl.internals.FieldMetaData">yearOfManufacture</a>.<a href="../../../../main/org/squeryl/internals/FieldMetaData.scala.html#46131" title="=&gt; String">columnName</a><span class="delimiter">)</span>
    <a href="#10899" title="(condition: Boolean, clue: Any)Unit">assert</a><span class="delimiter">(</span><a href="#116501" title="org.squeryl.internals.FieldMetaData">yearOfManufacture</a>.<a href="../../../../main/org/squeryl/internals/FieldMetaData.scala.html#46128" title="=&gt; Int">length</a> <span title="(x: Int)Boolean">==</span> <span title="Int(4)" class="int">4</span>, <span title="java.lang.String(&quot;expected 4 got &quot;)" class="string">&quot;expected 4 got &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#116501" title="org.squeryl.internals.FieldMetaData">yearOfManufacture</a>.<a href="../../../../main/org/squeryl/internals/FieldMetaData.scala.html#46128" title="=&gt; Int">length</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.internals.FieldMetaData" id="116502">zozo</a> = <a href="#116308" title="=&gt; org.squeryl.Table[org.squeryl.dbagnostic.Toaster]">toasters</a>.<a href="../../../../main/org/squeryl/View.scala.html#20454" title="(name: String)Option[org.squeryl.internals.FieldMetaData]">findFieldMetaDataForProperty</a><span class="delimiter">(</span><span title="java.lang.String(&quot;zozo&quot;)" class="string">&quot;zozo&quot;</span><span class="delimiter">)</span>.<span title="=&gt; org.squeryl.internals.FieldMetaData">get</span>
    <a href="#10899" title="(condition: Boolean, clue: Any)Unit">assert</a><span class="delimiter">(</span><a href="#116502" title="org.squeryl.internals.FieldMetaData">zozo</a>.<a href="../../../../main/org/squeryl/internals/FieldMetaData.scala.html#46131" title="=&gt; String">columnName</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;Zozo12&quot;)" class="string">&quot;Zozo12&quot;</span>, <span title="java.lang.String(&quot;expected \'zozo\' got &quot;)" class="string">&quot;expected 'zozo' got &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#116502" title="org.squeryl.internals.FieldMetaData">zozo</a>.<a href="../../../../main/org/squeryl/internals/FieldMetaData.scala.html#46131" title="=&gt; String">columnName</a><span class="delimiter">)</span>

<span class="comment">// TODO: uncomment when scalac bug #3003 is resolved</span>
<span class="comment">//    val dateOfPurchase = toasters.findFieldMetaDataForProperty(&quot;dateOfPurchase&quot;).get</span>
<span class="comment">//    assert(dateOfPurchase.columnName == &quot;dateOfPurchase&quot;, &quot;expected 'dateOfPurchase' got &quot; + dateOfPurchase.columnName)</span>
<span class="comment">//    assert(dateOfPurchase.length == -1, &quot;expected -1 got &quot; + dateOfPurchase.length)</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * There has been a Scala bug with obtaining a Class[_] member in annotations,
   * if this test fails, it means that Scala has regressed TODO: file a bug
   */</span>
  <a href="#10899" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a><span class="delimiter">(</span><span title="java.lang.String(&quot;scalaReflectionTests&quot;)" class="string">&quot;scalaReflectionTests&quot;</span><span class="delimiter">)</span><span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[java.lang.annotation.Annotation]" id="116593">colAnotations</a> =
      classOf<span title="java.lang.Class[AnnotationTests.this.C](classOf[org.squeryl.dbagnostic.AnnotationTests$C])" class="delimiter">[</span>C<span class="delimiter">]</span>.<span title="(xs: Array[java.lang.reflect.Field])scala.collection.mutable.ArrayOps[java.lang.reflect.Field]">getDeclaredFields</span>.<span title="=&gt; List[java.lang.reflect.Field]">toList</span>.<span title="(f: java.lang.reflect.Field =&gt; java.lang.String)(implicit ord: scala.math.Ordering[java.lang.String])List[java.lang.reflect.Field]">sortBy</span><span title="object scala.math.Ordering.String" class="delimiter">(</span><a title="java.lang.reflect.Field" id="116709">f</a> =&gt; <a href="#116709" title="java.lang.reflect.Field">f</a>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>.<span title="(f: java.lang.reflect.Field =&gt; List[java.lang.annotation.Annotation])(implicit bf: scala.collection.generic.CanBuildFrom[List[java.lang.reflect.Field],List[java.lang.annotation.Annotation],List[List[java.lang.annotation.Annotation]]])List[List[java.lang.annotation.Annotation]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,List[java.lang.annotation.Annotation],List[List[java.lang.annotation.Annotation]]]" class="delimiter">(</span><a title="java.lang.reflect.Field" id="116854">f</a> =&gt; <a href="#116854" title="java.lang.reflect.Field">f</a>.<span title="(xs: Array[java.lang.annotation.Annotation])scala.collection.mutable.ArrayOps[java.lang.annotation.Annotation]">getAnnotations</span>.<span title="=&gt; List[java.lang.annotation.Annotation]">toList</span><span class="delimiter">)</span>.<span title="(implicit asTraversable: List[java.lang.annotation.Annotation] =&gt; scala.collection.TraversableOnce[java.lang.annotation.Annotation])List[java.lang.annotation.Annotation]">flatten</span>

    <span class="keyword">val</span> <a title="Int" id="116594">c</a> = <a href="#116593" title="List[java.lang.annotation.Annotation]">colAnotations</a>.<span title="=&gt; Int">size</span>
    <a href="#10899" title="(condition: Boolean, clue: Any)Unit">assert</a><span class="delimiter">(</span><a href="#116594" title="Int">c</a> <span title="(x: Int)Boolean">==</span> <span title="Int(3)" class="int">3</span>, <span title="java.lang.String(&quot;class &quot;)" class="string">&quot;class &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> classOf<span title="java.lang.Class[AnnotationTests.this.C](classOf[org.squeryl.dbagnostic.AnnotationTests$C])" class="delimiter">[</span>C<span class="delimiter">]</span>.<span title="()java.lang.String">getName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; has 3 field annotations of type Column that have failed to be reflected, &quot;)" class="string">&quot; has 3 field annotations of type Column that have failed to be reflected, &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#116594" title="Int">c</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; were reflected&quot;)" class="string">&quot; were reflected&quot;</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="java.lang.Class[_]" id="116595">t1</a> = <a href="#116593" title="List[java.lang.annotation.Annotation]">colAnotations</a>.<span title="(n: Int)java.lang.annotation.Annotation">apply</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.annotations.package.Column" class="delimiter">[</span><a href="../../../../main/org/squeryl/annotations/ColumnBase.java.html#9950" title="org.squeryl.annotations.package.Column">Column</a><span class="delimiter">]</span>.<a href="../../../../main/org/squeryl/annotations/ColumnBase.java.html#43322" title="()java.lang.Class[_]">optionType</a>
    <span class="keyword">val</span> <a title="java.lang.Class[_]" id="116596">t2</a> = <a href="#116593" title="List[java.lang.annotation.Annotation]">colAnotations</a>.<span title="(n: Int)java.lang.annotation.Annotation">apply</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.annotations.package.Column" class="delimiter">[</span><a href="../../../../main/org/squeryl/annotations/ColumnBase.java.html#9950" title="org.squeryl.annotations.package.Column">Column</a><span class="delimiter">]</span>.<a href="../../../../main/org/squeryl/annotations/ColumnBase.java.html#43322" title="()java.lang.Class[_]">optionType</a>
    <span class="keyword">val</span> <a title="java.lang.Class[_]" id="116597">t3</a> = <a href="#116593" title="List[java.lang.annotation.Annotation]">colAnotations</a>.<span title="(n: Int)java.lang.annotation.Annotation">apply</span><span class="delimiter">(</span><span title="Int(2)" class="int">2</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.squeryl.annotations.package.Column" class="delimiter">[</span><a href="../../../../main/org/squeryl/annotations/ColumnBase.java.html#9950" title="org.squeryl.annotations.package.Column">Column</a><span class="delimiter">]</span>.<a href="../../../../main/org/squeryl/annotations/ColumnBase.java.html#43322" title="()java.lang.Class[_]">optionType</a>

    <a href="#10899" title="(condition: Boolean, clue: Any)Unit">assert</a><span class="delimiter">(</span>classOf<span title="java.lang.Class[Int](classOf[scala.Int])" class="delimiter">[</span>Int<span class="delimiter">]</span>.<span title="(x$1: java.lang.Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#116595" title="java.lang.Class[_]">t1</a><span class="delimiter">)</span>, <span title="java.lang.String(&quot;expected classOf[Int], got &quot;)" class="string">&quot;expected classOf[Int], got &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#116595" title="java.lang.Class[_]">t1</a>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>
    <a href="#10899" title="(condition: Boolean, clue: Any)Unit">assert</a><span class="delimiter">(</span>classOf<span title="java.lang.Class[Long](classOf[scala.Long])" class="delimiter">[</span>Long<span class="delimiter">]</span>.<span title="(x$1: java.lang.Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#116596" title="java.lang.Class[_]">t2</a><span class="delimiter">)</span>, <span title="java.lang.String(&quot;expected classOf[Long], got &quot;)" class="string">&quot;expected classOf[Long], got &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#116596" title="java.lang.Class[_]">t2</a>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>
    <a href="#10899" title="(condition: Boolean, clue: Any)Unit">assert</a><span class="delimiter">(</span>classOf<span title="java.lang.Class[String](classOf[java.lang.String])" class="delimiter">[</span>String<span class="delimiter">]</span>.<span title="(x$1: java.lang.Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#116597" title="java.lang.Class[_]">t3</a><span class="delimiter">)</span>, <span title="java.lang.String(&quot;expected classOf[String], got &quot;)" class="string">&quot;expected classOf[String], got &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#116597" title="java.lang.Class[_]">t3</a>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>