<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>test/org/squeryl/test/schooldb2/SchoolDb2.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> org.squeryl.test.schooldb2

<span class="keyword">import</span> org.squeryl.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#9807" title="object org.squeryl.PrimitiveTypeMode">PrimitiveTypeMode</a>._
<span class="keyword">import</span> org.squeryl._
<span class="keyword">import</span> dsl.ast._
<span class="keyword">import</span> dsl.<span class="delimiter">{</span>OneToMany, CompositeKey2<span class="delimiter">}</span>
<span class="keyword">import</span> java.sql.<span class="delimiter">{</span>Savepoint<span class="delimiter">}</span>

<span class="keyword">import</span> org.squeryl.framework._

<span class="keyword">trait</span> <a title="trait SchoolDb2Object extends java.lang.Object with org.squeryl.KeyedEntity[Long] with ScalaObject" id="11253">SchoolDb2Object</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#9788" title="org.squeryl.KeyedEntity[Long]">KeyedEntity</a><span class="delimiter">[</span>Long<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">val</span> <a title="Long" id="234351">id</a>: <span title="Long">Long</span> = <span title="Long(0L)" class="int">0</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object org.squeryl.test.schooldb2.SchoolDb2" id="11254">SchoolDb2</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11272" title="org.squeryl.test.schooldb2.SchoolDb2">SchoolDb2</a>

<span class="keyword">class</span> <a title="class Professor extends java.lang.Object with org.squeryl.test.schooldb2.SchoolDb2Object with ScalaObject" id="11257">Professor</a><a href="#11257" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="234602">lastName</a>: <span title="String">String</span>, <span class="keyword">var</span> <a title="Option[Long]" id="234605">bossId</a>: <span title="Option[Long]">Option</span><span class="delimiter">[</span>Long<span class="delimiter">]</span>=<span title="object None">None</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11253" title="org.squeryl.test.schooldb2.SchoolDb2Object">SchoolDb2Object</a> <span class="delimiter">{</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ManyToManyRelationImpl extends org.squeryl.Query[org.squeryl.test.schooldb2.Course] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]" id="234399">courses</a> = <a href="#11254" title="object org.squeryl.test.schooldb2.SchoolDb2">SchoolDb2</a>.<a href="#234370" title="=&gt; org.squeryl.PrimitiveTypeMode.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#77539" title="(leftSideMember: org.squeryl.test.schooldb2.Professor)org.squeryl.Query[org.squeryl.test.schooldb2.Course] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]">left</a><span class="delimiter">(</span><a href="#11257" title="org.squeryl.test.schooldb2.Professor" class="keyword">this</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class Course extends java.lang.Object with org.squeryl.test.schooldb2.SchoolDb2Object with ScalaObject" id="11259">Course</a><a href="#11259" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="Long" id="234872">subjectId</a>: <span title="Long">Long</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11253" title="org.squeryl.test.schooldb2.SchoolDb2Object">SchoolDb2Object</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="()org.squeryl.test.schooldb2.Course" id="234464" class="keyword">this</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#11259" title="Course.this.type" class="keyword">this</a><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span><span class="delimiter">)</span>

  <span class="comment">// Lets support the case where a course can have more than one professor</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ManyToManyRelationImpl extends org.squeryl.Query[org.squeryl.test.schooldb2.Professor] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.CourseAssignment]" id="234466">professors</a> = <a href="#11254" title="object org.squeryl.test.schooldb2.SchoolDb2">SchoolDb2</a>.<a href="#234370" title="=&gt; org.squeryl.PrimitiveTypeMode.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#77540" title="(rightSideMember: org.squeryl.test.schooldb2.Course)org.squeryl.Query[org.squeryl.test.schooldb2.Professor] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.CourseAssignment]">right</a><span class="delimiter">(</span><a href="#11259" title="org.squeryl.test.schooldb2.Course" class="keyword">this</a><span class="delimiter">)</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ManyToManyRelationImpl extends org.squeryl.Query[org.squeryl.test.schooldb2.Student] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.CourseSubscription]" id="234468">students</a> = <a href="#11254" title="object org.squeryl.test.schooldb2.SchoolDb2">SchoolDb2</a>.<a href="#234372" title="=&gt; org.squeryl.PrimitiveTypeMode.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.CourseSubscription]">courseSubscriptions</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#77539" title="(leftSideMember: org.squeryl.test.schooldb2.Course)org.squeryl.Query[org.squeryl.test.schooldb2.Student] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.CourseSubscription]">left</a><span class="delimiter">(</span><a href="#11259" title="org.squeryl.test.schooldb2.Course" class="keyword">this</a><span class="delimiter">)</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.squeryl.dsl.ManyToOne[org.squeryl.test.schooldb2.Subject]" id="234470">subject</a> = <a href="#11254" title="object org.squeryl.test.schooldb2.SchoolDb2">SchoolDb2</a>.<a href="#234374" title="=&gt; org.squeryl.PrimitiveTypeMode.OneToManyRelationImpl[org.squeryl.test.schooldb2.Subject,org.squeryl.test.schooldb2.Course]">subjectToCourses</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#79951" title="(rightSide: org.squeryl.test.schooldb2.Course)org.squeryl.dsl.ManyToOne[org.squeryl.test.schooldb2.Subject]">right</a><span class="delimiter">(</span><a href="#11259" title="org.squeryl.test.schooldb2.Course" class="keyword">this</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class Student extends java.lang.Object with org.squeryl.test.schooldb2.SchoolDb2Object with ScalaObject" id="11260">Student</a><a href="#11260" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="234889">firstName</a>: <span title="String">String</span>, <span class="keyword">val</span> <a title="String" id="234890">lastName</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11253" title="org.squeryl.test.schooldb2.SchoolDb2Object">SchoolDb2Object</a> <span class="delimiter">{</span>  
  
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ManyToManyRelationImpl extends org.squeryl.Query[org.squeryl.test.schooldb2.Course] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseSubscription]" id="234643">courses</a> = <a href="#11254" title="object org.squeryl.test.schooldb2.SchoolDb2">SchoolDb2</a>.<a href="#234372" title="=&gt; org.squeryl.PrimitiveTypeMode.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.CourseSubscription]">courseSubscriptions</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#77540" title="(rightSideMember: org.squeryl.test.schooldb2.Student)org.squeryl.Query[org.squeryl.test.schooldb2.Course] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseSubscription]">right</a><span class="delimiter">(</span><a href="#11260" title="org.squeryl.test.schooldb2.Student" class="keyword">this</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; org.squeryl.dsl.CompositeKey2[String,String]" id="234644">fullName</a> = <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15347" title="(a1: String, a2: String)org.squeryl.dsl.CompositeKey2[String,String]">compositeKey</a><span class="delimiter">(</span><a href="#234889" title="=&gt; String">firstName</a>, <a href="#234890" title="=&gt; String">lastName</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class Subject extends java.lang.Object with org.squeryl.test.schooldb2.SchoolDb2Object with ScalaObject" id="11261">Subject</a><a href="#11261" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="235044">name</a>: <span title="String">String</span>, <span class="keyword">val</span> <a title="Option[Long]" id="235045">parentSubjectId</a>: <span title="Option[Long]">Option</span><span class="delimiter">[</span>Long<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11253" title="org.squeryl.test.schooldb2.SchoolDb2Object">SchoolDb2Object</a> <span class="delimiter">{</span>
  
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Course]" id="234800">courses</a> = <a href="#11254" title="object org.squeryl.test.schooldb2.SchoolDb2">SchoolDb2</a>.<a href="#234374" title="=&gt; org.squeryl.PrimitiveTypeMode.OneToManyRelationImpl[org.squeryl.test.schooldb2.Subject,org.squeryl.test.schooldb2.Course]">subjectToCourses</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#79950" title="(leftSide: org.squeryl.test.schooldb2.Subject)org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Course]">left</a><span class="delimiter">(</span><a href="#11261" title="org.squeryl.test.schooldb2.Subject" class="keyword">this</a><span class="delimiter">)</span>
  
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Subject]" id="234802">childSubjects</a> = <a href="#11254" title="object org.squeryl.test.schooldb2.SchoolDb2">SchoolDb2</a>.<a href="#234378" title="=&gt; org.squeryl.PrimitiveTypeMode.OneToManyRelationImpl[org.squeryl.test.schooldb2.Subject,org.squeryl.test.schooldb2.Subject]">subjectToParentSubject</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#79950" title="(leftSide: org.squeryl.test.schooldb2.Subject)org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Subject]">left</a><span class="delimiter">(</span><a href="#11261" title="org.squeryl.test.schooldb2.Subject" class="keyword">this</a><span class="delimiter">)</span>
  
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.squeryl.dsl.ManyToOne[org.squeryl.test.schooldb2.Subject]" id="234804">parentSubject</a> = <a href="#11254" title="object org.squeryl.test.schooldb2.SchoolDb2">SchoolDb2</a>.<a href="#234378" title="=&gt; org.squeryl.PrimitiveTypeMode.OneToManyRelationImpl[org.squeryl.test.schooldb2.Subject,org.squeryl.test.schooldb2.Subject]">subjectToParentSubject</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#79951" title="(rightSide: org.squeryl.test.schooldb2.Subject)org.squeryl.dsl.ManyToOne[org.squeryl.test.schooldb2.Subject]">right</a><span class="delimiter">(</span><a href="#11261" title="org.squeryl.test.schooldb2.Subject" class="keyword">this</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class CourseSubscription extends java.lang.Object with org.squeryl.KeyedEntity[org.squeryl.dsl.CompositeKey2[Long,Long]] with ScalaObject" id="11262">CourseSubscription</a><a href="#11262" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="Long" id="235051">courseId</a>: <span title="Long">Long</span>, <span class="keyword">val</span> <a title="Long" id="235052">studentId</a>: <span title="Long">Long</span>, <span class="keyword">var</span> <a title="Float" id="235053">grade</a>: <span title="Float">Float</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#9788" title="org.squeryl.KeyedEntity[org.squeryl.dsl.CompositeKey2[Long,Long]]">KeyedEntity</a><span class="delimiter">[</span>CompositeKey2<span class="delimiter">[</span>Long,Long<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="=&gt; org.squeryl.dsl.CompositeKey2[Long,Long]" id="234685">id</a> = <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15347" title="(a1: Long, a2: Long)org.squeryl.dsl.CompositeKey2[Long,Long]">compositeKey</a><span class="delimiter">(</span><a href="#235051" title="=&gt; Long">courseId</a>, <a href="#235052" title="=&gt; Long">studentId</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class CourseAssignment extends java.lang.Object with org.squeryl.KeyedEntity[org.squeryl.dsl.CompositeKey2[Long,Long]] with ScalaObject" id="11263">CourseAssignment</a><a href="#11263" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="Long" id="235156">courseId</a>: <span title="Long">Long</span>, <span class="keyword">val</span> <a title="Long" id="235157">professorId</a>: <span title="Long">Long</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#9788" title="org.squeryl.KeyedEntity[org.squeryl.dsl.CompositeKey2[Long,Long]]">KeyedEntity</a><span class="delimiter">[</span>CompositeKey2<span class="delimiter">[</span>Long,Long<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="=&gt; org.squeryl.dsl.CompositeKey2[Long,Long]" id="234508">id</a> = <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15347" title="(a1: Long, a2: Long)org.squeryl.dsl.CompositeKey2[Long,Long]">compositeKey</a><span class="delimiter">(</span><a href="#235156" title="=&gt; Long">courseId</a>, <a href="#235157" title="=&gt; Long">professorId</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="class Entry extends java.lang.Object with org.squeryl.KeyedEntity[Int] with ScalaObject with Product with Serializable" id="238548">Entry</a><a href="#238548" title="ScalaObject" class="delimiter">(</a><a title="String" id="236158">text</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#9788" title="org.squeryl.KeyedEntity[Int]">KeyedEntity</a><span class="delimiter">[</span>Int<span class="delimiter">]</span> <span class="delimiter">{</span>
 <span class="keyword">val</span> <a title="Int" id="235261">id</a>:<span title="Int">Int</span> = <span title="Int(0)" class="int">0</span>
 <span class="comment">// entryToComments is a one-to-many relation:</span>
 <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Comment]" id="235264">comments</a>: <a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#10173" title="org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Comment]">OneToMany</a><span class="delimiter">[</span>Comment<span class="delimiter">]</span> = <a href="#11254" title="object org.squeryl.test.schooldb2.SchoolDb2">SchoolDb2</a>.<a href="#234360" title="=&gt; org.squeryl.PrimitiveTypeMode.OneToManyRelationImpl[org.squeryl.test.schooldb2.Entry,org.squeryl.test.schooldb2.Comment]">entryToComments</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#79950" title="(leftSide: org.squeryl.test.schooldb2.Entry)org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Comment]">left</a><span class="delimiter">(</span><a href="#238548" title="org.squeryl.test.schooldb2.Entry" class="keyword">this</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="class Comment extends java.lang.Object with org.squeryl.KeyedEntity[Int] with ScalaObject with Product with Serializable" id="238527">Comment</a><a href="#238527" title="ScalaObject" class="delimiter">(</a><a title="String" id="236162">text</a>: <span title="String">String</span>, <a title="Int" id="236163">entryId</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span>, <a title="Int" id="236164">userId</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
   <span class="keyword">extends</span> <a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#9788" title="org.squeryl.KeyedEntity[Int]">KeyedEntity</a><span class="delimiter">[</span>Int<span class="delimiter">]</span> <span class="delimiter">{</span>
 <span class="keyword">val</span> <a title="Int" id="235316">id</a>:<span title="Int">Int</span> = <span title="Int(0)" class="int">0</span>
<span class="delimiter">}</span>



<span class="keyword">class</span> <a title="class ASTConstructionInterferenceA extends java.lang.Object with org.squeryl.KeyedEntity[Long] with ScalaObject" id="11270">ASTConstructionInterferenceA</a> <a href="#11270" title="ScalaObject" class="keyword">extends</a> <a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#9788" title="org.squeryl.KeyedEntity[Long]">KeyedEntity</a><span class="delimiter">[</span>Long<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">val</span> <a title="Long" id="235433">id</a>: <span title="Long">Long</span> = <span title="Long(0L)" class="int">0</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.ASTConstructionInterferenceB]" id="235436">bs</a> = <a href="#11254" title="object org.squeryl.test.schooldb2.SchoolDb2">SchoolDb2</a>.<a href="#234386" title="=&gt; org.squeryl.PrimitiveTypeMode.OneToManyRelationImpl[org.squeryl.test.schooldb2.ASTConstructionInterferenceA,org.squeryl.test.schooldb2.ASTConstructionInterferenceB]">aToB</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#79950" title="(leftSide: org.squeryl.test.schooldb2.ASTConstructionInterferenceA)org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.ASTConstructionInterferenceB]">left</a><span class="delimiter">(</span><a href="#11270" title="org.squeryl.test.schooldb2.ASTConstructionInterferenceA" class="keyword">this</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class ASTConstructionInterferenceB extends java.lang.Object with org.squeryl.KeyedEntity[Long] with ScalaObject" id="11271">ASTConstructionInterferenceB</a><a href="#11271" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="Long" id="235554">aId</a>: <span title="Long">Long</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#9788" title="org.squeryl.KeyedEntity[Long]">KeyedEntity</a><span class="delimiter">[</span>Long<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">val</span> <a title="Long" id="235479">id</a>: <span title="Long">Long</span> = <span title="Long(0L)" class="int">0</span>

  <span class="keyword">val</span> <a title="java.lang.String" id="235481">field1</a> = <span title="java.lang.String(&quot;abc&quot;)" class="string">&quot;abc&quot;</span>
  <span class="keyword">val</span> <a title="java.lang.String" id="235483">field2</a> = <a href="#235481" title="=&gt; java.lang.String">field1</a>
<span class="delimiter">}</span>



<span class="keyword">class</span> <a title="class SchoolDb2 extends java.lang.Object with org.squeryl.Schema with ScalaObject" id="11272">SchoolDb2</a> <a href="#11272" title="ScalaObject" class="keyword">extends</a> <a href="../../../../../main/org/squeryl/Schema.scala.html#9839" title="org.squeryl.Schema">Schema</a> <span class="delimiter">{</span>

  <span class="keyword">val</span> <a title="org.squeryl.Table[org.squeryl.test.schooldb2.Entry]" id="234356">entries</a> = <a href="../../../../../main/org/squeryl/Schema.scala.html#14359" title="[T]()(implicit manifestT: scala.reflect.Manifest[T])org.squeryl.Table[T]">table</a><span title="()(implicit manifestT: scala.reflect.Manifest[org.squeryl.test.schooldb2.Entry])org.squeryl.Table[org.squeryl.test.schooldb2.Entry]" class="delimiter">[</span><a href="#238548" title="org.squeryl.test.schooldb2.Entry">Entry</a><span class="delimiter">]</span>
  <span class="keyword">val</span> <a title="org.squeryl.Table[org.squeryl.test.schooldb2.Comment]" id="234358">comments</a> = <a href="../../../../../main/org/squeryl/Schema.scala.html#14362" title="[T](name: String)(implicit manifestT: scala.reflect.Manifest[T])org.squeryl.Table[T]">table</a><span title="(name: String)(implicit manifestT: scala.reflect.Manifest[org.squeryl.test.schooldb2.Comment])org.squeryl.Table[org.squeryl.test.schooldb2.Comment]" class="delimiter">[</span><a href="#238527" title="org.squeryl.test.schooldb2.Comment">Comment</a><span class="delimiter">]</span><span title="(clazz: Class[_])scala.reflect.Manifest[org.squeryl.test.schooldb2.Comment]" class="delimiter">(</span><span title="java.lang.String(&quot;commentz&quot;)" class="string">&quot;commentz&quot;</span><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="org.squeryl.PrimitiveTypeMode.OneToManyRelationImpl[org.squeryl.test.schooldb2.Entry,org.squeryl.test.schooldb2.Comment]" id="234360">entryToComments</a> = <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15335" title="(ot: org.squeryl.Table[org.squeryl.test.schooldb2.Entry], mt: org.squeryl.Table[org.squeryl.test.schooldb2.Comment])org.squeryl.PrimitiveTypeMode.OneToManyRelationBuilder[org.squeryl.test.schooldb2.Entry,org.squeryl.test.schooldb2.Comment]">oneToManyRelation</a><span class="delimiter">(</span><a href="#234356" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Entry]">entries</a>, <a href="#234358" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Comment]">comments</a><span class="delimiter">)</span>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#79901" title="(f: (org.squeryl.test.schooldb2.Entry, org.squeryl.test.schooldb2.Comment) =&gt; org.squeryl.dsl.ast.EqualityExpression)(implicit schema: org.squeryl.Schema)org.squeryl.PrimitiveTypeMode.OneToManyRelationImpl[org.squeryl.test.schooldb2.Entry,org.squeryl.test.schooldb2.Comment]">via</a><a href="../../../../../main/org/squeryl/Schema.scala.html#14312" title="=&gt; org.squeryl.Schema" class="delimiter">(</a>
    <span class="delimiter">(</span><a title="org.squeryl.test.schooldb2.Entry" id="235339">e</a>,<a title="org.squeryl.test.schooldb2.Comment" id="235340">c</a><span class="delimiter">)</span> =&gt; <a href="#235339" title="org.squeryl.test.schooldb2.Entry">e</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15191" title="implicit org.squeryl.dsl.DslFactory.int2ScalarInt : (i: org.squeryl.PrimitiveTypeMode.IntType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.IntType]">id</a> <a href="../../../../../main/org/squeryl/dsl/FieldTypes.scala.html#18121" title="(b: org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.IntType])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#235340" title="org.squeryl.test.schooldb2.Comment">c</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15191" title="implicit org.squeryl.dsl.DslFactory.int2ScalarInt : (i: org.squeryl.PrimitiveTypeMode.IntType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.IntType]">entryId</a><span class="delimiter">)</span>
  
  <span class="keyword">val</span> <a title="org.squeryl.Table[org.squeryl.test.schooldb2.Professor]" id="234362">professors</a> = <a href="../../../../../main/org/squeryl/Schema.scala.html#14359" title="[T]()(implicit manifestT: scala.reflect.Manifest[T])org.squeryl.Table[T]">table</a><span title="()(implicit manifestT: scala.reflect.Manifest[org.squeryl.test.schooldb2.Professor])org.squeryl.Table[org.squeryl.test.schooldb2.Professor]" class="delimiter">[</span><a href="#11257" title="org.squeryl.test.schooldb2.Professor">Professor</a><span class="delimiter">]</span>

  <span class="keyword">val</span> <a title="org.squeryl.Table[org.squeryl.test.schooldb2.Student]" id="234364">students</a> = <a href="../../../../../main/org/squeryl/Schema.scala.html#14359" title="[T]()(implicit manifestT: scala.reflect.Manifest[T])org.squeryl.Table[T]">table</a><span title="()(implicit manifestT: scala.reflect.Manifest[org.squeryl.test.schooldb2.Student])org.squeryl.Table[org.squeryl.test.schooldb2.Student]" class="delimiter">[</span><a href="#11260" title="org.squeryl.test.schooldb2.Student">Student</a><span class="delimiter">]</span>


  <a href="../../../../../main/org/squeryl/Schema.scala.html#14390" title="(table: org.squeryl.Table[org.squeryl.test.schooldb2.Student])(declarations: org.squeryl.test.schooldb2.Student =&gt; Seq[org.squeryl.dsl.ast.BaseColumnAttributeAssignment])Unit">on</a><span class="delimiter">(</span><a href="#234364" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Student]">students</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="org.squeryl.test.schooldb2.Student" id="235610">s</a> =&gt; <a href="../../../../../main/org/squeryl/Schema.scala.html#14387" title="(a: org.squeryl.dsl.ast.BaseColumnAttributeAssignment*)org.squeryl.dsl.ast.BaseColumnAttributeAssignment*">declare</a><span class="delimiter">(</span>
    <a href="#235610" title="org.squeryl.test.schooldb2.Student">s</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15195" title="implicit org.squeryl.dsl.DslFactory.string2ScalarString : (s: org.squeryl.PrimitiveTypeMode.StringType)org.squeryl.dsl.StringExpression[org.squeryl.PrimitiveTypeMode.StringType]">firstName</a> <a href="../../../../../main/org/squeryl/dsl/FieldTypes.scala.html#22756" title="(columnAttributes: org.squeryl.internals.AttributeValidOnNonNumericalColumn*)(implicit restrictUsageWithinSchema: org.squeryl.Schema)org.squeryl.dsl.ast.ColumnAttributeAssignment">is</a><span class="delimiter">(</span><a href="../../../../../main/org/squeryl/Schema.scala.html#14399" title="=&gt; org.squeryl.internals.Indexed">indexed</a><span class="delimiter">)</span>,
    <a href="#235610" title="org.squeryl.test.schooldb2.Student">s</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15195" title="implicit org.squeryl.dsl.DslFactory.string2ScalarString : (s: org.squeryl.PrimitiveTypeMode.StringType)org.squeryl.dsl.StringExpression[org.squeryl.PrimitiveTypeMode.StringType]">lastName</a> <a href="../../../../../main/org/squeryl/dsl/ast/ExpressionNode.scala.html#18116" title="(value: java.lang.String)(implicit evidence$2: java.lang.String =&gt; org.squeryl.dsl.ast.TypedExpressionNode[org.squeryl.PrimitiveTypeMode.StringType])org.squeryl.dsl.ast.DefaultValueAssignment">defaultsTo</a><span class="delimiter">(</span><span title="java.lang.String(&quot;!&quot;)" class="string">&quot;!&quot;</span><span class="delimiter">)</span>,
    <a href="#235610" title="org.squeryl.test.schooldb2.Student">s</a>.<a href="#234644" title="=&gt; org.squeryl.dsl.CompositeKey2[String,String]">fullName</a> <a href="../../../../../main/org/squeryl/dsl/CompositeKey.scala.html#18545" title="(attributes: org.squeryl.internals.AttributeValidOnMultipleColumn*)org.squeryl.dsl.ast.CompositeKeyAttributeAssignment">is</a><span class="delimiter">(</span><a href="../../../../../main/org/squeryl/Schema.scala.html#14395" title="=&gt; org.squeryl.internals.Unique">unique</a>, <a href="../../../../../main/org/squeryl/Schema.scala.html#14399" title="=&gt; org.squeryl.internals.Indexed">indexed</a><span class="delimiter">)</span>,
    <a href="../../../../../main/org/squeryl/Schema.scala.html#14406" title="(fieldList: org.squeryl.dsl.ast.TypedExpressionNode[_]*)SchoolDb2.this.ColGroupDeclaration">columns</a><span class="delimiter">(</span><a href="#235610" title="org.squeryl.test.schooldb2.Student">s</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15196" title="implicit org.squeryl.dsl.DslFactory.long2ScalarLong : (l: org.squeryl.PrimitiveTypeMode.LongType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType]">id</a>, <a href="#235610" title="org.squeryl.test.schooldb2.Student">s</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15195" title="implicit org.squeryl.dsl.DslFactory.string2ScalarString : (s: org.squeryl.PrimitiveTypeMode.StringType)org.squeryl.dsl.StringExpression[org.squeryl.PrimitiveTypeMode.StringType]">firstName</a>, <a href="#235610" title="org.squeryl.test.schooldb2.Student">s</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15195" title="implicit org.squeryl.dsl.DslFactory.string2ScalarString : (s: org.squeryl.PrimitiveTypeMode.StringType)org.squeryl.dsl.StringExpression[org.squeryl.PrimitiveTypeMode.StringType]">lastName</a><span class="delimiter">)</span> <a href="../../../../../main/org/squeryl/Schema.scala.html#53488" title="(columnAttributes: org.squeryl.internals.AttributeValidOnMultipleColumn*)org.squeryl.dsl.ast.ColumnGroupAttributeAssignment">are</a><span class="delimiter">(</span><a href="../../../../../main/org/squeryl/Schema.scala.html#14399" title="=&gt; org.squeryl.internals.Indexed">indexed</a><span class="delimiter">)</span>  
  <span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="org.squeryl.Table[org.squeryl.test.schooldb2.Course]" id="234366">courses</a> = <a href="../../../../../main/org/squeryl/Schema.scala.html#14359" title="[T]()(implicit manifestT: scala.reflect.Manifest[T])org.squeryl.Table[T]">table</a><span title="()(implicit manifestT: scala.reflect.Manifest[org.squeryl.test.schooldb2.Course])org.squeryl.Table[org.squeryl.test.schooldb2.Course]" class="delimiter">[</span><a href="#11259" title="org.squeryl.test.schooldb2.Course">Course</a><span class="delimiter">]</span>

  <span class="keyword">val</span> <a title="org.squeryl.Table[org.squeryl.test.schooldb2.Subject]" id="234368">subjects</a> = <a href="../../../../../main/org/squeryl/Schema.scala.html#14359" title="[T]()(implicit manifestT: scala.reflect.Manifest[T])org.squeryl.Table[T]">table</a><span title="()(implicit manifestT: scala.reflect.Manifest[org.squeryl.test.schooldb2.Subject])org.squeryl.Table[org.squeryl.test.schooldb2.Subject]" class="delimiter">[</span><a href="#11261" title="org.squeryl.test.schooldb2.Subject">Subject</a><span class="delimiter">]</span>

  <span class="keyword">val</span> <a title="org.squeryl.PrimitiveTypeMode.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]" id="234370">courseAssignments</a> =
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15321" title="(l: org.squeryl.Table[org.squeryl.test.schooldb2.Professor], r: org.squeryl.Table[org.squeryl.test.schooldb2.Course], nameOfMiddleTable: String)org.squeryl.PrimitiveTypeMode.ManyToManyRelationBuilder[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.Course]">manyToManyRelation</a><span class="delimiter">(</span><a href="#234362" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Professor]">professors</a>, <a href="#234366" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Course]">courses</a>, <span title="java.lang.String(&quot;CourseAssignmentZ&quot;)" class="string">&quot;CourseAssignmentZ&quot;</span><span class="delimiter">)</span>.
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#77408" title="[A &lt;: org.squeryl.KeyedEntity[_]](f: (org.squeryl.test.schooldb2.Professor, org.squeryl.test.schooldb2.Course, A) =&gt; (org.squeryl.dsl.ast.EqualityExpression, org.squeryl.dsl.ast.EqualityExpression))(implicit manifestA: Manifest[A], implicit schema: org.squeryl.Schema)org.squeryl.PrimitiveTypeMode.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.Course,A]">via</a><span title="(f: (org.squeryl.test.schooldb2.Professor, org.squeryl.test.schooldb2.Course, org.squeryl.test.schooldb2.CourseAssignment) =&gt; (org.squeryl.dsl.ast.EqualityExpression, org.squeryl.dsl.ast.EqualityExpression))(implicit manifestA: Manifest[org.squeryl.test.schooldb2.CourseAssignment], implicit schema: org.squeryl.Schema)org.squeryl.PrimitiveTypeMode.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]" class="delimiter">[</span><a href="#11263" title="org.squeryl.test.schooldb2.CourseAssignment">CourseAssignment</a><span class="delimiter">]</span><a href="../../../../../main/org/squeryl/Schema.scala.html#14312" title="(clazz: Class[_])scala.reflect.Manifest[org.squeryl.test.schooldb2.CourseAssignment]" class="delimiter">(</a><span class="delimiter">(</span><a title="org.squeryl.test.schooldb2.Professor" id="234514">p</a>,<a title="org.squeryl.test.schooldb2.Course" id="234515">c</a>,<a title="org.squeryl.test.schooldb2.CourseAssignment" id="234516">a</a><span class="delimiter">)</span> =&gt; <span title="(_1: org.squeryl.dsl.ast.EqualityExpression, _2: org.squeryl.dsl.ast.EqualityExpression)(org.squeryl.dsl.ast.EqualityExpression, org.squeryl.dsl.ast.EqualityExpression)" class="delimiter">(</span><a href="#234514" title="org.squeryl.test.schooldb2.Professor">p</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15196" title="implicit org.squeryl.dsl.DslFactory.long2ScalarLong : (l: org.squeryl.PrimitiveTypeMode.LongType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType]">id</a> <a href="../../../../../main/org/squeryl/dsl/FieldTypes.scala.html#18121" title="(b: org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#234516" title="org.squeryl.test.schooldb2.CourseAssignment">a</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15196" title="implicit org.squeryl.dsl.DslFactory.long2ScalarLong : (l: org.squeryl.PrimitiveTypeMode.LongType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType]">professorId</a>, <a href="#234516" title="org.squeryl.test.schooldb2.CourseAssignment">a</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15196" title="implicit org.squeryl.dsl.DslFactory.long2ScalarLong : (l: org.squeryl.PrimitiveTypeMode.LongType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType]">courseId</a> <a href="../../../../../main/org/squeryl/dsl/FieldTypes.scala.html#18121" title="(b: org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#234515" title="org.squeryl.test.schooldb2.Course">c</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15196" title="implicit org.squeryl.dsl.DslFactory.long2ScalarLong : (l: org.squeryl.PrimitiveTypeMode.LongType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType]">id</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="org.squeryl.PrimitiveTypeMode.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.CourseSubscription]" id="234372">courseSubscriptions</a> =
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15314" title="(l: org.squeryl.Table[org.squeryl.test.schooldb2.Course], r: org.squeryl.Table[org.squeryl.test.schooldb2.Student])org.squeryl.PrimitiveTypeMode.ManyToManyRelationBuilder[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Student]">manyToManyRelation</a><span class="delimiter">(</span><a href="#234366" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Course]">courses</a>, <a href="#234364" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Student]">students</a><span class="delimiter">)</span>.
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#77408" title="[A &lt;: org.squeryl.KeyedEntity[_]](f: (org.squeryl.test.schooldb2.Course, org.squeryl.test.schooldb2.Student, A) =&gt; (org.squeryl.dsl.ast.EqualityExpression, org.squeryl.dsl.ast.EqualityExpression))(implicit manifestA: Manifest[A], implicit schema: org.squeryl.Schema)org.squeryl.PrimitiveTypeMode.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Student,A]">via</a><span title="(f: (org.squeryl.test.schooldb2.Course, org.squeryl.test.schooldb2.Student, org.squeryl.test.schooldb2.CourseSubscription) =&gt; (org.squeryl.dsl.ast.EqualityExpression, org.squeryl.dsl.ast.EqualityExpression))(implicit manifestA: Manifest[org.squeryl.test.schooldb2.CourseSubscription], implicit schema: org.squeryl.Schema)org.squeryl.PrimitiveTypeMode.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.CourseSubscription]" class="delimiter">[</span><a href="#11262" title="org.squeryl.test.schooldb2.CourseSubscription">CourseSubscription</a><span class="delimiter">]</span><a href="../../../../../main/org/squeryl/Schema.scala.html#14312" title="(clazz: Class[_])scala.reflect.Manifest[org.squeryl.test.schooldb2.CourseSubscription]" class="delimiter">(</a><span class="delimiter">(</span><a title="org.squeryl.test.schooldb2.Course" id="234691">c</a>,<a title="org.squeryl.test.schooldb2.Student" id="234692">s</a>,<a title="org.squeryl.test.schooldb2.CourseSubscription" id="234693">cs</a><span class="delimiter">)</span> =&gt; <span title="(_1: org.squeryl.dsl.ast.EqualityExpression, _2: org.squeryl.dsl.ast.EqualityExpression)(org.squeryl.dsl.ast.EqualityExpression, org.squeryl.dsl.ast.EqualityExpression)" class="delimiter">(</span><a href="#234693" title="org.squeryl.test.schooldb2.CourseSubscription">cs</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15196" title="implicit org.squeryl.dsl.DslFactory.long2ScalarLong : (l: org.squeryl.PrimitiveTypeMode.LongType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType]">studentId</a> <a href="../../../../../main/org/squeryl/dsl/FieldTypes.scala.html#18121" title="(b: org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#234692" title="org.squeryl.test.schooldb2.Student">s</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15196" title="implicit org.squeryl.dsl.DslFactory.long2ScalarLong : (l: org.squeryl.PrimitiveTypeMode.LongType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType]">id</a>, <a href="#234691" title="org.squeryl.test.schooldb2.Course">c</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15196" title="implicit org.squeryl.dsl.DslFactory.long2ScalarLong : (l: org.squeryl.PrimitiveTypeMode.LongType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType]">id</a> <a href="../../../../../main/org/squeryl/dsl/FieldTypes.scala.html#18121" title="(b: org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#234693" title="org.squeryl.test.schooldb2.CourseSubscription">cs</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15196" title="implicit org.squeryl.dsl.DslFactory.long2ScalarLong : (l: org.squeryl.PrimitiveTypeMode.LongType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType]">courseId</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="org.squeryl.PrimitiveTypeMode.OneToManyRelationImpl[org.squeryl.test.schooldb2.Subject,org.squeryl.test.schooldb2.Course]" id="234374">subjectToCourses</a> =
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15335" title="(ot: org.squeryl.Table[org.squeryl.test.schooldb2.Subject], mt: org.squeryl.Table[org.squeryl.test.schooldb2.Course])org.squeryl.PrimitiveTypeMode.OneToManyRelationBuilder[org.squeryl.test.schooldb2.Subject,org.squeryl.test.schooldb2.Course]">oneToManyRelation</a><span class="delimiter">(</span><a href="#234368" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Subject]">subjects</a>, <a href="#234366" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Course]">courses</a><span class="delimiter">)</span>.
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#79901" title="(f: (org.squeryl.test.schooldb2.Subject, org.squeryl.test.schooldb2.Course) =&gt; org.squeryl.dsl.ast.EqualityExpression)(implicit schema: org.squeryl.Schema)org.squeryl.PrimitiveTypeMode.OneToManyRelationImpl[org.squeryl.test.schooldb2.Subject,org.squeryl.test.schooldb2.Course]">via</a><a href="../../../../../main/org/squeryl/Schema.scala.html#14312" title="=&gt; org.squeryl.Schema" class="delimiter">(</a><span class="delimiter">(</span><a title="org.squeryl.test.schooldb2.Subject" id="234833">s</a>,<a title="org.squeryl.test.schooldb2.Course" id="234834">c</a><span class="delimiter">)</span> =&gt; <a href="#234833" title="org.squeryl.test.schooldb2.Subject">s</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15196" title="implicit org.squeryl.dsl.DslFactory.long2ScalarLong : (l: org.squeryl.PrimitiveTypeMode.LongType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType]">id</a> <a href="../../../../../main/org/squeryl/dsl/FieldTypes.scala.html#18121" title="(b: org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#234834" title="org.squeryl.test.schooldb2.Course">c</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15196" title="implicit org.squeryl.dsl.DslFactory.long2ScalarLong : (l: org.squeryl.PrimitiveTypeMode.LongType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType]">subjectId</a><span class="delimiter">)</span>
    
  <span class="keyword">val</span> <a title="org.squeryl.PrimitiveTypeMode.OneToManyRelationImpl[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.Professor]" id="234376">bossToProfessors</a> =
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15335" title="(ot: org.squeryl.Table[org.squeryl.test.schooldb2.Professor], mt: org.squeryl.Table[org.squeryl.test.schooldb2.Professor])org.squeryl.PrimitiveTypeMode.OneToManyRelationBuilder[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.Professor]">oneToManyRelation</a><span class="delimiter">(</span><a href="#234362" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Professor]">professors</a>, <a href="#234362" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Professor]">professors</a><span class="delimiter">)</span>.
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#79901" title="(f: (org.squeryl.test.schooldb2.Professor, org.squeryl.test.schooldb2.Professor) =&gt; org.squeryl.dsl.ast.EqualityExpression)(implicit schema: org.squeryl.Schema)org.squeryl.PrimitiveTypeMode.OneToManyRelationImpl[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.Professor]">via</a><a href="../../../../../main/org/squeryl/Schema.scala.html#14312" title="=&gt; org.squeryl.Schema" class="delimiter">(</a><span class="delimiter">(</span><a title="org.squeryl.test.schooldb2.Professor" id="235565">boss</a>,<a title="org.squeryl.test.schooldb2.Professor" id="235566">p</a><span class="delimiter">)</span> =&gt; <a href="#235565" title="org.squeryl.test.schooldb2.Professor">boss</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15196" title="implicit org.squeryl.dsl.DslFactory.long2ScalarLong : (l: org.squeryl.PrimitiveTypeMode.LongType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType]">id</a> <a href="../../../../../main/org/squeryl/dsl/FieldTypes.scala.html#18121" title="(b: org.squeryl.dsl.NumericalExpression[Option[org.squeryl.PrimitiveTypeMode.LongType]])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#235566" title="org.squeryl.test.schooldb2.Professor">p</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15200" title="implicit org.squeryl.dsl.DslFactory.optionLong2ScalarLong : (i: Option[org.squeryl.PrimitiveTypeMode.LongType])org.squeryl.dsl.NumericalExpression[Option[org.squeryl.PrimitiveTypeMode.LongType]]">bossId</a><span class="delimiter">)</span>

    
  <span class="keyword">val</span> <a title="org.squeryl.PrimitiveTypeMode.OneToManyRelationImpl[org.squeryl.test.schooldb2.Subject,org.squeryl.test.schooldb2.Subject]" id="234378">subjectToParentSubject</a> =
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15335" title="(ot: org.squeryl.Table[org.squeryl.test.schooldb2.Subject], mt: org.squeryl.Table[org.squeryl.test.schooldb2.Subject])org.squeryl.PrimitiveTypeMode.OneToManyRelationBuilder[org.squeryl.test.schooldb2.Subject,org.squeryl.test.schooldb2.Subject]">oneToManyRelation</a><span class="delimiter">(</span><a href="#234368" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Subject]">subjects</a>, <a href="#234368" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Subject]">subjects</a><span class="delimiter">)</span>.
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#79901" title="(f: (org.squeryl.test.schooldb2.Subject, org.squeryl.test.schooldb2.Subject) =&gt; org.squeryl.dsl.ast.EqualityExpression)(implicit schema: org.squeryl.Schema)org.squeryl.PrimitiveTypeMode.OneToManyRelationImpl[org.squeryl.test.schooldb2.Subject,org.squeryl.test.schooldb2.Subject]">via</a><a href="../../../../../main/org/squeryl/Schema.scala.html#14312" title="=&gt; org.squeryl.Schema" class="delimiter">(</a><span class="delimiter">(</span><a title="org.squeryl.test.schooldb2.Subject" id="235004">subject</a>,<a title="org.squeryl.test.schooldb2.Subject" id="235005">childSubject</a><span class="delimiter">)</span> =&gt; <span title="(x: Long)Option[Long]">Option</span><a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15200" title="implicit org.squeryl.dsl.DslFactory.optionLong2ScalarLong : (i: Option[org.squeryl.PrimitiveTypeMode.LongType])org.squeryl.dsl.NumericalExpression[Option[org.squeryl.PrimitiveTypeMode.LongType]]" class="delimiter">(</a><a href="#235004" title="org.squeryl.test.schooldb2.Subject">subject</a>.<a href="#234351" title="=&gt; Long">id</a><span class="delimiter">)</span> <a href="../../../../../main/org/squeryl/dsl/FieldTypes.scala.html#18121" title="(b: org.squeryl.dsl.NumericalExpression[Option[org.squeryl.PrimitiveTypeMode.LongType]])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#235005" title="org.squeryl.test.schooldb2.Subject">childSubject</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15200" title="implicit org.squeryl.dsl.DslFactory.optionLong2ScalarLong : (i: Option[org.squeryl.PrimitiveTypeMode.LongType])org.squeryl.dsl.NumericalExpression[Option[org.squeryl.PrimitiveTypeMode.LongType]]">parentSubjectId</a><span class="delimiter">)</span>
 
    
  <span class="comment">// the default constraint for all foreign keys in this schema :</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(foreignKeyDeclaration: org.squeryl.ForeignKeyDeclaration)Unit" id="234380">applyDefaultForeignKeyPolicy</a><span class="delimiter">(</span><a title="org.squeryl.ForeignKeyDeclaration" id="236010">foreignKeyDeclaration</a>: <a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#9798" title="org.squeryl.ForeignKeyDeclaration">ForeignKeyDeclaration</a><span class="delimiter">)</span> =
    <a href="#236010" title="org.squeryl.ForeignKeyDeclaration">foreignKeyDeclaration</a>.<a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#14092" title="()(implicit ev: org.squeryl.Schema)Unit">constrainReference</a>

  <span class="comment">//now we will redefine some of the foreign key constraints :</span>
  <span class="comment">//if we delete a subject, we want all courses to be deleted</span>
  <a href="#234374" title="=&gt; org.squeryl.PrimitiveTypeMode.OneToManyRelationImpl[org.squeryl.test.schooldb2.Subject,org.squeryl.test.schooldb2.Course]">subjectToCourses</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#79948" title="=&gt; org.squeryl.ForeignKeyDeclaration">foreignKeyDeclaration</a>.<a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#14093" title="(a1: org.squeryl.ReferentialAction)(implicit ev: org.squeryl.Schema)Unit">constrainReference</a><a href="../../../../../main/org/squeryl/Schema.scala.html#14312" title="=&gt; org.squeryl.Schema" class="delimiter">(</a><a href="../../../../../main/org/squeryl/Schema.scala.html#14379" title="=&gt; SchoolDb2.this.ReferentialEvent">onDelete</a> <a href="../../../../../main/org/squeryl/Schema.scala.html#49325" title="=&gt; SchoolDb2.this.ReferentialActionImpl">cascade</a><span class="delimiter">)</span>

  <span class="comment">//when a course is deleted, all of the subscriptions will get deleted :</span>
  <a href="#234372" title="=&gt; org.squeryl.PrimitiveTypeMode.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.CourseSubscription]">courseSubscriptions</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#77532" title="=&gt; org.squeryl.ForeignKeyDeclaration">leftForeignKeyDeclaration</a>.<a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#14093" title="(a1: org.squeryl.ReferentialAction)(implicit ev: org.squeryl.Schema)Unit">constrainReference</a><a href="../../../../../main/org/squeryl/Schema.scala.html#14312" title="=&gt; org.squeryl.Schema" class="delimiter">(</a><a href="../../../../../main/org/squeryl/Schema.scala.html#14379" title="=&gt; SchoolDb2.this.ReferentialEvent">onDelete</a> <a href="../../../../../main/org/squeryl/Schema.scala.html#49325" title="=&gt; SchoolDb2.this.ReferentialActionImpl">cascade</a><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Unit" id="234381">drop</a> = <span class="delimiter">{</span>
    <a href="../../../../../main/org/squeryl/Session.scala.html#9848" title="object org.squeryl.Session">Session</a>.<a href="../../../../../main/org/squeryl/Session.scala.html#34682" title="=&gt; Unit">cleanupResources</a>
    <a href="#11272" title="org.squeryl.test.schooldb2.SchoolDb2" class="keyword">super</a>.<a href="../../../../../main/org/squeryl/Schema.scala.html#14344" title="=&gt; Unit">drop</a>
  <span class="delimiter">}</span>

  <span class="keyword">val</span> <a title="org.squeryl.Table[org.squeryl.test.schooldb2.ASTConstructionInterferenceA]" id="234382">as</a> = <a href="../../../../../main/org/squeryl/Schema.scala.html#14359" title="[T]()(implicit manifestT: scala.reflect.Manifest[T])org.squeryl.Table[T]">table</a><span title="()(implicit manifestT: scala.reflect.Manifest[org.squeryl.test.schooldb2.ASTConstructionInterferenceA])org.squeryl.Table[org.squeryl.test.schooldb2.ASTConstructionInterferenceA]" class="delimiter">[</span><a href="#11270" title="org.squeryl.test.schooldb2.ASTConstructionInterferenceA">ASTConstructionInterferenceA</a><span class="delimiter">]</span>
  <span class="keyword">val</span> <a title="org.squeryl.Table[org.squeryl.test.schooldb2.ASTConstructionInterferenceB]" id="234384">bs</a> = <a href="../../../../../main/org/squeryl/Schema.scala.html#14359" title="[T]()(implicit manifestT: scala.reflect.Manifest[T])org.squeryl.Table[T]">table</a><span title="()(implicit manifestT: scala.reflect.Manifest[org.squeryl.test.schooldb2.ASTConstructionInterferenceB])org.squeryl.Table[org.squeryl.test.schooldb2.ASTConstructionInterferenceB]" class="delimiter">[</span><a href="#11271" title="org.squeryl.test.schooldb2.ASTConstructionInterferenceB">ASTConstructionInterferenceB</a><span class="delimiter">]</span>

  <span class="keyword">val</span> <a title="org.squeryl.PrimitiveTypeMode.OneToManyRelationImpl[org.squeryl.test.schooldb2.ASTConstructionInterferenceA,org.squeryl.test.schooldb2.ASTConstructionInterferenceB]" id="234386">aToB</a> =
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15335" title="(ot: org.squeryl.Table[org.squeryl.test.schooldb2.ASTConstructionInterferenceA], mt: org.squeryl.Table[org.squeryl.test.schooldb2.ASTConstructionInterferenceB])org.squeryl.PrimitiveTypeMode.OneToManyRelationBuilder[org.squeryl.test.schooldb2.ASTConstructionInterferenceA,org.squeryl.test.schooldb2.ASTConstructionInterferenceB]">oneToManyRelation</a><span class="delimiter">(</span><a href="#234382" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.ASTConstructionInterferenceA]">as</a>, <a href="#234384" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.ASTConstructionInterferenceB]">bs</a><span class="delimiter">)</span>.
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#79901" title="(f: (org.squeryl.test.schooldb2.ASTConstructionInterferenceA, org.squeryl.test.schooldb2.ASTConstructionInterferenceB) =&gt; org.squeryl.dsl.ast.EqualityExpression)(implicit schema: org.squeryl.Schema)org.squeryl.PrimitiveTypeMode.OneToManyRelationImpl[org.squeryl.test.schooldb2.ASTConstructionInterferenceA,org.squeryl.test.schooldb2.ASTConstructionInterferenceB]">via</a><a href="../../../../../main/org/squeryl/Schema.scala.html#14312" title="=&gt; org.squeryl.Schema" class="delimiter">(</a><span class="delimiter">(</span><a title="org.squeryl.test.schooldb2.ASTConstructionInterferenceA" id="235513">a</a>, <a title="org.squeryl.test.schooldb2.ASTConstructionInterferenceB" id="235514">b</a><span class="delimiter">)</span> =&gt; <a href="#235513" title="org.squeryl.test.schooldb2.ASTConstructionInterferenceA">a</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15196" title="implicit org.squeryl.dsl.DslFactory.long2ScalarLong : (l: org.squeryl.PrimitiveTypeMode.LongType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType]">id</a> <a href="../../../../../main/org/squeryl/dsl/FieldTypes.scala.html#18121" title="(b: org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#235514" title="org.squeryl.test.schooldb2.ASTConstructionInterferenceB">b</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15196" title="implicit org.squeryl.dsl.DslFactory.long2ScalarLong : (l: org.squeryl.PrimitiveTypeMode.LongType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType]">aId</a><span class="delimiter">)</span>

  <a href="#234386" title="=&gt; org.squeryl.PrimitiveTypeMode.OneToManyRelationImpl[org.squeryl.test.schooldb2.ASTConstructionInterferenceA,org.squeryl.test.schooldb2.ASTConstructionInterferenceB]">aToB</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#79948" title="=&gt; org.squeryl.ForeignKeyDeclaration">foreignKeyDeclaration</a>.<a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#14091" title="()(implicit ev: org.squeryl.Schema)Unit">unConstrainReference</a>
<span class="delimiter">}</span>

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class SchoolDb2Tests extends org.squeryl.framework.SchemaTester with org.squeryl.framework.RunTestsInsideTransaction with org.squeryl.framework.QueryTester with ScalaObject" id="11273">SchoolDb2Tests</a> <a href="#11273" title="ScalaObject" class="keyword">extends</a> <a href="../../framework/SchemaTester.scala.html#10951" title="org.squeryl.framework.SchemaTester">SchemaTester</a> <span class="keyword">with</span> <a href="../../framework/RunTestsInsideTransaction.scala.html#10942" title="org.squeryl.framework.RunTestsInsideTransaction">RunTestsInsideTransaction</a> <span class="keyword">with</span> <a href="../../framework/QueryTester.scala.html#10933" title="org.squeryl.framework.QueryTester">QueryTester</a> <span class="delimiter">{</span>

  <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.SchoolDb2" id="117243">schema</a> = <span title="org.squeryl.test.schooldb2.SchoolDb2" class="keyword">new</span> <a href="#11272" title="org.squeryl.test.schooldb2.SchoolDb2">SchoolDb2</a>
  
  <span class="keyword">import</span> <a href="#117243" title="=&gt; org.squeryl.test.schooldb2.SchoolDb2">schema</a>._

  <span class="keyword">def</span> <a title="=&gt; java.lang.Object{val professeurTournesol: org.squeryl.test.schooldb2.Professor; val madProfessor: org.squeryl.test.schooldb2.Professor; val philosophy: org.squeryl.test.schooldb2.Subject; val chemistry: org.squeryl.test.schooldb2.Subject; val physics: org.squeryl.test.schooldb2.Subject; val computerScience: org.squeryl.test.schooldb2.Subject; val computationTheory: org.squeryl.test.schooldb2.Subject; val chemistryCourse: org.squeryl.test.schooldb2.Course; val physicsCourse: org.squeryl.test.schooldb2.Course; val xiaoJimbao: org.squeryl.test.schooldb2.Student}" id="117246">seedDataDef</a> = <a href="#236027" title="java.lang.Object{val professeurTournesol: org.squeryl.test.schooldb2.Professor; val madProfessor: org.squeryl.test.schooldb2.Professor; val philosophy: org.squeryl.test.schooldb2.Subject; val chemistry: org.squeryl.test.schooldb2.Subject; val physics: org.squeryl.test.schooldb2.Subject; val computerScience: org.squeryl.test.schooldb2.Subject; val computationTheory: org.squeryl.test.schooldb2.Subject; val chemistryCourse: org.squeryl.test.schooldb2.Course; val physicsCourse: org.squeryl.test.schooldb2.Course; val xiaoJimbao: org.squeryl.test.schooldb2.Student}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object" id="236027" class="delimiter">{</a>
    
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Professor" id="236029">professeurTournesol</a> = <a href="#234362" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Professor]">professors</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#34602" title="(t: org.squeryl.test.schooldb2.Professor)org.squeryl.test.schooldb2.Professor">insert</a><span class="delimiter">(</span><a href="#234605" title="org.squeryl.test.schooldb2.Professor" class="keyword">new</a> <a href="#11257" title="org.squeryl.test.schooldb2.Professor">Professor</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Tournesol&quot;)" class="string">&quot;Tournesol&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Professor" id="236031">madProfessor</a> = <a href="#234362" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Professor]">professors</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#34602" title="(t: org.squeryl.test.schooldb2.Professor)org.squeryl.test.schooldb2.Professor">insert</a><span class="delimiter">(</span><a href="#234605" title="org.squeryl.test.schooldb2.Professor" class="keyword">new</a> <a href="#11257" title="org.squeryl.test.schooldb2.Professor">Professor</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Mad Professor&quot;)" class="string">&quot;Mad Professor&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Subject" id="236033">philosophy</a> = <a href="#234368" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Subject]">subjects</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#34602" title="(t: org.squeryl.test.schooldb2.Subject)org.squeryl.test.schooldb2.Subject">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.schooldb2.Subject" class="keyword">new</span> <a href="#11261" title="org.squeryl.test.schooldb2.Subject">Subject</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Philosophy&quot;)" class="string">&quot;Philosophy&quot;</span>, <span title="object None">None</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Subject" id="236035">chemistry</a> = <a href="#234368" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Subject]">subjects</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#34602" title="(t: org.squeryl.test.schooldb2.Subject)org.squeryl.test.schooldb2.Subject">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.schooldb2.Subject" class="keyword">new</span> <a href="#11261" title="org.squeryl.test.schooldb2.Subject">Subject</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Chemistry&quot;)" class="string">&quot;Chemistry&quot;</span>, <span title="object None">None</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Subject" id="236037">physics</a> = <a href="#234368" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Subject]">subjects</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#34602" title="(t: org.squeryl.test.schooldb2.Subject)org.squeryl.test.schooldb2.Subject">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.schooldb2.Subject" class="keyword">new</span> <a href="#11261" title="org.squeryl.test.schooldb2.Subject">Subject</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Physic&quot;)" class="string">&quot;Physic&quot;</span>, <span title="object None">None</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Subject" id="236039">computerScience</a> = <a href="#234368" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Subject]">subjects</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#34602" title="(t: org.squeryl.test.schooldb2.Subject)org.squeryl.test.schooldb2.Subject">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.schooldb2.Subject" class="keyword">new</span> <a href="#11261" title="org.squeryl.test.schooldb2.Subject">Subject</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Computer Science&quot;)" class="string">&quot;Computer Science&quot;</span>, <span title="object None">None</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Subject" id="236041">computationTheory</a> = <a href="#234368" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Subject]">subjects</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#34602" title="(t: org.squeryl.test.schooldb2.Subject)org.squeryl.test.schooldb2.Subject">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.schooldb2.Subject" class="keyword">new</span> <a href="#11261" title="org.squeryl.test.schooldb2.Subject">Subject</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Computation Theory&quot;)" class="string">&quot;Computation Theory&quot;</span>, <span title="(x: Long)Some[Long]">Some</span><span class="delimiter">(</span><a href="#236039" title="=&gt; org.squeryl.test.schooldb2.Subject">computerScience</a>.<a href="#234351" title="=&gt; Long">id</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>


    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Course" id="236043">chemistryCourse</a> = <a href="#234366" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Course]">courses</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#34602" title="(t: org.squeryl.test.schooldb2.Course)org.squeryl.test.schooldb2.Course">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.schooldb2.Course" class="keyword">new</span> <a href="#11259" title="org.squeryl.test.schooldb2.Course">Course</a><span class="delimiter">(</span><a href="#236035" title="=&gt; org.squeryl.test.schooldb2.Subject">chemistry</a>.<a href="#234351" title="=&gt; Long">id</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Course" id="236045">physicsCourse</a> = <a href="#234366" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Course]">courses</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#34602" title="(t: org.squeryl.test.schooldb2.Course)org.squeryl.test.schooldb2.Course">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.schooldb2.Course" class="keyword">new</span> <a href="#11259" title="org.squeryl.test.schooldb2.Course">Course</a><span class="delimiter">(</span><a href="#236037" title="=&gt; org.squeryl.test.schooldb2.Subject">physics</a>.<a href="#234351" title="=&gt; Long">id</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Student" id="236047">xiaoJimbao</a> = <a href="#234364" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Student]">students</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#34602" title="(t: org.squeryl.test.schooldb2.Student)org.squeryl.test.schooldb2.Student">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.schooldb2.Student" class="keyword">new</span> <a href="#11260" title="org.squeryl.test.schooldb2.Student">Student</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Xiao&quot;)" class="string">&quot;Xiao&quot;</span>, <span title="java.lang.String(&quot;Jimbao&quot;)" class="string">&quot;Jimbao&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>


<span class="comment">//  def testAll = {</span>
<span class="comment">//</span>
<span class="comment">//    testInFromSeq</span>
<span class="comment">//    testInFromSet</span>
<span class="comment">//</span>
<span class="comment">//    testIssue68</span>
<span class="comment">//</span>
<span class="comment">//    val entry = entries.insert(Entry(&quot;An entry&quot;))</span>
<span class="comment">//    val comment = Comment(&quot;A single comment&quot;)</span>
<span class="comment">//    entry.comments.associate(comment)</span>
<span class="comment">//</span>
<span class="comment">//    from(entry.comments)(c =&gt; where(c.id === comment.id) select(c))</span>
<span class="comment">//</span>
<span class="comment">//    seedData</span>
<span class="comment">//</span>
<span class="comment">//    testUpdateWithCompositePK</span>
<span class="comment">//</span>
<span class="comment">//    testCompositeEquality</span>
<span class="comment">//</span>
<span class="comment">//    testMany2ManyAssociationFromLeftSide</span>
<span class="comment">//    testMany2ManyAssociationsFromRightSide</span>
<span class="comment">//</span>
<span class="comment">//    testOneToMany</span>
<span class="comment">//</span>
<span class="comment">//    testUniquenessConstraint</span>
<span class="comment">//</span>
<span class="comment">//    SchoolDb2.drop</span>
<span class="comment">//  }</span>

  <a href="#11273" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a><span class="delimiter">(</span><span title="java.lang.String(&quot;associate comment&quot;)" class="string">&quot;associate comment&quot;</span><span class="delimiter">)</span><span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Entry" id="236145">entry</a> = <a href="#234356" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Entry]">entries</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#34602" title="(t: org.squeryl.test.schooldb2.Entry)org.squeryl.test.schooldb2.Entry">insert</a><span class="delimiter">(</span><a href="#238548" title="(text: String)org.squeryl.test.schooldb2.Entry">Entry</a><span class="delimiter">(</span><span title="java.lang.String(&quot;An entry&quot;)" class="string">&quot;An entry&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Comment" id="236146">comment</a> = <a href="#238527" title="(text: String, entryId: Int, userId: Int)org.squeryl.test.schooldb2.Comment">Comment</a><span class="delimiter">(</span><span title="java.lang.String(&quot;A single comment&quot;)" class="string">&quot;A single comment&quot;</span><span class="delimiter">)</span>
    <a href="#236145" title="org.squeryl.test.schooldb2.Entry">entry</a>.<a href="#235263" title="=&gt; org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Comment]">comments</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#75896" title="(m: org.squeryl.test.schooldb2.Comment)(implicit ev: &lt;:&lt;[org.squeryl.test.schooldb2.Comment,org.squeryl.KeyedEntity[_]])org.squeryl.test.schooldb2.Comment">associate</a><span title="&lt;:&lt;[org.squeryl.test.schooldb2.Comment,org.squeryl.test.schooldb2.Comment]" class="delimiter">(</span><a href="#236146" title="org.squeryl.test.schooldb2.Comment">comment</a><span class="delimiter">)</span>

    <a href="../../../../../main/org/squeryl/dsl/boilerplate/FromSignatures.scala.html#15987" title="(t1: org.squeryl.Queryable[org.squeryl.test.schooldb2.Comment])(f: org.squeryl.test.schooldb2.Comment =&gt; org.squeryl.dsl.QueryYield[org.squeryl.test.schooldb2.Comment])org.squeryl.Query[org.squeryl.test.schooldb2.Comment]">from</a><span class="delimiter">(</span><a href="#236145" title="org.squeryl.test.schooldb2.Entry">entry</a>.<a href="#235263" title="=&gt; org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Comment]">comments</a><span class="delimiter">)</span><span title="Unit" class="delimiter">(</span><a title="org.squeryl.test.schooldb2.Comment" id="236333">c</a> =&gt; <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15264" title="(b: =&gt; org.squeryl.dsl.ast.LogicalBoolean)org.squeryl.dsl.fsm.WhereState[org.squeryl.dsl.fsm.Conditioned]">where</a><span class="delimiter">(</span><a href="#236333" title="org.squeryl.test.schooldb2.Comment">c</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15191" title="implicit org.squeryl.dsl.DslFactory.int2ScalarInt : (i: org.squeryl.PrimitiveTypeMode.IntType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.IntType]">id</a> <a href="../../../../../main/org/squeryl/dsl/FieldTypes.scala.html#18121" title="(b: org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.IntType])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#236146" title="org.squeryl.test.schooldb2.Comment">comment</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15191" title="implicit org.squeryl.dsl.DslFactory.int2ScalarInt : (i: org.squeryl.PrimitiveTypeMode.IntType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.IntType]">id</a><span class="delimiter">)</span> <a href="../../../../../main/org/squeryl/dsl/fsm/StartState.scala.html#15765" title="(yieldClosure: =&gt; org.squeryl.test.schooldb2.Comment)org.squeryl.dsl.fsm.SelectState[org.squeryl.test.schooldb2.Comment]">select</a><span class="delimiter">(</span><a href="#236333" title="org.squeryl.test.schooldb2.Comment">c</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <a href="#11273" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a><span class="delimiter">(</span><span title="java.lang.String(&quot;UpdateWithCompositePK&quot;)" class="string">&quot;UpdateWithCompositePK&quot;</span><span class="delimiter">)</span><span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="seedDataDef extends java.lang.Object" id="236376">seedData</a> = <a href="#117246" title="=&gt; java.lang.Object{val professeurTournesol: org.squeryl.test.schooldb2.Professor; val madProfessor: org.squeryl.test.schooldb2.Professor; val philosophy: org.squeryl.test.schooldb2.Subject; val chemistry: org.squeryl.test.schooldb2.Subject; val physics: org.squeryl.test.schooldb2.Subject; val computerScience: org.squeryl.test.schooldb2.Subject; val computationTheory: org.squeryl.test.schooldb2.Subject; val chemistryCourse: org.squeryl.test.schooldb2.Course; val physicsCourse: org.squeryl.test.schooldb2.Course; val xiaoJimbao: org.squeryl.test.schooldb2.Student}">seedDataDef</a>
    <span class="keyword">import</span> <a href="#236376" title="seedDataDef extends java.lang.Object">seedData</a>._

    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Student" id="236378">xiao</a> = <a href="#234364" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Student]">students</a>.<a href="../../../../../main/org/squeryl/View.scala.html#20466" title="(k: Long)(implicit ev: &lt;:&lt;[org.squeryl.test.schooldb2.Student,org.squeryl.KeyedEntity[Long]], implicit dsl: org.squeryl.dsl.QueryDsl)Option[org.squeryl.test.schooldb2.Student]">lookup</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15261" title="&lt;:&lt;[org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.Student]" class="delimiter">(</a><a href="#236144" title="=&gt; org.squeryl.test.schooldb2.Student">xiaoJimbao</a>.<a href="#234351" title="=&gt; Long">id</a><span class="delimiter">)</span>.<span title="=&gt; org.squeryl.test.schooldb2.Student">get</span>

    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.CourseSubscription" id="236379">courseSubscription</a> = <a href="#236378" title="org.squeryl.test.schooldb2.Student">xiao</a>.<a href="#234642" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Course] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseSubscription]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#76070" title="(o: org.squeryl.test.schooldb2.Course)org.squeryl.test.schooldb2.CourseSubscription">assign</a><span class="delimiter">(</span><a href="#236142" title="=&gt; org.squeryl.test.schooldb2.Course">chemistryCourse</a><span class="delimiter">)</span>

    <a href="#234372" title="=&gt; org.squeryl.PrimitiveTypeMode.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.CourseSubscription]">courseSubscriptions</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#34602" title="(t: org.squeryl.test.schooldb2.CourseSubscription)org.squeryl.test.schooldb2.CourseSubscription">insert</a><span class="delimiter">(</span><a href="#236379" title="org.squeryl.test.schooldb2.CourseSubscription">courseSubscription</a><span class="delimiter">)</span>
    <a href="#236379" title="org.squeryl.test.schooldb2.CourseSubscription">courseSubscription</a>.<a href="#235053" title="(x$1: Float)Unit">grade</a> = <span title="Float(95.0)" class="float">95.0F</span>
    <a href="#234372" title="=&gt; org.squeryl.PrimitiveTypeMode.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.CourseSubscription]">courseSubscriptions</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#34607" title="(o: org.squeryl.test.schooldb2.CourseSubscription)(implicit ev: &lt;:&lt;[org.squeryl.test.schooldb2.CourseSubscription,org.squeryl.KeyedEntity[_]])Unit">update</a><span title="&lt;:&lt;[org.squeryl.test.schooldb2.CourseSubscription,org.squeryl.test.schooldb2.CourseSubscription]" class="delimiter">(</span><a href="#236379" title="org.squeryl.test.schooldb2.CourseSubscription">courseSubscription</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.CourseSubscription" id="236380">cs2</a> = <a href="#234372" title="=&gt; org.squeryl.PrimitiveTypeMode.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Student,org.squeryl.test.schooldb2.CourseSubscription]">courseSubscriptions</a>.<a href="../../../../../main/org/squeryl/View.scala.html#20466" title="(k: org.squeryl.dsl.CompositeKey2[Long,Long])(implicit ev: &lt;:&lt;[org.squeryl.test.schooldb2.CourseSubscription,org.squeryl.KeyedEntity[org.squeryl.dsl.CompositeKey2[Long,Long]]], implicit dsl: org.squeryl.dsl.QueryDsl)Option[org.squeryl.test.schooldb2.CourseSubscription]">lookup</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15261" title="&lt;:&lt;[org.squeryl.test.schooldb2.CourseSubscription,org.squeryl.test.schooldb2.CourseSubscription]" class="delimiter">(</a><a href="#236379" title="org.squeryl.test.schooldb2.CourseSubscription">courseSubscription</a>.<a href="#234685" title="=&gt; org.squeryl.dsl.CompositeKey2[Long,Long]">id</a><span class="delimiter">)</span>.<span title="=&gt; org.squeryl.test.schooldb2.CourseSubscription">get</span>
    
    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Float, actual: Float, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Float(95.0)" class="float">95.0F</span>, <a href="#236380" title="org.squeryl.test.schooldb2.CourseSubscription">cs2</a>.<a href="#235053" title="=&gt; Float">grade</a>, <span title="(name: String)Symbol" class="symbol">'testUpdateWithCompositePK</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117235" title="(s: Symbol)Unit">passed</a><span class="delimiter">(</span><span title="(name: String)Symbol" class="symbol">'testUpdateWithCompositePK</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <a href="#11273" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Many2ManyAssociationFromLeftSide&quot;)" class="string">&quot;Many2ManyAssociationFromLeftSide&quot;</span><span class="delimiter">)</span><span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="seedDataDef extends java.lang.Object" id="236473">seedData</a> = <a href="#117246" title="=&gt; java.lang.Object{val professeurTournesol: org.squeryl.test.schooldb2.Professor; val madProfessor: org.squeryl.test.schooldb2.Professor; val philosophy: org.squeryl.test.schooldb2.Subject; val chemistry: org.squeryl.test.schooldb2.Subject; val physics: org.squeryl.test.schooldb2.Subject; val computerScience: org.squeryl.test.schooldb2.Subject; val computationTheory: org.squeryl.test.schooldb2.Subject; val chemistryCourse: org.squeryl.test.schooldb2.Course; val physicsCourse: org.squeryl.test.schooldb2.Course; val xiaoJimbao: org.squeryl.test.schooldb2.Student}">seedDataDef</a>
    <span class="keyword">import</span> <a href="#236473" title="seedDataDef extends java.lang.Object">seedData</a>._

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span>, <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15292" title="(q: org.squeryl.Queryable[org.squeryl.test.schooldb2.CourseAssignment])org.squeryl.PrimitiveTypeMode.CountSubQueryableQuery">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15289" title="(sq: org.squeryl.PrimitiveTypeMode.ScalarQuery[org.squeryl.PrimitiveTypeMode.LongType])org.squeryl.PrimitiveTypeMode.LongType">Count</a> : <span title="Long">Long</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationFromLeftSide</span><span class="delimiter">)</span>

    <a href="#236135" title="=&gt; org.squeryl.test.schooldb2.Professor">professeurTournesol</a>.<a href="#234398" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Course] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#76071" title="(o: org.squeryl.test.schooldb2.Course)org.squeryl.test.schooldb2.CourseAssignment">associate</a><span class="delimiter">(</span><a href="#236143" title="=&gt; org.squeryl.test.schooldb2.Course">physicsCourse</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Course" id="236475">c1</a> = <a href="#236135" title="=&gt; org.squeryl.test.schooldb2.Professor">professeurTournesol</a>.<a href="#234398" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Course] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]">courses</a>.<a href="../../../../../main/org/squeryl/Query.scala.html#14065" title="=&gt; org.squeryl.test.schooldb2.Course">single</a> : <a href="#11259" title="org.squeryl.test.schooldb2.Course">Course</a>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#236475" title="org.squeryl.test.schooldb2.Course">c1</a>.<a href="#234351" title="=&gt; Long">id</a>,  <a href="#236143" title="=&gt; org.squeryl.test.schooldb2.Course">physicsCourse</a>.<a href="#234351" title="=&gt; Long">id</a>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationFromLeftSide</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.CourseAssignment" id="236476">ca</a> = <a href="#236135" title="=&gt; org.squeryl.test.schooldb2.Professor">professeurTournesol</a>.<a href="#234398" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Course] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#76074" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.CourseAssignment]">associations</a>.<a href="../../../../../main/org/squeryl/Query.scala.html#14065" title="=&gt; org.squeryl.test.schooldb2.CourseAssignment">single</a> : <a href="#11263" title="org.squeryl.test.schooldb2.CourseAssignment">CourseAssignment</a>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#236476" title="org.squeryl.test.schooldb2.CourseAssignment">ca</a>.<a href="#235156" title="=&gt; Long">courseId</a>,  <a href="#236143" title="=&gt; org.squeryl.test.schooldb2.Course">physicsCourse</a>.<a href="#234351" title="=&gt; Long">id</a>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationFromLeftSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Int, actual: Int, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#236135" title="=&gt; org.squeryl.test.schooldb2.Professor">professeurTournesol</a>.<a href="#234398" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Course] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#76073" title="=&gt; Int">dissociateAll</a>, <span title="Int(1)" class="int">1</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationFromLeftSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Int, actual: Int, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#236135" title="=&gt; org.squeryl.test.schooldb2.Professor">professeurTournesol</a>.<a href="#234398" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Course] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#76073" title="=&gt; Int">dissociateAll</a>, <span title="Int(0)" class="int">0</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationFromLeftSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span>, <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15292" title="(q: org.squeryl.Queryable[org.squeryl.test.schooldb2.CourseAssignment])org.squeryl.PrimitiveTypeMode.CountSubQueryableQuery">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15289" title="(sq: org.squeryl.PrimitiveTypeMode.ScalarQuery[org.squeryl.PrimitiveTypeMode.LongType])org.squeryl.PrimitiveTypeMode.LongType">Count</a> : <span title="Long">Long</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationFromLeftSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117235" title="(s: Symbol)Unit">passed</a><span class="delimiter">(</span><span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationFromLeftSide</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <a href="#11273" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Many2ManyAssociationsFromRightSide&quot;)" class="string">&quot;Many2ManyAssociationsFromRightSide&quot;</span><span class="delimiter">)</span><span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="seedDataDef extends java.lang.Object" id="236706">seedData</a> = <a href="#117246" title="=&gt; java.lang.Object{val professeurTournesol: org.squeryl.test.schooldb2.Professor; val madProfessor: org.squeryl.test.schooldb2.Professor; val philosophy: org.squeryl.test.schooldb2.Subject; val chemistry: org.squeryl.test.schooldb2.Subject; val physics: org.squeryl.test.schooldb2.Subject; val computerScience: org.squeryl.test.schooldb2.Subject; val computationTheory: org.squeryl.test.schooldb2.Subject; val chemistryCourse: org.squeryl.test.schooldb2.Course; val physicsCourse: org.squeryl.test.schooldb2.Course; val xiaoJimbao: org.squeryl.test.schooldb2.Student}">seedDataDef</a>
    <span class="keyword">import</span> <a href="#236706" title="seedDataDef extends java.lang.Object">seedData</a>._

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span>, <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15292" title="(q: org.squeryl.Queryable[org.squeryl.test.schooldb2.CourseAssignment])org.squeryl.PrimitiveTypeMode.CountSubQueryableQuery">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15289" title="(sq: org.squeryl.PrimitiveTypeMode.ScalarQuery[org.squeryl.PrimitiveTypeMode.LongType])org.squeryl.PrimitiveTypeMode.LongType">Count</a> : <span title="Long">Long</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>

    <a href="#236143" title="=&gt; org.squeryl.test.schooldb2.Course">physicsCourse</a>.<a href="#234465" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Professor] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.CourseAssignment]">professors</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#76071" title="(o: org.squeryl.test.schooldb2.Professor)org.squeryl.test.schooldb2.CourseAssignment">associate</a><span class="delimiter">(</span><a href="#236135" title="=&gt; org.squeryl.test.schooldb2.Professor">professeurTournesol</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Professor" id="236708">profT</a> = <a href="#236143" title="=&gt; org.squeryl.test.schooldb2.Course">physicsCourse</a>.<a href="#234465" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Professor] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.CourseAssignment]">professors</a>.<a href="../../../../../main/org/squeryl/Query.scala.html#14065" title="=&gt; org.squeryl.test.schooldb2.Professor">single</a> : <a href="#11257" title="org.squeryl.test.schooldb2.Professor">Professor</a>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: String, actual: String, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#236135" title="=&gt; org.squeryl.test.schooldb2.Professor">professeurTournesol</a>.<a href="#234602" title="=&gt; String">lastName</a>, <a href="#236708" title="org.squeryl.test.schooldb2.Professor">profT</a>.<a href="#234602" title="=&gt; String">lastName</a>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.CourseAssignment" id="236709">ca</a> = <a href="#236135" title="=&gt; org.squeryl.test.schooldb2.Professor">professeurTournesol</a>.<a href="#234398" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Course] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#76074" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.CourseAssignment]">associations</a>.<a href="../../../../../main/org/squeryl/Query.scala.html#14065" title="=&gt; org.squeryl.test.schooldb2.CourseAssignment">single</a> : <a href="#11263" title="org.squeryl.test.schooldb2.CourseAssignment">CourseAssignment</a>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#236709" title="org.squeryl.test.schooldb2.CourseAssignment">ca</a>.<a href="#235156" title="=&gt; Long">courseId</a>,  <a href="#236143" title="=&gt; org.squeryl.test.schooldb2.Course">physicsCourse</a>.<a href="#234351" title="=&gt; Long">id</a>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Int, actual: Int, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#236143" title="=&gt; org.squeryl.test.schooldb2.Course">physicsCourse</a>.<a href="#234465" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Professor] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.CourseAssignment]">professors</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#76073" title="=&gt; Int">dissociateAll</a>, <span title="Int(1)" class="int">1</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Int, actual: Int, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#236143" title="=&gt; org.squeryl.test.schooldb2.Course">physicsCourse</a>.<a href="#234465" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Professor] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.CourseAssignment]">professors</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#76073" title="=&gt; Int">dissociateAll</a>, <span title="Int(0)" class="int">0</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span>, <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15292" title="(q: org.squeryl.Queryable[org.squeryl.test.schooldb2.CourseAssignment])org.squeryl.PrimitiveTypeMode.CountSubQueryableQuery">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15289" title="(sq: org.squeryl.PrimitiveTypeMode.ScalarQuery[org.squeryl.PrimitiveTypeMode.LongType])org.squeryl.PrimitiveTypeMode.LongType">Count</a> : <span title="Long">Long</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117235" title="(s: Symbol)Unit">passed</a><span class="delimiter">(</span><span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <a href="#11273" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a><span class="delimiter">(</span><span title="java.lang.String(&quot;OneToMany&quot;)" class="string">&quot;OneToMany&quot;</span><span class="delimiter">)</span><span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="seedDataDef extends java.lang.Object" id="236940">seedData</a> = <a href="#117246" title="=&gt; java.lang.Object{val professeurTournesol: org.squeryl.test.schooldb2.Professor; val madProfessor: org.squeryl.test.schooldb2.Professor; val philosophy: org.squeryl.test.schooldb2.Subject; val chemistry: org.squeryl.test.schooldb2.Subject; val physics: org.squeryl.test.schooldb2.Subject; val computerScience: org.squeryl.test.schooldb2.Subject; val computationTheory: org.squeryl.test.schooldb2.Subject; val chemistryCourse: org.squeryl.test.schooldb2.Course; val physicsCourse: org.squeryl.test.schooldb2.Course; val xiaoJimbao: org.squeryl.test.schooldb2.Student}">seedDataDef</a>
    <span class="keyword">import</span> <a href="#236940" title="seedDataDef extends java.lang.Object">seedData</a>._

    <span class="keyword">val</span> <a title="Long" id="236942">pc</a> = <a href="#236137" title="=&gt; org.squeryl.test.schooldb2.Subject">philosophy</a>.<a href="#234351" title="=&gt; Long">id</a>

    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Course" id="236943">philosophyCourse10AMWednesday</a> = <a href="#234464" title="()org.squeryl.test.schooldb2.Course" class="keyword">new</a> <a href="#11259" title="org.squeryl.test.schooldb2.Course">Course</a>
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Course" id="236944">philosophyCourse2PMWednesday</a> = <a href="#234464" title="()org.squeryl.test.schooldb2.Course" class="keyword">new</a> <a href="#11259" title="org.squeryl.test.schooldb2.Course">Course</a>
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Course" id="236945">philosophyCourse3PMFriday</a> = <a href="#234464" title="()org.squeryl.test.schooldb2.Course" class="keyword">new</a> <a href="#11259" title="org.squeryl.test.schooldb2.Course">Course</a>

    <a href="#236137" title="=&gt; org.squeryl.test.schooldb2.Subject">philosophy</a>.<a href="#234799" title="=&gt; org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Course]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#75896" title="(m: org.squeryl.test.schooldb2.Course)(implicit ev: &lt;:&lt;[org.squeryl.test.schooldb2.Course,org.squeryl.KeyedEntity[_]])org.squeryl.test.schooldb2.Course">associate</a><span title="&lt;:&lt;[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Course]" class="delimiter">(</span><a href="#236943" title="org.squeryl.test.schooldb2.Course">philosophyCourse10AMWednesday</a><span class="delimiter">)</span>
    <a href="#236137" title="=&gt; org.squeryl.test.schooldb2.Subject">philosophy</a>.<a href="#234799" title="=&gt; org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Course]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#75896" title="(m: org.squeryl.test.schooldb2.Course)(implicit ev: &lt;:&lt;[org.squeryl.test.schooldb2.Course,org.squeryl.KeyedEntity[_]])org.squeryl.test.schooldb2.Course">associate</a><span title="&lt;:&lt;[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Course]" class="delimiter">(</span><a href="#236944" title="org.squeryl.test.schooldb2.Course">philosophyCourse2PMWednesday</a><span class="delimiter">)</span>
    <a href="#236137" title="=&gt; org.squeryl.test.schooldb2.Subject">philosophy</a>.<a href="#234799" title="=&gt; org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Course]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#75896" title="(m: org.squeryl.test.schooldb2.Course)(implicit ev: &lt;:&lt;[org.squeryl.test.schooldb2.Course,org.squeryl.KeyedEntity[_]])org.squeryl.test.schooldb2.Course">associate</a><span title="&lt;:&lt;[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Course]" class="delimiter">(</span><a href="#236945" title="org.squeryl.test.schooldb2.Course">philosophyCourse3PMFriday</a><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: scala.collection.immutable.Set[Long], actual: scala.collection.immutable.Set[Long], s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span>
      <a href="#236137" title="=&gt; org.squeryl.test.schooldb2.Subject">philosophy</a>.<a href="#234799" title="=&gt; org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Course]">courses</a>.<span title="(f: org.squeryl.test.schooldb2.Course =&gt; Long)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[org.squeryl.test.schooldb2.Course],Long,Iterable[Long]])Iterable[Long]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,Long,Iterable[Long]]" class="delimiter">(</span><a href="#237000" title="org.squeryl.test.schooldb2.Course">_</a>.<a href="#234351" title="=&gt; Long">id</a><span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[Long]">toSet</span>,
      <span title="(elems: Long*)scala.collection.immutable.Set[Long]">Set</span><span class="delimiter">(</span><a href="#236943" title="org.squeryl.test.schooldb2.Course">philosophyCourse10AMWednesday</a>.<a href="#234351" title="=&gt; Long">id</a>, <a href="#236944" title="org.squeryl.test.schooldb2.Course">philosophyCourse2PMWednesday</a>.<a href="#234351" title="=&gt; Long">id</a>, <a href="#236945" title="org.squeryl.test.schooldb2.Course">philosophyCourse3PMFriday</a>.<a href="#234351" title="=&gt; Long">id</a><span class="delimiter">)</span>,
      <span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: String, actual: String, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span>
      <a href="#236944" title="org.squeryl.test.schooldb2.Course">philosophyCourse2PMWednesday</a>.<a href="#234469" title="=&gt; org.squeryl.dsl.ManyToOne[org.squeryl.test.schooldb2.Subject]">subject</a>.<a href="../../../../../main/org/squeryl/Query.scala.html#14065" title="=&gt; org.squeryl.test.schooldb2.Subject">single</a>.<a href="#235044" title="=&gt; String">name</a>,
      <a href="#236137" title="=&gt; org.squeryl.test.schooldb2.Subject">philosophy</a>.<a href="#235044" title="=&gt; String">name</a>,
      <span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>

    <span class="comment">// verify that a reassociation does an update and not an insert :</span>
    <span class="keyword">val</span> <a title="Long" id="236946">pk1</a> = <a href="#236945" title="org.squeryl.test.schooldb2.Course">philosophyCourse3PMFriday</a>.<a href="#234351" title="=&gt; Long">id</a>

    <a href="#236141" title="=&gt; org.squeryl.test.schooldb2.Subject">computationTheory</a>.<a href="#234799" title="=&gt; org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Course]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#75896" title="(m: org.squeryl.test.schooldb2.Course)(implicit ev: &lt;:&lt;[org.squeryl.test.schooldb2.Course,org.squeryl.KeyedEntity[_]])org.squeryl.test.schooldb2.Course">associate</a><span title="&lt;:&lt;[org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.Course]" class="delimiter">(</span><a href="#236945" title="org.squeryl.test.schooldb2.Course">philosophyCourse3PMFriday</a><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span>
      <a href="#236946" title="Long">pk1</a>,
      <a href="#236945" title="org.squeryl.test.schooldb2.Course">philosophyCourse3PMFriday</a>.<a href="#234351" title="=&gt; Long">id</a>,
      <span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>

    <span class="comment">// verify that the reassociation worked, which means that</span>
    <span class="comment">// 1) : the set of philosophy.courses was reduced properly</span>
    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: scala.collection.immutable.Set[Long], actual: scala.collection.immutable.Set[Long], s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span>
      <a href="#236137" title="=&gt; org.squeryl.test.schooldb2.Subject">philosophy</a>.<a href="#234799" title="=&gt; org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Course]">courses</a>.<span title="(f: org.squeryl.test.schooldb2.Course =&gt; Long)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[org.squeryl.test.schooldb2.Course],Long,Iterable[Long]])Iterable[Long]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,Long,Iterable[Long]]" class="delimiter">(</span><a href="#237138" title="org.squeryl.test.schooldb2.Course">_</a>.<a href="#234351" title="=&gt; Long">id</a><span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[Long]">toSet</span>,
      <span title="(elems: Long*)scala.collection.immutable.Set[Long]">Set</span><span class="delimiter">(</span><a href="#236943" title="org.squeryl.test.schooldb2.Course">philosophyCourse10AMWednesday</a>.<a href="#234351" title="=&gt; Long">id</a>, <a href="#236944" title="org.squeryl.test.schooldb2.Course">philosophyCourse2PMWednesday</a>.<a href="#234351" title="=&gt; Long">id</a><span class="delimiter">)</span>,
      <span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>

    <span class="comment">// 2) philosophyCourse3PMFriday.subject points to the proper subject</span>
    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: String, actual: String, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span>
      <a href="#236141" title="=&gt; org.squeryl.test.schooldb2.Subject">computationTheory</a>.<a href="#235044" title="=&gt; String">name</a>,
      <a href="#236945" title="org.squeryl.test.schooldb2.Course">philosophyCourse3PMFriday</a>.<a href="#234469" title="=&gt; org.squeryl.dsl.ManyToOne[org.squeryl.test.schooldb2.Subject]">subject</a>.<a href="../../../../../main/org/squeryl/Query.scala.html#14065" title="=&gt; org.squeryl.test.schooldb2.Subject">single</a>.<a href="#235044" title="=&gt; String">name</a>,
      <span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117235" title="(s: Symbol)Unit">passed</a><span class="delimiter">(</span><span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <a href="#11273" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a><span class="delimiter">(</span><span title="java.lang.String(&quot;CompositeEquality&quot;)" class="string">&quot;CompositeEquality&quot;</span><span class="delimiter">)</span><span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="seedDataDef extends java.lang.Object" id="237216">seedData</a> = <a href="#117246" title="=&gt; java.lang.Object{val professeurTournesol: org.squeryl.test.schooldb2.Professor; val madProfessor: org.squeryl.test.schooldb2.Professor; val philosophy: org.squeryl.test.schooldb2.Subject; val chemistry: org.squeryl.test.schooldb2.Subject; val physics: org.squeryl.test.schooldb2.Subject; val computerScience: org.squeryl.test.schooldb2.Subject; val computationTheory: org.squeryl.test.schooldb2.Subject; val chemistryCourse: org.squeryl.test.schooldb2.Course; val physicsCourse: org.squeryl.test.schooldb2.Course; val xiaoJimbao: org.squeryl.test.schooldb2.Student}">seedDataDef</a>
    <span class="keyword">import</span> <a href="#237216" title="seedDataDef extends java.lang.Object">seedData</a>._
    
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.CourseAssignment" id="237218">a</a> = <a href="#236143" title="=&gt; org.squeryl.test.schooldb2.Course">physicsCourse</a>.<a href="#234465" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Professor] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.CourseAssignment]">professors</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#76071" title="(o: org.squeryl.test.schooldb2.Professor)org.squeryl.test.schooldb2.CourseAssignment">associate</a><span class="delimiter">(</span><a href="#236135" title="=&gt; org.squeryl.test.schooldb2.Professor">professeurTournesol</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="Option[org.squeryl.test.schooldb2.CourseAssignment]" id="237219">qA</a> = <a href="#234370" title="=&gt; org.squeryl.PrimitiveTypeMode.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]">courseAssignments</a>.<a href="../../../../../main/org/squeryl/View.scala.html#20466" title="(k: org.squeryl.dsl.CompositeKey2[Long,Long])(implicit ev: &lt;:&lt;[org.squeryl.test.schooldb2.CourseAssignment,org.squeryl.KeyedEntity[org.squeryl.dsl.CompositeKey2[Long,Long]]], implicit dsl: org.squeryl.dsl.QueryDsl)Option[org.squeryl.test.schooldb2.CourseAssignment]">lookup</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15261" title="&lt;:&lt;[org.squeryl.test.schooldb2.CourseAssignment,org.squeryl.test.schooldb2.CourseAssignment]" class="delimiter">(</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15347" title="(a1: Long, a2: Long)org.squeryl.dsl.CompositeKey2[Long,Long]">compositeKey</a><span class="delimiter">(</span><a href="#237218" title="org.squeryl.test.schooldb2.CourseAssignment">a</a>.<a href="#235156" title="=&gt; Long">courseId</a>, <a href="#237218" title="org.squeryl.test.schooldb2.CourseAssignment">a</a>.<a href="#235157" title="=&gt; Long">professorId</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="#117247" title="(oca: Option[org.squeryl.test.schooldb2.CourseAssignment], ca: org.squeryl.test.schooldb2.CourseAssignment)Unit">_existsAndEquals</a><span class="delimiter">(</span><a href="#237219" title="Option[org.squeryl.test.schooldb2.CourseAssignment]">qA</a>, <a href="#237218" title="org.squeryl.test.schooldb2.CourseAssignment">a</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.Query[org.squeryl.test.schooldb2.CourseAssignment]" id="237220">qA2</a> =
      <a href="../../../../../main/org/squeryl/dsl/boilerplate/FromSignatures.scala.html#15987" title="(t1: org.squeryl.Queryable[org.squeryl.test.schooldb2.CourseAssignment])(f: org.squeryl.test.schooldb2.CourseAssignment =&gt; org.squeryl.dsl.QueryYield[org.squeryl.test.schooldb2.CourseAssignment])org.squeryl.Query[org.squeryl.test.schooldb2.CourseAssignment]">from</a><span class="delimiter">(</span><a href="#234370" title="=&gt; org.squeryl.PrimitiveTypeMode.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]">courseAssignments</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="org.squeryl.test.schooldb2.CourseAssignment" id="237519">ca</a> =&gt;
        <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15264" title="(b: =&gt; org.squeryl.dsl.ast.LogicalBoolean)org.squeryl.dsl.fsm.WhereState[org.squeryl.dsl.fsm.Conditioned]">where</a><span class="delimiter">(</span><a href="#237519" title="org.squeryl.test.schooldb2.CourseAssignment">ca</a>.<a href="#234508" title="=&gt; org.squeryl.dsl.CompositeKey2[Long,Long]">id</a> <a href="../../../../../main/org/squeryl/dsl/CompositeKey.scala.html#19950" title="(ck: (Long, Long))org.squeryl.dsl.ast.LogicalBoolean">===</a><span class="delimiter">(</span><a href="#237218" title="org.squeryl.test.schooldb2.CourseAssignment">a</a>.<a href="#235156" title="=&gt; Long">courseId</a>, <a href="#237218" title="org.squeryl.test.schooldb2.CourseAssignment">a</a>.<a href="#235157" title="=&gt; Long">professorId</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../../../../../main/org/squeryl/dsl/fsm/StartState.scala.html#15765" title="(yieldClosure: =&gt; org.squeryl.test.schooldb2.CourseAssignment)org.squeryl.dsl.fsm.SelectState[org.squeryl.test.schooldb2.CourseAssignment]">select</a><span class="delimiter">(</span><a href="#237519" title="org.squeryl.test.schooldb2.CourseAssignment">ca</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>

    <a href="#117247" title="(oca: Option[org.squeryl.test.schooldb2.CourseAssignment], ca: org.squeryl.test.schooldb2.CourseAssignment)Unit">_existsAndEquals</a><span class="delimiter">(</span><a href="#237220" title="org.squeryl.Query[org.squeryl.test.schooldb2.CourseAssignment]">qA2</a>.<a href="../../../../../main/org/squeryl/Query.scala.html#14066" title="=&gt; Option[org.squeryl.test.schooldb2.CourseAssignment]">headOption</a>, <a href="#237218" title="org.squeryl.test.schooldb2.CourseAssignment">a</a><span class="delimiter">)</span>

    <span class="comment">//println(qA2.statement)</span>

    <span class="keyword">val</span> <a title="org.squeryl.Query[org.squeryl.test.schooldb2.CourseAssignment]" id="237221">qA3</a> =
      <a href="#234370" title="=&gt; org.squeryl.PrimitiveTypeMode.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]">courseAssignments</a>.<a href="../../../../../main/org/squeryl/Queryable.scala.html#20047" title="(whereClauseFunctor: org.squeryl.test.schooldb2.CourseAssignment =&gt; org.squeryl.dsl.ast.LogicalBoolean)(implicit dsl: org.squeryl.dsl.QueryDsl)org.squeryl.Query[org.squeryl.test.schooldb2.CourseAssignment]">where</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15261" title="=&gt; org.squeryl.dsl.QueryDsl" class="delimiter">(</a><a href="#237544" title="org.squeryl.test.schooldb2.CourseAssignment">_</a>.<a href="#234508" title="=&gt; org.squeryl.dsl.CompositeKey2[Long,Long]">id</a> <a href="../../../../../main/org/squeryl/dsl/CompositeKey.scala.html#19949" title="(ck: org.squeryl.dsl.CompositeKey2[Long,Long])org.squeryl.dsl.ast.LogicalBoolean">===</a> <a href="#237218" title="org.squeryl.test.schooldb2.CourseAssignment">a</a>.<a href="#234508" title="=&gt; org.squeryl.dsl.CompositeKey2[Long,Long]">id</a><span class="delimiter">)</span>

    <a href="#117247" title="(oca: Option[org.squeryl.test.schooldb2.CourseAssignment], ca: org.squeryl.test.schooldb2.CourseAssignment)Unit">_existsAndEquals</a><span class="delimiter">(</span><a href="#237221" title="org.squeryl.Query[org.squeryl.test.schooldb2.CourseAssignment]">qA3</a>.<a href="../../../../../main/org/squeryl/Query.scala.html#14066" title="=&gt; Option[org.squeryl.test.schooldb2.CourseAssignment]">headOption</a>, <a href="#237218" title="org.squeryl.test.schooldb2.CourseAssignment">a</a><span class="delimiter">)</span>

    <a href="#234370" title="=&gt; org.squeryl.PrimitiveTypeMode.ManyToManyRelationImpl[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.Course,org.squeryl.test.schooldb2.CourseAssignment]">courseAssignments</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#34615" title="(k: org.squeryl.dsl.CompositeKey2[Long,Long])(implicit ev: &lt;:&lt;[org.squeryl.test.schooldb2.CourseAssignment,org.squeryl.KeyedEntity[org.squeryl.dsl.CompositeKey2[Long,Long]]], implicit dsl: org.squeryl.dsl.QueryDsl)Boolean">delete</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15261" title="&lt;:&lt;[org.squeryl.test.schooldb2.CourseAssignment,org.squeryl.test.schooldb2.CourseAssignment]" class="delimiter">(</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15347" title="(a1: Long, a2: Long)org.squeryl.dsl.CompositeKey2[Long,Long]">compositeKey</a><span class="delimiter">(</span><a href="#237218" title="org.squeryl.test.schooldb2.CourseAssignment">a</a>.<a href="#235156" title="=&gt; Long">courseId</a>, <a href="#237218" title="org.squeryl.test.schooldb2.CourseAssignment">a</a>.<a href="#235157" title="=&gt; Long">professorId</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Long(0L)" class="long">0L</span>, <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15292" title="(q: org.squeryl.Queryable[org.squeryl.test.schooldb2.CourseAssignment])org.squeryl.PrimitiveTypeMode.CountSubQueryableQuery">qA3</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15289" title="(sq: org.squeryl.PrimitiveTypeMode.ScalarQuery[org.squeryl.PrimitiveTypeMode.LongType])org.squeryl.PrimitiveTypeMode.LongType">Count</a>: <span title="Long">Long</span>, <span title="(name: String)Symbol" class="symbol">'testCompositeEquality</span><span class="delimiter">)</span>

    <span class="comment">//println(ca2.statement)</span>
    <a href="../../framework/QueryTester.scala.html#117235" title="(s: Symbol)Unit">passed</a><span class="delimiter">(</span><span title="(name: String)Symbol" class="symbol">'testCompositeEquality</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(oca: Option[org.squeryl.test.schooldb2.CourseAssignment], ca: org.squeryl.test.schooldb2.CourseAssignment)Unit" id="117247">_existsAndEquals</a><span class="delimiter">(</span><a title="Option[org.squeryl.test.schooldb2.CourseAssignment]" id="237337">oca</a>: <span title="Option[org.squeryl.test.schooldb2.CourseAssignment]">Option</span><span class="delimiter">[</span>CourseAssignment<span class="delimiter">]</span>, <a title="org.squeryl.test.schooldb2.CourseAssignment" id="237338">ca</a>: <a href="#11263" title="org.squeryl.test.schooldb2.CourseAssignment">CourseAssignment</a><span class="delimiter">)</span> = <span class="delimiter">{</span>

    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#237337" title="Option[org.squeryl.test.schooldb2.CourseAssignment]">oca</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span>
      org.squeryl.internals.<a href="../../../../../main/org/squeryl/internals/Utils.scala.html#10829" title="object org.squeryl.internals.Utils">Utils</a>.<a href="../../../../../main/org/squeryl/internals/Utils.scala.html#30502" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;query returned no rows&quot;)" class="string">&quot;query returned no rows&quot;</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: org.squeryl.dsl.CompositeKey2[Long,Long], actual: org.squeryl.dsl.CompositeKey2[Long,Long], s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#237338" title="org.squeryl.test.schooldb2.CourseAssignment">ca</a>.<a href="#234508" title="=&gt; org.squeryl.dsl.CompositeKey2[Long,Long]">id</a>, <a href="#237337" title="Option[org.squeryl.test.schooldb2.CourseAssignment]">oca</a>.<span title="=&gt; org.squeryl.test.schooldb2.CourseAssignment">get</span>.<a href="#234508" title="=&gt; org.squeryl.dsl.CompositeKey2[Long,Long]">id</a>, <span title="(name: String)Symbol" class="symbol">'testCompositeEquality</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <a href="#11273" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a><span class="delimiter">(</span><span title="java.lang.String(&quot;UniquenessConstraint&quot;)" class="string">&quot;UniquenessConstraint&quot;</span><span class="delimiter">)</span><span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="seedDataDef extends java.lang.Object" id="237737">seedData</a> = <a href="#117246" title="=&gt; java.lang.Object{val professeurTournesol: org.squeryl.test.schooldb2.Professor; val madProfessor: org.squeryl.test.schooldb2.Professor; val philosophy: org.squeryl.test.schooldb2.Subject; val chemistry: org.squeryl.test.schooldb2.Subject; val physics: org.squeryl.test.schooldb2.Subject; val computerScience: org.squeryl.test.schooldb2.Subject; val computationTheory: org.squeryl.test.schooldb2.Subject; val chemistryCourse: org.squeryl.test.schooldb2.Course; val physicsCourse: org.squeryl.test.schooldb2.Course; val xiaoJimbao: org.squeryl.test.schooldb2.Student}">seedDataDef</a>
    <span class="keyword">import</span> <a href="#237737" title="seedDataDef extends java.lang.Object">seedData</a>._
    
    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span>, <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15292" title="(q: org.squeryl.Queryable[org.squeryl.test.schooldb2.CourseAssignment])org.squeryl.PrimitiveTypeMode.CountSubQueryableQuery">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15289" title="(sq: org.squeryl.PrimitiveTypeMode.ScalarQuery[org.squeryl.PrimitiveTypeMode.LongType])org.squeryl.PrimitiveTypeMode.LongType">Count</a> : <span title="Long">Long</span>, <span title="(name: String)Symbol" class="symbol">'testUniquenessConstraint</span><span class="delimiter">)</span>

    <a href="#236143" title="=&gt; org.squeryl.test.schooldb2.Course">physicsCourse</a>.<a href="#234465" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Professor] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.CourseAssignment]">professors</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#76071" title="(o: org.squeryl.test.schooldb2.Professor)org.squeryl.test.schooldb2.CourseAssignment">associate</a><span class="delimiter">(</span><a href="#236135" title="=&gt; org.squeryl.test.schooldb2.Professor">professeurTournesol</a><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Long(1L)" class="int">1</span>, <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15292" title="(q: org.squeryl.Queryable[org.squeryl.test.schooldb2.CourseAssignment])org.squeryl.PrimitiveTypeMode.CountSubQueryableQuery">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15289" title="(sq: org.squeryl.PrimitiveTypeMode.ScalarQuery[org.squeryl.PrimitiveTypeMode.LongType])org.squeryl.PrimitiveTypeMode.LongType">Count</a> : <span title="Long">Long</span>, <span title="(name: String)Symbol" class="symbol">'testUniquenessConstraint</span><span class="delimiter">)</span>

    <span class="keyword">var</span> <a title="Boolean" id="237739">exceptionThrown</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="keyword">val</span> <a title="org.squeryl.Session" id="237740">s</a> = <a href="../../../../../main/org/squeryl/Session.scala.html#9848" title="object org.squeryl.Session">Session</a>.<a href="../../../../../main/org/squeryl/Session.scala.html#34680" title="=&gt; org.squeryl.Session">currentSession</a>

    <span class="keyword">val</span> <a title="Option[java.sql.Savepoint]" id="237741">sp</a>: <span title="Option[java.sql.Savepoint]">Option</span><span class="delimiter">[</span>Savepoint<span class="delimiter">]</span> =
      <span title="Option[java.sql.Savepoint]" class="keyword">if</span><span class="delimiter">(</span><a href="#237740" title="org.squeryl.Session">s</a>.<a href="../../../../../main/org/squeryl/Session.scala.html#34691" title="=&gt; org.squeryl.internals.DatabaseAdapter">databaseAdapter</a>.<a href="../../../../../main/org/squeryl/internals/DatabaseAdapter.scala.html#34756" title="=&gt; Boolean">failureOfStatementRequiresRollback</a><span class="delimiter">)</span>
        <span title="(x: java.sql.Savepoint)Some[java.sql.Savepoint]">Some</span><span class="delimiter">(</span><a href="#237740" title="org.squeryl.Session">s</a>.<a href="../../../../../main/org/squeryl/Session.scala.html#34689" title="=&gt; java.sql.Connection">connection</a>.<span title="()java.sql.Savepoint">setSavepoint</span><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <span title="object None">None</span>
    
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <a href="#236143" title="=&gt; org.squeryl.test.schooldb2.Course">physicsCourse</a>.<a href="#234465" title="=&gt; org.squeryl.Query[org.squeryl.test.schooldb2.Professor] with org.squeryl.dsl.ManyToMany[org.squeryl.test.schooldb2.Professor,org.squeryl.test.schooldb2.CourseAssignment]">professors</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#76071" title="(o: org.squeryl.test.schooldb2.Professor)org.squeryl.test.schooldb2.CourseAssignment">associate</a><span class="delimiter">(</span><a href="#236135" title="=&gt; org.squeryl.test.schooldb2.Professor">professeurTournesol</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">catch</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Unit" id="237854">e</a>:<span title="RuntimeException">RuntimeException</span> =&gt; <span class="delimiter">{</span>
        <a href="#237739" title="Boolean">exceptionThrown</a> = <span title="Boolean(true)" class="keyword">true</span>
        <a href="#237741" title="Option[java.sql.Savepoint]">sp</a>.<span title="(f: java.sql.Savepoint =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#237740" title="org.squeryl.Session">s</a>.<a href="../../../../../main/org/squeryl/Session.scala.html#34689" title="=&gt; java.sql.Connection">connection</a>.<span title="(x$1: java.sql.Savepoint)Unit">rollback</span><span class="delimiter">(</span><a href="#237859" title="java.sql.Savepoint">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span> <a href="#237739" title="Boolean">exceptionThrown</a><span class="delimiter">)</span>
      org.squeryl.internals.<a href="../../../../../main/org/squeryl/internals/Utils.scala.html#10829" title="object org.squeryl.internals.Utils">Utils</a>.<a href="../../../../../main/org/squeryl/internals/Utils.scala.html#30502" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="symbol">'testUniquenessConstraint</span> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; failed, unique constraint violation occured&quot;)" class="string">&quot; failed, unique constraint violation occured&quot;</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Long(1L)" class="int">1</span>, <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15292" title="(q: org.squeryl.Queryable[org.squeryl.test.schooldb2.CourseAssignment])org.squeryl.PrimitiveTypeMode.CountSubQueryableQuery">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15289" title="(sq: org.squeryl.PrimitiveTypeMode.ScalarQuery[org.squeryl.PrimitiveTypeMode.LongType])org.squeryl.PrimitiveTypeMode.LongType">Count</a> : <span title="Long">Long</span>, <span title="(name: String)Symbol" class="symbol">'testUniquenessConstraint</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117235" title="(s: Symbol)Unit">passed</a><span class="delimiter">(</span><span title="(name: String)Symbol" class="symbol">'testUniquenessConstraint</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>


<span class="comment">//  test(&quot;Issue68&quot;){</span>
<span class="comment">//    //https://github.com/max-l/Squeryl/issues#issue/68</span>
<span class="comment">//    // Invoking a persisent field during construction causes interference in AST construction</span>
<span class="comment">//</span>
<span class="comment">//    val a = new ASTConstructionInterferenceA</span>
<span class="comment">//    val bs = a.bs</span>
<span class="comment">//    val ast = bs.ast.asInstanceOf[QueryExpressionElements]</span>
<span class="comment">//</span>
<span class="comment">//    val andExp = ast.whereClause.get.asInstanceOf[EqualityExpression]</span>
<span class="comment">//</span>
<span class="comment">//    assert(andExp.left.isInstanceOf[ConstantExpressionNode[_]], &quot;expected a ConstantExpressionNode[_] in the where clause :\n&quot; + bs.statement)</span>
<span class="comment">//</span>
<span class="comment">//    bs.deleteAll</span>
<span class="comment">//    passed('testIssue68)</span>
<span class="comment">//  }</span>

  <a href="#11273" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a><span class="delimiter">(</span><span title="java.lang.String(&quot;InFromSet&quot;)" class="string">&quot;InFromSet&quot;</span><span class="delimiter">)</span><span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.Set[java.lang.String]" id="237923">set</a> = <span title="(elems: java.lang.String*)scala.collection.immutable.Set[java.lang.String]">Set</span><span class="delimiter">(</span><span title="java.lang.String(&quot;foo&quot;)" class="string">&quot;foo&quot;</span>, <span title="java.lang.String(&quot;bar&quot;)" class="string">&quot;bar&quot;</span>, <span title="java.lang.String(&quot;baz&quot;)" class="string">&quot;baz&quot;</span><span class="delimiter">)</span>
    <a href="../../../../../main/org/squeryl/dsl/boilerplate/FromSignatures.scala.html#15987" title="(t1: org.squeryl.Queryable[org.squeryl.test.schooldb2.Entry])(f: org.squeryl.test.schooldb2.Entry =&gt; org.squeryl.dsl.QueryYield[org.squeryl.test.schooldb2.Entry])org.squeryl.Query[org.squeryl.test.schooldb2.Entry]">from</a><span class="delimiter">(</span><a href="#234356" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Entry]">entries</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="org.squeryl.test.schooldb2.Entry" id="238071">e</a> =&gt; <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15264" title="(b: =&gt; org.squeryl.dsl.ast.LogicalBoolean)org.squeryl.dsl.fsm.WhereState[org.squeryl.dsl.fsm.Conditioned]">where</a><span class="delimiter">(</span><a href="#238071" title="org.squeryl.test.schooldb2.Entry">e</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15195" title="implicit org.squeryl.dsl.DslFactory.string2ScalarString : (s: org.squeryl.PrimitiveTypeMode.StringType)org.squeryl.dsl.StringExpression[org.squeryl.PrimitiveTypeMode.StringType]">text</a>.<a href="../../../../../main/org/squeryl/dsl/FieldTypes.scala.html#22753" title="(e: org.squeryl.dsl.ast.RightHandSideOfIn[org.squeryl.PrimitiveTypeMode.StringType])org.squeryl.dsl.ast.InclusionOperator">in</a><span class="delimiter">(</span><a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15225" title="implicit org.squeryl.dsl.DslFactory.traversableOfString2ListString : (l: Traversable[org.squeryl.PrimitiveTypeMode.StringType])org.squeryl.dsl.ast.RightHandSideOfIn[org.squeryl.PrimitiveTypeMode.StringType]">set</a><span class="delimiter">)</span><span class="delimiter">)</span><a href="../../../../../main/org/squeryl/dsl/fsm/StartState.scala.html#15765" title="(yieldClosure: =&gt; org.squeryl.test.schooldb2.Entry)org.squeryl.dsl.fsm.SelectState[org.squeryl.test.schooldb2.Entry]">select</a><span class="delimiter">(</span><a href="#238071" title="org.squeryl.test.schooldb2.Entry">e</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; List[org.squeryl.test.schooldb2.Entry]">toList</span>
    <a href="../../framework/QueryTester.scala.html#117235" title="(s: Symbol)Unit">passed</a><span class="delimiter">(</span><span title="(name: String)Symbol" class="symbol">'testInFromSet</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <a href="#11273" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a><span class="delimiter">(</span><span title="java.lang.String(&quot;InFromSeq&quot;)" class="string">&quot;InFromSeq&quot;</span><span class="delimiter">)</span><span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Seq[java.lang.String]" id="238161">set</a> = <span title="(elems: java.lang.String*)scala.collection.immutable.Set[java.lang.String]">Set</span><span class="delimiter">(</span><span title="java.lang.String(&quot;foo&quot;)" class="string">&quot;foo&quot;</span>, <span title="java.lang.String(&quot;bar&quot;)" class="string">&quot;bar&quot;</span>, <span title="java.lang.String(&quot;baz&quot;)" class="string">&quot;baz&quot;</span><span class="delimiter">)</span>.<span title="=&gt; Seq[java.lang.String]">toSeq</span>
    <a href="../../../../../main/org/squeryl/dsl/boilerplate/FromSignatures.scala.html#15987" title="(t1: org.squeryl.Queryable[org.squeryl.test.schooldb2.Entry])(f: org.squeryl.test.schooldb2.Entry =&gt; org.squeryl.dsl.QueryYield[org.squeryl.test.schooldb2.Entry])org.squeryl.Query[org.squeryl.test.schooldb2.Entry]">from</a><span class="delimiter">(</span><a href="#234356" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Entry]">entries</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="org.squeryl.test.schooldb2.Entry" id="238310">e</a> =&gt; <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15264" title="(b: =&gt; org.squeryl.dsl.ast.LogicalBoolean)org.squeryl.dsl.fsm.WhereState[org.squeryl.dsl.fsm.Conditioned]">where</a><span class="delimiter">(</span><a href="#238310" title="org.squeryl.test.schooldb2.Entry">e</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15195" title="implicit org.squeryl.dsl.DslFactory.string2ScalarString : (s: org.squeryl.PrimitiveTypeMode.StringType)org.squeryl.dsl.StringExpression[org.squeryl.PrimitiveTypeMode.StringType]">text</a>.<a href="../../../../../main/org/squeryl/dsl/FieldTypes.scala.html#22753" title="(e: org.squeryl.dsl.ast.RightHandSideOfIn[org.squeryl.PrimitiveTypeMode.StringType])org.squeryl.dsl.ast.InclusionOperator">in</a><span class="delimiter">(</span><a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15225" title="implicit org.squeryl.dsl.DslFactory.traversableOfString2ListString : (l: Traversable[org.squeryl.PrimitiveTypeMode.StringType])org.squeryl.dsl.ast.RightHandSideOfIn[org.squeryl.PrimitiveTypeMode.StringType]">set</a><span class="delimiter">)</span><span class="delimiter">)</span><a href="../../../../../main/org/squeryl/dsl/fsm/StartState.scala.html#15765" title="(yieldClosure: =&gt; org.squeryl.test.schooldb2.Entry)org.squeryl.dsl.fsm.SelectState[org.squeryl.test.schooldb2.Entry]">select</a><span class="delimiter">(</span><a href="#238310" title="org.squeryl.test.schooldb2.Entry">e</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; List[org.squeryl.test.schooldb2.Entry]">toList</span>
    <a href="../../framework/QueryTester.scala.html#117235" title="(s: Symbol)Unit">passed</a><span class="delimiter">(</span><span title="(name: String)Symbol" class="symbol">'testInFromSeq</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <a href="#11273" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a> <span class="delimiter">(</span><span title="java.lang.String(&quot;#73 relations with Option[] on one side of the equality expression blow up&quot;)" class="string">&quot;#73 relations with Option[] on one side of the equality expression blow up&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>

    <a href="#117246" title="=&gt; java.lang.Object{val professeurTournesol: org.squeryl.test.schooldb2.Professor; val madProfessor: org.squeryl.test.schooldb2.Professor; val philosophy: org.squeryl.test.schooldb2.Subject; val chemistry: org.squeryl.test.schooldb2.Subject; val physics: org.squeryl.test.schooldb2.Subject; val computerScience: org.squeryl.test.schooldb2.Subject; val computationTheory: org.squeryl.test.schooldb2.Subject; val chemistryCourse: org.squeryl.test.schooldb2.Course; val physicsCourse: org.squeryl.test.schooldb2.Course; val xiaoJimbao: org.squeryl.test.schooldb2.Student}">seedDataDef</a>
        
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Subject" id="238393">cs</a> = <a href="#234368" title="=&gt; org.squeryl.Table[org.squeryl.test.schooldb2.Subject]">subjects</a>.<a href="../../../../../main/org/squeryl/Queryable.scala.html#20047" title="(whereClauseFunctor: org.squeryl.test.schooldb2.Subject =&gt; org.squeryl.dsl.ast.LogicalBoolean)(implicit dsl: org.squeryl.dsl.QueryDsl)org.squeryl.Query[org.squeryl.test.schooldb2.Subject]">where</a><a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15261" title="=&gt; org.squeryl.dsl.QueryDsl" class="delimiter">(</a><a href="#238397" title="org.squeryl.test.schooldb2.Subject">_</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15195" title="implicit org.squeryl.dsl.DslFactory.string2ScalarString : (s: org.squeryl.PrimitiveTypeMode.StringType)org.squeryl.dsl.StringExpression[org.squeryl.PrimitiveTypeMode.StringType]">name</a> <a href="../../../../../main/org/squeryl/dsl/FieldTypes.scala.html#22738" title="(b: org.squeryl.dsl.NonNumericalExpression[org.squeryl.PrimitiveTypeMode.StringType])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15195" title="implicit org.squeryl.dsl.DslFactory.string2ScalarString : (s: org.squeryl.PrimitiveTypeMode.StringType)org.squeryl.dsl.StringExpression[org.squeryl.PrimitiveTypeMode.StringType]" class="string">&quot;Computer Science&quot;</a><span class="delimiter">)</span>.<a href="../../../../../main/org/squeryl/Query.scala.html#14065" title="=&gt; org.squeryl.test.schooldb2.Subject">single</a>
    
    <span class="keyword">val</span> <a title="org.squeryl.test.schooldb2.Subject" id="238394">compTheory</a> = <a href="#238393" title="org.squeryl.test.schooldb2.Subject">cs</a>.<a href="#234801" title="=&gt; org.squeryl.dsl.OneToMany[org.squeryl.test.schooldb2.Subject]">childSubjects</a>.<a href="../../../../../main/org/squeryl/Query.scala.html#14065" title="=&gt; org.squeryl.test.schooldb2.Subject">single</a>
    
    <a href="#11273" title="(condition: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#238394" title="org.squeryl.test.schooldb2.Subject">compTheory</a>.<a href="#235044" title="=&gt; String">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;Computation Theory&quot;)" class="string">&quot;Computation Theory&quot;</span><span class="delimiter">)</span>
    
  <span class="delimiter">}</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>