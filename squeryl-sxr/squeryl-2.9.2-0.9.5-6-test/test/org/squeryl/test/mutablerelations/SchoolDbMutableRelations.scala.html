<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>test/org/squeryl/test/mutablerelations/SchoolDbMutableRelations.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> org.squeryl.test.mutablerelations

<span class="keyword">import</span> org.squeryl.<a href="../../../../../main/org/squeryl/PrimitiveTypeMode.scala.html#9807" title="object org.squeryl.PrimitiveTypeMode">PrimitiveTypeMode</a>._
<span class="keyword">import</span> org.squeryl._
<span class="keyword">import</span> org.squeryl.dsl.CompositeKey2

<span class="keyword">trait</span> <a title="trait SchoolDb2Object extends java.lang.Object with org.squeryl.KeyedEntity[Long] with ScalaObject" id="11181">SchoolDb2Object</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#9788" title="org.squeryl.KeyedEntity[Long]">KeyedEntity</a><span class="delimiter">[</span>Long<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">val</span> <a title="Long" id="197492">id</a>: <span title="Long">Long</span> = <span title="Long(0L)" class="int">0</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class Professor extends java.lang.Object with org.squeryl.test.mutablerelations.SchoolDb2Object with ScalaObject" id="11182">Professor</a><a href="#11182" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="197715">lastName</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11181" title="org.squeryl.test.mutablerelations.SchoolDb2Object">SchoolDb2Object</a> <span class="delimiter">{</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseAssignment]" id="197501">courses</a> = <a href="#11188" title="object org.squeryl.test.mutablerelations.SchoolDb2">SchoolDb2</a>.<a href="#197513" title="=&gt; org.squeryl.PrimitiveTypeMode.ManyToManyRelationImpl[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseAssignment]">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#34914" title="(leftSide: org.squeryl.test.mutablerelations.Professor)org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseAssignment]">leftStateful</a><span class="delimiter">(</span><a href="#11182" title="org.squeryl.test.mutablerelations.Professor" class="keyword">this</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class Course extends java.lang.Object with org.squeryl.test.mutablerelations.SchoolDb2Object with ScalaObject" id="11183">Course</a><a href="#11183" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="Long" id="197968">subjectId</a>: <span title="Long">Long</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11181" title="org.squeryl.test.mutablerelations.SchoolDb2Object">SchoolDb2Object</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="()org.squeryl.test.mutablerelations.Course" id="197580" class="keyword">this</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#11183" title="Course.this.type" class="keyword">this</a><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span><span class="delimiter">)</span>

  <span class="comment">// Lets support the case where a course can have more than one professor</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.CourseAssignment]" id="197582">professors</a> = <a href="#11188" title="object org.squeryl.test.mutablerelations.SchoolDb2">SchoolDb2</a>.<a href="#197513" title="=&gt; org.squeryl.PrimitiveTypeMode.ManyToManyRelationImpl[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseAssignment]">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#34916" title="(rightSide: org.squeryl.test.mutablerelations.Course)org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.CourseAssignment]">rightStateful</a><span class="delimiter">(</span><a href="#11183" title="org.squeryl.test.mutablerelations.Course" class="keyword">this</a><span class="delimiter">)</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Student,org.squeryl.test.mutablerelations.CourseSubscription]" id="197584">students</a> = <a href="#11188" title="object org.squeryl.test.mutablerelations.SchoolDb2">SchoolDb2</a>.<a href="#197515" title="=&gt; org.squeryl.PrimitiveTypeMode.ManyToManyRelationImpl[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.Student,org.squeryl.test.mutablerelations.CourseSubscription]">courseSubscriptions</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#34914" title="(leftSide: org.squeryl.test.mutablerelations.Course)org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Student,org.squeryl.test.mutablerelations.CourseSubscription]">leftStateful</a><span class="delimiter">(</span><a href="#11183" title="org.squeryl.test.mutablerelations.Course" class="keyword">this</a><span class="delimiter">)</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.squeryl.dsl.StatefulManyToOne[org.squeryl.test.mutablerelations.Subject]" id="197586">subject</a> = <a href="#11188" title="object org.squeryl.test.mutablerelations.SchoolDb2">SchoolDb2</a>.<a href="#197517" title="=&gt; org.squeryl.PrimitiveTypeMode.OneToManyRelationImpl[org.squeryl.test.mutablerelations.Subject,org.squeryl.test.mutablerelations.Course]">subjectToCourses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#34838" title="(rightSide: org.squeryl.test.mutablerelations.Course)org.squeryl.dsl.StatefulManyToOne[org.squeryl.test.mutablerelations.Subject]">rightStateful</a><span class="delimiter">(</span><a href="#11183" title="org.squeryl.test.mutablerelations.Course" class="keyword">this</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class Student extends java.lang.Object with org.squeryl.test.mutablerelations.SchoolDb2Object with ScalaObject" id="11184">Student</a><a href="#11184" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="197983">firstName</a>: <span title="String">String</span>, <span class="keyword">val</span> <a title="String" id="197984">lastName</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11181" title="org.squeryl.test.mutablerelations.SchoolDb2Object">SchoolDb2Object</a> <span class="delimiter">{</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseSubscription]" id="197751">courses</a> = <a href="#11188" title="object org.squeryl.test.mutablerelations.SchoolDb2">SchoolDb2</a>.<a href="#197515" title="=&gt; org.squeryl.PrimitiveTypeMode.ManyToManyRelationImpl[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.Student,org.squeryl.test.mutablerelations.CourseSubscription]">courseSubscriptions</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#34916" title="(rightSide: org.squeryl.test.mutablerelations.Student)org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseSubscription]">rightStateful</a><span class="delimiter">(</span><a href="#11184" title="org.squeryl.test.mutablerelations.Student" class="keyword">this</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class Subject extends java.lang.Object with org.squeryl.test.mutablerelations.SchoolDb2Object with ScalaObject" id="11185">Subject</a><a href="#11185" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="197988">name</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11181" title="org.squeryl.test.mutablerelations.SchoolDb2Object">SchoolDb2Object</a> <span class="delimiter">{</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.squeryl.dsl.StatefulOneToMany[org.squeryl.test.mutablerelations.Course]" id="197901">courses</a> = <a href="#11188" title="object org.squeryl.test.mutablerelations.SchoolDb2">SchoolDb2</a>.<a href="#197517" title="=&gt; org.squeryl.PrimitiveTypeMode.OneToManyRelationImpl[org.squeryl.test.mutablerelations.Subject,org.squeryl.test.mutablerelations.Course]">subjectToCourses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#34836" title="(leftSide: org.squeryl.test.mutablerelations.Subject)org.squeryl.dsl.StatefulOneToMany[org.squeryl.test.mutablerelations.Course]">leftStateful</a><span class="delimiter">(</span><a href="#11185" title="org.squeryl.test.mutablerelations.Subject" class="keyword">this</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class CourseSubscription extends java.lang.Object with org.squeryl.KeyedEntity[org.squeryl.dsl.CompositeKey2[Long,Long]] with ScalaObject" id="11186">CourseSubscription</a><a href="#11186" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="Long" id="197993">courseId</a>: <span title="Long">Long</span>, <span class="keyword">val</span> <a title="Long" id="197994">studentId</a>: <span title="Long">Long</span>, <span class="keyword">val</span> <a title="Float" id="197995">grade</a>: <span title="Float">Float</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#9788" title="org.squeryl.KeyedEntity[org.squeryl.dsl.CompositeKey2[Long,Long]]">KeyedEntity</a><span class="delimiter">[</span>CompositeKey2<span class="delimiter">[</span>Long,Long<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="=&gt; org.squeryl.dsl.CompositeKey2[Long,Long]" id="197791">id</a> = <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15347" title="(a1: Long, a2: Long)org.squeryl.dsl.CompositeKey2[Long,Long]">compositeKey</a><span class="delimiter">(</span><a href="#197993" title="=&gt; Long">courseId</a>, <a href="#197994" title="=&gt; Long">studentId</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class CourseAssignment extends java.lang.Object with org.squeryl.KeyedEntity[org.squeryl.dsl.CompositeKey2[Long,Long]] with ScalaObject" id="11187">CourseAssignment</a><a href="#11187" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="Long" id="198098">courseId</a>: <span title="Long">Long</span>, <span class="keyword">val</span> <a title="Long" id="198099">professorId</a>: <span title="Long">Long</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#9788" title="org.squeryl.KeyedEntity[org.squeryl.dsl.CompositeKey2[Long,Long]]">KeyedEntity</a><span class="delimiter">[</span>CompositeKey2<span class="delimiter">[</span>Long,Long<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="=&gt; org.squeryl.dsl.CompositeKey2[Long,Long]" id="197623">id</a> = <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15347" title="(a1: Long, a2: Long)org.squeryl.dsl.CompositeKey2[Long,Long]">compositeKey</a><span class="delimiter">(</span><a href="#198098" title="=&gt; Long">courseId</a>, <a href="#198099" title="=&gt; Long">professorId</a><span class="delimiter">)</span>
<span class="delimiter">}</span>


<span class="keyword">object</span> <a title="object org.squeryl.test.mutablerelations.SchoolDb2" id="11188">SchoolDb2</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../../../../../main/org/squeryl/Schema.scala.html#9839" title="org.squeryl.Schema">Schema</a> <span class="delimiter">{</span>

  <span class="keyword">val</span> <a title="org.squeryl.Table[org.squeryl.test.mutablerelations.Professor]" id="197505">professors</a> = <a href="../../../../../main/org/squeryl/Schema.scala.html#14359" title="[T]()(implicit manifestT: scala.reflect.Manifest[T])org.squeryl.Table[T]">table</a><span title="()(implicit manifestT: scala.reflect.Manifest[org.squeryl.test.mutablerelations.Professor])org.squeryl.Table[org.squeryl.test.mutablerelations.Professor]" class="delimiter">[</span><a href="#11182" title="org.squeryl.test.mutablerelations.Professor">Professor</a><span class="delimiter">]</span>

  <span class="keyword">val</span> <a title="org.squeryl.Table[org.squeryl.test.mutablerelations.Student]" id="197507">students</a> = <a href="../../../../../main/org/squeryl/Schema.scala.html#14359" title="[T]()(implicit manifestT: scala.reflect.Manifest[T])org.squeryl.Table[T]">table</a><span title="()(implicit manifestT: scala.reflect.Manifest[org.squeryl.test.mutablerelations.Student])org.squeryl.Table[org.squeryl.test.mutablerelations.Student]" class="delimiter">[</span><a href="#11184" title="org.squeryl.test.mutablerelations.Student">Student</a><span class="delimiter">]</span>

  <span class="keyword">val</span> <a title="org.squeryl.Table[org.squeryl.test.mutablerelations.Course]" id="197509">courses</a> = <a href="../../../../../main/org/squeryl/Schema.scala.html#14359" title="[T]()(implicit manifestT: scala.reflect.Manifest[T])org.squeryl.Table[T]">table</a><span title="()(implicit manifestT: scala.reflect.Manifest[org.squeryl.test.mutablerelations.Course])org.squeryl.Table[org.squeryl.test.mutablerelations.Course]" class="delimiter">[</span><a href="#11183" title="org.squeryl.test.mutablerelations.Course">Course</a><span class="delimiter">]</span>

  <span class="keyword">val</span> <a title="org.squeryl.Table[org.squeryl.test.mutablerelations.Subject]" id="197511">subjects</a> = <a href="../../../../../main/org/squeryl/Schema.scala.html#14359" title="[T]()(implicit manifestT: scala.reflect.Manifest[T])org.squeryl.Table[T]">table</a><span title="()(implicit manifestT: scala.reflect.Manifest[org.squeryl.test.mutablerelations.Subject])org.squeryl.Table[org.squeryl.test.mutablerelations.Subject]" class="delimiter">[</span><a href="#11185" title="org.squeryl.test.mutablerelations.Subject">Subject</a><span class="delimiter">]</span>

  <span class="keyword">val</span> <a title="org.squeryl.PrimitiveTypeMode.ManyToManyRelationImpl[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseAssignment]" id="197513">courseAssignments</a> =
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15314" title="(l: org.squeryl.Table[org.squeryl.test.mutablerelations.Professor], r: org.squeryl.Table[org.squeryl.test.mutablerelations.Course])org.squeryl.PrimitiveTypeMode.ManyToManyRelationBuilder[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.Course]">manyToManyRelation</a><span class="delimiter">(</span><a href="#197505" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Professor]">professors</a>, <a href="#197509" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Course]">courses</a><span class="delimiter">)</span>.
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#77408" title="[A &lt;: org.squeryl.KeyedEntity[_]](f: (org.squeryl.test.mutablerelations.Professor, org.squeryl.test.mutablerelations.Course, A) =&gt; (org.squeryl.dsl.ast.EqualityExpression, org.squeryl.dsl.ast.EqualityExpression))(implicit manifestA: Manifest[A], implicit schema: org.squeryl.Schema)org.squeryl.PrimitiveTypeMode.ManyToManyRelationImpl[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.Course,A]">via</a><span title="(f: (org.squeryl.test.mutablerelations.Professor, org.squeryl.test.mutablerelations.Course, org.squeryl.test.mutablerelations.CourseAssignment) =&gt; (org.squeryl.dsl.ast.EqualityExpression, org.squeryl.dsl.ast.EqualityExpression))(implicit manifestA: Manifest[org.squeryl.test.mutablerelations.CourseAssignment], implicit schema: org.squeryl.Schema)org.squeryl.PrimitiveTypeMode.ManyToManyRelationImpl[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseAssignment]" class="delimiter">[</span><a href="#11187" title="org.squeryl.test.mutablerelations.CourseAssignment">CourseAssignment</a><span class="delimiter">]</span><a href="../../../../../main/org/squeryl/Schema.scala.html#14312" title="(clazz: Class[_])scala.reflect.Manifest[org.squeryl.test.mutablerelations.CourseAssignment]" class="delimiter">(</a><span class="delimiter">(</span><a title="org.squeryl.test.mutablerelations.Professor" id="197629">p</a>,<a title="org.squeryl.test.mutablerelations.Course" id="197630">c</a>,<a title="org.squeryl.test.mutablerelations.CourseAssignment" id="197631">a</a><span class="delimiter">)</span> =&gt; <span title="(_1: org.squeryl.dsl.ast.EqualityExpression, _2: org.squeryl.dsl.ast.EqualityExpression)(org.squeryl.dsl.ast.EqualityExpression, org.squeryl.dsl.ast.EqualityExpression)" class="delimiter">(</span><a href="#197631" title="org.squeryl.test.mutablerelations.CourseAssignment">a</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15196" title="implicit org.squeryl.dsl.DslFactory.long2ScalarLong : (l: org.squeryl.PrimitiveTypeMode.LongType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType]">professorId</a> <a href="../../../../../main/org/squeryl/dsl/FieldTypes.scala.html#18121" title="(b: org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#197629" title="org.squeryl.test.mutablerelations.Professor">p</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15196" title="implicit org.squeryl.dsl.DslFactory.long2ScalarLong : (l: org.squeryl.PrimitiveTypeMode.LongType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType]">id</a>, <a href="#197631" title="org.squeryl.test.mutablerelations.CourseAssignment">a</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15196" title="implicit org.squeryl.dsl.DslFactory.long2ScalarLong : (l: org.squeryl.PrimitiveTypeMode.LongType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType]">courseId</a> <a href="../../../../../main/org/squeryl/dsl/FieldTypes.scala.html#18121" title="(b: org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#197630" title="org.squeryl.test.mutablerelations.Course">c</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15196" title="implicit org.squeryl.dsl.DslFactory.long2ScalarLong : (l: org.squeryl.PrimitiveTypeMode.LongType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType]">id</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="org.squeryl.PrimitiveTypeMode.ManyToManyRelationImpl[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.Student,org.squeryl.test.mutablerelations.CourseSubscription]" id="197515">courseSubscriptions</a> =
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15314" title="(l: org.squeryl.Table[org.squeryl.test.mutablerelations.Course], r: org.squeryl.Table[org.squeryl.test.mutablerelations.Student])org.squeryl.PrimitiveTypeMode.ManyToManyRelationBuilder[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.Student]">manyToManyRelation</a><span class="delimiter">(</span><a href="#197509" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Course]">courses</a>, <a href="#197507" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Student]">students</a><span class="delimiter">)</span>.
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#77408" title="[A &lt;: org.squeryl.KeyedEntity[_]](f: (org.squeryl.test.mutablerelations.Course, org.squeryl.test.mutablerelations.Student, A) =&gt; (org.squeryl.dsl.ast.EqualityExpression, org.squeryl.dsl.ast.EqualityExpression))(implicit manifestA: Manifest[A], implicit schema: org.squeryl.Schema)org.squeryl.PrimitiveTypeMode.ManyToManyRelationImpl[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.Student,A]">via</a><span title="(f: (org.squeryl.test.mutablerelations.Course, org.squeryl.test.mutablerelations.Student, org.squeryl.test.mutablerelations.CourseSubscription) =&gt; (org.squeryl.dsl.ast.EqualityExpression, org.squeryl.dsl.ast.EqualityExpression))(implicit manifestA: Manifest[org.squeryl.test.mutablerelations.CourseSubscription], implicit schema: org.squeryl.Schema)org.squeryl.PrimitiveTypeMode.ManyToManyRelationImpl[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.Student,org.squeryl.test.mutablerelations.CourseSubscription]" class="delimiter">[</span><a href="#11186" title="org.squeryl.test.mutablerelations.CourseSubscription">CourseSubscription</a><span class="delimiter">]</span><a href="../../../../../main/org/squeryl/Schema.scala.html#14312" title="(clazz: Class[_])scala.reflect.Manifest[org.squeryl.test.mutablerelations.CourseSubscription]" class="delimiter">(</a><span class="delimiter">(</span><a title="org.squeryl.test.mutablerelations.Course" id="197797">c</a>,<a title="org.squeryl.test.mutablerelations.Student" id="197798">s</a>,<a title="org.squeryl.test.mutablerelations.CourseSubscription" id="197799">cs</a><span class="delimiter">)</span> =&gt; <span title="(_1: org.squeryl.dsl.ast.EqualityExpression, _2: org.squeryl.dsl.ast.EqualityExpression)(org.squeryl.dsl.ast.EqualityExpression, org.squeryl.dsl.ast.EqualityExpression)" class="delimiter">(</span><a href="#197799" title="org.squeryl.test.mutablerelations.CourseSubscription">cs</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15196" title="implicit org.squeryl.dsl.DslFactory.long2ScalarLong : (l: org.squeryl.PrimitiveTypeMode.LongType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType]">studentId</a> <a href="../../../../../main/org/squeryl/dsl/FieldTypes.scala.html#18121" title="(b: org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#197798" title="org.squeryl.test.mutablerelations.Student">s</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15196" title="implicit org.squeryl.dsl.DslFactory.long2ScalarLong : (l: org.squeryl.PrimitiveTypeMode.LongType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType]">id</a>, <a href="#197797" title="org.squeryl.test.mutablerelations.Course">c</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15196" title="implicit org.squeryl.dsl.DslFactory.long2ScalarLong : (l: org.squeryl.PrimitiveTypeMode.LongType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType]">id</a> <a href="../../../../../main/org/squeryl/dsl/FieldTypes.scala.html#18121" title="(b: org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#197799" title="org.squeryl.test.mutablerelations.CourseSubscription">cs</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15196" title="implicit org.squeryl.dsl.DslFactory.long2ScalarLong : (l: org.squeryl.PrimitiveTypeMode.LongType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType]">courseId</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="org.squeryl.PrimitiveTypeMode.OneToManyRelationImpl[org.squeryl.test.mutablerelations.Subject,org.squeryl.test.mutablerelations.Course]" id="197517">subjectToCourses</a> =
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15335" title="(ot: org.squeryl.Table[org.squeryl.test.mutablerelations.Subject], mt: org.squeryl.Table[org.squeryl.test.mutablerelations.Course])org.squeryl.PrimitiveTypeMode.OneToManyRelationBuilder[org.squeryl.test.mutablerelations.Subject,org.squeryl.test.mutablerelations.Course]">oneToManyRelation</a><span class="delimiter">(</span><a href="#197511" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Subject]">subjects</a>, <a href="#197509" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Course]">courses</a><span class="delimiter">)</span>.
    <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#79901" title="(f: (org.squeryl.test.mutablerelations.Subject, org.squeryl.test.mutablerelations.Course) =&gt; org.squeryl.dsl.ast.EqualityExpression)(implicit schema: org.squeryl.Schema)org.squeryl.PrimitiveTypeMode.OneToManyRelationImpl[org.squeryl.test.mutablerelations.Subject,org.squeryl.test.mutablerelations.Course]">via</a><a href="../../../../../main/org/squeryl/Schema.scala.html#14312" title="=&gt; org.squeryl.Schema" class="delimiter">(</a><span class="delimiter">(</span><a title="org.squeryl.test.mutablerelations.Subject" id="197930">s</a>,<a title="org.squeryl.test.mutablerelations.Course" id="197931">c</a><span class="delimiter">)</span> =&gt; <a href="#197931" title="org.squeryl.test.mutablerelations.Course">c</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15196" title="implicit org.squeryl.dsl.DslFactory.long2ScalarLong : (l: org.squeryl.PrimitiveTypeMode.LongType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType]">subjectId</a> <a href="../../../../../main/org/squeryl/dsl/FieldTypes.scala.html#18121" title="(b: org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType])org.squeryl.dsl.ast.EqualityExpression">===</a> <a href="#197930" title="org.squeryl.test.mutablerelations.Subject">s</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15196" title="implicit org.squeryl.dsl.DslFactory.long2ScalarLong : (l: org.squeryl.PrimitiveTypeMode.LongType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType]">id</a><span class="delimiter">)</span>

  <span class="comment">// the default constraint for all foreign keys in this schema :</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(foreignKeyDeclaration: org.squeryl.ForeignKeyDeclaration)Unit" id="197519">applyDefaultForeignKeyPolicy</a><span class="delimiter">(</span><a title="org.squeryl.ForeignKeyDeclaration" id="198200">foreignKeyDeclaration</a>: <a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#9798" title="org.squeryl.ForeignKeyDeclaration">ForeignKeyDeclaration</a><span class="delimiter">)</span> =
    <a href="#198200" title="org.squeryl.ForeignKeyDeclaration">foreignKeyDeclaration</a>.<a href="../../../../../main/org/squeryl/KeyedEntity.scala.html#14092" title="()(implicit ev: org.squeryl.Schema)Unit">constrainReference</a>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Unit" id="197520">drop</a> = <span class="delimiter">{</span>
    <a href="../../../../../main/org/squeryl/Session.scala.html#9848" title="object org.squeryl.Session">Session</a>.<a href="../../../../../main/org/squeryl/Session.scala.html#34682" title="=&gt; Unit">cleanupResources</a>
    <span class="keyword">super</span>.<a href="../../../../../main/org/squeryl/Schema.scala.html#14344" title="=&gt; Unit">drop</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">import</span> org.squeryl.framework._

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class SchoolDb2MetableRelations extends org.squeryl.framework.SchemaTester with org.squeryl.framework.QueryTester with org.squeryl.framework.RunTestsInsideTransaction with ScalaObject" id="11191">SchoolDb2MetableRelations</a> <a href="#11191" title="ScalaObject" class="keyword">extends</a> <a href="../../framework/SchemaTester.scala.html#10951" title="org.squeryl.framework.SchemaTester">SchemaTester</a> <span class="keyword">with</span> <a href="../../framework/QueryTester.scala.html#10933" title="org.squeryl.framework.QueryTester">QueryTester</a> <span class="keyword">with</span> <a href="../../framework/RunTestsInsideTransaction.scala.html#10942" title="org.squeryl.framework.RunTestsInsideTransaction">RunTestsInsideTransaction</a> <span class="delimiter">{</span>

  <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.SchoolDb2.type" id="117197">schema</a> = <a href="#11188" title="object org.squeryl.test.mutablerelations.SchoolDb2">SchoolDb2</a>

  <span class="keyword">def</span> <a title="=&gt; java.lang.Object{val professeurTournesol: org.squeryl.test.mutablerelations.Professor; val madProfessor: org.squeryl.test.mutablerelations.Professor; val philosophy: org.squeryl.test.mutablerelations.Subject; val chemistry: org.squeryl.test.mutablerelations.Subject; val physics: org.squeryl.test.mutablerelations.Subject; val computationTheory: org.squeryl.test.mutablerelations.Subject; val chemistryCourse: org.squeryl.test.mutablerelations.Course; val physicsCourse: org.squeryl.test.mutablerelations.Course}" id="117199">instance</a> = <a href="#198213" title="java.lang.Object{val professeurTournesol: org.squeryl.test.mutablerelations.Professor; val madProfessor: org.squeryl.test.mutablerelations.Professor; val philosophy: org.squeryl.test.mutablerelations.Subject; val chemistry: org.squeryl.test.mutablerelations.Subject; val physics: org.squeryl.test.mutablerelations.Subject; val computationTheory: org.squeryl.test.mutablerelations.Subject; val chemistryCourse: org.squeryl.test.mutablerelations.Course; val physicsCourse: org.squeryl.test.mutablerelations.Course}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object" id="198213" class="delimiter">{</a>

    <span class="keyword">import</span> <a href="#117197" title="=&gt; org.squeryl.test.mutablerelations.SchoolDb2.type">schema</a>._

    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Professor" id="198216">professeurTournesol</a> = <a href="#197505" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Professor]">professors</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#34602" title="(t: org.squeryl.test.mutablerelations.Professor)org.squeryl.test.mutablerelations.Professor">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.mutablerelations.Professor" class="keyword">new</span> <a href="#11182" title="org.squeryl.test.mutablerelations.Professor">Professor</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Tournesol&quot;)" class="string">&quot;Tournesol&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Professor" id="198218">madProfessor</a> = <a href="#197505" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Professor]">professors</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#34602" title="(t: org.squeryl.test.mutablerelations.Professor)org.squeryl.test.mutablerelations.Professor">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.mutablerelations.Professor" class="keyword">new</span> <a href="#11182" title="org.squeryl.test.mutablerelations.Professor">Professor</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Mad Professor&quot;)" class="string">&quot;Mad Professor&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Subject" id="198220">philosophy</a> = <a href="#197511" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Subject]">subjects</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#34602" title="(t: org.squeryl.test.mutablerelations.Subject)org.squeryl.test.mutablerelations.Subject">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.mutablerelations.Subject" class="keyword">new</span> <a href="#11185" title="org.squeryl.test.mutablerelations.Subject">Subject</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Philosophy&quot;)" class="string">&quot;Philosophy&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Subject" id="198222">chemistry</a> = <a href="#197511" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Subject]">subjects</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#34602" title="(t: org.squeryl.test.mutablerelations.Subject)org.squeryl.test.mutablerelations.Subject">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.mutablerelations.Subject" class="keyword">new</span> <a href="#11185" title="org.squeryl.test.mutablerelations.Subject">Subject</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Chemistry&quot;)" class="string">&quot;Chemistry&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Subject" id="198224">physics</a> = <a href="#197511" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Subject]">subjects</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#34602" title="(t: org.squeryl.test.mutablerelations.Subject)org.squeryl.test.mutablerelations.Subject">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.mutablerelations.Subject" class="keyword">new</span> <a href="#11185" title="org.squeryl.test.mutablerelations.Subject">Subject</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Physic&quot;)" class="string">&quot;Physic&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Subject" id="198226">computationTheory</a> = <a href="#197511" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Subject]">subjects</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#34602" title="(t: org.squeryl.test.mutablerelations.Subject)org.squeryl.test.mutablerelations.Subject">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.mutablerelations.Subject" class="keyword">new</span> <a href="#11185" title="org.squeryl.test.mutablerelations.Subject">Subject</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Computation Theory&quot;)" class="string">&quot;Computation Theory&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>


    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Course" id="198228">chemistryCourse</a> = <a href="#197509" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Course]">courses</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#34602" title="(t: org.squeryl.test.mutablerelations.Course)org.squeryl.test.mutablerelations.Course">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.mutablerelations.Course" class="keyword">new</span> <a href="#11183" title="org.squeryl.test.mutablerelations.Course">Course</a><span class="delimiter">(</span><a href="#198222" title="=&gt; org.squeryl.test.mutablerelations.Subject">chemistry</a>.<a href="#197492" title="=&gt; Long">id</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Course" id="198230">physicsCourse</a> = <a href="#197509" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Course]">courses</a>.<a href="../../../../../main/org/squeryl/Table.scala.html#34602" title="(t: org.squeryl.test.mutablerelations.Course)org.squeryl.test.mutablerelations.Course">insert</a><span class="delimiter">(</span><span title="org.squeryl.test.mutablerelations.Course" class="keyword">new</span> <a href="#11183" title="org.squeryl.test.mutablerelations.Course">Course</a><span class="delimiter">(</span><a href="#198224" title="=&gt; org.squeryl.test.mutablerelations.Subject">physics</a>.<a href="#197492" title="=&gt; Long">id</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>


  <a href="#11191" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Many2ManyAssociationFromLeftSide&quot;)" class="string">&quot;Many2ManyAssociationFromLeftSide&quot;</span><span class="delimiter">)</span><span class="delimiter">{</span>

    <span class="keyword">import</span> <a href="#11188" title="object org.squeryl.test.mutablerelations.SchoolDb2">SchoolDb2</a>._

    <span class="keyword">val</span> <a title="instance extends java.lang.Object" id="198307">i</a> = <a href="#117199" title="=&gt; java.lang.Object{val professeurTournesol: org.squeryl.test.mutablerelations.Professor; val madProfessor: org.squeryl.test.mutablerelations.Professor; val philosophy: org.squeryl.test.mutablerelations.Subject; val chemistry: org.squeryl.test.mutablerelations.Subject; val physics: org.squeryl.test.mutablerelations.Subject; val computationTheory: org.squeryl.test.mutablerelations.Subject; val chemistryCourse: org.squeryl.test.mutablerelations.Course; val physicsCourse: org.squeryl.test.mutablerelations.Course}">instance</a>
    <span class="keyword">import</span> <a href="#198307" title="instance extends java.lang.Object">i</a>._

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span>, <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15292" title="(q: org.squeryl.Queryable[org.squeryl.test.mutablerelations.CourseAssignment])org.squeryl.PrimitiveTypeMode.CountSubQueryableQuery">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15289" title="(sq: org.squeryl.PrimitiveTypeMode.ScalarQuery[org.squeryl.PrimitiveTypeMode.LongType])org.squeryl.PrimitiveTypeMode.LongType">Count</a> : <span title="Long">Long</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationFromLeftSide</span><span class="delimiter">)</span>

    <a href="#198298" title="=&gt; org.squeryl.test.mutablerelations.Professor">professeurTournesol</a>.<a href="#197500" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseAssignment]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#76088" title="(o: org.squeryl.test.mutablerelations.Course)org.squeryl.test.mutablerelations.CourseAssignment">associate</a><span class="delimiter">(</span><a href="#198305" title="=&gt; org.squeryl.test.mutablerelations.Course">physicsCourse</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Course" id="198309">c1</a> = <a href="#198298" title="=&gt; org.squeryl.test.mutablerelations.Professor">professeurTournesol</a>.<a href="#197500" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseAssignment]">courses</a>.<span title="=&gt; org.squeryl.test.mutablerelations.Course">head</span> : <a href="#11183" title="org.squeryl.test.mutablerelations.Course">Course</a>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#198309" title="org.squeryl.test.mutablerelations.Course">c1</a>.<a href="#197492" title="=&gt; Long">id</a>,  <a href="#198305" title="=&gt; org.squeryl.test.mutablerelations.Course">physicsCourse</a>.<a href="#197492" title="=&gt; Long">id</a>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationFromLeftSide</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.CourseAssignment" id="198310">ca</a> = <a href="#198298" title="=&gt; org.squeryl.test.mutablerelations.Professor">professeurTournesol</a>.<a href="#197500" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseAssignment]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#76091" title="=&gt; Iterable[org.squeryl.test.mutablerelations.CourseAssignment]">associations</a>.<span title="=&gt; org.squeryl.test.mutablerelations.CourseAssignment">head</span> : <a href="#11187" title="org.squeryl.test.mutablerelations.CourseAssignment">CourseAssignment</a>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#198310" title="org.squeryl.test.mutablerelations.CourseAssignment">ca</a>.<a href="#198098" title="=&gt; Long">courseId</a>,  <a href="#198305" title="=&gt; org.squeryl.test.mutablerelations.Course">physicsCourse</a>.<a href="#197492" title="=&gt; Long">id</a>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationFromLeftSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Int, actual: Int, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#198298" title="=&gt; org.squeryl.test.mutablerelations.Professor">professeurTournesol</a>.<a href="#197500" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseAssignment]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#76090" title="=&gt; Int">dissociateAll</a>, <span title="Int(1)" class="int">1</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationFromLeftSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Int, actual: Int, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#198298" title="=&gt; org.squeryl.test.mutablerelations.Professor">professeurTournesol</a>.<a href="#197500" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseAssignment]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#76090" title="=&gt; Int">dissociateAll</a>, <span title="Int(0)" class="int">0</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationFromLeftSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span>, <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15292" title="(q: org.squeryl.Queryable[org.squeryl.test.mutablerelations.CourseAssignment])org.squeryl.PrimitiveTypeMode.CountSubQueryableQuery">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15289" title="(sq: org.squeryl.PrimitiveTypeMode.ScalarQuery[org.squeryl.PrimitiveTypeMode.LongType])org.squeryl.PrimitiveTypeMode.LongType">Count</a> : <span title="Long">Long</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationFromLeftSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117235" title="(s: Symbol)Unit">passed</a><span class="delimiter">(</span><span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationFromLeftSide</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <a href="#11191" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Many2ManyAssociationFromRightSide&quot;)" class="string">&quot;Many2ManyAssociationFromRightSide&quot;</span><span class="delimiter">)</span><span class="delimiter">{</span>

    <span class="keyword">import</span> <a href="#11188" title="object org.squeryl.test.mutablerelations.SchoolDb2">SchoolDb2</a>._
    <span class="keyword">val</span> <a title="instance extends java.lang.Object" id="198547">i</a> = <a href="#117199" title="=&gt; java.lang.Object{val professeurTournesol: org.squeryl.test.mutablerelations.Professor; val madProfessor: org.squeryl.test.mutablerelations.Professor; val philosophy: org.squeryl.test.mutablerelations.Subject; val chemistry: org.squeryl.test.mutablerelations.Subject; val physics: org.squeryl.test.mutablerelations.Subject; val computationTheory: org.squeryl.test.mutablerelations.Subject; val chemistryCourse: org.squeryl.test.mutablerelations.Course; val physicsCourse: org.squeryl.test.mutablerelations.Course}">instance</a>
    <span class="keyword">import</span> <a href="#198547" title="instance extends java.lang.Object">i</a>._

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span>, <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15292" title="(q: org.squeryl.Queryable[org.squeryl.test.mutablerelations.CourseAssignment])org.squeryl.PrimitiveTypeMode.CountSubQueryableQuery">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15289" title="(sq: org.squeryl.PrimitiveTypeMode.ScalarQuery[org.squeryl.PrimitiveTypeMode.LongType])org.squeryl.PrimitiveTypeMode.LongType">Count</a> : <span title="Long">Long</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>

    <a href="#198305" title="=&gt; org.squeryl.test.mutablerelations.Course">physicsCourse</a>.<a href="#197581" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.CourseAssignment]">professors</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#76088" title="(o: org.squeryl.test.mutablerelations.Professor)org.squeryl.test.mutablerelations.CourseAssignment">associate</a><span class="delimiter">(</span><a href="#198298" title="=&gt; org.squeryl.test.mutablerelations.Professor">professeurTournesol</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Professor" id="198549">profT</a> = <a href="#198305" title="=&gt; org.squeryl.test.mutablerelations.Course">physicsCourse</a>.<a href="#197581" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.CourseAssignment]">professors</a>.<span title="=&gt; org.squeryl.test.mutablerelations.Professor">head</span> : <a href="#11182" title="org.squeryl.test.mutablerelations.Professor">Professor</a>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: String, actual: String, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#198298" title="=&gt; org.squeryl.test.mutablerelations.Professor">professeurTournesol</a>.<a href="#197715" title="=&gt; String">lastName</a>, <a href="#198549" title="org.squeryl.test.mutablerelations.Professor">profT</a>.<a href="#197715" title="=&gt; String">lastName</a>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>

    <a href="#198298" title="=&gt; org.squeryl.test.mutablerelations.Professor">professeurTournesol</a>.<a href="#197500" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseAssignment]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#76085" title="=&gt; Unit">refresh</a>

    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.CourseAssignment" id="198550">ca</a> = <a href="#198298" title="=&gt; org.squeryl.test.mutablerelations.Professor">professeurTournesol</a>.<a href="#197500" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseAssignment]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#76091" title="=&gt; Iterable[org.squeryl.test.mutablerelations.CourseAssignment]">associations</a>.<span title="=&gt; org.squeryl.test.mutablerelations.CourseAssignment">head</span> : <a href="#11187" title="org.squeryl.test.mutablerelations.CourseAssignment">CourseAssignment</a>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#198550" title="org.squeryl.test.mutablerelations.CourseAssignment">ca</a>.<a href="#198098" title="=&gt; Long">courseId</a>,  <a href="#198305" title="=&gt; org.squeryl.test.mutablerelations.Course">physicsCourse</a>.<a href="#197492" title="=&gt; Long">id</a>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Int, actual: Int, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#198305" title="=&gt; org.squeryl.test.mutablerelations.Course">physicsCourse</a>.<a href="#197581" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.CourseAssignment]">professors</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#76090" title="=&gt; Int">dissociateAll</a>, <span title="Int(1)" class="int">1</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Int, actual: Int, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#198305" title="=&gt; org.squeryl.test.mutablerelations.Course">physicsCourse</a>.<a href="#197581" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.CourseAssignment]">professors</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#76090" title="=&gt; Int">dissociateAll</a>, <span title="Int(0)" class="int">0</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span>, <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15292" title="(q: org.squeryl.Queryable[org.squeryl.test.mutablerelations.CourseAssignment])org.squeryl.PrimitiveTypeMode.CountSubQueryableQuery">courseAssignments</a>.<a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15289" title="(sq: org.squeryl.PrimitiveTypeMode.ScalarQuery[org.squeryl.PrimitiveTypeMode.LongType])org.squeryl.PrimitiveTypeMode.LongType">Count</a> : <span title="Long">Long</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>

    <span class="comment">// test dissociate :</span>
    <a href="#198305" title="=&gt; org.squeryl.test.mutablerelations.Course">physicsCourse</a>.<a href="#197581" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.CourseAssignment]">professors</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#76088" title="(o: org.squeryl.test.mutablerelations.Professor)org.squeryl.test.mutablerelations.CourseAssignment">associate</a><span class="delimiter">(</span><a href="#198298" title="=&gt; org.squeryl.test.mutablerelations.Professor">professeurTournesol</a><span class="delimiter">)</span>

    <a href="#198305" title="=&gt; org.squeryl.test.mutablerelations.Course">physicsCourse</a>.<a href="#197581" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.CourseAssignment]">professors</a>.<span title="=&gt; org.squeryl.test.mutablerelations.Professor">head</span> : <a href="#11182" title="org.squeryl.test.mutablerelations.Professor">Professor</a>

    <a href="#198298" title="=&gt; org.squeryl.test.mutablerelations.Professor">professeurTournesol</a>.<a href="#197500" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.CourseAssignment]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#76085" title="=&gt; Unit">refresh</a>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Boolean, actual: Boolean, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#198305" title="=&gt; org.squeryl.test.mutablerelations.Course">physicsCourse</a>.<a href="#197581" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.CourseAssignment]">professors</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#76089" title="(o: org.squeryl.test.mutablerelations.Professor)Boolean">dissociate</a><span class="delimiter">(</span><a href="#198298" title="=&gt; org.squeryl.test.mutablerelations.Professor">professeurTournesol</a><span class="delimiter">)</span>, <span title="Boolean(true)" class="keyword">true</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>
    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Boolean, actual: Boolean, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><a href="#198305" title="=&gt; org.squeryl.test.mutablerelations.Course">physicsCourse</a>.<a href="#197581" title="=&gt; org.squeryl.dsl.StatefulManyToMany[org.squeryl.test.mutablerelations.Professor,org.squeryl.test.mutablerelations.CourseAssignment]">professors</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#76089" title="(o: org.squeryl.test.mutablerelations.Professor)Boolean">dissociate</a><span class="delimiter">(</span><a href="#198298" title="=&gt; org.squeryl.test.mutablerelations.Professor">professeurTournesol</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span>, <span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117235" title="(s: Symbol)Unit">passed</a><span class="delimiter">(</span><span title="(name: String)Symbol" class="symbol">'testMany2ManyAssociationsFromRightSide</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <a href="#11191" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a><span class="delimiter">(</span><span title="java.lang.String(&quot;OneToMany&quot;)" class="string">&quot;OneToMany&quot;</span><span class="delimiter">)</span><span class="delimiter">{</span>

    <span class="keyword">import</span> <a href="#11188" title="object org.squeryl.test.mutablerelations.SchoolDb2">SchoolDb2</a>._
    <span class="keyword">val</span> <a title="instance extends java.lang.Object" id="198836">i</a> = <a href="#117199" title="=&gt; java.lang.Object{val professeurTournesol: org.squeryl.test.mutablerelations.Professor; val madProfessor: org.squeryl.test.mutablerelations.Professor; val philosophy: org.squeryl.test.mutablerelations.Subject; val chemistry: org.squeryl.test.mutablerelations.Subject; val physics: org.squeryl.test.mutablerelations.Subject; val computationTheory: org.squeryl.test.mutablerelations.Subject; val chemistryCourse: org.squeryl.test.mutablerelations.Course; val physicsCourse: org.squeryl.test.mutablerelations.Course}">instance</a>
    <span class="keyword">import</span> <a href="#198836" title="instance extends java.lang.Object">i</a>._

    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Course" id="198838">philosophyCourse10AMWednesday</a> = <a href="#197580" title="()org.squeryl.test.mutablerelations.Course" class="keyword">new</a> <a href="#11183" title="org.squeryl.test.mutablerelations.Course">Course</a>
    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Course" id="198839">philosophyCourse2PMWednesday</a> = <a href="#197580" title="()org.squeryl.test.mutablerelations.Course" class="keyword">new</a> <a href="#11183" title="org.squeryl.test.mutablerelations.Course">Course</a>
    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Course" id="198840">philosophyCourse3PMFriday</a> = <a href="#197580" title="()org.squeryl.test.mutablerelations.Course" class="keyword">new</a> <a href="#11183" title="org.squeryl.test.mutablerelations.Course">Course</a>

    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Course" id="198841">c1</a> = <a href="#198300" title="=&gt; org.squeryl.test.mutablerelations.Subject">philosophy</a>.<a href="#197900" title="=&gt; org.squeryl.dsl.StatefulOneToMany[org.squeryl.test.mutablerelations.Course]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#75909" title="(m: org.squeryl.test.mutablerelations.Course)(implicit ev: &lt;:&lt;[org.squeryl.test.mutablerelations.Course,org.squeryl.KeyedEntity[_]])org.squeryl.test.mutablerelations.Course">associate</a><span title="&lt;:&lt;[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.Course]" class="delimiter">(</span><a href="#198838" title="org.squeryl.test.mutablerelations.Course">philosophyCourse10AMWednesday</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Course" id="198842">c2</a> = <a href="#198300" title="=&gt; org.squeryl.test.mutablerelations.Subject">philosophy</a>.<a href="#197900" title="=&gt; org.squeryl.dsl.StatefulOneToMany[org.squeryl.test.mutablerelations.Course]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#75909" title="(m: org.squeryl.test.mutablerelations.Course)(implicit ev: &lt;:&lt;[org.squeryl.test.mutablerelations.Course,org.squeryl.KeyedEntity[_]])org.squeryl.test.mutablerelations.Course">associate</a><span title="&lt;:&lt;[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.Course]" class="delimiter">(</span><a href="#198839" title="org.squeryl.test.mutablerelations.Course">philosophyCourse2PMWednesday</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Course" id="198843">c3</a> = <a href="#198300" title="=&gt; org.squeryl.test.mutablerelations.Subject">philosophy</a>.<a href="#197900" title="=&gt; org.squeryl.dsl.StatefulOneToMany[org.squeryl.test.mutablerelations.Course]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#75909" title="(m: org.squeryl.test.mutablerelations.Course)(implicit ev: &lt;:&lt;[org.squeryl.test.mutablerelations.Course,org.squeryl.KeyedEntity[_]])org.squeryl.test.mutablerelations.Course">associate</a><span title="&lt;:&lt;[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.Course]" class="delimiter">(</span><a href="#198840" title="org.squeryl.test.mutablerelations.Course">philosophyCourse3PMFriday</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.squeryl.test.mutablerelations.Course" id="198844">c4</a> = <a href="#198301" title="=&gt; org.squeryl.test.mutablerelations.Subject">chemistry</a>.<a href="#197900" title="=&gt; org.squeryl.dsl.StatefulOneToMany[org.squeryl.test.mutablerelations.Course]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#75909" title="(m: org.squeryl.test.mutablerelations.Course)(implicit ev: &lt;:&lt;[org.squeryl.test.mutablerelations.Course,org.squeryl.KeyedEntity[_]])org.squeryl.test.mutablerelations.Course">associate</a><span title="&lt;:&lt;[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.Course]" class="delimiter">(</span><a href="#197580" title="()org.squeryl.test.mutablerelations.Course" class="keyword">new</a> <a href="#11183" title="org.squeryl.test.mutablerelations.Course">Course</a><span class="delimiter">)</span>


    <span class="keyword">val</span> <a title="org.squeryl.Query[org.squeryl.test.mutablerelations.Subject]" id="198845">s</a> = <a href="../../../../../main/org/squeryl/dsl/boilerplate/FromSignatures.scala.html#15987" title="(t1: org.squeryl.Queryable[org.squeryl.test.mutablerelations.Subject])(f: org.squeryl.test.mutablerelations.Subject =&gt; org.squeryl.dsl.QueryYield[org.squeryl.test.mutablerelations.Subject])org.squeryl.Query[org.squeryl.test.mutablerelations.Subject]">from</a><span class="delimiter">(</span><a href="#197511" title="=&gt; org.squeryl.Table[org.squeryl.test.mutablerelations.Subject]">subjects</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="org.squeryl.test.mutablerelations.Subject" id="199025">s0</a> =&gt;
      <a href="../../../../../main/org/squeryl/dsl/QueryDsl.scala.html#15264" title="(b: =&gt; org.squeryl.dsl.ast.LogicalBoolean)org.squeryl.dsl.fsm.WhereState[org.squeryl.dsl.fsm.Conditioned]">where</a><span class="delimiter">(</span><a href="#199025" title="org.squeryl.test.mutablerelations.Subject">s0</a>.<a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15196" title="implicit org.squeryl.dsl.DslFactory.long2ScalarLong : (l: org.squeryl.PrimitiveTypeMode.LongType)org.squeryl.dsl.NumericalExpression[org.squeryl.PrimitiveTypeMode.LongType]">id</a> <a href="../../../../../main/org/squeryl/dsl/FieldTypes.scala.html#18183" title="(e: org.squeryl.dsl.ast.RightHandSideOfIn[org.squeryl.dsl.NumericalExpression[Long]])(implicit evidence$2: org.squeryl.dsl.NumericalExpression[Long] =&gt; org.squeryl.dsl.NumericalExpression[_])org.squeryl.dsl.ast.ExclusionOperator">notIn</a><span class="delimiter">(</span><span title="(elems: Long*)Seq[Long]">Seq</span><a href="../../../../../main/org/squeryl/dsl/DslFactory.scala.html#15219" title="(l: Traversable[Long])(implicit evidence$1: Long =&gt; org.squeryl.dsl.NumericalExpression[_])org.squeryl.dsl.ast.RightHandSideOfIn[org.squeryl.dsl.NumericalExpression[Long]]" class="delimiter">(</a><a href="#198303" title="=&gt; org.squeryl.test.mutablerelations.Subject">computationTheory</a>.<a href="#197492" title="=&gt; Long">id</a>, <a href="#198302" title="=&gt; org.squeryl.test.mutablerelations.Subject">physics</a>.<a href="#197492" title="=&gt; Long">id</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../../../../../main/org/squeryl/dsl/fsm/StartState.scala.html#15765" title="(yieldClosure: =&gt; org.squeryl.test.mutablerelations.Subject)org.squeryl.dsl.fsm.SelectState[org.squeryl.test.mutablerelations.Subject]">select</a><span class="delimiter">(</span><a href="#199025" title="org.squeryl.test.mutablerelations.Subject">s0</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>

    <span class="keyword">var</span> <a title="Int" id="198846">cnt</a> = <span title="Int(0)" class="int">0</span>

    <span class="keyword">for</span><span class="delimiter">(</span><a title="org.squeryl.test.mutablerelations.Subject" id="199296">s0</a> &lt;- <a href="#198845" title="(f: org.squeryl.test.mutablerelations.Subject =&gt; Unit)Unit">s</a> <span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="199297">sCnt</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">for</span><span class="delimiter">(</span><a title="org.squeryl.test.mutablerelations.Course" id="199320">c</a> &lt;- <a href="#199296" title="org.squeryl.test.mutablerelations.Subject">s0</a>.<a href="#197900" title="(f: org.squeryl.test.mutablerelations.Course =&gt; Unit)Unit">courses</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#198846" title="Int">cnt</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        <a href="#199297" title="Int">sCnt</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#199296" title="org.squeryl.test.mutablerelations.Subject">s0</a>.<a href="#197492" title="=&gt; Long">id</a> <span title="(x: Long)Boolean">==</span> <a href="#198300" title="=&gt; org.squeryl.test.mutablerelations.Subject">philosophy</a>.<a href="#197492" title="=&gt; Long">id</a><span class="delimiter">)</span>
        <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Int, actual: Int, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Int(3)" class="int">3</span>, <a href="#199297" title="Int">sCnt</a>, <span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#199296" title="org.squeryl.test.mutablerelations.Subject">s0</a>.<a href="#197492" title="=&gt; Long">id</a> <span title="(x: Long)Boolean">==</span> <a href="#198301" title="=&gt; org.squeryl.test.mutablerelations.Subject">chemistry</a>.<a href="#197492" title="=&gt; Long">id</a><span class="delimiter">)</span>
        <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Int, actual: Int, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Int(2)" class="int">2</span>, <a href="#199297" title="Int">sCnt</a>, <span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>
      <span class="keyword">else</span>
        org.squeryl.internals.<a href="../../../../../main/org/squeryl/internals/Utils.scala.html#10829" title="object org.squeryl.internals.Utils">Utils</a>.<a href="../../../../../main/org/squeryl/internals/Utils.scala.html#30502" title="(msg: String)Nothing">throwError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;unknown subject : &quot;)" class="string">&quot;unknown subject : &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#199296" title="org.squeryl.test.mutablerelations.Subject">s0</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Int, actual: Int, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span><span title="Int(5)" class="int">5</span>, <a href="#198846" title="Int">cnt</a>, <span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: scala.collection.immutable.Set[Long], actual: scala.collection.immutable.Set[Long], s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span>
      <a href="#198300" title="=&gt; org.squeryl.test.mutablerelations.Subject">philosophy</a>.<a href="#197900" title="=&gt; org.squeryl.dsl.StatefulOneToMany[org.squeryl.test.mutablerelations.Course]">courses</a>.<span title="(f: org.squeryl.test.mutablerelations.Course =&gt; Long)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[org.squeryl.test.mutablerelations.Course],Long,Iterable[Long]])Iterable[Long]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,Long,Iterable[Long]]" class="delimiter">(</span><a href="#199465" title="org.squeryl.test.mutablerelations.Course">_</a>.<a href="#197492" title="=&gt; Long">id</a><span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[Long]">toSet</span>,
      <span title="(elems: Long*)scala.collection.immutable.Set[Long]">Set</span><span class="delimiter">(</span><a href="#198838" title="org.squeryl.test.mutablerelations.Course">philosophyCourse10AMWednesday</a>.<a href="#197492" title="=&gt; Long">id</a>, <a href="#198839" title="org.squeryl.test.mutablerelations.Course">philosophyCourse2PMWednesday</a>.<a href="#197492" title="=&gt; Long">id</a>, <a href="#198840" title="org.squeryl.test.mutablerelations.Course">philosophyCourse3PMFriday</a>.<a href="#197492" title="=&gt; Long">id</a><span class="delimiter">)</span>,
      <span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>

    <span class="comment">// no need to refresh :</span>
    <span class="comment">//philosophyCourse2PMWednesday.subject.refresh</span>
    <span class="comment">// since the relation is lazy and we haven't touched it yet...</span>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: String, actual: String, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span>
      <a href="#198839" title="org.squeryl.test.mutablerelations.Course">philosophyCourse2PMWednesday</a>.<a href="#197585" title="=&gt; org.squeryl.dsl.StatefulManyToOne[org.squeryl.test.mutablerelations.Subject]">subject</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#75940" title="=&gt; Option[org.squeryl.test.mutablerelations.Subject]">one</a>.<span title="=&gt; org.squeryl.test.mutablerelations.Subject">get</span>.<a href="#197988" title="=&gt; String">name</a>,
      <a href="#198300" title="=&gt; org.squeryl.test.mutablerelations.Subject">philosophy</a>.<a href="#197988" title="=&gt; String">name</a>,
      <span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>

    <span class="comment">// verify that a reassociation does an update and not an insert :</span>
    <span class="keyword">val</span> <a title="Long" id="198847">pk1</a> = <a href="#198840" title="org.squeryl.test.mutablerelations.Course">philosophyCourse3PMFriday</a>.<a href="#197492" title="=&gt; Long">id</a>

    <a href="#198303" title="=&gt; org.squeryl.test.mutablerelations.Subject">computationTheory</a>.<a href="#197900" title="=&gt; org.squeryl.dsl.StatefulOneToMany[org.squeryl.test.mutablerelations.Course]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#75909" title="(m: org.squeryl.test.mutablerelations.Course)(implicit ev: &lt;:&lt;[org.squeryl.test.mutablerelations.Course,org.squeryl.KeyedEntity[_]])org.squeryl.test.mutablerelations.Course">associate</a><span title="&lt;:&lt;[org.squeryl.test.mutablerelations.Course,org.squeryl.test.mutablerelations.Course]" class="delimiter">(</span><a href="#198840" title="org.squeryl.test.mutablerelations.Course">philosophyCourse3PMFriday</a><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: Long, actual: Long, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span>
      <a href="#198847" title="Long">pk1</a>,
      <a href="#198840" title="org.squeryl.test.mutablerelations.Course">philosophyCourse3PMFriday</a>.<a href="#197492" title="=&gt; Long">id</a>,
      <span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>

    <a href="#198300" title="=&gt; org.squeryl.test.mutablerelations.Subject">philosophy</a>.<a href="#197900" title="=&gt; org.squeryl.dsl.StatefulOneToMany[org.squeryl.test.mutablerelations.Course]">courses</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#75907" title="=&gt; Unit">refresh</a>

    <span class="comment">// verify that the reassociation worked, which means that</span>
    <span class="comment">// 1) : the set of philosophy.courses was reduced properly</span>
    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: scala.collection.immutable.Set[Long], actual: scala.collection.immutable.Set[Long], s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span>
      <a href="#198300" title="=&gt; org.squeryl.test.mutablerelations.Subject">philosophy</a>.<a href="#197900" title="=&gt; org.squeryl.dsl.StatefulOneToMany[org.squeryl.test.mutablerelations.Course]">courses</a>.<span title="(f: org.squeryl.test.mutablerelations.Course =&gt; Long)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[org.squeryl.test.mutablerelations.Course],Long,Iterable[Long]])Iterable[Long]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,Long,Iterable[Long]]" class="delimiter">(</span><a href="#199603" title="org.squeryl.test.mutablerelations.Course">_</a>.<a href="#197492" title="=&gt; Long">id</a><span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[Long]">toSet</span>,
      <span title="(elems: Long*)scala.collection.immutable.Set[Long]">Set</span><span class="delimiter">(</span><a href="#198838" title="org.squeryl.test.mutablerelations.Course">philosophyCourse10AMWednesday</a>.<a href="#197492" title="=&gt; Long">id</a>, <a href="#198839" title="org.squeryl.test.mutablerelations.Course">philosophyCourse2PMWednesday</a>.<a href="#197492" title="=&gt; Long">id</a><span class="delimiter">)</span>,
      <span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>

    <span class="comment">// 2) philosophyCourse3PMFriday.subject points to the proper subject</span>
    <a href="../../framework/QueryTester.scala.html#117219" title="(expected: String, actual: String, s: Symbol)Unit">assertEquals</a><span class="delimiter">(</span>
      <a href="#198303" title="=&gt; org.squeryl.test.mutablerelations.Subject">computationTheory</a>.<a href="#197988" title="=&gt; String">name</a>,
      <a href="#198840" title="org.squeryl.test.mutablerelations.Course">philosophyCourse3PMFriday</a>.<a href="#197585" title="=&gt; org.squeryl.dsl.StatefulManyToOne[org.squeryl.test.mutablerelations.Subject]">subject</a>.<a href="../../../../../main/org/squeryl/dsl/ManyToMany.scala.html#75940" title="=&gt; Option[org.squeryl.test.mutablerelations.Subject]">one</a>.<span title="=&gt; org.squeryl.test.mutablerelations.Subject">get</span>.<a href="#197988" title="=&gt; String">name</a>,
      <span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>

    <a href="../../framework/QueryTester.scala.html#117235" title="(s: Symbol)Unit">passed</a><span class="delimiter">(</span><span title="(name: String)Symbol" class="symbol">'testOneToMany</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>