<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>spire/spire/macros/Macros.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
package spire.macros

import spire.macros.<a href="../../../spire-macros/spire/macros/compat.scala.html#spire.macros.compat" title="spire.macros.compat.type">compat</a>.Context
import spire.math.<span class="delimiter">{</span>Rational, UByte, UShort, UInt, ULong<span class="delimiter">}</span>

object <a title="spire.macros.Macros.type" id="spire.macros.Macros">Macros</a> <a href="#spire.macros.Macros" title="spire.macros.Macros.type" class="delimiter">{</a>

  case class <a title="class LiteralUtil extends AnyRef with Product with Serializable" id="spire.macros.Macros.LiteralUtil.readResolve">LiteralUtil</a><a href="#spire.macros.Macros.LiteralUtil.readResolve" title="Product" class="delimiter">(</a><a title="spire.macros.compat.Context" id="spire.macros.Macros;LiteralUtil.c">c</a>: <span title="spire.macros.compat.Context">Context</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    import <a href="#spire.macros.Macros;LiteralUtil.c" title="=&gt; spire.macros.compat.Context">c</a>.<span title="=&gt; scala.reflect.macros.Universe">universe</span>._

    def <a title="=&gt; String" id="spire.macros.Macros;LiteralUtil.getString">getString</a>: <span title="String">String</span> = <span class="delimiter">{</span>
      val <a href="#spire.macros.Macros;LiteralUtil.c" title="(x: Any)Option[LiteralUtil.this.c.universe.Apply]">Apply</a><a href="#spire.macros.Macros;LiteralUtil.getString.s.s" title="String" id="spire.macros.Macros;LiteralUtil.getString.s" class="delimiter">(</a>_, <a href="#spire.macros.Macros;LiteralUtil.getString.s.<unapply-selector>" title="(x: List[LiteralUtil.this.c.universe.Tree])Some[List[LiteralUtil.this.c.universe.Tree]]">List</a><span class="delimiter">(</span><a href="#spire.macros.Macros;LiteralUtil.c" title="(x: Any)Option[LiteralUtil.this.c.universe.Apply]">Apply</a><span class="delimiter">(</span>_, <a href="#spire.macros.Macros;LiteralUtil.getString.s.<unapply-selector>" title="(x: List[LiteralUtil.this.c.universe.Tree])Some[List[LiteralUtil.this.c.universe.Tree]]">List</a><span class="delimiter">(</span><a href="#spire.macros.Macros;LiteralUtil.c" title="(x: Any)Option[LiteralUtil.this.c.universe.Literal]">Literal</a><span class="delimiter">(</span><a href="#spire.macros.Macros;LiteralUtil.c" title="(x: Any)Option[LiteralUtil.this.c.universe.Constant]">Constant</a><span class="delimiter">(</span><a title="String" id="spire.macros.Macros;LiteralUtil.getString.s.s">s</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#spire.macros.Macros;LiteralUtil.c" title="=&gt; spire.macros.compat.Context">c</a>.<span title="=&gt; LiteralUtil.this.c.Expr[LiteralUtil.this.c.PrefixType]">prefix</span>.<span title="=&gt; LiteralUtil.this.c.universe.Tree">tree</span>
      <a href="#spire.macros.Macros;LiteralUtil.getString.s" title="String">s</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(c: spire.macros.compat.Context, lower: BigInt, upper: BigInt)Either[String,BigInt]" id="spire.macros.Macros.parseContext">parseContext</a><span class="delimiter">(</span><a title="spire.macros.compat.Context" id="spire.macros.Macros.parseContext.c">c</a>: <span title="spire.macros.compat.Context">Context</span>, <a title="BigInt" id="spire.macros.Macros.parseContext.lower">lower</a>: <span title="BigInt">BigInt</span>, <a title="BigInt" id="spire.macros.Macros.parseContext.upper">upper</a>: <span title="BigInt">BigInt</span><span class="delimiter">)</span>: <span title="Either[String,BigInt]">Either</span><span class="delimiter">[</span>String, BigInt<span class="delimiter">]</span> =
    <a href="#spire.macros.Macros.parseNumber" title="(s: String, lower: BigInt, upper: BigInt)Either[String,BigInt]">parseNumber</a><span class="delimiter">(</span><a href="#spire.macros.Macros.LiteralUtil.readResolve" title="(c: spire.macros.compat.Context)spire.macros.Macros.LiteralUtil">LiteralUtil</a><span class="delimiter">(</span><a href="#spire.macros.Macros.parseContext.c" title="spire.macros.compat.Context">c</a><span class="delimiter">)</span>.<a href="#spire.macros.Macros;LiteralUtil.getString" title="=&gt; String">getString</a>, <a href="#spire.macros.Macros.parseContext.lower" title="BigInt">lower</a>, <a href="#spire.macros.Macros.parseContext.upper" title="BigInt">upper</a><span class="delimiter">)</span>

  def <a title="(s: String, lower: BigInt, upper: BigInt)Either[String,BigInt]" id="spire.macros.Macros.parseNumber">parseNumber</a><span class="delimiter">(</span><a title="String" id="spire.macros.Macros.parseNumber.s">s</a>: <span title="String">String</span>, <a title="BigInt" id="spire.macros.Macros.parseNumber.lower">lower</a>: <span title="BigInt">BigInt</span>, <a title="BigInt" id="spire.macros.Macros.parseNumber.upper">upper</a>: <span title="BigInt">BigInt</span><span class="delimiter">)</span>: <span title="Either[String,BigInt]">Either</span><span class="delimiter">[</span>String, BigInt<span class="delimiter">]</span> =
    try <span class="delimiter">{</span>
      val <a title="scala.math.BigInt" id="spire.macros.Macros.parseNumber.n">n</a> = <span title="(x: String)scala.math.BigInt">BigInt</span><span class="delimiter">(</span><a href="#spire.macros.Macros.parseNumber.s" title="String">s</a><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#spire.macros.Macros.parseNumber.n" title="scala.math.BigInt">n</a> <span title="(that: scala.math.BigInt)Boolean">&lt;</span> <a href="#spire.macros.Macros.parseNumber.lower" title="BigInt">lower</a> <span title="(x: Boolean)Boolean">||</span> <a href="#spire.macros.Macros.parseNumber.n" title="scala.math.BigInt">n</a> <span title="(that: scala.math.BigInt)Boolean">&gt;</span> <a href="#spire.macros.Macros.parseNumber.upper" title="BigInt">upper</a><span class="delimiter">)</span> <span title="(a: String)scala.util.Left[String,Nothing]">Left</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;illegal constant: %s&quot;</span> <span title="(args: Any*)String">format</span> <a href="#spire.macros.Macros.parseNumber.s" title="String">s</a><span class="delimiter">)</span> else <span title="(b: scala.math.BigInt)scala.util.Right[Nothing,scala.math.BigInt]">Right</span><span class="delimiter">(</span><a href="#spire.macros.Macros.parseNumber.n" title="scala.math.BigInt">n</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> catch <span class="delimiter">{</span>
      case _: <span title="Exception">Exception</span> =&gt; <span title="(a: String)scala.util.Left[String,Nothing]">Left</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;illegal constant: %s&quot;</span> <span title="(args: Any*)String">format</span> <a href="#spire.macros.Macros.parseNumber.s" title="String">s</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  def <a title="(c: spire.macros.compat.Context)()c.Expr[Byte]" id="spire.macros.Macros.byte">byte</a><span class="delimiter">(</span><a title="spire.macros.compat.Context" id="spire.macros.Macros.byte.c">c</a>: <span title="spire.macros.compat.Context">Context</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span>: c.<span title="c.Expr[Byte]">Expr</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span> = <span class="delimiter">{</span>
    import <a href="#spire.macros.Macros.byte.c" title="spire.macros.compat.Context">c</a>.<span title="=&gt; scala.reflect.macros.Universe">universe</span>._
    <a href="#spire.macros.Macros.parseContext" title="(c: spire.macros.compat.Context, lower: BigInt, upper: BigInt)Either[String,BigInt]">parseContext</a><span class="delimiter">(</span><a href="#spire.macros.Macros.byte.c" title="spire.macros.compat.Context">c</a>, <span title="(i: Int)scala.math.BigInt">BigInt</span><span class="delimiter">(</span>-<span title="Int(-128)" class="int">128</span><span class="delimiter">)</span>, <span title="(i: Int)scala.math.BigInt">BigInt</span><span class="delimiter">(</span><span title="Int(255)" class="int">255</span><span class="delimiter">)</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case Right<span class="delimiter">(</span><a title="BigInt" id="spire.macros.Macros.byte.n">n</a><span class="delimiter">)</span> =&gt; <a href="#spire.macros.Macros.byte.c" title="spire.macros.compat.Context">c</a>.<span title="(tree: c.Tree)(implicit evidence$1: c.WeakTypeTag[Nothing])c.Expr[Nothing]">Expr</span><a href="#spire.macros.Macros.byte.c" title="=&gt; c.universe.WeakTypeTag[Nothing]" class="delimiter">(</a><a href="#spire.macros.Macros.byte.c" title="(value: Byte)c.universe.Tree">q</a>&quot;$<span class="delimiter">{</span><a href="#spire.macros.Macros.byte.n" title="BigInt">n</a>.<span title="=&gt; Byte">toByte</span><span class="delimiter">}</span><span class="string">&quot;</span><span class="delimiter">)</span>
      case Left<span class="delimiter">(</span><a title="String" id="spire.macros.Macros.byte.s">s</a><span class="delimiter">)</span> =&gt; throw new <span title="NumberFormatException">NumberFormatException</span><span class="delimiter">(</span><a href="#spire.macros.Macros.byte.s" title="String">s</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(c: spire.macros.compat.Context)()c.Expr[spire.math.UByte]" id="spire.macros.Macros.ubyte">ubyte</a><span class="delimiter">(</span><a title="spire.macros.compat.Context" id="spire.macros.Macros.ubyte.c">c</a>: <span title="spire.macros.compat.Context">Context</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span>: c.<span title="c.Expr[spire.math.UByte]">Expr</span><span class="delimiter">[</span>UByte<span class="delimiter">]</span> = <span class="delimiter">{</span>
    import <a href="#spire.macros.Macros.ubyte.c" title="spire.macros.compat.Context">c</a>.<span title="=&gt; scala.reflect.macros.Universe">universe</span>._
    <a href="#spire.macros.Macros.parseContext" title="(c: spire.macros.compat.Context, lower: BigInt, upper: BigInt)Either[String,BigInt]">parseContext</a><span class="delimiter">(</span><a href="#spire.macros.Macros.ubyte.c" title="spire.macros.compat.Context">c</a>, <span title="(i: Int)scala.math.BigInt">BigInt</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>, <span title="(i: Int)scala.math.BigInt">BigInt</span><span class="delimiter">(</span><span title="Int(255)" class="int">255</span><span class="delimiter">)</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case Right<span class="delimiter">(</span><a title="BigInt" id="spire.macros.Macros.ubyte.n">n</a><span class="delimiter">)</span> =&gt; <a href="#spire.macros.Macros.ubyte.c" title="spire.macros.compat.Context">c</a>.<span title="(tree: c.Tree)(implicit evidence$1: c.WeakTypeTag[Nothing])c.Expr[Nothing]">Expr</span><a href="#spire.macros.Macros.ubyte.c" title="=&gt; c.universe.WeakTypeTag[Nothing]" class="delimiter">(</a><a href="#spire.macros.Macros.ubyte.c" title="(tree: c.universe.Tree, argss: List[List[c.universe.Tree]])c.universe.Tree">q</a>&quot;spire.math.UByte($<span class="delimiter">{</span><a href="#spire.macros.Macros.ubyte.n" title="BigInt">n</a>.<span title="=&gt; Byte">toByte</span><span class="delimiter">}</span><span class="string">)&quot;</span><span class="delimiter">)</span>
      case Left<span class="delimiter">(</span><a title="String" id="spire.macros.Macros.ubyte.s">s</a><span class="delimiter">)</span> =&gt; throw new <span title="NumberFormatException">NumberFormatException</span><span class="delimiter">(</span><a href="#spire.macros.Macros.ubyte.s" title="String">s</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(c: spire.macros.compat.Context)()c.Expr[Short]" id="spire.macros.Macros.short">short</a><span class="delimiter">(</span><a title="spire.macros.compat.Context" id="spire.macros.Macros.short.c">c</a>: <span title="spire.macros.compat.Context">Context</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span>: c.<span title="c.Expr[Short]">Expr</span><span class="delimiter">[</span>Short<span class="delimiter">]</span> = <span class="delimiter">{</span>
    import <a href="#spire.macros.Macros.short.c" title="spire.macros.compat.Context">c</a>.<span title="=&gt; scala.reflect.macros.Universe">universe</span>._
    <a href="#spire.macros.Macros.parseContext" title="(c: spire.macros.compat.Context, lower: BigInt, upper: BigInt)Either[String,BigInt]">parseContext</a><span class="delimiter">(</span><a href="#spire.macros.Macros.short.c" title="spire.macros.compat.Context">c</a>, <span title="(i: Int)scala.math.BigInt">BigInt</span><span class="delimiter">(</span>-<span title="Int(-32768)" class="int">32768</span><span class="delimiter">)</span>, <span title="(i: Int)scala.math.BigInt">BigInt</span><span class="delimiter">(</span><span title="Int(65535)" class="int">65535</span><span class="delimiter">)</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case Right<span class="delimiter">(</span><a title="BigInt" id="spire.macros.Macros.short.n">n</a><span class="delimiter">)</span> =&gt; <a href="#spire.macros.Macros.short.c" title="spire.macros.compat.Context">c</a>.<span title="(tree: c.Tree)(implicit evidence$1: c.WeakTypeTag[Nothing])c.Expr[Nothing]">Expr</span><a href="#spire.macros.Macros.short.c" title="=&gt; c.universe.WeakTypeTag[Nothing]" class="delimiter">(</a><a href="#spire.macros.Macros.short.c" title="(value: Short)c.universe.Tree">q</a>&quot;$<span class="delimiter">{</span><a href="#spire.macros.Macros.short.n" title="BigInt">n</a>.<span title="=&gt; Short">toShort</span><span class="delimiter">}</span><span class="string">&quot;</span><span class="delimiter">)</span>
      case Left<span class="delimiter">(</span><a title="String" id="spire.macros.Macros.short.s">s</a><span class="delimiter">)</span> =&gt; throw new <span title="NumberFormatException">NumberFormatException</span><span class="delimiter">(</span><a href="#spire.macros.Macros.short.s" title="String">s</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(c: spire.macros.compat.Context)()c.Expr[spire.math.UShort]" id="spire.macros.Macros.ushort">ushort</a><span class="delimiter">(</span><a title="spire.macros.compat.Context" id="spire.macros.Macros.ushort.c">c</a>: <span title="spire.macros.compat.Context">Context</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span>: c.<span title="c.Expr[spire.math.UShort]">Expr</span><span class="delimiter">[</span>UShort<span class="delimiter">]</span> = <span class="delimiter">{</span>
    import <a href="#spire.macros.Macros.ushort.c" title="spire.macros.compat.Context">c</a>.<span title="=&gt; scala.reflect.macros.Universe">universe</span>._
    <a href="#spire.macros.Macros.parseContext" title="(c: spire.macros.compat.Context, lower: BigInt, upper: BigInt)Either[String,BigInt]">parseContext</a><span class="delimiter">(</span><a href="#spire.macros.Macros.ushort.c" title="spire.macros.compat.Context">c</a>, <span title="(i: Int)scala.math.BigInt">BigInt</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>, <span title="(i: Int)scala.math.BigInt">BigInt</span><span class="delimiter">(</span><span title="Int(65535)" class="int">65535</span><span class="delimiter">)</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case Right<span class="delimiter">(</span><a title="BigInt" id="spire.macros.Macros.ushort.n">n</a><span class="delimiter">)</span> =&gt; <a href="#spire.macros.Macros.ushort.c" title="spire.macros.compat.Context">c</a>.<span title="(tree: c.Tree)(implicit evidence$1: c.WeakTypeTag[Nothing])c.Expr[Nothing]">Expr</span><a href="#spire.macros.Macros.ushort.c" title="=&gt; c.universe.WeakTypeTag[Nothing]" class="delimiter">(</a><a href="#spire.macros.Macros.ushort.c" title="(tree: c.universe.Tree, argss: List[List[c.universe.Tree]])c.universe.Tree">q</a>&quot;spire.math.UShort($<span class="delimiter">{</span><a href="#spire.macros.Macros.ushort.n" title="BigInt">n</a>.<span title="=&gt; Short">toShort</span><span class="delimiter">}</span><span class="string">)&quot;</span><span class="delimiter">)</span>
      case Left<span class="delimiter">(</span><a title="String" id="spire.macros.Macros.ushort.s">s</a><span class="delimiter">)</span> =&gt; throw new <span title="NumberFormatException">NumberFormatException</span><span class="delimiter">(</span><a href="#spire.macros.Macros.ushort.s" title="String">s</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(c: spire.macros.compat.Context)()c.Expr[spire.math.UInt]" id="spire.macros.Macros.uint">uint</a><span class="delimiter">(</span><a title="spire.macros.compat.Context" id="spire.macros.Macros.uint.c">c</a>: <span title="spire.macros.compat.Context">Context</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span>: c.<span title="c.Expr[spire.math.UInt]">Expr</span><span class="delimiter">[</span>UInt<span class="delimiter">]</span> = <span class="delimiter">{</span>
    import <a href="#spire.macros.Macros.uint.c" title="spire.macros.compat.Context">c</a>.<span title="=&gt; scala.reflect.macros.Universe">universe</span>._
    <a href="#spire.macros.Macros.parseContext" title="(c: spire.macros.compat.Context, lower: BigInt, upper: BigInt)Either[String,BigInt]">parseContext</a><span class="delimiter">(</span><a href="#spire.macros.Macros.uint.c" title="spire.macros.compat.Context">c</a>, <span title="(i: Int)scala.math.BigInt">BigInt</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>, <span title="(l: Long)scala.math.BigInt">BigInt</span><span class="delimiter">(</span><span title="Long(4294967295L)" class="long">4294967295L</span><span class="delimiter">)</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case Right<span class="delimiter">(</span><a title="BigInt" id="spire.macros.Macros.uint.n">n</a><span class="delimiter">)</span> =&gt; <a href="#spire.macros.Macros.uint.c" title="spire.macros.compat.Context">c</a>.<span title="(tree: c.Tree)(implicit evidence$1: c.WeakTypeTag[Nothing])c.Expr[Nothing]">Expr</span><a href="#spire.macros.Macros.uint.c" title="=&gt; c.universe.WeakTypeTag[Nothing]" class="delimiter">(</a><a href="#spire.macros.Macros.uint.c" title="(tree: c.universe.Tree, argss: List[List[c.universe.Tree]])c.universe.Tree">q</a>&quot;spire.math.UInt($<span class="delimiter">{</span><a href="#spire.macros.Macros.uint.n" title="BigInt">n</a>.<span title="=&gt; Int">toInt</span><span class="delimiter">}</span><span class="string">)&quot;</span><span class="delimiter">)</span>
      case Left<span class="delimiter">(</span><a title="String" id="spire.macros.Macros.uint.s">s</a><span class="delimiter">)</span> =&gt; throw new <span title="NumberFormatException">NumberFormatException</span><span class="delimiter">(</span><a href="#spire.macros.Macros.uint.s" title="String">s</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(c: spire.macros.compat.Context)()c.Expr[spire.math.ULong]" id="spire.macros.Macros.ulong">ulong</a><span class="delimiter">(</span><a title="spire.macros.compat.Context" id="spire.macros.Macros.ulong.c">c</a>: <span title="spire.macros.compat.Context">Context</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span>: c.<span title="c.Expr[spire.math.ULong]">Expr</span><span class="delimiter">[</span>ULong<span class="delimiter">]</span> = <span class="delimiter">{</span>
    import <a href="#spire.macros.Macros.ulong.c" title="spire.macros.compat.Context">c</a>.<span title="=&gt; scala.reflect.macros.Universe">universe</span>._
    <a href="#spire.macros.Macros.parseContext" title="(c: spire.macros.compat.Context, lower: BigInt, upper: BigInt)Either[String,BigInt]">parseContext</a><span class="delimiter">(</span><a href="#spire.macros.Macros.ulong.c" title="spire.macros.compat.Context">c</a>, <span title="(i: Int)scala.math.BigInt">BigInt</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>, <span title="(x: String)scala.math.BigInt">BigInt</span><span class="delimiter">(</span><span title="String(&quot;18446744073709551615&quot;)" class="string">&quot;18446744073709551615&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case Right<span class="delimiter">(</span><a title="BigInt" id="spire.macros.Macros.ulong.n">n</a><span class="delimiter">)</span> =&gt; <a href="#spire.macros.Macros.ulong.c" title="spire.macros.compat.Context">c</a>.<span title="(tree: c.Tree)(implicit evidence$1: c.WeakTypeTag[Nothing])c.Expr[Nothing]">Expr</span><a href="#spire.macros.Macros.ulong.c" title="=&gt; c.universe.WeakTypeTag[Nothing]" class="delimiter">(</a><a href="#spire.macros.Macros.ulong.c" title="(tree: c.universe.Tree, argss: List[List[c.universe.Tree]])c.universe.Tree">q</a>&quot;spire.math.ULong($<span class="delimiter">{</span><a href="#spire.macros.Macros.ulong.n" title="BigInt">n</a>.<span title="=&gt; Long">toLong</span><span class="delimiter">}</span><span class="string">)&quot;</span><span class="delimiter">)</span>
      case Left<span class="delimiter">(</span><a title="String" id="spire.macros.Macros.ulong.s">s</a><span class="delimiter">)</span> =&gt; throw new <span title="NumberFormatException">NumberFormatException</span><span class="delimiter">(</span><a href="#spire.macros.Macros.ulong.s" title="String">s</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(c: spire.macros.compat.Context)()c.Expr[spire.math.Rational]" id="spire.macros.Macros.rational">rational</a><span class="delimiter">(</span><a title="spire.macros.compat.Context" id="spire.macros.Macros.rational.c">c</a>: <span title="spire.macros.compat.Context">Context</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span>: c.<span title="c.Expr[spire.math.Rational]">Expr</span><span class="delimiter">[</span>Rational<span class="delimiter">]</span> = <span class="delimiter">{</span>
    import <a href="#spire.macros.Macros.rational.c" title="spire.macros.compat.Context">c</a>.<span title="=&gt; scala.reflect.macros.Universe">universe</span>._

    val <a href="#spire.macros.Macros.rational.c" title="(x: Any)Option[c.universe.Apply]">Apply</a><a href="#spire.macros.Macros.rational.s.s" title="String" id="spire.macros.Macros.rational.s" class="delimiter">(</a>_, <a href="#spire.macros.Macros.rational.s.<unapply-selector>" title="(x: List[c.universe.Tree])Some[List[c.universe.Tree]]">List</a><span class="delimiter">(</span><a href="#spire.macros.Macros.rational.c" title="(x: Any)Option[c.universe.Apply]">Apply</a><span class="delimiter">(</span>_, <a href="#spire.macros.Macros.rational.s.<unapply-selector>" title="(x: List[c.universe.Tree])Some[List[c.universe.Tree]]">List</a><span class="delimiter">(</span><a href="#spire.macros.Macros.rational.c" title="(x: Any)Option[c.universe.Literal]">Literal</a><span class="delimiter">(</span><a href="#spire.macros.Macros.rational.c" title="(x: Any)Option[c.universe.Constant]">Constant</a><span class="delimiter">(</span><a title="String" id="spire.macros.Macros.rational.s.s">s</a>:<span title="String">String</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#spire.macros.Macros.rational.c" title="spire.macros.compat.Context">c</a>.<span title="=&gt; c.Expr[c.PrefixType]">prefix</span>.<span title="=&gt; c.universe.Tree">tree</span>
    val <a title="spire.math.Rational" id="spire.macros.Macros.rational.r">r</a> = <a href="../math/Rational.scala.html#spire.math.Rational.apply(3d5d5650e1)" title="(r: String)spire.math.Rational">Rational</a><span class="delimiter">(</span><a href="#spire.macros.Macros.rational.s" title="String">s</a><span class="delimiter">)</span>

    val <a href="#spire.macros.Macros.rational.n" title="(BigInt, BigInt)" class="delimiter">(</a><a href="#spire.macros.Macros.rational.x$1" title="BigInt" id="spire.macros.Macros.rational.n">n</a>, <a href="#spire.macros.Macros.rational.x$1" title="BigInt" id="spire.macros.Macros.rational.d">d</a><span class="delimiter">)</span> = <span title="(_1: BigInt, _2: BigInt)(BigInt, BigInt)" class="delimiter">(</span><a href="#spire.macros.Macros.rational.r" title="spire.math.Rational">r</a>.<a href="../math/Rational.scala.html#spire.math;Rational.numerator" title="=&gt; BigInt">numerator</a>, <a href="#spire.macros.Macros.rational.r" title="spire.math.Rational">r</a>.<a href="../math/Rational.scala.html#spire.math;Rational.denominator" title="=&gt; BigInt">denominator</a><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#spire.macros.Macros.rational.n" title="BigInt">n</a>.<span title="=&gt; Boolean">isValidLong</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#spire.macros.Macros.rational.d" title="BigInt">d</a>.<span title="=&gt; Boolean">isValidLong</span><span class="delimiter">)</span>
      <a href="#spire.macros.Macros.rational.c" title="spire.macros.compat.Context">c</a>.<span title="(tree: c.Tree)(implicit evidence$1: c.WeakTypeTag[Nothing])c.Expr[Nothing]">Expr</span><a href="#spire.macros.Macros.rational.c" title="=&gt; c.universe.WeakTypeTag[Nothing]" class="delimiter">(</a><a href="#spire.macros.Macros.rational.c" title="(tree: c.universe.Tree, argss: List[List[c.universe.Tree]])c.universe.Tree">q</a>&quot;spire.math.Rational($<span class="delimiter">{</span><a href="#spire.macros.Macros.rational.n" title="BigInt">n</a>.<span title="=&gt; Long">toLong</span><span class="delimiter">}</span>, $<span class="delimiter">{</span><a href="#spire.macros.Macros.rational.d" title="BigInt">d</a>.<span title="=&gt; Long">toLong</span><span class="delimiter">}</span><span class="string">)&quot;</span><span class="delimiter">)</span>
    else
      <a href="#spire.macros.Macros.rational.c" title="spire.macros.compat.Context">c</a>.<span title="(tree: c.Tree)(implicit evidence$1: c.WeakTypeTag[Nothing])c.Expr[Nothing]">Expr</span><a href="#spire.macros.Macros.rational.c" title="=&gt; c.universe.WeakTypeTag[Nothing]" class="delimiter">(</a><a href="#spire.macros.Macros.rational.c" title="(tree: c.universe.Tree, argss: List[List[c.universe.Tree]])c.universe.Tree">q</a>&quot;spire.math.Rational(BigInt($<span class="delimiter">{</span><a href="#spire.macros.Macros.rational.n" title="BigInt">n</a>.<span title="()String">toString</span><span class="delimiter">}</span>), BigInt($<span class="delimiter">{</span><a href="#spire.macros.Macros.rational.d" title="BigInt">d</a>.<span title="()String">toString</span><span class="delimiter">}</span><span class="string">))&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(c: spire.macros.compat.Context, sep: String)String" id="spire.macros.Macros.formatWhole">formatWhole</a><span class="delimiter">(</span><a title="spire.macros.compat.Context" id="spire.macros.Macros.formatWhole.c">c</a>: <span title="spire.macros.compat.Context">Context</span>, <a title="String" id="spire.macros.Macros.formatWhole.sep">sep</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    val regex = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;0|-?[1-9][0-9]{0,2}(%s[0-9]{3})*&quot;</span> <a title="String" id="spire.macros.Macros.formatWhole.regex">format</a> <a href="#spire.macros.Macros.formatWhole.sep" title="String">sep</a>
    import <a href="#spire.macros.Macros.formatWhole.c" title="spire.macros.compat.Context">c</a>.<span title="=&gt; scala.reflect.macros.Universe">universe</span>._
    val <a href="#spire.macros.Macros.formatWhole.c" title="(x: Any)Option[c.universe.Apply]">Apply</a><a href="#spire.macros.Macros.formatWhole.s.s" title="String" id="spire.macros.Macros.formatWhole.s" class="delimiter">(</a>_, <a href="#spire.macros.Macros.formatWhole.s.<unapply-selector>" title="(x: List[c.universe.Tree])Some[List[c.universe.Tree]]">List</a><span class="delimiter">(</span><a href="#spire.macros.Macros.formatWhole.c" title="(x: Any)Option[c.universe.Apply]">Apply</a><span class="delimiter">(</span>_, <a href="#spire.macros.Macros.formatWhole.s.<unapply-selector>" title="(x: List[c.universe.Tree])Some[List[c.universe.Tree]]">List</a><span class="delimiter">(</span><a href="#spire.macros.Macros.formatWhole.c" title="(x: Any)Option[c.universe.Literal]">Literal</a><span class="delimiter">(</span><a href="#spire.macros.Macros.formatWhole.c" title="(x: Any)Option[c.universe.Constant]">Constant</a><span class="delimiter">(</span><a title="String" id="spire.macros.Macros.formatWhole.s.s">s</a>:<span title="String">String</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#spire.macros.Macros.formatWhole.c" title="spire.macros.compat.Context">c</a>.<span title="=&gt; c.Expr[c.PrefixType]">prefix</span>.<span title="=&gt; c.universe.Tree">tree</span>
    if <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#spire.macros.Macros.formatWhole.s" title="String">s</a>.<span title="(x$1: String)Boolean">matches</span><span class="delimiter">(</span><a href="#spire.macros.Macros.formatWhole.regex" title="String">regex</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#spire.macros.Macros.formatWhole.c" title="spire.macros.compat.Context">c</a>.<span title="(pos: c.Position, msg: String)Unit">error</span><span class="delimiter">(</span><a href="#spire.macros.Macros.formatWhole.c" title="spire.macros.compat.Context">c</a>.<span title="=&gt; c.Position">enclosingPosition</span>, <span title="String(&quot;invalid whole number&quot;)" class="string">&quot;invalid whole number&quot;</span><span class="delimiter">)</span>
    <a href="#spire.macros.Macros.formatWhole.s" title="String">s</a>.<span title="(x$1: CharSequence, x$2: CharSequence)String">replace</span><span class="delimiter">(</span><a href="#spire.macros.Macros.formatWhole.sep" title="String">sep</a>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(c: spire.macros.compat.Context, sep: String, dec: String)String" id="spire.macros.Macros.formatDecimal">formatDecimal</a><span class="delimiter">(</span><a title="spire.macros.compat.Context" id="spire.macros.Macros.formatDecimal.c">c</a>: <span title="spire.macros.compat.Context">Context</span>, <a title="String" id="spire.macros.Macros.formatDecimal.sep">sep</a>: <span title="String">String</span>, <a title="String" id="spire.macros.Macros.formatDecimal.dec">dec</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    val regex = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;0|-?[1-9][0-9]{0,2}(%s[0-9]{3})*(%s[0-9]+)?&quot;</span> <a title="String" id="spire.macros.Macros.formatDecimal.regex">format</a> <span class="delimiter">(</span><a href="#spire.macros.Macros.formatDecimal.sep" title="String">sep</a>, <a href="#spire.macros.Macros.formatDecimal.dec" title="String">dec</a><span class="delimiter">)</span>
    import <a href="#spire.macros.Macros.formatDecimal.c" title="spire.macros.compat.Context">c</a>.<span title="=&gt; scala.reflect.macros.Universe">universe</span>._
    val <a href="#spire.macros.Macros.formatDecimal.c" title="(x: Any)Option[c.universe.Apply]">Apply</a><a href="#spire.macros.Macros.formatDecimal.s.s" title="String" id="spire.macros.Macros.formatDecimal.s" class="delimiter">(</a>_, <a href="#spire.macros.Macros.formatDecimal.s.<unapply-selector>" title="(x: List[c.universe.Tree])Some[List[c.universe.Tree]]">List</a><span class="delimiter">(</span><a href="#spire.macros.Macros.formatDecimal.c" title="(x: Any)Option[c.universe.Apply]">Apply</a><span class="delimiter">(</span>_, <a href="#spire.macros.Macros.formatDecimal.s.<unapply-selector>" title="(x: List[c.universe.Tree])Some[List[c.universe.Tree]]">List</a><span class="delimiter">(</span><a href="#spire.macros.Macros.formatDecimal.c" title="(x: Any)Option[c.universe.Literal]">Literal</a><span class="delimiter">(</span><a href="#spire.macros.Macros.formatDecimal.c" title="(x: Any)Option[c.universe.Constant]">Constant</a><span class="delimiter">(</span><a title="String" id="spire.macros.Macros.formatDecimal.s.s">s</a>:<span title="String">String</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#spire.macros.Macros.formatDecimal.c" title="spire.macros.compat.Context">c</a>.<span title="=&gt; c.Expr[c.PrefixType]">prefix</span>.<span title="=&gt; c.universe.Tree">tree</span>
    if <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#spire.macros.Macros.formatDecimal.s" title="String">s</a>.<span title="(x$1: String)Boolean">matches</span><span class="delimiter">(</span><a href="#spire.macros.Macros.formatDecimal.regex" title="String">regex</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#spire.macros.Macros.formatDecimal.c" title="spire.macros.compat.Context">c</a>.<span title="(pos: c.Position, msg: String)Unit">error</span><span class="delimiter">(</span><a href="#spire.macros.Macros.formatDecimal.c" title="spire.macros.compat.Context">c</a>.<span title="=&gt; c.Position">enclosingPosition</span>, <span title="String(&quot;invalid decimal number&quot;)" class="string">&quot;invalid decimal number&quot;</span><span class="delimiter">)</span>
    <a href="#spire.macros.Macros.formatDecimal.s" title="String">s</a>.<span title="(x$1: CharSequence, x$2: CharSequence)String">replace</span><span class="delimiter">(</span><a href="#spire.macros.Macros.formatDecimal.sep" title="String">sep</a>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>.<span title="(x$1: CharSequence, x$2: CharSequence)String">replace</span><span class="delimiter">(</span><a href="#spire.macros.Macros.formatDecimal.dec" title="String">dec</a>, <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(c: spire.macros.compat.Context, name: String, sep: String)c.Expr[Int]" id="spire.macros.Macros.handleInt">handleInt</a><span class="delimiter">(</span><a title="spire.macros.compat.Context" id="spire.macros.Macros.handleInt.c">c</a>: <span title="spire.macros.compat.Context">Context</span>, <a title="String" id="spire.macros.Macros.handleInt.name">name</a>: <span title="String">String</span>, <a title="String" id="spire.macros.Macros.handleInt.sep">sep</a>: <span title="String">String</span><span class="delimiter">)</span>: c.<span title="c.Expr[Int]">Expr</span><span class="delimiter">[</span>Int<span class="delimiter">]</span> = <span class="delimiter">{</span>
    import <a href="#spire.macros.Macros.handleInt.c" title="spire.macros.compat.Context">c</a>.<span title="=&gt; scala.reflect.macros.Universe">universe</span>._
    try <span class="delimiter">{</span>
      <a href="#spire.macros.Macros.handleInt.c" title="spire.macros.compat.Context">c</a>.<span title="[T](tree: c.Tree)(implicit evidence$1: c.WeakTypeTag[T])c.Expr[T]">Expr</span><span title="(tree: c.Tree)(implicit evidence$1: c.WeakTypeTag[Int])c.Expr[Int]" class="delimiter">[</span><span title="Int">Int</span><span class="delimiter">]</span><a href="#spire.macros.Macros.handleInt.c" title="=&gt; c.universe.WeakTypeTag[Int]" class="delimiter">(</a><a href="#spire.macros.Macros.handleInt.c" title="(value: c.universe.Constant)c.universe.Literal">Literal</a><span class="delimiter">(</span><a href="#spire.macros.Macros.handleInt.c" title="(value: Any)c.universe.Constant">Constant</a><span class="delimiter">(</span><a href="#spire.macros.Macros.formatWhole" title="(c: spire.macros.compat.Context, sep: String)String">formatWhole</a><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</span><a href="#spire.macros.Macros.handleInt.c" title="spire.macros.compat.Context">c</a>, <a href="#spire.macros.Macros.handleInt.sep" title="String">sep</a><span class="delimiter">)</span>.<span title="=&gt; Int">toInt</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> catch <span class="delimiter">{</span>
      case <a title="Exception" id="spire.macros.Macros.handleInt.e">e</a>: <span title="Exception">Exception</span> =&gt;
        throw new <span title="NumberFormatException">NumberFormatException</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;illegal %s Int constant&quot;</span> <span title="(args: Any*)String">format</span> <a href="#spire.macros.Macros.handleInt.name" title="String">name</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(c: spire.macros.compat.Context, name: String, sep: String)c.Expr[Long]" id="spire.macros.Macros.handleLong">handleLong</a><span class="delimiter">(</span><a title="spire.macros.compat.Context" id="spire.macros.Macros.handleLong.c">c</a>: <span title="spire.macros.compat.Context">Context</span>, <a title="String" id="spire.macros.Macros.handleLong.name">name</a>: <span title="String">String</span>, <a title="String" id="spire.macros.Macros.handleLong.sep">sep</a>: <span title="String">String</span><span class="delimiter">)</span>: c.<span title="c.Expr[Long]">Expr</span><span class="delimiter">[</span>Long<span class="delimiter">]</span> = <span class="delimiter">{</span>
    import <a href="#spire.macros.Macros.handleLong.c" title="spire.macros.compat.Context">c</a>.<span title="=&gt; scala.reflect.macros.Universe">universe</span>._
    try <span class="delimiter">{</span>
      <a href="#spire.macros.Macros.handleLong.c" title="spire.macros.compat.Context">c</a>.<span title="[T](tree: c.Tree)(implicit evidence$1: c.WeakTypeTag[T])c.Expr[T]">Expr</span><span title="(tree: c.Tree)(implicit evidence$1: c.WeakTypeTag[Long])c.Expr[Long]" class="delimiter">[</span><span title="Long">Long</span><span class="delimiter">]</span><a href="#spire.macros.Macros.handleLong.c" title="=&gt; c.universe.WeakTypeTag[Long]" class="delimiter">(</a><a href="#spire.macros.Macros.handleLong.c" title="(value: c.universe.Constant)c.universe.Literal">Literal</a><span class="delimiter">(</span><a href="#spire.macros.Macros.handleLong.c" title="(value: Any)c.universe.Constant">Constant</a><span class="delimiter">(</span><a href="#spire.macros.Macros.formatWhole" title="(c: spire.macros.compat.Context, sep: String)String">formatWhole</a><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</span><a href="#spire.macros.Macros.handleLong.c" title="spire.macros.compat.Context">c</a>, <a href="#spire.macros.Macros.handleLong.sep" title="String">sep</a><span class="delimiter">)</span>.<span title="=&gt; Long">toLong</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> catch <span class="delimiter">{</span>
      case <a title="Exception" id="spire.macros.Macros.handleLong.e">e</a>: <span title="Exception">Exception</span> =&gt;
        throw new <span title="NumberFormatException">NumberFormatException</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;illegal %s Long constant&quot;</span> <span title="(args: Any*)String">format</span> <a href="#spire.macros.Macros.handleLong.name" title="String">name</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(c: spire.macros.compat.Context, name: String, sep: String)c.Expr[BigInt]" id="spire.macros.Macros.handleBigInt">handleBigInt</a><span class="delimiter">(</span><a title="spire.macros.compat.Context" id="spire.macros.Macros.handleBigInt.c">c</a>: <span title="spire.macros.compat.Context">Context</span>, <a title="String" id="spire.macros.Macros.handleBigInt.name">name</a>: <span title="String">String</span>, <a title="String" id="spire.macros.Macros.handleBigInt.sep">sep</a>: <span title="String">String</span><span class="delimiter">)</span>: c.<span title="c.Expr[BigInt]">Expr</span><span class="delimiter">[</span>BigInt<span class="delimiter">]</span> = <span class="delimiter">{</span>
    import <a href="#spire.macros.Macros.handleBigInt.c" title="spire.macros.compat.Context">c</a>.<span title="=&gt; scala.reflect.macros.Universe">universe</span>._
    try <span class="delimiter">{</span>
      val <a title="String" id="spire.macros.Macros.handleBigInt.s">s</a> = <a href="#spire.macros.Macros.formatWhole" title="(c: spire.macros.compat.Context, sep: String)String">formatWhole</a><span class="delimiter">(</span><a href="#spire.macros.Macros.handleBigInt.c" title="spire.macros.compat.Context">c</a>, <a href="#spire.macros.Macros.handleBigInt.sep" title="String">sep</a><span class="delimiter">)</span>
      val <a title="scala.math.BigInt" id="spire.macros.Macros.handleBigInt.b">b</a> = <span title="(x: String)scala.math.BigInt">BigInt</span><span class="delimiter">(</span><a href="#spire.macros.Macros.handleBigInt.s" title="String">s</a><span class="delimiter">)</span> <span class="comment">// make sure it's ok</span>
      <a href="#spire.macros.Macros.handleBigInt.c" title="spire.macros.compat.Context">c</a>.<span title="[T](tree: c.Tree)(implicit evidence$1: c.WeakTypeTag[T])c.Expr[T]">Expr</span><span title="(tree: c.Tree)(implicit evidence$1: c.WeakTypeTag[BigInt])c.Expr[BigInt]" class="delimiter">[</span><span title="BigInt">BigInt</span><span class="delimiter">]</span><a href="#spire.macros.Macros.handleBigInt.c" title="c.universe.type" id="spire.macros.Macros.handleBigInt;$typecreator1.apply.$m" class="delimiter">(</a><a href="#spire.macros.Macros.handleBigInt.c" title="(fun: c.universe.Tree, args: List[c.universe.Tree])c.universe.Apply">Apply</a><span class="delimiter">(</span><a href="#spire.macros.Macros.handleBigInt.c" title="(qual: c.universe.Tree, name: c.universe.TermName)c.universe.Select">q</a>&quot;<span class="string">scala.math.BigInt.apply&quot;</span>, <span title="(xs: c.universe.Literal*)List[c.universe.Literal]">List</span><span class="delimiter">(</span><a href="#spire.macros.Macros.handleBigInt.c" title="(value: c.universe.Constant)c.universe.Literal">Literal</a><span class="delimiter">(</span><a href="#spire.macros.Macros.handleBigInt.c" title="(value: Any)c.universe.Constant">Constant</a><span class="delimiter">(</span><a href="#spire.macros.Macros.handleBigInt.s" title="String">s</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> catch <span class="delimiter">{</span>
      case <a title="Exception" id="spire.macros.Macros.handleBigInt.e">e</a>: <span title="Exception">Exception</span> =&gt;
        throw new <span title="NumberFormatException">NumberFormatException</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;illegal %s BigInt constant&quot;</span> <span title="(args: Any*)String">format</span> <a href="#spire.macros.Macros.handleBigInt.name" title="String">name</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(c: spire.macros.compat.Context, name: String, sep: String, dec: String)c.Expr[BigDecimal]" id="spire.macros.Macros.handleBigDecimal">handleBigDecimal</a><span class="delimiter">(</span><a title="spire.macros.compat.Context" id="spire.macros.Macros.handleBigDecimal.c">c</a>: <span title="spire.macros.compat.Context">Context</span>, <a title="String" id="spire.macros.Macros.handleBigDecimal.name">name</a>: <span title="String">String</span>, <a title="String" id="spire.macros.Macros.handleBigDecimal.sep">sep</a>: <span title="String">String</span>, <a title="String" id="spire.macros.Macros.handleBigDecimal.dec">dec</a>: <span title="String">String</span><span class="delimiter">)</span>: c.<span title="c.Expr[BigDecimal]">Expr</span><span class="delimiter">[</span>BigDecimal<span class="delimiter">]</span> = <span class="delimiter">{</span>
    import <a href="#spire.macros.Macros.handleBigDecimal.c" title="spire.macros.compat.Context">c</a>.<span title="=&gt; scala.reflect.macros.Universe">universe</span>._
    try <span class="delimiter">{</span>
      val <a title="String" id="spire.macros.Macros.handleBigDecimal.s">s</a> = <a href="#spire.macros.Macros.formatDecimal" title="(c: spire.macros.compat.Context, sep: String, dec: String)String">formatDecimal</a><span class="delimiter">(</span><a href="#spire.macros.Macros.handleBigDecimal.c" title="spire.macros.compat.Context">c</a>, <a href="#spire.macros.Macros.handleBigDecimal.sep" title="String">sep</a>, <a href="#spire.macros.Macros.handleBigDecimal.dec" title="String">dec</a><span class="delimiter">)</span>
      val <a title="scala.math.BigDecimal" id="spire.macros.Macros.handleBigDecimal.b">b</a> = <span title="(x: String)scala.math.BigDecimal">BigDecimal</span><span class="delimiter">(</span><a href="#spire.macros.Macros.handleBigDecimal.s" title="String">s</a><span class="delimiter">)</span> <span class="comment">// make sure it's ok</span>
      <a href="#spire.macros.Macros.handleBigDecimal.c" title="spire.macros.compat.Context">c</a>.<span title="[T](tree: c.Tree)(implicit evidence$1: c.WeakTypeTag[T])c.Expr[T]">Expr</span><span title="(tree: c.Tree)(implicit evidence$1: c.WeakTypeTag[BigDecimal])c.Expr[BigDecimal]" class="delimiter">[</span><span title="BigDecimal">BigDecimal</span><span class="delimiter">]</span><a href="#spire.macros.Macros.handleBigDecimal.c" title="c.universe.type" id="spire.macros.Macros.handleBigDecimal;$typecreator2.apply.$m" class="delimiter">(</a><a href="#spire.macros.Macros.handleBigDecimal.c" title="(fun: c.universe.Tree, args: List[c.universe.Tree])c.universe.Apply">Apply</a><span class="delimiter">(</span><a href="#spire.macros.Macros.handleBigDecimal.c" title="(qual: c.universe.Tree, name: c.universe.TermName)c.universe.Select">q</a>&quot;<span class="string">scala.math.BigDecimal.apply&quot;</span>, <span title="(xs: c.universe.Literal*)List[c.universe.Literal]">List</span><span class="delimiter">(</span><a href="#spire.macros.Macros.handleBigDecimal.c" title="(value: c.universe.Constant)c.universe.Literal">Literal</a><span class="delimiter">(</span><a href="#spire.macros.Macros.handleBigDecimal.c" title="(value: Any)c.universe.Constant">Constant</a><span class="delimiter">(</span><a href="#spire.macros.Macros.handleBigDecimal.s" title="String">s</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> catch <span class="delimiter">{</span>
      case <a title="Exception" id="spire.macros.Macros.handleBigDecimal.e">e</a>: <span title="Exception">Exception</span> =&gt;
        throw new <span title="NumberFormatException">NumberFormatException</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;illegal %s BigInt constant&quot;</span> <span title="(args: Any*)String">format</span> <a href="#spire.macros.Macros.handleBigDecimal.name" title="String">name</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(c: spire.macros.compat.Context)()c.Expr[Int]" id="spire.macros.Macros.siInt">siInt</a><span class="delimiter">(</span><a title="spire.macros.compat.Context" id="spire.macros.Macros.siInt.c">c</a>: <span title="spire.macros.compat.Context">Context</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span>: c.<span title="c.Expr[Int]">Expr</span><span class="delimiter">[</span>Int<span class="delimiter">]</span> = <a href="#spire.macros.Macros.handleInt" title="(c: spire.macros.compat.Context, name: String, sep: String)c.Expr[Int]">handleInt</a><span class="delimiter">(</span><a href="#spire.macros.Macros.siInt.c" title="spire.macros.compat.Context">c</a>, <span title="String(&quot;SI&quot;)" class="string">&quot;SI&quot;</span>, <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span>
  def <a title="(c: spire.macros.compat.Context)()c.Expr[Long]" id="spire.macros.Macros.siLong">siLong</a><span class="delimiter">(</span><a title="spire.macros.compat.Context" id="spire.macros.Macros.siLong.c">c</a>: <span title="spire.macros.compat.Context">Context</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span>: c.<span title="c.Expr[Long]">Expr</span><span class="delimiter">[</span>Long<span class="delimiter">]</span> = <a href="#spire.macros.Macros.handleLong" title="(c: spire.macros.compat.Context, name: String, sep: String)c.Expr[Long]">handleLong</a><span class="delimiter">(</span><a href="#spire.macros.Macros.siLong.c" title="spire.macros.compat.Context">c</a>, <span title="String(&quot;SI&quot;)" class="string">&quot;SI&quot;</span>, <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span>
  def <a title="(c: spire.macros.compat.Context)()c.Expr[BigInt]" id="spire.macros.Macros.siBigInt">siBigInt</a><span class="delimiter">(</span><a title="spire.macros.compat.Context" id="spire.macros.Macros.siBigInt.c">c</a>: <span title="spire.macros.compat.Context">Context</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span>: c.<span title="c.Expr[BigInt]">Expr</span><span class="delimiter">[</span>BigInt<span class="delimiter">]</span> = <a href="#spire.macros.Macros.handleBigInt" title="(c: spire.macros.compat.Context, name: String, sep: String)c.Expr[BigInt]">handleBigInt</a><span class="delimiter">(</span><a href="#spire.macros.Macros.siBigInt.c" title="spire.macros.compat.Context">c</a>, <span title="String(&quot;SI&quot;)" class="string">&quot;SI&quot;</span>, <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span>
  def <a title="(c: spire.macros.compat.Context)()c.Expr[BigDecimal]" id="spire.macros.Macros.siBigDecimal">siBigDecimal</a><span class="delimiter">(</span><a title="spire.macros.compat.Context" id="spire.macros.Macros.siBigDecimal.c">c</a>: <span title="spire.macros.compat.Context">Context</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span>: c.<span title="c.Expr[BigDecimal]">Expr</span><span class="delimiter">[</span>BigDecimal<span class="delimiter">]</span> = <a href="#spire.macros.Macros.handleBigDecimal" title="(c: spire.macros.compat.Context, name: String, sep: String, dec: String)c.Expr[BigDecimal]">handleBigDecimal</a><span class="delimiter">(</span><a href="#spire.macros.Macros.siBigDecimal.c" title="spire.macros.compat.Context">c</a>, <span title="String(&quot;SI&quot;)" class="string">&quot;SI&quot;</span>, <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span>, <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>

  def <a title="(c: spire.macros.compat.Context)()c.Expr[Int]" id="spire.macros.Macros.usInt">usInt</a><span class="delimiter">(</span><a title="spire.macros.compat.Context" id="spire.macros.Macros.usInt.c">c</a>: <span title="spire.macros.compat.Context">Context</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span>: c.<span title="c.Expr[Int]">Expr</span><span class="delimiter">[</span>Int<span class="delimiter">]</span> = <a href="#spire.macros.Macros.handleInt" title="(c: spire.macros.compat.Context, name: String, sep: String)c.Expr[Int]">handleInt</a><span class="delimiter">(</span><a href="#spire.macros.Macros.usInt.c" title="spire.macros.compat.Context">c</a>, <span title="String(&quot;US&quot;)" class="string">&quot;US&quot;</span>, <span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span>
  def <a title="(c: spire.macros.compat.Context)()c.Expr[Long]" id="spire.macros.Macros.usLong">usLong</a><span class="delimiter">(</span><a title="spire.macros.compat.Context" id="spire.macros.Macros.usLong.c">c</a>: <span title="spire.macros.compat.Context">Context</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span>: c.<span title="c.Expr[Long]">Expr</span><span class="delimiter">[</span>Long<span class="delimiter">]</span> = <a href="#spire.macros.Macros.handleLong" title="(c: spire.macros.compat.Context, name: String, sep: String)c.Expr[Long]">handleLong</a><span class="delimiter">(</span><a href="#spire.macros.Macros.usLong.c" title="spire.macros.compat.Context">c</a>, <span title="String(&quot;US&quot;)" class="string">&quot;US&quot;</span>, <span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span>
  def <a title="(c: spire.macros.compat.Context)()c.Expr[BigInt]" id="spire.macros.Macros.usBigInt">usBigInt</a><span class="delimiter">(</span><a title="spire.macros.compat.Context" id="spire.macros.Macros.usBigInt.c">c</a>: <span title="spire.macros.compat.Context">Context</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span>: c.<span title="c.Expr[BigInt]">Expr</span><span class="delimiter">[</span>BigInt<span class="delimiter">]</span> = <a href="#spire.macros.Macros.handleBigInt" title="(c: spire.macros.compat.Context, name: String, sep: String)c.Expr[BigInt]">handleBigInt</a><span class="delimiter">(</span><a href="#spire.macros.Macros.usBigInt.c" title="spire.macros.compat.Context">c</a>, <span title="String(&quot;US&quot;)" class="string">&quot;US&quot;</span>, <span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span>
  def <a title="(c: spire.macros.compat.Context)()c.Expr[BigDecimal]" id="spire.macros.Macros.usBigDecimal">usBigDecimal</a><span class="delimiter">(</span><a title="spire.macros.compat.Context" id="spire.macros.Macros.usBigDecimal.c">c</a>: <span title="spire.macros.compat.Context">Context</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span>: c.<span title="c.Expr[BigDecimal]">Expr</span><span class="delimiter">[</span>BigDecimal<span class="delimiter">]</span> = <a href="#spire.macros.Macros.handleBigDecimal" title="(c: spire.macros.compat.Context, name: String, sep: String, dec: String)c.Expr[BigDecimal]">handleBigDecimal</a><span class="delimiter">(</span><a href="#spire.macros.Macros.usBigDecimal.c" title="spire.macros.compat.Context">c</a>, <span title="String(&quot;US&quot;)" class="string">&quot;US&quot;</span>, <span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>

  def <a title="(c: spire.macros.compat.Context)()c.Expr[Int]" id="spire.macros.Macros.euInt">euInt</a><span class="delimiter">(</span><a title="spire.macros.compat.Context" id="spire.macros.Macros.euInt.c">c</a>: <span title="spire.macros.compat.Context">Context</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span>: c.<span title="c.Expr[Int]">Expr</span><span class="delimiter">[</span>Int<span class="delimiter">]</span> = <a href="#spire.macros.Macros.handleInt" title="(c: spire.macros.compat.Context, name: String, sep: String)c.Expr[Int]">handleInt</a><span class="delimiter">(</span><a href="#spire.macros.Macros.euInt.c" title="spire.macros.compat.Context">c</a>, <span title="String(&quot;EU&quot;)" class="string">&quot;EU&quot;</span>, <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>
  def <a title="(c: spire.macros.compat.Context)()c.Expr[Long]" id="spire.macros.Macros.euLong">euLong</a><span class="delimiter">(</span><a title="spire.macros.compat.Context" id="spire.macros.Macros.euLong.c">c</a>: <span title="spire.macros.compat.Context">Context</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span>: c.<span title="c.Expr[Long]">Expr</span><span class="delimiter">[</span>Long<span class="delimiter">]</span> = <a href="#spire.macros.Macros.handleLong" title="(c: spire.macros.compat.Context, name: String, sep: String)c.Expr[Long]">handleLong</a><span class="delimiter">(</span><a href="#spire.macros.Macros.euLong.c" title="spire.macros.compat.Context">c</a>, <span title="String(&quot;EU&quot;)" class="string">&quot;EU&quot;</span>, <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>
  def <a title="(c: spire.macros.compat.Context)()c.Expr[BigInt]" id="spire.macros.Macros.euBigInt">euBigInt</a><span class="delimiter">(</span><a title="spire.macros.compat.Context" id="spire.macros.Macros.euBigInt.c">c</a>: <span title="spire.macros.compat.Context">Context</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span>: c.<span title="c.Expr[BigInt]">Expr</span><span class="delimiter">[</span>BigInt<span class="delimiter">]</span> = <a href="#spire.macros.Macros.handleBigInt" title="(c: spire.macros.compat.Context, name: String, sep: String)c.Expr[BigInt]">handleBigInt</a><span class="delimiter">(</span><a href="#spire.macros.Macros.euBigInt.c" title="spire.macros.compat.Context">c</a>, <span title="String(&quot;EU&quot;)" class="string">&quot;EU&quot;</span>, <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>
  def <a title="(c: spire.macros.compat.Context)()c.Expr[BigDecimal]" id="spire.macros.Macros.euBigDecimal">euBigDecimal</a><span class="delimiter">(</span><a title="spire.macros.compat.Context" id="spire.macros.Macros.euBigDecimal.c">c</a>: <span title="spire.macros.compat.Context">Context</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span>: c.<span title="c.Expr[BigDecimal]">Expr</span><span class="delimiter">[</span>BigDecimal<span class="delimiter">]</span> = <a href="#spire.macros.Macros.handleBigDecimal" title="(c: spire.macros.compat.Context, name: String, sep: String, dec: String)c.Expr[BigDecimal]">handleBigDecimal</a><span class="delimiter">(</span><a href="#spire.macros.Macros.euBigDecimal.c" title="spire.macros.compat.Context">c</a>, <span title="String(&quot;EU&quot;)" class="string">&quot;EU&quot;</span>, <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span>, <span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span>

  def <a title="(c: spire.macros.compat.Context)()c.Expr[Int]" id="spire.macros.Macros.radix">radix</a><span class="delimiter">(</span><a title="spire.macros.compat.Context" id="spire.macros.Macros.radix.c">c</a>: <span title="spire.macros.compat.Context">Context</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span>: c.<span title="c.Expr[Int]">Expr</span><span class="delimiter">[</span>Int<span class="delimiter">]</span> = <span class="delimiter">{</span>
    import <a href="#spire.macros.Macros.radix.c" title="spire.macros.compat.Context">c</a>.<span title="=&gt; scala.reflect.macros.Universe">universe</span>._
    val <a href="#spire.macros.Macros.radix.c" title="(x: Any)Option[c.universe.Apply]">Apply</a><a href="#spire.macros.Macros.radix.s.s" title="String" id="spire.macros.Macros.radix.s" class="delimiter">(</a>_, <a href="#spire.macros.Macros.radix.s.<unapply-selector>" title="(x: List[c.universe.Tree])Some[List[c.universe.Tree]]">List</a><span class="delimiter">(</span><a href="#spire.macros.Macros.radix.c" title="(x: Any)Option[c.universe.Apply]">Apply</a><span class="delimiter">(</span>_, <a href="#spire.macros.Macros.radix.s.<unapply-selector>" title="(x: List[c.universe.Tree])Some[List[c.universe.Tree]]">List</a><span class="delimiter">(</span><a href="#spire.macros.Macros.radix.c" title="(x: Any)Option[c.universe.Literal]">Literal</a><span class="delimiter">(</span><a href="#spire.macros.Macros.radix.c" title="(x: Any)Option[c.universe.Constant]">Constant</a><span class="delimiter">(</span><a title="String" id="spire.macros.Macros.radix.s.s">s</a>:<span title="String">String</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#spire.macros.Macros.radix.c" title="spire.macros.compat.Context">c</a>.<span title="=&gt; c.Expr[c.PrefixType]">prefix</span>.<span title="=&gt; c.universe.Tree">tree</span>

    val <a title="String" id="spire.macros.Macros.radix.name">name</a> = <a href="#spire.macros.Macros.radix.c" title="spire.macros.compat.Context">c</a>.<span title="=&gt; c.Tree">macroApplication</span>.<span title="=&gt; c.universe.Symbol">symbol</span>.<span title="=&gt; c.universe.Symbol#NameType">name</span>.<span title="()String">toString</span>
    val <a title="Int" id="spire.macros.Macros.radix.base">base</a> = <a href="#spire.macros.Macros.radix.name" title="String">name</a>.<span title="(x$1: Int)String">substring</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; Int">toInt</span>
    if <span class="delimiter">(</span><a href="#spire.macros.Macros.radix.base" title="Int">base</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(2)" class="int">2</span> <span title="(x: Boolean)Boolean">||</span> <span title="Int(36)" class="int">36</span> <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.macros.Macros.radix.base" title="Int">base</a><span class="delimiter">)</span>
      throw new <span title="NumberFormatException">NumberFormatException</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;invalid radix: %s&quot;</span> <span title="(args: Any*)String">format</span> <a href="#spire.macros.Macros.radix.base" title="Int">base</a><span class="delimiter">)</span>

    val <a title="Int" id="spire.macros.Macros.radix.n">n</a> = java.lang.<span title="Integer.type">Integer</span>.<span title="(x$1: String, x$2: Int)Int">parseInt</span><span class="delimiter">(</span><a href="#spire.macros.Macros.radix.s" title="String">s</a>, <a href="#spire.macros.Macros.radix.base" title="Int">base</a><span class="delimiter">)</span>

    <a href="#spire.macros.Macros.radix.c" title="spire.macros.compat.Context">c</a>.<span title="[T](tree: c.Tree)(implicit evidence$1: c.WeakTypeTag[T])c.Expr[T]">Expr</span><span title="(tree: c.Tree)(implicit evidence$1: c.WeakTypeTag[Int])c.Expr[Int]" class="delimiter">[</span><span title="Int">Int</span><span class="delimiter">]</span><a href="#spire.macros.Macros.radix.c" title="=&gt; c.universe.WeakTypeTag[Int]" class="delimiter">(</a><a href="#spire.macros.Macros.radix.c" title="(value: c.universe.Constant)c.universe.Literal">Literal</a><span class="delimiter">(</span><a href="#spire.macros.Macros.radix.c" title="(value: Any)c.universe.Constant">Constant</a><span class="delimiter">(</span><a href="#spire.macros.Macros.radix.n" title="Int">n</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
