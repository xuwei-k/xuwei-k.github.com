<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>spire/spire/random/rng/MersenneTwister64.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/************************************************************************\
** Project                                                              **
**       ______  ______   __    ______    ____                          **
**      / ____/ / __  /  / /   / __  /   / __/     (c) 2011-2014        **
**     / /__   / /_/ /  / /   / /_/ /   / /_                            **
**    /___  / / ____/  / /   / __  /   / __/   Erik Osheim, Tom Switzer **
**   ____/ / / /      / /   / / | |   / /__                             **
**  /_____/ /_/      /_/   /_/  |_|  /____/     All rights reserved.    **
**                                                                      **
**      Redistribution and use permitted under the MIT license.         **
**                                                                      **
\************************************************************************/</span>


package spire
package random
package rng

import spire.syntax.<a href="../../syntax/package.scala.html#spire.syntax.package.cfor" title="spire.syntax.cfor.type">cfor</a>._
import spire.util.Pack
import java.nio.ByteBuffer
import java.util.Arrays

<span class="comment">/**
 * This is a 64-bit Scala implementation of MersenneTwister based on MT19937-64.c.
 *
 * &lt;p&gt;MersenneTwister is a fast, 623-dimensionally equidistributed pseudo random number generator
 * with a &lt;tt&gt;2&lt;sup&gt;19937&lt;/sup&gt;&amp;nbsp;-&amp;nbsp;1&lt;/tt&gt; long period.
 *
 * &lt;p&gt;&lt;b&gt;Reference: &lt;/b&gt;
 * Makoto Matsumoto and Takuji Nishimura:
 * &quot;Mersenne Twister: A 623-Dimensionally Equidistributed Uniform Pseudo-Random Number Generator&quot;,
 * &lt;i&gt;ACM Transactions on Modeling and Computer Simulation,&lt;/i&gt; Vol. 8, No. 1, January 1998, pp 3--30.
 *
 * @see &lt;a href=&quot;http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/VERSIONS/C-LANG/mt19937-64.c&quot;&gt;MT19937-64.c&lt;/a&gt;
 * @see &lt;a href=&quot;http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/emt.html&quot;&gt;Mersenne Twister Home Page&lt;/a&gt;
 * @see &lt;a href=&quot;http://en.wikipedia.org/wiki/Mersenne_twister&quot;&gt;Mersenne Twister @ Wikipedia&lt;/a&gt;
 * @author &lt;a href=&quot;mailto:dusan.kysel@gmail.com&quot;&gt;Du&amp;#x0161;an Kysel&lt;/a&gt;
 */</span>
final class <a title="class MersenneTwister64 extends spire.random.LongBasedGenerator" id="spire.random.rng;MersenneTwister64">MersenneTwister64</a> protected<span class="delimiter">[</span>random<span class="delimiter">]</span><span class="delimiter">(</span><a title="Array[Long]" id="spire.random.rng;MersenneTwister64.mt">mt</a>: <span title="Array[Long]">Array</span><span class="delimiter">[</span>Long<span class="delimiter">]</span>, <a title="Int" id="spire.random.rng.MersenneTwister64.<init>$default$2">mti0</a>: <span title="Int">Int</span> = <span title="Int(313)" class="int">313</span><span class="delimiter">)</span> extends <a href="../Generator.scala.html#spire.random;LongBasedGenerator" title="spire.random.LongBasedGenerator">LongBasedGenerator</a> <span class="delimiter">{</span> <span class="comment">// N + 1 = 313</span>

  import <a href="#spire.random.rng.MersenneTwister64" title="spire.random.rng.MersenneTwister64.type">MersenneTwister64</a>.<span class="delimiter">{</span>UpperMask, LowerMask, N, M, N_M, N_1, M_N, M_1, BYTES, mag01<span class="delimiter">}</span>

  private var <a title="Int" id="spire.random.rng;MersenneTwister64.mti_=">mti</a> = <a href="#spire.random.rng.MersenneTwister64.<init>$default$2" title="Int">mti0</a>

  def <a title="=&gt; spire.random.rng.MersenneTwister64" id="spire.random.rng;MersenneTwister64.copyInit">copyInit</a>: <a href="#spire.random.rng;MersenneTwister64" title="spire.random.rng.MersenneTwister64">MersenneTwister64</a> = new <a href="#spire.random.rng;MersenneTwister64" title="spire.random.rng.MersenneTwister64">MersenneTwister64</a><span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.mt" title="Array[Long]">mt</a>.<span title="()Array[Long]">clone</span>, <a href="#spire.random.rng;MersenneTwister64.mti_=" title="=&gt; Int">mti</a><span class="delimiter">)</span>

  def <a title="()Array[Byte]" id="spire.random.rng;MersenneTwister64.getSeedBytes">getSeedBytes</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="Array[Byte]" id="spire.random.rng;MersenneTwister64.getSeedBytes.bytes">bytes</a> = new <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">(</span><a href="#spire.random.rng.MersenneTwister64.BYTES" title="=&gt; Int">BYTES</a><span class="delimiter">)</span>
    val <a title="java.nio.ByteBuffer" id="spire.random.rng;MersenneTwister64.getSeedBytes.bb">bb</a> = <span title="java.nio.ByteBuffer.type">ByteBuffer</span>.<span title="(x$1: Array[Byte])java.nio.ByteBuffer">wrap</span><span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.getSeedBytes.bytes" title="Array[Byte]">bytes</a><span class="delimiter">)</span>

    cfor<span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">(</span>_ <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.random.rng.MersenneTwister64.N" title="=&gt; Int">N</a>, _ <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a title="Int" id="spire.random.rng;MersenneTwister64.getSeedBytes.index$macro$413" class="delimiter">{</a> i =&gt; <a href="#spire.random.rng;MersenneTwister64.getSeedBytes.bb" title="java.nio.ByteBuffer">bb</a>.<span title="(x$1: Long)java.nio.ByteBuffer">putLong</span><span title="Unit" class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.mt" title="(i: Int)Long">mt</a><span class="delimiter">(</span>i<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
    <a href="#spire.random.rng;MersenneTwister64.getSeedBytes.bb" title="java.nio.ByteBuffer">bb</a>.<span title="(x$1: Int)java.nio.ByteBuffer">putInt</span><span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.mti_=" title="=&gt; Int">mti</a><span class="delimiter">)</span>
    <a href="#spire.random.rng;MersenneTwister64.getSeedBytes.bytes" title="Array[Byte]">bytes</a>
  <span class="delimiter">}</span>

  def <a title="(bytes: Array[Byte])Unit" id="spire.random.rng;MersenneTwister64.setSeedBytes">setSeedBytes</a><span class="delimiter">(</span><a title="Array[Byte]" id="spire.random.rng;MersenneTwister64.setSeedBytes.bytes">bytes</a>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    val <a title="Array[Byte]" id="spire.random.rng;MersenneTwister64.setSeedBytes.bs">bs</a> = if <span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.setSeedBytes.bytes" title="Array[Byte]">bytes</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.random.rng.MersenneTwister64.BYTES" title="=&gt; Int">BYTES</a><span class="delimiter">)</span> <span title="java.util.Arrays.type">Arrays</span>.<span title="(x$1: Array[Byte], x$2: Int)Array[Byte]">copyOf</span><span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.setSeedBytes.bytes" title="Array[Byte]">bytes</a>, <a href="#spire.random.rng.MersenneTwister64.BYTES" title="=&gt; Int">BYTES</a><span class="delimiter">)</span> else <a href="#spire.random.rng;MersenneTwister64.setSeedBytes.bytes" title="Array[Byte]">bytes</a>
    val <a title="java.nio.ByteBuffer" id="spire.random.rng;MersenneTwister64.setSeedBytes.bb">bb</a> = <span title="java.nio.ByteBuffer.type">ByteBuffer</span>.<span title="(x$1: Array[Byte])java.nio.ByteBuffer">wrap</span><span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.setSeedBytes.bs" title="Array[Byte]">bs</a><span class="delimiter">)</span>
    cfor<span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">(</span>_ <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.random.rng.MersenneTwister64.N" title="=&gt; Int">N</a>, _ <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a title="Int" id="spire.random.rng;MersenneTwister64.setSeedBytes.index$macro$414" class="delimiter">{</a> i =&gt; <a href="#spire.random.rng;MersenneTwister64.mt" title="(i: Int, x: Long)Unit">mt</a><span class="delimiter">(</span>i<span class="delimiter">)</span> = <a href="#spire.random.rng;MersenneTwister64.setSeedBytes.bb" title="java.nio.ByteBuffer">bb</a>.<span title="()Long">getLong</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>
    <a href="#spire.random.rng;MersenneTwister64.mti_=" title="(x$1: Int)Unit">mti</a> = <a href="#spire.random.rng;MersenneTwister64.setSeedBytes.bb" title="java.nio.ByteBuffer">bb</a>.<span title="()Int">getInt</span>
  <span class="delimiter">}</span>

  <span class="comment">// Generates the next random long in the sequence</span>
  override def <a title="()Long" id="spire.random.rng;MersenneTwister64.nextLong(8800fc39c7)">nextLong</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Long">Long</span> = <span class="delimiter">{</span>
    var <a title="Long" id="spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).x">x</a> = <span title="Long(0L)" class="long">0L</span>

    if <span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.mti_=" title="=&gt; Int">mti</a> <span title="(x: Int)Boolean">&gt;=</span> <a href="#spire.random.rng.MersenneTwister64.N" title="=&gt; Int">N</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      var <a title="Int" id="spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).kk">kk</a> = <span title="Int(0)" class="int">0</span>

      while <span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).kk" title="Int">kk</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.random.rng.MersenneTwister64.N_M" title="=&gt; Int">N_M</a><span class="delimiter">)</span> <a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).while$1" title="()Unit" class="delimiter">{</a>
        <a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).x" title="Long">x</a> = <span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.mt" title="(i: Int)Long">mt</a><span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).kk" title="Int">kk</a><span class="delimiter">)</span> <span title="(x: Long)Long">&amp;</span> <a href="#spire.random.rng.MersenneTwister64.UpperMask" title="=&gt; Long">UpperMask</a><span class="delimiter">)</span> <span title="(x: Long)Long">|</span> <span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.mt" title="(i: Int)Long">mt</a><span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).kk" title="Int">kk</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Long)Long">&amp;</span> <a href="#spire.random.rng.MersenneTwister64.LowerMask" title="=&gt; Long">LowerMask</a><span class="delimiter">)</span>
        <a href="#spire.random.rng;MersenneTwister64.mt" title="(i: Int, x: Long)Unit">mt</a><span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).kk" title="Int">kk</a><span class="delimiter">)</span> = <a href="#spire.random.rng;MersenneTwister64.mt" title="(i: Int)Long">mt</a><span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).kk" title="Int">kk</a> <span title="(x: Int)Int">+</span> <a href="#spire.random.rng.MersenneTwister64.M" title="=&gt; Int">M</a><span class="delimiter">)</span> <span title="(x: Long)Long">^</span> <span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).x" title="Long">x</a> <span title="(x: Int)Long">&gt;&gt;&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Long)Long">^</span> <a href="#spire.random.rng.MersenneTwister64.mag01" title="(x: Long)Long">mag01</a><span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).x" title="Long">x</a><span class="delimiter">)</span>
        <a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).kk" title="Int">kk</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>

      while <span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).kk" title="Int">kk</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.random.rng.MersenneTwister64.N_1" title="=&gt; Int">N_1</a><span class="delimiter">)</span> <a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).while$2" title="()Unit" class="delimiter">{</a>
        <a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).x" title="Long">x</a> = <span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.mt" title="(i: Int)Long">mt</a><span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).kk" title="Int">kk</a><span class="delimiter">)</span> <span title="(x: Long)Long">&amp;</span> <a href="#spire.random.rng.MersenneTwister64.UpperMask" title="=&gt; Long">UpperMask</a><span class="delimiter">)</span> <span title="(x: Long)Long">|</span> <span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.mt" title="(i: Int)Long">mt</a><span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).kk" title="Int">kk</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Long)Long">&amp;</span> <a href="#spire.random.rng.MersenneTwister64.LowerMask" title="=&gt; Long">LowerMask</a><span class="delimiter">)</span>
        <a href="#spire.random.rng;MersenneTwister64.mt" title="(i: Int, x: Long)Unit">mt</a><span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).kk" title="Int">kk</a><span class="delimiter">)</span> = <a href="#spire.random.rng;MersenneTwister64.mt" title="(i: Int)Long">mt</a><span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).kk" title="Int">kk</a> <span title="(x: Int)Int">+</span> <span class="delimiter">(</span><a href="#spire.random.rng.MersenneTwister64.M_N" title="=&gt; Int">M_N</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Long)Long">^</span> <span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).x" title="Long">x</a> <span title="(x: Int)Long">&gt;&gt;&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Long)Long">^</span> <a href="#spire.random.rng.MersenneTwister64.mag01" title="(x: Long)Long">mag01</a><span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).x" title="Long">x</a><span class="delimiter">)</span>
        <a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).kk" title="Int">kk</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>

      <a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).x" title="Long">x</a> = <span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.mt" title="(i: Int)Long">mt</a><span class="delimiter">(</span><a href="#spire.random.rng.MersenneTwister64.N_1" title="=&gt; Int">N_1</a><span class="delimiter">)</span> <span title="(x: Long)Long">&amp;</span> <a href="#spire.random.rng.MersenneTwister64.UpperMask" title="=&gt; Long">UpperMask</a><span class="delimiter">)</span> <span title="(x: Long)Long">|</span> <span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.mt" title="(i: Int)Long">mt</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x: Long)Long">&amp;</span> <a href="#spire.random.rng.MersenneTwister64.LowerMask" title="=&gt; Long">LowerMask</a><span class="delimiter">)</span>
      <a href="#spire.random.rng;MersenneTwister64.mt" title="(i: Int, x: Long)Unit">mt</a><span class="delimiter">(</span><a href="#spire.random.rng.MersenneTwister64.N_1" title="=&gt; Int">N_1</a><span class="delimiter">)</span> = <a href="#spire.random.rng;MersenneTwister64.mt" title="(i: Int)Long">mt</a><span class="delimiter">(</span><a href="#spire.random.rng.MersenneTwister64.M_1" title="=&gt; Int">M_1</a><span class="delimiter">)</span> <span title="(x: Long)Long">^</span> <span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).x" title="Long">x</a> <span title="(x: Int)Long">&gt;&gt;&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Long)Long">^</span> <a href="#spire.random.rng.MersenneTwister64.mag01" title="(x: Long)Long">mag01</a><span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).x" title="Long">x</a><span class="delimiter">)</span>

      <a href="#spire.random.rng;MersenneTwister64.mti_=" title="(x$1: Int)Unit">mti</a> = <span title="Int(0)" class="int">0</span>
    <span class="delimiter">}</span>

    <a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).x" title="Long">x</a> = <a href="#spire.random.rng;MersenneTwister64.mt" title="(i: Int)Long">mt</a><span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.mti_=" title="=&gt; Int">mti</a><span class="delimiter">)</span>
    <a href="#spire.random.rng;MersenneTwister64.mti_=" title="(x$1: Int)Unit">mti</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>

    <span class="comment">// Tempering</span>
    <a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).x" title="Long">x</a> <span title="(x: Long)Long">^=</span> <span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).x" title="Long">x</a> <span title="(x: Int)Long">&gt;&gt;&gt;</span> <span title="Int(29)" class="int">29</span><span class="delimiter">)</span> <span title="(x: Long)Long">&amp;</span> <span title="Long(6148914691236517205L)" class="long">0x5555555555555555L</span>
    <a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).x" title="Long">x</a> <span title="(x: Long)Long">^=</span> <span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).x" title="Long">x</a>  <span title="(x: Int)Long">&lt;&lt;</span> <span title="Int(17)" class="int">17</span><span class="delimiter">)</span> <span title="(x: Long)Long">&amp;</span> <span title="Long(8202884508482404352L)" class="long">0x71D67FFFEDA60000L</span>
    <a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).x" title="Long">x</a> <span title="(x: Long)Long">^=</span> <span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).x" title="Long">x</a>  <span title="(x: Int)Long">&lt;&lt;</span> <span title="Int(37)" class="int">37</span><span class="delimiter">)</span> <span title="(x: Long)Long">&amp;</span> <span title="Long(-2270628950310912L)" class="long">0xFFF7EEE000000000L</span>
    <a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).x" title="Long">x</a> <span title="(x: Long)Long">^=</span> <span class="delimiter">(</span><a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).x" title="Long">x</a> <span title="(x: Int)Long">&gt;&gt;&gt;</span> <span title="Int(43)" class="int">43</span><span class="delimiter">)</span>

    <a href="#spire.random.rng;MersenneTwister64.nextLong(8800fc39c7).x" title="Long">x</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

object <a title="spire.random.rng.MersenneTwister64.type" id="spire.random.rng.MersenneTwister64">MersenneTwister64</a> extends <a href="../Generator.scala.html#spire.random;GeneratorCompanion" title="spire.random.GeneratorCompanion[spire.random.rng.MersenneTwister64,(Array[Long], Int)]">GeneratorCompanion</a><span class="delimiter">[</span>MersenneTwister64, <span class="delimiter">(</span>Array<span class="delimiter">[</span>Long<span class="delimiter">]</span>, Int<span class="delimiter">)</span><span class="delimiter">]</span> <span class="delimiter">{</span>

  @inline private val <a title="Long" id="spire.random.rng.MersenneTwister64.UpperMask">UpperMask</a> = <span title="Long(-2147483648L)" class="long">0xFFFFFFFF80000000L</span> <span class="comment">// = 0xFFFFFFFFFFFFFFFFL ^ Int.MinValue</span>
  @inline private val <a title="Long" id="spire.random.rng.MersenneTwister64.LowerMask">LowerMask</a> = <span title="Long(2147483647L)" class="long">0x7FFFFFFFL</span>         <span class="comment">// = Int.MinValue</span>

  @inline private val <a title="Int" id="spire.random.rng.MersenneTwister64.N">N</a> = <span title="Int(312)" class="int">312</span>
  @inline private val <a title="Int" id="spire.random.rng.MersenneTwister64.M">M</a> = <span title="Int(156)" class="int">156</span>

  @inline private val N_M = <a href="#spire.random.rng.MersenneTwister64.N" title="=&gt; Int">N</a> <a title="Int" id="spire.random.rng.MersenneTwister64.N_M">-</a> <a href="#spire.random.rng.MersenneTwister64.M" title="=&gt; Int">M</a>
  @inline private val N_1 = <a href="#spire.random.rng.MersenneTwister64.N" title="=&gt; Int">N</a> <a title="Int" id="spire.random.rng.MersenneTwister64.N_1">-</a> <span title="Int(1)" class="int">1</span>

  @inline private val M_N = <a href="#spire.random.rng.MersenneTwister64.M" title="=&gt; Int">M</a> <a title="Int" id="spire.random.rng.MersenneTwister64.M_N">-</a> <a href="#spire.random.rng.MersenneTwister64.N" title="=&gt; Int">N</a>
  @inline private val M_1 = <a href="#spire.random.rng.MersenneTwister64.M" title="=&gt; Int">M</a> <a title="Int" id="spire.random.rng.MersenneTwister64.M_1">-</a> <span title="Int(1)" class="int">1</span>

  @inline private val BYTES = <a href="#spire.random.rng.MersenneTwister64.N" title="=&gt; Int">N</a> <span title="(x: Int)Int">*</span> <span title="Int(8)" class="int">8</span> <a title="Int" id="spire.random.rng.MersenneTwister64.BYTES">+</a> <span title="Int(4)" class="int">4</span>

  @inline private def <a title="(x: Long)Long" id="spire.random.rng.MersenneTwister64.mag01">mag01</a><span class="delimiter">(</span><a title="Long" id="spire.random.rng.MersenneTwister64.mag01.x">x</a>: <span title="Long">Long</span><span class="delimiter">)</span> = if <span class="delimiter">(</span><span class="delimiter">(</span><a href="#spire.random.rng.MersenneTwister64.mag01.x" title="Long">x</a> <span title="(x: Int)Long">&amp;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="Long(0L)" class="long">0L</span> else <span title="Long(815194369124884894L)" class="long">0xB5026F5AA96619EL</span>

  def <a title="()(Array[Long], Int)" id="spire.random.rng.MersenneTwister64.randomSeed">randomSeed</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="(Array[Long], Int)" class="delimiter">(</span>Array<span class="delimiter">[</span>Long<span class="delimiter">]</span>, Int<span class="delimiter">)</span> = <span title="(_1: Array[Long], _2: Int)(Array[Long], Int)" class="delimiter">(</span><a href="Utils.scala.html#spire.random.rng.Utils" title="spire.random.rng.Utils.type">Utils</a>.<a href="Utils.scala.html#spire.random.rng.Utils.seedFromLong" title="(length: Int, seed: Long)Array[Long]">seedFromLong</a><span class="delimiter">(</span><a href="#spire.random.rng.MersenneTwister64.N" title="=&gt; Int">N</a>, <a href="Utils.scala.html#spire.random.rng.Utils" title="spire.random.rng.Utils.type">Utils</a>.<a href="Utils.scala.html#spire.random.rng.Utils.longFromTime" title="(time: Long)Long">longFromTime</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#spire.random.rng.MersenneTwister64.N" title="=&gt; Int">N</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

  def <a title="(seed: (Array[Long], Int))spire.random.rng.MersenneTwister64" id="spire.random.rng.MersenneTwister64.fromSeed">fromSeed</a><span class="delimiter">(</span><a title="(Array[Long], Int)" id="spire.random.rng.MersenneTwister64.fromSeed.seed">seed</a>: <span title="(Array[Long], Int)" class="delimiter">(</span>Array<span class="delimiter">[</span>Long<span class="delimiter">]</span>, Int<span class="delimiter">)</span><span class="delimiter">)</span>: <a href="#spire.random.rng;MersenneTwister64" title="spire.random.rng.MersenneTwister64">MersenneTwister64</a> =
    <a href="#spire.random.rng.MersenneTwister64.fromSeed.seed" title="(Array[Long], Int)">seed</a> match <span class="delimiter">{</span>
      case <span class="delimiter">(</span><a title="Array[Long]" id="spire.random.rng.MersenneTwister64.fromSeed.mt">mt</a>, <a title="Int" id="spire.random.rng.MersenneTwister64.fromSeed.mti">mti</a><span class="delimiter">)</span> =&gt;
        <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#spire.random.rng.MersenneTwister64.fromSeed.mt" title="Array[Long]">mt</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <a href="#spire.random.rng.MersenneTwister64.N" title="=&gt; Int">N</a><span class="delimiter">)</span>
        new <a href="#spire.random.rng;MersenneTwister64" title="spire.random.rng.MersenneTwister64">MersenneTwister64</a><span class="delimiter">(</span><a href="#spire.random.rng.MersenneTwister64.fromSeed.mt" title="Array[Long]">mt</a>, <a href="#spire.random.rng.MersenneTwister64.fromSeed.mti" title="Int">mti</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  def <a title="(arr: Array[Long])spire.random.rng.MersenneTwister64" id="spire.random.rng.MersenneTwister64.fromArray">fromArray</a><span class="delimiter">(</span><a title="Array[Long]" id="spire.random.rng.MersenneTwister64.fromArray.arr">arr</a>: <span title="Array[Long]">Array</span><span class="delimiter">[</span>Long<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#spire.random.rng;MersenneTwister64" title="spire.random.rng.MersenneTwister64">MersenneTwister64</a> = <a href="#spire.random.rng.MersenneTwister64.fromSeed" title="(seed: (Array[Long], Int))spire.random.rng.MersenneTwister64">fromSeed</a><span class="delimiter">(</span><span title="(_1: Array[Long], _2: Int)(Array[Long], Int)" class="delimiter">(</span><a href="Utils.scala.html#spire.random.rng.Utils" title="spire.random.rng.Utils.type">Utils</a>.<a href="Utils.scala.html#spire.random.rng.Utils.seedFromArray(924c3bb011)" title="(length: Int, seed: Array[Long])Array[Long]">seedFromArray</a><span class="delimiter">(</span><a href="#spire.random.rng.MersenneTwister64.N" title="=&gt; Int">N</a>, <a href="#spire.random.rng.MersenneTwister64.fromArray.arr" title="Array[Long]">arr</a><span class="delimiter">)</span>, <a href="#spire.random.rng.MersenneTwister64.N" title="=&gt; Int">N</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>

  def <a title="(bytes: Array[Byte])spire.random.rng.MersenneTwister64" id="spire.random.rng.MersenneTwister64.fromBytes">fromBytes</a><span class="delimiter">(</span><a title="Array[Byte]" id="spire.random.rng.MersenneTwister64.fromBytes.bytes">bytes</a>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#spire.random.rng;MersenneTwister64" title="spire.random.rng.MersenneTwister64">MersenneTwister64</a> = <a href="#spire.random.rng.MersenneTwister64.fromArray" title="(arr: Array[Long])spire.random.rng.MersenneTwister64">fromArray</a><span class="delimiter">(</span><a href="../../util/Pack.scala.html#spire.util.Pack" title="spire.util.Pack.type">Pack</a>.<a href="../../util/Pack.scala.html#spire.util.Pack.longsFromBytes" title="(bytes: Array[Byte], n: Int)Array[Long]">longsFromBytes</a><span class="delimiter">(</span><a href="#spire.random.rng.MersenneTwister64.fromBytes.bytes" title="Array[Byte]">bytes</a>, <a href="#spire.random.rng.MersenneTwister64.fromBytes.bytes" title="Array[Byte]">bytes</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">/</span> <span title="Int(8)" class="int">8</span><span class="delimiter">)</span><span class="delimiter">)</span>

  def <a title="(time: Long)spire.random.rng.MersenneTwister64" id="spire.random.rng.MersenneTwister64.fromTime">fromTime</a><span class="delimiter">(</span><a title="Long" id="spire.random.rng.MersenneTwister64.fromTime$default$1">time</a>: <span title="Long">Long</span> = <span title="System.type">System</span>.<span title="()Long">nanoTime</span><span class="delimiter">)</span>: <a href="#spire.random.rng;MersenneTwister64" title="spire.random.rng.MersenneTwister64">MersenneTwister64</a> = <a href="#spire.random.rng.MersenneTwister64.fromSeed" title="(seed: (Array[Long], Int))spire.random.rng.MersenneTwister64">fromSeed</a><span class="delimiter">(</span><span title="(_1: Array[Long], _2: Int)(Array[Long], Int)" class="delimiter">(</span><a href="Utils.scala.html#spire.random.rng.Utils" title="spire.random.rng.Utils.type">Utils</a>.<a href="Utils.scala.html#spire.random.rng.Utils.seedFromLong" title="(length: Int, seed: Long)Array[Long]">seedFromLong</a><span class="delimiter">(</span><a href="#spire.random.rng.MersenneTwister64.N" title="=&gt; Int">N</a>, <a href="Utils.scala.html#spire.random.rng.Utils" title="spire.random.rng.Utils.type">Utils</a>.<a href="Utils.scala.html#spire.random.rng.Utils.longFromTime" title="(time: Long)Long">longFromTime</a><span class="delimiter">(</span><a href="#spire.random.rng.MersenneTwister64.fromTime$default$1" title="Long">time</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#spire.random.rng.MersenneTwister64.N" title="=&gt; Int">N</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
