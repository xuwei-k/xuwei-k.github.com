<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>spire/spire/math/algebraic/MaybeDouble.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
package spire.math.algebraic

import java.lang.<span title="Double.type">Double</span>.<span class="delimiter">{</span> NaN, isNaN, isInfinite <span class="delimiter">}</span>

import spire.algebra.Sign
import spire.algebra.<a href="../../algebra/Sign.scala.html#spire.algebra.Sign" title="spire.algebra.Sign.type">Sign</a>.<span class="delimiter">{</span> Positive, Negative, Zero <span class="delimiter">}</span>
import spire.math.<span class="delimiter">{</span>max, Rational<span class="delimiter">}</span>

<span class="comment">/**
 * A `MaybeDouble` will hold a `Double` approximation so long as the `Double`'s
 * sign can be computed exactly. It is not a general number type, but is meant
 * to be used in tandem with a more accurate, but slow (computationally),
 * number type. When performing comparisons then, this can be checked first to
 * save on potentially slow computation.
 *
 * For this type, if a method returns an `Option`al value, then that indicates
 * that if `None` is returned, the answer cannot be computed exactly, but if
 * `Some(x)` is returned, then that is guaranteed to be correct. For example,
 * `toLong`, `toFloat`, `sign`, `isWhole`, etc. return these types of optional,
 * only-if-correct, type values.
 *
 * Most likely you would not use this directly, but just wrap your number type
 * in a `FPFilter` which maintains a `MaybeDouble` and handles all the lazy
 * computation of the more accurate number type for you.
 */</span>
final class <a title="class MaybeDouble extends AnyRef" id="spire.math.algebraic;MaybeDouble">MaybeDouble</a><a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble" class="delimiter">(</a>val <a title="Double" id="spire.math.algebraic;MaybeDouble.approx">approx</a>: <span title="Double">Double</span>, private val <a title="Double" id="spire.math.algebraic;MaybeDouble.mes">mes</a>: <span title="Double">Double</span>, private val <a title="Int" id="spire.math.algebraic;MaybeDouble.ind">ind</a>: <span title="Int">Int</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  import <a href="#spire.math.algebraic.MaybeDouble" title="spire.math.algebraic.MaybeDouble.type">MaybeDouble</a>._

  lazy val error: <span title="Double">Double</span> = <a href="#spire.math.algebraic;MaybeDouble.mes" title="=&gt; Double">mes</a> <span title="(x: Int)Double">*</span> <a href="#spire.math.algebraic;MaybeDouble.ind" title="=&gt; Int">ind</a> <a title="Double" id="spire.math.algebraic;MaybeDouble.error">*</a> <a href="#spire.math.algebraic.MaybeDouble.eps" title="=&gt; Double">eps</a>
  
  private def <a title="=&gt; Boolean" id="spire.math.algebraic;MaybeDouble.invalid">invalid</a>: <span title="Boolean">Boolean</span> = <span title="(x$1: Double)Boolean">isNaN</span><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="(x$1: Double)Boolean">isInfinite</span><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Sometimes a number is too large to fit in a `Double`, the result of an
   * operation cannot be computed (eg. sqrt of a negative number), other times
   * we just give up when trying to keep track of the error... In any case, the
   * `approx` is set to either `NaN` or an `Infinity`, and it will be marked
   * as invalid. In that case, this will return `false` otherwise it will
   * return `true`.
   */</span>
  def <a title="=&gt; Boolean" id="spire.math.algebraic;MaybeDouble.isValid">isValid</a>: <span title="Boolean">Boolean</span> = <span title="=&gt; Boolean">!</span><a href="#spire.math.algebraic;MaybeDouble.invalid" title="=&gt; Boolean">invalid</a>


  def <a title="=&gt; spire.math.algebraic.MaybeDouble" id="spire.math.algebraic;MaybeDouble.abs">abs</a>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a> = new <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a><span class="delimiter">(</span>spire.math.<a href="../package.scala.html#spire.math.package.abs(c3da5261a3)" title="(n: Double)Double">abs</a><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a><span class="delimiter">)</span>, <a href="#spire.math.algebraic;MaybeDouble.mes" title="=&gt; Double">mes</a>, <a href="#spire.math.algebraic;MaybeDouble.ind" title="=&gt; Int">ind</a><span class="delimiter">)</span>

  def <a title="()spire.math.algebraic.MaybeDouble" id="spire.math.algebraic;MaybeDouble.unary_-">unary_-</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a> = new <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a><span class="delimiter">(</span><span title="=&gt; Double">-</span><a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a>, <a href="#spire.math.algebraic;MaybeDouble.mes" title="=&gt; Double">mes</a>, <a href="#spire.math.algebraic;MaybeDouble.ind" title="=&gt; Int">ind</a><span class="delimiter">)</span>

  def <a title="(that: spire.math.algebraic.MaybeDouble)spire.math.algebraic.MaybeDouble" id="spire.math.algebraic;MaybeDouble.+">+</a><span class="delimiter">(</span><a title="spire.math.algebraic.MaybeDouble" id="spire.math.algebraic;MaybeDouble.+.that">that</a>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a><span class="delimiter">)</span>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a> =
    new <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a> <span title="(x: Double)Double">+</span> <a href="#spire.math.algebraic;MaybeDouble.+.that" title="spire.math.algebraic.MaybeDouble">that</a>.<a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a>, <a href="#spire.math.algebraic;MaybeDouble.mes" title="=&gt; Double">mes</a> <span title="(x: Double)Double">+</span> <a href="#spire.math.algebraic;MaybeDouble.+.that" title="spire.math.algebraic.MaybeDouble">that</a>.<a href="#spire.math.algebraic;MaybeDouble.mes" title="=&gt; Double">mes</a>, <a href="../package.scala.html#spire.math.package.max(8c1ad44065)" title="(x: Int, y: Int)Int">max</a><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.ind" title="=&gt; Int">ind</a>, <a href="#spire.math.algebraic;MaybeDouble.+.that" title="spire.math.algebraic.MaybeDouble">that</a>.<a href="#spire.math.algebraic;MaybeDouble.ind" title="=&gt; Int">ind</a><span class="delimiter">)</span> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

  def <a title="(that: spire.math.algebraic.MaybeDouble)spire.math.algebraic.MaybeDouble" id="spire.math.algebraic;MaybeDouble.-">-</a><span class="delimiter">(</span><a title="spire.math.algebraic.MaybeDouble" id="spire.math.algebraic;MaybeDouble.-.that">that</a>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a><span class="delimiter">)</span>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a> =
    new <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a> <span title="(x: Double)Double">-</span> <a href="#spire.math.algebraic;MaybeDouble.-.that" title="spire.math.algebraic.MaybeDouble">that</a>.<a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a>, <a href="#spire.math.algebraic;MaybeDouble.mes" title="=&gt; Double">mes</a> <span title="(x: Double)Double">+</span> <a href="#spire.math.algebraic;MaybeDouble.-.that" title="spire.math.algebraic.MaybeDouble">that</a>.<a href="#spire.math.algebraic;MaybeDouble.mes" title="=&gt; Double">mes</a>, <a href="../package.scala.html#spire.math.package.max(8c1ad44065)" title="(x: Int, y: Int)Int">max</a><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.ind" title="=&gt; Int">ind</a>, <a href="#spire.math.algebraic;MaybeDouble.-.that" title="spire.math.algebraic.MaybeDouble">that</a>.<a href="#spire.math.algebraic;MaybeDouble.ind" title="=&gt; Int">ind</a><span class="delimiter">)</span> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

  def <a title="(that: spire.math.algebraic.MaybeDouble)spire.math.algebraic.MaybeDouble" id="spire.math.algebraic;MaybeDouble.*">*</a><span class="delimiter">(</span><a title="spire.math.algebraic.MaybeDouble" id="spire.math.algebraic;MaybeDouble.*.that">that</a>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a><span class="delimiter">)</span>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a> =
    new <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a> <span title="(x: Double)Double">*</span> <a href="#spire.math.algebraic;MaybeDouble.*.that" title="spire.math.algebraic.MaybeDouble">that</a>.<a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a>, <a href="#spire.math.algebraic;MaybeDouble.mes" title="=&gt; Double">mes</a> <span title="(x: Double)Double">*</span> <a href="#spire.math.algebraic;MaybeDouble.*.that" title="spire.math.algebraic.MaybeDouble">that</a>.<a href="#spire.math.algebraic;MaybeDouble.mes" title="=&gt; Double">mes</a>, <a href="#spire.math.algebraic;MaybeDouble.ind" title="=&gt; Int">ind</a> <span title="(x: Int)Int">+</span> <a href="#spire.math.algebraic;MaybeDouble.*.that" title="spire.math.algebraic.MaybeDouble">that</a>.<a href="#spire.math.algebraic;MaybeDouble.ind" title="=&gt; Int">ind</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

  def <a title="(that: spire.math.algebraic.MaybeDouble)spire.math.algebraic.MaybeDouble" id="spire.math.algebraic;MaybeDouble./">/</a><span class="delimiter">(</span><a title="spire.math.algebraic.MaybeDouble" id="spire.math.algebraic;MaybeDouble./.that">that</a>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a><span class="delimiter">)</span>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a> =
    new <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a> <span title="(x: Double)Double">/</span> <a href="#spire.math.algebraic;MaybeDouble./.that" title="spire.math.algebraic.MaybeDouble">that</a>.<a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a>, 
             <span class="delimiter">(</span>spire.math.<a href="../package.scala.html#spire.math.package.abs(c3da5261a3)" title="(n: Double)Double">abs</a><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a><span class="delimiter">)</span> <span title="(x: Double)Double">/</span> spire.math.<a href="../package.scala.html#spire.math.package.abs(c3da5261a3)" title="(n: Double)Double">abs</a><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble./.that" title="spire.math.algebraic.MaybeDouble">that</a>.<a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a><span class="delimiter">)</span> <span title="(x: Double)Double">+</span> <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.mes" title="=&gt; Double">mes</a> <span title="(x: Double)Double">/</span> <a href="#spire.math.algebraic;MaybeDouble./.that" title="spire.math.algebraic.MaybeDouble">that</a>.<a href="#spire.math.algebraic;MaybeDouble.mes" title="=&gt; Double">mes</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Double)Double">/</span>
                <span class="delimiter">(</span>spire.math.<a href="../package.scala.html#spire.math.package.abs(c3da5261a3)" title="(n: Double)Double">abs</a><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble./.that" title="spire.math.algebraic.MaybeDouble">that</a>.<a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a><span class="delimiter">)</span> <span title="(x: Double)Double">/</span> <a href="#spire.math.algebraic;MaybeDouble./.that" title="spire.math.algebraic.MaybeDouble">that</a>.<a href="#spire.math.algebraic;MaybeDouble.mes" title="=&gt; Double">mes</a> <span title="(x: Double)Double">-</span> <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble./.that" title="spire.math.algebraic.MaybeDouble">that</a>.<a href="#spire.math.algebraic;MaybeDouble.ind" title="=&gt; Int">ind</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Double)Double">*</span> <a href="#spire.math.algebraic.MaybeDouble.eps" title="=&gt; Double">eps</a><span class="delimiter">)</span>,
             <span title="Int(1)" class="int">1</span> <span title="(x: Int)Int">+</span> <a href="../package.scala.html#spire.math.package.max(8c1ad44065)" title="(x: Int, y: Int)Int">max</a><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.ind" title="=&gt; Int">ind</a>, <a href="#spire.math.algebraic;MaybeDouble./.that" title="spire.math.algebraic.MaybeDouble">that</a>.<a href="#spire.math.algebraic;MaybeDouble.ind" title="=&gt; Int">ind</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
    
  def <a title="(k: Int)spire.math.algebraic.MaybeDouble" id="spire.math.algebraic;MaybeDouble.pow">pow</a><span class="delimiter">(</span><a title="Int" id="spire.math.algebraic;MaybeDouble.pow.k">k</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a> = if <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.pow.k" title="Int">k</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    new <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a><span class="delimiter">(</span>spire.math.<a href="../package.scala.html#spire.math.package.pow(cf8359b3f7)" title="(base: Double, exponent: Double)Double">pow</a><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a>, <a href="#spire.math.algebraic;MaybeDouble.pow.k" title="=&gt; Double">k</a><span class="delimiter">)</span>, spire.math.<a href="../package.scala.html#spire.math.package.pow(cf8359b3f7)" title="(base: Double, exponent: Double)Double">pow</a><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.mes" title="=&gt; Double">mes</a>, <a href="#spire.math.algebraic;MaybeDouble.pow.k" title="=&gt; Double">k</a><span class="delimiter">)</span>, <a href="#spire.math.algebraic;MaybeDouble.ind" title="=&gt; Int">ind</a> <span title="(x: Int)Int">+</span> <a href="#spire.math.algebraic;MaybeDouble.pow.k" title="Int">k</a><span class="delimiter">)</span>
  <span class="delimiter">}</span> else if <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.pow.k" title="Int">k</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    new <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a><span class="delimiter">(</span><span title="Double(1.0)" class="double">1.0</span>, <span title="Double(1.0)" class="double">1.0</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
  <span class="delimiter">}</span> else <span class="delimiter">{</span>

    <span class="comment">// In this case, we just do a positive pow, and divide 1 by it.</span>
    
    val <a title="spire.math.algebraic.MaybeDouble" id="spire.math.algebraic;MaybeDouble.pow.b">b</a> = this.<a href="#spire.math.algebraic;MaybeDouble.pow" title="(k: Int)spire.math.algebraic.MaybeDouble">pow</a><span class="delimiter">(</span><span title="=&gt; Int">-</span><a href="#spire.math.algebraic;MaybeDouble.pow.k" title="Int">k</a><span class="delimiter">)</span>
    val mes = <span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <span title="(x: Double)Double">/</span> spire.math.<a href="../package.scala.html#spire.math.package.abs(c3da5261a3)" title="(n: Double)Double">abs</a><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.pow.b" title="spire.math.algebraic.MaybeDouble">b</a>.<a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a><span class="delimiter">)</span> <span title="(x: Double)Double">+</span> <span title="Int(1)" class="int">1</span> <span title="(x: Double)Double">/</span> <a href="#spire.math.algebraic;MaybeDouble.pow.b" title="spire.math.algebraic.MaybeDouble">b</a>.<a href="#spire.math.algebraic;MaybeDouble.mes" title="=&gt; Double">mes</a><span class="delimiter">)</span> <a title="Double" id="spire.math.algebraic;MaybeDouble.pow.mes">/</a> <span class="delimiter">(</span>spire.math.<a href="../package.scala.html#spire.math.package.abs(c3da5261a3)" title="(n: Double)Double">abs</a><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.pow.b" title="spire.math.algebraic.MaybeDouble">b</a>.<a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a><span class="delimiter">)</span> <span title="(x: Double)Double">/</span> <a href="#spire.math.algebraic;MaybeDouble.pow.b" title="spire.math.algebraic.MaybeDouble">b</a>.<a href="#spire.math.algebraic;MaybeDouble.mes" title="=&gt; Double">mes</a> <span title="(x: Double)Double">-</span> <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.pow.b" title="spire.math.algebraic.MaybeDouble">b</a>.<a href="#spire.math.algebraic;MaybeDouble.mes" title="=&gt; Double">mes</a> <span title="(x: Int)Double">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Double)Double">*</span> <a href="#spire.math.algebraic.MaybeDouble.eps" title="=&gt; Double">eps</a><span class="delimiter">)</span>
    new <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <span title="(x: Double)Double">/</span> <a href="#spire.math.algebraic;MaybeDouble.pow.b" title="spire.math.algebraic.MaybeDouble">b</a>.<a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a>, <a href="#spire.math.algebraic;MaybeDouble.pow.mes" title="Double">mes</a>, <a href="#spire.math.algebraic;MaybeDouble.pow.b" title="spire.math.algebraic.MaybeDouble">b</a>.<a href="#spire.math.algebraic;MaybeDouble.ind" title="=&gt; Int">ind</a> <span title="(x: Int)Int">+</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * FIXME: Implement arbitrary nroots w/ error bounds.
   */</span>
  def <a title="(n: Int)spire.math.algebraic.MaybeDouble" id="spire.math.algebraic;MaybeDouble.nroot">nroot</a><span class="delimiter">(</span><a title="Int" id="spire.math.algebraic;MaybeDouble.nroot.n">n</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a> = if <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.nroot.n" title="Int">n</a> <span title="(x: Int)Boolean">==</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <a href="#spire.math.algebraic;MaybeDouble.sqrt" title="=&gt; spire.math.algebraic.MaybeDouble">sqrt</a> else <a href="#spire.math.algebraic.MaybeDouble.Invalid" title="=&gt; spire.math.algebraic.MaybeDouble">Invalid</a>
   
  def <a title="=&gt; spire.math.algebraic.MaybeDouble" id="spire.math.algebraic;MaybeDouble.sqrt">sqrt</a>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a> = <span class="delimiter">{</span>
    val <a title="Double" id="spire.math.algebraic;MaybeDouble.sqrt.x">x</a> = spire.math.<a href="../package.scala.html#spire.math.package.sqrt(116fb58ef6)" title="(x: Double)Double">sqrt</a><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a><span class="delimiter">)</span>

    if <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.invalid" title="=&gt; Boolean">invalid</a> <span title="(x: Boolean)Boolean">||</span> <a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a> <span title="(x: Double)Boolean">&lt;=</span> <span title="Double(0.0)" class="double">0.0</span><span class="delimiter">)</span> <span class="delimiter">{</span>

      <span class="comment">// If a &lt; 0, then sqrt(a) == NaN, which is OK for now.</span>
      
      new <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.sqrt.x" title="Double">x</a>, spire.math.<a href="../package.scala.html#spire.math.package.sqrt(116fb58ef6)" title="(x: Double)Double">sqrt</a><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.mes" title="=&gt; Double">mes</a><span class="delimiter">)</span> <span title="(x: Int)Double">*</span> <span class="delimiter">(</span><span class="int">1</span> <span title="Int(67108864)">&lt;&lt;</span> <span class="int">26</span><span class="delimiter">)</span>, <a href="#spire.math.algebraic;MaybeDouble.ind" title="=&gt; Int">ind</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> else <span class="delimiter">{</span>
      new <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.sqrt.x" title="Double">x</a>, <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.mes" title="=&gt; Double">mes</a> <span title="(x: Double)Double">/</span> <a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a><span class="delimiter">)</span> <span title="(x: Double)Double">*</span> <a href="#spire.math.algebraic;MaybeDouble.sqrt.x" title="Double">x</a>, <a href="#spire.math.algebraic;MaybeDouble.ind" title="=&gt; Int">ind</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Currently, if this can't be answered exactly, then the result is made
   * invalid. This should be fixed. If the answer is exact, then it is returned
   * with a 0 error bound.
   */</span>
  def <a title="(that: spire.math.algebraic.MaybeDouble)spire.math.algebraic.MaybeDouble" id="spire.math.algebraic;MaybeDouble.quot">quot</a><span class="delimiter">(</span><a title="spire.math.algebraic.MaybeDouble" id="spire.math.algebraic;MaybeDouble.quot.that">that</a>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a><span class="delimiter">)</span>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a> = <span class="delimiter">{</span>
    val quot = this <a href="#spire.math.algebraic;MaybeDouble./" title="spire.math.algebraic.MaybeDouble" id="spire.math.algebraic;MaybeDouble.quot.quot">/</a> <a href="#spire.math.algebraic;MaybeDouble.quot.that" title="spire.math.algebraic.MaybeDouble">that</a>
    val ub = <a href="#spire.math.algebraic;MaybeDouble.quot.quot" title="spire.math.algebraic.MaybeDouble">quot</a>.<a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a> <a title="Double" id="spire.math.algebraic;MaybeDouble.quot.ub">+</a> <a href="#spire.math.algebraic;MaybeDouble.quot.quot" title="spire.math.algebraic.MaybeDouble">quot</a>.<a href="#spire.math.algebraic;MaybeDouble.error" title="=&gt; Double">error</a>
    val lb = <a href="#spire.math.algebraic;MaybeDouble.quot.quot" title="spire.math.algebraic.MaybeDouble">quot</a>.<a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a> <a title="Double" id="spire.math.algebraic;MaybeDouble.quot.lb">-</a> <a href="#spire.math.algebraic;MaybeDouble.quot.quot" title="spire.math.algebraic.MaybeDouble">quot</a>.<a href="#spire.math.algebraic;MaybeDouble.error" title="=&gt; Double">error</a>

    if <span class="delimiter">(</span><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.quot.lb" title="Double">lb</a> <span title="(x: Double)Boolean">&gt;=</span> <a href="#spire.math.algebraic.MaybeDouble.minWhole" title="=&gt; Double">minWhole</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.quot.ub" title="Double">ub</a> <span title="(x: Double)Boolean">&lt;=</span> <a href="#spire.math.algebraic.MaybeDouble.maxWhole" title="=&gt; Double">maxWhole</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.quot.ub" title="Double">ub</a>.<span title="=&gt; Long">toLong</span> <span title="(x: Long)Boolean">==</span> <a href="#spire.math.algebraic;MaybeDouble.quot.lb" title="Double">lb</a>.<span title="=&gt; Long">toLong</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      val <a title="Long" id="spire.math.algebraic;MaybeDouble.quot.i">i</a> = <a href="#spire.math.algebraic;MaybeDouble.quot.quot" title="spire.math.algebraic.MaybeDouble">quot</a>.<a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a>.<span title="=&gt; Long">toLong</span>
      new <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.quot.i" title="Long">i</a>.<span title="=&gt; Double">toDouble</span>, <span title="Double(0.0)" class="double">0.0</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> else <span class="delimiter">{</span>
      <a href="#spire.math.algebraic.MaybeDouble.Invalid" title="=&gt; spire.math.algebraic.MaybeDouble">Invalid</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * This implements the modulus operator. It will behave similar to % for
   * Double, Long, Int, etc.
   */</span>
  def <a title="(that: spire.math.algebraic.MaybeDouble)spire.math.algebraic.MaybeDouble" id="spire.math.algebraic;MaybeDouble.mod">mod</a><span class="delimiter">(</span><a title="spire.math.algebraic.MaybeDouble" id="spire.math.algebraic;MaybeDouble.mod.that">that</a>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a><span class="delimiter">)</span>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a> = <span class="delimiter">{</span>
    val <a title="spire.math.algebraic.MaybeDouble" id="spire.math.algebraic;MaybeDouble.mod.a">a</a> = this.<a href="#spire.math.algebraic;MaybeDouble.abs" title="=&gt; spire.math.algebraic.MaybeDouble">abs</a>
    val <a title="spire.math.algebraic.MaybeDouble" id="spire.math.algebraic;MaybeDouble.mod.b">b</a> = <a href="#spire.math.algebraic;MaybeDouble.mod.that" title="spire.math.algebraic.MaybeDouble">that</a>.<a href="#spire.math.algebraic;MaybeDouble.abs" title="=&gt; spire.math.algebraic.MaybeDouble">abs</a>
    val absrem = <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.mod.a" title="spire.math.algebraic.MaybeDouble">a</a> <a href="#spire.math.algebraic;MaybeDouble.-" title="spire.math.algebraic.MaybeDouble" id="spire.math.algebraic;MaybeDouble.mod.absrem">-</a> <a href="#spire.math.algebraic;MaybeDouble.mod.b" title="spire.math.algebraic.MaybeDouble">b</a> <a href="#spire.math.algebraic;MaybeDouble.*" title="(that: spire.math.algebraic.MaybeDouble)spire.math.algebraic.MaybeDouble">*</a> <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.mod.a" title="spire.math.algebraic.MaybeDouble">a</a> <a href="#spire.math.algebraic;MaybeDouble.quot" title="(that: spire.math.algebraic.MaybeDouble)spire.math.algebraic.MaybeDouble">quot</a> <a href="#spire.math.algebraic;MaybeDouble.mod.b" title="spire.math.algebraic.MaybeDouble">b</a><span class="delimiter">)</span><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#spire.math.algebraic;MaybeDouble.unary_-" title="()spire.math.algebraic.MaybeDouble">-</a><a href="#spire.math.algebraic;MaybeDouble.mod.absrem" title="spire.math.algebraic.MaybeDouble">absrem</a> else <a href="#spire.math.algebraic;MaybeDouble.mod.absrem" title="spire.math.algebraic.MaybeDouble">absrem</a>
  <span class="delimiter">}</span>


  <span class="comment">/**
   * If this `MaybeDouble`'s sign can be computed exactly, then `Some(s)` is
   * returned, where `s` is the sign of the number. Otherwise, `None` is
   * returned.
   */</span>
  val <a title="Option[spire.algebra.Sign]" id="spire.math.algebraic;MaybeDouble.sign">sign</a>: <span title="Option[spire.algebra.Sign]">Option</span><span class="delimiter">[</span>Sign<span class="delimiter">]</span> = if <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.invalid" title="=&gt; Boolean">invalid</a><span class="delimiter">)</span> <span title="None.type">None</span> else <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a> <span title="(x: Double)Boolean">&gt;</span> <a href="#spire.math.algebraic;MaybeDouble.error" title="=&gt; Double">error</a><span class="delimiter">)</span>
      <span title="(x: spire.algebra.Sign.Positive.type)Some[spire.algebra.Sign.Positive.type]">Some</span><span class="delimiter">(</span><a href="../../algebra/Sign.scala.html#spire.algebra.Sign.Positive" title="spire.algebra.Sign.Positive.type">Positive</a><span class="delimiter">)</span>
    else if <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a> <span title="(x: Double)Boolean">&lt;</span> <span title="=&gt; Double">-</span><a href="#spire.math.algebraic;MaybeDouble.error" title="=&gt; Double">error</a><span class="delimiter">)</span>
      <span title="(x: spire.algebra.Sign.Negative.type)Some[spire.algebra.Sign.Negative.type]">Some</span><span class="delimiter">(</span><a href="../../algebra/Sign.scala.html#spire.algebra.Sign.Negative" title="spire.algebra.Sign.Negative.type">Negative</a><span class="delimiter">)</span>
    else if <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.error" title="=&gt; Double">error</a> <span title="(x: Double)Boolean">==</span> <span title="Double(0.0)" class="double">0.0</span><span class="delimiter">)</span>
      <span title="(x: spire.algebra.Sign.Zero.type)Some[spire.algebra.Sign.Zero.type]">Some</span><span class="delimiter">(</span><a href="../../algebra/Sign.scala.html#spire.algebra.Sign.Zero" title="spire.algebra.Sign.Zero.type">Zero</a><span class="delimiter">)</span>
    else
      <span title="None.type">None</span>
  <span class="delimiter">}</span>
  

  <span class="comment">/**
   * If this `MaybeDouble`'s sign can be computed exactly, then `Some(x)` is
   * returned where `x` is the `Double` approximation. Otherwise, `None` is
   * returned.
   */</span>
  def <a title="=&gt; Option[Double]" id="spire.math.algebraic;MaybeDouble.opt">opt</a>: <span title="Option[Double]">Option</span><span class="delimiter">[</span>Double<span class="delimiter">]</span> = <a href="#spire.math.algebraic;MaybeDouble.sign" title="=&gt; Option[spire.algebra.Sign]">sign</a> <span title="(f: spire.algebra.Sign =&gt; Double)Option[Double]">map</span> <span class="delimiter">(</span><a title="spire.algebra.Sign" id="spire.math.algebraic;MaybeDouble.opt.$anonfun.x$1">_</a> =&gt; <a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a><span class="delimiter">)</span>

  def <a title="=&gt; Option[Int]" id="spire.math.algebraic;MaybeDouble.toInt">toInt</a>: <span title="Option[Int]">Option</span><span class="delimiter">[</span>Int<span class="delimiter">]</span> = <a href="#spire.math.algebraic;MaybeDouble.toLong" title="=&gt; Option[Long]">toLong</a> <span title="(f: Long =&gt; Int)Option[Int]">map</span> <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.toInt.$anonfun.x$2" title="Long">_</a>.<span title="=&gt; Int">toInt</span><span class="delimiter">)</span>

  <span class="comment">/**
   * If this can be converted, exactly, into a `Long`, then `Some(n)` will be
   * returned, where `n` is a `Long`. Otherwise, `None` will be returned.
   */</span>
  def <a title="=&gt; Option[Long]" id="spire.math.algebraic;MaybeDouble.toLong">toLong</a>: <span title="Option[Long]">Option</span><span class="delimiter">[</span>Long<span class="delimiter">]</span> = if <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.isValid" title="=&gt; Boolean">isValid</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a> <span title="(x: Double)Boolean">&lt;=</span> <a href="#spire.math.algebraic.MaybeDouble.maxWhole" title="=&gt; Double">maxWhole</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a> <span title="(x: Double)Boolean">&gt;=</span> <a href="#spire.math.algebraic.MaybeDouble.minWhole" title="=&gt; Double">minWhole</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    val <a title="Long" id="spire.math.algebraic;MaybeDouble.toLong.lb">lb</a> = <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a> <span title="(x: Double)Double">-</span> <a href="#spire.math.algebraic;MaybeDouble.error" title="=&gt; Double">error</a><span class="delimiter">)</span>.<span title="=&gt; Long">toLong</span>
    val <a title="Long" id="spire.math.algebraic;MaybeDouble.toLong.ub">ub</a> = <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a> <span title="(x: Double)Double">+</span> <a href="#spire.math.algebraic;MaybeDouble.error" title="=&gt; Double">error</a><span class="delimiter">)</span>.<span title="=&gt; Long">toLong</span>
    if <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.toLong.lb" title="Long">lb</a> <span title="(x: Long)Boolean">==</span> <a href="#spire.math.algebraic;MaybeDouble.toLong.ub" title="Long">ub</a><span class="delimiter">)</span> <span title="(x: Long)Some[Long]">Some</span><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.toLong.lb" title="Long">lb</a><span class="delimiter">)</span> else <span title="None.type">None</span>
  <span class="delimiter">}</span> else <span title="None.type">None</span>

  def <a title="=&gt; Option[BigInt]" id="spire.math.algebraic;MaybeDouble.toBigInt">toBigInt</a>: <span title="Option[BigInt]">Option</span><span class="delimiter">[</span>BigInt<span class="delimiter">]</span> = <a href="#spire.math.algebraic;MaybeDouble.toLong" title="=&gt; Option[Long]">toLong</a> <span title="(f: Long =&gt; scala.math.BigInt)Option[scala.math.BigInt]">map</span> <span class="delimiter">(</span><span title="(l: Long)scala.math.BigInt">BigInt</span><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.toBigInt.$anonfun.x$3" title="Long">_</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns `true` if this `MaybeDouble` is both valid and exact (has an
   * `error` of 0.0).
   */</span>
  def <a title="=&gt; Boolean" id="spire.math.algebraic;MaybeDouble.isExact">isExact</a>: <span title="Boolean">Boolean</span> = <span title="=&gt; Boolean">!</span><a href="#spire.math.algebraic;MaybeDouble.invalid" title="=&gt; Boolean">invalid</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#spire.math.algebraic;MaybeDouble.error" title="=&gt; Double">error</a> <span title="(x: Double)Boolean">==</span> <span title="Double(0.0)" class="double">0.0</span>

  <span class="comment">/**
   * Returns `Some(f)`, where `f` is a `Float`, if `f` is known to be exact.
   * Otherwise, returns `None`.
   */</span>
  def <a title="=&gt; Option[Float]" id="spire.math.algebraic;MaybeDouble.toFloat">toFloat</a>: <span title="Option[Float]">Option</span><span class="delimiter">[</span>Float<span class="delimiter">]</span> =
    if <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a> <span title="(x: Float)Boolean">&gt;=</span> <span title="Float.type">Float</span>.<span title="=&gt; Float">MinValue</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a> <span title="(x: Float)Boolean">&lt;=</span> Float.<span title="Float(3.4028235E38)">MaxValue</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      val <a title="Float" id="spire.math.algebraic;MaybeDouble.toFloat.lb">lb</a> = <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a> <span title="(x: Double)Double">-</span> <a href="#spire.math.algebraic;MaybeDouble.error" title="=&gt; Double">error</a><span class="delimiter">)</span>.<span title="=&gt; Float">toFloat</span>
      val <a title="Float" id="spire.math.algebraic;MaybeDouble.toFloat.ub">ub</a> = <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a> <span title="(x: Double)Double">+</span> <a href="#spire.math.algebraic;MaybeDouble.error" title="=&gt; Double">error</a><span class="delimiter">)</span>.<span title="=&gt; Float">toFloat</span>
      if <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.toFloat.lb" title="Float">lb</a> <span title="(x: Float)Boolean">==</span> <a href="#spire.math.algebraic;MaybeDouble.toFloat.ub" title="Float">ub</a><span class="delimiter">)</span> <span title="(x: Float)Some[Float]">Some</span><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.toFloat.lb" title="Float">lb</a><span class="delimiter">)</span> else <span title="None.type">None</span>
    <span class="delimiter">}</span> else <span class="delimiter">{</span>
      <span title="None.type">None</span>
    <span class="delimiter">}</span>

  def <a title="=&gt; Option[Double]" id="spire.math.algebraic;MaybeDouble.toDouble">toDouble</a>: <span title="Option[Double]">Option</span><span class="delimiter">[</span>Double<span class="delimiter">]</span> = if <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.isExact" title="=&gt; Boolean">isExact</a><span class="delimiter">)</span> <span title="(x: Double)Some[Double]">Some</span><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a><span class="delimiter">)</span> else <span title="None.type">None</span>

  def <a title="=&gt; Option[Boolean]" id="spire.math.algebraic;MaybeDouble.isWhole">isWhole</a>: <span title="Option[Boolean]">Option</span><span class="delimiter">[</span>Boolean<span class="delimiter">]</span> = if <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.isExact" title="=&gt; Boolean">isExact</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#spire.math.algebraic;MaybeDouble.toLong" title="=&gt; Option[Long]">toLong</a> <span title="(f: Long =&gt; Boolean)Option[Boolean]">map</span> <span class="delimiter">{</span> <a href="#spire.math.algebraic;MaybeDouble.isWhole.$anonfun.x$4" title="Long">_</a>.<span title="=&gt; Double">toDouble</span> <span title="(x: Double)Boolean">==</span> <a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a> <span class="delimiter">}</span>
  <span class="delimiter">}</span> else <span title="None.type">None</span>

  private def <a title="(f: Double =&gt; Double)spire.math.algebraic.MaybeDouble" id="spire.math.algebraic;MaybeDouble.consensus">consensus</a><span class="delimiter">(</span><a title="Double =&gt; Double" id="spire.math.algebraic;MaybeDouble.consensus.f">f</a>: Double =&gt; Double<span class="delimiter">)</span> = if <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.isValid" title="=&gt; Boolean">isValid</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    val <a title="Double" id="spire.math.algebraic;MaybeDouble.consensus.x">x</a> = <a href="#spire.math.algebraic;MaybeDouble.consensus.f" title="(v1: Double)Double">f</a><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a> <span title="(x: Double)Double">-</span> <a href="#spire.math.algebraic;MaybeDouble.error" title="=&gt; Double">error</a><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.consensus.x" title="Double">x</a> <span title="(x: Double)Boolean">==</span> <a href="#spire.math.algebraic;MaybeDouble.consensus.f" title="(v1: Double)Double">f</a><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a> <span title="(x: Double)Double">+</span> <a href="#spire.math.algebraic;MaybeDouble.error" title="=&gt; Double">error</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#spire.math.algebraic.MaybeDouble.apply(70c0d8aaed)" title="(x: Double)spire.math.algebraic.MaybeDouble">MaybeDouble</a><span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.consensus.x" title="Double">x</a><span class="delimiter">)</span> else <a href="#spire.math.algebraic.MaybeDouble" title="spire.math.algebraic.MaybeDouble.type">MaybeDouble</a>.<a href="#spire.math.algebraic.MaybeDouble.Invalid" title="=&gt; spire.math.algebraic.MaybeDouble">Invalid</a>
  <span class="delimiter">}</span> else <a href="#spire.math.algebraic.MaybeDouble" title="spire.math.algebraic.MaybeDouble.type">MaybeDouble</a>.<a href="#spire.math.algebraic.MaybeDouble.Invalid" title="=&gt; spire.math.algebraic.MaybeDouble">Invalid</a>

  def <a title="=&gt; spire.math.algebraic.MaybeDouble" id="spire.math.algebraic;MaybeDouble.ceil">ceil</a>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a> = <a href="#spire.math.algebraic;MaybeDouble.consensus" title="(f: Double =&gt; Double)spire.math.algebraic.MaybeDouble">consensus</a><span class="delimiter">(</span>spire.math.<a href="../package.scala.html#spire.math.package.ceil(c3da5261a3)" title="(n: Double)Double">ceil</a><span class="delimiter">)</span>
  def <a title="=&gt; spire.math.algebraic.MaybeDouble" id="spire.math.algebraic;MaybeDouble.floor">floor</a>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a> = <a href="#spire.math.algebraic;MaybeDouble.consensus" title="(f: Double =&gt; Double)spire.math.algebraic.MaybeDouble">consensus</a><span class="delimiter">(</span>spire.math.<a href="../package.scala.html#spire.math.package.floor(c3da5261a3)" title="(n: Double)Double">floor</a><span class="delimiter">)</span>
  def <a title="=&gt; spire.math.algebraic.MaybeDouble" id="spire.math.algebraic;MaybeDouble.round">round</a>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a> = <a href="#spire.math.algebraic;MaybeDouble.consensus" title="(f: Double =&gt; Double)spire.math.algebraic.MaybeDouble">consensus</a><span class="delimiter">(</span>spire.math.<a href="../package.scala.html#spire.math.package.round(224cd4b0e3)" title="(a: Double)Double">round</a><span class="delimiter">)</span>

  override def <a title="()Int" id="spire.math.algebraic;MaybeDouble.hashCode">hashCode</a>: <span title="Int">Int</span> = <span class="delimiter">(</span><a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a>.<span title="()Int">##</span> <span title="(x: Int)Int">+</span> <a href="#spire.math.algebraic;MaybeDouble.mes" title="=&gt; Double">mes</a>.<span title="()Int">##</span> <span title="(x: Int)Int">*</span> <span title="Int(19)" class="int">19</span> <span title="(x: Int)Int">+</span> <a href="#spire.math.algebraic;MaybeDouble.ind" title="=&gt; Int">ind</a> <span title="(x: Int)Int">*</span> <span title="Int(23)" class="int">23</span><span class="delimiter">)</span>
  override def <a title="(that: Any)Boolean" id="spire.math.algebraic;MaybeDouble.equals">equals</a><span class="delimiter">(</span><span title="Any">that</span>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span title="Any">that</span> match <span class="delimiter">{</span>
    case <span title="spire.math.algebraic.MaybeDouble">that</span>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a> =&gt;
      this.<a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a> <span title="(x: Double)Boolean">==</span> <span title="spire.math.algebraic.MaybeDouble">that</span>.<a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> this.<a href="#spire.math.algebraic;MaybeDouble.mes" title="=&gt; Double">mes</a> <span title="(x: Double)Boolean">==</span> <span title="spire.math.algebraic.MaybeDouble">that</span>.<a href="#spire.math.algebraic;MaybeDouble.mes" title="=&gt; Double">mes</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> this.<a href="#spire.math.algebraic;MaybeDouble.ind" title="=&gt; Int">ind</a> <span title="(x: Int)Boolean">==</span> <span title="spire.math.algebraic.MaybeDouble">that</span>.<a href="#spire.math.algebraic;MaybeDouble.ind" title="=&gt; Int">ind</a>
    case _ =&gt; false
  <span class="delimiter">}</span>

  override def <a title="()String" id="spire.math.algebraic;MaybeDouble.toString">toString</a>: <span title="String">String</span> = <span title="String(&quot;~&quot;)" class="string">&quot;~&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#spire.math.algebraic;MaybeDouble.approx" title="=&gt; Double">approx</a>.<span title="()String">toString</span>
<span class="delimiter">}</span>


object <a title="spire.math.algebraic.MaybeDouble.type" id="spire.math.algebraic.MaybeDouble">MaybeDouble</a> <a href="#spire.math.algebraic.MaybeDouble" title="spire.math.algebraic.MaybeDouble.type" class="delimiter">{</a>

  <span class="comment">// The min relative error, aka 2^{-p} in [1].</span>
  
  val <a title="Double" id="spire.math.algebraic.MaybeDouble.eps">eps</a> = java.lang.<span title="Double.type">Double</span>.<span title="(x$1: Long)Double">longBitsToDouble</span><span class="delimiter">(</span><span class="delimiter">(</span><span class="long">1023L</span> - <span class="int">52</span><span class="delimiter">)</span> <span title="Long(4372995238176751616L)">&lt;&lt;</span> <span class="int">52</span><span class="delimiter">)</span>
  val <a title="Float" id="spire.math.algebraic.MaybeDouble.feps">feps</a> = java.lang.<span title="Float.type">Float</span>.<span title="(x$1: Int)Float">intBitsToFloat</span><span class="delimiter">(</span><span class="delimiter">(</span><span class="int">127</span> - <span class="int">23</span><span class="delimiter">)</span> <span title="Int(872415232)">&lt;&lt;</span> <span class="int">23</span><span class="delimiter">)</span>

  <span class="comment">// Max and min integers that Double can represent accurately.</span>

  val <a title="Double" id="spire.math.algebraic.MaybeDouble.maxWhole">maxWhole</a> = java.lang.<span title="Double.type">Double</span>.<span title="(x$1: Long)Double">longBitsToDouble</span><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">(</span>-<span class="long">1L</span><span class="delimiter">)</span> &gt;&gt;&gt; <span class="int">12</span><span class="delimiter">)</span> <span title="Long(4845873199050653695L)">|</span> <span class="delimiter">(</span><span class="long">1075L</span> &lt;&lt; <span class="int">52</span><span class="delimiter">)</span><span class="delimiter">)</span>
  val <a title="Double" id="spire.math.algebraic.MaybeDouble.minWhole">minWhole</a> = <span title="=&gt; Double">-</span><a href="#spire.math.algebraic.MaybeDouble.maxWhole" title="=&gt; Double">maxWhole</a>

  val <a title="spire.math.algebraic.MaybeDouble" id="spire.math.algebraic.MaybeDouble.Invalid">Invalid</a> = new <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a><span class="delimiter">(</span><span title="Double(NaN)">NaN</span>, <span title="Double(0.0)" class="int">0</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>


  def <a title="(x: Float)spire.math.algebraic.MaybeDouble" id="spire.math.algebraic.MaybeDouble.apply(c74ef3aac8)">apply</a><span class="delimiter">(</span><a title="Float" id="spire.math.algebraic.MaybeDouble.apply(c74ef3aac8).x">x</a>: <span title="Float">Float</span><span class="delimiter">)</span>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a> = <a href="#spire.math.algebraic.MaybeDouble.exact" title="(x: Double)spire.math.algebraic.MaybeDouble">exact</a><span class="delimiter">(</span><a href="#spire.math.algebraic.MaybeDouble.apply(c74ef3aac8).x" title="Float">x</a>.<span title="=&gt; Double">toDouble</span><span class="delimiter">)</span>
  def <a title="(x: Double)spire.math.algebraic.MaybeDouble" id="spire.math.algebraic.MaybeDouble.apply(70c0d8aaed)">apply</a><span class="delimiter">(</span><a title="Double" id="spire.math.algebraic.MaybeDouble.apply(70c0d8aaed).x">x</a>: <span title="Double">Double</span><span class="delimiter">)</span>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a> = <a href="#spire.math.algebraic.MaybeDouble.exact" title="(x: Double)spire.math.algebraic.MaybeDouble">exact</a><span class="delimiter">(</span><a href="#spire.math.algebraic.MaybeDouble.apply(70c0d8aaed).x" title="Double">x</a><span class="delimiter">)</span>
  def <a title="(x: Int)spire.math.algebraic.MaybeDouble" id="spire.math.algebraic.MaybeDouble.apply(33838caa9d)">apply</a><span class="delimiter">(</span><a title="Int" id="spire.math.algebraic.MaybeDouble.apply(33838caa9d).x">x</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a> = <a href="#spire.math.algebraic.MaybeDouble.exact" title="(x: Double)spire.math.algebraic.MaybeDouble">exact</a><span class="delimiter">(</span><a href="#spire.math.algebraic.MaybeDouble.apply(33838caa9d).x" title="=&gt; Double">x</a><span class="delimiter">)</span>
  def <a title="(x: Long)spire.math.algebraic.MaybeDouble" id="spire.math.algebraic.MaybeDouble.apply(497b1ebba6)">apply</a><span class="delimiter">(</span><a title="Long" id="spire.math.algebraic.MaybeDouble.apply(497b1ebba6).x">x</a>: <span title="Long">Long</span><span class="delimiter">)</span>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a> = if <span class="delimiter">(</span><a href="#spire.math.algebraic.MaybeDouble.apply(497b1ebba6).x" title="Long">x</a> <span title="(x: Double)Boolean">&gt;=</span> <a href="#spire.math.algebraic.MaybeDouble.minWhole" title="=&gt; Double">minWhole</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#spire.math.algebraic.MaybeDouble.apply(497b1ebba6).x" title="Long">x</a> <span title="(x: Double)Boolean">&lt;=</span> <a href="#spire.math.algebraic.MaybeDouble.maxWhole" title="=&gt; Double">maxWhole</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#spire.math.algebraic.MaybeDouble.exact" title="(x: Double)spire.math.algebraic.MaybeDouble">exact</a><span class="delimiter">(</span><a href="#spire.math.algebraic.MaybeDouble.apply(497b1ebba6).x" title="Long">x</a>.<span title="=&gt; Double">toDouble</span><span class="delimiter">)</span>
  <span class="delimiter">}</span> else <span class="delimiter">{</span>
    <a href="#spire.math.algebraic.MaybeDouble.approx" title="(x: Double)spire.math.algebraic.MaybeDouble">approx</a><span class="delimiter">(</span><a href="#spire.math.algebraic.MaybeDouble.apply(497b1ebba6).x" title="Long">x</a>.<span title="=&gt; Double">toDouble</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  def <a title="(x: BigInt)spire.math.algebraic.MaybeDouble" id="spire.math.algebraic.MaybeDouble.apply(48fd4b7a16)">apply</a><span class="delimiter">(</span><a title="BigInt" id="spire.math.algebraic.MaybeDouble.apply(48fd4b7a16).x">x</a>: <span title="BigInt">BigInt</span><span class="delimiter">)</span>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a> = <span class="delimiter">{</span>
    val <a title="Double" id="spire.math.algebraic.MaybeDouble.apply(48fd4b7a16).y">y</a> = <a href="#spire.math.algebraic.MaybeDouble.apply(48fd4b7a16).x" title="BigInt">x</a>.<span title="=&gt; Double">toDouble</span>
    
    if <span class="delimiter">(</span><a href="#spire.math.algebraic.MaybeDouble.apply(48fd4b7a16).y" title="Double">y</a> <span title="(x: Double)Boolean">&gt;=</span> <a href="#spire.math.algebraic.MaybeDouble.minWhole" title="=&gt; Double">minWhole</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#spire.math.algebraic.MaybeDouble.apply(48fd4b7a16).y" title="Double">y</a> <span title="(x: Double)Boolean">&lt;=</span> <a href="#spire.math.algebraic.MaybeDouble.maxWhole" title="=&gt; Double">maxWhole</a><span class="delimiter">)</span> <a href="#spire.math.algebraic.MaybeDouble.exact" title="(x: Double)spire.math.algebraic.MaybeDouble">exact</a><span class="delimiter">(</span><a href="#spire.math.algebraic.MaybeDouble.apply(48fd4b7a16).y" title="Double">y</a><span class="delimiter">)</span> else <a href="#spire.math.algebraic.MaybeDouble.approx" title="(x: Double)spire.math.algebraic.MaybeDouble">approx</a><span class="delimiter">(</span><a href="#spire.math.algebraic.MaybeDouble.apply(48fd4b7a16).y" title="Double">y</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  def <a title="(x: spire.math.Rational)spire.math.algebraic.MaybeDouble" id="spire.math.algebraic.MaybeDouble.apply(db44ef826c)">apply</a><span class="delimiter">(</span><a title="spire.math.Rational" id="spire.math.algebraic.MaybeDouble.apply(db44ef826c).x">x</a>: <a href="../Rational.scala.html#spire.math;Rational" title="spire.math.Rational">Rational</a><span class="delimiter">)</span>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a> = <a href="#spire.math.algebraic.MaybeDouble.approx" title="(x: Double)spire.math.algebraic.MaybeDouble">approx</a><span class="delimiter">(</span><a href="#spire.math.algebraic.MaybeDouble.apply(db44ef826c).x" title="spire.math.Rational">x</a>.<span title="=&gt; Double">toDouble</span><span class="delimiter">)</span>
  def <a title="(x: BigDecimal)spire.math.algebraic.MaybeDouble" id="spire.math.algebraic.MaybeDouble.apply(4b109a03fd)">apply</a><span class="delimiter">(</span><a title="BigDecimal" id="spire.math.algebraic.MaybeDouble.apply(4b109a03fd).x">x</a>: <span title="BigDecimal">BigDecimal</span><span class="delimiter">)</span>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a> = <a href="#spire.math.algebraic.MaybeDouble.approx" title="(x: Double)spire.math.algebraic.MaybeDouble">approx</a><span class="delimiter">(</span><a href="#spire.math.algebraic.MaybeDouble.apply(4b109a03fd).x" title="BigDecimal">x</a>.<span title="=&gt; Double">toDouble</span><span class="delimiter">)</span>

  def <a title="(x: Double)spire.math.algebraic.MaybeDouble" id="spire.math.algebraic.MaybeDouble.exact">exact</a><span class="delimiter">(</span><a title="Double" id="spire.math.algebraic.MaybeDouble.exact.x">x</a>: <span title="Double">Double</span><span class="delimiter">)</span>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a> = new <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a><span class="delimiter">(</span><a href="#spire.math.algebraic.MaybeDouble.exact.x" title="Double">x</a>, spire.math.<a href="../package.scala.html#spire.math.package.abs(c3da5261a3)" title="(n: Double)Double">abs</a><span class="delimiter">(</span><a href="#spire.math.algebraic.MaybeDouble.exact.x" title="Double">x</a><span class="delimiter">)</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
  def <a title="(x: Double)spire.math.algebraic.MaybeDouble" id="spire.math.algebraic.MaybeDouble.approx">approx</a><span class="delimiter">(</span><a title="Double" id="spire.math.algebraic.MaybeDouble.approx.x">x</a>: <span title="Double">Double</span><span class="delimiter">)</span>: <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a> = new <a href="#spire.math.algebraic;MaybeDouble" title="spire.math.algebraic.MaybeDouble">MaybeDouble</a><span class="delimiter">(</span><a href="#spire.math.algebraic.MaybeDouble.approx.x" title="Double">x</a>, spire.math.<a href="../package.scala.html#spire.math.package.abs(c3da5261a3)" title="(n: Double)Double">abs</a><span class="delimiter">(</span><a href="#spire.math.algebraic.MaybeDouble.approx.x" title="Double">x</a><span class="delimiter">)</span>, <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
<span class="delimiter">}</span>



        </pre>
    </body>
</html>
