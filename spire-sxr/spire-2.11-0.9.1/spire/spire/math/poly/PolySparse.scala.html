<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>spire/spire/math/poly/PolySparse.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
package spire.math.poly

import java.lang.<span title="Integer.type">Integer</span>.<span class="delimiter">{</span> numberOfLeadingZeros, numberOfTrailingZeros <span class="delimiter">}</span>

import scala.annotation.tailrec
import scala.reflect.ClassTag
import scala.<span class="delimiter">{</span>specialized =&gt; spec<span class="delimiter">}</span>

import spire.algebra.<span class="delimiter">{</span>Eq, Field, Ring, Rng, Semiring<span class="delimiter">}</span>
import spire.math.Polynomial
import spire.std.<a href="../../std/package.scala.html#spire.std.package.int" title="spire.std.int.type">int</a>._
import spire.syntax.<a href="../../syntax/package.scala.html#spire.syntax.package.field" title="spire.syntax.field.type">field</a>._
import spire.syntax.<a href="../../syntax/package.scala.html#spire.syntax.package.eq" title="spire.syntax.eq.type">eq</a>._
import spire.syntax.<a href="../../syntax/package.scala.html#spire.syntax.package.cfor" title="spire.syntax.cfor.type">cfor</a>._
import spire.syntax.std.<a href="../../syntax/std/package.scala.html#spire.syntax.std.package.array" title="spire.syntax.std.array.type">array</a>._

case class <a href="#spire.math.poly;PolySparse.productElement.x$1" title="class PolySparse[C] extends AnyRef with spire.math.Polynomial[C] with Product with Serializable" id="spire.math.poly;PolySparse">PolySparse</a><span class="delimiter">[</span>@spec<span class="delimiter">(</span>Double<span class="delimiter">)</span> <a title="" id="spire.math.poly;PolySparse;C">C</a><span class="delimiter">]</span> private <span class="delimiter">[</span>spire<span class="delimiter">]</span> <span class="delimiter">(</span>val <a title="Array[Int]" id="spire.math.poly;PolySparse.exp">exp</a>: <span title="Array[Int]">Array</span><span class="delimiter">[</span>Int<span class="delimiter">]</span>, val <a title="Array[C]" id="spire.math.poly;PolySparse.coeff">coeff</a>: <span title="Array[C]">Array</span><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>
    <span class="delimiter">(</span>implicit val <a title="scala.reflect.ClassTag[C]" id="spire.math.poly;PolySparse.ct">ct</a>: <span title="scala.reflect.ClassTag[C]">ClassTag</span><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span> extends <a href="../Polynomial.scala.html#spire.math;Polynomial" title="spire.math.Polynomial[C]">Polynomial</a><span class="delimiter">[</span>C<span class="delimiter">]</span> <span class="delimiter">{</span> lhs =&gt;

  def <a title="(implicit ring: spire.algebra.Semiring[C], implicit eq: spire.algebra.Eq[C])spire.math.poly.PolyDense[C]" id="spire.math.poly;PolySparse.toDense">toDense</a><span class="delimiter">(</span>implicit <a title="spire.algebra.Semiring[C]" id="spire.math.poly;PolySparse.toDense.ring">ring</a>: <a href="../../algebra/Semiring.scala.html#spire.algebra;Semiring" title="spire.algebra.Semiring[C]">Semiring</a><span class="delimiter">[</span>C<span class="delimiter">]</span>, <a title="spire.algebra.Eq[C]" id="spire.math.poly;PolySparse.toDense.eq">eq</a>: <a href="../../algebra/Eq.scala.html#spire.algebra;Eq" title="spire.algebra.Eq[C]">Eq</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="PolyDense.scala.html#spire.math.poly;PolyDense" title="spire.math.poly.PolyDense[C]">PolyDense</a><span class="delimiter">[</span>C<span class="delimiter">]</span> =
    <a href="../Polynomial.scala.html#spire.math.Polynomial" title="spire.math.Polynomial.type">Polynomial</a>.<a href="../Polynomial.scala.html#spire.math.Polynomial.dense" title="(coeffs: Array[C])(implicit evidence$1: spire.algebra.Semiring[C], implicit evidence$2: spire.algebra.Eq[C], implicit evidence$3: scala.reflect.ClassTag[C])spire.math.poly.PolyDense[C]">dense</a><a href="#spire.math.poly;PolySparse.toDense.ring" title="spire.algebra.Semiring[C]" class="delimiter">(</a><a href="#spire.math.poly;PolySparse.coeffsArray" title="(implicit ring: spire.algebra.Semiring[C])Array[C]">coeffsArray</a><span class="delimiter">)</span>

  def <a title="(implicit ring: spire.algebra.Semiring[C], implicit eq: spire.algebra.Eq[C])spire.math.poly.PolySparse[C]" id="spire.math.poly;PolySparse.toSparse">toSparse</a><span class="delimiter">(</span>implicit <a title="spire.algebra.Semiring[C]" id="spire.math.poly;PolySparse.toSparse.ring">ring</a>: <a href="../../algebra/Semiring.scala.html#spire.algebra;Semiring" title="spire.algebra.Semiring[C]">Semiring</a><span class="delimiter">[</span>C<span class="delimiter">]</span>, <a title="spire.algebra.Eq[C]" id="spire.math.poly;PolySparse.toSparse.eq">eq</a>: <a href="../../algebra/Eq.scala.html#spire.algebra;Eq" title="spire.algebra.Eq[C]">Eq</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">[</span>C<span class="delimiter">]</span> = <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">lhs</a>

  def <a title="[U](f: (Int, C) =&gt; U)Unit" id="spire.math.poly;PolySparse.foreach">foreach</a><span class="delimiter">[</span><a title="" id="spire.math.poly;PolySparse.foreach;U">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Int, C) =&gt; U" id="spire.math.poly;PolySparse.foreach.f">f</a>: <span class="delimiter">(</span>Int, C<span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    cfor<span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">(</span>_ <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.math.poly;PolySparse.exp" title="=&gt; Array[Int]">exp</a>.<span title="=&gt; Int">length</span>, _ <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a title="Int" id="spire.math.poly;PolySparse.foreach.index$macro$382" class="delimiter">{</a> i =&gt; <a href="#spire.math.poly;PolySparse.foreach.f" title="(v1: Int, v2: C)U">f</a><span title="Unit" class="delimiter">(</span><a href="#spire.math.poly;PolySparse.exp" title="(i: Int)Int">exp</a><span class="delimiter">(</span>i<span class="delimiter">)</span>, <a href="#spire.math.poly;PolySparse.coeff" title="(i: Int)C">coeff</a><span class="delimiter">(</span>i<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>

  override def <a title="[U](f: (Int, C) =&gt; U)(implicit ring: spire.algebra.Semiring[C], implicit eq: spire.algebra.Eq[C])Unit" id="spire.math.poly;PolySparse.foreachNonZero">foreachNonZero</a><span class="delimiter">[</span><a title="" id="spire.math.poly;PolySparse.foreachNonZero;U">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Int, C) =&gt; U" id="spire.math.poly;PolySparse.foreachNonZero.f">f</a>: <span class="delimiter">(</span>Int, C<span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="spire.algebra.Semiring[C]" id="spire.math.poly;PolySparse.foreachNonZero.ring">ring</a>: <a href="../../algebra/Semiring.scala.html#spire.algebra;Semiring" title="spire.algebra.Semiring[C]">Semiring</a><span class="delimiter">[</span>C<span class="delimiter">]</span>, <a title="spire.algebra.Eq[C]" id="spire.math.poly;PolySparse.foreachNonZero.eq">eq</a>: <a href="../../algebra/Eq.scala.html#spire.algebra;Eq" title="spire.algebra.Eq[C]">Eq</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#spire.math.poly;PolySparse.foreach" title="(f: (Int, C) =&gt; U)Unit">foreach</a><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.foreachNonZero.f" title="(Int, C) =&gt; U">f</a><span class="delimiter">)</span>

  def <a title="=&gt; Int" id="spire.math.poly;PolySparse.degree">degree</a>: <span title="Int">Int</span> = if <span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.isZero" title="=&gt; Boolean">isZero</a><span class="delimiter">)</span> <span title="Int(0)" class="int">0</span> else <a href="#spire.math.poly;PolySparse.exp" title="(i: Int)Int">exp</a><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.exp" title="=&gt; Array[Int]">exp</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

  def <a title="(implicit ring: spire.algebra.Semiring[C])Array[C]" id="spire.math.poly;PolySparse.coeffsArray">coeffsArray</a><span class="delimiter">(</span>implicit <a title="spire.algebra.Semiring[C]" id="spire.math.poly;PolySparse.coeffsArray.ring">ring</a>: <a href="../../algebra/Semiring.scala.html#spire.algebra;Semiring" title="spire.algebra.Semiring[C]">Semiring</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Array[C]">Array</span><span class="delimiter">[</span>C<span class="delimiter">]</span> = if <span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.isZero" title="=&gt; Boolean">isZero</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    new Array<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
  <span class="delimiter">}</span> else <span class="delimiter">{</span>
    val <a title="Array[C]" id="spire.math.poly;PolySparse.coeffsArray.cs">cs</a> = new Array<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.degree" title="=&gt; Int">degree</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    cfor<span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">(</span>_ <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.math.poly;PolySparse.coeffsArray.cs" title="Array[C]">cs</a>.<span title="=&gt; Int">length</span>, _ <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a title="Int" id="spire.math.poly;PolySparse.coeffsArray.index$macro$383" class="delimiter">{</a> i =&gt; <a href="#spire.math.poly;PolySparse.coeffsArray.cs" title="(i: Int, x: C)Unit">cs</a><span class="delimiter">(</span>i<span class="delimiter">)</span> = <a href="#spire.math.poly;PolySparse.coeffsArray.ring" title="spire.algebra.Semiring[C]">ring</a>.<a href="../../algebra/Additive.scala.html#spire.algebra;AdditiveMonoid.zero" title="=&gt; C">zero</a> <span class="delimiter">}</span>
    cfor<span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">(</span>_ <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.math.poly;PolySparse.exp" title="=&gt; Array[Int]">exp</a>.<span title="=&gt; Int">length</span>, _ <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a title="Int" id="spire.math.poly;PolySparse.coeffsArray.index$macro$384" class="delimiter">{</a> i =&gt;
      <a href="#spire.math.poly;PolySparse.coeffsArray.cs" title="(i: Int, x: C)Unit">cs</a><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.exp" title="(i: Int)Int">exp</a><span class="delimiter">(</span>i<span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#spire.math.poly;PolySparse.coeff" title="(i: Int)C">coeff</a><span class="delimiter">(</span>i<span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#spire.math.poly;PolySparse.coeffsArray.cs" title="Array[C]">cs</a>
  <span class="delimiter">}</span>

  def <a title="(n: Int)(implicit ring: spire.algebra.Semiring[C])C" id="spire.math.poly;PolySparse.nth">nth</a><span class="delimiter">(</span><a title="Int" id="spire.math.poly;PolySparse.nth.n">n</a>: <span title="Int">Int</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="spire.algebra.Semiring[C]" id="spire.math.poly;PolySparse.nth.ring">ring</a>: <a href="../../algebra/Semiring.scala.html#spire.algebra;Semiring" title="spire.algebra.Semiring[C]">Semiring</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#spire.math.poly;PolySparse;C" title="C">C</a> = <span class="delimiter">{</span>
    val <a title="Int" id="spire.math.poly;PolySparse.nth.i">i</a> = java.util.<span title="java.util.Arrays.type">Arrays</span>.<span title="(x$1: Array[Int], x$2: Int)Int">binarySearch</span><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.exp" title="=&gt; Array[Int]">exp</a>, <a href="#spire.math.poly;PolySparse.nth.n" title="Int">n</a><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.nth.i" title="Int">i</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#spire.math.poly;PolySparse.coeff" title="(i: Int)C">coeff</a><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.nth.i" title="Int">i</a><span class="delimiter">)</span> else <a href="#spire.math.poly;PolySparse.nth.ring" title="spire.algebra.Semiring[C]">ring</a>.<a href="../../algebra/Additive.scala.html#spire.algebra;AdditiveMonoid.zero" title="=&gt; C">zero</a>
  <span class="delimiter">}</span>

  def <a title="(implicit ring: spire.algebra.Semiring[C])C" id="spire.math.poly;PolySparse.maxOrderTermCoeff">maxOrderTermCoeff</a><span class="delimiter">(</span>implicit <a title="spire.algebra.Semiring[C]" id="spire.math.poly;PolySparse.maxOrderTermCoeff.ring">ring</a>: <a href="../../algebra/Semiring.scala.html#spire.algebra;Semiring" title="spire.algebra.Semiring[C]">Semiring</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#spire.math.poly;PolySparse;C" title="C">C</a> =
    if <span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.isZero" title="=&gt; Boolean">isZero</a><span class="delimiter">)</span> <a href="#spire.math.poly;PolySparse.maxOrderTermCoeff.ring" title="spire.algebra.Semiring[C]">ring</a>.<a href="../../algebra/Additive.scala.html#spire.algebra;AdditiveMonoid.zero" title="=&gt; C">zero</a> else <a href="#spire.math.poly;PolySparse.coeff" title="(i: Int)C">coeff</a><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.coeff" title="=&gt; Array[C]">coeff</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

  def <a title="(implicit e: spire.algebra.Eq[C], implicit ring: spire.algebra.Semiring[C], implicit ct: scala.reflect.ClassTag[C])spire.math.Polynomial[C]" id="spire.math.poly;PolySparse.reductum">reductum</a><span class="delimiter">(</span>implicit <a title="spire.algebra.Eq[C]" id="spire.math.poly;PolySparse.reductum.e">e</a>: <a href="../../algebra/Eq.scala.html#spire.algebra;Eq" title="spire.algebra.Eq[C]">Eq</a><span class="delimiter">[</span>C<span class="delimiter">]</span>, <a title="spire.algebra.Semiring[C]" id="spire.math.poly;PolySparse.reductum.ring">ring</a>: <a href="../../algebra/Semiring.scala.html#spire.algebra;Semiring" title="spire.algebra.Semiring[C]">Semiring</a><span class="delimiter">[</span>C<span class="delimiter">]</span>, <a title="scala.reflect.ClassTag[C]" id="spire.math.poly;PolySparse.reductum.ct">ct</a>: <span title="scala.reflect.ClassTag[C]">ClassTag</span><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Polynomial.scala.html#spire.math;Polynomial" title="spire.math.Polynomial[C]">Polynomial</a><span class="delimiter">[</span>C<span class="delimiter">]</span> = <span class="delimiter">{</span>
    var i = <a href="#spire.math.poly;PolySparse.coeff" title="=&gt; Array[C]">coeff</a>.<span title="=&gt; Int">length</span> <a title="Int" id="spire.math.poly;PolySparse.reductum.i">-</a> <span title="Int(2)" class="int">2</span>
    while <span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.reductum.i" title="Int">i</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#spire.math.poly;PolySparse.coeff" title="(i: Int)C">coeff</a><a href="#spire.math.poly;PolySparse.reductum.e" title="spire.algebra.Eq[C]" class="delimiter">(</a><a href="#spire.math.poly;PolySparse.reductum.i" title="Int">i</a><span class="delimiter">)</span> <a href="../../algebra/Eq.scala.html#spire.algebra;Eq.eqv" title="(x: C, y: C)Boolean">===</a> <a href="#spire.math.poly;PolySparse.reductum.ring" title="spire.algebra.Semiring[C]">ring</a>.<a href="../../algebra/Additive.scala.html#spire.algebra;AdditiveMonoid.zero" title="=&gt; C">zero</a><span class="delimiter">)</span> <a href="#spire.math.poly;PolySparse.reductum.i" title="Int">i</a> <a href="#spire.math.poly;PolySparse.reductum.while$1" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
    if <span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.reductum.i" title="Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      new <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">(</span>new <span title="Array[Int]">Array</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>, new Array<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> else <span class="delimiter">{</span>
      val len = <a href="#spire.math.poly;PolySparse.reductum.i" title="Int">i</a> <a title="Int" id="spire.math.poly;PolySparse.reductum.len">+</a> <span title="Int(1)" class="int">1</span>
      val <a title="Array[Int]" id="spire.math.poly;PolySparse.reductum.es">es</a> = new <span title="Array[Int]">Array</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.reductum.len" title="Int">len</a><span class="delimiter">)</span>
      val <a title="Array[C]" id="spire.math.poly;PolySparse.reductum.cs">cs</a> = new Array<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.reductum.len" title="Int">len</a><span class="delimiter">)</span>
      <span title="System.type">System</span>.<span title="(x$1: Any, x$2: Int, x$3: Any, x$4: Int, x$5: Int)Unit">arraycopy</span><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.coeff" title="=&gt; Array[C]">coeff</a>, <span title="Int(0)" class="int">0</span>, <a href="#spire.math.poly;PolySparse.reductum.cs" title="Array[C]">cs</a>, <span title="Int(0)" class="int">0</span>, <a href="#spire.math.poly;PolySparse.reductum.len" title="Int">len</a><span class="delimiter">)</span>
      <span title="System.type">System</span>.<span title="(x$1: Any, x$2: Int, x$3: Any, x$4: Int, x$5: Int)Unit">arraycopy</span><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.exp" title="=&gt; Array[Int]">exp</a>, <span title="Int(0)" class="int">0</span>, <a href="#spire.math.poly;PolySparse.reductum.es" title="Array[Int]">es</a>, <span title="Int(0)" class="int">0</span>, <a href="#spire.math.poly;PolySparse.reductum.len" title="Int">len</a><span class="delimiter">)</span>
      new <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.reductum.es" title="Array[Int]">es</a>, <a href="#spire.math.poly;PolySparse.reductum.cs" title="Array[C]">cs</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  private final def <a title="(x: C)(implicit ring: spire.algebra.Semiring[C])Array[C]" id="spire.math.poly;PolySparse.expBits">expBits</a><span class="delimiter">(</span><a title="C" id="spire.math.poly;PolySparse.expBits.x">x</a>: <a href="#spire.math.poly;PolySparse;C" title="C">C</a><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="spire.algebra.Semiring[C]" id="spire.math.poly;PolySparse.expBits.ring">ring</a>: <a href="../../algebra/Semiring.scala.html#spire.algebra;Semiring" title="spire.algebra.Semiring[C]">Semiring</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Array[C]">Array</span><span class="delimiter">[</span>C<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="Array[C]" id="spire.math.poly;PolySparse.expBits.bits">bits</a> = new Array<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">(</span>math.<span title="(x: Int, y: Int)Int">max</span><span class="delimiter">(</span><span title="Int(2)" class="int">2</span>, <span title="Int(32)" class="int">32</span> <span title="(x: Int)Int">-</span> <span title="(x$1: Int)Int">numberOfLeadingZeros</span><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.degree" title="=&gt; Int">degree</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#spire.math.poly;PolySparse.expBits.bits" title="(i: Int, x: C)Unit">bits</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> = <a href="#spire.math.poly;PolySparse.expBits.x" title="C">x</a>
    <span class="comment">// we use pow(2) here for the benefit of Interval[_], where</span>
    <span class="comment">// x.pow(2) has better error bounds than than (x * x).</span>
    if <span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.expBits.bits" title="Array[C]">bits</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#spire.math.poly;PolySparse.expBits.bits" title="(i: Int, x: C)Unit">bits</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> = <a href="#spire.math.poly;PolySparse.expBits.ring" title="spire.algebra.Semiring[C]">x</a>.pow<a href="../../algebra/Semiring.scala.html#spire.algebra;Semiring.pow" title="(a: C, n: Int)C" class="delimiter">(</a><span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
    cfor<span class="delimiter">(</span><span title="Int(2)" class="int">2</span><span class="delimiter">)</span><span class="delimiter">(</span>_ <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.math.poly;PolySparse.expBits.bits" title="Array[C]">bits</a>.<span title="=&gt; Int">length</span>, _ <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a title="Int" id="spire.math.poly;PolySparse.expBits.index$macro$385" class="delimiter">{</a> i =&gt;
      val <a title="C" id="spire.math.poly;PolySparse.expBits.prev">prev</a> = <a href="#spire.math.poly;PolySparse.expBits.bits" title="(i: Int)C">bits</a><span class="delimiter">(</span>i <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      <a href="#spire.math.poly;PolySparse.expBits.bits" title="(i: Int, x: C)Unit">bits</a><span class="delimiter">(</span>i<span class="delimiter">)</span> = <a href="#spire.math.poly;PolySparse.expBits.ring" title="spire.algebra.Semiring[C]">prev</a> <a href="../../algebra/Multiplicative.scala.html#spire.algebra;MultiplicativeSemigroup.times" title="(x: C, y: C)C">*</a> <a href="#spire.math.poly;PolySparse.expBits.prev" title="C">prev</a>
    <span class="delimiter">}</span>
    <a href="#spire.math.poly;PolySparse.expBits.bits" title="Array[C]">bits</a>
  <span class="delimiter">}</span>

  @tailrec
  private final def <a title="(bits: Array[C], e: Int, i: Int, acc: C)(implicit ring: spire.algebra.Semiring[C])C" id="spire.math.poly;PolySparse.fastExp(c26d3d20da)">fastExp</a><span class="delimiter">(</span><a title="Array[C]" id="spire.math.poly;PolySparse.fastExp(c26d3d20da).bits">bits</a>: <span title="Array[C]">Array</span><span class="delimiter">[</span>C<span class="delimiter">]</span>, <a title="Int" id="spire.math.poly;PolySparse.fastExp(c26d3d20da).e">e</a>: <span title="Int">Int</span>, <a title="Int" id="spire.math.poly;PolySparse.fastExp(c26d3d20da).i">i</a>: <span title="Int">Int</span>, <a title="C" id="spire.math.poly;PolySparse.fastExp(c26d3d20da).acc">acc</a>: <a href="#spire.math.poly;PolySparse;C" title="C">C</a><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="spire.algebra.Semiring[C]" id="spire.math.poly;PolySparse.fastExp(c26d3d20da).ring">ring</a>: <a href="../../algebra/Semiring.scala.html#spire.algebra;Semiring" title="spire.algebra.Semiring[C]">Semiring</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#spire.math.poly;PolySparse;C" title="C">C</a> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.fastExp(c26d3d20da).e" title="Int">e</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#spire.math.poly;PolySparse.fastExp(c26d3d20da).acc" title="C">acc</a> else <span class="delimiter">{</span>
      val lb = <span title="(x$1: Int)Int">numberOfTrailingZeros</span><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.fastExp(c26d3d20da).e" title="Int">e</a><span class="delimiter">)</span> <a title="Int" id="spire.math.poly;PolySparse.fastExp(c26d3d20da).lb">+</a> <span title="Int(1)" class="int">1</span>
      val j = <a href="#spire.math.poly;PolySparse.fastExp(c26d3d20da).i" title="Int">i</a> <a title="Int" id="spire.math.poly;PolySparse.fastExp(c26d3d20da).j">+</a> <a href="#spire.math.poly;PolySparse.fastExp(c26d3d20da).lb" title="Int">lb</a>
      <a href="#spire.math.poly;PolySparse.fastExp(c26d3d20da)" title="(bits: Array[C], e: Int, i: Int, acc: C)(implicit ring: spire.algebra.Semiring[C])C">fastExp</a><a href="#spire.math.poly;PolySparse.fastExp(c26d3d20da).ring" title="spire.algebra.Semiring[C]" class="delimiter">(</a><a href="#spire.math.poly;PolySparse.fastExp(c26d3d20da).bits" title="Array[C]">bits</a>, <a href="#spire.math.poly;PolySparse.fastExp(c26d3d20da).e" title="Int">e</a> <span title="(x: Int)Int">&gt;&gt;&gt;</span> <a href="#spire.math.poly;PolySparse.fastExp(c26d3d20da).lb" title="Int">lb</a>, <a href="#spire.math.poly;PolySparse.fastExp(c26d3d20da).j" title="Int">j</a>, <a href="#spire.math.poly;PolySparse.fastExp(c26d3d20da).ring" title="spire.algebra.Semiring[C]">acc</a> <a href="../../algebra/Multiplicative.scala.html#spire.algebra;MultiplicativeSemigroup.times" title="(x: C, y: C)C">*</a> <a href="#spire.math.poly;PolySparse.fastExp(c26d3d20da).bits" title="(i: Int)C">bits</a><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.fastExp(c26d3d20da).j" title="Int">j</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  private final def <a title="(bits: Array[C], e: Int)(implicit ring: spire.algebra.Semiring[C])C" id="spire.math.poly;PolySparse.fastExp(db208e6124)">fastExp</a><span class="delimiter">(</span><a title="Array[C]" id="spire.math.poly;PolySparse.fastExp(db208e6124).bits">bits</a>: <span title="Array[C]">Array</span><span class="delimiter">[</span>C<span class="delimiter">]</span>, <a title="Int" id="spire.math.poly;PolySparse.fastExp(db208e6124).e">e</a>: <span title="Int">Int</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="spire.algebra.Semiring[C]" id="spire.math.poly;PolySparse.fastExp(db208e6124).ring">ring</a>: <a href="../../algebra/Semiring.scala.html#spire.algebra;Semiring" title="spire.algebra.Semiring[C]">Semiring</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#spire.math.poly;PolySparse;C" title="C">C</a> = <span class="delimiter">{</span>
    val lb = <span title="(x$1: Int)Int">numberOfTrailingZeros</span><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.fastExp(db208e6124).e" title="Int">e</a><span class="delimiter">)</span> <a title="Int" id="spire.math.poly;PolySparse.fastExp(db208e6124).lb">+</a> <span title="Int(1)" class="int">1</span>
    <a href="#spire.math.poly;PolySparse.fastExp(c26d3d20da)" title="(bits: Array[C], e: Int, i: Int, acc: C)(implicit ring: spire.algebra.Semiring[C])C">fastExp</a><a href="#spire.math.poly;PolySparse.fastExp(db208e6124).ring" title="spire.algebra.Semiring[C]" class="delimiter">(</a><a href="#spire.math.poly;PolySparse.fastExp(db208e6124).bits" title="Array[C]">bits</a>, <a href="#spire.math.poly;PolySparse.fastExp(db208e6124).e" title="Int">e</a> <span title="(x: Int)Int">&gt;&gt;&gt;</span> <a href="#spire.math.poly;PolySparse.fastExp(db208e6124).lb" title="Int">lb</a>, <a href="#spire.math.poly;PolySparse.fastExp(db208e6124).lb" title="Int">lb</a>, <a href="#spire.math.poly;PolySparse.fastExp(db208e6124).bits" title="(i: Int)C">bits</a><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.fastExp(db208e6124).lb" title="Int">lb</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="=&gt; Boolean" id="spire.math.poly;PolySparse.isZero">isZero</a>: <span title="Boolean">Boolean</span> =
    <a href="#spire.math.poly;PolySparse.exp" title="implicit scala.Predef.intArrayOps : (xs: Array[Int])scala.collection.mutable.ArrayOps[Int]">exp</a>.<span title="=&gt; Boolean">isEmpty</span>

  def <a title="(x: C)(implicit ring: spire.algebra.Semiring[C])C" id="spire.math.poly;PolySparse.apply">apply</a><span class="delimiter">(</span><a title="C" id="spire.math.poly;PolySparse.apply.x">x</a>: <a href="#spire.math.poly;PolySparse;C" title="C">C</a><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="spire.algebra.Semiring[C]" id="spire.math.poly;PolySparse.apply.ring">ring</a>: <a href="../../algebra/Semiring.scala.html#spire.algebra;Semiring" title="spire.algebra.Semiring[C]">Semiring</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#spire.math.poly;PolySparse;C" title="C">C</a> = if <span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.isZero" title="=&gt; Boolean">isZero</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#spire.math.poly;PolySparse.apply.ring" title="spire.algebra.Semiring[C]">ring</a>.<a href="../../algebra/Additive.scala.html#spire.algebra;AdditiveMonoid.zero" title="=&gt; C">zero</a>
  <span class="delimiter">}</span> else if <span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.exp" title="=&gt; Array[Int]">exp</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.exp" title="(i: Int)Int">exp</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#spire.math.poly;PolySparse.coeff" title="(i: Int)C">coeff</a><a href="#spire.math.poly;PolySparse.apply.ring" title="spire.algebra.Semiring[C]" class="delimiter">(</a><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="../../algebra/Multiplicative.scala.html#spire.algebra;MultiplicativeSemigroup.times" title="(x: C, y: C)C">*</a> <span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.apply.ring" title="spire.algebra.Semiring[C]">x</a> <a href="../../algebra/Semiring.scala.html#spire.algebra;Semiring.pow" title="(a: C, n: Int)C">pow</a> <a href="#spire.math.poly;PolySparse.exp" title="(i: Int)Int">exp</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span> else <a href="#spire.math.poly;PolySparse.coeff" title="(i: Int)C">coeff</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
  <span class="delimiter">}</span> else <span class="delimiter">{</span>
    <span class="comment">// TODO: Rewrite this to be more like PolyDense.</span>
    val <a title="Array[C]" id="spire.math.poly;PolySparse.apply.bits">bits</a> = <a href="#spire.math.poly;PolySparse.expBits" title="(x: C)(implicit ring: spire.algebra.Semiring[C])Array[C]">expBits</a><a href="#spire.math.poly;PolySparse.apply.ring" title="spire.algebra.Semiring[C]" class="delimiter">(</a><a href="#spire.math.poly;PolySparse.apply.x" title="C">x</a><span class="delimiter">)</span>
    val <a title="Int" id="spire.math.poly;PolySparse.apply.e0">e0</a> = <a href="#spire.math.poly;PolySparse.exp" title="(i: Int)Int">exp</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
    val <a title="C" id="spire.math.poly;PolySparse.apply.c0">c0</a> = <a href="#spire.math.poly;PolySparse.coeff" title="(i: Int)C">coeff</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
    var <a title="C" id="spire.math.poly;PolySparse.apply.sum">sum</a> = if <span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.apply.e0" title="Int">e0</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#spire.math.poly;PolySparse.apply.c0" title="C">c0</a> else <a href="#spire.math.poly;PolySparse.apply.ring" title="spire.algebra.Semiring[C]">c0</a> <a href="../../algebra/Multiplicative.scala.html#spire.algebra;MultiplicativeSemigroup.times" title="(x: C, y: C)C">*</a> <a href="#spire.math.poly;PolySparse.fastExp(db208e6124)" title="(bits: Array[C], e: Int)(implicit ring: spire.algebra.Semiring[C])C">fastExp</a><a href="#spire.math.poly;PolySparse.apply.ring" title="spire.algebra.Semiring[C]" class="delimiter">(</a><a href="#spire.math.poly;PolySparse.apply.bits" title="Array[C]">bits</a>, <a href="#spire.math.poly;PolySparse.apply.e0" title="Int">e0</a><span class="delimiter">)</span>
    cfor<span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">(</span>_ <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.math.poly;PolySparse.exp" title="=&gt; Array[Int]">exp</a>.<span title="=&gt; Int">length</span>, _ <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a title="Int" id="spire.math.poly;PolySparse.apply.index$macro$386" class="delimiter">{</a> i =&gt;
      <a href="#spire.math.poly;PolySparse.apply.sum" title="C">sum</a> <a href="../../algebra/Additive.scala.html#spire.algebra;AdditiveSemigroup.plus" title="(x: C, y: C)C">+=</a> <a href="#spire.math.poly;PolySparse.coeff" title="(i: Int)C">coeff</a><a href="#spire.math.poly;PolySparse.apply.ring" title="spire.algebra.Semiring[C]" class="delimiter">(</a>i<span class="delimiter">)</span> <a href="../../algebra/Multiplicative.scala.html#spire.algebra;MultiplicativeSemigroup.times" title="(x: C, y: C)C">*</a> <a href="#spire.math.poly;PolySparse.fastExp(db208e6124)" title="(bits: Array[C], e: Int)(implicit ring: spire.algebra.Semiring[C])C">fastExp</a><a href="#spire.math.poly;PolySparse.apply.ring" title="spire.algebra.Semiring[C]" class="delimiter">(</a><a href="#spire.math.poly;PolySparse.apply.bits" title="Array[C]">bits</a>, <a href="#spire.math.poly;PolySparse.exp" title="(i: Int)Int">exp</a><span class="delimiter">(</span>i<span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#spire.math.poly;PolySparse.apply.sum" title="C">sum</a>
  <span class="delimiter">}</span>

  def <a title="(implicit ring: spire.algebra.Ring[C], implicit eq: spire.algebra.Eq[C])spire.math.Polynomial[C]" id="spire.math.poly;PolySparse.derivative">derivative</a><span class="delimiter">(</span>implicit <a title="spire.algebra.Ring[C]" id="spire.math.poly;PolySparse.derivative.ring">ring</a>: <a href="../../algebra/Ring.scala.html#spire.algebra;Ring" title="spire.algebra.Ring[C]">Ring</a><span class="delimiter">[</span>C<span class="delimiter">]</span>, <a title="spire.algebra.Eq[C]" id="spire.math.poly;PolySparse.derivative.eq">eq</a>: <a href="../../algebra/Eq.scala.html#spire.algebra;Eq" title="spire.algebra.Eq[C]">Eq</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Polynomial.scala.html#spire.math;Polynomial" title="spire.math.Polynomial[C]">Polynomial</a><span class="delimiter">[</span>C<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="Int" id="spire.math.poly;PolySparse.derivative.i0">i0</a> = if <span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.exp" title="(i: Int)Int">exp</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="Int(1)" class="int">1</span> else <span title="Int(0)" class="int">0</span>
    val <a title="Array[Int]" id="spire.math.poly;PolySparse.derivative.es">es</a> = new <span title="Array[Int]">Array</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.exp" title="=&gt; Array[Int]">exp</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <a href="#spire.math.poly;PolySparse.derivative.i0" title="Int">i0</a><span class="delimiter">)</span>
    val <a title="Array[C]" id="spire.math.poly;PolySparse.derivative.cs">cs</a> = new Array<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.derivative.es" title="Array[Int]">es</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>

    @tailrec
    def <a title="(i: Int, j: Int)Unit" id="spire.math.poly;PolySparse.derivative.loop">loop</a><span class="delimiter">(</span><a title="Int" id="spire.math.poly;PolySparse.derivative.loop.i">i</a>: <span title="Int">Int</span>, <a title="Int" id="spire.math.poly;PolySparse.derivative.loop.j">j</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = if <span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.derivative.loop.j" title="Int">j</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.math.poly;PolySparse.derivative.es" title="Array[Int]">es</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      val <a title="Int" id="spire.math.poly;PolySparse.derivative.loop.e">e</a> = <a href="#spire.math.poly;PolySparse.exp" title="(i: Int)Int">exp</a><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.derivative.loop.i" title="Int">i</a><span class="delimiter">)</span>
      <a href="#spire.math.poly;PolySparse.derivative.es" title="(i: Int, x: Int)Unit">es</a><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.derivative.loop.j" title="Int">j</a><span class="delimiter">)</span> = <a href="#spire.math.poly;PolySparse.derivative.loop.e" title="Int">e</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span>
      <a href="#spire.math.poly;PolySparse.derivative.cs" title="(i: Int, x: C)Unit">cs</a><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.derivative.loop.j" title="Int">j</a><span class="delimiter">)</span> = <a href="../../syntax/Syntax.scala.html#spire.syntax;MultiplicativeSemigroupSyntax.literalIntMultiplicativeSemigroupOps" title="implicit spire.syntax.MultiplicativeSemigroupSyntax.literalIntMultiplicativeSemigroupOps : (lhs: Int)spire.syntax.LiteralIntMultiplicativeSemigroupOps">e</a> <a href="../../syntax/Ops.scala.html#spire.syntax;LiteralIntMultiplicativeSemigroupOps.*" title="(rhs: C)(implicit ev: spire.algebra.Ring[C])C">*</a> <a href="#spire.math.poly;PolySparse.coeff" title="(i: Int)C">coeff</a><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.derivative.loop.i" title="Int">i</a><span class="delimiter">)</span>
      <a href="#spire.math.poly;PolySparse.derivative.loop" title="(i: Int, j: Int)Unit">loop</a><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.derivative.loop.i" title="Int">i</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="#spire.math.poly;PolySparse.derivative.loop.j" title="Int">j</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="#spire.math.poly;PolySparse.derivative.loop" title="(i: Int, j: Int)Unit">loop</a><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.derivative.i0" title="Int">i0</a>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
    <a href="#spire.math.poly.PolySparse.readResolve" title="spire.math.poly.PolySparse.type">PolySparse</a>.<a href="#spire.math.poly.PolySparse.safe" title="(exp: Array[Int], coeff: Array[C])(implicit evidence$4: spire.algebra.Semiring[C], implicit evidence$5: spire.algebra.Eq[C], implicit evidence$6: scala.reflect.ClassTag[C])spire.math.poly.PolySparse[C]">safe</a><a href="#spire.math.poly;PolySparse.derivative.ring" title="spire.algebra.Ring[C]" class="delimiter">(</a><a href="#spire.math.poly;PolySparse.derivative.es" title="Array[Int]">es</a>, <a href="#spire.math.poly;PolySparse.derivative.cs" title="Array[C]">cs</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(implicit field: spire.algebra.Field[C], implicit eq: spire.algebra.Eq[C])spire.math.Polynomial[C]" id="spire.math.poly;PolySparse.integral">integral</a><span class="delimiter">(</span>implicit <a title="spire.algebra.Field[C]" id="spire.math.poly;PolySparse.integral.field">field</a>: <a href="../../algebra/Field.scala.html#spire.algebra;Field" title="spire.algebra.Field[C]">Field</a><span class="delimiter">[</span>C<span class="delimiter">]</span>, <a title="spire.algebra.Eq[C]" id="spire.math.poly;PolySparse.integral.eq">eq</a>: <a href="../../algebra/Eq.scala.html#spire.algebra;Eq" title="spire.algebra.Eq[C]">Eq</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Polynomial.scala.html#spire.math;Polynomial" title="spire.math.Polynomial[C]">Polynomial</a><span class="delimiter">[</span>C<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="Array[Int]" id="spire.math.poly;PolySparse.integral.es">es</a> = new <span title="Array[Int]">Array</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.exp" title="=&gt; Array[Int]">exp</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
    val <a title="Array[C]" id="spire.math.poly;PolySparse.integral.cs">cs</a> = new Array<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.integral.es" title="Array[Int]">es</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>

    cfor<span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">(</span>_ <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.math.poly;PolySparse.integral.es" title="Array[Int]">es</a>.<span title="=&gt; Int">length</span>, _ <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a title="Int" id="spire.math.poly;PolySparse.integral.index$macro$387" class="delimiter">{</a> i =&gt;
      val e = <a href="#spire.math.poly;PolySparse.exp" title="(i: Int)Int">exp</a><span class="delimiter">(</span>i<span class="delimiter">)</span> <a title="Int" id="spire.math.poly;PolySparse.integral.e">+</a> <span title="Int(1)" class="int">1</span>
      <a href="#spire.math.poly;PolySparse.integral.es" title="(i: Int, x: Int)Unit">es</a><span class="delimiter">(</span>i<span class="delimiter">)</span> = <a href="#spire.math.poly;PolySparse.integral.e" title="Int">e</a>
      <a href="#spire.math.poly;PolySparse.integral.cs" title="(i: Int, x: C)Unit">cs</a><span class="delimiter">(</span>i<span class="delimiter">)</span> = <a href="#spire.math.poly;PolySparse.coeff" title="(i: Int)C">coeff</a><a href="#spire.math.poly;PolySparse.integral.field" title="spire.algebra.Field[C]" class="delimiter">(</a>i<span class="delimiter">)</span> <a href="../../algebra/Multiplicative.scala.html#spire.algebra;MultiplicativeGroup.div" title="(x: C, y: C)C">/</a> <a href="#spire.math.poly;PolySparse.integral.field" title="spire.algebra.Field[C]">field</a>.<a href="../../algebra/Ring.scala.html#spire.algebra;Ring.fromInt" title="(n: Int)C">fromInt</a><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.integral.e" title="Int">e</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    
    <a href="#spire.math.poly.PolySparse.readResolve" title="spire.math.poly.PolySparse.type">PolySparse</a>.<a href="#spire.math.poly.PolySparse.safe" title="(exp: Array[Int], coeff: Array[C])(implicit evidence$4: spire.algebra.Semiring[C], implicit evidence$5: spire.algebra.Eq[C], implicit evidence$6: scala.reflect.ClassTag[C])spire.math.poly.PolySparse[C]">safe</a><a href="#spire.math.poly;PolySparse.integral.field" title="spire.algebra.Field[C]" class="delimiter">(</a><a href="#spire.math.poly;PolySparse.integral.es" title="Array[Int]">es</a>, <a href="#spire.math.poly;PolySparse.integral.cs" title="Array[C]">cs</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="()(implicit ring: spire.algebra.Rng[C])spire.math.Polynomial[C]" id="spire.math.poly;PolySparse.unary_-">unary_-</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="spire.algebra.Rng[C]" id="spire.math.poly;PolySparse.unary_-.ring">ring</a>: <a href="../../algebra/Rng.scala.html#spire.algebra;Rng" title="spire.algebra.Rng[C]">Rng</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Polynomial.scala.html#spire.math;Polynomial" title="spire.math.Polynomial[C]">Polynomial</a><span class="delimiter">[</span>C<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="Array[C]" id="spire.math.poly;PolySparse.unary_-.cs">cs</a> = new Array<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.coeff" title="=&gt; Array[C]">coeff</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
    cfor<span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">(</span>_ <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.math.poly;PolySparse.unary_-.cs" title="Array[C]">cs</a>.<span title="=&gt; Int">length</span>, _ <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a title="Int" id="spire.math.poly;PolySparse.unary_-.index$macro$388" class="delimiter">{</a> i =&gt; <a href="#spire.math.poly;PolySparse.unary_-.cs" title="(i: Int, x: C)Unit">cs</a><span class="delimiter">(</span>i<span class="delimiter">)</span> = <a href="../../algebra/Additive.scala.html#spire.algebra;AdditiveGroup.negate" title="(x: C)C">-</a><a href="#spire.math.poly;PolySparse.coeff" title="(i: Int)C">coeff</a><a href="#spire.math.poly;PolySparse.unary_-.ring" title="spire.algebra.Rng[C]" class="delimiter">(</a>i<span class="delimiter">)</span> <span class="delimiter">}</span>
    new <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.exp" title="=&gt; Array[Int]">exp</a>, <a href="#spire.math.poly;PolySparse.unary_-.cs" title="Array[C]">cs</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(rhs0: spire.math.Polynomial[C])(implicit ring: spire.algebra.Semiring[C], implicit eq: spire.algebra.Eq[C])spire.math.Polynomial[C]" id="spire.math.poly;PolySparse.+">+</a><span class="delimiter">(</span><a title="spire.math.Polynomial[C]" id="spire.math.poly;PolySparse.+.rhs0">rhs0</a>: <a href="../Polynomial.scala.html#spire.math;Polynomial" title="spire.math.Polynomial[C]">Polynomial</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="spire.algebra.Semiring[C]" id="spire.math.poly;PolySparse.+.ring">ring</a>: <a href="../../algebra/Semiring.scala.html#spire.algebra;Semiring" title="spire.algebra.Semiring[C]">Semiring</a><span class="delimiter">[</span>C<span class="delimiter">]</span>, <a title="spire.algebra.Eq[C]" id="spire.math.poly;PolySparse.+.eq">eq</a>: <a href="../../algebra/Eq.scala.html#spire.algebra;Eq" title="spire.algebra.Eq[C]">Eq</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Polynomial.scala.html#spire.math;Polynomial" title="spire.math.Polynomial[C]">Polynomial</a><span class="delimiter">[</span>C<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="spire.math.poly.PolySparse[C]" id="spire.math.poly;PolySparse.+.rhs">rhs</a>: <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">[</span>C<span class="delimiter">]</span> = <a href="#spire.math.poly.PolySparse.apply(a0a451b643)" title="(poly: spire.math.Polynomial[C])(implicit evidence$10: spire.algebra.Semiring[C], implicit evidence$11: spire.algebra.Eq[C], implicit evidence$12: scala.reflect.ClassTag[C])spire.math.poly.PolySparse[C]">PolySparse</a><a href="#spire.math.poly;PolySparse.+.ring" title="spire.algebra.Semiring[C]" class="delimiter">(</a><a href="#spire.math.poly;PolySparse.+.rhs0" title="spire.math.Polynomial[C]">rhs0</a><span class="delimiter">)</span>
    <a href="#spire.math.poly.PolySparse.readResolve" title="spire.math.poly.PolySparse.type">PolySparse</a>.<a href="#spire.math.poly.PolySparse.addSparse" title="(lhs: spire.math.poly.PolySparse[C], rhs: spire.math.poly.PolySparse[C])(implicit evidence$22: spire.algebra.Eq[C], implicit evidence$23: spire.algebra.Semiring[C], implicit evidence$24: scala.reflect.ClassTag[C])spire.math.poly.PolySparse[C]">addSparse</a><a href="#spire.math.poly;PolySparse.+.eq" title="spire.algebra.Eq[C]" class="delimiter">(</a><a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">lhs</a>, <a href="#spire.math.poly;PolySparse.+.rhs" title="spire.math.poly.PolySparse[C]">rhs</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(rhs0: spire.math.Polynomial[C])(implicit ring: spire.algebra.Semiring[C], implicit eq: spire.algebra.Eq[C])spire.math.Polynomial[C]" id="spire.math.poly;PolySparse.*">*</a><span class="delimiter">(</span><a title="spire.math.Polynomial[C]" id="spire.math.poly;PolySparse.*.rhs0">rhs0</a>: <a href="../Polynomial.scala.html#spire.math;Polynomial" title="spire.math.Polynomial[C]">Polynomial</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="spire.algebra.Semiring[C]" id="spire.math.poly;PolySparse.*.ring">ring</a>: <a href="../../algebra/Semiring.scala.html#spire.algebra;Semiring" title="spire.algebra.Semiring[C]">Semiring</a><span class="delimiter">[</span>C<span class="delimiter">]</span>, <a title="spire.algebra.Eq[C]" id="spire.math.poly;PolySparse.*.eq">eq</a>: <a href="../../algebra/Eq.scala.html#spire.algebra;Eq" title="spire.algebra.Eq[C]">Eq</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Polynomial.scala.html#spire.math;Polynomial" title="spire.math.Polynomial[C]">Polynomial</a><span class="delimiter">[</span>C<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="spire.math.poly.PolySparse[C]" id="spire.math.poly;PolySparse.*.rhs">rhs</a>: <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">[</span>C<span class="delimiter">]</span> = <a href="#spire.math.poly.PolySparse.apply(a0a451b643)" title="(poly: spire.math.Polynomial[C])(implicit evidence$10: spire.algebra.Semiring[C], implicit evidence$11: spire.algebra.Eq[C], implicit evidence$12: scala.reflect.ClassTag[C])spire.math.poly.PolySparse[C]">PolySparse</a><a href="#spire.math.poly;PolySparse.*.ring" title="spire.algebra.Semiring[C]" class="delimiter">(</a><a href="#spire.math.poly;PolySparse.*.rhs0" title="spire.math.Polynomial[C]">rhs0</a><span class="delimiter">)</span>
    <a href="#spire.math.poly.PolySparse.readResolve" title="spire.math.poly.PolySparse.type">PolySparse</a>.<a href="#spire.math.poly.PolySparse.multiplySparse" title="(lhs: spire.math.poly.PolySparse[C], rhs: spire.math.poly.PolySparse[C])(implicit evidence$19: spire.algebra.Semiring[C], implicit evidence$20: spire.algebra.Eq[C], implicit evidence$21: scala.reflect.ClassTag[C])spire.math.poly.PolySparse[C]">multiplySparse</a><a href="#spire.math.poly;PolySparse.*.ring" title="spire.algebra.Semiring[C]" class="delimiter">(</a><a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">lhs</a>, <a href="#spire.math.poly;PolySparse.*.rhs" title="spire.math.poly.PolySparse[C]">rhs</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(rhs: spire.math.Polynomial[C])(implicit field: spire.algebra.Field[C], implicit eq: spire.algebra.Eq[C])(spire.math.Polynomial[C], spire.math.Polynomial[C])" id="spire.math.poly;PolySparse./%">/%</a><span class="delimiter">(</span><a title="spire.math.Polynomial[C]" id="spire.math.poly;PolySparse./%.rhs">rhs</a>: <a href="../Polynomial.scala.html#spire.math;Polynomial" title="spire.math.Polynomial[C]">Polynomial</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="spire.algebra.Field[C]" id="spire.math.poly;PolySparse./%.field">field</a>: <a href="../../algebra/Field.scala.html#spire.algebra;Field" title="spire.algebra.Field[C]">Field</a><span class="delimiter">[</span>C<span class="delimiter">]</span>, <a title="spire.algebra.Eq[C]" id="spire.math.poly;PolySparse./%.eq">eq</a>: <a href="../../algebra/Eq.scala.html#spire.algebra;Eq" title="spire.algebra.Eq[C]">Eq</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="(spire.math.Polynomial[C], spire.math.Polynomial[C])" class="delimiter">(</span>Polynomial<span class="delimiter">[</span>C<span class="delimiter">]</span>, Polynomial<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#spire.math.poly;PolySparse./%.rhs" title="spire.math.Polynomial[C]">rhs</a>.<a href="../Polynomial.scala.html#spire.math;Polynomial.isZero" title="=&gt; Boolean">isZero</a>, <span title="String(&quot;Can\'t divide by polynomial of zero!&quot;)" class="string">&quot;Can't divide by polynomial of zero!&quot;</span><span class="delimiter">)</span>

    <a href="#spire.math.poly.PolySparse.readResolve" title="spire.math.poly.PolySparse.type">PolySparse</a>.<a href="#spire.math.poly.PolySparse.quotmodSparse" title="(lhs: spire.math.poly.PolySparse[C], rhs: spire.math.poly.PolySparse[C])(implicit evidence$28: spire.algebra.Field[C], implicit evidence$29: spire.algebra.Eq[C], implicit evidence$30: scala.reflect.ClassTag[C])(spire.math.poly.PolySparse[C], spire.math.poly.PolySparse[C])">quotmodSparse</a><a href="#spire.math.poly;PolySparse./%.field" title="spire.algebra.Field[C]" class="delimiter">(</a><a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">lhs</a>, <a href="#spire.math.poly.PolySparse.apply(a0a451b643)" title="(poly: spire.math.Polynomial[C])(implicit evidence$10: spire.algebra.Semiring[C], implicit evidence$11: spire.algebra.Eq[C], implicit evidence$12: scala.reflect.ClassTag[C])spire.math.poly.PolySparse[C]">PolySparse</a><a href="#spire.math.poly;PolySparse./%.field" title="spire.algebra.Field[C]" class="delimiter">(</a><a href="#spire.math.poly;PolySparse./%.rhs" title="spire.math.Polynomial[C]">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(k: C)(implicit ring: spire.algebra.Semiring[C], implicit eq: spire.algebra.Eq[C])spire.math.Polynomial[C]" id="spire.math.poly;PolySparse.*:">*:</a> <span class="delimiter">(</span><a title="C" id="spire.math.poly;PolySparse.*:.k">k</a>: <a href="#spire.math.poly;PolySparse;C" title="C">C</a><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="spire.algebra.Semiring[C]" id="spire.math.poly;PolySparse.*:.ring">ring</a>: <a href="../../algebra/Semiring.scala.html#spire.algebra;Semiring" title="spire.algebra.Semiring[C]">Semiring</a><span class="delimiter">[</span>C<span class="delimiter">]</span>, <a title="spire.algebra.Eq[C]" id="spire.math.poly;PolySparse.*:.eq">eq</a>: <a href="../../algebra/Eq.scala.html#spire.algebra;Eq" title="spire.algebra.Eq[C]">Eq</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Polynomial.scala.html#spire.math;Polynomial" title="spire.math.Polynomial[C]">Polynomial</a><span class="delimiter">[</span>C<span class="delimiter">]</span> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.*:.eq" title="spire.algebra.Eq[C]">k</a> <a href="../../algebra/Eq.scala.html#spire.algebra;Eq.eqv" title="(x: C, y: C)Boolean">===</a> <a href="#spire.math.poly;PolySparse.*:.ring" title="spire.algebra.Semiring[C]">ring</a>.<a href="../../algebra/Additive.scala.html#spire.algebra;AdditiveMonoid.zero" title="=&gt; C">zero</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#spire.math.poly.PolySparse.readResolve" title="spire.math.poly.PolySparse.type">PolySparse</a>.<a href="#spire.math.poly.PolySparse.zero" title="[C](implicit evidence$13: spire.algebra.Semiring[C], implicit evidence$14: spire.algebra.Eq[C], implicit evidence$15: scala.reflect.ClassTag[C])spire.math.poly.PolySparse[C]">zero</a><a href="#spire.math.poly;PolySparse.*:.ring" title="(implicit evidence$13: spire.algebra.Semiring[C], implicit evidence$14: spire.algebra.Eq[C], implicit evidence$15: scala.reflect.ClassTag[C])spire.math.poly.PolySparse[C]" class="delimiter">[</a><a href="#spire.math.poly;PolySparse;C" title="C">C</a><span class="delimiter">]</span>
    <span class="delimiter">}</span> else <span class="delimiter">{</span>
      val <a title="Array[C]" id="spire.math.poly;PolySparse.*:.cs">cs</a> = new Array<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.coeff" title="=&gt; Array[C]">coeff</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
      cfor<span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">(</span>_ <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.math.poly;PolySparse.*:.cs" title="Array[C]">cs</a>.<span title="=&gt; Int">length</span>, _ <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a title="Int" id="spire.math.poly;PolySparse.*:.index$macro$389" class="delimiter">{</a> i =&gt;
        <a href="#spire.math.poly;PolySparse.*:.cs" title="(i: Int, x: C)Unit">cs</a><span class="delimiter">(</span>i<span class="delimiter">)</span> = <a href="#spire.math.poly;PolySparse.*:.ring" title="spire.algebra.Semiring[C]">k</a> <a href="../../algebra/Multiplicative.scala.html#spire.algebra;MultiplicativeSemigroup.times" title="(x: C, y: C)C">*</a> <a href="#spire.math.poly;PolySparse.coeff" title="(i: Int)C">coeff</a><span class="delimiter">(</span>i<span class="delimiter">)</span>
      <span class="delimiter">}</span>
      new <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">(</span><a href="#spire.math.poly;PolySparse.exp" title="=&gt; Array[Int]">exp</a>, <a href="#spire.math.poly;PolySparse.*:.cs" title="Array[C]">cs</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>


object <a title="spire.math.poly.PolySparse.type" id="spire.math.poly.PolySparse.readResolve">PolySparse</a> <a href="#spire.math.poly.PolySparse.readResolve" title="spire.math.poly.PolySparse.type" class="delimiter">{</a>
  private final def <a title="[C](poly: spire.math.poly.PolyDense[C])(implicit evidence$1: spire.algebra.Semiring[C], implicit evidence$2: spire.algebra.Eq[C], implicit evidence$3: scala.reflect.ClassTag[C])spire.math.poly.PolySparse[C]" id="spire.math.poly.PolySparse.dense2sparse">dense2sparse</a><span class="delimiter">[</span>@spec<span class="delimiter">(</span>Double<span class="delimiter">)</span> <a title="" id="spire.math.poly.PolySparse.dense2sparse;C">C</a>: Semiring: Eq: ClassTag<span class="delimiter">]</span><span class="delimiter">(</span><a title="spire.math.poly.PolyDense[C]" id="spire.math.poly.PolySparse.dense2sparse.poly">poly</a>: <a href="PolyDense.scala.html#spire.math.poly;PolyDense" title="spire.math.poly.PolyDense[C]">PolyDense</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">[</span>C<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="Array[C]" id="spire.math.poly.PolySparse.dense2sparse.cs">cs</a> = <a href="#spire.math.poly.PolySparse.dense2sparse.poly" title="spire.math.poly.PolyDense[C]">poly</a>.<a href="PolyDense.scala.html#spire.math.poly;PolyDense.coeffs" title="=&gt; Array[C]">coeffs</a>
    val <a title="Array[Int]" id="spire.math.poly.PolySparse.dense2sparse.es">es</a> = new <span title="Array[Int]">Array</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.dense2sparse.cs" title="Array[C]">cs</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
    cfor<span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">(</span>_ <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.math.poly.PolySparse.dense2sparse.es" title="Array[Int]">es</a>.<span title="=&gt; Int">length</span>, _ <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a title="Int" id="spire.math.poly.PolySparse.dense2sparse.index$macro$390" class="delimiter">{</a> i =&gt; <a href="#spire.math.poly.PolySparse.dense2sparse.es" title="(i: Int, x: Int)Unit">es</a><span class="delimiter">(</span>i<span class="delimiter">)</span> = i <span class="delimiter">}</span>
    <a href="#spire.math.poly.PolySparse.readResolve" title="spire.math.poly.PolySparse.type">PolySparse</a>.<a href="#spire.math.poly.PolySparse.safe" title="(exp: Array[Int], coeff: Array[C])(implicit evidence$4: spire.algebra.Semiring[C], implicit evidence$5: spire.algebra.Eq[C], implicit evidence$6: scala.reflect.ClassTag[C])spire.math.poly.PolySparse[C]">safe</a><a href="#spire.math.poly.PolySparse.dense2sparse.evidence$1" title="spire.algebra.Semiring[C]" class="delimiter">(</a><a href="#spire.math.poly.PolySparse.dense2sparse.es" title="Array[Int]">es</a>, <a href="#spire.math.poly.PolySparse.dense2sparse.cs" title="Array[C]">cs</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private<span class="delimiter">[</span>math<span class="delimiter">]</span> final def <a title="[C](exp: Array[Int], coeff: Array[C])(implicit evidence$4: spire.algebra.Semiring[C], implicit evidence$5: spire.algebra.Eq[C], implicit evidence$6: scala.reflect.ClassTag[C])spire.math.poly.PolySparse[C]" id="spire.math.poly.PolySparse.safe">safe</a><span class="delimiter">[</span>@spec<span class="delimiter">(</span>Double<span class="delimiter">)</span> <a title="" id="spire.math.poly.PolySparse.safe;C">C</a>: Semiring: Eq: ClassTag<span class="delimiter">]</span>
      <span class="delimiter">(</span><a title="Array[Int]" id="spire.math.poly.PolySparse.safe.exp">exp</a>: <span title="Array[Int]">Array</span><span class="delimiter">[</span>Int<span class="delimiter">]</span>, <a title="Array[C]" id="spire.math.poly.PolySparse.safe.coeff">coeff</a>: <span title="Array[C]">Array</span><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">[</span>C<span class="delimiter">]</span> = <span class="delimiter">{</span>
    var <a title="Int" id="spire.math.poly.PolySparse.safe.len">len</a> = <span title="Int(0)" class="int">0</span>
    cfor<span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">(</span>_ <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.math.poly.PolySparse.safe.coeff" title="Array[C]">coeff</a>.<span title="=&gt; Int">length</span>, _ <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a title="Int" id="spire.math.poly.PolySparse.safe.index$macro$391" class="delimiter">{</a> i =&gt;
      if <span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.safe.coeff" title="(i: Int)C">coeff</a><a href="#spire.math.poly.PolySparse.safe.evidence$5" title="spire.algebra.Eq[C]" class="delimiter">(</a>i<span class="delimiter">)</span> <a href="../../algebra/Eq.scala.html#spire.algebra;Eq.neqv" title="(x: C, y: C)Boolean">=!=</a> <a href="../../algebra/Semiring.scala.html#spire.algebra.Semiring.apply" title="[A](implicit r: spire.algebra.Semiring[A])spire.algebra.Semiring[A]">Semiring</a><a href="#spire.math.poly.PolySparse.safe.evidence$4" title="(implicit r: spire.algebra.Semiring[C])spire.algebra.Semiring[C]" class="delimiter">[</a><a href="#spire.math.poly.PolySparse.safe;C" title="C">C</a><span class="delimiter">]</span>.<a href="../../algebra/Additive.scala.html#spire.algebra;AdditiveMonoid.zero" title="=&gt; C">zero</a><span class="delimiter">)</span>
        <a href="#spire.math.poly.PolySparse.safe.len" title="Int">len</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>

    if <span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.safe.len" title="Int">len</a> <span title="(x: Int)Boolean">==</span> <a href="#spire.math.poly.PolySparse.safe.coeff" title="Array[C]">coeff</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      new <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.safe.exp" title="Array[Int]">exp</a>, <a href="#spire.math.poly.PolySparse.safe.coeff" title="Array[C]">coeff</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> else <span class="delimiter">{</span>
      val <a title="Array[Int]" id="spire.math.poly.PolySparse.safe.es">es</a> = new <span title="Array[Int]">Array</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.safe.len" title="Int">len</a><span class="delimiter">)</span>
      val <a title="Array[C]" id="spire.math.poly.PolySparse.safe.cs">cs</a> = new Array<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.safe.len" title="Int">len</a><span class="delimiter">)</span>
      @tailrec def <a title="(i: Int, j: Int)spire.math.poly.PolySparse[C]" id="spire.math.poly.PolySparse.safe.loop">loop</a><span class="delimiter">(</span><a title="Int" id="spire.math.poly.PolySparse.safe.loop.i">i</a>: <span title="Int">Int</span>, <a title="Int" id="spire.math.poly.PolySparse.safe.loop.j">j</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">[</span>C<span class="delimiter">]</span> =
        if <span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.safe.loop.i" title="Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.math.poly.PolySparse.safe.coeff" title="Array[C]">coeff</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          val <a title="C" id="spire.math.poly.PolySparse.safe.loop.c">c</a> = <a href="#spire.math.poly.PolySparse.safe.coeff" title="(i: Int)C">coeff</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.safe.loop.i" title="Int">i</a><span class="delimiter">)</span>
          if <span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.safe.evidence$5" title="spire.algebra.Eq[C]">c</a> <a href="../../algebra/Eq.scala.html#spire.algebra;Eq.neqv" title="(x: C, y: C)Boolean">=!=</a> <a href="../../algebra/Semiring.scala.html#spire.algebra.Semiring.apply" title="[A](implicit r: spire.algebra.Semiring[A])spire.algebra.Semiring[A]">Semiring</a><a href="#spire.math.poly.PolySparse.safe.evidence$4" title="(implicit r: spire.algebra.Semiring[C])spire.algebra.Semiring[C]" class="delimiter">[</a><a href="#spire.math.poly.PolySparse.safe;C" title="C">C</a><span class="delimiter">]</span>.<a href="../../algebra/Additive.scala.html#spire.algebra;AdditiveMonoid.zero" title="=&gt; C">zero</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#spire.math.poly.PolySparse.safe.es" title="(i: Int, x: Int)Unit">es</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.safe.loop.j" title="Int">j</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.safe.exp" title="(i: Int)Int">exp</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.safe.loop.i" title="Int">i</a><span class="delimiter">)</span>
            <a href="#spire.math.poly.PolySparse.safe.cs" title="(i: Int, x: C)Unit">cs</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.safe.loop.j" title="Int">j</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.safe.loop.c" title="C">c</a>
            <a href="#spire.math.poly.PolySparse.safe.loop" title="(i: Int, j: Int)spire.math.poly.PolySparse[C]">loop</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.safe.loop.i" title="Int">i</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="#spire.math.poly.PolySparse.safe.loop.j" title="Int">j</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> else <span class="delimiter">{</span>
            <a href="#spire.math.poly.PolySparse.safe.loop" title="(i: Int, j: Int)spire.math.poly.PolySparse[C]">loop</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.safe.loop.i" title="Int">i</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="#spire.math.poly.PolySparse.safe.loop.j" title="Int">j</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> else new <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.safe.es" title="Array[Int]">es</a>, <a href="#spire.math.poly.PolySparse.safe.cs" title="Array[C]">cs</a><span class="delimiter">)</span>
      <a href="#spire.math.poly.PolySparse.safe.loop" title="(i: Int, j: Int)spire.math.poly.PolySparse[C]">loop</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  final def <a title="[C](data: Map[Int,C])(implicit evidence$7: spire.algebra.Semiring[C], implicit evidence$8: spire.algebra.Eq[C], implicit evidence$9: scala.reflect.ClassTag[C])spire.math.poly.PolySparse[C]" id="spire.math.poly.PolySparse.apply(83495ff246)">apply</a><span class="delimiter">[</span>@spec<span class="delimiter">(</span>Double<span class="delimiter">)</span> <a title="" id="spire.math.poly.PolySparse.apply(83495ff246);C">C</a>: Semiring: Eq: ClassTag<span class="delimiter">]</span><span class="delimiter">(</span><a title="Map[Int,C]" id="spire.math.poly.PolySparse.apply(83495ff246).data">data</a>: <span title="Map[Int,C]">Map</span><span class="delimiter">[</span>Int,C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">[</span>C<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="Array[(Int, C)]" id="spire.math.poly.PolySparse.apply(83495ff246).data0">data0</a> = <a href="#spire.math.poly.PolySparse.apply(83495ff246).data" title="Map[Int,C]">data</a>.<span title="(implicit evidence$1: scala.reflect.ClassTag[(Int, C)])Array[(Int, C)]">toArray</span>
    <a href="../../syntax/std/Syntax.scala.html#spire.syntax.std;ArraySyntax.arrayOps" title="(lhs: Array[(Int, C)])spire.syntax.std.ArrayOps[(Int, C)]">data0</a>.<a href="../../syntax/std/Ops.scala.html#spire.syntax.std;ArrayOps.qsortBy" title="(f: ((Int, C)) =&gt; Int)(implicit ev: spire.algebra.Order[Int], implicit ct: scala.reflect.ClassTag[(Int, C)])Unit">qsortBy</a><a href="../../std/int.scala.html#spire.std;IntInstances.IntAlgebra" title="=&gt; spire.std.IntAlgebra" class="delimiter">(</a><a href="#spire.math.poly.PolySparse.apply(83495ff246).$anonfun.x$21" title="(Int, C)">_</a>.<span title="=&gt; Int">_1</span><span class="delimiter">)</span>
    val <a title="Array[Int]" id="spire.math.poly.PolySparse.apply(83495ff246).es">es</a> = new <span title="Array[Int]">Array</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.apply(83495ff246).data0" title="Array[(Int, C)]">data0</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
    val <a title="Array[C]" id="spire.math.poly.PolySparse.apply(83495ff246).cs">cs</a> = new Array<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.apply(83495ff246).data0" title="Array[(Int, C)]">data0</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
    cfor<span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">(</span>_ <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.math.poly.PolySparse.apply(83495ff246).data0" title="Array[(Int, C)]">data0</a>.<span title="=&gt; Int">length</span>, _ <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a title="Int" id="spire.math.poly.PolySparse.apply(83495ff246).index$macro$392" class="delimiter">{</a> i =&gt;
      val <a href="#spire.math.poly.PolySparse.apply(83495ff246).e" title="(Int, C)" class="delimiter">(</a><a href="#spire.math.poly.PolySparse.apply(83495ff246).x$24" title="Int" id="spire.math.poly.PolySparse.apply(83495ff246).e">e</a>, <a href="#spire.math.poly.PolySparse.apply(83495ff246).x$24" title="C" id="spire.math.poly.PolySparse.apply(83495ff246).c">c</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.apply(83495ff246).data0" title="(i: Int)(Int, C)">data0</a><span class="delimiter">(</span>i<span class="delimiter">)</span>
      <a href="#spire.math.poly.PolySparse.apply(83495ff246).es" title="(i: Int, x: Int)Unit">es</a><span class="delimiter">(</span>i<span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.apply(83495ff246).e" title="Int">e</a>
      <a href="#spire.math.poly.PolySparse.apply(83495ff246).cs" title="(i: Int, x: C)Unit">cs</a><span class="delimiter">(</span>i<span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.apply(83495ff246).c" title="C">c</a>
    <span class="delimiter">}</span>
    <a href="#spire.math.poly.PolySparse.safe" title="(exp: Array[Int], coeff: Array[C])(implicit evidence$4: spire.algebra.Semiring[C], implicit evidence$5: spire.algebra.Eq[C], implicit evidence$6: scala.reflect.ClassTag[C])spire.math.poly.PolySparse[C]">safe</a><a href="#spire.math.poly.PolySparse.apply(83495ff246).evidence$7" title="spire.algebra.Semiring[C]" class="delimiter">(</a><a href="#spire.math.poly.PolySparse.apply(83495ff246).es" title="Array[Int]">es</a>, <a href="#spire.math.poly.PolySparse.apply(83495ff246).cs" title="Array[C]">cs</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  final def <a title="[C](poly: spire.math.Polynomial[C])(implicit evidence$10: spire.algebra.Semiring[C], implicit evidence$11: spire.algebra.Eq[C], implicit evidence$12: scala.reflect.ClassTag[C])spire.math.poly.PolySparse[C]" id="spire.math.poly.PolySparse.apply(a0a451b643)">apply</a><span class="delimiter">[</span>@spec<span class="delimiter">(</span>Double<span class="delimiter">)</span> <a title="" id="spire.math.poly.PolySparse.apply(a0a451b643);C">C</a>: Semiring: Eq: ClassTag<span class="delimiter">]</span><span class="delimiter">(</span><span title="spire.math.Polynomial[C]">poly</span>: <a href="../Polynomial.scala.html#spire.math;Polynomial" title="spire.math.Polynomial[C]">Polynomial</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">[</span>C<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="spire.math.Polynomial[C]">poly</span> match <span class="delimiter">{</span>
      case <span class="delimiter">(</span><span title="spire.math.poly.PolySparse[_]">poly</span>: <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[_]">PolySparse</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =&gt;
        <span title="spire.math.poly.PolySparse[_]">poly</span>

      case <span class="delimiter">(</span>_: <a href="PolyDense.scala.html#spire.math.poly;PolyDense" title="spire.math.poly.PolyDense[_]">PolyDense</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =&gt;
        <a href="#spire.math.poly.PolySparse.dense2sparse" title="(poly: spire.math.poly.PolyDense[C])(implicit evidence$1: spire.algebra.Semiring[C], implicit evidence$2: spire.algebra.Eq[C], implicit evidence$3: scala.reflect.ClassTag[C])spire.math.poly.PolySparse[C]">dense2sparse</a><a href="#spire.math.poly.PolySparse.apply(a0a451b643).evidence$10" title="spire.algebra.Semiring[C]" class="delimiter">(</a><span title="spire.math.Polynomial[C]">poly</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="spire.math.poly.PolyDense[C]" class="delimiter">[</span><a href="PolyDense.scala.html#spire.math.poly;PolyDense" title="spire.math.poly.PolyDense[C]">PolyDense</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="comment">// Yay...</span>

      case _ =&gt;
        var <a title="Int" id="spire.math.poly.PolySparse.apply(a0a451b643).len">len</a> = <span title="Int(0)" class="int">0</span>
        <span title="spire.math.Polynomial[C]">poly</span>.<a href="../Polynomial.scala.html#spire.math;Polynomial.foreachNonZero" title="(f: (Int, C) =&gt; Unit)(implicit ring: spire.algebra.Semiring[C], implicit eq: spire.algebra.Eq[C])Unit">foreachNonZero</a> <a href="#spire.math.poly.PolySparse.apply(a0a451b643).evidence$10" title="spire.algebra.Semiring[C]" class="delimiter">{</a> <span class="delimiter">(</span><a title="Int" id="spire.math.poly.PolySparse.apply(a0a451b643).$anonfun.x$25">_</a>, <a title="C" id="spire.math.poly.PolySparse.apply(a0a451b643).$anonfun.x$26">_</a><span class="delimiter">)</span> =&gt; <a href="#spire.math.poly.PolySparse.apply(a0a451b643).len" title="Int">len</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span> <span class="delimiter">}</span>
        val <a title="Array[Int]" id="spire.math.poly.PolySparse.apply(a0a451b643).es">es</a> = new <span title="Array[Int]">Array</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.apply(a0a451b643).len" title="Int">len</a><span class="delimiter">)</span>
        val <a title="Array[C]" id="spire.math.poly.PolySparse.apply(a0a451b643).cs">cs</a> = new Array<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.apply(a0a451b643).len" title="Int">len</a><span class="delimiter">)</span>
        var <a title="Int" id="spire.math.poly.PolySparse.apply(a0a451b643).i">i</a> = <span title="Int(0)" class="int">0</span>
        <span title="spire.math.Polynomial[C]">poly</span>.<a href="../Polynomial.scala.html#spire.math;Polynomial.foreachNonZero" title="(f: (Int, C) =&gt; Unit)(implicit ring: spire.algebra.Semiring[C], implicit eq: spire.algebra.Eq[C])Unit">foreachNonZero</a> <a href="#spire.math.poly.PolySparse.apply(a0a451b643).evidence$10" title="spire.algebra.Semiring[C]" class="delimiter">{</a> <span class="delimiter">(</span><a title="Int" id="spire.math.poly.PolySparse.apply(a0a451b643).$anonfun.e">e</a>, <a title="C" id="spire.math.poly.PolySparse.apply(a0a451b643).$anonfun.c">c</a><span class="delimiter">)</span> =&gt;
          <a href="#spire.math.poly.PolySparse.apply(a0a451b643).es" title="(i: Int, x: Int)Unit">es</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.apply(a0a451b643).i" title="Int">i</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.apply(a0a451b643).$anonfun.e" title="Int">e</a>
          <a href="#spire.math.poly.PolySparse.apply(a0a451b643).cs" title="(i: Int, x: C)Unit">cs</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.apply(a0a451b643).i" title="Int">i</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.apply(a0a451b643).$anonfun.c" title="C">c</a>
          <a href="#spire.math.poly.PolySparse.apply(a0a451b643).i" title="Int">i</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
        <a href="#spire.math.poly.PolySparse.readResolve" title="spire.math.poly.PolySparse.type">PolySparse</a>.<a href="#spire.math.poly.PolySparse.safe" title="(exp: Array[Int], coeff: Array[C])(implicit evidence$4: spire.algebra.Semiring[C], implicit evidence$5: spire.algebra.Eq[C], implicit evidence$6: scala.reflect.ClassTag[C])spire.math.poly.PolySparse[C]">safe</a><a href="#spire.math.poly.PolySparse.apply(a0a451b643).evidence$10" title="spire.algebra.Semiring[C]" class="delimiter">(</a><a href="#spire.math.poly.PolySparse.apply(a0a451b643).es" title="Array[Int]">es</a>, <a href="#spire.math.poly.PolySparse.apply(a0a451b643).cs" title="Array[C]">cs</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  final def <a title="[C](implicit evidence$13: spire.algebra.Semiring[C], implicit evidence$14: spire.algebra.Eq[C], implicit evidence$15: scala.reflect.ClassTag[C])spire.math.poly.PolySparse[C]" id="spire.math.poly.PolySparse.zero">zero</a><span class="delimiter">[</span>@spec<span class="delimiter">(</span>Double<span class="delimiter">)</span> <a title="" id="spire.math.poly.PolySparse.zero;C">C</a>: Semiring: Eq: ClassTag<span class="delimiter">]</span>: <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">[</span>C<span class="delimiter">]</span> =
    new <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">(</span>new <span title="Array[Int]">Array</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>, new Array<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>

  private final def <a title="[C](poly: spire.math.poly.PolySparse[C], c: C, e: Int)(implicit evidence$16: spire.algebra.Semiring[C], implicit evidence$17: spire.algebra.Eq[C], implicit evidence$18: scala.reflect.ClassTag[C])spire.math.poly.PolySparse[C]" id="spire.math.poly.PolySparse.multiplyTerm">multiplyTerm</a><span class="delimiter">[</span>@spec<span class="delimiter">(</span>Double<span class="delimiter">)</span> <a title="" id="spire.math.poly.PolySparse.multiplyTerm;C">C</a>: Semiring: Eq: ClassTag<span class="delimiter">]</span><span class="delimiter">(</span><a title="spire.math.poly.PolySparse[C]" id="spire.math.poly.PolySparse.multiplyTerm.poly">poly</a>: <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">[</span>C<span class="delimiter">]</span>, <a title="C" id="spire.math.poly.PolySparse.multiplyTerm.c">c</a>: <a href="#spire.math.poly.PolySparse.multiplyTerm;C" title="C">C</a>, <a title="Int" id="spire.math.poly.PolySparse.multiplyTerm.e">e</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">[</span>C<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="Array[Int]" id="spire.math.poly.PolySparse.multiplyTerm.exp">exp</a> = <a href="#spire.math.poly.PolySparse.multiplyTerm.poly" title="spire.math.poly.PolySparse[C]">poly</a>.<a href="#spire.math.poly;PolySparse.exp" title="=&gt; Array[Int]">exp</a>
    val <a title="Array[C]" id="spire.math.poly.PolySparse.multiplyTerm.coeff">coeff</a> = <a href="#spire.math.poly.PolySparse.multiplyTerm.poly" title="spire.math.poly.PolySparse[C]">poly</a>.<a href="#spire.math.poly;PolySparse.coeff" title="=&gt; Array[C]">coeff</a>
    val <a title="Array[C]" id="spire.math.poly.PolySparse.multiplyTerm.cs">cs</a> = new Array<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.multiplyTerm.coeff" title="Array[C]">coeff</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
    val <a title="Array[Int]" id="spire.math.poly.PolySparse.multiplyTerm.es">es</a> = new <span title="Array[Int]">Array</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.multiplyTerm.exp" title="Array[Int]">exp</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
    cfor<span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">(</span>_ <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.math.poly.PolySparse.multiplyTerm.coeff" title="Array[C]">coeff</a>.<span title="=&gt; Int">length</span>, _ <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a title="Int" id="spire.math.poly.PolySparse.multiplyTerm.index$macro$393" class="delimiter">{</a> i =&gt;
      <a href="#spire.math.poly.PolySparse.multiplyTerm.cs" title="(i: Int, x: C)Unit">cs</a><span class="delimiter">(</span>i<span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.multiplyTerm.evidence$16" title="spire.algebra.Semiring[C]">c</a> <a href="../../algebra/Multiplicative.scala.html#spire.algebra;MultiplicativeSemigroup.times" title="(x: C, y: C)C">*</a> <a href="#spire.math.poly.PolySparse.multiplyTerm.coeff" title="(i: Int)C">coeff</a><span class="delimiter">(</span>i<span class="delimiter">)</span>
      <a href="#spire.math.poly.PolySparse.multiplyTerm.es" title="(i: Int, x: Int)Unit">es</a><span class="delimiter">(</span>i<span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.multiplyTerm.exp" title="(i: Int)Int">exp</a><span class="delimiter">(</span>i<span class="delimiter">)</span> <span title="(x: Int)Int">+</span> <a href="#spire.math.poly.PolySparse.multiplyTerm.e" title="Int">e</a>
    <span class="delimiter">}</span>
    new <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.multiplyTerm.es" title="Array[Int]">es</a>, <a href="#spire.math.poly.PolySparse.multiplyTerm.cs" title="Array[C]">cs</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private final def <a title="[C](lhs: spire.math.poly.PolySparse[C], rhs: spire.math.poly.PolySparse[C])(implicit evidence$19: spire.algebra.Semiring[C], implicit evidence$20: spire.algebra.Eq[C], implicit evidence$21: scala.reflect.ClassTag[C])spire.math.poly.PolySparse[C]" id="spire.math.poly.PolySparse.multiplySparse">multiplySparse</a><span class="delimiter">[</span>@spec<span class="delimiter">(</span>Double<span class="delimiter">)</span> <a title="" id="spire.math.poly.PolySparse.multiplySparse;C">C</a>: Semiring: Eq: ClassTag<span class="delimiter">]</span>
      <span class="delimiter">(</span><a title="spire.math.poly.PolySparse[C]" id="spire.math.poly.PolySparse.multiplySparse.lhs">lhs</a>: <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">[</span>C<span class="delimiter">]</span>, <a title="spire.math.poly.PolySparse[C]" id="spire.math.poly.PolySparse.multiplySparse.rhs">rhs</a>: <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">[</span>C<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="Array[Int]" id="spire.math.poly.PolySparse.multiplySparse.lexp">lexp</a> = <a href="#spire.math.poly.PolySparse.multiplySparse.lhs" title="spire.math.poly.PolySparse[C]">lhs</a>.<a href="#spire.math.poly;PolySparse.exp" title="=&gt; Array[Int]">exp</a>
    val <a title="Array[C]" id="spire.math.poly.PolySparse.multiplySparse.lcoeff">lcoeff</a> = <a href="#spire.math.poly.PolySparse.multiplySparse.lhs" title="spire.math.poly.PolySparse[C]">lhs</a>.<a href="#spire.math.poly;PolySparse.coeff" title="=&gt; Array[C]">coeff</a>
    var <a title="spire.math.poly.PolySparse[C]" id="spire.math.poly.PolySparse.multiplySparse.sum">sum</a> = new <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">(</span>new <span title="Array[Int]">Array</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>, new Array<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
    cfor<span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">(</span>_ <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.math.poly.PolySparse.multiplySparse.lexp" title="Array[Int]">lexp</a>.<span title="=&gt; Int">length</span>, _ <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a title="Int" id="spire.math.poly.PolySparse.multiplySparse.index$macro$394" class="delimiter">{</a> i =&gt;
      <a href="#spire.math.poly.PolySparse.multiplySparse.sum" title="spire.math.poly.PolySparse[C]">sum</a> = <a href="#spire.math.poly.PolySparse.addSparse" title="(lhs: spire.math.poly.PolySparse[C], rhs: spire.math.poly.PolySparse[C])(implicit evidence$22: spire.algebra.Eq[C], implicit evidence$23: spire.algebra.Semiring[C], implicit evidence$24: scala.reflect.ClassTag[C])spire.math.poly.PolySparse[C]">addSparse</a><a href="#spire.math.poly.PolySparse.multiplySparse.evidence$20" title="spire.algebra.Eq[C]" class="delimiter">(</a><a href="#spire.math.poly.PolySparse.multiplySparse.sum" title="spire.math.poly.PolySparse[C]">sum</a>, <a href="#spire.math.poly.PolySparse.multiplyTerm" title="(poly: spire.math.poly.PolySparse[C], c: C, e: Int)(implicit evidence$16: spire.algebra.Semiring[C], implicit evidence$17: spire.algebra.Eq[C], implicit evidence$18: scala.reflect.ClassTag[C])spire.math.poly.PolySparse[C]">multiplyTerm</a><a href="#spire.math.poly.PolySparse.multiplySparse.evidence$19" title="spire.algebra.Semiring[C]" class="delimiter">(</a><a href="#spire.math.poly.PolySparse.multiplySparse.rhs" title="spire.math.poly.PolySparse[C]">rhs</a>, <a href="#spire.math.poly.PolySparse.multiplySparse.lcoeff" title="(i: Int)C">lcoeff</a><span class="delimiter">(</span>i<span class="delimiter">)</span>, <a href="#spire.math.poly.PolySparse.multiplySparse.lexp" title="(i: Int)Int">lexp</a><span class="delimiter">(</span>i<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#spire.math.poly.PolySparse.multiplySparse.sum" title="spire.math.poly.PolySparse[C]">sum</a>
  <span class="delimiter">}</span>

  private final def <a title="[C](lhs: spire.math.poly.PolySparse[C], rhs: spire.math.poly.PolySparse[C], lOffset: Int, rOffset: Int)Int" id="spire.math.poly.PolySparse.countSumTerms">countSumTerms</a><span class="delimiter">[</span>@spec<span class="delimiter">(</span>Double<span class="delimiter">)</span> <a title="" id="spire.math.poly.PolySparse.countSumTerms$default$4;C">C</a><span class="delimiter">]</span>
      <span class="delimiter">(</span><a title="spire.math.poly.PolySparse[C]" id="spire.math.poly.PolySparse.countSumTerms.lhs">lhs</a>: <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">[</span>C<span class="delimiter">]</span>, <a title="spire.math.poly.PolySparse[C]" id="spire.math.poly.PolySparse.countSumTerms.rhs">rhs</a>: <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">[</span>C<span class="delimiter">]</span>, <a title="Int" id="spire.math.poly.PolySparse.countSumTerms$default$3">lOffset</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span>, <a title="Int" id="spire.math.poly.PolySparse.countSumTerms$default$4">rOffset</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
    val PolySparse<a href="#spire.math.poly.PolySparse.countSumTerms.lexp" title="(Array[Int], Array[C])" class="delimiter">(</a><a href="#spire.math.poly.PolySparse.countSumTerms.x$31" title="Array[Int]" id="spire.math.poly.PolySparse.countSumTerms.lexp">lexp</a>, <a href="#spire.math.poly.PolySparse.countSumTerms.x$31" title="Array[C]" id="spire.math.poly.PolySparse.countSumTerms.lcoeff">lcoeff</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.countSumTerms.lhs" title="spire.math.poly.PolySparse[C]">lhs</a>
    val PolySparse<a href="#spire.math.poly.PolySparse.countSumTerms.rexp" title="(Array[Int], Array[C])" class="delimiter">(</a><a href="#spire.math.poly.PolySparse.countSumTerms.x$32" title="Array[Int]" id="spire.math.poly.PolySparse.countSumTerms.rexp">rexp</a>, <a href="#spire.math.poly.PolySparse.countSumTerms.x$32" title="Array[C]" id="spire.math.poly.PolySparse.countSumTerms.rcoeff">rcoeff</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.countSumTerms.rhs" title="spire.math.poly.PolySparse[C]">rhs</a>

    @tailrec
    def <a title="(i: Int, j: Int, count: Int)Int" id="spire.math.poly.PolySparse.countSumTerms.loop">loop</a><span class="delimiter">(</span><a title="Int" id="spire.math.poly.PolySparse.countSumTerms.loop.i">i</a>: <span title="Int">Int</span>, <a title="Int" id="spire.math.poly.PolySparse.countSumTerms.loop.j">j</a>: <span title="Int">Int</span>, <a title="Int" id="spire.math.poly.PolySparse.countSumTerms.loop.count">count</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Int">Int</span> =
      if <span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.countSumTerms.loop.i" title="Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.math.poly.PolySparse.countSumTerms.lexp" title="Array[Int]">lexp</a>.<span title="=&gt; Int">length</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#spire.math.poly.PolySparse.countSumTerms.loop.j" title="Int">j</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.math.poly.PolySparse.countSumTerms.rexp" title="Array[Int]">rexp</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        val cmp = <a href="#spire.math.poly.PolySparse.countSumTerms.lexp" title="(i: Int)Int">lexp</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.countSumTerms.loop.i" title="Int">i</a><span class="delimiter">)</span> <span title="(x: Int)Int">+</span> <a href="#spire.math.poly.PolySparse.countSumTerms$default$3" title="Int">lOffset</a> <span title="(x: Int)Int">-</span> <a href="#spire.math.poly.PolySparse.countSumTerms.rexp" title="(i: Int)Int">rexp</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.countSumTerms.loop.j" title="Int">j</a><span class="delimiter">)</span> <a title="Int" id="spire.math.poly.PolySparse.countSumTerms.loop.cmp">-</a> <a href="#spire.math.poly.PolySparse.countSumTerms$default$4" title="Int">rOffset</a>
        if <span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.countSumTerms.loop.cmp" title="Int">cmp</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#spire.math.poly.PolySparse.countSumTerms.loop" title="(i: Int, j: Int, count: Int)Int">loop</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.countSumTerms.loop.i" title="Int">i</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="#spire.math.poly.PolySparse.countSumTerms.loop.j" title="Int">j</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="#spire.math.poly.PolySparse.countSumTerms.loop.count" title="Int">count</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        else if <span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.countSumTerms.loop.cmp" title="Int">cmp</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#spire.math.poly.PolySparse.countSumTerms.loop" title="(i: Int, j: Int, count: Int)Int">loop</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.countSumTerms.loop.i" title="Int">i</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="#spire.math.poly.PolySparse.countSumTerms.loop.j" title="Int">j</a>, <a href="#spire.math.poly.PolySparse.countSumTerms.loop.count" title="Int">count</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        else <a href="#spire.math.poly.PolySparse.countSumTerms.loop" title="(i: Int, j: Int, count: Int)Int">loop</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.countSumTerms.loop.i" title="Int">i</a>, <a href="#spire.math.poly.PolySparse.countSumTerms.loop.j" title="Int">j</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="#spire.math.poly.PolySparse.countSumTerms.loop.count" title="Int">count</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> else <span class="delimiter">{</span>
        <a href="#spire.math.poly.PolySparse.countSumTerms.loop.count" title="Int">count</a> <span title="(x: Int)Int">+</span> <span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.countSumTerms.lexp" title="Array[Int]">lexp</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <a href="#spire.math.poly.PolySparse.countSumTerms.loop.i" title="Int">i</a><span class="delimiter">)</span> <span title="(x: Int)Int">+</span> <span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.countSumTerms.rexp" title="Array[Int]">rexp</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <a href="#spire.math.poly.PolySparse.countSumTerms.loop.j" title="Int">j</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <a href="#spire.math.poly.PolySparse.countSumTerms.loop" title="(i: Int, j: Int, count: Int)Int">loop</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <span title="Int(0)" class="int">0</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private final def <a title="[C](lhs: spire.math.poly.PolySparse[C], rhs: spire.math.poly.PolySparse[C])(implicit evidence$22: spire.algebra.Eq[C], implicit evidence$23: spire.algebra.Semiring[C], implicit evidence$24: scala.reflect.ClassTag[C])spire.math.poly.PolySparse[C]" id="spire.math.poly.PolySparse.addSparse">addSparse</a><span class="delimiter">[</span><a title="" id="spire.math.poly.PolySparse.addSparse;C">C</a>: Eq: Semiring: ClassTag<span class="delimiter">]</span><span class="delimiter">(</span><a title="spire.math.poly.PolySparse[C]" id="spire.math.poly.PolySparse.addSparse.lhs">lhs</a>: <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">[</span>C<span class="delimiter">]</span>, <a title="spire.math.poly.PolySparse[C]" id="spire.math.poly.PolySparse.addSparse.rhs">rhs</a>: <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">[</span>C<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val PolySparse<a href="#spire.math.poly.PolySparse.addSparse.lexp" title="(Array[Int], Array[C])" class="delimiter">(</a><a href="#spire.math.poly.PolySparse.addSparse.x$33" title="Array[Int]" id="spire.math.poly.PolySparse.addSparse.lexp">lexp</a>, <a href="#spire.math.poly.PolySparse.addSparse.x$33" title="Array[C]" id="spire.math.poly.PolySparse.addSparse.lcoeff">lcoeff</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.addSparse.lhs" title="spire.math.poly.PolySparse[C]">lhs</a>
    val PolySparse<a href="#spire.math.poly.PolySparse.addSparse.rexp" title="(Array[Int], Array[C])" class="delimiter">(</a><a href="#spire.math.poly.PolySparse.addSparse.x$34" title="Array[Int]" id="spire.math.poly.PolySparse.addSparse.rexp">rexp</a>, <a href="#spire.math.poly.PolySparse.addSparse.x$34" title="Array[C]" id="spire.math.poly.PolySparse.addSparse.rcoeff">rcoeff</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.addSparse.rhs" title="spire.math.poly.PolySparse[C]">rhs</a>

    val <a title="Int" id="spire.math.poly.PolySparse.addSparse.len">len</a> = <a href="#spire.math.poly.PolySparse.countSumTerms" title="(lhs: spire.math.poly.PolySparse[C], rhs: spire.math.poly.PolySparse[C], lOffset: Int, rOffset: Int)Int">countSumTerms</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.addSparse.lhs" title="spire.math.poly.PolySparse[C]">lhs</a>, <a href="#spire.math.poly.PolySparse.addSparse.rhs" title="spire.math.poly.PolySparse[C]">rhs</a><span class="delimiter">)</span>
    val <a title="Array[Int]" id="spire.math.poly.PolySparse.addSparse.es">es</a> = new <span title="Array[Int]">Array</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.addSparse.len" title="Int">len</a><span class="delimiter">)</span>
    val <a title="Array[C]" id="spire.math.poly.PolySparse.addSparse.cs">cs</a> = new Array<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.addSparse.len" title="Int">len</a><span class="delimiter">)</span>

    @tailrec
    def <a title="(i: Int, j: Int, k: Int)spire.math.poly.PolySparse[C]" id="spire.math.poly.PolySparse.addSparse.sum">sum</a><span class="delimiter">(</span><a title="Int" id="spire.math.poly.PolySparse.addSparse.sum.i">i</a>: <span title="Int">Int</span>, <a title="Int" id="spire.math.poly.PolySparse.addSparse.sum.j">j</a>: <span title="Int">Int</span>, <a title="Int" id="spire.math.poly.PolySparse.addSparse.sum.k">k</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">[</span>C<span class="delimiter">]</span> =
      if <span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.addSparse.sum.i" title="Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.math.poly.PolySparse.addSparse.lexp" title="Array[Int]">lexp</a>.<span title="=&gt; Int">length</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#spire.math.poly.PolySparse.addSparse.sum.j" title="Int">j</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.math.poly.PolySparse.addSparse.rexp" title="Array[Int]">rexp</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        val <a title="Int" id="spire.math.poly.PolySparse.addSparse.sum.ei">ei</a> = <a href="#spire.math.poly.PolySparse.addSparse.lexp" title="(i: Int)Int">lexp</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.addSparse.sum.i" title="Int">i</a><span class="delimiter">)</span>
        val <a title="Int" id="spire.math.poly.PolySparse.addSparse.sum.ej">ej</a> = <a href="#spire.math.poly.PolySparse.addSparse.rexp" title="(i: Int)Int">rexp</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.addSparse.sum.j" title="Int">j</a><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.addSparse.sum.ei" title="Int">ei</a> <span title="(x: Int)Boolean">==</span> <a href="#spire.math.poly.PolySparse.addSparse.sum.ej" title="Int">ej</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#spire.math.poly.PolySparse.addSparse.es" title="(i: Int, x: Int)Unit">es</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.addSparse.sum.k" title="Int">k</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.addSparse.sum.ei" title="Int">ei</a>
          <a href="#spire.math.poly.PolySparse.addSparse.cs" title="(i: Int, x: C)Unit">cs</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.addSparse.sum.k" title="Int">k</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.addSparse.lcoeff" title="(i: Int)C">lcoeff</a><a href="#spire.math.poly.PolySparse.addSparse.evidence$23" title="spire.algebra.Semiring[C]" class="delimiter">(</a><a href="#spire.math.poly.PolySparse.addSparse.sum.i" title="Int">i</a><span class="delimiter">)</span> <a href="../../algebra/Additive.scala.html#spire.algebra;AdditiveSemigroup.plus" title="(x: C, y: C)C">+</a> <a href="#spire.math.poly.PolySparse.addSparse.rcoeff" title="(i: Int)C">rcoeff</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.addSparse.sum.j" title="Int">j</a><span class="delimiter">)</span>
          <a href="#spire.math.poly.PolySparse.addSparse.sum" title="(i: Int, j: Int, k: Int)spire.math.poly.PolySparse[C]">sum</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.addSparse.sum.i" title="Int">i</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="#spire.math.poly.PolySparse.addSparse.sum.j" title="Int">j</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="#spire.math.poly.PolySparse.addSparse.sum.k" title="Int">k</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> else if <span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.addSparse.sum.ei" title="Int">ei</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.math.poly.PolySparse.addSparse.sum.ej" title="Int">ej</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#spire.math.poly.PolySparse.addSparse.es" title="(i: Int, x: Int)Unit">es</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.addSparse.sum.k" title="Int">k</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.addSparse.sum.ei" title="Int">ei</a>
          <a href="#spire.math.poly.PolySparse.addSparse.cs" title="(i: Int, x: C)Unit">cs</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.addSparse.sum.k" title="Int">k</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.addSparse.lcoeff" title="(i: Int)C">lcoeff</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.addSparse.sum.i" title="Int">i</a><span class="delimiter">)</span>
          <a href="#spire.math.poly.PolySparse.addSparse.sum" title="(i: Int, j: Int, k: Int)spire.math.poly.PolySparse[C]">sum</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.addSparse.sum.i" title="Int">i</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="#spire.math.poly.PolySparse.addSparse.sum.j" title="Int">j</a>, <a href="#spire.math.poly.PolySparse.addSparse.sum.k" title="Int">k</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> else <span class="delimiter">{</span>
          <a href="#spire.math.poly.PolySparse.addSparse.es" title="(i: Int, x: Int)Unit">es</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.addSparse.sum.k" title="Int">k</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.addSparse.sum.ej" title="Int">ej</a>
          <a href="#spire.math.poly.PolySparse.addSparse.cs" title="(i: Int, x: C)Unit">cs</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.addSparse.sum.k" title="Int">k</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.addSparse.rcoeff" title="(i: Int)C">rcoeff</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.addSparse.sum.j" title="Int">j</a><span class="delimiter">)</span>
          <a href="#spire.math.poly.PolySparse.addSparse.sum" title="(i: Int, j: Int, k: Int)spire.math.poly.PolySparse[C]">sum</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.addSparse.sum.i" title="Int">i</a>, <a href="#spire.math.poly.PolySparse.addSparse.sum.j" title="Int">j</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="#spire.math.poly.PolySparse.addSparse.sum.k" title="Int">k</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> else <span class="delimiter">{</span>
        var <a title="Int" id="spire.math.poly.PolySparse.addSparse.sum.k0">k0</a> = <a href="#spire.math.poly.PolySparse.addSparse.sum.k" title="Int">k</a>
        cfor<span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.addSparse.sum.i" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">(</span>_ <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.math.poly.PolySparse.addSparse.lexp" title="Array[Int]">lexp</a>.<span title="=&gt; Int">length</span>, _ <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a title="Int" id="spire.math.poly.PolySparse.addSparse.sum.index$macro$395" class="delimiter">{</a> i0 =&gt;
          <a href="#spire.math.poly.PolySparse.addSparse.es" title="(i: Int, x: Int)Unit">es</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.addSparse.sum.k0" title="Int">k0</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.addSparse.lexp" title="(i: Int)Int">lexp</a><span class="delimiter">(</span>i0<span class="delimiter">)</span>
          <a href="#spire.math.poly.PolySparse.addSparse.cs" title="(i: Int, x: C)Unit">cs</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.addSparse.sum.k0" title="Int">k0</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.addSparse.lcoeff" title="(i: Int)C">lcoeff</a><span class="delimiter">(</span>i0<span class="delimiter">)</span>
          <a href="#spire.math.poly.PolySparse.addSparse.sum.k0" title="Int">k0</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
        cfor<span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.addSparse.sum.j" title="Int">j</a><span class="delimiter">)</span><span class="delimiter">(</span>_ <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.math.poly.PolySparse.addSparse.rexp" title="Array[Int]">rexp</a>.<span title="=&gt; Int">length</span>, _ <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a title="Int" id="spire.math.poly.PolySparse.addSparse.sum.index$macro$396" class="delimiter">{</a> j0 =&gt;
          <a href="#spire.math.poly.PolySparse.addSparse.es" title="(i: Int, x: Int)Unit">es</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.addSparse.sum.k0" title="Int">k0</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.addSparse.rexp" title="(i: Int)Int">rexp</a><span class="delimiter">(</span>j0<span class="delimiter">)</span>
          <a href="#spire.math.poly.PolySparse.addSparse.cs" title="(i: Int, x: C)Unit">cs</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.addSparse.sum.k0" title="Int">k0</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.addSparse.rcoeff" title="(i: Int)C">rcoeff</a><span class="delimiter">(</span>j0<span class="delimiter">)</span>
          <a href="#spire.math.poly.PolySparse.addSparse.sum.k0" title="Int">k0</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
        <a href="#spire.math.poly.PolySparse.readResolve" title="spire.math.poly.PolySparse.type">PolySparse</a>.<a href="#spire.math.poly.PolySparse.safe" title="(exp: Array[Int], coeff: Array[C])(implicit evidence$4: spire.algebra.Semiring[C], implicit evidence$5: spire.algebra.Eq[C], implicit evidence$6: scala.reflect.ClassTag[C])spire.math.poly.PolySparse[C]">safe</a><a href="#spire.math.poly.PolySparse.addSparse.evidence$23" title="spire.algebra.Semiring[C]" class="delimiter">(</a><a href="#spire.math.poly.PolySparse.addSparse.es" title="Array[Int]">es</a>, <a href="#spire.math.poly.PolySparse.addSparse.cs" title="Array[C]">cs</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <a href="#spire.math.poly.PolySparse.addSparse.sum" title="(i: Int, j: Int, k: Int)spire.math.poly.PolySparse[C]">sum</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <span title="Int(0)" class="int">0</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private final def <a title="[C](lhs: spire.math.poly.PolySparse[C], c: C, e: Int, rhs: spire.math.poly.PolySparse[C])(implicit evidence$25: spire.algebra.Eq[C], implicit evidence$26: spire.algebra.Rng[C], implicit evidence$27: scala.reflect.ClassTag[C])spire.math.poly.PolySparse[C]" id="spire.math.poly.PolySparse.subtractScaled">subtractScaled</a><span class="delimiter">[</span><a title="" id="spire.math.poly.PolySparse.subtractScaled;C">C</a>: Eq: Rng: ClassTag<span class="delimiter">]</span>
      <span class="delimiter">(</span><a title="spire.math.poly.PolySparse[C]" id="spire.math.poly.PolySparse.subtractScaled.lhs">lhs</a>: <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">[</span>C<span class="delimiter">]</span>, <a title="C" id="spire.math.poly.PolySparse.subtractScaled.c">c</a>: <a href="#spire.math.poly.PolySparse.subtractScaled;C" title="C">C</a>, <a title="Int" id="spire.math.poly.PolySparse.subtractScaled.e">e</a>: <span title="Int">Int</span>, <a title="spire.math.poly.PolySparse[C]" id="spire.math.poly.PolySparse.subtractScaled.rhs">rhs</a>: <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val PolySparse<a href="#spire.math.poly.PolySparse.subtractScaled.lexp" title="(Array[Int], Array[C])" class="delimiter">(</a><a href="#spire.math.poly.PolySparse.subtractScaled.x$39" title="Array[Int]" id="spire.math.poly.PolySparse.subtractScaled.lexp">lexp</a>, <a href="#spire.math.poly.PolySparse.subtractScaled.x$39" title="Array[C]" id="spire.math.poly.PolySparse.subtractScaled.lcoeff">lcoeff</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.subtractScaled.lhs" title="spire.math.poly.PolySparse[C]">lhs</a>
    val PolySparse<a href="#spire.math.poly.PolySparse.subtractScaled.rexp" title="(Array[Int], Array[C])" class="delimiter">(</a><a href="#spire.math.poly.PolySparse.subtractScaled.x$40" title="Array[Int]" id="spire.math.poly.PolySparse.subtractScaled.rexp">rexp</a>, <a href="#spire.math.poly.PolySparse.subtractScaled.x$40" title="Array[C]" id="spire.math.poly.PolySparse.subtractScaled.rcoeff">rcoeff</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.subtractScaled.rhs" title="spire.math.poly.PolySparse[C]">rhs</a>

    val <a title="Int" id="spire.math.poly.PolySparse.subtractScaled.len">len</a> = <a href="#spire.math.poly.PolySparse.countSumTerms" title="(lhs: spire.math.poly.PolySparse[C], rhs: spire.math.poly.PolySparse[C], lOffset: Int, rOffset: Int)Int">countSumTerms</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.subtractScaled.lhs" title="spire.math.poly.PolySparse[C]">lhs</a>, <a href="#spire.math.poly.PolySparse.subtractScaled.rhs" title="spire.math.poly.PolySparse[C]">rhs</a>, <span title="Int(0)" class="int">0</span>, <a href="#spire.math.poly.PolySparse.subtractScaled.e" title="Int">e</a><span class="delimiter">)</span>
    val <a title="Array[Int]" id="spire.math.poly.PolySparse.subtractScaled.es">es</a> = new <span title="Array[Int]">Array</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.subtractScaled.len" title="Int">len</a><span class="delimiter">)</span>
    val <a title="Array[C]" id="spire.math.poly.PolySparse.subtractScaled.cs">cs</a> = new Array<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.subtractScaled.len" title="Int">len</a><span class="delimiter">)</span>

    @tailrec
    def <a title="(i: Int, j: Int, k: Int)spire.math.poly.PolySparse[C]" id="spire.math.poly.PolySparse.subtractScaled.loop">loop</a><span class="delimiter">(</span><a title="Int" id="spire.math.poly.PolySparse.subtractScaled.loop.i">i</a>: <span title="Int">Int</span>, <a title="Int" id="spire.math.poly.PolySparse.subtractScaled.loop.j">j</a>: <span title="Int">Int</span>, <a title="Int" id="spire.math.poly.PolySparse.subtractScaled.loop.k">k</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">[</span>C<span class="delimiter">]</span> = <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.subtractScaled.loop.i" title="Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.math.poly.PolySparse.subtractScaled.lexp" title="Array[Int]">lexp</a>.<span title="=&gt; Int">length</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#spire.math.poly.PolySparse.subtractScaled.loop.j" title="Int">j</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.math.poly.PolySparse.subtractScaled.rexp" title="Array[Int]">rexp</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        val <a title="Int" id="spire.math.poly.PolySparse.subtractScaled.loop.ei">ei</a> = <a href="#spire.math.poly.PolySparse.subtractScaled.lexp" title="(i: Int)Int">lexp</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.subtractScaled.loop.i" title="Int">i</a><span class="delimiter">)</span>
        val ej = <a href="#spire.math.poly.PolySparse.subtractScaled.rexp" title="(i: Int)Int">rexp</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.subtractScaled.loop.j" title="Int">j</a><span class="delimiter">)</span> <a title="Int" id="spire.math.poly.PolySparse.subtractScaled.loop.ej">+</a> <a href="#spire.math.poly.PolySparse.subtractScaled.e" title="Int">e</a>
        if <span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.subtractScaled.loop.ei" title="Int">ei</a> <span title="(x: Int)Boolean">==</span> <a href="#spire.math.poly.PolySparse.subtractScaled.loop.ej" title="Int">ej</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#spire.math.poly.PolySparse.subtractScaled.es" title="(i: Int, x: Int)Unit">es</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.subtractScaled.loop.k" title="Int">k</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.subtractScaled.loop.ei" title="Int">ei</a>
          <a href="#spire.math.poly.PolySparse.subtractScaled.cs" title="(i: Int, x: C)Unit">cs</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.subtractScaled.loop.k" title="Int">k</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.subtractScaled.lcoeff" title="(i: Int)C">lcoeff</a><a href="#spire.math.poly.PolySparse.subtractScaled.evidence$26" title="spire.algebra.Rng[C]" class="delimiter">(</a><a href="#spire.math.poly.PolySparse.subtractScaled.loop.i" title="Int">i</a><span class="delimiter">)</span> <a href="../../algebra/Additive.scala.html#spire.algebra;AdditiveGroup.minus" title="(x: C, y: C)C">-</a> <a href="#spire.math.poly.PolySparse.subtractScaled.evidence$26" title="spire.algebra.Rng[C]">c</a> <a href="../../algebra/Multiplicative.scala.html#spire.algebra;MultiplicativeSemigroup.times" title="(x: C, y: C)C">*</a> <a href="#spire.math.poly.PolySparse.subtractScaled.rcoeff" title="(i: Int)C">rcoeff</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.subtractScaled.loop.j" title="Int">j</a><span class="delimiter">)</span>
          <a href="#spire.math.poly.PolySparse.subtractScaled.loop" title="(i: Int, j: Int, k: Int)spire.math.poly.PolySparse[C]">loop</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.subtractScaled.loop.i" title="Int">i</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="#spire.math.poly.PolySparse.subtractScaled.loop.j" title="Int">j</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="#spire.math.poly.PolySparse.subtractScaled.loop.k" title="Int">k</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> else if <span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.subtractScaled.loop.ei" title="Int">ei</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.math.poly.PolySparse.subtractScaled.loop.ej" title="Int">ej</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#spire.math.poly.PolySparse.subtractScaled.es" title="(i: Int, x: Int)Unit">es</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.subtractScaled.loop.k" title="Int">k</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.subtractScaled.loop.ei" title="Int">ei</a>
          <a href="#spire.math.poly.PolySparse.subtractScaled.cs" title="(i: Int, x: C)Unit">cs</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.subtractScaled.loop.k" title="Int">k</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.subtractScaled.lcoeff" title="(i: Int)C">lcoeff</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.subtractScaled.loop.i" title="Int">i</a><span class="delimiter">)</span>
          <a href="#spire.math.poly.PolySparse.subtractScaled.loop" title="(i: Int, j: Int, k: Int)spire.math.poly.PolySparse[C]">loop</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.subtractScaled.loop.i" title="Int">i</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="#spire.math.poly.PolySparse.subtractScaled.loop.j" title="Int">j</a>, <a href="#spire.math.poly.PolySparse.subtractScaled.loop.k" title="Int">k</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> else <span class="delimiter">{</span>
          <a href="#spire.math.poly.PolySparse.subtractScaled.es" title="(i: Int, x: Int)Unit">es</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.subtractScaled.loop.k" title="Int">k</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.subtractScaled.loop.ej" title="Int">ej</a>
          <a href="#spire.math.poly.PolySparse.subtractScaled.cs" title="(i: Int, x: C)Unit">cs</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.subtractScaled.loop.k" title="Int">k</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.subtractScaled.evidence$26" title="spire.algebra.Rng[C]">-</a><a href="#spire.math.poly.PolySparse.subtractScaled.evidence$26" title="spire.algebra.Rng[C]">c</a> <a href="../../algebra/Multiplicative.scala.html#spire.algebra;MultiplicativeSemigroup.times" title="(x: C, y: C)C">*</a> <a href="#spire.math.poly.PolySparse.subtractScaled.rcoeff" title="(i: Int)C">rcoeff</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.subtractScaled.loop.j" title="Int">j</a><span class="delimiter">)</span>
          <a href="#spire.math.poly.PolySparse.subtractScaled.loop" title="(i: Int, j: Int, k: Int)spire.math.poly.PolySparse[C]">loop</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.subtractScaled.loop.i" title="Int">i</a>, <a href="#spire.math.poly.PolySparse.subtractScaled.loop.j" title="Int">j</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="#spire.math.poly.PolySparse.subtractScaled.loop.k" title="Int">k</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> else <span class="delimiter">{</span>
        var <a title="Int" id="spire.math.poly.PolySparse.subtractScaled.loop.k0">k0</a> = <a href="#spire.math.poly.PolySparse.subtractScaled.loop.k" title="Int">k</a>
        cfor<span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.subtractScaled.loop.i" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">(</span>_ <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.math.poly.PolySparse.subtractScaled.lexp" title="Array[Int]">lexp</a>.<span title="=&gt; Int">length</span>, _ <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a title="Int" id="spire.math.poly.PolySparse.subtractScaled.loop.index$macro$397" class="delimiter">{</a> i0 =&gt;
          <a href="#spire.math.poly.PolySparse.subtractScaled.es" title="(i: Int, x: Int)Unit">es</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.subtractScaled.loop.k0" title="Int">k0</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.subtractScaled.lexp" title="(i: Int)Int">lexp</a><span class="delimiter">(</span>i0<span class="delimiter">)</span>
          <a href="#spire.math.poly.PolySparse.subtractScaled.cs" title="(i: Int, x: C)Unit">cs</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.subtractScaled.loop.k0" title="Int">k0</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.subtractScaled.lcoeff" title="(i: Int)C">lcoeff</a><span class="delimiter">(</span>i0<span class="delimiter">)</span>
          <a href="#spire.math.poly.PolySparse.subtractScaled.loop.k0" title="Int">k0</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
        cfor<span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.subtractScaled.loop.j" title="Int">j</a><span class="delimiter">)</span><span class="delimiter">(</span>_ <span title="(x: Int)Boolean">&lt;</span> <a href="#spire.math.poly.PolySparse.subtractScaled.rexp" title="Array[Int]">rexp</a>.<span title="=&gt; Int">length</span>, _ <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a title="Int" id="spire.math.poly.PolySparse.subtractScaled.loop.index$macro$398" class="delimiter">{</a> j0 =&gt;
          <a href="#spire.math.poly.PolySparse.subtractScaled.es" title="(i: Int, x: Int)Unit">es</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.subtractScaled.loop.k0" title="Int">k0</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.subtractScaled.rexp" title="(i: Int)Int">rexp</a><span class="delimiter">(</span>j0<span class="delimiter">)</span> <span title="(x: Int)Int">+</span> <a href="#spire.math.poly.PolySparse.subtractScaled.e" title="Int">e</a>
          <a href="#spire.math.poly.PolySparse.subtractScaled.cs" title="(i: Int, x: C)Unit">cs</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.subtractScaled.loop.k0" title="Int">k0</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.subtractScaled.evidence$26" title="spire.algebra.Rng[C]">-</a><a href="#spire.math.poly.PolySparse.subtractScaled.evidence$26" title="spire.algebra.Rng[C]">c</a> <a href="../../algebra/Multiplicative.scala.html#spire.algebra;MultiplicativeSemigroup.times" title="(x: C, y: C)C">*</a> <a href="#spire.math.poly.PolySparse.subtractScaled.rcoeff" title="(i: Int)C">rcoeff</a><span class="delimiter">(</span>j0<span class="delimiter">)</span>
          <a href="#spire.math.poly.PolySparse.subtractScaled.loop.k0" title="Int">k0</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
        <a href="#spire.math.poly.PolySparse.readResolve" title="spire.math.poly.PolySparse.type">PolySparse</a>.<a href="#spire.math.poly.PolySparse.safe" title="(exp: Array[Int], coeff: Array[C])(implicit evidence$4: spire.algebra.Semiring[C], implicit evidence$5: spire.algebra.Eq[C], implicit evidence$6: scala.reflect.ClassTag[C])spire.math.poly.PolySparse[C]">safe</a><a href="#spire.math.poly.PolySparse.subtractScaled.evidence$26" title="spire.algebra.Rng[C]" class="delimiter">(</a><a href="#spire.math.poly.PolySparse.subtractScaled.es" title="Array[Int]">es</a>, <a href="#spire.math.poly.PolySparse.subtractScaled.cs" title="Array[C]">cs</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <a href="#spire.math.poly.PolySparse.subtractScaled.loop" title="(i: Int, j: Int, k: Int)spire.math.poly.PolySparse[C]">loop</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <span title="Int(0)" class="int">0</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private final def <a title="[C](lhs: spire.math.poly.PolySparse[C], rhs: spire.math.poly.PolySparse[C])(implicit evidence$28: spire.algebra.Field[C], implicit evidence$29: spire.algebra.Eq[C], implicit evidence$30: scala.reflect.ClassTag[C])(spire.math.poly.PolySparse[C], spire.math.poly.PolySparse[C])" id="spire.math.poly.PolySparse.quotmodSparse">quotmodSparse</a><span class="delimiter">[</span>@spec<span class="delimiter">(</span>Double<span class="delimiter">)</span> <a title="" id="spire.math.poly.PolySparse.quotmodSparse;C">C</a>: Field: Eq: ClassTag<span class="delimiter">]</span>
      <span class="delimiter">(</span><a title="spire.math.poly.PolySparse[C]" id="spire.math.poly.PolySparse.quotmodSparse.lhs">lhs</a>: <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">[</span>C<span class="delimiter">]</span>, <a title="spire.math.poly.PolySparse[C]" id="spire.math.poly.PolySparse.quotmodSparse.rhs">rhs</a>: <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="(spire.math.poly.PolySparse[C], spire.math.poly.PolySparse[C])" class="delimiter">(</span>PolySparse<span class="delimiter">[</span>C<span class="delimiter">]</span>, PolySparse<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="Int" id="spire.math.poly.PolySparse.quotmodSparse.rdegree">rdegree</a> = <a href="#spire.math.poly.PolySparse.quotmodSparse.rhs" title="spire.math.poly.PolySparse[C]">rhs</a>.<a href="#spire.math.poly;PolySparse.degree" title="=&gt; Int">degree</a>
    val <a title="C" id="spire.math.poly.PolySparse.quotmodSparse.rmaxCoeff">rmaxCoeff</a> = <a href="#spire.math.poly.PolySparse.quotmodSparse.rhs" title="spire.math.poly.PolySparse[C]">rhs</a>.<a href="#spire.math.poly;PolySparse.maxOrderTermCoeff" title="(implicit ring: spire.algebra.Semiring[C])C">maxOrderTermCoeff</a>

    @tailrec
    def <a title="(ts: List[spire.math.poly.Term[C]], i: Int, es: Array[Int], cs: Array[C])spire.math.poly.PolySparse[C]" id="spire.math.poly.PolySparse.quotmodSparse.inflate">inflate</a><span class="delimiter">(</span><a title="List[spire.math.poly.Term[C]]" id="spire.math.poly.PolySparse.quotmodSparse.inflate.ts">ts</a>: <span title="List[spire.math.poly.Term[C]]">List</span><span class="delimiter">[</span>Term<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="spire.math.poly.PolySparse.quotmodSparse.inflate.i">i</a>: <span title="Int">Int</span>, <a title="Array[Int]" id="spire.math.poly.PolySparse.quotmodSparse.inflate.es">es</a>: <span title="Array[Int]">Array</span><span class="delimiter">[</span>Int<span class="delimiter">]</span>, <a title="Array[C]" id="spire.math.poly.PolySparse.quotmodSparse.inflate.cs">cs</a>: <span title="Array[C]">Array</span><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">[</span>C<span class="delimiter">]</span> =
      <a href="#spire.math.poly.PolySparse.quotmodSparse.inflate.ts" title="List[spire.math.poly.Term[C]]">ts</a> match <span class="delimiter">{</span>
        case Term<span class="delimiter">(</span><a title="C" id="spire.math.poly.PolySparse.quotmodSparse.inflate.c">c</a>, <a title="Int" id="spire.math.poly.PolySparse.quotmodSparse.inflate.e">e</a><span class="delimiter">)</span> :: <a title="List[spire.math.poly.Term[C]]" id="spire.math.poly.PolySparse.quotmodSparse.inflate.ts0">ts0</a> =&gt; <a href="#spire.math.poly.PolySparse.quotmodSparse.inflate.es" title="(i: Int, x: Int)Unit">es</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.quotmodSparse.inflate.i" title="Int">i</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.quotmodSparse.inflate.e" title="Int">e</a>; <a href="#spire.math.poly.PolySparse.quotmodSparse.inflate.cs" title="(i: Int, x: C)Unit">cs</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.quotmodSparse.inflate.i" title="Int">i</a><span class="delimiter">)</span> = <a href="#spire.math.poly.PolySparse.quotmodSparse.inflate.c" title="C">c</a>; <a href="#spire.math.poly.PolySparse.quotmodSparse.inflate" title="(ts: List[spire.math.poly.Term[C]], i: Int, es: Array[Int], cs: Array[C])spire.math.poly.PolySparse[C]">inflate</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.quotmodSparse.inflate.ts0" title="List[spire.math.poly.Term[C]]">ts0</a>, <a href="#spire.math.poly.PolySparse.quotmodSparse.inflate.i" title="Int">i</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="#spire.math.poly.PolySparse.quotmodSparse.inflate.es" title="Array[Int]">es</a>, <a href="#spire.math.poly.PolySparse.quotmodSparse.inflate.cs" title="Array[C]">cs</a><span class="delimiter">)</span>
        case <span title="scala.collection.immutable.Nil.type">Nil</span> =&gt; new <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.quotmodSparse.inflate.es" title="Array[Int]">es</a>, <a href="#spire.math.poly.PolySparse.quotmodSparse.inflate.cs" title="Array[C]">cs</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    @tailrec
    def <a title="(quot: List[spire.math.poly.Term[C]], rem: spire.math.poly.PolySparse[C])(spire.math.poly.PolySparse[C], spire.math.poly.PolySparse[C])" id="spire.math.poly.PolySparse.quotmodSparse.loop">loop</a><span class="delimiter">(</span><a title="List[spire.math.poly.Term[C]]" id="spire.math.poly.PolySparse.quotmodSparse.loop.quot">quot</a>: <span title="List[spire.math.poly.Term[C]]">List</span><span class="delimiter">[</span>Term<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="spire.math.poly.PolySparse[C]" id="spire.math.poly.PolySparse.quotmodSparse.loop.rem">rem</a>: <a href="#spire.math.poly;PolySparse" title="spire.math.poly.PolySparse[C]">PolySparse</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="(spire.math.poly.PolySparse[C], spire.math.poly.PolySparse[C])" class="delimiter">(</span>PolySparse<span class="delimiter">[</span>C<span class="delimiter">]</span>, PolySparse<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span> =
      if <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#spire.math.poly.PolySparse.quotmodSparse.loop.rem" title="spire.math.poly.PolySparse[C]">rem</a>.<a href="#spire.math.poly;PolySparse.isZero" title="=&gt; Boolean">isZero</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#spire.math.poly.PolySparse.quotmodSparse.loop.rem" title="spire.math.poly.PolySparse[C]">rem</a>.<a href="#spire.math.poly;PolySparse.degree" title="=&gt; Int">degree</a> <span title="(x: Int)Boolean">&gt;=</span> <a href="#spire.math.poly.PolySparse.quotmodSparse.rdegree" title="Int">rdegree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        val c0 = <a href="#spire.math.poly.PolySparse.quotmodSparse.loop.rem" title="spire.math.poly.PolySparse[C]">rem</a>.<a href="#spire.math.poly.PolySparse.quotmodSparse.evidence$28" title="spire.algebra.Field[C]">maxOrderTermCoeff</a> <a href="../../algebra/Multiplicative.scala.html#spire.algebra;MultiplicativeGroup.div" title="C" id="spire.math.poly.PolySparse.quotmodSparse.loop.c0">/</a> <a href="#spire.math.poly.PolySparse.quotmodSparse.rmaxCoeff" title="C">rmaxCoeff</a>
        val e0 = <a href="#spire.math.poly.PolySparse.quotmodSparse.loop.rem" title="spire.math.poly.PolySparse[C]">rem</a>.<a href="#spire.math.poly;PolySparse.degree" title="=&gt; Int">degree</a> <a title="Int" id="spire.math.poly.PolySparse.quotmodSparse.loop.e0">-</a> <a href="#spire.math.poly.PolySparse.quotmodSparse.rdegree" title="Int">rdegree</a>
        <a href="#spire.math.poly.PolySparse.quotmodSparse.loop" title="(quot: List[spire.math.poly.Term[C]], rem: spire.math.poly.PolySparse[C])(spire.math.poly.PolySparse[C], spire.math.poly.PolySparse[C])">loop</a><span class="delimiter">(</span><a href="Term.scala.html#spire.math.poly;Term" title="(coeff: C, exp: Int)spire.math.poly.Term[C]">Term</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.quotmodSparse.loop.c0" title="C">c0</a>, <a href="#spire.math.poly.PolySparse.quotmodSparse.loop.e0" title="Int">e0</a><span class="delimiter">)</span> <a href="#spire.math.poly.PolySparse.quotmodSparse.loop.x$45" title="(x: spire.math.poly.Term[C])List[spire.math.poly.Term[C]]">::</a> <a href="#spire.math.poly.PolySparse.quotmodSparse.loop.quot" title="List[spire.math.poly.Term[C]]">quot</a>, <a href="#spire.math.poly.PolySparse.subtractScaled" title="(lhs: spire.math.poly.PolySparse[C], c: C, e: Int, rhs: spire.math.poly.PolySparse[C])(implicit evidence$25: spire.algebra.Eq[C], implicit evidence$26: spire.algebra.Rng[C], implicit evidence$27: scala.reflect.ClassTag[C])spire.math.poly.PolySparse[C]">subtractScaled</a><a href="#spire.math.poly.PolySparse.quotmodSparse.evidence$29" title="spire.algebra.Eq[C]" class="delimiter">(</a><a href="#spire.math.poly.PolySparse.quotmodSparse.loop.rem" title="spire.math.poly.PolySparse[C]">rem</a>, <a href="#spire.math.poly.PolySparse.quotmodSparse.loop.c0" title="C">c0</a>, <a href="#spire.math.poly.PolySparse.quotmodSparse.loop.e0" title="Int">e0</a>, <a href="#spire.math.poly.PolySparse.quotmodSparse.rhs" title="spire.math.poly.PolySparse[C]">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> else <span class="delimiter">{</span>
        val <a title="Int" id="spire.math.poly.PolySparse.quotmodSparse.loop.len">len</a> = <a href="#spire.math.poly.PolySparse.quotmodSparse.loop.quot" title="List[spire.math.poly.Term[C]]">quot</a>.<span title="=&gt; Int">size</span>
        <span title="(_1: spire.math.poly.PolySparse[C], _2: spire.math.poly.PolySparse[C])(spire.math.poly.PolySparse[C], spire.math.poly.PolySparse[C])" class="delimiter">(</span><a href="#spire.math.poly.PolySparse.quotmodSparse.inflate" title="(ts: List[spire.math.poly.Term[C]], i: Int, es: Array[Int], cs: Array[C])spire.math.poly.PolySparse[C]">inflate</a><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.quotmodSparse.loop.quot" title="List[spire.math.poly.Term[C]]">quot</a>, <span title="Int(0)" class="int">0</span>, new <span title="Array[Int]">Array</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.quotmodSparse.loop.len" title="Int">len</a><span class="delimiter">)</span>, new Array<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">(</span><a href="#spire.math.poly.PolySparse.quotmodSparse.loop.len" title="Int">len</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#spire.math.poly.PolySparse.quotmodSparse.loop.rem" title="spire.math.poly.PolySparse[C]">rem</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <a href="#spire.math.poly.PolySparse.quotmodSparse.loop" title="(quot: List[spire.math.poly.Term[C]], rem: spire.math.poly.PolySparse[C])(spire.math.poly.PolySparse[C], spire.math.poly.PolySparse[C])">loop</a><span class="delimiter">(</span><span title="scala.collection.immutable.Nil.type">Nil</span>, <a href="#spire.math.poly.PolySparse.quotmodSparse.lhs" title="spire.math.poly.PolySparse[C]">lhs</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
