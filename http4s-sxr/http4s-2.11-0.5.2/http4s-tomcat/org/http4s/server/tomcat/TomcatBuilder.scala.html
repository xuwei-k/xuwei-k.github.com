<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>http4s-tomcat/org/http4s/server/tomcat/TomcatBuilder.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
package org.http4s
package server
package tomcat

import java.net.InetSocketAddress
import javax.servlet.http.HttpServlet

import org.http4s.servlet.<span class="delimiter">{</span>ServletContainer, Http4sServlet<span class="delimiter">}</span>

import scala.concurrent.duration._
import scalaz.concurrent.<span class="delimiter">{</span>Strategy, Task<span class="delimiter">}</span>
import org.apache.catalina.startup.Tomcat
import org.apache.catalina.<span class="delimiter">{</span>Lifecycle, LifecycleEvent, LifecycleListener<span class="delimiter">}</span>
import java.util.concurrent.ExecutorService

sealed class <a title="class TomcatBuilder extends AnyRef with org.http4s.server.ServerBuilder with org.http4s.servlet.ServletContainer with org.http4s.server.IdleTimeoutSupport" id="org.http4s.server.tomcat;TomcatBuilder">TomcatBuilder</a> private <span class="delimiter">(</span>
  <a title="java.net.InetSocketAddress" id="org.http4s.server.tomcat;TomcatBuilder.socketAddress">socketAddress</a>: <span title="java.net.InetSocketAddress">InetSocketAddress</span>,
  private val <a title="java.util.concurrent.ExecutorService" id="org.http4s.server.tomcat;TomcatBuilder.serviceExecutor">serviceExecutor</a>: <span title="java.util.concurrent.ExecutorService">ExecutorService</span>,
  private val <a title="scala.concurrent.duration.Duration" id="org.http4s.server.tomcat;TomcatBuilder.idleTimeout">idleTimeout</a>: <span title="scala.concurrent.duration.Duration">Duration</span>,
  private val <a title="scala.concurrent.duration.Duration" id="org.http4s.server.tomcat;TomcatBuilder.asyncTimeout">asyncTimeout</a>: <span title="scala.concurrent.duration.Duration">Duration</span>,
  <a title="Vector[org.http4s.server.tomcat.Mount]" id="org.http4s.server.tomcat;TomcatBuilder.mounts">mounts</a>: <span title="Vector[org.http4s.server.tomcat.Mount]">Vector</span><span class="delimiter">[</span>Mount<span class="delimiter">]</span>
<span class="delimiter">)</span>
  extends <a href="../../../../../http4s-server/org/http4s/server/ServerBuilder.scala.html#org.http4s.server;ServerBuilder" title="org.http4s.server.ServerBuilder">ServerBuilder</a>
  with <a href="../../../../../http4s-servlet/org/http4s/servlet/ServletContainer.scala.html#org.http4s.servlet;ServletContainer" title="org.http4s.servlet.ServletContainer">ServletContainer</a>
  with <a href="../../../../../http4s-server/org/http4s/server/ServerBuilder.scala.html#org.http4s.server;IdleTimeoutSupport" title="org.http4s.server.IdleTimeoutSupport">IdleTimeoutSupport</a>
<span class="delimiter">{</span>
  type <a title="org.http4s.server.tomcat.TomcatBuilder" id="org.http4s.server.tomcat;TomcatBuilder;Self">Self</a> = <a href="#org.http4s.server.tomcat;TomcatBuilder" title="org.http4s.server.tomcat.TomcatBuilder">TomcatBuilder</a>

  private def <a title="(socketAddress: java.net.InetSocketAddress, serviceExecutor: java.util.concurrent.ExecutorService, idleTimeout: scala.concurrent.duration.Duration, asyncTimeout: scala.concurrent.duration.Duration, mounts: Vector[org.http4s.server.tomcat.Mount])org.http4s.server.tomcat.TomcatBuilder" id="org.http4s.server.tomcat;TomcatBuilder.copy">copy</a><span class="delimiter">(</span>
           <a title="java.net.InetSocketAddress" id="org.http4s.server.tomcat;TomcatBuilder.copy$default$1">socketAddress</a>: <span title="java.net.InetSocketAddress">InetSocketAddress</span> = <a href="#org.http4s.server.tomcat;TomcatBuilder.copy$default$1" title="java.net.InetSocketAddress">socketAddress</a>,
           <a title="java.util.concurrent.ExecutorService" id="org.http4s.server.tomcat;TomcatBuilder.copy$default$2">serviceExecutor</a>: <span title="java.util.concurrent.ExecutorService">ExecutorService</span> = <a href="#org.http4s.server.tomcat;TomcatBuilder.copy$default$2" title="java.util.concurrent.ExecutorService">serviceExecutor</a>,
           <a title="scala.concurrent.duration.Duration" id="org.http4s.server.tomcat;TomcatBuilder.copy$default$3">idleTimeout</a>: <span title="scala.concurrent.duration.Duration">Duration</span> = <a href="#org.http4s.server.tomcat;TomcatBuilder.copy$default$3" title="scala.concurrent.duration.Duration">idleTimeout</a>,
           <a title="scala.concurrent.duration.Duration" id="org.http4s.server.tomcat;TomcatBuilder.copy$default$4">asyncTimeout</a>: <span title="scala.concurrent.duration.Duration">Duration</span> = <a href="#org.http4s.server.tomcat;TomcatBuilder.copy$default$4" title="scala.concurrent.duration.Duration">asyncTimeout</a>,
           <a title="Vector[org.http4s.server.tomcat.Mount]" id="org.http4s.server.tomcat;TomcatBuilder.copy$default$5">mounts</a>: <span title="Vector[org.http4s.server.tomcat.Mount]">Vector</span><span class="delimiter">[</span>Mount<span class="delimiter">]</span> = <a href="#org.http4s.server.tomcat;TomcatBuilder.copy$default$5" title="Vector[org.http4s.server.tomcat.Mount]">mounts</a><span class="delimiter">)</span>: <a href="#org.http4s.server.tomcat;TomcatBuilder" title="org.http4s.server.tomcat.TomcatBuilder">TomcatBuilder</a> =
    new <a href="#org.http4s.server.tomcat;TomcatBuilder" title="org.http4s.server.tomcat.TomcatBuilder">TomcatBuilder</a><span class="delimiter">(</span><a href="#org.http4s.server.tomcat;TomcatBuilder.copy$default$1" title="java.net.InetSocketAddress">socketAddress</a>, <a href="#org.http4s.server.tomcat;TomcatBuilder.copy$default$2" title="java.util.concurrent.ExecutorService">serviceExecutor</a>, <a href="#org.http4s.server.tomcat;TomcatBuilder.copy$default$3" title="scala.concurrent.duration.Duration">idleTimeout</a>, <a href="#org.http4s.server.tomcat;TomcatBuilder.copy$default$4" title="scala.concurrent.duration.Duration">asyncTimeout</a>, <a href="#org.http4s.server.tomcat;TomcatBuilder.copy$default$5" title="Vector[org.http4s.server.tomcat.Mount]">mounts</a><span class="delimiter">)</span>

  override def <a title="(socketAddress: java.net.InetSocketAddress)org.http4s.server.tomcat.TomcatBuilder" id="org.http4s.server.tomcat;TomcatBuilder.bindSocketAddress">bindSocketAddress</a><span class="delimiter">(</span><a title="java.net.InetSocketAddress" id="org.http4s.server.tomcat;TomcatBuilder.bindSocketAddress.socketAddress">socketAddress</a>: <span title="java.net.InetSocketAddress">InetSocketAddress</span><span class="delimiter">)</span>: <a href="#org.http4s.server.tomcat;TomcatBuilder" title="org.http4s.server.tomcat.TomcatBuilder">TomcatBuilder</a> =
    <a href="#org.http4s.server.tomcat;TomcatBuilder.copy" title="(socketAddress: java.net.InetSocketAddress, serviceExecutor: java.util.concurrent.ExecutorService, idleTimeout: scala.concurrent.duration.Duration, asyncTimeout: scala.concurrent.duration.Duration, mounts: Vector[org.http4s.server.tomcat.Mount])org.http4s.server.tomcat.TomcatBuilder">copy</a><span class="delimiter">(</span>socketAddress = <a href="#org.http4s.server.tomcat;TomcatBuilder.bindSocketAddress.socketAddress" title="java.net.InetSocketAddress">socketAddress</a><span class="delimiter">)</span>

  override def <a title="(serviceExecutor: java.util.concurrent.ExecutorService)org.http4s.server.tomcat.TomcatBuilder" id="org.http4s.server.tomcat;TomcatBuilder.withServiceExecutor">withServiceExecutor</a><span class="delimiter">(</span><a title="java.util.concurrent.ExecutorService" id="org.http4s.server.tomcat;TomcatBuilder.withServiceExecutor.serviceExecutor">serviceExecutor</a>: <span title="java.util.concurrent.ExecutorService">ExecutorService</span><span class="delimiter">)</span>: <a href="#org.http4s.server.tomcat;TomcatBuilder" title="org.http4s.server.tomcat.TomcatBuilder">TomcatBuilder</a> =
    <a href="#org.http4s.server.tomcat;TomcatBuilder.copy$default$1" title="java.net.InetSocketAddress" id="org.http4s.server.tomcat;TomcatBuilder.withServiceExecutor.x$7">copy</a><span class="delimiter">(</span>serviceExecutor = <a href="#org.http4s.server.tomcat;TomcatBuilder.withServiceExecutor.serviceExecutor" title="java.util.concurrent.ExecutorService" id="org.http4s.server.tomcat;TomcatBuilder.withServiceExecutor.x$3">serviceExecutor</a><span class="delimiter">)</span>

  override def <a title="(servlet: javax.servlet.http.HttpServlet, urlMapping: String, name: Option[String])org.http4s.server.tomcat.TomcatBuilder" id="org.http4s.server.tomcat;TomcatBuilder.mountServlet">mountServlet</a><span class="delimiter">(</span><a title="javax.servlet.http.HttpServlet" id="org.http4s.server.tomcat;TomcatBuilder.mountServlet.servlet">servlet</a>: <span title="javax.servlet.http.HttpServlet">HttpServlet</span>, <a title="String" id="org.http4s.server.tomcat;TomcatBuilder.mountServlet.urlMapping">urlMapping</a>: <span title="String">String</span>, <a title="Option[String]" id="org.http4s.server.tomcat;TomcatBuilder.mountServlet$default$3">name</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="None.type">None</span><span class="delimiter">)</span>: <a href="#org.http4s.server.tomcat;TomcatBuilder" title="org.http4s.server.tomcat.TomcatBuilder">TomcatBuilder</a> =
    <a href="#org.http4s.server.tomcat;TomcatBuilder.copy$default$1" title="java.net.InetSocketAddress" id="org.http4s.server.tomcat;TomcatBuilder.mountServlet.x$12">copy</a><span class="delimiter">(</span>mounts = <a href="#org.http4s.server.tomcat;TomcatBuilder.mounts" title="Vector[org.http4s.server.tomcat.Mount]">mounts</a> <a title="Vector[org.http4s.server.tomcat.Mount] @scala.reflect.internal.annotations.uncheckedBounds" id="org.http4s.server.tomcat;TomcatBuilder.mountServlet.x$8">:+</a> <a href="#org.http4s.server.tomcat.Mount.readResolve" title="(f: (org.apache.catalina.startup.Tomcat, Int, org.http4s.server.tomcat.TomcatBuilder) =&gt; Unit)org.http4s.server.tomcat.Mount">Mount</a> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="org.apache.catalina.startup.Tomcat" id="org.http4s.server.tomcat;TomcatBuilder.mountServlet.x$8.$anonfun.tomcat">tomcat</a>, <a title="Int" id="org.http4s.server.tomcat;TomcatBuilder.mountServlet.x$8.$anonfun.index">index</a>, <a title="org.http4s.server.tomcat.TomcatBuilder" id="org.http4s.server.tomcat;TomcatBuilder.mountServlet.x$8.$anonfun.x$1">_</a><span class="delimiter">)</span> =&gt;
      val <a title="String" id="org.http4s.server.tomcat;TomcatBuilder.mountServlet.x$8.$anonfun.servletName">servletName</a> = <a href="#org.http4s.server.tomcat;TomcatBuilder.mountServlet$default$3" title="Option[String]">name</a>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;servlet-&quot;)">servlet-$</span><a href="#org.http4s.server.tomcat;TomcatBuilder.mountServlet.x$8.$anonfun.index" title="Int">index</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
      val <a title="org.apache.catalina.Wrapper" id="org.http4s.server.tomcat;TomcatBuilder.mountServlet.x$8.$anonfun.wrapper">wrapper</a> = <a href="#org.http4s.server.tomcat;TomcatBuilder.mountServlet.x$8.$anonfun.tomcat" title="org.apache.catalina.startup.Tomcat">tomcat</a>.<span title="(x$1: String, x$2: String, x$3: javax.servlet.Servlet)org.apache.catalina.Wrapper">addServlet</span><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <a href="#org.http4s.server.tomcat;TomcatBuilder.mountServlet.x$8.$anonfun.servletName" title="String">servletName</a>, <a href="#org.http4s.server.tomcat;TomcatBuilder.mountServlet.servlet" title="javax.servlet.http.HttpServlet">servlet</a><span class="delimiter">)</span>
      <a href="#org.http4s.server.tomcat;TomcatBuilder.mountServlet.x$8.$anonfun.wrapper" title="org.apache.catalina.Wrapper">wrapper</a>.<span title="(x$1: String)Unit">addMapping</span><span class="delimiter">(</span><a href="#org.http4s.server.tomcat;TomcatBuilder.mountServlet.urlMapping" title="String">urlMapping</a><span class="delimiter">)</span>
      <a href="#org.http4s.server.tomcat;TomcatBuilder.mountServlet.x$8.$anonfun.wrapper" title="org.apache.catalina.Wrapper">wrapper</a>.<span title="(x$1: Boolean)Unit">setAsyncSupported</span><span class="delimiter">(</span>true<span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>

  override def <a title="(service: org.http4s.server.HttpService, prefix: String)org.http4s.server.tomcat.TomcatBuilder" id="org.http4s.server.tomcat;TomcatBuilder.mountService">mountService</a><span class="delimiter">(</span><a title="org.http4s.server.HttpService" id="org.http4s.server.tomcat;TomcatBuilder.mountService.service">service</a>: <a href="../../../../../http4s-server/org/http4s/server/Service.scala.html#org.http4s.server;Service" title="org.http4s.server.HttpService">HttpService</a>, <a title="String" id="org.http4s.server.tomcat;TomcatBuilder.mountService.prefix">prefix</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#org.http4s.server.tomcat;TomcatBuilder" title="org.http4s.server.tomcat.TomcatBuilder">TomcatBuilder</a> =
    <a href="#org.http4s.server.tomcat;TomcatBuilder.copy$default$1" title="java.net.InetSocketAddress" id="org.http4s.server.tomcat;TomcatBuilder.mountService.x$21">copy</a><span class="delimiter">(</span>mounts = <a href="#org.http4s.server.tomcat;TomcatBuilder.mounts" title="Vector[org.http4s.server.tomcat.Mount]">mounts</a> <a title="Vector[org.http4s.server.tomcat.Mount] @scala.reflect.internal.annotations.uncheckedBounds" id="org.http4s.server.tomcat;TomcatBuilder.mountService.x$17">:+</a> <a href="#org.http4s.server.tomcat.Mount.readResolve" title="(f: (org.apache.catalina.startup.Tomcat, Int, org.http4s.server.tomcat.TomcatBuilder) =&gt; Unit)org.http4s.server.tomcat.Mount">Mount</a> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="org.apache.catalina.startup.Tomcat" id="org.http4s.server.tomcat;TomcatBuilder.mountService.x$17.$anonfun.tomcat">tomcat</a>, <a title="Int" id="org.http4s.server.tomcat;TomcatBuilder.mountService.x$17.$anonfun.index">index</a>, <a title="org.http4s.server.tomcat.TomcatBuilder" id="org.http4s.server.tomcat;TomcatBuilder.mountService.x$17.$anonfun.builder">builder</a><span class="delimiter">)</span> =&gt;
      val <a title="org.http4s.servlet.Http4sServlet" id="org.http4s.server.tomcat;TomcatBuilder.mountService.x$17.$anonfun.servlet">servlet</a> = new <a href="../../../../../http4s-servlet/org/http4s/servlet/Http4sServlet.scala.html#org.http4s.servlet.Http4sServlet" title="org.http4s.servlet.Http4sServlet.type">Http4sServlet</a><span class="delimiter">(</span>
        service = <a href="#org.http4s.server.tomcat;TomcatBuilder.mountService.service" title="org.http4s.server.HttpService" id="org.http4s.server.tomcat;TomcatBuilder.mountService.x$17.$anonfun.servlet.x$13">service</a>,
        asyncTimeout = <a href="#org.http4s.server.tomcat;TomcatBuilder.mountService.x$17.$anonfun.builder" title="org.http4s.server.tomcat.TomcatBuilder">builder</a>.<a href="#org.http4s.server.tomcat;TomcatBuilder.asyncTimeout" title="scala.concurrent.duration.Duration" id="org.http4s.server.tomcat;TomcatBuilder.mountService.x$17.$anonfun.servlet.x$14">asyncTimeout</a>,
        threadPool = <a href="#org.http4s.server.tomcat;TomcatBuilder.mountService.x$17.$anonfun.builder" title="org.http4s.server.tomcat.TomcatBuilder">builder</a>.<a href="#org.http4s.server.tomcat;TomcatBuilder.serviceExecutor" title="java.util.concurrent.ExecutorService" id="org.http4s.server.tomcat;TomcatBuilder.mountService.x$17.$anonfun.servlet.x$15">serviceExecutor</a>
      <span class="delimiter">)</span>
      val <a title="org.apache.catalina.Wrapper" id="org.http4s.server.tomcat;TomcatBuilder.mountService.x$17.$anonfun.wrapper">wrapper</a> = <a href="#org.http4s.server.tomcat;TomcatBuilder.mountService.x$17.$anonfun.tomcat" title="org.apache.catalina.startup.Tomcat">tomcat</a>.<span title="(x$1: String, x$2: String, x$3: javax.servlet.Servlet)org.apache.catalina.Wrapper">addServlet</span><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;servlet-&quot;)">servlet-$</span><a href="#org.http4s.server.tomcat;TomcatBuilder.mountService.x$17.$anonfun.index" title="Int">index</a><span title="String(&quot;&quot;)" class="string">&quot;</span>, <a href="#org.http4s.server.tomcat;TomcatBuilder.mountService.x$17.$anonfun.servlet" title="org.http4s.servlet.Http4sServlet">servlet</a><span class="delimiter">)</span>
      <a href="#org.http4s.server.tomcat;TomcatBuilder.mountService.x$17.$anonfun.wrapper" title="org.apache.catalina.Wrapper">wrapper</a>.<span title="(x$1: String)Unit">addMapping</span><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;&quot;)">$</span><a href="#org.http4s.server.tomcat;TomcatBuilder.mountService.prefix" title="String">prefix</a><span title="String(&quot;/*&quot;)" class="string">/*&quot;</span><span class="delimiter">)</span>
      <a href="#org.http4s.server.tomcat;TomcatBuilder.mountService.x$17.$anonfun.wrapper" title="org.apache.catalina.Wrapper">wrapper</a>.<span title="(x$1: Boolean)Unit">setAsyncSupported</span><span class="delimiter">(</span>true<span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/*
   * Tomcat maintains connections on a fixed interval determined by the global
   * attribute worker.maintain with a default interval of 60 seconds. In the worst case the connection
   * may not timeout for an additional 59.999 seconds from the specified Duration
   */</span>
  override def <a title="(idleTimeout: scala.concurrent.duration.Duration)org.http4s.server.tomcat.TomcatBuilder" id="org.http4s.server.tomcat;TomcatBuilder.withIdleTimeout">withIdleTimeout</a><span class="delimiter">(</span><a title="scala.concurrent.duration.Duration" id="org.http4s.server.tomcat;TomcatBuilder.withIdleTimeout.idleTimeout">idleTimeout</a>: <span title="scala.concurrent.duration.Duration">Duration</span><span class="delimiter">)</span>: <a href="#org.http4s.server.tomcat;TomcatBuilder" title="org.http4s.server.tomcat.TomcatBuilder">TomcatBuilder</a> =
    <a href="#org.http4s.server.tomcat;TomcatBuilder.copy$default$1" title="java.net.InetSocketAddress" id="org.http4s.server.tomcat;TomcatBuilder.withIdleTimeout.x$26">copy</a><span class="delimiter">(</span>idleTimeout = <a href="#org.http4s.server.tomcat;TomcatBuilder.withIdleTimeout.idleTimeout" title="scala.concurrent.duration.Duration" id="org.http4s.server.tomcat;TomcatBuilder.withIdleTimeout.x$22">idleTimeout</a><span class="delimiter">)</span>

  override def <a title="(asyncTimeout: scala.concurrent.duration.Duration)org.http4s.server.tomcat.TomcatBuilder" id="org.http4s.server.tomcat;TomcatBuilder.withAsyncTimeout">withAsyncTimeout</a><span class="delimiter">(</span><a title="scala.concurrent.duration.Duration" id="org.http4s.server.tomcat;TomcatBuilder.withAsyncTimeout.asyncTimeout">asyncTimeout</a>: <span title="scala.concurrent.duration.Duration">Duration</span><span class="delimiter">)</span>: <a href="#org.http4s.server.tomcat;TomcatBuilder" title="org.http4s.server.tomcat.TomcatBuilder">TomcatBuilder</a> =
    <a href="#org.http4s.server.tomcat;TomcatBuilder.copy$default$1" title="java.net.InetSocketAddress" id="org.http4s.server.tomcat;TomcatBuilder.withAsyncTimeout.x$31">copy</a><span class="delimiter">(</span>asyncTimeout = <a href="#org.http4s.server.tomcat;TomcatBuilder.withAsyncTimeout.asyncTimeout" title="scala.concurrent.duration.Duration" id="org.http4s.server.tomcat;TomcatBuilder.withAsyncTimeout.x$27">asyncTimeout</a><span class="delimiter">)</span>

  override def <a title="=&gt; scalaz.concurrent.Task[org.http4s.server.Server]" id="org.http4s.server.tomcat;TomcatBuilder.start">start</a>: <span title="scalaz.concurrent.Task[org.http4s.server.Server]">Task</span><span class="delimiter">[</span>Server<span class="delimiter">]</span> = <span title="scalaz.concurrent.Task.type">Task</span>.<span title="(a: =&gt; org.http4s.server.Server)scalaz.concurrent.Task[org.http4s.server.Server]">delay</span> <span class="delimiter">{</span>
    val <a title="org.apache.catalina.startup.Tomcat" id="org.http4s.server.tomcat;TomcatBuilder.start.tomcat">tomcat</a> = new <span title="org.apache.catalina.startup.Tomcat">Tomcat</span>

    <a href="#org.http4s.server.tomcat;TomcatBuilder.start.tomcat" title="org.apache.catalina.startup.Tomcat">tomcat</a>.<span title="(x$1: String, x$2: String)org.apache.catalina.Context">addContext</span><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <a href="#org.http4s.server.tomcat;TomcatBuilder" title="()Class[_]">getClass</a>.<span title="(x$1: String)java.net.URL">getResource</span><span class="delimiter">(</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span>.<span title="()String">getPath</span><span class="delimiter">)</span>
    <a href="#org.http4s.server.tomcat;TomcatBuilder.start.tomcat" title="org.apache.catalina.startup.Tomcat">tomcat</a>.<span title="()org.apache.catalina.connector.Connector">getConnector</span>.<span title="(x$1: String, x$2: Any)Unit">setAttribute</span><span class="delimiter">(</span><span title="String(&quot;address&quot;)" class="string">&quot;address&quot;</span>, <a href="#org.http4s.server.tomcat;TomcatBuilder.socketAddress" title="java.net.InetSocketAddress">socketAddress</a>.<span title="()String">getHostString</span><span class="delimiter">)</span>
    <a href="#org.http4s.server.tomcat;TomcatBuilder.start.tomcat" title="org.apache.catalina.startup.Tomcat">tomcat</a>.<span title="(x$1: Int)Unit">setPort</span><span class="delimiter">(</span><a href="#org.http4s.server.tomcat;TomcatBuilder.socketAddress" title="java.net.InetSocketAddress">socketAddress</a>.<span title="()Int">getPort</span><span class="delimiter">)</span>

    <a href="#org.http4s.server.tomcat;TomcatBuilder.start.tomcat" title="org.apache.catalina.startup.Tomcat">tomcat</a>.<span title="()org.apache.catalina.connector.Connector">getConnector</span>.<span title="(x$1: String, x$2: Any)Unit">setAttribute</span><span class="delimiter">(</span><span title="String(&quot;connection_pool_timeout&quot;)" class="string">&quot;connection_pool_timeout&quot;</span>,
      if <span class="delimiter">(</span><a href="#org.http4s.server.tomcat;TomcatBuilder.idleTimeout" title="=&gt; scala.concurrent.duration.Duration">idleTimeout</a>.<span title="()Boolean">isFinite</span><span class="delimiter">)</span> <a href="#org.http4s.server.tomcat;TomcatBuilder.idleTimeout" title="=&gt; scala.concurrent.duration.Duration">idleTimeout</a>.<span title="=&gt; Long">toSeconds</span>.<span title="=&gt; Int">toInt</span> else <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>

    for <span class="delimiter">(</span><span class="delimiter">(</span><a title="org.http4s.server.tomcat.Mount" id="org.http4s.server.tomcat;TomcatBuilder.start.$anonfun.mount">mount</a>, <a title="Int" id="org.http4s.server.tomcat;TomcatBuilder.start.$anonfun.i">i</a><span class="delimiter">)</span> &lt;- <a href="#org.http4s.server.tomcat;TomcatBuilder.mounts" title="Vector[org.http4s.server.tomcat.Mount]">mounts</a>.<a href="#org.http4s.server.tomcat;TomcatBuilder.start.$anonfun.check$ifrefutable$1" title="(f: ((org.http4s.server.tomcat.Mount, Int)) =&gt; Unit)Unit">zipWithIndex</a><span class="delimiter">)</span>
      <a href="#org.http4s.server.tomcat;TomcatBuilder.start.$anonfun.mount" title="org.http4s.server.tomcat.Mount">mount</a>.<a href="#org.http4s.server.tomcat;Mount.f" title="(v1: org.apache.catalina.startup.Tomcat, v2: Int, v3: org.http4s.server.tomcat.TomcatBuilder)Unit">f</a><span class="delimiter">(</span><a href="#org.http4s.server.tomcat;TomcatBuilder.start.tomcat" title="org.apache.catalina.startup.Tomcat">tomcat</a>, <a href="#org.http4s.server.tomcat;TomcatBuilder.start.$anonfun.i" title="Int">i</a>, this<span class="delimiter">)</span>

    <a href="#org.http4s.server.tomcat;TomcatBuilder.start.tomcat" title="org.apache.catalina.startup.Tomcat">tomcat</a>.<span title="()Unit">start</span><span class="delimiter">(</span><span class="delimiter">)</span>

    new <a title="&lt;$anon: org.http4s.server.Server&gt; extends AnyRef with org.http4s.server.Server" id="org.http4s.server.tomcat;TomcatBuilder.start;$anon">Server</a> <span class="delimiter">{</span>
      override def <a title="=&gt; scalaz.concurrent.Task[org.http4s.server.tomcat.TomcatBuilder.$anon.type]" id="org.http4s.server.tomcat;TomcatBuilder.start;$anon.shutdown">shutdown</a>: <span title="scalaz.concurrent.Task[org.http4s.server.tomcat.TomcatBuilder.$anon.type]">Task</span><span class="delimiter">[</span>this.type<span class="delimiter">]</span> = <span title="scalaz.concurrent.Task.type">Task</span>.<span title="(a: =&gt; org.http4s.server.tomcat.TomcatBuilder.$anon.type)scalaz.concurrent.Task[org.http4s.server.tomcat.TomcatBuilder.$anon.type]">delay</span> <span class="delimiter">{</span>
        <a href="#org.http4s.server.tomcat;TomcatBuilder.start.tomcat" title="org.apache.catalina.startup.Tomcat">tomcat</a>.<span title="()Unit">stop</span><span class="delimiter">(</span><span class="delimiter">)</span>
        this
      <span class="delimiter">}</span>

      override def <a title="(f: =&gt; Unit)org.http4s.server.tomcat.TomcatBuilder.$anon.type" id="org.http4s.server.tomcat;TomcatBuilder.start;$anon.onShutdown">onShutdown</a><span class="delimiter">(</span><a title="=&gt; Unit" id="org.http4s.server.tomcat;TomcatBuilder.start;$anon.onShutdown.f">f</a>: =&gt; Unit<span class="delimiter">)</span>: this.type = <span class="delimiter">{</span>
        <a href="#org.http4s.server.tomcat;TomcatBuilder.start.tomcat" title="org.apache.catalina.startup.Tomcat">tomcat</a>.<span title="()org.apache.catalina.Server">getServer</span>.<span title="(x$1: org.apache.catalina.LifecycleListener)Unit">addLifecycleListener</span><span class="delimiter">(</span>new <a title="&lt;$anon: org.apache.catalina.LifecycleListener&gt; extends Object with org.apache.catalina.LifecycleListener" id="org.http4s.server.tomcat;TomcatBuilder.start;$anon.onShutdown;$anon">LifecycleListener</a> <span class="delimiter">{</span>
          override def <a title="(event: org.apache.catalina.LifecycleEvent)Unit" id="org.http4s.server.tomcat;TomcatBuilder.start;$anon.onShutdown;$anon.lifecycleEvent">lifecycleEvent</a><span class="delimiter">(</span><a title="org.apache.catalina.LifecycleEvent" id="org.http4s.server.tomcat;TomcatBuilder.start;$anon.onShutdown;$anon.lifecycleEvent.event">event</a>: <span title="org.apache.catalina.LifecycleEvent">LifecycleEvent</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
            if <span class="delimiter">(</span>Lifecycle.<span title="String(&quot;after_stop&quot;)">AFTER_STOP_EVENT</span>.<span title="(x$1: Any)Boolean">equals</span><span class="delimiter">(</span><a href="#org.http4s.server.tomcat;TomcatBuilder.start;$anon.onShutdown;$anon.lifecycleEvent.event" title="org.apache.catalina.LifecycleEvent">event</a>.<span title="()org.apache.catalina.Lifecycle">getLifecycle</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#org.http4s.server.tomcat;TomcatBuilder.start;$anon.onShutdown.f" title="=&gt; Unit">f</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
        this
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

object <a title="org.http4s.server.tomcat.TomcatBuilder.type" id="org.http4s.server.tomcat.TomcatBuilder">TomcatBuilder</a> extends <a href="#org.http4s.server.tomcat;TomcatBuilder" title="org.http4s.server.tomcat.TomcatBuilder">TomcatBuilder</a><span class="delimiter">(</span>
  socketAddress = <a href="../../../../../http4s-server/org/http4s/server/ServerBuilder.scala.html#org.http4s.server.ServerBuilder" title="org.http4s.server.ServerBuilder.type">ServerBuilder</a>.<a href="../../../../../http4s-server/org/http4s/server/ServerBuilder.scala.html#org.http4s.server.ServerBuilder.DefaultSocketAddress" title="=&gt; java.net.InetSocketAddress">DefaultSocketAddress</a>,
  serviceExecutor = <span title="scalaz.concurrent.Strategy.type">Strategy</span>.<span title="=&gt; java.util.concurrent.ExecutorService">DefaultExecutorService</span>,
  idleTimeout = <a href="../../../../../http4s-server/org/http4s/server/ServerBuilder.scala.html#org.http4s.server.IdleTimeoutSupport" title="org.http4s.server.IdleTimeoutSupport.type">IdleTimeoutSupport</a>.<a href="../../../../../http4s-server/org/http4s/server/ServerBuilder.scala.html#org.http4s.server.IdleTimeoutSupport.DefaultIdleTimeout" title="=&gt; scala.concurrent.duration.FiniteDuration">DefaultIdleTimeout</a>,
  asyncTimeout = <a href="../../../../../http4s-server/org/http4s/server/ServerBuilder.scala.html#org.http4s.server.AsyncTimeoutSupport" title="org.http4s.server.AsyncTimeoutSupport.type">AsyncTimeoutSupport</a>.<a href="../../../../../http4s-server/org/http4s/server/ServerBuilder.scala.html#org.http4s.server.AsyncTimeoutSupport.DefaultAsyncTimeout" title="=&gt; scala.concurrent.duration.FiniteDuration">DefaultAsyncTimeout</a>,
  mounts = <span title="=&gt; collection.immutable.Vector.type">Vector</span>.<span title="scala.collection.immutable.Vector[Nothing]">empty</span>
<span class="delimiter">)</span>

private case class <a title="class Mount extends AnyRef with Product with Serializable" id="org.http4s.server.tomcat.Mount.readResolve">Mount</a><a href="#org.http4s.server.tomcat.Mount.readResolve" title="Product" class="delimiter">(</a><a title="(org.apache.catalina.startup.Tomcat, Int, org.http4s.server.tomcat.TomcatBuilder) =&gt; Unit" id="org.http4s.server.tomcat;Mount.f">f</a>: <span class="delimiter">(</span>Tomcat, Int, TomcatBuilder<span class="delimiter">)</span> =&gt; Unit<span class="delimiter">)</span>


        </pre>
    </body>
</html>
