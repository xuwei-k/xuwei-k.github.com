<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>http4s-core/org/http4s/HttpVersion.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
package org.http4s

import scala.<span title="language.type">language</span>.<span title="language.experimental.type">experimental</span>.macros
import scala.math.<span title="scala.math.Ordered.type">Ordered</span>.orderingToOrdered
import scalaz.<span class="delimiter">{</span>\/-, Order, Show, -\/<span class="delimiter">}</span>
import scalaz.<span title="scalaz.\/.type">\/</span>._

import org.http4s.parser.<span class="delimiter">{</span>ScalazDeliverySchemes, Rfc2616BasicRules<span class="delimiter">}</span>
import org.http4s.util.<span class="delimiter">{</span>Renderable, Writer<span class="delimiter">}</span>
import org.parboiled2._

<span class="comment">/**
 * An HTTP version, as seen on the start line of an HTTP request or response.
 *
 * @see [http://tools.ietf.org/html/rfc7230#section-2.6 RFC 7320, Section 2.6
 */</span>
case class <a title="class HttpVersion extends AnyRef with org.http4s.util.Renderable with Ordered[org.http4s.HttpVersion] with Product with Serializable" id="org.http4s;HttpVersion">HttpVersion</a> private<span class="delimiter">[</span>HttpVersion<span class="delimiter">]</span> <span class="delimiter">(</span><a title="Int" id="org.http4s;HttpVersion.major">major</a>: <span title="Int">Int</span>, <a title="Int" id="org.http4s;HttpVersion.minor">minor</a>: <span title="Int">Int</span><span class="delimiter">)</span> extends <a href="util/Renderable.scala.html#org.http4s.util;Renderable" title="org.http4s.util.Renderable">Renderable</a> with <span title="Ordered[org.http4s.HttpVersion]">Ordered</span><span class="delimiter">[</span>HttpVersion<span class="delimiter">]</span> <span class="delimiter">{</span>
  override def <a title="(writer: org.http4s.util.Writer)writer.type" id="org.http4s;HttpVersion.render">render</a><span class="delimiter">(</span><a title="org.http4s.util.Writer" id="org.http4s;HttpVersion.render.writer">writer</a>: <a href="util/Renderable.scala.html#org.http4s.util;Writer" title="org.http4s.util.Writer">Writer</a><span class="delimiter">)</span>: writer.type = <a href="#org.http4s;HttpVersion.render.writer" title="org.http4s.util.Writer">writer</a> <a href="util/Renderable.scala.html#org.http4s.util;Writer.<<(8d31e5b642)" title="(s: String)writer.type">&lt;&lt;</a> <span title="String(&quot;HTTP/&quot;)" class="string">&quot;HTTP/&quot;</span> <a href="util/Renderable.scala.html#org.http4s.util;Writer.<<(361630288b)" title="(int: Int)writer.type">&lt;&lt;</a> <a href="#org.http4s;HttpVersion.major" title="=&gt; Int">major</a> <a href="util/Renderable.scala.html#org.http4s.util;Writer.<<(d41d751f45)" title="(char: Char)writer.type">&lt;&lt;</a> <span title="Char('.')" class="char">'.'</span> <a href="util/Renderable.scala.html#org.http4s.util;Writer.<<(361630288b)" title="(int: Int)writer.type">&lt;&lt;</a> <a href="#org.http4s;HttpVersion.minor" title="=&gt; Int">minor</a>
  override def <a title="(that: org.http4s.HttpVersion)Int" id="org.http4s;HttpVersion.compare">compare</a><span class="delimiter">(</span><a title="org.http4s.HttpVersion" id="org.http4s;HttpVersion.compare.that">that</a>: <a href="#org.http4s;HttpVersion" title="org.http4s.HttpVersion">HttpVersion</a><span class="delimiter">)</span>: <span title="Int">Int</span> = <span title="(x: (Int, Int))(implicit ord: scala.math.Ordering[(Int, Int)])scala.math.Ordered[(Int, Int)]" class="delimiter">(</span>this.<a href="#org.http4s;HttpVersion.major" title="=&gt; Int">major</a>, this.<a href="#org.http4s;HttpVersion.minor" title="=&gt; Int">minor</a><span class="delimiter">)</span> <span title="(that: (Int, Int))Int">compare</span> <span class="delimiter">(</span><span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#org.http4s;HttpVersion.compare.that" title="org.http4s.HttpVersion">that</a>.<a href="#org.http4s;HttpVersion.major" title="=&gt; Int">major</a>, <a href="#org.http4s;HttpVersion.compare.that" title="org.http4s.HttpVersion">that</a>.<a href="#org.http4s;HttpVersion.minor" title="=&gt; Int">minor</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

object <a title="org.http4s.HttpVersion.type" id="org.http4s.HttpVersion.readResolve">HttpVersion</a> extends <a href="#org.http4s;HttpVersionInstances" title="org.http4s.HttpVersionInstances">HttpVersionInstances</a> <span class="delimiter">{</span>
  val <a title="org.http4s.HttpVersion" id="org.http4s.HttpVersion.HTTP/1.0">`HTTP/1.0`</a> = new <a href="#org.http4s;HttpVersion" title="org.http4s.HttpVersion">HttpVersion</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
  val <a title="org.http4s.HttpVersion" id="org.http4s.HttpVersion.HTTP/1.1">`HTTP/1.1`</a> = new <a href="#org.http4s;HttpVersion" title="org.http4s.HttpVersion">HttpVersion</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

  def <a title="(s: String)org.http4s.ParseResult[org.http4s.HttpVersion]" id="org.http4s.HttpVersion.fromString">fromString</a><span class="delimiter">(</span><a title="String" id="org.http4s.HttpVersion.fromString.s">s</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="org.http4s.ParseResult[org.http4s.HttpVersion]">ParseResult</span><span class="delimiter">[</span>HttpVersion<span class="delimiter">]</span> = <a href="#org.http4s.HttpVersion.fromString.s" title="String">s</a> match <span class="delimiter">{</span>
    case <span title="String(&quot;HTTP/1.1&quot;)" class="string">&quot;HTTP/1.1&quot;</span> =&gt; <span title="(v1: org.http4s.HttpVersion)scalaz.\/[Nothing,org.http4s.HttpVersion]">right</span><span class="delimiter">(</span><a href="#org.http4s.HttpVersion.HTTP/1.1" title="=&gt; org.http4s.HttpVersion">`HTTP/1.1`</a><span class="delimiter">)</span>
    case <span title="String(&quot;HTTP/1.0&quot;)" class="string">&quot;HTTP/1.0&quot;</span> =&gt; <span title="(v1: org.http4s.HttpVersion)scalaz.\/[Nothing,org.http4s.HttpVersion]">right</span><span class="delimiter">(</span><a href="#org.http4s.HttpVersion.HTTP/1.0" title="=&gt; org.http4s.HttpVersion">`HTTP/1.0`</a><span class="delimiter">)</span>
    case <a title="String" id="org.http4s.HttpVersion.fromString.other">other</a> =&gt; new <a href="#org.http4s.HttpVersion;Parser" title="org.http4s.HttpVersion.Parser">Parser</a><span class="delimiter">(</span><a href="#org.http4s.HttpVersion.fromString.s" title="implicit org.parboiled2.ParserInput.apply : (string: String)org.parboiled2.ParserInput.StringBasedParserInput">s</a><span class="delimiter">)</span>.<span title="shapeless.::[org.http4s.HttpVersion,shapeless.HNil]">HttpVersion</span>.run<span class="delimiter">(</span><span class="delimiter">)</span><a title="org.http4s.HttpVersion.Parser" id="org.http4s.HttpVersion.fromString.p" class="delimiter">(</a><a href="parser/ScalazDeliverySchemes.scala.html#org.http4s.parser.ScalazDeliverySchemes" title="org.http4s.parser.ScalazDeliverySchemes.type">ScalazDeliverySchemes</a>.<a href="parser/ScalazDeliverySchemes.scala.html#org.http4s.parser.ScalazDeliverySchemes.Disjunction" title="(implicit unpack: org.parboiled2.support.Unpack.Aux[shapeless.::[org.http4s.HttpVersion,shapeless.HNil],org.http4s.HttpVersion])org.parboiled2.Parser.DeliveryScheme[shapeless.::[org.http4s.HttpVersion,shapeless.HNil]]{type Result = scalaz.\/[org.http4s.ParseFailure,org.http4s.HttpVersion]; def success(result: shapeless.::[org.http4s.HttpVersion,shapeless.HNil]): scalaz.\/-[org.http4s.HttpVersion]; def parseError(error: org.parboiled2.ParseError): scalaz.-\/[org.http4s.ParseFailure]; def failure(error: Throwable): Nothing}">Disjunction</a><span class="delimiter">)</span>.<span title="(f: org.http4s.ParseFailure =&gt; org.http4s.ParseFailure)scalaz.\/[org.http4s.ParseFailure,org.http4s.HttpVersion]">leftMap</span> <span class="delimiter">{</span> <a title="org.http4s.ParseFailure" id="org.http4s.HttpVersion.fromString.$anonfun.x$1">_</a> =&gt;
      <a href="ParseFailure.scala.html#org.http4s;ParseFailure" title="(sanitized: String, details: String)org.http4s.ParseFailure">ParseFailure</a><span class="delimiter">(</span><span title="String(&quot;Invalid charset&quot;)" class="string">&quot;Invalid charset&quot;</span>, <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;&quot;)">$</span><a href="#org.http4s.HttpVersion.fromString.s" title="String">s</a><span title="String(&quot; is not a supported CharSet on this system&quot;)" class="string"> is not a supported CharSet on this system&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  private class <a title="class Parser extends org.parboiled2.Parser with org.http4s.parser.Rfc2616BasicRules" id="org.http4s.HttpVersion;Parser">Parser</a><a href="#org.http4s.HttpVersion;Parser" title="org.http4s.HttpVersion.Parser" class="delimiter">(</a>val <a title="org.parboiled2.ParserInput" id="org.http4s.HttpVersion;Parser.input">input</a>: <span title="org.parboiled2.ParserInput">ParserInput</span><span class="delimiter">)</span> extends org.parboiled2.<a href="#org.http4s.HttpVersion;Parser" title="org.parboiled2.Parser">Parser</a> with <a href="parser/Rfc2616BasicRules.scala.html#org.http4s.parser;Rfc2616BasicRules" title="org.http4s.parser.Rfc2616BasicRules">Rfc2616BasicRules</a> <span class="delimiter">{</span>
    def <a title="=&gt; org.parboiled2.Rule1[org.http4s.HttpVersion]" id="org.http4s.HttpVersion;Parser.HttpVersion">HttpVersion</a>: <span title="org.parboiled2.Rule1[org.http4s.HttpVersion]">Rule1</span><span class="delimiter">[</span>org.http4s.HttpVersion<span class="delimiter">]</span> = rule <a href="#org.http4s.HttpVersion;Parser" title="org.parboiled2.Rule[shapeless.HNil,shapeless.::[org.http4s.HttpVersion,shapeless.HNil]]" id="org.http4s.HttpVersion;Parser.HttpVersion.matched.major" class="delimiter">{</a>
      <span class="string">&quot;HTTP/&quot;</span> ~ capture<span class="delimiter">(</span><a href="parser/Rfc2616BasicRules.scala.html#org.http4s.parser;Rfc2616BasicRules.Digit" title="=&gt; org.parboiled2.Rule[shapeless.HNil,shapeless.HNil]">Digit</a><span class="delimiter">)</span> ~ <span class="string">&quot;.&quot;</span> ~ capture<span class="delimiter">(</span><a href="parser/Rfc2616BasicRules.scala.html#org.http4s.parser;Rfc2616BasicRules.Digit" title="=&gt; org.parboiled2.Rule[shapeless.HNil,shapeless.HNil]">Digit</a><span class="delimiter">)</span> ~&gt; <span class="delimiter">{</span> <span class="delimiter">(</span>major: String, minor: String<span class="delimiter">)</span> =&gt; new <a href="#org.http4s;HttpVersion" title="org.http4s.HttpVersion">HttpVersion</a><span class="delimiter">(</span><a href="#org.http4s.HttpVersion;Parser.HttpVersion.matched.major" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">major</a>.<span title="=&gt; Int">toInt</span>, <a href="#org.http4s.HttpVersion;Parser.HttpVersion.matched.major" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">minor</a>.<span title="=&gt; Int">toInt</span><span class="delimiter">)</span> <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(major: Int, minor: Int)org.http4s.ParseResult[org.http4s.HttpVersion]" id="org.http4s.HttpVersion.fromVersion">fromVersion</a><span class="delimiter">(</span><a title="Int" id="org.http4s.HttpVersion.fromVersion.major">major</a>: <span title="Int">Int</span>, <a title="Int" id="org.http4s.HttpVersion.fromVersion.minor">minor</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="org.http4s.ParseResult[org.http4s.HttpVersion]">ParseResult</span><span class="delimiter">[</span>HttpVersion<span class="delimiter">]</span> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#org.http4s.HttpVersion.fromVersion.major" title="Int">major</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="ParseFailure.scala.html#org.http4s.ParseResult" title="org.http4s.ParseResult.type">ParseResult</a>.<a href="ParseFailure.scala.html#org.http4s.ParseResult.fail" title="(sanitized: String, details: String)scalaz.-\/[org.http4s.ParseFailure]">fail</a><span class="delimiter">(</span><span title="String(&quot;Invalid HTTP version&quot;)" class="string">&quot;Invalid HTTP version&quot;</span>, <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;major must be &gt; 0: &quot;)">major must be &gt; 0: $</span><a href="#org.http4s.HttpVersion.fromVersion.major" title="Int">major</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
    else if <span class="delimiter">(</span><a href="#org.http4s.HttpVersion.fromVersion.major" title="Int">major</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(9)" class="int">9</span><span class="delimiter">)</span> <a href="ParseFailure.scala.html#org.http4s.ParseResult" title="org.http4s.ParseResult.type">ParseResult</a>.<a href="ParseFailure.scala.html#org.http4s.ParseResult.fail" title="(sanitized: String, details: String)scalaz.-\/[org.http4s.ParseFailure]">fail</a><span class="delimiter">(</span><span title="String(&quot;Invalid HTTP version&quot;)" class="string">&quot;Invalid HTTP version&quot;</span>, <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;major must be &lt;= 9: &quot;)">major must be &lt;= 9: $</span><a href="#org.http4s.HttpVersion.fromVersion.major" title="Int">major</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
    else if <span class="delimiter">(</span><a href="#org.http4s.HttpVersion.fromVersion.minor" title="Int">minor</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="ParseFailure.scala.html#org.http4s.ParseResult" title="org.http4s.ParseResult.type">ParseResult</a>.<a href="ParseFailure.scala.html#org.http4s.ParseResult.fail" title="(sanitized: String, details: String)scalaz.-\/[org.http4s.ParseFailure]">fail</a><span class="delimiter">(</span><span title="String(&quot;Invalid HTTP version&quot;)" class="string">&quot;Invalid HTTP version&quot;</span>, <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;major must be &gt; 0: &quot;)">major must be &gt; 0: $</span><a href="#org.http4s.HttpVersion.fromVersion.minor" title="Int">minor</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
    else if <span class="delimiter">(</span><a href="#org.http4s.HttpVersion.fromVersion.minor" title="Int">minor</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(9)" class="int">9</span><span class="delimiter">)</span> <a href="ParseFailure.scala.html#org.http4s.ParseResult" title="org.http4s.ParseResult.type">ParseResult</a>.<a href="ParseFailure.scala.html#org.http4s.ParseResult.fail" title="(sanitized: String, details: String)scalaz.-\/[org.http4s.ParseFailure]">fail</a><span class="delimiter">(</span><span title="String(&quot;Invalid HTTP version&quot;)" class="string">&quot;Invalid HTTP version&quot;</span>, <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;major must be &lt;= 9: &quot;)">major must be &lt;= 9: $</span><a href="#org.http4s.HttpVersion.fromVersion.minor" title="Int">minor</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
    else <a href="ParseFailure.scala.html#org.http4s.ParseResult" title="org.http4s.ParseResult.type">ParseResult</a>.<a href="ParseFailure.scala.html#org.http4s.ParseResult.success" title="(a: org.http4s.HttpVersion)scalaz.\/-[org.http4s.HttpVersion]">success</a><span class="delimiter">(</span>new <a href="#org.http4s;HttpVersion" title="org.http4s.HttpVersion">HttpVersion</a><span class="delimiter">(</span><a href="#org.http4s.HttpVersion.fromVersion.major" title="Int">major</a>, <a href="#org.http4s.HttpVersion.fromVersion.minor" title="Int">minor</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

trait <a title="trait HttpVersionInstances extends AnyRef" id="org.http4s;HttpVersionInstances">HttpVersionInstances</a> <span title="Unit" class="delimiter">{</span>
  implicit val <a title="scalaz.Show[org.http4s.HttpVersion]" id="org.http4s;HttpVersionInstances.HttpVersionShow">HttpVersionShow</a> = <span title="scalaz.Show.type">Show</span>.<span title="[A]=&gt; scalaz.Show[A]">showFromToString</span><span title="scalaz.Show[org.http4s.HttpVersion]" class="delimiter">[</span><a href="#org.http4s;HttpVersion" title="org.http4s.HttpVersion">HttpVersion</a><span class="delimiter">]</span>
  implicit val <a title="scalaz.Order[org.http4s.HttpVersion]" id="org.http4s;HttpVersionInstances.HttpVersionOrder">HttpVersionOrder</a> = <span title="scalaz.Order.type">Order</span>.<span title="[A](implicit O: scala.math.Ordering[A])scalaz.Order[A]">fromScalaOrdering</span><span title="(implicit O: scala.math.Ordering[org.http4s.HttpVersion])scalaz.Order[org.http4s.HttpVersion]" class="delimiter">[</span><a href="#org.http4s;HttpVersion" title="org.http4s.HttpVersion">HttpVersion</a><span class="delimiter">]</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
