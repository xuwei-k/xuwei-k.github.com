<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>http4s-server/org/http4s/server/middleware/PushSupport.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
package org.http4s
package server
package middleware

import scalaz.concurrent.Task
import <a href="URITranslation.scala.html#org.http4s.server.middleware.URITranslation" title="org.http4s.server.middleware.URITranslation.type">URITranslation</a>.translateRootKey
import org.log4s.getLogger

object <a title="org.http4s.server.middleware.PushSupport.type" id="org.http4s.server.middleware.PushSupport">PushSupport</a> <a href="#org.http4s.server.middleware.PushSupport" title="org.http4s.server.middleware.PushSupport.type" class="delimiter">{</a>
  private<span class="delimiter">[</span>this<span class="delimiter">]</span> val <a title="org.log4s.Logger" id="org.http4s.server.middleware.PushSupport.logger">logger</a> = <span title="org.log4s.Logger">getLogger</span>

  implicit class <a title="class PushOps extends AnyRef" id="org.http4s.server.middleware.PushSupport.PushOps">PushOps</a><a href="#org.http4s.server.middleware.PushSupport.PushOps" title="org.http4s.server.middleware.PushSupport.PushOps" class="delimiter">(</a><a title="scalaz.concurrent.Task[org.http4s.Response]" id="org.http4s.server.middleware.PushSupport.PushOps.response">response</a>: <span title="scalaz.concurrent.Task[org.http4s.Response]">Task</span><span class="delimiter">[</span>Response<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    def <a title="(url: String, cascade: Boolean)(implicit req: org.http4s.Request)scalaz.concurrent.Task[org.http4s.Response]" id="org.http4s.server.middleware.PushSupport;PushOps.push">push</a><span class="delimiter">(</span><a title="String" id="org.http4s.server.middleware.PushSupport;PushOps.push.url">url</a>: <span title="String">String</span>, <a title="Boolean" id="org.http4s.server.middleware.PushSupport;PushOps.push$default$2">cascade</a>: <span title="Boolean">Boolean</span> = true<span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="org.http4s.Request" id="org.http4s.server.middleware.PushSupport;PushOps.push.req">req</a>: <a href="../../../../../http4s-core/org/http4s/Message.scala.html#org.http4s;Request" title="org.http4s.Request">Request</a><span class="delimiter">)</span>: <span title="scalaz.concurrent.Task[org.http4s.Response]">Task</span><span class="delimiter">[</span>Response<span class="delimiter">]</span> = <a href="#org.http4s.server.middleware.PushSupport.PushOps.response" title="scalaz.concurrent.Task[org.http4s.Response]">response</a>.<span title="(f: org.http4s.Response =&gt; org.http4s.Response)scalaz.concurrent.Task[org.http4s.Response]">map</span> <span class="delimiter">{</span> <a title="org.http4s.Response" id="org.http4s.server.middleware.PushSupport;PushOps.push.$anonfun.response">response</a> =&gt;
      val <a title="String" id="org.http4s.server.middleware.PushSupport;PushOps.push.$anonfun.newUrl">newUrl</a> = <a href="#org.http4s.server.middleware.PushSupport;PushOps.push.req" title="org.http4s.Request">req</a>.<a href="../../../../../http4s-core/org/http4s/Message.scala.html#org.http4s;Request.attributes" title="=&gt; org.http4s.AttributeMap">attributes</a>.<a href="../../../../../http4s-core/org/http4s/AttributeMap.scala.html#org.http4s;AttributeMap.get" title="(k: org.http4s.AttributeKey[String =&gt; String])Option[String =&gt; String]">get</a><span class="delimiter">(</span><a href="URITranslation.scala.html#org.http4s.server.middleware.URITranslation.translateRootKey" title="=&gt; org.http4s.AttributeKey[String =&gt; String]">translateRootKey</a><span class="delimiter">)</span>
        .<span title="(f: (String =&gt; String) =&gt; String)Option[String]">map</span><span class="delimiter">(</span><a title="String =&gt; String" id="org.http4s.server.middleware.PushSupport;PushOps.push.$anonfun.newUrl.$anonfun.f">f</a> =&gt; <a href="#org.http4s.server.middleware.PushSupport;PushOps.push.$anonfun.newUrl.$anonfun.f" title="(v1: String)String">f</a><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport;PushOps.push.url" title="String">url</a><span class="delimiter">)</span><span class="delimiter">)</span>
        .<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport;PushOps.push.url" title="String">url</a><span class="delimiter">)</span>

      val <a title="scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushLocation]" id="org.http4s.server.middleware.PushSupport;PushOps.push.$anonfun.newPushResouces">newPushResouces</a> = <a href="#org.http4s.server.middleware.PushSupport;PushOps.push.$anonfun.response" title="org.http4s.Response">response</a>.<a href="../../../../../http4s-core/org/http4s/Message.scala.html#org.http4s;Response.attributes" title="=&gt; org.http4s.AttributeMap">attributes</a>.<a href="../../../../../http4s-core/org/http4s/AttributeMap.scala.html#org.http4s;AttributeMap.get" title="(k: org.http4s.AttributeKey[Vector[org.http4s.server.middleware.PushSupport.PushLocation]])Option[Vector[org.http4s.server.middleware.PushSupport.PushLocation]]">get</a><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport.pushLocationKey" title="=&gt; org.http4s.AttributeKey[Vector[org.http4s.server.middleware.PushSupport.PushLocation]]">pushLocationKey</a><span class="delimiter">)</span>
        .<span title="(f: Vector[org.http4s.server.middleware.PushSupport.PushLocation] =&gt; scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushLocation])Option[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushLocation]]">map</span><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport;PushOps.push.$anonfun.newPushResouces.$anonfun.x$1" title="Vector[org.http4s.server.middleware.PushSupport.PushLocation]">_</a> <span title="(elem: org.http4s.server.middleware.PushSupport.PushLocation)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushLocation],org.http4s.server.middleware.PushSupport.PushLocation,scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushLocation]])scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushLocation]">:+</span> <a href="#org.http4s.server.middleware.PushSupport.PushLocation.readResolve" title="(location: String, cascade: Boolean)org.http4s.server.middleware.PushSupport.PushLocation">PushLocation</a><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport;PushOps.push.$anonfun.newUrl" title="String">newUrl</a>, <a href="#org.http4s.server.middleware.PushSupport;PushOps.push$default$2" title="Boolean">cascade</a><span class="delimiter">)</span><span class="delimiter">)</span>
        .<span title="(default: =&gt; scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushLocation])scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushLocation]">getOrElse</span><span class="delimiter">(</span><span title="(elems: org.http4s.server.middleware.PushSupport.PushLocation*)scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushLocation]">Vector</span><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport.PushLocation.readResolve" title="(location: String, cascade: Boolean)org.http4s.server.middleware.PushSupport.PushLocation">PushLocation</a><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport;PushOps.push.$anonfun.newUrl" title="String">newUrl</a>,<a href="#org.http4s.server.middleware.PushSupport;PushOps.push$default$2" title="Boolean">cascade</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#org.http4s.server.middleware.PushSupport.logger" title="org.log4s.Logger">logger</a>.trace<span title="Unit" class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Adding push resource: &quot;)">Adding push resource: $</span><a href="#org.http4s.server.middleware.PushSupport;PushOps.push.$anonfun.newUrl" title="String">newUrl</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
      <a href="#org.http4s.server.middleware.PushSupport;PushOps.push.$anonfun.response" title="org.http4s.Response">response</a>.<a href="../../../../../http4s-core/org/http4s/Message.scala.html#org.http4s;Response.copy$default$1" title="org.http4s.Status" id="org.http4s.server.middleware.PushSupport;PushOps.push.$anonfun.x$9">copy</a><span class="delimiter">(</span>
        body = <a href="#org.http4s.server.middleware.PushSupport;PushOps.push.$anonfun.response" title="org.http4s.Response">response</a>.<a href="../../../../../http4s-core/org/http4s/Message.scala.html#org.http4s;Response.body" title="org.http4s.EntityBody" id="org.http4s.server.middleware.PushSupport;PushOps.push.$anonfun.x$5">body</a>,
        attributes = <a href="#org.http4s.server.middleware.PushSupport;PushOps.push.$anonfun.response" title="org.http4s.Response">response</a>.<a href="../../../../../http4s-core/org/http4s/Message.scala.html#org.http4s;Response.attributes" title="=&gt; org.http4s.AttributeMap">attributes</a>.<a href="../../../../../http4s-core/org/http4s/AttributeMap.scala.html#org.http4s;AttributeMap.put" title="(k: org.http4s.AttributeKey[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushLocation]], value: scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushLocation])org.http4s.AttributeMap">put</a><a title="org.http4s.AttributeMap" id="org.http4s.server.middleware.PushSupport;PushOps.push.$anonfun.x$6" class="delimiter">(</a><a href="#org.http4s.server.middleware.PushSupport" title="org.http4s.server.middleware.PushSupport.type">PushSupport</a>.<a href="#org.http4s.server.middleware.PushSupport.pushLocationKey" title="=&gt; org.http4s.AttributeKey[Vector[org.http4s.server.middleware.PushSupport.PushLocation]]">pushLocationKey</a>, <a href="#org.http4s.server.middleware.PushSupport;PushOps.push.$anonfun.newPushResouces" title="scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushLocation]">newPushResouces</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  private def <a title="(t: Throwable)Unit" id="org.http4s.server.middleware.PushSupport.handleException">handleException</a><span class="delimiter">(</span><a title="Throwable" id="org.http4s.server.middleware.PushSupport.handleException.t">t</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#org.http4s.server.middleware.PushSupport.logger" title="org.log4s.Logger">logger</a>.error<span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport.handleException.t" title="Throwable">t</a><span class="delimiter">)</span><span title="(x$1: String, x$2: Throwable)Unit" class="delimiter">(</span><span title="String(&quot;Push resource route failure&quot;)" class="string">&quot;Push resource route failure&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private def <a title="(push: org.http4s.server.middleware.PushSupport.PushLocation, req: org.http4s.Request)org.http4s.Request" id="org.http4s.server.middleware.PushSupport.locToRequest">locToRequest</a><span class="delimiter">(</span><a title="org.http4s.server.middleware.PushSupport.PushLocation" id="org.http4s.server.middleware.PushSupport.locToRequest.push">push</a>: <a href="#org.http4s.server.middleware.PushSupport.PushLocation.readResolve" title="org.http4s.server.middleware.PushSupport.PushLocation">PushLocation</a>, <a title="org.http4s.Request" id="org.http4s.server.middleware.PushSupport.locToRequest.req">req</a>: <a href="../../../../../http4s-core/org/http4s/Message.scala.html#org.http4s;Request" title="org.http4s.Request">Request</a><span class="delimiter">)</span>: <a href="../../../../../http4s-core/org/http4s/Message.scala.html#org.http4s;Request" title="org.http4s.Request">Request</a> =
    <a href="#org.http4s.server.middleware.PushSupport.locToRequest.req" title="org.http4s.Request">req</a>.<a href="../../../../../http4s-core/org/http4s/Message.scala.html#org.http4s;Request.withPathInfo" title="(pi: String)org.http4s.Request">withPathInfo</a><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport.locToRequest.push" title="org.http4s.server.middleware.PushSupport.PushLocation">push</a>.<a href="#org.http4s.server.middleware.PushSupport;PushLocation.location" title="=&gt; String">location</a><span class="delimiter">)</span>

  private def <a title="(r: Vector[org.http4s.server.middleware.PushSupport.PushLocation], req: org.http4s.Request, verify: String =&gt; Boolean, route: org.http4s.server.HttpService)scalaz.concurrent.Task[Vector[org.http4s.server.middleware.PushSupport.PushResponse]]" id="org.http4s.server.middleware.PushSupport.collectResponse">collectResponse</a><span class="delimiter">(</span><a title="Vector[org.http4s.server.middleware.PushSupport.PushLocation]" id="org.http4s.server.middleware.PushSupport.collectResponse.r">r</a>: <span title="Vector[org.http4s.server.middleware.PushSupport.PushLocation]">Vector</span><span class="delimiter">[</span>PushLocation<span class="delimiter">]</span>, <a title="org.http4s.Request" id="org.http4s.server.middleware.PushSupport.collectResponse.req">req</a>: <a href="../../../../../http4s-core/org/http4s/Message.scala.html#org.http4s;Request" title="org.http4s.Request">Request</a>, <a title="String =&gt; Boolean" id="org.http4s.server.middleware.PushSupport.collectResponse.verify">verify</a>: String =&gt; Boolean, <a title="org.http4s.server.HttpService" id="org.http4s.server.middleware.PushSupport.collectResponse.route">route</a>: <a href="../Service.scala.html#org.http4s.server;Service" title="org.http4s.server.HttpService">HttpService</a><span class="delimiter">)</span>: <span title="scalaz.concurrent.Task[Vector[org.http4s.server.middleware.PushSupport.PushResponse]]">Task</span><span class="delimiter">[</span>Vector<span class="delimiter">[</span>PushResponse<span class="delimiter">]</span><span class="delimiter">]</span> =
    <a href="#org.http4s.server.middleware.PushSupport.collectResponse.r" title="Vector[org.http4s.server.middleware.PushSupport.PushLocation]">r</a>.<span title="(z: scalaz.concurrent.Task[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]])(op: (scalaz.concurrent.Task[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]], org.http4s.server.middleware.PushSupport.PushLocation) =&gt; scalaz.concurrent.Task[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]])scalaz.concurrent.Task[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]]">foldLeft</span><span class="delimiter">(</span><span title="scalaz.concurrent.Task.type">Task</span>.<span title="(a: scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse])scalaz.concurrent.Task[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]]">now</span><span class="delimiter">(</span><span title="=&gt; collection.immutable.Vector.type">Vector</span>.<span title="[A]=&gt; scala.collection.immutable.Vector[A]">empty</span><span title="scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]" class="delimiter">[</span><a href="#org.http4s.server.middleware.PushSupport.PushResponse.readResolve" title="org.http4s.server.middleware.PushSupport.PushResponse">PushResponse</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">{</span> <span class="delimiter">(</span><a title="scalaz.concurrent.Task[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]]" id="org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.facc">facc</a>, <a title="org.http4s.server.middleware.PushSupport.PushLocation" id="org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.v">v</a><span class="delimiter">)</span> =&gt;
      if <span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport.collectResponse.verify" title="(v1: String)Boolean">verify</a><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.v" title="org.http4s.server.middleware.PushSupport.PushLocation">v</a>.<a href="#org.http4s.server.middleware.PushSupport;PushLocation.location" title="=&gt; String">location</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        val <a title="org.http4s.Request" id="org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.newReq">newReq</a> = <a href="#org.http4s.server.middleware.PushSupport.locToRequest" title="(push: org.http4s.server.middleware.PushSupport.PushLocation, req: org.http4s.Request)org.http4s.Request">locToRequest</a><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.v" title="org.http4s.server.middleware.PushSupport.PushLocation">v</a>, <a href="#org.http4s.server.middleware.PushSupport.collectResponse.req" title="org.http4s.Request">req</a><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.v" title="org.http4s.server.middleware.PushSupport.PushLocation">v</a>.<a href="#org.http4s.server.middleware.PushSupport;PushLocation.cascade" title="=&gt; Boolean">cascade</a><span class="delimiter">)</span> <a href="#org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.facc" title="scalaz.concurrent.Task[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]]">facc</a>.<span title="(f: scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse] =&gt; scalaz.concurrent.Task[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]])scalaz.concurrent.Task[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]]">flatMap</span> <span class="delimiter">{</span> <a title="scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]" id="org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.$anonfun.accumulated">accumulated</a> =&gt; <span class="comment">// Need to gather the sub resources</span>
          try <a href="../Service.scala.html#org.http4s.server;Service.apply" title="(a: org.http4s.Request)scalaz.concurrent.Task[Option[org.http4s.Response]]">route</a><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.newReq" title="org.http4s.Request">newReq</a><span class="delimiter">)</span>
            .<span title="(f: Option[org.http4s.Response] =&gt; scalaz.concurrent.Task[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]])scalaz.concurrent.Task[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]]">flatMap</span> <a href="#org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.$anonfun.$anonfun.x0$1" title="scalaz.concurrent.Task[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]]" class="delimiter">{</a>
              case Some<span class="delimiter">(</span><a title="org.http4s.Response" id="org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.$anonfun.$anonfun.response">response</a><span class="delimiter">)</span> =&gt;                  <span class="comment">// Inside the future result of this pushed resource</span>
                <a href="#org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.$anonfun.$anonfun.response" title="org.http4s.Response">response</a>.<a href="../../../../../http4s-core/org/http4s/Message.scala.html#org.http4s;Response.attributes" title="=&gt; org.http4s.AttributeMap">attributes</a>.<a href="../../../../../http4s-core/org/http4s/AttributeMap.scala.html#org.http4s;AttributeMap.get" title="(k: org.http4s.AttributeKey[Vector[org.http4s.server.middleware.PushSupport.PushLocation]])Option[Vector[org.http4s.server.middleware.PushSupport.PushLocation]]">get</a><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport.pushLocationKey" title="=&gt; org.http4s.AttributeKey[Vector[org.http4s.server.middleware.PushSupport.PushLocation]]">pushLocationKey</a><span class="delimiter">)</span>
                  .<span title="(f: Vector[org.http4s.server.middleware.PushSupport.PushLocation] =&gt; scalaz.concurrent.Task[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]])Option[scalaz.concurrent.Task[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]]]">map</span> <span class="delimiter">{</span> <a title="Vector[org.http4s.server.middleware.PushSupport.PushLocation]" id="org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.$anonfun.$anonfun.$anonfun.pushed">pushed</a> =&gt;
                    <a href="#org.http4s.server.middleware.PushSupport.collectResponse" title="(r: Vector[org.http4s.server.middleware.PushSupport.PushLocation], req: org.http4s.Request, verify: String =&gt; Boolean, route: org.http4s.server.HttpService)scalaz.concurrent.Task[Vector[org.http4s.server.middleware.PushSupport.PushResponse]]">collectResponse</a><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.$anonfun.$anonfun.$anonfun.pushed" title="Vector[org.http4s.server.middleware.PushSupport.PushLocation]">pushed</a>, <a href="#org.http4s.server.middleware.PushSupport.collectResponse.req" title="org.http4s.Request">req</a>, <a href="#org.http4s.server.middleware.PushSupport.collectResponse.verify" title="String =&gt; Boolean">verify</a>, <a href="#org.http4s.server.middleware.PushSupport.collectResponse.route" title="org.http4s.server.HttpService">route</a><span class="delimiter">)</span>
                      .<span title="(f: Vector[org.http4s.server.middleware.PushSupport.PushResponse] =&gt; scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse])scalaz.concurrent.Task[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]]">map</span><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.$anonfun.accumulated" title="scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]">accumulated</a> <span title="(that: scala.collection.GenTraversableOnce[org.http4s.server.middleware.PushSupport.PushResponse])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse],org.http4s.server.middleware.PushSupport.PushResponse,scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]])scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]">++</span> <a href="#org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.x$2" title="Vector[org.http4s.server.middleware.PushSupport.PushResponse]">_</a> <span title="(elem: org.http4s.server.middleware.PushSupport.PushResponse)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse],org.http4s.server.middleware.PushSupport.PushResponse,scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]])scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]">:+</span> <a href="#org.http4s.server.middleware.PushSupport.PushResponse.readResolve" title="(location: String, resp: org.http4s.Response)org.http4s.server.middleware.PushSupport.PushResponse">PushResponse</a><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.v" title="org.http4s.server.middleware.PushSupport.PushLocation">v</a>.<a href="#org.http4s.server.middleware.PushSupport;PushLocation.location" title="=&gt; String">location</a>, <a href="#org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.$anonfun.$anonfun.response" title="org.http4s.Response">response</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span class="delimiter">}</span>.<span title="(default: =&gt; scalaz.concurrent.Task[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]])scalaz.concurrent.Task[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]]">getOrElse</span><span class="delimiter">(</span><span title="scalaz.concurrent.Task.type">Task</span>.<span title="(a: scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse])scalaz.concurrent.Task[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]]">now</span><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.$anonfun.accumulated" title="scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]">accumulated</a><span title="(elem: org.http4s.server.middleware.PushSupport.PushResponse)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse],org.http4s.server.middleware.PushSupport.PushResponse,scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]])scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]">:+</span><a href="#org.http4s.server.middleware.PushSupport.PushResponse.readResolve" title="(location: String, resp: org.http4s.Response)org.http4s.server.middleware.PushSupport.PushResponse">PushResponse</a><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.v" title="org.http4s.server.middleware.PushSupport.PushLocation">v</a>.<a href="#org.http4s.server.middleware.PushSupport;PushLocation.location" title="=&gt; String">location</a>, <a href="#org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.$anonfun.$anonfun.response" title="org.http4s.Response">response</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

              case <span title="None.type">None</span> =&gt; <span title="scalaz.concurrent.Task.type">Task</span>.<span title="(a: scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse])scalaz.concurrent.Task[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]]">now</span><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.$anonfun.accumulated" title="scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]">accumulated</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          catch <span class="delimiter">{</span> case <a title="Throwable" id="org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.$anonfun.t">t</a>: <span title="Throwable">Throwable</span> =&gt; <a href="#org.http4s.server.middleware.PushSupport.handleException" title="(t: Throwable)Unit">handleException</a><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.$anonfun.t" title="Throwable">t</a><span class="delimiter">)</span>; <a href="#org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.facc" title="scalaz.concurrent.Task[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]]">facc</a> <span class="delimiter">}</span>
        <span class="delimiter">}</span> else <span class="delimiter">{</span>
          try <a href="../Service.scala.html#org.http4s.server;Service.apply" title="(a: org.http4s.Request)scalaz.concurrent.Task[Option[org.http4s.Response]]">route</a><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.newReq" title="org.http4s.Request">newReq</a><span class="delimiter">)</span>.<span title="(f: Option[org.http4s.Response] =&gt; scalaz.concurrent.Task[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]])scalaz.concurrent.Task[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]]">flatMap</span> <a href="#org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.$anonfun.x0$2" title="scalaz.concurrent.Task[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]]" class="delimiter">{</a>    <span class="comment">// Need to make sure to catch exceptions</span>
            case Some<span class="delimiter">(</span><a title="org.http4s.Response" id="org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.$anonfun.resp">resp</a><span class="delimiter">)</span> =&gt; <a href="#org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.facc" title="scalaz.concurrent.Task[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]]">facc</a>.<span title="(f: scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse] =&gt; scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse])scalaz.concurrent.Task[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]]">map</span><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.$anonfun.$anonfun.x$3" title="scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]">_</a> <span title="(elem: org.http4s.server.middleware.PushSupport.PushResponse)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse],org.http4s.server.middleware.PushSupport.PushResponse,scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]])scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]">:+</span> <a href="#org.http4s.server.middleware.PushSupport.PushResponse.readResolve" title="(location: String, resp: org.http4s.Response)org.http4s.server.middleware.PushSupport.PushResponse">PushResponse</a><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.v" title="org.http4s.server.middleware.PushSupport.PushLocation">v</a>.<a href="#org.http4s.server.middleware.PushSupport;PushLocation.location" title="=&gt; String">location</a>, <a href="#org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.$anonfun.resp" title="org.http4s.Response">resp</a><span class="delimiter">)</span><span class="delimiter">)</span>
            case <span title="None.type">None</span>       =&gt; <a href="#org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.facc" title="scalaz.concurrent.Task[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]]">facc</a>
          <span class="delimiter">}</span>
          catch <span class="delimiter">{</span> case <a title="Throwable" id="org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.t">t</a>: <span title="Throwable">Throwable</span> =&gt; <a href="#org.http4s.server.middleware.PushSupport.handleException" title="(t: Throwable)Unit">handleException</a><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.t" title="Throwable">t</a><span class="delimiter">)</span>; <a href="#org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.facc" title="scalaz.concurrent.Task[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]]">facc</a> <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      else <a href="#org.http4s.server.middleware.PushSupport.collectResponse.$anonfun.facc" title="scalaz.concurrent.Task[scala.collection.immutable.Vector[org.http4s.server.middleware.PushSupport.PushResponse]]">facc</a>
    <span class="delimiter">}</span>
  

  <span class="comment">/** Transform the route such that requests will gather pushed resources
   *
   * @param service HttpService to transform
   * @param verify method that determines if the location should be pushed
   * @return      Transformed route
   */</span>
  def <a title="(service: org.http4s.server.HttpService, verify: String =&gt; Boolean)org.http4s.server.HttpService" id="org.http4s.server.middleware.PushSupport.apply">apply</a><span class="delimiter">(</span><a title="org.http4s.server.HttpService" id="org.http4s.server.middleware.PushSupport.apply.service">service</a>: <a href="../Service.scala.html#org.http4s.server;Service" title="org.http4s.server.HttpService">HttpService</a>, <a title="String =&gt; Boolean" id="org.http4s.server.middleware.PushSupport.apply$default$2">verify</a>: String =&gt; Boolean = <a title="String" id="org.http4s.server.middleware.PushSupport.apply$default$2.$anonfun.x$4">_</a> =&gt; true<span class="delimiter">)</span>: <a href="../Service.scala.html#org.http4s.server;Service" title="org.http4s.server.HttpService">HttpService</a> = <span class="delimiter">{</span>

    def <a title="(req: org.http4s.Request, resp: org.http4s.Response)org.http4s.Response" id="org.http4s.server.middleware.PushSupport.apply.gather">gather</a><span class="delimiter">(</span><a title="org.http4s.Request" id="org.http4s.server.middleware.PushSupport.apply.gather.req">req</a>: <a href="../../../../../http4s-core/org/http4s/Message.scala.html#org.http4s;Request" title="org.http4s.Request">Request</a>, <a title="org.http4s.Response" id="org.http4s.server.middleware.PushSupport.apply.gather.resp">resp</a>: <a href="../../../../../http4s-core/org/http4s/Message.scala.html#org.http4s;Response" title="org.http4s.Response">Response</a><span class="delimiter">)</span>: <a href="../../../../../http4s-core/org/http4s/Message.scala.html#org.http4s;Response" title="org.http4s.Response">Response</a> = <span class="delimiter">{</span>
      <a href="#org.http4s.server.middleware.PushSupport.apply.gather.resp" title="org.http4s.Response">resp</a>.<a href="../../../../../http4s-core/org/http4s/Message.scala.html#org.http4s;Response.attributes" title="=&gt; org.http4s.AttributeMap">attributes</a>.<a href="../../../../../http4s-core/org/http4s/AttributeMap.scala.html#org.http4s;AttributeMap.get" title="(k: org.http4s.AttributeKey[Vector[org.http4s.server.middleware.PushSupport.PushLocation]])Option[Vector[org.http4s.server.middleware.PushSupport.PushLocation]]">get</a><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport.pushLocationKey" title="=&gt; org.http4s.AttributeKey[Vector[org.http4s.server.middleware.PushSupport.PushLocation]]">pushLocationKey</a><span class="delimiter">)</span>.<span title="(f: Vector[org.http4s.server.middleware.PushSupport.PushLocation] =&gt; org.http4s.Response)Option[org.http4s.Response]">map</span> <span class="delimiter">{</span> <a title="Vector[org.http4s.server.middleware.PushSupport.PushLocation]" id="org.http4s.server.middleware.PushSupport.apply.gather.$anonfun.fresource">fresource</a> =&gt;
        val <a title="scalaz.concurrent.Task[Vector[org.http4s.server.middleware.PushSupport.PushResponse]]" id="org.http4s.server.middleware.PushSupport.apply.gather.$anonfun.collected">collected</a>: <span title="scalaz.concurrent.Task[Vector[org.http4s.server.middleware.PushSupport.PushResponse]]">Task</span><span class="delimiter">[</span>Vector<span class="delimiter">[</span>PushResponse<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#org.http4s.server.middleware.PushSupport.collectResponse" title="(r: Vector[org.http4s.server.middleware.PushSupport.PushLocation], req: org.http4s.Request, verify: String =&gt; Boolean, route: org.http4s.server.HttpService)scalaz.concurrent.Task[Vector[org.http4s.server.middleware.PushSupport.PushResponse]]">collectResponse</a><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport.apply.gather.$anonfun.fresource" title="Vector[org.http4s.server.middleware.PushSupport.PushLocation]">fresource</a>, <a href="#org.http4s.server.middleware.PushSupport.apply.gather.req" title="org.http4s.Request">req</a>, <a href="#org.http4s.server.middleware.PushSupport.apply$default$2" title="String =&gt; Boolean">verify</a>, <a href="#org.http4s.server.middleware.PushSupport.apply.service" title="org.http4s.server.HttpService">service</a><span class="delimiter">)</span>
        <a href="#org.http4s.server.middleware.PushSupport.apply.gather.resp" title="org.http4s.Response">resp</a>.<a href="../../../../../http4s-core/org/http4s/Message.scala.html#org.http4s;Response.copy$default$1" title="org.http4s.Status" id="org.http4s.server.middleware.PushSupport.apply.gather.$anonfun.x$14">copy</a><span class="delimiter">(</span>
          body = <a href="#org.http4s.server.middleware.PushSupport.apply.gather.resp" title="org.http4s.Response">resp</a>.<a href="../../../../../http4s-core/org/http4s/Message.scala.html#org.http4s;Response.body" title="org.http4s.EntityBody" id="org.http4s.server.middleware.PushSupport.apply.gather.$anonfun.x$10">body</a>,
          attributes = <a href="#org.http4s.server.middleware.PushSupport.apply.gather.resp" title="org.http4s.Response">resp</a>.<a href="../../../../../http4s-core/org/http4s/Message.scala.html#org.http4s;Response.attributes" title="=&gt; org.http4s.AttributeMap">attributes</a>.<a href="../../../../../http4s-core/org/http4s/AttributeMap.scala.html#org.http4s;AttributeMap.put" title="(k: org.http4s.AttributeKey[scalaz.concurrent.Task[Vector[org.http4s.server.middleware.PushSupport.PushResponse]]], value: scalaz.concurrent.Task[Vector[org.http4s.server.middleware.PushSupport.PushResponse]])org.http4s.AttributeMap">put</a><a title="org.http4s.AttributeMap" id="org.http4s.server.middleware.PushSupport.apply.gather.$anonfun.x$11" class="delimiter">(</a><a href="#org.http4s.server.middleware.PushSupport.pushResponsesKey" title="=&gt; org.http4s.AttributeKey[scalaz.concurrent.Task[Vector[org.http4s.server.middleware.PushSupport.PushResponse]]]">pushResponsesKey</a>, <a href="#org.http4s.server.middleware.PushSupport.apply.gather.$anonfun.collected" title="scalaz.concurrent.Task[Vector[org.http4s.server.middleware.PushSupport.PushResponse]]">collected</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="delimiter">}</span>.<span title="(default: =&gt; org.http4s.Response)org.http4s.Response">getOrElse</span><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport.apply.gather.resp" title="org.http4s.Response">resp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    def <a title="(req: org.http4s.Request)scalaz.concurrent.Task[Option[org.http4s.Response]]" id="org.http4s.server.middleware.PushSupport.apply.go">go</a><span class="delimiter">(</span><a title="org.http4s.Request" id="org.http4s.server.middleware.PushSupport.apply.go.req">req</a>: <a href="../../../../../http4s-core/org/http4s/Message.scala.html#org.http4s;Request" title="org.http4s.Request">Request</a><span class="delimiter">)</span>: <span title="scalaz.concurrent.Task[Option[org.http4s.Response]]">Task</span><span class="delimiter">[</span>Option<span class="delimiter">[</span>Response<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="../Service.scala.html#org.http4s.server;Service.apply" title="(a: org.http4s.Request)scalaz.concurrent.Task[Option[org.http4s.Response]]">service</a><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport.apply.go.req" title="org.http4s.Request">req</a><span class="delimiter">)</span>.<span title="(f: Option[org.http4s.Response] =&gt; Option[org.http4s.Response])scalaz.concurrent.Task[Option[org.http4s.Response]]">map</span> <a href="#org.http4s.server.middleware.PushSupport.apply.go.$anonfun.x0$3" title="Option[org.http4s.Response]" class="delimiter">{</a>
      case Some<span class="delimiter">(</span><a title="org.http4s.Response" id="org.http4s.server.middleware.PushSupport.apply.go.$anonfun.resp">resp</a><span class="delimiter">)</span> =&gt; <span title="(x: org.http4s.Response)Some[org.http4s.Response]">Some</span><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport.apply.gather" title="(req: org.http4s.Request, resp: org.http4s.Response)org.http4s.Response">gather</a><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport.apply.go.req" title="org.http4s.Request">req</a>, <a href="#org.http4s.server.middleware.PushSupport.apply.go.$anonfun.resp" title="org.http4s.Response">resp</a><span class="delimiter">)</span><span class="delimiter">)</span>
      case <span title="None.type">None</span>       =&gt; <span title="None.type">None</span>
    <span class="delimiter">}</span>
    <a href="../Service.scala.html#org.http4s.server.Service" title="org.http4s.server.Service.type">Service</a>.<a href="../Service.scala.html#org.http4s.server.Service.lift" title="(f: org.http4s.Request =&gt; scalaz.concurrent.Task[Option[org.http4s.Response]])org.http4s.server.Service[org.http4s.Request,org.http4s.Response]">lift</a><span class="delimiter">(</span><a href="#org.http4s.server.middleware.PushSupport.apply.go" title="(req: org.http4s.Request)scalaz.concurrent.Task[Option[org.http4s.Response]]">go</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private <span class="delimiter">[</span>PushSupport<span class="delimiter">]</span> case class <a title="class PushLocation extends AnyRef with Product with Serializable" id="org.http4s.server.middleware.PushSupport.PushLocation.readResolve">PushLocation</a><a href="#org.http4s.server.middleware.PushSupport.PushLocation.readResolve" title="Product" class="delimiter">(</a><a title="String" id="org.http4s.server.middleware.PushSupport;PushLocation.location">location</a>: <span title="String">String</span>, <a title="Boolean" id="org.http4s.server.middleware.PushSupport;PushLocation.cascade">cascade</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>
  private <span class="delimiter">[</span>http4s<span class="delimiter">]</span> case class <a title="class PushResponse extends AnyRef with Product with Serializable" id="org.http4s.server.middleware.PushSupport.PushResponse.readResolve">PushResponse</a><a href="#org.http4s.server.middleware.PushSupport.PushResponse.readResolve" title="Product" class="delimiter">(</a><a title="String" id="org.http4s.server.middleware.PushSupport;PushResponse.location">location</a>: <span title="String">String</span>, <a title="org.http4s.Response" id="org.http4s.server.middleware.PushSupport;PushResponse.resp">resp</a>: <a href="../../../../../http4s-core/org/http4s/Message.scala.html#org.http4s;Response" title="org.http4s.Response">Response</a><span class="delimiter">)</span>

  private<span class="delimiter">[</span>PushSupport<span class="delimiter">]</span> val <a title="org.http4s.AttributeKey[Vector[org.http4s.server.middleware.PushSupport.PushLocation]]" id="org.http4s.server.middleware.PushSupport.pushLocationKey">pushLocationKey</a> = <a href="../../../../../http4s-core/org/http4s/AttributeMap.scala.html#org.http4s.AttributeKey" title="org.http4s.AttributeKey.type">AttributeKey</a>.<a href="../../../../../http4s-core/org/http4s/AttributeMap.scala.html#org.http4s.AttributeKey.http4s" title="[T](name: String)org.http4s.AttributeKey[T]">http4s</a><span title="(name: String)org.http4s.AttributeKey[Vector[org.http4s.server.middleware.PushSupport.PushLocation]]" class="delimiter">[</span><span title="Vector[org.http4s.server.middleware.PushSupport.PushLocation]">Vector</span><span class="delimiter">[</span>PushLocation<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="String(&quot;pushLocation&quot;)" class="string">&quot;pushLocation&quot;</span><span class="delimiter">)</span>
  private<span class="delimiter">[</span>http4s<span class="delimiter">]</span> val <a title="org.http4s.AttributeKey[scalaz.concurrent.Task[Vector[org.http4s.server.middleware.PushSupport.PushResponse]]]" id="org.http4s.server.middleware.PushSupport.pushResponsesKey">pushResponsesKey</a> = <a href="../../../../../http4s-core/org/http4s/AttributeMap.scala.html#org.http4s.AttributeKey" title="org.http4s.AttributeKey.type">AttributeKey</a>.<a href="../../../../../http4s-core/org/http4s/AttributeMap.scala.html#org.http4s.AttributeKey.http4s" title="[T](name: String)org.http4s.AttributeKey[T]">http4s</a><span title="(name: String)org.http4s.AttributeKey[scalaz.concurrent.Task[Vector[org.http4s.server.middleware.PushSupport.PushResponse]]]" class="delimiter">[</span><span title="scalaz.concurrent.Task[Vector[org.http4s.server.middleware.PushSupport.PushResponse]]">Task</span><span class="delimiter">[</span>Vector<span class="delimiter">[</span>PushResponse<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="String(&quot;pushResponses&quot;)" class="string">&quot;pushResponses&quot;</span><span class="delimiter">)</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>
