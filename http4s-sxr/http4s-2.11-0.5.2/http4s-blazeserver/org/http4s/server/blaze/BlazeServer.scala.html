<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>http4s-blazeserver/org/http4s/server/blaze/BlazeServer.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
package org.http4s
package server
package blaze

import java.util.concurrent.ExecutorService

import org.http4s.blaze.pipeline.LeafBuilder
import org.http4s.blaze.pipeline.stages.QuietTimeoutStage
import org.http4s.blaze.channel.SocketConnection
import org.http4s.blaze.channel.nio1.NIO1SocketServerChannelFactory
import org.http4s.blaze.channel.nio2.NIO2SocketServerChannelFactory

import server.middleware.URITranslation

import java.net.InetSocketAddress
import java.nio.ByteBuffer

import scala.concurrent.duration._
import scalaz.concurrent.<span class="delimiter">{</span>Strategy, Task<span class="delimiter">}</span>

class <a title="class BlazeBuilder extends AnyRef with org.http4s.server.ServerBuilder with org.http4s.server.IdleTimeoutSupport" id="org.http4s.server.blaze;BlazeBuilder">BlazeBuilder</a><a href="#org.http4s.server.blaze;BlazeBuilder" title="org.http4s.server.blaze.BlazeBuilder" class="delimiter">(</a>
  <a title="java.net.InetSocketAddress" id="org.http4s.server.blaze;BlazeBuilder.socketAddress">socketAddress</a>: <span title="java.net.InetSocketAddress">InetSocketAddress</span>,
  <a title="java.util.concurrent.ExecutorService" id="org.http4s.server.blaze;BlazeBuilder.serviceExecutor">serviceExecutor</a>: <span title="java.util.concurrent.ExecutorService">ExecutorService</span>,
  <a title="scala.concurrent.duration.Duration" id="org.http4s.server.blaze;BlazeBuilder.idleTimeout">idleTimeout</a>: <span title="scala.concurrent.duration.Duration">Duration</span>,
  <a title="Boolean" id="org.http4s.server.blaze;BlazeBuilder.isNio2">isNio2</a>: <span title="Boolean">Boolean</span>,
  <a title="Vector[org.http4s.server.blaze.ServiceMount]" id="org.http4s.server.blaze;BlazeBuilder.serviceMounts">serviceMounts</a>: <span title="Vector[org.http4s.server.blaze.ServiceMount]">Vector</span><span class="delimiter">[</span>ServiceMount<span class="delimiter">]</span>
<span class="delimiter">)</span>
  extends <a href="../../../../../http4s-server/org/http4s/server/ServerBuilder.scala.html#org.http4s.server;ServerBuilder" title="org.http4s.server.ServerBuilder">ServerBuilder</a>
  with <a href="../../../../../http4s-server/org/http4s/server/ServerBuilder.scala.html#org.http4s.server;IdleTimeoutSupport" title="org.http4s.server.IdleTimeoutSupport">IdleTimeoutSupport</a>
<span class="delimiter">{</span>
  type <a title="org.http4s.server.blaze.BlazeBuilder" id="org.http4s.server.blaze;BlazeBuilder;Self">Self</a> = <a href="#org.http4s.server.blaze;BlazeBuilder" title="org.http4s.server.blaze.BlazeBuilder">BlazeBuilder</a>

  private def <a title="(socketAddress: java.net.InetSocketAddress, serviceExecutor: java.util.concurrent.ExecutorService, idleTimeout: scala.concurrent.duration.Duration, isNio2: Boolean, serviceMounts: Vector[org.http4s.server.blaze.ServiceMount])org.http4s.server.blaze.BlazeBuilder" id="org.http4s.server.blaze;BlazeBuilder.copy">copy</a><span class="delimiter">(</span><a title="java.net.InetSocketAddress" id="org.http4s.server.blaze;BlazeBuilder.copy$default$1">socketAddress</a>: <span title="java.net.InetSocketAddress">InetSocketAddress</span> = <a href="#org.http4s.server.blaze;BlazeBuilder.copy$default$1" title="java.net.InetSocketAddress">socketAddress</a>,
                   <a title="java.util.concurrent.ExecutorService" id="org.http4s.server.blaze;BlazeBuilder.copy$default$2">serviceExecutor</a>: <span title="java.util.concurrent.ExecutorService">ExecutorService</span> = <a href="#org.http4s.server.blaze;BlazeBuilder.copy$default$2" title="java.util.concurrent.ExecutorService">serviceExecutor</a>,
                   <a title="scala.concurrent.duration.Duration" id="org.http4s.server.blaze;BlazeBuilder.copy$default$3">idleTimeout</a>: <span title="scala.concurrent.duration.Duration">Duration</span> = <a href="#org.http4s.server.blaze;BlazeBuilder.copy$default$3" title="scala.concurrent.duration.Duration">idleTimeout</a>,
                   <a title="Boolean" id="org.http4s.server.blaze;BlazeBuilder.copy$default$4">isNio2</a>: <span title="Boolean">Boolean</span> = <a href="#org.http4s.server.blaze;BlazeBuilder.copy$default$4" title="Boolean">isNio2</a>,
                   <a title="Vector[org.http4s.server.blaze.ServiceMount]" id="org.http4s.server.blaze;BlazeBuilder.copy$default$5">serviceMounts</a>: <span title="Vector[org.http4s.server.blaze.ServiceMount]">Vector</span><span class="delimiter">[</span>ServiceMount<span class="delimiter">]</span> = <a href="#org.http4s.server.blaze;BlazeBuilder.copy$default$5" title="Vector[org.http4s.server.blaze.ServiceMount]">serviceMounts</a><span class="delimiter">)</span>: <a href="#org.http4s.server.blaze;BlazeBuilder" title="org.http4s.server.blaze.BlazeBuilder">BlazeBuilder</a> =
    new <a href="#org.http4s.server.blaze;BlazeBuilder" title="org.http4s.server.blaze.BlazeBuilder">BlazeBuilder</a><span class="delimiter">(</span><a href="#org.http4s.server.blaze;BlazeBuilder.copy$default$1" title="java.net.InetSocketAddress">socketAddress</a>, <a href="#org.http4s.server.blaze;BlazeBuilder.copy$default$2" title="java.util.concurrent.ExecutorService">serviceExecutor</a>, <a href="#org.http4s.server.blaze;BlazeBuilder.copy$default$3" title="scala.concurrent.duration.Duration">idleTimeout</a>, <a href="#org.http4s.server.blaze;BlazeBuilder.copy$default$4" title="Boolean">isNio2</a>, <a href="#org.http4s.server.blaze;BlazeBuilder.copy$default$5" title="Vector[org.http4s.server.blaze.ServiceMount]">serviceMounts</a><span class="delimiter">)</span>

  override def <a title="(socketAddress: java.net.InetSocketAddress)org.http4s.server.blaze.BlazeBuilder" id="org.http4s.server.blaze;BlazeBuilder.bindSocketAddress">bindSocketAddress</a><span class="delimiter">(</span><a title="java.net.InetSocketAddress" id="org.http4s.server.blaze;BlazeBuilder.bindSocketAddress.socketAddress">socketAddress</a>: <span title="java.net.InetSocketAddress">InetSocketAddress</span><span class="delimiter">)</span>: <a href="#org.http4s.server.blaze;BlazeBuilder" title="org.http4s.server.blaze.BlazeBuilder">BlazeBuilder</a> =
    <a href="#org.http4s.server.blaze;BlazeBuilder.copy" title="(socketAddress: java.net.InetSocketAddress, serviceExecutor: java.util.concurrent.ExecutorService, idleTimeout: scala.concurrent.duration.Duration, isNio2: Boolean, serviceMounts: Vector[org.http4s.server.blaze.ServiceMount])org.http4s.server.blaze.BlazeBuilder">copy</a><span class="delimiter">(</span>socketAddress = <a href="#org.http4s.server.blaze;BlazeBuilder.bindSocketAddress.socketAddress" title="java.net.InetSocketAddress">socketAddress</a><span class="delimiter">)</span>

  override def <a title="(serviceExecutor: java.util.concurrent.ExecutorService)org.http4s.server.blaze.BlazeBuilder" id="org.http4s.server.blaze;BlazeBuilder.withServiceExecutor">withServiceExecutor</a><span class="delimiter">(</span><a title="java.util.concurrent.ExecutorService" id="org.http4s.server.blaze;BlazeBuilder.withServiceExecutor.serviceExecutor">serviceExecutor</a>: <span title="java.util.concurrent.ExecutorService">ExecutorService</span><span class="delimiter">)</span>: <a href="#org.http4s.server.blaze;BlazeBuilder" title="org.http4s.server.blaze.BlazeBuilder">BlazeBuilder</a> =
    <a href="#org.http4s.server.blaze;BlazeBuilder.copy$default$1" title="java.net.InetSocketAddress" id="org.http4s.server.blaze;BlazeBuilder.withServiceExecutor.x$5">copy</a><span class="delimiter">(</span>serviceExecutor = <a href="#org.http4s.server.blaze;BlazeBuilder.withServiceExecutor.serviceExecutor" title="java.util.concurrent.ExecutorService" id="org.http4s.server.blaze;BlazeBuilder.withServiceExecutor.x$1">serviceExecutor</a><span class="delimiter">)</span>

  override def <a title="(idleTimeout: scala.concurrent.duration.Duration)org.http4s.server.blaze.BlazeBuilder" id="org.http4s.server.blaze;BlazeBuilder.withIdleTimeout">withIdleTimeout</a><span class="delimiter">(</span><a title="scala.concurrent.duration.Duration" id="org.http4s.server.blaze;BlazeBuilder.withIdleTimeout.idleTimeout">idleTimeout</a>: <span title="scala.concurrent.duration.Duration">Duration</span><span class="delimiter">)</span>: <a href="#org.http4s.server.blaze;BlazeBuilder" title="org.http4s.server.blaze.BlazeBuilder">BlazeBuilder</a> = <a href="#org.http4s.server.blaze;BlazeBuilder.copy$default$1" title="java.net.InetSocketAddress" id="org.http4s.server.blaze;BlazeBuilder.withIdleTimeout.x$10">copy</a><span class="delimiter">(</span>idleTimeout = <a href="#org.http4s.server.blaze;BlazeBuilder.withIdleTimeout.idleTimeout" title="scala.concurrent.duration.Duration" id="org.http4s.server.blaze;BlazeBuilder.withIdleTimeout.x$6">idleTimeout</a><span class="delimiter">)</span>

  def <a title="(isNio2: Boolean)org.http4s.server.blaze.BlazeBuilder" id="org.http4s.server.blaze;BlazeBuilder.withNio2">withNio2</a><span class="delimiter">(</span><a title="Boolean" id="org.http4s.server.blaze;BlazeBuilder.withNio2.isNio2">isNio2</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="#org.http4s.server.blaze;BlazeBuilder" title="org.http4s.server.blaze.BlazeBuilder">BlazeBuilder</a> = <a href="#org.http4s.server.blaze;BlazeBuilder.copy$default$1" title="java.net.InetSocketAddress" id="org.http4s.server.blaze;BlazeBuilder.withNio2.x$15">copy</a><span class="delimiter">(</span>isNio2 = <a href="#org.http4s.server.blaze;BlazeBuilder.withNio2.isNio2" title="Boolean" id="org.http4s.server.blaze;BlazeBuilder.withNio2.x$11">isNio2</a><span class="delimiter">)</span>

  override def <a title="(service: org.http4s.server.HttpService, prefix: String)org.http4s.server.blaze.BlazeBuilder" id="org.http4s.server.blaze;BlazeBuilder.mountService">mountService</a><span class="delimiter">(</span><a title="org.http4s.server.HttpService" id="org.http4s.server.blaze;BlazeBuilder.mountService.service">service</a>: <a href="../../../../../http4s-server/org/http4s/server/Service.scala.html#org.http4s.server;Service" title="org.http4s.server.HttpService">HttpService</a>, <a title="String" id="org.http4s.server.blaze;BlazeBuilder.mountService.prefix">prefix</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#org.http4s.server.blaze;BlazeBuilder" title="org.http4s.server.blaze.BlazeBuilder">BlazeBuilder</a> =
    <a href="#org.http4s.server.blaze;BlazeBuilder.copy$default$1" title="java.net.InetSocketAddress" id="org.http4s.server.blaze;BlazeBuilder.mountService.x$20">copy</a><span class="delimiter">(</span>serviceMounts = <a href="#org.http4s.server.blaze;BlazeBuilder.serviceMounts" title="Vector[org.http4s.server.blaze.ServiceMount]">serviceMounts</a> <a title="Vector[org.http4s.server.blaze.ServiceMount] @scala.reflect.internal.annotations.uncheckedBounds" id="org.http4s.server.blaze;BlazeBuilder.mountService.x$16">:+</a> <a href="#org.http4s.server.blaze.ServiceMount.readResolve" title="(service: org.http4s.server.HttpService, prefix: String)org.http4s.server.blaze.ServiceMount">ServiceMount</a><span class="delimiter">(</span><a href="#org.http4s.server.blaze;BlazeBuilder.mountService.service" title="org.http4s.server.HttpService">service</a>, <a href="#org.http4s.server.blaze;BlazeBuilder.mountService.prefix" title="String">prefix</a><span class="delimiter">)</span><span class="delimiter">)</span>

  def <a title="=&gt; scalaz.concurrent.Task[org.http4s.server.Server]" id="org.http4s.server.blaze;BlazeBuilder.start">start</a>: <span title="scalaz.concurrent.Task[org.http4s.server.Server]">Task</span><span class="delimiter">[</span>Server<span class="delimiter">]</span> = <span title="scalaz.concurrent.Task.type">Task</span>.<span title="(a: =&gt; org.http4s.server.Server)scalaz.concurrent.Task[org.http4s.server.Server]">delay</span> <span class="delimiter">{</span>
    val <a title="org.http4s.server.HttpService" id="org.http4s.server.blaze;BlazeBuilder.start.aggregateService">aggregateService</a> = <a href="#org.http4s.server.blaze;BlazeBuilder.serviceMounts" title="Vector[org.http4s.server.blaze.ServiceMount]">serviceMounts</a>.<span title="[B](z: B)(op: (B, org.http4s.server.blaze.ServiceMount) =&gt; B)B">foldLeft</span><span title="(z: org.http4s.server.HttpService)(op: (org.http4s.server.HttpService, org.http4s.server.blaze.ServiceMount) =&gt; org.http4s.server.HttpService)org.http4s.server.HttpService" class="delimiter">[</span><a href="../../../../../http4s-server/org/http4s/server/Service.scala.html#org.http4s.server;Service" title="org.http4s.server.HttpService">HttpService</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="../../../../../http4s-server/org/http4s/server/Service.scala.html#org.http4s.server.Service" title="org.http4s.server.Service.type">Service</a>.<a href="../../../../../http4s-server/org/http4s/server/Service.scala.html#org.http4s.server.Service.empty" title="org.http4s.server.Service[org.http4s.Request,org.http4s.Response]">empty</a><span class="delimiter">)</span> <a href="#org.http4s.server.blaze;BlazeBuilder.start.aggregateService.$anonfun.x0$1" title="org.http4s.server.HttpService" class="delimiter">{</a>
      case <span class="delimiter">(</span><a title="org.http4s.server.HttpService" id="org.http4s.server.blaze;BlazeBuilder.start.aggregateService.$anonfun.aggregate">aggregate</a>, ServiceMount<span class="delimiter">(</span><a title="org.http4s.server.HttpService" id="org.http4s.server.blaze;BlazeBuilder.start.aggregateService.$anonfun.service">service</a>, <a title="String" id="org.http4s.server.blaze;BlazeBuilder.start.aggregateService.$anonfun.prefix">prefix</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        val <a title="org.http4s.server.HttpService" id="org.http4s.server.blaze;BlazeBuilder.start.aggregateService.$anonfun.prefixedService">prefixedService</a> =
          if <span class="delimiter">(</span><a href="#org.http4s.server.blaze;BlazeBuilder.start.aggregateService.$anonfun.prefix" title="String">prefix</a>.<span title="()Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="#org.http4s.server.blaze;BlazeBuilder.start.aggregateService.$anonfun.prefix" title="String">prefix</a> <span title="(x$1: Any)Boolean">==</span> <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span> <a href="#org.http4s.server.blaze;BlazeBuilder.start.aggregateService.$anonfun.service" title="org.http4s.server.HttpService">service</a>
          else <a href="../../../../../http4s-server/org/http4s/server/middleware/URITranslation.scala.html#org.http4s.server.middleware.URITranslation" title="org.http4s.server.middleware.URITranslation.type">URITranslation</a>.<a href="../../../../../http4s-server/org/http4s/server/middleware/URITranslation.scala.html#org.http4s.server.middleware.URITranslation.translateRoot" title="(prefix: String)(service: org.http4s.server.HttpService)org.http4s.server.HttpService">translateRoot</a><span class="delimiter">(</span><a href="#org.http4s.server.blaze;BlazeBuilder.start.aggregateService.$anonfun.prefix" title="String">prefix</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#org.http4s.server.blaze;BlazeBuilder.start.aggregateService.$anonfun.service" title="org.http4s.server.HttpService">service</a><span class="delimiter">)</span>

        if <span class="delimiter">(</span><a href="#org.http4s.server.blaze;BlazeBuilder.start.aggregateService.$anonfun.aggregate" title="org.http4s.server.HttpService">aggregate</a>.<a href="../../../../../http4s-server/org/http4s/server/Service.scala.html#org.http4s.server;Service.run" title="=&gt; org.http4s.Request =&gt; scalaz.concurrent.Task[Option[org.http4s.Response]]">run</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../../../../http4s-server/org/http4s/server/Service.scala.html#org.http4s.server.Service" title="org.http4s.server.Service.type">Service</a>.<a href="../../../../../http4s-server/org/http4s/server/Service.scala.html#org.http4s.server.Service.empty" title="org.http4s.server.Service[Any,Nothing]">empty</a>.<a href="../../../../../http4s-server/org/http4s/server/Service.scala.html#org.http4s.server;Service.run" title="=&gt; Any =&gt; scalaz.concurrent.Task[Option[Nothing]]">run</a><span class="delimiter">)</span>
          <a href="#org.http4s.server.blaze;BlazeBuilder.start.aggregateService.$anonfun.prefixedService" title="org.http4s.server.HttpService">prefixedService</a>
        else
          <a href="#org.http4s.server.blaze;BlazeBuilder.start.aggregateService.$anonfun.prefixedService" title="org.http4s.server.HttpService">prefixedService</a> <a href="../../../../../http4s-server/org/http4s/server/Service.scala.html#org.http4s.server;Service.orElse" title="(other: org.http4s.server.Service[org.http4s.Request,org.http4s.Response])org.http4s.server.Service[org.http4s.Request,org.http4s.Response]">orElse</a> <a href="#org.http4s.server.blaze;BlazeBuilder.start.aggregateService.$anonfun.aggregate" title="org.http4s.server.HttpService">aggregate</a>
    <span class="delimiter">}</span>

    def <a title="(conn: org.http4s.blaze.channel.SocketConnection)org.http4s.blaze.pipeline.LeafBuilder[java.nio.ByteBuffer]" id="org.http4s.server.blaze;BlazeBuilder.start.pipelineFactory">pipelineFactory</a><span class="delimiter">(</span><a title="org.http4s.blaze.channel.SocketConnection" id="org.http4s.server.blaze;BlazeBuilder.start.pipelineFactory.conn">conn</a>: <span title="org.http4s.blaze.channel.SocketConnection">SocketConnection</span><span class="delimiter">)</span>: <span title="org.http4s.blaze.pipeline.LeafBuilder[java.nio.ByteBuffer]">LeafBuilder</span><span class="delimiter">[</span>ByteBuffer<span class="delimiter">]</span> = <span class="delimiter">{</span>
      val <a title="org.http4s.blaze.pipeline.LeafBuilder[java.nio.ByteBuffer]" id="org.http4s.server.blaze;BlazeBuilder.start.pipelineFactory.leaf">leaf</a> = <span title="(leaf: org.http4s.blaze.pipeline.TailStage[java.nio.ByteBuffer])org.http4s.blaze.pipeline.LeafBuilder[java.nio.ByteBuffer]">LeafBuilder</span><span class="delimiter">(</span>new <a href="Http1ServerStage.scala.html#org.http4s.server.blaze;Http1ServerStage" title="org.http4s.server.blaze.Http1ServerStage">Http1ServerStage</a><span class="delimiter">(</span><a href="#org.http4s.server.blaze;BlazeBuilder.start.aggregateService" title="org.http4s.server.HttpService">aggregateService</a>, <span title="(x: org.http4s.blaze.channel.SocketConnection)Some[org.http4s.blaze.channel.SocketConnection]">Some</span><span class="delimiter">(</span><a href="#org.http4s.server.blaze;BlazeBuilder.start.pipelineFactory.conn" title="org.http4s.blaze.channel.SocketConnection">conn</a><span class="delimiter">)</span>, <a href="#org.http4s.server.blaze;BlazeBuilder.serviceExecutor" title="java.util.concurrent.ExecutorService">serviceExecutor</a><span class="delimiter">)</span><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#org.http4s.server.blaze;BlazeBuilder.idleTimeout" title="scala.concurrent.duration.Duration">idleTimeout</a>.<span title="()Boolean">isFinite</span><span class="delimiter">)</span> <a href="#org.http4s.server.blaze;BlazeBuilder.start.pipelineFactory.leaf" title="org.http4s.blaze.pipeline.LeafBuilder[java.nio.ByteBuffer]">leaf</a>.<span title="(stage: org.http4s.blaze.pipeline.MidStage[java.nio.ByteBuffer,java.nio.ByteBuffer])org.http4s.blaze.pipeline.LeafBuilder[java.nio.ByteBuffer]">prepend</span><span class="delimiter">(</span>new <span title="org.http4s.blaze.pipeline.stages.QuietTimeoutStage[java.nio.ByteBuffer]">QuietTimeoutStage</span><span class="delimiter">[</span>ByteBuffer<span class="delimiter">]</span><span class="delimiter">(</span><a href="#org.http4s.server.blaze;BlazeBuilder.idleTimeout" title="scala.concurrent.duration.Duration">idleTimeout</a><span class="delimiter">)</span><span class="delimiter">)</span>
      else <a href="#org.http4s.server.blaze;BlazeBuilder.start.pipelineFactory.leaf" title="org.http4s.blaze.pipeline.LeafBuilder[java.nio.ByteBuffer]">leaf</a>
    <span class="delimiter">}</span>

    val <a title="org.http4s.blaze.channel.ServerChannelFactory[_ &gt;: java.nio.channels.AsynchronousServerSocketChannel with java.nio.channels.ServerSocketChannel &lt;: java.nio.channels.NetworkChannel]" id="org.http4s.server.blaze;BlazeBuilder.start.factory">factory</a> =
      if <span class="delimiter">(</span><a href="#org.http4s.server.blaze;BlazeBuilder.isNio2" title="Boolean">isNio2</a><span class="delimiter">)</span>
        new <span title="org.http4s.blaze.channel.nio2.NIO2SocketServerChannelFactory">NIO2SocketServerChannelFactory</span><span class="delimiter">(</span><a href="#org.http4s.server.blaze;BlazeBuilder.start.pipelineFactory" title="(conn: org.http4s.blaze.channel.SocketConnection)org.http4s.blaze.pipeline.LeafBuilder[java.nio.ByteBuffer]">pipelineFactory</a><span class="delimiter">)</span>
      else
        new <span title="org.http4s.blaze.channel.nio1.NIO1SocketServerChannelFactory">NIO1SocketServerChannelFactory</span><span class="delimiter">(</span><a href="#org.http4s.server.blaze;BlazeBuilder.start.pipelineFactory" title="(conn: org.http4s.blaze.channel.SocketConnection)org.http4s.blaze.pipeline.LeafBuilder[java.nio.ByteBuffer]">pipelineFactory</a>, <span title="Int(12)" class="int">12</span>, <span class="int">8</span> <span title="Int(8192)">*</span> <span class="int">1024</span><span class="delimiter">)</span>

    var <a title="java.net.InetSocketAddress" id="org.http4s.server.blaze;BlazeBuilder.start.address">address</a> = <a href="#org.http4s.server.blaze;BlazeBuilder.socketAddress" title="java.net.InetSocketAddress">socketAddress</a>
    if <span class="delimiter">(</span><a href="#org.http4s.server.blaze;BlazeBuilder.start.address" title="java.net.InetSocketAddress">address</a>.<span title="()Boolean">isUnresolved</span><span class="delimiter">)</span>
      <a href="#org.http4s.server.blaze;BlazeBuilder.start.address" title="java.net.InetSocketAddress">address</a> = new <span title="java.net.InetSocketAddress">InetSocketAddress</span><span class="delimiter">(</span><a href="#org.http4s.server.blaze;BlazeBuilder.start.address" title="java.net.InetSocketAddress">address</a>.<span title="()String">getHostString</span>, <a href="#org.http4s.server.blaze;BlazeBuilder.start.address" title="java.net.InetSocketAddress">address</a>.<span title="()Int">getPort</span><span class="delimiter">)</span>
    val <a title="org.http4s.blaze.channel.ServerChannel" id="org.http4s.server.blaze;BlazeBuilder.start.serverChannel">serverChannel</a> = <a href="#org.http4s.server.blaze;BlazeBuilder.start.factory" title="org.http4s.blaze.channel.ServerChannelFactory[_ &gt;: java.nio.channels.AsynchronousServerSocketChannel with java.nio.channels.ServerSocketChannel &lt;: java.nio.channels.NetworkChannel]">factory</a>.<span title="(localAddress: java.net.SocketAddress)org.http4s.blaze.channel.ServerChannel">bind</span><span class="delimiter">(</span><a href="#org.http4s.server.blaze;BlazeBuilder.start.address" title="java.net.InetSocketAddress">address</a><span class="delimiter">)</span>

    <span class="comment">// Begin the server asynchronously</span>
    <a href="#org.http4s.server.blaze;BlazeBuilder.start.serverChannel" title="org.http4s.blaze.channel.ServerChannel">serverChannel</a>.<span title="()Thread">runAsync</span><span class="delimiter">(</span><span class="delimiter">)</span>

    new <a title="&lt;$anon: org.http4s.server.Server&gt; extends AnyRef with org.http4s.server.Server" id="org.http4s.server.blaze;BlazeBuilder.start;$anon">Server</a> <span class="delimiter">{</span>
      override def <a title="=&gt; scalaz.concurrent.Task[org.http4s.server.blaze.BlazeBuilder.$anon.type]" id="org.http4s.server.blaze;BlazeBuilder.start;$anon.shutdown">shutdown</a>: <span title="scalaz.concurrent.Task[org.http4s.server.blaze.BlazeBuilder.$anon.type]">Task</span><span class="delimiter">[</span>this.type<span class="delimiter">]</span> = <span title="scalaz.concurrent.Task.type">Task</span>.<span title="(a: =&gt; org.http4s.server.blaze.BlazeBuilder.$anon.type)scalaz.concurrent.Task[org.http4s.server.blaze.BlazeBuilder.$anon.type]">delay</span> <span class="delimiter">{</span>
        <a href="#org.http4s.server.blaze;BlazeBuilder.start.serverChannel" title="org.http4s.blaze.channel.ServerChannel">serverChannel</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span>
        this
      <span class="delimiter">}</span>

      override def <a title="(f: =&gt; Unit)org.http4s.server.blaze.BlazeBuilder.$anon.type" id="org.http4s.server.blaze;BlazeBuilder.start;$anon.onShutdown">onShutdown</a><span class="delimiter">(</span><a title="=&gt; Unit" id="org.http4s.server.blaze;BlazeBuilder.start;$anon.onShutdown.f">f</a>: =&gt; Unit<span class="delimiter">)</span>: this.type = <span class="delimiter">{</span>
        <a href="#org.http4s.server.blaze;BlazeBuilder.start.serverChannel" title="org.http4s.blaze.channel.ServerChannel">serverChannel</a>.<span title="(f: () =&gt; Unit)Unit">addShutdownHook</span><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#org.http4s.server.blaze;BlazeBuilder.start;$anon.onShutdown.f" title="=&gt; Unit">f</a><span class="delimiter">)</span>
        this
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

object <a title="org.http4s.server.blaze.BlazeBuilder.type" id="org.http4s.server.blaze.BlazeBuilder">BlazeBuilder</a> extends <a href="#org.http4s.server.blaze;BlazeBuilder" title="org.http4s.server.blaze.BlazeBuilder">BlazeBuilder</a><span class="delimiter">(</span>
  socketAddress = <a href="../../../../../http4s-server/org/http4s/server/ServerBuilder.scala.html#org.http4s.server.ServerBuilder" title="org.http4s.server.ServerBuilder.type">ServerBuilder</a>.<a href="../../../../../http4s-server/org/http4s/server/ServerBuilder.scala.html#org.http4s.server.ServerBuilder.DefaultSocketAddress" title="=&gt; java.net.InetSocketAddress">DefaultSocketAddress</a>,
  serviceExecutor = <span title="scalaz.concurrent.Strategy.type">Strategy</span>.<span title="=&gt; java.util.concurrent.ExecutorService">DefaultExecutorService</span>,
  idleTimeout = <a href="../../../../../http4s-server/org/http4s/server/ServerBuilder.scala.html#org.http4s.server.IdleTimeoutSupport" title="org.http4s.server.IdleTimeoutSupport.type">IdleTimeoutSupport</a>.<a href="../../../../../http4s-server/org/http4s/server/ServerBuilder.scala.html#org.http4s.server.IdleTimeoutSupport.DefaultIdleTimeout" title="=&gt; scala.concurrent.duration.FiniteDuration">DefaultIdleTimeout</a>,
  isNio2 = false,
  serviceMounts = <span title="=&gt; collection.immutable.Vector.type">Vector</span>.<span title="scala.collection.immutable.Vector[Nothing]">empty</span>
<span class="delimiter">)</span>

private case class <a title="class ServiceMount extends AnyRef with Product with Serializable" id="org.http4s.server.blaze.ServiceMount.readResolve">ServiceMount</a><a href="#org.http4s.server.blaze.ServiceMount.readResolve" title="Product" class="delimiter">(</a><a title="org.http4s.server.HttpService" id="org.http4s.server.blaze;ServiceMount.service">service</a>: <a href="../../../../../http4s-server/org/http4s/server/Service.scala.html#org.http4s.server;Service" title="org.http4s.server.HttpService">HttpService</a>, <a title="String" id="org.http4s.server.blaze;ServiceMount.prefix">prefix</a>: <span title="String">String</span><span class="delimiter">)</span>


        </pre>
    </body>
</html>
