<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>http4s-argonaut/org/http4s/argonaut/ArgonautSupport.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
package org.http4s
package argonaut

import _root_.argonaut.<span class="delimiter">{</span>Argonaut, Json<span class="delimiter">}</span>
import jawn.Facade
import jawn.support.argonaut.Parser
import jawnstreamz._
import org.http4s.json.jawn.JawnDecodeSupport
import org.http4s.json.JsonSupport
import scala.util.control.NonFatal
import scalaz.EitherT
import scalaz.stream.<span title="scalaz.stream.Process.type">Process</span>.emit
import scalaz.stream.<span title="scalaz.stream.text.type">text</span>.utf8Encode

trait <a title="trait ArgonautSupport extends AnyRef with org.http4s.json.JsonSupport[argonaut.Json] with org.http4s.json.jawn.JawnDecodeSupport[argonaut.Json]" id="org.http4s.argonaut;ArgonautSupport">ArgonautSupport</a> extends <a href="../../../../http4s-core/org/http4s/json/JsonSupport.scala.html#org.http4s.json;JsonSupport" title="org.http4s.json.JsonSupport[argonaut.Json]">JsonSupport</a><span class="delimiter">[</span>Json<span class="delimiter">]</span> with <a href="../../../../http4s-jawn/org/http4s/json/jawn/JawnDecodeSupport.scala.html#org.http4s.json.jawn;JawnDecodeSupport" title="org.http4s.json.jawn.JawnDecodeSupport[argonaut.Json]">JawnDecodeSupport</a><span class="delimiter">[</span>Json<span class="delimiter">]</span> <span class="delimiter">{</span>
  override protected implicit def <a title="=&gt; jawn.Facade[argonaut.Json]" id="org.http4s.argonaut;ArgonautSupport.jawnFacade">jawnFacade</a>: <span title="jawn.Facade[argonaut.Json]">Facade</span><span class="delimiter">[</span>Json<span class="delimiter">]</span> = <span title="jawn.support.argonaut.Parser.type">Parser</span>.<span title="=&gt; jawn.Facade[argonaut.Json]">facade</span>

  override def <a title="(json: argonaut.Json)org.http4s.EntityBody" id="org.http4s.argonaut;ArgonautSupport.encodeJson">encodeJson</a><span class="delimiter">(</span><a title="argonaut.Json" id="org.http4s.argonaut;ArgonautSupport.encodeJson.json">json</a>: <span title="argonaut.Json">Json</span><span class="delimiter">)</span>: <span title="org.http4s.EntityBody">EntityBody</span> = <span class="delimiter">{</span>
    <span class="comment">// TODO naive implementation materializes to a String.  Consider muster.</span>
    val <a title="String" id="org.http4s.argonaut;ArgonautSupport.encodeJson.str">str</a> = <span title="argonaut.Argonaut.type">Argonaut</span>.<span title="=&gt; argonaut.PrettyParams">nospace</span>.<span title="(j: argonaut.Json)String">pretty</span><span class="delimiter">(</span><a href="#org.http4s.argonaut;ArgonautSupport.encodeJson.json" title="argonaut.Json">json</a><span class="delimiter">)</span>
    <span title="(o: String)scalaz.stream.Process0[String]">emit</span><span class="delimiter">(</span><a href="#org.http4s.argonaut;ArgonautSupport.encodeJson.str" title="String">str</a><span class="delimiter">)</span>.<span title="(p1: scalaz.stream.Process1[String,scodec.bits.ByteVector])scalaz.stream.Process[Nothing,scodec.bits.ByteVector]">pipe</span><span class="delimiter">(</span><span title="=&gt; scalaz.stream.Process1[String,scodec.bits.ByteVector]">utf8Encode</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

object <a title="org.http4s.argonaut.ArgonautSupport.type" id="org.http4s.argonaut.ArgonautSupport">ArgonautSupport</a> extends <a href="#org.http4s.argonaut;ArgonautSupport" title="org.http4s.argonaut.ArgonautSupport">ArgonautSupport</a>

        </pre>
    </body>
</html>
