<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>akka/stream/extra/Timed.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (C) 2009-2014 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
package akka.stream.extra

import scala.collection.immutable
import java.util.concurrent.atomic.AtomicLong
import scala.concurrent.duration._
import scala.<span title="language.type">language</span>.implicitConversions
import scala.<span title="language.type">language</span>.existentials
import akka.stream.scaladsl.<a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes" title="akka.stream.scaladsl.OperationAttributes.type">OperationAttributes</a>._
import akka.stream.scaladsl.Source
import akka.stream.scaladsl.Flow
import akka.stream.stage._

<span class="comment">/**
 * Provides operations needed to implement the `timed` DSL
 */</span>
private<span class="delimiter">[</span>akka<span class="delimiter">]</span> trait <a title="trait TimedOps extends AnyRef" id="akka.stream.extra;TimedOps">TimedOps</a> <span title="Unit" class="delimiter">{</span>

  import <a href="#akka.stream.extra.Timed" title="akka.stream.extra.Timed.type">Timed</a>._

  <span class="comment">/**
   * INTERNAL API
   *
   * Measures time from receiving the first element and completion events - one for each subscriber of this `Flow`.
   */</span>
  def <a title="[I, O](flow: akka.stream.scaladsl.Source[I], measuredOps: akka.stream.scaladsl.Source[I] =&gt; akka.stream.scaladsl.Source[O], onComplete: scala.concurrent.duration.FiniteDuration =&gt; Unit)akka.stream.scaladsl.Source[O]" id="akka.stream.extra;TimedOps.timed(871c7e6c3c)">timed</a><span class="delimiter">[</span><a title="" id="akka.stream.extra;TimedOps.timed(871c7e6c3c);I">I</a>, <a title="" id="akka.stream.extra;TimedOps.timed(871c7e6c3c);O">O</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="akka.stream.scaladsl.Source[I]" id="akka.stream.extra;TimedOps.timed(871c7e6c3c).flow">flow</a>: <a href="../scaladsl/Source.scala.html#akka.stream.scaladsl;Source" title="akka.stream.scaladsl.Source[I]">Source</a><span class="delimiter">[</span>I<span class="delimiter">]</span>, <a title="akka.stream.scaladsl.Source[I] =&gt; akka.stream.scaladsl.Source[O]" id="akka.stream.extra;TimedOps.timed(871c7e6c3c).measuredOps">measuredOps</a>: Source<span class="delimiter">[</span>I<span class="delimiter">]</span> ⇒ Source<span class="delimiter">[</span>O<span class="delimiter">]</span>, <a title="scala.concurrent.duration.FiniteDuration =&gt; Unit" id="akka.stream.extra;TimedOps.timed(871c7e6c3c).onComplete">onComplete</a>: FiniteDuration ⇒ Unit<span class="delimiter">)</span>: <a href="../scaladsl/Source.scala.html#akka.stream.scaladsl;Source" title="akka.stream.scaladsl.Source[O]">Source</a><span class="delimiter">[</span>O<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="akka.stream.extra.Timed.TimedFlowContext" id="akka.stream.extra;TimedOps.timed(871c7e6c3c).ctx">ctx</a> = new <a href="#akka.stream.extra.Timed;TimedFlowContext" title="akka.stream.extra.Timed.TimedFlowContext">TimedFlowContext</a>

    val <a title="akka.stream.scaladsl.Source[I] =&gt; akka.stream.scaladsl.Source[I]#Repr[I]" id="akka.stream.extra;TimedOps.timed(871c7e6c3c).startTimed">startTimed</a> = <span class="delimiter">(</span>f: <a href="../scaladsl/Source.scala.html#akka.stream.scaladsl;Source" title="akka.stream.scaladsl.Source[I]">Source</a><span class="delimiter">[</span>I<span class="delimiter">]</span><span class="delimiter">)</span> ⇒ <a href="#akka.stream.extra;TimedOps.timed(871c7e6c3c).startTimed.$anonfun.f" title="akka.stream.scaladsl.Source[I]">f</a>.<a href="../scaladsl/Flow.scala.html#akka.stream.scaladsl;FlowOps.transform" title="(mkStage: () =&gt; akka.stream.stage.Stage[I,I])f.Repr[I]">transform</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> ⇒ new <a href="#akka.stream.extra.Timed;StartTimedFlow" title="akka.stream.extra.Timed.StartTimedFlow[I]">StartTimedFlow</a><span class="delimiter">(</span><a href="#akka.stream.extra;TimedOps.timed(871c7e6c3c).ctx" title="akka.stream.extra.Timed.TimedFlowContext">ctx</a><span class="delimiter">)</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.Source[O] =&gt; akka.stream.scaladsl.Source[O]#Repr[O]" id="akka.stream.extra;TimedOps.timed(871c7e6c3c).stopTimed">stopTimed</a> = <span class="delimiter">(</span>f: <a href="../scaladsl/Source.scala.html#akka.stream.scaladsl;Source" title="akka.stream.scaladsl.Source[O]">Source</a><span class="delimiter">[</span>O<span class="delimiter">]</span><span class="delimiter">)</span> ⇒ <a href="#akka.stream.extra;TimedOps.timed(871c7e6c3c).stopTimed.$anonfun.f" title="akka.stream.scaladsl.Source[O]">f</a>.<a href="../scaladsl/Flow.scala.html#akka.stream.scaladsl;FlowOps.transform" title="(mkStage: () =&gt; akka.stream.stage.Stage[O,O])f.Repr[O]">transform</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> ⇒ new <a href="#akka.stream.extra.Timed;StopTimed" title="akka.stream.extra.Timed.StopTimed[O]">StopTimed</a><span class="delimiter">(</span><a href="#akka.stream.extra;TimedOps.timed(871c7e6c3c).ctx" title="akka.stream.extra.Timed.TimedFlowContext">ctx</a>, <a href="#akka.stream.extra;TimedOps.timed(871c7e6c3c).onComplete" title="scala.concurrent.duration.FiniteDuration =&gt; Unit">onComplete</a><span class="delimiter">)</span><span class="delimiter">)</span>

    val measured = <span class="delimiter">(</span><span class="delimiter">(</span>s: <a href="../scaladsl/Source.scala.html#akka.stream.scaladsl;Source" title="akka.stream.scaladsl.Source[I]">Source</a><span class="delimiter">[</span>I<span class="delimiter">]</span><span class="delimiter">)</span> ⇒ <a href="#akka.stream.extra;TimedOps.timed(871c7e6c3c).measured.$anonfun.s" title="akka.stream.scaladsl.Source[I]">s</a><span class="delimiter">)</span> <span title="(g: akka.stream.scaladsl.Source[I] =&gt; akka.stream.scaladsl.Source[I])akka.stream.scaladsl.Source[I] =&gt; akka.stream.scaladsl.Source[I]">andThen</span>
      <span class="delimiter">(</span><a href="#akka.stream.extra;TimedOps.timed(871c7e6c3c).measured.$anonfun.x$1" title="akka.stream.scaladsl.Source[I]">_</a>.<a href="../scaladsl/Source.scala.html#akka.stream.scaladsl;Source.section" title="(attributes: akka.stream.scaladsl.OperationAttributes)(section: akka.stream.scaladsl.Source[I] =&gt; akka.stream.scaladsl.Source[I])akka.stream.scaladsl.Source[I]">section</a><span class="delimiter">(</span><a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;startTimed&quot;)" class="string">&quot;startTimed&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#akka.stream.extra;TimedOps.timed(871c7e6c3c).startTimed" title="akka.stream.scaladsl.Source[I] =&gt; akka.stream.scaladsl.Source[I]#Repr[I]">startTimed</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(g: akka.stream.scaladsl.Source[I] =&gt; akka.stream.scaladsl.Source[O])akka.stream.scaladsl.Source[I] =&gt; akka.stream.scaladsl.Source[O]">andThen</span>
      <a href="#akka.stream.extra;TimedOps.timed(871c7e6c3c).measuredOps" title="akka.stream.scaladsl.Source[I] =&gt; akka.stream.scaladsl.Source[O]">measuredOps</a> <a title="akka.stream.scaladsl.Source[I] =&gt; akka.stream.scaladsl.Source[O]" id="akka.stream.extra;TimedOps.timed(871c7e6c3c).measured">andThen</a>
      <span class="delimiter">(</span><a href="#akka.stream.extra;TimedOps.timed(871c7e6c3c).measured.$anonfun.x$2" title="akka.stream.scaladsl.Source[O]">_</a>.<a href="../scaladsl/Source.scala.html#akka.stream.scaladsl;Source.section" title="(attributes: akka.stream.scaladsl.OperationAttributes)(section: akka.stream.scaladsl.Source[O] =&gt; akka.stream.scaladsl.Source[O])akka.stream.scaladsl.Source[O]">section</a><span class="delimiter">(</span><a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;stopTimed&quot;)" class="string">&quot;stopTimed&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#akka.stream.extra;TimedOps.timed(871c7e6c3c).stopTimed" title="akka.stream.scaladsl.Source[O] =&gt; akka.stream.scaladsl.Source[O]#Repr[O]">stopTimed</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="#akka.stream.extra;TimedOps.timed(871c7e6c3c).measured" title="(v1: akka.stream.scaladsl.Source[I])akka.stream.scaladsl.Source[O]">measured</a><span class="delimiter">(</span><a href="#akka.stream.extra;TimedOps.timed(871c7e6c3c).flow" title="akka.stream.scaladsl.Source[I]">flow</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * INTERNAL API
   *
   * Measures time from receiving the first element and completion events - one for each subscriber of this `Flow`.
   */</span>
  def <a title="[I, O, Out](flow: akka.stream.scaladsl.Flow[I,O], measuredOps: akka.stream.scaladsl.Flow[I,O] =&gt; akka.stream.scaladsl.Flow[O,Out], onComplete: scala.concurrent.duration.FiniteDuration =&gt; Unit)akka.stream.scaladsl.Flow[O,Out]" id="akka.stream.extra;TimedOps.timed(adb86c92a9)">timed</a><span class="delimiter">[</span><a title="" id="akka.stream.extra;TimedOps.timed(adb86c92a9);I">I</a>, <a title="" id="akka.stream.extra;TimedOps.timed(adb86c92a9);O">O</a>, <a title="" id="akka.stream.extra;TimedOps.timed(adb86c92a9);Out">Out</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="akka.stream.scaladsl.Flow[I,O]" id="akka.stream.extra;TimedOps.timed(adb86c92a9).flow">flow</a>: <a href="../scaladsl/Flow.scala.html#akka.stream.scaladsl;Flow" title="akka.stream.scaladsl.Flow[I,O]">Flow</a><span class="delimiter">[</span>I, O<span class="delimiter">]</span>, <a title="akka.stream.scaladsl.Flow[I,O] =&gt; akka.stream.scaladsl.Flow[O,Out]" id="akka.stream.extra;TimedOps.timed(adb86c92a9).measuredOps">measuredOps</a>: Flow<span class="delimiter">[</span>I, O<span class="delimiter">]</span> ⇒ Flow<span class="delimiter">[</span>O, Out<span class="delimiter">]</span>, <a title="scala.concurrent.duration.FiniteDuration =&gt; Unit" id="akka.stream.extra;TimedOps.timed(adb86c92a9).onComplete">onComplete</a>: FiniteDuration ⇒ Unit<span class="delimiter">)</span>: <a href="../scaladsl/Flow.scala.html#akka.stream.scaladsl;Flow" title="akka.stream.scaladsl.Flow[O,Out]">Flow</a><span class="delimiter">[</span>O, Out<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// todo is there any other way to provide this for Flow, without duplicating impl?</span>
    <span class="comment">// they do share a super-type (FlowOps), but all operations of FlowOps return path dependant type</span>
    val <a title="akka.stream.extra.Timed.TimedFlowContext" id="akka.stream.extra;TimedOps.timed(adb86c92a9).ctx">ctx</a> = new <a href="#akka.stream.extra.Timed;TimedFlowContext" title="akka.stream.extra.Timed.TimedFlowContext">TimedFlowContext</a>

    val <a title="akka.stream.scaladsl.Flow[I,O] =&gt; akka.stream.scaladsl.Flow[I,O]#Repr[O]" id="akka.stream.extra;TimedOps.timed(adb86c92a9).startTimed">startTimed</a> = <span class="delimiter">(</span>f: <a href="../scaladsl/Flow.scala.html#akka.stream.scaladsl;Flow" title="akka.stream.scaladsl.Flow[I,O]">Flow</a><span class="delimiter">[</span>I, O<span class="delimiter">]</span><span class="delimiter">)</span> ⇒ <a href="#akka.stream.extra;TimedOps.timed(adb86c92a9).startTimed.$anonfun.f" title="akka.stream.scaladsl.Flow[I,O]">f</a>.<a href="../scaladsl/Flow.scala.html#akka.stream.scaladsl;FlowOps.transform" title="(mkStage: () =&gt; akka.stream.stage.Stage[O,O])f.Repr[O]">transform</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> ⇒ new <a href="#akka.stream.extra.Timed;StartTimedFlow" title="akka.stream.extra.Timed.StartTimedFlow[O]">StartTimedFlow</a><span class="delimiter">(</span><a href="#akka.stream.extra;TimedOps.timed(adb86c92a9).ctx" title="akka.stream.extra.Timed.TimedFlowContext">ctx</a><span class="delimiter">)</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.Flow[O,Out] =&gt; akka.stream.scaladsl.Flow[O,Out]#Repr[Out]" id="akka.stream.extra;TimedOps.timed(adb86c92a9).stopTimed">stopTimed</a> = <span class="delimiter">(</span>f: <a href="../scaladsl/Flow.scala.html#akka.stream.scaladsl;Flow" title="akka.stream.scaladsl.Flow[O,Out]">Flow</a><span class="delimiter">[</span>O, Out<span class="delimiter">]</span><span class="delimiter">)</span> ⇒ <a href="#akka.stream.extra;TimedOps.timed(adb86c92a9).stopTimed.$anonfun.f" title="akka.stream.scaladsl.Flow[O,Out]">f</a>.<a href="../scaladsl/Flow.scala.html#akka.stream.scaladsl;FlowOps.transform" title="(mkStage: () =&gt; akka.stream.stage.Stage[Out,Out])f.Repr[Out]">transform</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> ⇒ new <a href="#akka.stream.extra.Timed;StopTimed" title="akka.stream.extra.Timed.StopTimed[Out]">StopTimed</a><span class="delimiter">(</span><a href="#akka.stream.extra;TimedOps.timed(adb86c92a9).ctx" title="akka.stream.extra.Timed.TimedFlowContext">ctx</a>, <a href="#akka.stream.extra;TimedOps.timed(adb86c92a9).onComplete" title="scala.concurrent.duration.FiniteDuration =&gt; Unit">onComplete</a><span class="delimiter">)</span><span class="delimiter">)</span>

    val measured = <span class="delimiter">(</span><span class="delimiter">(</span>f: <a href="../scaladsl/Flow.scala.html#akka.stream.scaladsl;Flow" title="akka.stream.scaladsl.Flow[I,O]">Flow</a><span class="delimiter">[</span>I, O<span class="delimiter">]</span><span class="delimiter">)</span> ⇒ <a href="#akka.stream.extra;TimedOps.timed(adb86c92a9).measured.$anonfun.f" title="akka.stream.scaladsl.Flow[I,O]">f</a><span class="delimiter">)</span> <span title="(g: akka.stream.scaladsl.Flow[I,O] =&gt; akka.stream.scaladsl.Flow[I,O])akka.stream.scaladsl.Flow[I,O] =&gt; akka.stream.scaladsl.Flow[I,O]">andThen</span>
      <span class="delimiter">(</span><a href="#akka.stream.extra;TimedOps.timed(adb86c92a9).measured.$anonfun.x$3" title="akka.stream.scaladsl.Flow[I,O]">_</a>.<a href="../scaladsl/Flow.scala.html#akka.stream.scaladsl;Flow.section" title="(attributes: akka.stream.scaladsl.OperationAttributes)(section: akka.stream.scaladsl.Flow[I,O] =&gt; akka.stream.scaladsl.Flow[I,O])akka.stream.scaladsl.Flow[I,O]">section</a><span class="delimiter">(</span><a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;startTimed&quot;)" class="string">&quot;startTimed&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#akka.stream.extra;TimedOps.timed(adb86c92a9).startTimed" title="akka.stream.scaladsl.Flow[I,O] =&gt; akka.stream.scaladsl.Flow[I,O]#Repr[O]">startTimed</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(g: akka.stream.scaladsl.Flow[I,O] =&gt; akka.stream.scaladsl.Flow[O,Out])akka.stream.scaladsl.Flow[I,O] =&gt; akka.stream.scaladsl.Flow[O,Out]">andThen</span>
      <a href="#akka.stream.extra;TimedOps.timed(adb86c92a9).measuredOps" title="akka.stream.scaladsl.Flow[I,O] =&gt; akka.stream.scaladsl.Flow[O,Out]">measuredOps</a> <a title="akka.stream.scaladsl.Flow[I,O] =&gt; akka.stream.scaladsl.Flow[O,Out]" id="akka.stream.extra;TimedOps.timed(adb86c92a9).measured">andThen</a>
      <span class="delimiter">(</span><a href="#akka.stream.extra;TimedOps.timed(adb86c92a9).measured.$anonfun.x$4" title="akka.stream.scaladsl.Flow[O,Out]">_</a>.<a href="../scaladsl/Flow.scala.html#akka.stream.scaladsl;Flow.section" title="(attributes: akka.stream.scaladsl.OperationAttributes)(section: akka.stream.scaladsl.Flow[O,Out] =&gt; akka.stream.scaladsl.Flow[O,Out])akka.stream.scaladsl.Flow[O,Out]">section</a><span class="delimiter">(</span><a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;stopTimed&quot;)" class="string">&quot;stopTimed&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#akka.stream.extra;TimedOps.timed(adb86c92a9).stopTimed" title="akka.stream.scaladsl.Flow[O,Out] =&gt; akka.stream.scaladsl.Flow[O,Out]#Repr[Out]">stopTimed</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="#akka.stream.extra;TimedOps.timed(adb86c92a9).measured" title="(v1: akka.stream.scaladsl.Flow[I,O])akka.stream.scaladsl.Flow[O,Out]">measured</a><span class="delimiter">(</span><a href="#akka.stream.extra;TimedOps.timed(adb86c92a9).flow" title="akka.stream.scaladsl.Flow[I,O]">flow</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 *
 * Provides operations needed to implement the `timedIntervalBetween` DSL
 */</span>
private<span class="delimiter">[</span>akka<span class="delimiter">]</span> trait <a title="trait TimedIntervalBetweenOps extends AnyRef" id="akka.stream.extra;TimedIntervalBetweenOps">TimedIntervalBetweenOps</a> <span title="Unit" class="delimiter">{</span>

  import <a href="#akka.stream.extra.Timed" title="akka.stream.extra.Timed.type">Timed</a>._

  <span class="comment">/**
   * Measures rolling interval between immediately subsequent `matching(o: O)` elements.
   */</span>
  def <a title="[O](flow: akka.stream.scaladsl.Source[O], matching: O =&gt; Boolean, onInterval: scala.concurrent.duration.FiniteDuration =&gt; Unit)akka.stream.scaladsl.Source[O]" id="akka.stream.extra;TimedIntervalBetweenOps.timedIntervalBetween(01584db3c9)">timedIntervalBetween</a><span class="delimiter">[</span><a title="" id="akka.stream.extra;TimedIntervalBetweenOps.timedIntervalBetween(01584db3c9);O">O</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="akka.stream.scaladsl.Source[O]" id="akka.stream.extra;TimedIntervalBetweenOps.timedIntervalBetween(01584db3c9).flow">flow</a>: <a href="../scaladsl/Source.scala.html#akka.stream.scaladsl;Source" title="akka.stream.scaladsl.Source[O]">Source</a><span class="delimiter">[</span>O<span class="delimiter">]</span>, <a title="O =&gt; Boolean" id="akka.stream.extra;TimedIntervalBetweenOps.timedIntervalBetween(01584db3c9).matching">matching</a>: O ⇒ Boolean, <a title="scala.concurrent.duration.FiniteDuration =&gt; Unit" id="akka.stream.extra;TimedIntervalBetweenOps.timedIntervalBetween(01584db3c9).onInterval">onInterval</a>: FiniteDuration ⇒ Unit<span class="delimiter">)</span>: <a href="../scaladsl/Source.scala.html#akka.stream.scaladsl;Source" title="akka.stream.scaladsl.Source[O]">Source</a><span class="delimiter">[</span>O<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#akka.stream.extra;TimedIntervalBetweenOps.timedIntervalBetween(01584db3c9).flow" title="akka.stream.scaladsl.Source[O]">flow</a>.<a href="../scaladsl/Source.scala.html#akka.stream.scaladsl;Source.section" title="(attributes: akka.stream.scaladsl.OperationAttributes)(section: akka.stream.scaladsl.Source[O] =&gt; akka.stream.scaladsl.Source[O])akka.stream.scaladsl.Source[O]">section</a><span class="delimiter">(</span><a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;timedInterval&quot;)" class="string">&quot;timedInterval&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#akka.stream.extra;TimedIntervalBetweenOps.timedIntervalBetween(01584db3c9).$anonfun.x$5" title="akka.stream.scaladsl.Source[O]">_</a>.<a href="../scaladsl/Flow.scala.html#akka.stream.scaladsl;FlowOps.transform" title="(mkStage: () =&gt; akka.stream.stage.Stage[O,O])x$5.Repr[O]">transform</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> ⇒ new <a href="#akka.stream.extra.Timed;TimedIntervalTransformer" title="akka.stream.extra.Timed.TimedIntervalTransformer[O]">TimedIntervalTransformer</a><span class="delimiter">[</span>O<span class="delimiter">]</span><span class="delimiter">(</span><a href="#akka.stream.extra;TimedIntervalBetweenOps.timedIntervalBetween(01584db3c9).matching" title="O =&gt; Boolean">matching</a>, <a href="#akka.stream.extra;TimedIntervalBetweenOps.timedIntervalBetween(01584db3c9).onInterval" title="scala.concurrent.duration.FiniteDuration =&gt; Unit">onInterval</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Measures rolling interval between immediately subsequent `matching(o: O)` elements.
   */</span>
  def <a title="[I, O](flow: akka.stream.scaladsl.Flow[I,O], matching: O =&gt; Boolean, onInterval: scala.concurrent.duration.FiniteDuration =&gt; Unit)akka.stream.scaladsl.Flow[I,O]" id="akka.stream.extra;TimedIntervalBetweenOps.timedIntervalBetween(3c5ec42f18)">timedIntervalBetween</a><span class="delimiter">[</span><a title="" id="akka.stream.extra;TimedIntervalBetweenOps.timedIntervalBetween(3c5ec42f18);I">I</a>, <a title="" id="akka.stream.extra;TimedIntervalBetweenOps.timedIntervalBetween(3c5ec42f18);O">O</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="akka.stream.scaladsl.Flow[I,O]" id="akka.stream.extra;TimedIntervalBetweenOps.timedIntervalBetween(3c5ec42f18).flow">flow</a>: <a href="../scaladsl/Flow.scala.html#akka.stream.scaladsl;Flow" title="akka.stream.scaladsl.Flow[I,O]">Flow</a><span class="delimiter">[</span>I, O<span class="delimiter">]</span>, <a title="O =&gt; Boolean" id="akka.stream.extra;TimedIntervalBetweenOps.timedIntervalBetween(3c5ec42f18).matching">matching</a>: O ⇒ Boolean, <a title="scala.concurrent.duration.FiniteDuration =&gt; Unit" id="akka.stream.extra;TimedIntervalBetweenOps.timedIntervalBetween(3c5ec42f18).onInterval">onInterval</a>: FiniteDuration ⇒ Unit<span class="delimiter">)</span>: <a href="../scaladsl/Flow.scala.html#akka.stream.scaladsl;Flow" title="akka.stream.scaladsl.Flow[I,O]">Flow</a><span class="delimiter">[</span>I, O<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// todo is there any other way to provide this for Flow / Duct, without duplicating impl?</span>
    <span class="comment">// they do share a super-type (FlowOps), but all operations of FlowOps return path dependant type</span>
    <a href="#akka.stream.extra;TimedIntervalBetweenOps.timedIntervalBetween(3c5ec42f18).flow" title="akka.stream.scaladsl.Flow[I,O]">flow</a>.<a href="../scaladsl/Flow.scala.html#akka.stream.scaladsl;Flow.section" title="(attributes: akka.stream.scaladsl.OperationAttributes)(section: akka.stream.scaladsl.Flow[I,O] =&gt; akka.stream.scaladsl.Flow[I,O])akka.stream.scaladsl.Flow[I,O]">section</a><span class="delimiter">(</span><a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;timedInterval&quot;)" class="string">&quot;timedInterval&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#akka.stream.extra;TimedIntervalBetweenOps.timedIntervalBetween(3c5ec42f18).$anonfun.x$6" title="akka.stream.scaladsl.Flow[I,O]">_</a>.<a href="../scaladsl/Flow.scala.html#akka.stream.scaladsl;FlowOps.transform" title="(mkStage: () =&gt; akka.stream.stage.Stage[O,O])x$6.Repr[O]">transform</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> ⇒ new <a href="#akka.stream.extra.Timed;TimedIntervalTransformer" title="akka.stream.extra.Timed.TimedIntervalTransformer[O]">TimedIntervalTransformer</a><span class="delimiter">[</span>O<span class="delimiter">]</span><span class="delimiter">(</span><a href="#akka.stream.extra;TimedIntervalBetweenOps.timedIntervalBetween(3c5ec42f18).matching" title="O =&gt; Boolean">matching</a>, <a href="#akka.stream.extra;TimedIntervalBetweenOps.timedIntervalBetween(3c5ec42f18).onInterval" title="scala.concurrent.duration.FiniteDuration =&gt; Unit">onInterval</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

object <a title="akka.stream.extra.Timed.type" id="akka.stream.extra.Timed">Timed</a> extends <a href="#akka.stream.extra;TimedOps" title="akka.stream.extra.TimedOps">TimedOps</a> with <a href="#akka.stream.extra;TimedIntervalBetweenOps" title="akka.stream.extra.TimedIntervalBetweenOps">TimedIntervalBetweenOps</a> <span class="delimiter">{</span>

  <span class="comment">// todo needs java DSL</span>

  final class <a title="class TimedFlowContext extends AnyRef" id="akka.stream.extra.Timed;TimedFlowContext">TimedFlowContext</a> <a href="#akka.stream.extra.Timed;TimedFlowContext" title="akka.stream.extra.Timed.TimedFlowContext" class="delimiter">{</a>
    import scala.concurrent.duration._

    private val <a title="java.util.concurrent.atomic.AtomicLong" id="akka.stream.extra.Timed;TimedFlowContext._start">_start</a> = new <span title="java.util.concurrent.atomic.AtomicLong">AtomicLong</span>
    private val <a title="java.util.concurrent.atomic.AtomicLong" id="akka.stream.extra.Timed;TimedFlowContext._stop">_stop</a> = new <span title="java.util.concurrent.atomic.AtomicLong">AtomicLong</span>

    def <a title="()Unit" id="akka.stream.extra.Timed;TimedFlowContext.start">start</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <a href="#akka.stream.extra.Timed;TimedFlowContext._start" title="=&gt; java.util.concurrent.atomic.AtomicLong">_start</a>.<span title="(x$1: Long, x$2: Long)Boolean">compareAndSet</span><span title="Unit" class="delimiter">(</span><span title="Long(0L)" class="int">0</span>, <span title="System.type">System</span>.<span title="()Long">nanoTime</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    def <a title="()scala.concurrent.duration.FiniteDuration" id="akka.stream.extra.Timed;TimedFlowContext.stop">stop</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span> = <span class="delimiter">{</span>
      <a href="#akka.stream.extra.Timed;TimedFlowContext._stop" title="=&gt; java.util.concurrent.atomic.AtomicLong">_stop</a>.<span title="(x$1: Long, x$2: Long)Boolean">compareAndSet</span><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span>, <span title="System.type">System</span>.<span title="()Long">nanoTime</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#akka.stream.extra.Timed;TimedFlowContext.compareStartAndStop" title="()scala.concurrent.duration.FiniteDuration">compareStartAndStop</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    private def <a title="()scala.concurrent.duration.FiniteDuration" id="akka.stream.extra.Timed;TimedFlowContext.compareStartAndStop">compareStartAndStop</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span> = <span class="delimiter">{</span>
      val <a title="Long" id="akka.stream.extra.Timed;TimedFlowContext.compareStartAndStop.stp">stp</a> = <a href="#akka.stream.extra.Timed;TimedFlowContext._stop" title="=&gt; java.util.concurrent.atomic.AtomicLong">_stop</a>.<span title="()Long">get</span>
      if <span class="delimiter">(</span><a href="#akka.stream.extra.Timed;TimedFlowContext.compareStartAndStop.stp" title="Long">stp</a> <span title="(x: Int)Boolean">&lt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="scala.concurrent.duration.Duration.type">Duration</span>.<span title="=&gt; scala.concurrent.duration.FiniteDuration">Zero</span>
      else <span class="delimiter">(</span><a href="#akka.stream.extra.Timed;TimedFlowContext.compareStartAndStop.stp" title="Long">stp</a> <span title="implicit scala.concurrent.duration.package.DurationLong : (n: Long)concurrent.duration.DurationLong">-</span> <a href="#akka.stream.extra.Timed;TimedFlowContext._start" title="=&gt; java.util.concurrent.atomic.AtomicLong">_start</a>.<span title="()Long">get</span><span class="delimiter">)</span>.<span title="=&gt; scala.concurrent.duration.FiniteDuration">nanos</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  final class <a title="class StartTimedFlow[T] extends akka.stream.stage.PushStage[T,T]" id="akka.stream.extra.Timed;StartTimedFlow">StartTimedFlow</a><span class="delimiter">[</span><a title="" id="akka.stream.extra.Timed;StartTimedFlow;T">T</a><span class="delimiter">]</span><a href="#akka.stream.extra.Timed;StartTimedFlow" title="akka.stream.extra.Timed.StartTimedFlow[T]" class="delimiter">(</a><a title="akka.stream.extra.Timed.TimedFlowContext" id="akka.stream.extra.Timed;StartTimedFlow.timedContext">timedContext</a>: <a href="#akka.stream.extra.Timed;TimedFlowContext" title="akka.stream.extra.Timed.TimedFlowContext">TimedFlowContext</a><span class="delimiter">)</span> extends <a href="../stage/Stage.scala.html#akka.stream.stage;PushStage" title="akka.stream.stage.PushStage[T,T]">PushStage</a><span class="delimiter">[</span>T, T<span class="delimiter">]</span> <span class="delimiter">{</span>
    private var <a title="Boolean" id="akka.stream.extra.Timed;StartTimedFlow.started_=">started</a> = false

    override def <a title="(elem: T, ctx: akka.stream.stage.Context[T])akka.stream.stage.Directive" id="akka.stream.extra.Timed;StartTimedFlow.onPush">onPush</a><span class="delimiter">(</span><a title="T" id="akka.stream.extra.Timed;StartTimedFlow.onPush.elem">elem</a>: <a href="#akka.stream.extra.Timed;StartTimedFlow;T" title="T">T</a>, <a title="akka.stream.stage.Context[T]" id="akka.stream.extra.Timed;StartTimedFlow.onPush.ctx">ctx</a>: <a href="../stage/Stage.scala.html#akka.stream.stage;Context" title="akka.stream.stage.Context[T]">Context</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../stage/Stage.scala.html#akka.stream.stage;Directive" title="akka.stream.stage.Directive">Directive</a> = <span class="delimiter">{</span>
      if <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.stream.extra.Timed;StartTimedFlow.started_=" title="=&gt; Boolean">started</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#akka.stream.extra.Timed;StartTimedFlow.timedContext" title="akka.stream.extra.Timed.TimedFlowContext">timedContext</a>.<a href="#akka.stream.extra.Timed;TimedFlowContext.start" title="()Unit">start</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#akka.stream.extra.Timed;StartTimedFlow.started_=" title="(x$1: Boolean)Unit">started</a> = true
      <span class="delimiter">}</span>
      <a href="#akka.stream.extra.Timed;StartTimedFlow.onPush.ctx" title="akka.stream.stage.Context[T]">ctx</a>.<a href="../stage/Stage.scala.html#akka.stream.stage;Context.push" title="(elem: T)akka.stream.stage.DownstreamDirective">push</a><span class="delimiter">(</span><a href="#akka.stream.extra.Timed;StartTimedFlow.onPush.elem" title="T">elem</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  final class <a title="class StopTimed[T] extends akka.stream.stage.PushStage[T,T]" id="akka.stream.extra.Timed;StopTimed">StopTimed</a><span class="delimiter">[</span><a title="" id="akka.stream.extra.Timed;StopTimed;T">T</a><span class="delimiter">]</span><a href="#akka.stream.extra.Timed;StopTimed" title="akka.stream.extra.Timed.StopTimed[T]" class="delimiter">(</a><a title="akka.stream.extra.Timed.TimedFlowContext" id="akka.stream.extra.Timed;StopTimed.timedContext">timedContext</a>: <a href="#akka.stream.extra.Timed;TimedFlowContext" title="akka.stream.extra.Timed.TimedFlowContext">TimedFlowContext</a>, <a title="scala.concurrent.duration.FiniteDuration =&gt; Unit" id="akka.stream.extra.Timed;StopTimed._onComplete">_onComplete</a>: FiniteDuration ⇒ Unit<span class="delimiter">)</span> extends <a href="../stage/Stage.scala.html#akka.stream.stage;PushStage" title="akka.stream.stage.PushStage[T,T]">PushStage</a><span class="delimiter">[</span>T, T<span class="delimiter">]</span> <span class="delimiter">{</span>

    override def <a title="(elem: T, ctx: akka.stream.stage.Context[T])akka.stream.stage.Directive" id="akka.stream.extra.Timed;StopTimed.onPush">onPush</a><span class="delimiter">(</span><a title="T" id="akka.stream.extra.Timed;StopTimed.onPush.elem">elem</a>: <a href="#akka.stream.extra.Timed;StopTimed;T" title="T">T</a>, <a title="akka.stream.stage.Context[T]" id="akka.stream.extra.Timed;StopTimed.onPush.ctx">ctx</a>: <a href="../stage/Stage.scala.html#akka.stream.stage;Context" title="akka.stream.stage.Context[T]">Context</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../stage/Stage.scala.html#akka.stream.stage;Directive" title="akka.stream.stage.Directive">Directive</a> = <a href="#akka.stream.extra.Timed;StopTimed.onPush.ctx" title="akka.stream.stage.Context[T]">ctx</a>.<a href="../stage/Stage.scala.html#akka.stream.stage;Context.push" title="(elem: T)akka.stream.stage.DownstreamDirective">push</a><span class="delimiter">(</span><a href="#akka.stream.extra.Timed;StopTimed.onPush.elem" title="T">elem</a><span class="delimiter">)</span>

    override def <a title="(cause: Throwable, ctx: akka.stream.stage.Context[T])akka.stream.stage.TerminationDirective" id="akka.stream.extra.Timed;StopTimed.onUpstreamFailure">onUpstreamFailure</a><span class="delimiter">(</span><a title="Throwable" id="akka.stream.extra.Timed;StopTimed.onUpstreamFailure.cause">cause</a>: <span title="Throwable">Throwable</span>, <a title="akka.stream.stage.Context[T]" id="akka.stream.extra.Timed;StopTimed.onUpstreamFailure.ctx">ctx</a>: <a href="../stage/Stage.scala.html#akka.stream.stage;Context" title="akka.stream.stage.Context[T]">Context</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../stage/Stage.scala.html#akka.stream.stage;TerminationDirective" title="akka.stream.stage.TerminationDirective">TerminationDirective</a> = <span class="delimiter">{</span>
      <a href="#akka.stream.extra.Timed;StopTimed.stopTime" title="()Unit">stopTime</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#akka.stream.extra.Timed;StopTimed.onUpstreamFailure.ctx" title="akka.stream.stage.Context[T]">ctx</a>.<a href="../stage/Stage.scala.html#akka.stream.stage;Context.fail" title="(cause: Throwable)akka.stream.stage.FreeDirective">fail</a><span class="delimiter">(</span><a href="#akka.stream.extra.Timed;StopTimed.onUpstreamFailure.cause" title="Throwable">cause</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    override def <a title="(ctx: akka.stream.stage.Context[T])akka.stream.stage.TerminationDirective" id="akka.stream.extra.Timed;StopTimed.onUpstreamFinish">onUpstreamFinish</a><span class="delimiter">(</span><a title="akka.stream.stage.Context[T]" id="akka.stream.extra.Timed;StopTimed.onUpstreamFinish.ctx">ctx</a>: <a href="../stage/Stage.scala.html#akka.stream.stage;Context" title="akka.stream.stage.Context[T]">Context</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../stage/Stage.scala.html#akka.stream.stage;TerminationDirective" title="akka.stream.stage.TerminationDirective">TerminationDirective</a> = <span class="delimiter">{</span>
      <a href="#akka.stream.extra.Timed;StopTimed.stopTime" title="()Unit">stopTime</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#akka.stream.extra.Timed;StopTimed.onUpstreamFinish.ctx" title="akka.stream.stage.Context[T]">ctx</a>.<a href="../stage/Stage.scala.html#akka.stream.stage;Context.finish" title="()akka.stream.stage.FreeDirective">finish</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    private def <a title="()Unit" id="akka.stream.extra.Timed;StopTimed.stopTime">stopTime</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      val <a title="scala.concurrent.duration.FiniteDuration" id="akka.stream.extra.Timed;StopTimed.stopTime.d">d</a> = <a href="#akka.stream.extra.Timed;StopTimed.timedContext" title="akka.stream.extra.Timed.TimedFlowContext">timedContext</a>.<a href="#akka.stream.extra.Timed;TimedFlowContext.stop" title="()scala.concurrent.duration.FiniteDuration">stop</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#akka.stream.extra.Timed;StopTimed._onComplete" title="(v1: scala.concurrent.duration.FiniteDuration)Unit">_onComplete</a><span class="delimiter">(</span><a href="#akka.stream.extra.Timed;StopTimed.stopTime.d" title="scala.concurrent.duration.FiniteDuration">d</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span>

  final class <a title="class TimedIntervalTransformer[T] extends akka.stream.stage.PushStage[T,T]" id="akka.stream.extra.Timed;TimedIntervalTransformer">TimedIntervalTransformer</a><span class="delimiter">[</span><a title="" id="akka.stream.extra.Timed;TimedIntervalTransformer;T">T</a><span class="delimiter">]</span><a href="#akka.stream.extra.Timed;TimedIntervalTransformer" title="akka.stream.extra.Timed.TimedIntervalTransformer[T]" class="delimiter">(</a><a title="T =&gt; Boolean" id="akka.stream.extra.Timed;TimedIntervalTransformer.matching">matching</a>: T ⇒ Boolean, <a title="scala.concurrent.duration.FiniteDuration =&gt; Unit" id="akka.stream.extra.Timed;TimedIntervalTransformer.onInterval">onInterval</a>: FiniteDuration ⇒ Unit<span class="delimiter">)</span> extends <a href="../stage/Stage.scala.html#akka.stream.stage;PushStage" title="akka.stream.stage.PushStage[T,T]">PushStage</a><span class="delimiter">[</span>T, T<span class="delimiter">]</span> <span class="delimiter">{</span>
    private var <a title="Long" id="akka.stream.extra.Timed;TimedIntervalTransformer.prevNanos_=">prevNanos</a> = <span title="Long(0L)" class="long">0L</span>
    private var <a title="Long" id="akka.stream.extra.Timed;TimedIntervalTransformer.matched_=">matched</a> = <span title="Long(0L)" class="long">0L</span>

    override def <a title="(elem: T, ctx: akka.stream.stage.Context[T])akka.stream.stage.Directive" id="akka.stream.extra.Timed;TimedIntervalTransformer.onPush">onPush</a><span class="delimiter">(</span><a title="T" id="akka.stream.extra.Timed;TimedIntervalTransformer.onPush.elem">elem</a>: <a href="#akka.stream.extra.Timed;TimedIntervalTransformer;T" title="T">T</a>, <a title="akka.stream.stage.Context[T]" id="akka.stream.extra.Timed;TimedIntervalTransformer.onPush.ctx">ctx</a>: <a href="../stage/Stage.scala.html#akka.stream.stage;Context" title="akka.stream.stage.Context[T]">Context</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../stage/Stage.scala.html#akka.stream.stage;Directive" title="akka.stream.stage.Directive">Directive</a> = <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="#akka.stream.extra.Timed;TimedIntervalTransformer.matching" title="(v1: T)Boolean">matching</a><span class="delimiter">(</span><a href="#akka.stream.extra.Timed;TimedIntervalTransformer.onPush.elem" title="T">elem</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        val <a title="scala.concurrent.duration.FiniteDuration" id="akka.stream.extra.Timed;TimedIntervalTransformer.onPush.d">d</a> = <a href="#akka.stream.extra.Timed;TimedIntervalTransformer.updateInterval" title="(in: T)scala.concurrent.duration.FiniteDuration">updateInterval</a><span class="delimiter">(</span><a href="#akka.stream.extra.Timed;TimedIntervalTransformer.onPush.elem" title="T">elem</a><span class="delimiter">)</span>

        if <span class="delimiter">(</span><a href="#akka.stream.extra.Timed;TimedIntervalTransformer.matched_=" title="=&gt; Long">matched</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#akka.stream.extra.Timed;TimedIntervalTransformer.onInterval" title="(v1: scala.concurrent.duration.FiniteDuration)Unit">onInterval</a><span class="delimiter">(</span><a href="#akka.stream.extra.Timed;TimedIntervalTransformer.onPush.d" title="scala.concurrent.duration.FiniteDuration">d</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#akka.stream.extra.Timed;TimedIntervalTransformer.onPush.ctx" title="akka.stream.stage.Context[T]">ctx</a>.<a href="../stage/Stage.scala.html#akka.stream.stage;Context.push" title="(elem: T)akka.stream.stage.DownstreamDirective">push</a><span class="delimiter">(</span><a href="#akka.stream.extra.Timed;TimedIntervalTransformer.onPush.elem" title="T">elem</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    private def <a title="(in: T)scala.concurrent.duration.FiniteDuration" id="akka.stream.extra.Timed;TimedIntervalTransformer.updateInterval">updateInterval</a><span class="delimiter">(</span><a title="T" id="akka.stream.extra.Timed;TimedIntervalTransformer.updateInterval.in">in</a>: <a href="#akka.stream.extra.Timed;TimedIntervalTransformer;T" title="T">T</a><span class="delimiter">)</span>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span> = <span class="delimiter">{</span>
      <a href="#akka.stream.extra.Timed;TimedIntervalTransformer.matched_=" title="(x$1: Long)Unit">matched</a> <span title="(x: Int)Long">+=</span> <span title="Int(1)" class="int">1</span>
      val <a title="Long" id="akka.stream.extra.Timed;TimedIntervalTransformer.updateInterval.nowNanos">nowNanos</a> = <span title="System.type">System</span>.<span title="()Long">nanoTime</span><span class="delimiter">(</span><span class="delimiter">)</span>
      val d = <a href="#akka.stream.extra.Timed;TimedIntervalTransformer.updateInterval.nowNanos" title="Long">nowNanos</a> <a title="Long" id="akka.stream.extra.Timed;TimedIntervalTransformer.updateInterval.d">-</a> <a href="#akka.stream.extra.Timed;TimedIntervalTransformer.prevNanos_=" title="=&gt; Long">prevNanos</a>
      <a href="#akka.stream.extra.Timed;TimedIntervalTransformer.prevNanos_=" title="(x$1: Long)Unit">prevNanos</a> = <a href="#akka.stream.extra.Timed;TimedIntervalTransformer.updateInterval.nowNanos" title="Long">nowNanos</a>
      <a href="#akka.stream.extra.Timed;TimedIntervalTransformer.updateInterval.d" title="implicit scala.concurrent.duration.package.DurationLong : (n: Long)concurrent.duration.DurationLong">d</a>.<span title="=&gt; scala.concurrent.duration.FiniteDuration">nanoseconds</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>
