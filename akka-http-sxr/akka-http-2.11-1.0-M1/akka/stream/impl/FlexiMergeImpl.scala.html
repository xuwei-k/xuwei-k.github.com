<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>akka/stream/impl/FlexiMergeImpl.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (C) 2014 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
package akka.stream.impl

import akka.actor.Props
import akka.stream.MaterializerSettings
import akka.stream.scaladsl.OperationAttributes
import akka.stream.scaladsl.FlexiMerge

import scala.collection.breakOut

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>akka<span class="delimiter">]</span> object <a title="akka.stream.impl.FlexiMergeImpl.type" id="akka.stream.impl.FlexiMergeImpl">FlexiMergeImpl</a> <a href="#akka.stream.impl.FlexiMergeImpl" title="akka.stream.impl.FlexiMergeImpl.type" class="delimiter">{</a>
  def <a title="(settings: akka.stream.MaterializerSettings, inputCount: Int, mergeLogic: akka.stream.scaladsl.FlexiMerge.MergeLogic[Any])akka.actor.Props" id="akka.stream.impl.FlexiMergeImpl.props">props</a><span class="delimiter">(</span><a title="akka.stream.MaterializerSettings" id="akka.stream.impl.FlexiMergeImpl.props.settings">settings</a>: <a href="../FlowMaterializer.scala.html#akka.stream;MaterializerSettings" title="akka.stream.MaterializerSettings">MaterializerSettings</a>, <a title="Int" id="akka.stream.impl.FlexiMergeImpl.props.inputCount">inputCount</a>: <span title="Int">Int</span>, <a title="akka.stream.scaladsl.FlexiMerge.MergeLogic[Any]" id="akka.stream.impl.FlexiMergeImpl.props.mergeLogic">mergeLogic</a>: FlexiMerge.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;MergeLogic" title="akka.stream.scaladsl.FlexiMerge.MergeLogic[Any]">MergeLogic</a><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="akka.actor.Props">Props</span> =
    <span title="(creator: =&gt; akka.stream.impl.FlexiMergeImpl)(implicit evidence$2: scala.reflect.ClassTag[akka.stream.impl.FlexiMergeImpl])akka.actor.Props">Props</span><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[akka.stream.impl.FlexiMergeImpl]" class="delimiter">(</span>new <a href="#akka.stream.impl;FlexiMergeImpl" title="akka.stream.impl.FlexiMergeImpl">FlexiMergeImpl</a><span class="delimiter">(</span><a href="#akka.stream.impl.FlexiMergeImpl.props.settings" title="akka.stream.MaterializerSettings">settings</a>, <a href="#akka.stream.impl.FlexiMergeImpl.props.inputCount" title="Int">inputCount</a>, <a href="#akka.stream.impl.FlexiMergeImpl.props.mergeLogic" title="akka.stream.scaladsl.FlexiMerge.MergeLogic[Any]">mergeLogic</a><span class="delimiter">)</span><span class="delimiter">)</span>

  trait <a title="trait MergeLogicFactory[Out] extends AnyRef" id="akka.stream.impl.FlexiMergeImpl;MergeLogicFactory">MergeLogicFactory</a><span class="delimiter">[</span><a title="" id="akka.stream.impl.FlexiMergeImpl;MergeLogicFactory;Out">Out</a><span class="delimiter">]</span> <span class="delimiter">{</span>
    def <a title="=&gt; akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.FlexiMergeImpl;MergeLogicFactory.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a>
    def <a title="()akka.stream.scaladsl.FlexiMerge.MergeLogic[Out]" id="akka.stream.impl.FlexiMergeImpl;MergeLogicFactory.createMergeLogic">createMergeLogic</a><span class="delimiter">(</span><span class="delimiter">)</span>: FlexiMerge.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;MergeLogic" title="akka.stream.scaladsl.FlexiMerge.MergeLogic[Out]">MergeLogic</a><span class="delimiter">[</span>Out<span class="delimiter">]</span>
  <span class="delimiter">}</span>
<span title="AnyRef" class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>akka<span class="delimiter">]</span> class <a title="class FlexiMergeImpl extends akka.stream.impl.FanIn" id="akka.stream.impl;FlexiMergeImpl">FlexiMergeImpl</a><a href="#akka.stream.impl;FlexiMergeImpl" title="akka.stream.impl.FlexiMergeImpl" class="delimiter">(</a><a title="akka.stream.MaterializerSettings" id="akka.stream.impl;FlexiMergeImpl._settings">_settings</a>: <a href="../FlowMaterializer.scala.html#akka.stream;MaterializerSettings" title="akka.stream.MaterializerSettings">MaterializerSettings</a>,
                                   <a title="Int" id="akka.stream.impl;FlexiMergeImpl.inputCount">inputCount</a>: <span title="Int">Int</span>,
                                   <a title="akka.stream.scaladsl.FlexiMerge.MergeLogic[Any]" id="akka.stream.impl;FlexiMergeImpl.mergeLogic">mergeLogic</a>: FlexiMerge.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;MergeLogic" title="akka.stream.scaladsl.FlexiMerge.MergeLogic[Any]">MergeLogic</a><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span>
  extends <a href="FanIn.scala.html#akka.stream.impl;FanIn" title="akka.stream.impl.FanIn">FanIn</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl._settings" title="akka.stream.MaterializerSettings">_settings</a>, <a href="#akka.stream.impl;FlexiMergeImpl.inputCount" title="Int">inputCount</a><span class="delimiter">)</span> <span class="delimiter">{</span>

  import <a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge" title="akka.stream.scaladsl.FlexiMerge.type">FlexiMerge</a>._

  val <a title="Map[Int,akka.stream.scaladsl.FlexiMerge.InputHandle]" id="akka.stream.impl;FlexiMergeImpl.inputMapping">inputMapping</a>: <span title="Map[Int,akka.stream.scaladsl.FlexiMerge.InputHandle]">Map</span><span class="delimiter">[</span>Int, InputHandle<span class="delimiter">]</span> =
    <a href="#akka.stream.impl;FlexiMergeImpl.mergeLogic" title="akka.stream.scaladsl.FlexiMerge.MergeLogic[Any]">mergeLogic</a>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;MergeLogic.inputHandles" title="(inputCount: Int)scala.collection.immutable.IndexedSeq[akka.stream.scaladsl.FlexiMerge.InputHandle]">inputHandles</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.inputCount" title="Int">inputCount</a><span class="delimiter">)</span>.<span title="(n: Int)scala.collection.immutable.IndexedSeq[akka.stream.scaladsl.FlexiMerge.InputHandle]">take</span><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.inputCount" title="Int">inputCount</a><span class="delimiter">)</span>.<span title="(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[akka.stream.scaladsl.FlexiMerge.InputHandle],(akka.stream.scaladsl.FlexiMerge.InputHandle, Int),scala.collection.immutable.IndexedSeq[(akka.stream.scaladsl.FlexiMerge.InputHandle, Int)]])scala.collection.immutable.IndexedSeq[(akka.stream.scaladsl.FlexiMerge.InputHandle, Int)]">zipWithIndex</span>.<span title="(f: ((akka.stream.scaladsl.FlexiMerge.InputHandle, Int)) =&gt; (Int, akka.stream.scaladsl.FlexiMerge.InputHandle))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[(akka.stream.scaladsl.FlexiMerge.InputHandle, Int)],(Int, akka.stream.scaladsl.FlexiMerge.InputHandle),Map[Int,akka.stream.scaladsl.FlexiMerge.InputHandle]])Map[Int,akka.stream.scaladsl.FlexiMerge.InputHandle]">map</span><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.inputMapping.$anonfun.x$1" title="(akka.stream.scaladsl.FlexiMerge.InputHandle, Int)">_</a>.<span title="=&gt; (Int, akka.stream.scaladsl.FlexiMerge.InputHandle)">swap</span><span class="delimiter">)</span><span class="delimiter">(</span><span title="(implicit b: scala.collection.generic.CanBuildFrom[Nothing,(Int, akka.stream.scaladsl.FlexiMerge.InputHandle),Map[Int,akka.stream.scaladsl.FlexiMerge.InputHandle]])scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[(akka.stream.scaladsl.FlexiMerge.InputHandle, Int)],(Int, akka.stream.scaladsl.FlexiMerge.InputHandle),Map[Int,akka.stream.scaladsl.FlexiMerge.InputHandle]]">breakOut</span><span class="delimiter">)</span>

  private type <a title="FlexiMergeImpl.this.mergeLogic.State[Any]" id="akka.stream.impl;FlexiMergeImpl;StateT">StateT</a> = mergeLogic.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;MergeLogic;State" title="FlexiMergeImpl.this.mergeLogic.State[Any]">State</a><span class="delimiter">[</span>Any<span class="delimiter">]</span>
  private type <a title="FlexiMergeImpl.this.mergeLogic.CompletionHandling" id="akka.stream.impl;FlexiMergeImpl;CompletionT">CompletionT</a> = mergeLogic.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;MergeLogic;CompletionHandling" title="FlexiMergeImpl.this.mergeLogic.CompletionHandling">CompletionHandling</a>

  private var <a title="FlexiMergeImpl.this.StateT" id="akka.stream.impl;FlexiMergeImpl.behavior_=">behavior</a>: <a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;MergeLogic;State" title="FlexiMergeImpl.this.StateT">StateT</a> = _
  private var <a title="FlexiMergeImpl.this.CompletionT" id="akka.stream.impl;FlexiMergeImpl.completion_=">completion</a>: <a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;MergeLogic;CompletionHandling" title="FlexiMergeImpl.this.CompletionT">CompletionT</a> = _

  override protected val <a title="akka.stream.impl.FanIn.InputBunch" id="akka.stream.impl;FlexiMergeImpl.inputBunch">inputBunch</a> = new <a href="FanIn.scala.html#akka.stream.impl.FanIn" title="&lt;$anon: akka.stream.impl.FanIn.InputBunch&gt; extends akka.stream.impl.FanIn.InputBunch" id="akka.stream.impl;FlexiMergeImpl.inputBunch;$anon">FanIn</a>.<a href="FanIn.scala.html#akka.stream.impl.FanIn;InputBunch" title="akka.stream.impl.FanIn.InputBunch">InputBunch</a><span class="delimiter">(</span><a href="FanIn.scala.html#akka.stream.impl;FanIn.inputPorts" title="=&gt; Int">inputPorts</a>, <a href="FanIn.scala.html#akka.stream.impl;FanIn.settings" title="=&gt; akka.stream.MaterializerSettings">settings</a>.<a href="../FlowMaterializer.scala.html#akka.stream;MaterializerSettings.maxInputBufferSize" title="=&gt; Int">maxInputBufferSize</a>, this<span class="delimiter">)</span> <span class="delimiter">{</span>
    override def <a title="(input: Int, e: Throwable)Unit" id="akka.stream.impl;FlexiMergeImpl.inputBunch;$anon.onError">onError</a><span class="delimiter">(</span><a title="Int" id="akka.stream.impl;FlexiMergeImpl.inputBunch;$anon.onError.input">input</a>: <span title="Int">Int</span>, <a title="Throwable" id="akka.stream.impl;FlexiMergeImpl.inputBunch;$anon.onError.e">e</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <a href="#akka.stream.impl;FlexiMergeImpl.changeBehavior" title="(newBehavior: FlexiMergeImpl.this.mergeLogic.State[_$7])Unit">changeBehavior</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.completion_=" title="=&gt; FlexiMergeImpl.this.CompletionT">completion</a>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;MergeLogic;CompletionHandling.onError" title="(v1: FlexiMergeImpl.this.mergeLogic.MergeLogicContext, v2: akka.stream.scaladsl.FlexiMerge.InputHandle, v3: Throwable)FlexiMergeImpl.this.mergeLogic.State[_]">onError</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.ctx" title="=&gt; FlexiMergeImpl.this.mergeLogic.MergeLogicContext">ctx</a>, <a href="#akka.stream.impl;FlexiMergeImpl.inputMapping" title="(key: Int)akka.stream.scaladsl.FlexiMerge.InputHandle">inputMapping</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.inputBunch;$anon.onError.input" title="Int">input</a><span class="delimiter">)</span>, <a href="#akka.stream.impl;FlexiMergeImpl.inputBunch;$anon.onError.e" title="Throwable">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="FanIn.scala.html#akka.stream.impl.FanIn;InputBunch.cancel(fdcc0e9cc0)" title="(input: Int)Unit">cancel</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.inputBunch;$anon.onError.input" title="Int">input</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    override def <a title="(input: Int)Unit" id="akka.stream.impl;FlexiMergeImpl.inputBunch;$anon.onDepleted">onDepleted</a><span class="delimiter">(</span><a title="Int" id="akka.stream.impl;FlexiMergeImpl.inputBunch;$anon.onDepleted.input">input</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
      <a href="#akka.stream.impl;FlexiMergeImpl.triggerCompletion" title="(inputHandle: akka.stream.scaladsl.FlexiMerge.InputHandle)Unit">triggerCompletion</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.inputMapping" title="(key: Int)akka.stream.scaladsl.FlexiMerge.InputHandle">inputMapping</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.inputBunch;$anon.onDepleted.input" title="Int">input</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private val <a title="FlexiMergeImpl.this.mergeLogic.MergeLogicContext" id="akka.stream.impl;FlexiMergeImpl.ctx">ctx</a>: mergeLogic.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;MergeLogic;MergeLogicContext" title="FlexiMergeImpl.this.mergeLogic.MergeLogicContext">MergeLogicContext</a> = new <a title="&lt;$anon: FlexiMergeImpl.this.mergeLogic.MergeLogicContext&gt; extends AnyRef with FlexiMergeImpl.this.mergeLogic.MergeLogicContext" id="akka.stream.impl;FlexiMergeImpl.ctx;$anon">mergeLogic</a>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;MergeLogic;MergeLogicContext" title="FlexiMergeImpl.this.mergeLogic.MergeLogicContext">MergeLogicContext</a> <span class="delimiter">{</span>
    override def <a title="=&gt; Boolean" id="akka.stream.impl;FlexiMergeImpl.ctx;$anon.isDemandAvailable">isDemandAvailable</a>: <span title="Boolean">Boolean</span> = <a href="FanIn.scala.html#akka.stream.impl;FanIn.primaryOutputs" title="=&gt; akka.stream.impl.Outputs">primaryOutputs</a>.<a href="Transfer.scala.html#akka.stream.impl;Outputs.demandAvailable" title="=&gt; Boolean">demandAvailable</a>

    override def <a title="(elem: Any)Unit" id="akka.stream.impl;FlexiMergeImpl.ctx;$anon.emit">emit</a><span class="delimiter">(</span><a title="Any" id="akka.stream.impl;FlexiMergeImpl.ctx;$anon.emit.elem">elem</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="FanIn.scala.html#akka.stream.impl;FanIn.primaryOutputs" title="=&gt; akka.stream.impl.Outputs">primaryOutputs</a>.<a href="Transfer.scala.html#akka.stream.impl;Outputs.demandAvailable" title="=&gt; Boolean">demandAvailable</a>, <span title="String(&quot;emit not allowed when no demand available&quot;)" class="string">&quot;emit not allowed when no demand available&quot;</span><span class="delimiter">)</span>
      <a href="FanIn.scala.html#akka.stream.impl;FanIn.primaryOutputs" title="=&gt; akka.stream.impl.Outputs">primaryOutputs</a>.<a href="Transfer.scala.html#akka.stream.impl;Outputs.enqueueOutputElement" title="(elem: Any)Unit">enqueueOutputElement</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.ctx;$anon.emit.elem" title="Any">elem</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    override def <a title="()Unit" id="akka.stream.impl;FlexiMergeImpl.ctx;$anon.complete">complete</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <a href="#akka.stream.impl;FlexiMergeImpl.inputBunch" title="=&gt; akka.stream.impl.FanIn.InputBunch">inputBunch</a>.<a href="FanIn.scala.html#akka.stream.impl.FanIn;InputBunch.cancel(aa97cb1b3d)" title="()Unit">cancel</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="FanIn.scala.html#akka.stream.impl;FanIn.primaryOutputs" title="=&gt; akka.stream.impl.Outputs">primaryOutputs</a>.<a href="Transfer.scala.html#akka.stream.impl;Outputs.complete" title="()Unit">complete</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#akka.stream.impl;FlexiMergeImpl" title="=&gt; akka.actor.ActorContext">context</a>.<span title="(actor: akka.actor.ActorRef)Unit">stop</span><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl" title="=&gt; akka.actor.ActorRef">self</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    override def <a title="(cause: Throwable)Unit" id="akka.stream.impl;FlexiMergeImpl.ctx;$anon.error">error</a><span class="delimiter">(</span><a title="Throwable" id="akka.stream.impl;FlexiMergeImpl.ctx;$anon.error.cause">cause</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="FanIn.scala.html#akka.stream.impl;FanIn.fail" title="(e: Throwable)Unit">fail</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.ctx;$anon.error.cause" title="Throwable">cause</a><span class="delimiter">)</span>

    override def <a title="(input: akka.stream.scaladsl.FlexiMerge.InputHandle)Unit" id="akka.stream.impl;FlexiMergeImpl.ctx;$anon.cancel">cancel</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.FlexiMerge.InputHandle" id="akka.stream.impl;FlexiMergeImpl.ctx;$anon.cancel.input">input</a>: <a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;InputHandle" title="akka.stream.scaladsl.FlexiMerge.InputHandle">InputHandle</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.stream.impl;FlexiMergeImpl.inputBunch" title="=&gt; akka.stream.impl.FanIn.InputBunch">inputBunch</a>.<a href="FanIn.scala.html#akka.stream.impl.FanIn;InputBunch.cancel(fdcc0e9cc0)" title="(input: Int)Unit">cancel</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.ctx;$anon.cancel.input" title="akka.stream.scaladsl.FlexiMerge.InputHandle">input</a>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;InputHandle.portIndex" title="=&gt; Int">portIndex</a><span class="delimiter">)</span>

    override def <a title="(newCompletion: FlexiMergeImpl.this.CompletionT)Unit" id="akka.stream.impl;FlexiMergeImpl.ctx;$anon.changeCompletionHandling">changeCompletionHandling</a><span class="delimiter">(</span><a title="FlexiMergeImpl.this.CompletionT" id="akka.stream.impl;FlexiMergeImpl.ctx;$anon.changeCompletionHandling.newCompletion">newCompletion</a>: <a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;MergeLogic;CompletionHandling" title="FlexiMergeImpl.this.CompletionT">CompletionT</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
      <a href="#akka.stream.impl;FlexiMergeImpl" title="FlexiMergeImpl.this.type">FlexiMergeImpl</a>.this.<a href="#akka.stream.impl;FlexiMergeImpl.changeCompletionHandling" title="(newCompletion: FlexiMergeImpl.this.CompletionT)Unit">changeCompletionHandling</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.ctx;$anon.changeCompletionHandling.newCompletion" title="FlexiMergeImpl.this.CompletionT">newCompletion</a><span class="delimiter">)</span>

  <span class="delimiter">}</span>

  private def <a title="(inputs: Array[akka.stream.scaladsl.FlexiMerge.InputHandle])Unit" id="akka.stream.impl;FlexiMergeImpl.markInputs">markInputs</a><span class="delimiter">(</span><a title="Array[akka.stream.scaladsl.FlexiMerge.InputHandle]" id="akka.stream.impl;FlexiMergeImpl.markInputs.inputs">inputs</a>: <span title="Array[akka.stream.scaladsl.FlexiMerge.InputHandle]">Array</span><span class="delimiter">[</span>InputHandle<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#akka.stream.impl;FlexiMergeImpl.inputBunch" title="=&gt; akka.stream.impl.FanIn.InputBunch">inputBunch</a>.<a href="FanIn.scala.html#akka.stream.impl.FanIn;InputBunch.unmarkAllInputs" title="()Unit">unmarkAllInputs</a><span class="delimiter">(</span><span class="delimiter">)</span>
    var <a title="Int" id="akka.stream.impl;FlexiMergeImpl.markInputs.i">i</a> = <span title="Int(0)" class="int">0</span>
    while <span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.markInputs.i" title="Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#akka.stream.impl;FlexiMergeImpl.markInputs.inputs" title="Array[akka.stream.scaladsl.FlexiMerge.InputHandle]">inputs</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <a href="#akka.stream.impl;FlexiMergeImpl.markInputs.while$1" title="()Unit" class="delimiter">{</a>
      val <a title="Int" id="akka.stream.impl;FlexiMergeImpl.markInputs.id">id</a> = <a href="#akka.stream.impl;FlexiMergeImpl.markInputs.inputs" title="(i: Int)akka.stream.scaladsl.FlexiMerge.InputHandle">inputs</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.markInputs.i" title="Int">i</a><span class="delimiter">)</span>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;InputHandle.portIndex" title="=&gt; Int">portIndex</a>
      if <span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.include" title="(portIndex: Int)Boolean">include</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.markInputs.id" title="Int">id</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#akka.stream.impl;FlexiMergeImpl.inputBunch" title="=&gt; akka.stream.impl.FanIn.InputBunch">inputBunch</a>.<a href="FanIn.scala.html#akka.stream.impl.FanIn;InputBunch.markInput" title="(input: Int)Unit">markInput</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.markInputs.id" title="Int">id</a><span class="delimiter">)</span>
      <a href="#akka.stream.impl;FlexiMergeImpl.markInputs.i" title="Int">i</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  private def <a title="(portIndex: Int)Boolean" id="akka.stream.impl;FlexiMergeImpl.include">include</a><span class="delimiter">(</span><a title="Int" id="akka.stream.impl;FlexiMergeImpl.include.portIndex">portIndex</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <a href="#akka.stream.impl;FlexiMergeImpl.inputMapping" title="=&gt; Map[Int,akka.stream.scaladsl.FlexiMerge.InputHandle]">inputMapping</a>.<span title="(key: Int)Boolean">contains</span><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.include.portIndex" title="Int">portIndex</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#akka.stream.impl;FlexiMergeImpl.inputBunch" title="=&gt; akka.stream.impl.FanIn.InputBunch">inputBunch</a>.<a href="FanIn.scala.html#akka.stream.impl.FanIn;InputBunch.isCancelled" title="(input: Int)Boolean">isCancelled</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.include.portIndex" title="Int">portIndex</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#akka.stream.impl;FlexiMergeImpl.inputBunch" title="=&gt; akka.stream.impl.FanIn.InputBunch">inputBunch</a>.<a href="FanIn.scala.html#akka.stream.impl.FanIn;InputBunch.isDepleted" title="(input: Int)Boolean">isDepleted</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.include.portIndex" title="Int">portIndex</a><span class="delimiter">)</span>

  private def <a title="=&gt; akka.stream.impl.TransferState" id="akka.stream.impl;FlexiMergeImpl.precondition">precondition</a>: <a href="Transfer.scala.html#akka.stream.impl;TransferState" title="akka.stream.impl.TransferState">TransferState</a> = <span class="delimiter">{</span>
    <a href="#akka.stream.impl;FlexiMergeImpl.behavior_=" title="=&gt; FlexiMergeImpl.this.StateT">behavior</a>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;MergeLogic;State.condition" title="=&gt; akka.stream.scaladsl.FlexiMerge.ReadCondition">condition</a> match <span class="delimiter">{</span>
      case _: <a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;ReadAny" title="akka.stream.scaladsl.FlexiMerge.ReadAny">ReadAny</a> | _: <a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;ReadPreferred" title="akka.stream.scaladsl.FlexiMerge.ReadPreferred">ReadPreferred</a> | _: <a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;Read" title="akka.stream.scaladsl.FlexiMerge.Read">Read</a> ⇒ <a href="#akka.stream.impl;FlexiMergeImpl.inputBunch" title="=&gt; akka.stream.impl.FanIn.InputBunch">inputBunch</a>.<a href="FanIn.scala.html#akka.stream.impl.FanIn;InputBunch.AnyOfMarkedInputs" title="=&gt; akka.stream.impl.TransferState">AnyOfMarkedInputs</a> <a href="Transfer.scala.html#akka.stream.impl;TransferState.&&" title="(other: akka.stream.impl.TransferState)akka.stream.impl.TransferState">&amp;&amp;</a> <a href="FanIn.scala.html#akka.stream.impl;FanIn.primaryOutputs" title="=&gt; akka.stream.impl.Outputs">primaryOutputs</a>.<a href="Transfer.scala.html#akka.stream.impl;Outputs.NeedsDemand" title="=&gt; akka.stream.impl.TransferState">NeedsDemand</a>
      case _: <a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;ReadAll" title="akka.stream.scaladsl.FlexiMerge.ReadAll">ReadAll</a>                              ⇒ <a href="#akka.stream.impl;FlexiMergeImpl.inputBunch" title="=&gt; akka.stream.impl.FanIn.InputBunch">inputBunch</a>.<a href="FanIn.scala.html#akka.stream.impl.FanIn;InputBunch.AllOfMarkedInputs" title="=&gt; akka.stream.impl.TransferState">AllOfMarkedInputs</a> <a href="Transfer.scala.html#akka.stream.impl;TransferState.&&" title="(other: akka.stream.impl.TransferState)akka.stream.impl.TransferState">&amp;&amp;</a> <a href="FanIn.scala.html#akka.stream.impl;FanIn.primaryOutputs" title="=&gt; akka.stream.impl.Outputs">primaryOutputs</a>.<a href="Transfer.scala.html#akka.stream.impl;Outputs.NeedsDemand" title="=&gt; akka.stream.impl.TransferState">NeedsDemand</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  private def <a title="(newCompletion: FlexiMergeImpl.this.CompletionT)Unit" id="akka.stream.impl;FlexiMergeImpl.changeCompletionHandling">changeCompletionHandling</a><span class="delimiter">(</span><a title="FlexiMergeImpl.this.CompletionT" id="akka.stream.impl;FlexiMergeImpl.changeCompletionHandling.newCompletion">newCompletion</a>: <a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;MergeLogic;CompletionHandling" title="FlexiMergeImpl.this.CompletionT">CompletionT</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#akka.stream.impl;FlexiMergeImpl.completion_=" title="(x$1: FlexiMergeImpl.this.CompletionT)Unit">completion</a> = <a href="#akka.stream.impl;FlexiMergeImpl.changeCompletionHandling.newCompletion" title="FlexiMergeImpl.this.CompletionT">newCompletion</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="FlexiMergeImpl.this.CompletionT" class="delimiter">[</span><a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;MergeLogic;CompletionHandling" title="FlexiMergeImpl.this.CompletionT">CompletionT</a><span class="delimiter">]</span>

  private def <a title="[A](newBehavior: FlexiMergeImpl.this.mergeLogic.State[A])Unit" id="akka.stream.impl;FlexiMergeImpl.changeBehavior">changeBehavior</a><span class="delimiter">[</span><a title="" id="akka.stream.impl;FlexiMergeImpl.changeBehavior;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="FlexiMergeImpl.this.mergeLogic.State[A]" id="akka.stream.impl;FlexiMergeImpl.changeBehavior.newBehavior">newBehavior</a>: mergeLogic.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;MergeLogic;State" title="FlexiMergeImpl.this.mergeLogic.State[A]">State</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    if <span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.changeBehavior.newBehavior" title="FlexiMergeImpl.this.mergeLogic.State[A]">newBehavior</a> <span title="(x$1: Any)Boolean">!=</span> <a href="#akka.stream.impl;FlexiMergeImpl.mergeLogic" title="akka.stream.scaladsl.FlexiMerge.MergeLogic[Any]">mergeLogic</a>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;MergeLogic.SameState" title="FlexiMergeImpl.this.mergeLogic.State[Nothing]">SameState</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.changeBehavior.newBehavior" title="FlexiMergeImpl.this.mergeLogic.State[A]">newBehavior</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#akka.stream.impl;FlexiMergeImpl.behavior_=" title="=&gt; FlexiMergeImpl.this.StateT">behavior</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#akka.stream.impl;FlexiMergeImpl.behavior_=" title="(x$1: FlexiMergeImpl.this.StateT)Unit">behavior</a> = <a href="#akka.stream.impl;FlexiMergeImpl.changeBehavior.newBehavior" title="FlexiMergeImpl.this.mergeLogic.State[A]">newBehavior</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="FlexiMergeImpl.this.StateT" class="delimiter">[</span><a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;MergeLogic;State" title="FlexiMergeImpl.this.StateT">StateT</a><span class="delimiter">]</span>
      <a href="#akka.stream.impl;FlexiMergeImpl.behavior_=" title="=&gt; FlexiMergeImpl.this.StateT">behavior</a>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;MergeLogic;State.condition" title="=&gt; akka.stream.scaladsl.FlexiMerge.ReadCondition">condition</a> match <span class="delimiter">{</span>
        case <span title="akka.stream.scaladsl.FlexiMerge.ReadAny">read</span>: <a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;ReadAny" title="akka.stream.scaladsl.FlexiMerge.ReadAny">ReadAny</a> ⇒
          <a href="#akka.stream.impl;FlexiMergeImpl.markInputs" title="(inputs: Array[akka.stream.scaladsl.FlexiMerge.InputHandle])Unit">markInputs</a><span class="delimiter">(</span><span title="akka.stream.scaladsl.FlexiMerge.ReadAny">read</span>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;ReadAny.inputs" title="=&gt; akka.stream.scaladsl.FlexiMerge.InputHandle*">inputs</a>.<span title="(implicit evidence$1: scala.reflect.ClassTag[akka.stream.scaladsl.FlexiMerge.InputHandle])Array[akka.stream.scaladsl.FlexiMerge.InputHandle]">toArray</span><span class="delimiter">)</span>
        case ReadPreferred<span class="delimiter">(</span><a title="akka.stream.scaladsl.FlexiMerge.InputHandle" id="akka.stream.impl;FlexiMergeImpl.changeBehavior.preferred">preferred</a>, <a title="Array[akka.stream.scaladsl.FlexiMerge.InputHandle]" id="akka.stream.impl;FlexiMergeImpl.changeBehavior.secondaries">secondaries</a><span class="delimiter">)</span> ⇒
          <a href="#akka.stream.impl;FlexiMergeImpl.markInputs" title="(inputs: Array[akka.stream.scaladsl.FlexiMerge.InputHandle])Unit">markInputs</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.changeBehavior.secondaries" title="(xs: Array[akka.stream.scaladsl.FlexiMerge.InputHandle])scala.collection.mutable.ArrayOps[akka.stream.scaladsl.FlexiMerge.InputHandle]">secondaries</a>.<span title="(implicit evidence$1: scala.reflect.ClassTag[akka.stream.scaladsl.FlexiMerge.InputHandle])Array[akka.stream.scaladsl.FlexiMerge.InputHandle]">toArray</span><span class="delimiter">)</span>
          <a href="#akka.stream.impl;FlexiMergeImpl.inputBunch" title="=&gt; akka.stream.impl.FanIn.InputBunch">inputBunch</a>.<a href="FanIn.scala.html#akka.stream.impl.FanIn;InputBunch.markInput" title="(input: Int)Unit">markInput</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.changeBehavior.preferred" title="akka.stream.scaladsl.FlexiMerge.InputHandle">preferred</a>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;InputHandle.portIndex" title="=&gt; Int">portIndex</a><span class="delimiter">)</span>
        case <span title="akka.stream.scaladsl.FlexiMerge.ReadAll">read</span>: <a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;ReadAll" title="akka.stream.scaladsl.FlexiMerge.ReadAll">ReadAll</a> ⇒
          <a href="#akka.stream.impl;FlexiMergeImpl.markInputs" title="(inputs: Array[akka.stream.scaladsl.FlexiMerge.InputHandle])Unit">markInputs</a><span class="delimiter">(</span><span title="akka.stream.scaladsl.FlexiMerge.ReadAll">read</span>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;ReadAll.inputs" title="=&gt; akka.stream.scaladsl.FlexiMerge.InputHandle*">inputs</a>.<span title="(implicit evidence$1: scala.reflect.ClassTag[akka.stream.scaladsl.FlexiMerge.InputHandle])Array[akka.stream.scaladsl.FlexiMerge.InputHandle]">toArray</span><span class="delimiter">)</span>
        case Read<span class="delimiter">(</span><a title="akka.stream.scaladsl.FlexiMerge.InputHandle" id="akka.stream.impl;FlexiMergeImpl.changeBehavior.input">input</a><span class="delimiter">)</span> ⇒
          <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.inputMapping" title="=&gt; Map[Int,akka.stream.scaladsl.FlexiMerge.InputHandle]">inputMapping</a>.<span title="(key: Int)Boolean">contains</span><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.changeBehavior.input" title="akka.stream.scaladsl.FlexiMerge.InputHandle">input</a>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;InputHandle.portIndex" title="=&gt; Int">portIndex</a><span class="delimiter">)</span>, <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Unknown input handle &quot;)">Unknown input handle $</span><a href="#akka.stream.impl;FlexiMergeImpl.changeBehavior.input" title="akka.stream.scaladsl.FlexiMerge.InputHandle">input</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
          <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.stream.impl;FlexiMergeImpl.inputBunch" title="=&gt; akka.stream.impl.FanIn.InputBunch">inputBunch</a>.<a href="FanIn.scala.html#akka.stream.impl.FanIn;InputBunch.isCancelled" title="(input: Int)Boolean">isCancelled</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.changeBehavior.input" title="akka.stream.scaladsl.FlexiMerge.InputHandle">input</a>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;InputHandle.portIndex" title="=&gt; Int">portIndex</a><span class="delimiter">)</span>, <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Read not allowed from cancelled &quot;)">Read not allowed from cancelled $</span><a href="#akka.stream.impl;FlexiMergeImpl.changeBehavior.input" title="akka.stream.scaladsl.FlexiMerge.InputHandle">input</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
          <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.stream.impl;FlexiMergeImpl.inputBunch" title="=&gt; akka.stream.impl.FanIn.InputBunch">inputBunch</a>.<a href="FanIn.scala.html#akka.stream.impl.FanIn;InputBunch.isDepleted" title="(input: Int)Boolean">isDepleted</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.changeBehavior.input" title="akka.stream.scaladsl.FlexiMerge.InputHandle">input</a>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;InputHandle.portIndex" title="=&gt; Int">portIndex</a><span class="delimiter">)</span>, <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Read not allowed from depleted &quot;)">Read not allowed from depleted $</span><a href="#akka.stream.impl;FlexiMergeImpl.changeBehavior.input" title="akka.stream.scaladsl.FlexiMerge.InputHandle">input</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
          <a href="#akka.stream.impl;FlexiMergeImpl.inputBunch" title="=&gt; akka.stream.impl.FanIn.InputBunch">inputBunch</a>.<a href="FanIn.scala.html#akka.stream.impl.FanIn;InputBunch.unmarkAllInputs" title="()Unit">unmarkAllInputs</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#akka.stream.impl;FlexiMergeImpl.inputBunch" title="=&gt; akka.stream.impl.FanIn.InputBunch">inputBunch</a>.<a href="FanIn.scala.html#akka.stream.impl.FanIn;InputBunch.markInput" title="(input: Int)Unit">markInput</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.changeBehavior.input" title="akka.stream.scaladsl.FlexiMerge.InputHandle">input</a>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;InputHandle.portIndex" title="=&gt; Int">portIndex</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <a href="#akka.stream.impl;FlexiMergeImpl.changeBehavior" title="(newBehavior: FlexiMergeImpl.this.mergeLogic.State[_$4])Unit">changeBehavior</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.mergeLogic" title="akka.stream.scaladsl.FlexiMerge.MergeLogic[Any]">mergeLogic</a>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;MergeLogic.initialState" title="=&gt; FlexiMergeImpl.this.mergeLogic.State[_]">initialState</a><span class="delimiter">)</span>
  <a href="#akka.stream.impl;FlexiMergeImpl.changeCompletionHandling" title="(newCompletion: FlexiMergeImpl.this.CompletionT)Unit">changeCompletionHandling</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.mergeLogic" title="akka.stream.scaladsl.FlexiMerge.MergeLogic[Any]">mergeLogic</a>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;MergeLogic.initialCompletionHandling" title="=&gt; FlexiMergeImpl.this.mergeLogic.CompletionHandling">initialCompletionHandling</a><span class="delimiter">)</span>

  <a href="Transfer.scala.html#akka.stream.impl;Pump.nextPhase" title="(phase: akka.stream.impl.TransferPhase)Unit">nextPhase</a><span class="delimiter">(</span><a href="Transfer.scala.html#akka.stream.impl;TransferPhase" title="(precondition: akka.stream.impl.TransferState)(action: () =&gt; Unit)akka.stream.impl.TransferPhase">TransferPhase</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.precondition" title="=&gt; akka.stream.impl.TransferState">precondition</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> ⇒
    <a href="#akka.stream.impl;FlexiMergeImpl.behavior_=" title="=&gt; FlexiMergeImpl.this.StateT">behavior</a>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;MergeLogic;State.condition" title="=&gt; akka.stream.scaladsl.FlexiMerge.ReadCondition">condition</a> match <span class="delimiter">{</span>
      case <span title="akka.stream.scaladsl.FlexiMerge.ReadAny">read</span>: <a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;ReadAny" title="akka.stream.scaladsl.FlexiMerge.ReadAny">ReadAny</a> ⇒
        val <span title="Int">id</span> = <a href="#akka.stream.impl;FlexiMergeImpl.inputBunch" title="=&gt; akka.stream.impl.FanIn.InputBunch">inputBunch</a>.<a href="FanIn.scala.html#akka.stream.impl.FanIn;InputBunch.idToDequeue" title="()Int">idToDequeue</a><span class="delimiter">(</span><span class="delimiter">)</span>
        val <span title="Any">elem</span> = <a href="#akka.stream.impl;FlexiMergeImpl.inputBunch" title="=&gt; akka.stream.impl.FanIn.InputBunch">inputBunch</a>.<a href="FanIn.scala.html#akka.stream.impl.FanIn;InputBunch.dequeueAndYield(42ee201a8c)" title="(id: Int)Any">dequeueAndYield</a><span class="delimiter">(</span><span title="Int">id</span><span class="delimiter">)</span>
        val <span title="akka.stream.scaladsl.FlexiMerge.InputHandle">inputHandle</span> = <a href="#akka.stream.impl;FlexiMergeImpl.inputMapping" title="(key: Int)akka.stream.scaladsl.FlexiMerge.InputHandle">inputMapping</a><span class="delimiter">(</span><span title="Int">id</span><span class="delimiter">)</span>
        <a href="#akka.stream.impl;FlexiMergeImpl.changeBehavior" title="(newBehavior: FlexiMergeImpl.this.mergeLogic.State[_$5])Unit">changeBehavior</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.behavior_=" title="=&gt; FlexiMergeImpl.this.StateT">behavior</a>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;MergeLogic;State.onInput" title="(v1: FlexiMergeImpl.this.mergeLogic.MergeLogicContext, v2: akka.stream.scaladsl.FlexiMerge.InputHandle, v3: Any)FlexiMergeImpl.this.mergeLogic.State[_]">onInput</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.ctx" title="=&gt; FlexiMergeImpl.this.mergeLogic.MergeLogicContext">ctx</a>, <span title="akka.stream.scaladsl.FlexiMerge.InputHandle">inputHandle</span>, <span title="Any">elem</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#akka.stream.impl;FlexiMergeImpl.triggerCompletionAfterRead(18571946d3)" title="(inputHandle: akka.stream.scaladsl.FlexiMerge.InputHandle)Unit">triggerCompletionAfterRead</a><span class="delimiter">(</span><span title="akka.stream.scaladsl.FlexiMerge.InputHandle">inputHandle</span><span class="delimiter">)</span>
      case <span title="akka.stream.scaladsl.FlexiMerge.ReadPreferred">read</span>: <a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;ReadPreferred" title="akka.stream.scaladsl.FlexiMerge.ReadPreferred">ReadPreferred</a> ⇒
        val <span title="Int">id</span> = <a href="#akka.stream.impl;FlexiMergeImpl.inputBunch" title="=&gt; akka.stream.impl.FanIn.InputBunch">inputBunch</a>.<a href="FanIn.scala.html#akka.stream.impl.FanIn;InputBunch.idToDequeue" title="()Int">idToDequeue</a><span class="delimiter">(</span><span class="delimiter">)</span>
        val <span title="Any">elem</span> = <a href="#akka.stream.impl;FlexiMergeImpl.inputBunch" title="=&gt; akka.stream.impl.FanIn.InputBunch">inputBunch</a>.<a href="FanIn.scala.html#akka.stream.impl.FanIn;InputBunch.dequeueAndPrefer" title="(preferred: Int)Any">dequeueAndPrefer</a><span class="delimiter">(</span><span title="Int">id</span><span class="delimiter">)</span>
        val <span title="akka.stream.scaladsl.FlexiMerge.InputHandle">inputHandle</span> = <a href="#akka.stream.impl;FlexiMergeImpl.inputMapping" title="(key: Int)akka.stream.scaladsl.FlexiMerge.InputHandle">inputMapping</a><span class="delimiter">(</span><span title="Int">id</span><span class="delimiter">)</span>
        <a href="#akka.stream.impl;FlexiMergeImpl.changeBehavior" title="(newBehavior: FlexiMergeImpl.this.mergeLogic.State[_$5])Unit">changeBehavior</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.behavior_=" title="=&gt; FlexiMergeImpl.this.StateT">behavior</a>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;MergeLogic;State.onInput" title="(v1: FlexiMergeImpl.this.mergeLogic.MergeLogicContext, v2: akka.stream.scaladsl.FlexiMerge.InputHandle, v3: Any)FlexiMergeImpl.this.mergeLogic.State[_]">onInput</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.ctx" title="=&gt; FlexiMergeImpl.this.mergeLogic.MergeLogicContext">ctx</a>, <span title="akka.stream.scaladsl.FlexiMerge.InputHandle">inputHandle</span>, <span title="Any">elem</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#akka.stream.impl;FlexiMergeImpl.triggerCompletionAfterRead(18571946d3)" title="(inputHandle: akka.stream.scaladsl.FlexiMerge.InputHandle)Unit">triggerCompletionAfterRead</a><span class="delimiter">(</span><span title="akka.stream.scaladsl.FlexiMerge.InputHandle">inputHandle</span><span class="delimiter">)</span>
      case Read<span class="delimiter">(</span><span title="akka.stream.scaladsl.FlexiMerge.InputHandle">inputHandle</span><span class="delimiter">)</span> ⇒
        val <span title="Any">elem</span> = <a href="#akka.stream.impl;FlexiMergeImpl.inputBunch" title="=&gt; akka.stream.impl.FanIn.InputBunch">inputBunch</a>.<a href="FanIn.scala.html#akka.stream.impl.FanIn;InputBunch.dequeue" title="(id: Int)Any">dequeue</a><span class="delimiter">(</span><span title="akka.stream.scaladsl.FlexiMerge.InputHandle">inputHandle</span>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;InputHandle.portIndex" title="=&gt; Int">portIndex</a><span class="delimiter">)</span>
        <a href="#akka.stream.impl;FlexiMergeImpl.changeBehavior" title="(newBehavior: FlexiMergeImpl.this.mergeLogic.State[_$5])Unit">changeBehavior</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.behavior_=" title="=&gt; FlexiMergeImpl.this.StateT">behavior</a>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;MergeLogic;State.onInput" title="(v1: FlexiMergeImpl.this.mergeLogic.MergeLogicContext, v2: akka.stream.scaladsl.FlexiMerge.InputHandle, v3: Any)FlexiMergeImpl.this.mergeLogic.State[_]">onInput</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.ctx" title="=&gt; FlexiMergeImpl.this.mergeLogic.MergeLogicContext">ctx</a>, <span title="akka.stream.scaladsl.FlexiMerge.InputHandle">inputHandle</span>, <span title="Any">elem</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#akka.stream.impl;FlexiMergeImpl.triggerCompletionAfterRead(18571946d3)" title="(inputHandle: akka.stream.scaladsl.FlexiMerge.InputHandle)Unit">triggerCompletionAfterRead</a><span class="delimiter">(</span><span title="akka.stream.scaladsl.FlexiMerge.InputHandle">inputHandle</span><span class="delimiter">)</span>
      case <span title="akka.stream.scaladsl.FlexiMerge.ReadAll">read</span>: <a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;ReadAll" title="akka.stream.scaladsl.FlexiMerge.ReadAll">ReadAll</a> ⇒
        val <a title="Seq[akka.stream.scaladsl.FlexiMerge.InputHandle]" id="akka.stream.impl;FlexiMergeImpl.<local FlexiMergeImpl>.$anonfun.inputHandles">inputHandles</a> = <span title="akka.stream.scaladsl.FlexiMerge.ReadAll">read</span>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;ReadAll.inputs" title="=&gt; akka.stream.scaladsl.FlexiMerge.InputHandle*">inputs</a>

        val <a title="Seq[(akka.stream.scaladsl.FlexiMerge.InputHandle, Any)]" id="akka.stream.impl;FlexiMergeImpl.<local FlexiMergeImpl>.$anonfun.values">values</a> = <a href="#akka.stream.impl;FlexiMergeImpl.<local FlexiMergeImpl>.$anonfun.inputHandles" title="Seq[akka.stream.scaladsl.FlexiMerge.InputHandle]">inputHandles</a>.<span title="(pf: PartialFunction[akka.stream.scaladsl.FlexiMerge.InputHandle,(akka.stream.scaladsl.FlexiMerge.InputHandle, Any)])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[akka.stream.scaladsl.FlexiMerge.InputHandle],(akka.stream.scaladsl.FlexiMerge.InputHandle, Any),Seq[(akka.stream.scaladsl.FlexiMerge.InputHandle, Any)]])Seq[(akka.stream.scaladsl.FlexiMerge.InputHandle, Any)]">collect</span> <a title="&lt;$anon: akka.stream.scaladsl.FlexiMerge.InputHandle =&gt; (akka.stream.scaladsl.FlexiMerge.InputHandle, Any)&gt; extends scala.runtime.AbstractPartialFunction[akka.stream.scaladsl.FlexiMerge.InputHandle,(akka.stream.scaladsl.FlexiMerge.InputHandle, Any)] with Serializable" id="akka.stream.impl;FlexiMergeImpl.<local FlexiMergeImpl>.$anonfun.values;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
          case <a title="akka.stream.scaladsl.FlexiMerge.InputHandle" id="akka.stream.impl;FlexiMergeImpl.<local FlexiMergeImpl>.$anonfun.values;$anonfun.isDefinedAt.input">input</a> if <a href="#akka.stream.impl;FlexiMergeImpl.include" title="(portIndex: Int)Boolean">include</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.<local FlexiMergeImpl>.$anonfun.values;$anonfun.isDefinedAt.input" title="akka.stream.scaladsl.FlexiMerge.InputHandle">input</a>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;InputHandle.portIndex" title="=&gt; Int">portIndex</a><span class="delimiter">)</span> ⇒ <a href="#akka.stream.impl;FlexiMergeImpl.<local FlexiMergeImpl>.$anonfun.values;$anonfun.isDefinedAt.input" title="(self: akka.stream.scaladsl.FlexiMerge.InputHandle)ArrowAssoc[akka.stream.scaladsl.FlexiMerge.InputHandle]">input</a> <span title="(y: Any)(akka.stream.scaladsl.FlexiMerge.InputHandle, Any)">→</span> <a href="#akka.stream.impl;FlexiMergeImpl.inputBunch" title="=&gt; akka.stream.impl.FanIn.InputBunch">inputBunch</a>.<a href="FanIn.scala.html#akka.stream.impl.FanIn;InputBunch.dequeue" title="(id: Int)Any">dequeue</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.<local FlexiMergeImpl>.$anonfun.values;$anonfun.isDefinedAt.input" title="akka.stream.scaladsl.FlexiMerge.InputHandle">input</a>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;InputHandle.portIndex" title="=&gt; Int">portIndex</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="#akka.stream.impl;FlexiMergeImpl.changeBehavior" title="(newBehavior: FlexiMergeImpl.this.mergeLogic.State[_$5])Unit">changeBehavior</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.behavior_=" title="=&gt; FlexiMergeImpl.this.StateT">behavior</a>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;MergeLogic;State.onInput" title="(v1: FlexiMergeImpl.this.mergeLogic.MergeLogicContext, v2: akka.stream.scaladsl.FlexiMerge.InputHandle, v3: Any)FlexiMergeImpl.this.mergeLogic.State[_]">onInput</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.ctx" title="=&gt; FlexiMergeImpl.this.mergeLogic.MergeLogicContext">ctx</a>, <a href="#akka.stream.impl;FlexiMergeImpl.<local FlexiMergeImpl>.$anonfun.inputHandles" title="Seq[akka.stream.scaladsl.FlexiMerge.InputHandle]">inputHandles</a>.<span title="=&gt; akka.stream.scaladsl.FlexiMerge.InputHandle">head</span>, <span title="akka.stream.scaladsl.FlexiMerge.ReadAll">read</span>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;ReadAll.mkResult" title="(v1: scala.collection.immutable.Map[akka.stream.scaladsl.FlexiMerge.InputHandle,Any])akka.stream.scaladsl.FlexiMerge.ReadAllInputsBase">mkResult</a><span class="delimiter">(</span><span title="(elems: (akka.stream.scaladsl.FlexiMerge.InputHandle, Any)*)scala.collection.immutable.Map[akka.stream.scaladsl.FlexiMerge.InputHandle,Any]">Map</span><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.<local FlexiMergeImpl>.$anonfun.values" title="Seq[(akka.stream.scaladsl.FlexiMerge.InputHandle, Any)]">values</a>: _*<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="comment">// must be triggered after emiting the accumulated out value</span>
        <a href="#akka.stream.impl;FlexiMergeImpl.triggerCompletionAfterRead(cb630824b2)" title="(inputs: Seq[akka.stream.scaladsl.FlexiMerge.InputHandle])Unit">triggerCompletionAfterRead</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.<local FlexiMergeImpl>.$anonfun.inputHandles" title="Seq[akka.stream.scaladsl.FlexiMerge.InputHandle]">inputHandles</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span><span class="delimiter">)</span>

  private def <a title="(inputs: Seq[akka.stream.scaladsl.FlexiMerge.InputHandle])Unit" id="akka.stream.impl;FlexiMergeImpl.triggerCompletionAfterRead(cb630824b2)">triggerCompletionAfterRead</a><span class="delimiter">(</span><a title="Seq[akka.stream.scaladsl.FlexiMerge.InputHandle]" id="akka.stream.impl;FlexiMergeImpl.triggerCompletionAfterRead(cb630824b2).inputs">inputs</a>: <span title="Seq[akka.stream.scaladsl.FlexiMerge.InputHandle]">Seq</span><span class="delimiter">[</span>InputHandle<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    var <a title="Int" id="akka.stream.impl;FlexiMergeImpl.triggerCompletionAfterRead(cb630824b2).j">j</a> = <span title="Int(0)" class="int">0</span>
    while <span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.triggerCompletionAfterRead(cb630824b2).j" title="Int">j</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#akka.stream.impl;FlexiMergeImpl.triggerCompletionAfterRead(cb630824b2).inputs" title="Seq[akka.stream.scaladsl.FlexiMerge.InputHandle]">inputs</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <a href="#akka.stream.impl;FlexiMergeImpl.triggerCompletionAfterRead(cb630824b2).while$2" title="()Unit" class="delimiter">{</a>
      <a href="#akka.stream.impl;FlexiMergeImpl.triggerCompletionAfterRead(18571946d3)" title="(inputHandle: akka.stream.scaladsl.FlexiMerge.InputHandle)Unit">triggerCompletionAfterRead</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.triggerCompletionAfterRead(cb630824b2).inputs" title="(idx: Int)akka.stream.scaladsl.FlexiMerge.InputHandle">inputs</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.triggerCompletionAfterRead(cb630824b2).j" title="Int">j</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#akka.stream.impl;FlexiMergeImpl.triggerCompletionAfterRead(cb630824b2).j" title="Int">j</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  private def <a title="(inputHandle: akka.stream.scaladsl.FlexiMerge.InputHandle)Unit" id="akka.stream.impl;FlexiMergeImpl.triggerCompletionAfterRead(18571946d3)">triggerCompletionAfterRead</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.FlexiMerge.InputHandle" id="akka.stream.impl;FlexiMergeImpl.triggerCompletionAfterRead(18571946d3).inputHandle">inputHandle</a>: <a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;InputHandle" title="akka.stream.scaladsl.FlexiMerge.InputHandle">InputHandle</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    if <span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.inputBunch" title="=&gt; akka.stream.impl.FanIn.InputBunch">inputBunch</a>.<a href="FanIn.scala.html#akka.stream.impl.FanIn;InputBunch.isDepleted" title="(input: Int)Boolean">isDepleted</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.triggerCompletionAfterRead(18571946d3).inputHandle" title="akka.stream.scaladsl.FlexiMerge.InputHandle">inputHandle</a>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;InputHandle.portIndex" title="=&gt; Int">portIndex</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#akka.stream.impl;FlexiMergeImpl.triggerCompletion" title="(inputHandle: akka.stream.scaladsl.FlexiMerge.InputHandle)Unit">triggerCompletion</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.triggerCompletionAfterRead(18571946d3).inputHandle" title="akka.stream.scaladsl.FlexiMerge.InputHandle">inputHandle</a><span class="delimiter">)</span>

  private def <a title="(inputHandle: akka.stream.scaladsl.FlexiMerge.InputHandle)Unit" id="akka.stream.impl;FlexiMergeImpl.triggerCompletion">triggerCompletion</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.FlexiMerge.InputHandle" id="akka.stream.impl;FlexiMergeImpl.triggerCompletion.inputHandle">inputHandle</a>: <a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;InputHandle" title="akka.stream.scaladsl.FlexiMerge.InputHandle">InputHandle</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#akka.stream.impl;FlexiMergeImpl.changeBehavior" title="(newBehavior: FlexiMergeImpl.this.mergeLogic.State[_$6])Unit">changeBehavior</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.completion_=" title="=&gt; FlexiMergeImpl.this.CompletionT">completion</a>.<a href="../scaladsl/FlexiMerge.scala.html#akka.stream.scaladsl.FlexiMerge;MergeLogic;CompletionHandling.onComplete" title="(v1: FlexiMergeImpl.this.mergeLogic.MergeLogicContext, v2: akka.stream.scaladsl.FlexiMerge.InputHandle)FlexiMergeImpl.this.mergeLogic.State[_]">onComplete</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiMergeImpl.ctx" title="=&gt; FlexiMergeImpl.this.mergeLogic.MergeLogicContext">ctx</a>, <a href="#akka.stream.impl;FlexiMergeImpl.triggerCompletion.inputHandle" title="akka.stream.scaladsl.FlexiMerge.InputHandle">inputHandle</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
