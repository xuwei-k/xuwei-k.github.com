<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>akka/stream/impl/ActorBasedFlowMaterializer.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (C) 2014 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
package akka.stream.impl

import java.util.concurrent.atomic.AtomicLong

import akka.dispatch.Dispatchers
import akka.event.Logging
import akka.stream.impl.fusing.ActorInterpreter
import akka.stream.scaladsl.<a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes" title="akka.stream.scaladsl.OperationAttributes.type">OperationAttributes</a>._
import scala.annotation.tailrec
import scala.collection.immutable
import scala.concurrent.<span class="delimiter">{</span> Promise, ExecutionContext, Await, Future <span class="delimiter">}</span>
import akka.actor._
import akka.stream.<span class="delimiter">{</span> FlowMaterializer, MaterializerSettings, OverflowStrategy, TimerTransformer <span class="delimiter">}</span>
import akka.stream.MaterializationException
import akka.stream.actor.ActorSubscriber
import akka.stream.impl.<a href="FanIn.scala.html#akka.stream.impl.Zip" title="akka.stream.impl.Zip.type">Zip</a>.ZipAs
import akka.stream.scaladsl._
import akka.stream.stage._
import akka.pattern.ask
import org.reactivestreams.<span class="delimiter">{</span> Processor, Publisher, Subscriber <span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>akka<span class="delimiter">]</span> object <a title="akka.stream.impl.Ast.type" id="akka.stream.impl.Ast">Ast</a> <a href="#akka.stream.impl.Ast" title="akka.stream.impl.Ast.type" class="delimiter">{</a>

  sealed abstract class <a title="class AstNode extends AnyRef" id="akka.stream.impl.Ast;AstNode">AstNode</a> <a href="#akka.stream.impl.Ast;AstNode" title="akka.stream.impl.Ast.AstNode" class="delimiter">{</a>
    def <a title="=&gt; akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;AstNode.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a>
    def <a title="(attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.AstNode" id="akka.stream.impl.Ast;AstNode.withAttributes">withAttributes</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;AstNode.withAttributes.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span>: <a href="#akka.stream.impl.Ast;AstNode" title="akka.stream.impl.Ast.AstNode">AstNode</a>
  <span class="delimiter">}</span>

  object <a title="akka.stream.impl.Ast.Defaults.type" id="akka.stream.impl.Ast.Defaults">Defaults</a> <a href="#akka.stream.impl.Ast.Defaults" title="akka.stream.impl.Ast.Defaults.type" class="delimiter">{</a>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.timerTransform">timerTransform</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;timerTransform&quot;)" class="string">&quot;timerTransform&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.stageFactory">stageFactory</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;stageFactory&quot;)" class="string">&quot;stageFactory&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.fused">fused</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;fused&quot;)" class="string">&quot;fused&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.map">map</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;map&quot;)" class="string">&quot;map&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.filter">filter</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;filter&quot;)" class="string">&quot;filter&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.collect">collect</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;collect&quot;)" class="string">&quot;collect&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.mapAsync">mapAsync</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;mapAsync&quot;)" class="string">&quot;mapAsync&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.mapAsyncUnordered">mapAsyncUnordered</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;mapAsyncUnordered&quot;)" class="string">&quot;mapAsyncUnordered&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.grouped">grouped</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;grouped&quot;)" class="string">&quot;grouped&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.take">take</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;take&quot;)" class="string">&quot;take&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.drop">drop</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;drop&quot;)" class="string">&quot;drop&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.scan">scan</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;scan&quot;)" class="string">&quot;scan&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.buffer">buffer</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;buffer&quot;)" class="string">&quot;buffer&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.conflate">conflate</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;conflate&quot;)" class="string">&quot;conflate&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.expand">expand</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;expand&quot;)" class="string">&quot;expand&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.mapConcat">mapConcat</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;mapConcat&quot;)" class="string">&quot;mapConcat&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.groupBy">groupBy</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;groupBy&quot;)" class="string">&quot;groupBy&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.prefixAndTail">prefixAndTail</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;prefixAndTail&quot;)" class="string">&quot;prefixAndTail&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.splitWhen">splitWhen</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;splitWhen&quot;)" class="string">&quot;splitWhen&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.concatAll">concatAll</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;concatAll&quot;)" class="string">&quot;concatAll&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.processor">processor</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;processor&quot;)" class="string">&quot;processor&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.processorWithKey">processorWithKey</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;processorWithKey&quot;)" class="string">&quot;processorWithKey&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.identityOp">identityOp</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;identityOp&quot;)" class="string">&quot;identityOp&quot;</span><span class="delimiter">)</span>

    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.merge">merge</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;merge&quot;)" class="string">&quot;merge&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.mergePreferred">mergePreferred</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;mergePreferred&quot;)" class="string">&quot;mergePreferred&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.broadcast">broadcast</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;broadcast&quot;)" class="string">&quot;broadcast&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.balance">balance</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;balance&quot;)" class="string">&quot;balance&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.zip">zip</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;zip&quot;)" class="string">&quot;zip&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.unzip">unzip</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;unzip&quot;)" class="string">&quot;unzip&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.concat">concat</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;concat&quot;)" class="string">&quot;concat&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.flexiMerge">flexiMerge</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;flexiMerge&quot;)" class="string">&quot;flexiMerge&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.flexiRoute">flexiRoute</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;flexiRoute&quot;)" class="string">&quot;flexiRoute&quot;</span><span class="delimiter">)</span>
    val <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Defaults.identityJunction">identityJunction</a> = <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><span title="String(&quot;identityJunction&quot;)" class="string">&quot;identityJunction&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  import <a href="#akka.stream.impl.Ast.Defaults" title="akka.stream.impl.Ast.Defaults.type">Defaults</a>._

  final case class <a title="class TimerTransform extends akka.stream.impl.Ast.AstNode with Product with Serializable" id="akka.stream.impl.Ast.TimerTransform.readResolve">TimerTransform</a><span title="Product" class="delimiter">(</span><a title="() =&gt; akka.stream.TimerTransformer[Any,Any]" id="akka.stream.impl.Ast;TimerTransform.mkStage">mkStage</a>: <span class="delimiter">(</span><span class="delimiter">)</span> ⇒ TimerTransformer<span class="delimiter">[</span>Any, Any<span class="delimiter">]</span>, <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.TimerTransform.apply$default$2">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a> = <a href="#akka.stream.impl.Ast.Defaults.timerTransform" title="=&gt; akka.stream.scaladsl.OperationAttributes">timerTransform</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;AstNode" title="akka.stream.impl.Ast.AstNode">AstNode</a> <span class="delimiter">{</span>
    def <a title="(attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.TimerTransform" id="akka.stream.impl.Ast;TimerTransform.withAttributes">withAttributes</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;TimerTransform.withAttributes.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> =
      <a href="#akka.stream.impl.Ast;TimerTransform.mkStage" title="() =&gt; akka.stream.TimerTransformer[Any,Any] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.stream.impl.Ast;TimerTransform.withAttributes.x$33">copy</a><span class="delimiter">(</span>attributes = <a href="#akka.stream.impl.Ast;TimerTransform.withAttributes.attributes" title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;TimerTransform.withAttributes.x$32">attributes</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  final case class <a title="class StageFactory extends akka.stream.impl.Ast.AstNode with Product with Serializable" id="akka.stream.impl.Ast.StageFactory.readResolve">StageFactory</a><span title="Product" class="delimiter">(</span><a title="() =&gt; akka.stream.stage.Stage[_, _]" id="akka.stream.impl.Ast;StageFactory.mkStage">mkStage</a>: <span class="delimiter">(</span><span class="delimiter">)</span> ⇒ Stage<span class="delimiter">[</span>_, _<span class="delimiter">]</span>, <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.StageFactory.apply$default$2">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a> = <a href="#akka.stream.impl.Ast.Defaults.stageFactory" title="=&gt; akka.stream.scaladsl.OperationAttributes">stageFactory</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;AstNode" title="akka.stream.impl.Ast.AstNode">AstNode</a> <span class="delimiter">{</span>
    def <a title="(attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.StageFactory" id="akka.stream.impl.Ast;StageFactory.withAttributes">withAttributes</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;StageFactory.withAttributes.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> =
      <a href="#akka.stream.impl.Ast;StageFactory.mkStage" title="() =&gt; akka.stream.stage.Stage[_, _] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.stream.impl.Ast;StageFactory.withAttributes.x$35">copy</a><span class="delimiter">(</span>attributes = <a href="#akka.stream.impl.Ast;StageFactory.withAttributes.attributes" title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;StageFactory.withAttributes.x$34">attributes</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  object <a title="akka.stream.impl.Ast.Fused.type" id="akka.stream.impl.Ast.Fused.readResolve">Fused</a> <a href="#akka.stream.impl.Ast.Fused.readResolve" title="akka.stream.impl.Ast.Fused.type" class="delimiter">{</a>
    def <a title="(ops: scala.collection.immutable.Seq[akka.stream.stage.Stage[_, _]])akka.stream.impl.Ast.Fused" id="akka.stream.impl.Ast.Fused.apply(814d1e46cf)">apply</a><span class="delimiter">(</span><a title="scala.collection.immutable.Seq[akka.stream.stage.Stage[_, _]]" id="akka.stream.impl.Ast.Fused.apply(814d1e46cf).ops">ops</a>: immutable.<span title="scala.collection.immutable.Seq[akka.stream.stage.Stage[_, _]]">Seq</span><span class="delimiter">[</span>Stage<span class="delimiter">[</span>_, _<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.stream.impl.Ast;Fused.equals" title="akka.stream.impl.Ast.Fused">Fused</a> =
      <a href="#akka.stream.impl.Ast;Fused.equals" title="(ops: scala.collection.immutable.Seq[akka.stream.stage.Stage[_, _]], attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.Fused">Fused</a><span class="delimiter">(</span><a href="#akka.stream.impl.Ast.Fused.apply(814d1e46cf).ops" title="scala.collection.immutable.Seq[akka.stream.stage.Stage[_, _]]">ops</a>, <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl.OperationAttributes.name" title="(name: String)akka.stream.scaladsl.OperationAttributes">name</a><span class="delimiter">(</span><a href="#akka.stream.impl.Ast.Fused.apply(814d1e46cf).ops" title="scala.collection.immutable.Seq[akka.stream.stage.Stage[_, _]]">ops</a>.<span title="(f: akka.stream.stage.Stage[_, _] =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Seq[akka.stream.stage.Stage[_, _]],String,scala.collection.immutable.Seq[String]])scala.collection.immutable.Seq[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Seq.Coll,String,scala.collection.immutable.Seq[String]]" class="delimiter">(</span><a title="akka.stream.stage.Stage[_, _]" id="akka.stream.impl.Ast.Fused.apply(814d1e46cf).$anonfun.x">x</a> ⇒ <span title="akka.event.Logging.type">Logging</span>.<span title="(obj: AnyRef)String">simpleName</span><span class="delimiter">(</span><a href="#akka.stream.impl.Ast.Fused.apply(814d1e46cf).$anonfun.x" title="akka.stream.stage.Stage[_, _]">x</a><span class="delimiter">)</span>.<span title="()String">toLowerCase</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;+&quot;)" class="string">&quot;+&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">//FIXME change to something more performant for name</span>
  <span class="delimiter">}</span>
  final case class <a title="(ops: scala.collection.immutable.Seq[akka.stream.stage.Stage[_, _]], attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.Fused" id="akka.stream.impl.Ast;Fused.equals">Fused</a><span title="Product" class="delimiter">(</span><a title="scala.collection.immutable.Seq[akka.stream.stage.Stage[_, _]]" id="akka.stream.impl.Ast;Fused.copy$default$1">ops</a>: immutable.<span title="scala.collection.immutable.Seq[akka.stream.stage.Stage[_, _]]">Seq</span><span class="delimiter">[</span>Stage<span class="delimiter">[</span>_, _<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="=&gt; akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Fused.copy$default$2">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a> = <a href="#akka.stream.impl.Ast.Defaults.fused" title="=&gt; akka.stream.scaladsl.OperationAttributes">fused</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;AstNode" title="akka.stream.impl.Ast.AstNode">AstNode</a> <span class="delimiter">{</span>
    def <a title="(attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.Fused" id="akka.stream.impl.Ast;Fused.withAttributes">withAttributes</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Fused.withAttributes.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> =
      <a href="#akka.stream.impl.Ast;Fused.copy$default$1" title="scala.collection.immutable.Seq[akka.stream.stage.Stage[_, _]] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.stream.impl.Ast;Fused.withAttributes.x$37">copy</a><span class="delimiter">(</span>attributes = <a href="#akka.stream.impl.Ast;Fused.withAttributes.attributes" title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Fused.withAttributes.x$36">attributes</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  final case class <a title="class Map extends akka.stream.impl.Ast.AstNode with Product with Serializable" id="akka.stream.impl.Ast.Map.readResolve">Map</a><span title="Product" class="delimiter">(</span><a title="Any =&gt; Any" id="akka.stream.impl.Ast;Map.f">f</a>: Any ⇒ Any, <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Map.apply$default$2">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a> = <a href="#akka.stream.impl.Ast.Defaults.map" title="=&gt; akka.stream.scaladsl.OperationAttributes">map</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;AstNode" title="akka.stream.impl.Ast.AstNode">AstNode</a> <span class="delimiter">{</span>
    def <a title="(attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.Map" id="akka.stream.impl.Ast;Map.withAttributes">withAttributes</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Map.withAttributes.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> =
      <a href="#akka.stream.impl.Ast;Map.f" title="Any =&gt; Any @scala.reflect.internal.annotations.uncheckedBounds" id="akka.stream.impl.Ast;Map.withAttributes.x$39">copy</a><span class="delimiter">(</span>attributes = <a href="#akka.stream.impl.Ast;Map.withAttributes.attributes" title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Map.withAttributes.x$38">attributes</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  final case class <a title="class Filter extends akka.stream.impl.Ast.AstNode with Product with Serializable" id="akka.stream.impl.Ast.Filter.readResolve">Filter</a><span title="Product" class="delimiter">(</span><a title="Any =&gt; Boolean" id="akka.stream.impl.Ast;Filter.p">p</a>: Any ⇒ Boolean, <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Filter.apply$default$2">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a> = <a href="#akka.stream.impl.Ast.Defaults.filter" title="=&gt; akka.stream.scaladsl.OperationAttributes">filter</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;AstNode" title="akka.stream.impl.Ast.AstNode">AstNode</a> <span class="delimiter">{</span>
    def <a title="(attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.Filter" id="akka.stream.impl.Ast;Filter.withAttributes">withAttributes</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Filter.withAttributes.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> =
      <a href="#akka.stream.impl.Ast;Filter.p" title="Any =&gt; Boolean @scala.reflect.internal.annotations.uncheckedBounds" id="akka.stream.impl.Ast;Filter.withAttributes.x$41">copy</a><span class="delimiter">(</span>attributes = <a href="#akka.stream.impl.Ast;Filter.withAttributes.attributes" title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Filter.withAttributes.x$40">attributes</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  final case class <a title="class Collect extends akka.stream.impl.Ast.AstNode with Product with Serializable" id="akka.stream.impl.Ast.Collect.readResolve">Collect</a><span title="Product" class="delimiter">(</span><a title="PartialFunction[Any,Any]" id="akka.stream.impl.Ast;Collect.pf">pf</a>: <span title="PartialFunction[Any,Any]">PartialFunction</span><span class="delimiter">[</span>Any, Any<span class="delimiter">]</span>, <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Collect.apply$default$2">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a> = <a href="#akka.stream.impl.Ast.Defaults.collect" title="=&gt; akka.stream.scaladsl.OperationAttributes">collect</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;AstNode" title="akka.stream.impl.Ast.AstNode">AstNode</a> <span class="delimiter">{</span>
    def <a title="(attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.Collect" id="akka.stream.impl.Ast;Collect.withAttributes">withAttributes</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Collect.withAttributes.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> =
      <a href="#akka.stream.impl.Ast;Collect.pf" title="PartialFunction[Any,Any] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.stream.impl.Ast;Collect.withAttributes.x$43">copy</a><span class="delimiter">(</span>attributes = <a href="#akka.stream.impl.Ast;Collect.withAttributes.attributes" title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Collect.withAttributes.x$42">attributes</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">// FIXME Replace with OperateAsync</span>
  final case class <a title="class MapAsync extends akka.stream.impl.Ast.AstNode with Product with Serializable" id="akka.stream.impl.Ast.MapAsync.readResolve">MapAsync</a><span title="Product" class="delimiter">(</span><a title="Any =&gt; scala.concurrent.Future[Any]" id="akka.stream.impl.Ast;MapAsync.f">f</a>: Any ⇒ Future<span class="delimiter">[</span>Any<span class="delimiter">]</span>, <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.MapAsync.apply$default$2">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a> = <a href="#akka.stream.impl.Ast.Defaults.mapAsync" title="=&gt; akka.stream.scaladsl.OperationAttributes">mapAsync</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;AstNode" title="akka.stream.impl.Ast.AstNode">AstNode</a> <span class="delimiter">{</span>
    def <a title="(attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.MapAsync" id="akka.stream.impl.Ast;MapAsync.withAttributes">withAttributes</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;MapAsync.withAttributes.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> =
      <a href="#akka.stream.impl.Ast;MapAsync.f" title="Any =&gt; scala.concurrent.Future[Any] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.stream.impl.Ast;MapAsync.withAttributes.x$45">copy</a><span class="delimiter">(</span>attributes = <a href="#akka.stream.impl.Ast;MapAsync.withAttributes.attributes" title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;MapAsync.withAttributes.x$44">attributes</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">//FIXME Should be OperateUnorderedAsync</span>
  final case class <a title="class MapAsyncUnordered extends akka.stream.impl.Ast.AstNode with Product with Serializable" id="akka.stream.impl.Ast.MapAsyncUnordered.readResolve">MapAsyncUnordered</a><span title="Product" class="delimiter">(</span><a title="Any =&gt; scala.concurrent.Future[Any]" id="akka.stream.impl.Ast;MapAsyncUnordered.f">f</a>: Any ⇒ Future<span class="delimiter">[</span>Any<span class="delimiter">]</span>, <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.MapAsyncUnordered.apply$default$2">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a> = <a href="#akka.stream.impl.Ast.Defaults.mapAsyncUnordered" title="=&gt; akka.stream.scaladsl.OperationAttributes">mapAsyncUnordered</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;AstNode" title="akka.stream.impl.Ast.AstNode">AstNode</a> <span class="delimiter">{</span>
    def <a title="(attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.MapAsyncUnordered" id="akka.stream.impl.Ast;MapAsyncUnordered.withAttributes">withAttributes</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;MapAsyncUnordered.withAttributes.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> =
      <a href="#akka.stream.impl.Ast;MapAsyncUnordered.f" title="Any =&gt; scala.concurrent.Future[Any] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.stream.impl.Ast;MapAsyncUnordered.withAttributes.x$47">copy</a><span class="delimiter">(</span>attributes = <a href="#akka.stream.impl.Ast;MapAsyncUnordered.withAttributes.attributes" title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;MapAsyncUnordered.withAttributes.x$46">attributes</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  final case class <a title="class Grouped extends akka.stream.impl.Ast.AstNode with Product with Serializable" id="akka.stream.impl.Ast.Grouped.readResolve">Grouped</a><span title="Product" class="delimiter">(</span><a title="Int" id="akka.stream.impl.Ast;Grouped.n">n</a>: <span title="Int">Int</span>, <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Grouped.apply$default$2">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a> = <a href="#akka.stream.impl.Ast.Defaults.grouped" title="=&gt; akka.stream.scaladsl.OperationAttributes">grouped</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;AstNode" title="akka.stream.impl.Ast.AstNode">AstNode</a> <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#akka.stream.impl.Ast;Grouped.n" title="=&gt; Int">n</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span>, <span title="String(&quot;n must be greater than 0&quot;)" class="string">&quot;n must be greater than 0&quot;</span><span class="delimiter">)</span>

    def <a title="(attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.Grouped" id="akka.stream.impl.Ast;Grouped.withAttributes">withAttributes</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Grouped.withAttributes.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> =
      <a href="#akka.stream.impl.Ast;Grouped.n" title="Int" id="akka.stream.impl.Ast;Grouped.withAttributes.x$49">copy</a><span class="delimiter">(</span>attributes = <a href="#akka.stream.impl.Ast;Grouped.withAttributes.attributes" title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Grouped.withAttributes.x$48">attributes</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">//FIXME should be `n: Long`</span>
  final case class <a title="class Take extends akka.stream.impl.Ast.AstNode with Product with Serializable" id="akka.stream.impl.Ast.Take.readResolve">Take</a><span title="Product" class="delimiter">(</span><a title="Int" id="akka.stream.impl.Ast;Take.n">n</a>: <span title="Int">Int</span>, <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Take.apply$default$2">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a> = <a href="#akka.stream.impl.Ast.Defaults.take" title="=&gt; akka.stream.scaladsl.OperationAttributes">take</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;AstNode" title="akka.stream.impl.Ast.AstNode">AstNode</a> <span class="delimiter">{</span>
    def <a title="(attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.Take" id="akka.stream.impl.Ast;Take.withAttributes">withAttributes</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Take.withAttributes.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> =
      <a href="#akka.stream.impl.Ast;Take.n" title="Int" id="akka.stream.impl.Ast;Take.withAttributes.x$51">copy</a><span class="delimiter">(</span>attributes = <a href="#akka.stream.impl.Ast;Take.withAttributes.attributes" title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Take.withAttributes.x$50">attributes</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">//FIXME should be `n: Long`</span>
  final case class <a title="class Drop extends akka.stream.impl.Ast.AstNode with Product with Serializable" id="akka.stream.impl.Ast.Drop.readResolve">Drop</a><span title="Product" class="delimiter">(</span><a title="Int" id="akka.stream.impl.Ast;Drop.n">n</a>: <span title="Int">Int</span>, <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Drop.apply$default$2">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a> = <a href="#akka.stream.impl.Ast.Defaults.drop" title="=&gt; akka.stream.scaladsl.OperationAttributes">drop</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;AstNode" title="akka.stream.impl.Ast.AstNode">AstNode</a> <span class="delimiter">{</span>
    def <a title="(attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.Drop" id="akka.stream.impl.Ast;Drop.withAttributes">withAttributes</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Drop.withAttributes.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> =
      <a href="#akka.stream.impl.Ast;Drop.n" title="Int" id="akka.stream.impl.Ast;Drop.withAttributes.x$53">copy</a><span class="delimiter">(</span>attributes = <a href="#akka.stream.impl.Ast;Drop.withAttributes.attributes" title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Drop.withAttributes.x$52">attributes</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  final case class <a title="class Scan extends akka.stream.impl.Ast.AstNode with Product with Serializable" id="akka.stream.impl.Ast.Scan.readResolve">Scan</a><span title="Product" class="delimiter">(</span><a title="Any" id="akka.stream.impl.Ast;Scan.zero">zero</a>: <span title="Any">Any</span>, <a title="(Any, Any) =&gt; Any" id="akka.stream.impl.Ast;Scan.f">f</a>: <span class="delimiter">(</span>Any, Any<span class="delimiter">)</span> ⇒ Any, <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Scan.apply$default$3">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a> = <a href="#akka.stream.impl.Ast.Defaults.scan" title="=&gt; akka.stream.scaladsl.OperationAttributes">scan</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;AstNode" title="akka.stream.impl.Ast.AstNode">AstNode</a> <span class="delimiter">{</span>
    def <a title="(attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.Scan" id="akka.stream.impl.Ast;Scan.withAttributes">withAttributes</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Scan.withAttributes.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> =
      <a href="#akka.stream.impl.Ast;Scan.zero" title="Any" id="akka.stream.impl.Ast;Scan.withAttributes.x$56">copy</a><span class="delimiter">(</span>attributes = <a href="#akka.stream.impl.Ast;Scan.withAttributes.attributes" title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Scan.withAttributes.x$54">attributes</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  final case class <a title="class Buffer extends akka.stream.impl.Ast.AstNode with Product with Serializable" id="akka.stream.impl.Ast.Buffer.readResolve">Buffer</a><span title="Product" class="delimiter">(</span><a title="Int" id="akka.stream.impl.Ast;Buffer.size">size</a>: <span title="Int">Int</span>, <a title="akka.stream.OverflowStrategy" id="akka.stream.impl.Ast;Buffer.overflowStrategy">overflowStrategy</a>: <a href="../OverflowStrategy.scala.html#akka.stream;OverflowStrategy" title="akka.stream.OverflowStrategy">OverflowStrategy</a>, <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Buffer.apply$default$3">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a> = <a href="#akka.stream.impl.Ast.Defaults.buffer" title="=&gt; akka.stream.scaladsl.OperationAttributes">buffer</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;AstNode" title="akka.stream.impl.Ast.AstNode">AstNode</a> <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#akka.stream.impl.Ast;Buffer.size" title="=&gt; Int">size</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span>, <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Buffer size must be larger than zero but was [&quot;)">Buffer size must be larger than zero but was [$</span><a href="#akka.stream.impl.Ast;Buffer.size" title="=&gt; Int">size</a><span title="String(&quot;]&quot;)" class="string">]&quot;</span><span class="delimiter">)</span>

    def <a title="(attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.Buffer" id="akka.stream.impl.Ast;Buffer.withAttributes">withAttributes</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Buffer.withAttributes.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> =
      <a href="#akka.stream.impl.Ast;Buffer.size" title="Int" id="akka.stream.impl.Ast;Buffer.withAttributes.x$59">copy</a><span class="delimiter">(</span>attributes = <a href="#akka.stream.impl.Ast;Buffer.withAttributes.attributes" title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Buffer.withAttributes.x$57">attributes</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  final case class <a title="class Conflate extends akka.stream.impl.Ast.AstNode with Product with Serializable" id="akka.stream.impl.Ast.Conflate.readResolve">Conflate</a><span title="Product" class="delimiter">(</span><a title="Any =&gt; Any" id="akka.stream.impl.Ast;Conflate.seed">seed</a>: Any ⇒ Any, <a title="(Any, Any) =&gt; Any" id="akka.stream.impl.Ast;Conflate.aggregate">aggregate</a>: <span class="delimiter">(</span>Any, Any<span class="delimiter">)</span> ⇒ Any, <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Conflate.apply$default$3">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a> = <a href="#akka.stream.impl.Ast.Defaults.conflate" title="=&gt; akka.stream.scaladsl.OperationAttributes">conflate</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;AstNode" title="akka.stream.impl.Ast.AstNode">AstNode</a> <span class="delimiter">{</span>
    def <a title="(attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.Conflate" id="akka.stream.impl.Ast;Conflate.withAttributes">withAttributes</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Conflate.withAttributes.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> =
      <a href="#akka.stream.impl.Ast;Conflate.seed" title="Any =&gt; Any @scala.reflect.internal.annotations.uncheckedBounds" id="akka.stream.impl.Ast;Conflate.withAttributes.x$62">copy</a><span class="delimiter">(</span>attributes = <a href="#akka.stream.impl.Ast;Conflate.withAttributes.attributes" title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Conflate.withAttributes.x$60">attributes</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  final case class <a title="class Expand extends akka.stream.impl.Ast.AstNode with Product with Serializable" id="akka.stream.impl.Ast.Expand.readResolve">Expand</a><span title="Product" class="delimiter">(</span><a title="Any =&gt; Any" id="akka.stream.impl.Ast;Expand.seed">seed</a>: Any ⇒ Any, <a title="Any =&gt; (Any, Any)" id="akka.stream.impl.Ast;Expand.extrapolate">extrapolate</a>: Any ⇒ <span class="delimiter">(</span>Any, Any<span class="delimiter">)</span>, <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.Expand.apply$default$3">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a> = <a href="#akka.stream.impl.Ast.Defaults.expand" title="=&gt; akka.stream.scaladsl.OperationAttributes">expand</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;AstNode" title="akka.stream.impl.Ast.AstNode">AstNode</a> <span class="delimiter">{</span>
    def <a title="(attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.Expand" id="akka.stream.impl.Ast;Expand.withAttributes">withAttributes</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Expand.withAttributes.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> =
      <a href="#akka.stream.impl.Ast;Expand.seed" title="Any =&gt; Any @scala.reflect.internal.annotations.uncheckedBounds" id="akka.stream.impl.Ast;Expand.withAttributes.x$65">copy</a><span class="delimiter">(</span>attributes = <a href="#akka.stream.impl.Ast;Expand.withAttributes.attributes" title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Expand.withAttributes.x$63">attributes</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  final case class <a title="class MapConcat extends akka.stream.impl.Ast.AstNode with Product with Serializable" id="akka.stream.impl.Ast.MapConcat.readResolve">MapConcat</a><span title="Product" class="delimiter">(</span><a title="Any =&gt; scala.collection.immutable.Seq[Any]" id="akka.stream.impl.Ast;MapConcat.f">f</a>: Any ⇒ immutable.Seq<span class="delimiter">[</span>Any<span class="delimiter">]</span>, <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.MapConcat.apply$default$2">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a> = <a href="#akka.stream.impl.Ast.Defaults.mapConcat" title="=&gt; akka.stream.scaladsl.OperationAttributes">mapConcat</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;AstNode" title="akka.stream.impl.Ast.AstNode">AstNode</a> <span class="delimiter">{</span>
    def <a title="(attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.MapConcat" id="akka.stream.impl.Ast;MapConcat.withAttributes">withAttributes</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;MapConcat.withAttributes.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> =
      <a href="#akka.stream.impl.Ast;MapConcat.f" title="Any =&gt; scala.collection.immutable.Seq[Any] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.stream.impl.Ast;MapConcat.withAttributes.x$67">copy</a><span class="delimiter">(</span>attributes = <a href="#akka.stream.impl.Ast;MapConcat.withAttributes.attributes" title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;MapConcat.withAttributes.x$66">attributes</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  final case class <a title="class GroupBy extends akka.stream.impl.Ast.AstNode with Product with Serializable" id="akka.stream.impl.Ast.GroupBy.readResolve">GroupBy</a><span title="Product" class="delimiter">(</span><a title="Any =&gt; Any" id="akka.stream.impl.Ast;GroupBy.f">f</a>: Any ⇒ Any, <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.GroupBy.apply$default$2">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a> = <a href="#akka.stream.impl.Ast.Defaults.groupBy" title="=&gt; akka.stream.scaladsl.OperationAttributes">groupBy</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;AstNode" title="akka.stream.impl.Ast.AstNode">AstNode</a> <span class="delimiter">{</span>
    def <a title="(attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.GroupBy" id="akka.stream.impl.Ast;GroupBy.withAttributes">withAttributes</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;GroupBy.withAttributes.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> =
      <a href="#akka.stream.impl.Ast;GroupBy.f" title="Any =&gt; Any @scala.reflect.internal.annotations.uncheckedBounds" id="akka.stream.impl.Ast;GroupBy.withAttributes.x$69">copy</a><span class="delimiter">(</span>attributes = <a href="#akka.stream.impl.Ast;GroupBy.withAttributes.attributes" title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;GroupBy.withAttributes.x$68">attributes</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  final case class <a title="class PrefixAndTail extends akka.stream.impl.Ast.AstNode with Product with Serializable" id="akka.stream.impl.Ast.PrefixAndTail.readResolve">PrefixAndTail</a><span title="Product" class="delimiter">(</span><a title="Int" id="akka.stream.impl.Ast;PrefixAndTail.n">n</a>: <span title="Int">Int</span>, <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.PrefixAndTail.apply$default$2">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a> = <a href="#akka.stream.impl.Ast.Defaults.prefixAndTail" title="=&gt; akka.stream.scaladsl.OperationAttributes">prefixAndTail</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;AstNode" title="akka.stream.impl.Ast.AstNode">AstNode</a> <span class="delimiter">{</span>
    def <a title="(attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.PrefixAndTail" id="akka.stream.impl.Ast;PrefixAndTail.withAttributes">withAttributes</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;PrefixAndTail.withAttributes.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> =
      <a href="#akka.stream.impl.Ast;PrefixAndTail.n" title="Int" id="akka.stream.impl.Ast;PrefixAndTail.withAttributes.x$71">copy</a><span class="delimiter">(</span>attributes = <a href="#akka.stream.impl.Ast;PrefixAndTail.withAttributes.attributes" title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;PrefixAndTail.withAttributes.x$70">attributes</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  final case class <a title="class SplitWhen extends akka.stream.impl.Ast.AstNode with Product with Serializable" id="akka.stream.impl.Ast.SplitWhen.readResolve">SplitWhen</a><span title="Product" class="delimiter">(</span><a title="Any =&gt; Boolean" id="akka.stream.impl.Ast;SplitWhen.p">p</a>: Any ⇒ Boolean, <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.SplitWhen.apply$default$2">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a> = <a href="#akka.stream.impl.Ast.Defaults.splitWhen" title="=&gt; akka.stream.scaladsl.OperationAttributes">splitWhen</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;AstNode" title="akka.stream.impl.Ast.AstNode">AstNode</a> <span class="delimiter">{</span>
    def <a title="(attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.SplitWhen" id="akka.stream.impl.Ast;SplitWhen.withAttributes">withAttributes</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;SplitWhen.withAttributes.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> =
      <a href="#akka.stream.impl.Ast;SplitWhen.p" title="Any =&gt; Boolean @scala.reflect.internal.annotations.uncheckedBounds" id="akka.stream.impl.Ast;SplitWhen.withAttributes.x$73">copy</a><span class="delimiter">(</span>attributes = <a href="#akka.stream.impl.Ast;SplitWhen.withAttributes.attributes" title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;SplitWhen.withAttributes.x$72">attributes</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  final case class <a title="class ConcatAll extends akka.stream.impl.Ast.AstNode with Product with Serializable" id="akka.stream.impl.Ast.ConcatAll.readResolve">ConcatAll</a><span title="Product" class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.ConcatAll.apply$default$1">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a> = <a href="#akka.stream.impl.Ast.Defaults.concatAll" title="=&gt; akka.stream.scaladsl.OperationAttributes">concatAll</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;AstNode" title="akka.stream.impl.Ast.AstNode">AstNode</a> <span class="delimiter">{</span>
    def <a title="(attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.ConcatAll" id="akka.stream.impl.Ast;ConcatAll.withAttributes">withAttributes</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;ConcatAll.withAttributes.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> =
      <a href="#akka.stream.impl.Ast.ConcatAll.readResolve" title="(attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.ConcatAll">copy</a><span class="delimiter">(</span>attributes = <a href="#akka.stream.impl.Ast;ConcatAll.withAttributes.attributes" title="akka.stream.scaladsl.OperationAttributes">attributes</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  case class <a title="class DirectProcessor extends akka.stream.impl.Ast.AstNode with Product with Serializable" id="akka.stream.impl.Ast.DirectProcessor.readResolve">DirectProcessor</a><span title="Product" class="delimiter">(</span><a title="() =&gt; org.reactivestreams.Processor[Any,Any]" id="akka.stream.impl.Ast;DirectProcessor.p">p</a>: <span class="delimiter">(</span><span class="delimiter">)</span> ⇒ Processor<span class="delimiter">[</span>Any, Any<span class="delimiter">]</span>, <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.DirectProcessor.apply$default$2">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a> = <a href="#akka.stream.impl.Ast.Defaults.processor" title="=&gt; akka.stream.scaladsl.OperationAttributes">processor</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;AstNode" title="akka.stream.impl.Ast.AstNode">AstNode</a> <span class="delimiter">{</span>
    def <a title="(attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.DirectProcessor" id="akka.stream.impl.Ast;DirectProcessor.withAttributes">withAttributes</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;DirectProcessor.withAttributes.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> =
      <a href="#akka.stream.impl.Ast;DirectProcessor.p" title="() =&gt; org.reactivestreams.Processor[Any,Any] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.stream.impl.Ast;DirectProcessor.withAttributes.x$75">copy</a><span class="delimiter">(</span>attributes = <a href="#akka.stream.impl.Ast;DirectProcessor.withAttributes.attributes" title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;DirectProcessor.withAttributes.x$74">attributes</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  case class <a title="class DirectProcessorWithKey extends akka.stream.impl.Ast.AstNode with Product with Serializable" id="akka.stream.impl.Ast.DirectProcessorWithKey.readResolve">DirectProcessorWithKey</a><span title="Product" class="delimiter">(</span><a title="() =&gt; (org.reactivestreams.Processor[Any,Any], Any)" id="akka.stream.impl.Ast;DirectProcessorWithKey.p">p</a>: <span class="delimiter">(</span><span class="delimiter">)</span> ⇒ <span class="delimiter">(</span>Processor<span class="delimiter">[</span>Any, Any<span class="delimiter">]</span>, Any<span class="delimiter">)</span>, <a title="akka.stream.scaladsl.Key[_]" id="akka.stream.impl.Ast;DirectProcessorWithKey.key">key</a>: <a href="../scaladsl/MaterializedMap.scala.html#akka.stream.scaladsl;Key" title="akka.stream.scaladsl.Key[_]">Key</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast.DirectProcessorWithKey.apply$default$3">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a> = <a href="#akka.stream.impl.Ast.Defaults.processorWithKey" title="=&gt; akka.stream.scaladsl.OperationAttributes">processorWithKey</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;AstNode" title="akka.stream.impl.Ast.AstNode">AstNode</a> <span class="delimiter">{</span>
    def <a title="(attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.DirectProcessorWithKey" id="akka.stream.impl.Ast;DirectProcessorWithKey.withAttributes">withAttributes</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;DirectProcessorWithKey.withAttributes.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> =
      <a href="#akka.stream.impl.Ast;DirectProcessorWithKey.p" title="() =&gt; (org.reactivestreams.Processor[Any,Any], Any) @scala.reflect.internal.annotations.uncheckedBounds" id="akka.stream.impl.Ast;DirectProcessorWithKey.withAttributes.x$78">copy</a><span class="delimiter">(</span>attributes = <a href="#akka.stream.impl.Ast;DirectProcessorWithKey.withAttributes.attributes" title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;DirectProcessorWithKey.withAttributes.x$76">attributes</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  sealed trait <a title="trait JunctionAstNode extends AnyRef" id="akka.stream.impl.Ast;JunctionAstNode">JunctionAstNode</a> <span class="delimiter">{</span>
    def <a title="=&gt; akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;JunctionAstNode.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a>
  <span class="delimiter">}</span>

  <span class="comment">// FIXME: Try to eliminate these</span>
  sealed trait <a title="trait FanInAstNode extends AnyRef with akka.stream.impl.Ast.JunctionAstNode" id="akka.stream.impl.Ast;FanInAstNode">FanInAstNode</a> extends <a href="#akka.stream.impl.Ast;JunctionAstNode" title="akka.stream.impl.Ast.JunctionAstNode">JunctionAstNode</a>
  sealed trait <a title="trait FanOutAstNode extends AnyRef with akka.stream.impl.Ast.JunctionAstNode" id="akka.stream.impl.Ast;FanOutAstNode">FanOutAstNode</a> extends <a href="#akka.stream.impl.Ast;JunctionAstNode" title="akka.stream.impl.Ast.JunctionAstNode">JunctionAstNode</a>

  <span class="comment">// FIXME Why do we need this?</span>
  case class <a title="class IdentityAstNode extends AnyRef with akka.stream.impl.Ast.JunctionAstNode with Product with Serializable" id="akka.stream.impl.Ast.IdentityAstNode.readResolve">IdentityAstNode</a><span title="Product" class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;IdentityAstNode.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;JunctionAstNode" title="akka.stream.impl.Ast.JunctionAstNode">JunctionAstNode</a>

  final case class <a title="class Merge extends AnyRef with akka.stream.impl.Ast.FanInAstNode with Product with Serializable" id="akka.stream.impl.Ast.Merge.readResolve">Merge</a><span title="Product" class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Merge.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;FanInAstNode" title="akka.stream.impl.Ast.FanInAstNode">FanInAstNode</a>
  final case class <a title="class MergePreferred extends AnyRef with akka.stream.impl.Ast.FanInAstNode with Product with Serializable" id="akka.stream.impl.Ast.MergePreferred.readResolve">MergePreferred</a><span title="Product" class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;MergePreferred.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;FanInAstNode" title="akka.stream.impl.Ast.FanInAstNode">FanInAstNode</a>

  final case class <a title="class Broadcast extends AnyRef with akka.stream.impl.Ast.FanOutAstNode with Product with Serializable" id="akka.stream.impl.Ast.Broadcast.readResolve">Broadcast</a><span title="Product" class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Broadcast.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;FanOutAstNode" title="akka.stream.impl.Ast.FanOutAstNode">FanOutAstNode</a>
  final case class <a title="class Balance extends AnyRef with akka.stream.impl.Ast.FanOutAstNode with Product with Serializable" id="akka.stream.impl.Ast.Balance.readResolve">Balance</a><span title="Product" class="delimiter">(</span><a title="Boolean" id="akka.stream.impl.Ast;Balance.waitForAllDownstreams">waitForAllDownstreams</a>: <span title="Boolean">Boolean</span>, <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Balance.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;FanOutAstNode" title="akka.stream.impl.Ast.FanOutAstNode">FanOutAstNode</a>

  final case class <a title="class Zip extends AnyRef with akka.stream.impl.Ast.FanInAstNode with Product with Serializable" id="akka.stream.impl.Ast.Zip.readResolve">Zip</a><span title="Product" class="delimiter">(</span><a title="akka.stream.impl.Zip.ZipAs" id="akka.stream.impl.Ast;Zip.as">as</a>: <a href="FanIn.scala.html#akka.stream.impl.Zip;ZipAs" title="akka.stream.impl.Zip.ZipAs">ZipAs</a>, <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Zip.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;FanInAstNode" title="akka.stream.impl.Ast.FanInAstNode">FanInAstNode</a>
  final case class <a title="class Unzip extends AnyRef with akka.stream.impl.Ast.FanOutAstNode with Product with Serializable" id="akka.stream.impl.Ast.Unzip.readResolve">Unzip</a><span title="Product" class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Unzip.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;FanOutAstNode" title="akka.stream.impl.Ast.FanOutAstNode">FanOutAstNode</a>

  final case class <a title="class Concat extends AnyRef with akka.stream.impl.Ast.FanInAstNode with Product with Serializable" id="akka.stream.impl.Ast.Concat.readResolve">Concat</a><span title="Product" class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;Concat.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;FanInAstNode" title="akka.stream.impl.Ast.FanInAstNode">FanInAstNode</a>

  final case class <a title="class FlexiMergeNode extends AnyRef with akka.stream.impl.Ast.FanInAstNode with Product with Serializable" id="akka.stream.impl.Ast.FlexiMergeNode.readResolve">FlexiMergeNode</a><span title="Product" class="delimiter">(</span><a title="akka.stream.impl.FlexiMergeImpl.MergeLogicFactory[Any]" id="akka.stream.impl.Ast;FlexiMergeNode.factory">factory</a>: FlexiMergeImpl.<a href="FlexiMergeImpl.scala.html#akka.stream.impl.FlexiMergeImpl;MergeLogicFactory" title="akka.stream.impl.FlexiMergeImpl.MergeLogicFactory[Any]">MergeLogicFactory</a><span class="delimiter">[</span>Any<span class="delimiter">]</span>, <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;FlexiMergeNode.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;FanInAstNode" title="akka.stream.impl.Ast.FanInAstNode">FanInAstNode</a>
  final case class <a title="class FlexiRouteNode extends AnyRef with akka.stream.impl.Ast.FanOutAstNode with Product with Serializable" id="akka.stream.impl.Ast.FlexiRouteNode.readResolve">FlexiRouteNode</a><span title="Product" class="delimiter">(</span><a title="akka.stream.impl.FlexiRouteImpl.RouteLogicFactory[Any]" id="akka.stream.impl.Ast;FlexiRouteNode.factory">factory</a>: FlexiRouteImpl.<a href="FlexiRouteImpl.scala.html#akka.stream.impl.FlexiRouteImpl;RouteLogicFactory" title="akka.stream.impl.FlexiRouteImpl.RouteLogicFactory[Any]">RouteLogicFactory</a><span class="delimiter">[</span>Any<span class="delimiter">]</span>, <a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.Ast;FlexiRouteNode.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl.Ast;FanOutAstNode" title="akka.stream.impl.Ast.FanOutAstNode">FanOutAstNode</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
final object <a title="akka.stream.impl.Optimizations.type" id="akka.stream.impl.Optimizations.readResolve">Optimizations</a> <a href="#akka.stream.impl.Optimizations.readResolve" title="akka.stream.impl.Optimizations.type" class="delimiter">{</a>
  val <a title="akka.stream.impl.Optimizations" id="akka.stream.impl.Optimizations.none">none</a>: <a href="#akka.stream.impl;Optimizations.equals" title="akka.stream.impl.Optimizations">Optimizations</a> = <a href="#akka.stream.impl;Optimizations.equals" title="(collapsing: Boolean, elision: Boolean, simplification: Boolean, fusion: Boolean)akka.stream.impl.Optimizations">Optimizations</a><span class="delimiter">(</span>collapsing = false, elision = false, simplification = false, fusion = false<span class="delimiter">)</span>
  val <a title="akka.stream.impl.Optimizations" id="akka.stream.impl.Optimizations.all">all</a>: <a href="#akka.stream.impl;Optimizations.equals" title="akka.stream.impl.Optimizations">Optimizations</a> = <a href="#akka.stream.impl;Optimizations.equals" title="(collapsing: Boolean, elision: Boolean, simplification: Boolean, fusion: Boolean)akka.stream.impl.Optimizations">Optimizations</a><span class="delimiter">(</span>collapsing = true, elision = true, simplification = true, fusion = true<span class="delimiter">)</span>
<span class="delimiter">}</span>
<span class="comment">/**
 * INTERNAL API
 */</span>
final case class <a title="(collapsing: Boolean, elision: Boolean, simplification: Boolean, fusion: Boolean)akka.stream.impl.Optimizations" id="akka.stream.impl;Optimizations.equals">Optimizations</a><a href="#akka.stream.impl;Optimizations.equals" title="Product" class="delimiter">(</a><a title="Boolean" id="akka.stream.impl;Optimizations.copy$default$1">collapsing</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="akka.stream.impl;Optimizations.copy$default$2">elision</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="akka.stream.impl;Optimizations.copy$default$3">simplification</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="akka.stream.impl;Optimizations.copy$default$4">fusion</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  def <a title="=&gt; Boolean" id="akka.stream.impl;Optimizations.isEnabled">isEnabled</a>: <span title="Boolean">Boolean</span> = <a href="#akka.stream.impl;Optimizations.copy$default$1" title="=&gt; Boolean">collapsing</a> <span title="(x: Boolean)Boolean">||</span> <a href="#akka.stream.impl;Optimizations.copy$default$2" title="=&gt; Boolean">elision</a> <span title="(x: Boolean)Boolean">||</span> <a href="#akka.stream.impl;Optimizations.copy$default$3" title="=&gt; Boolean">simplification</a> <span title="(x: Boolean)Boolean">||</span> <a href="#akka.stream.impl;Optimizations.copy$default$4" title="=&gt; Boolean">fusion</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
case class <a title="class ActorBasedFlowMaterializer extends akka.stream.FlowMaterializer with Product with Serializable" id="akka.stream.impl.ActorBasedFlowMaterializer.readResolve">ActorBasedFlowMaterializer</a><span title="Product" class="delimiter">(</span>override val <a title="akka.stream.MaterializerSettings" id="akka.stream.impl;ActorBasedFlowMaterializer.settings">settings</a>: <a href="../FlowMaterializer.scala.html#akka.stream;MaterializerSettings" title="akka.stream.MaterializerSettings">MaterializerSettings</a>,
                                      <a title="akka.dispatch.Dispatchers" id="akka.stream.impl;ActorBasedFlowMaterializer.dispatchers">dispatchers</a>: <span title="akka.dispatch.Dispatchers">Dispatchers</span>, <span class="comment">// FIXME is this the right choice for loading an EC?</span>
                                      <a title="akka.actor.ActorRef" id="akka.stream.impl;ActorBasedFlowMaterializer.supervisor">supervisor</a>: <span title="akka.actor.ActorRef">ActorRef</span>,
                                      <a title="java.util.concurrent.atomic.AtomicLong" id="akka.stream.impl;ActorBasedFlowMaterializer.flowNameCounter">flowNameCounter</a>: <span title="java.util.concurrent.atomic.AtomicLong">AtomicLong</span>,
                                      <a title="String" id="akka.stream.impl;ActorBasedFlowMaterializer.namePrefix">namePrefix</a>: <span title="String">String</span>,
                                      <a title="akka.stream.impl.Optimizations" id="akka.stream.impl;ActorBasedFlowMaterializer.optimizations">optimizations</a>: <a href="#akka.stream.impl;Optimizations.equals" title="akka.stream.impl.Optimizations">Optimizations</a><span class="delimiter">)</span>
  extends <a href="../FlowMaterializer.scala.html#akka.stream;FlowMaterializer" title="akka.stream.FlowMaterializer">FlowMaterializer</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.settings" title="akka.stream.MaterializerSettings">settings</a><span class="delimiter">)</span> <span class="delimiter">{</span>

  import <a href="#akka.stream.impl.Ast" title="akka.stream.impl.Ast.type">Ast</a>.AstNode

  def <a title="(name: String)akka.stream.FlowMaterializer" id="akka.stream.impl;ActorBasedFlowMaterializer.withNamePrefix">withNamePrefix</a><span class="delimiter">(</span><a title="String" id="akka.stream.impl;ActorBasedFlowMaterializer.withNamePrefix.name">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../FlowMaterializer.scala.html#akka.stream;FlowMaterializer" title="akka.stream.FlowMaterializer">FlowMaterializer</a> = this.<a href="#akka.stream.impl;ActorBasedFlowMaterializer.settings" title="akka.stream.MaterializerSettings" id="akka.stream.impl;ActorBasedFlowMaterializer.withNamePrefix.x$84">copy</a><span class="delimiter">(</span>namePrefix = <a href="#akka.stream.impl;ActorBasedFlowMaterializer.withNamePrefix.name" title="String" id="akka.stream.impl;ActorBasedFlowMaterializer.withNamePrefix.x$79">name</a><span class="delimiter">)</span>

  private<span class="delimiter">[</span>this<span class="delimiter">]</span> def <a title="()Long" id="akka.stream.impl;ActorBasedFlowMaterializer.nextFlowNameCount">nextFlowNameCount</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Long">Long</span> = <a href="#akka.stream.impl;ActorBasedFlowMaterializer.flowNameCounter" title="=&gt; java.util.concurrent.atomic.AtomicLong">flowNameCounter</a>.<span title="()Long">incrementAndGet</span><span class="delimiter">(</span><span class="delimiter">)</span>

  private<span class="delimiter">[</span>this<span class="delimiter">]</span> def <a title="()String" id="akka.stream.impl;ActorBasedFlowMaterializer.createFlowName">createFlowName</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="String">String</span> = <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;&quot;)">$</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.namePrefix" title="=&gt; String">namePrefix</a><span title="String(&quot;-&quot;)">-$</span><span class="delimiter">{</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.nextFlowNameCount" title="()Long">nextFlowNameCount</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">}</span><span title="String(&quot;&quot;)" class="string">&quot;</span>

  @tailrec private<span class="delimiter">[</span>this<span class="delimiter">]</span> def <a title="(topProcessor: org.reactivestreams.Processor[_, _], ops: List[akka.stream.impl.Ast.AstNode], flowName: String, n: Int, materializedMap: akka.stream.scaladsl.MaterializedMap)(org.reactivestreams.Processor[_, _], akka.stream.scaladsl.MaterializedMap)" id="akka.stream.impl;ActorBasedFlowMaterializer.processorChain">processorChain</a><span class="delimiter">(</span><a title="org.reactivestreams.Processor[_, _]" id="akka.stream.impl;ActorBasedFlowMaterializer.processorChain.topProcessor">topProcessor</a>: <span title="org.reactivestreams.Processor[_, _]">Processor</span><span class="delimiter">[</span>_, _<span class="delimiter">]</span>,
                                            <a title="List[akka.stream.impl.Ast.AstNode]" id="akka.stream.impl;ActorBasedFlowMaterializer.processorChain.ops">ops</a>: <span title="List[akka.stream.impl.Ast.AstNode]">List</span><span class="delimiter">[</span>AstNode<span class="delimiter">]</span>,
                                            <a title="String" id="akka.stream.impl;ActorBasedFlowMaterializer.processorChain.flowName">flowName</a>: <span title="String">String</span>,
                                            <a title="Int" id="akka.stream.impl;ActorBasedFlowMaterializer.processorChain.n">n</a>: <span title="Int">Int</span>,
                                            <a title="akka.stream.scaladsl.MaterializedMap" id="akka.stream.impl;ActorBasedFlowMaterializer.processorChain.materializedMap">materializedMap</a>: <a href="../scaladsl/MaterializedMap.scala.html#akka.stream.scaladsl;MaterializedMap" title="akka.stream.scaladsl.MaterializedMap">MaterializedMap</a><span class="delimiter">)</span>: <span title="(org.reactivestreams.Processor[_, _], akka.stream.scaladsl.MaterializedMap)" class="delimiter">(</span>Processor<span class="delimiter">[</span>_, _<span class="delimiter">]</span>, MaterializedMap<span class="delimiter">)</span> =
    <a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorChain.ops" title="List[akka.stream.impl.Ast.AstNode]">ops</a> match <span class="delimiter">{</span>
      case <a title="akka.stream.impl.Ast.AstNode" id="akka.stream.impl;ActorBasedFlowMaterializer.processorChain.op">op</a> :: <a title="List[akka.stream.impl.Ast.AstNode]" id="akka.stream.impl;ActorBasedFlowMaterializer.processorChain.tail">tail</a> ⇒
        val <a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorChain.opProcessor" title="(org.reactivestreams.Processor[Any,Any], akka.stream.scaladsl.MaterializedMap)" class="delimiter">(</a><a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorChain.x$1" title="org.reactivestreams.Processor[Any,Any]" id="akka.stream.impl;ActorBasedFlowMaterializer.processorChain.opProcessor">opProcessor</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorChain.x$1" title="akka.stream.scaladsl.MaterializedMap" id="akka.stream.impl;ActorBasedFlowMaterializer.processorChain.opMap">opMap</a><span class="delimiter">)</span> = <a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorForNode" title="[In, Out](op: akka.stream.impl.Ast.AstNode, flowName: String, n: Int)(org.reactivestreams.Processor[In,Out], akka.stream.scaladsl.MaterializedMap)">processorForNode</a><span title="(op: akka.stream.impl.Ast.AstNode, flowName: String, n: Int)(org.reactivestreams.Processor[Any,Any], akka.stream.scaladsl.MaterializedMap)" class="delimiter">[</span><span title="Any">Any</span>, <span title="Any">Any</span><span class="delimiter">]</span><span title="(org.reactivestreams.Processor[Any,Any], akka.stream.scaladsl.MaterializedMap) @unchecked" class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorChain.op" title="akka.stream.impl.Ast.AstNode">op</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorChain.flowName" title="String">flowName</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorChain.n" title="Int">n</a><span class="delimiter">)</span>
        <a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorChain.opProcessor" title="org.reactivestreams.Processor[Any,Any]">opProcessor</a>.<span title="(x$1: org.reactivestreams.Subscriber[_ &gt;: Any])Unit">subscribe</span><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorChain.topProcessor" title="org.reactivestreams.Processor[_, _]">topProcessor</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.reactivestreams.Subscriber[Any]" class="delimiter">[</span><span title="org.reactivestreams.Subscriber[Any]">Subscriber</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
        <a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorChain" title="(topProcessor: org.reactivestreams.Processor[_, _], ops: List[akka.stream.impl.Ast.AstNode], flowName: String, n: Int, materializedMap: akka.stream.scaladsl.MaterializedMap)(org.reactivestreams.Processor[_, _], akka.stream.scaladsl.MaterializedMap)">processorChain</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorChain.opProcessor" title="org.reactivestreams.Processor[Any,Any]">opProcessor</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorChain.tail" title="List[akka.stream.impl.Ast.AstNode]">tail</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorChain.flowName" title="String">flowName</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorChain.n" title="Int">n</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorChain.materializedMap" title="akka.stream.scaladsl.MaterializedMap">materializedMap</a>.<a href="../scaladsl/MaterializedMap.scala.html#akka.stream.scaladsl;MaterializedMap.merge" title="(otherMap: akka.stream.scaladsl.MaterializedMap)akka.stream.scaladsl.MaterializedMap">merge</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorChain.opMap" title="akka.stream.scaladsl.MaterializedMap">opMap</a><span class="delimiter">)</span><span class="delimiter">)</span>
      case <span title="scala.collection.immutable.Nil.type">Nil</span> ⇒
        <span title="(_1: org.reactivestreams.Processor[_$8,_$9], _2: akka.stream.scaladsl.MaterializedMap)(org.reactivestreams.Processor[_$8,_$9], akka.stream.scaladsl.MaterializedMap)" class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorChain.topProcessor" title="org.reactivestreams.Processor[_, _]">topProcessor</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorChain.materializedMap" title="akka.stream.scaladsl.MaterializedMap">materializedMap</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">//FIXME Optimize the implementation of the optimizer (no joke)</span>
  <span class="comment">// AstNodes are in reverse order, Fusable Ops are in order</span>
  private<span class="delimiter">[</span>this<span class="delimiter">]</span> final def <a title="(ops: List[akka.stream.impl.Ast.AstNode], mmFuture: scala.concurrent.Future[akka.stream.scaladsl.MaterializedMap])(List[akka.stream.impl.Ast.AstNode], Int)" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize">optimize</a><span class="delimiter">(</span><a title="List[akka.stream.impl.Ast.AstNode]" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.ops">ops</a>: <span title="List[akka.stream.impl.Ast.AstNode]">List</span><span class="delimiter">[</span>Ast.AstNode<span class="delimiter">]</span>, <a title="scala.concurrent.Future[akka.stream.scaladsl.MaterializedMap]" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.mmFuture">mmFuture</a>: <span title="scala.concurrent.Future[akka.stream.scaladsl.MaterializedMap]">Future</span><span class="delimiter">[</span>MaterializedMap<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="(List[akka.stream.impl.Ast.AstNode], Int)" class="delimiter">(</span>List<span class="delimiter">[</span>Ast.AstNode<span class="delimiter">]</span>, Int<span class="delimiter">)</span> = <span class="delimiter">{</span>
    @tailrec def <a title="(rest: List[akka.stream.impl.Ast.AstNode], optimized: List[akka.stream.impl.Ast.AstNode], fuseCandidates: List[akka.stream.stage.Stage[_, _]])(List[akka.stream.impl.Ast.AstNode], Int)" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze">analyze</a><span class="delimiter">(</span><span title="List[akka.stream.impl.Ast.AstNode]">rest</span>: <span title="List[akka.stream.impl.Ast.AstNode]">List</span><span class="delimiter">[</span>Ast.AstNode<span class="delimiter">]</span>, <a title="List[akka.stream.impl.Ast.AstNode]" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.optimized">optimized</a>: <span title="List[akka.stream.impl.Ast.AstNode]">List</span><span class="delimiter">[</span>Ast.AstNode<span class="delimiter">]</span>, <a title="List[akka.stream.stage.Stage[_, _]]" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.fuseCandidates">fuseCandidates</a>: <span title="List[akka.stream.stage.Stage[_, _]]">List</span><span class="delimiter">[</span>Stage<span class="delimiter">[</span>_, _<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="(List[akka.stream.impl.Ast.AstNode], Int)" class="delimiter">(</span>List<span class="delimiter">[</span>Ast.AstNode<span class="delimiter">]</span>, Int<span class="delimiter">)</span> = <span class="delimiter">{</span>

      <span class="comment">//The `verify` phase</span>
      def <a title="(rest: List[akka.stream.impl.Ast.AstNode], orig: List[akka.stream.impl.Ast.AstNode])List[akka.stream.impl.Ast.AstNode]" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.verify">verify</a><span class="delimiter">(</span><a title="List[akka.stream.impl.Ast.AstNode]" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.verify.rest">rest</a>: <span title="List[akka.stream.impl.Ast.AstNode]">List</span><span class="delimiter">[</span>Ast.AstNode<span class="delimiter">]</span>, <a title="List[akka.stream.impl.Ast.AstNode]" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.verify.orig">orig</a>: <span title="List[akka.stream.impl.Ast.AstNode]">List</span><span class="delimiter">[</span>Ast.AstNode<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[akka.stream.impl.Ast.AstNode]">List</span><span class="delimiter">[</span>Ast.AstNode<span class="delimiter">]</span> =
        <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.verify.rest" title="List[akka.stream.impl.Ast.AstNode]">rest</a> match <span class="delimiter">{</span>
          case <span class="delimiter">(</span><a title="akka.stream.impl.Ast.Fused" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.verify.f">f</a>: Ast.<a href="#akka.stream.impl.Ast;Fused.equals" title="akka.stream.impl.Ast.Fused">Fused</a><span class="delimiter">)</span> :: _ ⇒ throw new <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><span title="String(&quot;Fused AST nodes not allowed to be present in the input to the optimizer: &quot;)" class="string">&quot;Fused AST nodes not allowed to be present in the input to the optimizer: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.verify.f" title="akka.stream.impl.Ast.Fused">f</a><span class="delimiter">)</span>
          <span class="comment">//TODO Ast.Take(-Long.MaxValue..0) == stream doesn't do anything. Perhaps output warning for that?</span>
          case <a title="List[akka.stream.impl.Ast.AstNode]" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.verify.noMatch">noMatch</a>             ⇒ <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.verify.noMatch" title="List[akka.stream.impl.Ast.AstNode]">noMatch</a>
        <span class="delimiter">}</span>

      <span class="comment">// The `elide` phase</span>
      <span class="comment">// TODO / FIXME : This phase could be pulled out to be executed incrementally when building the Ast</span>
      def <a title="(rest: List[akka.stream.impl.Ast.AstNode], orig: List[akka.stream.impl.Ast.AstNode])List[akka.stream.impl.Ast.AstNode]" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.elide">elide</a><span class="delimiter">(</span><span title="List[akka.stream.impl.Ast.AstNode]">rest</span>: <span title="List[akka.stream.impl.Ast.AstNode]">List</span><span class="delimiter">[</span>Ast.AstNode<span class="delimiter">]</span>, <a title="List[akka.stream.impl.Ast.AstNode]" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.elide.orig">orig</a>: <span title="List[akka.stream.impl.Ast.AstNode]">List</span><span class="delimiter">[</span>Ast.AstNode<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[akka.stream.impl.Ast.AstNode]">List</span><span class="delimiter">[</span>Ast.AstNode<span class="delimiter">]</span> =
        <span title="List[akka.stream.impl.Ast.AstNode]">rest</span> match <span class="delimiter">{</span>
          case <span title="List[akka.stream.impl.Ast.AstNode]">noMatch</span> if <span title="=&gt; Boolean">!</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimizations" title="=&gt; akka.stream.impl.Optimizations">optimizations</a>.<a href="#akka.stream.impl;Optimizations.copy$default$2" title="=&gt; Boolean">elision</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><span title="List[akka.stream.impl.Ast.AstNode]">noMatch</span> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.elide.orig" title="List[akka.stream.impl.Ast.AstNode]">orig</a><span class="delimiter">)</span> ⇒ <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.elide.orig" title="List[akka.stream.impl.Ast.AstNode]">orig</a>
          <span class="comment">//Collapses consecutive Take's into one</span>
          case <span class="delimiter">(</span><a title="akka.stream.impl.Ast.Take" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.elide.t1">t1</a>: Ast.<a href="#akka.stream.impl.Ast.Take.readResolve" title="akka.stream.impl.Ast.Take">Take</a><span class="delimiter">)</span> :: <span class="delimiter">(</span><a title="akka.stream.impl.Ast.Take" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.elide.t2">t2</a>: Ast.<a href="#akka.stream.impl.Ast.Take.readResolve" title="akka.stream.impl.Ast.Take">Take</a><span class="delimiter">)</span> :: <span title="List[akka.stream.impl.Ast.AstNode]">rest</span> ⇒ <span class="delimiter">(</span>if <span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.elide.t1" title="akka.stream.impl.Ast.Take">t1</a>.<a href="#akka.stream.impl.Ast;Take.n" title="=&gt; Int">n</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.elide.t2" title="akka.stream.impl.Ast.Take">t2</a>.<a href="#akka.stream.impl.Ast;Take.n" title="=&gt; Int">n</a><span class="delimiter">)</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.elide.t1" title="akka.stream.impl.Ast.Take">t1</a> else <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.elide.t2" title="akka.stream.impl.Ast.Take">t2</a><span class="delimiter">)</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.elide.x$2" title="(x: akka.stream.impl.Ast.AstNode)List[akka.stream.impl.Ast.AstNode]">::</a> <span title="List[akka.stream.impl.Ast.AstNode]">rest</span>

          <span class="comment">//Collapses consecutive Drop's into one</span>
          case <span class="delimiter">(</span><a title="akka.stream.impl.Ast.Drop" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.elide.d1">d1</a>: Ast.<a href="#akka.stream.impl.Ast.Drop.readResolve" title="akka.stream.impl.Ast.Drop">Drop</a><span class="delimiter">)</span> :: <span class="delimiter">(</span><a title="akka.stream.impl.Ast.Drop" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.elide.d2">d2</a>: Ast.<a href="#akka.stream.impl.Ast.Drop.readResolve" title="akka.stream.impl.Ast.Drop">Drop</a><span class="delimiter">)</span> :: <span title="List[akka.stream.impl.Ast.AstNode]">rest</span> ⇒ new <a href="#akka.stream.impl.Ast" title="akka.stream.impl.Ast.type">Ast</a>.<a href="#akka.stream.impl.Ast.Drop.readResolve" title="akka.stream.impl.Ast.Drop">Drop</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.elide.d1" title="akka.stream.impl.Ast.Drop">d1</a>.<a href="#akka.stream.impl.Ast;Drop.n" title="=&gt; Int">n</a> <span title="(x: Int)Int">+</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.elide.d2" title="akka.stream.impl.Ast.Drop">d2</a>.<a href="#akka.stream.impl.Ast;Drop.n" title="=&gt; Int">n</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.elide.d1" title="akka.stream.impl.Ast.Drop">d1</a>.<a href="#akka.stream.impl.Ast.Drop.apply$default$2" title="=&gt; akka.stream.scaladsl.OperationAttributes">attributes</a> <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes.and" title="(other: akka.stream.scaladsl.OperationAttributes)akka.stream.scaladsl.OperationAttributes">and</a> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.elide.d2" title="akka.stream.impl.Ast.Drop">d2</a>.<a href="#akka.stream.impl.Ast.Drop.apply$default$2" title="=&gt; akka.stream.scaladsl.OperationAttributes">attributes</a><span class="delimiter">)</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.elide.x$3" title="(x: akka.stream.impl.Ast.AstNode)List[akka.stream.impl.Ast.AstNode]">::</a> <span title="List[akka.stream.impl.Ast.AstNode]">rest</span>

          case Ast.Drop<span class="delimiter">(</span><a title="Int" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.elide.n">n</a>, _<span class="delimiter">)</span> :: <span title="List[akka.stream.impl.Ast.AstNode]">rest</span> if <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.elide.n" title="Int">n</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(1)" class="int">1</span> ⇒ <span title="List[akka.stream.impl.Ast.AstNode]">rest</span> <span class="comment">// a 0 or negative drop is a NoOp</span>

          case <span title="List[akka.stream.impl.Ast.AstNode]">noMatch</span> ⇒ <span title="List[akka.stream.impl.Ast.AstNode]">noMatch</span>
        <span class="delimiter">}</span>
      <span class="comment">// The `simplify` phase</span>
      def <a title="(rest: List[akka.stream.impl.Ast.AstNode], orig: List[akka.stream.impl.Ast.AstNode])List[akka.stream.impl.Ast.AstNode]" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.simplify">simplify</a><span class="delimiter">(</span><span title="List[akka.stream.impl.Ast.AstNode]">rest</span>: <span title="List[akka.stream.impl.Ast.AstNode]">List</span><span class="delimiter">[</span>Ast.AstNode<span class="delimiter">]</span>, <a title="List[akka.stream.impl.Ast.AstNode]" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.simplify.orig">orig</a>: <span title="List[akka.stream.impl.Ast.AstNode]">List</span><span class="delimiter">[</span>Ast.AstNode<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[akka.stream.impl.Ast.AstNode]">List</span><span class="delimiter">[</span>Ast.AstNode<span class="delimiter">]</span> =
        <span title="List[akka.stream.impl.Ast.AstNode]">rest</span> match <span class="delimiter">{</span>
          case <span title="List[akka.stream.impl.Ast.AstNode]">noMatch</span> if <span title="=&gt; Boolean">!</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimizations" title="=&gt; akka.stream.impl.Optimizations">optimizations</a>.<a href="#akka.stream.impl;Optimizations.copy$default$3" title="=&gt; Boolean">simplification</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><span title="List[akka.stream.impl.Ast.AstNode]">noMatch</span> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.simplify.orig" title="List[akka.stream.impl.Ast.AstNode]">orig</a><span class="delimiter">)</span> ⇒ <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.simplify.orig" title="List[akka.stream.impl.Ast.AstNode]">orig</a>

          <span class="comment">// Two consecutive maps is equivalent to one pipelined map</span>
          case <span class="delimiter">(</span><a title="akka.stream.impl.Ast.Map" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.simplify.second">second</a>: Ast.<a href="#akka.stream.impl.Ast.Map.readResolve" title="akka.stream.impl.Ast.Map">Map</a><span class="delimiter">)</span> :: <span class="delimiter">(</span><a title="akka.stream.impl.Ast.Map" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.simplify.first">first</a>: Ast.<a href="#akka.stream.impl.Ast.Map.readResolve" title="akka.stream.impl.Ast.Map">Map</a><span class="delimiter">)</span> :: <span title="List[akka.stream.impl.Ast.AstNode]">rest</span> ⇒ <a href="#akka.stream.impl.Ast" title="akka.stream.impl.Ast.type">Ast</a>.<a href="#akka.stream.impl.Ast.Map.readResolve" title="(f: Any =&gt; Any, attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.Map">Map</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.simplify.first" title="akka.stream.impl.Ast.Map">first</a>.<a href="#akka.stream.impl.Ast;Map.f" title="=&gt; Any =&gt; Any">f</a> <span title="(g: Any =&gt; Any)Any =&gt; Any">andThen</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.simplify.second" title="akka.stream.impl.Ast.Map">second</a>.<a href="#akka.stream.impl.Ast;Map.f" title="=&gt; Any =&gt; Any">f</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.simplify.first" title="akka.stream.impl.Ast.Map">first</a>.<a href="#akka.stream.impl.Ast.Map.apply$default$2" title="=&gt; akka.stream.scaladsl.OperationAttributes">attributes</a> <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes.and" title="(other: akka.stream.scaladsl.OperationAttributes)akka.stream.scaladsl.OperationAttributes">and</a> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.simplify.second" title="akka.stream.impl.Ast.Map">second</a>.<a href="#akka.stream.impl.Ast.Map.apply$default$2" title="=&gt; akka.stream.scaladsl.OperationAttributes">attributes</a><span class="delimiter">)</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.simplify.x$4" title="(x: akka.stream.impl.Ast.AstNode)List[akka.stream.impl.Ast.AstNode]">::</a> <span title="List[akka.stream.impl.Ast.AstNode]">rest</span>

          case <span title="List[akka.stream.impl.Ast.AstNode]">noMatch</span> ⇒ <span title="List[akka.stream.impl.Ast.AstNode]">noMatch</span>
        <span class="delimiter">}</span>

      <span class="comment">// the `Collapse` phase</span>
      def <a title="(rest: List[akka.stream.impl.Ast.AstNode], orig: List[akka.stream.impl.Ast.AstNode])List[akka.stream.impl.Ast.AstNode]" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.collapse">collapse</a><span class="delimiter">(</span><span title="List[akka.stream.impl.Ast.AstNode]">rest</span>: <span title="List[akka.stream.impl.Ast.AstNode]">List</span><span class="delimiter">[</span>Ast.AstNode<span class="delimiter">]</span>, <a title="List[akka.stream.impl.Ast.AstNode]" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.collapse.orig">orig</a>: <span title="List[akka.stream.impl.Ast.AstNode]">List</span><span class="delimiter">[</span>Ast.AstNode<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[akka.stream.impl.Ast.AstNode]">List</span><span class="delimiter">[</span>Ast.AstNode<span class="delimiter">]</span> =
        <span title="List[akka.stream.impl.Ast.AstNode]">rest</span> match <span class="delimiter">{</span>
          case <span title="List[akka.stream.impl.Ast.AstNode]">noMatch</span> if <span title="=&gt; Boolean">!</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimizations" title="=&gt; akka.stream.impl.Optimizations">optimizations</a>.<a href="#akka.stream.impl;Optimizations.copy$default$1" title="=&gt; Boolean">collapsing</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><span title="List[akka.stream.impl.Ast.AstNode]">noMatch</span> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.collapse.orig" title="List[akka.stream.impl.Ast.AstNode]">orig</a><span class="delimiter">)</span> ⇒ <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.collapse.orig" title="List[akka.stream.impl.Ast.AstNode]">orig</a>

          <span class="comment">// Collapses a filter and a map into a collect</span>
          case <span class="delimiter">(</span><a title="akka.stream.impl.Ast.Map" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.collapse.map">map</a>: Ast.<a href="#akka.stream.impl.Ast.Map.readResolve" title="akka.stream.impl.Ast.Map">Map</a><span class="delimiter">)</span> :: <span class="delimiter">(</span><a title="akka.stream.impl.Ast.Filter" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.collapse.fil">fil</a>: Ast.<a href="#akka.stream.impl.Ast.Filter.readResolve" title="akka.stream.impl.Ast.Filter">Filter</a><span class="delimiter">)</span> :: <span title="List[akka.stream.impl.Ast.AstNode]">rest</span> ⇒ <a href="#akka.stream.impl.Ast" title="akka.stream.impl.Ast.type">Ast</a>.<a href="#akka.stream.impl.Ast.Collect.readResolve" title="(pf: PartialFunction[Any,Any], attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.Collect">Collect</a><span class="delimiter">(</span><a title="&lt;$anon: Any =&gt; Any&gt; extends scala.runtime.AbstractPartialFunction[Any,Any] with Serializable" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.collapse.x$5;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a> case <a title="Any" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.collapse.x$5;$anonfun.isDefinedAt.i">i</a> if <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.collapse.fil" title="akka.stream.impl.Ast.Filter">fil</a>.<a href="#akka.stream.impl.Ast;Filter.p" title="(v1: Any)Boolean">p</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.collapse.x$5;$anonfun.isDefinedAt.i" title="Any">i</a><span class="delimiter">)</span> ⇒ <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.collapse.map" title="akka.stream.impl.Ast.Map">map</a>.<a href="#akka.stream.impl.Ast;Map.f" title="(v1: Any)Any">f</a><span title="Boolean(true)" class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.collapse.x$5;$anonfun.isDefinedAt.i" title="Any">i</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.collapse.x$5" title="(x: akka.stream.impl.Ast.AstNode)List[akka.stream.impl.Ast.AstNode]">::</a> <span title="List[akka.stream.impl.Ast.AstNode]">rest</span>

          case <span title="List[akka.stream.impl.Ast.AstNode]">noMatch</span> ⇒ <span title="List[akka.stream.impl.Ast.AstNode]">noMatch</span>
        <span class="delimiter">}</span>

      <span class="comment">// Tries to squeeze AstNode into a single fused pipeline</span>
      def <a title="(head: akka.stream.impl.Ast.AstNode, prev: List[akka.stream.stage.Stage[_, _]])List[akka.stream.stage.Stage[_, _]]" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op">ast2op</a><span class="delimiter">(</span><a title="akka.stream.impl.Ast.AstNode" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.head">head</a>: Ast.<a href="#akka.stream.impl.Ast;AstNode" title="akka.stream.impl.Ast.AstNode">AstNode</a>, <a title="List[akka.stream.stage.Stage[_, _]]" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.prev">prev</a>: <span title="List[akka.stream.stage.Stage[_, _]]">List</span><span class="delimiter">[</span>Stage<span class="delimiter">[</span>_, _<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[akka.stream.stage.Stage[_, _]]">List</span><span class="delimiter">[</span>Stage<span class="delimiter">[</span>_, _<span class="delimiter">]</span><span class="delimiter">]</span> =
        <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.head" title="akka.stream.impl.Ast.AstNode">head</a> match <span class="delimiter">{</span>
          <span class="comment">// Always-on below</span>
          case Ast.StageFactory<span class="delimiter">(</span><a title="() =&gt; akka.stream.stage.Stage[_, _]" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.mkStage">mkStage</a>, _<span class="delimiter">)</span>     ⇒ <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.mkStage" title="()akka.stream.stage.Stage[_, _]">mkStage</a><span class="delimiter">(</span><span class="delimiter">)</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.x$6" title="(x: akka.stream.stage.Stage[_, _])List[akka.stream.stage.Stage[_, _]]">::</a> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.prev" title="List[akka.stream.stage.Stage[_, _]]">prev</a>

          <span class="comment">// Optimizations below</span>
          case <a title="akka.stream.impl.Ast.AstNode" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.noMatch">noMatch</a> if <span title="=&gt; Boolean">!</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimizations" title="=&gt; akka.stream.impl.Optimizations">optimizations</a>.<a href="#akka.stream.impl;Optimizations.copy$default$4" title="=&gt; Boolean">fusion</a> ⇒ <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.prev" title="List[akka.stream.stage.Stage[_, _]]">prev</a>

          case Ast.Map<span class="delimiter">(</span><span title="Any =&gt; Any">f</span>, _<span class="delimiter">)</span>                    ⇒ fusing.<a href="fusing/Ops.scala.html#akka.stream.impl.fusing;Map" title="(f: Any =&gt; Any)akka.stream.impl.fusing.Map[Any,Any]">Map</a><span class="delimiter">(</span><span title="Any =&gt; Any">f</span><span class="delimiter">)</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.x$7" title="(x: akka.stream.stage.Stage[_, _])List[akka.stream.stage.Stage[_, _]]">::</a> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.prev" title="List[akka.stream.stage.Stage[_, _]]">prev</a>
          case Ast.Filter<span class="delimiter">(</span><a title="Any =&gt; Boolean" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.p">p</a>, _<span class="delimiter">)</span>                 ⇒ fusing.<a href="fusing/Ops.scala.html#akka.stream.impl.fusing;Filter" title="(p: Any =&gt; Boolean)akka.stream.impl.fusing.Filter[Any]">Filter</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.p" title="Any =&gt; Boolean">p</a><span class="delimiter">)</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.x$8" title="(x: akka.stream.stage.Stage[_, _])List[akka.stream.stage.Stage[_, _]]">::</a> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.prev" title="List[akka.stream.stage.Stage[_, _]]">prev</a>
          case Ast.Drop<span class="delimiter">(</span><span title="Int">n</span>, _<span class="delimiter">)</span>                   ⇒ fusing.<a href="fusing/Ops.scala.html#akka.stream.impl.fusing;Drop" title="(count: Int)akka.stream.impl.fusing.Drop[Nothing]">Drop</a><span class="delimiter">(</span><span title="Int">n</span><span class="delimiter">)</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.x$9" title="(x: akka.stream.stage.Stage[_, _])List[akka.stream.stage.Stage[_, _]]">::</a> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.prev" title="List[akka.stream.stage.Stage[_, _]]">prev</a>
          case Ast.Take<span class="delimiter">(</span><span title="Int">n</span>, _<span class="delimiter">)</span>                   ⇒ fusing.<a href="fusing/Ops.scala.html#akka.stream.impl.fusing;Take" title="(count: Int)akka.stream.impl.fusing.Take[Nothing]">Take</a><span class="delimiter">(</span><span title="Int">n</span><span class="delimiter">)</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.x$10" title="(x: akka.stream.stage.Stage[_, _])List[akka.stream.stage.Stage[_, _]]">::</a> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.prev" title="List[akka.stream.stage.Stage[_, _]]">prev</a>
          case Ast.Collect<span class="delimiter">(</span><a title="PartialFunction[Any,Any]" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.pf">pf</a>, _<span class="delimiter">)</span>               ⇒ fusing.<a href="fusing/Ops.scala.html#akka.stream.impl.fusing;Collect" title="(pf: PartialFunction[Any,Any])akka.stream.impl.fusing.Collect[Any,Any]">Collect</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.pf" title="PartialFunction[Any,Any]">pf</a><span class="delimiter">)</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.x$11" title="(x: akka.stream.stage.Stage[_, _])List[akka.stream.stage.Stage[_, _]]">::</a> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.prev" title="List[akka.stream.stage.Stage[_, _]]">prev</a>
          case Ast.Scan<span class="delimiter">(</span><a title="Any" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.z">z</a>, <span title="(Any, Any) =&gt; Any">f</span>, _<span class="delimiter">)</span>                ⇒ fusing.<a href="fusing/Ops.scala.html#akka.stream.impl.fusing;Scan" title="(zero: Any, f: (Any, Any) =&gt; Any)akka.stream.impl.fusing.Scan[Any,Any]">Scan</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.z" title="Any">z</a>, <span title="(Any, Any) =&gt; Any">f</span><span class="delimiter">)</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.x$12" title="(x: akka.stream.stage.Stage[_, _])List[akka.stream.stage.Stage[_, _]]">::</a> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.prev" title="List[akka.stream.stage.Stage[_, _]]">prev</a>
          case Ast.Expand<span class="delimiter">(</span><span title="Any =&gt; Any">s</span>, <span title="Any =&gt; (Any, Any)">f</span>, _<span class="delimiter">)</span>              ⇒ fusing.<a href="fusing/Ops.scala.html#akka.stream.impl.fusing;Expand" title="(seed: Any =&gt; Any, extrapolate: Any =&gt; (Any, Any))akka.stream.impl.fusing.Expand[Any,Any,Any]">Expand</a><span class="delimiter">(</span><span title="Any =&gt; Any">s</span>, <span title="Any =&gt; (Any, Any)">f</span><span class="delimiter">)</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.x$13" title="(x: akka.stream.stage.Stage[_, _])List[akka.stream.stage.Stage[_, _]]">::</a> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.prev" title="List[akka.stream.stage.Stage[_, _]]">prev</a>
          case Ast.Conflate<span class="delimiter">(</span><span title="Any =&gt; Any">s</span>, <span title="(Any, Any) =&gt; Any">f</span>, _<span class="delimiter">)</span>            ⇒ fusing.<a href="fusing/Ops.scala.html#akka.stream.impl.fusing;Conflate" title="(seed: Any =&gt; Any, aggregate: (Any, Any) =&gt; Any)akka.stream.impl.fusing.Conflate[Any,Any]">Conflate</a><span class="delimiter">(</span><span title="Any =&gt; Any">s</span>, <span title="(Any, Any) =&gt; Any">f</span><span class="delimiter">)</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.x$14" title="(x: akka.stream.stage.Stage[_, _])List[akka.stream.stage.Stage[_, _]]">::</a> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.prev" title="List[akka.stream.stage.Stage[_, _]]">prev</a>
          case Ast.Buffer<span class="delimiter">(</span><span title="Int">n</span>, <span title="akka.stream.OverflowStrategy">s</span>, _<span class="delimiter">)</span>              ⇒ fusing.<a href="fusing/Ops.scala.html#akka.stream.impl.fusing;Buffer" title="(size: Int, overflowStrategy: akka.stream.OverflowStrategy)akka.stream.impl.fusing.Buffer[Nothing]">Buffer</a><span class="delimiter">(</span><span title="Int">n</span>, <span title="akka.stream.OverflowStrategy">s</span><span class="delimiter">)</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.x$15" title="(x: akka.stream.stage.Stage[_, _])List[akka.stream.stage.Stage[_, _]]">::</a> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.prev" title="List[akka.stream.stage.Stage[_, _]]">prev</a>
          case Ast.MapConcat<span class="delimiter">(</span><span title="Any =&gt; scala.collection.immutable.Seq[Any]">f</span>, _<span class="delimiter">)</span>              ⇒ fusing.<a href="fusing/Ops.scala.html#akka.stream.impl.fusing;MapConcat" title="(f: Any =&gt; scala.collection.immutable.Seq[Any])akka.stream.impl.fusing.MapConcat[Any,Any]">MapConcat</a><span class="delimiter">(</span><span title="Any =&gt; scala.collection.immutable.Seq[Any]">f</span><span class="delimiter">)</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.x$16" title="(x: akka.stream.stage.Stage[_, _])List[akka.stream.stage.Stage[_, _]]">::</a> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.prev" title="List[akka.stream.stage.Stage[_, _]]">prev</a>
          case Ast.Grouped<span class="delimiter">(</span><span title="Int">n</span>, _<span class="delimiter">)</span>                ⇒ fusing.<a href="fusing/Ops.scala.html#akka.stream.impl.fusing;Grouped" title="(n: Int)akka.stream.impl.fusing.Grouped[Nothing]">Grouped</a><span class="delimiter">(</span><span title="Int">n</span><span class="delimiter">)</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.x$17" title="(x: akka.stream.stage.Stage[_, _])List[akka.stream.stage.Stage[_, _]]">::</a> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.prev" title="List[akka.stream.stage.Stage[_, _]]">prev</a>
          <span class="comment">//FIXME Add more fusion goodies here</span>
          case _                                ⇒ <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op.prev" title="List[akka.stream.stage.Stage[_, _]]">prev</a>
        <span class="delimiter">}</span>

      <span class="comment">// First verify, then try to elide, then try to simplify, then try to fuse</span>
      <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.collapse" title="(rest: List[akka.stream.impl.Ast.AstNode], orig: List[akka.stream.impl.Ast.AstNode])List[akka.stream.impl.Ast.AstNode]">collapse</a><span class="delimiter">(</span><span title="List[akka.stream.impl.Ast.AstNode]">rest</span>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.simplify" title="(rest: List[akka.stream.impl.Ast.AstNode], orig: List[akka.stream.impl.Ast.AstNode])List[akka.stream.impl.Ast.AstNode]">simplify</a><span class="delimiter">(</span><span title="List[akka.stream.impl.Ast.AstNode]">rest</span>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.elide" title="(rest: List[akka.stream.impl.Ast.AstNode], orig: List[akka.stream.impl.Ast.AstNode])List[akka.stream.impl.Ast.AstNode]">elide</a><span class="delimiter">(</span><span title="List[akka.stream.impl.Ast.AstNode]">rest</span>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.verify" title="(rest: List[akka.stream.impl.Ast.AstNode], orig: List[akka.stream.impl.Ast.AstNode])List[akka.stream.impl.Ast.AstNode]">verify</a><span class="delimiter">(</span><span title="List[akka.stream.impl.Ast.AstNode]">rest</span>, <span title="List[akka.stream.impl.Ast.AstNode]">rest</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> match <span class="delimiter">{</span>

        case <span title="scala.collection.immutable.Nil.type">Nil</span> ⇒
          if <span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.fuseCandidates" title="List[akka.stream.stage.Stage[_, _]]">fuseCandidates</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="(_1: List[akka.stream.impl.Ast.AstNode], _2: Int)(List[akka.stream.impl.Ast.AstNode], Int)" class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.optimized" title="List[akka.stream.impl.Ast.AstNode]">optimized</a>.<span title="=&gt; List[akka.stream.impl.Ast.AstNode]">reverse</span>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.optimized" title="List[akka.stream.impl.Ast.AstNode]">optimized</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span class="comment">// End of optimization run without fusion going on, wrap up</span>
          else <span title="(_1: List[akka.stream.impl.Ast.AstNode], _2: Int)(List[akka.stream.impl.Ast.AstNode], Int)" class="delimiter">(</span><span class="delimiter">(</span><a href="#akka.stream.impl.Ast" title="akka.stream.impl.Ast.type">Ast</a>.<a href="#akka.stream.impl.Ast.Fused.apply(814d1e46cf)" title="(ops: scala.collection.immutable.Seq[akka.stream.stage.Stage[_, _]])akka.stream.impl.Ast.Fused">Fused</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.fuseCandidates" title="List[akka.stream.stage.Stage[_, _]]">fuseCandidates</a><span class="delimiter">)</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.x$18" title="(x: akka.stream.impl.Ast.AstNode)List[akka.stream.impl.Ast.AstNode]">::</a> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.optimized" title="List[akka.stream.impl.Ast.AstNode]">optimized</a><span class="delimiter">)</span>.<span title="=&gt; List[akka.stream.impl.Ast.AstNode]">reverse</span>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.optimized" title="List[akka.stream.impl.Ast.AstNode]">optimized</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="comment">// End of optimization run with fusion going on, so add it to the optimized stack</span>

        <span class="comment">// If the Ast was changed this pass simply recur</span>
        case <a title="List[akka.stream.impl.Ast.AstNode]" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.modified">modified</a> if <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.modified" title="List[akka.stream.impl.Ast.AstNode]">modified</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="List[akka.stream.impl.Ast.AstNode]">rest</span> ⇒ <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze" title="(rest: List[akka.stream.impl.Ast.AstNode], optimized: List[akka.stream.impl.Ast.AstNode], fuseCandidates: List[akka.stream.stage.Stage[_, _]])(List[akka.stream.impl.Ast.AstNode], Int)">analyze</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.modified" title="List[akka.stream.impl.Ast.AstNode]">modified</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.optimized" title="List[akka.stream.impl.Ast.AstNode]">optimized</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.fuseCandidates" title="List[akka.stream.stage.Stage[_, _]]">fuseCandidates</a><span class="delimiter">)</span>

        <span class="comment">// No changes to the Ast, lets try to see if we can squeeze the current head Ast node into a fusion pipeline</span>
        case <a title="akka.stream.impl.Ast.AstNode" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.head">head</a> :: <span title="List[akka.stream.impl.Ast.AstNode]">rest</span> ⇒
          <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.ast2op" title="(head: akka.stream.impl.Ast.AstNode, prev: List[akka.stream.stage.Stage[_, _]])List[akka.stream.stage.Stage[_, _]]">ast2op</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.head" title="akka.stream.impl.Ast.AstNode">head</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.fuseCandidates" title="List[akka.stream.stage.Stage[_, _]]">fuseCandidates</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
            case <span title="scala.collection.immutable.Nil.type">Nil</span>               ⇒ <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze" title="(rest: List[akka.stream.impl.Ast.AstNode], optimized: List[akka.stream.impl.Ast.AstNode], fuseCandidates: List[akka.stream.stage.Stage[_, _]])(List[akka.stream.impl.Ast.AstNode], Int)">analyze</a><span class="delimiter">(</span><span title="List[akka.stream.impl.Ast.AstNode]">rest</span>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.head" title="akka.stream.impl.Ast.AstNode">head</a> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.x$19" title="(x: akka.stream.impl.Ast.AstNode)List[akka.stream.impl.Ast.AstNode]">::</a> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.optimized" title="List[akka.stream.impl.Ast.AstNode]">optimized</a>, <span title="scala.collection.immutable.Nil.type">Nil</span><span class="delimiter">)</span>
            case <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.fuseCandidates" title="List[akka.stream.stage.Stage[_, _]]">`fuseCandidates`</a>  ⇒ <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze" title="(rest: List[akka.stream.impl.Ast.AstNode], optimized: List[akka.stream.impl.Ast.AstNode], fuseCandidates: List[akka.stream.stage.Stage[_, _]])(List[akka.stream.impl.Ast.AstNode], Int)">analyze</a><span class="delimiter">(</span><span title="List[akka.stream.impl.Ast.AstNode]">rest</span>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.head" title="akka.stream.impl.Ast.AstNode">head</a> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.x$21" title="(x: akka.stream.impl.Ast.AstNode)List[akka.stream.impl.Ast.AstNode]">::</a> <a href="#akka.stream.impl.Ast" title="akka.stream.impl.Ast.type">Ast</a>.<a href="#akka.stream.impl.Ast.Fused.apply(814d1e46cf)" title="(ops: scala.collection.immutable.Seq[akka.stream.stage.Stage[_, _]])akka.stream.impl.Ast.Fused">Fused</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.fuseCandidates" title="List[akka.stream.stage.Stage[_, _]]">fuseCandidates</a><span class="delimiter">)</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.x$20" title="(x: akka.stream.impl.Ast.AstNode)List[akka.stream.impl.Ast.AstNode]">::</a> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.optimized" title="List[akka.stream.impl.Ast.AstNode]">optimized</a>, <span title="scala.collection.immutable.Nil.type">Nil</span><span class="delimiter">)</span>
            case <a title="List[akka.stream.stage.Stage[_, _]]" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.newFuseCandidates">newFuseCandidates</a> ⇒ <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze" title="(rest: List[akka.stream.impl.Ast.AstNode], optimized: List[akka.stream.impl.Ast.AstNode], fuseCandidates: List[akka.stream.stage.Stage[_, _]])(List[akka.stream.impl.Ast.AstNode], Int)">analyze</a><span class="delimiter">(</span><span title="List[akka.stream.impl.Ast.AstNode]">rest</span>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.optimized" title="List[akka.stream.impl.Ast.AstNode]">optimized</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze.newFuseCandidates" title="List[akka.stream.stage.Stage[_, _]]">newFuseCandidates</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    val <a title="(List[akka.stream.impl.Ast.AstNode], Int)" id="akka.stream.impl;ActorBasedFlowMaterializer.optimize.result">result</a> = <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.analyze" title="(rest: List[akka.stream.impl.Ast.AstNode], optimized: List[akka.stream.impl.Ast.AstNode], fuseCandidates: List[akka.stream.stage.Stage[_, _]])(List[akka.stream.impl.Ast.AstNode], Int)">analyze</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.ops" title="List[akka.stream.impl.Ast.AstNode]">ops</a>, <span title="scala.collection.immutable.Nil.type">Nil</span>, <span title="scala.collection.immutable.Nil.type">Nil</span><span class="delimiter">)</span>
    <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize.result" title="(List[akka.stream.impl.Ast.AstNode], Int)">result</a>
  <span class="delimiter">}</span>

  <span class="comment">// Ops come in reverse order</span>
  override def <a title="[In, Out](source: akka.stream.scaladsl.Source[In], sink: akka.stream.scaladsl.Sink[Out], rawOps: List[akka.stream.impl.Ast.AstNode], keys: List[akka.stream.scaladsl.Key[_]])akka.stream.scaladsl.MaterializedMap" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize">materialize</a><span class="delimiter">[</span><a title="" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize;In">In</a>, <a title="" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize;Out">Out</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="akka.stream.scaladsl.Source[In]" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.source">source</a>: <a href="../scaladsl/Source.scala.html#akka.stream.scaladsl;Source" title="akka.stream.scaladsl.Source[In]">Source</a><span class="delimiter">[</span>In<span class="delimiter">]</span>, <a title="akka.stream.scaladsl.Sink[Out]" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.sink">sink</a>: <a href="../scaladsl/Sink.scala.html#akka.stream.scaladsl;Sink" title="akka.stream.scaladsl.Sink[Out]">Sink</a><span class="delimiter">[</span>Out<span class="delimiter">]</span>, <a title="List[akka.stream.impl.Ast.AstNode]" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.rawOps">rawOps</a>: <span title="List[akka.stream.impl.Ast.AstNode]">List</span><span class="delimiter">[</span>Ast.AstNode<span class="delimiter">]</span>, <a title="List[akka.stream.scaladsl.Key[_]]" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.keys">keys</a>: <span title="List[akka.stream.scaladsl.Key[_]]">List</span><span class="delimiter">[</span>Key<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../scaladsl/MaterializedMap.scala.html#akka.stream.scaladsl;MaterializedMap" title="akka.stream.scaladsl.MaterializedMap">MaterializedMap</a> = <span class="delimiter">{</span>
    val <a title="String" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.flowName">flowName</a> = <a href="#akka.stream.impl;ActorBasedFlowMaterializer.createFlowName" title="()String">createFlowName</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="comment">//FIXME: Creates Id even when it is not used in all branches below</span>

    def <a title="(typeName: String, s: AnyRef)Nothing" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.throwUnknownType">throwUnknownType</a><span class="delimiter">(</span><a title="String" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.throwUnknownType.typeName">typeName</a>: <span title="String">String</span>, <a title="AnyRef" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.throwUnknownType.s">s</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span>: <span title="Nothing">Nothing</span> =
      throw new <a href="../FlowMaterializer.scala.html#akka.stream;MaterializationException" title="akka.stream.MaterializationException">MaterializationException</a><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;unknown &quot;)">unknown $</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.throwUnknownType.typeName" title="String">typeName</a><span title="String(&quot; type &quot;)"> type $</span><span class="delimiter">{</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.throwUnknownType.s" title="AnyRef">s</a>.<span title="()Class[_]">getClass</span><span class="delimiter">}</span><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>

    def <a title="(pub: org.reactivestreams.Publisher[Out], flowName: String)akka.stream.scaladsl.ActorFlowSink[Out]#MaterializedType" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.attachSink">attachSink</a><span class="delimiter">(</span><a title="org.reactivestreams.Publisher[Out]" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.attachSink.pub">pub</a>: <span title="org.reactivestreams.Publisher[Out]">Publisher</span><span class="delimiter">[</span>Out<span class="delimiter">]</span>, <a title="String" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.attachSink.flowName">flowName</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.sink" title="akka.stream.scaladsl.Sink[Out]">sink</a> match <span class="delimiter">{</span>
      case <span title="akka.stream.scaladsl.ActorFlowSink[Out]">s</span>: <a href="../scaladsl/ActorFlowSink.scala.html#akka.stream.scaladsl;ActorFlowSink" title="akka.stream.scaladsl.ActorFlowSink[Out]">ActorFlowSink</a><span class="delimiter">[</span>Out<span class="delimiter">]</span> ⇒ <span title="akka.stream.scaladsl.ActorFlowSink[Out]">s</span>.<a href="../scaladsl/ActorFlowSink.scala.html#akka.stream.scaladsl;ActorFlowSink.attach" title="(flowPublisher: org.reactivestreams.Publisher[Out], materializer: akka.stream.impl.ActorBasedFlowMaterializer, flowName: String)s.MaterializedType">attach</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.attachSink.pub" title="org.reactivestreams.Publisher[Out]">pub</a>, this, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.attachSink.flowName" title="String">flowName</a><span class="delimiter">)</span>
      case <span title="akka.stream.scaladsl.Sink[Out]">s</span>                     ⇒ <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.throwUnknownType" title="(typeName: String, s: AnyRef)Nothing">throwUnknownType</a><span class="delimiter">(</span><span title="String(&quot;Sink&quot;)" class="string">&quot;Sink&quot;</span>, <span title="akka.stream.scaladsl.Sink[Out]">s</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    def <a title="(sub: org.reactivestreams.Subscriber[In], flowName: String)akka.stream.scaladsl.ActorFlowSource[In]#MaterializedType" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.attachSource">attachSource</a><span class="delimiter">(</span><a title="org.reactivestreams.Subscriber[In]" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.attachSource.sub">sub</a>: <span title="org.reactivestreams.Subscriber[In]">Subscriber</span><span class="delimiter">[</span>In<span class="delimiter">]</span>, <a title="String" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.attachSource.flowName">flowName</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.source" title="akka.stream.scaladsl.Source[In]">source</a> match <span class="delimiter">{</span>
      case <span title="akka.stream.scaladsl.ActorFlowSource[In]">s</span>: <a href="../scaladsl/ActorFlowSource.scala.html#akka.stream.scaladsl;ActorFlowSource" title="akka.stream.scaladsl.ActorFlowSource[In]">ActorFlowSource</a><span class="delimiter">[</span>In<span class="delimiter">]</span> ⇒ <span title="akka.stream.scaladsl.ActorFlowSource[In]">s</span>.<a href="../scaladsl/ActorFlowSource.scala.html#akka.stream.scaladsl;ActorFlowSource.attach" title="(flowSubscriber: org.reactivestreams.Subscriber[In], materializer: akka.stream.impl.ActorBasedFlowMaterializer, flowName: String)s.MaterializedType">attach</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.attachSource.sub" title="org.reactivestreams.Subscriber[In]">sub</a>, this, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.attachSource.flowName" title="String">flowName</a><span class="delimiter">)</span>
      case <span title="akka.stream.scaladsl.Source[In]">s</span>                      ⇒ <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.throwUnknownType" title="(typeName: String, s: AnyRef)Nothing">throwUnknownType</a><span class="delimiter">(</span><span title="String(&quot;Source&quot;)" class="string">&quot;Source&quot;</span>, <span title="akka.stream.scaladsl.Source[In]">s</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    def <a title="(flowName: String)(org.reactivestreams.Subscriber[In], akka.stream.scaladsl.ActorFlowSink[In]#MaterializedType)" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.createSink">createSink</a><span class="delimiter">(</span><a title="String" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.createSink.flowName">flowName</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.sink" title="akka.stream.scaladsl.Sink[Out]">sink</a> match <span class="delimiter">{</span>
      case <span title="akka.stream.scaladsl.ActorFlowSink[In]">s</span>: <a href="../scaladsl/ActorFlowSink.scala.html#akka.stream.scaladsl;ActorFlowSink" title="akka.stream.scaladsl.ActorFlowSink[In]">ActorFlowSink</a><span class="delimiter">[</span>In<span class="delimiter">]</span> ⇒ <span title="akka.stream.scaladsl.ActorFlowSink[In]">s</span>.<a href="../scaladsl/ActorFlowSink.scala.html#akka.stream.scaladsl;ActorFlowSink.create" title="(materializer: akka.stream.impl.ActorBasedFlowMaterializer, flowName: String)(org.reactivestreams.Subscriber[In], s.MaterializedType)">create</a><span class="delimiter">(</span>this, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.createSink.flowName" title="String">flowName</a><span class="delimiter">)</span>
      case <span title="akka.stream.scaladsl.Sink[Out]">s</span>                    ⇒ <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.throwUnknownType" title="(typeName: String, s: AnyRef)Nothing">throwUnknownType</a><span class="delimiter">(</span><span title="String(&quot;Sink&quot;)" class="string">&quot;Sink&quot;</span>, <span title="akka.stream.scaladsl.Sink[Out]">s</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    def <a title="(flowName: String)(org.reactivestreams.Publisher[Out], akka.stream.scaladsl.ActorFlowSource[Out]#MaterializedType)" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.createSource">createSource</a><span class="delimiter">(</span><a title="String" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.createSource.flowName">flowName</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.source" title="akka.stream.scaladsl.Source[In]">source</a> match <span class="delimiter">{</span>
      case <span title="akka.stream.scaladsl.ActorFlowSource[Out]">s</span>: <a href="../scaladsl/ActorFlowSource.scala.html#akka.stream.scaladsl;ActorFlowSource" title="akka.stream.scaladsl.ActorFlowSource[Out]">ActorFlowSource</a><span class="delimiter">[</span>Out<span class="delimiter">]</span> ⇒ <span title="akka.stream.scaladsl.ActorFlowSource[Out]">s</span>.<a href="../scaladsl/ActorFlowSource.scala.html#akka.stream.scaladsl;ActorFlowSource.create" title="(materializer: akka.stream.impl.ActorBasedFlowMaterializer, flowName: String)(org.reactivestreams.Publisher[Out], s.MaterializedType)">create</a><span class="delimiter">(</span>this, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.createSource.flowName" title="String">flowName</a><span class="delimiter">)</span>
      case <span title="akka.stream.scaladsl.Source[In]">s</span>                       ⇒ <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.throwUnknownType" title="(typeName: String, s: AnyRef)Nothing">throwUnknownType</a><span class="delimiter">(</span><span title="String(&quot;Source&quot;)" class="string">&quot;Source&quot;</span>, <span title="akka.stream.scaladsl.Source[In]">s</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    def <a title="(s: AnyRef)Boolean" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.isActive">isActive</a><span class="delimiter">(</span><span title="AnyRef">s</span>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> = <span title="AnyRef">s</span> match <span class="delimiter">{</span>
      case <span title="akka.stream.scaladsl.ActorFlowSource[_]">s</span>: <a href="../scaladsl/ActorFlowSource.scala.html#akka.stream.scaladsl;ActorFlowSource" title="akka.stream.scaladsl.ActorFlowSource[_]">ActorFlowSource</a><span class="delimiter">[</span>_<span class="delimiter">]</span> ⇒ <span title="akka.stream.scaladsl.ActorFlowSource[_]">s</span>.<a href="../scaladsl/ActorFlowSource.scala.html#akka.stream.scaladsl;ActorFlowSource.isActive" title="=&gt; Boolean">isActive</a>
      case <span title="akka.stream.scaladsl.ActorFlowSink[_]">s</span>: <a href="../scaladsl/ActorFlowSink.scala.html#akka.stream.scaladsl;ActorFlowSink" title="akka.stream.scaladsl.ActorFlowSink[_]">ActorFlowSink</a><span class="delimiter">[</span>_<span class="delimiter">]</span>   ⇒ <span title="akka.stream.scaladsl.ActorFlowSink[_]">s</span>.<a href="../scaladsl/ActorFlowSink.scala.html#akka.stream.scaladsl;ActorFlowSink.isActive" title="=&gt; Boolean">isActive</a>
      case <span title="akka.stream.scaladsl.Source[_]">s</span>: <a href="../scaladsl/Source.scala.html#akka.stream.scaladsl;Source" title="akka.stream.scaladsl.Source[_]">Source</a><span class="delimiter">[</span>_<span class="delimiter">]</span>          ⇒ <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.throwUnknownType" title="(typeName: String, s: AnyRef)Nothing">throwUnknownType</a><span class="delimiter">(</span><span title="String(&quot;Source&quot;)" class="string">&quot;Source&quot;</span>, <span title="akka.stream.scaladsl.Source[_]">s</span><span class="delimiter">)</span>
      case <span title="akka.stream.scaladsl.Sink[_]">s</span>: <a href="../scaladsl/Sink.scala.html#akka.stream.scaladsl;Sink" title="akka.stream.scaladsl.Sink[_]">Sink</a><span class="delimiter">[</span>_<span class="delimiter">]</span>            ⇒ <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.throwUnknownType" title="(typeName: String, s: AnyRef)Nothing">throwUnknownType</a><span class="delimiter">(</span><span title="String(&quot;Sink&quot;)" class="string">&quot;Sink&quot;</span>, <span title="akka.stream.scaladsl.Sink[_]">s</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    def <a title="(m: akka.stream.scaladsl.Materializable, v: Any, map: akka.stream.scaladsl.MaterializedMap)akka.stream.scaladsl.MaterializedMap" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.addIfKeyed">addIfKeyed</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.Materializable" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.addIfKeyed.m">m</a>: <a href="../scaladsl/MaterializedMap.scala.html#akka.stream.scaladsl;Materializable" title="akka.stream.scaladsl.Materializable">Materializable</a>, <a title="Any" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.addIfKeyed.v">v</a>: <span title="Any">Any</span>, <a title="akka.stream.scaladsl.MaterializedMap" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.addIfKeyed.map">map</a>: <a href="../scaladsl/MaterializedMap.scala.html#akka.stream.scaladsl;MaterializedMap" title="akka.stream.scaladsl.MaterializedMap">MaterializedMap</a><span class="delimiter">)</span> = <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.addIfKeyed.m" title="akka.stream.scaladsl.Materializable">m</a> match <span class="delimiter">{</span>
      case <a title="akka.stream.scaladsl.KeyedMaterializable[_]" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.addIfKeyed.km">km</a>: <a href="../scaladsl/MaterializedMap.scala.html#akka.stream.scaladsl;KeyedMaterializable" title="akka.stream.scaladsl.KeyedMaterializable[_]">KeyedMaterializable</a><span class="delimiter">[</span>_<span class="delimiter">]</span> ⇒ <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.addIfKeyed.map" title="akka.stream.scaladsl.MaterializedMap">map</a>.<a href="../scaladsl/MaterializedMap.scala.html#akka.stream.scaladsl;MaterializedMap.updated" title="(key: akka.stream.scaladsl.KeyedMaterializable[_], value: Any)akka.stream.scaladsl.MaterializedMap">updated</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.addIfKeyed.km" title="akka.stream.scaladsl.KeyedMaterializable[_]">km</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.addIfKeyed.v" title="Any">v</a><span class="delimiter">)</span>
      case _                          ⇒ <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.addIfKeyed.map" title="akka.stream.scaladsl.MaterializedMap">map</a>
    <span class="delimiter">}</span>

    val <a title="scala.concurrent.Promise[akka.stream.scaladsl.MaterializedMap]" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.mmPromise">mmPromise</a> = <span title="[T]()scala.concurrent.Promise[T]">Promise</span><span title="()scala.concurrent.Promise[akka.stream.scaladsl.MaterializedMap]" class="delimiter">[</span><a href="../scaladsl/MaterializedMap.scala.html#akka.stream.scaladsl;MaterializedMap" title="akka.stream.scaladsl.MaterializedMap">MaterializedMap</a><span class="delimiter">]</span>
    val <a title="scala.concurrent.Future[akka.stream.scaladsl.MaterializedMap]" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.mmFuture">mmFuture</a> = <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.mmPromise" title="scala.concurrent.Promise[akka.stream.scaladsl.MaterializedMap]">mmPromise</a>.<span title="=&gt; scala.concurrent.Future[akka.stream.scaladsl.MaterializedMap]">future</span>

    val <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.sourceValue" title="(akka.stream.scaladsl.ActorFlowSource[Any]#MaterializedType, akka.stream.scaladsl.ActorFlowSink[In with Out]#MaterializedType, akka.stream.scaladsl.MaterializedMap)" class="delimiter">(</a><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28" title="akka.stream.scaladsl.ActorFlowSource[Any]#MaterializedType" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.sourceValue">sourceValue</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28" title="akka.stream.scaladsl.ActorFlowSink[In with Out]#MaterializedType" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.sinkValue">sinkValue</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28" title="akka.stream.scaladsl.MaterializedMap" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.pipeMap">pipeMap</a><span class="delimiter">)</span> =
      if <span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.rawOps" title="List[akka.stream.impl.Ast.AstNode]">rawOps</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        if <span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.isActive" title="(s: AnyRef)Boolean">isActive</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.sink" title="akka.stream.scaladsl.Sink[Out]">sink</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          val <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.sub" title="(org.reactivestreams.Subscriber[In], akka.stream.scaladsl.ActorFlowSink[In]#MaterializedType)" class="delimiter">(</a><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.x$22" title="org.reactivestreams.Subscriber[In]" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.sub">sub</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.x$22" title="akka.stream.scaladsl.ActorFlowSink[In]#MaterializedType" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.x$22.value">value</a><span class="delimiter">)</span> = <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.createSink" title="(flowName: String)(org.reactivestreams.Subscriber[In], akka.stream.scaladsl.ActorFlowSink[In]#MaterializedType)">createSink</a><span title="(org.reactivestreams.Subscriber[In], akka.stream.scaladsl.ActorFlowSink[In]#MaterializedType) @unchecked" class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.flowName" title="String">flowName</a><span class="delimiter">)</span>
          <span title="(_1: akka.stream.scaladsl.ActorFlowSource[In]#MaterializedType, _2: akka.stream.scaladsl.ActorFlowSink[In]#MaterializedType, _3: akka.stream.scaladsl.MaterializedMap)(akka.stream.scaladsl.ActorFlowSource[In]#MaterializedType, akka.stream.scaladsl.ActorFlowSink[In]#MaterializedType, akka.stream.scaladsl.MaterializedMap)" class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.attachSource" title="(sub: org.reactivestreams.Subscriber[In], flowName: String)akka.stream.scaladsl.ActorFlowSource[In]#MaterializedType">attachSource</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.sub" title="org.reactivestreams.Subscriber[In]">sub</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.flowName" title="String">flowName</a><span class="delimiter">)</span>, <span title="akka.stream.scaladsl.ActorFlowSink[In]#MaterializedType">value</span>, <a href="../scaladsl/MaterializedMap.scala.html#akka.stream.scaladsl.MaterializedMap" title="akka.stream.scaladsl.MaterializedMap.type">MaterializedMap</a>.<a href="../scaladsl/MaterializedMap.scala.html#akka.stream.scaladsl.MaterializedMap.empty" title="=&gt; akka.stream.scaladsl.MaterializedMap">empty</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> else if <span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.isActive" title="(s: AnyRef)Boolean">isActive</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.source" title="akka.stream.scaladsl.Source[In]">source</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          val <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.pub" title="(org.reactivestreams.Publisher[Out], akka.stream.scaladsl.ActorFlowSource[Out]#MaterializedType)" class="delimiter">(</a><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.x$23" title="org.reactivestreams.Publisher[Out]" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.pub">pub</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.x$23" title="akka.stream.scaladsl.ActorFlowSource[Out]#MaterializedType" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.x$23.value">value</a><span class="delimiter">)</span> = <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.createSource" title="(flowName: String)(org.reactivestreams.Publisher[Out], akka.stream.scaladsl.ActorFlowSource[Out]#MaterializedType)">createSource</a><span title="(org.reactivestreams.Publisher[Out], akka.stream.scaladsl.ActorFlowSource[Out]#MaterializedType) @unchecked" class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.flowName" title="String">flowName</a><span class="delimiter">)</span>
          <span title="(_1: akka.stream.scaladsl.ActorFlowSource[Out]#MaterializedType, _2: akka.stream.scaladsl.ActorFlowSink[Out]#MaterializedType, _3: akka.stream.scaladsl.MaterializedMap)(akka.stream.scaladsl.ActorFlowSource[Out]#MaterializedType, akka.stream.scaladsl.ActorFlowSink[Out]#MaterializedType, akka.stream.scaladsl.MaterializedMap)" class="delimiter">(</span><span title="akka.stream.scaladsl.ActorFlowSource[Out]#MaterializedType">value</span>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.attachSink" title="(pub: org.reactivestreams.Publisher[Out], flowName: String)akka.stream.scaladsl.ActorFlowSink[Out]#MaterializedType">attachSink</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.pub" title="org.reactivestreams.Publisher[Out]">pub</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.flowName" title="String">flowName</a><span class="delimiter">)</span>, <a href="../scaladsl/MaterializedMap.scala.html#akka.stream.scaladsl.MaterializedMap" title="akka.stream.scaladsl.MaterializedMap.type">MaterializedMap</a>.<a href="../scaladsl/MaterializedMap.scala.html#akka.stream.scaladsl.MaterializedMap.empty" title="=&gt; akka.stream.scaladsl.MaterializedMap">empty</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> else <span class="delimiter">{</span>
          val <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.id" title="(org.reactivestreams.Processor[In,Out], akka.stream.scaladsl.MaterializedMap)" class="delimiter">(</a><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.x$24" title="org.reactivestreams.Processor[In,Out]" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.id">id</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.x$24" title="akka.stream.scaladsl.MaterializedMap" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.empty">empty</a><span class="delimiter">)</span> = <a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorForNode" title="[In, Out](op: akka.stream.impl.Ast.AstNode, flowName: String, n: Int)(org.reactivestreams.Processor[In,Out], akka.stream.scaladsl.MaterializedMap)">processorForNode</a><span title="(op: akka.stream.impl.Ast.AstNode, flowName: String, n: Int)(org.reactivestreams.Processor[In,Out], akka.stream.scaladsl.MaterializedMap)" class="delimiter">[</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize;In" title="In">In</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize;Out" title="Out">Out</a><span class="delimiter">]</span><span title="(org.reactivestreams.Processor[In,Out], akka.stream.scaladsl.MaterializedMap) @unchecked" class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.identityStageNode" title="akka.stream.impl.Ast.StageFactory">identityStageNode</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.flowName" title="String">flowName</a>, <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <span title="(_1: akka.stream.scaladsl.ActorFlowSource[In]#MaterializedType, _2: akka.stream.scaladsl.ActorFlowSink[Out]#MaterializedType, _3: akka.stream.scaladsl.MaterializedMap)(akka.stream.scaladsl.ActorFlowSource[In]#MaterializedType, akka.stream.scaladsl.ActorFlowSink[Out]#MaterializedType, akka.stream.scaladsl.MaterializedMap)" class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.attachSource" title="(sub: org.reactivestreams.Subscriber[In], flowName: String)akka.stream.scaladsl.ActorFlowSource[In]#MaterializedType">attachSource</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.id" title="org.reactivestreams.Processor[In,Out]">id</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.flowName" title="String">flowName</a><span class="delimiter">)</span>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.attachSink" title="(pub: org.reactivestreams.Publisher[Out], flowName: String)akka.stream.scaladsl.ActorFlowSink[Out]#MaterializedType">attachSink</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.id" title="org.reactivestreams.Processor[In,Out]">id</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.flowName" title="String">flowName</a><span class="delimiter">)</span>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.empty" title="akka.stream.scaladsl.MaterializedMap">empty</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> else <span class="delimiter">{</span>
        val <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.ops" title="(List[akka.stream.impl.Ast.AstNode], Int)" class="delimiter">(</a><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.x$25" title="List[akka.stream.impl.Ast.AstNode]" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.ops">ops</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.x$25" title="Int" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.opsSize">opsSize</a><span class="delimiter">)</span> = if <span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimizations" title="=&gt; akka.stream.impl.Optimizations">optimizations</a>.<a href="#akka.stream.impl;Optimizations.isEnabled" title="=&gt; Boolean">isEnabled</a><span class="delimiter">)</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.optimize" title="(ops: List[akka.stream.impl.Ast.AstNode], mmFuture: scala.concurrent.Future[akka.stream.scaladsl.MaterializedMap])(List[akka.stream.impl.Ast.AstNode], Int)">optimize</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.rawOps" title="List[akka.stream.impl.Ast.AstNode]">rawOps</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.mmFuture" title="scala.concurrent.Future[akka.stream.scaladsl.MaterializedMap]">mmFuture</a><span class="delimiter">)</span> else <span title="(_1: List[akka.stream.impl.Ast.AstNode], _2: Int)(List[akka.stream.impl.Ast.AstNode], Int)" class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.rawOps" title="List[akka.stream.impl.Ast.AstNode]">rawOps</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.rawOps" title="List[akka.stream.impl.Ast.AstNode]">rawOps</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
        val <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.last" title="(org.reactivestreams.Processor[Any,Out], akka.stream.scaladsl.MaterializedMap)" class="delimiter">(</a><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.x$26" title="org.reactivestreams.Processor[Any,Out]" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.last">last</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.x$26" title="akka.stream.scaladsl.MaterializedMap" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.lastMap">lastMap</a><span class="delimiter">)</span> = <a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorForNode" title="[In, Out](op: akka.stream.impl.Ast.AstNode, flowName: String, n: Int)(org.reactivestreams.Processor[In,Out], akka.stream.scaladsl.MaterializedMap)">processorForNode</a><span title="(op: akka.stream.impl.Ast.AstNode, flowName: String, n: Int)(org.reactivestreams.Processor[Any,Out], akka.stream.scaladsl.MaterializedMap)" class="delimiter">[</span><span title="Any">Any</span>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize;Out" title="Out">Out</a><span class="delimiter">]</span><span title="(org.reactivestreams.Processor[Any,Out], akka.stream.scaladsl.MaterializedMap) @unchecked" class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.ops" title="List[akka.stream.impl.Ast.AstNode]">ops</a>.<span title="=&gt; akka.stream.impl.Ast.AstNode">head</span>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.flowName" title="String">flowName</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.opsSize" title="Int">opsSize</a><span class="delimiter">)</span>
        val <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.first" title="(org.reactivestreams.Processor[_$10,_$11], akka.stream.scaladsl.MaterializedMap)" class="delimiter">(</a><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.x$27" title="org.reactivestreams.Processor[_, _]" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.first">first</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.x$27" title="akka.stream.scaladsl.MaterializedMap" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.map">map</a><span class="delimiter">)</span> = <a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorChain" title="(topProcessor: org.reactivestreams.Processor[_, _], ops: List[akka.stream.impl.Ast.AstNode], flowName: String, n: Int, materializedMap: akka.stream.scaladsl.MaterializedMap)(org.reactivestreams.Processor[_, _], akka.stream.scaladsl.MaterializedMap)">processorChain</a><span title="(org.reactivestreams.Processor[_, _], akka.stream.scaladsl.MaterializedMap) @unchecked" class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.last" title="org.reactivestreams.Processor[Any,Out]">last</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.ops" title="List[akka.stream.impl.Ast.AstNode]">ops</a>.<span title="=&gt; List[akka.stream.impl.Ast.AstNode]">tail</span>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.flowName" title="String">flowName</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.opsSize" title="Int">opsSize</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.lastMap" title="akka.stream.scaladsl.MaterializedMap">lastMap</a><span class="delimiter">)</span>
        <span title="(_1: akka.stream.scaladsl.ActorFlowSource[In]#MaterializedType, _2: akka.stream.scaladsl.ActorFlowSink[Out]#MaterializedType, _3: akka.stream.scaladsl.MaterializedMap)(akka.stream.scaladsl.ActorFlowSource[In]#MaterializedType, akka.stream.scaladsl.ActorFlowSink[Out]#MaterializedType, akka.stream.scaladsl.MaterializedMap)" class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.attachSource" title="(sub: org.reactivestreams.Subscriber[In], flowName: String)akka.stream.scaladsl.ActorFlowSource[In]#MaterializedType">attachSource</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.first" title="org.reactivestreams.Processor[_, _]">first</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.reactivestreams.Processor[In,Any]" class="delimiter">[</span><span title="org.reactivestreams.Processor[In,Any]">Processor</span><span class="delimiter">[</span>In, Any<span class="delimiter">]</span><span class="delimiter">]</span>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.flowName" title="String">flowName</a><span class="delimiter">)</span>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.attachSink" title="(pub: org.reactivestreams.Publisher[Out], flowName: String)akka.stream.scaladsl.ActorFlowSink[Out]#MaterializedType">attachSink</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.last" title="org.reactivestreams.Processor[Any,Out]">last</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.flowName" title="String">flowName</a><span class="delimiter">)</span>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$28.map" title="akka.stream.scaladsl.MaterializedMap">map</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    val <a title="akka.stream.scaladsl.MaterializedMap" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.sourceSinkMap">sourceSinkMap</a> = <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.addIfKeyed" title="(m: akka.stream.scaladsl.Materializable, v: Any, map: akka.stream.scaladsl.MaterializedMap)akka.stream.scaladsl.MaterializedMap">addIfKeyed</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.sink" title="akka.stream.scaladsl.Sink[Out]">sink</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.sinkValue" title="akka.stream.scaladsl.ActorFlowSink[In with Out]#MaterializedType">sinkValue</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.addIfKeyed" title="(m: akka.stream.scaladsl.Materializable, v: Any, map: akka.stream.scaladsl.MaterializedMap)akka.stream.scaladsl.MaterializedMap">addIfKeyed</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.source" title="akka.stream.scaladsl.Source[In]">source</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.sourceValue" title="akka.stream.scaladsl.ActorFlowSource[Any]#MaterializedType">sourceValue</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.pipeMap" title="akka.stream.scaladsl.MaterializedMap">pipeMap</a><span class="delimiter">)</span><span class="delimiter">)</span>

    if <span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.keys" title="List[akka.stream.scaladsl.Key[_]]">keys</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.sourceSinkMap" title="akka.stream.scaladsl.MaterializedMap">sourceSinkMap</a>
    else <span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.sourceSinkMap" title="akka.stream.scaladsl.MaterializedMap">sourceSinkMap</a> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.x$29" title="(z: akka.stream.scaladsl.MaterializedMap)(op: (akka.stream.scaladsl.MaterializedMap, akka.stream.scaladsl.Key[_]) =&gt; akka.stream.scaladsl.MaterializedMap)akka.stream.scaladsl.MaterializedMap">/:</a> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.keys" title="List[akka.stream.scaladsl.Key[_]]">keys</a><span class="delimiter">)</span> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.$anonfun.x0$1" title="akka.stream.scaladsl.MaterializedMap" class="delimiter">{</a>
      case <span class="delimiter">(</span><a title="akka.stream.scaladsl.MaterializedMap" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.$anonfun.mm">mm</a>, <a title="akka.stream.scaladsl.Key[_$18]" id="akka.stream.impl;ActorBasedFlowMaterializer.materialize.$anonfun.k">k</a><span class="delimiter">)</span> ⇒ <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.$anonfun.mm" title="akka.stream.scaladsl.MaterializedMap">mm</a>.<a href="../scaladsl/MaterializedMap.scala.html#akka.stream.scaladsl;MaterializedMap.updated" title="(key: akka.stream.scaladsl.KeyedMaterializable[_], value: Any)akka.stream.scaladsl.MaterializedMap">updated</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.$anonfun.k" title="akka.stream.scaladsl.Key[_$18]">k</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.$anonfun.k" title="akka.stream.scaladsl.Key[_$18]">k</a>.<a href="../scaladsl/MaterializedMap.scala.html#akka.stream.scaladsl;Key.materialize" title="(map: akka.stream.scaladsl.MaterializedMap)k.MaterializedType">materialize</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materialize.$anonfun.mm" title="akka.stream.scaladsl.MaterializedMap">mm</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="comment">//FIXME Should this be a dedicated AstNode?</span>
  private<span class="delimiter">[</span>this<span class="delimiter">]</span> val <a title="akka.stream.impl.Ast.StageFactory" id="akka.stream.impl;ActorBasedFlowMaterializer.identityStageNode">identityStageNode</a> = <a href="#akka.stream.impl.Ast" title="akka.stream.impl.Ast.type">Ast</a>.<a href="#akka.stream.impl.Ast.StageFactory.readResolve" title="(mkStage: () =&gt; akka.stream.stage.Stage[_, _], attributes: akka.stream.scaladsl.OperationAttributes)akka.stream.impl.Ast.StageFactory">StageFactory</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> ⇒ <a href="../scaladsl/Flow.scala.html#akka.stream.scaladsl.FlowOps" title="akka.stream.scaladsl.FlowOps.type">FlowOps</a>.<a href="../scaladsl/Flow.scala.html#akka.stream.scaladsl.FlowOps.identityStage" title="[T]=&gt; akka.stream.stage.Stage[T,T]">identityStage</a><span title="akka.stream.stage.Stage[Any,Any]" class="delimiter">[</span><span title="Any">Any</span><span class="delimiter">]</span>, <a href="#akka.stream.impl.Ast" title="akka.stream.impl.Ast.type">Ast</a>.<a href="#akka.stream.impl.Ast.Defaults" title="akka.stream.impl.Ast.Defaults.type">Defaults</a>.<a href="#akka.stream.impl.Ast.Defaults.identityOp" title="=&gt; akka.stream.scaladsl.OperationAttributes">identityOp</a><span class="delimiter">)</span>

  def <a title="=&gt; scala.concurrent.ExecutionContext" id="akka.stream.impl;ActorBasedFlowMaterializer.executionContext">executionContext</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span> = <a href="#akka.stream.impl;ActorBasedFlowMaterializer.dispatchers" title="=&gt; akka.dispatch.Dispatchers">dispatchers</a>.<span title="(id: String)akka.dispatch.MessageDispatcher">lookup</span><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.settings" title="=&gt; akka.stream.MaterializerSettings">settings</a>.<a href="../FlowMaterializer.scala.html#akka.stream;MaterializerSettings.dispatcher" title="=&gt; String">dispatcher</a> match <span class="delimiter">{</span>
    case Deploy.<span title="String(&quot;&quot;)">NoDispatcherGiven</span> ⇒ Dispatchers.<span title="String(&quot;akka.actor.default-dispatcher&quot;)">DefaultDispatcherId</span>
    case <a title="String" id="akka.stream.impl;ActorBasedFlowMaterializer.executionContext.other">other</a>                    ⇒ <a href="#akka.stream.impl;ActorBasedFlowMaterializer.executionContext.other" title="String">other</a>
  <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  private<span class="delimiter">[</span>akka<span class="delimiter">]</span> def <a title="[In, Out](op: akka.stream.impl.Ast.AstNode, flowName: String, n: Int)(org.reactivestreams.Processor[In,Out], akka.stream.scaladsl.MaterializedMap)" id="akka.stream.impl;ActorBasedFlowMaterializer.processorForNode">processorForNode</a><span class="delimiter">[</span><a title="" id="akka.stream.impl;ActorBasedFlowMaterializer.processorForNode;In">In</a>, <a title="" id="akka.stream.impl;ActorBasedFlowMaterializer.processorForNode;Out">Out</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="akka.stream.impl.Ast.AstNode" id="akka.stream.impl;ActorBasedFlowMaterializer.processorForNode.op">op</a>: <a href="#akka.stream.impl.Ast;AstNode" title="akka.stream.impl.Ast.AstNode">AstNode</a>, <a title="String" id="akka.stream.impl;ActorBasedFlowMaterializer.processorForNode.flowName">flowName</a>: <span title="String">String</span>, <a title="Int" id="akka.stream.impl;ActorBasedFlowMaterializer.processorForNode.n">n</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="(org.reactivestreams.Processor[In,Out], akka.stream.scaladsl.MaterializedMap)" class="delimiter">(</span>Processor<span class="delimiter">[</span>In, Out<span class="delimiter">]</span>, MaterializedMap<span class="delimiter">)</span> = <a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorForNode.op" title="akka.stream.impl.Ast.AstNode">op</a> match <span class="delimiter">{</span>
    <span class="comment">// FIXME #16376 should probably be replaced with an ActorFlowProcessor similar to ActorFlowSource/Sink</span>
    case Ast.DirectProcessor<span class="delimiter">(</span><span title="() =&gt; org.reactivestreams.Processor[Any,Any]">p</span>, _<span class="delimiter">)</span> ⇒ <span title="(_1: org.reactivestreams.Processor[In,Out], _2: akka.stream.scaladsl.MaterializedMap)(org.reactivestreams.Processor[In,Out], akka.stream.scaladsl.MaterializedMap)" class="delimiter">(</span><span title="()org.reactivestreams.Processor[Any,Any]">p</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.reactivestreams.Processor[In,Out]" class="delimiter">[</span><span title="org.reactivestreams.Processor[In,Out]">Processor</span><span class="delimiter">[</span>In, Out<span class="delimiter">]</span><span class="delimiter">]</span>, <a href="../scaladsl/MaterializedMap.scala.html#akka.stream.scaladsl.MaterializedMap" title="akka.stream.scaladsl.MaterializedMap.type">MaterializedMap</a>.<a href="../scaladsl/MaterializedMap.scala.html#akka.stream.scaladsl.MaterializedMap.empty" title="=&gt; akka.stream.scaladsl.MaterializedMap">empty</a><span class="delimiter">)</span>
    case Ast.DirectProcessorWithKey<span class="delimiter">(</span><span title="() =&gt; (org.reactivestreams.Processor[Any,Any], Any)">p</span>, <a title="akka.stream.scaladsl.Key[_]" id="akka.stream.impl;ActorBasedFlowMaterializer.processorForNode.key">key</a>, _<span class="delimiter">)</span> ⇒
      val <a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorForNode.processor" title="(org.reactivestreams.Processor[Any,Any], Any)" class="delimiter">(</a><a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorForNode.x$30" title="org.reactivestreams.Processor[Any,Any]" id="akka.stream.impl;ActorBasedFlowMaterializer.processorForNode.processor">processor</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorForNode.x$30" title="Any" id="akka.stream.impl;ActorBasedFlowMaterializer.processorForNode.value">value</a><span class="delimiter">)</span> = <span title="()(org.reactivestreams.Processor[Any,Any], Any)">p</span><span title="(org.reactivestreams.Processor[Any,Any], Any) @unchecked" class="delimiter">(</span><span class="delimiter">)</span>
      <span title="(_1: org.reactivestreams.Processor[In,Out], _2: akka.stream.scaladsl.MaterializedMap)(org.reactivestreams.Processor[In,Out], akka.stream.scaladsl.MaterializedMap)" class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorForNode.processor" title="org.reactivestreams.Processor[Any,Any]">processor</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.reactivestreams.Processor[In,Out]" class="delimiter">[</span><span title="org.reactivestreams.Processor[In,Out]">Processor</span><span class="delimiter">[</span>In, Out<span class="delimiter">]</span><span class="delimiter">]</span>, <a href="../scaladsl/MaterializedMap.scala.html#akka.stream.scaladsl.MaterializedMap" title="akka.stream.scaladsl.MaterializedMap.type">MaterializedMap</a>.<a href="../scaladsl/MaterializedMap.scala.html#akka.stream.scaladsl.MaterializedMap.empty" title="=&gt; akka.stream.scaladsl.MaterializedMap">empty</a>.<a href="../scaladsl/MaterializedMap.scala.html#akka.stream.scaladsl;MaterializedMap.updated" title="(key: akka.stream.scaladsl.KeyedMaterializable[_], value: Any)akka.stream.scaladsl.MaterializedMap">updated</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorForNode.key" title="akka.stream.scaladsl.Key[_]">key</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorForNode.value" title="Any">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
    case _ ⇒
      <span title="(_1: akka.stream.impl.ActorProcessor[In,Out], _2: akka.stream.scaladsl.MaterializedMap)(akka.stream.impl.ActorProcessor[In,Out], akka.stream.scaladsl.MaterializedMap)" class="delimiter">(</span><a href="#akka.stream.impl.ActorProcessorFactory.apply" title="[I, O](impl: akka.actor.ActorRef)akka.stream.impl.ActorProcessor[I,O]">ActorProcessorFactory</a><span title="(impl: akka.actor.ActorRef)akka.stream.impl.ActorProcessor[In,Out]" class="delimiter">[</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorForNode;In" title="In">In</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorForNode;Out" title="Out">Out</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.actorOf(cae32660f5)" title="(props: akka.actor.Props, name: String, ast: akka.stream.impl.Ast.AstNode)akka.actor.ActorRef">actorOf</a><span class="delimiter">(</span><a href="#akka.stream.impl.ActorProcessorFactory" title="akka.stream.impl.ActorProcessorFactory.type">ActorProcessorFactory</a>.<a href="#akka.stream.impl.ActorProcessorFactory.props" title="(materializer: akka.stream.FlowMaterializer, op: akka.stream.impl.Ast.AstNode)akka.actor.Props">props</a><span class="delimiter">(</span>this, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorForNode.op" title="akka.stream.impl.Ast.AstNode">op</a><span class="delimiter">)</span>, <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;&quot;)">$</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorForNode.flowName" title="String">flowName</a><span title="String(&quot;-&quot;)">-$</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorForNode.n" title="Int">n</a><span title="String(&quot;-&quot;)">-$</span><span class="delimiter">{</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorForNode.op" title="akka.stream.impl.Ast.AstNode">op</a>.<a href="#akka.stream.impl.Ast;AstNode.attributes" title="=&gt; akka.stream.scaladsl.OperationAttributes">attributes</a>.<a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes.name" title="=&gt; String">name</a><span class="delimiter">}</span><span title="String(&quot;&quot;)" class="string">&quot;</span>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorForNode.op" title="akka.stream.impl.Ast.AstNode">op</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../scaladsl/MaterializedMap.scala.html#akka.stream.scaladsl.MaterializedMap" title="akka.stream.scaladsl.MaterializedMap.type">MaterializedMap</a>.<a href="../scaladsl/MaterializedMap.scala.html#akka.stream.scaladsl.MaterializedMap.empty" title="=&gt; akka.stream.scaladsl.MaterializedMap">empty</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private<span class="delimiter">[</span>akka<span class="delimiter">]</span> def <a title="(props: akka.actor.Props, name: String)akka.actor.ActorRef" id="akka.stream.impl;ActorBasedFlowMaterializer.actorOf(874c98419a)">actorOf</a><span class="delimiter">(</span><a title="akka.actor.Props" id="akka.stream.impl;ActorBasedFlowMaterializer.actorOf(874c98419a).props">props</a>: <span title="akka.actor.Props">Props</span>, <a title="String" id="akka.stream.impl;ActorBasedFlowMaterializer.actorOf(874c98419a).name">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="akka.actor.ActorRef">ActorRef</span> =
    <a href="#akka.stream.impl;ActorBasedFlowMaterializer.actorOf(92c9f5c4b2)" title="(props: akka.actor.Props, name: String, dispatcher: String)akka.actor.ActorRef">actorOf</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.actorOf(874c98419a).props" title="akka.actor.Props">props</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.actorOf(874c98419a).name" title="String">name</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.settings" title="=&gt; akka.stream.MaterializerSettings">settings</a>.<a href="../FlowMaterializer.scala.html#akka.stream;MaterializerSettings.dispatcher" title="=&gt; String">dispatcher</a><span class="delimiter">)</span>

  private<span class="delimiter">[</span>akka<span class="delimiter">]</span> def <a title="(props: akka.actor.Props, name: String, ast: akka.stream.impl.Ast.JunctionAstNode)akka.actor.ActorRef" id="akka.stream.impl;ActorBasedFlowMaterializer.actorOf(d2f5c58631)">actorOf</a><span class="delimiter">(</span><a title="akka.actor.Props" id="akka.stream.impl;ActorBasedFlowMaterializer.actorOf(d2f5c58631).props">props</a>: <span title="akka.actor.Props">Props</span>, <a title="String" id="akka.stream.impl;ActorBasedFlowMaterializer.actorOf(d2f5c58631).name">name</a>: <span title="String">String</span>, <a title="akka.stream.impl.Ast.JunctionAstNode" id="akka.stream.impl;ActorBasedFlowMaterializer.actorOf(d2f5c58631).ast">ast</a>: Ast.<a href="#akka.stream.impl.Ast;JunctionAstNode" title="akka.stream.impl.Ast.JunctionAstNode">JunctionAstNode</a><span class="delimiter">)</span>: <span title="akka.actor.ActorRef">ActorRef</span> =
    <a href="#akka.stream.impl;ActorBasedFlowMaterializer.actorOf(92c9f5c4b2)" title="(props: akka.actor.Props, name: String, dispatcher: String)akka.actor.ActorRef">actorOf</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.actorOf(d2f5c58631).props" title="akka.actor.Props">props</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.actorOf(d2f5c58631).name" title="String">name</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.actorOf(d2f5c58631).ast" title="akka.stream.impl.Ast.JunctionAstNode">ast</a>.<a href="#akka.stream.impl.Ast;JunctionAstNode.attributes" title="=&gt; akka.stream.scaladsl.OperationAttributes">attributes</a>.<a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes.settings" title="(v1: akka.stream.MaterializerSettings)akka.stream.MaterializerSettings">settings</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.settings" title="=&gt; akka.stream.MaterializerSettings">settings</a><span class="delimiter">)</span>.<a href="../FlowMaterializer.scala.html#akka.stream;MaterializerSettings.dispatcher" title="=&gt; String">dispatcher</a><span class="delimiter">)</span>

  private<span class="delimiter">[</span>akka<span class="delimiter">]</span> def <a title="(props: akka.actor.Props, name: String, ast: akka.stream.impl.Ast.AstNode)akka.actor.ActorRef" id="akka.stream.impl;ActorBasedFlowMaterializer.actorOf(cae32660f5)">actorOf</a><span class="delimiter">(</span><a title="akka.actor.Props" id="akka.stream.impl;ActorBasedFlowMaterializer.actorOf(cae32660f5).props">props</a>: <span title="akka.actor.Props">Props</span>, <a title="String" id="akka.stream.impl;ActorBasedFlowMaterializer.actorOf(cae32660f5).name">name</a>: <span title="String">String</span>, <a title="akka.stream.impl.Ast.AstNode" id="akka.stream.impl;ActorBasedFlowMaterializer.actorOf(cae32660f5).ast">ast</a>: <a href="#akka.stream.impl.Ast;AstNode" title="akka.stream.impl.Ast.AstNode">AstNode</a><span class="delimiter">)</span>: <span title="akka.actor.ActorRef">ActorRef</span> =
    <a href="#akka.stream.impl;ActorBasedFlowMaterializer.actorOf(92c9f5c4b2)" title="(props: akka.actor.Props, name: String, dispatcher: String)akka.actor.ActorRef">actorOf</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.actorOf(cae32660f5).props" title="akka.actor.Props">props</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.actorOf(cae32660f5).name" title="String">name</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.actorOf(cae32660f5).ast" title="akka.stream.impl.Ast.AstNode">ast</a>.<a href="#akka.stream.impl.Ast;AstNode.attributes" title="=&gt; akka.stream.scaladsl.OperationAttributes">attributes</a>.<a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes.settings" title="(v1: akka.stream.MaterializerSettings)akka.stream.MaterializerSettings">settings</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.settings" title="=&gt; akka.stream.MaterializerSettings">settings</a><span class="delimiter">)</span>.<a href="../FlowMaterializer.scala.html#akka.stream;MaterializerSettings.dispatcher" title="=&gt; String">dispatcher</a><span class="delimiter">)</span>

  private<span class="delimiter">[</span>akka<span class="delimiter">]</span> def <a title="(props: akka.actor.Props, name: String, dispatcher: String)akka.actor.ActorRef" id="akka.stream.impl;ActorBasedFlowMaterializer.actorOf(92c9f5c4b2)">actorOf</a><span class="delimiter">(</span><a title="akka.actor.Props" id="akka.stream.impl;ActorBasedFlowMaterializer.actorOf(92c9f5c4b2).props">props</a>: <span title="akka.actor.Props">Props</span>, <a title="String" id="akka.stream.impl;ActorBasedFlowMaterializer.actorOf(92c9f5c4b2).name">name</a>: <span title="String">String</span>, <a title="String" id="akka.stream.impl;ActorBasedFlowMaterializer.actorOf(92c9f5c4b2).dispatcher">dispatcher</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="akka.actor.ActorRef">ActorRef</span> = <a href="#akka.stream.impl;ActorBasedFlowMaterializer.supervisor" title="=&gt; akka.actor.ActorRef">supervisor</a> match <span class="delimiter">{</span>
    case <span title="akka.actor.LocalActorRef">ref</span>: <span title="akka.actor.LocalActorRef">LocalActorRef</span> ⇒
      <span title="akka.actor.LocalActorRef">ref</span>.<span title="=&gt; akka.actor.ActorCell">underlying</span>.<span title="(props: akka.actor.Props, name: String, systemService: Boolean)akka.actor.ActorRef">attachChild</span><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.actorOf(92c9f5c4b2).props" title="akka.actor.Props">props</a>.<span title="(d: String)akka.actor.Props">withDispatcher</span><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.actorOf(92c9f5c4b2).dispatcher" title="String">dispatcher</a><span class="delimiter">)</span>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.actorOf(92c9f5c4b2).name" title="String">name</a>, systemService = false<span class="delimiter">)</span>
    case <span title="akka.actor.RepointableActorRef">ref</span>: <span title="akka.actor.RepointableActorRef">RepointableActorRef</span> ⇒
      if <span class="delimiter">(</span><span title="akka.actor.RepointableActorRef">ref</span>.<span title="=&gt; Boolean">isStarted</span><span class="delimiter">)</span>
        <span title="akka.actor.RepointableActorRef">ref</span>.<span title="=&gt; akka.actor.Cell">underlying</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="akka.actor.ActorCell" class="delimiter">[</span><span title="akka.actor.ActorCell">ActorCell</span><span class="delimiter">]</span>.<span title="(props: akka.actor.Props, name: String, systemService: Boolean)akka.actor.ActorRef">attachChild</span><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.actorOf(92c9f5c4b2).props" title="akka.actor.Props">props</a>.<span title="(d: String)akka.actor.Props">withDispatcher</span><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.actorOf(92c9f5c4b2).dispatcher" title="String">dispatcher</a><span class="delimiter">)</span>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.actorOf(92c9f5c4b2).name" title="String">name</a>, systemService = false<span class="delimiter">)</span>
      else <span class="delimiter">{</span>
        implicit val <a title="akka.util.Timeout" id="akka.stream.impl;ActorBasedFlowMaterializer.actorOf(92c9f5c4b2).timeout">timeout</a> = <span title="akka.actor.RepointableActorRef">ref</span>.<span title="=&gt; akka.actor.ActorSystemImpl">system</span>.<span title="=&gt; akka.actor.ActorSystem.Settings">settings</span>.<span title="=&gt; akka.util.Timeout">CreationTimeout</span>
        val <a title="scala.concurrent.Future[akka.actor.ActorRef]" id="akka.stream.impl;ActorBasedFlowMaterializer.actorOf(92c9f5c4b2).f">f</a> = <span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.supervisor" title="implicit akka.pattern.AskSupport.ask : (actorRef: akka.actor.ActorRef)akka.pattern.AskableActorRef">supervisor</a> <a href="#akka.stream.impl;ActorBasedFlowMaterializer.actorOf(92c9f5c4b2).timeout" title="(message: Any)(implicit timeout: akka.util.Timeout)scala.concurrent.Future[Any]">?</a> <a href="#akka.stream.impl.StreamSupervisor" title="akka.stream.impl.StreamSupervisor.type">StreamSupervisor</a>.<a href="#akka.stream.impl.StreamSupervisor.Materialize.readResolve" title="(props: akka.actor.Props, name: String)akka.stream.impl.StreamSupervisor.Materialize">Materialize</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.actorOf(92c9f5c4b2).props" title="akka.actor.Props">props</a>.<span title="(d: String)akka.actor.Props">withDispatcher</span><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.actorOf(92c9f5c4b2).dispatcher" title="String">dispatcher</a><span class="delimiter">)</span>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.actorOf(92c9f5c4b2).name" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="[S](implicit tag: scala.reflect.ClassTag[S])scala.concurrent.Future[S]">mapTo</span><span title="(implicit tag: scala.reflect.ClassTag[akka.actor.ActorRef])scala.concurrent.Future[akka.actor.ActorRef]" class="delimiter">[</span><span title="akka.actor.ActorRef">ActorRef</span><span class="delimiter">]</span>
        <span title="scala.concurrent.Await.type">Await</span>.<span title="(awaitable: scala.concurrent.Awaitable[akka.actor.ActorRef], atMost: scala.concurrent.duration.Duration)akka.actor.ActorRef">result</span><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.actorOf(92c9f5c4b2).f" title="scala.concurrent.Future[akka.actor.ActorRef]">f</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.actorOf(92c9f5c4b2).timeout" title="akka.util.Timeout">timeout</a>.<span title="=&gt; scala.concurrent.duration.FiniteDuration">duration</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    case <a title="akka.actor.ActorRef" id="akka.stream.impl;ActorBasedFlowMaterializer.actorOf(92c9f5c4b2).unknown">unknown</a> ⇒
      throw new <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Stream supervisor must be a local actor, was [&quot;)">Stream supervisor must be a local actor, was [$</span><span class="delimiter">{</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.actorOf(92c9f5c4b2).unknown" title="akka.actor.ActorRef">unknown</a>.<span title="()Class[_]">getClass</span>.<span title="()String">getName</span><span class="delimiter">}</span><span title="String(&quot;]&quot;)" class="string">]&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="comment">// FIXME Investigate possibility of using `enableOperationsFusion` in `materializeJunction`</span>
  override def <a title="[In, Out](op: akka.stream.impl.Ast.JunctionAstNode, inputCount: Int, outputCount: Int)(scala.collection.immutable.Seq[org.reactivestreams.Subscriber[In]], scala.collection.immutable.Seq[org.reactivestreams.Publisher[Out]])" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction">materializeJunction</a><span class="delimiter">[</span><a title="" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction;In">In</a>, <a title="" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction;Out">Out</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="akka.stream.impl.Ast.JunctionAstNode" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.op">op</a>: Ast.<a href="#akka.stream.impl.Ast;JunctionAstNode" title="akka.stream.impl.Ast.JunctionAstNode">JunctionAstNode</a>, <a title="Int" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.inputCount">inputCount</a>: <span title="Int">Int</span>, <a title="Int" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.outputCount">outputCount</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="(scala.collection.immutable.Seq[org.reactivestreams.Subscriber[In]], scala.collection.immutable.Seq[org.reactivestreams.Publisher[Out]])" class="delimiter">(</span>immutable.Seq<span class="delimiter">[</span>Subscriber<span class="delimiter">[</span>In<span class="delimiter">]</span><span class="delimiter">]</span>, immutable.Seq<span class="delimiter">[</span>Publisher<span class="delimiter">[</span>Out<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="String" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.actorName">actorName</a> = <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;&quot;)">$</span><span class="delimiter">{</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.createFlowName" title="()String">createFlowName</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">}</span><span title="String(&quot;-&quot;)">-$</span><span class="delimiter">{</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.op" title="akka.stream.impl.Ast.JunctionAstNode">op</a>.<a href="#akka.stream.impl.Ast;JunctionAstNode.attributes" title="=&gt; akka.stream.scaladsl.OperationAttributes">attributes</a>.<a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes.name" title="=&gt; String">name</a><span class="delimiter">}</span><span title="String(&quot;&quot;)" class="string">&quot;</span>

    val <a title="akka.stream.MaterializerSettings" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.transformedSettings">transformedSettings</a> = <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.op" title="akka.stream.impl.Ast.JunctionAstNode">op</a>.<a href="#akka.stream.impl.Ast;JunctionAstNode.attributes" title="=&gt; akka.stream.scaladsl.OperationAttributes">attributes</a>.<a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes.settings" title="(v1: akka.stream.MaterializerSettings)akka.stream.MaterializerSettings">settings</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.settings" title="=&gt; akka.stream.MaterializerSettings">settings</a><span class="delimiter">)</span>

    <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.op" title="akka.stream.impl.Ast.JunctionAstNode">op</a> match <span class="delimiter">{</span>
      case <a title="akka.stream.impl.Ast.FanInAstNode" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.fanin">fanin</a>: Ast.<a href="#akka.stream.impl.Ast;FanInAstNode" title="akka.stream.impl.Ast.FanInAstNode">FanInAstNode</a> ⇒
        val <span title="akka.actor.Props">props</span> = <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.fanin" title="akka.stream.impl.Ast.FanInAstNode">fanin</a> match <span class="delimiter">{</span>
          case Ast.Merge<span class="delimiter">(</span>_<span class="delimiter">)</span>                  ⇒ <a href="FanIn.scala.html#akka.stream.impl.FairMerge" title="akka.stream.impl.FairMerge.type">FairMerge</a>.<a href="FanIn.scala.html#akka.stream.impl.FairMerge.props" title="(settings: akka.stream.MaterializerSettings, inputPorts: Int)akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.transformedSettings" title="akka.stream.MaterializerSettings">transformedSettings</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.inputCount" title="Int">inputCount</a><span class="delimiter">)</span>
          case Ast.MergePreferred<span class="delimiter">(</span>_<span class="delimiter">)</span>         ⇒ <a href="FanIn.scala.html#akka.stream.impl.UnfairMerge" title="akka.stream.impl.UnfairMerge.type">UnfairMerge</a>.<a href="FanIn.scala.html#akka.stream.impl.UnfairMerge.props" title="(settings: akka.stream.MaterializerSettings, inputPorts: Int)akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.transformedSettings" title="akka.stream.MaterializerSettings">transformedSettings</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.inputCount" title="Int">inputCount</a><span class="delimiter">)</span>
          case Ast.Zip<span class="delimiter">(</span><a title="akka.stream.impl.Zip.ZipAs" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.props.as">as</a>, _<span class="delimiter">)</span>                ⇒ <a href="FanIn.scala.html#akka.stream.impl.Zip" title="akka.stream.impl.Zip.type">Zip</a>.<a href="FanIn.scala.html#akka.stream.impl.Zip.props" title="(settings: akka.stream.MaterializerSettings, zipAs: akka.stream.impl.Zip.ZipAs)akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.transformedSettings" title="akka.stream.MaterializerSettings">transformedSettings</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.props.as" title="akka.stream.impl.Zip.ZipAs">as</a><span class="delimiter">)</span>
          case Ast.Concat<span class="delimiter">(</span>_<span class="delimiter">)</span>                 ⇒ <a href="FanIn.scala.html#akka.stream.impl.Concat" title="akka.stream.impl.Concat.type">Concat</a>.<a href="FanIn.scala.html#akka.stream.impl.Concat.props" title="(settings: akka.stream.MaterializerSettings)akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.transformedSettings" title="akka.stream.MaterializerSettings">transformedSettings</a><span class="delimiter">)</span>
          case Ast.FlexiMergeNode<span class="delimiter">(</span><a title="akka.stream.impl.FlexiMergeImpl.MergeLogicFactory[Any]" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.props.merger">merger</a>, _<span class="delimiter">)</span> ⇒ <a href="FlexiMergeImpl.scala.html#akka.stream.impl.FlexiMergeImpl" title="akka.stream.impl.FlexiMergeImpl.type">FlexiMergeImpl</a>.<a href="FlexiMergeImpl.scala.html#akka.stream.impl.FlexiMergeImpl.props" title="(settings: akka.stream.MaterializerSettings, inputCount: Int, mergeLogic: akka.stream.scaladsl.FlexiMerge.MergeLogic[Any])akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.transformedSettings" title="akka.stream.MaterializerSettings">transformedSettings</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.inputCount" title="Int">inputCount</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.props.merger" title="akka.stream.impl.FlexiMergeImpl.MergeLogicFactory[Any]">merger</a>.<a href="FlexiMergeImpl.scala.html#akka.stream.impl.FlexiMergeImpl;MergeLogicFactory.createMergeLogic" title="()akka.stream.scaladsl.FlexiMerge.MergeLogic[Any]">createMergeLogic</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        val <span title="akka.actor.ActorRef">impl</span> = <a href="#akka.stream.impl;ActorBasedFlowMaterializer.actorOf(d2f5c58631)" title="(props: akka.actor.Props, name: String, ast: akka.stream.impl.Ast.JunctionAstNode)akka.actor.ActorRef">actorOf</a><span class="delimiter">(</span><span title="akka.actor.Props">props</span>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.actorName" title="String">actorName</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.fanin" title="akka.stream.impl.Ast.FanInAstNode">fanin</a><span class="delimiter">)</span>

        val <a title="akka.stream.impl.ActorPublisher[Out]" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.publisher">publisher</a> = new <a href="ActorPublisher.scala.html#akka.stream.impl;ActorPublisher" title="akka.stream.impl.ActorPublisher[Out]">ActorPublisher</a><span class="delimiter">[</span>Out<span class="delimiter">]</span><span class="delimiter">(</span><span title="akka.actor.ActorRef">impl</span><span class="delimiter">)</span>
        <a title="akka.actor.ScalaActorRef" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.qual$1">impl</a> <a title="akka.actor.ActorRef" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.x$86">!</a> <a href="Messages.scala.html#akka.stream.impl;ExposedPublisher" title="(publisher: akka.stream.impl.ActorPublisher[Any])akka.stream.impl.ExposedPublisher">ExposedPublisher</a><a title="akka.stream.impl.ExposedPublisher" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.x$85" class="delimiter">(</a><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.publisher" title="akka.stream.impl.ActorPublisher[Out]">publisher</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="akka.stream.impl.ActorPublisher[Any]" class="delimiter">[</span><a href="ActorPublisher.scala.html#akka.stream.impl;ActorPublisher" title="akka.stream.impl.ActorPublisher[Any]">ActorPublisher</a><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
        val <a title="scala.collection.immutable.Vector[akka.stream.impl.FanIn.SubInput[In]]" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.subscribers">subscribers</a> = <span title="=&gt; collection.immutable.Vector.type">Vector</span>.<span title="(n: Int)(f: Int =&gt; akka.stream.impl.FanIn.SubInput[In])scala.collection.immutable.Vector[akka.stream.impl.FanIn.SubInput[In]]">tabulate</span><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.inputCount" title="Int">inputCount</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="FanIn.scala.html#akka.stream.impl.FanIn" title="akka.stream.impl.FanIn.type">FanIn</a>.<a href="FanIn.scala.html#akka.stream.impl.FanIn;SubInput" title="[T](impl: akka.actor.ActorRef, id: Int)akka.stream.impl.FanIn.SubInput[T]">SubInput</a><span title="(impl: akka.actor.ActorRef, id: Int)akka.stream.impl.FanIn.SubInput[In]" class="delimiter">[</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction;In" title="In">In</a><span class="delimiter">]</span><span class="delimiter">(</span><span title="akka.actor.ActorRef">impl</span>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.subscribers.$anonfun.x$31" title="Int">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="(_1: scala.collection.immutable.Vector[akka.stream.impl.FanIn.SubInput[In]], _2: List[akka.stream.impl.ActorPublisher[Out]])(scala.collection.immutable.Vector[akka.stream.impl.FanIn.SubInput[In]], List[akka.stream.impl.ActorPublisher[Out]])" class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.subscribers" title="scala.collection.immutable.Vector[akka.stream.impl.FanIn.SubInput[In]]">subscribers</a>, <span title="(xs: akka.stream.impl.ActorPublisher[Out]*)List[akka.stream.impl.ActorPublisher[Out]]">List</span><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.publisher" title="akka.stream.impl.ActorPublisher[Out]">publisher</a><span class="delimiter">)</span><span class="delimiter">)</span>

      case <a title="akka.stream.impl.Ast.FanOutAstNode" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.fanout">fanout</a>: Ast.<a href="#akka.stream.impl.Ast;FanOutAstNode" title="akka.stream.impl.Ast.FanOutAstNode">FanOutAstNode</a> ⇒
        val <span title="akka.actor.Props">props</span> = <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.fanout" title="akka.stream.impl.Ast.FanOutAstNode">fanout</a> match <span class="delimiter">{</span>
          case Ast.Broadcast<span class="delimiter">(</span>_<span class="delimiter">)</span>                      ⇒ <a href="FanOut.scala.html#akka.stream.impl.Broadcast" title="akka.stream.impl.Broadcast.type">Broadcast</a>.<a href="FanOut.scala.html#akka.stream.impl.Broadcast.props" title="(settings: akka.stream.MaterializerSettings, outputPorts: Int)akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.transformedSettings" title="akka.stream.MaterializerSettings">transformedSettings</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.outputCount" title="Int">outputCount</a><span class="delimiter">)</span>
          case Ast.Balance<span class="delimiter">(</span><a title="Boolean" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.props.waitForAllDownstreams">waitForAllDownstreams</a>, _<span class="delimiter">)</span> ⇒ <a href="FanOut.scala.html#akka.stream.impl.Balance" title="akka.stream.impl.Balance.type">Balance</a>.<a href="FanOut.scala.html#akka.stream.impl.Balance.props" title="(settings: akka.stream.MaterializerSettings, outputPorts: Int, waitForAllDownstreams: Boolean)akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.transformedSettings" title="akka.stream.MaterializerSettings">transformedSettings</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.outputCount" title="Int">outputCount</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.props.waitForAllDownstreams" title="Boolean">waitForAllDownstreams</a><span class="delimiter">)</span>
          case Ast.Unzip<span class="delimiter">(</span>_<span class="delimiter">)</span>                          ⇒ <a href="FanOut.scala.html#akka.stream.impl.Unzip" title="akka.stream.impl.Unzip.type">Unzip</a>.<a href="FanOut.scala.html#akka.stream.impl.Unzip.props" title="(settings: akka.stream.MaterializerSettings)akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.transformedSettings" title="akka.stream.MaterializerSettings">transformedSettings</a><span class="delimiter">)</span>
          case Ast.FlexiRouteNode<span class="delimiter">(</span><a title="akka.stream.impl.FlexiRouteImpl.RouteLogicFactory[Any]" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.props.route">route</a>, _<span class="delimiter">)</span>          ⇒ <a href="FlexiRouteImpl.scala.html#akka.stream.impl.FlexiRouteImpl" title="akka.stream.impl.FlexiRouteImpl.type">FlexiRouteImpl</a>.<a href="FlexiRouteImpl.scala.html#akka.stream.impl.FlexiRouteImpl.props" title="(settings: akka.stream.MaterializerSettings, outputCount: Int, routeLogic: akka.stream.scaladsl.FlexiRoute.RouteLogic[Any])akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.transformedSettings" title="akka.stream.MaterializerSettings">transformedSettings</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.outputCount" title="Int">outputCount</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.props.route" title="akka.stream.impl.FlexiRouteImpl.RouteLogicFactory[Any]">route</a>.<a href="FlexiRouteImpl.scala.html#akka.stream.impl.FlexiRouteImpl;RouteLogicFactory.createRouteLogic" title="()akka.stream.scaladsl.FlexiRoute.RouteLogic[Any]">createRouteLogic</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        val <span title="akka.actor.ActorRef">impl</span> = <a href="#akka.stream.impl;ActorBasedFlowMaterializer.actorOf(d2f5c58631)" title="(props: akka.actor.Props, name: String, ast: akka.stream.impl.Ast.JunctionAstNode)akka.actor.ActorRef">actorOf</a><span class="delimiter">(</span><span title="akka.actor.Props">props</span>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.actorName" title="String">actorName</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.fanout" title="akka.stream.impl.Ast.FanOutAstNode">fanout</a><span class="delimiter">)</span>

        val <a title="scala.collection.immutable.Vector[akka.stream.impl.ActorPublisher[Out]{val wakeUpMsg: akka.stream.impl.FanOut.SubstreamSubscribePending}]" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.publishers">publishers</a> = <span title="=&gt; collection.immutable.Vector.type">Vector</span>.<span title="(n: Int)(f: Int =&gt; akka.stream.impl.ActorPublisher[Out]{val wakeUpMsg: akka.stream.impl.FanOut.SubstreamSubscribePending})scala.collection.immutable.Vector[akka.stream.impl.ActorPublisher[Out]{val wakeUpMsg: akka.stream.impl.FanOut.SubstreamSubscribePending}]">tabulate</span><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.outputCount" title="Int">outputCount</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Int" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.publishers.$anonfun.id">id</a> ⇒ new <a title="&lt;$anon: akka.stream.impl.ActorPublisher[Out]&gt; extends akka.stream.impl.ActorPublisher[Out]" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.publishers.$anonfun;$anon">ActorPublisher</a><span class="delimiter">[</span>Out<span class="delimiter">]</span><span class="delimiter">(</span><span title="akka.actor.ActorRef">impl</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          override val <a title="akka.stream.impl.FanOut.SubstreamSubscribePending" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.publishers.$anonfun;$anon.wakeUpMsg">wakeUpMsg</a> = <a href="FanOut.scala.html#akka.stream.impl.FanOut" title="akka.stream.impl.FanOut.type">FanOut</a>.<a href="FanOut.scala.html#akka.stream.impl.FanOut;SubstreamSubscribePending" title="(id: Int)akka.stream.impl.FanOut.SubstreamSubscribePending">SubstreamSubscribePending</a><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.publishers.$anonfun.id" title="Int">id</a><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
        <a title="akka.actor.ScalaActorRef" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.qual$2">impl</a> <a title="akka.actor.ActorRef" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.x$88">!</a> <a href="FanOut.scala.html#akka.stream.impl.FanOut" title="akka.stream.impl.FanOut.type">FanOut</a>.<a href="FanOut.scala.html#akka.stream.impl.FanOut;ExposedPublishers" title="(publishers: scala.collection.immutable.Seq[akka.stream.impl.ActorPublisher[Any]])akka.stream.impl.FanOut.ExposedPublishers">ExposedPublishers</a><a title="akka.stream.impl.FanOut.ExposedPublishers" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.x$87" class="delimiter">(</a><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.publishers" title="scala.collection.immutable.Vector[akka.stream.impl.ActorPublisher[Out]{val wakeUpMsg: akka.stream.impl.FanOut.SubstreamSubscribePending}]">publishers</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scala.collection.immutable.Seq[akka.stream.impl.ActorPublisher[Any]]" class="delimiter">[</span>immutable.<span title="scala.collection.immutable.Seq[akka.stream.impl.ActorPublisher[Any]]">Seq</span><span class="delimiter">[</span>ActorPublisher<span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
        val <a title="org.reactivestreams.Subscriber[In]" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.subscriber">subscriber</a> = <a href="../actor/ActorSubscriber.scala.html#akka.stream.actor.ActorSubscriber.apply" title="[T](ref: akka.actor.ActorRef)org.reactivestreams.Subscriber[T]">ActorSubscriber</a><span title="(ref: akka.actor.ActorRef)org.reactivestreams.Subscriber[In]" class="delimiter">[</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction;In" title="In">In</a><span class="delimiter">]</span><span class="delimiter">(</span><span title="akka.actor.ActorRef">impl</span><span class="delimiter">)</span>
        <span title="(_1: List[org.reactivestreams.Subscriber[In]], _2: scala.collection.immutable.Vector[akka.stream.impl.ActorPublisher[Out]{val wakeUpMsg: akka.stream.impl.FanOut.SubstreamSubscribePending}])(List[org.reactivestreams.Subscriber[In]], scala.collection.immutable.Vector[akka.stream.impl.ActorPublisher[Out]{val wakeUpMsg: akka.stream.impl.FanOut.SubstreamSubscribePending}])" class="delimiter">(</span><span title="(xs: org.reactivestreams.Subscriber[In]*)List[org.reactivestreams.Subscriber[In]]">List</span><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.subscriber" title="org.reactivestreams.Subscriber[In]">subscriber</a><span class="delimiter">)</span>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.publishers" title="scala.collection.immutable.Vector[akka.stream.impl.ActorPublisher[Out]{val wakeUpMsg: akka.stream.impl.FanOut.SubstreamSubscribePending}]">publishers</a><span class="delimiter">)</span>

      case <a title="akka.stream.impl.Ast.IdentityAstNode" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.identity">identity</a> @ Ast.IdentityAstNode<span class="delimiter">(</span><a title="akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.attr">attr</a><span class="delimiter">)</span> ⇒ <span class="comment">// FIXME Why is IdentityAstNode a JunctionAStNode?</span>
        <span class="comment">// We can safely ignore the materialized map that gets created here since it will be empty</span>
        val <a title="List[org.reactivestreams.Processor[In,Out]]" id="akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.id">id</a> = <span title="(xs: org.reactivestreams.Processor[In,Out]*)List[org.reactivestreams.Processor[In,Out]]">List</span><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.processorForNode" title="[In, Out](op: akka.stream.impl.Ast.AstNode, flowName: String, n: Int)(org.reactivestreams.Processor[In,Out], akka.stream.scaladsl.MaterializedMap)">processorForNode</a><span title="(op: akka.stream.impl.Ast.AstNode, flowName: String, n: Int)(org.reactivestreams.Processor[In,Out], akka.stream.scaladsl.MaterializedMap)" class="delimiter">[</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction;In" title="In">In</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction;Out" title="Out">Out</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.identityStageNode" title="akka.stream.impl.Ast.StageFactory">identityStageNode</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.attr" title="akka.stream.scaladsl.OperationAttributes">attr</a>.<a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes.name" title="=&gt; String">name</a>, <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; org.reactivestreams.Processor[In,Out]">_1</span><span class="delimiter">)</span> <span class="comment">// FIXME is `identity.name` appropriate/unique here?</span>
        <span title="(_1: List[org.reactivestreams.Processor[In,Out]], _2: List[org.reactivestreams.Processor[In,Out]])(List[org.reactivestreams.Processor[In,Out]], List[org.reactivestreams.Processor[In,Out]])" class="delimiter">(</span><a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.id" title="List[org.reactivestreams.Processor[In,Out]]">id</a>, <a href="#akka.stream.impl;ActorBasedFlowMaterializer.materializeJunction.id" title="List[org.reactivestreams.Processor[In,Out]]">id</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>akka<span class="delimiter">]</span> object <a title="akka.stream.impl.FlowNameCounter.type" id="akka.stream.impl.FlowNameCounter">FlowNameCounter</a> extends <span title="akka.actor.ExtensionId[akka.stream.impl.FlowNameCounter]">ExtensionId</span><span class="delimiter">[</span>FlowNameCounter<span class="delimiter">]</span> with <span title="akka.actor.ExtensionIdProvider">ExtensionIdProvider</span> <span class="delimiter">{</span>
  override def <a title="(system: akka.actor.ActorSystem)akka.stream.impl.FlowNameCounter" id="akka.stream.impl.FlowNameCounter.get">get</a><span class="delimiter">(</span><a title="akka.actor.ActorSystem" id="akka.stream.impl.FlowNameCounter.get.system">system</a>: <span title="akka.actor.ActorSystem">ActorSystem</span><span class="delimiter">)</span>: <a href="#akka.stream.impl;FlowNameCounter" title="akka.stream.impl.FlowNameCounter">FlowNameCounter</a> = super.<span title="(system: akka.actor.ActorSystem)akka.stream.impl.FlowNameCounter">get</span><span class="delimiter">(</span><a href="#akka.stream.impl.FlowNameCounter.get.system" title="akka.actor.ActorSystem">system</a><span class="delimiter">)</span>
  override def <a title="()akka.stream.impl.FlowNameCounter.type" id="akka.stream.impl.FlowNameCounter.lookup">lookup</a> = <a href="#akka.stream.impl.FlowNameCounter" title="akka.stream.impl.FlowNameCounter.type">FlowNameCounter</a>
  override def <a title="(system: akka.actor.ExtendedActorSystem)akka.stream.impl.FlowNameCounter" id="akka.stream.impl.FlowNameCounter.createExtension">createExtension</a><span class="delimiter">(</span><a title="akka.actor.ExtendedActorSystem" id="akka.stream.impl.FlowNameCounter.createExtension.system">system</a>: <span title="akka.actor.ExtendedActorSystem">ExtendedActorSystem</span><span class="delimiter">)</span>: <a href="#akka.stream.impl;FlowNameCounter" title="akka.stream.impl.FlowNameCounter">FlowNameCounter</a> = new <a href="#akka.stream.impl;FlowNameCounter" title="akka.stream.impl.FlowNameCounter">FlowNameCounter</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>akka<span class="delimiter">]</span> class <a title="class FlowNameCounter extends AnyRef with akka.actor.Extension" id="akka.stream.impl;FlowNameCounter">FlowNameCounter</a> extends <a href="#akka.stream.impl;FlowNameCounter" title="akka.actor.Extension">Extension</a> <span class="delimiter">{</span>
  val <a title="java.util.concurrent.atomic.AtomicLong" id="akka.stream.impl;FlowNameCounter.counter">counter</a> = new <span title="java.util.concurrent.atomic.AtomicLong">AtomicLong</span><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>akka<span class="delimiter">]</span> object <a title="akka.stream.impl.StreamSupervisor.type" id="akka.stream.impl.StreamSupervisor">StreamSupervisor</a> <a href="#akka.stream.impl.StreamSupervisor" title="akka.stream.impl.StreamSupervisor.type" class="delimiter">{</a>
  def <a title="(settings: akka.stream.MaterializerSettings)akka.actor.Props" id="akka.stream.impl.StreamSupervisor.props">props</a><span class="delimiter">(</span><a title="akka.stream.MaterializerSettings" id="akka.stream.impl.StreamSupervisor.props.settings">settings</a>: <a href="../FlowMaterializer.scala.html#akka.stream;MaterializerSettings" title="akka.stream.MaterializerSettings">MaterializerSettings</a><span class="delimiter">)</span>: <span title="akka.actor.Props">Props</span> = <span title="(creator: =&gt; akka.stream.impl.StreamSupervisor)(implicit evidence$2: scala.reflect.ClassTag[akka.stream.impl.StreamSupervisor])akka.actor.Props">Props</span><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[akka.stream.impl.StreamSupervisor]" class="delimiter">(</span>new <a href="#akka.stream.impl;StreamSupervisor" title="akka.stream.impl.StreamSupervisor">StreamSupervisor</a><span class="delimiter">(</span><a href="#akka.stream.impl.StreamSupervisor.props.settings" title="akka.stream.MaterializerSettings">settings</a><span class="delimiter">)</span><span class="delimiter">)</span>

  case class <a title="class Materialize extends AnyRef with Product with Serializable" id="akka.stream.impl.StreamSupervisor.Materialize.readResolve">Materialize</a><a href="#akka.stream.impl.StreamSupervisor.Materialize.readResolve" title="Product" class="delimiter">(</a><a title="akka.actor.Props" id="akka.stream.impl.StreamSupervisor;Materialize.props">props</a>: <span title="akka.actor.Props">Props</span>, <a title="String" id="akka.stream.impl.StreamSupervisor;Materialize.name">name</a>: <span title="String">String</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

private<span class="delimiter">[</span>akka<span class="delimiter">]</span> class <a title="class StreamSupervisor extends AnyRef with akka.actor.Actor" id="akka.stream.impl;StreamSupervisor">StreamSupervisor</a><a href="#akka.stream.impl;StreamSupervisor" title="akka.stream.impl.StreamSupervisor" class="delimiter">(</a><a title="akka.stream.MaterializerSettings" id="akka.stream.impl;StreamSupervisor.settings">settings</a>: <a href="../FlowMaterializer.scala.html#akka.stream;MaterializerSettings" title="akka.stream.MaterializerSettings">MaterializerSettings</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl;StreamSupervisor" title="akka.actor.Actor">Actor</a> <span class="delimiter">{</span>
  import <a href="#akka.stream.impl.StreamSupervisor" title="akka.stream.impl.StreamSupervisor.type">StreamSupervisor</a>._

  override def <a title="=&gt; akka.actor.SupervisorStrategy" id="akka.stream.impl;StreamSupervisor.supervisorStrategy">supervisorStrategy</a> = <span title="akka.actor.SupervisorStrategy.type">SupervisorStrategy</span>.<span title="=&gt; akka.actor.SupervisorStrategy">stoppingStrategy</span>

  def <a title="=&gt; PartialFunction[Any,Unit]" id="akka.stream.impl;StreamSupervisor.receive">receive</a> = <a title="&lt;$anon: Any =&gt; Unit&gt; extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="akka.stream.impl;StreamSupervisor.receive;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    case Materialize<span class="delimiter">(</span><a title="akka.actor.Props" id="akka.stream.impl;StreamSupervisor.receive;$anonfun.isDefinedAt.props">props</a>, <a title="String" id="akka.stream.impl;StreamSupervisor.receive;$anonfun.isDefinedAt.name">name</a><span class="delimiter">)</span> ⇒
      val <a title="akka.actor.ActorRef" id="akka.stream.impl;StreamSupervisor.receive;$anonfun.applyOrElse.impl">impl</a> = <a href="#akka.stream.impl;StreamSupervisor" title="=&gt; akka.actor.ActorContext">context</a>.<span title="(props: akka.actor.Props, name: String)akka.actor.ActorRef">actorOf</span><span class="delimiter">(</span><a href="#akka.stream.impl;StreamSupervisor.receive;$anonfun.isDefinedAt.props" title="akka.actor.Props">props</a>, <a href="#akka.stream.impl;StreamSupervisor.receive;$anonfun.isDefinedAt.name" title="String">name</a><span class="delimiter">)</span>
      <a href="#akka.stream.impl;StreamSupervisor" title="()akka.actor.ActorRef">sender</a><span title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef" class="delimiter">(</span><span class="delimiter">)</span> <a href="#akka.stream.impl;StreamSupervisor" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.stream.impl;StreamSupervisor.receive;$anonfun.applyOrElse.impl" title="akka.actor.ActorRef">impl</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>akka<span class="delimiter">]</span> object <a title="akka.stream.impl.ActorProcessorFactory.type" id="akka.stream.impl.ActorProcessorFactory">ActorProcessorFactory</a> <a href="#akka.stream.impl.ActorProcessorFactory" title="akka.stream.impl.ActorProcessorFactory.type" class="delimiter">{</a>

  import <a href="#akka.stream.impl.Ast" title="akka.stream.impl.Ast.type">Ast</a>._
  def <a title="(materializer: akka.stream.FlowMaterializer, op: akka.stream.impl.Ast.AstNode)akka.actor.Props" id="akka.stream.impl.ActorProcessorFactory.props">props</a><span class="delimiter">(</span><a title="akka.stream.FlowMaterializer" id="akka.stream.impl.ActorProcessorFactory.props.materializer">materializer</a>: <a href="../FlowMaterializer.scala.html#akka.stream;FlowMaterializer" title="akka.stream.FlowMaterializer">FlowMaterializer</a>, <a title="akka.stream.impl.Ast.AstNode" id="akka.stream.impl.ActorProcessorFactory.props.op">op</a>: <a href="#akka.stream.impl.Ast;AstNode" title="akka.stream.impl.Ast.AstNode">AstNode</a><span class="delimiter">)</span>: <span title="akka.actor.Props">Props</span> = <span class="delimiter">{</span>
    val <a title="akka.stream.MaterializerSettings" id="akka.stream.impl.ActorProcessorFactory.props.settings">settings</a> = <a href="#akka.stream.impl.ActorProcessorFactory.props.materializer" title="akka.stream.FlowMaterializer">materializer</a>.<a href="../FlowMaterializer.scala.html#akka.stream;FlowMaterializer.settings" title="=&gt; akka.stream.MaterializerSettings">settings</a> <span class="comment">// USE THIS TO AVOID CLOSING OVER THE MATERIALIZER BELOW</span>
    <a href="#akka.stream.impl.ActorProcessorFactory.props.op" title="akka.stream.impl.Ast.AstNode">op</a> match <span class="delimiter">{</span>
      case Fused<span class="delimiter">(</span><a title="scala.collection.immutable.Seq[akka.stream.stage.Stage[_, _]]" id="akka.stream.impl.ActorProcessorFactory.props.ops">ops</a>, _<span class="delimiter">)</span>              ⇒ <a href="fusing/ActorInterpreter.scala.html#akka.stream.impl.fusing.ActorInterpreter" title="akka.stream.impl.fusing.ActorInterpreter.type">ActorInterpreter</a>.<a href="fusing/ActorInterpreter.scala.html#akka.stream.impl.fusing.ActorInterpreter.props" title="(settings: akka.stream.MaterializerSettings, ops: Seq[akka.stream.stage.Stage[_, _]])akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl.ActorProcessorFactory.props.settings" title="akka.stream.MaterializerSettings">settings</a>, <a href="#akka.stream.impl.ActorProcessorFactory.props.ops" title="scala.collection.immutable.Seq[akka.stream.stage.Stage[_, _]]">ops</a><span class="delimiter">)</span>
      case Map<span class="delimiter">(</span><span title="Any =&gt; Any">f</span>, _<span class="delimiter">)</span>                  ⇒ <a href="fusing/ActorInterpreter.scala.html#akka.stream.impl.fusing.ActorInterpreter" title="akka.stream.impl.fusing.ActorInterpreter.type">ActorInterpreter</a>.<a href="fusing/ActorInterpreter.scala.html#akka.stream.impl.fusing.ActorInterpreter.props" title="(settings: akka.stream.MaterializerSettings, ops: Seq[akka.stream.stage.Stage[_, _]])akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl.ActorProcessorFactory.props.settings" title="akka.stream.MaterializerSettings">settings</a>, <span title="(xs: akka.stream.impl.fusing.Map[Any,Any]*)List[akka.stream.impl.fusing.Map[Any,Any]]">List</span><span class="delimiter">(</span>fusing.<a href="fusing/Ops.scala.html#akka.stream.impl.fusing;Map" title="(f: Any =&gt; Any)akka.stream.impl.fusing.Map[Any,Any]">Map</a><span class="delimiter">(</span><span title="Any =&gt; Any">f</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      case Filter<span class="delimiter">(</span><span title="Any =&gt; Boolean">p</span>, _<span class="delimiter">)</span>               ⇒ <a href="fusing/ActorInterpreter.scala.html#akka.stream.impl.fusing.ActorInterpreter" title="akka.stream.impl.fusing.ActorInterpreter.type">ActorInterpreter</a>.<a href="fusing/ActorInterpreter.scala.html#akka.stream.impl.fusing.ActorInterpreter.props" title="(settings: akka.stream.MaterializerSettings, ops: Seq[akka.stream.stage.Stage[_, _]])akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl.ActorProcessorFactory.props.settings" title="akka.stream.MaterializerSettings">settings</a>, <span title="(xs: akka.stream.impl.fusing.Filter[Any]*)List[akka.stream.impl.fusing.Filter[Any]]">List</span><span class="delimiter">(</span>fusing.<a href="fusing/Ops.scala.html#akka.stream.impl.fusing;Filter" title="(p: Any =&gt; Boolean)akka.stream.impl.fusing.Filter[Any]">Filter</a><span class="delimiter">(</span><span title="Any =&gt; Boolean">p</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      case Drop<span class="delimiter">(</span><span title="Int">n</span>, _<span class="delimiter">)</span>                 ⇒ <a href="fusing/ActorInterpreter.scala.html#akka.stream.impl.fusing.ActorInterpreter" title="akka.stream.impl.fusing.ActorInterpreter.type">ActorInterpreter</a>.<a href="fusing/ActorInterpreter.scala.html#akka.stream.impl.fusing.ActorInterpreter.props" title="(settings: akka.stream.MaterializerSettings, ops: Seq[akka.stream.stage.Stage[_, _]])akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl.ActorProcessorFactory.props.settings" title="akka.stream.MaterializerSettings">settings</a>, <span title="(xs: akka.stream.impl.fusing.Drop[Nothing]*)List[akka.stream.impl.fusing.Drop[Nothing]]">List</span><span class="delimiter">(</span>fusing.<a href="fusing/Ops.scala.html#akka.stream.impl.fusing;Drop" title="(count: Int)akka.stream.impl.fusing.Drop[Nothing]">Drop</a><span class="delimiter">(</span><span title="Int">n</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      case Take<span class="delimiter">(</span><span title="Int">n</span>, _<span class="delimiter">)</span>                 ⇒ <a href="fusing/ActorInterpreter.scala.html#akka.stream.impl.fusing.ActorInterpreter" title="akka.stream.impl.fusing.ActorInterpreter.type">ActorInterpreter</a>.<a href="fusing/ActorInterpreter.scala.html#akka.stream.impl.fusing.ActorInterpreter.props" title="(settings: akka.stream.MaterializerSettings, ops: Seq[akka.stream.stage.Stage[_, _]])akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl.ActorProcessorFactory.props.settings" title="akka.stream.MaterializerSettings">settings</a>, <span title="(xs: akka.stream.impl.fusing.Take[Nothing]*)List[akka.stream.impl.fusing.Take[Nothing]]">List</span><span class="delimiter">(</span>fusing.<a href="fusing/Ops.scala.html#akka.stream.impl.fusing;Take" title="(count: Int)akka.stream.impl.fusing.Take[Nothing]">Take</a><span class="delimiter">(</span><span title="Int">n</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      case Collect<span class="delimiter">(</span><a title="PartialFunction[Any,Any]" id="akka.stream.impl.ActorProcessorFactory.props.pf">pf</a>, _<span class="delimiter">)</span>             ⇒ <a href="fusing/ActorInterpreter.scala.html#akka.stream.impl.fusing.ActorInterpreter" title="akka.stream.impl.fusing.ActorInterpreter.type">ActorInterpreter</a>.<a href="fusing/ActorInterpreter.scala.html#akka.stream.impl.fusing.ActorInterpreter.props" title="(settings: akka.stream.MaterializerSettings, ops: Seq[akka.stream.stage.Stage[_, _]])akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl.ActorProcessorFactory.props.settings" title="akka.stream.MaterializerSettings">settings</a>, <span title="(xs: akka.stream.impl.fusing.Collect[Any,Any]*)List[akka.stream.impl.fusing.Collect[Any,Any]]">List</span><span class="delimiter">(</span>fusing.<a href="fusing/Ops.scala.html#akka.stream.impl.fusing;Collect" title="(pf: PartialFunction[Any,Any])akka.stream.impl.fusing.Collect[Any,Any]">Collect</a><span class="delimiter">(</span><a href="#akka.stream.impl.ActorProcessorFactory.props.pf" title="PartialFunction[Any,Any]">pf</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      case Scan<span class="delimiter">(</span><a title="Any" id="akka.stream.impl.ActorProcessorFactory.props.z">z</a>, <span title="(Any, Any) =&gt; Any">f</span>, _<span class="delimiter">)</span>              ⇒ <a href="fusing/ActorInterpreter.scala.html#akka.stream.impl.fusing.ActorInterpreter" title="akka.stream.impl.fusing.ActorInterpreter.type">ActorInterpreter</a>.<a href="fusing/ActorInterpreter.scala.html#akka.stream.impl.fusing.ActorInterpreter.props" title="(settings: akka.stream.MaterializerSettings, ops: Seq[akka.stream.stage.Stage[_, _]])akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl.ActorProcessorFactory.props.settings" title="akka.stream.MaterializerSettings">settings</a>, <span title="(xs: akka.stream.impl.fusing.Scan[Any,Any]*)List[akka.stream.impl.fusing.Scan[Any,Any]]">List</span><span class="delimiter">(</span>fusing.<a href="fusing/Ops.scala.html#akka.stream.impl.fusing;Scan" title="(zero: Any, f: (Any, Any) =&gt; Any)akka.stream.impl.fusing.Scan[Any,Any]">Scan</a><span class="delimiter">(</span><a href="#akka.stream.impl.ActorProcessorFactory.props.z" title="Any">z</a>, <span title="(Any, Any) =&gt; Any">f</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      case Expand<span class="delimiter">(</span><span title="Any =&gt; Any">s</span>, <span title="Any =&gt; (Any, Any)">f</span>, _<span class="delimiter">)</span>            ⇒ <a href="fusing/ActorInterpreter.scala.html#akka.stream.impl.fusing.ActorInterpreter" title="akka.stream.impl.fusing.ActorInterpreter.type">ActorInterpreter</a>.<a href="fusing/ActorInterpreter.scala.html#akka.stream.impl.fusing.ActorInterpreter.props" title="(settings: akka.stream.MaterializerSettings, ops: Seq[akka.stream.stage.Stage[_, _]])akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl.ActorProcessorFactory.props.settings" title="akka.stream.MaterializerSettings">settings</a>, <span title="(xs: akka.stream.impl.fusing.Expand[Any,Any,Any]*)List[akka.stream.impl.fusing.Expand[Any,Any,Any]]">List</span><span class="delimiter">(</span>fusing.<a href="fusing/Ops.scala.html#akka.stream.impl.fusing;Expand" title="(seed: Any =&gt; Any, extrapolate: Any =&gt; (Any, Any))akka.stream.impl.fusing.Expand[Any,Any,Any]">Expand</a><span class="delimiter">(</span><span title="Any =&gt; Any">s</span>, <span title="Any =&gt; (Any, Any)">f</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      case Conflate<span class="delimiter">(</span><span title="Any =&gt; Any">s</span>, <span title="(Any, Any) =&gt; Any">f</span>, _<span class="delimiter">)</span>          ⇒ <a href="fusing/ActorInterpreter.scala.html#akka.stream.impl.fusing.ActorInterpreter" title="akka.stream.impl.fusing.ActorInterpreter.type">ActorInterpreter</a>.<a href="fusing/ActorInterpreter.scala.html#akka.stream.impl.fusing.ActorInterpreter.props" title="(settings: akka.stream.MaterializerSettings, ops: Seq[akka.stream.stage.Stage[_, _]])akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl.ActorProcessorFactory.props.settings" title="akka.stream.MaterializerSettings">settings</a>, <span title="(xs: akka.stream.impl.fusing.Conflate[Any,Any]*)List[akka.stream.impl.fusing.Conflate[Any,Any]]">List</span><span class="delimiter">(</span>fusing.<a href="fusing/Ops.scala.html#akka.stream.impl.fusing;Conflate" title="(seed: Any =&gt; Any, aggregate: (Any, Any) =&gt; Any)akka.stream.impl.fusing.Conflate[Any,Any]">Conflate</a><span class="delimiter">(</span><span title="Any =&gt; Any">s</span>, <span title="(Any, Any) =&gt; Any">f</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      case Buffer<span class="delimiter">(</span><span title="Int">n</span>, <span title="akka.stream.OverflowStrategy">s</span>, _<span class="delimiter">)</span>            ⇒ <a href="fusing/ActorInterpreter.scala.html#akka.stream.impl.fusing.ActorInterpreter" title="akka.stream.impl.fusing.ActorInterpreter.type">ActorInterpreter</a>.<a href="fusing/ActorInterpreter.scala.html#akka.stream.impl.fusing.ActorInterpreter.props" title="(settings: akka.stream.MaterializerSettings, ops: Seq[akka.stream.stage.Stage[_, _]])akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl.ActorProcessorFactory.props.settings" title="akka.stream.MaterializerSettings">settings</a>, <span title="(xs: akka.stream.impl.fusing.Buffer[Nothing]*)List[akka.stream.impl.fusing.Buffer[Nothing]]">List</span><span class="delimiter">(</span>fusing.<a href="fusing/Ops.scala.html#akka.stream.impl.fusing;Buffer" title="(size: Int, overflowStrategy: akka.stream.OverflowStrategy)akka.stream.impl.fusing.Buffer[Nothing]">Buffer</a><span class="delimiter">(</span><span title="Int">n</span>, <span title="akka.stream.OverflowStrategy">s</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      case MapConcat<span class="delimiter">(</span><span title="Any =&gt; scala.collection.immutable.Seq[Any]">f</span>, _<span class="delimiter">)</span>            ⇒ <a href="fusing/ActorInterpreter.scala.html#akka.stream.impl.fusing.ActorInterpreter" title="akka.stream.impl.fusing.ActorInterpreter.type">ActorInterpreter</a>.<a href="fusing/ActorInterpreter.scala.html#akka.stream.impl.fusing.ActorInterpreter.props" title="(settings: akka.stream.MaterializerSettings, ops: Seq[akka.stream.stage.Stage[_, _]])akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl.ActorProcessorFactory.props.settings" title="akka.stream.MaterializerSettings">settings</a>, <span title="(xs: akka.stream.impl.fusing.MapConcat[Any,Any]*)List[akka.stream.impl.fusing.MapConcat[Any,Any]]">List</span><span class="delimiter">(</span>fusing.<a href="fusing/Ops.scala.html#akka.stream.impl.fusing;MapConcat" title="(f: Any =&gt; scala.collection.immutable.Seq[Any])akka.stream.impl.fusing.MapConcat[Any,Any]">MapConcat</a><span class="delimiter">(</span><span title="Any =&gt; scala.collection.immutable.Seq[Any]">f</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      case MapAsync<span class="delimiter">(</span><span title="Any =&gt; scala.concurrent.Future[Any]">f</span>, _<span class="delimiter">)</span>             ⇒ <a href="MapAsyncProcessorImpl.scala.html#akka.stream.impl.MapAsyncProcessorImpl" title="akka.stream.impl.MapAsyncProcessorImpl.type">MapAsyncProcessorImpl</a>.<a href="MapAsyncProcessorImpl.scala.html#akka.stream.impl.MapAsyncProcessorImpl.props" title="(settings: akka.stream.MaterializerSettings, f: Any =&gt; scala.concurrent.Future[Any])akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl.ActorProcessorFactory.props.settings" title="akka.stream.MaterializerSettings">settings</a>, <span title="Any =&gt; scala.concurrent.Future[Any]">f</span><span class="delimiter">)</span>
      case MapAsyncUnordered<span class="delimiter">(</span><span title="Any =&gt; scala.concurrent.Future[Any]">f</span>, _<span class="delimiter">)</span>    ⇒ <a href="MapAsyncUnorderedProcessorImpl.scala.html#akka.stream.impl.MapAsyncUnorderedProcessorImpl" title="akka.stream.impl.MapAsyncUnorderedProcessorImpl.type">MapAsyncUnorderedProcessorImpl</a>.<a href="MapAsyncUnorderedProcessorImpl.scala.html#akka.stream.impl.MapAsyncUnorderedProcessorImpl.props" title="(settings: akka.stream.MaterializerSettings, f: Any =&gt; scala.concurrent.Future[Any])akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl.ActorProcessorFactory.props.settings" title="akka.stream.MaterializerSettings">settings</a>, <span title="Any =&gt; scala.concurrent.Future[Any]">f</span><span class="delimiter">)</span>
      case Grouped<span class="delimiter">(</span><span title="Int">n</span>, _<span class="delimiter">)</span>              ⇒ <a href="fusing/ActorInterpreter.scala.html#akka.stream.impl.fusing.ActorInterpreter" title="akka.stream.impl.fusing.ActorInterpreter.type">ActorInterpreter</a>.<a href="fusing/ActorInterpreter.scala.html#akka.stream.impl.fusing.ActorInterpreter.props" title="(settings: akka.stream.MaterializerSettings, ops: Seq[akka.stream.stage.Stage[_, _]])akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl.ActorProcessorFactory.props.settings" title="akka.stream.MaterializerSettings">settings</a>, <span title="(xs: akka.stream.impl.fusing.Grouped[Nothing]*)List[akka.stream.impl.fusing.Grouped[Nothing]]">List</span><span class="delimiter">(</span>fusing.<a href="fusing/Ops.scala.html#akka.stream.impl.fusing;Grouped" title="(n: Int)akka.stream.impl.fusing.Grouped[Nothing]">Grouped</a><span class="delimiter">(</span><span title="Int">n</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      case GroupBy<span class="delimiter">(</span><span title="Any =&gt; Any">f</span>, _<span class="delimiter">)</span>              ⇒ <a href="GroupByProcessorImpl.scala.html#akka.stream.impl.GroupByProcessorImpl" title="akka.stream.impl.GroupByProcessorImpl.type">GroupByProcessorImpl</a>.<a href="GroupByProcessorImpl.scala.html#akka.stream.impl.GroupByProcessorImpl.props" title="(settings: akka.stream.MaterializerSettings, keyFor: Any =&gt; Any)akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl.ActorProcessorFactory.props.settings" title="akka.stream.MaterializerSettings">settings</a>, <span title="Any =&gt; Any">f</span><span class="delimiter">)</span>
      case PrefixAndTail<span class="delimiter">(</span><span title="Int">n</span>, _<span class="delimiter">)</span>        ⇒ <a href="PrefixAndTailImpl.scala.html#akka.stream.impl.PrefixAndTailImpl" title="akka.stream.impl.PrefixAndTailImpl.type">PrefixAndTailImpl</a>.<a href="PrefixAndTailImpl.scala.html#akka.stream.impl.PrefixAndTailImpl.props" title="(settings: akka.stream.MaterializerSettings, takeMax: Int)akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl.ActorProcessorFactory.props.settings" title="akka.stream.MaterializerSettings">settings</a>, <span title="Int">n</span><span class="delimiter">)</span>
      case SplitWhen<span class="delimiter">(</span><span title="Any =&gt; Boolean">p</span>, _<span class="delimiter">)</span>            ⇒ <a href="SplitWhenProcessorImpl.scala.html#akka.stream.impl.SplitWhenProcessorImpl" title="akka.stream.impl.SplitWhenProcessorImpl.type">SplitWhenProcessorImpl</a>.<a href="SplitWhenProcessorImpl.scala.html#akka.stream.impl.SplitWhenProcessorImpl.props" title="(settings: akka.stream.MaterializerSettings, splitPredicate: Any =&gt; Boolean)akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl.ActorProcessorFactory.props.settings" title="akka.stream.MaterializerSettings">settings</a>, <span title="Any =&gt; Boolean">p</span><span class="delimiter">)</span>
      case ConcatAll<span class="delimiter">(</span>_<span class="delimiter">)</span>               ⇒ <a href="ConcatAllImpl.scala.html#akka.stream.impl.ConcatAllImpl" title="akka.stream.impl.ConcatAllImpl.type">ConcatAllImpl</a>.<a href="ConcatAllImpl.scala.html#akka.stream.impl.ConcatAllImpl.props" title="(materializer: akka.stream.FlowMaterializer)akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl.ActorProcessorFactory.props.materializer" title="akka.stream.FlowMaterializer">materializer</a><span class="delimiter">)</span> <span class="comment">//FIXME closes over the materializer, is this good?</span>
      case StageFactory<span class="delimiter">(</span><span title="() =&gt; akka.stream.stage.Stage[_, _]">mkStage</span>, _<span class="delimiter">)</span>   ⇒ <a href="fusing/ActorInterpreter.scala.html#akka.stream.impl.fusing.ActorInterpreter" title="akka.stream.impl.fusing.ActorInterpreter.type">ActorInterpreter</a>.<a href="fusing/ActorInterpreter.scala.html#akka.stream.impl.fusing.ActorInterpreter.props" title="(settings: akka.stream.MaterializerSettings, ops: Seq[akka.stream.stage.Stage[_, _]])akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl.ActorProcessorFactory.props.settings" title="akka.stream.MaterializerSettings">settings</a>, <span title="(xs: akka.stream.stage.Stage[_$1,_$2]*)List[akka.stream.stage.Stage[_$1,_$2]]">List</span><span class="delimiter">(</span><span title="()akka.stream.stage.Stage[_, _]">mkStage</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      case TimerTransform<span class="delimiter">(</span><span title="() =&gt; akka.stream.TimerTransformer[Any,Any]">mkStage</span>, _<span class="delimiter">)</span> ⇒ <a href="TimerTransformerProcessorsImpl.scala.html#akka.stream.impl.TimerTransformerProcessorsImpl" title="akka.stream.impl.TimerTransformerProcessorsImpl.type">TimerTransformerProcessorsImpl</a>.<a href="TimerTransformerProcessorsImpl.scala.html#akka.stream.impl.TimerTransformerProcessorsImpl.props" title="(settings: akka.stream.MaterializerSettings, transformer: akka.stream.TimerTransformer[Any,Any])akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.stream.impl.ActorProcessorFactory.props.settings" title="akka.stream.MaterializerSettings">settings</a>, <span title="()akka.stream.TimerTransformer[Any,Any]">mkStage</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="[I, O](impl: akka.actor.ActorRef)akka.stream.impl.ActorProcessor[I,O]" id="akka.stream.impl.ActorProcessorFactory.apply">apply</a><span class="delimiter">[</span><a title="" id="akka.stream.impl.ActorProcessorFactory.apply;I">I</a>, <a title="" id="akka.stream.impl.ActorProcessorFactory.apply;O">O</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.stream.impl.ActorProcessorFactory.apply.impl">impl</a>: <span title="akka.actor.ActorRef">ActorRef</span><span class="delimiter">)</span>: <a href="ActorProcessor.scala.html#akka.stream.impl;ActorProcessor" title="akka.stream.impl.ActorProcessor[I,O]">ActorProcessor</a><span class="delimiter">[</span>I, O<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="akka.stream.impl.ActorProcessor[I,O]" id="akka.stream.impl.ActorProcessorFactory.apply.p">p</a> = new <a href="ActorProcessor.scala.html#akka.stream.impl;ActorProcessor" title="akka.stream.impl.ActorProcessor[I,O]">ActorProcessor</a><span class="delimiter">[</span>I, O<span class="delimiter">]</span><span class="delimiter">(</span><a href="#akka.stream.impl.ActorProcessorFactory.apply.impl" title="akka.actor.ActorRef">impl</a><span class="delimiter">)</span>
    <a href="#akka.stream.impl.ActorProcessorFactory.apply.impl" title="akka.actor.ScalaActorRef" id="akka.stream.impl.ActorProcessorFactory.apply.qual$3">impl</a> <a title="akka.actor.ActorRef" id="akka.stream.impl.ActorProcessorFactory.apply.x$90">!</a> <a href="Messages.scala.html#akka.stream.impl;ExposedPublisher" title="(publisher: akka.stream.impl.ActorPublisher[Any])akka.stream.impl.ExposedPublisher">ExposedPublisher</a><a title="akka.stream.impl.ExposedPublisher" id="akka.stream.impl.ActorProcessorFactory.apply.x$89" class="delimiter">(</a><a href="#akka.stream.impl.ActorProcessorFactory.apply.p" title="akka.stream.impl.ActorProcessor[I,O]">p</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="akka.stream.impl.ActorPublisher[Any]" class="delimiter">[</span><a href="ActorPublisher.scala.html#akka.stream.impl;ActorPublisher" title="akka.stream.impl.ActorPublisher[Any]">ActorPublisher</a><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
    <a href="#akka.stream.impl.ActorProcessorFactory.apply.p" title="akka.stream.impl.ActorProcessor[I,O]">p</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
