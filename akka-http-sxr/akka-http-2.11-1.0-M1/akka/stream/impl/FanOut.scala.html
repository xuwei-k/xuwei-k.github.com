<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>akka/stream/impl/FanOut.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (C) 2009-2014 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
package akka.stream.impl

import scala.collection.immutable

import akka.actor.Actor
import akka.actor.ActorLogging
import akka.actor.ActorRef
import akka.actor.Props
import akka.stream.MaterializerSettings
import org.reactivestreams.Subscription

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>akka<span class="delimiter">]</span> object <a title="akka.stream.impl.FanOut.type" id="akka.stream.impl.FanOut">FanOut</a> <a href="#akka.stream.impl.FanOut" title="akka.stream.impl.FanOut.type" class="delimiter">{</a>

  case class <a title="class SubstreamRequestMore extends AnyRef with Product with Serializable" id="akka.stream.impl.FanOut.SubstreamRequestMore.readResolve">SubstreamRequestMore</a><a href="#akka.stream.impl.FanOut.SubstreamRequestMore.readResolve" title="Product" class="delimiter">(</a><a title="Int" id="akka.stream.impl.FanOut;SubstreamRequestMore.id">id</a>: <span title="Int">Int</span>, <a title="Long" id="akka.stream.impl.FanOut;SubstreamRequestMore.demand">demand</a>: <span title="Long">Long</span><span class="delimiter">)</span>
  case class <a title="class SubstreamCancel extends AnyRef with Product with Serializable" id="akka.stream.impl.FanOut.SubstreamCancel.readResolve">SubstreamCancel</a><a href="#akka.stream.impl.FanOut.SubstreamCancel.readResolve" title="Product" class="delimiter">(</a><a title="Int" id="akka.stream.impl.FanOut;SubstreamCancel.id">id</a>: <span title="Int">Int</span><span class="delimiter">)</span>
  case class <a title="class SubstreamSubscribePending extends AnyRef with Product with Serializable" id="akka.stream.impl.FanOut.SubstreamSubscribePending.readResolve">SubstreamSubscribePending</a><a href="#akka.stream.impl.FanOut.SubstreamSubscribePending.readResolve" title="Product" class="delimiter">(</a><a title="Int" id="akka.stream.impl.FanOut;SubstreamSubscribePending.id">id</a>: <span title="Int">Int</span><span class="delimiter">)</span>

  class <a title="class SubstreamSubscription extends Object with org.reactivestreams.Subscription" id="akka.stream.impl.FanOut;SubstreamSubscription">SubstreamSubscription</a><a href="#akka.stream.impl.FanOut;SubstreamSubscription" title="akka.stream.impl.FanOut.SubstreamSubscription" class="delimiter">(</a>val <a title="akka.actor.ActorRef" id="akka.stream.impl.FanOut;SubstreamSubscription.parent">parent</a>: <span title="akka.actor.ActorRef">ActorRef</span>, val <a title="Int" id="akka.stream.impl.FanOut;SubstreamSubscription.id">id</a>: <span title="Int">Int</span><span class="delimiter">)</span> extends <a href="#akka.stream.impl.FanOut;SubstreamSubscription" title="org.reactivestreams.Subscription">Subscription</a> <span class="delimiter">{</span>
    override def <a title="(elements: Long)Unit" id="akka.stream.impl.FanOut;SubstreamSubscription.request">request</a><span class="delimiter">(</span><a title="Long" id="akka.stream.impl.FanOut;SubstreamSubscription.request.elements">elements</a>: <span title="Long">Long</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
      if <span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;SubstreamSubscription.request.elements" title="Long">elements</a> <span title="(x: Int)Boolean">&lt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> throw new <span title="IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span><span title="String(&quot;The number of requested elements must be &gt; 0&quot;)" class="string">&quot;The number of requested elements must be &gt; 0&quot;</span><span class="delimiter">)</span>
      else <a href="#akka.stream.impl.FanOut;SubstreamSubscription.parent" title="akka.actor.ScalaActorRef" id="akka.stream.impl.FanOut;SubstreamSubscription.request.qual$1">parent</a> <a title="akka.actor.ActorRef" id="akka.stream.impl.FanOut;SubstreamSubscription.request.x$3">!</a> <a href="#akka.stream.impl.FanOut.SubstreamRequestMore.readResolve" title="(id: Int, demand: Long)akka.stream.impl.FanOut.SubstreamRequestMore">SubstreamRequestMore</a><a title="akka.stream.impl.FanOut.SubstreamRequestMore" id="akka.stream.impl.FanOut;SubstreamSubscription.request.x$2" class="delimiter">(</a><a href="#akka.stream.impl.FanOut;SubstreamSubscription.id" title="=&gt; Int">id</a>, <a href="#akka.stream.impl.FanOut;SubstreamSubscription.request.elements" title="Long">elements</a><span class="delimiter">)</span>
    override def <a title="()Unit" id="akka.stream.impl.FanOut;SubstreamSubscription.cancel">cancel</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.stream.impl.FanOut;SubstreamSubscription.parent" title="akka.actor.ScalaActorRef" id="akka.stream.impl.FanOut;SubstreamSubscription.cancel.qual$2">parent</a> <a title="akka.actor.ActorRef" id="akka.stream.impl.FanOut;SubstreamSubscription.cancel.x$5">!</a> <a href="#akka.stream.impl.FanOut.SubstreamCancel.readResolve" title="(id: Int)akka.stream.impl.FanOut.SubstreamCancel">SubstreamCancel</a><a title="akka.stream.impl.FanOut.SubstreamCancel" id="akka.stream.impl.FanOut;SubstreamSubscription.cancel.x$4" class="delimiter">(</a><a href="#akka.stream.impl.FanOut;SubstreamSubscription.id" title="=&gt; Int">id</a><span class="delimiter">)</span>
    override def <a title="()String" id="akka.stream.impl.FanOut;SubstreamSubscription.toString">toString</a> = <span title="String(&quot;SubstreamSubscription&quot;)" class="string">&quot;SubstreamSubscription&quot;</span> <span title="(x$1: Any)String">+</span> <span title="System.type">System</span>.<span title="(x$1: Any)Int">identityHashCode</span><span class="delimiter">(</span>this<span class="delimiter">)</span>
  <span class="delimiter">}</span>

  class <a title="class FanoutOutputs extends akka.stream.impl.SimpleOutputs" id="akka.stream.impl.FanOut;FanoutOutputs">FanoutOutputs</a><a href="#akka.stream.impl.FanOut;FanoutOutputs" title="akka.stream.impl.FanOut.FanoutOutputs" class="delimiter">(</a>val <a title="Int" id="akka.stream.impl.FanOut;FanoutOutputs.id">id</a>: <span title="Int">Int</span>, <a title="akka.actor.ActorRef" id="akka.stream.impl.FanOut;FanoutOutputs._impl">_impl</a>: <span title="akka.actor.ActorRef">ActorRef</span>, <a title="akka.stream.impl.Pump" id="akka.stream.impl.FanOut;FanoutOutputs._pump">_pump</a>: <a href="Transfer.scala.html#akka.stream.impl;Pump" title="akka.stream.impl.Pump">Pump</a><span class="delimiter">)</span> extends <a href="ActorProcessor.scala.html#akka.stream.impl;SimpleOutputs" title="akka.stream.impl.SimpleOutputs">SimpleOutputs</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;FanoutOutputs._impl" title="akka.actor.ActorRef">_impl</a>, <a href="#akka.stream.impl.FanOut;FanoutOutputs._pump" title="akka.stream.impl.Pump">_pump</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    override def <a title="()org.reactivestreams.Subscription" id="akka.stream.impl.FanOut;FanoutOutputs.createSubscription">createSubscription</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="org.reactivestreams.Subscription">Subscription</span> = new <a href="#akka.stream.impl.FanOut;SubstreamSubscription" title="akka.stream.impl.FanOut.SubstreamSubscription">SubstreamSubscription</a><span class="delimiter">(</span><a href="ActorProcessor.scala.html#akka.stream.impl;SimpleOutputs.actor" title="=&gt; akka.actor.ActorRef">actor</a>, <a href="#akka.stream.impl.FanOut;FanoutOutputs.id" title="=&gt; Int">id</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  case class <a title="class ExposedPublishers extends AnyRef with Product with Serializable" id="akka.stream.impl.FanOut.ExposedPublishers.readResolve">ExposedPublishers</a><a href="#akka.stream.impl.FanOut.ExposedPublishers.readResolve" title="Product" class="delimiter">(</a><a title="scala.collection.immutable.Seq[akka.stream.impl.ActorPublisher[Any]]" id="akka.stream.impl.FanOut;ExposedPublishers.publishers">publishers</a>: immutable.<span title="scala.collection.immutable.Seq[akka.stream.impl.ActorPublisher[Any]]">Seq</span><span class="delimiter">[</span>ActorPublisher<span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>

  class <a title="class OutputBunch extends AnyRef" id="akka.stream.impl.FanOut;OutputBunch">OutputBunch</a><a href="#akka.stream.impl.FanOut;OutputBunch" title="akka.stream.impl.FanOut.OutputBunch" class="delimiter">(</a><a title="Int" id="akka.stream.impl.FanOut;OutputBunch.outputCount">outputCount</a>: <span title="Int">Int</span>, <a title="akka.actor.ActorRef" id="akka.stream.impl.FanOut;OutputBunch.impl">impl</a>: <span title="akka.actor.ActorRef">ActorRef</span>, <a title="akka.stream.impl.Pump" id="akka.stream.impl.FanOut;OutputBunch.pump">pump</a>: <a href="Transfer.scala.html#akka.stream.impl;Pump" title="akka.stream.impl.Pump">Pump</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    private var <a title="Boolean" id="akka.stream.impl.FanOut;OutputBunch.bunchCancelled_=">bunchCancelled</a> = false

    private val <a title="Array[akka.stream.impl.FanOut.FanoutOutputs]" id="akka.stream.impl.FanOut;OutputBunch.outputs">outputs</a> = <span title="Array.type">Array</span>.<span title="(n: Int)(f: Int =&gt; akka.stream.impl.FanOut.FanoutOutputs)(implicit evidence$14: scala.reflect.ClassTag[akka.stream.impl.FanOut.FanoutOutputs])Array[akka.stream.impl.FanOut.FanoutOutputs]">tabulate</span><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.outputCount" title="Int">outputCount</a><span class="delimiter">)</span><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[akka.stream.impl.FanOut.FanoutOutputs]" class="delimiter">(</span>new <a href="#akka.stream.impl.FanOut;FanoutOutputs" title="akka.stream.impl.FanOut.FanoutOutputs">FanoutOutputs</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.outputs.$anonfun.x$1" title="Int">_</a>, <a href="#akka.stream.impl.FanOut;OutputBunch.impl" title="akka.actor.ActorRef">impl</a>, <a href="#akka.stream.impl.FanOut;OutputBunch.pump" title="akka.stream.impl.Pump">pump</a><span class="delimiter">)</span><span class="delimiter">)</span>

    private val <a title="Array[Boolean]" id="akka.stream.impl.FanOut;OutputBunch.marked">marked</a> = <span title="Array.type">Array</span>.<span title="[T](n1: Int)(implicit evidence$3: scala.reflect.ClassTag[T])Array[T]">ofDim</span><span title="(n1: Int)(implicit evidence$3: scala.reflect.ClassTag[Boolean])Array[Boolean]" class="delimiter">[</span><span title="Boolean">Boolean</span><span class="delimiter">]</span><span title="=&gt; scala.reflect.ClassTag[Boolean]" class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.outputCount" title="Int">outputCount</a><span class="delimiter">)</span>
    private var <a title="Int" id="akka.stream.impl.FanOut;OutputBunch.markedCount_=">markedCount</a> = <span title="Int(0)" class="int">0</span>
    private val <a title="Array[Boolean]" id="akka.stream.impl.FanOut;OutputBunch.pending">pending</a> = <span title="Array.type">Array</span>.<span title="[T](n1: Int)(implicit evidence$3: scala.reflect.ClassTag[T])Array[T]">ofDim</span><span title="(n1: Int)(implicit evidence$3: scala.reflect.ClassTag[Boolean])Array[Boolean]" class="delimiter">[</span><span title="Boolean">Boolean</span><span class="delimiter">]</span><span title="=&gt; scala.reflect.ClassTag[Boolean]" class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.outputCount" title="Int">outputCount</a><span class="delimiter">)</span>
    private var <a title="Int" id="akka.stream.impl.FanOut;OutputBunch.markedPending_=">markedPending</a> = <span title="Int(0)" class="int">0</span>
    private val <a title="Array[Boolean]" id="akka.stream.impl.FanOut;OutputBunch.cancelled">cancelled</a> = <span title="Array.type">Array</span>.<span title="[T](n1: Int)(implicit evidence$3: scala.reflect.ClassTag[T])Array[T]">ofDim</span><span title="(n1: Int)(implicit evidence$3: scala.reflect.ClassTag[Boolean])Array[Boolean]" class="delimiter">[</span><span title="Boolean">Boolean</span><span class="delimiter">]</span><span title="=&gt; scala.reflect.ClassTag[Boolean]" class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.outputCount" title="Int">outputCount</a><span class="delimiter">)</span>
    private var <a title="Int" id="akka.stream.impl.FanOut;OutputBunch.markedCancelled_=">markedCancelled</a> = <span title="Int(0)" class="int">0</span>
    private val <a title="Array[Boolean]" id="akka.stream.impl.FanOut;OutputBunch.completed">completed</a> = <span title="Array.type">Array</span>.<span title="[T](n1: Int)(implicit evidence$3: scala.reflect.ClassTag[T])Array[T]">ofDim</span><span title="(n1: Int)(implicit evidence$3: scala.reflect.ClassTag[Boolean])Array[Boolean]" class="delimiter">[</span><span title="Boolean">Boolean</span><span class="delimiter">]</span><span title="=&gt; scala.reflect.ClassTag[Boolean]" class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.outputCount" title="Int">outputCount</a><span class="delimiter">)</span>
    private val <a title="Array[Boolean]" id="akka.stream.impl.FanOut;OutputBunch.errored">errored</a> = <span title="Array.type">Array</span>.<span title="[T](n1: Int)(implicit evidence$3: scala.reflect.ClassTag[T])Array[T]">ofDim</span><span title="(n1: Int)(implicit evidence$3: scala.reflect.ClassTag[Boolean])Array[Boolean]" class="delimiter">[</span><span title="Boolean">Boolean</span><span class="delimiter">]</span><span title="=&gt; scala.reflect.ClassTag[Boolean]" class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.outputCount" title="Int">outputCount</a><span class="delimiter">)</span>

    private var <a title="Boolean" id="akka.stream.impl.FanOut;OutputBunch.unmarkCancelled_=">unmarkCancelled</a> = true

    private var <a title="Int" id="akka.stream.impl.FanOut;OutputBunch.preferredId_=">preferredId</a> = <span title="Int(0)" class="int">0</span>

    def <a title="(output: Int)Boolean" id="akka.stream.impl.FanOut;OutputBunch.isPending">isPending</a><span class="delimiter">(</span><a title="Int" id="akka.stream.impl.FanOut;OutputBunch.isPending.output">output</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#akka.stream.impl.FanOut;OutputBunch.pending" title="(i: Int)Boolean">pending</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.isPending.output" title="Int">output</a><span class="delimiter">)</span>

    def <a title="(output: Int)Boolean" id="akka.stream.impl.FanOut;OutputBunch.isCompleted">isCompleted</a><span class="delimiter">(</span><a title="Int" id="akka.stream.impl.FanOut;OutputBunch.isCompleted.output">output</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#akka.stream.impl.FanOut;OutputBunch.completed" title="(i: Int)Boolean">completed</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.isCompleted.output" title="Int">output</a><span class="delimiter">)</span>

    def <a title="(output: Int)Boolean" id="akka.stream.impl.FanOut;OutputBunch.isCancelled">isCancelled</a><span class="delimiter">(</span><a title="Int" id="akka.stream.impl.FanOut;OutputBunch.isCancelled.output">output</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#akka.stream.impl.FanOut;OutputBunch.cancelled" title="(i: Int)Boolean">cancelled</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.isCancelled.output" title="Int">output</a><span class="delimiter">)</span>

    def <a title="()Unit" id="akka.stream.impl.FanOut;OutputBunch.complete(aa97cb1b3d)">complete</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
      if <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.stream.impl.FanOut;OutputBunch.bunchCancelled_=" title="=&gt; Boolean">bunchCancelled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#akka.stream.impl.FanOut;OutputBunch.bunchCancelled_=" title="(x$1: Boolean)Unit">bunchCancelled</a> = true
        var <a title="Int" id="akka.stream.impl.FanOut;OutputBunch.complete(aa97cb1b3d).i">i</a> = <span title="Int(0)" class="int">0</span>
        while <span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.complete(aa97cb1b3d).i" title="Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#akka.stream.impl.FanOut;OutputBunch.outputs" title="=&gt; Array[akka.stream.impl.FanOut.FanoutOutputs]">outputs</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <a href="#akka.stream.impl.FanOut;OutputBunch.complete(aa97cb1b3d).while$1" title="()Unit" class="delimiter">{</a>
          <a href="#akka.stream.impl.FanOut;OutputBunch.complete(e60f8eff76)" title="(output: Int)Unit">complete</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.complete(aa97cb1b3d).i" title="Int">i</a><span class="delimiter">)</span>
          <a href="#akka.stream.impl.FanOut;OutputBunch.complete(aa97cb1b3d).i" title="Int">i</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    def <a title="(output: Int)Unit" id="akka.stream.impl.FanOut;OutputBunch.complete(e60f8eff76)">complete</a><span class="delimiter">(</span><a title="Int" id="akka.stream.impl.FanOut;OutputBunch.complete(e60f8eff76).output">output</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
      if <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.stream.impl.FanOut;OutputBunch.completed" title="(i: Int)Boolean">completed</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.complete(e60f8eff76).output" title="Int">output</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#akka.stream.impl.FanOut;OutputBunch.errored" title="(i: Int)Boolean">errored</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.complete(e60f8eff76).output" title="Int">output</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#akka.stream.impl.FanOut;OutputBunch.cancelled" title="(i: Int)Boolean">cancelled</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.complete(e60f8eff76).output" title="Int">output</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#akka.stream.impl.FanOut;OutputBunch.outputs" title="(i: Int)akka.stream.impl.FanOut.FanoutOutputs">outputs</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.complete(e60f8eff76).output" title="Int">output</a><span class="delimiter">)</span>.<a href="ActorProcessor.scala.html#akka.stream.impl;SimpleOutputs.complete" title="()Unit">complete</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#akka.stream.impl.FanOut;OutputBunch.completed" title="(i: Int, x: Boolean)Unit">completed</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.complete(e60f8eff76).output" title="Int">output</a><span class="delimiter">)</span> = true
        <a href="#akka.stream.impl.FanOut;OutputBunch.unmarkOutput" title="(output: Int)Unit">unmarkOutput</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.complete(e60f8eff76).output" title="Int">output</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    def <a title="(e: Throwable)Unit" id="akka.stream.impl.FanOut;OutputBunch.cancel">cancel</a><span class="delimiter">(</span><a title="Throwable" id="akka.stream.impl.FanOut;OutputBunch.cancel.e">e</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
      if <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.stream.impl.FanOut;OutputBunch.bunchCancelled_=" title="=&gt; Boolean">bunchCancelled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#akka.stream.impl.FanOut;OutputBunch.bunchCancelled_=" title="(x$1: Boolean)Unit">bunchCancelled</a> = true
        var <a title="Int" id="akka.stream.impl.FanOut;OutputBunch.cancel.i">i</a> = <span title="Int(0)" class="int">0</span>
        while <span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.cancel.i" title="Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#akka.stream.impl.FanOut;OutputBunch.outputs" title="=&gt; Array[akka.stream.impl.FanOut.FanoutOutputs]">outputs</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <a href="#akka.stream.impl.FanOut;OutputBunch.cancel.while$2" title="()Unit" class="delimiter">{</a>
          <a href="#akka.stream.impl.FanOut;OutputBunch.error" title="(output: Int, e: Throwable)Unit">error</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.cancel.i" title="Int">i</a>, <a href="#akka.stream.impl.FanOut;OutputBunch.cancel.e" title="Throwable">e</a><span class="delimiter">)</span>
          <a href="#akka.stream.impl.FanOut;OutputBunch.cancel.i" title="Int">i</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    def <a title="(output: Int, e: Throwable)Unit" id="akka.stream.impl.FanOut;OutputBunch.error">error</a><span class="delimiter">(</span><a title="Int" id="akka.stream.impl.FanOut;OutputBunch.error.output">output</a>: <span title="Int">Int</span>, <a title="Throwable" id="akka.stream.impl.FanOut;OutputBunch.error.e">e</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
      if <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.stream.impl.FanOut;OutputBunch.errored" title="(i: Int)Boolean">errored</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.error.output" title="Int">output</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#akka.stream.impl.FanOut;OutputBunch.cancelled" title="(i: Int)Boolean">cancelled</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.error.output" title="Int">output</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#akka.stream.impl.FanOut;OutputBunch.completed" title="(i: Int)Boolean">completed</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.error.output" title="Int">output</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#akka.stream.impl.FanOut;OutputBunch.outputs" title="(i: Int)akka.stream.impl.FanOut.FanoutOutputs">outputs</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.error.output" title="Int">output</a><span class="delimiter">)</span>.<a href="ActorProcessor.scala.html#akka.stream.impl;SimpleOutputs.cancel" title="(e: Throwable)Unit">cancel</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.error.e" title="Throwable">e</a><span class="delimiter">)</span>
        <a href="#akka.stream.impl.FanOut;OutputBunch.errored" title="(i: Int, x: Boolean)Unit">errored</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.error.output" title="Int">output</a><span class="delimiter">)</span> = true
        <a href="#akka.stream.impl.FanOut;OutputBunch.unmarkOutput" title="(output: Int)Unit">unmarkOutput</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.error.output" title="Int">output</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    def <a title="(output: Int)Unit" id="akka.stream.impl.FanOut;OutputBunch.markOutput">markOutput</a><span class="delimiter">(</span><a title="Int" id="akka.stream.impl.FanOut;OutputBunch.markOutput.output">output</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      if <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.stream.impl.FanOut;OutputBunch.marked" title="(i: Int)Boolean">marked</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.markOutput.output" title="Int">output</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        if <span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.cancelled" title="(i: Int)Boolean">cancelled</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.markOutput.output" title="Int">output</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.stream.impl.FanOut;OutputBunch.markedCancelled_=" title="(x$1: Int)Unit">markedCancelled</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        if <span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.pending" title="(i: Int)Boolean">pending</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.markOutput.output" title="Int">output</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.stream.impl.FanOut;OutputBunch.markedPending_=" title="(x$1: Int)Unit">markedPending</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        <a href="#akka.stream.impl.FanOut;OutputBunch.marked" title="(i: Int, x: Boolean)Unit">marked</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.markOutput.output" title="Int">output</a><span class="delimiter">)</span> = true
        <a href="#akka.stream.impl.FanOut;OutputBunch.markedCount_=" title="(x$1: Int)Unit">markedCount</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    def <a title="(output: Int)Unit" id="akka.stream.impl.FanOut;OutputBunch.unmarkOutput">unmarkOutput</a><span class="delimiter">(</span><a title="Int" id="akka.stream.impl.FanOut;OutputBunch.unmarkOutput.output">output</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.marked" title="(i: Int)Boolean">marked</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.unmarkOutput.output" title="Int">output</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        if <span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.cancelled" title="(i: Int)Boolean">cancelled</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.unmarkOutput.output" title="Int">output</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.stream.impl.FanOut;OutputBunch.markedCancelled_=" title="(x$1: Int)Unit">markedCancelled</a> <span title="(x: Int)Int">-=</span> <span title="Int(1)" class="int">1</span>
        if <span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.pending" title="(i: Int)Boolean">pending</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.unmarkOutput.output" title="Int">output</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.stream.impl.FanOut;OutputBunch.markedPending_=" title="(x$1: Int)Unit">markedPending</a> <span title="(x: Int)Int">-=</span> <span title="Int(1)" class="int">1</span>
        <a href="#akka.stream.impl.FanOut;OutputBunch.marked" title="(i: Int, x: Boolean)Unit">marked</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.unmarkOutput.output" title="Int">output</a><span class="delimiter">)</span> = false
        <a href="#akka.stream.impl.FanOut;OutputBunch.markedCount_=" title="(x$1: Int)Unit">markedCount</a> <span title="(x: Int)Int">-=</span> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    def <a title="()Unit" id="akka.stream.impl.FanOut;OutputBunch.markAllOutputs">markAllOutputs</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      var <a title="Int" id="akka.stream.impl.FanOut;OutputBunch.markAllOutputs.i">i</a> = <span title="Int(0)" class="int">0</span>
      while <span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.markAllOutputs.i" title="Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#akka.stream.impl.FanOut;OutputBunch.outputCount" title="Int">outputCount</a><span class="delimiter">)</span> <a href="#akka.stream.impl.FanOut;OutputBunch.markAllOutputs.while$3" title="()Unit" class="delimiter">{</a>
        <a href="#akka.stream.impl.FanOut;OutputBunch.markOutput" title="(output: Int)Unit">markOutput</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.markAllOutputs.i" title="Int">i</a><span class="delimiter">)</span>
        <a href="#akka.stream.impl.FanOut;OutputBunch.markAllOutputs.i" title="Int">i</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    def <a title="()Unit" id="akka.stream.impl.FanOut;OutputBunch.unmarkAllOutputs">unmarkAllOutputs</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      var <a title="Int" id="akka.stream.impl.FanOut;OutputBunch.unmarkAllOutputs.i">i</a> = <span title="Int(0)" class="int">0</span>
      while <span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.unmarkAllOutputs.i" title="Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#akka.stream.impl.FanOut;OutputBunch.outputCount" title="Int">outputCount</a><span class="delimiter">)</span> <a href="#akka.stream.impl.FanOut;OutputBunch.unmarkAllOutputs.while$4" title="()Unit" class="delimiter">{</a>
        <a href="#akka.stream.impl.FanOut;OutputBunch.unmarkOutput" title="(output: Int)Unit">unmarkOutput</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.unmarkAllOutputs.i" title="Int">i</a><span class="delimiter">)</span>
        <a href="#akka.stream.impl.FanOut;OutputBunch.unmarkAllOutputs.i" title="Int">i</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    def <a title="(enabled: Boolean)Unit" id="akka.stream.impl.FanOut;OutputBunch.unmarkCancelledOutputs">unmarkCancelledOutputs</a><span class="delimiter">(</span><a title="Boolean" id="akka.stream.impl.FanOut;OutputBunch.unmarkCancelledOutputs.enabled">enabled</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.stream.impl.FanOut;OutputBunch.unmarkCancelled_=" title="(x$1: Boolean)Unit">unmarkCancelled</a> = <a href="#akka.stream.impl.FanOut;OutputBunch.unmarkCancelledOutputs.enabled" title="Boolean">enabled</a>

    def <a title="()Int" id="akka.stream.impl.FanOut;OutputBunch.idToEnqueue">idToEnqueue</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
      var <a title="Int" id="akka.stream.impl.FanOut;OutputBunch.idToEnqueue.id">id</a> = <a href="#akka.stream.impl.FanOut;OutputBunch.preferredId_=" title="=&gt; Int">preferredId</a>
      while <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.marked" title="(i: Int)Boolean">marked</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.idToEnqueue.id" title="Int">id</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#akka.stream.impl.FanOut;OutputBunch.pending" title="(i: Int)Boolean">pending</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.idToEnqueue.id" title="Int">id</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.stream.impl.FanOut;OutputBunch.idToEnqueue.while$5" title="()Unit" class="delimiter">{</a>
        <a href="#akka.stream.impl.FanOut;OutputBunch.idToEnqueue.id" title="Int">id</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        if <span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.idToEnqueue.id" title="Int">id</a> <span title="(x: Int)Boolean">==</span> <a href="#akka.stream.impl.FanOut;OutputBunch.outputCount" title="Int">outputCount</a><span class="delimiter">)</span> <a href="#akka.stream.impl.FanOut;OutputBunch.idToEnqueue.id" title="Int">id</a> = <span title="Int(0)" class="int">0</span>
        <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.idToEnqueue.id" title="Int">id</a> <span title="(x: Int)Boolean">!=</span> <a href="#akka.stream.impl.FanOut;OutputBunch.preferredId_=" title="=&gt; Int">preferredId</a>, <span title="String(&quot;Tried to enqueue without waiting for any demand&quot;)" class="string">&quot;Tried to enqueue without waiting for any demand&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#akka.stream.impl.FanOut;OutputBunch.idToEnqueue.id" title="Int">id</a>
    <span class="delimiter">}</span>

    def <a title="(id: Int, elem: Any)Unit" id="akka.stream.impl.FanOut;OutputBunch.enqueue">enqueue</a><span class="delimiter">(</span><a title="Int" id="akka.stream.impl.FanOut;OutputBunch.enqueue.id">id</a>: <span title="Int">Int</span>, <a title="Any" id="akka.stream.impl.FanOut;OutputBunch.enqueue.elem">elem</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      val <a title="akka.stream.impl.FanOut.FanoutOutputs" id="akka.stream.impl.FanOut;OutputBunch.enqueue.output">output</a> = <a href="#akka.stream.impl.FanOut;OutputBunch.outputs" title="(i: Int)akka.stream.impl.FanOut.FanoutOutputs">outputs</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.enqueue.id" title="Int">id</a><span class="delimiter">)</span>
      <a href="#akka.stream.impl.FanOut;OutputBunch.enqueue.output" title="akka.stream.impl.FanOut.FanoutOutputs">output</a>.<a href="ActorProcessor.scala.html#akka.stream.impl;SimpleOutputs.enqueueOutputElement" title="(elem: Any)Unit">enqueueOutputElement</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.enqueue.elem" title="Any">elem</a><span class="delimiter">)</span>
      if <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.stream.impl.FanOut;OutputBunch.enqueue.output" title="akka.stream.impl.FanOut.FanoutOutputs">output</a>.<a href="ActorProcessor.scala.html#akka.stream.impl;SimpleOutputs.demandAvailable" title="=&gt; Boolean">demandAvailable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        if <span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.marked" title="(i: Int)Boolean">marked</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.enqueue.id" title="Int">id</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.stream.impl.FanOut;OutputBunch.markedPending_=" title="(x$1: Int)Unit">markedPending</a> <span title="(x: Int)Int">-=</span> <span title="Int(1)" class="int">1</span>
        <a href="#akka.stream.impl.FanOut;OutputBunch.pending" title="(i: Int, x: Boolean)Unit">pending</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.enqueue.id" title="Int">id</a><span class="delimiter">)</span> = false
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    def <a title="(elem: Any)Unit" id="akka.stream.impl.FanOut;OutputBunch.enqueueMarked">enqueueMarked</a><span class="delimiter">(</span><a title="Any" id="akka.stream.impl.FanOut;OutputBunch.enqueueMarked.elem">elem</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      var <a title="Int" id="akka.stream.impl.FanOut;OutputBunch.enqueueMarked.id">id</a> = <span title="Int(0)" class="int">0</span>
      while <span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.enqueueMarked.id" title="Int">id</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#akka.stream.impl.FanOut;OutputBunch.outputCount" title="Int">outputCount</a><span class="delimiter">)</span> <a href="#akka.stream.impl.FanOut;OutputBunch.enqueueMarked.while$6" title="()Unit" class="delimiter">{</a>
        if <span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.marked" title="(i: Int)Boolean">marked</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.enqueueMarked.id" title="Int">id</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.stream.impl.FanOut;OutputBunch.enqueue" title="(id: Int, elem: Any)Unit">enqueue</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.enqueueMarked.id" title="Int">id</a>, <a href="#akka.stream.impl.FanOut;OutputBunch.enqueueMarked.elem" title="Any">elem</a><span class="delimiter">)</span>
        <a href="#akka.stream.impl.FanOut;OutputBunch.enqueueMarked.id" title="Int">id</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    def <a title="()Int" id="akka.stream.impl.FanOut;OutputBunch.idToEnqueueAndYield">idToEnqueueAndYield</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
      val <a title="Int" id="akka.stream.impl.FanOut;OutputBunch.idToEnqueueAndYield.id">id</a> = <a href="#akka.stream.impl.FanOut;OutputBunch.idToEnqueue" title="()Int">idToEnqueue</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#akka.stream.impl.FanOut;OutputBunch.preferredId_=" title="(x$1: Int)Unit">preferredId</a> = <a href="#akka.stream.impl.FanOut;OutputBunch.idToEnqueueAndYield.id" title="Int">id</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>
      if <span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.preferredId_=" title="=&gt; Int">preferredId</a> <span title="(x: Int)Boolean">==</span> <a href="#akka.stream.impl.FanOut;OutputBunch.outputCount" title="Int">outputCount</a><span class="delimiter">)</span> <a href="#akka.stream.impl.FanOut;OutputBunch.preferredId_=" title="(x$1: Int)Unit">preferredId</a> = <span title="Int(0)" class="int">0</span>
      <a href="#akka.stream.impl.FanOut;OutputBunch.idToEnqueueAndYield.id" title="Int">id</a>
    <span class="delimiter">}</span>

    def <a title="(elem: Any)Unit" id="akka.stream.impl.FanOut;OutputBunch.enqueueAndYield">enqueueAndYield</a><span class="delimiter">(</span><a title="Any" id="akka.stream.impl.FanOut;OutputBunch.enqueueAndYield.elem">elem</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      val <a title="Int" id="akka.stream.impl.FanOut;OutputBunch.enqueueAndYield.id">id</a> = <a href="#akka.stream.impl.FanOut;OutputBunch.idToEnqueueAndYield" title="()Int">idToEnqueueAndYield</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#akka.stream.impl.FanOut;OutputBunch.enqueue" title="(id: Int, elem: Any)Unit">enqueue</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.enqueueAndYield.id" title="Int">id</a>, <a href="#akka.stream.impl.FanOut;OutputBunch.enqueueAndYield.elem" title="Any">elem</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    def <a title="(elem: Any, preferred: Int)Unit" id="akka.stream.impl.FanOut;OutputBunch.enqueueAndPrefer">enqueueAndPrefer</a><span class="delimiter">(</span><a title="Any" id="akka.stream.impl.FanOut;OutputBunch.enqueueAndPrefer.elem">elem</a>: <span title="Any">Any</span>, <a title="Int" id="akka.stream.impl.FanOut;OutputBunch.enqueueAndPrefer.preferred">preferred</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      val <a title="Int" id="akka.stream.impl.FanOut;OutputBunch.enqueueAndPrefer.id">id</a> = <a href="#akka.stream.impl.FanOut;OutputBunch.idToEnqueue" title="()Int">idToEnqueue</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#akka.stream.impl.FanOut;OutputBunch.preferredId_=" title="(x$1: Int)Unit">preferredId</a> = <a href="#akka.stream.impl.FanOut;OutputBunch.enqueueAndPrefer.preferred" title="Int">preferred</a>
      <a href="#akka.stream.impl.FanOut;OutputBunch.enqueue" title="(id: Int, elem: Any)Unit">enqueue</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.enqueueAndPrefer.id" title="Int">id</a>, <a href="#akka.stream.impl.FanOut;OutputBunch.enqueueAndPrefer.elem" title="Any">elem</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    def <a title="(output: Int)Unit" id="akka.stream.impl.FanOut;OutputBunch.onCancel">onCancel</a><span class="delimiter">(</span><a title="Int" id="akka.stream.impl.FanOut;OutputBunch.onCancel.output">output</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>

    <span class="comment">/**
     * Will only transfer an element when all marked outputs
     * have demand, and will complete as soon as any of the marked
     * outputs have cancelled.
     */</span>
    val <a title="&lt;refinement of akka.stream.impl.TransferState&gt; extends AnyRef with akka.stream.impl.TransferState" id="akka.stream.impl.FanOut;OutputBunch.AllOfMarkedOutputs">AllOfMarkedOutputs</a> = new <a title="&lt;$anon: akka.stream.impl.TransferState&gt; extends AnyRef with akka.stream.impl.TransferState" id="akka.stream.impl.FanOut;OutputBunch.AllOfMarkedOutputs;$anon">TransferState</a> <span class="delimiter">{</span>
      override def <a title="=&gt; Boolean" id="akka.stream.impl.FanOut;OutputBunch.AllOfMarkedOutputs;$anon.isCompleted">isCompleted</a>: <span title="Boolean">Boolean</span> = <a href="#akka.stream.impl.FanOut;OutputBunch.markedCancelled_=" title="=&gt; Int">markedCancelled</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">||</span> <a href="#akka.stream.impl.FanOut;OutputBunch.markedCount_=" title="=&gt; Int">markedCount</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span>
      override def <a title="=&gt; Boolean" id="akka.stream.impl.FanOut;OutputBunch.AllOfMarkedOutputs;$anon.isReady">isReady</a>: <span title="Boolean">Boolean</span> = <a href="#akka.stream.impl.FanOut;OutputBunch.markedPending_=" title="=&gt; Int">markedPending</a> <span title="(x: Int)Boolean">==</span> <a href="#akka.stream.impl.FanOut;OutputBunch.markedCount_=" title="=&gt; Int">markedCount</a>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Will transfer an element when any of the  marked outputs
     * have demand, and will complete when all of the marked
     * outputs have cancelled.
     */</span>
    val <a title="&lt;refinement of akka.stream.impl.TransferState&gt; extends AnyRef with akka.stream.impl.TransferState" id="akka.stream.impl.FanOut;OutputBunch.AnyOfMarkedOutputs">AnyOfMarkedOutputs</a> = new <a title="&lt;$anon: akka.stream.impl.TransferState&gt; extends AnyRef with akka.stream.impl.TransferState" id="akka.stream.impl.FanOut;OutputBunch.AnyOfMarkedOutputs;$anon">TransferState</a> <span class="delimiter">{</span>
      override def <a title="=&gt; Boolean" id="akka.stream.impl.FanOut;OutputBunch.AnyOfMarkedOutputs;$anon.isCompleted">isCompleted</a>: <span title="Boolean">Boolean</span> = <a href="#akka.stream.impl.FanOut;OutputBunch.markedCancelled_=" title="=&gt; Int">markedCancelled</a> <span title="(x: Int)Boolean">==</span> <a href="#akka.stream.impl.FanOut;OutputBunch.markedCount_=" title="=&gt; Int">markedCount</a>
      override def <a title="=&gt; Boolean" id="akka.stream.impl.FanOut;OutputBunch.AnyOfMarkedOutputs;$anon.isReady">isReady</a>: <span title="Boolean">Boolean</span> = <a href="#akka.stream.impl.FanOut;OutputBunch.markedPending_=" title="=&gt; Int">markedPending</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span>
    <span class="delimiter">}</span>

    <span class="comment">// FIXME: Eliminate re-wraps</span>
    def <a title="=&gt; akka.stream.impl.SubReceive" id="akka.stream.impl.FanOut;OutputBunch.subreceive">subreceive</a>: <a href="Transfer.scala.html#akka.stream.impl;SubReceive" title="akka.stream.impl.SubReceive">SubReceive</a> = new <a href="Transfer.scala.html#akka.stream.impl;SubReceive" title="akka.stream.impl.SubReceive">SubReceive</a><span class="delimiter">(</span><a title="&lt;$anon: Any =&gt; Unit&gt; extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="akka.stream.impl.FanOut;OutputBunch.subreceive;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
      case ExposedPublishers<span class="delimiter">(</span><a title="scala.collection.immutable.Seq[akka.stream.impl.ActorPublisher[Any]]" id="akka.stream.impl.FanOut;OutputBunch.subreceive;$anonfun.isDefinedAt.publishers">publishers</a><span class="delimiter">)</span> ⇒
        <a href="#akka.stream.impl.FanOut;OutputBunch.subreceive;$anonfun.isDefinedAt.publishers" title="scala.collection.immutable.Seq[akka.stream.impl.ActorPublisher[Any]]">publishers</a>.<span title="(that: scala.collection.GenIterable[akka.stream.impl.FanOut.FanoutOutputs])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Seq[akka.stream.impl.ActorPublisher[Any]],(akka.stream.impl.ActorPublisher[Any], akka.stream.impl.FanOut.FanoutOutputs),scala.collection.immutable.Seq[(akka.stream.impl.ActorPublisher[Any], akka.stream.impl.FanOut.FanoutOutputs)]])scala.collection.immutable.Seq[(akka.stream.impl.ActorPublisher[Any], akka.stream.impl.FanOut.FanoutOutputs)]">zip</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Seq.Coll,(akka.stream.impl.ActorPublisher[Any], akka.stream.impl.FanOut.FanoutOutputs),scala.collection.immutable.Seq[(akka.stream.impl.ActorPublisher[Any], akka.stream.impl.FanOut.FanoutOutputs)]]" class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.outputs" title="(xs: Array[akka.stream.impl.FanOut.FanoutOutputs])scala.collection.mutable.WrappedArray[akka.stream.impl.FanOut.FanoutOutputs]">outputs</a><span class="delimiter">)</span> <span title="(f: ((akka.stream.impl.ActorPublisher[Any], akka.stream.impl.FanOut.FanoutOutputs)) =&gt; Unit)Unit">foreach</span> <a href="#akka.stream.impl.FanOut;OutputBunch.subreceive;$anonfun.applyOrElse.$anonfun.x0$1" title="Unit" class="delimiter">{</a>
          case <span class="delimiter">(</span><a title="akka.stream.impl.ActorPublisher[Any]" id="akka.stream.impl.FanOut;OutputBunch.subreceive;$anonfun.applyOrElse.$anonfun.pub">pub</a>, <a title="akka.stream.impl.FanOut.FanoutOutputs" id="akka.stream.impl.FanOut;OutputBunch.subreceive;$anonfun.applyOrElse.$anonfun.output">output</a><span class="delimiter">)</span> ⇒
            <a href="#akka.stream.impl.FanOut;OutputBunch.subreceive;$anonfun.applyOrElse.$anonfun.output" title="akka.stream.impl.FanOut.FanoutOutputs">output</a>.<a href="Transfer.scala.html#akka.stream.impl;SubReceive.apply" title="(msg: Any)Unit">subreceive</a><span class="delimiter">(</span><a href="Messages.scala.html#akka.stream.impl;ExposedPublisher" title="(publisher: akka.stream.impl.ActorPublisher[Any])akka.stream.impl.ExposedPublisher">ExposedPublisher</a><span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.subreceive;$anonfun.applyOrElse.$anonfun.pub" title="akka.stream.impl.ActorPublisher[Any]">pub</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      case SubstreamRequestMore<span class="delimiter">(</span><span title="Int">id</span>, <a title="Long" id="akka.stream.impl.FanOut;OutputBunch.subreceive;$anonfun.isDefinedAt.demand">demand</a><span class="delimiter">)</span> ⇒
        if <span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.marked" title="(i: Int)Boolean">marked</a><span class="delimiter">(</span><span title="Int">id</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#akka.stream.impl.FanOut;OutputBunch.pending" title="(i: Int)Boolean">pending</a><span class="delimiter">(</span><span title="Int">id</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.stream.impl.FanOut;OutputBunch.markedPending_=" title="(x$1: Int)Unit">markedPending</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        <a href="#akka.stream.impl.FanOut;OutputBunch.pending" title="(i: Int, x: Boolean)Unit">pending</a><span class="delimiter">(</span><span title="Int">id</span><span class="delimiter">)</span> = true
        <a href="#akka.stream.impl.FanOut;OutputBunch.outputs" title="(i: Int)akka.stream.impl.FanOut.FanoutOutputs">outputs</a><span class="delimiter">(</span><span title="Int">id</span><span class="delimiter">)</span>.<a href="Transfer.scala.html#akka.stream.impl;SubReceive.apply" title="(msg: Any)Unit">subreceive</a><span class="delimiter">(</span><a href="Messages.scala.html#akka.stream.impl;RequestMore" title="(subscription: akka.stream.impl.ActorSubscription[_], demand: Long)akka.stream.impl.RequestMore">RequestMore</a><span class="delimiter">(</span>null, <a href="#akka.stream.impl.FanOut;OutputBunch.subreceive;$anonfun.isDefinedAt.demand" title="Long">demand</a><span class="delimiter">)</span><span class="delimiter">)</span>
      case SubstreamCancel<span class="delimiter">(</span><span title="Int">id</span><span class="delimiter">)</span> ⇒
        if <span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.unmarkCancelled_=" title="=&gt; Boolean">unmarkCancelled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#akka.stream.impl.FanOut;OutputBunch.unmarkOutput" title="(output: Int)Unit">unmarkOutput</a><span class="delimiter">(</span><span title="Int">id</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        if <span class="delimiter">(</span><a href="#akka.stream.impl.FanOut;OutputBunch.marked" title="(i: Int)Boolean">marked</a><span class="delimiter">(</span><span title="Int">id</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#akka.stream.impl.FanOut;OutputBunch.cancelled" title="(i: Int)Boolean">cancelled</a><span class="delimiter">(</span><span title="Int">id</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.stream.impl.FanOut;OutputBunch.markedCancelled_=" title="(x$1: Int)Unit">markedCancelled</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        <a href="#akka.stream.impl.FanOut;OutputBunch.cancelled" title="(i: Int, x: Boolean)Unit">cancelled</a><span class="delimiter">(</span><span title="Int">id</span><span class="delimiter">)</span> = true
        <a href="#akka.stream.impl.FanOut;OutputBunch.onCancel" title="(output: Int)Unit">onCancel</a><span class="delimiter">(</span><span title="Int">id</span><span class="delimiter">)</span>
        <a href="#akka.stream.impl.FanOut;OutputBunch.outputs" title="(i: Int)akka.stream.impl.FanOut.FanoutOutputs">outputs</a><span class="delimiter">(</span><span title="Int">id</span><span class="delimiter">)</span>.<a href="Transfer.scala.html#akka.stream.impl;SubReceive.apply" title="(msg: Any)Unit">subreceive</a><span class="delimiter">(</span><a href="Messages.scala.html#akka.stream.impl;Cancel" title="(subscriptions: akka.stream.impl.ActorSubscription[_])akka.stream.impl.Cancel">Cancel</a><span class="delimiter">(</span>null<span class="delimiter">)</span><span class="delimiter">)</span>
      case SubstreamSubscribePending<span class="delimiter">(</span><span title="Int">id</span><span class="delimiter">)</span> ⇒
        <a href="#akka.stream.impl.FanOut;OutputBunch.outputs" title="(i: Int)akka.stream.impl.FanOut.FanoutOutputs">outputs</a><span class="delimiter">(</span><span title="Int">id</span><span class="delimiter">)</span>.<a href="Transfer.scala.html#akka.stream.impl;SubReceive.apply" title="(msg: Any)Unit">subreceive</a><span title="Boolean(true)" class="delimiter">(</span><a href="Messages.scala.html#akka.stream.impl.SubscribePending" title="akka.stream.impl.SubscribePending.type">SubscribePending</a><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="delimiter">}</span>

<a href="#akka.stream.impl.FanOut;OutputBunch" title="AnyRef" class="delimiter">}</a>

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>akka<span class="delimiter">]</span> abstract class <a title="class FanOut extends AnyRef with akka.actor.Actor with akka.actor.ActorLogging with akka.stream.impl.Pump" id="akka.stream.impl;FanOut">FanOut</a><a href="#akka.stream.impl;FanOut" title="akka.stream.impl.FanOut" class="delimiter">(</a>val <a title="akka.stream.MaterializerSettings" id="akka.stream.impl;FanOut.settings">settings</a>: <a href="../FlowMaterializer.scala.html#akka.stream;MaterializerSettings" title="akka.stream.MaterializerSettings">MaterializerSettings</a>, val <a title="Int" id="akka.stream.impl;FanOut.outputPorts">outputPorts</a>: <span title="Int">Int</span><span class="delimiter">)</span> extends <a href="#akka.stream.impl;FanOut" title="akka.actor.Actor">Actor</a> with <span title="akka.actor.ActorLogging">ActorLogging</span> with <a href="Transfer.scala.html#akka.stream.impl;Pump" title="akka.stream.impl.Pump">Pump</a> <span class="delimiter">{</span>
  import <a href="#akka.stream.impl.FanOut" title="akka.stream.impl.FanOut.type">FanOut</a>._

  protected val <a title="akka.stream.impl.FanOut.OutputBunch" id="akka.stream.impl;FanOut.outputBunch">outputBunch</a> = new <a href="#akka.stream.impl.FanOut;OutputBunch" title="akka.stream.impl.FanOut.OutputBunch">OutputBunch</a><span class="delimiter">(</span><a href="#akka.stream.impl;FanOut.outputPorts" title="=&gt; Int">outputPorts</a>, <a href="#akka.stream.impl;FanOut" title="=&gt; akka.actor.ActorRef">self</a>, this<span class="delimiter">)</span>
  protected val <a title="akka.stream.impl.Inputs" id="akka.stream.impl;FanOut.primaryInputs">primaryInputs</a>: <a href="Transfer.scala.html#akka.stream.impl;Inputs" title="akka.stream.impl.Inputs">Inputs</a> = new <a href="ActorProcessor.scala.html#akka.stream.impl;BatchingInputBuffer" title="&lt;$anon: akka.stream.impl.BatchingInputBuffer&gt; extends akka.stream.impl.BatchingInputBuffer" id="akka.stream.impl;FanOut.primaryInputs;$anon">BatchingInputBuffer</a><span class="delimiter">(</span><a href="#akka.stream.impl;FanOut.settings" title="=&gt; akka.stream.MaterializerSettings">settings</a>.<a href="../FlowMaterializer.scala.html#akka.stream;MaterializerSettings.maxInputBufferSize" title="=&gt; Int">maxInputBufferSize</a>, this<span class="delimiter">)</span> <span class="delimiter">{</span>
    override def <a title="(e: Throwable)Unit" id="akka.stream.impl;FanOut.primaryInputs;$anon.onError">onError</a><span class="delimiter">(</span><a title="Throwable" id="akka.stream.impl;FanOut.primaryInputs;$anon.onError.e">e</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.stream.impl;FanOut.fail" title="(e: Throwable)Unit">fail</a><span class="delimiter">(</span><a href="#akka.stream.impl;FanOut.primaryInputs;$anon.onError.e" title="Throwable">e</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  override def <a title="()Unit" id="akka.stream.impl;FanOut.pumpFinished">pumpFinished</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#akka.stream.impl;FanOut.primaryInputs" title="=&gt; akka.stream.impl.Inputs">primaryInputs</a>.<a href="Transfer.scala.html#akka.stream.impl;Inputs.cancel" title="()Unit">cancel</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#akka.stream.impl;FanOut.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="#akka.stream.impl.FanOut;OutputBunch.complete(aa97cb1b3d)" title="()Unit">complete</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#akka.stream.impl;FanOut" title="=&gt; akka.actor.ActorContext">context</a>.<span title="(actor: akka.actor.ActorRef)Unit">stop</span><span class="delimiter">(</span><a href="#akka.stream.impl;FanOut" title="=&gt; akka.actor.ActorRef">self</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  override def <a title="(e: Throwable)Unit" id="akka.stream.impl;FanOut.pumpFailed">pumpFailed</a><span class="delimiter">(</span><a title="Throwable" id="akka.stream.impl;FanOut.pumpFailed.e">e</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.stream.impl;FanOut.fail" title="(e: Throwable)Unit">fail</a><span class="delimiter">(</span><a href="#akka.stream.impl;FanOut.pumpFailed.e" title="Throwable">e</a><span class="delimiter">)</span>

  protected def <a title="(e: Throwable)Unit" id="akka.stream.impl;FanOut.fail">fail</a><span class="delimiter">(</span><a title="Throwable" id="akka.stream.impl;FanOut.fail.e">e</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#akka.stream.impl;FanOut" title="=&gt; akka.event.LoggingAdapter">log</a>.<span title="(cause: Throwable, message: String)Unit">error</span><span class="delimiter">(</span><a href="#akka.stream.impl;FanOut.fail.e" title="Throwable">e</a>, <span title="String(&quot;failure during processing&quot;)" class="string">&quot;failure during processing&quot;</span><span class="delimiter">)</span> <span class="comment">// FIXME: escalate to supervisor instead</span>
    <a href="#akka.stream.impl;FanOut.primaryInputs" title="=&gt; akka.stream.impl.Inputs">primaryInputs</a>.<a href="Transfer.scala.html#akka.stream.impl;Inputs.cancel" title="()Unit">cancel</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#akka.stream.impl;FanOut.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="#akka.stream.impl.FanOut;OutputBunch.cancel" title="(e: Throwable)Unit">cancel</a><span class="delimiter">(</span><a href="#akka.stream.impl;FanOut.fail.e" title="Throwable">e</a><span class="delimiter">)</span>
    <a href="#akka.stream.impl;FanOut" title="=&gt; akka.actor.ActorContext">context</a>.<span title="(actor: akka.actor.ActorRef)Unit">stop</span><span class="delimiter">(</span><a href="#akka.stream.impl;FanOut" title="=&gt; akka.actor.ActorRef">self</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  override def <a title="()Unit" id="akka.stream.impl;FanOut.postStop">postStop</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#akka.stream.impl;FanOut.primaryInputs" title="=&gt; akka.stream.impl.Inputs">primaryInputs</a>.<a href="Transfer.scala.html#akka.stream.impl;Inputs.cancel" title="()Unit">cancel</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#akka.stream.impl;FanOut.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="#akka.stream.impl.FanOut;OutputBunch.cancel" title="(e: Throwable)Unit">cancel</a><span class="delimiter">(</span>new <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><span title="String(&quot;Processor actor terminated abruptly&quot;)" class="string">&quot;Processor actor terminated abruptly&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  override def <a title="(reason: Throwable)Unit" id="akka.stream.impl;FanOut.postRestart">postRestart</a><span class="delimiter">(</span><a title="Throwable" id="akka.stream.impl;FanOut.postRestart.reason">reason</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    super.<span title="(reason: Throwable)Unit">postRestart</span><span class="delimiter">(</span><a href="#akka.stream.impl;FanOut.postRestart.reason" title="Throwable">reason</a><span class="delimiter">)</span>
    throw new <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><span title="String(&quot;This actor cannot be restarted&quot;)" class="string">&quot;This actor cannot be restarted&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="=&gt; PartialFunction[Any,Unit]" id="akka.stream.impl;FanOut.receive">receive</a> = <a href="#akka.stream.impl;FanOut.primaryInputs" title="=&gt; akka.stream.impl.Inputs">primaryInputs</a>.<a href="Transfer.scala.html#akka.stream.impl;Inputs.subreceive" title="=&gt; akka.stream.impl.SubReceive">subreceive</a> <span title="(that: PartialFunction[Any,Unit])PartialFunction[Any,Unit]">orElse</span> <a href="#akka.stream.impl;FanOut.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="#akka.stream.impl.FanOut;OutputBunch.subreceive" title="=&gt; akka.stream.impl.SubReceive">subreceive</a>

<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>akka<span class="delimiter">]</span> object <a title="akka.stream.impl.Broadcast.type" id="akka.stream.impl.Broadcast">Broadcast</a> <a href="#akka.stream.impl.Broadcast" title="akka.stream.impl.Broadcast.type" class="delimiter">{</a>
  def <a title="(settings: akka.stream.MaterializerSettings, outputPorts: Int)akka.actor.Props" id="akka.stream.impl.Broadcast.props">props</a><span class="delimiter">(</span><a title="akka.stream.MaterializerSettings" id="akka.stream.impl.Broadcast.props.settings">settings</a>: <a href="../FlowMaterializer.scala.html#akka.stream;MaterializerSettings" title="akka.stream.MaterializerSettings">MaterializerSettings</a>, <a title="Int" id="akka.stream.impl.Broadcast.props.outputPorts">outputPorts</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="akka.actor.Props">Props</span> =
    <span title="(creator: =&gt; akka.stream.impl.Broadcast)(implicit evidence$2: scala.reflect.ClassTag[akka.stream.impl.Broadcast])akka.actor.Props">Props</span><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[akka.stream.impl.Broadcast]" class="delimiter">(</span>new <a href="#akka.stream.impl;Broadcast" title="akka.stream.impl.Broadcast">Broadcast</a><span class="delimiter">(</span><a href="#akka.stream.impl.Broadcast.props.settings" title="akka.stream.MaterializerSettings">settings</a>, <a href="#akka.stream.impl.Broadcast.props.outputPorts" title="Int">outputPorts</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>akka<span class="delimiter">]</span> class <a title="class Broadcast extends akka.stream.impl.FanOut" id="akka.stream.impl;Broadcast">Broadcast</a><a href="#akka.stream.impl;Broadcast" title="akka.stream.impl.Broadcast" class="delimiter">(</a><a title="akka.stream.MaterializerSettings" id="akka.stream.impl;Broadcast._settings">_settings</a>: <a href="../FlowMaterializer.scala.html#akka.stream;MaterializerSettings" title="akka.stream.MaterializerSettings">MaterializerSettings</a>, <a title="Int" id="akka.stream.impl;Broadcast._outputPorts">_outputPorts</a>: <span title="Int">Int</span><span class="delimiter">)</span> extends <a href="#akka.stream.impl;FanOut" title="akka.stream.impl.FanOut">FanOut</a><span class="delimiter">(</span><a href="#akka.stream.impl;Broadcast._settings" title="akka.stream.MaterializerSettings">_settings</a>, <a href="#akka.stream.impl;Broadcast._outputPorts" title="Int">_outputPorts</a><span class="delimiter">)</span> <span class="delimiter">{</span>
  <a href="#akka.stream.impl;FanOut.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="#akka.stream.impl.FanOut;OutputBunch.markAllOutputs" title="()Unit">markAllOutputs</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <a href="Transfer.scala.html#akka.stream.impl;Pump.nextPhase" title="(phase: akka.stream.impl.TransferPhase)Unit">nextPhase</a><span class="delimiter">(</span><a href="Transfer.scala.html#akka.stream.impl;TransferPhase" title="(precondition: akka.stream.impl.TransferState)(action: () =&gt; Unit)akka.stream.impl.TransferPhase">TransferPhase</a><span class="delimiter">(</span><a href="#akka.stream.impl;FanOut.primaryInputs" title="=&gt; akka.stream.impl.Inputs">primaryInputs</a>.<a href="Transfer.scala.html#akka.stream.impl;Inputs.NeedsInput" title="=&gt; akka.stream.impl.TransferState">NeedsInput</a> <a href="Transfer.scala.html#akka.stream.impl;TransferState.&&" title="(other: akka.stream.impl.TransferState)akka.stream.impl.TransferState">&amp;&amp;</a> <a href="#akka.stream.impl;FanOut.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="#akka.stream.impl.FanOut;OutputBunch.AllOfMarkedOutputs" title="=&gt; akka.stream.impl.TransferState">AllOfMarkedOutputs</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> ⇒
    val <a title="Any" id="akka.stream.impl;Broadcast.<local Broadcast>.$anonfun.elem">elem</a> = <a href="#akka.stream.impl;FanOut.primaryInputs" title="=&gt; akka.stream.impl.Inputs">primaryInputs</a>.<a href="Transfer.scala.html#akka.stream.impl;Inputs.dequeueInputElement" title="()Any">dequeueInputElement</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#akka.stream.impl;FanOut.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="#akka.stream.impl.FanOut;OutputBunch.enqueueMarked" title="(elem: Any)Unit">enqueueMarked</a><span class="delimiter">(</span><a href="#akka.stream.impl;Broadcast.<local Broadcast>.$anonfun.elem" title="Any">elem</a><span class="delimiter">)</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>akka<span class="delimiter">]</span> object <a title="akka.stream.impl.Balance.type" id="akka.stream.impl.Balance">Balance</a> <a href="#akka.stream.impl.Balance" title="akka.stream.impl.Balance.type" class="delimiter">{</a>
  def <a title="(settings: akka.stream.MaterializerSettings, outputPorts: Int, waitForAllDownstreams: Boolean)akka.actor.Props" id="akka.stream.impl.Balance.props">props</a><span class="delimiter">(</span><a title="akka.stream.MaterializerSettings" id="akka.stream.impl.Balance.props.settings">settings</a>: <a href="../FlowMaterializer.scala.html#akka.stream;MaterializerSettings" title="akka.stream.MaterializerSettings">MaterializerSettings</a>, <a title="Int" id="akka.stream.impl.Balance.props.outputPorts">outputPorts</a>: <span title="Int">Int</span>, <a title="Boolean" id="akka.stream.impl.Balance.props.waitForAllDownstreams">waitForAllDownstreams</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="akka.actor.Props">Props</span> =
    <span title="(creator: =&gt; akka.stream.impl.Balance)(implicit evidence$2: scala.reflect.ClassTag[akka.stream.impl.Balance])akka.actor.Props">Props</span><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[akka.stream.impl.Balance]" class="delimiter">(</span>new <a href="#akka.stream.impl;Balance" title="akka.stream.impl.Balance">Balance</a><span class="delimiter">(</span><a href="#akka.stream.impl.Balance.props.settings" title="akka.stream.MaterializerSettings">settings</a>, <a href="#akka.stream.impl.Balance.props.outputPorts" title="Int">outputPorts</a>, <a href="#akka.stream.impl.Balance.props.waitForAllDownstreams" title="Boolean">waitForAllDownstreams</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>akka<span class="delimiter">]</span> class <a title="class Balance extends akka.stream.impl.FanOut" id="akka.stream.impl;Balance">Balance</a><a href="#akka.stream.impl;Balance" title="akka.stream.impl.Balance" class="delimiter">(</a><a title="akka.stream.MaterializerSettings" id="akka.stream.impl;Balance._settings">_settings</a>: <a href="../FlowMaterializer.scala.html#akka.stream;MaterializerSettings" title="akka.stream.MaterializerSettings">MaterializerSettings</a>, <a title="Int" id="akka.stream.impl;Balance._outputPorts">_outputPorts</a>: <span title="Int">Int</span>, <a title="Boolean" id="akka.stream.impl;Balance.waitForAllDownstreams">waitForAllDownstreams</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> extends <a href="#akka.stream.impl;FanOut" title="akka.stream.impl.FanOut">FanOut</a><span class="delimiter">(</span><a href="#akka.stream.impl;Balance._settings" title="akka.stream.MaterializerSettings">_settings</a>, <a href="#akka.stream.impl;Balance._outputPorts" title="Int">_outputPorts</a><span class="delimiter">)</span> <span class="delimiter">{</span>
  <a href="#akka.stream.impl;FanOut.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="#akka.stream.impl.FanOut;OutputBunch.markAllOutputs" title="()Unit">markAllOutputs</a><span class="delimiter">(</span><span class="delimiter">)</span>

  val <a title="akka.stream.impl.TransferPhase" id="akka.stream.impl;Balance.runningPhase">runningPhase</a> = <a href="Transfer.scala.html#akka.stream.impl;TransferPhase" title="(precondition: akka.stream.impl.TransferState)(action: () =&gt; Unit)akka.stream.impl.TransferPhase">TransferPhase</a><span class="delimiter">(</span><a href="#akka.stream.impl;FanOut.primaryInputs" title="=&gt; akka.stream.impl.Inputs">primaryInputs</a>.<a href="Transfer.scala.html#akka.stream.impl;Inputs.NeedsInput" title="=&gt; akka.stream.impl.TransferState">NeedsInput</a> <a href="Transfer.scala.html#akka.stream.impl;TransferState.&&" title="(other: akka.stream.impl.TransferState)akka.stream.impl.TransferState">&amp;&amp;</a> <a href="#akka.stream.impl;FanOut.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="#akka.stream.impl.FanOut;OutputBunch.AnyOfMarkedOutputs" title="=&gt; akka.stream.impl.TransferState">AnyOfMarkedOutputs</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> ⇒
    val <a title="Any" id="akka.stream.impl;Balance.runningPhase.$anonfun.elem">elem</a> = <a href="#akka.stream.impl;FanOut.primaryInputs" title="=&gt; akka.stream.impl.Inputs">primaryInputs</a>.<a href="Transfer.scala.html#akka.stream.impl;Inputs.dequeueInputElement" title="()Any">dequeueInputElement</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#akka.stream.impl;FanOut.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="#akka.stream.impl.FanOut;OutputBunch.enqueueAndYield" title="(elem: Any)Unit">enqueueAndYield</a><span class="delimiter">(</span><a href="#akka.stream.impl;Balance.runningPhase.$anonfun.elem" title="Any">elem</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  if <span class="delimiter">(</span><a href="#akka.stream.impl;Balance.waitForAllDownstreams" title="Boolean">waitForAllDownstreams</a><span class="delimiter">)</span>
    <a href="Transfer.scala.html#akka.stream.impl;Pump.nextPhase" title="(phase: akka.stream.impl.TransferPhase)Unit">nextPhase</a><span class="delimiter">(</span><a href="Transfer.scala.html#akka.stream.impl;TransferPhase" title="(precondition: akka.stream.impl.TransferState)(action: () =&gt; Unit)akka.stream.impl.TransferPhase">TransferPhase</a><span class="delimiter">(</span><a href="#akka.stream.impl;FanOut.primaryInputs" title="=&gt; akka.stream.impl.Inputs">primaryInputs</a>.<a href="Transfer.scala.html#akka.stream.impl;Inputs.NeedsInput" title="=&gt; akka.stream.impl.TransferState">NeedsInput</a> <a href="Transfer.scala.html#akka.stream.impl;TransferState.&&" title="(other: akka.stream.impl.TransferState)akka.stream.impl.TransferState">&amp;&amp;</a> <a href="#akka.stream.impl;FanOut.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="#akka.stream.impl.FanOut;OutputBunch.AllOfMarkedOutputs" title="=&gt; akka.stream.impl.TransferState">AllOfMarkedOutputs</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> ⇒
      <a href="Transfer.scala.html#akka.stream.impl;Pump.nextPhase" title="(phase: akka.stream.impl.TransferPhase)Unit">nextPhase</a><span class="delimiter">(</span><a href="#akka.stream.impl;Balance.runningPhase" title="=&gt; akka.stream.impl.TransferPhase">runningPhase</a><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>
  else
    <a href="Transfer.scala.html#akka.stream.impl;Pump.nextPhase" title="(phase: akka.stream.impl.TransferPhase)Unit">nextPhase</a><span class="delimiter">(</span><a href="#akka.stream.impl;Balance.runningPhase" title="=&gt; akka.stream.impl.TransferPhase">runningPhase</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>akka<span class="delimiter">]</span> object <a title="akka.stream.impl.Unzip.type" id="akka.stream.impl.Unzip">Unzip</a> <a href="#akka.stream.impl.Unzip" title="akka.stream.impl.Unzip.type" class="delimiter">{</a>
  def <a title="(settings: akka.stream.MaterializerSettings)akka.actor.Props" id="akka.stream.impl.Unzip.props">props</a><span class="delimiter">(</span><a title="akka.stream.MaterializerSettings" id="akka.stream.impl.Unzip.props.settings">settings</a>: <a href="../FlowMaterializer.scala.html#akka.stream;MaterializerSettings" title="akka.stream.MaterializerSettings">MaterializerSettings</a><span class="delimiter">)</span>: <span title="akka.actor.Props">Props</span> =
    <span title="(creator: =&gt; akka.stream.impl.Unzip)(implicit evidence$2: scala.reflect.ClassTag[akka.stream.impl.Unzip])akka.actor.Props">Props</span><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[akka.stream.impl.Unzip]" class="delimiter">(</span>new <a href="#akka.stream.impl;Unzip" title="akka.stream.impl.Unzip">Unzip</a><span class="delimiter">(</span><a href="#akka.stream.impl.Unzip.props.settings" title="akka.stream.MaterializerSettings">settings</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>akka<span class="delimiter">]</span> class <a title="class Unzip extends akka.stream.impl.FanOut" id="akka.stream.impl;Unzip">Unzip</a><a href="#akka.stream.impl;Unzip" title="akka.stream.impl.Unzip" class="delimiter">(</a><a title="akka.stream.MaterializerSettings" id="akka.stream.impl;Unzip._settings">_settings</a>: <a href="../FlowMaterializer.scala.html#akka.stream;MaterializerSettings" title="akka.stream.MaterializerSettings">MaterializerSettings</a><span class="delimiter">)</span> extends <a href="#akka.stream.impl;FanOut" title="akka.stream.impl.FanOut">FanOut</a><span class="delimiter">(</span><a href="#akka.stream.impl;Unzip._settings" title="akka.stream.MaterializerSettings">_settings</a>, outputPorts = <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <a href="#akka.stream.impl;FanOut.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="#akka.stream.impl.FanOut;OutputBunch.markAllOutputs" title="()Unit">markAllOutputs</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <a href="Transfer.scala.html#akka.stream.impl;Pump.nextPhase" title="(phase: akka.stream.impl.TransferPhase)Unit">nextPhase</a><span class="delimiter">(</span><a href="Transfer.scala.html#akka.stream.impl;TransferPhase" title="(precondition: akka.stream.impl.TransferState)(action: () =&gt; Unit)akka.stream.impl.TransferPhase">TransferPhase</a><span class="delimiter">(</span><a href="#akka.stream.impl;FanOut.primaryInputs" title="=&gt; akka.stream.impl.Inputs">primaryInputs</a>.<a href="Transfer.scala.html#akka.stream.impl;Inputs.NeedsInput" title="=&gt; akka.stream.impl.TransferState">NeedsInput</a> <a href="Transfer.scala.html#akka.stream.impl;TransferState.&&" title="(other: akka.stream.impl.TransferState)akka.stream.impl.TransferState">&amp;&amp;</a> <a href="#akka.stream.impl;FanOut.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="#akka.stream.impl.FanOut;OutputBunch.AllOfMarkedOutputs" title="=&gt; akka.stream.impl.TransferState">AllOfMarkedOutputs</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> ⇒
    <a href="#akka.stream.impl;FanOut.primaryInputs" title="=&gt; akka.stream.impl.Inputs">primaryInputs</a>.<a href="Transfer.scala.html#akka.stream.impl;Inputs.dequeueInputElement" title="()Any">dequeueInputElement</a><span class="delimiter">(</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case <span class="delimiter">(</span><a title="Any" id="akka.stream.impl;Unzip.<local Unzip>.$anonfun.a">a</a>, <a title="Any" id="akka.stream.impl;Unzip.<local Unzip>.$anonfun.b">b</a><span class="delimiter">)</span> ⇒
        <a href="#akka.stream.impl;FanOut.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="#akka.stream.impl.FanOut;OutputBunch.enqueue" title="(id: Int, elem: Any)Unit">enqueue</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#akka.stream.impl;Unzip.<local Unzip>.$anonfun.a" title="Any">a</a><span class="delimiter">)</span>
        <a href="#akka.stream.impl;FanOut.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="#akka.stream.impl.FanOut;OutputBunch.enqueue" title="(id: Int, elem: Any)Unit">enqueue</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <a href="#akka.stream.impl;Unzip.<local Unzip>.$anonfun.b" title="Any">b</a><span class="delimiter">)</span>

      case <span title="akka.japi.Pair[_,_]">t</span>: akka.japi.<span title="akka.japi.Pair[_,_]">Pair</span><span class="delimiter">[</span>_, _<span class="delimiter">]</span> ⇒
        <a href="#akka.stream.impl;FanOut.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="#akka.stream.impl.FanOut;OutputBunch.enqueue" title="(id: Int, elem: Any)Unit">enqueue</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <span title="akka.japi.Pair[_,_]">t</span>.<span title="=&gt; _">first</span><span class="delimiter">)</span>
        <a href="#akka.stream.impl;FanOut.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="#akka.stream.impl.FanOut;OutputBunch.enqueue" title="(id: Int, elem: Any)Unit">enqueue</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="akka.japi.Pair[_,_]">t</span>.<span title="=&gt; _">second</span><span class="delimiter">)</span>

      case <span title="Any">t</span> ⇒
        throw new <span title="IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span>
          <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Unable to unzip elements of type &quot;)">Unable to unzip elements of type $</span><span class="delimiter">{</span><span title="Any">t</span>.<span title="()Class[_]">getClass</span>.<span title="()String">getName</span><span class="delimiter">}</span><span title="String(&quot;, &quot;)" class="string">, &quot;</span> <span title="(x$1: Any)String">+</span>
            <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;can only handle Tuple2 and akka.japi.Pair!&quot;)" class="string">can only handle Tuple2 and akka.japi.Pair!&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
