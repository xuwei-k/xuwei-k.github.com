<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>akka/stream/impl/FlexiRouteImpl.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (C) 2014 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
package akka.stream.impl

import akka.stream.scaladsl.OperationAttributes

import scala.collection.breakOut
import akka.actor.Props
import akka.stream.scaladsl.FlexiRoute
import akka.stream.MaterializerSettings
import akka.stream.impl.<a href="FanOut.scala.html#akka.stream.impl.FanOut" title="akka.stream.impl.FanOut.type">FanOut</a>.OutputBunch

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>akka<span class="delimiter">]</span> object <a title="akka.stream.impl.FlexiRouteImpl.type" id="akka.stream.impl.FlexiRouteImpl">FlexiRouteImpl</a> <a href="#akka.stream.impl.FlexiRouteImpl" title="akka.stream.impl.FlexiRouteImpl.type" class="delimiter">{</a>
  def <a title="(settings: akka.stream.MaterializerSettings, outputCount: Int, routeLogic: akka.stream.scaladsl.FlexiRoute.RouteLogic[Any])akka.actor.Props" id="akka.stream.impl.FlexiRouteImpl.props">props</a><span class="delimiter">(</span><a title="akka.stream.MaterializerSettings" id="akka.stream.impl.FlexiRouteImpl.props.settings">settings</a>: <a href="../FlowMaterializer.scala.html#akka.stream;MaterializerSettings" title="akka.stream.MaterializerSettings">MaterializerSettings</a>, <a title="Int" id="akka.stream.impl.FlexiRouteImpl.props.outputCount">outputCount</a>: <span title="Int">Int</span>, <a title="akka.stream.scaladsl.FlexiRoute.RouteLogic[Any]" id="akka.stream.impl.FlexiRouteImpl.props.routeLogic">routeLogic</a>: FlexiRoute.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;RouteLogic" title="akka.stream.scaladsl.FlexiRoute.RouteLogic[Any]">RouteLogic</a><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="akka.actor.Props">Props</span> =
    <span title="(creator: =&gt; akka.stream.impl.FlexiRouteImpl)(implicit evidence$2: scala.reflect.ClassTag[akka.stream.impl.FlexiRouteImpl])akka.actor.Props">Props</span><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[akka.stream.impl.FlexiRouteImpl]" class="delimiter">(</span>new <a href="#akka.stream.impl;FlexiRouteImpl" title="akka.stream.impl.FlexiRouteImpl">FlexiRouteImpl</a><span class="delimiter">(</span><a href="#akka.stream.impl.FlexiRouteImpl.props.settings" title="akka.stream.MaterializerSettings">settings</a>, <a href="#akka.stream.impl.FlexiRouteImpl.props.outputCount" title="Int">outputCount</a>, <a href="#akka.stream.impl.FlexiRouteImpl.props.routeLogic" title="akka.stream.scaladsl.FlexiRoute.RouteLogic[Any]">routeLogic</a><span class="delimiter">)</span><span class="delimiter">)</span>

  trait <a title="trait RouteLogicFactory[In] extends AnyRef" id="akka.stream.impl.FlexiRouteImpl;RouteLogicFactory">RouteLogicFactory</a><span class="delimiter">[</span><a title="" id="akka.stream.impl.FlexiRouteImpl;RouteLogicFactory;In">In</a><span class="delimiter">]</span> <span class="delimiter">{</span>
    def <a title="=&gt; akka.stream.scaladsl.OperationAttributes" id="akka.stream.impl.FlexiRouteImpl;RouteLogicFactory.attributes">attributes</a>: <a href="../scaladsl/OperationAttributes.scala.html#akka.stream.scaladsl;OperationAttributes" title="akka.stream.scaladsl.OperationAttributes">OperationAttributes</a>
    def <a title="()akka.stream.scaladsl.FlexiRoute.RouteLogic[In]" id="akka.stream.impl.FlexiRouteImpl;RouteLogicFactory.createRouteLogic">createRouteLogic</a><span class="delimiter">(</span><span class="delimiter">)</span>: FlexiRoute.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;RouteLogic" title="akka.stream.scaladsl.FlexiRoute.RouteLogic[In]">RouteLogic</a><span class="delimiter">[</span>In<span class="delimiter">]</span>
  <span class="delimiter">}</span>
<span title="AnyRef" class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>akka<span class="delimiter">]</span> class <a title="class FlexiRouteImpl extends akka.stream.impl.FanOut" id="akka.stream.impl;FlexiRouteImpl">FlexiRouteImpl</a><a href="#akka.stream.impl;FlexiRouteImpl" title="akka.stream.impl.FlexiRouteImpl" class="delimiter">(</a><a title="akka.stream.MaterializerSettings" id="akka.stream.impl;FlexiRouteImpl._settings">_settings</a>: <a href="../FlowMaterializer.scala.html#akka.stream;MaterializerSettings" title="akka.stream.MaterializerSettings">MaterializerSettings</a>,
                                   <a title="Int" id="akka.stream.impl;FlexiRouteImpl.outputCount">outputCount</a>: <span title="Int">Int</span>,
                                   <a title="akka.stream.scaladsl.FlexiRoute.RouteLogic[Any]" id="akka.stream.impl;FlexiRouteImpl.routeLogic">routeLogic</a>: FlexiRoute.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;RouteLogic" title="akka.stream.scaladsl.FlexiRoute.RouteLogic[Any]">RouteLogic</a><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span>
  extends <a href="FanOut.scala.html#akka.stream.impl;FanOut" title="akka.stream.impl.FanOut">FanOut</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl._settings" title="akka.stream.MaterializerSettings">_settings</a>, <a href="#akka.stream.impl;FlexiRouteImpl.outputCount" title="Int">outputCount</a><span class="delimiter">)</span> <span class="delimiter">{</span>

  import <a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute" title="akka.stream.scaladsl.FlexiRoute.type">FlexiRoute</a>._

  val <a title="Map[Int,akka.stream.scaladsl.FlexiRoute.OutputHandle]" id="akka.stream.impl;FlexiRouteImpl.outputMapping">outputMapping</a>: <span title="Map[Int,akka.stream.scaladsl.FlexiRoute.OutputHandle]">Map</span><span class="delimiter">[</span>Int, OutputHandle<span class="delimiter">]</span> =
    <a href="#akka.stream.impl;FlexiRouteImpl.routeLogic" title="akka.stream.scaladsl.FlexiRoute.RouteLogic[Any]">routeLogic</a>.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;RouteLogic.outputHandles" title="(outputCount: Int)scala.collection.immutable.IndexedSeq[akka.stream.scaladsl.FlexiRoute.OutputHandle]">outputHandles</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.outputCount" title="Int">outputCount</a><span class="delimiter">)</span>.<span title="(n: Int)scala.collection.immutable.IndexedSeq[akka.stream.scaladsl.FlexiRoute.OutputHandle]">take</span><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.outputCount" title="Int">outputCount</a><span class="delimiter">)</span>.<span title="(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[akka.stream.scaladsl.FlexiRoute.OutputHandle],(akka.stream.scaladsl.FlexiRoute.OutputHandle, Int),scala.collection.immutable.IndexedSeq[(akka.stream.scaladsl.FlexiRoute.OutputHandle, Int)]])scala.collection.immutable.IndexedSeq[(akka.stream.scaladsl.FlexiRoute.OutputHandle, Int)]">zipWithIndex</span>.<span title="(f: ((akka.stream.scaladsl.FlexiRoute.OutputHandle, Int)) =&gt; (Int, akka.stream.scaladsl.FlexiRoute.OutputHandle))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[(akka.stream.scaladsl.FlexiRoute.OutputHandle, Int)],(Int, akka.stream.scaladsl.FlexiRoute.OutputHandle),Map[Int,akka.stream.scaladsl.FlexiRoute.OutputHandle]])Map[Int,akka.stream.scaladsl.FlexiRoute.OutputHandle]">map</span><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.outputMapping.$anonfun.x$1" title="(akka.stream.scaladsl.FlexiRoute.OutputHandle, Int)">_</a>.<span title="=&gt; (Int, akka.stream.scaladsl.FlexiRoute.OutputHandle)">swap</span><span class="delimiter">)</span><span class="delimiter">(</span><span title="(implicit b: scala.collection.generic.CanBuildFrom[Nothing,(Int, akka.stream.scaladsl.FlexiRoute.OutputHandle),Map[Int,akka.stream.scaladsl.FlexiRoute.OutputHandle]])scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[(akka.stream.scaladsl.FlexiRoute.OutputHandle, Int)],(Int, akka.stream.scaladsl.FlexiRoute.OutputHandle),Map[Int,akka.stream.scaladsl.FlexiRoute.OutputHandle]]">breakOut</span><span class="delimiter">)</span>

  private type <a title="FlexiRouteImpl.this.routeLogic.State[Any]" id="akka.stream.impl;FlexiRouteImpl;StateT">StateT</a> = routeLogic.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;RouteLogic;State" title="FlexiRouteImpl.this.routeLogic.State[Any]">State</a><span class="delimiter">[</span>Any<span class="delimiter">]</span>
  private type <a title="FlexiRouteImpl.this.routeLogic.CompletionHandling" id="akka.stream.impl;FlexiRouteImpl;CompletionT">CompletionT</a> = routeLogic.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;RouteLogic;CompletionHandling" title="FlexiRouteImpl.this.routeLogic.CompletionHandling">CompletionHandling</a>

  private var <a title="FlexiRouteImpl.this.StateT" id="akka.stream.impl;FlexiRouteImpl.behavior_=">behavior</a>: <a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;RouteLogic;State" title="FlexiRouteImpl.this.StateT">StateT</a> = _
  private var <a title="FlexiRouteImpl.this.CompletionT" id="akka.stream.impl;FlexiRouteImpl.completion_=">completion</a>: <a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;RouteLogic;CompletionHandling" title="FlexiRouteImpl.this.CompletionT">CompletionT</a> = _

  override protected val <a title="akka.stream.impl.FanOut.OutputBunch" id="akka.stream.impl;FlexiRouteImpl.outputBunch">outputBunch</a> = new <a href="FanOut.scala.html#akka.stream.impl.FanOut;OutputBunch" title="&lt;$anon: akka.stream.impl.FanOut.OutputBunch&gt; extends akka.stream.impl.FanOut.OutputBunch" id="akka.stream.impl;FlexiRouteImpl.outputBunch;$anon">OutputBunch</a><span class="delimiter">(</span><a href="FanOut.scala.html#akka.stream.impl;FanOut.outputPorts" title="=&gt; Int">outputPorts</a>, <a href="#akka.stream.impl;FlexiRouteImpl" title="=&gt; akka.actor.ActorRef">self</a>, this<span class="delimiter">)</span> <span class="delimiter">{</span>
    override def <a title="(output: Int)Unit" id="akka.stream.impl;FlexiRouteImpl.outputBunch;$anon.onCancel">onCancel</a><span class="delimiter">(</span><a title="Int" id="akka.stream.impl;FlexiRouteImpl.outputBunch;$anon.onCancel.output">output</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
      <a href="#akka.stream.impl;FlexiRouteImpl.changeBehavior" title="(newBehavior: FlexiRouteImpl.this.routeLogic.State[_$3])Unit">changeBehavior</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.completion_=" title="=&gt; FlexiRouteImpl.this.CompletionT">completion</a>.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;RouteLogic;CompletionHandling.onCancel" title="(v1: FlexiRouteImpl.this.routeLogic.RouteLogicContext[Any], v2: akka.stream.scaladsl.FlexiRoute.OutputHandle)FlexiRouteImpl.this.routeLogic.State[_]">onCancel</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.ctx" title="=&gt; FlexiRouteImpl.this.routeLogic.RouteLogicContext[Any]">ctx</a>, <a href="#akka.stream.impl;FlexiRouteImpl.outputMapping" title="(key: Int)akka.stream.scaladsl.FlexiRoute.OutputHandle">outputMapping</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.outputBunch;$anon.onCancel.output" title="Int">output</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  override protected val <a title="akka.stream.impl.Inputs" id="akka.stream.impl;FlexiRouteImpl.primaryInputs">primaryInputs</a>: <a href="Transfer.scala.html#akka.stream.impl;Inputs" title="akka.stream.impl.Inputs">Inputs</a> = new <a href="ActorProcessor.scala.html#akka.stream.impl;BatchingInputBuffer" title="&lt;$anon: akka.stream.impl.BatchingInputBuffer&gt; extends akka.stream.impl.BatchingInputBuffer" id="akka.stream.impl;FlexiRouteImpl.primaryInputs;$anon">BatchingInputBuffer</a><span class="delimiter">(</span><a href="FanOut.scala.html#akka.stream.impl;FanOut.settings" title="=&gt; akka.stream.MaterializerSettings">settings</a>.<a href="../FlowMaterializer.scala.html#akka.stream;MaterializerSettings.maxInputBufferSize" title="=&gt; Int">maxInputBufferSize</a>, this<span class="delimiter">)</span> <span class="delimiter">{</span>
    override def <a title="(e: Throwable)Unit" id="akka.stream.impl;FlexiRouteImpl.primaryInputs;$anon.onError">onError</a><span class="delimiter">(</span><a title="Throwable" id="akka.stream.impl;FlexiRouteImpl.primaryInputs;$anon.onError.e">e</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <a href="#akka.stream.impl;FlexiRouteImpl.completion_=" title="=&gt; FlexiRouteImpl.this.CompletionT">completion</a>.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;RouteLogic;CompletionHandling.onError" title="(v1: FlexiRouteImpl.this.routeLogic.RouteLogicContext[Any], v2: Throwable)Unit">onError</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.ctx" title="=&gt; FlexiRouteImpl.this.routeLogic.RouteLogicContext[Any]">ctx</a>, <a href="#akka.stream.impl;FlexiRouteImpl.primaryInputs;$anon.onError.e" title="Throwable">e</a><span class="delimiter">)</span>
      <a href="FanOut.scala.html#akka.stream.impl;FanOut.fail" title="(e: Throwable)Unit">fail</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.primaryInputs;$anon.onError.e" title="Throwable">e</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    override def <a title="()Unit" id="akka.stream.impl;FlexiRouteImpl.primaryInputs;$anon.onComplete">onComplete</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <a href="#akka.stream.impl;FlexiRouteImpl.completion_=" title="=&gt; FlexiRouteImpl.this.CompletionT">completion</a>.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;RouteLogic;CompletionHandling.onComplete" title="(v1: FlexiRouteImpl.this.routeLogic.RouteLogicContext[Any])Unit">onComplete</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.ctx" title="=&gt; FlexiRouteImpl.this.routeLogic.RouteLogicContext[Any]">ctx</a><span class="delimiter">)</span>
      super.<a href="ActorProcessor.scala.html#akka.stream.impl;BatchingInputBuffer.onComplete" title="()Unit">onComplete</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  private val <a title="FlexiRouteImpl.this.routeLogic.RouteLogicContext[Any]" id="akka.stream.impl;FlexiRouteImpl.ctx">ctx</a>: routeLogic.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;RouteLogic;RouteLogicContext" title="FlexiRouteImpl.this.routeLogic.RouteLogicContext[Any]">RouteLogicContext</a><span class="delimiter">[</span>Any<span class="delimiter">]</span> = new <a title="&lt;$anon: FlexiRouteImpl.this.routeLogic.RouteLogicContext[Any]&gt; extends AnyRef with FlexiRouteImpl.this.routeLogic.RouteLogicContext[Any]" id="akka.stream.impl;FlexiRouteImpl.ctx;$anon">routeLogic</a>.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;RouteLogic;RouteLogicContext" title="FlexiRouteImpl.this.routeLogic.RouteLogicContext[Any]">RouteLogicContext</a><span class="delimiter">[</span>Any<span class="delimiter">]</span> <span class="delimiter">{</span>
    override def <a title="(output: akka.stream.scaladsl.FlexiRoute.OutputHandle)Boolean" id="akka.stream.impl;FlexiRouteImpl.ctx;$anon.isDemandAvailable">isDemandAvailable</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.FlexiRoute.OutputHandle" id="akka.stream.impl;FlexiRouteImpl.ctx;$anon.isDemandAvailable.output">output</a>: <a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;OutputHandle" title="akka.stream.scaladsl.FlexiRoute.OutputHandle">OutputHandle</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
      <span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.ctx;$anon.isDemandAvailable.output" title="akka.stream.scaladsl.FlexiRoute.OutputHandle">output</a>.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;OutputHandle.portIndex" title="=&gt; Int">portIndex</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#akka.stream.impl;FlexiRouteImpl.outputCount" title="Int">outputCount</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#akka.stream.impl;FlexiRouteImpl.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="FanOut.scala.html#akka.stream.impl.FanOut;OutputBunch.isPending" title="(output: Int)Boolean">isPending</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.ctx;$anon.isDemandAvailable.output" title="akka.stream.scaladsl.FlexiRoute.OutputHandle">output</a>.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;OutputHandle.portIndex" title="=&gt; Int">portIndex</a><span class="delimiter">)</span>

    override def <a title="(output: akka.stream.scaladsl.FlexiRoute.OutputHandle, elem: Any)Unit" id="akka.stream.impl;FlexiRouteImpl.ctx;$anon.emit">emit</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.FlexiRoute.OutputHandle" id="akka.stream.impl;FlexiRouteImpl.ctx;$anon.emit.output">output</a>: <a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;OutputHandle" title="akka.stream.scaladsl.FlexiRoute.OutputHandle">OutputHandle</a>, <a title="Any" id="akka.stream.impl;FlexiRouteImpl.ctx;$anon.emit.elem">elem</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="FanOut.scala.html#akka.stream.impl.FanOut;OutputBunch.isPending" title="(output: Int)Boolean">isPending</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.ctx;$anon.emit.output" title="akka.stream.scaladsl.FlexiRoute.OutputHandle">output</a>.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;OutputHandle.portIndex" title="=&gt; Int">portIndex</a><span class="delimiter">)</span>, <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;emit to [&quot;)">emit to [$</span><a href="#akka.stream.impl;FlexiRouteImpl.ctx;$anon.emit.output" title="akka.stream.scaladsl.FlexiRoute.OutputHandle">output</a><span title="String(&quot;] not allowed when no demand available&quot;)" class="string">] not allowed when no demand available&quot;</span><span class="delimiter">)</span>
      <a href="#akka.stream.impl;FlexiRouteImpl.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="FanOut.scala.html#akka.stream.impl.FanOut;OutputBunch.enqueue" title="(id: Int, elem: Any)Unit">enqueue</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.ctx;$anon.emit.output" title="akka.stream.scaladsl.FlexiRoute.OutputHandle">output</a>.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;OutputHandle.portIndex" title="=&gt; Int">portIndex</a>, <a href="#akka.stream.impl;FlexiRouteImpl.ctx;$anon.emit.elem" title="Any">elem</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    override def <a title="()Unit" id="akka.stream.impl;FlexiRouteImpl.ctx;$anon.complete(aa97cb1b3d)">complete</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <a href="#akka.stream.impl;FlexiRouteImpl.primaryInputs" title="=&gt; akka.stream.impl.Inputs">primaryInputs</a>.<a href="Transfer.scala.html#akka.stream.impl;Inputs.cancel" title="()Unit">cancel</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#akka.stream.impl;FlexiRouteImpl.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="FanOut.scala.html#akka.stream.impl.FanOut;OutputBunch.complete(aa97cb1b3d)" title="()Unit">complete</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#akka.stream.impl;FlexiRouteImpl" title="=&gt; akka.actor.ActorContext">context</a>.<span title="(actor: akka.actor.ActorRef)Unit">stop</span><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl" title="=&gt; akka.actor.ActorRef">self</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    override def <a title="(output: akka.stream.scaladsl.FlexiRoute.OutputHandle)Unit" id="akka.stream.impl;FlexiRouteImpl.ctx;$anon.complete(66f5dfa378)">complete</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.FlexiRoute.OutputHandle" id="akka.stream.impl;FlexiRouteImpl.ctx;$anon.complete(66f5dfa378).output">output</a>: <a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;OutputHandle" title="akka.stream.scaladsl.FlexiRoute.OutputHandle">OutputHandle</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
      <a href="#akka.stream.impl;FlexiRouteImpl.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="FanOut.scala.html#akka.stream.impl.FanOut;OutputBunch.complete(e60f8eff76)" title="(output: Int)Unit">complete</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.ctx;$anon.complete(66f5dfa378).output" title="akka.stream.scaladsl.FlexiRoute.OutputHandle">output</a>.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;OutputHandle.portIndex" title="=&gt; Int">portIndex</a><span class="delimiter">)</span>

    override def <a title="(cause: Throwable)Unit" id="akka.stream.impl;FlexiRouteImpl.ctx;$anon.error(37b164a761)">error</a><span class="delimiter">(</span><a title="Throwable" id="akka.stream.impl;FlexiRouteImpl.ctx;$anon.error(37b164a761).cause">cause</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="FanOut.scala.html#akka.stream.impl;FanOut.fail" title="(e: Throwable)Unit">fail</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.ctx;$anon.error(37b164a761).cause" title="Throwable">cause</a><span class="delimiter">)</span>

    override def <a title="(output: akka.stream.scaladsl.FlexiRoute.OutputHandle, cause: Throwable)Unit" id="akka.stream.impl;FlexiRouteImpl.ctx;$anon.error(d7ed52bf5b)">error</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.FlexiRoute.OutputHandle" id="akka.stream.impl;FlexiRouteImpl.ctx;$anon.error(d7ed52bf5b).output">output</a>: <a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;OutputHandle" title="akka.stream.scaladsl.FlexiRoute.OutputHandle">OutputHandle</a>, <a title="Throwable" id="akka.stream.impl;FlexiRouteImpl.ctx;$anon.error(d7ed52bf5b).cause">cause</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
      <a href="#akka.stream.impl;FlexiRouteImpl.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="FanOut.scala.html#akka.stream.impl.FanOut;OutputBunch.error" title="(output: Int, e: Throwable)Unit">error</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.ctx;$anon.error(d7ed52bf5b).output" title="akka.stream.scaladsl.FlexiRoute.OutputHandle">output</a>.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;OutputHandle.portIndex" title="=&gt; Int">portIndex</a>, <a href="#akka.stream.impl;FlexiRouteImpl.ctx;$anon.error(d7ed52bf5b).cause" title="Throwable">cause</a><span class="delimiter">)</span>

    override def <a title="(newCompletion: FlexiRouteImpl.this.CompletionT)Unit" id="akka.stream.impl;FlexiRouteImpl.ctx;$anon.changeCompletionHandling">changeCompletionHandling</a><span class="delimiter">(</span><a title="FlexiRouteImpl.this.CompletionT" id="akka.stream.impl;FlexiRouteImpl.ctx;$anon.changeCompletionHandling.newCompletion">newCompletion</a>: <a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;RouteLogic;CompletionHandling" title="FlexiRouteImpl.this.CompletionT">CompletionT</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
      <a href="#akka.stream.impl;FlexiRouteImpl" title="FlexiRouteImpl.this.type">FlexiRouteImpl</a>.this.<a href="#akka.stream.impl;FlexiRouteImpl.changeCompletionHandling" title="(newCompletion: FlexiRouteImpl.this.CompletionT)Unit">changeCompletionHandling</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.ctx;$anon.changeCompletionHandling.newCompletion" title="FlexiRouteImpl.this.CompletionT">newCompletion</a><span class="delimiter">)</span>

  <span class="delimiter">}</span>

  private def <a title="(outputs: Array[akka.stream.scaladsl.FlexiRoute.OutputHandle])Unit" id="akka.stream.impl;FlexiRouteImpl.markOutputs">markOutputs</a><span class="delimiter">(</span><a title="Array[akka.stream.scaladsl.FlexiRoute.OutputHandle]" id="akka.stream.impl;FlexiRouteImpl.markOutputs.outputs">outputs</a>: <span title="Array[akka.stream.scaladsl.FlexiRoute.OutputHandle]">Array</span><span class="delimiter">[</span>OutputHandle<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#akka.stream.impl;FlexiRouteImpl.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="FanOut.scala.html#akka.stream.impl.FanOut;OutputBunch.unmarkAllOutputs" title="()Unit">unmarkAllOutputs</a><span class="delimiter">(</span><span class="delimiter">)</span>
    var <a title="Int" id="akka.stream.impl;FlexiRouteImpl.markOutputs.i">i</a> = <span title="Int(0)" class="int">0</span>
    while <span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.markOutputs.i" title="Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#akka.stream.impl;FlexiRouteImpl.markOutputs.outputs" title="Array[akka.stream.scaladsl.FlexiRoute.OutputHandle]">outputs</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <a href="#akka.stream.impl;FlexiRouteImpl.markOutputs.while$1" title="()Unit" class="delimiter">{</a>
      val <a title="Int" id="akka.stream.impl;FlexiRouteImpl.markOutputs.id">id</a> = <a href="#akka.stream.impl;FlexiRouteImpl.markOutputs.outputs" title="(i: Int)akka.stream.scaladsl.FlexiRoute.OutputHandle">outputs</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.markOutputs.i" title="Int">i</a><span class="delimiter">)</span>.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;OutputHandle.portIndex" title="=&gt; Int">portIndex</a>
      if <span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.outputMapping" title="=&gt; Map[Int,akka.stream.scaladsl.FlexiRoute.OutputHandle]">outputMapping</a>.<span title="(key: Int)Boolean">contains</span><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.markOutputs.id" title="Int">id</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#akka.stream.impl;FlexiRouteImpl.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="FanOut.scala.html#akka.stream.impl.FanOut;OutputBunch.isCancelled" title="(output: Int)Boolean">isCancelled</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.markOutputs.id" title="Int">id</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#akka.stream.impl;FlexiRouteImpl.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="FanOut.scala.html#akka.stream.impl.FanOut;OutputBunch.isCompleted" title="(output: Int)Boolean">isCompleted</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.markOutputs.id" title="Int">id</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#akka.stream.impl;FlexiRouteImpl.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="FanOut.scala.html#akka.stream.impl.FanOut;OutputBunch.markOutput" title="(output: Int)Unit">markOutput</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.markOutputs.id" title="Int">id</a><span class="delimiter">)</span>
      <a href="#akka.stream.impl;FlexiRouteImpl.markOutputs.i" title="Int">i</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  private def <a title="=&gt; akka.stream.impl.TransferState" id="akka.stream.impl;FlexiRouteImpl.precondition">precondition</a>: <a href="Transfer.scala.html#akka.stream.impl;TransferState" title="akka.stream.impl.TransferState">TransferState</a> = <span class="delimiter">{</span>
    <a href="#akka.stream.impl;FlexiRouteImpl.behavior_=" title="=&gt; FlexiRouteImpl.this.StateT">behavior</a>.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;RouteLogic;State.condition" title="=&gt; akka.stream.scaladsl.FlexiRoute.DemandCondition">condition</a> match <span class="delimiter">{</span>
      case _: <a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;DemandFrom" title="akka.stream.scaladsl.FlexiRoute.DemandFrom">DemandFrom</a> | _: <a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;DemandFromAny" title="akka.stream.scaladsl.FlexiRoute.DemandFromAny">DemandFromAny</a> ⇒ <a href="#akka.stream.impl;FlexiRouteImpl.primaryInputs" title="=&gt; akka.stream.impl.Inputs">primaryInputs</a>.<a href="Transfer.scala.html#akka.stream.impl;Inputs.NeedsInput" title="=&gt; akka.stream.impl.TransferState">NeedsInput</a> <a href="Transfer.scala.html#akka.stream.impl;TransferState.&&" title="(other: akka.stream.impl.TransferState)akka.stream.impl.TransferState">&amp;&amp;</a> <a href="#akka.stream.impl;FlexiRouteImpl.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="FanOut.scala.html#akka.stream.impl.FanOut;OutputBunch.AnyOfMarkedOutputs" title="=&gt; akka.stream.impl.TransferState">AnyOfMarkedOutputs</a>
      case _: <a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;DemandFromAll" title="akka.stream.scaladsl.FlexiRoute.DemandFromAll">DemandFromAll</a>                 ⇒ <a href="#akka.stream.impl;FlexiRouteImpl.primaryInputs" title="=&gt; akka.stream.impl.Inputs">primaryInputs</a>.<a href="Transfer.scala.html#akka.stream.impl;Inputs.NeedsInput" title="=&gt; akka.stream.impl.TransferState">NeedsInput</a> <a href="Transfer.scala.html#akka.stream.impl;TransferState.&&" title="(other: akka.stream.impl.TransferState)akka.stream.impl.TransferState">&amp;&amp;</a> <a href="#akka.stream.impl;FlexiRouteImpl.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="FanOut.scala.html#akka.stream.impl.FanOut;OutputBunch.AllOfMarkedOutputs" title="=&gt; akka.stream.impl.TransferState">AllOfMarkedOutputs</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  private def <a title="(newCompletion: FlexiRouteImpl.this.CompletionT)Unit" id="akka.stream.impl;FlexiRouteImpl.changeCompletionHandling">changeCompletionHandling</a><span class="delimiter">(</span><a title="FlexiRouteImpl.this.CompletionT" id="akka.stream.impl;FlexiRouteImpl.changeCompletionHandling.newCompletion">newCompletion</a>: <a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;RouteLogic;CompletionHandling" title="FlexiRouteImpl.this.CompletionT">CompletionT</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#akka.stream.impl;FlexiRouteImpl.completion_=" title="(x$1: FlexiRouteImpl.this.CompletionT)Unit">completion</a> = <a href="#akka.stream.impl;FlexiRouteImpl.changeCompletionHandling.newCompletion" title="FlexiRouteImpl.this.CompletionT">newCompletion</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="FlexiRouteImpl.this.CompletionT" class="delimiter">[</span><a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;RouteLogic;CompletionHandling" title="FlexiRouteImpl.this.CompletionT">CompletionT</a><span class="delimiter">]</span>

  private def <a title="[A](newBehavior: FlexiRouteImpl.this.routeLogic.State[A])Unit" id="akka.stream.impl;FlexiRouteImpl.changeBehavior">changeBehavior</a><span class="delimiter">[</span><a title="" id="akka.stream.impl;FlexiRouteImpl.changeBehavior;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="FlexiRouteImpl.this.routeLogic.State[A]" id="akka.stream.impl;FlexiRouteImpl.changeBehavior.newBehavior">newBehavior</a>: routeLogic.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;RouteLogic;State" title="FlexiRouteImpl.this.routeLogic.State[A]">State</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    if <span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.changeBehavior.newBehavior" title="FlexiRouteImpl.this.routeLogic.State[A]">newBehavior</a> <span title="(x$1: Any)Boolean">!=</span> <a href="#akka.stream.impl;FlexiRouteImpl.routeLogic" title="akka.stream.scaladsl.FlexiRoute.RouteLogic[Any]">routeLogic</a>.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;RouteLogic.SameState" title="FlexiRouteImpl.this.routeLogic.State[Nothing]">SameState</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.changeBehavior.newBehavior" title="FlexiRouteImpl.this.routeLogic.State[A]">newBehavior</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#akka.stream.impl;FlexiRouteImpl.behavior_=" title="=&gt; FlexiRouteImpl.this.StateT">behavior</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#akka.stream.impl;FlexiRouteImpl.behavior_=" title="(x$1: FlexiRouteImpl.this.StateT)Unit">behavior</a> = <a href="#akka.stream.impl;FlexiRouteImpl.changeBehavior.newBehavior" title="FlexiRouteImpl.this.routeLogic.State[A]">newBehavior</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="FlexiRouteImpl.this.StateT" class="delimiter">[</span><a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;RouteLogic;State" title="FlexiRouteImpl.this.StateT">StateT</a><span class="delimiter">]</span>
      <a href="#akka.stream.impl;FlexiRouteImpl.behavior_=" title="=&gt; FlexiRouteImpl.this.StateT">behavior</a>.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;RouteLogic;State.condition" title="=&gt; akka.stream.scaladsl.FlexiRoute.DemandCondition">condition</a> match <span class="delimiter">{</span>
        case <a title="akka.stream.scaladsl.FlexiRoute.DemandFromAny" id="akka.stream.impl;FlexiRouteImpl.changeBehavior.any">any</a>: <a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;DemandFromAny" title="akka.stream.scaladsl.FlexiRoute.DemandFromAny">DemandFromAny</a> ⇒
          <a href="#akka.stream.impl;FlexiRouteImpl.markOutputs" title="(outputs: Array[akka.stream.scaladsl.FlexiRoute.OutputHandle])Unit">markOutputs</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.changeBehavior.any" title="akka.stream.scaladsl.FlexiRoute.DemandFromAny">any</a>.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;DemandFromAny.outputs" title="=&gt; akka.stream.scaladsl.FlexiRoute.OutputHandle*">outputs</a>.<span title="(implicit evidence$1: scala.reflect.ClassTag[akka.stream.scaladsl.FlexiRoute.OutputHandle])Array[akka.stream.scaladsl.FlexiRoute.OutputHandle]">toArray</span><span class="delimiter">)</span>
        case <a title="akka.stream.scaladsl.FlexiRoute.DemandFromAll" id="akka.stream.impl;FlexiRouteImpl.changeBehavior.all">all</a>: <a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;DemandFromAll" title="akka.stream.scaladsl.FlexiRoute.DemandFromAll">DemandFromAll</a> ⇒
          <a href="#akka.stream.impl;FlexiRouteImpl.markOutputs" title="(outputs: Array[akka.stream.scaladsl.FlexiRoute.OutputHandle])Unit">markOutputs</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.changeBehavior.all" title="akka.stream.scaladsl.FlexiRoute.DemandFromAll">all</a>.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;DemandFromAll.outputs" title="=&gt; akka.stream.scaladsl.FlexiRoute.OutputHandle*">outputs</a>.<span title="(implicit evidence$1: scala.reflect.ClassTag[akka.stream.scaladsl.FlexiRoute.OutputHandle])Array[akka.stream.scaladsl.FlexiRoute.OutputHandle]">toArray</span><span class="delimiter">)</span>
        case DemandFrom<span class="delimiter">(</span><a title="akka.stream.scaladsl.FlexiRoute.OutputHandle" id="akka.stream.impl;FlexiRouteImpl.changeBehavior.output">output</a><span class="delimiter">)</span> ⇒
          <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.outputMapping" title="=&gt; Map[Int,akka.stream.scaladsl.FlexiRoute.OutputHandle]">outputMapping</a>.<span title="(key: Int)Boolean">contains</span><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.changeBehavior.output" title="akka.stream.scaladsl.FlexiRoute.OutputHandle">output</a>.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;OutputHandle.portIndex" title="=&gt; Int">portIndex</a><span class="delimiter">)</span>, <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Unknown output handle &quot;)">Unknown output handle $</span><a href="#akka.stream.impl;FlexiRouteImpl.changeBehavior.output" title="akka.stream.scaladsl.FlexiRoute.OutputHandle">output</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
          <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.stream.impl;FlexiRouteImpl.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="FanOut.scala.html#akka.stream.impl.FanOut;OutputBunch.isCancelled" title="(output: Int)Boolean">isCancelled</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.changeBehavior.output" title="akka.stream.scaladsl.FlexiRoute.OutputHandle">output</a>.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;OutputHandle.portIndex" title="=&gt; Int">portIndex</a><span class="delimiter">)</span>, <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Demand not allowed from cancelled &quot;)">Demand not allowed from cancelled $</span><a href="#akka.stream.impl;FlexiRouteImpl.changeBehavior.output" title="akka.stream.scaladsl.FlexiRoute.OutputHandle">output</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
          <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.stream.impl;FlexiRouteImpl.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="FanOut.scala.html#akka.stream.impl.FanOut;OutputBunch.isCompleted" title="(output: Int)Boolean">isCompleted</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.changeBehavior.output" title="akka.stream.scaladsl.FlexiRoute.OutputHandle">output</a>.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;OutputHandle.portIndex" title="=&gt; Int">portIndex</a><span class="delimiter">)</span>, <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Demand not allowed from completed &quot;)">Demand not allowed from completed $</span><a href="#akka.stream.impl;FlexiRouteImpl.changeBehavior.output" title="akka.stream.scaladsl.FlexiRoute.OutputHandle">output</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
          <a href="#akka.stream.impl;FlexiRouteImpl.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="FanOut.scala.html#akka.stream.impl.FanOut;OutputBunch.unmarkAllOutputs" title="()Unit">unmarkAllOutputs</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#akka.stream.impl;FlexiRouteImpl.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="FanOut.scala.html#akka.stream.impl.FanOut;OutputBunch.markOutput" title="(output: Int)Unit">markOutput</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.changeBehavior.output" title="akka.stream.scaladsl.FlexiRoute.OutputHandle">output</a>.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;OutputHandle.portIndex" title="=&gt; Int">portIndex</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <a href="#akka.stream.impl;FlexiRouteImpl.changeBehavior" title="(newBehavior: FlexiRouteImpl.this.routeLogic.State[_$1])Unit">changeBehavior</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.routeLogic" title="akka.stream.scaladsl.FlexiRoute.RouteLogic[Any]">routeLogic</a>.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;RouteLogic.initialState" title="=&gt; FlexiRouteImpl.this.routeLogic.State[_]">initialState</a><span class="delimiter">)</span>
  <a href="#akka.stream.impl;FlexiRouteImpl.changeCompletionHandling" title="(newCompletion: FlexiRouteImpl.this.CompletionT)Unit">changeCompletionHandling</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.routeLogic" title="akka.stream.scaladsl.FlexiRoute.RouteLogic[Any]">routeLogic</a>.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;RouteLogic.initialCompletionHandling" title="=&gt; FlexiRouteImpl.this.routeLogic.CompletionHandling">initialCompletionHandling</a><span class="delimiter">)</span>

  <a href="Transfer.scala.html#akka.stream.impl;Pump.nextPhase" title="(phase: akka.stream.impl.TransferPhase)Unit">nextPhase</a><span class="delimiter">(</span><a href="Transfer.scala.html#akka.stream.impl;TransferPhase" title="(precondition: akka.stream.impl.TransferState)(action: () =&gt; Unit)akka.stream.impl.TransferPhase">TransferPhase</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.precondition" title="=&gt; akka.stream.impl.TransferState">precondition</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> ⇒
    val <a title="Any" id="akka.stream.impl;FlexiRouteImpl.<local FlexiRouteImpl>.$anonfun.elem">elem</a> = <a href="#akka.stream.impl;FlexiRouteImpl.primaryInputs" title="=&gt; akka.stream.impl.Inputs">primaryInputs</a>.<a href="Transfer.scala.html#akka.stream.impl;Inputs.dequeueInputElement" title="()Any">dequeueInputElement</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#akka.stream.impl;FlexiRouteImpl.behavior_=" title="=&gt; FlexiRouteImpl.this.StateT">behavior</a>.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;RouteLogic;State.condition" title="=&gt; akka.stream.scaladsl.FlexiRoute.DemandCondition">condition</a> match <span class="delimiter">{</span>
      case <a title="akka.stream.scaladsl.FlexiRoute.DemandFromAny" id="akka.stream.impl;FlexiRouteImpl.<local FlexiRouteImpl>.$anonfun.any">any</a>: <a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;DemandFromAny" title="akka.stream.scaladsl.FlexiRoute.DemandFromAny">DemandFromAny</a> ⇒
        val <span title="Int">id</span> = <a href="#akka.stream.impl;FlexiRouteImpl.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="FanOut.scala.html#akka.stream.impl.FanOut;OutputBunch.idToEnqueueAndYield" title="()Int">idToEnqueueAndYield</a><span class="delimiter">(</span><span class="delimiter">)</span>
        val <span title="akka.stream.scaladsl.FlexiRoute.OutputHandle">outputHandle</span> = <a href="#akka.stream.impl;FlexiRouteImpl.outputMapping" title="(key: Int)akka.stream.scaladsl.FlexiRoute.OutputHandle">outputMapping</a><span class="delimiter">(</span><span title="Int">id</span><span class="delimiter">)</span>
        <a href="#akka.stream.impl;FlexiRouteImpl.changeBehavior" title="(newBehavior: FlexiRouteImpl.this.routeLogic.State[_$2])Unit">changeBehavior</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.behavior_=" title="=&gt; FlexiRouteImpl.this.StateT">behavior</a>.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;RouteLogic;State.onInput" title="(v1: FlexiRouteImpl.this.routeLogic.RouteLogicContext[Any], v2: akka.stream.scaladsl.FlexiRoute.OutputHandle, v3: Any)FlexiRouteImpl.this.routeLogic.State[_]">onInput</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.ctx" title="=&gt; FlexiRouteImpl.this.routeLogic.RouteLogicContext[Any]">ctx</a>, <span title="akka.stream.scaladsl.FlexiRoute.OutputHandle">outputHandle</span>, <a href="#akka.stream.impl;FlexiRouteImpl.<local FlexiRouteImpl>.$anonfun.elem" title="Any">elem</a><span class="delimiter">)</span><span class="delimiter">)</span>

      case DemandFrom<span class="delimiter">(</span><span title="akka.stream.scaladsl.FlexiRoute.OutputHandle">outputHandle</span><span class="delimiter">)</span> ⇒
        <a href="#akka.stream.impl;FlexiRouteImpl.changeBehavior" title="(newBehavior: FlexiRouteImpl.this.routeLogic.State[_$2])Unit">changeBehavior</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.behavior_=" title="=&gt; FlexiRouteImpl.this.StateT">behavior</a>.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;RouteLogic;State.onInput" title="(v1: FlexiRouteImpl.this.routeLogic.RouteLogicContext[Any], v2: akka.stream.scaladsl.FlexiRoute.OutputHandle, v3: Any)FlexiRouteImpl.this.routeLogic.State[_]">onInput</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.ctx" title="=&gt; FlexiRouteImpl.this.routeLogic.RouteLogicContext[Any]">ctx</a>, <span title="akka.stream.scaladsl.FlexiRoute.OutputHandle">outputHandle</span>, <a href="#akka.stream.impl;FlexiRouteImpl.<local FlexiRouteImpl>.$anonfun.elem" title="Any">elem</a><span class="delimiter">)</span><span class="delimiter">)</span>

      case <a title="akka.stream.scaladsl.FlexiRoute.DemandFromAll" id="akka.stream.impl;FlexiRouteImpl.<local FlexiRouteImpl>.$anonfun.all">all</a>: <a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;DemandFromAll" title="akka.stream.scaladsl.FlexiRoute.DemandFromAll">DemandFromAll</a> ⇒
        val <span title="Int">id</span> = <a href="#akka.stream.impl;FlexiRouteImpl.outputBunch" title="=&gt; akka.stream.impl.FanOut.OutputBunch">outputBunch</a>.<a href="FanOut.scala.html#akka.stream.impl.FanOut;OutputBunch.idToEnqueueAndYield" title="()Int">idToEnqueueAndYield</a><span class="delimiter">(</span><span class="delimiter">)</span>
        val <span title="akka.stream.scaladsl.FlexiRoute.OutputHandle">outputHandle</span> = <a href="#akka.stream.impl;FlexiRouteImpl.outputMapping" title="(key: Int)akka.stream.scaladsl.FlexiRoute.OutputHandle">outputMapping</a><span class="delimiter">(</span><span title="Int">id</span><span class="delimiter">)</span>
        <a href="#akka.stream.impl;FlexiRouteImpl.changeBehavior" title="(newBehavior: FlexiRouteImpl.this.routeLogic.State[_$2])Unit">changeBehavior</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.behavior_=" title="=&gt; FlexiRouteImpl.this.StateT">behavior</a>.<a href="../scaladsl/FlexiRoute.scala.html#akka.stream.scaladsl.FlexiRoute;RouteLogic;State.onInput" title="(v1: FlexiRouteImpl.this.routeLogic.RouteLogicContext[Any], v2: akka.stream.scaladsl.FlexiRoute.OutputHandle, v3: Any)FlexiRouteImpl.this.routeLogic.State[_]">onInput</a><span class="delimiter">(</span><a href="#akka.stream.impl;FlexiRouteImpl.ctx" title="=&gt; FlexiRouteImpl.this.routeLogic.RouteLogicContext[Any]">ctx</a>, <span title="akka.stream.scaladsl.FlexiRoute.OutputHandle">outputHandle</span>, <a href="#akka.stream.impl;FlexiRouteImpl.<local FlexiRouteImpl>.$anonfun.elem" title="Any">elem</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="delimiter">}</span>

  <span class="delimiter">}</span><span class="delimiter">)</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>
