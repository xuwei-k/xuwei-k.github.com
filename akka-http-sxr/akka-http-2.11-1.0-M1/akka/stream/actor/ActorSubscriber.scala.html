<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>akka/stream/actor/ActorSubscriber.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (C) 2014 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
package akka.stream.actor

import java.util.concurrent.ConcurrentHashMap
import org.reactivestreams.<span class="delimiter">{</span> Subscriber, Subscription <span class="delimiter">}</span>
import akka.actor.AbstractActor
import akka.actor.Actor
import akka.actor.ActorRef
import akka.actor.ActorSystem
import akka.actor.ExtendedActorSystem
import akka.actor.Extension
import akka.actor.ExtensionId
import akka.actor.ExtensionIdProvider
import akka.actor.UntypedActor

object <a title="akka.stream.actor.ActorSubscriber.type" id="akka.stream.actor.ActorSubscriber">ActorSubscriber</a> <a href="#akka.stream.actor.ActorSubscriber" title="akka.stream.actor.ActorSubscriber.type" class="delimiter">{</a>

  <span class="comment">/**
   * Attach a [[ActorSubscriber]] actor as a [[org.reactivestreams.Subscriber]]
   * to a [[org.reactivestreams.Publisher]] or [[akka.stream.scaladsl.Flow]].
   */</span>
  def <a title="[T](ref: akka.actor.ActorRef)org.reactivestreams.Subscriber[T]" id="akka.stream.actor.ActorSubscriber.apply">apply</a><span class="delimiter">[</span><a title="" id="akka.stream.actor.ActorSubscriber.apply;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.stream.actor.ActorSubscriber.apply.ref">ref</a>: <span title="akka.actor.ActorRef">ActorRef</span><span class="delimiter">)</span>: <span title="org.reactivestreams.Subscriber[T]">Subscriber</span><span class="delimiter">[</span>T<span class="delimiter">]</span> = new <a href="#akka.stream.actor;ActorSubscriberImpl" title="akka.stream.actor.ActorSubscriberImpl[T]">ActorSubscriberImpl</a><span class="delimiter">(</span><a href="#akka.stream.actor.ActorSubscriber.apply.ref" title="akka.actor.ActorRef">ref</a><span class="delimiter">)</span>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span> private<span class="delimiter">[</span>akka<span class="delimiter">]</span> case class <a title="class OnSubscribe extends AnyRef with Product with Serializable" id="akka.stream.actor.ActorSubscriber.OnSubscribe.readResolve">OnSubscribe</a><a href="#akka.stream.actor.ActorSubscriber.OnSubscribe.readResolve" title="Product" class="delimiter">(</a><a title="org.reactivestreams.Subscription" id="akka.stream.actor.ActorSubscriber;OnSubscribe.subscription">subscription</a>: <span title="org.reactivestreams.Subscription">Subscription</span><span class="delimiter">)</span>

<span class="delimiter">}</span>

sealed abstract class <a title="class ActorSubscriberMessage extends AnyRef" id="akka.stream.actor;ActorSubscriberMessage">ActorSubscriberMessage</a>

object <a title="akka.stream.actor.ActorSubscriberMessage.type" id="akka.stream.actor.ActorSubscriberMessage">ActorSubscriberMessage</a> <a href="#akka.stream.actor.ActorSubscriberMessage" title="akka.stream.actor.ActorSubscriberMessage.type" class="delimiter">{</a>
  @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span> case class <a title="class OnNext extends akka.stream.actor.ActorSubscriberMessage with Product with Serializable" id="akka.stream.actor.ActorSubscriberMessage.OnNext.readResolve">OnNext</a><span title="Product" class="delimiter">(</span><a title="Any" id="akka.stream.actor.ActorSubscriberMessage;OnNext.element">element</a>: <span title="Any">Any</span><span class="delimiter">)</span> extends <a href="#akka.stream.actor;ActorSubscriberMessage" title="akka.stream.actor.ActorSubscriberMessage">ActorSubscriberMessage</a>
  @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span> case class <a title="class OnError extends akka.stream.actor.ActorSubscriberMessage with Product with Serializable" id="akka.stream.actor.ActorSubscriberMessage.OnError.readResolve">OnError</a><span title="Product" class="delimiter">(</span><a title="Throwable" id="akka.stream.actor.ActorSubscriberMessage;OnError.cause">cause</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span> extends <a href="#akka.stream.actor;ActorSubscriberMessage" title="akka.stream.actor.ActorSubscriberMessage">ActorSubscriberMessage</a>
  @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span> case object <a href="#akka.stream.actor.ActorSubscriberMessage.OnComplete.productElement.x$1" title="akka.stream.actor.ActorSubscriberMessage.OnComplete.type" id="akka.stream.actor.ActorSubscriberMessage.OnComplete.readResolve">OnComplete</a> extends <a href="#akka.stream.actor;ActorSubscriberMessage" title="akka.stream.actor.ActorSubscriberMessage">ActorSubscriberMessage</a>

  <span class="comment">/**
   * Java API: get the singleton instance of the `OnComplete` message
   */</span>
  def <a title="=&gt; akka.stream.actor.ActorSubscriberMessage.OnComplete.type" id="akka.stream.actor.ActorSubscriberMessage.onCompleteInstance">onCompleteInstance</a> = <a href="#akka.stream.actor.ActorSubscriberMessage.OnComplete.readResolve" title="akka.stream.actor.ActorSubscriberMessage.OnComplete.type">OnComplete</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * An [[ActorSubscriber]] defines a `RequestStrategy` to control the stream back pressure.
 */</span>
trait <a title="trait RequestStrategy extends AnyRef" id="akka.stream.actor;RequestStrategy">RequestStrategy</a> <span class="delimiter">{</span>
  <span class="comment">/**
   * Invoked by the [[ActorSubscriber]] after each incoming message to
   * determine how many more elements to request from the stream.
   *
   * @param remainingRequested current remaining number of elements that
   *   have been requested from upstream but not received yet
   * @return demand of more elements from the stream, returning 0 means that no
   *   more elements will be requested for now
   */</span>
  def <a title="(remainingRequested: Int)Int" id="akka.stream.actor;RequestStrategy.requestDemand">requestDemand</a><span class="delimiter">(</span><a title="Int" id="akka.stream.actor;RequestStrategy.requestDemand.remainingRequested">remainingRequested</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Int">Int</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Requests one more element when `remainingRequested` is 0, i.e.
 * max one element in flight.
 */</span>
case object <a href="#akka.stream.actor.OneByOneRequestStrategy.productElement.x$1" title="akka.stream.actor.OneByOneRequestStrategy.type" id="akka.stream.actor.OneByOneRequestStrategy.readResolve">OneByOneRequestStrategy</a> extends <a href="#akka.stream.actor;RequestStrategy" title="akka.stream.actor.RequestStrategy">RequestStrategy</a> <span class="delimiter">{</span>
  def <a title="(remainingRequested: Int)Int" id="akka.stream.actor.OneByOneRequestStrategy.requestDemand">requestDemand</a><span class="delimiter">(</span><a title="Int" id="akka.stream.actor.OneByOneRequestStrategy.requestDemand.remainingRequested">remainingRequested</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Int">Int</span> =
    if <span class="delimiter">(</span><a href="#akka.stream.actor.OneByOneRequestStrategy.requestDemand.remainingRequested" title="Int">remainingRequested</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="Int(1)" class="int">1</span> else <span title="Int(0)" class="int">0</span>

  <span class="comment">/**
   * Java API: get the singleton instance
   */</span>
  def <a title="=&gt; akka.stream.actor.OneByOneRequestStrategy.type" id="akka.stream.actor.OneByOneRequestStrategy.getInstance">getInstance</a> = this
<span class="delimiter">}</span>

<span class="comment">/**
 * When request is only controlled with manual calls to
 * [[ActorSubscriber#request]].
 */</span>
case object <a href="#akka.stream.actor.ZeroRequestStrategy.productElement.x$1" title="akka.stream.actor.ZeroRequestStrategy.type" id="akka.stream.actor.ZeroRequestStrategy.readResolve">ZeroRequestStrategy</a> extends <a href="#akka.stream.actor;RequestStrategy" title="akka.stream.actor.RequestStrategy">RequestStrategy</a> <span class="delimiter">{</span>
  def <a title="(remainingRequested: Int)Int" id="akka.stream.actor.ZeroRequestStrategy.requestDemand">requestDemand</a><span class="delimiter">(</span><a title="Int" id="akka.stream.actor.ZeroRequestStrategy.requestDemand.remainingRequested">remainingRequested</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span>

  <span class="comment">/**
   * Java API: get the singleton instance
   */</span>
  def <a title="=&gt; akka.stream.actor.ZeroRequestStrategy.type" id="akka.stream.actor.ZeroRequestStrategy.getInstance">getInstance</a> = this
<span class="delimiter">}</span>

object <a title="akka.stream.actor.WatermarkRequestStrategy.type" id="akka.stream.actor.WatermarkRequestStrategy.readResolve">WatermarkRequestStrategy</a> <a href="#akka.stream.actor.WatermarkRequestStrategy.readResolve" title="akka.stream.actor.WatermarkRequestStrategy.type" class="delimiter">{</a>
  <span class="comment">/**
   * Create [[WatermarkRequestStrategy]] with `lowWatermark` as half of
   * the specifed `highWatermark`.
   */</span>
  def <a title="(highWatermark: Int)akka.stream.actor.WatermarkRequestStrategy" id="akka.stream.actor.WatermarkRequestStrategy.apply(5b4de260c3)">apply</a><span class="delimiter">(</span><a title="Int" id="akka.stream.actor.WatermarkRequestStrategy.apply(5b4de260c3).highWatermark">highWatermark</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#akka.stream.actor;WatermarkRequestStrategy.equals" title="akka.stream.actor.WatermarkRequestStrategy">WatermarkRequestStrategy</a> = new <a href="#akka.stream.actor;WatermarkRequestStrategy.equals" title="akka.stream.actor.WatermarkRequestStrategy">WatermarkRequestStrategy</a><span class="delimiter">(</span><a href="#akka.stream.actor.WatermarkRequestStrategy.apply(5b4de260c3).highWatermark" title="Int">highWatermark</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Requests up to the `highWatermark` when the `remainingRequested` is
 * below the `lowWatermark`. This a good strategy when the actor performs work itself.
 */</span>
case class <a title="(highWatermark: Int, lowWatermark: Int)akka.stream.actor.WatermarkRequestStrategy" id="akka.stream.actor;WatermarkRequestStrategy.equals">WatermarkRequestStrategy</a><span title="Product" class="delimiter">(</span><a title="Int" id="akka.stream.actor;WatermarkRequestStrategy.copy$default$1">highWatermark</a>: <span title="Int">Int</span>, <a title="Int" id="akka.stream.actor;WatermarkRequestStrategy.copy$default$2">lowWatermark</a>: <span title="Int">Int</span><span class="delimiter">)</span> extends <a href="#akka.stream.actor;RequestStrategy" title="akka.stream.actor.RequestStrategy">RequestStrategy</a> <span class="delimiter">{</span>

  <span class="comment">/**
   * Create [[WatermarkRequestStrategy]] with `lowWatermark` as half of
   * the specifed `highWatermark`.
   */</span>
  def this<span class="delimiter">(</span><a title="Int" id="akka.stream.actor;WatermarkRequestStrategy.<init>(5b4de260c3).highWatermark">highWatermark</a>: <span title="Int">Int</span><span class="delimiter">)</span> = this<span class="delimiter">(</span><a href="#akka.stream.actor;WatermarkRequestStrategy.<init>(5b4de260c3).highWatermark" title="Int">highWatermark</a>, lowWatermark = math.<span title="(x: Int, y: Int)Int">max</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <a href="#akka.stream.actor;WatermarkRequestStrategy.<init>(5b4de260c3).highWatermark" title="Int">highWatermark</a> <span title="(x: Int)Int">/</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span><span class="delimiter">)</span>

  def <a title="(remainingRequested: Int)Int" id="akka.stream.actor;WatermarkRequestStrategy.requestDemand">requestDemand</a><span class="delimiter">(</span><a title="Int" id="akka.stream.actor;WatermarkRequestStrategy.requestDemand.remainingRequested">remainingRequested</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Int">Int</span> =
    if <span class="delimiter">(</span><a href="#akka.stream.actor;WatermarkRequestStrategy.requestDemand.remainingRequested" title="Int">remainingRequested</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#akka.stream.actor;WatermarkRequestStrategy.copy$default$2" title="=&gt; Int">lowWatermark</a><span class="delimiter">)</span>
      <a href="#akka.stream.actor;WatermarkRequestStrategy.copy$default$1" title="=&gt; Int">highWatermark</a> <span title="(x: Int)Int">-</span> <a href="#akka.stream.actor;WatermarkRequestStrategy.requestDemand.remainingRequested" title="Int">remainingRequested</a>
    else <span title="Int(0)" class="int">0</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Requests up to the `max` and also takes the number of messages
 * that have been queued internally or delegated to other actors into account.
 * Concrete subclass must implement [[#inFlightInternally]].
 * It will request elements in minimum batches of the defined [[#batchSize]].
 */</span>
abstract class <a title="class MaxInFlightRequestStrategy extends AnyRef with akka.stream.actor.RequestStrategy" id="akka.stream.actor;MaxInFlightRequestStrategy">MaxInFlightRequestStrategy</a><a href="#akka.stream.actor;MaxInFlightRequestStrategy" title="akka.stream.actor.MaxInFlightRequestStrategy" class="delimiter">(</a><a title="Int" id="akka.stream.actor;MaxInFlightRequestStrategy.max">max</a>: <span title="Int">Int</span><span class="delimiter">)</span> extends <a href="#akka.stream.actor;RequestStrategy" title="akka.stream.actor.RequestStrategy">RequestStrategy</a> <span class="delimiter">{</span>

  <span class="comment">/**
   * Concrete subclass must implement this method to define how many
   * messages that are currently in progress or queued.
   */</span>
  def <a title="=&gt; Int" id="akka.stream.actor;MaxInFlightRequestStrategy.inFlightInternally">inFlightInternally</a>: <span title="Int">Int</span>

  <span class="comment">/**
   * Elements will be requested in minimum batches of this size.
   * Default is 5. Subclass may override to define the batch size.
   */</span>
  def <a title="=&gt; Int" id="akka.stream.actor;MaxInFlightRequestStrategy.batchSize">batchSize</a>: <span title="Int">Int</span> = <span title="Int(5)" class="int">5</span>

  override def <a title="(remainingRequested: Int)Int" id="akka.stream.actor;MaxInFlightRequestStrategy.requestDemand">requestDemand</a><span class="delimiter">(</span><a title="Int" id="akka.stream.actor;MaxInFlightRequestStrategy.requestDemand.remainingRequested">remainingRequested</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
    val <a title="Int" id="akka.stream.actor;MaxInFlightRequestStrategy.requestDemand.batch">batch</a> = math.<span title="(x: Int, y: Int)Int">min</span><span class="delimiter">(</span><a href="#akka.stream.actor;MaxInFlightRequestStrategy.batchSize" title="=&gt; Int">batchSize</a>, <a href="#akka.stream.actor;MaxInFlightRequestStrategy.max" title="Int">max</a><span class="delimiter">)</span>
    if <span class="delimiter">(</span><span class="delimiter">(</span><a href="#akka.stream.actor;MaxInFlightRequestStrategy.requestDemand.remainingRequested" title="Int">remainingRequested</a> <span title="(x: Int)Int">+</span> <a href="#akka.stream.actor;MaxInFlightRequestStrategy.inFlightInternally" title="=&gt; Int">inFlightInternally</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">&lt;=</span> <span class="delimiter">(</span><a href="#akka.stream.actor;MaxInFlightRequestStrategy.max" title="Int">max</a> <span title="(x: Int)Int">-</span> <a href="#akka.stream.actor;MaxInFlightRequestStrategy.requestDemand.batch" title="Int">batch</a><span class="delimiter">)</span><span class="delimiter">)</span>
      math.<span title="(x: Int, y: Int)Int">max</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#akka.stream.actor;MaxInFlightRequestStrategy.max" title="Int">max</a> <span title="(x: Int)Int">-</span> <a href="#akka.stream.actor;MaxInFlightRequestStrategy.requestDemand.remainingRequested" title="Int">remainingRequested</a> <span title="(x: Int)Int">-</span> <a href="#akka.stream.actor;MaxInFlightRequestStrategy.inFlightInternally" title="=&gt; Int">inFlightInternally</a><span class="delimiter">)</span>
    else <span title="Int(0)" class="int">0</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Extend/mixin this trait in your [[akka.actor.Actor]] to make it a
 * stream subscriber with full control of stream back pressure. It will receive
 * [[ActorSubscriberMessage.OnNext]], [[ActorSubscriberMessage.OnComplete]] and [[ActorSubscriberMessage.OnError]]
 * messages from the stream. It can also receive other, non-stream messages, in
 * the same way as any actor.
 *
 * Attach the actor as a [[org.reactivestreams.Subscriber]] to the stream with
 * Scala API [[ActorSubscriber#apply]], or Java API [[UntypedActorSubscriber#create]] or
 * Java API compatible with lambda expressions [[AbstractActorSubscriber#create]].
 *
 * Subclass must define the [[RequestStrategy]] to control stream back pressure.
 * After each incoming message the `ActorSubscriber` will automatically invoke
 * the [[RequestStrategy#requestDemand]] and propagate the returned demand to the stream.
 * The provided [[WatermarkRequestStrategy]] is a good strategy if the actor
 * performs work itself.
 * The provided [[MaxInFlightRequestStrategy]] is useful if messages are
 * queued internally or delegated to other actors.
 * You can also implement a custom [[RequestStrategy]] or call [[#request]] manually
 * together with [[ZeroRequestStrategy]] or some other strategy. In that case
 * you must also call [[#request]] when the actor is started or when it is ready, otherwise
 * it will not receive any elements.
 */</span>
trait <a title="trait ActorSubscriber extends AnyRef with akka.actor.Actor" id="akka.stream.actor;ActorSubscriber">ActorSubscriber</a> extends <span title="akka.actor.Actor">Actor</span> <span class="delimiter">{</span>
  import <a href="#akka.stream.actor.ActorSubscriber" title="akka.stream.actor.ActorSubscriber.type">ActorSubscriber</a>._
  import <a href="#akka.stream.actor.ActorSubscriberMessage" title="akka.stream.actor.ActorSubscriberMessage.type">ActorSubscriberMessage</a>._

  private val <a title="akka.stream.actor.ActorSubscriberState" id="akka.stream.actor;ActorSubscriber.state">state</a> = <a href="#akka.stream.actor.ActorSubscriberState" title="(system: akka.actor.ActorSystem)akka.stream.actor.ActorSubscriberState">ActorSubscriberState</a><span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber" title="=&gt; akka.actor.ActorContext">context</a>.<span title="=&gt; akka.actor.ActorSystem">system</span><span class="delimiter">)</span>
  private var <a title="Option[org.reactivestreams.Subscription]" id="akka.stream.actor;ActorSubscriber.subscription_=">subscription</a>: <span title="Option[org.reactivestreams.Subscription]">Option</span><span class="delimiter">[</span>Subscription<span class="delimiter">]</span> = <span title="None.type">None</span>
  private var <a title="Long" id="akka.stream.actor;ActorSubscriber.requested_=">requested</a>: <span title="Long">Long</span> = <span title="Long(0L)" class="int">0</span>
  private var <a title="Boolean" id="akka.stream.actor;ActorSubscriber.canceled_=">canceled</a> = false

  protected def <a title="=&gt; akka.stream.actor.RequestStrategy" id="akka.stream.actor;ActorSubscriber.requestStrategy">requestStrategy</a>: <a href="#akka.stream.actor;RequestStrategy" title="akka.stream.actor.RequestStrategy">RequestStrategy</a>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  protected<span class="delimiter">[</span>akka<span class="delimiter">]</span> override def <a title="(receive: ActorSubscriber.this.Receive, msg: Any)Unit" id="akka.stream.actor;ActorSubscriber.aroundReceive">aroundReceive</a><span class="delimiter">(</span><a title="ActorSubscriber.this.Receive" id="akka.stream.actor;ActorSubscriber.aroundReceive.receive">receive</a>: <span title="ActorSubscriber.this.Receive">Receive</span>, <a title="Any" id="akka.stream.actor;ActorSubscriber.aroundReceive.msg">msg</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.stream.actor;ActorSubscriber.aroundReceive.msg" title="Any">msg</a> match <span class="delimiter">{</span>
    case _: <a href="#akka.stream.actor.ActorSubscriberMessage.OnNext.readResolve" title="akka.stream.actor.ActorSubscriberMessage.OnNext">OnNext</a> ⇒
      <a href="#akka.stream.actor;ActorSubscriber.requested_=" title="(x$1: Long)Unit">requested</a> <span title="(x: Int)Long">-=</span> <span title="Int(1)" class="int">1</span>
      if <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.stream.actor;ActorSubscriber.canceled_=" title="=&gt; Boolean">canceled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        super.<span title="(receive: akka.actor.Actor.Receive, msg: Any)Unit">aroundReceive</span><span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber.aroundReceive.receive" title="ActorSubscriber.this.Receive">receive</a>, <a href="#akka.stream.actor;ActorSubscriber.aroundReceive.msg" title="Any">msg</a><span class="delimiter">)</span>
        <a href="#akka.stream.actor;ActorSubscriber.request" title="(elements: Long)Unit">request</a><span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber.requestStrategy" title="=&gt; akka.stream.actor.RequestStrategy">requestStrategy</a>.<a href="#akka.stream.actor;RequestStrategy.requestDemand" title="(remainingRequested: Int)Int">requestDemand</a><span title="=&gt; Long" class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber.remainingRequested" title="=&gt; Int">remainingRequested</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    case OnSubscribe<span class="delimiter">(</span><a title="org.reactivestreams.Subscription" id="akka.stream.actor;ActorSubscriber.aroundReceive.sub">sub</a><span class="delimiter">)</span> ⇒
      if <span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber.subscription_=" title="=&gt; Option[org.reactivestreams.Subscription]">subscription</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#akka.stream.actor;ActorSubscriber.subscription_=" title="(x$1: Option[org.reactivestreams.Subscription])Unit">subscription</a> = <span title="(x: org.reactivestreams.Subscription)Some[org.reactivestreams.Subscription]">Some</span><span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber.aroundReceive.sub" title="org.reactivestreams.Subscription">sub</a><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber.canceled_=" title="=&gt; Boolean">canceled</a><span class="delimiter">)</span>
          <a href="#akka.stream.actor;ActorSubscriber.aroundReceive.sub" title="org.reactivestreams.Subscription">sub</a>.<span title="()Unit">cancel</span><span class="delimiter">(</span><span class="delimiter">)</span>
        else if <span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber.requested_=" title="=&gt; Long">requested</a> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
          <a href="#akka.stream.actor;ActorSubscriber.aroundReceive.sub" title="org.reactivestreams.Subscription">sub</a>.<span title="(x$1: Long)Unit">request</span><span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber.remainingRequested" title="=&gt; Long">remainingRequested</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> else
        <a href="#akka.stream.actor;ActorSubscriber.aroundReceive.sub" title="org.reactivestreams.Subscription">sub</a>.<span title="()Unit">cancel</span><span class="delimiter">(</span><span class="delimiter">)</span>
    case _: <a href="#akka.stream.actor.ActorSubscriberMessage.OnError.readResolve" title="akka.stream.actor.ActorSubscriberMessage.OnError">OnError</a> ⇒
      if <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.stream.actor;ActorSubscriber.canceled_=" title="=&gt; Boolean">canceled</a><span class="delimiter">)</span> super.<span title="(receive: akka.actor.Actor.Receive, msg: Any)Unit">aroundReceive</span><span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber.aroundReceive.receive" title="ActorSubscriber.this.Receive">receive</a>, <a href="#akka.stream.actor;ActorSubscriber.aroundReceive.msg" title="Any">msg</a><span class="delimiter">)</span>
    case _ ⇒
      super.<span title="(receive: akka.actor.Actor.Receive, msg: Any)Unit">aroundReceive</span><span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber.aroundReceive.receive" title="ActorSubscriber.this.Receive">receive</a>, <a href="#akka.stream.actor;ActorSubscriber.aroundReceive.msg" title="Any">msg</a><span class="delimiter">)</span>
      <a href="#akka.stream.actor;ActorSubscriber.request" title="(elements: Long)Unit">request</a><span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber.requestStrategy" title="=&gt; akka.stream.actor.RequestStrategy">requestStrategy</a>.<a href="#akka.stream.actor;RequestStrategy.requestDemand" title="(remainingRequested: Int)Int">requestDemand</a><span title="=&gt; Long" class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber.remainingRequested" title="=&gt; Int">remainingRequested</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  protected<span class="delimiter">[</span>akka<span class="delimiter">]</span> override def <a title="()Unit" id="akka.stream.actor;ActorSubscriber.aroundPreStart">aroundPreStart</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    super.<span title="()Unit">aroundPreStart</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#akka.stream.actor;ActorSubscriber.request" title="(elements: Long)Unit">request</a><span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber.requestStrategy" title="=&gt; akka.stream.actor.RequestStrategy">requestStrategy</a>.<a href="#akka.stream.actor;RequestStrategy.requestDemand" title="(remainingRequested: Int)Int">requestDemand</a><span title="=&gt; Long" class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber.remainingRequested" title="=&gt; Int">remainingRequested</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  protected<span class="delimiter">[</span>akka<span class="delimiter">]</span> override def <a title="(reason: Throwable)Unit" id="akka.stream.actor;ActorSubscriber.aroundPostRestart">aroundPostRestart</a><span class="delimiter">(</span><a title="Throwable" id="akka.stream.actor;ActorSubscriber.aroundPostRestart.reason">reason</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#akka.stream.actor;ActorSubscriber.state" title="=&gt; akka.stream.actor.ActorSubscriberState">state</a>.<a href="#akka.stream.actor;ActorSubscriberState.get" title="(ref: akka.actor.ActorRef)Option[akka.stream.actor.ActorSubscriberState.State]">get</a><span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber" title="=&gt; akka.actor.ActorRef">self</a><span class="delimiter">)</span> <span title="(f: akka.stream.actor.ActorSubscriberState.State =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="akka.stream.actor.ActorSubscriberState.State" id="akka.stream.actor;ActorSubscriber.aroundPostRestart.$anonfun.s">s</a> ⇒
      <span class="comment">// restore previous state </span>
      <a href="#akka.stream.actor;ActorSubscriber.subscription_=" title="(x$1: Option[org.reactivestreams.Subscription])Unit">subscription</a> = <a href="#akka.stream.actor;ActorSubscriber.aroundPostRestart.$anonfun.s" title="akka.stream.actor.ActorSubscriberState.State">s</a>.<a href="#akka.stream.actor.ActorSubscriberState;State.subscription" title="=&gt; Option[org.reactivestreams.Subscription]">subscription</a>
      <a href="#akka.stream.actor;ActorSubscriber.requested_=" title="(x$1: Long)Unit">requested</a> = <a href="#akka.stream.actor;ActorSubscriber.aroundPostRestart.$anonfun.s" title="akka.stream.actor.ActorSubscriberState.State">s</a>.<a href="#akka.stream.actor.ActorSubscriberState;State.requested" title="=&gt; Long">requested</a>
      <a href="#akka.stream.actor;ActorSubscriber.canceled_=" title="(x$1: Boolean)Unit">canceled</a> = <a href="#akka.stream.actor;ActorSubscriber.aroundPostRestart.$anonfun.s" title="akka.stream.actor.ActorSubscriberState.State">s</a>.<a href="#akka.stream.actor.ActorSubscriberState;State.canceled" title="=&gt; Boolean">canceled</a>
    <span class="delimiter">}</span>
    <a href="#akka.stream.actor;ActorSubscriber.state" title="=&gt; akka.stream.actor.ActorSubscriberState">state</a>.<a href="#akka.stream.actor;ActorSubscriberState.remove" title="(ref: akka.actor.ActorRef)Unit">remove</a><span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber" title="=&gt; akka.actor.ActorRef">self</a><span class="delimiter">)</span>
    super.<span title="(reason: Throwable)Unit">aroundPostRestart</span><span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber.aroundPostRestart.reason" title="Throwable">reason</a><span class="delimiter">)</span>
    <a href="#akka.stream.actor;ActorSubscriber.request" title="(elements: Long)Unit">request</a><span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber.requestStrategy" title="=&gt; akka.stream.actor.RequestStrategy">requestStrategy</a>.<a href="#akka.stream.actor;RequestStrategy.requestDemand" title="(remainingRequested: Int)Int">requestDemand</a><span title="=&gt; Long" class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber.remainingRequested" title="=&gt; Int">remainingRequested</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  protected<span class="delimiter">[</span>akka<span class="delimiter">]</span> override def <a title="(reason: Throwable, message: Option[Any])Unit" id="akka.stream.actor;ActorSubscriber.aroundPreRestart">aroundPreRestart</a><span class="delimiter">(</span><a title="Throwable" id="akka.stream.actor;ActorSubscriber.aroundPreRestart.reason">reason</a>: <span title="Throwable">Throwable</span>, <a title="Option[Any]" id="akka.stream.actor;ActorSubscriber.aroundPreRestart.message">message</a>: <span title="Option[Any]">Option</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span class="comment">// some state must survive restart</span>
    <a href="#akka.stream.actor;ActorSubscriber.state" title="=&gt; akka.stream.actor.ActorSubscriberState">state</a>.<a href="#akka.stream.actor;ActorSubscriberState.set" title="(ref: akka.actor.ActorRef, s: akka.stream.actor.ActorSubscriberState.State)Unit">set</a><span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber" title="=&gt; akka.actor.ActorRef">self</a>, <a href="#akka.stream.actor.ActorSubscriberState" title="akka.stream.actor.ActorSubscriberState.type">ActorSubscriberState</a>.<a href="#akka.stream.actor.ActorSubscriberState.State.readResolve" title="(subscription: Option[org.reactivestreams.Subscription], requested: Long, canceled: Boolean)akka.stream.actor.ActorSubscriberState.State">State</a><span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber.subscription_=" title="=&gt; Option[org.reactivestreams.Subscription]">subscription</a>, <a href="#akka.stream.actor;ActorSubscriber.requested_=" title="=&gt; Long">requested</a>, <a href="#akka.stream.actor;ActorSubscriber.canceled_=" title="=&gt; Boolean">canceled</a><span class="delimiter">)</span><span class="delimiter">)</span>
    super.<span title="(reason: Throwable, message: Option[Any])Unit">aroundPreRestart</span><span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber.aroundPreRestart.reason" title="Throwable">reason</a>, <a href="#akka.stream.actor;ActorSubscriber.aroundPreRestart.message" title="Option[Any]">message</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  protected<span class="delimiter">[</span>akka<span class="delimiter">]</span> override def <a title="()Unit" id="akka.stream.actor;ActorSubscriber.aroundPostStop">aroundPostStop</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#akka.stream.actor;ActorSubscriber.state" title="=&gt; akka.stream.actor.ActorSubscriberState">state</a>.<a href="#akka.stream.actor;ActorSubscriberState.remove" title="(ref: akka.actor.ActorRef)Unit">remove</a><span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber" title="=&gt; akka.actor.ActorRef">self</a><span class="delimiter">)</span>
    if <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.stream.actor;ActorSubscriber.canceled_=" title="=&gt; Boolean">canceled</a><span class="delimiter">)</span> <a href="#akka.stream.actor;ActorSubscriber.subscription_=" title="=&gt; Option[org.reactivestreams.Subscription]">subscription</a>.<span title="(f: org.reactivestreams.Subscription =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber.aroundPostStop.$anonfun.x$1" title="org.reactivestreams.Subscription">_</a>.<span title="()Unit">cancel</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    super.<span title="()Unit">aroundPostStop</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Request a number of elements from upstream.
   */</span>
  protected def <a title="(elements: Long)Unit" id="akka.stream.actor;ActorSubscriber.request">request</a><span class="delimiter">(</span><a title="Long" id="akka.stream.actor;ActorSubscriber.request.elements">elements</a>: <span title="Long">Long</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    if <span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber.request.elements" title="Long">elements</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#akka.stream.actor;ActorSubscriber.canceled_=" title="=&gt; Boolean">canceled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="comment">// if we don't have a subscription yet, it will be requested when it arrives</span>
      <a href="#akka.stream.actor;ActorSubscriber.subscription_=" title="=&gt; Option[org.reactivestreams.Subscription]">subscription</a>.<span title="(f: org.reactivestreams.Subscription =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber.request.$anonfun.x$2" title="org.reactivestreams.Subscription">_</a>.<span title="(x$1: Long)Unit">request</span><span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber.request.elements" title="Long">elements</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#akka.stream.actor;ActorSubscriber.requested_=" title="(x$1: Long)Unit">requested</a> <span title="(x: Long)Long">+=</span> <a href="#akka.stream.actor;ActorSubscriber.request.elements" title="Long">elements</a>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * Cancel upstream subscription. No more elements will
   * be delivered after cancel.
   */</span>
  protected def <a title="()Unit" id="akka.stream.actor;ActorSubscriber.cancel">cancel</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#akka.stream.actor;ActorSubscriber.subscription_=" title="=&gt; Option[org.reactivestreams.Subscription]">subscription</a>.<span title="(f: org.reactivestreams.Subscription =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber.cancel.$anonfun.x$3" title="org.reactivestreams.Subscription">_</a>.<span title="()Unit">cancel</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#akka.stream.actor;ActorSubscriber.canceled_=" title="(x$1: Boolean)Unit">canceled</a> = true
  <span class="delimiter">}</span>

  private def <a title="=&gt; Int" id="akka.stream.actor;ActorSubscriber.remainingRequested">remainingRequested</a>: <span title="Int">Int</span> = <a href="#akka.stream.actor;ActorSubscriber.longToIntMax" title="(n: Long)Int">longToIntMax</a><span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber.requested_=" title="=&gt; Long">requested</a><span class="delimiter">)</span>

  private def <a title="(n: Long)Int" id="akka.stream.actor;ActorSubscriber.longToIntMax">longToIntMax</a><span class="delimiter">(</span><a title="Long" id="akka.stream.actor;ActorSubscriber.longToIntMax.n">n</a>: <span title="Long">Long</span><span class="delimiter">)</span>: <span title="Int">Int</span> =
    if <span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriber.longToIntMax.n" title="Long">n</a> <span title="(x: Int)Boolean">&gt;</span> Int.<span title="Int(2147483647)">MaxValue</span><span class="delimiter">)</span> Int.<span title="Int(2147483647)">MaxValue</span>
    else <a href="#akka.stream.actor;ActorSubscriber.longToIntMax.n" title="Long">n</a>.<span title="=&gt; Int">toInt</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>akka<span class="delimiter">]</span> final class <a title="class ActorSubscriberImpl[T] extends Object with org.reactivestreams.Subscriber[T]" id="akka.stream.actor;ActorSubscriberImpl">ActorSubscriberImpl</a><span class="delimiter">[</span><a title="" id="akka.stream.actor;ActorSubscriberImpl;T">T</a><span class="delimiter">]</span><a href="#akka.stream.actor;ActorSubscriberImpl" title="akka.stream.actor.ActorSubscriberImpl[T]" class="delimiter">(</a>val <a title="akka.actor.ActorRef" id="akka.stream.actor;ActorSubscriberImpl.impl">impl</a>: <span title="akka.actor.ActorRef">ActorRef</span><span class="delimiter">)</span> extends <a href="#akka.stream.actor;ActorSubscriberImpl" title="org.reactivestreams.Subscriber[T]">Subscriber</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="delimiter">{</span>
  import <a href="#akka.stream.actor.ActorSubscriberMessage" title="akka.stream.actor.ActorSubscriberMessage.type">ActorSubscriberMessage</a>._
  override def <a title="(cause: Throwable)Unit" id="akka.stream.actor;ActorSubscriberImpl.onError">onError</a><span class="delimiter">(</span><a title="Throwable" id="akka.stream.actor;ActorSubscriberImpl.onError.cause">cause</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.stream.actor;ActorSubscriberImpl.impl" title="akka.actor.ScalaActorRef" id="akka.stream.actor;ActorSubscriberImpl.onError.qual$1">impl</a> <a title="akka.actor.ActorRef" id="akka.stream.actor;ActorSubscriberImpl.onError.x$5">!</a> <a href="#akka.stream.actor.ActorSubscriberMessage.OnError.readResolve" title="(cause: Throwable)akka.stream.actor.ActorSubscriberMessage.OnError">OnError</a><a title="akka.stream.actor.ActorSubscriberMessage.OnError" id="akka.stream.actor;ActorSubscriberImpl.onError.x$4" class="delimiter">(</a><a href="#akka.stream.actor;ActorSubscriberImpl.onError.cause" title="Throwable">cause</a><span class="delimiter">)</span>
  override def <a title="()Unit" id="akka.stream.actor;ActorSubscriberImpl.onComplete">onComplete</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.stream.actor;ActorSubscriberImpl.impl" title="akka.actor.ScalaActorRef" id="akka.stream.actor;ActorSubscriberImpl.onComplete.qual$2">impl</a> <a title="akka.actor.ActorRef" id="akka.stream.actor;ActorSubscriberImpl.onComplete.x$7">!</a> <a href="#akka.stream.actor.ActorSubscriberMessage.OnComplete.readResolve" title="akka.stream.actor.ActorSubscriberMessage.OnComplete.type" id="akka.stream.actor;ActorSubscriberImpl.onComplete.x$6">OnComplete</a>
  override def <a title="(element: T)Unit" id="akka.stream.actor;ActorSubscriberImpl.onNext">onNext</a><span class="delimiter">(</span><a title="T" id="akka.stream.actor;ActorSubscriberImpl.onNext.element">element</a>: <a href="#akka.stream.actor;ActorSubscriberImpl;T" title="T">T</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.stream.actor;ActorSubscriberImpl.impl" title="akka.actor.ScalaActorRef" id="akka.stream.actor;ActorSubscriberImpl.onNext.qual$3">impl</a> <a title="akka.actor.ActorRef" id="akka.stream.actor;ActorSubscriberImpl.onNext.x$9">!</a> <a href="#akka.stream.actor.ActorSubscriberMessage.OnNext.readResolve" title="(element: Any)akka.stream.actor.ActorSubscriberMessage.OnNext">OnNext</a><a title="akka.stream.actor.ActorSubscriberMessage.OnNext" id="akka.stream.actor;ActorSubscriberImpl.onNext.x$8" class="delimiter">(</a><a href="#akka.stream.actor;ActorSubscriberImpl.onNext.element" title="T">element</a><span class="delimiter">)</span>
  override def <a title="(subscription: org.reactivestreams.Subscription)Unit" id="akka.stream.actor;ActorSubscriberImpl.onSubscribe">onSubscribe</a><span class="delimiter">(</span><a title="org.reactivestreams.Subscription" id="akka.stream.actor;ActorSubscriberImpl.onSubscribe.subscription">subscription</a>: <span title="org.reactivestreams.Subscription">Subscription</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.stream.actor;ActorSubscriberImpl.impl" title="akka.actor.ScalaActorRef" id="akka.stream.actor;ActorSubscriberImpl.onSubscribe.qual$4">impl</a> <a title="akka.actor.ActorRef" id="akka.stream.actor;ActorSubscriberImpl.onSubscribe.x$11">!</a> <a href="#akka.stream.actor.ActorSubscriber" title="akka.stream.actor.ActorSubscriber.type">ActorSubscriber</a>.<a href="#akka.stream.actor.ActorSubscriber.OnSubscribe.readResolve" title="(subscription: org.reactivestreams.Subscription)akka.stream.actor.ActorSubscriber.OnSubscribe">OnSubscribe</a><a title="akka.stream.actor.ActorSubscriber.OnSubscribe" id="akka.stream.actor;ActorSubscriberImpl.onSubscribe.x$10" class="delimiter">(</a><a href="#akka.stream.actor;ActorSubscriberImpl.onSubscribe.subscription" title="org.reactivestreams.Subscription">subscription</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 * Some state must survive restarts.
 */</span>
private<span class="delimiter">[</span>akka<span class="delimiter">]</span> object <a title="akka.stream.actor.ActorSubscriberState.type" id="akka.stream.actor.ActorSubscriberState">ActorSubscriberState</a> extends <span title="akka.actor.ExtensionId[akka.stream.actor.ActorSubscriberState]">ExtensionId</span><span class="delimiter">[</span>ActorSubscriberState<span class="delimiter">]</span> with <span title="akka.actor.ExtensionIdProvider">ExtensionIdProvider</span> <span class="delimiter">{</span>
  override def <a title="(system: akka.actor.ActorSystem)akka.stream.actor.ActorSubscriberState" id="akka.stream.actor.ActorSubscriberState.get">get</a><span class="delimiter">(</span><a title="akka.actor.ActorSystem" id="akka.stream.actor.ActorSubscriberState.get.system">system</a>: <span title="akka.actor.ActorSystem">ActorSystem</span><span class="delimiter">)</span>: <a href="#akka.stream.actor;ActorSubscriberState" title="akka.stream.actor.ActorSubscriberState">ActorSubscriberState</a> = super.<span title="(system: akka.actor.ActorSystem)akka.stream.actor.ActorSubscriberState">get</span><span class="delimiter">(</span><a href="#akka.stream.actor.ActorSubscriberState.get.system" title="akka.actor.ActorSystem">system</a><span class="delimiter">)</span>

  override def <a title="()akka.stream.actor.ActorSubscriberState.type" id="akka.stream.actor.ActorSubscriberState.lookup">lookup</a> = <a href="#akka.stream.actor.ActorSubscriberState" title="akka.stream.actor.ActorSubscriberState.type">ActorSubscriberState</a>

  override def <a title="(system: akka.actor.ExtendedActorSystem)akka.stream.actor.ActorSubscriberState" id="akka.stream.actor.ActorSubscriberState.createExtension">createExtension</a><span class="delimiter">(</span><a title="akka.actor.ExtendedActorSystem" id="akka.stream.actor.ActorSubscriberState.createExtension.system">system</a>: <span title="akka.actor.ExtendedActorSystem">ExtendedActorSystem</span><span class="delimiter">)</span>: <a href="#akka.stream.actor;ActorSubscriberState" title="akka.stream.actor.ActorSubscriberState">ActorSubscriberState</a> =
    new <a href="#akka.stream.actor;ActorSubscriberState" title="akka.stream.actor.ActorSubscriberState">ActorSubscriberState</a>

  case class <a title="class State extends AnyRef with Product with Serializable" id="akka.stream.actor.ActorSubscriberState.State.readResolve">State</a><a href="#akka.stream.actor.ActorSubscriberState.State.readResolve" title="Product" class="delimiter">(</a><a title="Option[org.reactivestreams.Subscription]" id="akka.stream.actor.ActorSubscriberState;State.subscription">subscription</a>: <span title="Option[org.reactivestreams.Subscription]">Option</span><span class="delimiter">[</span>Subscription<span class="delimiter">]</span>, <a title="Long" id="akka.stream.actor.ActorSubscriberState;State.requested">requested</a>: <span title="Long">Long</span>, <a title="Boolean" id="akka.stream.actor.ActorSubscriberState;State.canceled">canceled</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>akka<span class="delimiter">]</span> class <a title="class ActorSubscriberState extends AnyRef with akka.actor.Extension" id="akka.stream.actor;ActorSubscriberState">ActorSubscriberState</a> extends <a href="#akka.stream.actor;ActorSubscriberState" title="akka.actor.Extension">Extension</a> <span class="delimiter">{</span>
  import <a href="#akka.stream.actor.ActorSubscriberState" title="akka.stream.actor.ActorSubscriberState.type">ActorSubscriberState</a>.State
  private val <a title="java.util.concurrent.ConcurrentHashMap[akka.actor.ActorRef,akka.stream.actor.ActorSubscriberState.State]" id="akka.stream.actor;ActorSubscriberState.state">state</a> = new <span title="java.util.concurrent.ConcurrentHashMap[akka.actor.ActorRef,akka.stream.actor.ActorSubscriberState.State]">ConcurrentHashMap</span><span class="delimiter">[</span>ActorRef, State<span class="delimiter">]</span>

  def <a title="(ref: akka.actor.ActorRef)Option[akka.stream.actor.ActorSubscriberState.State]" id="akka.stream.actor;ActorSubscriberState.get">get</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.stream.actor;ActorSubscriberState.get.ref">ref</a>: <span title="akka.actor.ActorRef">ActorRef</span><span class="delimiter">)</span>: <span title="Option[akka.stream.actor.ActorSubscriberState.State]">Option</span><span class="delimiter">[</span>State<span class="delimiter">]</span> = <span title="(x: akka.stream.actor.ActorSubscriberState.State)Option[akka.stream.actor.ActorSubscriberState.State]">Option</span><span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriberState.state" title="=&gt; java.util.concurrent.ConcurrentHashMap[akka.actor.ActorRef,akka.stream.actor.ActorSubscriberState.State]">state</a>.<span title="(x$1: Any)akka.stream.actor.ActorSubscriberState.State">get</span><span class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriberState.get.ref" title="akka.actor.ActorRef">ref</a><span class="delimiter">)</span><span class="delimiter">)</span>

  def <a title="(ref: akka.actor.ActorRef, s: akka.stream.actor.ActorSubscriberState.State)Unit" id="akka.stream.actor;ActorSubscriberState.set">set</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.stream.actor;ActorSubscriberState.set.ref">ref</a>: <span title="akka.actor.ActorRef">ActorRef</span>, <a title="akka.stream.actor.ActorSubscriberState.State" id="akka.stream.actor;ActorSubscriberState.set.s">s</a>: <a href="#akka.stream.actor.ActorSubscriberState.State.readResolve" title="akka.stream.actor.ActorSubscriberState.State">State</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.stream.actor;ActorSubscriberState.state" title="=&gt; java.util.concurrent.ConcurrentHashMap[akka.actor.ActorRef,akka.stream.actor.ActorSubscriberState.State]">state</a>.<span title="(x$1: akka.actor.ActorRef, x$2: akka.stream.actor.ActorSubscriberState.State)akka.stream.actor.ActorSubscriberState.State">put</span><span title="Unit" class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriberState.set.ref" title="akka.actor.ActorRef">ref</a>, <a href="#akka.stream.actor;ActorSubscriberState.set.s" title="akka.stream.actor.ActorSubscriberState.State">s</a><span class="delimiter">)</span>

  def <a title="(ref: akka.actor.ActorRef)Unit" id="akka.stream.actor;ActorSubscriberState.remove">remove</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.stream.actor;ActorSubscriberState.remove.ref">ref</a>: <span title="akka.actor.ActorRef">ActorRef</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.stream.actor;ActorSubscriberState.state" title="=&gt; java.util.concurrent.ConcurrentHashMap[akka.actor.ActorRef,akka.stream.actor.ActorSubscriberState.State]">state</a>.<span title="(x$1: Any)akka.stream.actor.ActorSubscriberState.State">remove</span><span title="Unit" class="delimiter">(</span><a href="#akka.stream.actor;ActorSubscriberState.remove.ref" title="akka.actor.ActorRef">ref</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Java API
 */</span>
object <a title="akka.stream.actor.UntypedActorSubscriber.type" id="akka.stream.actor.UntypedActorSubscriber">UntypedActorSubscriber</a> <a href="#akka.stream.actor.UntypedActorSubscriber" title="akka.stream.actor.UntypedActorSubscriber.type" class="delimiter">{</a>
  <span class="comment">/**
   * Java API: Attach a [[UntypedActorSubscriber]] actor as a [[org.reactivestreams.Subscriber]]
   * to a [[org.reactivestreams.Publisher]] or [[akka.stream.javadsl.Flow]].
   */</span>
  def <a title="[T](ref: akka.actor.ActorRef)org.reactivestreams.Subscriber[T]" id="akka.stream.actor.UntypedActorSubscriber.create">create</a><span class="delimiter">[</span><a title="" id="akka.stream.actor.UntypedActorSubscriber.create;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.stream.actor.UntypedActorSubscriber.create.ref">ref</a>: <span title="akka.actor.ActorRef">ActorRef</span><span class="delimiter">)</span>: <span title="org.reactivestreams.Subscriber[T]">Subscriber</span><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#akka.stream.actor.ActorSubscriber" title="akka.stream.actor.ActorSubscriber.type">ActorSubscriber</a>.<a href="#akka.stream.actor.ActorSubscriber.apply" title="(ref: akka.actor.ActorRef)org.reactivestreams.Subscriber[T]">apply</a><span class="delimiter">(</span><a href="#akka.stream.actor.UntypedActorSubscriber.create.ref" title="akka.actor.ActorRef">ref</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Java API
 * @see [[akka.stream.actor.ActorSubscriber]]
 */</span>
abstract class <a title="class UntypedActorSubscriber extends akka.actor.UntypedActor with akka.stream.actor.ActorSubscriber" id="akka.stream.actor;UntypedActorSubscriber">UntypedActorSubscriber</a> extends <a href="#akka.stream.actor;UntypedActorSubscriber" title="akka.actor.UntypedActor">UntypedActor</a> with <a href="#akka.stream.actor;ActorSubscriber" title="akka.stream.actor.ActorSubscriber">ActorSubscriber</a>

<span class="comment">/**
 * Java API compatible with lambda expressions
 */</span>
object <a title="akka.stream.actor.AbstractActorSubscriber.type" id="akka.stream.actor.AbstractActorSubscriber">AbstractActorSubscriber</a> <a href="#akka.stream.actor.AbstractActorSubscriber" title="akka.stream.actor.AbstractActorSubscriber.type" class="delimiter">{</a>
  <span class="comment">/**
   * Java API compatible with lambda expressions: Attach a [[AbstractActorSubscriber]] actor
   * as a [[org.reactivestreams.Subscriber]] o a [[org.reactivestreams.Publisher]] or
   * [[akka.stream.javadsl.Flow]].
   */</span>
  def <a title="[T](ref: akka.actor.ActorRef)org.reactivestreams.Subscriber[T]" id="akka.stream.actor.AbstractActorSubscriber.create">create</a><span class="delimiter">[</span><a title="" id="akka.stream.actor.AbstractActorSubscriber.create;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.stream.actor.AbstractActorSubscriber.create.ref">ref</a>: <span title="akka.actor.ActorRef">ActorRef</span><span class="delimiter">)</span>: <span title="org.reactivestreams.Subscriber[T]">Subscriber</span><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#akka.stream.actor.ActorSubscriber" title="akka.stream.actor.ActorSubscriber.type">ActorSubscriber</a>.<a href="#akka.stream.actor.ActorSubscriber.apply" title="(ref: akka.actor.ActorRef)org.reactivestreams.Subscriber[T]">apply</a><span class="delimiter">(</span><a href="#akka.stream.actor.AbstractActorSubscriber.create.ref" title="akka.actor.ActorRef">ref</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Java API compatible with lambda expressions
 * @see [[akka.stream.actor.ActorSubscriber]]
 */</span>
abstract class <a title="class AbstractActorSubscriber extends akka.actor.AbstractActor with akka.stream.actor.ActorSubscriber" id="akka.stream.actor;AbstractActorSubscriber">AbstractActorSubscriber</a> extends <a href="#akka.stream.actor;AbstractActorSubscriber" title="akka.actor.AbstractActor">AbstractActor</a> with <a href="#akka.stream.actor;ActorSubscriber" title="akka.stream.actor.ActorSubscriber">ActorSubscriber</a>

        </pre>
    </body>
</html>
