<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>akka/http/server/directives/ExecutionDirectives.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright (C) 2009-2014 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>

package akka.http.server
package directives

import akka.http.util.FastFuture
import <a href="../../util/FastFuture.scala.html#akka.http.util.FastFuture" title="akka.http.util.FastFuture.type">FastFuture</a>._

import scala.concurrent.Future
import scala.util.control.NonFatal

trait <a title="trait ExecutionDirectives extends AnyRef" id="akka.http.server.directives;ExecutionDirectives">ExecutionDirectives</a> <span title="Unit" class="delimiter">{</span>
  import <a href="BasicDirectives.scala.html#akka.http.server.directives.BasicDirectives" title="akka.http.server.directives.BasicDirectives.type">BasicDirectives</a>._

  <span class="comment">/**
   * Transforms exceptions thrown during evaluation of its inner route using the given
   * [[akka.http.server.ExceptionHandler]].
   */</span>
  def <a title="(handler: akka.http.server.ExceptionHandler)akka.http.server.Directive0" id="akka.http.server.directives;ExecutionDirectives.handleExceptions">handleExceptions</a><span class="delimiter">(</span><a title="akka.http.server.ExceptionHandler" id="akka.http.server.directives;ExecutionDirectives.handleExceptions.handler">handler</a>: <a href="../ExceptionHandler.scala.html#akka.http.server;ExceptionHandler" title="akka.http.server.ExceptionHandler">ExceptionHandler</a><span class="delimiter">)</span>: <a href="../Directive.scala.html#akka.http.server;Directive" title="akka.http.server.Directive0">Directive0</a> =
    <a href="../Directive.scala.html#akka.http.server.Directive.apply" title="(f: (Unit =&gt; akka.http.server.Route) =&gt; akka.http.server.Route)(implicit evidence$4: akka.http.server.util.Tuple[Unit])akka.http.server.Directive[Unit]">Directive</a> <a href="../util/Tuple.scala.html#akka.http.server.util.Tuple.forUnit" title="akka.http.server.util.Tuple[Unit]" class="delimiter">{</a> <a title="Unit =&gt; akka.http.server.Route" id="akka.http.server.directives;ExecutionDirectives.handleExceptions.$anonfun.innerRouteBuilder">innerRouteBuilder</a> ⇒
      <a title="akka.http.server.RequestContext" id="akka.http.server.directives;ExecutionDirectives.handleExceptions.$anonfun.$anonfun.ctx">ctx</a> ⇒
        import <a href="#akka.http.server.directives;ExecutionDirectives.handleExceptions.$anonfun.$anonfun.ctx" title="akka.http.server.RequestContext">ctx</a>.executionContext
        def <a title="=&gt; PartialFunction[Throwable,scala.concurrent.Future[akka.http.server.RouteResult]]" id="akka.http.server.directives;ExecutionDirectives.handleExceptions.$anonfun.$anonfun.handleException">handleException</a>: <span title="PartialFunction[Throwable,scala.concurrent.Future[akka.http.server.RouteResult]]">PartialFunction</span><span class="delimiter">[</span>Throwable, Future<span class="delimiter">[</span>RouteResult<span class="delimiter">]</span><span class="delimiter">]</span> =
          <a href="#akka.http.server.directives;ExecutionDirectives.handleExceptions.handler" title="akka.http.server.ExceptionHandler">handler</a> <span title="(k: akka.http.server.Route =&gt; scala.concurrent.Future[akka.http.server.RouteResult])PartialFunction[Throwable,scala.concurrent.Future[akka.http.server.RouteResult]]">andThen</span> <span class="delimiter">(</span><a href="#akka.http.server.directives;ExecutionDirectives.handleExceptions.$anonfun.$anonfun.handleException.$anonfun.x$1" title="(v1: akka.http.server.RequestContext)scala.concurrent.Future[akka.http.server.RouteResult]">_</a><span class="delimiter">(</span><a href="#akka.http.server.directives;ExecutionDirectives.handleExceptions.$anonfun.$anonfun.ctx" title="akka.http.server.RequestContext">ctx</a>.<a href="../RequestContext.scala.html#akka.http.server;RequestContext.withContentNegotiationDisabled" title="=&gt; akka.http.server.RequestContext">withContentNegotiationDisabled</a><span class="delimiter">)</span><span class="delimiter">)</span>
        try <a href="#akka.http.server.directives;ExecutionDirectives.handleExceptions.$anonfun.innerRouteBuilder" title="(v1: Unit)akka.http.server.Route">innerRouteBuilder</a><span title="(v1: akka.http.server.RequestContext)scala.concurrent.Future[akka.http.server.RouteResult]" class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><a href="../../util/FastFuture.scala.html#akka.http.util.FastFuture.EnhancedFuture(70d292f3d1)" title="(future: scala.concurrent.Future[akka.http.server.RouteResult])akka.http.util.FastFuture.EnhancedFuture[akka.http.server.RouteResult]" class="delimiter">(</a><a href="#akka.http.server.directives;ExecutionDirectives.handleExceptions.$anonfun.$anonfun.ctx" title="akka.http.server.RequestContext">ctx</a><span class="delimiter">)</span>.<a href="../../util/FastFuture.scala.html#akka.http.util.FastFuture;EnhancedFuture.fast" title="=&gt; akka.http.util.FastFuture[akka.http.server.RouteResult]">fast</a>.<a href="../../util/FastFuture.scala.html#akka.http.util;FastFuture.recoverWith" title="(pf: PartialFunction[Throwable,scala.concurrent.Future[akka.http.server.RouteResult]])(implicit ec: scala.concurrent.ExecutionContext)scala.concurrent.Future[akka.http.server.RouteResult]">recoverWith</a><a href="../RequestContext.scala.html#akka.http.server;RequestContext.executionContext" title="=&gt; scala.concurrent.ExecutionContext" class="delimiter">(</a><a href="#akka.http.server.directives;ExecutionDirectives.handleExceptions.$anonfun.$anonfun.handleException" title="=&gt; PartialFunction[Throwable,scala.concurrent.Future[akka.http.server.RouteResult]]">handleException</a><span class="delimiter">)</span>
        catch <span class="delimiter">{</span>
          case <a href="#akka.http.server.directives;ExecutionDirectives.handleExceptions.$anonfun.$anonfun.<unapply-selector>" title="(t: Throwable)Option[Throwable]">NonFatal</a><span class="delimiter">(</span><a title="Throwable" id="akka.http.server.directives;ExecutionDirectives.handleExceptions.$anonfun.$anonfun.e">e</a><span class="delimiter">)</span> ⇒ <a href="#akka.http.server.directives;ExecutionDirectives.handleExceptions.$anonfun.$anonfun.handleException" title="=&gt; PartialFunction[Throwable,scala.concurrent.Future[akka.http.server.RouteResult]]">handleException</a>.<span title="[A1 &lt;: Throwable, B1 &gt;: scala.concurrent.Future[akka.http.server.RouteResult]](x: A1, default: A1 =&gt; B1)B1">applyOrElse</span><span title="(x: Throwable, default: Throwable =&gt; scala.concurrent.Future[akka.http.server.RouteResult])scala.concurrent.Future[akka.http.server.RouteResult]" class="delimiter">[</span><span title="Throwable">Throwable</span>, <span title="scala.concurrent.Future[akka.http.server.RouteResult]">Future</span><span class="delimiter">[</span>RouteResult<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#akka.http.server.directives;ExecutionDirectives.handleExceptions.$anonfun.$anonfun.e" title="Throwable">e</a>, throw <a href="#akka.http.server.directives;ExecutionDirectives.handleExceptions.$anonfun.$anonfun.$anonfun.x$2" title="Throwable">_</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * Transforms rejections produced by its inner route using the given
   * [[akka.http.server.RejectionHandler]].
   */</span>
  def <a title="(handler: akka.http.server.RejectionHandler)akka.http.server.Directive0" id="akka.http.server.directives;ExecutionDirectives.handleRejections">handleRejections</a><span class="delimiter">(</span><a title="akka.http.server.RejectionHandler" id="akka.http.server.directives;ExecutionDirectives.handleRejections.handler">handler</a>: <a href="../RejectionHandler.scala.html#akka.http.server;RejectionHandler" title="akka.http.server.RejectionHandler">RejectionHandler</a><span class="delimiter">)</span>: <a href="../Directive.scala.html#akka.http.server;Directive" title="akka.http.server.Directive0">Directive0</a> =
    <a href="../Directive.scala.html#akka.http.server.Directive.SingleValueModifiers" title="(underlying: akka.http.server.Directive1[akka.http.server.RequestContext])akka.http.server.Directive.SingleValueModifiers[akka.http.server.RequestContext]">extractRequestContext</a> <a href="../Directive.scala.html#akka.http.server.Directive;SingleValueModifiers.flatMap" title="(f: akka.http.server.RequestContext =&gt; akka.http.server.Directive[Unit])(implicit evidence$5: akka.http.server.util.Tuple[Unit])akka.http.server.Directive[Unit]">flatMap</a> <span class="delimiter">{</span> <a title="akka.http.server.RequestContext" id="akka.http.server.directives;ExecutionDirectives.handleRejections.$anonfun.ctx">ctx</a> ⇒
      <a href="BasicDirectives.scala.html#akka.http.server.directives;BasicDirectives.recoverRejectionsWith" title="(f: scala.collection.immutable.Seq[akka.http.server.Rejection] =&gt; scala.concurrent.Future[akka.http.server.RouteResult])akka.http.server.Directive0">recoverRejectionsWith</a> <span class="delimiter">{</span> <a title="scala.collection.immutable.Seq[akka.http.server.Rejection]" id="akka.http.server.directives;ExecutionDirectives.handleRejections.$anonfun.$anonfun.rejections">rejections</a> ⇒
        val <a title="scala.collection.immutable.Seq[akka.http.server.Rejection]" id="akka.http.server.directives;ExecutionDirectives.handleRejections.$anonfun.$anonfun.filteredRejections">filteredRejections</a> = <a href="../RejectionHandler.scala.html#akka.http.server.RejectionHandler" title="akka.http.server.RejectionHandler.type">RejectionHandler</a>.<a href="../RejectionHandler.scala.html#akka.http.server.RejectionHandler.applyTransformations" title="(rejections: scala.collection.immutable.Seq[akka.http.server.Rejection])scala.collection.immutable.Seq[akka.http.server.Rejection]">applyTransformations</a><span class="delimiter">(</span><a href="#akka.http.server.directives;ExecutionDirectives.handleRejections.$anonfun.$anonfun.rejections" title="scala.collection.immutable.Seq[akka.http.server.Rejection]">rejections</a><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="#akka.http.server.directives;ExecutionDirectives.handleRejections.handler" title="akka.http.server.RejectionHandler">handler</a> <span title="(x: scala.collection.immutable.Seq[akka.http.server.Rejection])Boolean">isDefinedAt</span> <a href="#akka.http.server.directives;ExecutionDirectives.handleRejections.$anonfun.$anonfun.filteredRejections" title="scala.collection.immutable.Seq[akka.http.server.Rejection]">filteredRejections</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          val <a title="String" id="akka.http.server.directives;ExecutionDirectives.handleRejections.$anonfun.$anonfun.errorMsg">errorMsg</a> = <span title="String(&quot;The RejectionHandler for %s must not itself produce rejections (received %s)!&quot;)" class="string">&quot;The RejectionHandler for %s must not itself produce rejections (received %s)!&quot;</span>
          <a href="BasicDirectives.scala.html#akka.http.server.directives;BasicDirectives.recoverRejections" title="(f: scala.collection.immutable.Seq[akka.http.server.Rejection] =&gt; akka.http.server.RouteResult)akka.http.server.Directive0">recoverRejections</a><a href="../Directive.scala.html#akka.http.server.Directive.addByNameNullaryApply" title="(v1: =&gt; akka.http.server.Route)akka.http.server.Route" class="delimiter">(</a><a title="scala.collection.immutable.Seq[akka.http.server.Rejection]" id="akka.http.server.directives;ExecutionDirectives.handleRejections.$anonfun.$anonfun.$anonfun.r">r</a> ⇒ sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><a href="#akka.http.server.directives;ExecutionDirectives.handleRejections.$anonfun.$anonfun.errorMsg" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">errorMsg</a>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#akka.http.server.directives;ExecutionDirectives.handleRejections.$anonfun.$anonfun.filteredRejections" title="scala.collection.immutable.Seq[akka.http.server.Rejection]">filteredRejections</a>, <a href="#akka.http.server.directives;ExecutionDirectives.handleRejections.$anonfun.$anonfun.$anonfun.r" title="scala.collection.immutable.Seq[akka.http.server.Rejection]">r</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(v1: akka.http.server.RequestContext)scala.concurrent.Future[akka.http.server.RouteResult]" class="delimiter">{</span>
            <a href="#akka.http.server.directives;ExecutionDirectives.handleRejections.handler" title="(v1: scala.collection.immutable.Seq[akka.http.server.Rejection])akka.http.server.Route">handler</a><span class="delimiter">(</span><a href="#akka.http.server.directives;ExecutionDirectives.handleRejections.$anonfun.$anonfun.filteredRejections" title="scala.collection.immutable.Seq[akka.http.server.Rejection]">filteredRejections</a><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">(</span><a href="#akka.http.server.directives;ExecutionDirectives.handleRejections.$anonfun.ctx" title="akka.http.server.RequestContext">ctx</a>.<a href="../RequestContext.scala.html#akka.http.server;RequestContext.withContentNegotiationDisabled" title="=&gt; akka.http.server.RequestContext">withContentNegotiationDisabled</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> else <a href="../../util/FastFuture.scala.html#akka.http.util.FastFuture" title="akka.http.util.FastFuture.type">FastFuture</a>.<a href="../../util/FastFuture.scala.html#akka.http.util.FastFuture.successful" title="(v1: akka.http.server.RouteResult.Rejected)scala.concurrent.Future[akka.http.server.RouteResult.Rejected]">successful</a><span class="delimiter">(</span><a href="../RouteResult.scala.html#akka.http.server.RouteResult" title="akka.http.server.RouteResult.type">RouteResult</a>.<a href="../RouteResult.scala.html#akka.http.server.RouteResult;Rejected" title="(rejections: scala.collection.immutable.Seq[akka.http.server.Rejection])akka.http.server.RouteResult.Rejected">Rejected</a><span class="delimiter">(</span><a href="#akka.http.server.directives;ExecutionDirectives.handleRejections.$anonfun.$anonfun.filteredRejections" title="scala.collection.immutable.Seq[akka.http.server.Rejection]">filteredRejections</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

object <a title="akka.http.server.directives.ExecutionDirectives.type" id="akka.http.server.directives.ExecutionDirectives">ExecutionDirectives</a> extends <a href="#akka.http.server.directives;ExecutionDirectives" title="akka.http.server.directives.ExecutionDirectives">ExecutionDirectives</a>
        </pre>
    </body>
</html>
