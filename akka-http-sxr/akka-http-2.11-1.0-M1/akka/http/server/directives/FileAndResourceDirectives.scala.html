<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>akka/http/server/directives/FileAndResourceDirectives.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright (C) 2009-2014 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>

package akka.http.server
package directives

import java.io.<span class="delimiter">{</span> File, FileInputStream <span class="delimiter">}</span>

import akka.actor.ActorSystem
import akka.event.LoggingAdapter
import akka.http.marshalling.<span class="delimiter">{</span> Marshaller, ToEntityMarshaller <span class="delimiter">}</span>
import akka.http.model._
import akka.http.model.headers._
import akka.http.util._

import scala.annotation.tailrec
import scala.concurrent.ExecutionContext

trait <a title="trait FileAndResourceDirectives extends AnyRef" id="akka.http.server.directives;FileAndResourceDirectives">FileAndResourceDirectives</a> <span title="Unit" class="delimiter">{</span>

  import <a href="CacheConditionDirectives.scala.html#akka.http.server.directives.CacheConditionDirectives" title="akka.http.server.directives.CacheConditionDirectives.type">CacheConditionDirectives</a>._
  import <a href="MethodDirectives.scala.html#akka.http.server.directives.MethodDirectives" title="akka.http.server.directives.MethodDirectives.type">MethodDirectives</a>._
  import <a href="#akka.http.server.directives.FileAndResourceDirectives" title="akka.http.server.directives.FileAndResourceDirectives.type">FileAndResourceDirectives</a>._
  import <a href="RouteDirectives.scala.html#akka.http.server.directives.RouteDirectives" title="akka.http.server.directives.RouteDirectives.type">RouteDirectives</a>._
  import <a href="BasicDirectives.scala.html#akka.http.server.directives.BasicDirectives" title="akka.http.server.directives.BasicDirectives.type">BasicDirectives</a>._
  import <a href="../RouteConcatenation.scala.html#akka.http.server.RouteConcatenation" title="akka.http.server.RouteConcatenation.type">RouteConcatenation</a>._
  import <a href="RangeDirectives.scala.html#akka.http.server.directives.RangeDirectives" title="akka.http.server.directives.RangeDirectives.type">RangeDirectives</a>._

  <span class="comment">/**
   * Completes GET requests with the content of the given file. The actual I/O operation is
   * running detached in a `Future`, so it doesn't block the current thread (but potentially
   * some other thread !). If the file cannot be found or read the request is rejected.
   */</span>
  def <a title="(fileName: String)(implicit resolver: akka.http.server.directives.ContentTypeResolver)akka.http.server.Route" id="akka.http.server.directives;FileAndResourceDirectives.getFromFile(1ace560f90)">getFromFile</a><span class="delimiter">(</span><a title="String" id="akka.http.server.directives;FileAndResourceDirectives.getFromFile(1ace560f90).fileName">fileName</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="akka.http.server.directives.ContentTypeResolver" id="akka.http.server.directives;FileAndResourceDirectives.getFromFile(1ace560f90).resolver">resolver</a>: <a href="#akka.http.server.directives;ContentTypeResolver" title="akka.http.server.directives.ContentTypeResolver">ContentTypeResolver</a><span class="delimiter">)</span>: <span title="akka.http.server.Route">Route</span> =
    <a href="#akka.http.server.directives;FileAndResourceDirectives.getFromFile(8dc4c1bcbf)" title="(file: java.io.File)(implicit resolver: akka.http.server.directives.ContentTypeResolver)akka.http.server.Route">getFromFile</a><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromFile(1ace560f90).resolver" title="akka.http.server.directives.ContentTypeResolver" class="delimiter">(</a>new <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromFile(1ace560f90).fileName" title="String">fileName</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Completes GET requests with the content of the given file. The actual I/O operation is
   * running detached in a `Future`, so it doesn't block the current thread (but potentially
   * some other thread !). If the file cannot be found or read the request is rejected.
   */</span>
  def <a title="(file: java.io.File)(implicit resolver: akka.http.server.directives.ContentTypeResolver)akka.http.server.Route" id="akka.http.server.directives;FileAndResourceDirectives.getFromFile(8dc4c1bcbf)">getFromFile</a><span class="delimiter">(</span><a title="java.io.File" id="akka.http.server.directives;FileAndResourceDirectives.getFromFile(8dc4c1bcbf).file">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="akka.http.server.directives.ContentTypeResolver" id="akka.http.server.directives;FileAndResourceDirectives.getFromFile(8dc4c1bcbf).resolver">resolver</a>: <a href="#akka.http.server.directives;ContentTypeResolver" title="akka.http.server.directives.ContentTypeResolver">ContentTypeResolver</a><span class="delimiter">)</span>: <span title="akka.http.server.Route">Route</span> =
    <a href="#akka.http.server.directives;FileAndResourceDirectives.getFromFile(4389d516af)" title="(file: java.io.File, contentType: akka.http.model.ContentType)akka.http.server.Route">getFromFile</a><span class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromFile(8dc4c1bcbf).file" title="java.io.File">file</a>, <a href="#akka.http.server.directives;ContentTypeResolver.apply" title="(fileName: String)akka.http.model.ContentType">resolver</a><span class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromFile(8dc4c1bcbf).file" title="java.io.File">file</a>.<span title="()String">getName</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Completes GET requests with the content of the given file. The actual I/O operation is
   * running detached in a `Future`, so it doesn't block the current thread (but potentially
   * some other thread !). If the file cannot be found or read the request is rejected.
   */</span>
  def <a title="(file: java.io.File, contentType: akka.http.model.ContentType)akka.http.server.Route" id="akka.http.server.directives;FileAndResourceDirectives.getFromFile(4389d516af)">getFromFile</a><span class="delimiter">(</span><a title="java.io.File" id="akka.http.server.directives;FileAndResourceDirectives.getFromFile(4389d516af).file">file</a>: <span title="java.io.File">File</span>, <a title="akka.http.model.ContentType" id="akka.http.server.directives;FileAndResourceDirectives.getFromFile(4389d516af).contentType">contentType</a>: <a href="../../model/ContentType.scala.html#akka.http.model;ContentType" title="akka.http.model.ContentType">ContentType</a><span class="delimiter">)</span>: <span title="akka.http.server.Route">Route</span> =
    <a href="../Directive.scala.html#akka.http.server.Directive.addByNameNullaryApply" title="(v1: =&gt; akka.http.server.Route)akka.http.server.Route">get</a> <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromFile(4389d516af).file" title="java.io.File">file</a>.<span title="()Boolean">isFile</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#akka.http.server.directives;FileAndResourceDirectives.getFromFile(4389d516af).file" title="java.io.File">file</a>.<span title="()Boolean">canRead</span><span class="delimiter">)</span>
        <a href="#akka.http.server.directives;FileAndResourceDirectives.conditionalFor" title="(length: Long, lastModified: Long)akka.http.server.Directive0">conditionalFor</a><a href="../Directive.scala.html#akka.http.server.Directive.addByNameNullaryApply" title="implicit akka.http.server.Directive.addByNameNullaryApply : (directive: akka.http.server.Directive0)(=&gt; akka.http.server.Route) =&gt; akka.http.server.Route" class="delimiter">(</a><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromFile(4389d516af).file" title="java.io.File">file</a>.<span title="()Long">length</span>, <a href="#akka.http.server.directives;FileAndResourceDirectives.getFromFile(4389d516af).file" title="java.io.File">file</a>.<span title="()Long">lastModified</span><span class="delimiter">)</span>.<span title="(v1: =&gt; akka.http.server.Route)akka.http.server.Route">apply</span> <span class="delimiter">{</span>
          <a href="../Directive.scala.html#akka.http.server.Directive.addByNameNullaryApply" title="(v1: =&gt; akka.http.server.Route)akka.http.server.Route">withRangeSupport</a> <span class="delimiter">{</span>
            <a href="../Directive.scala.html#akka.http.server.Directive.addDirectiveApply" title="(v1: scala.concurrent.ExecutionContext =&gt; (akka.http.server.RequestContext =&gt; scala.concurrent.Future[akka.http.server.RouteResult]))akka.http.server.RequestContext =&gt; scala.concurrent.Future[akka.http.server.RouteResult]">extractExecutionContext</a> <span class="delimiter">{</span> implicit <a title="scala.concurrent.ExecutionContext" id="akka.http.server.directives;FileAndResourceDirectives.getFromFile(4389d516af).$anonfun.ec">ec</a> ⇒
              <a href="RouteDirectives.scala.html#akka.http.server.directives;RouteDirectives.complete" title="(m: =&gt; akka.http.marshalling.ToResponseMarshallable)akka.http.server.StandardRoute">complete</a><span class="delimiter">(</span><a href="../../model/HttpEntity.scala.html#akka.http.model.HttpEntity" title="akka.http.model.HttpEntity.type">HttpEntity</a>.<a href="../../model/HttpEntity.scala.html#akka.http.model.HttpEntity;Default" title="(contentType: akka.http.model.ContentType, contentLength: Long, data: akka.stream.scaladsl.Source[akka.util.ByteString])akka.http.model.HttpEntity.Default">Default</a><a href="../../marshalling/ToResponseMarshallable.scala.html#akka.http.marshalling.ToResponseMarshallable.apply" title="(_value: akka.http.model.HttpEntity.Default)(implicit _marshaller: akka.http.marshalling.ToResponseMarshaller[akka.http.model.HttpEntity.Default])akka.http.marshalling.ToResponseMarshallable" class="delimiter">(</a><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromFile(4389d516af).contentType" title="akka.http.model.ContentType">contentType</a>, <a href="#akka.http.server.directives;FileAndResourceDirectives.getFromFile(4389d516af).file" title="java.io.File">file</a>.<span title="()Long">length</span>, <a href="../../util/StreamUtils.scala.html#akka.http.util.StreamUtils" title="akka.http.util.StreamUtils.type">StreamUtils</a>.<a href="../../util/StreamUtils.scala.html#akka.http.util.StreamUtils.fromInputStreamSource" title="(inputStream: java.io.InputStream, defaultChunkSize: Int)akka.stream.scaladsl.Source[akka.util.ByteString]">fromInputStreamSource</a><span class="delimiter">(</span>new <span title="java.io.FileInputStream">FileInputStream</span><span class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromFile(4389d516af).file" title="java.io.File">file</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      else <a href="RouteDirectives.scala.html#akka.http.server.directives;RouteDirectives.reject(f6291d9d68)" title="=&gt; akka.http.server.StandardRoute">reject</a>
    <span class="delimiter">}</span>

  private def <a title="(length: Long, lastModified: Long)akka.http.server.Directive0" id="akka.http.server.directives;FileAndResourceDirectives.conditionalFor">conditionalFor</a><span class="delimiter">(</span><a title="Long" id="akka.http.server.directives;FileAndResourceDirectives.conditionalFor.length">length</a>: <span title="Long">Long</span>, <a title="Long" id="akka.http.server.directives;FileAndResourceDirectives.conditionalFor.lastModified">lastModified</a>: <span title="Long">Long</span><span class="delimiter">)</span>: <a href="../Directive.scala.html#akka.http.server;Directive" title="akka.http.server.Directive0">Directive0</a> =
    <a href="../Directive.scala.html#akka.http.server.Directive.SingleValueModifiers" title="(underlying: akka.http.server.Directive1[akka.http.server.RoutingSettings])akka.http.server.Directive.SingleValueModifiers[akka.http.server.RoutingSettings]">extractSettings</a>.<a href="../Directive.scala.html#akka.http.server.Directive;SingleValueModifiers.flatMap" title="(f: akka.http.server.RoutingSettings =&gt; akka.http.server.Directive[Unit])(implicit evidence$5: akka.http.server.util.Tuple[Unit])akka.http.server.Directive[Unit]">flatMap</a><a href="../util/Tuple.scala.html#akka.http.server.util.Tuple.forUnit" title="akka.http.server.util.Tuple[Unit]" class="delimiter">(</a><a title="akka.http.server.RoutingSettings" id="akka.http.server.directives;FileAndResourceDirectives.conditionalFor.$anonfun.settings">settings</a> ⇒
      if <span class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.conditionalFor.$anonfun.settings" title="akka.http.server.RoutingSettings">settings</a>.<a href="../RoutingSettings.scala.html#akka.http.server;RoutingSettings.fileGetConditional" title="=&gt; Boolean">fileGetConditional</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        val <a title="String" id="akka.http.server.directives;FileAndResourceDirectives.conditionalFor.$anonfun.tag">tag</a> = java.lang.<span title="Long.type">Long</span>.<span title="(x$1: Long)String">toHexString</span><span class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.conditionalFor.lastModified" title="Long">lastModified</a> <span title="(x: Long)Long">^</span> java.lang.<span title="Long.type">Long</span>.<span title="(x$1: Long)Long">reverse</span><span class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.conditionalFor.length" title="Long">length</a><span class="delimiter">)</span><span class="delimiter">)</span>
        val <a title="akka.http.util.DateTime" id="akka.http.server.directives;FileAndResourceDirectives.conditionalFor.$anonfun.lastModifiedDateTime">lastModifiedDateTime</a> = <a href="../../util/DateTime.scala.html#akka.http.util.DateTime.apply(556d5254e4)" title="(clicks: Long)akka.http.util.DateTime">DateTime</a><span class="delimiter">(</span>math.<span title="(x: Long, y: Long)Long">min</span><span class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.conditionalFor.lastModified" title="Long">lastModified</a>, <span title="System.type">System</span>.<span title="()Long">currentTimeMillis</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="CacheConditionDirectives.scala.html#akka.http.server.directives;CacheConditionDirectives.conditional" title="(eTag: akka.http.model.headers.EntityTag, lastModified: akka.http.util.DateTime)akka.http.server.Directive0">conditional</a><span class="delimiter">(</span><a href="../../model/headers/EntityTag.scala.html#akka.http.model.headers;EntityTag" title="(tag: String, weak: Boolean)akka.http.model.headers.EntityTag">EntityTag</a><span class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.conditionalFor.$anonfun.tag" title="String">tag</a><span class="delimiter">)</span>, <a href="#akka.http.server.directives;FileAndResourceDirectives.conditionalFor.$anonfun.lastModifiedDateTime" title="akka.http.util.DateTime">lastModifiedDateTime</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> else <a href="BasicDirectives.scala.html#akka.http.server.directives;BasicDirectives.pass" title="=&gt; akka.http.server.Directive0">pass</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Completes GET requests with the content of the given resource. The actual I/O operation is
   * running detached in a `Future`, so it doesn't block the current thread (but potentially
   * some other thread !).
   * If the resource cannot be found or read the Route rejects the request.
   */</span>
  def <a title="(resourceName: String)(implicit resolver: akka.http.server.directives.ContentTypeResolver)akka.http.server.Route" id="akka.http.server.directives;FileAndResourceDirectives.getFromResource(1ecf468558)">getFromResource</a><span class="delimiter">(</span><a title="String" id="akka.http.server.directives;FileAndResourceDirectives.getFromResource(1ecf468558).resourceName">resourceName</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="akka.http.server.directives.ContentTypeResolver" id="akka.http.server.directives;FileAndResourceDirectives.getFromResource(1ecf468558).resolver">resolver</a>: <a href="#akka.http.server.directives;ContentTypeResolver" title="akka.http.server.directives.ContentTypeResolver">ContentTypeResolver</a><span class="delimiter">)</span>: <span title="akka.http.server.Route">Route</span> =
    <a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707)" title="(resourceName: String, contentType: akka.http.model.ContentType, theClassLoader: ClassLoader)akka.http.server.Route">getFromResource</a><span class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResource(1ecf468558).resourceName" title="String">resourceName</a>, <a href="#akka.http.server.directives;ContentTypeResolver.apply" title="(fileName: String)akka.http.model.ContentType">resolver</a><span class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResource(1ecf468558).resourceName" title="String">resourceName</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Completes GET requests with the content of the given resource. The actual I/O operation is
   * running detached in a `Future`, so it doesn't block the current thread (but potentially
   * some other thread !).
   * If the resource cannot be found or read the Route rejects the request.
   */</span>
  def <a title="(resourceName: String, contentType: akka.http.model.ContentType, theClassLoader: ClassLoader)akka.http.server.Route" id="akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707)">getFromResource</a><span class="delimiter">(</span><a title="String" id="akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707).resourceName">resourceName</a>: <span title="String">String</span>, <a title="akka.http.model.ContentType" id="akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707).contentType">contentType</a>: <a href="../../model/ContentType.scala.html#akka.http.model;ContentType" title="akka.http.model.ContentType">ContentType</a>, <a title="ClassLoader" id="akka.http.server.directives;FileAndResourceDirectives.getFromResource$default$3">theClassLoader</a>: <span title="ClassLoader">ClassLoader</span> = <a href="#akka.http.server.directives;FileAndResourceDirectives.defaultClassLoader" title="=&gt; ClassLoader">defaultClassLoader</a><span class="delimiter">)</span>: <span title="akka.http.server.Route">Route</span> =
    if <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707).resourceName" title="String">resourceName</a>.<span title="(x$1: String)Boolean">endsWith</span><span class="delimiter">(</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../Directive.scala.html#akka.http.server.Directive.addByNameNullaryApply" title="(v1: =&gt; akka.http.server.Route)akka.http.server.Route">get</a> <span class="delimiter">{</span>
        <a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResource$default$3" title="ClassLoader">theClassLoader</a>.<span title="(x$1: String)java.net.URL">getResource</span><span class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707).resourceName" title="String">resourceName</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
          case null ⇒ <a href="RouteDirectives.scala.html#akka.http.server.directives;RouteDirectives.reject(f6291d9d68)" title="=&gt; akka.http.server.StandardRoute">reject</a>
          case <a title="java.net.URL" id="akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707).url">url</a> ⇒
            val <a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707).length" title="(Int, Long)" class="delimiter">(</a><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707).x$1" title="Int" id="akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707).length">length</a>, <a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707).x$1" title="Long" id="akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707).lastModified">lastModified</a><span class="delimiter">)</span> = <span title="(Int, Long) @unchecked" class="delimiter">{</span>
              val <a title="java.net.URLConnection" id="akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707).x$1.conn">conn</a> = <a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707).url" title="java.net.URL">url</a>.<span title="()java.net.URLConnection">openConnection</span><span class="delimiter">(</span><span class="delimiter">)</span>
              try <span class="delimiter">{</span>
                <a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707).x$1.conn" title="java.net.URLConnection">conn</a>.<span title="(x$1: Boolean)Unit">setUseCaches</span><span class="delimiter">(</span>false<span class="delimiter">)</span> <span class="comment">// otherwise the JDK will keep the JAR file open when we close!</span>
                val <a title="Int" id="akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707).x$1.len">len</a> = <a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707).x$1.conn" title="java.net.URLConnection">conn</a>.<span title="()Int">getContentLength</span>
                val <a title="Long" id="akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707).x$1.lm">lm</a> = <a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707).x$1.conn" title="java.net.URLConnection">conn</a>.<span title="()Long">getLastModified</span>
                <a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707).x$1.len" title="(self: Int)ArrowAssoc[Int]">len</a> <span title="(y: Long)(Int, Long)">-&gt;</span> <a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707).x$1.lm" title="Long">lm</a>
              <span class="delimiter">}</span> finally <a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707).x$1.conn" title="java.net.URLConnection">conn</a>.<span title="()java.io.InputStream">getInputStream</span>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#akka.http.server.directives;FileAndResourceDirectives.conditionalFor" title="(length: Long, lastModified: Long)akka.http.server.Directive0">conditionalFor</a><a href="../Directive.scala.html#akka.http.server.Directive.addByNameNullaryApply" title="implicit akka.http.server.Directive.addByNameNullaryApply : (directive: akka.http.server.Directive0)(=&gt; akka.http.server.Route) =&gt; akka.http.server.Route" class="delimiter">(</a><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707).length" title="=&gt; Long">length</a>, <a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707).lastModified" title="Long">lastModified</a><span class="delimiter">)</span>.<span title="(v1: =&gt; akka.http.server.Route)akka.http.server.Route">apply</span> <span class="delimiter">{</span>
              <a href="../Directive.scala.html#akka.http.server.Directive.addByNameNullaryApply" title="(v1: =&gt; akka.http.server.Route)akka.http.server.Route">withRangeSupport</a> <span class="delimiter">{</span>
                <a href="../Directive.scala.html#akka.http.server.Directive.addDirectiveApply" title="(v1: scala.concurrent.ExecutionContext =&gt; (akka.http.server.RequestContext =&gt; scala.concurrent.Future[akka.http.server.RouteResult]))akka.http.server.RequestContext =&gt; scala.concurrent.Future[akka.http.server.RouteResult]">extractExecutionContext</a> <span class="delimiter">{</span> implicit <a title="scala.concurrent.ExecutionContext" id="akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707).$anonfun.ec">ec</a> ⇒
                  <a href="RouteDirectives.scala.html#akka.http.server.directives;RouteDirectives.complete" title="(m: =&gt; akka.http.marshalling.ToResponseMarshallable)akka.http.server.StandardRoute">complete</a> <span class="delimiter">{</span>
                    <a href="../../model/HttpEntity.scala.html#akka.http.model.HttpEntity" title="akka.http.model.HttpEntity.type">HttpEntity</a>.<a href="../../model/HttpEntity.scala.html#akka.http.model.HttpEntity;Default" title="(contentType: akka.http.model.ContentType, contentLength: Long, data: akka.stream.scaladsl.Source[akka.util.ByteString])akka.http.model.HttpEntity.Default">Default</a><a href="../../marshalling/ToResponseMarshallable.scala.html#akka.http.marshalling.ToResponseMarshallable.apply" title="(_value: akka.http.model.HttpEntity.Default)(implicit _marshaller: akka.http.marshalling.ToResponseMarshaller[akka.http.model.HttpEntity.Default])akka.http.marshalling.ToResponseMarshallable" class="delimiter">(</a><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707).contentType" title="akka.http.model.ContentType">contentType</a>, <a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707).length" title="=&gt; Long">length</a>, <a href="../../util/StreamUtils.scala.html#akka.http.util.StreamUtils" title="akka.http.util.StreamUtils.type">StreamUtils</a>.<a href="../../util/StreamUtils.scala.html#akka.http.util.StreamUtils.fromInputStreamSource" title="(inputStream: java.io.InputStream, defaultChunkSize: Int)akka.stream.scaladsl.Source[akka.util.ByteString]">fromInputStreamSource</a><span class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707).url" title="java.net.URL">url</a>.<span title="()java.io.InputStream">openStream</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    else <a href="RouteDirectives.scala.html#akka.http.server.directives;RouteDirectives.reject(f6291d9d68)" title="=&gt; akka.http.server.StandardRoute">reject</a> <span class="comment">// don't serve the content of resource &quot;directories&quot;</span>

  <span class="comment">/**
   * Completes GET requests with the content of a file underneath the given directory.
   * If the file cannot be read the Route rejects the request.
   */</span>
  def <a title="(directoryName: String)(implicit resolver: akka.http.server.directives.ContentTypeResolver)akka.http.server.Route" id="akka.http.server.directives;FileAndResourceDirectives.getFromDirectory">getFromDirectory</a><span class="delimiter">(</span><a title="String" id="akka.http.server.directives;FileAndResourceDirectives.getFromDirectory.directoryName">directoryName</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="akka.http.server.directives.ContentTypeResolver" id="akka.http.server.directives;FileAndResourceDirectives.getFromDirectory.resolver">resolver</a>: <a href="#akka.http.server.directives;ContentTypeResolver" title="akka.http.server.directives.ContentTypeResolver">ContentTypeResolver</a><span class="delimiter">)</span>: <span title="akka.http.server.Route">Route</span> = <span class="delimiter">{</span>
    val <a title="String" id="akka.http.server.directives;FileAndResourceDirectives.getFromDirectory.base">base</a> = <a href="#akka.http.server.directives.FileAndResourceDirectives.withTrailingSlash" title="(path: String)String">withTrailingSlash</a><span class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromDirectory.directoryName" title="String">directoryName</a><span class="delimiter">)</span>
    <a href="../Directive.scala.html#akka.http.server.Directive.addDirectiveApply" title="(v1: akka.http.model.Uri.Path =&gt; (akka.http.server.RequestContext =&gt; scala.concurrent.Future[akka.http.server.RouteResult]))akka.http.server.RequestContext =&gt; scala.concurrent.Future[akka.http.server.RouteResult]">extractUnmatchedPath</a> <span class="delimiter">{</span> <a title="akka.http.model.Uri.Path" id="akka.http.server.directives;FileAndResourceDirectives.getFromDirectory.$anonfun.path">path</a> ⇒
      <a href="../Directive.scala.html#akka.http.server.Directive.addDirectiveApply" title="(v1: akka.event.LoggingAdapter =&gt; (akka.http.server.RequestContext =&gt; scala.concurrent.Future[akka.http.server.RouteResult]))akka.http.server.RequestContext =&gt; scala.concurrent.Future[akka.http.server.RouteResult]">extractLog</a> <span class="delimiter">{</span> <a title="akka.event.LoggingAdapter" id="akka.http.server.directives;FileAndResourceDirectives.getFromDirectory.$anonfun.$anonfun.log">log</a> ⇒
        <a href="#akka.http.server.directives.FileAndResourceDirectives.fileSystemPath" title="(base: String, path: akka.http.model.Uri.Path, log: akka.event.LoggingAdapter, separator: Char)String">fileSystemPath</a><span class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromDirectory.base" title="String">base</a>, <a href="#akka.http.server.directives;FileAndResourceDirectives.getFromDirectory.$anonfun.path" title="akka.http.model.Uri.Path">path</a>, <a href="#akka.http.server.directives;FileAndResourceDirectives.getFromDirectory.$anonfun.$anonfun.log" title="akka.event.LoggingAdapter">log</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
          case <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>       ⇒ <a href="RouteDirectives.scala.html#akka.http.server.directives;RouteDirectives.reject(f6291d9d68)" title="=&gt; akka.http.server.StandardRoute">reject</a>
          case <a title="String" id="akka.http.server.directives;FileAndResourceDirectives.getFromDirectory.$anonfun.$anonfun.fileName">fileName</a> ⇒ <a href="#akka.http.server.directives;FileAndResourceDirectives.getFromFile(1ace560f90)" title="(fileName: String)(implicit resolver: akka.http.server.directives.ContentTypeResolver)akka.http.server.Route">getFromFile</a><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromDirectory.resolver" title="akka.http.server.directives.ContentTypeResolver" class="delimiter">(</a><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromDirectory.$anonfun.$anonfun.fileName" title="String">fileName</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Completes GET requests with a unified listing of the contents of all given directories.
   * The actual rendering of the directory contents is performed by the in-scope `Marshaller[DirectoryListing]`.
   */</span>
  def <a title="(directories: String*)(implicit renderer: akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer)akka.http.server.Route" id="akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents">listDirectoryContents</a><span class="delimiter">(</span><a title="String*" id="akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.directories">directories</a>: <span title="String*">String</span>*<span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer" id="akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.renderer">renderer</a>: <a href="#akka.http.server.directives.FileAndResourceDirectives;DirectoryRenderer" title="akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer">DirectoryRenderer</a><span class="delimiter">)</span>: <span title="akka.http.server.Route">Route</span> =
    <a href="../Directive.scala.html#akka.http.server.Directive.addByNameNullaryApply" title="(v1: =&gt; akka.http.server.Route)akka.http.server.Route">get</a> <span class="delimiter">{</span>
      <a href="../Directive.scala.html#akka.http.server.Directive.addDirectiveApply" title="(v1: akka.http.server.RequestContext =&gt; (akka.http.server.RequestContext =&gt; scala.concurrent.Future[akka.http.server.RouteResult]))akka.http.server.RequestContext =&gt; scala.concurrent.Future[akka.http.server.RouteResult]">extractRequestContext</a> <span class="delimiter">{</span> <a title="akka.http.server.RequestContext" id="akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.ctx">ctx</a> ⇒
        val <a title="akka.http.model.Uri.Path" id="akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.path">path</a> = <a href="#akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.ctx" title="akka.http.server.RequestContext">ctx</a>.<a href="../RequestContext.scala.html#akka.http.server;RequestContext.unmatchedPath" title="=&gt; akka.http.model.Uri.Path">unmatchedPath</a>
        val <a title="String" id="akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.fullPath">fullPath</a> = <a href="#akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.ctx" title="akka.http.server.RequestContext">ctx</a>.<a href="../RequestContext.scala.html#akka.http.server;RequestContext.request" title="=&gt; akka.http.model.HttpRequest">request</a>.<a href="../../model/HttpMessage.scala.html#akka.http.model;HttpRequest.uri" title="=&gt; akka.http.model.Uri">uri</a>.<a href="../../model/Uri.scala.html#akka.http.model;Uri.path" title="=&gt; akka.http.model.Uri.Path">path</a>.<a href="../../model/Uri.scala.html#akka.http.model.Uri;Path.toString" title="()String">toString</a>
        val <a title="Int" id="akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.matchedLength">matchedLength</a> = <a href="#akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.fullPath" title="String">fullPath</a>.<span title="(x$1: String)Int">lastIndexOf</span><span class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.path" title="akka.http.model.Uri.Path">path</a>.<a href="../../model/Uri.scala.html#akka.http.model.Uri;Path.toString" title="()String">toString</a><span class="delimiter">)</span>
        <span title="(requirement: Boolean)Unit">require</span><span class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.matchedLength" title="Int">matchedLength</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
        val <a title="String" id="akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.pathPrefix">pathPrefix</a> = <a href="#akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.fullPath" title="String">fullPath</a>.<span title="(x$1: Int, x$2: Int)String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.matchedLength" title="Int">matchedLength</a><span class="delimiter">)</span>
        val <a title="String" id="akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.pathString">pathString</a> = <a href="#akka.http.server.directives.FileAndResourceDirectives.withTrailingSlash" title="(path: String)String">withTrailingSlash</a><span class="delimiter">(</span><a href="#akka.http.server.directives.FileAndResourceDirectives.fileSystemPath" title="(base: String, path: akka.http.model.Uri.Path, log: akka.event.LoggingAdapter, separator: Char)String">fileSystemPath</a><span class="delimiter">(</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span>, <a href="#akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.path" title="akka.http.model.Uri.Path">path</a>, <a href="#akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.ctx" title="akka.http.server.RequestContext">ctx</a>.<a href="../RequestContext.scala.html#akka.http.server;RequestContext.log" title="=&gt; akka.event.LoggingAdapter">log</a>, <span title="Char('/')" class="char">'/'</span><span class="delimiter">)</span><span class="delimiter">)</span>
        val dirs = <a href="#akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.directories" title="String*">directories</a> <a title="Seq[java.io.File]" id="akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.dirs">flatMap</a> <span class="delimiter">{</span> <a title="String" id="akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.dirs.$anonfun.dir">dir</a> ⇒
          <a href="#akka.http.server.directives.FileAndResourceDirectives.fileSystemPath" title="(base: String, path: akka.http.model.Uri.Path, log: akka.event.LoggingAdapter, separator: Char)String">fileSystemPath</a><span class="delimiter">(</span><a href="#akka.http.server.directives.FileAndResourceDirectives.withTrailingSlash" title="(path: String)String">withTrailingSlash</a><span class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.dirs.$anonfun.dir" title="String">dir</a><span class="delimiter">)</span>, <a href="#akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.path" title="akka.http.model.Uri.Path">path</a>, <a href="#akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.ctx" title="akka.http.server.RequestContext">ctx</a>.<a href="../RequestContext.scala.html#akka.http.server;RequestContext.log" title="=&gt; akka.event.LoggingAdapter">log</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
            case <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> ⇒ <span title="(xo: Option[Nothing])Iterable[Nothing]">None</span>
            case <a title="String" id="akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.dirs.$anonfun.fileName">fileName</a> ⇒
              val <a title="java.io.File" id="akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.dirs.$anonfun.file">file</a> = new <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.dirs.$anonfun.fileName" title="String">fileName</a><span class="delimiter">)</span>
              if <span class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.dirs.$anonfun.file" title="java.io.File">file</a>.<span title="()Boolean">isDirectory</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.dirs.$anonfun.file" title="java.io.File">file</a>.<span title="()Boolean">canRead</span><span class="delimiter">)</span> <span title="(x: java.io.File)Some[java.io.File]">Some</span><span title="(xo: Option[java.io.File])Iterable[java.io.File]" class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.dirs.$anonfun.file" title="java.io.File">file</a><span class="delimiter">)</span> else <span title="(xo: Option[Nothing])Iterable[Nothing]">None</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        import <a href="#akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.ctx" title="akka.http.server.RequestContext">ctx</a>.executionContext
        implicit val <a title="akka.http.marshalling.ToEntityMarshaller[akka.http.server.directives.DirectoryListing]" id="akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.marshaller">marshaller</a>: <a href="../../marshalling/Marshaller.scala.html#akka.http.marshalling;Marshaller" title="akka.http.marshalling.ToEntityMarshaller[akka.http.server.directives.DirectoryListing]">ToEntityMarshaller</a><span class="delimiter">[</span>DirectoryListing<span class="delimiter">]</span> = <a href="#akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.renderer" title="akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer">renderer</a>.<a href="#akka.http.server.directives.FileAndResourceDirectives;DirectoryRenderer.marshaller" title="(renderVanityFooter: Boolean)akka.http.marshalling.ToEntityMarshaller[akka.http.server.directives.DirectoryListing]">marshaller</a><span class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.ctx" title="akka.http.server.RequestContext">ctx</a>.<a href="../RequestContext.scala.html#akka.http.server;RequestContext.settings" title="=&gt; akka.http.server.RoutingSettings">settings</a>.<a href="../RoutingSettings.scala.html#akka.http.server;RoutingSettings.renderVanityFooter" title="=&gt; Boolean">renderVanityFooter</a><span class="delimiter">)</span>

        if <span class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.dirs" title="Seq[java.io.File]">dirs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="RouteDirectives.scala.html#akka.http.server.directives;RouteDirectives.reject(f6291d9d68)" title="=&gt; akka.http.server.StandardRoute">reject</a>
        else <a href="RouteDirectives.scala.html#akka.http.server.directives;RouteDirectives.complete" title="(m: =&gt; akka.http.marshalling.ToResponseMarshallable)akka.http.server.StandardRoute">complete</a><span class="delimiter">(</span><a href="#akka.http.server.directives;DirectoryListing" title="(path: String, isRoot: Boolean, files: Seq[java.io.File])akka.http.server.directives.DirectoryListing">DirectoryListing</a><a href="../../marshalling/ToResponseMarshallable.scala.html#akka.http.marshalling.ToResponseMarshallable.apply" title="(_value: akka.http.server.directives.DirectoryListing)(implicit _marshaller: akka.http.marshalling.ToResponseMarshaller[akka.http.server.directives.DirectoryListing])akka.http.marshalling.ToResponseMarshallable" class="delimiter">(</a><a href="#akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.pathPrefix" title="String">pathPrefix</a> <span title="(x$1: Any)String">+</span> <a href="#akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.pathString" title="String">pathString</a>, isRoot = <a href="#akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.pathString" title="String">pathString</a> <span title="(x$1: Any)Boolean">==</span> <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span>, <a href="#akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.dirs" title="Seq[java.io.File]">dirs</a>.<span title="(f: java.io.File =&gt; scala.collection.GenTraversableOnce[java.io.File])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[java.io.File],java.io.File,Seq[java.io.File]])Seq[java.io.File]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,java.io.File,Seq[java.io.File]]" class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents.$anonfun.$anonfun.x$2" title="java.io.File">_</a>.<span title="(xs: Array[java.io.File])scala.collection.mutable.ArrayOps[java.io.File]">listFiles</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * Same as `getFromBrowseableDirectories` with only one directory.
   */</span>
  def <a title="(directory: String)(implicit renderer: akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer, implicit resolver: akka.http.server.directives.ContentTypeResolver)akka.http.server.Route" id="akka.http.server.directives;FileAndResourceDirectives.getFromBrowseableDirectory">getFromBrowseableDirectory</a><span class="delimiter">(</span><a title="String" id="akka.http.server.directives;FileAndResourceDirectives.getFromBrowseableDirectory.directory">directory</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer" id="akka.http.server.directives;FileAndResourceDirectives.getFromBrowseableDirectory.renderer">renderer</a>: <a href="#akka.http.server.directives.FileAndResourceDirectives;DirectoryRenderer" title="akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer">DirectoryRenderer</a>, <a title="akka.http.server.directives.ContentTypeResolver" id="akka.http.server.directives;FileAndResourceDirectives.getFromBrowseableDirectory.resolver">resolver</a>: <a href="#akka.http.server.directives;ContentTypeResolver" title="akka.http.server.directives.ContentTypeResolver">ContentTypeResolver</a><span class="delimiter">)</span>: <span title="akka.http.server.Route">Route</span> =
    <a href="#akka.http.server.directives;FileAndResourceDirectives.getFromBrowseableDirectories" title="(directories: String*)(implicit renderer: akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer, implicit resolver: akka.http.server.directives.ContentTypeResolver)akka.http.server.Route">getFromBrowseableDirectories</a><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromBrowseableDirectory.renderer" title="akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer" class="delimiter">(</a><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromBrowseableDirectory.directory" title="String">directory</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Serves the content of the given directories as a file system browser, i.e. files are sent and directories
   * served as browseable listings.
   */</span>
  def <a title="(directories: String*)(implicit renderer: akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer, implicit resolver: akka.http.server.directives.ContentTypeResolver)akka.http.server.Route" id="akka.http.server.directives;FileAndResourceDirectives.getFromBrowseableDirectories">getFromBrowseableDirectories</a><span class="delimiter">(</span><a title="String*" id="akka.http.server.directives;FileAndResourceDirectives.getFromBrowseableDirectories.directories">directories</a>: <span title="String*">String</span>*<span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer" id="akka.http.server.directives;FileAndResourceDirectives.getFromBrowseableDirectories.renderer">renderer</a>: <a href="#akka.http.server.directives.FileAndResourceDirectives;DirectoryRenderer" title="akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer">DirectoryRenderer</a>, <a title="akka.http.server.directives.ContentTypeResolver" id="akka.http.server.directives;FileAndResourceDirectives.getFromBrowseableDirectories.resolver">resolver</a>: <a href="#akka.http.server.directives;ContentTypeResolver" title="akka.http.server.directives.ContentTypeResolver">ContentTypeResolver</a><span class="delimiter">)</span>: <span title="akka.http.server.Route">Route</span> = <span class="delimiter">{</span>
    <a href="#akka.http.server.directives;FileAndResourceDirectives.getFromBrowseableDirectories.directories" title="String*">directories</a>.<span title="(f: String =&gt; akka.http.server.Route)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[String],akka.http.server.Route,Seq[akka.http.server.Route]])Seq[akka.http.server.Route]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,akka.http.server.Route,Seq[akka.http.server.Route]]" class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromDirectory" title="(directoryName: String)(implicit resolver: akka.http.server.directives.ContentTypeResolver)akka.http.server.Route">getFromDirectory</a><span class="delimiter">)</span>.<span title="(op: (akka.http.server.Route, akka.http.server.Route) =&gt; akka.http.server.Route)akka.http.server.Route">reduceLeft</span><a href="../RouteConcatenation.scala.html#akka.http.server;RouteConcatenation.enhanceRouteWithConcatenation" title="implicit akka.http.server.RouteConcatenation.enhanceRouteWithConcatenation : (route: akka.http.server.Route)akka.http.server.RouteConcatenation.RouteConcatenation" class="delimiter">(</a><a href="../RouteConcatenation.scala.html#akka.http.server;RouteConcatenation.enhanceRouteWithConcatenation" title="implicit akka.http.server.RouteConcatenation.enhanceRouteWithConcatenation : (route: akka.http.server.Route)akka.http.server.RouteConcatenation.RouteConcatenation">_</a> <a href="../RouteConcatenation.scala.html#akka.http.server;RouteConcatenation;RouteConcatenation.~" title="(other: akka.http.server.Route)akka.http.server.Route">~</a> <a href="#akka.http.server.directives;FileAndResourceDirectives.getFromBrowseableDirectories.$anonfun.x$4" title="akka.http.server.Route">_</a><span class="delimiter">)</span> <a href="../RouteConcatenation.scala.html#akka.http.server;RouteConcatenation;RouteConcatenation.~" title="(other: akka.http.server.Route)akka.http.server.Route">~</a> <a href="#akka.http.server.directives;FileAndResourceDirectives.listDirectoryContents" title="(directories: String*)(implicit renderer: akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer)akka.http.server.Route">listDirectoryContents</a><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromBrowseableDirectories.renderer" title="akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer" class="delimiter">(</a><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromBrowseableDirectories.directories" title="String*">directories</a>: _*<span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Same as &quot;getFromDirectory&quot; except that the file is not fetched from the file system but rather from a
   * &quot;resource directory&quot;.
   */</span>
  def <a title="(directoryName: String, classLoader: ClassLoader)(implicit resolver: akka.http.server.directives.ContentTypeResolver)akka.http.server.Route" id="akka.http.server.directives;FileAndResourceDirectives.getFromResourceDirectory">getFromResourceDirectory</a><span class="delimiter">(</span><a title="String" id="akka.http.server.directives;FileAndResourceDirectives.getFromResourceDirectory.directoryName">directoryName</a>: <span title="String">String</span>, <a title="ClassLoader" id="akka.http.server.directives;FileAndResourceDirectives.getFromResourceDirectory$default$2">classLoader</a>: <span title="ClassLoader">ClassLoader</span> = <a href="#akka.http.server.directives;FileAndResourceDirectives.defaultClassLoader" title="=&gt; ClassLoader">defaultClassLoader</a><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="akka.http.server.directives.ContentTypeResolver" id="akka.http.server.directives;FileAndResourceDirectives.getFromResourceDirectory.resolver">resolver</a>: <a href="#akka.http.server.directives;ContentTypeResolver" title="akka.http.server.directives.ContentTypeResolver">ContentTypeResolver</a><span class="delimiter">)</span>: <span title="akka.http.server.Route">Route</span> = <span class="delimiter">{</span>
    val <a title="String" id="akka.http.server.directives;FileAndResourceDirectives.getFromResourceDirectory.base">base</a> = if <span class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResourceDirectory.directoryName" title="String">directoryName</a>.<span title="()Boolean">isEmpty</span><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> else <a href="#akka.http.server.directives.FileAndResourceDirectives.withTrailingSlash" title="(path: String)String">withTrailingSlash</a><span class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResourceDirectory.directoryName" title="String">directoryName</a><span class="delimiter">)</span>

    <a href="../Directive.scala.html#akka.http.server.Directive.addDirectiveApply" title="(v1: akka.http.model.Uri.Path =&gt; (akka.http.server.RequestContext =&gt; scala.concurrent.Future[akka.http.server.RouteResult]))akka.http.server.RequestContext =&gt; scala.concurrent.Future[akka.http.server.RouteResult]">extractUnmatchedPath</a> <span class="delimiter">{</span> <a title="akka.http.model.Uri.Path" id="akka.http.server.directives;FileAndResourceDirectives.getFromResourceDirectory.$anonfun.path">path</a> ⇒
      <a href="../Directive.scala.html#akka.http.server.Directive.addDirectiveApply" title="(v1: akka.event.LoggingAdapter =&gt; (akka.http.server.RequestContext =&gt; scala.concurrent.Future[akka.http.server.RouteResult]))akka.http.server.RequestContext =&gt; scala.concurrent.Future[akka.http.server.RouteResult]">extractLog</a> <span class="delimiter">{</span> <a title="akka.event.LoggingAdapter" id="akka.http.server.directives;FileAndResourceDirectives.getFromResourceDirectory.$anonfun.$anonfun.log">log</a> ⇒
        <a href="#akka.http.server.directives.FileAndResourceDirectives.fileSystemPath" title="(base: String, path: akka.http.model.Uri.Path, log: akka.event.LoggingAdapter, separator: Char)String">fileSystemPath</a><span class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResourceDirectory.base" title="String">base</a>, <a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResourceDirectory.$anonfun.path" title="akka.http.model.Uri.Path">path</a>, <a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResourceDirectory.$anonfun.$anonfun.log" title="akka.event.LoggingAdapter">log</a>, separator = <span title="Char('/')" class="char">'/'</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
          case <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>           ⇒ <a href="RouteDirectives.scala.html#akka.http.server.directives;RouteDirectives.reject(f6291d9d68)" title="=&gt; akka.http.server.StandardRoute">reject</a>
          case <a title="String" id="akka.http.server.directives;FileAndResourceDirectives.getFromResourceDirectory.$anonfun.$anonfun.resourceName">resourceName</a> ⇒ <a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResource(27bf3b1707)" title="(resourceName: String, contentType: akka.http.model.ContentType, theClassLoader: ClassLoader)akka.http.server.Route">getFromResource</a><span class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResourceDirectory.$anonfun.$anonfun.resourceName" title="String">resourceName</a>, <a href="#akka.http.server.directives;ContentTypeResolver.apply" title="(fileName: String)akka.http.model.ContentType">resolver</a><span class="delimiter">(</span><a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResourceDirectory.$anonfun.$anonfun.resourceName" title="String">resourceName</a><span class="delimiter">)</span>, <a href="#akka.http.server.directives;FileAndResourceDirectives.getFromResourceDirectory$default$2" title="ClassLoader">classLoader</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  protected<span class="delimiter">[</span>http<span class="delimiter">]</span> def <a title="=&gt; ClassLoader" id="akka.http.server.directives;FileAndResourceDirectives.defaultClassLoader">defaultClassLoader</a>: <span title="ClassLoader">ClassLoader</span> = classOf<span title="Class[akka.actor.ActorSystem](classOf[akka.actor.ActorSystem])" class="delimiter">[</span>ActorSystem<span class="delimiter">]</span>.<span title="()ClassLoader">getClassLoader</span>
<span class="delimiter">}</span>

object <a title="akka.http.server.directives.FileAndResourceDirectives.type" id="akka.http.server.directives.FileAndResourceDirectives">FileAndResourceDirectives</a> extends <a href="#akka.http.server.directives;FileAndResourceDirectives" title="akka.http.server.directives.FileAndResourceDirectives">FileAndResourceDirectives</a> <span class="delimiter">{</span>
  private def <a title="(path: String)String" id="akka.http.server.directives.FileAndResourceDirectives.withTrailingSlash">withTrailingSlash</a><span class="delimiter">(</span><a title="String" id="akka.http.server.directives.FileAndResourceDirectives.withTrailingSlash.path">path</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = if <span class="delimiter">(</span><a href="#akka.http.server.directives.FileAndResourceDirectives.withTrailingSlash.path" title="String">path</a> <span title="(x$1: String)Boolean">endsWith</span> <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span> <a href="#akka.http.server.directives.FileAndResourceDirectives.withTrailingSlash.path" title="String">path</a> else <a href="#akka.http.server.directives.FileAndResourceDirectives.withTrailingSlash.path" title="String">path</a> <span title="(x$1: Any)String">+</span> <span title="Char('/')" class="char">'/'</span>
  private def <a title="(base: String, path: akka.http.model.Uri.Path, log: akka.event.LoggingAdapter, separator: Char)String" id="akka.http.server.directives.FileAndResourceDirectives.fileSystemPath">fileSystemPath</a><span class="delimiter">(</span><a title="String" id="akka.http.server.directives.FileAndResourceDirectives.fileSystemPath.base">base</a>: <span title="String">String</span>, <a title="akka.http.model.Uri.Path" id="akka.http.server.directives.FileAndResourceDirectives.fileSystemPath.path">path</a>: Uri.<a href="../../model/Uri.scala.html#akka.http.model.Uri;Path" title="akka.http.model.Uri.Path">Path</a>, <a title="akka.event.LoggingAdapter" id="akka.http.server.directives.FileAndResourceDirectives.fileSystemPath.log">log</a>: <span title="akka.event.LoggingAdapter">LoggingAdapter</span>, <a title="Char" id="akka.http.server.directives.FileAndResourceDirectives.fileSystemPath$default$4">separator</a>: <span title="Char">Char</span> = <span title="java.io.File.type">File</span>.<span title="Char">separatorChar</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    import java.lang.StringBuilder
    @tailrec def <a title="(p: akka.http.model.Uri.Path, result: StringBuilder)String" id="akka.http.server.directives.FileAndResourceDirectives.fileSystemPath.rec">rec</a><span class="delimiter">(</span><a title="akka.http.model.Uri.Path" id="akka.http.server.directives.FileAndResourceDirectives.fileSystemPath.rec.p">p</a>: Uri.<a href="../../model/Uri.scala.html#akka.http.model.Uri;Path" title="akka.http.model.Uri.Path">Path</a>, <a title="StringBuilder" id="akka.http.server.directives.FileAndResourceDirectives.fileSystemPath.rec$default$2">result</a>: <span title="StringBuilder">StringBuilder</span> = new <span title="StringBuilder">StringBuilder</span><span class="delimiter">(</span><a href="#akka.http.server.directives.FileAndResourceDirectives.fileSystemPath.base" title="String">base</a><span class="delimiter">)</span><span class="delimiter">)</span>: <span title="String">String</span> =
      <a href="#akka.http.server.directives.FileAndResourceDirectives.fileSystemPath.rec.p" title="akka.http.model.Uri.Path">p</a> match <span class="delimiter">{</span>
        case <a href="../../model/Uri.scala.html#akka.http.model.Uri" title="akka.http.model.Uri.type">Uri</a>.<a href="../../model/Uri.scala.html#akka.http.model.Uri.Path" title="akka.http.model.Uri.Path.type">Path</a>.<a href="../../model/Uri.scala.html#akka.http.model.Uri.Path.Empty" title="akka.http.model.Uri.Path.Empty.type">Empty</a>       ⇒ <a href="#akka.http.server.directives.FileAndResourceDirectives.fileSystemPath.rec$default$2" title="StringBuilder">result</a>.<span title="()String">toString</span>
        case Uri.Path.Slash<span class="delimiter">(</span><span title="akka.http.model.Uri.Path">tail</span><span class="delimiter">)</span> ⇒ <a href="#akka.http.server.directives.FileAndResourceDirectives.fileSystemPath.rec" title="(p: akka.http.model.Uri.Path, result: StringBuilder)String">rec</a><span class="delimiter">(</span><span title="akka.http.model.Uri.Path">tail</span>, <a href="#akka.http.server.directives.FileAndResourceDirectives.fileSystemPath.rec$default$2" title="StringBuilder">result</a>.<span title="(x$1: Char)StringBuilder">append</span><span class="delimiter">(</span><a href="#akka.http.server.directives.FileAndResourceDirectives.fileSystemPath$default$4" title="Char">separator</a><span class="delimiter">)</span><span class="delimiter">)</span>
        case Uri.Path.Segment<span class="delimiter">(</span><a title="String" id="akka.http.server.directives.FileAndResourceDirectives.fileSystemPath.rec.head">head</a>, <span title="akka.http.model.Uri.Path.SlashOrEmpty">tail</span><span class="delimiter">)</span> ⇒
          if <span class="delimiter">(</span><a href="#akka.http.server.directives.FileAndResourceDirectives.fileSystemPath.rec.head" title="String">head</a>.<span title="(x$1: Int)Int">indexOf</span><span class="delimiter">(</span><span title="Int(47)" class="char">'/'</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">||</span> <a href="#akka.http.server.directives.FileAndResourceDirectives.fileSystemPath.rec.head" title="String">head</a> <span title="(x$1: Any)Boolean">==</span> <span title="String(&quot;..&quot;)" class="string">&quot;..&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#akka.http.server.directives.FileAndResourceDirectives.fileSystemPath.log" title="akka.event.LoggingAdapter">log</a>.<span title="(template: String, arg1: Any, arg2: Any, arg3: Any)Unit">warning</span><span class="delimiter">(</span><span class="string">&quot;File-system path for base [{}] and Uri.Path [{}] contains suspicious path segment [{}], &quot;</span> <span title="String(&quot;File-system path for base [{}] and Uri.Path [{}] contains suspicious path segment [{}], GET access was disallowed&quot;)">+</span>
              <span class="string">&quot;GET access was disallowed&quot;</span>, <a href="#akka.http.server.directives.FileAndResourceDirectives.fileSystemPath.base" title="String">base</a>, <a href="#akka.http.server.directives.FileAndResourceDirectives.fileSystemPath.path" title="akka.http.model.Uri.Path">path</a>, <a href="#akka.http.server.directives.FileAndResourceDirectives.fileSystemPath.rec.head" title="String">head</a><span class="delimiter">)</span>
            <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
          <span class="delimiter">}</span> else <a href="#akka.http.server.directives.FileAndResourceDirectives.fileSystemPath.rec" title="(p: akka.http.model.Uri.Path, result: StringBuilder)String">rec</a><span class="delimiter">(</span><span title="akka.http.model.Uri.Path.SlashOrEmpty">tail</span>, <a href="#akka.http.server.directives.FileAndResourceDirectives.fileSystemPath.rec$default$2" title="StringBuilder">result</a>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#akka.http.server.directives.FileAndResourceDirectives.fileSystemPath.rec.head" title="String">head</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <a href="#akka.http.server.directives.FileAndResourceDirectives.fileSystemPath.rec" title="(p: akka.http.model.Uri.Path, result: StringBuilder)String">rec</a><span class="delimiter">(</span>if <span class="delimiter">(</span><a href="#akka.http.server.directives.FileAndResourceDirectives.fileSystemPath.path" title="akka.http.model.Uri.Path">path</a>.<a href="../../model/Uri.scala.html#akka.http.model.Uri;Path.startsWithSlash" title="=&gt; Boolean">startsWithSlash</a><span class="delimiter">)</span> <a href="#akka.http.server.directives.FileAndResourceDirectives.fileSystemPath.path" title="akka.http.model.Uri.Path">path</a>.<a href="../../model/Uri.scala.html#akka.http.model.Uri;Path.tail" title="=&gt; akka.http.model.Uri.Path">tail</a> else <a href="#akka.http.server.directives.FileAndResourceDirectives.fileSystemPath.path" title="akka.http.model.Uri.Path">path</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  trait <a title="trait DirectoryRenderer extends AnyRef" id="akka.http.server.directives.FileAndResourceDirectives;DirectoryRenderer">DirectoryRenderer</a> <span class="delimiter">{</span>
    def <a title="(renderVanityFooter: Boolean)akka.http.marshalling.ToEntityMarshaller[akka.http.server.directives.DirectoryListing]" id="akka.http.server.directives.FileAndResourceDirectives;DirectoryRenderer.marshaller">marshaller</a><span class="delimiter">(</span><a title="Boolean" id="akka.http.server.directives.FileAndResourceDirectives;DirectoryRenderer.marshaller.renderVanityFooter">renderVanityFooter</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="../../marshalling/Marshaller.scala.html#akka.http.marshalling;Marshaller" title="akka.http.marshalling.ToEntityMarshaller[akka.http.server.directives.DirectoryListing]">ToEntityMarshaller</a><span class="delimiter">[</span>DirectoryListing<span class="delimiter">]</span>
  <span class="delimiter">}</span>
  trait <a title="trait LowLevelDirectoryRenderer extends AnyRef" id="akka.http.server.directives.FileAndResourceDirectives;LowLevelDirectoryRenderer">LowLevelDirectoryRenderer</a> <span title="Unit" class="delimiter">{</span>
    implicit def <a title="implicit akka.http.server.directives.FileAndResourceDirectives.LowLevelDirectoryRenderer.defaultDirectoryRenderer : (implicit ec: scala.concurrent.ExecutionContext)akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer" id="akka.http.server.directives.FileAndResourceDirectives;LowLevelDirectoryRenderer.defaultDirectoryRenderer">defaultDirectoryRenderer</a><span class="delimiter">(</span>implicit <a title="scala.concurrent.ExecutionContext" id="akka.http.server.directives.FileAndResourceDirectives;LowLevelDirectoryRenderer.defaultDirectoryRenderer.ec">ec</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span><span class="delimiter">)</span>: <a href="#akka.http.server.directives.FileAndResourceDirectives;DirectoryRenderer" title="akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer">DirectoryRenderer</a> =
      new <a title="&lt;$anon: akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer&gt; extends AnyRef with akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer" id="akka.http.server.directives.FileAndResourceDirectives;LowLevelDirectoryRenderer.defaultDirectoryRenderer;$anon">DirectoryRenderer</a> <span class="delimiter">{</span>
        def <a title="(renderVanityFooter: Boolean)akka.http.marshalling.ToEntityMarshaller[akka.http.server.directives.DirectoryListing]" id="akka.http.server.directives.FileAndResourceDirectives;LowLevelDirectoryRenderer.defaultDirectoryRenderer;$anon.marshaller">marshaller</a><span class="delimiter">(</span><a title="Boolean" id="akka.http.server.directives.FileAndResourceDirectives;LowLevelDirectoryRenderer.defaultDirectoryRenderer;$anon.marshaller.renderVanityFooter">renderVanityFooter</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="../../marshalling/Marshaller.scala.html#akka.http.marshalling;Marshaller" title="akka.http.marshalling.ToEntityMarshaller[akka.http.server.directives.DirectoryListing]">ToEntityMarshaller</a><span class="delimiter">[</span>DirectoryListing<span class="delimiter">]</span> =
          <a href="#akka.http.server.directives.DirectoryListing.readResolve" title="akka.http.server.directives.DirectoryListing.type">DirectoryListing</a>.<a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller" title="(renderVanityFooter: Boolean)(implicit ec: scala.concurrent.ExecutionContext)akka.http.marshalling.ToEntityMarshaller[akka.http.server.directives.DirectoryListing]">directoryMarshaller</a><a href="#akka.http.server.directives.FileAndResourceDirectives;LowLevelDirectoryRenderer.defaultDirectoryRenderer.ec" title="scala.concurrent.ExecutionContext" class="delimiter">(</a><a href="#akka.http.server.directives.FileAndResourceDirectives;LowLevelDirectoryRenderer.defaultDirectoryRenderer;$anon.marshaller.renderVanityFooter" title="Boolean">renderVanityFooter</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  object <a title="akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer.type" id="akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer">DirectoryRenderer</a> extends <a href="#akka.http.server.directives.FileAndResourceDirectives;LowLevelDirectoryRenderer" title="akka.http.server.directives.FileAndResourceDirectives.LowLevelDirectoryRenderer">LowLevelDirectoryRenderer</a> <span class="delimiter">{</span>
    implicit def <a title="implicit akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer.liftMarshaller : (implicit _marshaller: akka.http.marshalling.ToEntityMarshaller[akka.http.server.directives.DirectoryListing])akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer" id="akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer.liftMarshaller">liftMarshaller</a><span class="delimiter">(</span>implicit <a title="akka.http.marshalling.ToEntityMarshaller[akka.http.server.directives.DirectoryListing]" id="akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer.liftMarshaller._marshaller">_marshaller</a>: <a href="../../marshalling/Marshaller.scala.html#akka.http.marshalling;Marshaller" title="akka.http.marshalling.ToEntityMarshaller[akka.http.server.directives.DirectoryListing]">ToEntityMarshaller</a><span class="delimiter">[</span>DirectoryListing<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.http.server.directives.FileAndResourceDirectives;DirectoryRenderer" title="akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer">DirectoryRenderer</a> =
      new <a title="&lt;$anon: akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer&gt; extends AnyRef with akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer" id="akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer.liftMarshaller;$anon">DirectoryRenderer</a> <span class="delimiter">{</span>
        def <a title="(renderVanityFooter: Boolean)akka.http.marshalling.ToEntityMarshaller[akka.http.server.directives.DirectoryListing]" id="akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer.liftMarshaller;$anon.marshaller">marshaller</a><span class="delimiter">(</span><a title="Boolean" id="akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer.liftMarshaller;$anon.marshaller.renderVanityFooter">renderVanityFooter</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="../../marshalling/Marshaller.scala.html#akka.http.marshalling;Marshaller" title="akka.http.marshalling.ToEntityMarshaller[akka.http.server.directives.DirectoryListing]">ToEntityMarshaller</a><span class="delimiter">[</span>DirectoryListing<span class="delimiter">]</span> = <a href="#akka.http.server.directives.FileAndResourceDirectives.DirectoryRenderer.liftMarshaller._marshaller" title="akka.http.marshalling.ToEntityMarshaller[akka.http.server.directives.DirectoryListing]">_marshaller</a>
      <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

trait <a title="trait ContentTypeResolver extends AnyRef" id="akka.http.server.directives;ContentTypeResolver">ContentTypeResolver</a> <span class="delimiter">{</span>
  def <a title="(fileName: String)akka.http.model.ContentType" id="akka.http.server.directives;ContentTypeResolver.apply">apply</a><span class="delimiter">(</span><a title="String" id="akka.http.server.directives;ContentTypeResolver.apply.fileName">fileName</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../model/ContentType.scala.html#akka.http.model;ContentType" title="akka.http.model.ContentType">ContentType</a>
<span class="delimiter">}</span>

object <a title="akka.http.server.directives.ContentTypeResolver.type" id="akka.http.server.directives.ContentTypeResolver">ContentTypeResolver</a> <a href="#akka.http.server.directives.ContentTypeResolver" title="akka.http.server.directives.ContentTypeResolver.type" class="delimiter">{</a>

  <span class="comment">/**
   * The default way of resolving a filename to a ContentType is by looking up the file extension in the
   * registry of all defined media-types. By default all non-binary file content is assumed to be UTF-8 encoded.
   */</span>
  implicit val <a title="akka.http.server.directives.ContentTypeResolver" id="akka.http.server.directives.ContentTypeResolver.Default">Default</a> = <a href="#akka.http.server.directives.ContentTypeResolver.withDefaultCharset" title="(charset: akka.http.model.HttpCharset)akka.http.server.directives.ContentTypeResolver">withDefaultCharset</a><span class="delimiter">(</span><a href="../../model/HttpCharset.scala.html#akka.http.model.HttpCharsets" title="akka.http.model.HttpCharsets.type">HttpCharsets</a>.<a href="../../model/HttpCharset.scala.html#akka.http.model.HttpCharsets.UTF-8" title="=&gt; akka.http.model.HttpCharset">`UTF-8`</a><span class="delimiter">)</span>

  def <a title="(charset: akka.http.model.HttpCharset)akka.http.server.directives.ContentTypeResolver" id="akka.http.server.directives.ContentTypeResolver.withDefaultCharset">withDefaultCharset</a><span class="delimiter">(</span><a title="akka.http.model.HttpCharset" id="akka.http.server.directives.ContentTypeResolver.withDefaultCharset.charset">charset</a>: <a href="../../model/HttpCharset.scala.html#akka.http.model;HttpCharset" title="akka.http.model.HttpCharset">HttpCharset</a><span class="delimiter">)</span>: <a href="#akka.http.server.directives;ContentTypeResolver" title="akka.http.server.directives.ContentTypeResolver">ContentTypeResolver</a> =
    new <a title="&lt;$anon: akka.http.server.directives.ContentTypeResolver&gt; extends AnyRef with akka.http.server.directives.ContentTypeResolver" id="akka.http.server.directives.ContentTypeResolver.withDefaultCharset;$anon">ContentTypeResolver</a> <span class="delimiter">{</span>
      def <a title="(fileName: String)akka.http.model.ContentType" id="akka.http.server.directives.ContentTypeResolver.withDefaultCharset;$anon.apply">apply</a><span class="delimiter">(</span><a title="String" id="akka.http.server.directives.ContentTypeResolver.withDefaultCharset;$anon.apply.fileName">fileName</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        val <a title="String" id="akka.http.server.directives.ContentTypeResolver.withDefaultCharset;$anon.apply.ext">ext</a> = <a href="#akka.http.server.directives.ContentTypeResolver.withDefaultCharset;$anon.apply.fileName" title="String">fileName</a>.<span title="(x$1: Int)Int">lastIndexOf</span><span class="delimiter">(</span><span title="Int(46)" class="char">'.'</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
          case <span title="Int(-1)">-</span><span class="int">1</span> ⇒ <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
          case <a title="Int" id="akka.http.server.directives.ContentTypeResolver.withDefaultCharset;$anon.apply.ext.x">x</a>  ⇒ <a href="#akka.http.server.directives.ContentTypeResolver.withDefaultCharset;$anon.apply.fileName" title="String">fileName</a>.<span title="(x$1: Int)String">substring</span><span class="delimiter">(</span><a href="#akka.http.server.directives.ContentTypeResolver.withDefaultCharset;$anon.apply.ext.x" title="Int">x</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        val mediaType = <a href="../../model/MediaType.scala.html#akka.http.model.MediaTypes" title="akka.http.model.MediaTypes.type">MediaTypes</a>.<a href="../../model/MediaType.scala.html#akka.http.model.MediaTypes.forExtension" title="(ext: String)Option[akka.http.model.MediaType]">forExtension</a><span class="delimiter">(</span><a href="#akka.http.server.directives.ContentTypeResolver.withDefaultCharset;$anon.apply.ext" title="String">ext</a><span class="delimiter">)</span> <a title="akka.http.model.MediaType" id="akka.http.server.directives.ContentTypeResolver.withDefaultCharset;$anon.apply.mediaType">getOrElse</a> <a href="../../model/MediaType.scala.html#akka.http.model.MediaTypes" title="akka.http.model.MediaTypes.type">MediaTypes</a>.<a href="../../model/MediaType.scala.html#akka.http.model.MediaTypes.application/octet-stream" title="=&gt; akka.http.model.MediaType">`application/octet-stream`</a>
        <a href="#akka.http.server.directives.ContentTypeResolver.withDefaultCharset;$anon.apply.mediaType" title="akka.http.model.MediaType">mediaType</a> match <span class="delimiter">{</span>
          case <span title="akka.http.model.MediaType">x</span> if <span title="=&gt; Boolean">!</span><span title="akka.http.model.MediaType">x</span>.<a href="../../model/MediaType.scala.html#akka.http.model;MediaType.binary" title="=&gt; Boolean">binary</a> ⇒ <a href="../../model/ContentType.scala.html#akka.http.model.ContentType.apply(2ae8f5cf3b)" title="(mediaType: akka.http.model.MediaType, charset: akka.http.model.HttpCharset)akka.http.model.ContentType">ContentType</a><span class="delimiter">(</span><span title="akka.http.model.MediaType">x</span>, <a href="#akka.http.server.directives.ContentTypeResolver.withDefaultCharset.charset" title="akka.http.model.HttpCharset">charset</a><span class="delimiter">)</span>
          case <span title="akka.http.model.MediaType">x</span>              ⇒ <a href="../../model/ContentType.scala.html#akka.http.model.ContentType.apply(f1dbd43f8a)" title="implicit akka.http.model.ContentType.apply : (mediaType: akka.http.model.MediaType)akka.http.model.ContentType">ContentType</a><span class="delimiter">(</span><span title="akka.http.model.MediaType">x</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  def <a title="(f: String =&gt; akka.http.model.ContentType)akka.http.server.directives.ContentTypeResolver" id="akka.http.server.directives.ContentTypeResolver.apply">apply</a><span class="delimiter">(</span><a title="String =&gt; akka.http.model.ContentType" id="akka.http.server.directives.ContentTypeResolver.apply.f">f</a>: String ⇒ ContentType<span class="delimiter">)</span>: <a href="#akka.http.server.directives;ContentTypeResolver" title="akka.http.server.directives.ContentTypeResolver">ContentTypeResolver</a> =
    new <a title="&lt;$anon: akka.http.server.directives.ContentTypeResolver&gt; extends AnyRef with akka.http.server.directives.ContentTypeResolver" id="akka.http.server.directives.ContentTypeResolver.apply;$anon">ContentTypeResolver</a> <span class="delimiter">{</span>
      def <a title="(fileName: String)akka.http.model.ContentType" id="akka.http.server.directives.ContentTypeResolver.apply;$anon.apply">apply</a><span class="delimiter">(</span><a title="String" id="akka.http.server.directives.ContentTypeResolver.apply;$anon.apply.fileName">fileName</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../model/ContentType.scala.html#akka.http.model;ContentType" title="akka.http.model.ContentType">ContentType</a> = <a href="#akka.http.server.directives.ContentTypeResolver.apply.f" title="(v1: String)akka.http.model.ContentType">f</a><span class="delimiter">(</span><a href="#akka.http.server.directives.ContentTypeResolver.apply;$anon.apply.fileName" title="String">fileName</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

case class <a title="class DirectoryListing extends AnyRef with Product with Serializable" id="akka.http.server.directives;DirectoryListing">DirectoryListing</a><a href="#akka.http.server.directives;DirectoryListing" title="Product" class="delimiter">(</a><a title="String" id="akka.http.server.directives;DirectoryListing.path">path</a>: <span title="String">String</span>, <a title="Boolean" id="akka.http.server.directives;DirectoryListing.isRoot">isRoot</a>: <span title="Boolean">Boolean</span>, <a title="Seq[java.io.File]" id="akka.http.server.directives;DirectoryListing.files">files</a>: <span title="Seq[java.io.File]">Seq</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span>

object <a title="akka.http.server.directives.DirectoryListing.type" id="akka.http.server.directives.DirectoryListing.readResolve">DirectoryListing</a> <a href="#akka.http.server.directives.DirectoryListing.readResolve" title="akka.http.server.directives.DirectoryListing.type" class="delimiter">{</a>

  private val html =
    <a href="../../util/package.scala.html#akka.http.util.package.enhanceString_" title="implicit akka.http.util.package.enhanceString_ : (s: String)akka.http.util.EnhancedString" class="string">&quot;&quot;&quot;&lt;html&gt;
      |&lt;head&gt;&lt;title&gt;Index of $&lt;/title&gt;&lt;/head&gt;
      |&lt;body&gt;
      |&lt;h1&gt;Index of $&lt;/h1&gt;
      |&lt;hr&gt;
      |&lt;pre&gt;
      |$&lt;/pre&gt;
      |&lt;hr&gt;$
      |&lt;div style=&quot;width:100%;text-align:right;color:gray&quot;&gt;
      |&lt;small&gt;rendered by &lt;a href=&quot;http://akka.io&quot;&gt;Akka Http&lt;/a&gt; on $&lt;/small&gt;
      |&lt;/div&gt;$
      |&lt;/body&gt;
      |&lt;/html&gt;
      |&quot;&quot;&quot;</a>.<a href="../../util/EnhancedString.scala.html#akka.http.util;EnhancedString.stripMarginWithNewline" title="(newline: String)String">stripMarginWithNewline</a><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span> <a title="Array[String]" id="akka.http.server.directives.DirectoryListing.html">split</a> <span title="Char('$')" class="char">'$'</span>

  def <a title="(renderVanityFooter: Boolean)(implicit ec: scala.concurrent.ExecutionContext)akka.http.marshalling.ToEntityMarshaller[akka.http.server.directives.DirectoryListing]" id="akka.http.server.directives.DirectoryListing.directoryMarshaller">directoryMarshaller</a><span class="delimiter">(</span><a title="Boolean" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.renderVanityFooter">renderVanityFooter</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="scala.concurrent.ExecutionContext" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.ec">ec</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span><span class="delimiter">)</span>: <a href="../../marshalling/Marshaller.scala.html#akka.http.marshalling;Marshaller" title="akka.http.marshalling.ToEntityMarshaller[akka.http.server.directives.DirectoryListing]">ToEntityMarshaller</a><span class="delimiter">[</span>DirectoryListing<span class="delimiter">]</span> =
    <a href="../../marshalling/Marshaller.scala.html#akka.http.marshalling.Marshaller" title="akka.http.marshalling.Marshaller.type">Marshaller</a>.<a href="../../marshalling/PredefinedToEntityMarshallers.scala.html#akka.http.marshalling;PredefinedToEntityMarshallers.StringMarshaller" title="=&gt; akka.http.marshalling.ToEntityMarshaller[String]">StringMarshaller</a>.<a href="../../marshalling/Marshaller.scala.html#akka.http.marshalling;Marshaller.wrap" title="(contentType: akka.http.model.ContentType)(f: akka.http.server.directives.DirectoryListing =&gt; String)(implicit ec: scala.concurrent.ExecutionContext, implicit mto: akka.http.marshalling.MediaTypeOverrider[akka.http.model.MessageEntity])akka.http.marshalling.Marshaller[akka.http.server.directives.DirectoryListing,akka.http.model.MessageEntity]">wrap</a><span class="delimiter">(</span><a href="../../model/MediaType.scala.html#akka.http.model.MediaTypes" title="akka.http.model.MediaTypes.type">MediaTypes</a>.<a href="../../model/ContentType.scala.html#akka.http.model.ContentType.apply(f1dbd43f8a)" title="implicit akka.http.model.ContentType.apply : (mediaType: akka.http.model.MediaType)akka.http.model.ContentType">`text/html`</a><span class="delimiter">)</span> <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.ec" title="scala.concurrent.ExecutionContext" class="delimiter">{</a> <a title="akka.http.server.directives.DirectoryListing" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.listing">listing</a> ⇒
      val DirectoryListing<a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.path" title="(String, Boolean, Seq[java.io.File])" class="delimiter">(</a><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.x$5" title="String" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.path">path</a>, <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.x$5" title="Boolean" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.isRoot">isRoot</a>, <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.x$5" title="Seq[java.io.File]" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.files">files</a><span class="delimiter">)</span> = <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.listing" title="akka.http.server.directives.DirectoryListing">listing</a>
      val <a title="Seq[(java.io.File, String)]" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.filesAndNames">filesAndNames</a> = <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.files" title="Seq[java.io.File]">files</a>.<span title="(f: java.io.File =&gt; (java.io.File, String))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[java.io.File],(java.io.File, String),Seq[(java.io.File, String)]])Seq[(java.io.File, String)]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,(java.io.File, String),Seq[(java.io.File, String)]]" class="delimiter">(</span><a title="java.io.File" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.filesAndNames.$anonfun.file">file</a> ⇒ <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.filesAndNames.$anonfun.file" title="(self: java.io.File)ArrowAssoc[java.io.File]">file</a> <span title="(y: String)(java.io.File, String)">-&gt;</span> <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.filesAndNames.$anonfun.file" title="java.io.File">file</a>.<span title="()String">getName</span><span class="delimiter">)</span>.<span title="(f: ((java.io.File, String)) =&gt; String)(implicit ord: scala.math.Ordering[String])Seq[(java.io.File, String)]">sortBy</span><span title="scala.math.Ordering.String.type" class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.filesAndNames.$anonfun.x$6" title="(java.io.File, String)">_</a>.<span title="=&gt; String">_2</span><span class="delimiter">)</span>
      val <a title="Seq[(java.io.File, String)]" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.deduped">deduped</a> = <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.filesAndNames" title="Seq[(java.io.File, String)]">filesAndNames</a>.<span title="(implicit bf: scala.collection.generic.CanBuildFrom[Seq[(java.io.File, String)],((java.io.File, String), Int),Seq[((java.io.File, String), Int)]])Seq[((java.io.File, String), Int)]">zipWithIndex</span>.<span title="(f: (((java.io.File, String), Int)) =&gt; scala.collection.GenTraversableOnce[(java.io.File, String)])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[((java.io.File, String), Int)],(java.io.File, String),Seq[(java.io.File, String)]])Seq[(java.io.File, String)]">flatMap</span> <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.deduped.$anonfun.x0$1" title="Iterable[(java.io.File, String)]" class="delimiter">{</a>
        case <span class="delimiter">(</span><a title="(java.io.File, String)" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.deduped.$anonfun.fan">fan</a> @ <span class="delimiter">(</span><a title="java.io.File" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.deduped.$anonfun.file">file</a>, <a title="String" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.deduped.$anonfun.name">name</a><span class="delimiter">)</span>, <a title="Int" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.deduped.$anonfun.ix">ix</a><span class="delimiter">)</span> ⇒
          if <span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.deduped.$anonfun.ix" title="Int">ix</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">||</span> <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.filesAndNames" title="(idx: Int)(java.io.File, String)">filesAndNames</a><span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.deduped.$anonfun.ix" title="Int">ix</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; String">_2</span> <span title="(x$1: Any)Boolean">!=</span> <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.deduped.$anonfun.name" title="String">name</a><span class="delimiter">)</span> <span title="(x: (java.io.File, String))Some[(java.io.File, String)]">Some</span><span title="(xo: Option[(java.io.File, String)])Iterable[(java.io.File, String)]" class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.deduped.$anonfun.fan" title="(java.io.File, String)">fan</a><span class="delimiter">)</span> else <span title="(xo: Option[Nothing])Iterable[Nothing]">None</span>
      <span class="delimiter">}</span>
      val <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.directoryFilesAndNames" title="(Seq[(java.io.File, String)], Seq[(java.io.File, String)])" class="delimiter">(</a><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.x$8" title="Seq[(java.io.File, String)]" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.directoryFilesAndNames">directoryFilesAndNames</a>, <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.x$8" title="Seq[(java.io.File, String)]" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.fileFilesAndNames">fileFilesAndNames</a><span class="delimiter">)</span> = <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.deduped" title="Seq[(java.io.File, String)]">deduped</a>.<span title="(p: ((java.io.File, String)) =&gt; Boolean)(Seq[(java.io.File, String)], Seq[(java.io.File, String)])">partition</span><span title="(Seq[(java.io.File, String)], Seq[(java.io.File, String)]) @unchecked" class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.x$8.$anonfun.x$7" title="(java.io.File, String)">_</a>.<span title="=&gt; java.io.File">_1</span>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span>
      def <a title="(seq: Seq[(java.io.File, String)])Int" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.maxNameLength">maxNameLength</a><span class="delimiter">(</span><a title="Seq[(java.io.File, String)]" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.maxNameLength.seq">seq</a>: <span title="Seq[(java.io.File, String)]">Seq</span><span class="delimiter">[</span><span class="delimiter">(</span>File, String<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> = if <span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.maxNameLength.seq" title="Seq[(java.io.File, String)]">seq</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="Int(0)" class="int">0</span> else <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.maxNameLength.seq" title="Seq[(java.io.File, String)]">seq</a>.<span title="(f: ((java.io.File, String)) =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[(java.io.File, String)],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Int,Seq[Int]]" class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.maxNameLength.$anonfun.x$9" title="(java.io.File, String)">_</a>.<span title="=&gt; String">_2</span>.<span title="()Int">length</span><span class="delimiter">)</span>.<span title="(implicit cmp: Ordering[Int])Int">max</span>
      val <a title="Int" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.maxNameLen">maxNameLen</a> = math.<span title="(x: Int, y: Int)Int">max</span><span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.maxNameLength" title="(seq: Seq[(java.io.File, String)])Int">maxNameLength</a><span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.directoryFilesAndNames" title="Seq[(java.io.File, String)]">directoryFilesAndNames</a><span class="delimiter">)</span> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.maxNameLength" title="(seq: Seq[(java.io.File, String)])Int">maxNameLength</a><span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.fileFilesAndNames" title="Seq[(java.io.File, String)]">fileFilesAndNames</a><span class="delimiter">)</span><span class="delimiter">)</span>
      val <a title="StringBuilder" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.sb">sb</a> = new java.lang.<span title="StringBuilder">StringBuilder</span>
      <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.sb" title="StringBuilder">sb</a>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.html" title="(i: Int)String">html</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.path" title="String">path</a><span class="delimiter">)</span>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.html" title="(i: Int)String">html</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.path" title="String">path</a><span class="delimiter">)</span>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.html" title="(i: Int)String">html</a><span class="delimiter">(</span><span title="Int(2)" class="int">2</span><span class="delimiter">)</span><span class="delimiter">)</span>
      if <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.isRoot" title="Boolean">isRoot</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        val <a title="Int" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.secondToLastSlash">secondToLastSlash</a> = <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.path" title="String">path</a>.<span title="(x$1: Int, x$2: Int)Int">lastIndexOf</span><span class="delimiter">(</span><span title="Int(47)" class="char">'/'</span>, <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.path" title="String">path</a>.<span title="(x$1: Int, x$2: Int)Int">lastIndexOf</span><span class="delimiter">(</span><span title="Int(47)" class="char">'/'</span>, <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.path" title="String">path</a>.<span title="()Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.sb" title="StringBuilder">sb</a>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&lt;a href=\&quot;%s/\&quot;&gt;../&lt;/a&gt;\n&quot;</span> <span title="(args: Any*)String">format</span> <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.path" title="String">path</a>.<span title="(x$1: Int, x$2: Int)String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.secondToLastSlash" title="Int">secondToLastSlash</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      def <a title="(file: java.io.File)String" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.lastModified">lastModified</a><span class="delimiter">(</span><a title="java.io.File" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.lastModified.file">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> = <a href="../../util/DateTime.scala.html#akka.http.util.DateTime.apply(556d5254e4)" title="(clicks: Long)akka.http.util.DateTime">DateTime</a><span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.lastModified.file" title="java.io.File">file</a>.<span title="()Long">lastModified</span><span class="delimiter">)</span>.<a href="../../util/DateTime.scala.html#akka.http.util;DateTime.toIsoLikeDateTimeString" title="()String">toIsoLikeDateTimeString</a>
      def <a title="(name: String)StringBuilder" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.start">start</a><span class="delimiter">(</span><a title="String" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.start.name">name</a>: <span title="String">String</span><span class="delimiter">)</span> =
        <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.sb" title="StringBuilder">sb</a>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;&lt;a href=\&quot;&quot;)" class="string">&quot;&lt;a href=\&quot;&quot;</span><span class="delimiter">)</span>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.path" title="String">path</a> <span title="(x$1: Any)String">+</span> <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.start.name" title="String">name</a><span class="delimiter">)</span>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;\&quot;&gt;&quot;)" class="string">&quot;\&quot;&gt;&quot;</span><span class="delimiter">)</span>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.start.name" title="String">name</a><span class="delimiter">)</span>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;&lt;/a&gt;&quot;)" class="string">&quot;&lt;/a&gt;&quot;</span><span class="delimiter">)</span>
          .<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot; &quot;</span> <span title="(n: Int)String">*</span> <span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.maxNameLen" title="Int">maxNameLen</a> <span title="(x: Int)Int">-</span> <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.start.name" title="String">name</a>.<span title="()Int">length</span><span class="delimiter">)</span><span class="delimiter">)</span>
      def <a title="(file: java.io.File, name: String)StringBuilder" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.renderDirectory">renderDirectory</a><span class="delimiter">(</span><a title="java.io.File" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.renderDirectory.file">file</a>: <span title="java.io.File">File</span>, <a title="String" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.renderDirectory.name">name</a>: <span title="String">String</span><span class="delimiter">)</span> =
        <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.start" title="(name: String)StringBuilder">start</a><span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.renderDirectory.name" title="String">name</a> <span title="(x$1: Any)String">+</span> <span title="Char('/')" class="char">'/'</span><span class="delimiter">)</span>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;        &quot;)" class="string">&quot;        &quot;</span><span class="delimiter">)</span>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.lastModified" title="(file: java.io.File)String">lastModified</a><span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.renderDirectory.file" title="java.io.File">file</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(x$1: Char)StringBuilder">append</span><span class="delimiter">(</span><span title="Char('\n')" class="char">'\n'</span><span class="delimiter">)</span>
      def <a title="(file: java.io.File, name: String)StringBuilder" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.renderFile">renderFile</a><span class="delimiter">(</span><a title="java.io.File" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.renderFile.file">file</a>: <span title="java.io.File">File</span>, <a title="String" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.renderFile.name">name</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        val <a title="String" id="akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.renderFile.size">size</a> = akka.http.util.<a href="../../util/package.scala.html#akka.http.util.package.humanReadableByteCount" title="(bytes: Long, si: Boolean)String">humanReadableByteCount</a><span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.renderFile.file" title="java.io.File">file</a>.<span title="()Long">length</span>, si = true<span class="delimiter">)</span>
        <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.start" title="(name: String)StringBuilder">start</a><span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.renderFile.name" title="String">name</a><span class="delimiter">)</span>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;        &quot;)" class="string">&quot;        &quot;</span><span class="delimiter">)</span>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.lastModified" title="(file: java.io.File)String">lastModified</a><span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.renderFile.file" title="java.io.File">file</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.sb" title="StringBuilder">sb</a>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;                &quot;)" class="string">&quot;                &quot;</span>.<span title="(x$1: Int)String">substring</span><span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.renderFile.size" title="String">size</a>.<span title="()Int">length</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.renderFile.size" title="String">size</a><span class="delimiter">)</span>.<span title="(x$1: Char)StringBuilder">append</span><span class="delimiter">(</span><span title="Char('\n')" class="char">'\n'</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      for <span class="delimiter">(</span><span class="delimiter">(</span><span title="java.io.File">file</span>, <span title="String">name</span><span class="delimiter">)</span> ← <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.directoryFilesAndNames" title="(f: ((java.io.File, String)) =&gt; StringBuilder)Unit">directoryFilesAndNames</a><span class="delimiter">)</span> <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.renderDirectory" title="(file: java.io.File, name: String)StringBuilder">renderDirectory</a><span class="delimiter">(</span><span title="java.io.File">file</span>, <span title="String">name</span><span class="delimiter">)</span>
      for <span class="delimiter">(</span><span class="delimiter">(</span><span title="java.io.File">file</span>, <span title="String">name</span><span class="delimiter">)</span> ← <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.fileFilesAndNames" title="(f: ((java.io.File, String)) =&gt; StringBuilder)Unit">fileFilesAndNames</a><span class="delimiter">)</span> <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.renderFile" title="(file: java.io.File, name: String)StringBuilder">renderFile</a><span class="delimiter">(</span><span title="java.io.File">file</span>, <span title="String">name</span><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.isRoot" title="Boolean">isRoot</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.files" title="Seq[java.io.File]">files</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.sb" title="StringBuilder">sb</a>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;(no files)\n&quot;)" class="string">&quot;(no files)\n&quot;</span><span class="delimiter">)</span>
      <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.sb" title="StringBuilder">sb</a>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.html" title="(i: Int)String">html</a><span class="delimiter">(</span><span title="Int(3)" class="int">3</span><span class="delimiter">)</span><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.renderVanityFooter" title="Boolean">renderVanityFooter</a><span class="delimiter">)</span> <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.sb" title="StringBuilder">sb</a>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.html" title="(i: Int)String">html</a><span class="delimiter">(</span><span title="Int(4)" class="int">4</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><a href="../../util/DateTime.scala.html#akka.http.util.DateTime" title="akka.http.util.DateTime.type">DateTime</a>.<a href="../../util/DateTime.scala.html#akka.http.util.DateTime.now" title="=&gt; akka.http.util.DateTime">now</a>.<a href="../../util/DateTime.scala.html#akka.http.util;DateTime.toIsoLikeDateTimeString" title="()String">toIsoLikeDateTimeString</a><span class="delimiter">)</span>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.html" title="(i: Int)String">html</a><span class="delimiter">(</span><span title="Int(5)" class="int">5</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#akka.http.server.directives.DirectoryListing.directoryMarshaller.$anonfun.sb" title="StringBuilder">sb</a>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#akka.http.server.directives.DirectoryListing.html" title="(i: Int)String">html</a><span class="delimiter">(</span><span title="Int(6)" class="int">6</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="()String">toString</span>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
