<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>akka/http/testkit/MarshallingTestUtils.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright (C) 2009-2014 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>

package akka.http.testkit

import akka.http.unmarshalling.<span class="delimiter">{</span> Unmarshal, FromEntityUnmarshaller <span class="delimiter">}</span>

import scala.concurrent.duration._
import scala.concurrent.<span class="delimiter">{</span> ExecutionContext, Await <span class="delimiter">}</span>

import akka.http.marshalling._
import akka.http.model.HttpEntity
import akka.stream.FlowMaterializer

import scala.util.Try

trait <a title="trait MarshallingTestUtils extends AnyRef" id="akka.http.testkit;MarshallingTestUtils">MarshallingTestUtils</a> <span title="Unit" class="delimiter">{</span>
  def <a title="[T](value: T)(implicit evidence$1: akka.http.marshalling.ToEntityMarshaller[T], implicit ec: scala.concurrent.ExecutionContext, implicit mat: akka.stream.FlowMaterializer)akka.http.model.HttpEntity.Strict" id="akka.http.testkit;MarshallingTestUtils.marshal">marshal</a><span class="delimiter">[</span><a title="" id="akka.http.testkit;MarshallingTestUtils.marshal;T">T</a>: ToEntityMarshaller<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="akka.http.testkit;MarshallingTestUtils.marshal.value">value</a>: <a href="#akka.http.testkit;MarshallingTestUtils.marshal;T" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="scala.concurrent.ExecutionContext" id="akka.http.testkit;MarshallingTestUtils.marshal.ec">ec</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span>, <a title="akka.stream.FlowMaterializer" id="akka.http.testkit;MarshallingTestUtils.marshal.mat">mat</a>: <a href="../../stream/FlowMaterializer.scala.html#akka.stream;FlowMaterializer" title="akka.stream.FlowMaterializer">FlowMaterializer</a><span class="delimiter">)</span>: HttpEntity.<a href="../model/HttpEntity.scala.html#akka.http.model.HttpEntity;Strict" title="akka.http.model.HttpEntity.Strict">Strict</a> =
    <span title="scala.concurrent.Await.type">Await</span>.<span title="(awaitable: scala.concurrent.Awaitable[akka.http.model.HttpEntity.Strict], atMost: scala.concurrent.duration.Duration)akka.http.model.HttpEntity.Strict">result</span><span class="delimiter">(</span><a href="../marshalling/Marshal.scala.html#akka.http.marshalling.Marshal.apply" title="(value: T)akka.http.marshalling.Marshal[T]">Marshal</a><span class="delimiter">(</span><a href="#akka.http.testkit;MarshallingTestUtils.marshal.value" title="T">value</a><span class="delimiter">)</span>.<a href="../marshalling/Marshal.scala.html#akka.http.marshalling;Marshal.to" title="[B](implicit m: akka.http.marshalling.Marshaller[T,B], implicit ec: scala.concurrent.ExecutionContext)scala.concurrent.Future[B]">to</a><a href="#akka.http.testkit;MarshallingTestUtils.marshal.evidence$1" title="(implicit m: akka.http.marshalling.Marshaller[T,akka.http.model.HttpEntity], implicit ec: scala.concurrent.ExecutionContext)scala.concurrent.Future[akka.http.model.HttpEntity]" class="delimiter">[</a><a href="../model/HttpEntity.scala.html#akka.http.model;HttpEntity" title="akka.http.model.HttpEntity">HttpEntity</a><span class="delimiter">]</span>.<span title="(f: akka.http.model.HttpEntity =&gt; scala.concurrent.Future[akka.http.model.HttpEntity.Strict])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[akka.http.model.HttpEntity.Strict]">flatMap</span><a href="#akka.http.testkit;MarshallingTestUtils.marshal.ec" title="scala.concurrent.ExecutionContext" class="delimiter">(</a><a href="#akka.http.testkit;MarshallingTestUtils.marshal.$anonfun.x$1" title="akka.http.model.HttpEntity">_</a>.<a href="../model/HttpEntity.scala.html#akka.http.model;HttpEntity.toStrict" title="(timeout: scala.concurrent.duration.FiniteDuration)(implicit fm: akka.stream.FlowMaterializer)scala.concurrent.Future[akka.http.model.HttpEntity.Strict]">toStrict</a><a href="#akka.http.testkit;MarshallingTestUtils.marshal.mat" title="akka.stream.FlowMaterializer" class="delimiter">(</a><span title="implicit scala.concurrent.duration.package.DurationInt : (n: Int)concurrent.duration.DurationInt" class="int">1</span>.<span title="=&gt; scala.concurrent.duration.FiniteDuration">second</span><span class="delimiter">)</span><span class="delimiter">)</span>, <span title="implicit scala.concurrent.duration.package.DurationInt : (n: Int)concurrent.duration.DurationInt" class="int">1</span>.<span title="=&gt; scala.concurrent.duration.FiniteDuration">second</span><span class="delimiter">)</span>

  def <a title="[T](entity: akka.http.model.HttpEntity)(implicit evidence$2: akka.http.unmarshalling.FromEntityUnmarshaller[T], implicit ec: scala.concurrent.ExecutionContext, implicit mat: akka.stream.FlowMaterializer)T" id="akka.http.testkit;MarshallingTestUtils.unmarshalValue">unmarshalValue</a><span class="delimiter">[</span><a title="" id="akka.http.testkit;MarshallingTestUtils.unmarshalValue;T">T</a>: FromEntityUnmarshaller<span class="delimiter">]</span><span class="delimiter">(</span><a title="akka.http.model.HttpEntity" id="akka.http.testkit;MarshallingTestUtils.unmarshalValue.entity">entity</a>: <a href="../model/HttpEntity.scala.html#akka.http.model;HttpEntity" title="akka.http.model.HttpEntity">HttpEntity</a><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="scala.concurrent.ExecutionContext" id="akka.http.testkit;MarshallingTestUtils.unmarshalValue.ec">ec</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span>, <a title="akka.stream.FlowMaterializer" id="akka.http.testkit;MarshallingTestUtils.unmarshalValue.mat">mat</a>: <a href="../../stream/FlowMaterializer.scala.html#akka.stream;FlowMaterializer" title="akka.stream.FlowMaterializer">FlowMaterializer</a><span class="delimiter">)</span>: <a href="#akka.http.testkit;MarshallingTestUtils.unmarshalValue;T" title="T">T</a> =
    <a href="#akka.http.testkit;MarshallingTestUtils.unmarshal" title="(entity: akka.http.model.HttpEntity)(implicit evidence$3: akka.http.unmarshalling.FromEntityUnmarshaller[T], implicit ec: scala.concurrent.ExecutionContext, implicit mat: akka.stream.FlowMaterializer)scala.util.Try[T]">unmarshal</a><a href="#akka.http.testkit;MarshallingTestUtils.unmarshalValue.evidence$2" title="akka.http.unmarshalling.FromEntityUnmarshaller[T]" class="delimiter">(</a><a href="#akka.http.testkit;MarshallingTestUtils.unmarshalValue.entity" title="akka.http.model.HttpEntity">entity</a><span class="delimiter">)</span>.<span title="=&gt; T">get</span>

  def <a title="[T](entity: akka.http.model.HttpEntity)(implicit evidence$3: akka.http.unmarshalling.FromEntityUnmarshaller[T], implicit ec: scala.concurrent.ExecutionContext, implicit mat: akka.stream.FlowMaterializer)scala.util.Try[T]" id="akka.http.testkit;MarshallingTestUtils.unmarshal">unmarshal</a><span class="delimiter">[</span><a title="" id="akka.http.testkit;MarshallingTestUtils.unmarshal;T">T</a>: FromEntityUnmarshaller<span class="delimiter">]</span><span class="delimiter">(</span><a title="akka.http.model.HttpEntity" id="akka.http.testkit;MarshallingTestUtils.unmarshal.entity">entity</a>: <a href="../model/HttpEntity.scala.html#akka.http.model;HttpEntity" title="akka.http.model.HttpEntity">HttpEntity</a><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="scala.concurrent.ExecutionContext" id="akka.http.testkit;MarshallingTestUtils.unmarshal.ec">ec</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span>, <a title="akka.stream.FlowMaterializer" id="akka.http.testkit;MarshallingTestUtils.unmarshal.mat">mat</a>: <a href="../../stream/FlowMaterializer.scala.html#akka.stream;FlowMaterializer" title="akka.stream.FlowMaterializer">FlowMaterializer</a><span class="delimiter">)</span>: <span title="scala.util.Try[T]">Try</span><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="scala.concurrent.Future[T]" id="akka.http.testkit;MarshallingTestUtils.unmarshal.fut">fut</a> = <a href="../unmarshalling/Unmarshal.scala.html#akka.http.unmarshalling.Unmarshal.apply" title="(value: akka.http.model.HttpEntity)akka.http.unmarshalling.Unmarshal[akka.http.model.HttpEntity]">Unmarshal</a><span class="delimiter">(</span><a href="#akka.http.testkit;MarshallingTestUtils.unmarshal.entity" title="akka.http.model.HttpEntity">entity</a><span class="delimiter">)</span>.<a href="../unmarshalling/Unmarshal.scala.html#akka.http.unmarshalling;Unmarshal.to" title="[B](implicit um: akka.http.unmarshalling.Unmarshaller[akka.http.model.HttpEntity,B])scala.concurrent.Future[B]">to</a><a href="#akka.http.testkit;MarshallingTestUtils.unmarshal.evidence$3" title="(implicit um: akka.http.unmarshalling.Unmarshaller[akka.http.model.HttpEntity,T])scala.concurrent.Future[T]" class="delimiter">[</a><a href="#akka.http.testkit;MarshallingTestUtils.unmarshal;T" title="T">T</a><span class="delimiter">]</span>
    <span title="scala.concurrent.Await.type">Await</span>.<span title="(awaitable: scala.concurrent.Awaitable[T], atMost: scala.concurrent.duration.Duration)awaitable.type">ready</span><span class="delimiter">(</span><a href="#akka.http.testkit;MarshallingTestUtils.unmarshal.fut" title="scala.concurrent.Future[T]">fut</a>, <span title="implicit scala.concurrent.duration.package.DurationInt : (n: Int)concurrent.duration.DurationInt" class="int">1</span>.<span title="=&gt; scala.concurrent.duration.FiniteDuration">second</span><span class="delimiter">)</span>
    <a href="#akka.http.testkit;MarshallingTestUtils.unmarshal.fut" title="scala.concurrent.Future[T]">fut</a>.<span title="=&gt; Option[scala.util.Try[T]]">value</span>.<span title="=&gt; scala.util.Try[T]">get</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>
