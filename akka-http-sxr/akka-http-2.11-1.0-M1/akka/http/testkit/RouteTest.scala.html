<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>akka/http/testkit/RouteTest.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright (C) 2009-2014 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>

package akka.http.testkit

import com.typesafe.config.<span class="delimiter">{</span> ConfigFactory, Config <span class="delimiter">}</span>
import scala.collection.immutable
import scala.concurrent.<span class="delimiter">{</span> Await, Future <span class="delimiter">}</span>
import scala.concurrent.duration._
import scala.util.DynamicVariable
import scala.reflect.ClassTag
import akka.actor.ActorSystem
import akka.stream.FlowMaterializer
import akka.http.client.RequestBuilding
import akka.http.util.FastFuture
import akka.http.server._
import akka.http.unmarshalling._
import akka.http.model._
import headers.Host
import <a href="../util/FastFuture.scala.html#akka.http.util.FastFuture" title="akka.http.util.FastFuture.type">FastFuture</a>._

trait <a title="trait RouteTest extends AnyRef with akka.http.client.RequestBuilding with akka.http.testkit.RouteTestResultComponent with akka.http.testkit.MarshallingTestUtils" id="akka.http.testkit;RouteTest">RouteTest</a> extends <a href="../client/RequestBuilding.scala.html#akka.http.client;RequestBuilding" title="akka.http.client.RequestBuilding">RequestBuilding</a> with <a href="RouteTestResultComponent.scala.html#akka.http.testkit;RouteTestResultComponent" title="akka.http.testkit.RouteTestResultComponent">RouteTestResultComponent</a> with <a href="MarshallingTestUtils.scala.html#akka.http.testkit;MarshallingTestUtils" title="akka.http.testkit.MarshallingTestUtils">MarshallingTestUtils</a> <span class="delimiter">{</span>
  this: TestFrameworkInterface ⇒

  <span class="comment">/** Override to supply a custom ActorSystem */</span>
  protected def <a title="()akka.actor.ActorSystem" id="akka.http.testkit;RouteTest.createActorSystem">createActorSystem</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="akka.actor.ActorSystem">ActorSystem</span> =
    <span title="(name: String, config: com.typesafe.config.Config)akka.actor.ActorSystem">ActorSystem</span><span class="delimiter">(</span><a href="#akka.http.testkit;RouteTest.actorSystemNameFrom" title="(clazz: Class[_])String">actorSystemNameFrom</a><span class="delimiter">(</span><a href="#akka.http.testkit;RouteTest" title="()Class[_]">getClass</a><span class="delimiter">)</span>, <a href="#akka.http.testkit;RouteTest.testConfig" title="=&gt; com.typesafe.config.Config">testConfig</a><span class="delimiter">)</span>

  def <a title="(clazz: Class[_])String" id="akka.http.testkit;RouteTest.actorSystemNameFrom">actorSystemNameFrom</a><span class="delimiter">(</span><a title="Class[_]" id="akka.http.testkit;RouteTest.actorSystemNameFrom.clazz">clazz</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#akka.http.testkit;RouteTest.actorSystemNameFrom.clazz" title="Class[_]">clazz</a>.<span title="()String">getName</span>
      .<span title="(x$1: Char, x$2: Char)String">replace</span><span class="delimiter">(</span><span title="Char('.')" class="char">'.'</span>, <span title="Char('-')" class="char">'-'</span><span class="delimiter">)</span>
      .<span title="(x$1: Char, x$2: Char)String">replace</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</span><span title="Char('_')" class="char">'_'</span>, <span title="Char('-')" class="char">'-'</span><span class="delimiter">)</span>
      .<span title="(p: Char =&gt; Boolean)String">filter</span><span class="delimiter">(</span><a href="#akka.http.testkit;RouteTest.actorSystemNameFrom.$anonfun.x$1" title="Char">_</a> <span title="(x: Char)Boolean">!=</span> <span title="Char('$')" class="char">'$'</span><span class="delimiter">)</span>

  def <a title="=&gt; String" id="akka.http.testkit;RouteTest.testConfigSource">testConfigSource</a>: <span title="String">String</span> = <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
  def <a title="=&gt; com.typesafe.config.Config" id="akka.http.testkit;RouteTest.testConfig">testConfig</a>: <span title="com.typesafe.config.Config">Config</span> = <span class="delimiter">{</span>
    val <a title="String" id="akka.http.testkit;RouteTest.testConfig.source">source</a> = <a href="#akka.http.testkit;RouteTest.testConfigSource" title="=&gt; String">testConfigSource</a>
    val <a title="com.typesafe.config.Config" id="akka.http.testkit;RouteTest.testConfig.config">config</a> = if <span class="delimiter">(</span><a href="#akka.http.testkit;RouteTest.testConfig.source" title="String">source</a>.<span title="()Boolean">isEmpty</span><span class="delimiter">)</span> <span title="com.typesafe.config.ConfigFactory.type">ConfigFactory</span>.<span title="()com.typesafe.config.Config">empty</span><span class="delimiter">(</span><span class="delimiter">)</span> else <span title="com.typesafe.config.ConfigFactory.type">ConfigFactory</span>.<span title="(x$1: String)com.typesafe.config.Config">parseString</span><span class="delimiter">(</span><a href="#akka.http.testkit;RouteTest.testConfig.source" title="String">source</a><span class="delimiter">)</span>
    <a href="#akka.http.testkit;RouteTest.testConfig.config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: com.typesafe.config.ConfigMergeable)com.typesafe.config.Config">withFallback</span><span class="delimiter">(</span><span title="com.typesafe.config.ConfigFactory.type">ConfigFactory</span>.<span title="()com.typesafe.config.Config">load</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  implicit val <a title="akka.actor.ActorSystem" id="akka.http.testkit;RouteTest.system">system</a> = <a href="#akka.http.testkit;RouteTest.createActorSystem" title="()akka.actor.ActorSystem">createActorSystem</a><span class="delimiter">(</span><span class="delimiter">)</span>
  implicit def <a title="=&gt; scala.concurrent.ExecutionContextExecutor" id="akka.http.testkit;RouteTest.executor">executor</a> = <a href="#akka.http.testkit;RouteTest.system" title="=&gt; akka.actor.ActorSystem">system</a>.<span title="=&gt; scala.concurrent.ExecutionContextExecutor">dispatcher</span>
  implicit val <a title="akka.stream.FlowMaterializer" id="akka.http.testkit;RouteTest.materializer">materializer</a> = <a href="../../stream/FlowMaterializer.scala.html#akka.stream.FlowMaterializer.apply(362234d489)" title="(materializerSettings: Option[akka.stream.MaterializerSettings], namePrefix: Option[String])(implicit context: akka.actor.ActorRefFactory)akka.stream.FlowMaterializer">FlowMaterializer</a><a href="#akka.http.testkit;RouteTest.system" title="=&gt; akka.actor.ActorSystem" class="delimiter">(</a><span class="delimiter">)</span>

  def <a title="()Unit" id="akka.http.testkit;RouteTest.cleanUp">cleanUp</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.http.testkit;RouteTest.system" title="=&gt; akka.actor.ActorSystem">system</a>.<span title="()Unit">shutdown</span><span class="delimiter">(</span><span class="delimiter">)</span>

  private val <a title="scala.util.DynamicVariable[RouteTest.this.RouteTestResult]" id="akka.http.testkit;RouteTest.dynRR">dynRR</a> = new <span title="scala.util.DynamicVariable[RouteTest.this.RouteTestResult]">DynamicVariable</span><span class="delimiter">[</span>RouteTestResult<span class="delimiter">]</span><span class="delimiter">(</span>null<span class="delimiter">)</span>
  private def <a title="=&gt; RouteTest.this.RouteTestResult" id="akka.http.testkit;RouteTest.result">result</a> =
    if <span class="delimiter">(</span><a href="#akka.http.testkit;RouteTest.dynRR" title="=&gt; scala.util.DynamicVariable[RouteTest.this.RouteTestResult]">dynRR</a>.<span title="=&gt; RouteTest.this.RouteTestResult">value</span> <span title="(x$1: AnyRef)Boolean">ne</span> null<span class="delimiter">)</span> <a href="#akka.http.testkit;RouteTest.dynRR" title="=&gt; scala.util.DynamicVariable[RouteTest.this.RouteTestResult]">dynRR</a>.<span title="=&gt; RouteTest.this.RouteTestResult">value</span>
    else sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="String(&quot;This value is only available inside of a `check` construct!&quot;)" class="string">&quot;This value is only available inside of a `check` construct!&quot;</span><span class="delimiter">)</span>

  def <a title="[T](body: =&gt; T)RouteTest.this.RouteTestResult =&gt; T" id="akka.http.testkit;RouteTest.check">check</a><span class="delimiter">[</span><a title="" id="akka.http.testkit;RouteTest.check;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="akka.http.testkit;RouteTest.check.body">body</a>: ⇒ T<span class="delimiter">)</span>: RouteTestResult ⇒ T = <a title="RouteTest.this.RouteTestResult" id="akka.http.testkit;RouteTest.check.$anonfun.result">result</a> ⇒ <a href="#akka.http.testkit;RouteTest.dynRR" title="=&gt; scala.util.DynamicVariable[RouteTest.this.RouteTestResult]">dynRR</a>.<span title="(newval: RouteTest.this.RouteTestResult)(thunk: =&gt; T)T">withValue</span><span class="delimiter">(</span><a href="#akka.http.testkit;RouteTest.check.$anonfun.result" title="RouteTest.this.RouteTestResult">result</a>.<a href="RouteTestResultComponent.scala.html#akka.http.testkit;RouteTestResultComponent;RouteTestResult.awaitResult" title="=&gt; result.type">awaitResult</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#akka.http.testkit;RouteTest.check.body" title="=&gt; T">body</a><span class="delimiter">)</span>

  def <a title="=&gt; Boolean" id="akka.http.testkit;RouteTest.handled">handled</a>: <span title="Boolean">Boolean</span> = <a href="#akka.http.testkit;RouteTest.result" title="=&gt; RouteTest.this.RouteTestResult">result</a>.<a href="RouteTestResultComponent.scala.html#akka.http.testkit;RouteTestResultComponent;RouteTestResult.handled" title="=&gt; Boolean">handled</a>
  def <a title="=&gt; akka.http.model.HttpResponse" id="akka.http.testkit;RouteTest.response">response</a>: <a href="../model/HttpMessage.scala.html#akka.http.model;HttpResponse" title="akka.http.model.HttpResponse">HttpResponse</a> = <a href="#akka.http.testkit;RouteTest.result" title="=&gt; RouteTest.this.RouteTestResult">result</a>.<a href="RouteTestResultComponent.scala.html#akka.http.testkit;RouteTestResultComponent;RouteTestResult.response" title="=&gt; akka.http.model.HttpResponse">response</a>
  def <a title="=&gt; akka.http.model.HttpEntity" id="akka.http.testkit;RouteTest.responseEntity">responseEntity</a>: <a href="../model/HttpEntity.scala.html#akka.http.model;HttpEntity" title="akka.http.model.HttpEntity">HttpEntity</a> = <a href="#akka.http.testkit;RouteTest.result" title="=&gt; RouteTest.this.RouteTestResult">result</a>.<a href="RouteTestResultComponent.scala.html#akka.http.testkit;RouteTestResultComponent;RouteTestResult.entity" title="=&gt; akka.http.model.ResponseEntity">entity</a>
  def <a title="=&gt; scala.collection.immutable.Seq[akka.http.model.HttpEntity.ChunkStreamPart]" id="akka.http.testkit;RouteTest.chunks">chunks</a>: immutable.<span title="scala.collection.immutable.Seq[akka.http.model.HttpEntity.ChunkStreamPart]">Seq</span><span class="delimiter">[</span>HttpEntity.ChunkStreamPart<span class="delimiter">]</span> = <a href="#akka.http.testkit;RouteTest.result" title="=&gt; RouteTest.this.RouteTestResult">result</a>.<a href="RouteTestResultComponent.scala.html#akka.http.testkit;RouteTestResultComponent;RouteTestResult.chunks" title="=&gt; scala.collection.immutable.Seq[akka.http.model.HttpEntity.ChunkStreamPart]">chunks</a>
  def <a title="[T](implicit evidence$1: akka.http.unmarshalling.FromEntityUnmarshaller[T], implicit evidence$2: scala.reflect.ClassTag[T], implicit timeout: scala.concurrent.duration.Duration)T" id="akka.http.testkit;RouteTest.entityAs">entityAs</a><span class="delimiter">[</span><a title="" id="akka.http.testkit;RouteTest.entityAs$default$3;T">T</a>: FromEntityUnmarshaller: ClassTag<span class="delimiter">]</span><span class="delimiter">(</span>implicit <a title="scala.concurrent.duration.Duration" id="akka.http.testkit;RouteTest.entityAs$default$3">timeout</a>: <span title="scala.concurrent.duration.Duration">Duration</span> = <span title="implicit scala.concurrent.duration.package.DurationInt : (n: Int)concurrent.duration.DurationInt" class="int">1</span>.<span title="=&gt; scala.concurrent.duration.FiniteDuration">second</span><span class="delimiter">)</span>: <a href="#akka.http.testkit;RouteTest.entityAs$default$3;T" title="T">T</a> = <span class="delimiter">{</span>
    def <a title="(e: Throwable)String" id="akka.http.testkit;RouteTest.entityAs.msg">msg</a><span class="delimiter">(</span><a title="Throwable" id="akka.http.testkit;RouteTest.entityAs.msg.e">e</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span> = <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Could not unmarshal entity to type \'&quot;)">Could not unmarshal entity to type '$</span><span class="delimiter">{</span><span title="[T](implicit e: T)T">implicitly</span><a href="#akka.http.testkit;RouteTest.entityAs.evidence$2" title="(implicit e: scala.reflect.ClassTag[T])scala.reflect.ClassTag[T]" class="delimiter">[</a><span title="scala.reflect.ClassTag[T]">ClassTag</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">}</span><span title="String(&quot;\' for `entityAs` assertion: &quot;)">' for `entityAs` assertion: $</span><a href="#akka.http.testkit;RouteTest.entityAs.msg.e" title="Throwable">e</a><span title="String(&quot;\\n\\nResponse was: &quot;)">\n\nResponse was: $</span><a href="#akka.http.testkit;RouteTest.response" title="=&gt; akka.http.model.HttpResponse">response</a><span title="String(&quot;&quot;)" class="string">&quot;</span>
    <span title="scala.concurrent.Await.type">Await</span>.<span title="(awaitable: scala.concurrent.Awaitable[T], atMost: scala.concurrent.duration.Duration)T">result</span><span class="delimiter">(</span><a href="../unmarshalling/Unmarshal.scala.html#akka.http.unmarshalling.Unmarshal.apply" title="(value: akka.http.model.HttpEntity)akka.http.unmarshalling.Unmarshal[akka.http.model.HttpEntity]">Unmarshal</a><span class="delimiter">(</span><a href="#akka.http.testkit;RouteTest.responseEntity" title="=&gt; akka.http.model.HttpEntity">responseEntity</a><span class="delimiter">)</span>.<a href="../unmarshalling/Unmarshal.scala.html#akka.http.unmarshalling;Unmarshal.to" title="[B](implicit um: akka.http.unmarshalling.Unmarshaller[akka.http.model.HttpEntity,B])scala.concurrent.Future[B]">to</a><a href="../util/FastFuture.scala.html#akka.http.util.FastFuture.EnhancedFuture(70d292f3d1)" title="(future: scala.concurrent.Future[T])akka.http.util.FastFuture.EnhancedFuture[T]" class="delimiter">[</a><a href="#akka.http.testkit;RouteTest.entityAs$default$3;T" title="T">T</a><span class="delimiter">]</span>.<a href="../util/FastFuture.scala.html#akka.http.util.FastFuture;EnhancedFuture.fast" title="=&gt; akka.http.util.FastFuture[T]">fast</a>.<a href="../util/FastFuture.scala.html#akka.http.util;FastFuture.recover" title="[B &gt;: T](pf: PartialFunction[Throwable,B])(implicit ec: scala.concurrent.ExecutionContext)scala.concurrent.Future[B]">recover</a><span title="(pf: PartialFunction[Throwable,T])(implicit ec: scala.concurrent.ExecutionContext)scala.concurrent.Future[T]" class="delimiter">[</span><a href="#akka.http.testkit;RouteTest.entityAs$default$3;T" title="T">T</a><span class="delimiter">]</span> <a title="&lt;$anon: Throwable =&gt; T&gt; extends scala.runtime.AbstractPartialFunction[Throwable,T] with Serializable" id="akka.http.testkit;RouteTest.entityAs;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a> case <a title="Throwable" id="akka.http.testkit;RouteTest.entityAs;$anonfun.isDefinedAt.error">error</a> ⇒ <a href="TestFrameworkInterface.scala.html#akka.http.testkit;TestFrameworkInterface.failTest" title="(msg: String)Nothing">failTest</a><span title="Boolean(true)" class="delimiter">(</span><a href="#akka.http.testkit;RouteTest.entityAs.msg" title="(e: Throwable)String">msg</a><span class="delimiter">(</span><a href="#akka.http.testkit;RouteTest.entityAs;$anonfun.isDefinedAt.error" title="Throwable">error</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>, <a href="#akka.http.testkit;RouteTest.entityAs$default$3" title="scala.concurrent.duration.Duration">timeout</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  def <a title="[T](implicit evidence$3: akka.http.unmarshalling.FromResponseUnmarshaller[T], implicit evidence$4: scala.reflect.ClassTag[T], implicit timeout: scala.concurrent.duration.Duration)T" id="akka.http.testkit;RouteTest.responseAs">responseAs</a><span class="delimiter">[</span><a title="" id="akka.http.testkit;RouteTest.responseAs$default$3;T">T</a>: FromResponseUnmarshaller: ClassTag<span class="delimiter">]</span><span class="delimiter">(</span>implicit <a title="scala.concurrent.duration.Duration" id="akka.http.testkit;RouteTest.responseAs$default$3">timeout</a>: <span title="scala.concurrent.duration.Duration">Duration</span> = <span title="implicit scala.concurrent.duration.package.DurationInt : (n: Int)concurrent.duration.DurationInt" class="int">1</span>.<span title="=&gt; scala.concurrent.duration.FiniteDuration">second</span><span class="delimiter">)</span>: <a href="#akka.http.testkit;RouteTest.responseAs$default$3;T" title="T">T</a> = <span class="delimiter">{</span>
    def <a title="(e: Throwable)String" id="akka.http.testkit;RouteTest.responseAs.msg">msg</a><span class="delimiter">(</span><a title="Throwable" id="akka.http.testkit;RouteTest.responseAs.msg.e">e</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span> = <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Could not unmarshal response to type \'&quot;)">Could not unmarshal response to type '$</span><span class="delimiter">{</span><span title="[T](implicit e: T)T">implicitly</span><a href="#akka.http.testkit;RouteTest.responseAs.evidence$4" title="(implicit e: scala.reflect.ClassTag[T])scala.reflect.ClassTag[T]" class="delimiter">[</a><span title="scala.reflect.ClassTag[T]">ClassTag</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">}</span><span title="String(&quot;\' for `responseAs` assertion: &quot;)">' for `responseAs` assertion: $</span><a href="#akka.http.testkit;RouteTest.responseAs.msg.e" title="Throwable">e</a><span title="String(&quot;\\n\\nResponse was: &quot;)">\n\nResponse was: $</span><a href="#akka.http.testkit;RouteTest.response" title="=&gt; akka.http.model.HttpResponse">response</a><span title="String(&quot;&quot;)" class="string">&quot;</span>
    <span title="scala.concurrent.Await.type">Await</span>.<span title="(awaitable: scala.concurrent.Awaitable[T], atMost: scala.concurrent.duration.Duration)T">result</span><span class="delimiter">(</span><a href="../unmarshalling/Unmarshal.scala.html#akka.http.unmarshalling.Unmarshal.apply" title="(value: akka.http.model.HttpResponse)akka.http.unmarshalling.Unmarshal[akka.http.model.HttpResponse]">Unmarshal</a><span class="delimiter">(</span><a href="#akka.http.testkit;RouteTest.response" title="=&gt; akka.http.model.HttpResponse">response</a><span class="delimiter">)</span>.<a href="../unmarshalling/Unmarshal.scala.html#akka.http.unmarshalling;Unmarshal.to" title="[B](implicit um: akka.http.unmarshalling.Unmarshaller[akka.http.model.HttpResponse,B])scala.concurrent.Future[B]">to</a><a href="../util/FastFuture.scala.html#akka.http.util.FastFuture.EnhancedFuture(70d292f3d1)" title="(future: scala.concurrent.Future[T])akka.http.util.FastFuture.EnhancedFuture[T]" class="delimiter">[</a><a href="#akka.http.testkit;RouteTest.responseAs$default$3;T" title="T">T</a><span class="delimiter">]</span>.<a href="../util/FastFuture.scala.html#akka.http.util.FastFuture;EnhancedFuture.fast" title="=&gt; akka.http.util.FastFuture[T]">fast</a>.<a href="../util/FastFuture.scala.html#akka.http.util;FastFuture.recover" title="[B &gt;: T](pf: PartialFunction[Throwable,B])(implicit ec: scala.concurrent.ExecutionContext)scala.concurrent.Future[B]">recover</a><span title="(pf: PartialFunction[Throwable,T])(implicit ec: scala.concurrent.ExecutionContext)scala.concurrent.Future[T]" class="delimiter">[</span><a href="#akka.http.testkit;RouteTest.responseAs$default$3;T" title="T">T</a><span class="delimiter">]</span> <a title="&lt;$anon: Throwable =&gt; T&gt; extends scala.runtime.AbstractPartialFunction[Throwable,T] with Serializable" id="akka.http.testkit;RouteTest.responseAs;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a> case <a title="Throwable" id="akka.http.testkit;RouteTest.responseAs;$anonfun.isDefinedAt.error">error</a> ⇒ <a href="TestFrameworkInterface.scala.html#akka.http.testkit;TestFrameworkInterface.failTest" title="(msg: String)Nothing">failTest</a><span title="Boolean(true)" class="delimiter">(</span><a href="#akka.http.testkit;RouteTest.responseAs.msg" title="(e: Throwable)String">msg</a><span class="delimiter">(</span><a href="#akka.http.testkit;RouteTest.responseAs;$anonfun.isDefinedAt.error" title="Throwable">error</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>, <a href="#akka.http.testkit;RouteTest.responseAs$default$3" title="scala.concurrent.duration.Duration">timeout</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  def <a title="=&gt; akka.http.model.ContentType" id="akka.http.testkit;RouteTest.contentType">contentType</a>: <a href="../model/ContentType.scala.html#akka.http.model;ContentType" title="akka.http.model.ContentType">ContentType</a> = <a href="#akka.http.testkit;RouteTest.responseEntity" title="=&gt; akka.http.model.HttpEntity">responseEntity</a>.<a href="../model/HttpEntity.scala.html#akka.http.model;HttpEntity.contentType" title="()akka.http.model.ContentType">contentType</a>
  def <a title="=&gt; akka.http.model.MediaType" id="akka.http.testkit;RouteTest.mediaType">mediaType</a>: <a href="../model/MediaType.scala.html#akka.http.model;MediaType" title="akka.http.model.MediaType">MediaType</a> = <a href="#akka.http.testkit;RouteTest.contentType" title="=&gt; akka.http.model.ContentType">contentType</a>.<a href="../model/ContentType.scala.html#akka.http.model;ContentType.mediaType" title="=&gt; akka.http.model.MediaType">mediaType</a>
  def <a title="=&gt; akka.http.model.HttpCharset" id="akka.http.testkit;RouteTest.charset">charset</a>: <a href="../model/HttpCharset.scala.html#akka.http.model;HttpCharset" title="akka.http.model.HttpCharset">HttpCharset</a> = <a href="#akka.http.testkit;RouteTest.contentType" title="=&gt; akka.http.model.ContentType">contentType</a>.<a href="../model/ContentType.scala.html#akka.http.model;ContentType.charset" title="=&gt; akka.http.model.HttpCharset">charset</a>
  def <a title="=&gt; Option[akka.http.model.HttpCharset]" id="akka.http.testkit;RouteTest.definedCharset">definedCharset</a>: <span title="Option[akka.http.model.HttpCharset]">Option</span><span class="delimiter">[</span>HttpCharset<span class="delimiter">]</span> = <a href="#akka.http.testkit;RouteTest.contentType" title="=&gt; akka.http.model.ContentType">contentType</a>.<a href="../model/ContentType.scala.html#akka.http.model;ContentType.definedCharset" title="=&gt; Option[akka.http.model.HttpCharset]">definedCharset</a>
  def <a title="=&gt; scala.collection.immutable.Seq[akka.http.model.HttpHeader]" id="akka.http.testkit;RouteTest.headers">headers</a>: immutable.<span title="scala.collection.immutable.Seq[akka.http.model.HttpHeader]">Seq</span><span class="delimiter">[</span>HttpHeader<span class="delimiter">]</span> = <a href="#akka.http.testkit;RouteTest.response" title="=&gt; akka.http.model.HttpResponse">response</a>.<a href="../model/HttpMessage.scala.html#akka.http.model;HttpResponse.headers" title="=&gt; scala.collection.immutable.Seq[akka.http.model.HttpHeader]">headers</a>
  def <a title="[T &lt;: akka.http.model.HttpHeader](implicit evidence$5: scala.reflect.ClassTag[T])Option[T]" id="akka.http.testkit;RouteTest.header(1f29930019)">header</a><span class="delimiter">[</span><a title=" &lt;: akka.http.model.HttpHeader" id="akka.http.testkit;RouteTest.header(1f29930019);T">T</a> &lt;: HttpHeader: ClassTag<span class="delimiter">]</span>: <span title="Option[T]">Option</span><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#akka.http.testkit;RouteTest.response" title="=&gt; akka.http.model.HttpResponse">response</a>.<a href="../model/HttpMessage.scala.html#akka.http.model;HttpMessage.header" title="[T &lt;: akka.http.model.japi.HttpHeader](implicit evidence$1: scala.reflect.ClassTag[T])Option[T]">header</a><a href="#akka.http.testkit;RouteTest.header(1f29930019).evidence$5" title="(implicit evidence$1: scala.reflect.ClassTag[T])Option[T]" class="delimiter">[</a><a href="#akka.http.testkit;RouteTest.header(1f29930019);T" title="T">T</a><span class="delimiter">]</span>
  def <a title="(name: String)Option[akka.http.model.HttpHeader]" id="akka.http.testkit;RouteTest.header(fac77015ce)">header</a><span class="delimiter">(</span><a title="String" id="akka.http.testkit;RouteTest.header(fac77015ce).name">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[akka.http.model.HttpHeader]">Option</span><span class="delimiter">[</span>HttpHeader<span class="delimiter">]</span> = <a href="#akka.http.testkit;RouteTest.response" title="=&gt; akka.http.model.HttpResponse">response</a>.<a href="../model/HttpMessage.scala.html#akka.http.model;HttpResponse.headers" title="=&gt; scala.collection.immutable.Seq[akka.http.model.HttpHeader]">headers</a>.<span title="(p: akka.http.model.HttpHeader =&gt; Boolean)Option[akka.http.model.HttpHeader]">find</span><span class="delimiter">(</span><a href="#akka.http.testkit;RouteTest.header(fac77015ce).$anonfun.x$2" title="akka.http.model.HttpHeader">_</a>.<a href="../model/HttpHeader.scala.html#akka.http.model;HttpHeader.is" title="(nameInLowerCase: String)Boolean">is</a><span class="delimiter">(</span><a href="#akka.http.testkit;RouteTest.header(fac77015ce).name" title="String">name</a>.<span title="()String">toLowerCase</span><span class="delimiter">)</span><span class="delimiter">)</span>
  def <a title="=&gt; akka.http.model.StatusCode" id="akka.http.testkit;RouteTest.status">status</a>: <a href="../model/StatusCode.scala.html#akka.http.model;StatusCode" title="akka.http.model.StatusCode">StatusCode</a> = <a href="#akka.http.testkit;RouteTest.response" title="=&gt; akka.http.model.HttpResponse">response</a>.<a href="../model/HttpMessage.scala.html#akka.http.model;HttpResponse.status" title="=&gt; akka.http.model.StatusCode">status</a>

  def <a title="=&gt; String" id="akka.http.testkit;RouteTest.closingExtension">closingExtension</a>: <span title="String">String</span> = <a href="#akka.http.testkit;RouteTest.chunks" title="=&gt; scala.collection.immutable.Seq[akka.http.model.HttpEntity.ChunkStreamPart]">chunks</a>.<span title="=&gt; Option[akka.http.model.HttpEntity.ChunkStreamPart]">lastOption</span> match <span class="delimiter">{</span>
    case Some<span class="delimiter">(</span>HttpEntity.LastChunk<span class="delimiter">(</span><a title="String" id="akka.http.testkit;RouteTest.closingExtension.extension">extension</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> ⇒ <a href="#akka.http.testkit;RouteTest.closingExtension.extension" title="String">extension</a>
    case _                                        ⇒ <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
  <span class="delimiter">}</span>
  def <a title="=&gt; scala.collection.immutable.Seq[akka.http.model.HttpHeader]" id="akka.http.testkit;RouteTest.trailer">trailer</a>: immutable.<span title="scala.collection.immutable.Seq[akka.http.model.HttpHeader]">Seq</span><span class="delimiter">[</span>HttpHeader<span class="delimiter">]</span> = <a href="#akka.http.testkit;RouteTest.chunks" title="=&gt; scala.collection.immutable.Seq[akka.http.model.HttpEntity.ChunkStreamPart]">chunks</a>.<span title="=&gt; Option[akka.http.model.HttpEntity.ChunkStreamPart]">lastOption</span> match <span class="delimiter">{</span>
    case Some<span class="delimiter">(</span>HttpEntity.LastChunk<span class="delimiter">(</span>_, <a title="scala.collection.immutable.Seq[akka.http.model.HttpHeader]" id="akka.http.testkit;RouteTest.trailer.trailer">trailer</a><span class="delimiter">)</span><span class="delimiter">)</span> ⇒ <a href="#akka.http.testkit;RouteTest.trailer.trailer" title="scala.collection.immutable.Seq[akka.http.model.HttpHeader]">trailer</a>
    case _                                      ⇒ <span title="scala.collection.immutable.Nil.type">Nil</span>
  <span class="delimiter">}</span>

  def <a title="=&gt; scala.collection.immutable.Seq[akka.http.server.Rejection]" id="akka.http.testkit;RouteTest.rejections">rejections</a>: immutable.<span title="scala.collection.immutable.Seq[akka.http.server.Rejection]">Seq</span><span class="delimiter">[</span>Rejection<span class="delimiter">]</span> = <a href="#akka.http.testkit;RouteTest.result" title="=&gt; RouteTest.this.RouteTestResult">result</a>.<a href="RouteTestResultComponent.scala.html#akka.http.testkit;RouteTestResultComponent;RouteTestResult.rejections" title="=&gt; scala.collection.immutable.Seq[akka.http.server.Rejection]">rejections</a>
  def <a title="=&gt; akka.http.server.Rejection" id="akka.http.testkit;RouteTest.rejection">rejection</a>: <a href="../server/Rejection.scala.html#akka.http.server;Rejection" title="akka.http.server.Rejection">Rejection</a> = <span class="delimiter">{</span>
    val <a title="scala.collection.immutable.Seq[akka.http.server.Rejection]" id="akka.http.testkit;RouteTest.rejection.r">r</a> = <a href="#akka.http.testkit;RouteTest.rejections" title="=&gt; scala.collection.immutable.Seq[akka.http.server.Rejection]">rejections</a>
    if <span class="delimiter">(</span><a href="#akka.http.testkit;RouteTest.rejection.r" title="scala.collection.immutable.Seq[akka.http.server.Rejection]">r</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#akka.http.testkit;RouteTest.rejection.r" title="scala.collection.immutable.Seq[akka.http.server.Rejection]">r</a>.<span title="=&gt; akka.http.server.Rejection">head</span> else <a href="TestFrameworkInterface.scala.html#akka.http.testkit;TestFrameworkInterface.failTest" title="(msg: String)Nothing">failTest</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Expected a single rejection but got %s (%s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#akka.http.testkit;RouteTest.rejection.r" title="scala.collection.immutable.Seq[akka.http.server.Rejection]">r</a>.<span title="=&gt; Int">size</span>, <a href="#akka.http.testkit;RouteTest.rejection.r" title="scala.collection.immutable.Seq[akka.http.server.Rejection]">r</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A dummy that can be used as `~&gt; runRoute` to run the route but without blocking for the result.
   * The result of the pipeline is the result that can later be checked with `check`. See the
   * &quot;separate running route from checking&quot; example from ScalatestRouteTestSpec.scala.
   */</span>
  def <a title="=&gt; RouteTest.this.RouteTestResult =&gt; RouteTest.this.RouteTestResult" id="akka.http.testkit;RouteTest.runRoute">runRoute</a>: RouteTestResult ⇒ RouteTestResult = akka.http.util.<a href="../util/package.scala.html#akka.http.util.package.identityFunc" title="RouteTest.this.RouteTestResult =&gt; RouteTest.this.RouteTestResult">identityFunc</a>

  <span class="comment">// there is already an implicit class WithTransformation in scope (inherited from akka.http.testkit.TransformerPipelineSupport)</span>
  <span class="comment">// however, this one takes precedence</span>
  implicit class <a title="class WithTransformation2 extends AnyRef" id="akka.http.testkit;RouteTest.WithTransformation2">WithTransformation2</a><a href="#akka.http.testkit;RouteTest.WithTransformation2" title="RouteTest.this.WithTransformation2" class="delimiter">(</a><a title="akka.http.model.HttpRequest" id="akka.http.testkit;RouteTest.WithTransformation2.request">request</a>: <a href="../model/HttpMessage.scala.html#akka.http.model;HttpRequest" title="akka.http.model.HttpRequest">HttpRequest</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    def <a title="[A, B](f: A =&gt; B)(implicit ta: RouteTest.this.TildeArrow[A,B])ta.Out" id="akka.http.testkit;RouteTest;WithTransformation2.~>">~&gt;</a><span class="delimiter">[</span><a title="" id="akka.http.testkit;RouteTest;WithTransformation2.~>;A">A</a>, <a title="" id="akka.http.testkit;RouteTest;WithTransformation2.~>;B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; B" id="akka.http.testkit;RouteTest;WithTransformation2.~>.f">f</a>: A ⇒ B<span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="RouteTest.this.TildeArrow[A,B]" id="akka.http.testkit;RouteTest;WithTransformation2.~>.ta">ta</a>: <a href="#akka.http.testkit;RouteTest;TildeArrow" title="RouteTest.this.TildeArrow[A,B]">TildeArrow</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>: ta.<a href="#akka.http.testkit;RouteTest;TildeArrow;Out" title="ta.Out">Out</a> = <a href="#akka.http.testkit;RouteTest;TildeArrow.apply" title="(request: akka.http.model.HttpRequest, f: A =&gt; B)ta.Out">ta</a><span class="delimiter">(</span><a href="#akka.http.testkit;RouteTest.WithTransformation2.request" title="akka.http.model.HttpRequest">request</a>, <a href="#akka.http.testkit;RouteTest;WithTransformation2.~>.f" title="A =&gt; B">f</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  abstract class <a title="class TildeArrow[A, B] extends AnyRef" id="akka.http.testkit;RouteTest;TildeArrow">TildeArrow</a><span class="delimiter">[</span><a title="" id="akka.http.testkit;RouteTest;TildeArrow;A">A</a>, <a title="" id="akka.http.testkit;RouteTest;TildeArrow;B">B</a><span class="delimiter">]</span> <a href="#akka.http.testkit;RouteTest;TildeArrow" title="RouteTest.this.TildeArrow[A,B]" class="delimiter">{</a>
    type <a title="" id="akka.http.testkit;RouteTest;TildeArrow;Out">Out</a>
    def <a title="(request: akka.http.model.HttpRequest, f: A =&gt; B)TildeArrow.this.Out" id="akka.http.testkit;RouteTest;TildeArrow.apply">apply</a><span class="delimiter">(</span><a title="akka.http.model.HttpRequest" id="akka.http.testkit;RouteTest;TildeArrow.apply.request">request</a>: <a href="../model/HttpMessage.scala.html#akka.http.model;HttpRequest" title="akka.http.model.HttpRequest">HttpRequest</a>, <a title="A =&gt; B" id="akka.http.testkit;RouteTest;TildeArrow.apply.f">f</a>: A ⇒ B<span class="delimiter">)</span>: <a href="#akka.http.testkit;RouteTest;TildeArrow;Out" title="TildeArrow.this.Out">Out</a>
  <span class="delimiter">}</span>

  case class <a title="class DefaultHostInfo extends AnyRef with Product with Serializable" id="akka.http.testkit;RouteTest;DefaultHostInfo">DefaultHostInfo</a><a href="#akka.http.testkit;RouteTest;DefaultHostInfo" title="Product" class="delimiter">(</a><a title="akka.http.model.headers.Host" id="akka.http.testkit;RouteTest;DefaultHostInfo.host">host</a>: <a href="../model/headers/headers.scala.html#akka.http.model.headers;Host" title="akka.http.model.headers.Host">Host</a>, <a title="Boolean" id="akka.http.testkit;RouteTest;DefaultHostInfo.securedConnection">securedConnection</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>
  object <a title="RouteTest.this.DefaultHostInfo.type" id="akka.http.testkit;RouteTest.DefaultHostInfo.readResolve">DefaultHostInfo</a> <a href="#akka.http.testkit;RouteTest.DefaultHostInfo.readResolve" title="RouteTest.this.DefaultHostInfo.type" class="delimiter">{</a>
    implicit def <a title="=&gt; RouteTest.this.DefaultHostInfo" id="akka.http.testkit;RouteTest.DefaultHostInfo.defaultHost">defaultHost</a>: <a href="#akka.http.testkit;RouteTest;DefaultHostInfo" title="RouteTest.this.DefaultHostInfo">DefaultHostInfo</a> = <a href="#akka.http.testkit;RouteTest;DefaultHostInfo" title="(host: akka.http.model.headers.Host, securedConnection: Boolean)RouteTest.this.DefaultHostInfo">DefaultHostInfo</a><span class="delimiter">(</span><a href="../model/headers/headers.scala.html#akka.http.model.headers.Host.apply(1cc403e516)" title="(host: String)akka.http.model.headers.Host">Host</a><span class="delimiter">(</span><span title="String(&quot;example.com&quot;)" class="string">&quot;example.com&quot;</span><span class="delimiter">)</span>, securedConnection = false<span class="delimiter">)</span>
  <span class="delimiter">}</span>
  object <a title="RouteTest.this.TildeArrow.type" id="akka.http.testkit;RouteTest.TildeArrow">TildeArrow</a> <a href="#akka.http.testkit;RouteTest.TildeArrow" title="RouteTest.this.TildeArrow.type" class="delimiter">{</a>
    implicit object <a title="akka.http.testkit.RouteTest.TildeArrow.InjectIntoRequestTransformer.type" id="akka.http.testkit;RouteTest.TildeArrow.InjectIntoRequestTransformer">InjectIntoRequestTransformer</a> extends <a href="#akka.http.testkit;RouteTest;TildeArrow" title="RouteTest.this.TildeArrow[akka.http.model.HttpRequest,akka.http.model.HttpRequest]">TildeArrow</a><span class="delimiter">[</span>HttpRequest, HttpRequest<span class="delimiter">]</span> <span class="delimiter">{</span>
      type <a title="akka.http.model.HttpRequest" id="akka.http.testkit;RouteTest.TildeArrow.InjectIntoRequestTransformer;Out">Out</a> = <a href="../model/HttpMessage.scala.html#akka.http.model;HttpRequest" title="akka.http.model.HttpRequest">HttpRequest</a>
      def <a title="(request: akka.http.model.HttpRequest, f: akka.http.model.HttpRequest =&gt; akka.http.model.HttpRequest)akka.http.model.HttpRequest" id="akka.http.testkit;RouteTest.TildeArrow.InjectIntoRequestTransformer.apply">apply</a><span class="delimiter">(</span><a title="akka.http.model.HttpRequest" id="akka.http.testkit;RouteTest.TildeArrow.InjectIntoRequestTransformer.apply.request">request</a>: <a href="../model/HttpMessage.scala.html#akka.http.model;HttpRequest" title="akka.http.model.HttpRequest">HttpRequest</a>, <a title="akka.http.model.HttpRequest =&gt; akka.http.model.HttpRequest" id="akka.http.testkit;RouteTest.TildeArrow.InjectIntoRequestTransformer.apply.f">f</a>: HttpRequest ⇒ HttpRequest<span class="delimiter">)</span> = <a href="#akka.http.testkit;RouteTest.TildeArrow.InjectIntoRequestTransformer.apply.f" title="(v1: akka.http.model.HttpRequest)akka.http.model.HttpRequest">f</a><span class="delimiter">(</span><a href="#akka.http.testkit;RouteTest.TildeArrow.InjectIntoRequestTransformer.apply.request" title="akka.http.model.HttpRequest">request</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    implicit def <a title="implicit akka.http.testkit.RouteTest.TildeArrow.injectIntoRoute : (implicit timeout: akka.http.testkit.RouteTestTimeout, implicit setup: akka.http.server.RoutingSetup, implicit defaultHostInfo: RouteTest.this.DefaultHostInfo)RouteTest.this.TildeArrow[akka.http.server.RequestContext,scala.concurrent.Future[akka.http.server.RouteResult]]{type Out = RouteTest.this.RouteTestResult}" id="akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute">injectIntoRoute</a><span class="delimiter">(</span>implicit <a title="akka.http.testkit.RouteTestTimeout" id="akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute.timeout">timeout</a>: <a href="RouteTestTimeout.scala.html#akka.http.testkit;RouteTestTimeout" title="akka.http.testkit.RouteTestTimeout">RouteTestTimeout</a>, <a title="akka.http.server.RoutingSetup" id="akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute.setup">setup</a>: <a href="../server/RoutingSetup.scala.html#akka.http.server;RoutingSetup" title="akka.http.server.RoutingSetup">RoutingSetup</a>,
                                 <a title="RouteTest.this.DefaultHostInfo" id="akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute.defaultHostInfo">defaultHostInfo</a>: <a href="#akka.http.testkit;RouteTest;DefaultHostInfo" title="RouteTest.this.DefaultHostInfo">DefaultHostInfo</a><span class="delimiter">)</span> =
      new <a title="&lt;$anon: RouteTest.this.TildeArrow[akka.http.server.RequestContext,scala.concurrent.Future[akka.http.server.RouteResult]]&gt; extends RouteTest.this.TildeArrow[akka.http.server.RequestContext,scala.concurrent.Future[akka.http.server.RouteResult]]" id="akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute;$anon">TildeArrow</a><span class="delimiter">[</span>RequestContext, Future<span class="delimiter">[</span>RouteResult<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
        type <a title="RouteTest.this.RouteTestResult" id="akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute;$anon;Out">Out</a> = <a href="RouteTestResultComponent.scala.html#akka.http.testkit;RouteTestResultComponent;RouteTestResult" title="RouteTest.this.RouteTestResult">RouteTestResult</a>
        def <a title="(request: akka.http.model.HttpRequest, route: akka.http.server.Route)this.Out" id="akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute;$anon.apply">apply</a><span class="delimiter">(</span><a title="akka.http.model.HttpRequest" id="akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute;$anon.apply.request">request</a>: <a href="../model/HttpMessage.scala.html#akka.http.model;HttpRequest" title="akka.http.model.HttpRequest">HttpRequest</a>, <a title="akka.http.server.Route" id="akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute;$anon.apply.route">route</a>: <span title="akka.http.server.Route">Route</span><span class="delimiter">)</span>: <a href="RouteTestResultComponent.scala.html#akka.http.testkit;RouteTestResultComponent;RouteTestResult" title="this.Out">Out</a> = <span class="delimiter">{</span>
          val <a title="RouteTest.this.RouteTestResult" id="akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute;$anon.apply.routeTestResult">routeTestResult</a> = new <a href="RouteTestResultComponent.scala.html#akka.http.testkit;RouteTestResultComponent;RouteTestResult" title="RouteTest.this.RouteTestResult">RouteTestResult</a><span class="delimiter">(</span><a href="#akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute.timeout" title="akka.http.testkit.RouteTestTimeout">timeout</a>.<a href="RouteTestTimeout.scala.html#akka.http.testkit;RouteTestTimeout.duration" title="=&gt; scala.concurrent.duration.FiniteDuration">duration</a><span class="delimiter">)</span>
          val <a title="akka.http.model.HttpRequest" id="akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute;$anon.apply.effectiveRequest">effectiveRequest</a> =
            <a href="#akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute;$anon.apply.request" title="akka.http.model.HttpRequest">request</a>.<a href="../model/HttpMessage.scala.html#akka.http.model;HttpRequest.withEffectiveUri" title="(securedConnection: Boolean, defaultHostHeader: akka.http.model.headers.Host)akka.http.model.HttpRequest">withEffectiveUri</a><span class="delimiter">(</span>
              securedConnection = <a href="#akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute.defaultHostInfo" title="RouteTest.this.DefaultHostInfo">defaultHostInfo</a>.<a href="#akka.http.testkit;RouteTest;DefaultHostInfo.securedConnection" title="=&gt; Boolean">securedConnection</a>,
              defaultHostHeader = <a href="#akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute.defaultHostInfo" title="RouteTest.this.DefaultHostInfo">defaultHostInfo</a>.<a href="#akka.http.testkit;RouteTest;DefaultHostInfo.host" title="=&gt; akka.http.model.headers.Host">host</a><span class="delimiter">)</span>
          val <a title="akka.http.server.RequestContextImpl" id="akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute;$anon.apply.ctx">ctx</a> = new <a href="../server/RequestContextImpl.scala.html#akka.http.server;RequestContextImpl" title="akka.http.server.RequestContextImpl">RequestContextImpl</a><span class="delimiter">(</span><a href="#akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute;$anon.apply.effectiveRequest" title="akka.http.model.HttpRequest">effectiveRequest</a>, <a href="#akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute.setup" title="akka.http.server.RoutingSetup">setup</a>.<a href="../server/RoutingSetup.scala.html#akka.http.server;RoutingSetup.routingLog" title="=&gt; akka.http.server.RoutingLog">routingLog</a>.<a href="../server/RoutingSetup.scala.html#akka.http.server;RoutingLog.requestLog" title="(request: akka.http.model.HttpRequest)akka.event.LoggingAdapter">requestLog</a><span class="delimiter">(</span><a href="#akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute;$anon.apply.effectiveRequest" title="akka.http.model.HttpRequest">effectiveRequest</a><span class="delimiter">)</span>, <a href="#akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute.setup" title="akka.http.server.RoutingSetup">setup</a>.<a href="../server/RoutingSetup.scala.html#akka.http.server;RoutingSetup.settings" title="=&gt; akka.http.server.RoutingSettings">settings</a><span class="delimiter">)</span>
          val <a title="PartialFunction[Throwable,akka.http.server.Route]" id="akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute;$anon.apply.sealedExceptionHandler">sealedExceptionHandler</a> = <span class="delimiter">{</span>
            import <a href="#akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute.setup" title="akka.http.server.RoutingSetup">setup</a>._
            if <span class="delimiter">(</span><a href="../server/RoutingSetup.scala.html#akka.http.server;RoutingSetup.exceptionHandler" title="=&gt; akka.http.server.ExceptionHandler">exceptionHandler</a>.<a href="../server/ExceptionHandler.scala.html#akka.http.server;ExceptionHandler.isDefault" title="=&gt; Boolean">isDefault</a><span class="delimiter">)</span> <a href="../server/RoutingSetup.scala.html#akka.http.server;RoutingSetup.exceptionHandler" title="=&gt; akka.http.server.ExceptionHandler">exceptionHandler</a>
            else <a href="../server/RoutingSetup.scala.html#akka.http.server;RoutingSetup.exceptionHandler" title="=&gt; akka.http.server.ExceptionHandler">exceptionHandler</a> <span title="(that: PartialFunction[Throwable,akka.http.server.Route])PartialFunction[Throwable,akka.http.server.Route]">orElse</span> <a href="../server/ExceptionHandler.scala.html#akka.http.server.ExceptionHandler" title="akka.http.server.ExceptionHandler.type">ExceptionHandler</a>.<a href="../server/ExceptionHandler.scala.html#akka.http.server.ExceptionHandler.default" title="(settings: akka.http.server.RoutingSettings)(implicit ec: scala.concurrent.ExecutionContext)akka.http.server.ExceptionHandler">default</a><span class="delimiter">(</span><a href="../server/RoutingSetup.scala.html#akka.http.server;RoutingSetup.settings" title="=&gt; akka.http.server.RoutingSettings">settings</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute.setup" title="akka.http.server.RoutingSetup">setup</a>.<a href="../server/RoutingSetup.scala.html#akka.http.server;RoutingSetup.executionContext" title="=&gt; scala.concurrent.ExecutionContext">executionContext</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          val <a title="akka.http.server.Route" id="akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute;$anon.apply.semiSealedRoute">semiSealedRoute</a> = <span class="comment">// sealed for exceptions but not for rejections</span>
            <a href="../server/Directives.scala.html#akka.http.server.Directives" title="akka.http.server.Directives.type">Directives</a>.<a href="../server/directives/ExecutionDirectives.scala.html#akka.http.server.directives;ExecutionDirectives.handleExceptions" title="(handler: akka.http.server.ExceptionHandler)akka.http.server.Directive0">handleExceptions</a><a href="../server/Directive.scala.html#akka.http.server.Directive.addByNameNullaryApply" title="(v1: =&gt; akka.http.server.Route)akka.http.server.Route" class="delimiter">(</a><a href="../server/ExceptionHandler.scala.html#akka.http.server.ExceptionHandler.apply(f9ecf54249)" title="implicit akka.http.server.ExceptionHandler.apply : (pf: akka.http.server.ExceptionHandler.PF)akka.http.server.ExceptionHandler">sealedExceptionHandler</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute;$anon.apply.route" title="akka.http.server.Route">route</a> <span class="delimiter">}</span>
          val <a title="scala.concurrent.Future[akka.http.server.RouteResult]" id="akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute;$anon.apply.deferrableRouteResult">deferrableRouteResult</a> = <a href="#akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute;$anon.apply.semiSealedRoute" title="(v1: akka.http.server.RequestContext)scala.concurrent.Future[akka.http.server.RouteResult]">semiSealedRoute</a><span class="delimiter">(</span><a href="#akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute;$anon.apply.ctx" title="akka.http.server.RequestContextImpl">ctx</a><span class="delimiter">)</span>
          <a href="../util/FastFuture.scala.html#akka.http.util.FastFuture.EnhancedFuture(70d292f3d1)" title="(future: scala.concurrent.Future[akka.http.server.RouteResult])akka.http.util.FastFuture.EnhancedFuture[akka.http.server.RouteResult]">deferrableRouteResult</a>.<a href="../util/FastFuture.scala.html#akka.http.util.FastFuture;EnhancedFuture.fast" title="=&gt; akka.http.util.FastFuture[akka.http.server.RouteResult]">fast</a>.<a href="../util/FastFuture.scala.html#akka.http.util;FastFuture.foreach" title="(f: akka.http.server.RouteResult =&gt; Unit)(implicit ec: scala.concurrent.ExecutionContext)Unit">foreach</a><span class="delimiter">(</span><a href="#akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute;$anon.apply.routeTestResult" title="RouteTest.this.RouteTestResult">routeTestResult</a>.<a href="RouteTestResultComponent.scala.html#akka.http.testkit;RouteTestResultComponent;RouteTestResult.handleResult" title="(rr: akka.http.server.RouteResult)(implicit ec: scala.concurrent.ExecutionContext)Unit">handleResult</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute.setup" title="akka.http.server.RoutingSetup">setup</a>.<a href="../server/RoutingSetup.scala.html#akka.http.server;RoutingSetup.executor" title="=&gt; scala.concurrent.ExecutionContext">executor</a><span class="delimiter">)</span>
          <a href="#akka.http.testkit;RouteTest.TildeArrow.injectIntoRoute;$anon.apply.routeTestResult" title="RouteTest.this.RouteTestResult">routeTestResult</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span title="AnyRef" class="delimiter">}</span>

<span class="comment">//FIXME: trait Specs2RouteTest extends RouteTest with Specs2Interface</span>
        </pre>
    </body>
</html>
