<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>akka/http/engine/rendering/BodyPartRenderer.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (C) 2009-2014 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>

package akka.http.engine.rendering

import java.nio.charset.Charset
import scala.collection.immutable
import akka.event.LoggingAdapter
import akka.http.model._
import akka.http.model.headers._
import akka.http.engine.rendering.<a href="RenderSupport.scala.html#akka.http.engine.rendering.RenderSupport" title="akka.http.engine.rendering.RenderSupport.type">RenderSupport</a>._
import akka.http.util._
import akka.stream.scaladsl.Source
import akka.stream.stage._
import akka.util.ByteString
import <a href="../../model/HttpEntity.scala.html#akka.http.model.HttpEntity" title="akka.http.model.HttpEntity.type">HttpEntity</a>._

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>http<span class="delimiter">]</span> object <a title="akka.http.engine.rendering.BodyPartRenderer.type" id="akka.http.engine.rendering.BodyPartRenderer">BodyPartRenderer</a> <a href="#akka.http.engine.rendering.BodyPartRenderer" title="akka.http.engine.rendering.BodyPartRenderer.type" class="delimiter">{</a>

  def <a title="(boundary: String, nioCharset: java.nio.charset.Charset, partHeadersSizeHint: Int, log: akka.event.LoggingAdapter)akka.stream.stage.PushPullStage[akka.http.model.Multipart.BodyPart,akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]]" id="akka.http.engine.rendering.BodyPartRenderer.streamed">streamed</a><span class="delimiter">(</span><a title="String" id="akka.http.engine.rendering.BodyPartRenderer.streamed.boundary">boundary</a>: <span title="String">String</span>,
               <a title="java.nio.charset.Charset" id="akka.http.engine.rendering.BodyPartRenderer.streamed.nioCharset">nioCharset</a>: <span title="java.nio.charset.Charset">Charset</span>,
               <a title="Int" id="akka.http.engine.rendering.BodyPartRenderer.streamed.partHeadersSizeHint">partHeadersSizeHint</a>: <span title="Int">Int</span>,
               <a title="akka.event.LoggingAdapter" id="akka.http.engine.rendering.BodyPartRenderer.streamed.log">log</a>: <span title="akka.event.LoggingAdapter">LoggingAdapter</span><span class="delimiter">)</span>: <a href="../../../stream/stage/Stage.scala.html#akka.stream.stage;PushPullStage" title="akka.stream.stage.PushPullStage[akka.http.model.Multipart.BodyPart,akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]]">PushPullStage</a><span class="delimiter">[</span>Multipart.BodyPart, Source<span class="delimiter">[</span>ChunkStreamPart<span class="delimiter">]</span><span class="delimiter">]</span> =
    new <a title="&lt;$anon: akka.stream.stage.PushPullStage[akka.http.model.Multipart.BodyPart,akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]]&gt; extends akka.stream.stage.PushPullStage[akka.http.model.Multipart.BodyPart,akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]]" id="akka.http.engine.rendering.BodyPartRenderer.streamed;$anon">PushPullStage</a><span class="delimiter">[</span>Multipart.BodyPart, Source<span class="delimiter">[</span>ChunkStreamPart<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
      var <a title="Boolean" id="akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.firstBoundaryRendered_=">firstBoundaryRendered</a> = false

      override def <a title="(bodyPart: akka.http.model.Multipart.BodyPart, ctx: akka.stream.stage.Context[akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]])akka.stream.stage.Directive" id="akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPush">onPush</a><span class="delimiter">(</span><a title="akka.http.model.Multipart.BodyPart" id="akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPush.bodyPart">bodyPart</a>: Multipart.<a href="../../model/Multipart.scala.html#akka.http.model.Multipart;BodyPart" title="akka.http.model.Multipart.BodyPart">BodyPart</a>, <a title="akka.stream.stage.Context[akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]]" id="akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPush.ctx">ctx</a>: <a href="../../../stream/stage/Stage.scala.html#akka.stream.stage;Context" title="akka.stream.stage.Context[akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]]">Context</a><span class="delimiter">[</span>Source<span class="delimiter">[</span>ChunkStreamPart<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../stream/stage/Stage.scala.html#akka.stream.stage;Directive" title="akka.stream.stage.Directive">Directive</a> = <span class="delimiter">{</span>
        val <a title="akka.http.util.CustomCharsetByteStringRendering" id="akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPush.r">r</a> = new <a href="../../util/Rendering.scala.html#akka.http.util;CustomCharsetByteStringRendering" title="akka.http.util.CustomCharsetByteStringRendering">CustomCharsetByteStringRendering</a><span class="delimiter">(</span><a href="#akka.http.engine.rendering.BodyPartRenderer.streamed.nioCharset" title="java.nio.charset.Charset">nioCharset</a>, <a href="#akka.http.engine.rendering.BodyPartRenderer.streamed.partHeadersSizeHint" title="Int">partHeadersSizeHint</a><span class="delimiter">)</span>

        def <a title="(data: akka.stream.scaladsl.Source[akka.util.ByteString])akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]" id="akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPush.bodyPartChunks">bodyPartChunks</a><span class="delimiter">(</span><a title="akka.stream.scaladsl.Source[akka.util.ByteString]" id="akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPush.bodyPartChunks.data">data</a>: <a href="../../../stream/scaladsl/Source.scala.html#akka.stream.scaladsl;Source" title="akka.stream.scaladsl.Source[akka.util.ByteString]">Source</a><span class="delimiter">[</span>ByteString<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../stream/scaladsl/Source.scala.html#akka.stream.scaladsl;Source" title="akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]">Source</a><span class="delimiter">[</span>ChunkStreamPart<span class="delimiter">]</span> = <span class="delimiter">{</span>
          val <a title="data.Repr[akka.http.model.HttpEntity.ChunkStreamPart]" id="akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPush.bodyPartChunks.entityChunks">entityChunks</a> = <a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPush.bodyPartChunks.data" title="akka.stream.scaladsl.Source[akka.util.ByteString]">data</a>.<a href="../../../stream/scaladsl/Flow.scala.html#akka.stream.scaladsl;FlowOps.map" title="[T](f: akka.util.ByteString =&gt; T)data.Repr[T]">map</a><span title="(f: akka.util.ByteString =&gt; akka.http.model.HttpEntity.ChunkStreamPart)data.Repr[akka.http.model.HttpEntity.ChunkStreamPart]" class="delimiter">[</span><a href="../../model/HttpEntity.scala.html#akka.http.model.HttpEntity;ChunkStreamPart" title="akka.http.model.HttpEntity.ChunkStreamPart">ChunkStreamPart</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="../../model/HttpEntity.scala.html#akka.http.model.HttpEntity;Chunk" title="(data: akka.util.ByteString, extension: String)akka.http.model.HttpEntity.Chunk">Chunk</a><span class="delimiter">(</span><a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPush.bodyPartChunks.entityChunks.$anonfun.x$1" title="akka.util.ByteString">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.chunkStream" title="(byteString: akka.util.ByteString)akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]">chunkStream</a><span class="delimiter">(</span><a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPush.r" title="akka.http.util.CustomCharsetByteStringRendering">r</a>.<a href="../../util/Rendering.scala.html#akka.http.util;CustomCharsetByteStringRendering.get" title="=&gt; akka.util.ByteString">get</a><span class="delimiter">)</span> <a href="../../../stream/scaladsl/Source.scala.html#akka.stream.scaladsl;Source.++" title="(second: akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart])akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]">++</a> <a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPush.bodyPartChunks.entityChunks" title="data.Repr[akka.http.model.HttpEntity.ChunkStreamPart]">entityChunks</a>
        <span class="delimiter">}</span>

        def <a title="()akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]" id="akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPush.completePartRendering">completePartRendering</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../stream/scaladsl/Source.scala.html#akka.stream.scaladsl;Source" title="akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]">Source</a><span class="delimiter">[</span>ChunkStreamPart<span class="delimiter">]</span> =
          <a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPush.bodyPart" title="akka.http.model.Multipart.BodyPart">bodyPart</a>.<a href="../../model/Multipart.scala.html#akka.http.model.Multipart;BodyPart.entity" title="=&gt; akka.http.model.BodyPartEntity">entity</a> match <span class="delimiter">{</span>
            case <a title="akka.http.model.BodyPartEntity" id="akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPush.completePartRendering.x">x</a> if <a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPush.completePartRendering.x" title="akka.http.model.BodyPartEntity">x</a>.<a href="../../model/HttpEntity.scala.html#akka.http.model;HttpEntity.isKnownEmpty" title="()Boolean">isKnownEmpty</a>       ⇒ <a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.chunkStream" title="(byteString: akka.util.ByteString)akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]">chunkStream</a><span class="delimiter">(</span><a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPush.r" title="akka.http.util.CustomCharsetByteStringRendering">r</a>.<a href="../../util/Rendering.scala.html#akka.http.util;CustomCharsetByteStringRendering.get" title="=&gt; akka.util.ByteString">get</a><span class="delimiter">)</span>
            case Strict<span class="delimiter">(</span>_, <span title="akka.util.ByteString">data</span><span class="delimiter">)</span>           ⇒ <a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.chunkStream" title="(byteString: akka.util.ByteString)akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]">chunkStream</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPush.r" title="akka.http.util.CustomCharsetByteStringRendering">r</a> <a href="../../util/Rendering.scala.html#akka.http.util;CustomCharsetByteStringRendering.~~(dbcd80f9f9)" title="(bytes: akka.util.ByteString)r.type">~~</a> <span title="akka.util.ByteString">data</span><span class="delimiter">)</span>.<a href="../../util/Rendering.scala.html#akka.http.util;CustomCharsetByteStringRendering.get" title="=&gt; akka.util.ByteString">get</a><span class="delimiter">)</span>
            case Default<span class="delimiter">(</span>_, _, <span title="akka.stream.scaladsl.Source[akka.util.ByteString]">data</span><span class="delimiter">)</span>       ⇒ <a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPush.bodyPartChunks" title="(data: akka.stream.scaladsl.Source[akka.util.ByteString])akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]">bodyPartChunks</a><span class="delimiter">(</span><span title="akka.stream.scaladsl.Source[akka.util.ByteString]">data</span><span class="delimiter">)</span>
            case IndefiniteLength<span class="delimiter">(</span>_, <span title="akka.stream.scaladsl.Source[akka.util.ByteString]">data</span><span class="delimiter">)</span> ⇒ <a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPush.bodyPartChunks" title="(data: akka.stream.scaladsl.Source[akka.util.ByteString])akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]">bodyPartChunks</a><span class="delimiter">(</span><span title="akka.stream.scaladsl.Source[akka.util.ByteString]">data</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <a href="#akka.http.engine.rendering.BodyPartRenderer.renderBoundary" title="(r: akka.http.util.Rendering, boundary: String, suppressInitialCrLf: Boolean)Unit">renderBoundary</a><span class="delimiter">(</span><a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPush.r" title="akka.http.util.CustomCharsetByteStringRendering">r</a>, <a href="#akka.http.engine.rendering.BodyPartRenderer.streamed.boundary" title="String">boundary</a>, suppressInitialCrLf = <span title="=&gt; Boolean">!</span><a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.firstBoundaryRendered_=" title="=&gt; Boolean">firstBoundaryRendered</a><span class="delimiter">)</span>
        <a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.firstBoundaryRendered_=" title="(x$1: Boolean)Unit">firstBoundaryRendered</a> = true
        <a href="RenderSupport.scala.html#akka.http.engine.rendering.RenderSupport.renderEntityContentType" title="(r: akka.http.util.Rendering, entity: akka.http.model.HttpEntity)akka.http.util.Rendering">renderEntityContentType</a><span class="delimiter">(</span><a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPush.r" title="akka.http.util.CustomCharsetByteStringRendering">r</a>, <a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPush.bodyPart" title="akka.http.model.Multipart.BodyPart">bodyPart</a>.<a href="../../model/Multipart.scala.html#akka.http.model.Multipart;BodyPart.entity" title="=&gt; akka.http.model.BodyPartEntity">entity</a><span class="delimiter">)</span>
        <a href="#akka.http.engine.rendering.BodyPartRenderer.renderHeaders" title="(r: akka.http.util.Rendering, headers: scala.collection.immutable.Seq[akka.http.model.HttpHeader], log: akka.event.LoggingAdapter)Unit">renderHeaders</a><span class="delimiter">(</span><a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPush.r" title="akka.http.util.CustomCharsetByteStringRendering">r</a>, <a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPush.bodyPart" title="akka.http.model.Multipart.BodyPart">bodyPart</a>.<a href="../../model/Multipart.scala.html#akka.http.model.Multipart;BodyPart.headers" title="=&gt; scala.collection.immutable.Seq[akka.http.model.HttpHeader]">headers</a>, <a href="#akka.http.engine.rendering.BodyPartRenderer.streamed.log" title="akka.event.LoggingAdapter">log</a><span class="delimiter">)</span>
        <a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPush.ctx" title="akka.stream.stage.Context[akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]]">ctx</a>.<a href="../../../stream/stage/Stage.scala.html#akka.stream.stage;Context.push" title="(elem: akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart])akka.stream.stage.DownstreamDirective">push</a><span class="delimiter">(</span><a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPush.completePartRendering" title="()akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]">completePartRendering</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      override def <a title="(ctx: akka.stream.stage.Context[akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]])akka.stream.stage.Directive" id="akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPull">onPull</a><span class="delimiter">(</span><a title="akka.stream.stage.Context[akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]]" id="akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPull.ctx">ctx</a>: <a href="../../../stream/stage/Stage.scala.html#akka.stream.stage;Context" title="akka.stream.stage.Context[akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]]">Context</a><span class="delimiter">[</span>Source<span class="delimiter">[</span>ChunkStreamPart<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../stream/stage/Stage.scala.html#akka.stream.stage;Directive" title="akka.stream.stage.Directive">Directive</a> = <span class="delimiter">{</span>
        val <a title="Boolean" id="akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPull.finishing">finishing</a> = <a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPull.ctx" title="akka.stream.stage.Context[akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]]">ctx</a>.<a href="../../../stream/stage/Stage.scala.html#akka.stream.stage;Context.isFinishing" title="=&gt; Boolean">isFinishing</a>
        if <span class="delimiter">(</span><a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPull.finishing" title="Boolean">finishing</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.firstBoundaryRendered_=" title="=&gt; Boolean">firstBoundaryRendered</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          val <a title="akka.http.util.ByteStringRendering" id="akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPull.r">r</a> = new <a href="../../util/Rendering.scala.html#akka.http.util;ByteStringRendering" title="akka.http.util.ByteStringRendering">ByteStringRendering</a><span class="delimiter">(</span><a href="#akka.http.engine.rendering.BodyPartRenderer.streamed.boundary" title="String">boundary</a>.<span title="()Int">length</span> <span title="(x: Int)Int">+</span> <span title="Int(4)" class="int">4</span><span class="delimiter">)</span>
          <a href="#akka.http.engine.rendering.BodyPartRenderer.renderFinalBoundary" title="(r: akka.http.util.Rendering, boundary: String)Unit">renderFinalBoundary</a><span class="delimiter">(</span><a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPull.r" title="akka.http.util.ByteStringRendering">r</a>, <a href="#akka.http.engine.rendering.BodyPartRenderer.streamed.boundary" title="String">boundary</a><span class="delimiter">)</span>
          <a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPull.ctx" title="akka.stream.stage.Context[akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]]">ctx</a>.<a href="../../../stream/stage/Stage.scala.html#akka.stream.stage;Context.pushAndFinish" title="(elem: akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart])akka.stream.stage.DownstreamDirective">pushAndFinish</a><span class="delimiter">(</span><a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.chunkStream" title="(byteString: akka.util.ByteString)akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]">chunkStream</a><span class="delimiter">(</span><a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPull.r" title="akka.http.util.ByteStringRendering">r</a>.<a href="../../util/Rendering.scala.html#akka.http.util;ByteStringRendering.get" title="=&gt; akka.util.ByteString">get</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> else if <span class="delimiter">(</span><a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPull.finishing" title="Boolean">finishing</a><span class="delimiter">)</span>
          <a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPull.ctx" title="akka.stream.stage.Context[akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]]">ctx</a>.<a href="../../../stream/stage/Stage.scala.html#akka.stream.stage;Context.finish" title="()akka.stream.stage.FreeDirective">finish</a><span class="delimiter">(</span><span class="delimiter">)</span>
        else
          <a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onPull.ctx" title="akka.stream.stage.Context[akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]]">ctx</a>.<a href="../../../stream/stage/Stage.scala.html#akka.stream.stage;Context.pull" title="()akka.stream.stage.UpstreamDirective">pull</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      override def <a title="(ctx: akka.stream.stage.Context[akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]])akka.stream.stage.TerminationDirective" id="akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onUpstreamFinish">onUpstreamFinish</a><span class="delimiter">(</span><a title="akka.stream.stage.Context[akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]]" id="akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onUpstreamFinish.ctx">ctx</a>: <a href="../../../stream/stage/Stage.scala.html#akka.stream.stage;Context" title="akka.stream.stage.Context[akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]]">Context</a><span class="delimiter">[</span>Source<span class="delimiter">[</span>ChunkStreamPart<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../stream/stage/Stage.scala.html#akka.stream.stage;TerminationDirective" title="akka.stream.stage.TerminationDirective">TerminationDirective</a> = <a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.onUpstreamFinish.ctx" title="akka.stream.stage.Context[akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]]">ctx</a>.<a href="../../../stream/stage/Stage.scala.html#akka.stream.stage;Context.absorbTermination" title="()akka.stream.stage.TerminationDirective">absorbTermination</a><span class="delimiter">(</span><span class="delimiter">)</span>

      private def <a title="(byteString: akka.util.ByteString)akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]" id="akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.chunkStream">chunkStream</a><span class="delimiter">(</span><a title="akka.util.ByteString" id="akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.chunkStream.byteString">byteString</a>: <span title="akka.util.ByteString">ByteString</span><span class="delimiter">)</span>: <a href="../../../stream/scaladsl/Source.scala.html#akka.stream.scaladsl;Source" title="akka.stream.scaladsl.Source[akka.http.model.HttpEntity.ChunkStreamPart]">Source</a><span class="delimiter">[</span>ChunkStreamPart<span class="delimiter">]</span> =
        <a href="../../../stream/scaladsl/Source.scala.html#akka.stream.scaladsl.Source" title="akka.stream.scaladsl.Source.type">Source</a>.<a href="../../../stream/scaladsl/Source.scala.html#akka.stream.scaladsl.Source.singleton" title="(element: akka.http.model.HttpEntity.Chunk)akka.stream.scaladsl.Source[akka.http.model.HttpEntity.Chunk]">singleton</a><span class="delimiter">(</span><a href="../../model/HttpEntity.scala.html#akka.http.model.HttpEntity;Chunk" title="(data: akka.util.ByteString, extension: String)akka.http.model.HttpEntity.Chunk">Chunk</a><span class="delimiter">(</span><a href="#akka.http.engine.rendering.BodyPartRenderer.streamed;$anon.chunkStream.byteString" title="akka.util.ByteString">byteString</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="delimiter">}</span>

  def <a title="(parts: scala.collection.immutable.Seq[akka.http.model.Multipart.BodyPart.Strict], boundary: String, nioCharset: java.nio.charset.Charset, partHeadersSizeHint: Int, log: akka.event.LoggingAdapter)akka.util.ByteString" id="akka.http.engine.rendering.BodyPartRenderer.strict">strict</a><span class="delimiter">(</span><a title="scala.collection.immutable.Seq[akka.http.model.Multipart.BodyPart.Strict]" id="akka.http.engine.rendering.BodyPartRenderer.strict.parts">parts</a>: immutable.<span title="scala.collection.immutable.Seq[akka.http.model.Multipart.BodyPart.Strict]">Seq</span><span class="delimiter">[</span>Multipart.BodyPart.Strict<span class="delimiter">]</span>, <a title="String" id="akka.http.engine.rendering.BodyPartRenderer.strict.boundary">boundary</a>: <span title="String">String</span>, <a title="java.nio.charset.Charset" id="akka.http.engine.rendering.BodyPartRenderer.strict.nioCharset">nioCharset</a>: <span title="java.nio.charset.Charset">Charset</span>,
             <a title="Int" id="akka.http.engine.rendering.BodyPartRenderer.strict.partHeadersSizeHint">partHeadersSizeHint</a>: <span title="Int">Int</span>, <a title="akka.event.LoggingAdapter" id="akka.http.engine.rendering.BodyPartRenderer.strict.log">log</a>: <span title="akka.event.LoggingAdapter">LoggingAdapter</span><span class="delimiter">)</span>: <span title="akka.util.ByteString">ByteString</span> = <span class="delimiter">{</span>
    val <a title="akka.http.util.CustomCharsetByteStringRendering" id="akka.http.engine.rendering.BodyPartRenderer.strict.r">r</a> = new <a href="../../util/Rendering.scala.html#akka.http.util;CustomCharsetByteStringRendering" title="akka.http.util.CustomCharsetByteStringRendering">CustomCharsetByteStringRendering</a><span class="delimiter">(</span><a href="#akka.http.engine.rendering.BodyPartRenderer.strict.nioCharset" title="java.nio.charset.Charset">nioCharset</a>, <a href="#akka.http.engine.rendering.BodyPartRenderer.strict.partHeadersSizeHint" title="Int">partHeadersSizeHint</a><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#akka.http.engine.rendering.BodyPartRenderer.strict.parts" title="scala.collection.immutable.Seq[akka.http.model.Multipart.BodyPart.Strict]">parts</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      for <span class="delimiter">(</span><a title="akka.http.model.Multipart.BodyPart.Strict" id="akka.http.engine.rendering.BodyPartRenderer.strict.$anonfun.part">part</a> ← <a href="#akka.http.engine.rendering.BodyPartRenderer.strict.parts" title="(f: akka.http.model.Multipart.BodyPart.Strict =&gt; akka.http.util.CustomCharsetByteStringRendering)Unit">parts</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#akka.http.engine.rendering.BodyPartRenderer.renderBoundary" title="(r: akka.http.util.Rendering, boundary: String, suppressInitialCrLf: Boolean)Unit">renderBoundary</a><span class="delimiter">(</span><a href="#akka.http.engine.rendering.BodyPartRenderer.strict.r" title="akka.http.util.CustomCharsetByteStringRendering">r</a>, <a href="#akka.http.engine.rendering.BodyPartRenderer.strict.boundary" title="String">boundary</a>, suppressInitialCrLf = <a href="#akka.http.engine.rendering.BodyPartRenderer.strict.$anonfun.part" title="akka.http.model.Multipart.BodyPart.Strict">part</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#akka.http.engine.rendering.BodyPartRenderer.strict.parts" title="scala.collection.immutable.Seq[akka.http.model.Multipart.BodyPart.Strict]">parts</a>.<span title="=&gt; akka.http.model.Multipart.BodyPart.Strict">head</span><span class="delimiter">)</span>
        <a href="RenderSupport.scala.html#akka.http.engine.rendering.RenderSupport.renderEntityContentType" title="(r: akka.http.util.Rendering, entity: akka.http.model.HttpEntity)akka.http.util.Rendering">renderEntityContentType</a><span class="delimiter">(</span><a href="#akka.http.engine.rendering.BodyPartRenderer.strict.r" title="akka.http.util.CustomCharsetByteStringRendering">r</a>, <a href="#akka.http.engine.rendering.BodyPartRenderer.strict.$anonfun.part" title="akka.http.model.Multipart.BodyPart.Strict">part</a>.<a href="../../model/Multipart.scala.html#akka.http.model.Multipart.BodyPart;Strict.entity" title="=&gt; akka.http.model.HttpEntity.Strict">entity</a><span class="delimiter">)</span>
        <a href="#akka.http.engine.rendering.BodyPartRenderer.renderHeaders" title="(r: akka.http.util.Rendering, headers: scala.collection.immutable.Seq[akka.http.model.HttpHeader], log: akka.event.LoggingAdapter)Unit">renderHeaders</a><span class="delimiter">(</span><a href="#akka.http.engine.rendering.BodyPartRenderer.strict.r" title="akka.http.util.CustomCharsetByteStringRendering">r</a>, <a href="#akka.http.engine.rendering.BodyPartRenderer.strict.$anonfun.part" title="akka.http.model.Multipart.BodyPart.Strict">part</a>.<a href="../../model/Multipart.scala.html#akka.http.model.Multipart;BodyPart.headers" title="=&gt; scala.collection.immutable.Seq[akka.http.model.HttpHeader]">headers</a>, <a href="#akka.http.engine.rendering.BodyPartRenderer.strict.log" title="akka.event.LoggingAdapter">log</a><span class="delimiter">)</span>
        <a href="#akka.http.engine.rendering.BodyPartRenderer.strict.r" title="akka.http.util.CustomCharsetByteStringRendering">r</a> <a href="../../util/Rendering.scala.html#akka.http.util;CustomCharsetByteStringRendering.~~(dbcd80f9f9)" title="(bytes: akka.util.ByteString)r.type">~~</a> <a href="#akka.http.engine.rendering.BodyPartRenderer.strict.$anonfun.part" title="akka.http.model.Multipart.BodyPart.Strict">part</a>.<a href="../../model/Multipart.scala.html#akka.http.model.Multipart.BodyPart;Strict.entity" title="=&gt; akka.http.model.HttpEntity.Strict">entity</a>.<a href="../../model/HttpEntity.scala.html#akka.http.model.HttpEntity;Strict.data" title="=&gt; akka.util.ByteString">data</a>
      <span class="delimiter">}</span>
      <a href="#akka.http.engine.rendering.BodyPartRenderer.renderFinalBoundary" title="(r: akka.http.util.Rendering, boundary: String)Unit">renderFinalBoundary</a><span class="delimiter">(</span><a href="#akka.http.engine.rendering.BodyPartRenderer.strict.r" title="akka.http.util.CustomCharsetByteStringRendering">r</a>, <a href="#akka.http.engine.rendering.BodyPartRenderer.strict.boundary" title="String">boundary</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#akka.http.engine.rendering.BodyPartRenderer.strict.r" title="akka.http.util.CustomCharsetByteStringRendering">r</a>.<a href="../../util/Rendering.scala.html#akka.http.util;CustomCharsetByteStringRendering.get" title="=&gt; akka.util.ByteString">get</a>
  <span class="delimiter">}</span>

  private def <a title="(r: akka.http.util.Rendering, boundary: String, suppressInitialCrLf: Boolean)Unit" id="akka.http.engine.rendering.BodyPartRenderer.renderBoundary">renderBoundary</a><span class="delimiter">(</span><a title="akka.http.util.Rendering" id="akka.http.engine.rendering.BodyPartRenderer.renderBoundary.r">r</a>: <a href="../../util/Rendering.scala.html#akka.http.util;Rendering" title="akka.http.util.Rendering">Rendering</a>, <a title="String" id="akka.http.engine.rendering.BodyPartRenderer.renderBoundary.boundary">boundary</a>: <span title="String">String</span>, <a title="Boolean" id="akka.http.engine.rendering.BodyPartRenderer.renderBoundary$default$3">suppressInitialCrLf</a>: <span title="Boolean">Boolean</span> = false<span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.http.engine.rendering.BodyPartRenderer.renderBoundary$default$3" title="Boolean">suppressInitialCrLf</a><span class="delimiter">)</span> <a href="#akka.http.engine.rendering.BodyPartRenderer.renderBoundary.r" title="akka.http.util.Rendering">r</a> <a href="../../util/Rendering.scala.html#akka.http.util;Rendering.~~(f8b31a61d8)" title="(value: akka.http.util.Rendering.CrLf.type)(implicit ev: akka.http.util.Renderer[akka.http.util.Rendering.CrLf.type])r.type">~~</a> <a href="RenderSupport.scala.html#akka.http.engine.rendering.RenderSupport.CrLf" title="=&gt; akka.http.util.Rendering.CrLf.type">CrLf</a>
    <a href="#akka.http.engine.rendering.BodyPartRenderer.renderBoundary.r" title="akka.http.util.Rendering">r</a> <a href="../../util/Rendering.scala.html#akka.http.util;Rendering.~~(fab32729f1)" title="(ch: Char)r.type">~~</a> <span title="Char('-')" class="char">'-'</span> <a href="../../util/Rendering.scala.html#akka.http.util;Rendering.~~(fab32729f1)" title="(ch: Char)r.type">~~</a> <span title="Char('-')" class="char">'-'</span> <a href="../../util/Rendering.scala.html#akka.http.util;Rendering.~~(ee0eda224f)" title="(string: String)r.type">~~</a> <a href="#akka.http.engine.rendering.BodyPartRenderer.renderBoundary.boundary" title="String">boundary</a> <a href="../../util/Rendering.scala.html#akka.http.util;Rendering.~~(f8b31a61d8)" title="(value: akka.http.util.Rendering.CrLf.type)(implicit ev: akka.http.util.Renderer[akka.http.util.Rendering.CrLf.type])r.type">~~</a> <a href="RenderSupport.scala.html#akka.http.engine.rendering.RenderSupport.CrLf" title="=&gt; akka.http.util.Rendering.CrLf.type">CrLf</a>
  <span class="delimiter">}</span>

  private def <a title="(r: akka.http.util.Rendering, boundary: String)Unit" id="akka.http.engine.rendering.BodyPartRenderer.renderFinalBoundary">renderFinalBoundary</a><span class="delimiter">(</span><a title="akka.http.util.Rendering" id="akka.http.engine.rendering.BodyPartRenderer.renderFinalBoundary.r">r</a>: <a href="../../util/Rendering.scala.html#akka.http.util;Rendering" title="akka.http.util.Rendering">Rendering</a>, <a title="String" id="akka.http.engine.rendering.BodyPartRenderer.renderFinalBoundary.boundary">boundary</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#akka.http.engine.rendering.BodyPartRenderer.renderFinalBoundary.r" title="akka.http.util.Rendering">r</a> <a href="../../util/Rendering.scala.html#akka.http.util;Rendering.~~(f8b31a61d8)" title="(value: akka.http.util.Rendering.CrLf.type)(implicit ev: akka.http.util.Renderer[akka.http.util.Rendering.CrLf.type])r.type">~~</a> <a href="RenderSupport.scala.html#akka.http.engine.rendering.RenderSupport.CrLf" title="=&gt; akka.http.util.Rendering.CrLf.type">CrLf</a> <a href="../../util/Rendering.scala.html#akka.http.util;Rendering.~~(fab32729f1)" title="(ch: Char)r.type">~~</a> <span title="Char('-')" class="char">'-'</span> <a href="../../util/Rendering.scala.html#akka.http.util;Rendering.~~(fab32729f1)" title="(ch: Char)r.type">~~</a> <span title="Char('-')" class="char">'-'</span> <a href="../../util/Rendering.scala.html#akka.http.util;Rendering.~~(ee0eda224f)" title="(string: String)r.type">~~</a> <a href="#akka.http.engine.rendering.BodyPartRenderer.renderFinalBoundary.boundary" title="String">boundary</a> <a href="../../util/Rendering.scala.html#akka.http.util;Rendering.~~(fab32729f1)" title="(ch: Char)r.type">~~</a> <span title="Char('-')" class="char">'-'</span> <a href="../../util/Rendering.scala.html#akka.http.util;Rendering.~~(fab32729f1)" title="(ch: Char)r.type">~~</a> <span title="Char('-')" class="char">'-'</span>

  private def <a title="(r: akka.http.util.Rendering, headers: scala.collection.immutable.Seq[akka.http.model.HttpHeader], log: akka.event.LoggingAdapter)Unit" id="akka.http.engine.rendering.BodyPartRenderer.renderHeaders">renderHeaders</a><span class="delimiter">(</span><a title="akka.http.util.Rendering" id="akka.http.engine.rendering.BodyPartRenderer.renderHeaders.r">r</a>: <a href="../../util/Rendering.scala.html#akka.http.util;Rendering" title="akka.http.util.Rendering">Rendering</a>, <a title="scala.collection.immutable.Seq[akka.http.model.HttpHeader]" id="akka.http.engine.rendering.BodyPartRenderer.renderHeaders.headers">headers</a>: immutable.<span title="scala.collection.immutable.Seq[akka.http.model.HttpHeader]">Seq</span><span class="delimiter">[</span>HttpHeader<span class="delimiter">]</span>, <a title="akka.event.LoggingAdapter" id="akka.http.engine.rendering.BodyPartRenderer.renderHeaders.log">log</a>: <span title="akka.event.LoggingAdapter">LoggingAdapter</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#akka.http.engine.rendering.BodyPartRenderer.renderHeaders.headers" title="scala.collection.immutable.Seq[akka.http.model.HttpHeader]">headers</a> <span title="(f: akka.http.model.HttpHeader =&gt; Unit)Unit">foreach</span> <a href="#akka.http.engine.rendering.BodyPartRenderer.renderHeader" title="(r: akka.http.util.Rendering, log: akka.event.LoggingAdapter)akka.http.model.HttpHeader =&gt; Unit">renderHeader</a><span class="delimiter">(</span><a href="#akka.http.engine.rendering.BodyPartRenderer.renderHeaders.r" title="akka.http.util.Rendering">r</a>, <a href="#akka.http.engine.rendering.BodyPartRenderer.renderHeaders.log" title="akka.event.LoggingAdapter">log</a><span class="delimiter">)</span>
    <a href="#akka.http.engine.rendering.BodyPartRenderer.renderHeaders.r" title="akka.http.util.Rendering">r</a> <a href="../../util/Rendering.scala.html#akka.http.util;Rendering.~~(f8b31a61d8)" title="(value: akka.http.util.Rendering.CrLf.type)(implicit ev: akka.http.util.Renderer[akka.http.util.Rendering.CrLf.type])r.type">~~</a> <a href="RenderSupport.scala.html#akka.http.engine.rendering.RenderSupport.CrLf" title="=&gt; akka.http.util.Rendering.CrLf.type">CrLf</a>
  <span class="delimiter">}</span>

  private def <a title="(r: akka.http.util.Rendering, log: akka.event.LoggingAdapter)akka.http.model.HttpHeader =&gt; Unit" id="akka.http.engine.rendering.BodyPartRenderer.renderHeader">renderHeader</a><span class="delimiter">(</span><a title="akka.http.util.Rendering" id="akka.http.engine.rendering.BodyPartRenderer.renderHeader.r">r</a>: <a href="../../util/Rendering.scala.html#akka.http.util;Rendering" title="akka.http.util.Rendering">Rendering</a>, <a title="akka.event.LoggingAdapter" id="akka.http.engine.rendering.BodyPartRenderer.renderHeader.log">log</a>: <span title="akka.event.LoggingAdapter">LoggingAdapter</span><span class="delimiter">)</span>: HttpHeader ⇒ Unit = <a href="#akka.http.engine.rendering.BodyPartRenderer.renderHeader.$anonfun.x0$1" title="Unit" class="delimiter">{</a>
    case <span title="akka.http.model.headers.Content-Length">x</span>: <a href="../../model/headers/headers.scala.html#akka.http.model.headers;Content-Length" title="akka.http.model.headers.Content-Length">`Content-Length`</a> ⇒
      <a href="RenderSupport.scala.html#akka.http.engine.rendering.RenderSupport.suppressionWarning" title="(log: akka.event.LoggingAdapter, h: akka.http.model.HttpHeader, msg: String)Unit">suppressionWarning</a><span class="delimiter">(</span><a href="#akka.http.engine.rendering.BodyPartRenderer.renderHeader.log" title="akka.event.LoggingAdapter">log</a>, <span title="akka.http.model.headers.Content-Length">x</span>, <span title="String(&quot;explicit `Content-Length` header is not allowed. Use the appropriate HttpEntity subtype.&quot;)" class="string">&quot;explicit `Content-Length` header is not allowed. Use the appropriate HttpEntity subtype.&quot;</span><span class="delimiter">)</span>

    case <span title="akka.http.model.headers.Content-Type">x</span>: <a href="../../model/headers/headers.scala.html#akka.http.model.headers;Content-Type" title="akka.http.model.headers.Content-Type">`Content-Type`</a> ⇒
      <a href="RenderSupport.scala.html#akka.http.engine.rendering.RenderSupport.suppressionWarning" title="(log: akka.event.LoggingAdapter, h: akka.http.model.HttpHeader, msg: String)Unit">suppressionWarning</a><span class="delimiter">(</span><a href="#akka.http.engine.rendering.BodyPartRenderer.renderHeader.log" title="akka.event.LoggingAdapter">log</a>, <span title="akka.http.model.headers.Content-Type">x</span>, <span title="String(&quot;explicit `Content-Type` header is not allowed. Set `HttpRequest.entity.contentType` instead.&quot;)" class="string">&quot;explicit `Content-Type` header is not allowed. Set `HttpRequest.entity.contentType` instead.&quot;</span><span class="delimiter">)</span>

    case <span title="akka.http.model.headers.RawHeader">x</span>: <a href="../../model/headers/headers.scala.html#akka.http.model.headers;RawHeader" title="akka.http.model.headers.RawHeader">RawHeader</a> if <span class="delimiter">(</span><span title="akka.http.model.headers.RawHeader">x</span> <a href="../../model/HttpHeader.scala.html#akka.http.model;HttpHeader.is" title="(nameInLowerCase: String)Boolean">is</a> <span title="String(&quot;content-type&quot;)" class="string">&quot;content-type&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><span title="akka.http.model.headers.RawHeader">x</span> <a href="../../model/HttpHeader.scala.html#akka.http.model;HttpHeader.is" title="(nameInLowerCase: String)Boolean">is</a> <span title="String(&quot;content-length&quot;)" class="string">&quot;content-length&quot;</span><span class="delimiter">)</span> ⇒
      <a href="RenderSupport.scala.html#akka.http.engine.rendering.RenderSupport.suppressionWarning" title="(log: akka.event.LoggingAdapter, h: akka.http.model.HttpHeader, msg: String)Unit">suppressionWarning</a><span class="delimiter">(</span><a href="#akka.http.engine.rendering.BodyPartRenderer.renderHeader.log" title="akka.event.LoggingAdapter">log</a>, <span title="akka.http.model.headers.RawHeader">x</span>, <span title="String(&quot;illegal RawHeader&quot;)" class="string">&quot;illegal RawHeader&quot;</span><span class="delimiter">)</span>

    case <span title="akka.http.model.HttpHeader">x</span> ⇒ <a href="#akka.http.engine.rendering.BodyPartRenderer.renderHeader.r" title="akka.http.util.Rendering">r</a> <a href="../../util/Rendering.scala.html#akka.http.util;Rendering.~~(f8b31a61d8)" title="(value: akka.http.model.HttpHeader)(implicit ev: akka.http.util.Renderer[akka.http.model.HttpHeader])r.type">~~</a> <span title="akka.http.model.HttpHeader">x</span> <a href="../../util/Rendering.scala.html#akka.http.util;Rendering.~~(f8b31a61d8)" title="(value: akka.http.util.Rendering.CrLf.type)(implicit ev: akka.http.util.Renderer[akka.http.util.Rendering.CrLf.type])r.type">~~</a> <a href="RenderSupport.scala.html#akka.http.engine.rendering.RenderSupport.CrLf" title="=&gt; akka.http.util.Rendering.CrLf.type">CrLf</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
