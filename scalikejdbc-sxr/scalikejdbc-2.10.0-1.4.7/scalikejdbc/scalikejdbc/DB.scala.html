<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scalikejdbc/scalikejdbc/DB.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/*
 * Copyright 2011 Kazuhiro Sera
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 */
<span class="keyword">package</span> scalikejdbc

<span class="keyword">import</span> java.sql.<span class="delimiter">{</span> DatabaseMetaData, Connection <span class="delimiter">}</span>
<span class="keyword">import</span> java.lang.IllegalStateException
<span class="keyword">import</span> scala.util.control.<span title="scala.util.control.Exception.type">Exception</span>._

<span class="keyword">import</span> scalikejdbc.metadata._

/**
 * Basic Database Accessor
 *
 * You can start with DB and blocks if using [[scalikejdbc.ConnectionPool.singleton()]].
 *
 * Using DBSession:
 *
 * {{{
 *   ConnectionPool.singletion(&quot;jdbc:...&quot;,&quot;user&quot;,&quot;password&quot;)
 *   case class User(id: Int, name: String)
 *
 *   val users = DB readOnly { session =&gt;
 *     session.list(&quot;select * from user&quot;) { rs =&gt;
 *       User(rs.int(&quot;id&quot;), rs.string(&quot;name&quot;))
 *     }
 *   }
 *
 *   DB autoCommit { session =&gt;
 *     session.update(&quot;insert into user values (?,?)&quot;, 123, &quot;Alice&quot;)
 *   }
 *
 *   DB localTx { session =&gt;
 *     session.update(&quot;insert into user values (?,?)&quot;, 123, &quot;Alice&quot;)
 *   }
 *
 *   using(DB(ConnectionPool.borrow())) { db =&gt;
 *     db.begin()
 *     try {
 *       DB withTx { session =&gt;
 *         session.update(&quot;update user set name = ? where id = ?&quot;, &quot;Alice&quot;, 123)
 *       }
 *       db.commit()
 *     } catch { case e =&gt;
 *       db.rollbackIfActive()
 *       throw e
 *     }
 *   }
 * }}}
 *
 * Using SQL:
 *
 * {{{
 *   ConnectionPool.singletion(&quot;jdbc:...&quot;,&quot;user&quot;,&quot;password&quot;)
 *   case class User(id: Int, name: String)
 *
 *   val users = DB readOnly { session =&gt;
 *     SQL(&quot;select * from user&quot;).map { rs =&gt;
 *       User(rs.int(&quot;id&quot;), rs.string(&quot;name&quot;))
 *     }.list.apply()
 *   }
 *
 *   DB autoCommit { session =&gt;
 *     SQL(&quot;insert into user values (?,?)&quot;).bind(123, &quot;Alice&quot;).update.apply()
 *   }
 *
 *   DB localTx { session =&gt;
 *     SQL(&quot;insert into user values (?,?)&quot;).bind(123, &quot;Alice&quot;).update.apply()
 *   }
 *
 *   using(DB(ConnectionPool.borrow())) { db =&gt;
 *     db.begin()
 *     try {
 *       DB withTx { session =&gt;
 *         SQL(&quot;update user set name = ? where id = ?&quot;).bind(&quot;Alice&quot;, 123).update.apply()
 *       }
 *       db.commit()
 *     } catch { case e =&gt;
 *       db.rollbackIfActive()
 *       throw e
 *     }
 *   }
 * }}}
 */
<span class="keyword">object</span> <a title="scalikejdbc.DB.type" id="52052">DB</a> <a href="#7871" title="scalikejdbc.DB.type" class="delimiter">{</a>

  <span class="keyword">type</span> <a title="scalikejdbc.ConnectionPoolContext" id="33088">CPContext</a> = <a href="ConnectionPoolContext.scala.html#8361" title="scalikejdbc.ConnectionPoolContext">ConnectionPoolContext</a>
  <span class="keyword">val</span> <a title="scalikejdbc.NoConnectionPoolContext.type" id="33089">NoCPContext</a> = <a href="ConnectionPoolContext.scala.html#7858" title="scalikejdbc.NoConnectionPoolContext.type">NoConnectionPoolContext</a>

  /**
   * Returns DB instance.
   * @param conn  connection
   * @return  DB instance
   */
  <span class="keyword">def</span> <a title="(conn: =&gt; java.sql.Connection)scalikejdbc.DB" id="33091">apply</a><span class="delimiter">(</span><a title="=&gt; java.sql.Connection" id="46051">conn</a>: =&gt; Connection<span class="delimiter">)</span>: <a href="#55801" title="scalikejdbc.DB">DB</a> = <span title="scalikejdbc.DB" class="keyword">new</span> <a href="#55801" title="scalikejdbc.DB">DB</a><span class="delimiter">(</span><a href="#46051" title="=&gt; java.sql.Connection">conn</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(db: scalikejdbc.DB)Unit" id="33092">ensureDBInstance</a><span class="delimiter">(</span><a title="scalikejdbc.DB" id="51564">db</a>: <a href="#55801" title="scalikejdbc.DB">DB</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#51564" title="scalikejdbc.DB">db</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><a href="ErrorMessage.scala.html#7594" title="scalikejdbc.ErrorMessage.type">ErrorMessage</a>.<a href="ErrorMessage.scala.html#38128" title="=&gt; String">IMPLICIT_DB_INSTANCE_REQUIRED</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool" id="33093">connectionPool</a><span class="delimiter">(</span><a title="scalikejdbc.DB.CPContext" id="51574">context</a>: <a href="ConnectionPoolContext.scala.html#8361" title="scalikejdbc.DB.CPContext">CPContext</a><span class="delimiter">)</span>: <a href="ConnectionPool.scala.html#8340" title="scalikejdbc.ConnectionPool">ConnectionPool</a> = <a href="package.scala.html#9633" title="(v: Any)Option[Nothing]">opt</a><span class="delimiter">(</span><a href="#51574" title="scalikejdbc.DB.CPContext">context</a> <span class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="#33089" title="Any">NoCPContext</a> =&gt; <a href="ConnectionPool.scala.html#13334" title="(name: Any)scalikejdbc.ConnectionPool">ConnectionPool</a><a href="#98338" title="(x: Any)Any" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> _: MultipleConnectionPoolContext =&gt; <a href="#51574" title="scalikejdbc.DB.CPContext">context</a>.<a href="ConnectionPoolContext.scala.html#33438" title="(name: Any)scalikejdbc.ConnectionPool">get</a><a href="#98338" title="(x: Any)Any" class="delimiter">(</a><a href="ConnectionPool.scala.html#8341" title="scalikejdbc.ConnectionPool.type">ConnectionPool</a>.<a href="ConnectionPool.scala.html#13329" title="=&gt; Symbol">DEFAULT_NAME</a><span class="delimiter">)</span>
    <span class="keyword">case</span> _ =&gt; <a href="#98338" title="(x: Any)Any" class="keyword">throw</a> <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><a href="ErrorMessage.scala.html#7594" title="scalikejdbc.ErrorMessage.type">ErrorMessage</a>.<a href="ErrorMessage.scala.html#38140" title="=&gt; String">UNKNOWN_CONNECTION_POOL_CONTEXT</a><span class="delimiter">)</span>
  <span class="delimiter">}</span><span class="delimiter">)</span> <span title="(default: =&gt; Nothing)Nothing">getOrElse</span> <span class="delimiter">{</span>
    <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><a href="ErrorMessage.scala.html#7594" title="scalikejdbc.ErrorMessage.type">ErrorMessage</a>.<a href="ErrorMessage.scala.html#38120" title="=&gt; String">CONNECTION_POOL_IS_NOT_YET_INITIALIZED</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Begins a read-only block easily with ConnectionPool.
   *
   * @param execution execution
   * @param context connection pool context
   * @tparam A return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: scalikejdbc.DBSession =&gt; A)(implicit context: scalikejdbc.DB.CPContext)A" id="33094">readOnly</a><span class="delimiter">[</span><a title="" id="51596">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalikejdbc.DBSession =&gt; A" id="51998">execution</a>: DBSession =&gt; A<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB.CPContext" id="51594">context</a>: <a href="ConnectionPoolContext.scala.html#8361" title="scalikejdbc.DB.CPContext">CPContext</a> = <a href="#33089" title="=&gt; scalikejdbc.NoConnectionPoolContext.type">NoCPContext</a><span class="delimiter">)</span>: <a href="#51596" title="A">A</a> = <span class="delimiter">{</span>
    <a href="package.scala.html#9619" title="(resource: java.sql.Connection)(f: java.sql.Connection =&gt; A)A">using</a><span class="delimiter">(</span><a href="#33093" title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool">connectionPool</a><span class="delimiter">(</span><a href="#51594" title="scalikejdbc.DB.CPContext">context</a><span class="delimiter">)</span>.<a href="ConnectionPool.scala.html#49371" title="()java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.sql.Connection" id="51613">conn</a> =&gt;
      <a href="#55801" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><span class="delimiter">(</span><a href="#51613" title="java.sql.Connection">conn</a><span class="delimiter">)</span>.<a href="#45302" title="(execution: scalikejdbc.DBSession =&gt; A)A">readOnly</a><span class="delimiter">(</span><a href="#51998" title="scalikejdbc.DBSession =&gt; A">execution</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Begins a read-only block easily with ConnectionPool
   * and pass not session but connection to execution block.
   *
   * @param execution execution
   * @param context connection pool context
   * @tparam A return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: java.sql.Connection =&gt; A)(implicit context: scalikejdbc.DB.CPContext)A" id="33097">readOnlyWithConnection</a><span class="delimiter">[</span><a title="" id="51635">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.sql.Connection =&gt; A" id="52001">execution</a>: Connection =&gt; A<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB.CPContext" id="51633">context</a>: <a href="ConnectionPoolContext.scala.html#8361" title="scalikejdbc.DB.CPContext">CPContext</a> = <a href="#33089" title="=&gt; scalikejdbc.NoConnectionPoolContext.type">NoCPContext</a><span class="delimiter">)</span>: <a href="#51635" title="A">A</a> = <span class="delimiter">{</span>
    <a href="package.scala.html#9619" title="(resource: java.sql.Connection)(f: java.sql.Connection =&gt; A)A">using</a><span class="delimiter">(</span><a href="#33093" title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool">connectionPool</a><span class="delimiter">(</span><a href="#51633" title="scalikejdbc.DB.CPContext">context</a><span class="delimiter">)</span>.<a href="ConnectionPool.scala.html#49371" title="()java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.sql.Connection" id="51648">conn</a> =&gt;
      <a href="#55801" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><span class="delimiter">(</span><a href="#51648" title="java.sql.Connection">conn</a><span class="delimiter">)</span>.<a href="#45305" title="(execution: java.sql.Connection =&gt; A)A">readOnlyWithConnection</a><span class="delimiter">(</span><a href="#52001" title="java.sql.Connection =&gt; A">execution</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Returns read-only session instance. You SHOULD close this instance by yourself.
   *
   * @param context connection pool context
   * @return session
   */
  <span class="keyword">def</span> <a title="()(implicit context: scalikejdbc.DB.CPContext)scalikejdbc.DBSession" id="33100">readOnlySession</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB.CPContext" id="51667">context</a>: <a href="ConnectionPoolContext.scala.html#8361" title="scalikejdbc.DB.CPContext">CPContext</a> = <a href="#33089" title="=&gt; scalikejdbc.NoConnectionPoolContext.type">NoCPContext</a><span class="delimiter">)</span>: <a href="DBSession.scala.html#7794" title="scalikejdbc.DBSession">DBSession</a> = <span class="delimiter">{</span>
    <a href="#55801" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><span class="delimiter">(</span><a href="#33093" title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool">connectionPool</a><span class="delimiter">(</span><a href="#51667" title="scalikejdbc.DB.CPContext">context</a><span class="delimiter">)</span>.<a href="ConnectionPool.scala.html#49371" title="()java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#45301" title="()scalikejdbc.DBSession">readOnlySession</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Begins a auto-commit block easily with ConnectionPool.
   *
   * @param execution execution
   * @param context connection pool context
   * @tparam A return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: scalikejdbc.DBSession =&gt; A)(implicit context: scalikejdbc.DB.CPContext)A" id="33101">autoCommit</a><span class="delimiter">[</span><a title="" id="51682">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalikejdbc.DBSession =&gt; A" id="52005">execution</a>: DBSession =&gt; A<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB.CPContext" id="51680">context</a>: <a href="ConnectionPoolContext.scala.html#8361" title="scalikejdbc.DB.CPContext">CPContext</a> = <a href="#33089" title="=&gt; scalikejdbc.NoConnectionPoolContext.type">NoCPContext</a><span class="delimiter">)</span>: <a href="#51682" title="A">A</a> = <span class="delimiter">{</span>
    <a href="package.scala.html#9619" title="(resource: java.sql.Connection)(f: java.sql.Connection =&gt; A)A">using</a><span class="delimiter">(</span><a href="#33093" title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool">connectionPool</a><span class="delimiter">(</span><a href="#51680" title="scalikejdbc.DB.CPContext">context</a><span class="delimiter">)</span>.<a href="ConnectionPool.scala.html#49371" title="()java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.sql.Connection" id="51695">conn</a> =&gt;
      <a href="#55801" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><span class="delimiter">(</span><a href="#51695" title="java.sql.Connection">conn</a><span class="delimiter">)</span>.<a href="#45309" title="(execution: scalikejdbc.DBSession =&gt; A)A">autoCommit</a><span class="delimiter">(</span><a href="#52005" title="scalikejdbc.DBSession =&gt; A">execution</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Begins a auto-commit block easily with ConnectionPool
   * and pass not session but connection to execution block.
   *
   * @param execution execution
   * @param context connection pool context
   * @tparam A return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: java.sql.Connection =&gt; A)(implicit context: scalikejdbc.DB.CPContext)A" id="33104">autoCommitWithConnection</a><span class="delimiter">[</span><a title="" id="51717">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.sql.Connection =&gt; A" id="52008">execution</a>: Connection =&gt; A<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB.CPContext" id="51715">context</a>: <a href="ConnectionPoolContext.scala.html#8361" title="scalikejdbc.DB.CPContext">CPContext</a> = <a href="#33089" title="=&gt; scalikejdbc.NoConnectionPoolContext.type">NoCPContext</a><span class="delimiter">)</span>: <a href="#51717" title="A">A</a> = <span class="delimiter">{</span>
    <a href="package.scala.html#9619" title="(resource: java.sql.Connection)(f: java.sql.Connection =&gt; A)A">using</a><span class="delimiter">(</span><a href="#33093" title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool">connectionPool</a><span class="delimiter">(</span><a href="#51715" title="scalikejdbc.DB.CPContext">context</a><span class="delimiter">)</span>.<a href="ConnectionPool.scala.html#49371" title="()java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.sql.Connection" id="51730">conn</a> =&gt;
      <a href="#55801" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><span class="delimiter">(</span><a href="#51730" title="java.sql.Connection">conn</a><span class="delimiter">)</span>.<a href="#45312" title="(execution: java.sql.Connection =&gt; A)A">autoCommitWithConnection</a><span class="delimiter">(</span><a href="#52008" title="java.sql.Connection =&gt; A">execution</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Returns auto-commit session instance. You SHOULD close this instance by yourself.
   *
   * @param context connection pool context
   * @return session
   */
  <span class="keyword">def</span> <a title="()(implicit context: scalikejdbc.DB.CPContext)scalikejdbc.DBSession" id="33107">autoCommitSession</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB.CPContext" id="51749">context</a>: <a href="ConnectionPoolContext.scala.html#8361" title="scalikejdbc.DB.CPContext">CPContext</a> = <a href="#33089" title="=&gt; scalikejdbc.NoConnectionPoolContext.type">NoCPContext</a><span class="delimiter">)</span>: <a href="DBSession.scala.html#7794" title="scalikejdbc.DBSession">DBSession</a> = <span class="delimiter">{</span>
    <a href="#55801" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><span class="delimiter">(</span><a href="#33093" title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool">connectionPool</a><span class="delimiter">(</span><a href="#51749" title="scalikejdbc.DB.CPContext">context</a><span class="delimiter">)</span>.<a href="ConnectionPool.scala.html#49371" title="()java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#45308" title="()scalikejdbc.DBSession">autoCommitSession</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Begins a local-tx block easily with ConnectionPool.
   *
   * @param execution execution
   * @param context connection pool context
   * @tparam A return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: scalikejdbc.DBSession =&gt; A)(implicit context: scalikejdbc.DB.CPContext)A" id="33108">localTx</a><span class="delimiter">[</span><a title="" id="51764">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalikejdbc.DBSession =&gt; A" id="52012">execution</a>: DBSession =&gt; A<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB.CPContext" id="51762">context</a>: <a href="ConnectionPoolContext.scala.html#8361" title="scalikejdbc.DB.CPContext">CPContext</a> = <a href="#33089" title="=&gt; scalikejdbc.NoConnectionPoolContext.type">NoCPContext</a><span class="delimiter">)</span>: <a href="#51764" title="A">A</a> = <span class="delimiter">{</span>
    <a href="package.scala.html#9619" title="(resource: java.sql.Connection)(f: java.sql.Connection =&gt; A)A">using</a><span class="delimiter">(</span><a href="#33093" title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool">connectionPool</a><span class="delimiter">(</span><a href="#51762" title="scalikejdbc.DB.CPContext">context</a><span class="delimiter">)</span>.<a href="ConnectionPool.scala.html#49371" title="()java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.sql.Connection" id="51777">conn</a> =&gt;
      <a href="#55801" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><span class="delimiter">(</span><a href="#51777" title="java.sql.Connection">conn</a><span class="delimiter">)</span>.<a href="#45325" title="(execution: scalikejdbc.DBSession =&gt; A)A">localTx</a><span class="delimiter">(</span><a href="#52012" title="scalikejdbc.DBSession =&gt; A">execution</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Begins a local-tx block easily with ConnectionPool
   * and pass not session but connection to execution block.
   *
   * @param execution execution
   * @param context connection pool context
   * @tparam A return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: java.sql.Connection =&gt; A)(implicit context: scalikejdbc.DB.CPContext)A" id="33111">localTxWithConnection</a><span class="delimiter">[</span><a title="" id="51799">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.sql.Connection =&gt; A" id="52015">execution</a>: Connection =&gt; A<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB.CPContext" id="51797">context</a>: <a href="ConnectionPoolContext.scala.html#8361" title="scalikejdbc.DB.CPContext">CPContext</a> = <a href="#33089" title="=&gt; scalikejdbc.NoConnectionPoolContext.type">NoCPContext</a><span class="delimiter">)</span>: <a href="#51799" title="A">A</a> = <span class="delimiter">{</span>
    <a href="package.scala.html#9619" title="(resource: java.sql.Connection)(f: java.sql.Connection =&gt; A)A">using</a><span class="delimiter">(</span><a href="#33093" title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool">connectionPool</a><span class="delimiter">(</span><a href="#51797" title="scalikejdbc.DB.CPContext">context</a><span class="delimiter">)</span>.<a href="ConnectionPool.scala.html#49371" title="()java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.sql.Connection" id="51812">conn</a> =&gt;
      <a href="#55801" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><span class="delimiter">(</span><a href="#51812" title="java.sql.Connection">conn</a><span class="delimiter">)</span>.<a href="#45328" title="(execution: java.sql.Connection =&gt; A)A">localTxWithConnection</a><span class="delimiter">(</span><a href="#52015" title="java.sql.Connection =&gt; A">execution</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Begins a within-tx block easily with a DB instance as an implicit parameter.
   *
   * @param execution execution
   * @param db DB instance as an implicit parameter
   * @tparam A return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: scalikejdbc.DBSession =&gt; A)(implicit db: scalikejdbc.DB)A" id="33114">withinTx</a><span class="delimiter">[</span><a title="" id="33116">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalikejdbc.DBSession =&gt; A" id="51829">execution</a>: DBSession =&gt; A<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB" id="51830">db</a>: <a href="#55801" title="scalikejdbc.DB">DB</a><span class="delimiter">)</span>: <a href="#33116" title="A">A</a> = <span class="delimiter">{</span>
    <a href="#33092" title="(db: scalikejdbc.DB)Unit">ensureDBInstance</a><span class="delimiter">(</span><a href="#51830" title="scalikejdbc.DB">db</a>: <a href="#55801" title="scalikejdbc.DB">DB</a><span class="delimiter">)</span>
    <a href="#51830" title="scalikejdbc.DB">db</a>.<a href="#45316" title="(execution: scalikejdbc.DBSession =&gt; A)A">withinTx</a><span class="delimiter">(</span><a href="#51829" title="scalikejdbc.DBSession =&gt; A">execution</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Begins a within-tx block easily with a DB instance as an implicit parameter
   * and pass not session but connection to execution block.
   *
   * @param execution execution
   * @param db DB instance as an implicit parameter
   * @tparam A return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: java.sql.Connection =&gt; A)(implicit db: scalikejdbc.DB)A" id="33117">withinTxWithConnection</a><span class="delimiter">[</span><a title="" id="33119">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.sql.Connection =&gt; A" id="51836">execution</a>: Connection =&gt; A<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB" id="51837">db</a>: <a href="#55801" title="scalikejdbc.DB">DB</a><span class="delimiter">)</span>: <a href="#33119" title="A">A</a> = <span class="delimiter">{</span>
    <a href="#33092" title="(db: scalikejdbc.DB)Unit">ensureDBInstance</a><span class="delimiter">(</span><a href="#51837" title="scalikejdbc.DB">db</a>: <a href="#55801" title="scalikejdbc.DB">DB</a><span class="delimiter">)</span>
    <a href="#51837" title="scalikejdbc.DB">db</a>.<a href="#45319" title="(execution: java.sql.Connection =&gt; A)A">withinTxWithConnection</a><span class="delimiter">(</span><a href="#51836" title="java.sql.Connection =&gt; A">execution</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Returns within-tx session instance. You SHOULD close this instance by yourself.
   *
   * @param db DB instance as an implicit parameter
   * @return session
   */
  <span class="keyword">def</span> <a title="()(implicit db: scalikejdbc.DB)scalikejdbc.DBSession" id="33120">withinTxSession</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB" id="51846">db</a>: <a href="#55801" title="scalikejdbc.DB">DB</a><span class="delimiter">)</span>: <a href="DBSession.scala.html#7794" title="scalikejdbc.DBSession">DBSession</a> = <a href="#51846" title="scalikejdbc.DB">db</a>.<a href="#45315" title="(tx: scalikejdbc.Tx)scalikejdbc.DBSession">withinTxSession</a><span class="delimiter">(</span><span class="delimiter">)</span>

  /**
   * Returns multiple table information
   *
   * @param tableNamePattern table name pattern (with schema optionally)
   * @param context connection pool context as implicit parameter
   * @return table information
   */
  <span class="keyword">def</span> <a title="(tableNamePattern: String)(implicit context: scalikejdbc.DB.CPContext)List[String]" id="33121">getTableNames</a><span class="delimiter">(</span><a title="String" id="52018">tableNamePattern</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB.CPContext" id="51851">context</a>: <a href="ConnectionPoolContext.scala.html#8361" title="scalikejdbc.DB.CPContext">CPContext</a> = <a href="#33089" title="=&gt; scalikejdbc.NoConnectionPoolContext.type">NoCPContext</a><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#55801" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><a title="scalikejdbc.DB" id="51865" class="delimiter">(</a><a href="#33093" title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool">connectionPool</a><span class="delimiter">(</span><a href="#51851" title="scalikejdbc.DB.CPContext">context</a><span class="delimiter">)</span>.<a href="ConnectionPool.scala.html#49371" title="()java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#51864" title="Array[String]" id="51869">getTableNames</a><span class="delimiter">(</span><a href="#52018" title="String" id="51868">tableNamePattern</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Returns table information
   *
   * @param table table name (with schema optionally)
   * @param context connection pool context as implicit parameter
   * @return table information
   */
  <span class="keyword">def</span> <a title="(table: String)(implicit context: scalikejdbc.DB.CPContext)Option[scalikejdbc.metadata.Table]" id="33122">getTable</a><span class="delimiter">(</span><a title="String" id="52020">table</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB.CPContext" id="51873">context</a>: <a href="ConnectionPoolContext.scala.html#8361" title="scalikejdbc.DB.CPContext">CPContext</a> = <a href="#33089" title="=&gt; scalikejdbc.NoConnectionPoolContext.type">NoCPContext</a><span class="delimiter">)</span>: <span title="Option[scalikejdbc.metadata.Table]">Option</span><span class="delimiter">[</span>Table<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#55801" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><span class="delimiter">(</span><a href="#33093" title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool">connectionPool</a><span class="delimiter">(</span><a href="#51873" title="scalikejdbc.DB.CPContext">context</a><span class="delimiter">)</span>.<a href="ConnectionPool.scala.html#49371" title="()java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#45334" title="(table: String)Option[scalikejdbc.metadata.Table]">getTable</a><span class="delimiter">(</span><a href="#52020" title="String">table</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(table: String)(implicit context: scalikejdbc.DB.CPContext)List[String]" id="33123">getColumnNames</a><span class="delimiter">(</span><a title="String" id="33474">table</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB.CPContext" id="33436">context</a>: <a href="ConnectionPoolContext.scala.html#8361" title="scalikejdbc.DB.CPContext">CPContext</a> = <a href="#33089" title="=&gt; scalikejdbc.NoConnectionPoolContext.type">NoCPContext</a><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="List[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#33474" title="String">table</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#55801" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><a title="scalikejdbc.DB" id="51900" class="delimiter">(</a><a href="#33093" title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool">connectionPool</a><span class="delimiter">(</span><a href="#33436" title="scalikejdbc.DB.CPContext">context</a><span class="delimiter">)</span>.<a href="ConnectionPool.scala.html#49371" title="()java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#51899" title="Array[String]" id="51904">getColumnNames</a><span class="delimiter">(</span><a href="#33474" title="String" id="51903">table</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <span title="scala.collection.immutable.Nil.type">Nil</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Returns table name list
   *
   * @param tableNamePattern table name pattern (with schema optionally)
   * @param context connection pool context as implicit parameter
   * @return table name list
   */
  <span class="keyword">def</span> <a title="(tableNamePattern: String, tableTypes: Array[String])(implicit context: scalikejdbc.DB.CPContext)String" id="33124">showTables</a><span class="delimiter">(</span><a title="String" id="52045">tableNamePattern</a>: <span title="String">String</span> = <span title="String(&quot;%&quot;)" class="string">&quot;%&quot;</span>, <a title="Array[String]" id="52046">tableTypes</a>: <span title="Array[String]">Array</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="(xs: String*)(implicit evidence$2: scala.reflect.ClassTag[String])Array[String]">Array</span><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[String]" class="delimiter">(</span><span title="String(&quot;TABLE&quot;)" class="string">&quot;TABLE&quot;</span>, <span title="String(&quot;VIEW&quot;)" class="string">&quot;VIEW&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB.CPContext" id="51911">context</a>: <a href="ConnectionPoolContext.scala.html#8361" title="scalikejdbc.DB.CPContext">CPContext</a> = <a href="#33089" title="=&gt; scalikejdbc.NoConnectionPoolContext.type">NoCPContext</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <a href="#55801" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><span class="delimiter">(</span><a href="#33093" title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool">connectionPool</a><span class="delimiter">(</span><a href="#51911" title="scalikejdbc.DB.CPContext">context</a><span class="delimiter">)</span>.<a href="ConnectionPool.scala.html#49371" title="()java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#45336" title="(tableNamePattern: String, tableTypes: Array[String])String">showTables</a><span class="delimiter">(</span><a href="#52045" title="String">tableNamePattern</a>, <a href="#52046" title="Array[String]">tableTypes</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Returns describe style string value for the table
   *
   * @param table table name (with schema optionally)
   * @param context connection pool context as implicit parameter
   * @return described information
   */
  <span class="keyword">def</span> <a title="(table: String)(implicit context: scalikejdbc.DB.CPContext)String" id="33125">describe</a><span class="delimiter">(</span><a title="String" id="52048">table</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB.CPContext" id="51949">context</a>: <a href="ConnectionPoolContext.scala.html#8361" title="scalikejdbc.DB.CPContext">CPContext</a> = <a href="#33089" title="=&gt; scalikejdbc.NoConnectionPoolContext.type">NoCPContext</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <a href="#55801" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><span class="delimiter">(</span><a href="#33093" title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool">connectionPool</a><span class="delimiter">(</span><a href="#51949" title="scalikejdbc.DB.CPContext">context</a><span class="delimiter">)</span>.<a href="ConnectionPool.scala.html#49371" title="()java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#45337" title="(table: String)String">describe</a><span class="delimiter">(</span><a href="#52048" title="String">table</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Get a connection and returns a DB instance.
   *
   * @param conn connection
   * @return DB instance
   */
  <span class="keyword">def</span> <a title="(conn: java.sql.Connection)scalikejdbc.DB" id="33126">connect</a><span class="delimiter">(</span><a title="java.sql.Connection" id="51962">conn</a>: <span title="java.sql.Connection">Connection</span> = <a href="ConnectionPool.scala.html#8341" title="scalikejdbc.ConnectionPool.type">ConnectionPool</a>.<a href="ConnectionPool.scala.html#13339" title="(name: Any)java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>: <a href="#55801" title="scalikejdbc.DB">DB</a> = <a href="#55801" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><span class="delimiter">(</span><a href="#51962" title="java.sql.Connection">conn</a><span class="delimiter">)</span>

  /**
   * Returns a DB instance by using an implicit Connection object.
   *
   * @param conn connection
   * @return  DB instance
   */
  <span class="keyword">def</span> <a title="(implicit conn: java.sql.Connection)scalikejdbc.DB" id="33127">connected</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="java.sql.Connection" id="51971">conn</a>: <span title="java.sql.Connection">Connection</span><span class="delimiter">)</span> = <a href="#55801" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><span class="delimiter">(</span><a href="#51971" title="java.sql.Connection">conn</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

/**
 * Basic Database Accessor
 *
 * Using DBSession:
 *
 * {{{
 *   import scalikejdbc._
 *   case class User(id: Int, name: String)
 *
 *   using(connectionPool(context).borrow()) { conn =&gt;
 *
 *     val users = DB(conn) readOnly { session =&gt;
 *       session.list(&quot;select * from user&quot;) { rs =&gt;
 *         User(rs.int(&quot;id&quot;), rs.string(&quot;name&quot;))
 *       }
 *     }
 *
 *     DB(conn) autoCommit { session =&gt;
 *       session.update(&quot;insert into user values (?,?)&quot;, 123, &quot;Alice&quot;)
 *     }
 *
 *     DB(conn) localTx { session =&gt;
 *       session.update(&quot;insert into user values (?,?)&quot;, 123, &quot;Alice&quot;)
 *     }
 *
 *   }
 * }}}
 *
 * Using SQL:
 *
 * {{{
 *   import scalikejdbc._
 *   case class User(id: Int, name: String)
 *
 *   using(ConnectionPool.borrow()) { conn =&gt;
 *
 *     val users = DB(conn) readOnly { session =&gt;
 *       SQL(&quot;select * from user&quot;).map { rs =&gt;
 *         User(rs.int(&quot;id&quot;), rs.string(&quot;name&quot;))
 *       }.list.apply()
 *     }
 *
 *     DB(conn) autoCommit { session =&gt;
 *       SQL(&quot;insert into user values (?,?)&quot;).bind(123, &quot;Alice&quot;).update.apply()
 *     }
 *
 *     DB(conn) localTx { session =&gt;
 *       SQL(&quot;insert into user values (?,?)&quot;).bind(123, &quot;Alice&quot;).update.apply()
 *     }
 *
 *   }
 * }}}
 */
<span title="AnyRef" class="keyword">case class</span> <a title="(conn: java.sql.Connection)scalikejdbc.DB" id="55801">DB</a><a href="#55801" title="Product" class="delimiter">(</a><a title="java.sql.Connection" id="55704">conn</a>: <span title="java.sql.Connection">Connection</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="LogSupport.scala.html#7878" title="scalikejdbc.LogSupport">LogSupport</a> <span class="delimiter">{</span>

  <span class="keyword">type</span> <a title="scalikejdbc.ResultSetTraversable" id="45287">RSTraversable</a> = <a href="ResultSetTraversable.scala.html#8316" title="scalikejdbc.ResultSetTraversable">ResultSetTraversable</a>

  /**
   * Returns is the current transaction is active.
   * @return result
   */
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="45288">isTxNotActive</a>: <span title="Boolean">Boolean</span> = <a href="#55704" title="=&gt; java.sql.Connection">conn</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">||</span> <a href="#55704" title="=&gt; java.sql.Connection">conn</a>.<span title="()Boolean">isClosed</span> <span title="(x: Boolean)Boolean">||</span> <a href="#55704" title="=&gt; java.sql.Connection">conn</a>.<span title="()Boolean">isReadOnly</span>

  /**
   * Returns is the current transaction hasn't started yet.
   * @return result
   */
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="45289">isTxNotYetStarted</a>: <span title="Boolean">Boolean</span> = <a href="#55704" title="=&gt; java.sql.Connection">conn</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#55704" title="=&gt; java.sql.Connection">conn</a>.<span title="()Boolean">getAutoCommit</span>

  /**
   * Returns is the current transaction already started.
   * @return result
   */
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="45290">isTxAlreadyStarted</a>: <span title="Boolean">Boolean</span> = <a href="#55704" title="=&gt; java.sql.Connection">conn</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#55704" title="=&gt; java.sql.Connection">conn</a>.<span title="()Boolean">getAutoCommit</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(conn: java.sql.Connection)scalikejdbc.Tx" id="45291">newTx</a><span class="delimiter">(</span><a title="java.sql.Connection" id="52099">conn</a>: <span title="java.sql.Connection">Connection</span><span class="delimiter">)</span>: <a href="Tx.scala.html#7779" title="scalikejdbc.Tx">Tx</a> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#45288" title="=&gt; Boolean">isTxNotActive</a> <span title="(x: Boolean)Boolean">||</span> <a href="#45290" title="=&gt; Boolean">isTxAlreadyStarted</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><a href="ErrorMessage.scala.html#7594" title="scalikejdbc.ErrorMessage.type">ErrorMessage</a>.<a href="ErrorMessage.scala.html#38122" title="=&gt; String">CANNOT_START_A_NEW_TRANSACTION</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span title="scalikejdbc.Tx" class="keyword">new</span> <a href="Tx.scala.html#7779" title="scalikejdbc.Tx">Tx</a><span class="delimiter">(</span><a href="#52099" title="java.sql.Connection">conn</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Starts a new transaction and returns it.
   * @return tx
   */
  <span class="keyword">def</span> <a title="=&gt; scalikejdbc.Tx" id="45292">newTx</a>: <a href="Tx.scala.html#7779" title="scalikejdbc.Tx">Tx</a> = <a href="#45291" title="(conn: java.sql.Connection)scalikejdbc.Tx">newTx</a><span class="delimiter">(</span><a href="#55704" title="=&gt; java.sql.Connection">conn</a><span class="delimiter">)</span>

  /**
   * Returns the current transaction.
   * If the transaction has not started yet, IllegalStateException will be thrown.
   * @return tx
   */
  <span class="keyword">def</span> <a title="=&gt; scalikejdbc.Tx" id="45293">currentTx</a>: <a href="Tx.scala.html#7779" title="scalikejdbc.Tx">Tx</a> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#45288" title="=&gt; Boolean">isTxNotActive</a> <span title="(x: Boolean)Boolean">||</span> <a href="#45289" title="=&gt; Boolean">isTxNotYetStarted</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><a href="ErrorMessage.scala.html#7594" title="scalikejdbc.ErrorMessage.type">ErrorMessage</a>.<a href="ErrorMessage.scala.html#38126" title="=&gt; String">TRANSACTION_IS_NOT_ACTIVE</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span title="scalikejdbc.Tx" class="keyword">new</span> <a href="Tx.scala.html#7779" title="scalikejdbc.Tx">Tx</a><span class="delimiter">(</span><a href="#55704" title="=&gt; java.sql.Connection">conn</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Returns the current transaction.
   * If the transaction has not started yet, IllegalStateException will be thrown.
   * @return tx
   */
  <span class="keyword">def</span> <a title="=&gt; scalikejdbc.Tx" id="45294">tx</a>: <a href="Tx.scala.html#7779" title="scalikejdbc.Tx">Tx</a> = <span class="delimiter">{</span>
    <span title="(exceptions: Class[_]*)util.control.Exception.By[Throwable =&gt; Nothing,util.control.Exception.Catch[Nothing]]">handling</span><span class="delimiter">(</span>classOf<span title="Class[IllegalStateException](classOf[java.lang.IllegalStateException])" class="delimiter">[</span>IllegalStateException<span class="delimiter">]</span><span class="delimiter">)</span> <span title="(x: Throwable =&gt; Nothing)util.control.Exception.Catch[Nothing]">by</span> <span class="delimiter">{</span> <a title="Throwable" id="52124">e</a> =&gt;
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span>
        <a href="ErrorMessage.scala.html#7594" title="scalikejdbc.ErrorMessage.type">ErrorMessage</a>.<a href="ErrorMessage.scala.html#38126" title="=&gt; String">TRANSACTION_IS_NOT_ACTIVE</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; If you want to start a new transaction, use #newTx instead.&quot;)" class="string">&quot; If you want to start a new transaction, use #newTx instead.&quot;</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span> <span title="(body: =&gt; scalikejdbc.Tx)scalikejdbc.Tx">apply</span> <a href="#45293" title="=&gt; scalikejdbc.Tx">currentTx</a>
  <span class="delimiter">}</span>

  /**
   * Close the connection.
   */
  <span class="keyword">def</span> <a title="()Unit" id="45295">close</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span title="(exceptions: Class[_]*)util.control.Exception.Catch[Unit]">ignoring</span><span title="(body: =&gt; Unit)Unit" class="delimiter">(</span>classOf<span title="Class[Throwable](classOf[java.lang.Throwable])" class="delimiter">[</span>Throwable<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#55704" title="=&gt; java.sql.Connection">conn</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="LogSupport.scala.html#13321" title="=&gt; scalikejdbc.Log">log</a>.<a href="Log.scala.html#49826" title="(msg: =&gt; String)Unit">debug</a><span class="delimiter">(</span><span title="String(&quot;A Connection is closed.&quot;)" class="string">&quot;A Connection is closed.&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Begins a new transaction.
   */
  <span class="keyword">def</span> <a title="()Unit" id="45296">begin</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#45292" title="=&gt; scalikejdbc.Tx">newTx</a>.<a href="Tx.scala.html#52068" title="()Unit">begin</a><span class="delimiter">(</span><span class="delimiter">)</span>

  /**
   * Begins a new transaction if the other one does not already start.
   */
  <span class="keyword">def</span> <a title="()Unit" id="45297">beginIfNotYet</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span title="(exceptions: Class[_]*)util.control.Exception.Catch[Unit]">ignoring</span><span class="delimiter">(</span>classOf<span title="Class[IllegalStateException](classOf[java.lang.IllegalStateException])" class="delimiter">[</span>IllegalStateException<span class="delimiter">]</span><span class="delimiter">)</span> <span title="(body: =&gt; Unit)Unit">apply</span> <span class="delimiter">{</span>
      <a href="#45296" title="()Unit">begin</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Commits the current transaction.
   */
  <span class="keyword">def</span> <a title="()Unit" id="45298">commit</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#45294" title="=&gt; scalikejdbc.Tx">tx</a>.<a href="Tx.scala.html#52069" title="()Unit">commit</a><span class="delimiter">(</span><span class="delimiter">)</span>

  /**
   * Rolls back the current transaction.
   */
  <span class="keyword">def</span> <a title="()Unit" id="45299">rollback</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#45294" title="=&gt; scalikejdbc.Tx">tx</a>.<a href="Tx.scala.html#52071" title="()Unit">rollback</a><span class="delimiter">(</span><span class="delimiter">)</span>

  /**
   * Rolls back the current transaction if the transaction is still active.
   */
  <span class="keyword">def</span> <a title="()Unit" id="45300">rollbackIfActive</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span title="(exceptions: Class[_]*)util.control.Exception.Catch[Unit]">ignoring</span><span class="delimiter">(</span>classOf<span title="Class[IllegalStateException](classOf[java.lang.IllegalStateException])" class="delimiter">[</span>IllegalStateException<span class="delimiter">]</span><span class="delimiter">)</span> <span title="(body: =&gt; Unit)Unit">apply</span> <span class="delimiter">{</span>
      <a href="#45294" title="=&gt; scalikejdbc.Tx">tx</a>.<a href="Tx.scala.html#52072" title="()Unit">rollbackIfActive</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Returns read-only session.
   * @return session
   */
  <span class="keyword">def</span> <a title="()scalikejdbc.DBSession" id="45301">readOnlySession</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="DBSession.scala.html#7794" title="scalikejdbc.DBSession">DBSession</a> = <span class="delimiter">{</span>
    <a href="#55704" title="=&gt; java.sql.Connection">conn</a>.<span title="(x$1: Boolean)Unit">setReadOnly</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
    <a href="DBSession.scala.html#52169" title="Option[scalikejdbc.Tx]" id="52205">DBSession</a><span class="delimiter">(</span><a href="#55704" title="java.sql.Connection" id="52203">conn</a>, isReadOnly = <a title="Boolean" id="52204" class="keyword">true</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Provides read-only session block.
   * @param execution block
   * @tparam A  return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: scalikejdbc.DBSession =&gt; A)A" id="45302">readOnly</a><span class="delimiter">[</span><a title="" id="45304">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalikejdbc.DBSession =&gt; A" id="51622">execution</a>: DBSession =&gt; A<span class="delimiter">)</span>: <a href="#45304" title="A">A</a> = <span class="delimiter">{</span>
    <a href="package.scala.html#9619" title="(resource: java.sql.Connection)(f: java.sql.Connection =&gt; A)A">using</a><span class="delimiter">(</span><a href="#55704" title="=&gt; java.sql.Connection">conn</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.sql.Connection" id="52217">conn</a> =&gt;
      <a href="#51622" title="(v1: scalikejdbc.DBSession)A">execution</a><span class="delimiter">(</span><a href="#45301" title="()scalikejdbc.DBSession">readOnlySession</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Provides read-only session block.
   * @param execution block
   * @tparam A  return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: java.sql.Connection =&gt; A)A" id="45305">readOnlyWithConnection</a><span class="delimiter">[</span><a title="" id="45307">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.sql.Connection =&gt; A" id="51657">execution</a>: Connection =&gt; A<span class="delimiter">)</span>: <a href="#45307" title="A">A</a> = <span class="delimiter">{</span>
    // cannot control if jdbc drivers ignore the readOnly attribute.
    <a href="package.scala.html#9619" title="(resource: java.sql.Connection)(f: java.sql.Connection =&gt; A)A">using</a><span class="delimiter">(</span><a href="#55704" title="=&gt; java.sql.Connection">conn</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.sql.Connection" id="52232">conn</a> =&gt;
      <a href="#51657" title="(v1: java.sql.Connection)A">execution</a><span class="delimiter">(</span><a href="#45301" title="()scalikejdbc.DBSession">readOnlySession</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="DBSession.scala.html#45250" title="=&gt; java.sql.Connection">conn</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Returns auto-commit session.
   * @return session
   */
  <span class="keyword">def</span> <a title="()scalikejdbc.DBSession" id="45308">autoCommitSession</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="DBSession.scala.html#7794" title="scalikejdbc.DBSession">DBSession</a> = <span class="delimiter">{</span>
    <a href="#55704" title="=&gt; java.sql.Connection">conn</a>.<span title="(x$1: Boolean)Unit">setReadOnly</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
    <a href="#55704" title="=&gt; java.sql.Connection">conn</a>.<span title="(x$1: Boolean)Unit">setAutoCommit</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
    <a href="DBSession.scala.html#52165" title="(conn: java.sql.Connection, tx: Option[scalikejdbc.Tx], isReadOnly: Boolean)scalikejdbc.ActiveSession">DBSession</a><span class="delimiter">(</span><a href="#55704" title="=&gt; java.sql.Connection">conn</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Provides auto-commit session block.
   * @param execution block
   * @tparam A  return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: scalikejdbc.DBSession =&gt; A)A" id="45309">autoCommit</a><span class="delimiter">[</span><a title="" id="45311">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalikejdbc.DBSession =&gt; A" id="51704">execution</a>: DBSession =&gt; A<span class="delimiter">)</span>: <a href="#45311" title="A">A</a> = <span class="delimiter">{</span>
    <a href="package.scala.html#9619" title="(resource: java.sql.Connection)(f: java.sql.Connection =&gt; A)A">using</a><span class="delimiter">(</span><a href="#55704" title="=&gt; java.sql.Connection">conn</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.sql.Connection" id="52247">conn</a> =&gt;
      <a href="#51704" title="(v1: scalikejdbc.DBSession)A">execution</a><span class="delimiter">(</span><a href="#45308" title="()scalikejdbc.DBSession">autoCommitSession</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Provides auto-commit session block.
   * @param execution block
   * @tparam A  return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: java.sql.Connection =&gt; A)A" id="45312">autoCommitWithConnection</a><span class="delimiter">[</span><a title="" id="45314">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.sql.Connection =&gt; A" id="51739">execution</a>: Connection =&gt; A<span class="delimiter">)</span>: <a href="#45314" title="A">A</a> = <span class="delimiter">{</span>
    <a href="package.scala.html#9619" title="(resource: java.sql.Connection)(f: java.sql.Connection =&gt; A)A">using</a><span class="delimiter">(</span><a href="#55704" title="=&gt; java.sql.Connection">conn</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.sql.Connection" id="52262">conn</a> =&gt;
      <a href="#51739" title="(v1: java.sql.Connection)A">execution</a><span class="delimiter">(</span><a href="#45308" title="()scalikejdbc.DBSession">autoCommitSession</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="DBSession.scala.html#45250" title="=&gt; java.sql.Connection">conn</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Returns within-tx session.
   * @return session
   */
  <span class="keyword">def</span> <a title="(tx: scalikejdbc.Tx)scalikejdbc.DBSession" id="45315">withinTxSession</a><span class="delimiter">(</span><a title="scalikejdbc.Tx" id="46121">tx</a>: <a href="Tx.scala.html#7779" title="scalikejdbc.Tx">Tx</a> = <a href="#45293" title="=&gt; scalikejdbc.Tx">currentTx</a><span class="delimiter">)</span>: <a href="DBSession.scala.html#7794" title="scalikejdbc.DBSession">DBSession</a> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#46121" title="scalikejdbc.Tx">tx</a>.<a href="Tx.scala.html#52070" title="()Boolean">isActive</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><a href="ErrorMessage.scala.html#7594" title="scalikejdbc.ErrorMessage.type">ErrorMessage</a>.<a href="ErrorMessage.scala.html#38126" title="=&gt; String">TRANSACTION_IS_NOT_ACTIVE</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="DBSession.scala.html#52165" title="(conn: java.sql.Connection, tx: Option[scalikejdbc.Tx], isReadOnly: Boolean)scalikejdbc.ActiveSession">DBSession</a><span class="delimiter">(</span><a href="#55704" title="=&gt; java.sql.Connection">conn</a>, tx = <span title="(x: scalikejdbc.Tx)Some[scalikejdbc.Tx]">Some</span><span class="delimiter">(</span><a href="#46121" title="scalikejdbc.Tx">tx</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Provides within-tx session block.
   * @param execution block
   * @tparam A  return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: scalikejdbc.DBSession =&gt; A)A" id="45316">withinTx</a><span class="delimiter">[</span><a title="" id="45318">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalikejdbc.DBSession =&gt; A" id="46100">execution</a>: DBSession =&gt; A<span class="delimiter">)</span>: <a href="#45318" title="A">A</a> = <span class="delimiter">{</span>
    <a href="#46100" title="(v1: scalikejdbc.DBSession)A">execution</a><span class="delimiter">(</span><a href="#45315" title="(tx: scalikejdbc.Tx)scalikejdbc.DBSession">withinTxSession</a><span class="delimiter">(</span><a href="#45293" title="=&gt; scalikejdbc.Tx">currentTx</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Provides within-tx session block.
   * @param execution block
   * @tparam A  return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: java.sql.Connection =&gt; A)A" id="45319">withinTxWithConnection</a><span class="delimiter">[</span><a title="" id="45321">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.sql.Connection =&gt; A" id="51840">execution</a>: Connection =&gt; A<span class="delimiter">)</span>: <a href="#45321" title="A">A</a> = <span class="delimiter">{</span>
    <a href="#51840" title="(v1: java.sql.Connection)A">execution</a><span class="delimiter">(</span><a href="#45315" title="(tx: scalikejdbc.Tx)scalikejdbc.DBSession">withinTxSession</a><span class="delimiter">(</span><a href="#45293" title="=&gt; scalikejdbc.Tx">currentTx</a><span class="delimiter">)</span>.<a href="DBSession.scala.html#45250" title="=&gt; java.sql.Connection">conn</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tx: scalikejdbc.Tx)Unit" id="45322">begin</a><span class="delimiter">(</span><a title="scalikejdbc.Tx" id="52155">tx</a>: <a href="Tx.scala.html#7779" title="scalikejdbc.Tx">Tx</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#52155" title="scalikejdbc.Tx">tx</a>.<a href="Tx.scala.html#52068" title="()Unit">begin</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#52155" title="scalikejdbc.Tx">tx</a>.<a href="Tx.scala.html#52070" title="()Boolean">isActive</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><a href="ErrorMessage.scala.html#7594" title="scalikejdbc.ErrorMessage.type">ErrorMessage</a>.<a href="ErrorMessage.scala.html#38126" title="=&gt; String">TRANSACTION_IS_NOT_ACTIVE</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="util.control.Exception.Catch[Nothing]" id="45323">rollbackIfThrowable</a> = <span title="(exceptions: Class[_]*)util.control.Exception.By[Throwable =&gt; Nothing,util.control.Exception.Catch[Nothing]]">handling</span><span class="delimiter">(</span>classOf<span title="Class[Throwable](classOf[java.lang.Throwable])" class="delimiter">[</span>Throwable<span class="delimiter">]</span><span class="delimiter">)</span> <span title="(x: Throwable =&gt; Nothing)util.control.Exception.Catch[Nothing]">by</span> <span class="delimiter">{</span> <a title="Throwable" id="52061">t</a> =&gt;
    <a href="#45294" title="=&gt; scalikejdbc.Tx">tx</a>.<a href="Tx.scala.html#52071" title="()Unit">rollback</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span title="Nothing" class="keyword">throw</span> <a href="#52061" title="Throwable">t</a>
  <span class="delimiter">}</span>

  /**
   * Provides local-tx session block.
   * @param execution block
   * @tparam A  return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: scalikejdbc.DBSession =&gt; A)A" id="45325">localTx</a><span class="delimiter">[</span><a title="" id="45327">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalikejdbc.DBSession =&gt; A" id="51786">execution</a>: DBSession =&gt; A<span class="delimiter">)</span>: <a href="#45327" title="A">A</a> = <span class="delimiter">{</span>
    <a href="package.scala.html#9619" title="(resource: java.sql.Connection)(f: java.sql.Connection =&gt; A)A">using</a><span class="delimiter">(</span><a href="#55704" title="=&gt; java.sql.Connection">conn</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.sql.Connection" id="52290">conn</a> =&gt;
      <span class="keyword">val</span> <a title="scalikejdbc.Tx" id="52291">tx</a> = <a href="#45292" title="=&gt; scalikejdbc.Tx">newTx</a>
      <a href="#45322" title="(tx: scalikejdbc.Tx)Unit">begin</a><span class="delimiter">(</span><a href="#52291" title="scalikejdbc.Tx">tx</a><span class="delimiter">)</span>
      <a href="#45323" title="[U](body: =&gt; U)U">rollbackIfThrowable</a><span title="(body: =&gt; A)A" class="delimiter">[</span><a href="#45327" title="A">A</a><span class="delimiter">]</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scalikejdbc.ActiveSession" id="52303">session</a> = <a href="DBSession.scala.html#52165" title="(conn: java.sql.Connection, tx: Option[scalikejdbc.Tx], isReadOnly: Boolean)scalikejdbc.ActiveSession">DBSession</a><span class="delimiter">(</span><a href="#52290" title="java.sql.Connection">conn</a>, tx = <span title="(x: scalikejdbc.Tx)Option[scalikejdbc.Tx]">Option</span><span class="delimiter">(</span><a href="#52291" title="scalikejdbc.Tx">tx</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="A" id="52304">result</a>: <a href="#45327" title="A">A</a> = <a href="#51786" title="(v1: scalikejdbc.DBSession)A">execution</a><span class="delimiter">(</span><a href="#52303" title="scalikejdbc.ActiveSession">session</a><span class="delimiter">)</span>
        <a href="#52291" title="scalikejdbc.Tx">tx</a>.<a href="Tx.scala.html#52069" title="()Unit">commit</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#52304" title="A">result</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Provides local-tx session block.
   * @param execution block
   * @tparam A  return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: java.sql.Connection =&gt; A)A" id="45328">localTxWithConnection</a><span class="delimiter">[</span><a title="" id="45330">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.sql.Connection =&gt; A" id="51821">execution</a>: Connection =&gt; A<span class="delimiter">)</span>: <a href="#45330" title="A">A</a> = <span class="delimiter">{</span>
    <a href="package.scala.html#9619" title="(resource: java.sql.Connection)(f: java.sql.Connection =&gt; A)A">using</a><span class="delimiter">(</span><a href="#55704" title="=&gt; java.sql.Connection">conn</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.sql.Connection" id="52322">conn</a> =&gt;
      <span class="keyword">val</span> <a title="scalikejdbc.Tx" id="52323">tx</a> = <a href="#45292" title="=&gt; scalikejdbc.Tx">newTx</a>
      <a href="#45322" title="(tx: scalikejdbc.Tx)Unit">begin</a><span class="delimiter">(</span><a href="#52323" title="scalikejdbc.Tx">tx</a><span class="delimiter">)</span>
      <a href="#45323" title="[U](body: =&gt; U)U">rollbackIfThrowable</a><span title="(body: =&gt; A)A" class="delimiter">[</span><a href="#45330" title="A">A</a><span class="delimiter">]</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scalikejdbc.ActiveSession" id="52333">session</a> = <a href="DBSession.scala.html#52165" title="(conn: java.sql.Connection, tx: Option[scalikejdbc.Tx], isReadOnly: Boolean)scalikejdbc.ActiveSession">DBSession</a><span class="delimiter">(</span><a href="#52322" title="java.sql.Connection">conn</a>, tx = <span title="(x: scalikejdbc.Tx)Option[scalikejdbc.Tx]">Option</span><span class="delimiter">(</span><a href="#52323" title="scalikejdbc.Tx">tx</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="A" id="52334">result</a>: <a href="#45330" title="A">A</a> = <a href="#51821" title="(v1: java.sql.Connection)A">execution</a><span class="delimiter">(</span><a href="#52333" title="scalikejdbc.ActiveSession">session</a>.<a href="DBSession.scala.html#52181" title="=&gt; java.sql.Connection">conn</a><span class="delimiter">)</span>
        <a href="#52323" title="scalikejdbc.Tx">tx</a>.<a href="Tx.scala.html#52069" title="()Unit">commit</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#52334" title="A">result</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Splits the name to schema and table name
   *
   * @param name name
   * @return schema and table
   */
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(name: String)(String, String)" id="45331">toSchemaAndTable</a><span class="delimiter">(</span><a title="String" id="52341">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="(String, String)" class="delimiter">(</span>String, String<span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="String" id="52343">schema</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#52341" title="String">name</a>.<span title="(x$1: String)Array[String]">split</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="String(&quot;\\.&quot;)" class="string">&quot;\\.&quot;</span><span class="delimiter">)</span>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#52341" title="String">name</a>.<span title="(x$1: String)Array[String]">split</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="String(&quot;\\.&quot;)" class="string">&quot;\\.&quot;</span><span class="delimiter">)</span>.<span title="=&gt; String">head</span> <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">val</span> <a title="String" id="52344">table</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#52341" title="String">name</a>.<span title="(x$1: String)Array[String]">split</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="String(&quot;\\.&quot;)" class="string">&quot;\\.&quot;</span><span class="delimiter">)</span>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#52341" title="String">name</a>.<span title="(x$1: String)Array[String]">split</span><span title="(i: Int)String" class="delimiter">(</span><span title="String(&quot;\\.&quot;)" class="string">&quot;\\.&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#52341" title="String">name</a>
    <span title="(_1: String, _2: String)(String, String)" class="delimiter">(</span><a href="#52343" title="String">schema</a>, <a href="#52344" title="String">table</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Returns all the table information that match the pattern
   *
   * @param tableNamePattern table name pattern (with schema optionally)
   * @return table information
   */
  <span class="keyword">def</span> <a title="(tableNamePattern: String, tableTypes: Array[String])List[String]" id="45332">getTableNames</a><span class="delimiter">(</span><a title="String" id="51863">tableNamePattern</a>: <span title="String">String</span> = <span title="String(&quot;%&quot;)" class="string">&quot;%&quot;</span>, <a title="Array[String]" id="51864">tableTypes</a>: <span title="Array[String]">Array</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="(xs: String*)(implicit evidence$2: scala.reflect.ClassTag[String])Array[String]">Array</span><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[String]" class="delimiter">(</span><span title="String(&quot;TABLE&quot;)" class="string">&quot;TABLE&quot;</span>, <span title="String(&quot;VIEW&quot;)" class="string">&quot;VIEW&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#45305" title="(execution: java.sql.Connection =&gt; List[String])List[String]">readOnlyWithConnection</a> <span class="delimiter">{</span> <a title="java.sql.Connection" id="52789">conn</a> =&gt;
    <span class="keyword">val</span> <a title="java.sql.DatabaseMetaData" id="52790">meta</a> = <a href="#52789" title="java.sql.Connection">conn</a>.<span title="()java.sql.DatabaseMetaData">getMetaData</span>
    <span class="keyword">val</span> <a href="#98349" title="(x: (String, String))(String, String)" class="delimiter">(</a><a href="#98347" title="String" id="52792">schema</a>, <a href="#98347" title="String" id="52793">_tableNamePattern</a><span class="delimiter">)</span> = <a href="#45331" title="(name: String)(String, String)">toSchemaAndTable</a><a href="#98347" title="(String, String) @unchecked" class="delimiter">(</a><a href="#51863" title="String">tableNamePattern</a>.<span title="(x$1: String, x$2: String)String">replaceAll</span><span class="delimiter">(</span><span title="String(&quot;\\*&quot;)" class="string">&quot;\\*&quot;</span>, <span title="String(&quot;%&quot;)" class="string">&quot;%&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="scalikejdbc.ResultSetTraversable" class="keyword">new</span> <a href="#45287" title="scalikejdbc.ResultSetTraversable">RSTraversable</a><span class="delimiter">(</span><a href="#52790" title="java.sql.DatabaseMetaData">meta</a>.<span title="(x$1: String, x$2: String, x$3: String, x$4: Array[String])java.sql.ResultSet">getTables</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <a href="#52792" title="String">schema</a>, <a href="#52793" title="String">_tableNamePattern</a>, <a href="#51864" title="Array[String]">tableTypes</a><span class="delimiter">)</span><span class="delimiter">)</span>
      .<span title="(f: scalikejdbc.WrappedResultSet =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Traversable[scalikejdbc.WrappedResultSet],String,Traversable[String]])Traversable[String]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Traversable.Coll,String,Traversable[String]]" class="delimiter">{</span> <a title="scalikejdbc.WrappedResultSet" id="53648">rs</a> =&gt;
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#52792" title="String">schema</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#52792" title="String">schema</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#53648" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#53781" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;TABLE_NAME&quot;)" class="string">&quot;TABLE_NAME&quot;</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#53648" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#53781" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;TABLE_NAME&quot;)" class="string">&quot;TABLE_NAME&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<span title="=&gt; List[String]">toList</span>
  <span class="delimiter">}</span>

  /**
   * Returns all the column names on the matched table name
   */
  <span class="keyword">def</span> <a title="(tableName: String, tableTypes: Array[String])List[String]" id="45333">getColumnNames</a><span class="delimiter">(</span><a title="String" id="51896">tableName</a>: <span title="String">String</span>, <a title="Array[String]" id="51899">tableTypes</a>: <span title="Array[String]">Array</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="(xs: String*)(implicit evidence$2: scala.reflect.ClassTag[String])Array[String]">Array</span><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[String]" class="delimiter">(</span><span title="String(&quot;TABLE&quot;)" class="string">&quot;TABLE&quot;</span>, <span title="String(&quot;VIEW&quot;)" class="string">&quot;VIEW&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(meta: java.sql.DatabaseMetaData, schema: String, table: String, tableTypes: Array[String])Option[String]" id="54312">_getTableName</a><span class="delimiter">(</span><a title="java.sql.DatabaseMetaData" id="54316">meta</a>: <span title="java.sql.DatabaseMetaData">DatabaseMetaData</span>, <a title="String" id="54317">schema</a>: <span title="String">String</span>, <a title="String" id="54318">table</a>: <span title="String">String</span>, <a title="Array[String]" id="54319">tableTypes</a>: <span title="Array[String]">Array</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span title="scalikejdbc.ResultSetTraversable" class="keyword">new</span> <a href="#45287" title="scalikejdbc.ResultSetTraversable">RSTraversable</a><span class="delimiter">(</span><a href="#54316" title="java.sql.DatabaseMetaData">meta</a>.<span title="(x$1: String, x$2: String, x$3: String, x$4: Array[String])java.sql.ResultSet">getTables</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <a href="#54317" title="String">schema</a>, <a href="#54318" title="String">table</a>, <a href="#54319" title="Array[String]">tableTypes</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: scalikejdbc.WrappedResultSet =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Traversable[scalikejdbc.WrappedResultSet],String,Traversable[String]])Traversable[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Traversable.Coll,String,Traversable[String]]" class="delimiter">(</span><a title="scalikejdbc.WrappedResultSet" id="54339">rs</a> =&gt; <a href="#54339" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#53781" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;TABLE_NAME&quot;)" class="string">&quot;TABLE_NAME&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Option[String]">headOption</span>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a href="#98355" title="(x: (String, String))(String, String)" class="delimiter">(</a><a href="#98353" title="String" id="54314">schema</a>, <a href="#98353" title="String" id="54315">table</a><span class="delimiter">)</span> = <a href="#45331" title="(name: String)(String, String)">toSchemaAndTable</a><a href="#98353" title="(String, String) @unchecked" class="delimiter">(</a><a href="#51896" title="String">tableName</a><span class="delimiter">)</span>
    <a href="#45305" title="(execution: java.sql.Connection =&gt; Option[List[String]])Option[List[String]]">readOnlyWithConnection</a> <span class="delimiter">{</span> <a title="java.sql.Connection" id="54380">conn</a> =&gt;
      <span class="keyword">val</span> <a title="java.sql.DatabaseMetaData" id="54381">meta</a> = <a href="#54380" title="java.sql.Connection">conn</a>.<span title="()java.sql.DatabaseMetaData">getMetaData</span>
      <a href="#54312" title="(meta: java.sql.DatabaseMetaData, schema: String, table: String, tableTypes: Array[String])Option[String]">_getTableName</a><span class="delimiter">(</span><a href="#54381" title="java.sql.DatabaseMetaData">meta</a>, <a href="#54314" title="String">schema</a>, <a href="#54315" title="String">table</a>, <a href="#51899" title="Array[String]">tableTypes</a><span class="delimiter">)</span>
        .<span title="(alternative: =&gt; Option[String])Option[String]">orElse</span><span class="delimiter">(</span><a href="#54312" title="(meta: java.sql.DatabaseMetaData, schema: String, table: String, tableTypes: Array[String])Option[String]">_getTableName</a><span class="delimiter">(</span><a href="#54381" title="java.sql.DatabaseMetaData">meta</a>, <a href="#54314" title="String">schema</a>, <a href="#54315" title="String">table</a>.<span title="()String">toUpperCase</span>, <a href="#51899" title="Array[String]">tableTypes</a><span class="delimiter">)</span><span class="delimiter">)</span>
        .<span title="(alternative: =&gt; Option[String])Option[String]">orElse</span><span class="delimiter">(</span><a href="#54312" title="(meta: java.sql.DatabaseMetaData, schema: String, table: String, tableTypes: Array[String])Option[String]">_getTableName</a><span class="delimiter">(</span><a href="#54381" title="java.sql.DatabaseMetaData">meta</a>, <a href="#54314" title="String">schema</a>, <a href="#54315" title="String">table</a>.<span title="()String">toLowerCase</span>, <a href="#51899" title="Array[String]">tableTypes</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: String =&gt; List[String])Option[List[String]]">map</span> <span class="delimiter">{</span> <a title="String" id="54397">tableName</a> =&gt;
          <span title="scalikejdbc.ResultSetTraversable" class="keyword">new</span> <a href="#45287" title="scalikejdbc.ResultSetTraversable">RSTraversable</a><span class="delimiter">(</span><a href="#54381" title="java.sql.DatabaseMetaData">meta</a>.<span title="(x$1: String, x$2: String, x$3: String, x$4: String)java.sql.ResultSet">getColumns</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <a href="#54314" title="String">schema</a>, <a href="#54397" title="String">tableName</a>, <span title="String(&quot;%&quot;)" class="string">&quot;%&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: scalikejdbc.WrappedResultSet =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Traversable[scalikejdbc.WrappedResultSet],String,Traversable[String]])Traversable[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Traversable.Coll,String,Traversable[String]]" class="delimiter">(</span><a href="#54417" title="scalikejdbc.WrappedResultSet">_</a>.<a href="WrappedResultSet.scala.html#53781" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;COLUMN_NAME&quot;)" class="string">&quot;COLUMN_NAME&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; List[String]">toList</span>.<span title="=&gt; List[String]">distinct</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>.<span title="(default: =&gt; List[String])List[String]">getOrElse</span><span class="delimiter">(</span><span title="scala.collection.immutable.Nil.type">Nil</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Returns table information if exists
   *
   * @param table table name (with schema optionally)
   * @return table information
   */
  <span class="keyword">def</span> <a title="(table: String)Option[scalikejdbc.metadata.Table]" id="45334">getTable</a><span class="delimiter">(</span><a title="String" id="51882">table</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[scalikejdbc.metadata.Table]">Option</span><span class="delimiter">[</span>Table<span class="delimiter">]</span> = <a href="#45305" title="(execution: java.sql.Connection =&gt; Option[scalikejdbc.metadata.Table])Option[scalikejdbc.metadata.Table]">readOnlyWithConnection</a> <span class="delimiter">{</span> <a title="java.sql.Connection" id="54451">conn</a> =&gt;
    <span class="keyword">val</span> <a title="java.sql.DatabaseMetaData" id="54452">meta</a> = <a href="#54451" title="java.sql.Connection">conn</a>.<span title="()java.sql.DatabaseMetaData">getMetaData</span>
    <a href="#45335" title="(meta: java.sql.DatabaseMetaData, table: String, tableTypes: Array[String])Option[scalikejdbc.metadata.Table]">_getTable</a><span class="delimiter">(</span><a href="#54452" title="java.sql.DatabaseMetaData">meta</a>, <a href="#51882" title="String">table</a><span class="delimiter">)</span>.<span title="(alternative: =&gt; Option[scalikejdbc.metadata.Table])Option[scalikejdbc.metadata.Table]">orElse</span><span class="delimiter">(</span><a href="#45335" title="(meta: java.sql.DatabaseMetaData, table: String, tableTypes: Array[String])Option[scalikejdbc.metadata.Table]">_getTable</a><span class="delimiter">(</span><a href="#54452" title="java.sql.DatabaseMetaData">meta</a>, <a href="#51882" title="String">table</a>.<span title="()String">toUpperCase</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(alternative: =&gt; Option[scalikejdbc.metadata.Table])Option[scalikejdbc.metadata.Table]">orElse</span><span class="delimiter">(</span><a href="#45335" title="(meta: java.sql.DatabaseMetaData, table: String, tableTypes: Array[String])Option[scalikejdbc.metadata.Table]">_getTable</a><span class="delimiter">(</span><a href="#54452" title="java.sql.DatabaseMetaData">meta</a>, <a href="#51882" title="String">table</a>.<span title="()String">toLowerCase</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Returns table information if exists
   *
   * @param meta database meta data
   * @param table table name (with schema optionally)
   * @param tableTypes target table types
   * @return table information
   */
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(meta: java.sql.DatabaseMetaData, table: String, tableTypes: Array[String])Option[scalikejdbc.metadata.Table]" id="45335">_getTable</a><span class="delimiter">(</span><a title="java.sql.DatabaseMetaData" id="54453">meta</a>: <span title="java.sql.DatabaseMetaData">DatabaseMetaData</span>, <a title="String" id="54454">table</a>: <span title="String">String</span>, <a title="Array[String]" id="54457">tableTypes</a>: <span title="Array[String]">Array</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="(xs: String*)(implicit evidence$2: scala.reflect.ClassTag[String])Array[String]">Array</span><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[String]" class="delimiter">(</span><span title="String(&quot;TABLE&quot;)" class="string">&quot;TABLE&quot;</span>, <span title="String(&quot;VIEW&quot;)" class="string">&quot;VIEW&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>: <span title="Option[scalikejdbc.metadata.Table]">Option</span><span class="delimiter">[</span>Table<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a href="#98361" title="(x: (String, String))(String, String)" class="delimiter">(</a><a href="#98359" title="String" id="54515">schema</a>, <a href="#98359" title="String" id="54516">_table</a><span class="delimiter">)</span> = <a href="#45331" title="(name: String)(String, String)">toSchemaAndTable</a><a href="#98359" title="(String, String) @unchecked" class="delimiter">(</a><a href="#54454" title="String">table</a><span class="delimiter">)</span>
    <span title="scalikejdbc.ResultSetTraversable" class="keyword">new</span> <a href="#45287" title="scalikejdbc.ResultSetTraversable">RSTraversable</a><span class="delimiter">(</span><a href="#54453" title="java.sql.DatabaseMetaData">meta</a>.<span title="(x$1: String, x$2: String, x$3: String, x$4: Array[String])java.sql.ResultSet">getTables</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <a href="#54515" title="String">schema</a>, <a href="#54516" title="String">_table</a>, <a href="#54457" title="Array[String]">tableTypes</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: scalikejdbc.WrappedResultSet =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Traversable[scalikejdbc.WrappedResultSet],String,Traversable[String]])Traversable[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Traversable.Coll,String,Traversable[String]]" class="delimiter">(</span><a title="scalikejdbc.WrappedResultSet" id="54547">rs</a> =&gt; <a href="#54547" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#53781" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;TABLE_NAME&quot;)" class="string">&quot;TABLE_NAME&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Option[String]">headOption</span>.<span title="(f: String =&gt; scalikejdbc.metadata.Table)Option[scalikejdbc.metadata.Table]">map</span> <span class="delimiter">{</span> <a title="String" id="54573">tableNameFound</a> =&gt;
      <span class="keyword">val</span> <a title="Traversable[String]" id="54574">pkNames</a>: <span title="Traversable[String]">Traversable</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="scalikejdbc.ResultSetTraversable" class="keyword">new</span> <a href="#45287" title="scalikejdbc.ResultSetTraversable">RSTraversable</a><span class="delimiter">(</span><a href="#54453" title="java.sql.DatabaseMetaData">meta</a>.<span title="(x$1: String, x$2: String, x$3: String)java.sql.ResultSet">getPrimaryKeys</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <a href="#54515" title="String">schema</a>, <a href="#54516" title="String">_table</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: scalikejdbc.WrappedResultSet =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Traversable[scalikejdbc.WrappedResultSet],String,Traversable[String]])Traversable[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Traversable.Coll,String,Traversable[String]]" class="delimiter">(</span><a title="scalikejdbc.WrappedResultSet" id="54594">rs</a> =&gt; <a href="#54594" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#53781" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;COLUMN_NAME&quot;)" class="string">&quot;COLUMN_NAME&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="metadata/Table.scala.html#54629" title="(name: String, schema: String, description: String, columns: List[scalikejdbc.metadata.Column], foreignKeys: List[scalikejdbc.metadata.ForeignKey], indices: List[scalikejdbc.metadata.Index])scalikejdbc.metadata.Table">Table</a><span class="delimiter">(</span>
        name = <a href="#54516" title="String">_table</a>,
        schema = <a href="#54515" title="String">schema</a>,
        description = <span title="scalikejdbc.ResultSetTraversable" class="keyword">new</span> <a href="#45287" title="scalikejdbc.ResultSetTraversable">RSTraversable</a><span class="delimiter">(</span><a href="#54453" title="java.sql.DatabaseMetaData">meta</a>.<span title="(x$1: String, x$2: String, x$3: String, x$4: Array[String])java.sql.ResultSet">getTables</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <a href="#54515" title="String">schema</a>, <a href="#54516" title="String">_table</a>, <a href="#54457" title="Array[String]">tableTypes</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: scalikejdbc.WrappedResultSet =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Traversable[scalikejdbc.WrappedResultSet],String,Traversable[String]])Traversable[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Traversable.Coll,String,Traversable[String]]" class="delimiter">(</span><a title="scalikejdbc.WrappedResultSet" id="54697">rs</a> =&gt; <a href="#54697" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#53781" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;REMARKS&quot;)" class="string">&quot;REMARKS&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Option[String]">headOption</span>.<span title="[A1 &gt;: String](implicit ev: &lt;:&lt;[Null,A1])A1">orNull</span><span title="(implicit ev: &lt;:&lt;[Null,String])String" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span>,
        columns = <span title="scalikejdbc.ResultSetTraversable" class="keyword">new</span> <a href="#45287" title="scalikejdbc.ResultSetTraversable">RSTraversable</a><span class="delimiter">(</span><a href="#54453" title="java.sql.DatabaseMetaData">meta</a>.<span title="(x$1: String, x$2: String, x$3: String, x$4: String)java.sql.ResultSet">getColumns</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <a href="#54515" title="String">schema</a>, <a href="#54516" title="String">_table</a>, <span title="String(&quot;%&quot;)" class="string">&quot;%&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: scalikejdbc.WrappedResultSet =&gt; scalikejdbc.metadata.Column)(implicit bf: scala.collection.generic.CanBuildFrom[Traversable[scalikejdbc.WrappedResultSet],scalikejdbc.metadata.Column,Traversable[scalikejdbc.metadata.Column]])Traversable[scalikejdbc.metadata.Column]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Traversable.Coll,scalikejdbc.metadata.Column,Traversable[scalikejdbc.metadata.Column]]" class="delimiter">{</span> <a title="scalikejdbc.WrappedResultSet" id="54743">rs</a> =&gt;
          <a href="metadata/Column.scala.html#54757" title="(name: String, typeCode: Int, typeName: String, size: Int, isRequired: Boolean, isPrimaryKey: Boolean, isAutoIncrement: Boolean, description: String, defaultValue: String)scalikejdbc.metadata.Column">Column</a><span class="delimiter">(</span>
            name = <a href="#54743" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#53781" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;COLUMN_NAME&quot;)" class="string">&quot;COLUMN_NAME&quot;</span><span class="delimiter">)</span>,
            typeCode = <a href="#54743" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#53732" title="(columnLabel: String)Int">int</a><span class="delimiter">(</span><span title="String(&quot;DATA_TYPE&quot;)" class="string">&quot;DATA_TYPE&quot;</span><span class="delimiter">)</span>,
            typeName = <a href="#54743" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#53781" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;TYPE_NAME&quot;)" class="string">&quot;TYPE_NAME&quot;</span><span class="delimiter">)</span>,
            size = <a href="#54743" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#53732" title="(columnLabel: String)Int">int</a><span class="delimiter">(</span><span title="String(&quot;COLUMN_SIZE&quot;)" class="string">&quot;COLUMN_SIZE&quot;</span><span class="delimiter">)</span>,
            isRequired = <a href="#54743" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#53781" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;IS_NULLABLE&quot;)" class="string">&quot;IS_NULLABLE&quot;</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#54743" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#53781" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;IS_NULLABLE&quot;)" class="string">&quot;IS_NULLABLE&quot;</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="String(&quot;NO&quot;)" class="string">&quot;NO&quot;</span>,
            isPrimaryKey = <a href="#54574" title="Traversable[String]">pkNames</a>.<span title="(p: String =&gt; Boolean)Option[String]">find</span><span class="delimiter">(</span><a title="String" id="54896">pk</a> =&gt; <a href="#54896" title="String">pk</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#54743" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#53781" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;COLUMN_NAME&quot;)" class="string">&quot;COLUMN_NAME&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Boolean">isDefined</span>,
            isAutoIncrement = <span class="delimiter">{</span>
              // Oracle throws java.sql.SQLException: Invalid column name
              <span class="keyword">try</span> <span class="delimiter">{</span>
                <a href="#54743" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#53781" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;IS_AUTOINCREMENT&quot;)" class="string">&quot;IS_AUTOINCREMENT&quot;</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#54743" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#53781" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;IS_AUTOINCREMENT&quot;)" class="string">&quot;IS_AUTOINCREMENT&quot;</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="String(&quot;YES&quot;)" class="string">&quot;YES&quot;</span>
              <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="Boolean(false)" id="54923">e</a>: java.sql.<span title="java.sql.SQLException">SQLException</span> =&gt; <span title="Boolean(false)" class="keyword">false</span> <span class="delimiter">}</span>
            <span class="delimiter">}</span>,
            description = <span class="delimiter">{</span>
              <span class="keyword">try</span> <span class="delimiter">{</span>
                <a href="#54743" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#53781" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;REMARKS&quot;)" class="string">&quot;REMARKS&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="Null(null)" id="54928">e</a>: java.sql.<span title="java.sql.SQLException">SQLException</span> =&gt; <span title="Null(null)" class="keyword">null</span> <span class="delimiter">}</span>
            <span class="delimiter">}</span>,
            defaultValue = <span class="delimiter">{</span>
              // for Oracle support
              <span class="keyword">try</span> <span class="delimiter">{</span>
                <a href="#54743" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#53781" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;COLUMN_DEF&quot;)" class="string">&quot;COLUMN_DEF&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="Null(null)" id="54933">e</a>: java.sql.<span title="java.sql.SQLException">SQLException</span> =&gt; <span title="Null(null)" class="keyword">null</span> <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>.<span title="=&gt; List[scalikejdbc.metadata.Column]">toList</span>.<span title="=&gt; List[scalikejdbc.metadata.Column]">distinct</span>,
        foreignKeys = <span class="delimiter">{</span>
          <span class="keyword">try</span> <span class="delimiter">{</span>
            <span title="scalikejdbc.ResultSetTraversable" class="keyword">new</span> <a href="#45287" title="scalikejdbc.ResultSetTraversable">RSTraversable</a><span class="delimiter">(</span><a href="#54453" title="java.sql.DatabaseMetaData">meta</a>.<span title="(x$1: String, x$2: String, x$3: String)java.sql.ResultSet">getImportedKeys</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <a href="#54515" title="String">schema</a>, <a href="#54516" title="String">_table</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: scalikejdbc.WrappedResultSet =&gt; scalikejdbc.metadata.ForeignKey)(implicit bf: scala.collection.generic.CanBuildFrom[Traversable[scalikejdbc.WrappedResultSet],scalikejdbc.metadata.ForeignKey,Traversable[scalikejdbc.metadata.ForeignKey]])Traversable[scalikejdbc.metadata.ForeignKey]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Traversable.Coll,scalikejdbc.metadata.ForeignKey,Traversable[scalikejdbc.metadata.ForeignKey]]" class="delimiter">{</span> <a title="scalikejdbc.WrappedResultSet" id="54992">rs</a> =&gt;
              <a href="metadata/ForeignKey.scala.html#54995" title="(name: String, foreignColumnName: String, foreignTableName: String)scalikejdbc.metadata.ForeignKey">ForeignKey</a><span class="delimiter">(</span>
                name = <a href="#54992" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#53781" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;FKCOLUMN_NAME&quot;)" class="string">&quot;FKCOLUMN_NAME&quot;</span><span class="delimiter">)</span>,
                foreignColumnName = <a href="#54992" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#53781" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;PKCOLUMN_NAME&quot;)" class="string">&quot;PKCOLUMN_NAME&quot;</span><span class="delimiter">)</span>,
                foreignTableName = <a href="#54992" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#53781" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;PKTABLE_NAME&quot;)" class="string">&quot;PKTABLE_NAME&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="delimiter">}</span>.<span title="=&gt; List[scalikejdbc.metadata.ForeignKey]">toList</span>.<span title="=&gt; List[scalikejdbc.metadata.ForeignKey]">distinct</span>
          <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="scala.collection.immutable.Nil.type" id="55071">e</a>: java.sql.<span title="java.sql.SQLException">SQLException</span> =&gt; <span title="scala.collection.immutable.Nil.type">Nil</span> <span class="delimiter">}</span>
        <span class="delimiter">}</span>,
        indices = <span class="delimiter">{</span>
          <span class="keyword">try</span> <span class="delimiter">{</span>
            <span title="scalikejdbc.ResultSetTraversable" class="keyword">new</span> <a href="#45287" title="scalikejdbc.ResultSetTraversable">RSTraversable</a><span class="delimiter">(</span><a href="#54453" title="java.sql.DatabaseMetaData">meta</a>.<span title="(x$1: String, x$2: String, x$3: String, x$4: Boolean, x$5: Boolean)java.sql.ResultSet">getIndexInfo</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <a href="#54515" title="String">schema</a>, <a href="#54516" title="String">_table</a>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
              .<span title="(z: scala.collection.immutable.Map[String,scalikejdbc.metadata.Index])(op: (scala.collection.immutable.Map[String,scalikejdbc.metadata.Index], scalikejdbc.WrappedResultSet) =&gt; scala.collection.immutable.Map[String,scalikejdbc.metadata.Index])scala.collection.immutable.Map[String,scalikejdbc.metadata.Index]">foldLeft</span><span class="delimiter">(</span><span title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</span><span title="(elems: (String, scalikejdbc.metadata.Index)*)scala.collection.immutable.Map[String,scalikejdbc.metadata.Index]" class="delimiter">[</span><span title="String">String</span>, <a href="metadata/Index.scala.html#9545" title="scalikejdbc.metadata.Index">Index</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#55107" title="(_1: scala.collection.immutable.Map[String,scalikejdbc.metadata.Index], _2: scalikejdbc.WrappedResultSet)(scala.collection.immutable.Map[String,scalikejdbc.metadata.Index], scalikejdbc.WrappedResultSet)" class="delimiter">{</a>
                <span class="keyword">case</span> <span class="delimiter">(</span><a href="#98365" title="scala.collection.immutable.Map[String,scalikejdbc.metadata.Index]" id="55117">map</a>, <a href="#98365" title="scalikejdbc.WrappedResultSet" id="55118">rs</a><span class="delimiter">)</span> =&gt;
                  <span class="keyword">val</span> <a title="String" id="55119">indexName</a> = <a href="#55118" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#53781" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;INDEX_NAME&quot;)" class="string">&quot;INDEX_NAME&quot;</span><span class="delimiter">)</span>
                  <span class="keyword">val</span> <a title="scalikejdbc.metadata.Index" id="55120">index</a> = <a href="#55117" title="scala.collection.immutable.Map[String,scalikejdbc.metadata.Index]">map</a>.<span title="(key: String)Option[scalikejdbc.metadata.Index]">get</span><span class="delimiter">(</span><a href="#55119" title="String">indexName</a><span class="delimiter">)</span>.<span title="(f: scalikejdbc.metadata.Index =&gt; scalikejdbc.metadata.Index)Option[scalikejdbc.metadata.Index]">map</span> <span class="delimiter">{</span> <a title="scalikejdbc.metadata.Index" id="55131">index</a> =&gt;
                    <a href="#55131" title="scalikejdbc.metadata.Index">index</a>.<a href="metadata/Index.scala.html#55140" title="String" id="55161">copy</a><span class="delimiter">(</span>columnNames = <a href="#55118" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#53781" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;COLUMN_NAME&quot;)" class="string">&quot;COLUMN_NAME&quot;</span><span class="delimiter">)</span> <a href="#55149" title="List[String]" id="55159">::</a> <a href="#55131" title="scalikejdbc.metadata.Index">index</a>.<a href="metadata/Index.scala.html#55087" title="=&gt; List[String]">columnNames</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>.<span title="(default: =&gt; scalikejdbc.metadata.Index)scalikejdbc.metadata.Index">getOrElse</span> <span class="delimiter">{</span>
                    <a href="metadata/Index.scala.html#55169" title="(name: String, columnNames: List[String], isUnique: Boolean)scalikejdbc.metadata.Index">Index</a><span class="delimiter">(</span>
                      name = <a href="#55119" title="String">indexName</a>,
                      columnNames = <span title="(xs: String*)List[String]">List</span><span class="delimiter">(</span><a href="#55118" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#53781" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;COLUMN_NAME&quot;)" class="string">&quot;COLUMN_NAME&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>,
                      isUnique = <span title="=&gt; Boolean">!</span><a href="#55118" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#53683" title="(columnLabel: String)Boolean">boolean</a><span class="delimiter">(</span><span title="String(&quot;NON_UNIQUE&quot;)" class="string">&quot;NON_UNIQUE&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                  <a href="#55117" title="scala.collection.immutable.Map[String,scalikejdbc.metadata.Index]">map</a>.<span title="(key: String, value: scalikejdbc.metadata.Index)scala.collection.immutable.Map[String,scalikejdbc.metadata.Index]">updated</span><span class="delimiter">(</span><a href="#55119" title="String">indexName</a>, <a href="#55120" title="scalikejdbc.metadata.Index">index</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>.<span title="(f: ((String, scalikejdbc.metadata.Index)) =&gt; scalikejdbc.metadata.Index)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[String,scalikejdbc.metadata.Index],scalikejdbc.metadata.Index,scala.collection.immutable.Iterable[scalikejdbc.metadata.Index]])scala.collection.immutable.Iterable[scalikejdbc.metadata.Index]">map</span> <a href="#55262" title="(String, scalikejdbc.metadata.Index)" class="delimiter">{</a> <span class="keyword">case</span> <span class="delimiter">(</span>k, <a href="#98371" title="scalikejdbc.metadata.Index" id="55266">v</a><span class="delimiter">)</span> =&gt; <a href="#98373" title="(x: scalikejdbc.metadata.Index)scalikejdbc.metadata.Index">v</a> <span class="delimiter">}</span>.<span title="=&gt; List[scalikejdbc.metadata.Index]">toList</span>.<span title="=&gt; List[scalikejdbc.metadata.Index]">distinct</span>
          <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="scala.collection.immutable.Nil.type" id="55664">e</a>: java.sql.<span title="java.sql.SQLException">SQLException</span> =&gt; <span title="scala.collection.immutable.Nil.type">Nil</span> <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Returns table name list
   *
   * @param tableNamePattern table name pattern
   * @param tableTypes table types
   * @return table name list
   */
  <span class="keyword">def</span> <a title="(tableNamePattern: String, tableTypes: Array[String])String" id="45336">showTables</a><span class="delimiter">(</span><a title="String" id="51944">tableNamePattern</a>: <span title="String">String</span> = <span title="String(&quot;%&quot;)" class="string">&quot;%&quot;</span>, <a title="Array[String]" id="51945">tableTypes</a>: <span title="Array[String]">Array</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="(xs: String*)(implicit evidence$2: scala.reflect.ClassTag[String])Array[String]">Array</span><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[String]" class="delimiter">(</span><span title="String(&quot;TABLE&quot;)" class="string">&quot;TABLE&quot;</span>, <span title="String(&quot;VIEW&quot;)" class="string">&quot;VIEW&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <a href="#45332" title="(tableNamePattern: String, tableTypes: Array[String])List[String]">getTableNames</a><span class="delimiter">(</span><a href="#51944" title="String">tableNamePattern</a>, <a href="#51945" title="Array[String]">tableTypes</a><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Returns describe style string value for the table
   *
   * @param table table name (with schema optionally)
   * @return described information
   */
  <span class="keyword">def</span> <a title="(table: String)String" id="45337">describe</a><span class="delimiter">(</span><a title="String" id="51958">table</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <a href="#45334" title="(table: String)Option[scalikejdbc.metadata.Table]">getTable</a><span class="delimiter">(</span><a href="#51958" title="String">table</a><span class="delimiter">)</span>.<span title="(f: scalikejdbc.metadata.Table =&gt; String)Option[String]">map</span><span class="delimiter">(</span><a title="scalikejdbc.metadata.Table" id="55692">t</a> =&gt; <a href="#55692" title="scalikejdbc.metadata.Table">t</a>.<a href="metadata/Table.scala.html#54486" title="=&gt; String">toDescribeStyleString</a><span class="delimiter">)</span>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="String(&quot;Not found.&quot;)" class="string">&quot;Not found.&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>