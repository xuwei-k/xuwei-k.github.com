<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scalikejdbc/scalikejdbc/ConnectionPoolContext.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/*
 * Copyright 2012 Kazuhiro Sera
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 */
<span class="keyword">package</span> scalikejdbc

<span class="keyword">import</span> scala.collection.mutable

/**
 * Connection pool context
 */
<span class="keyword">trait</span> <a title="trait ConnectionPoolContext extends AnyRef" id="8361">ConnectionPoolContext</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(name: Any, pool: scalikejdbc.ConnectionPool)Unit" id="33437">set</a><span class="delimiter">(</span><a title="Any" id="51283">name</a>: <span title="Any">Any</span>, <a title="scalikejdbc.ConnectionPool" id="51284">pool</a>: <a href="ConnectionPool.scala.html#8340" title="scalikejdbc.ConnectionPool">ConnectionPool</a><span class="delimiter">)</span>: <span title="Unit">Unit</span>

  <span class="keyword">def</span> <a title="(name: Any)scalikejdbc.ConnectionPool" id="33438">get</a><span class="delimiter">(</span><a title="Any" id="51286">name</a>: <span title="Any">Any</span> = <a href="ConnectionPool.scala.html#8341" title="scalikejdbc.ConnectionPool.type">ConnectionPool</a>.<a href="ConnectionPool.scala.html#13329" title="=&gt; Symbol">DEFAULT_NAME</a><span class="delimiter">)</span>: <a href="ConnectionPool.scala.html#8340" title="scalikejdbc.ConnectionPool">ConnectionPool</a>

<span class="delimiter">}</span>

/**
 * Multiple connection pool context
 */
<span title="AnyRef" class="keyword">case class</span> <a href="#51371" title="class MultipleConnectionPoolContext extends AnyRef with scalikejdbc.ConnectionPoolContext with Product with Serializable" id="51440">MultipleConnectionPoolContext</a><a href="#51440" title="Product" class="delimiter">(</a><a title="(Any, scalikejdbc.ConnectionPool)*" id="51416">contexts</a>: <span title="(Any, scalikejdbc.ConnectionPool)*" class="delimiter">(</span>Any, ConnectionPool<span class="delimiter">)</span>*<span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#8361" title="scalikejdbc.ConnectionPoolContext">ConnectionPoolContext</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="()scalikejdbc.MultipleConnectionPoolContext" id="51291" class="keyword">this</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span>
    <a href="#51440" title="MultipleConnectionPoolContext.this.type" class="keyword">this</a><span class="delimiter">(</span><span title="scala.collection.immutable.Nil.type">Nil</span>: _*<span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[Any,scalikejdbc.ConnectionPool]" id="51292">pools</a> = <span title="()scala.collection.mutable.HashMap[Any,scalikejdbc.ConnectionPool]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[Any,scalikejdbc.ConnectionPool]">HashMap</span><span class="delimiter">[</span>Any, ConnectionPool<span class="delimiter">]</span>

  <a href="#51416" title="=&gt; (Any, scalikejdbc.ConnectionPool)*">contexts</a> <span title="(f: ((Any, scalikejdbc.ConnectionPool)) =&gt; Option[scalikejdbc.ConnectionPool])Unit">foreach</span> <a href="#51334" title="(Any, scalikejdbc.ConnectionPool)" class="delimiter">{</a>
    <span class="keyword">case</span> <span class="delimiter">(</span><a href="#98281" title="Any" id="51337">name</a>, <a href="#98281" title="scalikejdbc.ConnectionPool" id="51338">pool</a><span class="delimiter">)</span> =&gt;
      <a href="#51292" title="=&gt; scala.collection.mutable.HashMap[Any,scalikejdbc.ConnectionPool]">pools</a>.<span title="(key: Any, value: scalikejdbc.ConnectionPool)Option[scalikejdbc.ConnectionPool]">put</span><a href="#98283" title="(x: Option[scalikejdbc.ConnectionPool])Option[scalikejdbc.ConnectionPool]" class="delimiter">(</a><a href="#51337" title="Any">name</a>, <a href="#51338" title="scalikejdbc.ConnectionPool">pool</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(name: Any, pool: scalikejdbc.ConnectionPool)Unit" id="51294">set</a><span class="delimiter">(</span><a title="Any" id="51344">name</a>: <span title="Any">Any</span>, <a title="scalikejdbc.ConnectionPool" id="51345">pool</a>: <a href="ConnectionPool.scala.html#8340" title="scalikejdbc.ConnectionPool">ConnectionPool</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#51292" title="=&gt; scala.collection.mutable.HashMap[Any,scalikejdbc.ConnectionPool]">pools</a>.<span title="(key: Any, value: scalikejdbc.ConnectionPool)Unit">update</span><span class="delimiter">(</span><a href="#51344" title="Any">name</a>, <a href="#51345" title="scalikejdbc.ConnectionPool">pool</a><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(name: Any)scalikejdbc.ConnectionPool" id="51295">get</a><span class="delimiter">(</span><a title="Any" id="51353">name</a>: <span title="Any">Any</span> = <a href="ConnectionPool.scala.html#8341" title="scalikejdbc.ConnectionPool.type">ConnectionPool</a>.<a href="ConnectionPool.scala.html#13329" title="=&gt; Symbol">DEFAULT_NAME</a><span class="delimiter">)</span>: <a href="ConnectionPool.scala.html#8340" title="scalikejdbc.ConnectionPool">ConnectionPool</a> = <a href="#51292" title="=&gt; scala.collection.mutable.HashMap[Any,scalikejdbc.ConnectionPool]">pools</a>.<span title="(key: Any)Option[scalikejdbc.ConnectionPool]">get</span><span class="delimiter">(</span><a href="#51353" title="Any">name</a><span class="delimiter">)</span>.<span title="(default: =&gt; scalikejdbc.ConnectionPool)scalikejdbc.ConnectionPool">getOrElse</span> <span class="delimiter">{</span>
    <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><span title="String(&quot;No connection context for &quot;)" class="string">&quot;No connection context for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#51353" title="Any">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

/**
 * No Connection Pool Context
 */
<span class="keyword">object</span> <a title="scalikejdbc.NoConnectionPoolContext.type" id="7858">NoConnectionPoolContext</a> <a href="#7859" title="scalikejdbc.NoConnectionPoolContext.type" class="keyword">extends</a> <a href="#8361" title="scalikejdbc.ConnectionPoolContext">ConnectionPoolContext</a> <span class="delimiter">{</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(name: Any, pool: scalikejdbc.ConnectionPool)Unit" id="51389">set</a><span class="delimiter">(</span><a title="Any" id="51392">name</a>: <span title="Any">Any</span>, <a title="scalikejdbc.ConnectionPool" id="51393">pool</a>: <a href="ConnectionPool.scala.html#8340" title="scalikejdbc.ConnectionPool">ConnectionPool</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><a href="ErrorMessage.scala.html#7594" title="scalikejdbc.ErrorMessage.type">ErrorMessage</a>.<a href="ErrorMessage.scala.html#38138" title="=&gt; String">NO_CONNECTION_POOL_CONTEXT</a><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(name: Any)scalikejdbc.ConnectionPool" id="51390">get</a><span class="delimiter">(</span><a title="Any" id="51401">name</a>: <span title="Any">Any</span> = <a href="ConnectionPool.scala.html#8341" title="scalikejdbc.ConnectionPool.type">ConnectionPool</a>.<a href="ConnectionPool.scala.html#13329" title="=&gt; Symbol">DEFAULT_NAME</a><span class="delimiter">)</span>: <a href="ConnectionPool.scala.html#8340" title="scalikejdbc.ConnectionPool">ConnectionPool</a> = <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><a href="ErrorMessage.scala.html#7594" title="scalikejdbc.ErrorMessage.type">ErrorMessage</a>.<a href="ErrorMessage.scala.html#38138" title="=&gt; String">NO_CONNECTION_POOL_CONTEXT</a><span class="delimiter">)</span>

<span class="delimiter">}</span>


        </pre>
    </body>
</html>