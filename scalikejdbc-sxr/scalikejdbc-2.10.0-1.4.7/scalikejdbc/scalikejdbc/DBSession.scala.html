<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scalikejdbc/scalikejdbc/DBSession.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/*
 * Copyright 2011 Kazuhiro Sera
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 */
<span class="keyword">package</span> scalikejdbc

<span class="keyword">import</span> java.sql._
<span class="keyword">import</span> util.control.<span title="scala.util.control.Exception.type">Exception</span>._

/**
 * DB Session
 *
 * This class provides readOnly/autoCommit/localTx/withinTx blocks and session objects.
 *
 * {{{
 * import scalikejdbc._
 *
 * val userIdList = DB autoCommit { session: DBSession =&gt;
 *   session.list(&quot;select * from user&quot;) { rs =&gt; rs.int(&quot;id&quot;) }
 * }
 * }}}
 */
<span class="keyword">trait</span> <a title="trait DBSession extends AnyRef with scalikejdbc.LogSupport" id="7794">DBSession</a> <span title="Unit" class="keyword">extends</span> <a href="LogSupport.scala.html#7878" title="scalikejdbc.LogSupport">LogSupport</a> <span class="delimiter">{</span>

  /**
   * Connection
   */
  <span class="keyword">val</span> <a title="=&gt; java.sql.Connection" id="45250">conn</a>: <span title="java.sql.Connection">Connection</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.sql.Connection" id="45251">connection</a>: <span title="java.sql.Connection">Connection</span> = <a href="#45250" title="=&gt; java.sql.Connection">conn</a>

  <span class="keyword">val</span> <a title="=&gt; Boolean" id="45253">isReadOnly</a>: <span title="Boolean">Boolean</span>

  /**
   * Create [[java.sql.Statement]] executor.
   *
   * @param conn connection
   * @param template SQL template
   * @param params parameters
   * @param returnGeneratedKeys is generated keys required
   * @return statement executor
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(conn: java.sql.Connection, template: String, params: Seq[Any], returnGeneratedKeys: Boolean)scalikejdbc.StatementExecutor" id="45254">createStatementExecutor</a><span class="delimiter">(</span><a title="java.sql.Connection" id="55815">conn</a>: <span title="java.sql.Connection">Connection</span>, <a title="String" id="55816">template</a>: <span title="String">String</span>, <a title="Seq[Any]" id="55817">params</a>: <span title="Seq[Any]">Seq</span><span class="delimiter">[</span>Any<span class="delimiter">]</span>,
    <a title="Boolean" id="55820">returnGeneratedKeys</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <a href="StatementExecutor.scala.html#7569" title="scalikejdbc.StatementExecutor">StatementExecutor</a> = <span class="delimiter">{</span>
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.sql.PreparedStatement" id="55861">statement</a> = <span title="java.sql.PreparedStatement" class="keyword">if</span> <span class="delimiter">(</span><a href="#55820" title="Boolean">returnGeneratedKeys</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#55815" title="java.sql.Connection">conn</a>.<span title="(x$1: String, x$2: Int)java.sql.PreparedStatement">prepareStatement</span><span class="delimiter">(</span><a href="#55816" title="String">template</a>, Statement.<span title="Int(1)">RETURN_GENERATED_KEYS</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#55815" title="java.sql.Connection">conn</a>.<span title="(x$1: String)java.sql.PreparedStatement">prepareStatement</span><span class="delimiter">(</span><a href="#55816" title="String">template</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="StatementExecutor.scala.html#56119" title="(underlying: java.sql.PreparedStatement, template: String, singleParams: Seq[Any], isBatch: Boolean)scalikejdbc.StatementExecutor">StatementExecutor</a><span class="delimiter">(</span>
        underlying = <a href="#55861" title="java.sql.PreparedStatement">statement</a>,
        template = <a href="#55816" title="String">template</a>,
        singleParams = <a href="#55817" title="Seq[Any]">params</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Nothing" id="56127">e</a>: <span title="Exception">Exception</span> =&gt;
        <span class="keyword">val</span> <a title="String" id="56128">formattedTemplate</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="GlobalSettings.scala.html#7960" title="scalikejdbc.GlobalSettings.type">GlobalSettings</a>.<a href="GlobalSettings.scala.html#31947" title="=&gt; scalikejdbc.SQLFormatterSettings">sqlFormatter</a>.<a href="SQLFormatterSettings.scala.html#56133" title="=&gt; Option[scalikejdbc.SQLFormatter]">formatter</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="scalikejdbc.SQLFormatter" id="56136">formatter</a> = <a href="GlobalSettings.scala.html#7960" title="scalikejdbc.GlobalSettings.type">GlobalSettings</a>.<a href="GlobalSettings.scala.html#31947" title="=&gt; scalikejdbc.SQLFormatterSettings">sqlFormatter</a>.<a href="SQLFormatterSettings.scala.html#56133" title="=&gt; Option[scalikejdbc.SQLFormatter]">formatter</a>.<span title="=&gt; scalikejdbc.SQLFormatter">get</span>
          <a href="#56136" title="scalikejdbc.SQLFormatter">formatter</a>.<a href="SQLFormatter.scala.html#56137" title="(sql: String)String">format</a><span class="delimiter">(</span><a href="#55816" title="String">template</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#55816" title="String">template</a>
        <span class="delimiter">}</span>
        <a href="LogSupport.scala.html#13321" title="=&gt; scalikejdbc.Log">log</a>.<a href="Log.scala.html#49832" title="(msg: =&gt; String)Unit">error</a><span class="delimiter">(</span><span title="String(&quot;Failed to parse the following SQL template:\n\n  &quot;)" class="string">&quot;Failed to parse the following SQL template:\n\n  &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#56128" title="String">formattedTemplate</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">throw</span> <a href="#56127" title="Exception">e</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Create [[java.sql.Statement]] executor.
   * @param conn connection
   * @param template SQL template
   * @return statement executor
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(conn: java.sql.Connection, template: String)scalikejdbc.StatementExecutor" id="45255">createBatchStatementExecutor</a><span class="delimiter">(</span><a title="java.sql.Connection" id="56144">conn</a>: <span title="java.sql.Connection">Connection</span>, <a title="String" id="56145">template</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="StatementExecutor.scala.html#7569" title="scalikejdbc.StatementExecutor">StatementExecutor</a> = <span class="delimiter">{</span>
    <a href="StatementExecutor.scala.html#56125" title="Seq[Any]" id="56152">StatementExecutor</a><span class="delimiter">(</span>
      underlying = <a href="#56144" title="java.sql.Connection">conn</a>.<span title="(x$1: String)java.sql.PreparedStatement">prepareStatement</span><a title="java.sql.PreparedStatement" id="56149" class="delimiter">(</a><a href="#56145" title="String">template</a><span class="delimiter">)</span>,
      template = <a href="#56145" title="String" id="56150">template</a>,
      isBatch = <a title="Boolean" id="56151" class="keyword">true</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Ensures the current session is not in read-only mode.
   * @param template
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(template: String)Unit" id="45256">ensureNotReadOnlySession</a><span class="delimiter">(</span><a title="String" id="56153">template</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#45253" title="=&gt; Boolean">isReadOnly</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)java.sql.SQLException" class="keyword">new</span> java.sql.<span title="java.sql.SQLException">SQLException</span><span class="delimiter">(</span>
        <a href="ErrorMessage.scala.html#7594" title="scalikejdbc.ErrorMessage.type">ErrorMessage</a>.<a href="ErrorMessage.scala.html#38124" title="=&gt; String">CANNOT_EXECUTE_IN_READ_ONLY_SESSION</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; (template:&quot;)" class="string">&quot; (template:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#56153" title="String">template</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Returns single result optionally.
   * If the result is not single, [[scalikejdbc.TooManyRowsException]] will be thrown.
   *
   * @param template SQL template
   * @param params parameters
   * @param extract extract function
   * @tparam A return type
   * @return result optionally
   */
  <span class="keyword">def</span> <a title="[A](template: String, params: Any*)(extract: scalikejdbc.WrappedResultSet =&gt; A)Option[A]" id="45257">single</a><span class="delimiter">[</span><a title="" id="45259">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="56159">template</a>: <span title="String">String</span>, <a title="Any*" id="56160">params</a>: <span title="Any*">Any</span>*<span class="delimiter">)</span><span class="delimiter">(</span><a title="scalikejdbc.WrappedResultSet =&gt; A" id="56161">extract</a>: WrappedResultSet =&gt; A<span class="delimiter">)</span>: <span title="Option[A]">Option</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="package.scala.html#9619" title="(resource: scalikejdbc.StatementExecutor)(f: scalikejdbc.StatementExecutor =&gt; Option[A])Option[A]">using</a><span class="delimiter">(</span><a href="#45254" title="(conn: java.sql.Connection, template: String, params: Seq[Any], returnGeneratedKeys: Boolean)scalikejdbc.StatementExecutor">createStatementExecutor</a><span class="delimiter">(</span><a href="#45250" title="=&gt; java.sql.Connection">conn</a>, <a href="#56159" title="String">template</a>, <a href="#56160" title="Any*">params</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a title="scalikejdbc.StatementExecutor" id="56178">executor</a> =&gt;
        <span class="keyword">val</span> <a title="scalikejdbc.ResultSetTraversable" id="56179">resultSet</a> = <span title="scalikejdbc.ResultSetTraversable" class="keyword">new</span> <a href="ResultSetTraversable.scala.html#8316" title="scalikejdbc.ResultSetTraversable">ResultSetTraversable</a><span class="delimiter">(</span><a href="#56178" title="scalikejdbc.StatementExecutor">executor</a>.<a href="StatementExecutor.scala.html#55852" title="()java.sql.ResultSet">executeQuery</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[A]" id="56180">rows</a> = <span class="delimiter">(</span><a href="#56179" title="scalikejdbc.ResultSetTraversable">resultSet</a> <span title="(f: scalikejdbc.WrappedResultSet =&gt; A)(implicit bf: scala.collection.generic.CanBuildFrom[Traversable[scalikejdbc.WrappedResultSet],A,Traversable[A]])Traversable[A]">map</span> <span class="delimiter">(</span><a title="scalikejdbc.WrappedResultSet" id="56202">rs</a> =&gt; <a href="#56161" title="(v1: scalikejdbc.WrappedResultSet)A">extract</a><span class="delimiter">(</span><a href="#56202" title="scalikejdbc.WrappedResultSet">rs</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; List[A]">toList</span>
        <a href="#56180" title="List[A]">rows</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="#98393" title="Option[A]">Nil</a> =&gt; <a href="#98401" title="(x: Option[A])Option[A]">None</a>
          <span class="keyword">case</span> <a href="#98396" title="A" id="56288">one</a> <a href="#98393" title="Option[A]">::</a> <a href="#98396" title="=&gt; List[?A1]">Nil</a> =&gt; <span title="(x: A)Option[A]">Option</span><a href="#98401" title="(x: Option[A])Option[A]" class="delimiter">(</a><a href="#56288" title="A">one</a><span class="delimiter">)</span>
          <span class="keyword">case</span> _ =&gt; <a href="#98401" title="(x: Option[A])Option[A]" class="keyword">throw</a> <span title="scalikejdbc.TooManyRowsException" class="keyword">new</span> <a href="TooManyRowsException.scala.html#7263" title="scalikejdbc.TooManyRowsException">TooManyRowsException</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <a href="#56180" title="List[A]">rows</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Returns the first row optionally.
   *
   * @param template SQL template
   * @param params parameters
   * @param extract extract function
   * @tparam A return type
   * @return result optionally
   */
  <span class="keyword">def</span> <a title="[A](template: String, params: Any*)(extract: scalikejdbc.WrappedResultSet =&gt; A)Option[A]" id="45260">first</a><span class="delimiter">[</span><a title="" id="45262">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="56304">template</a>: <span title="String">String</span>, <a title="Any*" id="56305">params</a>: <span title="Any*">Any</span>*<span class="delimiter">)</span><span class="delimiter">(</span><a title="scalikejdbc.WrappedResultSet =&gt; A" id="56306">extract</a>: WrappedResultSet =&gt; A<span class="delimiter">)</span>: <span title="Option[A]">Option</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#45263" title="(template: String, params: Any*)(extract: scalikejdbc.WrappedResultSet =&gt; A)List[A]">list</a><span class="delimiter">(</span><a href="#56304" title="String">template</a>, <a href="#56305" title="Any*">params</a>: _*<span class="delimiter">)</span><span class="delimiter">(</span><a href="#56306" title="scalikejdbc.WrappedResultSet =&gt; A">extract</a><span class="delimiter">)</span>.<span title="=&gt; Option[A]">headOption</span>
  <span class="delimiter">}</span>

  /**
   * Returns query result as [[scala.collection.immutable.List]] object.
   *
   * @param template SQL template
   * @param params parameters
   * @param extract extract function
   * @tparam A return type
   * @return result as list
   */
  <span class="keyword">def</span> <a title="[A](template: String, params: Any*)(extract: scalikejdbc.WrappedResultSet =&gt; A)List[A]" id="45263">list</a><span class="delimiter">[</span><a title="" id="45265">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="56309">template</a>: <span title="String">String</span>, <a title="Any*" id="56310">params</a>: <span title="Any*">Any</span>*<span class="delimiter">)</span><span class="delimiter">(</span><a title="scalikejdbc.WrappedResultSet =&gt; A" id="56311">extract</a>: WrappedResultSet =&gt; A<span class="delimiter">)</span>: <span title="List[A]">List</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#45270" title="(template: String, params: Any*)(extract: scalikejdbc.WrappedResultSet =&gt; A)Traversable[A]">traversable</a><span class="delimiter">(</span><a href="#56309" title="String">template</a>, <a href="#56310" title="Any*">params</a>: _*<span class="delimiter">)</span><span class="delimiter">(</span><a href="#56311" title="scalikejdbc.WrappedResultSet =&gt; A">extract</a><span class="delimiter">)</span>.<span title="=&gt; List[A]">toList</span>
  <span class="delimiter">}</span>

  /**
   * Applies side-effect to each row iteratively.
   *
   * @param template SQL template
   * @param params parameters
   * @param f function
   * @return result as list
   */
  <span class="keyword">def</span> <a title="(template: String, params: Any*)(f: scalikejdbc.WrappedResultSet =&gt; Unit)Unit" id="45266">foreach</a><span class="delimiter">(</span><a title="String" id="56347">template</a>: <span title="String">String</span>, <a title="Any*" id="56348">params</a>: <span title="Any*">Any</span>*<span class="delimiter">)</span><span class="delimiter">(</span><a title="scalikejdbc.WrappedResultSet =&gt; Unit" id="56349">f</a>: WrappedResultSet =&gt; Unit<span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="package.scala.html#9619" title="(resource: scalikejdbc.StatementExecutor)(f: scalikejdbc.StatementExecutor =&gt; Unit)Unit">using</a><span class="delimiter">(</span><a href="#45254" title="(conn: java.sql.Connection, template: String, params: Seq[Any], returnGeneratedKeys: Boolean)scalikejdbc.StatementExecutor">createStatementExecutor</a><span class="delimiter">(</span><a href="#45250" title="=&gt; java.sql.Connection">conn</a>, <a href="#56347" title="String">template</a>, <a href="#56348" title="Any*">params</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a title="scalikejdbc.StatementExecutor" id="56361">executor</a> =&gt;
        <span title="scalikejdbc.ResultSetTraversable" class="keyword">new</span> <a href="ResultSetTraversable.scala.html#8316" title="scalikejdbc.ResultSetTraversable">ResultSetTraversable</a><span class="delimiter">(</span><a href="#56361" title="scalikejdbc.StatementExecutor">executor</a>.<a href="StatementExecutor.scala.html#55852" title="()java.sql.ResultSet">executeQuery</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="ResultSetTraversable.scala.html#52078" title="(f: scalikejdbc.WrappedResultSet =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a title="scalikejdbc.WrappedResultSet" id="56402">rs</a> =&gt; <a href="#56349" title="(v1: scalikejdbc.WrappedResultSet)Unit">f</a><span class="delimiter">(</span><a href="#56402" title="scalikejdbc.WrappedResultSet">rs</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * folding into one value.
   *
   * @param template SQL template
   * @param params parameters
   * @param z initial value
   * @param op function
   * @return folded value
   */
  <span class="keyword">def</span> <a title="[A](template: String, params: Any*)(z: A)(op: (A, scalikejdbc.WrappedResultSet) =&gt; A)A" id="45267">foldLeft</a><span class="delimiter">[</span><a title="" id="45269">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="56407">template</a>: <span title="String">String</span>, <a title="Any*" id="56408">params</a>: <span title="Any*">Any</span>*<span class="delimiter">)</span><span class="delimiter">(</span><a title="A" id="56409">z</a>: <a href="#45269" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="(A, scalikejdbc.WrappedResultSet) =&gt; A" id="56410">op</a>: <span class="delimiter">(</span>A, WrappedResultSet<span class="delimiter">)</span> =&gt; A<span class="delimiter">)</span>: <a href="#45269" title="A">A</a> = <span class="delimiter">{</span>
    <a href="package.scala.html#9619" title="(resource: scalikejdbc.StatementExecutor)(f: scalikejdbc.StatementExecutor =&gt; A)A">using</a><span class="delimiter">(</span><a href="#45254" title="(conn: java.sql.Connection, template: String, params: Seq[Any], returnGeneratedKeys: Boolean)scalikejdbc.StatementExecutor">createStatementExecutor</a><span class="delimiter">(</span><a href="#45250" title="=&gt; java.sql.Connection">conn</a>, <a href="#56407" title="String">template</a>, <a href="#56408" title="Any*">params</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a title="scalikejdbc.StatementExecutor" id="56434">executor</a> =&gt;
        <span title="scalikejdbc.ResultSetTraversable" class="keyword">new</span> <a href="ResultSetTraversable.scala.html#8316" title="scalikejdbc.ResultSetTraversable">ResultSetTraversable</a><span class="delimiter">(</span><a href="#56434" title="scalikejdbc.StatementExecutor">executor</a>.<a href="StatementExecutor.scala.html#55852" title="()java.sql.ResultSet">executeQuery</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(z: A)(op: (A, scalikejdbc.WrappedResultSet) =&gt; A)A">foldLeft</span><span class="delimiter">(</span><a href="#56409" title="A">z</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#56410" title="(A, scalikejdbc.WrappedResultSet) =&gt; A">op</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Returns query result as [[scala.collection.Traversable]] object.
   *
   * @param template SQL template
   * @param params parameters
   * @param extract extract function
   * @tparam A return type
   * @return result as traversable
   */
  <span class="keyword">def</span> <a title="[A](template: String, params: Any*)(extract: scalikejdbc.WrappedResultSet =&gt; A)Traversable[A]" id="45270">traversable</a><span class="delimiter">[</span><a title="" id="45272">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="56331">template</a>: <span title="String">String</span>, <a title="Any*" id="56332">params</a>: <span title="Any*">Any</span>*<span class="delimiter">)</span><span class="delimiter">(</span><a title="scalikejdbc.WrappedResultSet =&gt; A" id="56333">extract</a>: WrappedResultSet =&gt; A<span class="delimiter">)</span>: <span title="Traversable[A]">Traversable</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="package.scala.html#9619" title="(resource: scalikejdbc.StatementExecutor)(f: scalikejdbc.StatementExecutor =&gt; Traversable[A])Traversable[A]">using</a><span class="delimiter">(</span><a href="#45254" title="(conn: java.sql.Connection, template: String, params: Seq[Any], returnGeneratedKeys: Boolean)scalikejdbc.StatementExecutor">createStatementExecutor</a><span class="delimiter">(</span><a href="#45250" title="=&gt; java.sql.Connection">conn</a>, <a href="#56331" title="String">template</a>, <a href="#56332" title="Any*">params</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a title="scalikejdbc.StatementExecutor" id="56462">executor</a> =&gt;
        <span title="scalikejdbc.ResultSetTraversable" class="keyword">new</span> <a href="ResultSetTraversable.scala.html#8316" title="scalikejdbc.ResultSetTraversable">ResultSetTraversable</a><span class="delimiter">(</span><a href="#56462" title="scalikejdbc.StatementExecutor">executor</a>.<a href="StatementExecutor.scala.html#55852" title="()java.sql.ResultSet">executeQuery</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(f: scalikejdbc.WrappedResultSet =&gt; A)(implicit bf: scala.collection.generic.CanBuildFrom[Traversable[scalikejdbc.WrappedResultSet],A,Traversable[A]])Traversable[A]">map</span> <span class="delimiter">(</span><a title="scalikejdbc.WrappedResultSet" id="56484">rs</a> =&gt; <a href="#56333" title="(v1: scalikejdbc.WrappedResultSet)A">extract</a><span class="delimiter">(</span><a href="#56484" title="scalikejdbc.WrappedResultSet">rs</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Executes [[java.sql.PreparedStatement#execute()]].
   *
   * @param template SQL template
   * @param params  parameters
   * @return flag
   */
  <span class="keyword">def</span> <a title="(template: String, params: Any*)Boolean" id="45273">execute</a><span class="delimiter">(</span><a title="String" id="56508">template</a>: <span title="String">String</span>, <a title="Any*" id="56509">params</a>: <span title="Any*">Any</span>*<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <a href="#45256" title="(template: String)Unit">ensureNotReadOnlySession</a><span class="delimiter">(</span><a href="#56508" title="String">template</a><span class="delimiter">)</span>
    <a href="package.scala.html#9619" title="(resource: scalikejdbc.StatementExecutor)(f: scalikejdbc.StatementExecutor =&gt; Boolean)Boolean">using</a><span class="delimiter">(</span><a href="#45254" title="(conn: java.sql.Connection, template: String, params: Seq[Any], returnGeneratedKeys: Boolean)scalikejdbc.StatementExecutor">createStatementExecutor</a><span class="delimiter">(</span><a href="#45250" title="=&gt; java.sql.Connection">conn</a>, <a href="#56508" title="String">template</a>, <a href="#56509" title="Any*">params</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a title="scalikejdbc.StatementExecutor" id="56521">executor</a> =&gt;
        <a href="#56521" title="scalikejdbc.StatementExecutor">executor</a>.<a href="StatementExecutor.scala.html#55846" title="()Boolean">execute</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Executes [[java.sql.PreparedStatement#execute()]].
   *
   * @param before before filter
   * @param after after filter
   * @param template SQL template
   * @param params parameters
   * @return flag
   */
  <span class="keyword">def</span> <a title="(before: java.sql.PreparedStatement =&gt; Unit, after: java.sql.PreparedStatement =&gt; Unit, template: String, params: Any*)Boolean" id="45274">executeWithFilters</a><span class="delimiter">(</span><a title="java.sql.PreparedStatement =&gt; Unit" id="56538">before</a>: <span class="delimiter">(</span>PreparedStatement<span class="delimiter">)</span> =&gt; Unit,
    <a title="java.sql.PreparedStatement =&gt; Unit" id="56539">after</a>: <span class="delimiter">(</span>PreparedStatement<span class="delimiter">)</span> =&gt; Unit,
    <a title="String" id="56540">template</a>: <span title="String">String</span>,
    <a title="Any*" id="56541">params</a>: <span title="Any*">Any</span>*<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <a href="#45256" title="(template: String)Unit">ensureNotReadOnlySession</a><span class="delimiter">(</span><a href="#56540" title="String">template</a><span class="delimiter">)</span>
    <a href="package.scala.html#9619" title="(resource: scalikejdbc.StatementExecutor)(f: scalikejdbc.StatementExecutor =&gt; Boolean)Boolean">using</a><span class="delimiter">(</span><a href="#45254" title="(conn: java.sql.Connection, template: String, params: Seq[Any], returnGeneratedKeys: Boolean)scalikejdbc.StatementExecutor">createStatementExecutor</a><span class="delimiter">(</span><a href="#45250" title="=&gt; java.sql.Connection">conn</a>, <a href="#56540" title="String">template</a>, <a href="#56541" title="Any*">params</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a title="scalikejdbc.StatementExecutor" id="56553">executor</a> =&gt;
        <a href="#56538" title="(v1: java.sql.PreparedStatement)Unit">before</a><span class="delimiter">(</span><a href="#56553" title="scalikejdbc.StatementExecutor">executor</a>.<a href="StatementExecutor.scala.html#55825" title="=&gt; java.sql.PreparedStatement">underlying</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Boolean" id="56554">result</a> = <a href="#56553" title="scalikejdbc.StatementExecutor">executor</a>.<a href="StatementExecutor.scala.html#55846" title="()Boolean">execute</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#56539" title="(v1: java.sql.PreparedStatement)Unit">after</a><span class="delimiter">(</span><a href="#56553" title="scalikejdbc.StatementExecutor">executor</a>.<a href="StatementExecutor.scala.html#55825" title="=&gt; java.sql.PreparedStatement">underlying</a><span class="delimiter">)</span>
        <a href="#56554" title="Boolean">result</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Executes [[java.sql.PreparedStatement#executeUpdate()]].
   *
   * @param template SQL template
   * @param params  parameters
   * @return result count
   */
  <span class="keyword">def</span> <a title="(template: String, params: Any*)Int" id="45275">executeUpdate</a><span class="delimiter">(</span><a title="String" id="56561">template</a>: <span title="String">String</span>, <a title="Any*" id="56562">params</a>: <span title="Any*">Any</span>*<span class="delimiter">)</span>: <span title="Int">Int</span> = <a href="#45276" title="(template: String, params: Any*)Int">update</a><span class="delimiter">(</span><a href="#56561" title="String">template</a>, <a href="#56562" title="Any*">params</a>: _*<span class="delimiter">)</span>

  /**
   * Executes [[java.sql.PreparedStatement#executeUpdate()]].
   *
   * @param template SQL template
   * @param params parameters
   * @return result count
   */
  <span class="keyword">def</span> <a title="(template: String, params: Any*)Int" id="45276">update</a><span class="delimiter">(</span><a title="String" id="56564">template</a>: <span title="String">String</span>, <a title="Any*" id="56565">params</a>: <span title="Any*">Any</span>*<span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
    <a href="#45256" title="(template: String)Unit">ensureNotReadOnlySession</a><span class="delimiter">(</span><a href="#56564" title="String">template</a><span class="delimiter">)</span>
    <a href="package.scala.html#9619" title="(resource: scalikejdbc.StatementExecutor)(f: scalikejdbc.StatementExecutor =&gt; Int)Int">using</a><span class="delimiter">(</span><a href="#45254" title="(conn: java.sql.Connection, template: String, params: Seq[Any], returnGeneratedKeys: Boolean)scalikejdbc.StatementExecutor">createStatementExecutor</a><span class="delimiter">(</span><a href="#45250" title="=&gt; java.sql.Connection">conn</a>, <a href="#56564" title="String">template</a>, <a href="#56565" title="Any*">params</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a title="scalikejdbc.StatementExecutor" id="56577">executor</a> =&gt;
        <a href="#56577" title="scalikejdbc.StatementExecutor">executor</a>.<a href="StatementExecutor.scala.html#55854" title="()Int">executeUpdate</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Executes [[java.sql.PreparedStatement#executeUpdate()]].
   *
   * @param before before filter
   * @param after after filter
   * @param template SQL template
   * @param params parameters
   * @return  result count
   */
  <span class="keyword">def</span> <a title="(before: java.sql.PreparedStatement =&gt; Unit, after: java.sql.PreparedStatement =&gt; Unit, template: String, params: Any*)Int" id="45277">updateWithFilters</a><span class="delimiter">(</span><a title="java.sql.PreparedStatement =&gt; Unit" id="56594">before</a>: <span class="delimiter">(</span>PreparedStatement<span class="delimiter">)</span> =&gt; Unit,
    <a title="java.sql.PreparedStatement =&gt; Unit" id="56595">after</a>: <span class="delimiter">(</span>PreparedStatement<span class="delimiter">)</span> =&gt; Unit,
    <a title="String" id="56596">template</a>: <span title="String">String</span>,
    <a title="Any*" id="56597">params</a>: <span title="Any*">Any</span>*<span class="delimiter">)</span>: <span title="Int">Int</span> = <a href="#45278" title="(returnGeneratedKeys: Boolean, before: java.sql.PreparedStatement =&gt; Unit, after: java.sql.PreparedStatement =&gt; Unit, template: String, params: Any*)Int">updateWithFilters</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <a href="#56594" title="java.sql.PreparedStatement =&gt; Unit">before</a>, <a href="#56595" title="java.sql.PreparedStatement =&gt; Unit">after</a>, <a href="#56596" title="String">template</a>, <a href="#56597" title="Any*">params</a>: _*<span class="delimiter">)</span>

  /**
   * Executes [[java.sql.PreparedStatement#executeUpdate()]].
   *
   * @param returnGeneratedKeys is generated keys required
   * @param before before filter
   * @param after after filter
   * @param template SQL template
   * @param params parameters
   * @return  result count
   */
  <span class="keyword">def</span> <a title="(returnGeneratedKeys: Boolean, before: java.sql.PreparedStatement =&gt; Unit, after: java.sql.PreparedStatement =&gt; Unit, template: String, params: Any*)Int" id="45278">updateWithFilters</a><span class="delimiter">(</span><a title="Boolean" id="56603">returnGeneratedKeys</a>: <span title="Boolean">Boolean</span>,
    <a title="java.sql.PreparedStatement =&gt; Unit" id="56604">before</a>: <span class="delimiter">(</span>PreparedStatement<span class="delimiter">)</span> =&gt; Unit,
    <a title="java.sql.PreparedStatement =&gt; Unit" id="56605">after</a>: <span class="delimiter">(</span>PreparedStatement<span class="delimiter">)</span> =&gt; Unit,
    <a title="String" id="56606">template</a>: <span title="String">String</span>,
    <a title="Any*" id="56607">params</a>: <span title="Any*">Any</span>*<span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
    <a href="#45256" title="(template: String)Unit">ensureNotReadOnlySession</a><span class="delimiter">(</span><a href="#56606" title="String">template</a><span class="delimiter">)</span>
    <a href="package.scala.html#9619" title="(resource: scalikejdbc.StatementExecutor)(f: scalikejdbc.StatementExecutor =&gt; Int)Int">using</a><span class="delimiter">(</span><a href="#45254" title="(conn: java.sql.Connection, template: String, params: Seq[Any], returnGeneratedKeys: Boolean)scalikejdbc.StatementExecutor">createStatementExecutor</a><span class="delimiter">(</span>
      conn = <a href="#45250" title="=&gt; java.sql.Connection">conn</a>,
      template = <a href="#56606" title="String">template</a>,
      params = <a href="#56607" title="Any*">params</a>,
      returnGeneratedKeys = <a href="#56603" title="Boolean">returnGeneratedKeys</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a title="scalikejdbc.StatementExecutor" id="56621">executor</a> =&gt;
        <a href="#56604" title="(v1: java.sql.PreparedStatement)Unit">before</a><span class="delimiter">(</span><a href="#56621" title="scalikejdbc.StatementExecutor">executor</a>.<a href="StatementExecutor.scala.html#55825" title="=&gt; java.sql.PreparedStatement">underlying</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Int" id="56622">count</a> = <a href="#56621" title="scalikejdbc.StatementExecutor">executor</a>.<a href="StatementExecutor.scala.html#55854" title="()Int">executeUpdate</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#56605" title="(v1: java.sql.PreparedStatement)Unit">after</a><span class="delimiter">(</span><a href="#56621" title="scalikejdbc.StatementExecutor">executor</a>.<a href="StatementExecutor.scala.html#55825" title="=&gt; java.sql.PreparedStatement">underlying</a><span class="delimiter">)</span>
        <a href="#56622" title="Int">count</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Executes [[java.sql.PreparedStatement#executeUpdate()]] and returns the generated key.
   *
   * @param template SQL template
   * @param params parameters
   * @return generated key as a long value
   */
  <span class="keyword">def</span> <a title="(template: String, params: Any*)Long" id="45279">updateAndReturnGeneratedKey</a><span class="delimiter">(</span><a title="String" id="56629">template</a>: <span title="String">String</span>, <a title="Any*" id="56630">params</a>: <span title="Any*">Any</span>*<span class="delimiter">)</span>: <span title="Long">Long</span> = <a href="#45280" title="(template: String, params: Any*)(key: Any)Long">updateAndReturnSpecifiedGeneratedKey</a><span class="delimiter">(</span><a href="#56629" title="String">template</a>, <a href="#56630" title="Any*">params</a>: _*<span class="delimiter">)</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

  /**
   * Executes [[java.sql.PreparedStatement#executeUpdate()]] and returns the generated key.
   *
   * @param template SQL template
   * @param params parameters
   * @param key name
   * @return generated key as a long value
   */
  <span class="keyword">def</span> <a title="(template: String, params: Any*)(key: Any)Long" id="45280">updateAndReturnSpecifiedGeneratedKey</a><span class="delimiter">(</span><a title="String" id="56632">template</a>: <span title="String">String</span>, <a title="Any*" id="56633">params</a>: <span title="Any*">Any</span>*<span class="delimiter">)</span><span class="delimiter">(</span><a title="Any" id="56634">key</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Long">Long</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Boolean" id="56636">generatedKeyFound</a> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">var</span> <a title="Long" id="56637">generatedKey</a>: <span title="Long">Long</span> = -<span title="Long(-1L)" class="int">1</span>
    <span class="keyword">val</span> <a title="java.sql.PreparedStatement =&gt; Unit" id="56638">before</a> = <span class="delimiter">(</span>stmt: <span title="java.sql.PreparedStatement">PreparedStatement</span><span class="delimiter">)</span> =&gt; <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="java.sql.PreparedStatement =&gt; Unit" id="56639">after</a> = <span class="delimiter">(</span>stmt: <span title="java.sql.PreparedStatement">PreparedStatement</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.sql.ResultSet" id="56644">rs</a> = <a href="#56643" title="java.sql.PreparedStatement">stmt</a>.<span title="()java.sql.ResultSet">getGeneratedKeys</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#56644" title="java.sql.ResultSet">rs</a>.<span title="()Boolean">next</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#56645" title="()Unit" class="delimiter">{</a>
        <a href="#56636" title="Boolean">generatedKeyFound</a> = <span title="Boolean(true)" class="keyword">true</span>
        <a href="#56637" title="Long">generatedKey</a> = <a href="#56634" title="Any">key</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="#98413" title="Long">name</a>: String =&gt; <a href="#56644" title="java.sql.ResultSet">rs</a>.<span title="(x$1: String)Long">getLong</span><a href="#98417" title="(x: Long)Long" class="delimiter">(</a><a href="#98414" title="String">name</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a href="#98413" title="Long">index</a>: Int =&gt; <a href="#98417" title="(x: Long)Long" class="keyword">try</a> <span class="delimiter">{</span>
            <a href="#56644" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)Long">getLong</span><span class="delimiter">(</span><a href="#98415" title="Int">index</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Long" id="56656">e</a>: <span title="Exception">Exception</span> =&gt;
              <a href="LogSupport.scala.html#13321" title="=&gt; scalikejdbc.Log">log</a>.<a href="Log.scala.html#49830" title="(msg: =&gt; String)Unit">warn</a><span class="delimiter">(</span><span title="String(&quot;Failed to get generated key value via index &quot;)" class="string">&quot;Failed to get generated key value via index &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#98415" title="Int">index</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;. Going to retrieve it via index 1.&quot;)" class="string">&quot;. Going to retrieve it via index 1.&quot;</span><span class="delimiter">)</span>
              <a href="#56644" title="java.sql.ResultSet">rs</a>.<span title="(x$1: Int)Long">getLong</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">case</span> _ =&gt; <a href="#98417" title="(x: Long)Long" class="keyword">throw</a> <span title="(x$1: String)IllegalArgumentException" class="keyword">new</span> <span title="IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span><a href="ErrorMessage.scala.html#7594" title="scalikejdbc.ErrorMessage.type">ErrorMessage</a>.<a href="ErrorMessage.scala.html#38132" title="=&gt; String">FAILED_TO_RETRIEVE_GENERATED_KEY</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;(key:&quot;)" class="string">&quot;(key:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#56634" title="Any">key</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#45278" title="(returnGeneratedKeys: Boolean, before: java.sql.PreparedStatement =&gt; Unit, after: java.sql.PreparedStatement =&gt; Unit, template: String, params: Any*)Int">updateWithFilters</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <a href="#56638" title="java.sql.PreparedStatement =&gt; Unit">before</a>, <a href="#56639" title="java.sql.PreparedStatement =&gt; Unit">after</a>, <a href="#56632" title="String">template</a>, <a href="#56633" title="Any*">params</a>: _*<span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#56636" title="Boolean">generatedKeyFound</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><a href="ErrorMessage.scala.html#7594" title="scalikejdbc.ErrorMessage.type">ErrorMessage</a>.<a href="ErrorMessage.scala.html#38132" title="=&gt; String">FAILED_TO_RETRIEVE_GENERATED_KEY</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; (template:&quot;)" class="string">&quot; (template:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#56632" title="String">template</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#56637" title="Long">generatedKey</a>
  <span class="delimiter">}</span>

  /**
   * Executes [[java.sql.PreparedStatement#executeBatch()]]
   * @param template SQL template
   * @param paramsList list of parameters
   * @return count list
   */
  <span class="keyword">def</span> <a title="(template: String, paramsList: Seq[Any]*)Seq[Int]" id="45281">batch</a><span class="delimiter">(</span><a title="String" id="56680">template</a>: <span title="String">String</span>, <a title="Seq[Any]*" id="56681">paramsList</a>: <span title="Seq[Any]*">Seq</span><span class="delimiter">[</span>Any<span class="delimiter">]</span>*<span class="delimiter">)</span>: <span title="Seq[Int]">Seq</span><span class="delimiter">[</span>Int<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#45256" title="(template: String)Unit">ensureNotReadOnlySession</a><span class="delimiter">(</span><a href="#56680" title="String">template</a><span class="delimiter">)</span>
    <a href="package.scala.html#9619" title="(resource: scalikejdbc.StatementExecutor)(f: scalikejdbc.StatementExecutor =&gt; Seq[Int])Seq[Int]">using</a><span class="delimiter">(</span><a href="#45255" title="(conn: java.sql.Connection, template: String)scalikejdbc.StatementExecutor">createBatchStatementExecutor</a><span class="delimiter">(</span>conn = <a href="#45250" title="=&gt; java.sql.Connection">conn</a>, template = <a href="#56680" title="String">template</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a title="scalikejdbc.StatementExecutor" id="56693">executor</a> =&gt;
        <a href="#56681" title="Seq[Any]*">paramsList</a>.<span title="(f: Seq[Any] =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span>
          <a title="Seq[Any]" id="56710">params</a> =&gt;
            <a href="#56693" title="scalikejdbc.StatementExecutor">executor</a>.<a href="StatementExecutor.scala.html#55838" title="(params: Seq[Any])Unit">bindParams</a><span class="delimiter">(</span><a href="#56710" title="Seq[Any]">params</a><span class="delimiter">)</span>
            <a href="#56693" title="scalikejdbc.StatementExecutor">executor</a>.<a href="StatementExecutor.scala.html#55845" title="()Unit">addBatch</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#56693" title="scalikejdbc.StatementExecutor">executor</a>.<a href="StatementExecutor.scala.html#55851" title="()Array[Int]">executeBatch</a><span title="implicit scala.Predef.intArrayOps : (xs: Array[Int])scala.collection.mutable.ArrayOps[Int]" class="delimiter">(</span><span class="delimiter">)</span>.<span title="=&gt; Seq[Int]">toSeq</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Close the connection.
   */
  <span class="keyword">def</span> <a title="()Unit" id="45282">close</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span title="(exceptions: Class[_]*)util.control.Exception.Catch[Unit]">ignoring</span><span title="(body: =&gt; Unit)Unit" class="delimiter">(</span>classOf<span title="Class[Throwable](classOf[java.lang.Throwable])" class="delimiter">[</span>Throwable<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#45250" title="=&gt; java.sql.Connection">conn</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="LogSupport.scala.html#13321" title="=&gt; scalikejdbc.Log">log</a>.<a href="Log.scala.html#49826" title="(msg: =&gt; String)Unit">debug</a><span class="delimiter">(</span><span title="String(&quot;A Connection is closed.&quot;)" class="string">&quot;A Connection is closed.&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="scalikejdbc.DBSession.type" id="7795">DBSession</a> <a href="#7796" title="scalikejdbc.DBSession.type" class="delimiter">{</a>

  <span class="keyword">def</span> <a title="(conn: java.sql.Connection, tx: Option[scalikejdbc.Tx], isReadOnly: Boolean)scalikejdbc.ActiveSession" id="52165">apply</a><span class="delimiter">(</span><a title="java.sql.Connection" id="52166">conn</a>: <span title="java.sql.Connection">Connection</span>, <a title="Option[scalikejdbc.Tx]" id="52169">tx</a>: <span title="Option[scalikejdbc.Tx]">Option</span><span class="delimiter">[</span>Tx<span class="delimiter">]</span> = <span title="None.type">None</span>, <a title="Boolean" id="52170">isReadOnly</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> = <a href="#57106" title="(conn: java.sql.Connection, tx: Option[scalikejdbc.Tx], isReadOnly: Boolean)scalikejdbc.ActiveSession">ActiveSession</a><span class="delimiter">(</span><a href="#52166" title="java.sql.Connection">conn</a>, <a href="#52169" title="Option[scalikejdbc.Tx]">tx</a>, <a href="#52170" title="Boolean">isReadOnly</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

/**
 * Active session implementation of [[scalikejdbc.DBSession]].
 *
 * This class provides readOnly/autoCommit/localTx/withinTx blocks and session objects.
 *
 * {{{
 * import scalikejdbc._
 *
 * val userIdList = DB autoCommit { session: DBSession =&gt;
 *   session.list(&quot;select * from user&quot;) { rs =&gt; rs.int(&quot;id&quot;) }
 * }
 * }}}
 *
 * @param conn connection
 * @param tx transaction
 * @param isReadOnly is read only
 */
<span title="AnyRef" class="keyword">case class</span> <a title="class ActiveSession extends AnyRef with scalikejdbc.DBSession with Product with Serializable" id="57106">ActiveSession</a><a href="#57106" title="Product" class="delimiter">(</a><a title="java.sql.Connection" id="52175">conn</a>: <span title="java.sql.Connection">Connection</span>, <a title="Option[scalikejdbc.Tx]" id="56938">tx</a>: <span title="Option[scalikejdbc.Tx]">Option</span><span class="delimiter">[</span>Tx<span class="delimiter">]</span> = <span title="None.type">None</span>, <a title="Boolean" id="56939">isReadOnly</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
    <span class="keyword">extends</span> <a href="#7794" title="scalikejdbc.DBSession">DBSession</a> <span class="delimiter">{</span>

  <a href="#56938" title="=&gt; Option[scalikejdbc.Tx]">tx</a> <span class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> Some<a href="#98423" title="Unit" class="delimiter">(</a><a href="#98424" title="scalikejdbc.Tx" id="56941">tx</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#56941" title="scalikejdbc.Tx">tx</a>.<a href="Tx.scala.html#52070" title="()Boolean">isActive</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; // nothing to do
    <span class="keyword">case</span> <a href="#98423" title="Unit">None</a> =&gt; <a href="#52175" title="=&gt; java.sql.Connection">conn</a>.<span title="(x$1: Boolean)Unit">setAutoCommit</span><a href="#98428" title="(x: Unit)Unit" class="delimiter">(</a><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
    <span class="keyword">case</span> _ =&gt; <a href="#98428" title="(x: Unit)Unit" class="keyword">throw</a> <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><a href="ErrorMessage.scala.html#7594" title="scalikejdbc.ErrorMessage.type">ErrorMessage</a>.<a href="ErrorMessage.scala.html#38126" title="=&gt; String">TRANSACTION_IS_NOT_ACTIVE</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

/**
 * Represents that there is no active session.
 */
<span class="keyword">case object</span> <a href="#57005" title="scalikejdbc.NoSession.type" id="57013">NoSession</a> <span title="Product" class="keyword">extends</span> <a href="#7794" title="scalikejdbc.DBSession">DBSession</a> <span class="delimiter">{</span>

  <span class="keyword">val</span> <a title="java.sql.Connection" id="56995">conn</a>: <span title="java.sql.Connection">Connection</span> = <span title="Null(null)" class="keyword">null</span>
  <span class="keyword">val</span> <a title="Option[scalikejdbc.Tx]" id="56997">tx</a>: <span title="Option[scalikejdbc.Tx]">Option</span><span class="delimiter">[</span>Tx<span class="delimiter">]</span> = <span title="None.type">None</span>
  <span class="keyword">val</span> <a title="Boolean" id="56999">isReadOnly</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>

<span class="delimiter">}</span>

/**
 * Represents that already existing session will be used or a new session will be started.
 */
<span class="keyword">case object</span> <a href="#57025" title="scalikejdbc.AutoSession.type" id="57033">AutoSession</a> <span title="Product" class="keyword">extends</span> <a href="#7794" title="scalikejdbc.DBSession">DBSession</a> <span class="delimiter">{</span>

  <span class="keyword">val</span> <a title="java.sql.Connection" id="57015">conn</a>: <span title="java.sql.Connection">Connection</span> = <span title="Null(null)" class="keyword">null</span>
  <span class="keyword">val</span> <a title="Option[scalikejdbc.Tx]" id="57017">tx</a>: <span title="Option[scalikejdbc.Tx]">Option</span><span class="delimiter">[</span>Tx<span class="delimiter">]</span> = <span title="None.type">None</span>
  <span class="keyword">val</span> <a title="Boolean" id="57019">isReadOnly</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>

<span class="delimiter">}</span>

/**
 * Represents that already existing session will be used or a new session which is retrieved from named connection pool will be started.
 */
<span class="keyword">case class</span> <a title="class NamedAutoSession extends AnyRef with scalikejdbc.DBSession with Product with Serializable" id="57133">NamedAutoSession</a><a href="#57133" title="Product" class="delimiter">(</a><a title="Any" id="57114">name</a>: <span title="Any">Any</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#7794" title="scalikejdbc.DBSession">DBSession</a> <span class="delimiter">{</span>

  <span class="keyword">val</span> <a title="java.sql.Connection" id="57038">conn</a>: <span title="java.sql.Connection">Connection</span> = <span title="Null(null)" class="keyword">null</span>
  <span class="keyword">val</span> <a title="Option[scalikejdbc.Tx]" id="57040">tx</a>: <span title="Option[scalikejdbc.Tx]">Option</span><span class="delimiter">[</span>Tx<span class="delimiter">]</span> = <span title="None.type">None</span>
  <span class="keyword">val</span> <a title="Boolean" id="57042">isReadOnly</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>

<span class="delimiter">}</span>


        </pre>
    </body>
</html>