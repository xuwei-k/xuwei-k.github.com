<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scalikejdbc/scalikejdbc/DB.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/*
 * Copyright 2011 Kazuhiro Sera
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 */
<span class="keyword">package</span> scalikejdbc

<span class="keyword">import</span> java.sql.<span class="delimiter">{</span> DatabaseMetaData, Connection <span class="delimiter">}</span>
<span class="keyword">import</span> java.lang.IllegalStateException
<span class="keyword">import</span> scala.util.control.<span title="scala.util.control.Exception.type">Exception</span>._

<span class="keyword">import</span> scalikejdbc.metadata._

/**
 * Basic Database Accessor
 *
 * You can start with DB and blocks if using [[scalikejdbc.ConnectionPool.singleton()]].
 *
 * Using DBSession:
 *
 * {{{
 *   ConnectionPool.singletion(&quot;jdbc:...&quot;,&quot;user&quot;,&quot;password&quot;)
 *   case class User(id: Int, name: String)
 *
 *   val users = DB readOnly { session =&gt;
 *     session.list(&quot;select * from user&quot;) { rs =&gt;
 *       User(rs.int(&quot;id&quot;), rs.string(&quot;name&quot;))
 *     }
 *   }
 *
 *   DB autoCommit { session =&gt;
 *     session.update(&quot;insert into user values (?,?)&quot;, 123, &quot;Alice&quot;)
 *   }
 *
 *   DB localTx { session =&gt;
 *     session.update(&quot;insert into user values (?,?)&quot;, 123, &quot;Alice&quot;)
 *   }
 *
 *   using(DB(ConnectionPool.borrow())) { db =&gt;
 *     db.begin()
 *     try {
 *       DB withTx { session =&gt;
 *         session.update(&quot;update user set name = ? where id = ?&quot;, &quot;Alice&quot;, 123)
 *       }
 *       db.commit()
 *     } catch { case e =&gt;
 *       db.rollbackIfActive()
 *       throw e
 *     }
 *   }
 * }}}
 *
 * Using SQL:
 *
 * {{{
 *   ConnectionPool.singletion(&quot;jdbc:...&quot;,&quot;user&quot;,&quot;password&quot;)
 *   case class User(id: Int, name: String)
 *
 *   val users = DB readOnly { session =&gt;
 *     SQL(&quot;select * from user&quot;).map { rs =&gt;
 *       User(rs.int(&quot;id&quot;), rs.string(&quot;name&quot;))
 *     }.list.apply()
 *   }
 *
 *   DB autoCommit { session =&gt;
 *     SQL(&quot;insert into user values (?,?)&quot;).bind(123, &quot;Alice&quot;).update.apply()
 *   }
 *
 *   DB localTx { session =&gt;
 *     SQL(&quot;insert into user values (?,?)&quot;).bind(123, &quot;Alice&quot;).update.apply()
 *   }
 *
 *   using(DB(ConnectionPool.borrow())) { db =&gt;
 *     db.begin()
 *     try {
 *       DB withTx { session =&gt;
 *         SQL(&quot;update user set name = ? where id = ?&quot;).bind(&quot;Alice&quot;, 123).update.apply()
 *       }
 *       db.commit()
 *     } catch { case e =&gt;
 *       db.rollbackIfActive()
 *       throw e
 *     }
 *   }
 * }}}
 */
<span class="keyword">object</span> <a title="scalikejdbc.DB.type" id="52296">DB</a> <a href="#7871" title="scalikejdbc.DB.type" class="delimiter">{</a>

  <span class="keyword">type</span> <a title="scalikejdbc.ConnectionPoolContext" id="33449">CPContext</a> = <a href="ConnectionPoolContext.scala.html#8370" title="scalikejdbc.ConnectionPoolContext">ConnectionPoolContext</a>
  <span class="keyword">val</span> <a title="scalikejdbc.NoConnectionPoolContext.type" id="33450">NoCPContext</a> = <a href="ConnectionPoolContext.scala.html#7858" title="scalikejdbc.NoConnectionPoolContext.type">NoConnectionPoolContext</a>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(db: scalikejdbc.DB)Unit" id="33452">ensureDBInstance</a><span class="delimiter">(</span><a title="scalikejdbc.DB" id="51920">db</a>: <a href="#56045" title="scalikejdbc.DB">DB</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#51920" title="scalikejdbc.DB">db</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><a href="ErrorMessage.scala.html#7594" title="scalikejdbc.ErrorMessage.type">ErrorMessage</a>.<a href="ErrorMessage.scala.html#38482" title="=&gt; String">IMPLICIT_DB_INSTANCE_REQUIRED</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool" id="33453">connectionPool</a><span class="delimiter">(</span><a title="scalikejdbc.DB.CPContext" id="51930">context</a>: <a href="ConnectionPoolContext.scala.html#8370" title="scalikejdbc.DB.CPContext">CPContext</a><span class="delimiter">)</span>: <a href="ConnectionPool.scala.html#8349" title="scalikejdbc.ConnectionPool">ConnectionPool</a> = <a href="package.scala.html#9678" title="(v: Any)Option[Nothing]">opt</a><span class="delimiter">(</span><a href="#51930" title="scalikejdbc.DB.CPContext">context</a> <span class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="#33450" title="Any">NoCPContext</a> =&gt; <a href="ConnectionPool.scala.html#13379" title="(name: Any)scalikejdbc.ConnectionPool">ConnectionPool</a><a href="#98424" title="(x: Any)Any" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> _: MultipleConnectionPoolContext =&gt; <a href="#51930" title="scalikejdbc.DB.CPContext">context</a>.<a href="ConnectionPoolContext.scala.html#33799" title="(name: Any)scalikejdbc.ConnectionPool">get</a><a href="#98424" title="(x: Any)Any" class="delimiter">(</a><a href="ConnectionPool.scala.html#8350" title="scalikejdbc.ConnectionPool.type">ConnectionPool</a>.<a href="ConnectionPool.scala.html#13374" title="=&gt; Symbol">DEFAULT_NAME</a><span class="delimiter">)</span>
    <span class="keyword">case</span> _ =&gt; <a href="#98424" title="(x: Any)Any" class="keyword">throw</a> <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><a href="ErrorMessage.scala.html#7594" title="scalikejdbc.ErrorMessage.type">ErrorMessage</a>.<a href="ErrorMessage.scala.html#38494" title="=&gt; String">UNKNOWN_CONNECTION_POOL_CONTEXT</a><span class="delimiter">)</span>
  <span class="delimiter">}</span><span class="delimiter">)</span> <span title="(default: =&gt; Nothing)Nothing">getOrElse</span> <span class="delimiter">{</span>
    <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><a href="ErrorMessage.scala.html#7594" title="scalikejdbc.ErrorMessage.type">ErrorMessage</a>.<a href="ErrorMessage.scala.html#38474" title="=&gt; String">CONNECTION_POOL_IS_NOT_YET_INITIALIZED</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Begins a read-only block easily with ConnectionPool.
   *
   * @param execution execution
   * @param context connection pool context
   * @tparam A return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: scalikejdbc.DBSession =&gt; A)(implicit context: scalikejdbc.DB.CPContext)A" id="33454">readOnly</a><span class="delimiter">[</span><a title="" id="51952">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalikejdbc.DBSession =&gt; A" id="52241">execution</a>: DBSession =&gt; A<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB.CPContext" id="51950">context</a>: <a href="ConnectionPoolContext.scala.html#8370" title="scalikejdbc.DB.CPContext">CPContext</a> = <a href="#33450" title="=&gt; scalikejdbc.NoConnectionPoolContext.type">NoCPContext</a><span class="delimiter">)</span>: <a href="#51952" title="A">A</a> = <span class="delimiter">{</span>
    <a href="package.scala.html#9664" title="(resource: java.sql.Connection)(f: java.sql.Connection =&gt; A)A">using</a><span class="delimiter">(</span><a href="#33453" title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool">connectionPool</a><span class="delimiter">(</span><a href="#51950" title="scalikejdbc.DB.CPContext">context</a><span class="delimiter">)</span>.<a href="ConnectionPool.scala.html#49714" title="()java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.sql.Connection" id="51970">conn</a> =&gt;
      <a href="#56045" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><span class="delimiter">(</span><a href="#51970" title="java.sql.Connection">conn</a><span class="delimiter">)</span>.<a href="#45674" title="(execution: scalikejdbc.DBSession =&gt; A)A">readOnly</a><span class="delimiter">(</span><a href="#52241" title="scalikejdbc.DBSession =&gt; A">execution</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Begins a read-only block easily with ConnectionPool
   * and pass not session but connection to execution block.
   *
   * @param execution execution
   * @param context connection pool context
   * @tparam A return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: java.sql.Connection =&gt; A)(implicit context: scalikejdbc.DB.CPContext)A" id="33457">readOnlyWithConnection</a><span class="delimiter">[</span><a title="" id="51984">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.sql.Connection =&gt; A" id="52244">execution</a>: Connection =&gt; A<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB.CPContext" id="51982">context</a>: <a href="ConnectionPoolContext.scala.html#8370" title="scalikejdbc.DB.CPContext">CPContext</a> = <a href="#33450" title="=&gt; scalikejdbc.NoConnectionPoolContext.type">NoCPContext</a><span class="delimiter">)</span>: <a href="#51984" title="A">A</a> = <span class="delimiter">{</span>
    <a href="package.scala.html#9664" title="(resource: java.sql.Connection)(f: java.sql.Connection =&gt; A)A">using</a><span class="delimiter">(</span><a href="#33453" title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool">connectionPool</a><span class="delimiter">(</span><a href="#51982" title="scalikejdbc.DB.CPContext">context</a><span class="delimiter">)</span>.<a href="ConnectionPool.scala.html#49714" title="()java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.sql.Connection" id="51997">conn</a> =&gt;
      <a href="#56045" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><span class="delimiter">(</span><a href="#51997" title="java.sql.Connection">conn</a><span class="delimiter">)</span>.<a href="#45677" title="(execution: java.sql.Connection =&gt; A)A">readOnlyWithConnection</a><span class="delimiter">(</span><a href="#52244" title="java.sql.Connection =&gt; A">execution</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Returns read-only session instance. You SHOULD close this instance by yourself.
   *
   * @param context connection pool context
   * @return session
   */
  <span class="keyword">def</span> <a title="()(implicit context: scalikejdbc.DB.CPContext)scalikejdbc.DBSession" id="33460">readOnlySession</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB.CPContext" id="52008">context</a>: <a href="ConnectionPoolContext.scala.html#8370" title="scalikejdbc.DB.CPContext">CPContext</a> = <a href="#33450" title="=&gt; scalikejdbc.NoConnectionPoolContext.type">NoCPContext</a><span class="delimiter">)</span>: <a href="DBSession.scala.html#7794" title="scalikejdbc.DBSession">DBSession</a> = <span class="delimiter">{</span>
    <a href="#56045" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><span class="delimiter">(</span><a href="#33453" title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool">connectionPool</a><span class="delimiter">(</span><a href="#52008" title="scalikejdbc.DB.CPContext">context</a><span class="delimiter">)</span>.<a href="ConnectionPool.scala.html#49714" title="()java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#45673" title="()scalikejdbc.DBSession">readOnlySession</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Begins a auto-commit block easily with ConnectionPool.
   *
   * @param execution execution
   * @param context connection pool context
   * @tparam A return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: scalikejdbc.DBSession =&gt; A)(implicit context: scalikejdbc.DB.CPContext)A" id="33461">autoCommit</a><span class="delimiter">[</span><a title="" id="52015">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalikejdbc.DBSession =&gt; A" id="52248">execution</a>: DBSession =&gt; A<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB.CPContext" id="52013">context</a>: <a href="ConnectionPoolContext.scala.html#8370" title="scalikejdbc.DB.CPContext">CPContext</a> = <a href="#33450" title="=&gt; scalikejdbc.NoConnectionPoolContext.type">NoCPContext</a><span class="delimiter">)</span>: <a href="#52015" title="A">A</a> = <span class="delimiter">{</span>
    <a href="package.scala.html#9664" title="(resource: java.sql.Connection)(f: java.sql.Connection =&gt; A)A">using</a><span class="delimiter">(</span><a href="#33453" title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool">connectionPool</a><span class="delimiter">(</span><a href="#52013" title="scalikejdbc.DB.CPContext">context</a><span class="delimiter">)</span>.<a href="ConnectionPool.scala.html#49714" title="()java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.sql.Connection" id="52028">conn</a> =&gt;
      <a href="#56045" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><span class="delimiter">(</span><a href="#52028" title="java.sql.Connection">conn</a><span class="delimiter">)</span>.<a href="#45681" title="(execution: scalikejdbc.DBSession =&gt; A)A">autoCommit</a><span class="delimiter">(</span><a href="#52248" title="scalikejdbc.DBSession =&gt; A">execution</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Begins a auto-commit block easily with ConnectionPool
   * and pass not session but connection to execution block.
   *
   * @param execution execution
   * @param context connection pool context
   * @tparam A return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: java.sql.Connection =&gt; A)(implicit context: scalikejdbc.DB.CPContext)A" id="33464">autoCommitWithConnection</a><span class="delimiter">[</span><a title="" id="52042">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.sql.Connection =&gt; A" id="52251">execution</a>: Connection =&gt; A<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB.CPContext" id="52040">context</a>: <a href="ConnectionPoolContext.scala.html#8370" title="scalikejdbc.DB.CPContext">CPContext</a> = <a href="#33450" title="=&gt; scalikejdbc.NoConnectionPoolContext.type">NoCPContext</a><span class="delimiter">)</span>: <a href="#52042" title="A">A</a> = <span class="delimiter">{</span>
    <a href="package.scala.html#9664" title="(resource: java.sql.Connection)(f: java.sql.Connection =&gt; A)A">using</a><span class="delimiter">(</span><a href="#33453" title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool">connectionPool</a><span class="delimiter">(</span><a href="#52040" title="scalikejdbc.DB.CPContext">context</a><span class="delimiter">)</span>.<a href="ConnectionPool.scala.html#49714" title="()java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.sql.Connection" id="52055">conn</a> =&gt;
      <a href="#56045" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><span class="delimiter">(</span><a href="#52055" title="java.sql.Connection">conn</a><span class="delimiter">)</span>.<a href="#45684" title="(execution: java.sql.Connection =&gt; A)A">autoCommitWithConnection</a><span class="delimiter">(</span><a href="#52251" title="java.sql.Connection =&gt; A">execution</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Returns auto-commit session instance. You SHOULD close this instance by yourself.
   *
   * @param context connection pool context
   * @return session
   */
  <span class="keyword">def</span> <a title="()(implicit context: scalikejdbc.DB.CPContext)scalikejdbc.DBSession" id="33467">autoCommitSession</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB.CPContext" id="52066">context</a>: <a href="ConnectionPoolContext.scala.html#8370" title="scalikejdbc.DB.CPContext">CPContext</a> = <a href="#33450" title="=&gt; scalikejdbc.NoConnectionPoolContext.type">NoCPContext</a><span class="delimiter">)</span>: <a href="DBSession.scala.html#7794" title="scalikejdbc.DBSession">DBSession</a> = <span class="delimiter">{</span>
    <a href="#56045" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><span class="delimiter">(</span><a href="#33453" title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool">connectionPool</a><span class="delimiter">(</span><a href="#52066" title="scalikejdbc.DB.CPContext">context</a><span class="delimiter">)</span>.<a href="ConnectionPool.scala.html#49714" title="()java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#45680" title="()scalikejdbc.DBSession">autoCommitSession</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Begins a local-tx block easily with ConnectionPool.
   *
   * @param execution execution
   * @param context connection pool context
   * @tparam A return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: scalikejdbc.DBSession =&gt; A)(implicit context: scalikejdbc.DB.CPContext)A" id="33468">localTx</a><span class="delimiter">[</span><a title="" id="52073">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalikejdbc.DBSession =&gt; A" id="52255">execution</a>: DBSession =&gt; A<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB.CPContext" id="52071">context</a>: <a href="ConnectionPoolContext.scala.html#8370" title="scalikejdbc.DB.CPContext">CPContext</a> = <a href="#33450" title="=&gt; scalikejdbc.NoConnectionPoolContext.type">NoCPContext</a><span class="delimiter">)</span>: <a href="#52073" title="A">A</a> = <span class="delimiter">{</span>
    <a href="package.scala.html#9664" title="(resource: java.sql.Connection)(f: java.sql.Connection =&gt; A)A">using</a><span class="delimiter">(</span><a href="#33453" title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool">connectionPool</a><span class="delimiter">(</span><a href="#52071" title="scalikejdbc.DB.CPContext">context</a><span class="delimiter">)</span>.<a href="ConnectionPool.scala.html#49714" title="()java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.sql.Connection" id="52086">conn</a> =&gt;
      <a href="#56045" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><span class="delimiter">(</span><a href="#52086" title="java.sql.Connection">conn</a><span class="delimiter">)</span>.<a href="#45696" title="(execution: scalikejdbc.DBSession =&gt; A)A">localTx</a><span class="delimiter">(</span><a href="#52255" title="scalikejdbc.DBSession =&gt; A">execution</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Begins a local-tx block easily with ConnectionPool
   * and pass not session but connection to execution block.
   *
   * @param execution execution
   * @param context connection pool context
   * @tparam A return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: java.sql.Connection =&gt; A)(implicit context: scalikejdbc.DB.CPContext)A" id="33471">localTxWithConnection</a><span class="delimiter">[</span><a title="" id="52100">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.sql.Connection =&gt; A" id="52258">execution</a>: Connection =&gt; A<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB.CPContext" id="52098">context</a>: <a href="ConnectionPoolContext.scala.html#8370" title="scalikejdbc.DB.CPContext">CPContext</a> = <a href="#33450" title="=&gt; scalikejdbc.NoConnectionPoolContext.type">NoCPContext</a><span class="delimiter">)</span>: <a href="#52100" title="A">A</a> = <span class="delimiter">{</span>
    <a href="package.scala.html#9664" title="(resource: java.sql.Connection)(f: java.sql.Connection =&gt; A)A">using</a><span class="delimiter">(</span><a href="#33453" title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool">connectionPool</a><span class="delimiter">(</span><a href="#52098" title="scalikejdbc.DB.CPContext">context</a><span class="delimiter">)</span>.<a href="ConnectionPool.scala.html#49714" title="()java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.sql.Connection" id="52113">conn</a> =&gt;
      <a href="#56045" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><span class="delimiter">(</span><a href="#52113" title="java.sql.Connection">conn</a><span class="delimiter">)</span>.<a href="#45699" title="(execution: java.sql.Connection =&gt; A)A">localTxWithConnection</a><span class="delimiter">(</span><a href="#52258" title="java.sql.Connection =&gt; A">execution</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Begins a within-tx block easily with a DB instance as an implicit parameter.
   *
   * @param execution execution
   * @param db DB instance as an implicit parameter
   * @tparam A return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: scalikejdbc.DBSession =&gt; A)(implicit db: scalikejdbc.DB)A" id="33474">withinTx</a><span class="delimiter">[</span><a title="" id="33476">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalikejdbc.DBSession =&gt; A" id="52122">execution</a>: DBSession =&gt; A<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB" id="52123">db</a>: <a href="#56045" title="scalikejdbc.DB">DB</a><span class="delimiter">)</span>: <a href="#33476" title="A">A</a> = <span class="delimiter">{</span>
    <a href="#33452" title="(db: scalikejdbc.DB)Unit">ensureDBInstance</a><span class="delimiter">(</span><a href="#52123" title="scalikejdbc.DB">db</a>: <a href="#56045" title="scalikejdbc.DB">DB</a><span class="delimiter">)</span>
    <a href="#52123" title="scalikejdbc.DB">db</a>.<a href="#45688" title="(execution: scalikejdbc.DBSession =&gt; A)A">withinTx</a><span class="delimiter">(</span><a href="#52122" title="scalikejdbc.DBSession =&gt; A">execution</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Begins a within-tx block easily with a DB instance as an implicit parameter
   * and pass not session but connection to execution block.
   *
   * @param execution execution
   * @param db DB instance as an implicit parameter
   * @tparam A return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: java.sql.Connection =&gt; A)(implicit db: scalikejdbc.DB)A" id="33477">withinTxWithConnection</a><span class="delimiter">[</span><a title="" id="33479">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.sql.Connection =&gt; A" id="52129">execution</a>: Connection =&gt; A<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB" id="52130">db</a>: <a href="#56045" title="scalikejdbc.DB">DB</a><span class="delimiter">)</span>: <a href="#33479" title="A">A</a> = <span class="delimiter">{</span>
    <a href="#33452" title="(db: scalikejdbc.DB)Unit">ensureDBInstance</a><span class="delimiter">(</span><a href="#52130" title="scalikejdbc.DB">db</a>: <a href="#56045" title="scalikejdbc.DB">DB</a><span class="delimiter">)</span>
    <a href="#52130" title="scalikejdbc.DB">db</a>.<a href="#45691" title="(execution: java.sql.Connection =&gt; A)A">withinTxWithConnection</a><span class="delimiter">(</span><a href="#52129" title="java.sql.Connection =&gt; A">execution</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Returns within-tx session instance. You SHOULD close this instance by yourself.
   *
   * @param db DB instance as an implicit parameter
   * @return session
   */
  <span class="keyword">def</span> <a title="()(implicit db: scalikejdbc.DB)scalikejdbc.DBSession" id="33480">withinTxSession</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB" id="52139">db</a>: <a href="#56045" title="scalikejdbc.DB">DB</a><span class="delimiter">)</span>: <a href="DBSession.scala.html#7794" title="scalikejdbc.DBSession">DBSession</a> = <a href="#52139" title="scalikejdbc.DB">db</a>.<a href="#45687" title="(tx: scalikejdbc.Tx)scalikejdbc.DBSession">withinTxSession</a><span class="delimiter">(</span><span class="delimiter">)</span>

  /**
   * Returns multiple table information
   *
   * @param tableNamePattern table name pattern (with schema optionally)
   * @param context connection pool context as implicit parameter
   * @return table information
   */
  <span class="keyword">def</span> <a title="(tableNamePattern: String)(implicit context: scalikejdbc.DB.CPContext)List[String]" id="33481">getTableNames</a><span class="delimiter">(</span><a title="String" id="52261">tableNamePattern</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB.CPContext" id="52144">context</a>: <a href="ConnectionPoolContext.scala.html#8370" title="scalikejdbc.DB.CPContext">CPContext</a> = <a href="#33450" title="=&gt; scalikejdbc.NoConnectionPoolContext.type">NoCPContext</a><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#56045" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><a title="scalikejdbc.DB" id="52150" class="delimiter">(</a><a href="#33453" title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool">connectionPool</a><span class="delimiter">(</span><a href="#52144" title="scalikejdbc.DB.CPContext">context</a><span class="delimiter">)</span>.<a href="ConnectionPool.scala.html#49714" title="()java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#52149" title="Array[String]" id="52154">getTableNames</a><span class="delimiter">(</span><a href="#52261" title="String" id="52153">tableNamePattern</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Returns all the table names
   *
   * @param tableNamePattern table name pattern (with schema optionally)
   * @param context connection pool context as implicit parameter
   * @return table information
   */
  <span class="keyword">def</span> <a title="()(implicit context: scalikejdbc.DB.CPContext)List[String]" id="33482">getAllTableNames</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB.CPContext" id="52157">context</a>: <a href="ConnectionPoolContext.scala.html#8370" title="scalikejdbc.DB.CPContext">CPContext</a> = <a href="#33450" title="=&gt; scalikejdbc.NoConnectionPoolContext.type">NoCPContext</a><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#56045" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><a title="scalikejdbc.DB" id="52158" class="delimiter">(</a><a href="#33453" title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool">connectionPool</a><span class="delimiter">(</span><a href="#52157" title="scalikejdbc.DB.CPContext">context</a><span class="delimiter">)</span>.<a href="ConnectionPool.scala.html#49714" title="()java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#52149" title="Array[String]" id="52160">getTableNames</a><span class="delimiter">(</span><a title="String" id="52159" class="string">&quot;%&quot;</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Returns table information
   *
   * @param table table name (with schema optionally)
   * @param context connection pool context as implicit parameter
   * @return table information
   */
  <span class="keyword">def</span> <a title="(table: String)(implicit context: scalikejdbc.DB.CPContext)Option[scalikejdbc.metadata.Table]" id="33483">getTable</a><span class="delimiter">(</span><a title="String" id="52264">table</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB.CPContext" id="52164">context</a>: <a href="ConnectionPoolContext.scala.html#8370" title="scalikejdbc.DB.CPContext">CPContext</a> = <a href="#33450" title="=&gt; scalikejdbc.NoConnectionPoolContext.type">NoCPContext</a><span class="delimiter">)</span>: <span title="Option[scalikejdbc.metadata.Table]">Option</span><span class="delimiter">[</span>Table<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#56045" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><span class="delimiter">(</span><a href="#33453" title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool">connectionPool</a><span class="delimiter">(</span><a href="#52164" title="scalikejdbc.DB.CPContext">context</a><span class="delimiter">)</span>.<a href="ConnectionPool.scala.html#49714" title="()java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#45705" title="(table: String)Option[scalikejdbc.metadata.Table]">getTable</a><span class="delimiter">(</span><a href="#52264" title="String">table</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(table: String)(implicit context: scalikejdbc.DB.CPContext)List[String]" id="33484">getColumnNames</a><span class="delimiter">(</span><a title="String" id="33835">table</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB.CPContext" id="33797">context</a>: <a href="ConnectionPoolContext.scala.html#8370" title="scalikejdbc.DB.CPContext">CPContext</a> = <a href="#33450" title="=&gt; scalikejdbc.NoConnectionPoolContext.type">NoCPContext</a><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="List[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#33835" title="String">table</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#56045" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><a title="scalikejdbc.DB" id="52175" class="delimiter">(</a><a href="#33453" title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool">connectionPool</a><span class="delimiter">(</span><a href="#33797" title="scalikejdbc.DB.CPContext">context</a><span class="delimiter">)</span>.<a href="ConnectionPool.scala.html#49714" title="()java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#52174" title="Array[String]" id="52179">getColumnNames</a><span class="delimiter">(</span><a href="#33835" title="String" id="52178">table</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <span title="scala.collection.immutable.Nil.type">Nil</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Returns table name list
   *
   * @param tableNamePattern table name pattern (with schema optionally)
   * @param context connection pool context as implicit parameter
   * @return table name list
   */
  <span class="keyword">def</span> <a title="(tableNamePattern: String, tableTypes: Array[String])(implicit context: scalikejdbc.DB.CPContext)String" id="33485">showTables</a><span class="delimiter">(</span><a title="String" id="52289">tableNamePattern</a>: <span title="String">String</span> = <span title="String(&quot;%&quot;)" class="string">&quot;%&quot;</span>, <a title="Array[String]" id="52290">tableTypes</a>: <span title="Array[String]">Array</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="(xs: String*)(implicit evidence$2: scala.reflect.ClassTag[String])Array[String]">Array</span><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[String]" class="delimiter">(</span><span title="String(&quot;TABLE&quot;)" class="string">&quot;TABLE&quot;</span>, <span title="String(&quot;VIEW&quot;)" class="string">&quot;VIEW&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB.CPContext" id="52186">context</a>: <a href="ConnectionPoolContext.scala.html#8370" title="scalikejdbc.DB.CPContext">CPContext</a> = <a href="#33450" title="=&gt; scalikejdbc.NoConnectionPoolContext.type">NoCPContext</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <a href="#56045" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><span class="delimiter">(</span><a href="#33453" title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool">connectionPool</a><span class="delimiter">(</span><a href="#52186" title="scalikejdbc.DB.CPContext">context</a><span class="delimiter">)</span>.<a href="ConnectionPool.scala.html#49714" title="()java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#45707" title="(tableNamePattern: String, tableTypes: Array[String])String">showTables</a><span class="delimiter">(</span><a href="#52289" title="String">tableNamePattern</a>, <a href="#52290" title="Array[String]">tableTypes</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Returns describe style string value for the table
   *
   * @param table table name (with schema optionally)
   * @param context connection pool context as implicit parameter
   * @return described information
   */
  <span class="keyword">def</span> <a title="(table: String)(implicit context: scalikejdbc.DB.CPContext)String" id="33486">describe</a><span class="delimiter">(</span><a title="String" id="52292">table</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalikejdbc.DB.CPContext" id="52216">context</a>: <a href="ConnectionPoolContext.scala.html#8370" title="scalikejdbc.DB.CPContext">CPContext</a> = <a href="#33450" title="=&gt; scalikejdbc.NoConnectionPoolContext.type">NoCPContext</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <a href="#56045" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><span class="delimiter">(</span><a href="#33453" title="(context: scalikejdbc.DB.CPContext)scalikejdbc.ConnectionPool">connectionPool</a><span class="delimiter">(</span><a href="#52216" title="scalikejdbc.DB.CPContext">context</a><span class="delimiter">)</span>.<a href="ConnectionPool.scala.html#49714" title="()java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#45708" title="(table: String)String">describe</a><span class="delimiter">(</span><a href="#52292" title="String">table</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Get a connection and returns a DB instance.
   *
   * @param conn connection
   * @return DB instance
   */
  <span class="keyword">def</span> <a title="(conn: java.sql.Connection)scalikejdbc.DB" id="33487">connect</a><span class="delimiter">(</span><a title="java.sql.Connection" id="52221">conn</a>: <span title="java.sql.Connection">Connection</span> = <a href="ConnectionPool.scala.html#8350" title="scalikejdbc.ConnectionPool.type">ConnectionPool</a>.<a href="ConnectionPool.scala.html#13384" title="(name: Any)java.sql.Connection">borrow</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>: <a href="#56045" title="scalikejdbc.DB">DB</a> = <a href="#56045" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><span class="delimiter">(</span><a href="#52221" title="java.sql.Connection">conn</a><span class="delimiter">)</span>

  /**
   * Returns a DB instance by using an implicit Connection object.
   *
   * @param conn connection
   * @return  DB instance
   */
  <span class="keyword">def</span> <a title="(implicit conn: java.sql.Connection)scalikejdbc.DB" id="33488">connected</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="java.sql.Connection" id="52222">conn</a>: <span title="java.sql.Connection">Connection</span><span class="delimiter">)</span> = <a href="#56045" title="(conn: java.sql.Connection)scalikejdbc.DB">DB</a><span class="delimiter">(</span><a href="#52222" title="java.sql.Connection">conn</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

/**
 * Basic Database Accessor
 *
 * Using DBSession:
 *
 * {{{
 *   import scalikejdbc._
 *   case class User(id: Int, name: String)
 *
 *   using(connectionPool(context).borrow()) { conn =&gt;
 *
 *     val users = DB(conn) readOnly { session =&gt;
 *       session.list(&quot;select * from user&quot;) { rs =&gt;
 *         User(rs.int(&quot;id&quot;), rs.string(&quot;name&quot;))
 *       }
 *     }
 *
 *     DB(conn) autoCommit { session =&gt;
 *       session.update(&quot;insert into user values (?,?)&quot;, 123, &quot;Alice&quot;)
 *     }
 *
 *     DB(conn) localTx { session =&gt;
 *       session.update(&quot;insert into user values (?,?)&quot;, 123, &quot;Alice&quot;)
 *     }
 *
 *   }
 * }}}
 *
 * Using SQL:
 *
 * {{{
 *   import scalikejdbc._
 *   case class User(id: Int, name: String)
 *
 *   using(ConnectionPool.borrow()) { conn =&gt;
 *
 *     val users = DB(conn) readOnly { session =&gt;
 *       SQL(&quot;select * from user&quot;).map { rs =&gt;
 *         User(rs.int(&quot;id&quot;), rs.string(&quot;name&quot;))
 *       }.list.apply()
 *     }
 *
 *     DB(conn) autoCommit { session =&gt;
 *       SQL(&quot;insert into user values (?,?)&quot;).bind(123, &quot;Alice&quot;).update.apply()
 *     }
 *
 *     DB(conn) localTx { session =&gt;
 *       SQL(&quot;insert into user values (?,?)&quot;).bind(123, &quot;Alice&quot;).update.apply()
 *     }
 *
 *   }
 * }}}
 */
<span title="AnyRef" class="keyword">case class</span> <a title="(conn: java.sql.Connection)scalikejdbc.DB" id="56045">DB</a><a href="#56045" title="Product" class="delimiter">(</a><a title="java.sql.Connection" id="55948">conn</a>: <span title="java.sql.Connection">Connection</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="LogSupport.scala.html#7878" title="scalikejdbc.LogSupport">LogSupport</a> <span class="delimiter">{</span>

  <span class="keyword">type</span> <a title="scalikejdbc.ResultSetTraversable" id="45659">RSTraversable</a> = <a href="ResultSetTraversable.scala.html#8325" title="scalikejdbc.ResultSetTraversable">ResultSetTraversable</a>

  /**
   * Returns is the current transaction is active.
   * @return result
   */
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="45660">isTxNotActive</a>: <span title="Boolean">Boolean</span> = <a href="#55948" title="=&gt; java.sql.Connection">conn</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">||</span> <a href="#55948" title="=&gt; java.sql.Connection">conn</a>.<span title="()Boolean">isClosed</span> <span title="(x: Boolean)Boolean">||</span> <a href="#55948" title="=&gt; java.sql.Connection">conn</a>.<span title="()Boolean">isReadOnly</span>

  /**
   * Returns is the current transaction hasn't started yet.
   * @return result
   */
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="45661">isTxNotYetStarted</a>: <span title="Boolean">Boolean</span> = <a href="#55948" title="=&gt; java.sql.Connection">conn</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#55948" title="=&gt; java.sql.Connection">conn</a>.<span title="()Boolean">getAutoCommit</span>

  /**
   * Returns is the current transaction already started.
   * @return result
   */
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="45662">isTxAlreadyStarted</a>: <span title="Boolean">Boolean</span> = <a href="#55948" title="=&gt; java.sql.Connection">conn</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#55948" title="=&gt; java.sql.Connection">conn</a>.<span title="()Boolean">getAutoCommit</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(conn: java.sql.Connection)scalikejdbc.Tx" id="45663">newTx</a><span class="delimiter">(</span><a title="java.sql.Connection" id="52324">conn</a>: <span title="java.sql.Connection">Connection</span><span class="delimiter">)</span>: <a href="Tx.scala.html#7779" title="scalikejdbc.Tx">Tx</a> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#45660" title="=&gt; Boolean">isTxNotActive</a> <span title="(x: Boolean)Boolean">||</span> <a href="#45662" title="=&gt; Boolean">isTxAlreadyStarted</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><a href="ErrorMessage.scala.html#7594" title="scalikejdbc.ErrorMessage.type">ErrorMessage</a>.<a href="ErrorMessage.scala.html#38476" title="=&gt; String">CANNOT_START_A_NEW_TRANSACTION</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span title="scalikejdbc.Tx" class="keyword">new</span> <a href="Tx.scala.html#7779" title="scalikejdbc.Tx">Tx</a><span class="delimiter">(</span><a href="#52324" title="java.sql.Connection">conn</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Starts a new transaction and returns it.
   * @return tx
   */
  <span class="keyword">def</span> <a title="=&gt; scalikejdbc.Tx" id="45664">newTx</a>: <a href="Tx.scala.html#7779" title="scalikejdbc.Tx">Tx</a> = <a href="#45663" title="(conn: java.sql.Connection)scalikejdbc.Tx">newTx</a><span class="delimiter">(</span><a href="#55948" title="=&gt; java.sql.Connection">conn</a><span class="delimiter">)</span>

  /**
   * Returns the current transaction.
   * If the transaction has not started yet, IllegalStateException will be thrown.
   * @return tx
   */
  <span class="keyword">def</span> <a title="=&gt; scalikejdbc.Tx" id="45665">currentTx</a>: <a href="Tx.scala.html#7779" title="scalikejdbc.Tx">Tx</a> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#45660" title="=&gt; Boolean">isTxNotActive</a> <span title="(x: Boolean)Boolean">||</span> <a href="#45661" title="=&gt; Boolean">isTxNotYetStarted</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><a href="ErrorMessage.scala.html#7594" title="scalikejdbc.ErrorMessage.type">ErrorMessage</a>.<a href="ErrorMessage.scala.html#38480" title="=&gt; String">TRANSACTION_IS_NOT_ACTIVE</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span title="scalikejdbc.Tx" class="keyword">new</span> <a href="Tx.scala.html#7779" title="scalikejdbc.Tx">Tx</a><span class="delimiter">(</span><a href="#55948" title="=&gt; java.sql.Connection">conn</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Returns the current transaction.
   * If the transaction has not started yet, IllegalStateException will be thrown.
   * @return tx
   */
  <span class="keyword">def</span> <a title="=&gt; scalikejdbc.Tx" id="45666">tx</a>: <a href="Tx.scala.html#7779" title="scalikejdbc.Tx">Tx</a> = <span class="delimiter">{</span>
    <span title="(exceptions: Class[_]*)util.control.Exception.By[Throwable =&gt; Nothing,util.control.Exception.Catch[Nothing]]">handling</span><span class="delimiter">(</span>classOf<span title="Class[IllegalStateException](classOf[java.lang.IllegalStateException])" class="delimiter">[</span>IllegalStateException<span class="delimiter">]</span><span class="delimiter">)</span> <span title="(x: Throwable =&gt; Nothing)util.control.Exception.Catch[Nothing]">by</span> <span class="delimiter">{</span> <a title="Throwable" id="52360">e</a> =&gt;
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span>
        <a href="ErrorMessage.scala.html#7594" title="scalikejdbc.ErrorMessage.type">ErrorMessage</a>.<a href="ErrorMessage.scala.html#38480" title="=&gt; String">TRANSACTION_IS_NOT_ACTIVE</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; If you want to start a new transaction, use #newTx instead.&quot;)" class="string">&quot; If you want to start a new transaction, use #newTx instead.&quot;</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span> <span title="(body: =&gt; scalikejdbc.Tx)scalikejdbc.Tx">apply</span> <a href="#45665" title="=&gt; scalikejdbc.Tx">currentTx</a>
  <span class="delimiter">}</span>

  /**
   * Close the connection.
   */
  <span class="keyword">def</span> <a title="()Unit" id="45667">close</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span title="(exceptions: Class[_]*)util.control.Exception.Catch[Unit]">ignoring</span><span title="(body: =&gt; Unit)Unit" class="delimiter">(</span>classOf<span title="Class[Throwable](classOf[java.lang.Throwable])" class="delimiter">[</span>Throwable<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#55948" title="=&gt; java.sql.Connection">conn</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="LogSupport.scala.html#13366" title="=&gt; scalikejdbc.Log">log</a>.<a href="Log.scala.html#50169" title="(msg: =&gt; String)Unit">debug</a><span class="delimiter">(</span><span title="String(&quot;A Connection is closed.&quot;)" class="string">&quot;A Connection is closed.&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Begins a new transaction.
   */
  <span class="keyword">def</span> <a title="()Unit" id="45668">begin</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#45664" title="=&gt; scalikejdbc.Tx">newTx</a>.<a href="Tx.scala.html#52330" title="()Unit">begin</a><span class="delimiter">(</span><span class="delimiter">)</span>

  /**
   * Begins a new transaction if the other one does not already start.
   */
  <span class="keyword">def</span> <a title="()Unit" id="45669">beginIfNotYet</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span title="(exceptions: Class[_]*)util.control.Exception.Catch[Unit]">ignoring</span><span class="delimiter">(</span>classOf<span title="Class[IllegalStateException](classOf[java.lang.IllegalStateException])" class="delimiter">[</span>IllegalStateException<span class="delimiter">]</span><span class="delimiter">)</span> <span title="(body: =&gt; Unit)Unit">apply</span> <span class="delimiter">{</span>
      <a href="#45668" title="()Unit">begin</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Commits the current transaction.
   */
  <span class="keyword">def</span> <a title="()Unit" id="45670">commit</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#45666" title="=&gt; scalikejdbc.Tx">tx</a>.<a href="Tx.scala.html#52331" title="()Unit">commit</a><span class="delimiter">(</span><span class="delimiter">)</span>

  /**
   * Rolls back the current transaction.
   */
  <span class="keyword">def</span> <a title="()Unit" id="45671">rollback</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#45666" title="=&gt; scalikejdbc.Tx">tx</a>.<a href="Tx.scala.html#52333" title="()Unit">rollback</a><span class="delimiter">(</span><span class="delimiter">)</span>

  /**
   * Rolls back the current transaction if the transaction is still active.
   */
  <span class="keyword">def</span> <a title="()Unit" id="45672">rollbackIfActive</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span title="(exceptions: Class[_]*)util.control.Exception.Catch[Unit]">ignoring</span><span class="delimiter">(</span>classOf<span title="Class[IllegalStateException](classOf[java.lang.IllegalStateException])" class="delimiter">[</span>IllegalStateException<span class="delimiter">]</span><span class="delimiter">)</span> <span title="(body: =&gt; Unit)Unit">apply</span> <span class="delimiter">{</span>
      <a href="#45666" title="=&gt; scalikejdbc.Tx">tx</a>.<a href="Tx.scala.html#52334" title="()Unit">rollbackIfActive</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Returns read-only session.
   * @return session
   */
  <span class="keyword">def</span> <a title="()scalikejdbc.DBSession" id="45673">readOnlySession</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="DBSession.scala.html#7794" title="scalikejdbc.DBSession">DBSession</a> = <span class="delimiter">{</span>
    <a href="#55948" title="=&gt; java.sql.Connection">conn</a>.<span title="(x$1: Boolean)Unit">setReadOnly</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
    <a href="DBSession.scala.html#52405" title="Option[scalikejdbc.Tx]" id="52441">DBSession</a><span class="delimiter">(</span><a href="#55948" title="java.sql.Connection" id="52439">conn</a>, isReadOnly = <a title="Boolean" id="52440" class="keyword">true</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Provides read-only session block.
   * @param execution block
   * @tparam A  return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: scalikejdbc.DBSession =&gt; A)A" id="45674">readOnly</a><span class="delimiter">[</span><a title="" id="45676">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalikejdbc.DBSession =&gt; A" id="51971">execution</a>: DBSession =&gt; A<span class="delimiter">)</span>: <a href="#45676" title="A">A</a> = <span class="delimiter">{</span>
    <a href="package.scala.html#9664" title="(resource: java.sql.Connection)(f: java.sql.Connection =&gt; A)A">using</a><span class="delimiter">(</span><a href="#55948" title="=&gt; java.sql.Connection">conn</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.sql.Connection" id="52453">conn</a> =&gt;
      <a href="#51971" title="(v1: scalikejdbc.DBSession)A">execution</a><span class="delimiter">(</span><a href="#45673" title="()scalikejdbc.DBSession">readOnlySession</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Provides read-only session block.
   * @param execution block
   * @tparam A  return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: java.sql.Connection =&gt; A)A" id="45677">readOnlyWithConnection</a><span class="delimiter">[</span><a title="" id="45679">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.sql.Connection =&gt; A" id="51998">execution</a>: Connection =&gt; A<span class="delimiter">)</span>: <a href="#45679" title="A">A</a> = <span class="delimiter">{</span>
    // cannot control if jdbc drivers ignore the readOnly attribute.
    <a href="package.scala.html#9664" title="(resource: java.sql.Connection)(f: java.sql.Connection =&gt; A)A">using</a><span class="delimiter">(</span><a href="#55948" title="=&gt; java.sql.Connection">conn</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.sql.Connection" id="52468">conn</a> =&gt;
      <a href="#51998" title="(v1: java.sql.Connection)A">execution</a><span class="delimiter">(</span><a href="#45673" title="()scalikejdbc.DBSession">readOnlySession</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="DBSession.scala.html#45622" title="=&gt; java.sql.Connection">conn</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Returns auto-commit session.
   * @return session
   */
  <span class="keyword">def</span> <a title="()scalikejdbc.DBSession" id="45680">autoCommitSession</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="DBSession.scala.html#7794" title="scalikejdbc.DBSession">DBSession</a> = <span class="delimiter">{</span>
    <a href="#55948" title="=&gt; java.sql.Connection">conn</a>.<span title="(x$1: Boolean)Unit">setReadOnly</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
    <a href="#55948" title="=&gt; java.sql.Connection">conn</a>.<span title="(x$1: Boolean)Unit">setAutoCommit</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
    <a href="DBSession.scala.html#52401" title="(conn: java.sql.Connection, tx: Option[scalikejdbc.Tx], isReadOnly: Boolean)scalikejdbc.ActiveSession">DBSession</a><span class="delimiter">(</span><a href="#55948" title="=&gt; java.sql.Connection">conn</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Provides auto-commit session block.
   * @param execution block
   * @tparam A  return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: scalikejdbc.DBSession =&gt; A)A" id="45681">autoCommit</a><span class="delimiter">[</span><a title="" id="45683">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalikejdbc.DBSession =&gt; A" id="52029">execution</a>: DBSession =&gt; A<span class="delimiter">)</span>: <a href="#45683" title="A">A</a> = <span class="delimiter">{</span>
    <a href="package.scala.html#9664" title="(resource: java.sql.Connection)(f: java.sql.Connection =&gt; A)A">using</a><span class="delimiter">(</span><a href="#55948" title="=&gt; java.sql.Connection">conn</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.sql.Connection" id="52483">conn</a> =&gt;
      <a href="#52029" title="(v1: scalikejdbc.DBSession)A">execution</a><span class="delimiter">(</span><a href="#45680" title="()scalikejdbc.DBSession">autoCommitSession</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Provides auto-commit session block.
   * @param execution block
   * @tparam A  return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: java.sql.Connection =&gt; A)A" id="45684">autoCommitWithConnection</a><span class="delimiter">[</span><a title="" id="45686">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.sql.Connection =&gt; A" id="52056">execution</a>: Connection =&gt; A<span class="delimiter">)</span>: <a href="#45686" title="A">A</a> = <span class="delimiter">{</span>
    <a href="package.scala.html#9664" title="(resource: java.sql.Connection)(f: java.sql.Connection =&gt; A)A">using</a><span class="delimiter">(</span><a href="#55948" title="=&gt; java.sql.Connection">conn</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.sql.Connection" id="52498">conn</a> =&gt;
      <a href="#52056" title="(v1: java.sql.Connection)A">execution</a><span class="delimiter">(</span><a href="#45680" title="()scalikejdbc.DBSession">autoCommitSession</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="DBSession.scala.html#45622" title="=&gt; java.sql.Connection">conn</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Returns within-tx session.
   * @return session
   */
  <span class="keyword">def</span> <a title="(tx: scalikejdbc.Tx)scalikejdbc.DBSession" id="45687">withinTxSession</a><span class="delimiter">(</span><a title="scalikejdbc.Tx" id="46472">tx</a>: <a href="Tx.scala.html#7779" title="scalikejdbc.Tx">Tx</a> = <a href="#45665" title="=&gt; scalikejdbc.Tx">currentTx</a><span class="delimiter">)</span>: <a href="DBSession.scala.html#7794" title="scalikejdbc.DBSession">DBSession</a> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#46472" title="scalikejdbc.Tx">tx</a>.<a href="Tx.scala.html#52332" title="()Boolean">isActive</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><a href="ErrorMessage.scala.html#7594" title="scalikejdbc.ErrorMessage.type">ErrorMessage</a>.<a href="ErrorMessage.scala.html#38480" title="=&gt; String">TRANSACTION_IS_NOT_ACTIVE</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="DBSession.scala.html#52401" title="(conn: java.sql.Connection, tx: Option[scalikejdbc.Tx], isReadOnly: Boolean)scalikejdbc.ActiveSession">DBSession</a><span class="delimiter">(</span><a href="#55948" title="=&gt; java.sql.Connection">conn</a>, tx = <span title="(x: scalikejdbc.Tx)Some[scalikejdbc.Tx]">Some</span><span class="delimiter">(</span><a href="#46472" title="scalikejdbc.Tx">tx</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Provides within-tx session block.
   * @param execution block
   * @tparam A  return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: scalikejdbc.DBSession =&gt; A)A" id="45688">withinTx</a><span class="delimiter">[</span><a title="" id="45690">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalikejdbc.DBSession =&gt; A" id="46451">execution</a>: DBSession =&gt; A<span class="delimiter">)</span>: <a href="#45690" title="A">A</a> = <span class="delimiter">{</span>
    <a href="#46451" title="(v1: scalikejdbc.DBSession)A">execution</a><span class="delimiter">(</span><a href="#45687" title="(tx: scalikejdbc.Tx)scalikejdbc.DBSession">withinTxSession</a><span class="delimiter">(</span><a href="#45665" title="=&gt; scalikejdbc.Tx">currentTx</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Provides within-tx session block.
   * @param execution block
   * @tparam A  return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: java.sql.Connection =&gt; A)A" id="45691">withinTxWithConnection</a><span class="delimiter">[</span><a title="" id="45693">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.sql.Connection =&gt; A" id="52133">execution</a>: Connection =&gt; A<span class="delimiter">)</span>: <a href="#45693" title="A">A</a> = <span class="delimiter">{</span>
    <a href="#52133" title="(v1: java.sql.Connection)A">execution</a><span class="delimiter">(</span><a href="#45687" title="(tx: scalikejdbc.Tx)scalikejdbc.DBSession">withinTxSession</a><span class="delimiter">(</span><a href="#45665" title="=&gt; scalikejdbc.Tx">currentTx</a><span class="delimiter">)</span>.<a href="DBSession.scala.html#45622" title="=&gt; java.sql.Connection">conn</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tx: scalikejdbc.Tx)Unit" id="45694">begin</a><span class="delimiter">(</span><a title="scalikejdbc.Tx" id="52391">tx</a>: <a href="Tx.scala.html#7779" title="scalikejdbc.Tx">Tx</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#52391" title="scalikejdbc.Tx">tx</a>.<a href="Tx.scala.html#52330" title="()Unit">begin</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#52391" title="scalikejdbc.Tx">tx</a>.<a href="Tx.scala.html#52332" title="()Boolean">isActive</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><a href="ErrorMessage.scala.html#7594" title="scalikejdbc.ErrorMessage.type">ErrorMessage</a>.<a href="ErrorMessage.scala.html#38480" title="=&gt; String">TRANSACTION_IS_NOT_ACTIVE</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="util.control.Exception.Catch[Nothing]" id="45695">rollbackIfThrowable</a> = <span title="(exceptions: Class[_]*)util.control.Exception.By[Throwable =&gt; Nothing,util.control.Exception.Catch[Nothing]]">handling</span><span class="delimiter">(</span>classOf<span title="Class[Throwable](classOf[java.lang.Throwable])" class="delimiter">[</span>Throwable<span class="delimiter">]</span><span class="delimiter">)</span> <span title="(x: Throwable =&gt; Nothing)util.control.Exception.Catch[Nothing]">by</span> <span class="delimiter">{</span> <a title="Throwable" id="52521">t</a> =&gt;
    <a href="#45666" title="=&gt; scalikejdbc.Tx">tx</a>.<a href="Tx.scala.html#52333" title="()Unit">rollback</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span title="Nothing" class="keyword">throw</span> <a href="#52521" title="Throwable">t</a>
  <span class="delimiter">}</span>

  /**
   * Provides local-tx session block.
   * @param execution block
   * @tparam A  return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: scalikejdbc.DBSession =&gt; A)A" id="45696">localTx</a><span class="delimiter">[</span><a title="" id="45698">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalikejdbc.DBSession =&gt; A" id="52087">execution</a>: DBSession =&gt; A<span class="delimiter">)</span>: <a href="#45698" title="A">A</a> = <span class="delimiter">{</span>
    <a href="package.scala.html#9664" title="(resource: java.sql.Connection)(f: java.sql.Connection =&gt; A)A">using</a><span class="delimiter">(</span><a href="#55948" title="=&gt; java.sql.Connection">conn</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.sql.Connection" id="52534">conn</a> =&gt;
      <span class="keyword">val</span> <a title="scalikejdbc.Tx" id="52535">tx</a> = <a href="#45664" title="=&gt; scalikejdbc.Tx">newTx</a>
      <a href="#45694" title="(tx: scalikejdbc.Tx)Unit">begin</a><span class="delimiter">(</span><a href="#52535" title="scalikejdbc.Tx">tx</a><span class="delimiter">)</span>
      <a href="#45695" title="[U](body: =&gt; U)U">rollbackIfThrowable</a><span title="(body: =&gt; A)A" class="delimiter">[</span><a href="#45698" title="A">A</a><span class="delimiter">]</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scalikejdbc.ActiveSession" id="52547">session</a> = <a href="DBSession.scala.html#52401" title="(conn: java.sql.Connection, tx: Option[scalikejdbc.Tx], isReadOnly: Boolean)scalikejdbc.ActiveSession">DBSession</a><span class="delimiter">(</span><a href="#52534" title="java.sql.Connection">conn</a>, tx = <span title="(x: scalikejdbc.Tx)Option[scalikejdbc.Tx]">Option</span><span class="delimiter">(</span><a href="#52535" title="scalikejdbc.Tx">tx</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="A" id="52548">result</a>: <a href="#45698" title="A">A</a> = <a href="#52087" title="(v1: scalikejdbc.DBSession)A">execution</a><span class="delimiter">(</span><a href="#52547" title="scalikejdbc.ActiveSession">session</a><span class="delimiter">)</span>
        <a href="#52535" title="scalikejdbc.Tx">tx</a>.<a href="Tx.scala.html#52331" title="()Unit">commit</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#52548" title="A">result</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Provides local-tx session block.
   * @param execution block
   * @tparam A  return type
   * @return result value
   */
  <span class="keyword">def</span> <a title="[A](execution: java.sql.Connection =&gt; A)A" id="45699">localTxWithConnection</a><span class="delimiter">[</span><a title="" id="45701">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.sql.Connection =&gt; A" id="52114">execution</a>: Connection =&gt; A<span class="delimiter">)</span>: <a href="#45701" title="A">A</a> = <span class="delimiter">{</span>
    <a href="package.scala.html#9664" title="(resource: java.sql.Connection)(f: java.sql.Connection =&gt; A)A">using</a><span class="delimiter">(</span><a href="#55948" title="=&gt; java.sql.Connection">conn</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.sql.Connection" id="52566">conn</a> =&gt;
      <span class="keyword">val</span> <a title="scalikejdbc.Tx" id="52567">tx</a> = <a href="#45664" title="=&gt; scalikejdbc.Tx">newTx</a>
      <a href="#45694" title="(tx: scalikejdbc.Tx)Unit">begin</a><span class="delimiter">(</span><a href="#52567" title="scalikejdbc.Tx">tx</a><span class="delimiter">)</span>
      <a href="#45695" title="[U](body: =&gt; U)U">rollbackIfThrowable</a><span title="(body: =&gt; A)A" class="delimiter">[</span><a href="#45701" title="A">A</a><span class="delimiter">]</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scalikejdbc.ActiveSession" id="52577">session</a> = <a href="DBSession.scala.html#52401" title="(conn: java.sql.Connection, tx: Option[scalikejdbc.Tx], isReadOnly: Boolean)scalikejdbc.ActiveSession">DBSession</a><span class="delimiter">(</span><a href="#52566" title="java.sql.Connection">conn</a>, tx = <span title="(x: scalikejdbc.Tx)Option[scalikejdbc.Tx]">Option</span><span class="delimiter">(</span><a href="#52567" title="scalikejdbc.Tx">tx</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="A" id="52578">result</a>: <a href="#45701" title="A">A</a> = <a href="#52114" title="(v1: java.sql.Connection)A">execution</a><span class="delimiter">(</span><a href="#52577" title="scalikejdbc.ActiveSession">session</a>.<a href="DBSession.scala.html#52417" title="=&gt; java.sql.Connection">conn</a><span class="delimiter">)</span>
        <a href="#52567" title="scalikejdbc.Tx">tx</a>.<a href="Tx.scala.html#52331" title="()Unit">commit</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#52578" title="A">result</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Splits the name to schema and table name
   *
   * @param name name
   * @return schema and table
   */
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(name: String)(String, String)" id="45702">toSchemaAndTable</a><span class="delimiter">(</span><a title="String" id="52585">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="(String, String)" class="delimiter">(</span>String, String<span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="String" id="52587">schema</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#52585" title="String">name</a>.<span title="(x$1: String)Array[String]">split</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="String(&quot;\\.&quot;)" class="string">&quot;\\.&quot;</span><span class="delimiter">)</span>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#52585" title="String">name</a>.<span title="(x$1: String)Array[String]">split</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="String(&quot;\\.&quot;)" class="string">&quot;\\.&quot;</span><span class="delimiter">)</span>.<span title="=&gt; String">head</span> <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">val</span> <a title="String" id="52588">table</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#52585" title="String">name</a>.<span title="(x$1: String)Array[String]">split</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="String(&quot;\\.&quot;)" class="string">&quot;\\.&quot;</span><span class="delimiter">)</span>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#52585" title="String">name</a>.<span title="(x$1: String)Array[String]">split</span><span title="(i: Int)String" class="delimiter">(</span><span title="String(&quot;\\.&quot;)" class="string">&quot;\\.&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#52585" title="String">name</a>
    <span title="(_1: String, _2: String)(String, String)" class="delimiter">(</span><a href="#52587" title="String">schema</a>, <a href="#52588" title="String">table</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Returns all the table information that match the pattern
   *
   * @param tableNamePattern table name pattern (with schema optionally)
   * @return table information
   */
  <span class="keyword">def</span> <a title="(tableNamePattern: String, tableTypes: Array[String])List[String]" id="45703">getTableNames</a><span class="delimiter">(</span><a title="String" id="52148">tableNamePattern</a>: <span title="String">String</span> = <span title="String(&quot;%&quot;)" class="string">&quot;%&quot;</span>, <a title="Array[String]" id="52149">tableTypes</a>: <span title="Array[String]">Array</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="(xs: String*)(implicit evidence$2: scala.reflect.ClassTag[String])Array[String]">Array</span><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[String]" class="delimiter">(</span><span title="String(&quot;TABLE&quot;)" class="string">&quot;TABLE&quot;</span>, <span title="String(&quot;VIEW&quot;)" class="string">&quot;VIEW&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#45677" title="(execution: java.sql.Connection =&gt; List[String])List[String]">readOnlyWithConnection</a> <span class="delimiter">{</span> <a title="java.sql.Connection" id="53033">conn</a> =&gt;
    <span class="keyword">val</span> <a title="java.sql.DatabaseMetaData" id="53034">meta</a> = <a href="#53033" title="java.sql.Connection">conn</a>.<span title="()java.sql.DatabaseMetaData">getMetaData</span>
    <span class="keyword">val</span> <a href="#98435" title="(x: (String, String))(String, String)" class="delimiter">(</a><a href="#98433" title="String" id="53036">schema</a>, <a href="#98433" title="String" id="53037">_tableNamePattern</a><span class="delimiter">)</span> = <a href="#45702" title="(name: String)(String, String)">toSchemaAndTable</a><a href="#98433" title="(String, String) @unchecked" class="delimiter">(</a><a href="#52148" title="String">tableNamePattern</a>.<span title="(x$1: String, x$2: String)String">replaceAll</span><span class="delimiter">(</span><span title="String(&quot;\\*&quot;)" class="string">&quot;\\*&quot;</span>, <span title="String(&quot;%&quot;)" class="string">&quot;%&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="scalikejdbc.ResultSetTraversable" class="keyword">new</span> <a href="#45659" title="scalikejdbc.ResultSetTraversable">RSTraversable</a><span class="delimiter">(</span><a href="#53034" title="java.sql.DatabaseMetaData">meta</a>.<span title="(x$1: String, x$2: String, x$3: String, x$4: Array[String])java.sql.ResultSet">getTables</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <a href="#53036" title="String">schema</a>, <a href="#53037" title="String">_tableNamePattern</a>, <a href="#52149" title="Array[String]">tableTypes</a><span class="delimiter">)</span><span class="delimiter">)</span>
      .<span title="(f: scalikejdbc.WrappedResultSet =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Traversable[scalikejdbc.WrappedResultSet],String,Traversable[String]])Traversable[String]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Traversable.Coll,String,Traversable[String]]" class="delimiter">{</span> <a title="scalikejdbc.WrappedResultSet" id="53892">rs</a> =&gt;
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#53036" title="String">schema</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#53036" title="String">schema</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#53892" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#54025" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;TABLE_NAME&quot;)" class="string">&quot;TABLE_NAME&quot;</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#53892" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#54025" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;TABLE_NAME&quot;)" class="string">&quot;TABLE_NAME&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<span title="=&gt; List[String]">toList</span>
  <span class="delimiter">}</span>

  /**
   * Returns all the column names on the matched table name
   */
  <span class="keyword">def</span> <a title="(tableName: String, tableTypes: Array[String])List[String]" id="45704">getColumnNames</a><span class="delimiter">(</span><a title="String" id="52171">tableName</a>: <span title="String">String</span>, <a title="Array[String]" id="52174">tableTypes</a>: <span title="Array[String]">Array</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="(xs: String*)(implicit evidence$2: scala.reflect.ClassTag[String])Array[String]">Array</span><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[String]" class="delimiter">(</span><span title="String(&quot;TABLE&quot;)" class="string">&quot;TABLE&quot;</span>, <span title="String(&quot;VIEW&quot;)" class="string">&quot;VIEW&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(meta: java.sql.DatabaseMetaData, schema: String, table: String, tableTypes: Array[String])Option[String]" id="54556">_getTableName</a><span class="delimiter">(</span><a title="java.sql.DatabaseMetaData" id="54560">meta</a>: <span title="java.sql.DatabaseMetaData">DatabaseMetaData</span>, <a title="String" id="54561">schema</a>: <span title="String">String</span>, <a title="String" id="54562">table</a>: <span title="String">String</span>, <a title="Array[String]" id="54563">tableTypes</a>: <span title="Array[String]">Array</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span title="scalikejdbc.ResultSetTraversable" class="keyword">new</span> <a href="#45659" title="scalikejdbc.ResultSetTraversable">RSTraversable</a><span class="delimiter">(</span><a href="#54560" title="java.sql.DatabaseMetaData">meta</a>.<span title="(x$1: String, x$2: String, x$3: String, x$4: Array[String])java.sql.ResultSet">getTables</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <a href="#54561" title="String">schema</a>, <a href="#54562" title="String">table</a>, <a href="#54563" title="Array[String]">tableTypes</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: scalikejdbc.WrappedResultSet =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Traversable[scalikejdbc.WrappedResultSet],String,Traversable[String]])Traversable[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Traversable.Coll,String,Traversable[String]]" class="delimiter">(</span><a title="scalikejdbc.WrappedResultSet" id="54583">rs</a> =&gt; <a href="#54583" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#54025" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;TABLE_NAME&quot;)" class="string">&quot;TABLE_NAME&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Option[String]">headOption</span>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a href="#98441" title="(x: (String, String))(String, String)" class="delimiter">(</a><a href="#98439" title="String" id="54558">schema</a>, <a href="#98439" title="String" id="54559">table</a><span class="delimiter">)</span> = <a href="#45702" title="(name: String)(String, String)">toSchemaAndTable</a><a href="#98439" title="(String, String) @unchecked" class="delimiter">(</a><a href="#52171" title="String">tableName</a><span class="delimiter">)</span>
    <a href="#45677" title="(execution: java.sql.Connection =&gt; Option[List[String]])Option[List[String]]">readOnlyWithConnection</a> <span class="delimiter">{</span> <a title="java.sql.Connection" id="54624">conn</a> =&gt;
      <span class="keyword">val</span> <a title="java.sql.DatabaseMetaData" id="54625">meta</a> = <a href="#54624" title="java.sql.Connection">conn</a>.<span title="()java.sql.DatabaseMetaData">getMetaData</span>
      <a href="#54556" title="(meta: java.sql.DatabaseMetaData, schema: String, table: String, tableTypes: Array[String])Option[String]">_getTableName</a><span class="delimiter">(</span><a href="#54625" title="java.sql.DatabaseMetaData">meta</a>, <a href="#54558" title="String">schema</a>, <a href="#54559" title="String">table</a>, <a href="#52174" title="Array[String]">tableTypes</a><span class="delimiter">)</span>
        .<span title="(alternative: =&gt; Option[String])Option[String]">orElse</span><span class="delimiter">(</span><a href="#54556" title="(meta: java.sql.DatabaseMetaData, schema: String, table: String, tableTypes: Array[String])Option[String]">_getTableName</a><span class="delimiter">(</span><a href="#54625" title="java.sql.DatabaseMetaData">meta</a>, <a href="#54558" title="String">schema</a>, <a href="#54559" title="String">table</a>.<span title="()String">toUpperCase</span>, <a href="#52174" title="Array[String]">tableTypes</a><span class="delimiter">)</span><span class="delimiter">)</span>
        .<span title="(alternative: =&gt; Option[String])Option[String]">orElse</span><span class="delimiter">(</span><a href="#54556" title="(meta: java.sql.DatabaseMetaData, schema: String, table: String, tableTypes: Array[String])Option[String]">_getTableName</a><span class="delimiter">(</span><a href="#54625" title="java.sql.DatabaseMetaData">meta</a>, <a href="#54558" title="String">schema</a>, <a href="#54559" title="String">table</a>.<span title="()String">toLowerCase</span>, <a href="#52174" title="Array[String]">tableTypes</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: String =&gt; List[String])Option[List[String]]">map</span> <span class="delimiter">{</span> <a title="String" id="54641">tableName</a> =&gt;
          <span title="scalikejdbc.ResultSetTraversable" class="keyword">new</span> <a href="#45659" title="scalikejdbc.ResultSetTraversable">RSTraversable</a><span class="delimiter">(</span><a href="#54625" title="java.sql.DatabaseMetaData">meta</a>.<span title="(x$1: String, x$2: String, x$3: String, x$4: String)java.sql.ResultSet">getColumns</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <a href="#54558" title="String">schema</a>, <a href="#54641" title="String">tableName</a>, <span title="String(&quot;%&quot;)" class="string">&quot;%&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: scalikejdbc.WrappedResultSet =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Traversable[scalikejdbc.WrappedResultSet],String,Traversable[String]])Traversable[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Traversable.Coll,String,Traversable[String]]" class="delimiter">(</span><a href="#54661" title="scalikejdbc.WrappedResultSet">_</a>.<a href="WrappedResultSet.scala.html#54025" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;COLUMN_NAME&quot;)" class="string">&quot;COLUMN_NAME&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; List[String]">toList</span>.<span title="=&gt; List[String]">distinct</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>.<span title="(default: =&gt; List[String])List[String]">getOrElse</span><span class="delimiter">(</span><span title="scala.collection.immutable.Nil.type">Nil</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Returns table information if exists
   *
   * @param table table name (with schema optionally)
   * @return table information
   */
  <span class="keyword">def</span> <a title="(table: String)Option[scalikejdbc.metadata.Table]" id="45705">getTable</a><span class="delimiter">(</span><a title="String" id="52165">table</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[scalikejdbc.metadata.Table]">Option</span><span class="delimiter">[</span>Table<span class="delimiter">]</span> = <a href="#45677" title="(execution: java.sql.Connection =&gt; Option[scalikejdbc.metadata.Table])Option[scalikejdbc.metadata.Table]">readOnlyWithConnection</a> <span class="delimiter">{</span> <a title="java.sql.Connection" id="54695">conn</a> =&gt;
    <span class="keyword">val</span> <a title="java.sql.DatabaseMetaData" id="54696">meta</a> = <a href="#54695" title="java.sql.Connection">conn</a>.<span title="()java.sql.DatabaseMetaData">getMetaData</span>
    <a href="#45706" title="(meta: java.sql.DatabaseMetaData, table: String, tableTypes: Array[String])Option[scalikejdbc.metadata.Table]">_getTable</a><span class="delimiter">(</span><a href="#54696" title="java.sql.DatabaseMetaData">meta</a>, <a href="#52165" title="String">table</a><span class="delimiter">)</span>.<span title="(alternative: =&gt; Option[scalikejdbc.metadata.Table])Option[scalikejdbc.metadata.Table]">orElse</span><span class="delimiter">(</span><a href="#45706" title="(meta: java.sql.DatabaseMetaData, table: String, tableTypes: Array[String])Option[scalikejdbc.metadata.Table]">_getTable</a><span class="delimiter">(</span><a href="#54696" title="java.sql.DatabaseMetaData">meta</a>, <a href="#52165" title="String">table</a>.<span title="()String">toUpperCase</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(alternative: =&gt; Option[scalikejdbc.metadata.Table])Option[scalikejdbc.metadata.Table]">orElse</span><span class="delimiter">(</span><a href="#45706" title="(meta: java.sql.DatabaseMetaData, table: String, tableTypes: Array[String])Option[scalikejdbc.metadata.Table]">_getTable</a><span class="delimiter">(</span><a href="#54696" title="java.sql.DatabaseMetaData">meta</a>, <a href="#52165" title="String">table</a>.<span title="()String">toLowerCase</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Returns table information if exists
   *
   * @param meta database meta data
   * @param table table name (with schema optionally)
   * @param tableTypes target table types
   * @return table information
   */
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(meta: java.sql.DatabaseMetaData, table: String, tableTypes: Array[String])Option[scalikejdbc.metadata.Table]" id="45706">_getTable</a><span class="delimiter">(</span><a title="java.sql.DatabaseMetaData" id="54697">meta</a>: <span title="java.sql.DatabaseMetaData">DatabaseMetaData</span>, <a title="String" id="54698">table</a>: <span title="String">String</span>, <a title="Array[String]" id="54701">tableTypes</a>: <span title="Array[String]">Array</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="(xs: String*)(implicit evidence$2: scala.reflect.ClassTag[String])Array[String]">Array</span><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[String]" class="delimiter">(</span><span title="String(&quot;TABLE&quot;)" class="string">&quot;TABLE&quot;</span>, <span title="String(&quot;VIEW&quot;)" class="string">&quot;VIEW&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>: <span title="Option[scalikejdbc.metadata.Table]">Option</span><span class="delimiter">[</span>Table<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a href="#98447" title="(x: (String, String))(String, String)" class="delimiter">(</a><a href="#98445" title="String" id="54759">schema</a>, <a href="#98445" title="String" id="54760">_table</a><span class="delimiter">)</span> = <a href="#45702" title="(name: String)(String, String)">toSchemaAndTable</a><a href="#98445" title="(String, String) @unchecked" class="delimiter">(</a><a href="#54698" title="String">table</a><span class="delimiter">)</span>
    <span title="scalikejdbc.ResultSetTraversable" class="keyword">new</span> <a href="#45659" title="scalikejdbc.ResultSetTraversable">RSTraversable</a><span class="delimiter">(</span><a href="#54697" title="java.sql.DatabaseMetaData">meta</a>.<span title="(x$1: String, x$2: String, x$3: String, x$4: Array[String])java.sql.ResultSet">getTables</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <a href="#54759" title="String">schema</a>, <a href="#54760" title="String">_table</a>, <a href="#54701" title="Array[String]">tableTypes</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: scalikejdbc.WrappedResultSet =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Traversable[scalikejdbc.WrappedResultSet],String,Traversable[String]])Traversable[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Traversable.Coll,String,Traversable[String]]" class="delimiter">(</span><a title="scalikejdbc.WrappedResultSet" id="54791">rs</a> =&gt; <a href="#54791" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#54025" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;TABLE_NAME&quot;)" class="string">&quot;TABLE_NAME&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Option[String]">headOption</span>.<span title="(f: String =&gt; scalikejdbc.metadata.Table)Option[scalikejdbc.metadata.Table]">map</span> <span class="delimiter">{</span> <a title="String" id="54817">tableNameFound</a> =&gt;
      <span class="keyword">val</span> <a title="Traversable[String]" id="54818">pkNames</a>: <span title="Traversable[String]">Traversable</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="scalikejdbc.ResultSetTraversable" class="keyword">new</span> <a href="#45659" title="scalikejdbc.ResultSetTraversable">RSTraversable</a><span class="delimiter">(</span><a href="#54697" title="java.sql.DatabaseMetaData">meta</a>.<span title="(x$1: String, x$2: String, x$3: String)java.sql.ResultSet">getPrimaryKeys</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <a href="#54759" title="String">schema</a>, <a href="#54760" title="String">_table</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: scalikejdbc.WrappedResultSet =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Traversable[scalikejdbc.WrappedResultSet],String,Traversable[String]])Traversable[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Traversable.Coll,String,Traversable[String]]" class="delimiter">(</span><a title="scalikejdbc.WrappedResultSet" id="54838">rs</a> =&gt; <a href="#54838" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#54025" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;COLUMN_NAME&quot;)" class="string">&quot;COLUMN_NAME&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="metadata/Table.scala.html#54873" title="(name: String, schema: String, description: String, columns: List[scalikejdbc.metadata.Column], foreignKeys: List[scalikejdbc.metadata.ForeignKey], indices: List[scalikejdbc.metadata.Index])scalikejdbc.metadata.Table">Table</a><span class="delimiter">(</span>
        name = <a href="#54760" title="String">_table</a>,
        schema = <a href="#54759" title="String">schema</a>,
        description = <span title="scalikejdbc.ResultSetTraversable" class="keyword">new</span> <a href="#45659" title="scalikejdbc.ResultSetTraversable">RSTraversable</a><span class="delimiter">(</span><a href="#54697" title="java.sql.DatabaseMetaData">meta</a>.<span title="(x$1: String, x$2: String, x$3: String, x$4: Array[String])java.sql.ResultSet">getTables</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <a href="#54759" title="String">schema</a>, <a href="#54760" title="String">_table</a>, <a href="#54701" title="Array[String]">tableTypes</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: scalikejdbc.WrappedResultSet =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Traversable[scalikejdbc.WrappedResultSet],String,Traversable[String]])Traversable[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Traversable.Coll,String,Traversable[String]]" class="delimiter">(</span><a title="scalikejdbc.WrappedResultSet" id="54941">rs</a> =&gt; <a href="#54941" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#54025" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;REMARKS&quot;)" class="string">&quot;REMARKS&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Option[String]">headOption</span>.<span title="[A1 &gt;: String](implicit ev: &lt;:&lt;[Null,A1])A1">orNull</span><span title="(implicit ev: &lt;:&lt;[Null,String])String" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span>,
        columns = <span title="scalikejdbc.ResultSetTraversable" class="keyword">new</span> <a href="#45659" title="scalikejdbc.ResultSetTraversable">RSTraversable</a><span class="delimiter">(</span><a href="#54697" title="java.sql.DatabaseMetaData">meta</a>.<span title="(x$1: String, x$2: String, x$3: String, x$4: String)java.sql.ResultSet">getColumns</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <a href="#54759" title="String">schema</a>, <a href="#54760" title="String">_table</a>, <span title="String(&quot;%&quot;)" class="string">&quot;%&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: scalikejdbc.WrappedResultSet =&gt; scalikejdbc.metadata.Column)(implicit bf: scala.collection.generic.CanBuildFrom[Traversable[scalikejdbc.WrappedResultSet],scalikejdbc.metadata.Column,Traversable[scalikejdbc.metadata.Column]])Traversable[scalikejdbc.metadata.Column]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Traversable.Coll,scalikejdbc.metadata.Column,Traversable[scalikejdbc.metadata.Column]]" class="delimiter">{</span> <a title="scalikejdbc.WrappedResultSet" id="54987">rs</a> =&gt;
          <a href="metadata/Column.scala.html#55001" title="(name: String, typeCode: Int, typeName: String, size: Int, isRequired: Boolean, isPrimaryKey: Boolean, isAutoIncrement: Boolean, description: String, defaultValue: String)scalikejdbc.metadata.Column">Column</a><span class="delimiter">(</span>
            name = <a href="#54987" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#54025" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;COLUMN_NAME&quot;)" class="string">&quot;COLUMN_NAME&quot;</span><span class="delimiter">)</span>,
            typeCode = <a href="#54987" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#53976" title="(columnLabel: String)Int">int</a><span class="delimiter">(</span><span title="String(&quot;DATA_TYPE&quot;)" class="string">&quot;DATA_TYPE&quot;</span><span class="delimiter">)</span>,
            typeName = <a href="#54987" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#54025" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;TYPE_NAME&quot;)" class="string">&quot;TYPE_NAME&quot;</span><span class="delimiter">)</span>,
            size = <a href="#54987" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#53976" title="(columnLabel: String)Int">int</a><span class="delimiter">(</span><span title="String(&quot;COLUMN_SIZE&quot;)" class="string">&quot;COLUMN_SIZE&quot;</span><span class="delimiter">)</span>,
            isRequired = <a href="#54987" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#54025" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;IS_NULLABLE&quot;)" class="string">&quot;IS_NULLABLE&quot;</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#54987" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#54025" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;IS_NULLABLE&quot;)" class="string">&quot;IS_NULLABLE&quot;</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="String(&quot;NO&quot;)" class="string">&quot;NO&quot;</span>,
            isPrimaryKey = <a href="#54818" title="Traversable[String]">pkNames</a>.<span title="(p: String =&gt; Boolean)Option[String]">find</span><span class="delimiter">(</span><a title="String" id="55140">pk</a> =&gt; <a href="#55140" title="String">pk</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#54987" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#54025" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;COLUMN_NAME&quot;)" class="string">&quot;COLUMN_NAME&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Boolean">isDefined</span>,
            isAutoIncrement = <span class="delimiter">{</span>
              // Oracle throws java.sql.SQLException: Invalid column name
              <span class="keyword">try</span> <span class="delimiter">{</span>
                <a href="#54987" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#54025" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;IS_AUTOINCREMENT&quot;)" class="string">&quot;IS_AUTOINCREMENT&quot;</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#54987" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#54025" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;IS_AUTOINCREMENT&quot;)" class="string">&quot;IS_AUTOINCREMENT&quot;</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="String(&quot;YES&quot;)" class="string">&quot;YES&quot;</span>
              <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="Boolean(false)" id="55167">e</a>: java.sql.<span title="java.sql.SQLException">SQLException</span> =&gt; <span title="Boolean(false)" class="keyword">false</span> <span class="delimiter">}</span>
            <span class="delimiter">}</span>,
            description = <span class="delimiter">{</span>
              <span class="keyword">try</span> <span class="delimiter">{</span>
                <a href="#54987" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#54025" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;REMARKS&quot;)" class="string">&quot;REMARKS&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="Null(null)" id="55172">e</a>: java.sql.<span title="java.sql.SQLException">SQLException</span> =&gt; <span title="Null(null)" class="keyword">null</span> <span class="delimiter">}</span>
            <span class="delimiter">}</span>,
            defaultValue = <span class="delimiter">{</span>
              // for Oracle support
              <span class="keyword">try</span> <span class="delimiter">{</span>
                <a href="#54987" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#54025" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;COLUMN_DEF&quot;)" class="string">&quot;COLUMN_DEF&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="Null(null)" id="55177">e</a>: java.sql.<span title="java.sql.SQLException">SQLException</span> =&gt; <span title="Null(null)" class="keyword">null</span> <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>.<span title="=&gt; List[scalikejdbc.metadata.Column]">toList</span>.<span title="=&gt; List[scalikejdbc.metadata.Column]">distinct</span>,
        foreignKeys = <span class="delimiter">{</span>
          <span class="keyword">try</span> <span class="delimiter">{</span>
            <span title="scalikejdbc.ResultSetTraversable" class="keyword">new</span> <a href="#45659" title="scalikejdbc.ResultSetTraversable">RSTraversable</a><span class="delimiter">(</span><a href="#54697" title="java.sql.DatabaseMetaData">meta</a>.<span title="(x$1: String, x$2: String, x$3: String)java.sql.ResultSet">getImportedKeys</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <a href="#54759" title="String">schema</a>, <a href="#54760" title="String">_table</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: scalikejdbc.WrappedResultSet =&gt; scalikejdbc.metadata.ForeignKey)(implicit bf: scala.collection.generic.CanBuildFrom[Traversable[scalikejdbc.WrappedResultSet],scalikejdbc.metadata.ForeignKey,Traversable[scalikejdbc.metadata.ForeignKey]])Traversable[scalikejdbc.metadata.ForeignKey]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Traversable.Coll,scalikejdbc.metadata.ForeignKey,Traversable[scalikejdbc.metadata.ForeignKey]]" class="delimiter">{</span> <a title="scalikejdbc.WrappedResultSet" id="55236">rs</a> =&gt;
              <a href="metadata/ForeignKey.scala.html#55239" title="(name: String, foreignColumnName: String, foreignTableName: String)scalikejdbc.metadata.ForeignKey">ForeignKey</a><span class="delimiter">(</span>
                name = <a href="#55236" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#54025" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;FKCOLUMN_NAME&quot;)" class="string">&quot;FKCOLUMN_NAME&quot;</span><span class="delimiter">)</span>,
                foreignColumnName = <a href="#55236" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#54025" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;PKCOLUMN_NAME&quot;)" class="string">&quot;PKCOLUMN_NAME&quot;</span><span class="delimiter">)</span>,
                foreignTableName = <a href="#55236" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#54025" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;PKTABLE_NAME&quot;)" class="string">&quot;PKTABLE_NAME&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="delimiter">}</span>.<span title="=&gt; List[scalikejdbc.metadata.ForeignKey]">toList</span>.<span title="=&gt; List[scalikejdbc.metadata.ForeignKey]">distinct</span>
          <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="scala.collection.immutable.Nil.type" id="55315">e</a>: java.sql.<span title="java.sql.SQLException">SQLException</span> =&gt; <span title="scala.collection.immutable.Nil.type">Nil</span> <span class="delimiter">}</span>
        <span class="delimiter">}</span>,
        indices = <span class="delimiter">{</span>
          <span class="keyword">try</span> <span class="delimiter">{</span>
            <span title="scalikejdbc.ResultSetTraversable" class="keyword">new</span> <a href="#45659" title="scalikejdbc.ResultSetTraversable">RSTraversable</a><span class="delimiter">(</span><a href="#54697" title="java.sql.DatabaseMetaData">meta</a>.<span title="(x$1: String, x$2: String, x$3: String, x$4: Boolean, x$5: Boolean)java.sql.ResultSet">getIndexInfo</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <a href="#54759" title="String">schema</a>, <a href="#54760" title="String">_table</a>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
              .<span title="(z: scala.collection.immutable.Map[String,scalikejdbc.metadata.Index])(op: (scala.collection.immutable.Map[String,scalikejdbc.metadata.Index], scalikejdbc.WrappedResultSet) =&gt; scala.collection.immutable.Map[String,scalikejdbc.metadata.Index])scala.collection.immutable.Map[String,scalikejdbc.metadata.Index]">foldLeft</span><span class="delimiter">(</span><span title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</span><span title="(elems: (String, scalikejdbc.metadata.Index)*)scala.collection.immutable.Map[String,scalikejdbc.metadata.Index]" class="delimiter">[</span><span title="String">String</span>, <a href="metadata/Index.scala.html#9590" title="scalikejdbc.metadata.Index">Index</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#55351" title="(_1: scala.collection.immutable.Map[String,scalikejdbc.metadata.Index], _2: scalikejdbc.WrappedResultSet)(scala.collection.immutable.Map[String,scalikejdbc.metadata.Index], scalikejdbc.WrappedResultSet)" class="delimiter">{</a>
                <span class="keyword">case</span> <span class="delimiter">(</span><a href="#98451" title="scala.collection.immutable.Map[String,scalikejdbc.metadata.Index]" id="55361">map</a>, <a href="#98451" title="scalikejdbc.WrappedResultSet" id="55362">rs</a><span class="delimiter">)</span> =&gt;
                  <span class="keyword">val</span> <a title="String" id="55363">indexName</a> = <a href="#55362" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#54025" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;INDEX_NAME&quot;)" class="string">&quot;INDEX_NAME&quot;</span><span class="delimiter">)</span>
                  <span class="keyword">val</span> <a title="scalikejdbc.metadata.Index" id="55364">index</a> = <a href="#55361" title="scala.collection.immutable.Map[String,scalikejdbc.metadata.Index]">map</a>.<span title="(key: String)Option[scalikejdbc.metadata.Index]">get</span><span class="delimiter">(</span><a href="#55363" title="String">indexName</a><span class="delimiter">)</span>.<span title="(f: scalikejdbc.metadata.Index =&gt; scalikejdbc.metadata.Index)Option[scalikejdbc.metadata.Index]">map</span> <span class="delimiter">{</span> <a title="scalikejdbc.metadata.Index" id="55375">index</a> =&gt;
                    <a href="#55375" title="scalikejdbc.metadata.Index">index</a>.<a href="metadata/Index.scala.html#55384" title="String" id="55405">copy</a><span class="delimiter">(</span>columnNames = <a href="#55362" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#54025" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;COLUMN_NAME&quot;)" class="string">&quot;COLUMN_NAME&quot;</span><span class="delimiter">)</span> <a href="#55393" title="List[String]" id="55403">::</a> <a href="#55375" title="scalikejdbc.metadata.Index">index</a>.<a href="metadata/Index.scala.html#55331" title="=&gt; List[String]">columnNames</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>.<span title="(default: =&gt; scalikejdbc.metadata.Index)scalikejdbc.metadata.Index">getOrElse</span> <span class="delimiter">{</span>
                    <a href="metadata/Index.scala.html#55413" title="(name: String, columnNames: List[String], isUnique: Boolean)scalikejdbc.metadata.Index">Index</a><span class="delimiter">(</span>
                      name = <a href="#55363" title="String">indexName</a>,
                      columnNames = <span title="(xs: String*)List[String]">List</span><span class="delimiter">(</span><a href="#55362" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#54025" title="(columnLabel: String)String">string</a><span class="delimiter">(</span><span title="String(&quot;COLUMN_NAME&quot;)" class="string">&quot;COLUMN_NAME&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>,
                      isUnique = <span title="=&gt; Boolean">!</span><a href="#55362" title="scalikejdbc.WrappedResultSet">rs</a>.<a href="WrappedResultSet.scala.html#53927" title="(columnLabel: String)Boolean">boolean</a><span class="delimiter">(</span><span title="String(&quot;NON_UNIQUE&quot;)" class="string">&quot;NON_UNIQUE&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                  <a href="#55361" title="scala.collection.immutable.Map[String,scalikejdbc.metadata.Index]">map</a>.<span title="(key: String, value: scalikejdbc.metadata.Index)scala.collection.immutable.Map[String,scalikejdbc.metadata.Index]">updated</span><span class="delimiter">(</span><a href="#55363" title="String">indexName</a>, <a href="#55364" title="scalikejdbc.metadata.Index">index</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>.<span title="(f: ((String, scalikejdbc.metadata.Index)) =&gt; scalikejdbc.metadata.Index)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[String,scalikejdbc.metadata.Index],scalikejdbc.metadata.Index,scala.collection.immutable.Iterable[scalikejdbc.metadata.Index]])scala.collection.immutable.Iterable[scalikejdbc.metadata.Index]">map</span> <a href="#55506" title="(String, scalikejdbc.metadata.Index)" class="delimiter">{</a> <span class="keyword">case</span> <span class="delimiter">(</span>k, <a href="#98457" title="scalikejdbc.metadata.Index" id="55510">v</a><span class="delimiter">)</span> =&gt; <a href="#98459" title="(x: scalikejdbc.metadata.Index)scalikejdbc.metadata.Index">v</a> <span class="delimiter">}</span>.<span title="=&gt; List[scalikejdbc.metadata.Index]">toList</span>.<span title="=&gt; List[scalikejdbc.metadata.Index]">distinct</span>
          <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="scala.collection.immutable.Nil.type" id="55908">e</a>: java.sql.<span title="java.sql.SQLException">SQLException</span> =&gt; <span title="scala.collection.immutable.Nil.type">Nil</span> <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Returns table name list
   *
   * @param tableNamePattern table name pattern
   * @param tableTypes table types
   * @return table name list
   */
  <span class="keyword">def</span> <a title="(tableNamePattern: String, tableTypes: Array[String])String" id="45707">showTables</a><span class="delimiter">(</span><a title="String" id="52211">tableNamePattern</a>: <span title="String">String</span> = <span title="String(&quot;%&quot;)" class="string">&quot;%&quot;</span>, <a title="Array[String]" id="52212">tableTypes</a>: <span title="Array[String]">Array</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="(xs: String*)(implicit evidence$2: scala.reflect.ClassTag[String])Array[String]">Array</span><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[String]" class="delimiter">(</span><span title="String(&quot;TABLE&quot;)" class="string">&quot;TABLE&quot;</span>, <span title="String(&quot;VIEW&quot;)" class="string">&quot;VIEW&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <a href="#45703" title="(tableNamePattern: String, tableTypes: Array[String])List[String]">getTableNames</a><span class="delimiter">(</span><a href="#52211" title="String">tableNamePattern</a>, <a href="#52212" title="Array[String]">tableTypes</a><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Returns describe style string value for the table
   *
   * @param table table name (with schema optionally)
   * @return described information
   */
  <span class="keyword">def</span> <a title="(table: String)String" id="45708">describe</a><span class="delimiter">(</span><a title="String" id="52217">table</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <a href="#45705" title="(table: String)Option[scalikejdbc.metadata.Table]">getTable</a><span class="delimiter">(</span><a href="#52217" title="String">table</a><span class="delimiter">)</span>.<span title="(f: scalikejdbc.metadata.Table =&gt; String)Option[String]">map</span><span class="delimiter">(</span><a title="scalikejdbc.metadata.Table" id="55936">t</a> =&gt; <a href="#55936" title="scalikejdbc.metadata.Table">t</a>.<a href="metadata/Table.scala.html#54730" title="=&gt; String">toDescribeStyleString</a><span class="delimiter">)</span>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="String(&quot;Not found.&quot;)" class="string">&quot;Not found.&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>