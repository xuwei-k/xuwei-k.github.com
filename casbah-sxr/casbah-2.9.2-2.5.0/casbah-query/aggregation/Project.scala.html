<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>casbah-query/aggregation/Project.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (c) 2010 - 2013 10gen, Inc. &lt;http://10gen.com&gt;
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * For questions and comments about this product, please see the project page at:
 *
 *     http://github.com/mongodb/casbah
 *
 */</span>

<span class="keyword">package</span> com.mongodb.casbah.query.dsl
<span class="keyword">package</span> aggregation

<span class="keyword">import</span> com.mongodb.casbah.query.<a href="../Implicits.scala.html#11537" title="object com.mongodb.casbah.query.Imports">Imports</a>._
<span class="keyword">import</span> com.mongodb.casbah.query.ChainedOperator

<span class="comment">/**
 * Base trait to implement $project
 *
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.PipelineOperator with ScalaObject" id="11975">ProjectOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="package.scala.html#11954" title="com.mongodb.casbah.query.dsl.aggregation.PipelineOperator">PipelineOperator</a> <span class="delimiter">{</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="java.lang.String" id="87279">operator</a> = <span title="java.lang.String(&quot;$project&quot;)" class="string">&quot;$project&quot;</span>

  <span class="comment">// TODO - Validate only valid field entries?</span>
  <span class="keyword">def</span> <a title="(target: com.mongodb.casbah.query.Imports.DBObject)com.mongodb.casbah.query.dsl.aggregation.AggregationPipeline" id="87281">$project</a><span class="delimiter">(</span><a title="com.mongodb.casbah.query.Imports.DBObject" id="87857">target</a>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span><span class="delimiter">)</span> = <a href="package.scala.html#87254" title="(oper: String, target: Any)com.mongodb.casbah.query.dsl.aggregation.AggregationPipeline">op</a><span class="delimiter">(</span><a href="#87279" title="=&gt; java.lang.String">operator</a>, <a href="#87857" title="com.mongodb.casbah.query.Imports.DBObject">target</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(fields: (String, Any)*)com.mongodb.casbah.query.dsl.aggregation.AggregationPipeline" id="87282">$project</a><span class="delimiter">(</span><a title="(String, Any)*" id="87860">fields</a>: <span title="(String, Any)*" class="delimiter">(</span>String, Any<span class="delimiter">)</span>*<span class="delimiter">)</span> = <span class="delimiter">{</span>
     <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[(String, Any),com.mongodb.casbah.commons.Imports.DBObject]" id="87863">bldr</a> = <a href="../../casbah-commons/Implicits.scala.html#14704" title="=&gt; com.mongodb.casbah.commons.MongoDBObject.type">MongoDBObject</a>.<a href="../../casbah-commons/MongoDBObject.scala.html#14694" title="scala.collection.mutable.Builder[(String, Any),com.mongodb.casbah.commons.Imports.DBObject]">newBuilder</a>
     <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="String" id="87917">k</a>, <a title="Any" id="87918">v</a><span class="delimiter">)</span> &lt;- <a href="#87860" title="(f: ((String, Any)) =&gt; scala.collection.mutable.Builder[(String, Any),com.mongodb.casbah.commons.Imports.DBObject])Unit">fields</a><span class="delimiter">)</span> <a href="#87863" title="scala.collection.mutable.Builder[(String, Any),com.mongodb.casbah.commons.Imports.DBObject]">bldr</a> <span title="(elem: (String, Any))bldr.type">+=</span> <a href="#87917" title="(x: String)ArrowAssoc[String]">k</a> <span title="(y: Any)(String, Any)">-&gt;</span> <a href="#87918" title="Any">v</a>
     <a href="package.scala.html#87254" title="(oper: String, target: Any)com.mongodb.casbah.query.dsl.aggregation.AggregationPipeline">op</a><span class="delimiter">(</span><a href="#87279" title="=&gt; java.lang.String">operator</a>, <a href="#87863" title="scala.collection.mutable.Builder[(String, Any),com.mongodb.casbah.commons.Imports.DBObject]">bldr</a>.<span title="()com.mongodb.casbah.commons.Imports.DBObject">result</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait ProjectSubOperators extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectAndBooleanOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectOrBooleanOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectNotBooleanOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectCmpComparisonOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectEqComparisonOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectGtComparisonOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectGteComparisonOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectLtComparisonOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectLteComparisonOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectNeComparisonOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectAddArithmeticOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectDivideArithmeticOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectMultiplyArithmeticOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectSubtractArithmeticOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectCaseInsensitiveCompareStringOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectSubstringStringOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectToUpperStringOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectToLowerStringOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectDayOfYearDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectDayOfWeekDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectDayOfMonthDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectMonthDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectWeekDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectHourDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectMinuteDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectSecondDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectCondConditionalOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectIfNullConditionalOperator" id="12119">ProjectSubOperators</a> <span class="keyword">extends</span> <a href="#12104" title="com.mongodb.casbah.query.dsl.aggregation.ProjectAndBooleanOperator">ProjectAndBooleanOperator</a>
  <span class="keyword">with</span> <a href="#11981" title="com.mongodb.casbah.query.dsl.aggregation.ProjectOrBooleanOperator">ProjectOrBooleanOperator</a>
  <span class="keyword">with</span> <a href="#12107" title="com.mongodb.casbah.query.dsl.aggregation.ProjectNotBooleanOperator">ProjectNotBooleanOperator</a>
  <span class="keyword">with</span> <a href="#12101" title="com.mongodb.casbah.query.dsl.aggregation.ProjectCmpComparisonOperator">ProjectCmpComparisonOperator</a>
  <span class="keyword">with</span> <a href="#12176" title="com.mongodb.casbah.query.dsl.aggregation.ProjectEqComparisonOperator">ProjectEqComparisonOperator</a>
  <span class="keyword">with</span> <a href="#12080" title="com.mongodb.casbah.query.dsl.aggregation.ProjectGtComparisonOperator">ProjectGtComparisonOperator</a>
  <span class="keyword">with</span> <a href="#12149" title="com.mongodb.casbah.query.dsl.aggregation.ProjectGteComparisonOperator">ProjectGteComparisonOperator</a>
  <span class="keyword">with</span> <a href="#12185" title="com.mongodb.casbah.query.dsl.aggregation.ProjectLtComparisonOperator">ProjectLtComparisonOperator</a>
  <span class="keyword">with</span> <a href="#12164" title="com.mongodb.casbah.query.dsl.aggregation.ProjectLteComparisonOperator">ProjectLteComparisonOperator</a>
  <span class="keyword">with</span> <a href="#11936" title="com.mongodb.casbah.query.dsl.aggregation.ProjectNeComparisonOperator">ProjectNeComparisonOperator</a>
  <span class="keyword">with</span> <a href="#12044" title="com.mongodb.casbah.query.dsl.aggregation.ProjectAddArithmeticOperator">ProjectAddArithmeticOperator</a>
  <span class="keyword">with</span> <a href="#12143" title="com.mongodb.casbah.query.dsl.aggregation.ProjectDivideArithmeticOperator">ProjectDivideArithmeticOperator</a>
  <span class="keyword">with</span> <a href="#12059" title="com.mongodb.casbah.query.dsl.aggregation.ProjectMultiplyArithmeticOperator">ProjectMultiplyArithmeticOperator</a>
  <span class="keyword">with</span> <a href="#12155" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubtractArithmeticOperator">ProjectSubtractArithmeticOperator</a>
  <span class="keyword">with</span> <a href="#12020" title="com.mongodb.casbah.query.dsl.aggregation.ProjectCaseInsensitiveCompareStringOperator">ProjectCaseInsensitiveCompareStringOperator</a>
  <span class="keyword">with</span> <a href="#12113" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubstringStringOperator">ProjectSubstringStringOperator</a>
  <span class="keyword">with</span> <a href="#12095" title="com.mongodb.casbah.query.dsl.aggregation.ProjectToUpperStringOperator">ProjectToUpperStringOperator</a>
  <span class="keyword">with</span> <a href="#12011" title="com.mongodb.casbah.query.dsl.aggregation.ProjectToLowerStringOperator">ProjectToLowerStringOperator</a>
  <span class="keyword">with</span> <a href="#12098" title="com.mongodb.casbah.query.dsl.aggregation.ProjectDayOfYearDateOperator">ProjectDayOfYearDateOperator</a>
  <span class="keyword">with</span> <a href="#12182" title="com.mongodb.casbah.query.dsl.aggregation.ProjectDayOfWeekDateOperator">ProjectDayOfWeekDateOperator</a>
  <span class="keyword">with</span> <a href="#12161" title="com.mongodb.casbah.query.dsl.aggregation.ProjectDayOfMonthDateOperator">ProjectDayOfMonthDateOperator</a>
  <span class="keyword">with</span> <a href="#12062" title="com.mongodb.casbah.query.dsl.aggregation.ProjectMonthDateOperator">ProjectMonthDateOperator</a>
  <span class="keyword">with</span> <a href="#11972" title="com.mongodb.casbah.query.dsl.aggregation.ProjectWeekDateOperator">ProjectWeekDateOperator</a>
  <span class="keyword">with</span> <a href="#11996" title="com.mongodb.casbah.query.dsl.aggregation.ProjectHourDateOperator">ProjectHourDateOperator</a>
  <span class="keyword">with</span> <a href="#12170" title="com.mongodb.casbah.query.dsl.aggregation.ProjectMinuteDateOperator">ProjectMinuteDateOperator</a>
  <span class="keyword">with</span> <a href="#11930" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSecondDateOperator">ProjectSecondDateOperator</a>
  <span class="keyword">with</span> <a href="#12014" title="com.mongodb.casbah.query.dsl.aggregation.ProjectCondConditionalOperator">ProjectCondConditionalOperator</a>
  <span class="keyword">with</span> <a href="#12116" title="com.mongodb.casbah.query.dsl.aggregation.ProjectIfNullConditionalOperator">ProjectIfNullConditionalOperator</a>


<span class="keyword">trait</span> <a title="trait ProjectSubExpressionObject extends java.lang.Object" id="12179">ProjectSubExpressionObject</a> <span title="java.lang.Object" class="delimiter">{</span>
  self: DBObject =&gt;
  <span class="keyword">def</span> <a title="=&gt; String" id="87947">field</a>: <span title="String">String</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="12180">ProjectSubExpressionObject</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="keyword">def</span> <a title="[A &lt;: String, B](kv: (A, B))com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="87951">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: String" id="87954">A</a> &lt;: String, <a title="&gt;: Nothing &lt;: Any" id="87955">B</a> &lt;: Any<span class="delimiter">]</span><span class="delimiter">(</span><a title="(A, B)" id="87957">kv</a>: <span title="(A, B)" class="delimiter">(</span>A, B<span class="delimiter">)</span><span class="delimiter">)</span>: <a href="#87958" title="ProjectSubExpressionObject extends com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">DBObject</a> <span class="keyword">with</span> ProjectSubExpressionObject = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="obj extends com.mongodb.BasicDBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="87961">obj</a> = <a href="#87962" title="com.mongodb.BasicDBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject{}" class="keyword">new</a> <a href="../../casbah-commons/Implicits.scala.html#14716" title="anonymous class $anon extends com.mongodb.BasicDBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="87962">BasicDBObject</a> <span class="keyword">with</span> <a href="#12179" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">ProjectSubExpressionObject</a> <span class="delimiter">{</span> <span class="keyword">val</span> <a title="A" id="87964">field</a> = <a href="#87957" title="(A, B)">kv</a>.<span title="=&gt; A">_1</span> <span class="delimiter">}</span>
    <a href="#87961" title="obj extends com.mongodb.BasicDBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">obj</a>.<span title="(x$1: java.lang.String, x$2: Any)java.lang.Object">put</span><span class="delimiter">(</span><a href="#87957" title="(A, B)">kv</a>.<span title="=&gt; A">_1</span>, <a href="#87957" title="(A, B)">kv</a>.<span title="=&gt; B">_2</span><span class="delimiter">)</span>
    <a href="#87961" title="obj extends com.mongodb.BasicDBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">obj</a>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait ProjectSubOperator extends java.lang.Object with com.mongodb.casbah.query.ChainedOperator with ScalaObject" id="12125">ProjectSubOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../Implicits.scala.html#11581" title="com.mongodb.casbah.query.ChainedOperator">ChainedOperator</a> <span class="delimiter">{</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="63353">projectionOp</a><span class="delimiter">(</span><a title="String" id="70058">oper</a>: <span title="String">String</span>, <a title="Any" id="70059">target</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <a href="#70060" title="ProjectSubOperator extends com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">DBObject</a> <span class="keyword">with</span> ProjectSubExpressionObject = <a href="#87951" title="(kv: (String, com.mongodb.casbah.commons.Imports.DBObject))com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">ProjectSubExpressionObject</a><span class="delimiter">(</span><a href="../Implicits.scala.html#63236" title="=&gt; Option[com.mongodb.casbah.commons.Imports.DBObject]">dbObj</a> <span title="(String, com.mongodb.casbah.commons.Imports.DBObject)" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="(String, com.mongodb.casbah.commons.Imports.DBObject)">Some</span><span class="delimiter">(</span><a title="com.mongodb.casbah.commons.Imports.DBObject" id="88086">nested</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
      <a href="#88086" title="com.mongodb.casbah.commons.Imports.DBObject">nested</a>.<span title="(x$1: java.lang.String, x$2: Any)java.lang.Object">put</span><span class="delimiter">(</span><a href="#70058" title="String">oper</a>, <a href="#70059" title="Any">target</a><span class="delimiter">)</span>
      <span class="delimiter">(</span><a href="../Implicits.scala.html#63235" title="(x: String)ArrowAssoc[String]">field</a> <span title="(y: com.mongodb.casbah.commons.Imports.DBObject)(String, com.mongodb.casbah.commons.Imports.DBObject)">-&gt;</span> <a href="#88086" title="com.mongodb.casbah.commons.Imports.DBObject">nested</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">case</span> <span title="(String, com.mongodb.casbah.commons.Imports.DBObject)">None</span> =&gt; <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="com.mongodb.casbah.commons.Imports.DBObject" id="88103">opMap</a> = <a href="../../casbah-commons/MongoDBObject.scala.html#14684" title="(elems: (String, Any)*)com.mongodb.casbah.commons.Imports.DBObject">MongoDBObject</a><span class="delimiter">(</span><a href="#70058" title="(x: String)ArrowAssoc[String]">oper</a> <span title="(y: Any)(String, Any)">-&gt;</span> <a href="#70059" title="Any">target</a><span class="delimiter">)</span>
      <span class="delimiter">(</span><a href="../Implicits.scala.html#63235" title="(x: String)ArrowAssoc[String]">field</a> <span title="(y: com.mongodb.casbah.commons.Imports.DBObject)(String, com.mongodb.casbah.commons.Imports.DBObject)">-&gt;</span> <a href="#88103" title="com.mongodb.casbah.commons.Imports.DBObject">opMap</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**** BOOLEAN OPERATORS */</span>

<span class="comment">/**
 * $and
 *
 * BOOLEAN AND
 *
 * Takes an array of one or more values, returning true/false
 * using short circuiting logic.
 *
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectAndBooleanOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="12104">ProjectAndBooleanOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="[A](fields: A*)(implicit evidence$1: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.DBObject" id="88175">$and</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="63357">A</a> : ValidBarewordExpressionArgType<span class="delimiter">]</span><span class="delimiter">(</span><a title="A*" id="88174">fields</a>: <span title="A*">A</span>*<span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" id="88179">b</a> = <span title="object Seq">Seq</span>.<span title="[A]=&gt; scala.collection.mutable.Builder[A,Seq[A]]">newBuilder</span><span title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" class="delimiter">[</span><span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span><span class="delimiter">]</span>
    <a href="#88174" title="A*">fields</a>.<span title="(f: A =&gt; scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]])Unit">foreach</span><span class="delimiter">(</span><a title="A" id="88196">x</a> =&gt; <a href="#88179" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a> <span title="(elem: com.mongodb.casbah.query.Imports.DBObject)b.type">+=</span> <span title="[T](implicit e: T)T">implicitly</span><a href="#88175" title="(implicit e: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]" class="delimiter">[</a><a href="../Implicits.scala.html#11428" title="com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]">ValidBarewordExpressionArgType</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>.<a href="../Implicits.scala.html#70663" title="(arg: A)com.mongodb.casbah.commons.Imports.DBObject">toDBObject</a><span class="delimiter">(</span><a href="#88196" title="A">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#63358" title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject">$and</a><span class="delimiter">(</span><a href="#88179" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a>.<span title="()Seq[com.mongodb.casbah.query.Imports.DBObject]">result</span><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject" id="63358">$and</a><span class="delimiter">(</span><a title="Seq[com.mongodb.casbah.query.Imports.DBObject]" id="88211">list</a>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$and&quot;)" class="string">&quot;$and&quot;</span>, <a href="#88211" title="Seq[com.mongodb.casbah.query.Imports.DBObject]">list</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $or
 *
 * BOOLEAN OR
 *
 * Takes an array of one or more values, returning true/false
 * using short circuiting logic
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectOrBooleanOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="11981">ProjectOrBooleanOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[A](fields: A*)(implicit evidence$2: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.DBObject" id="88238">$or</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="63362">A</a> : ValidBarewordExpressionArgType<span class="delimiter">]</span><span class="delimiter">(</span><a title="A*" id="88237">fields</a>: <span title="A*">A</span>*<span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" id="88242">b</a> = <span title="object Seq">Seq</span>.<span title="[A]=&gt; scala.collection.mutable.Builder[A,Seq[A]]">newBuilder</span><span title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" class="delimiter">[</span><span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span><span class="delimiter">]</span>
    <a href="#88237" title="A*">fields</a>.<span title="(f: A =&gt; scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]])Unit">foreach</span><span class="delimiter">(</span><a title="A" id="88259">x</a> =&gt; <a href="#88242" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a> <span title="(elem: com.mongodb.casbah.query.Imports.DBObject)b.type">+=</span> <span title="[T](implicit e: T)T">implicitly</span><a href="#88238" title="(implicit e: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]" class="delimiter">[</a><a href="../Implicits.scala.html#11428" title="com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]">ValidBarewordExpressionArgType</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>.<a href="../Implicits.scala.html#70663" title="(arg: A)com.mongodb.casbah.commons.Imports.DBObject">toDBObject</a><span class="delimiter">(</span><a href="#88259" title="A">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#63363" title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject">$or</a><span class="delimiter">(</span><a href="#88242" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a>.<span title="()Seq[com.mongodb.casbah.query.Imports.DBObject]">result</span><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject" id="63363">$or</a><span class="delimiter">(</span><a title="Seq[com.mongodb.casbah.query.Imports.DBObject]" id="88274">list</a>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$or&quot;)" class="string">&quot;$or&quot;</span>, <a href="#88274" title="Seq[com.mongodb.casbah.query.Imports.DBObject]">list</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 *
 * $not
 *
 * BOOLEAN NOT
 *
 * Takes a single argument, either a Boolean or a field containing a boolean,
 * and returns the boolean opposite
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectNotBooleanOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="12107">ProjectNotBooleanOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="63365">$not</a><span class="delimiter">(</span><a title="String" id="88300">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#88300" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span title="java.lang.String(&quot;The $project.$not operator only accepts a $&lt;fieldName&gt; or boolean argument; bare field names will not function. &quot;)" class="string">&quot;The $project.$not operator only accepts a $&lt;fieldName&gt; or boolean argument; bare field names will not function. &quot;</span><span class="delimiter">)</span>
    <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$not&quot;)" class="string">&quot;$not&quot;</span>, <a href="#88300" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(target: Boolean)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="63366">$not</a><span class="delimiter">(</span><a title="Boolean" id="88307">target</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$not&quot;)" class="string">&quot;$not&quot;</span>, <a href="#88307" title="Boolean">target</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="comment">/**** COMPARISON OPERATORS
 * These opers take an array w/ a pair of values.
 * All but $cmp return a boolean
 */</span>

<span class="comment">/**
 * $cmp
 *
 * Compare two values, returning an integer
 *
 * NEGATIVE - First Value &lt; Second Value
 * POSITIVE - First Value &gt; Second Value
 *        0 - Both Values Equal
 *
 *  ex:
 *     &quot;foo&quot; $cmp (&quot;$name1&quot;, &quot;$name2&quot;)
 *
 *  remember for sub-fields to use $, we can't cleanly validate here
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectCmpComparisonOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="12101">ProjectCmpComparisonOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="63368">$cmp</a><span class="delimiter">(</span><a title="Any" id="88312">first</a>: <span title="Any">Any</span>, <a title="Any" id="88313">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$cmp&quot;)" class="string">&quot;$cmp&quot;</span>, <a href="../../casbah-commons/MongoDBList.scala.html#20826" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#88312" title="Any">first</a>, <a href="#88313" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $eq
 *
 * Does first value equal second value?
 *
 * ret. boolean
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectEqComparisonOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="12176">ProjectEqComparisonOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="63370">$eq</a><span class="delimiter">(</span><a title="Any" id="88321">first</a>: <span title="Any">Any</span>, <a title="Any" id="88322">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$eq&quot;)" class="string">&quot;$eq&quot;</span>, <a href="../../casbah-commons/MongoDBList.scala.html#20826" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#88321" title="Any">first</a>, <a href="#88322" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $gt
 *
 * Is first value greater than second value?
 *
 * ret. boolean
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectGtComparisonOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="12080">ProjectGtComparisonOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="63372">$gt</a><span class="delimiter">(</span><a title="Any" id="70054">first</a>: <span title="Any">Any</span>, <a title="Any" id="70055">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$gt&quot;)" class="string">&quot;$gt&quot;</span>, <a href="../../casbah-commons/MongoDBList.scala.html#20826" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#70054" title="Any">first</a>, <a href="#70055" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $gte
 *
 * Is first value greater than or equal to the second value?
 *
 * ret. boolean
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectGteComparisonOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="12149">ProjectGteComparisonOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="63374">$gte</a><span class="delimiter">(</span><a title="Any" id="88332">first</a>: <span title="Any">Any</span>, <a title="Any" id="88333">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$gte&quot;)" class="string">&quot;$gte&quot;</span>, <a href="../../casbah-commons/MongoDBList.scala.html#20826" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#88332" title="Any">first</a>, <a href="#88333" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $lt
 *
 * Is first value less than second value?
 *
 * ret. boolean
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectLtComparisonOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="12185">ProjectLtComparisonOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="63376">$lt</a><span class="delimiter">(</span><a title="Any" id="88341">first</a>: <span title="Any">Any</span>, <a title="Any" id="88342">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$lt&quot;)" class="string">&quot;$lt&quot;</span>, <a href="../../casbah-commons/MongoDBList.scala.html#20826" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#88341" title="Any">first</a>, <a href="#88342" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $lte
 *
 * Is first value less than or equal to the second value?
 *
 * ret. boolean
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectLteComparisonOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="12164">ProjectLteComparisonOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="63378">$lte</a><span class="delimiter">(</span><a title="Any" id="88350">first</a>: <span title="Any">Any</span>, <a title="Any" id="88351">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$lte&quot;)" class="string">&quot;$lte&quot;</span>, <a href="../../casbah-commons/MongoDBList.scala.html#20826" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#88350" title="Any">first</a>, <a href="#88351" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $ne
 *
 * Is first value not equal to the second value?
 *
 * ret. boolean
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectNeComparisonOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="11936">ProjectNeComparisonOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="63380">$ne</a><span class="delimiter">(</span><a title="Any" id="88359">first</a>: <span title="Any">Any</span>, <a title="Any" id="88360">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$ne&quot;)" class="string">&quot;$ne&quot;</span>, <a href="../../casbah-commons/MongoDBList.scala.html#20826" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#88359" title="Any">first</a>, <a href="#88360" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/****** ARITHMETIC OPERATORS */</span>

<span class="comment">/**
 * $add
 *
 * Adds an array of one or more numbers together, returning the resulting sum.
 *
 * Could be #s or field refs.
 *
 * TODO - Typeclass me!
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectAddArithmeticOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="12044">ProjectAddArithmeticOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[A](fields: A*)(implicit evidence$3: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.DBObject" id="88369">$add</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="63384">A</a> : ValidBarewordExpressionArgType<span class="delimiter">]</span><span class="delimiter">(</span><a title="A*" id="88368">fields</a>: <span title="A*">A</span>*<span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" id="88373">b</a> = <span title="object Seq">Seq</span>.<span title="[A]=&gt; scala.collection.mutable.Builder[A,Seq[A]]">newBuilder</span><span title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" class="delimiter">[</span><span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span><span class="delimiter">]</span>
    <a href="#88368" title="A*">fields</a>.<span title="(f: A =&gt; scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]])Unit">foreach</span><span class="delimiter">(</span><a title="A" id="88390">x</a> =&gt; <a href="#88373" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a> <span title="(elem: com.mongodb.casbah.query.Imports.DBObject)b.type">+=</span> <span title="[T](implicit e: T)T">implicitly</span><a href="#88369" title="(implicit e: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]" class="delimiter">[</a><a href="../Implicits.scala.html#11428" title="com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]">ValidBarewordExpressionArgType</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>.<a href="../Implicits.scala.html#70663" title="(arg: A)com.mongodb.casbah.commons.Imports.DBObject">toDBObject</a><span class="delimiter">(</span><a href="#88390" title="A">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#63385" title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject">$add</a><span class="delimiter">(</span><a href="#88373" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a>.<span title="()Seq[com.mongodb.casbah.query.Imports.DBObject]">result</span><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject" id="63385">$add</a><span class="delimiter">(</span><a title="Seq[com.mongodb.casbah.query.Imports.DBObject]" id="88405">list</a>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$add&quot;)" class="string">&quot;$add&quot;</span>, <a href="#88405" title="Seq[com.mongodb.casbah.query.Imports.DBObject]">list</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $multiply
 *
 * Multiply an array of one or more numbers together, returning the result.
 *
 * Could be #s or field refs.
 *
 * TODO - Typeclass me!
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectMultiplyArithmeticOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="12059">ProjectMultiplyArithmeticOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[A](fields: A*)(implicit evidence$4: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.DBObject" id="88432">$multiply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="63391">A</a> : ValidBarewordExpressionArgType<span class="delimiter">]</span><span class="delimiter">(</span><a title="A*" id="88431">fields</a>: <span title="A*">A</span>*<span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" id="88436">b</a> = <span title="object Seq">Seq</span>.<span title="[A]=&gt; scala.collection.mutable.Builder[A,Seq[A]]">newBuilder</span><span title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" class="delimiter">[</span><span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span><span class="delimiter">]</span>
    <a href="#88431" title="A*">fields</a>.<span title="(f: A =&gt; scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]])Unit">foreach</span><span class="delimiter">(</span><a title="A" id="88453">x</a> =&gt; <a href="#88436" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a> <span title="(elem: com.mongodb.casbah.query.Imports.DBObject)b.type">+=</span> <span title="[T](implicit e: T)T">implicitly</span><a href="#88432" title="(implicit e: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]" class="delimiter">[</a><a href="../Implicits.scala.html#11428" title="com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]">ValidBarewordExpressionArgType</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>.<a href="../Implicits.scala.html#70663" title="(arg: A)com.mongodb.casbah.commons.Imports.DBObject">toDBObject</a><span class="delimiter">(</span><a href="#88453" title="A">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#63392" title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject">$multiply</a><span class="delimiter">(</span><a href="#88436" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a>.<span title="()Seq[com.mongodb.casbah.query.Imports.DBObject]">result</span><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject" id="63392">$multiply</a><span class="delimiter">(</span><a title="Seq[com.mongodb.casbah.query.Imports.DBObject]" id="88468">list</a>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$multiply&quot;)" class="string">&quot;$multiply&quot;</span>, <a href="#88468" title="Seq[com.mongodb.casbah.query.Imports.DBObject]">list</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/** NOTE $mod already fully implemented in query DSL; exact same syntax/behavior */</span>

<span class="comment">/**
 * $divide
 *
 * Takes a PAIR of numbers, divides 1/2, returning result
 * Can be field ref or #
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectDivideArithmeticOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="12143">ProjectDivideArithmeticOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(numerator: Any, denominator: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="63387">$divide</a><span class="delimiter">(</span><a title="Any" id="88494">numerator</a>: <span title="Any">Any</span>, <a title="Any" id="88495">denominator</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$divide&quot;)" class="string">&quot;$divide&quot;</span>, <a href="../../casbah-commons/MongoDBList.scala.html#20826" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#88494" title="Any">numerator</a>, <a href="#88495" title="Any">denominator</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $subtract
 *
 * takes a PAIR of numbers, subtracts 2 from 1, returns difference
 *
 * Can be a field ref or #
 * TODO - Typeclass me
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectSubtractArithmeticOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="12155">ProjectSubtractArithmeticOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="63394">$subtract</a><span class="delimiter">(</span><a title="Any" id="88503">first</a>: <span title="Any">Any</span>, <a title="Any" id="88504">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$subtract&quot;)" class="string">&quot;$subtract&quot;</span>, <a href="../../casbah-commons/MongoDBList.scala.html#20826" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#88503" title="Any">first</a>, <a href="#88504" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/***** STRING OPERATORS
 *  note that most of these string operators have serious bugs with non-roman glyphs.
 */</span>

<span class="comment">/**
 * $strcasecmp
 *
 * Takes a PAIR of strings (either a Field ref or an actual string)
 * and compares them in a case-insensitive fashion.
 * RETURN
 *    -# if first &gt; second
 *    +# if first &lt; second
 *     0 if both are identical
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectCaseInsensitiveCompareStringOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="12020">ProjectCaseInsensitiveCompareStringOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: String, second: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="63396">$strcasecmp</a><span class="delimiter">(</span><a title="String" id="88512">first</a>: <span title="String">String</span>, <a title="String" id="88513">second</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$strcasecmp&quot;)" class="string">&quot;$strcasecmp&quot;</span>, <a href="../../casbah-commons/MongoDBList.scala.html#20826" title="(elems: String*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#88512" title="String">first</a>, <a href="#88513" title="String">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $substr
 *
 * Extracts a substring from a string.
 * (String, Int, Int) -
 *   String - A string or field ref to extract from
 *   Int1 - # of bytes to skip
 *   Int2 - # of bytes to return
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectSubstringStringOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="12113">ProjectSubstringStringOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String, skip: Int, ret: Int)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="63398">$substr</a><span class="delimiter">(</span><a title="String" id="88521">target</a>: <span title="String">String</span>, <a title="Int" id="88522">skip</a>: <span title="Int">Int</span>, <a title="Int" id="88523">ret</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$substr&quot;)" class="string">&quot;$substr&quot;</span>, <a href="../../casbah-commons/MongoDBList.scala.html#20826" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#88521" title="String">target</a>, <a href="#88522" title="Int">skip</a>, <a href="#88523" title="Int">ret</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $toLower
 *
 * Convert a string to lowercase, returning the result
 *
 * Target: A string or a field ref
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectToLowerStringOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="12011">ProjectToLowerStringOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="63402">$toLower</a><span class="delimiter">(</span><a title="String" id="88540">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$toLower&quot;)" class="string">&quot;$toLower&quot;</span>, <a href="#88540" title="String">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $toUpper
 *
 * Convert a string to uppercase, returning the result
 *
 * Target: A string or a field ref
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectToUpperStringOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="12095">ProjectToUpperStringOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="63400">$toUpper</a><span class="delimiter">(</span><a title="String" id="88545">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$toUpper&quot;)" class="string">&quot;$toUpper&quot;</span>, <a href="#88545" title="String">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/*** DATE OPERATIONS
 * Take a date field or a raw date
 */</span>

<span class="comment">/**
 * $dayOfYear
 *
 * Extracts the day of year from a BSON date
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectDayOfYearDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="12098">ProjectDayOfYearDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="63404">$dayOfYear</a><span class="delimiter">(</span><a title="String" id="88550">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#88550" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$dayOfYear operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$dayOfYear operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_dayOfYear&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_dayOfYear&quot;</span><span class="delimiter">)</span>
    <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$dayOfYear&quot;)" class="string">&quot;$dayOfYear&quot;</span>, <a href="#88550" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$5: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="88558">$dayOfYear</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="63407">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="88557">target</a>: <a href="#63407" title="T">T</a><span class="delimiter">)</span> = <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$dayOfYear&quot;)" class="string">&quot;$dayOfYear&quot;</span>, <a href="#88557" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $dayOfMonth
 *
 * Extracts the day of month from a BSON date
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectDayOfMonthDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="12161">ProjectDayOfMonthDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="63414">$dayOfMonth</a><span class="delimiter">(</span><a title="String" id="88565">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#88565" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$dayOfMonth operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$dayOfMonth operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_dayOfMonth&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_dayOfMonth&quot;</span><span class="delimiter">)</span>
    <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$dayOfMonth&quot;)" class="string">&quot;$dayOfMonth&quot;</span>, <a href="#88565" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$6: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="88573">$dayOfMonth</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="63417">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="88572">target</a>: <a href="#63417" title="T">T</a><span class="delimiter">)</span> = <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$dayOfMonth&quot;)" class="string">&quot;$dayOfMonth&quot;</span>, <a href="#88572" title="T">target</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * $dayOfWeek
 *
 * Extracts the day of Week from a BSON date
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectDayOfWeekDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="12182">ProjectDayOfWeekDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="63409">$dayOfWeek</a><span class="delimiter">(</span><a title="String" id="88580">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#88580" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$dayOfWeek operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$dayOfWeek operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_dayOfWeek&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_dayOfWeek&quot;</span><span class="delimiter">)</span>
    <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$dayOfWeek&quot;)" class="string">&quot;$dayOfWeek&quot;</span>, <a href="#88580" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$7: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="88588">$dayOfWeek</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="63412">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="88587">target</a>: <a href="#63412" title="T">T</a><span class="delimiter">)</span> = <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$dayOfWeek&quot;)" class="string">&quot;$dayOfWeek&quot;</span>, <a href="#88587" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $year
 *
 * Extracts the full year from a BSON date
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectYearDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="11942">ProjectYearDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="88594">$year</a><span class="delimiter">(</span><a title="String" id="88600">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#88600" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$year operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$year operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_year&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_year&quot;</span><span class="delimiter">)</span>
    <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$year&quot;)" class="string">&quot;$year&quot;</span>, <a href="#88600" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$8: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="88608">$year</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="88597">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="88607">target</a>: <a href="#88597" title="T">T</a><span class="delimiter">)</span> = <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$year&quot;)" class="string">&quot;$year&quot;</span>, <a href="#88607" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $month
 *
 * Extracts the month (1-12) from a BSON date
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectMonthDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="12062">ProjectMonthDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="63419">$month</a><span class="delimiter">(</span><a title="String" id="88615">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#88615" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$month operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$month operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_month&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_month&quot;</span><span class="delimiter">)</span>
    <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$month&quot;)" class="string">&quot;$month&quot;</span>, <a href="#88615" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$9: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="88623">$month</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="63422">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="88622">target</a>: <a href="#63422" title="T">T</a><span class="delimiter">)</span> = <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$month&quot;)" class="string">&quot;$month&quot;</span>, <a href="#88622" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $week
 *
 * Extracts the day of Week from a BSON date
 *  value: 0-53, if a day falls before the first sunday of year, in week 0
 *  Same value as strftime(&quot;%U&quot;) yields in unix stdlib
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectWeekDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="11972">ProjectWeekDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="63424">$week</a><span class="delimiter">(</span><a title="String" id="88630">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#88630" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$week operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$week operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_week&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_week&quot;</span><span class="delimiter">)</span>
    <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$week&quot;)" class="string">&quot;$week&quot;</span>, <a href="#88630" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$10: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="88638">$week</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="63427">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="88637">target</a>: <a href="#63427" title="T">T</a><span class="delimiter">)</span> = <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$week&quot;)" class="string">&quot;$week&quot;</span>, <a href="#88637" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $hour
 *
 * Extracts the hour (0-23) from a BSON date
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectHourDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="11996">ProjectHourDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="63429">$hour</a><span class="delimiter">(</span><a title="String" id="88645">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#88645" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$hour operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$hour operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_hour&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_hour&quot;</span><span class="delimiter">)</span>
    <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$hour&quot;)" class="string">&quot;$hour&quot;</span>, <a href="#88645" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$11: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="88653">$hour</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="63432">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="88652">target</a>: <a href="#63432" title="T">T</a><span class="delimiter">)</span> = <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$hour&quot;)" class="string">&quot;$hour&quot;</span>, <a href="#88652" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $minute
 *
 * Extracts the minute (0-59) from a BSON date
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectMinuteDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="12170">ProjectMinuteDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="63434">$minute</a><span class="delimiter">(</span><a title="String" id="88660">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#88660" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$minute operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$minute operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_minute&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_minute&quot;</span><span class="delimiter">)</span>
    <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$minute&quot;)" class="string">&quot;$minute&quot;</span>, <a href="#88660" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$12: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="88668">$minute</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="63437">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="88667">target</a>: <a href="#63437" title="T">T</a><span class="delimiter">)</span> = <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$minute&quot;)" class="string">&quot;$minute&quot;</span>, <a href="#88667" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $second
 *
 * Extracts the second  from a BSON date
 *  value: 0-59 *but*, can be 60 in the case of a leap second
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectSecondDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="11930">ProjectSecondDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="63439">$second</a><span class="delimiter">(</span><a title="String" id="88675">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#88675" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$second operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$second operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_second&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_second&quot;</span><span class="delimiter">)</span>
    <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$second&quot;)" class="string">&quot;$second&quot;</span>, <a href="#88675" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$13: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="88683">$second</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="63442">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="88682">target</a>: <a href="#63442" title="T">T</a><span class="delimiter">)</span> = <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$second&quot;)" class="string">&quot;$second&quot;</span>, <a href="#88682" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>


<span class="comment">/*** CONDITIONAL EXPRESSIONS */</span>

<span class="comment">/**
 * $cond
 *
 * takes three expressions
 * evaluates first expression to boolean
 *  if first evals true, evaluates &amp; returns second
 *  if first evals false, evaluates &amp; returns third
 *
 * TODO - Better type limiting?
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectCondConditionalOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="12014">ProjectCondConditionalOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[T](condition: T, ifTrue: Any, elseIfFalse: Any)(implicit evidence$14: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="88693">$cond</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="63446">T</a>: ValidBarewordExpressionArgType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="88690">condition</a>: <a href="#63446" title="T">T</a>, <a title="Any" id="88691">ifTrue</a>: <span title="Any">Any</span>, <a title="Any" id="88692">elseIfFalse</a>: <span title="Any">Any</span><span class="delimiter">)</span> =
    <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$cond&quot;)" class="string">&quot;$cond&quot;</span>, <a href="../../casbah-commons/MongoDBList.scala.html#20826" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#88690" title="T">condition</a>, <a href="#88691" title="Any">ifTrue</a>, <a href="#88692" title="Any">elseIfFalse</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $ifNull
 *
 * Takes array w/ two expressions
 *  if first evals non-null, returns it
 *  else, returns evaluation of second expression
 *
 *  TODO - Better type limiting
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectIfNullConditionalOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="12116">ProjectIfNullConditionalOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12125" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(expression: Any, replacementIfNull: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="63448">$ifNull</a><span class="delimiter">(</span><a title="Any" id="88705">expression</a>: <span title="Any">Any</span>, <a title="Any" id="88706">replacementIfNull</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#63353" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$ifNull&quot;)" class="string">&quot;$ifNull&quot;</span>, <a href="../../casbah-commons/MongoDBList.scala.html#20826" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#88705" title="Any">expression</a>, <a href="#88706" title="Any">replacementIfNull</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>
        </pre>
    </body>
</html>