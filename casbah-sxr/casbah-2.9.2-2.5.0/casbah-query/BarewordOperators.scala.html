<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>casbah-query/BarewordOperators.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (c) 2010 - 2012 10gen, Inc. &lt;http://10gen.com&gt;
 * Copyright (c) 2009, 2010 Novus Partners, Inc. &lt;http://novus.com&gt;
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * For questions and comments about this product, please see the project page at:
 *
 *     http://github.com/mongodb/casbah
 *
 */</span>

<span class="keyword">package</span> com.mongodb.casbah.query.dsl

<span class="keyword">import</span> com.mongodb.casbah.commons.Logging

<span class="keyword">import</span> com.mongodb.casbah.query.<a href="Implicits.scala.html#11537" title="object com.mongodb.casbah.query.Imports">Imports</a>._

<span class="keyword">import</span> scala.collection.<span title="object scala.collection.JavaConverters">JavaConverters</span>._

<span class="comment">/**
 * Base Operator class for Bareword Operators.
 *
 * Bareword operators stand on their own - they lack the requirement for an LValue.
 *
 * Operator implementations (see SetOp for an example) should partially apply with just their operator name.
 * The apply method's type parameter can be used to restrict the valid RValue values at will.
 *
 *
 * @since 1.0
 * @see SetOp
 */</span>
<span class="keyword">trait</span> <a title="trait BarewordQueryOperator extends java.lang.Object with ScalaObject" id="11694">BarewordQueryOperator</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="comment">/*
   * TODO - Implicit filtering of 'valid' (aka convertible) types for [A]
   */</span>
  <span class="keyword">def</span> <a title="[A](oper: String)(fields: (String, A)*)com.mongodb.casbah.query.Imports.DBObject" id="60540">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="60542">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="84093">oper</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="(String, A)*" id="84094">fields</a>: <span title="(String, A)*" class="delimiter">(</span>String, A<span class="delimiter">)</span>*<span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[(String, Any),com.mongodb.casbah.commons.Imports.DBObject]" id="84097">bldr</a> = <a href="../casbah-commons/Implicits.scala.html#14704" title="=&gt; com.mongodb.casbah.commons.MongoDBObject.type">MongoDBObject</a>.<a href="../casbah-commons/MongoDBObject.scala.html#14694" title="scala.collection.mutable.Builder[(String, Any),com.mongodb.casbah.commons.Imports.DBObject]">newBuilder</a>
    <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="String" id="84151">k</a>, <a title="A" id="84152">v</a><span class="delimiter">)</span> &lt;- <a href="#84094" title="(f: ((String, A)) =&gt; scala.collection.mutable.Builder[(String, Any),com.mongodb.casbah.commons.Imports.DBObject])Unit">fields</a><span class="delimiter">)</span> <a href="#84097" title="scala.collection.mutable.Builder[(String, Any),com.mongodb.casbah.commons.Imports.DBObject]">bldr</a> <span title="(elem: (String, Any))bldr.type">+=</span> <a href="#84151" title="(x: String)ArrowAssoc[String]">k</a> <span title="(y: A)(String, A)">-&gt;</span> <a href="#84152" title="A">v</a>
    <a href="../casbah-commons/MongoDBObject.scala.html#14684" title="(elems: (String, com.mongodb.casbah.commons.Imports.DBObject)*)com.mongodb.casbah.commons.Imports.DBObject">MongoDBObject</a><span class="delimiter">(</span><a href="#84093" title="(x: String)ArrowAssoc[String]">oper</a> <span title="(y: com.mongodb.casbah.commons.Imports.DBObject)(String, com.mongodb.casbah.commons.Imports.DBObject)">-&gt;</span> <a href="#84097" title="scala.collection.mutable.Builder[(String, Any),com.mongodb.casbah.commons.Imports.DBObject]">bldr</a>.<a href="../casbah-commons/Implicits.scala.html#12380" title="implicit com.mongodb.casbah.commons.Implicits.wrapDBObj : (in: com.mongodb.DBObject)com.mongodb.casbah.commons.MongoDBObject">result</a>.<a href="../casbah-commons/MongoDBObject.scala.html#20518" title="=&gt; com.mongodb.casbah.commons.Imports.DBObject">asDBObject</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class NestedBarewordListOperator extends java.lang.Object with ScalaObject" id="11670">NestedBarewordListOperator</a><a href="#11670" title="ScalaObject" class="delimiter">(</a><a title="String" id="84242">oper</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="[A](fields: A*)(implicit evidence$1: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.DBObject" id="84244">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="84238">A</a> : ValidBarewordExpressionArgType<span class="delimiter">]</span><span class="delimiter">(</span><a title="A*" id="84243">fields</a>: <span title="A*">A</span>*<span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" id="84248">b</a> = <span title="object Seq">Seq</span>.<span title="[A]=&gt; scala.collection.mutable.Builder[A,Seq[A]]">newBuilder</span><span title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" class="delimiter">[</span><span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span><span class="delimiter">]</span>
    <a href="#84243" title="A*">fields</a>.<span title="(f: A =&gt; scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]])Unit">foreach</span><span class="delimiter">(</span><a title="A" id="84265">x</a> =&gt; <a href="#84248" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a> <span title="(elem: com.mongodb.casbah.query.Imports.DBObject)b.type">+=</span> <span title="[T](implicit e: T)T">implicitly</span><a href="#84244" title="(implicit e: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]" class="delimiter">[</a><a href="Implicits.scala.html#11428" title="com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]">ValidBarewordExpressionArgType</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>.<a href="Implicits.scala.html#70663" title="(arg: A)com.mongodb.casbah.commons.Imports.DBObject">toDBObject</a><span class="delimiter">(</span><a href="#84265" title="A">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#84239" title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject">apply</a><span class="delimiter">(</span><a href="#84248" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a>.<span title="()Seq[com.mongodb.casbah.query.Imports.DBObject]">result</span><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject" id="84239">apply</a><span class="delimiter">(</span><a title="Seq[com.mongodb.casbah.query.Imports.DBObject]" id="84281">list</a>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <span class="delimiter">{</span>
    <a href="../casbah-commons/MongoDBObject.scala.html#14684" title="(elems: (String, Seq[com.mongodb.casbah.query.Imports.DBObject])*)com.mongodb.casbah.commons.Imports.DBObject">MongoDBObject</a><span class="delimiter">(</span><a href="#84242" title="(x: String)ArrowAssoc[String]">oper</a> <span title="(y: Seq[com.mongodb.casbah.query.Imports.DBObject])(String, Seq[com.mongodb.casbah.query.Imports.DBObject])">-&gt;</span> <a href="#84281" title="Seq[com.mongodb.casbah.query.Imports.DBObject]">list</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * Aggregation object for Bareword Operators.
 * Bareword operators stand on their own - they lack the requirement for an LValue.
 * This mixes them in so they can be pulled down in a single import.
 *
 * Typically, you want to follow the model Implicits does, and mix this in
 * if you want to use it but not import Implicits
 *
 * @since 1.0
 * @see com.mongodb.casbah.Implicits
 */</span>
<span class="keyword">trait</span> <a title="trait FluidQueryBarewordOps extends java.lang.Object with com.mongodb.casbah.query.dsl.SetOp with com.mongodb.casbah.query.dsl.UnsetOp with com.mongodb.casbah.query.dsl.IncOp with com.mongodb.casbah.query.dsl.OrOp with com.mongodb.casbah.query.dsl.AndOp with com.mongodb.casbah.query.dsl.RenameOp with com.mongodb.casbah.query.dsl.ArrayOps with com.mongodb.casbah.query.dsl.NorOp with com.mongodb.casbah.query.dsl.BitOp" id="11643">FluidQueryBarewordOps</a> <span class="keyword">extends</span> <a href="#11727" title="com.mongodb.casbah.query.dsl.SetOp">SetOp</a>
  <span class="keyword">with</span> <a href="#11763" title="com.mongodb.casbah.query.dsl.UnsetOp">UnsetOp</a>
  <span class="keyword">with</span> <a href="#11775" title="com.mongodb.casbah.query.dsl.IncOp">IncOp</a>
  <span class="keyword">with</span> <a href="#11655" title="com.mongodb.casbah.query.dsl.OrOp">OrOp</a>
  <span class="keyword">with</span> <a href="#11637" title="com.mongodb.casbah.query.dsl.AndOp">AndOp</a>
  <span class="keyword">with</span> <a href="#11841" title="com.mongodb.casbah.query.dsl.RenameOp">RenameOp</a>
  <span class="keyword">with</span> <a href="#11715" title="com.mongodb.casbah.query.dsl.ArrayOps">ArrayOps</a>
  <span class="keyword">with</span> <a href="#11856" title="com.mongodb.casbah.query.dsl.NorOp">NorOp</a>
  <span class="keyword">with</span> <a href="#11622" title="com.mongodb.casbah.query.dsl.BitOp">BitOp</a>

<span class="keyword">trait</span> <a title="trait ArrayOps extends java.lang.Object with com.mongodb.casbah.query.dsl.PushOp with com.mongodb.casbah.query.dsl.PushAllOp with com.mongodb.casbah.query.dsl.AddToSetOp with com.mongodb.casbah.query.dsl.PopOp with com.mongodb.casbah.query.dsl.PullOp with com.mongodb.casbah.query.dsl.PullAllOp" id="11715">ArrayOps</a> <span class="keyword">extends</span> <a href="#11748" title="com.mongodb.casbah.query.dsl.PushOp">PushOp</a>
                  <span class="keyword">with</span> <a href="#11661" title="com.mongodb.casbah.query.dsl.PushAllOp">PushAllOp</a>
                  <span class="keyword">with</span> <a href="#11733" title="com.mongodb.casbah.query.dsl.AddToSetOp">AddToSetOp</a>
                  <span class="keyword">with</span> <a href="#11604" title="com.mongodb.casbah.query.dsl.PopOp">PopOp</a>
                  <span class="keyword">with</span> <a href="#11685" title="com.mongodb.casbah.query.dsl.PullOp">PullOp</a>
                  <span class="keyword">with</span> <a href="#11874" title="com.mongodb.casbah.query.dsl.PullAllOp">PullAllOp</a>

<span class="keyword">trait</span> <a title="trait SetOpBase extends java.lang.Object with com.mongodb.casbah.query.dsl.BarewordQueryOperator with ScalaObject" id="11652">SetOpBase</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11694" title="com.mongodb.casbah.query.dsl.BarewordQueryOperator">BarewordQueryOperator</a> <span class="delimiter">{</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; (String, Any)* =&gt; com.mongodb.casbah.query.Imports.DBObject" id="60544">_set</a> = <a href="#60540" title="[A](oper: String)(fields: (String, A)*)com.mongodb.casbah.query.Imports.DBObject">apply</a><span title="(oper: String)(fields: (String, Any)*)com.mongodb.casbah.query.Imports.DBObject" class="delimiter">[</span><span title="Any">Any</span><span class="delimiter">]</span><a href="#84379" title="(String, Any)*" class="delimiter">(</a><span title="java.lang.String(&quot;$set&quot;)" class="string">&quot;$set&quot;</span><span class="delimiter">)</span>_
<span class="delimiter">}</span>

<span class="comment">/**
 * Trait to provide the $set (Set) Set method as a bareword operator.
 *
 * $set (&quot;Foo&quot; -&gt; &quot;bar&quot;)
 *
 * Targets an RValue of (String, Any)* to be converted to a  DBObject
 *
 * @see http://www.mongodb.org/display/DOCS/Updating#Updating-%24set
 */</span>
<span class="keyword">trait</span> <a title="trait SetOp extends java.lang.Object with com.mongodb.casbah.query.dsl.SetOpBase with ScalaObject" id="11727">SetOp</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11652" title="com.mongodb.casbah.query.dsl.SetOpBase">SetOpBase</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; (String, Any)* =&gt; com.mongodb.casbah.query.Imports.DBObject" id="60546">$set</a> = <a href="#60544" title="=&gt; (String, Any)* =&gt; com.mongodb.casbah.query.Imports.DBObject">_set</a>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait UnsetOpBase extends java.lang.Object with com.mongodb.casbah.query.dsl.BarewordQueryOperator with ScalaObject" id="11787">UnsetOpBase</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11694" title="com.mongodb.casbah.query.dsl.BarewordQueryOperator">BarewordQueryOperator</a> <span class="delimiter">{</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(args: String*)com.mongodb.casbah.query.Imports.DBObject" id="60548">_unset</a><span class="delimiter">(</span><a title="String*" id="84388">args</a>: <span title="String*">String</span>*<span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <a href="#60540" title="(oper: String)(fields: (String, Int)*)com.mongodb.casbah.query.Imports.DBObject">apply</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$unset&quot;)" class="string">&quot;$unset&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#84388" title="String*">args</a>.<span title="(f: String =&gt; (String, Int))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[String],(String, Int),Seq[(String, Int)]])Seq[(String, Int)]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,(String, Int),Seq[(String, Int)]]" class="delimiter">(</span><a href="#84410" title="(x: String)ArrowAssoc[String]">_</a> <span title="(y: Int)(String, Int)">-&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>: _*<span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Trait to provide the $unset (UnSet) UnSet method as a bareword operator..
 *
 * $unset (&quot;foo&quot;)
 *
 * Targets an RValue of String*, where String are field names to be converted to a  DBObject
 *
 * @see http://www.mongodb.org/display/DOCS/Updating#Updating-%24unset
 */</span>
<span class="keyword">trait</span> <a title="trait UnsetOp extends java.lang.Object with com.mongodb.casbah.query.dsl.UnsetOpBase with ScalaObject" id="11763">UnsetOp</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11787" title="com.mongodb.casbah.query.dsl.UnsetOpBase">UnsetOpBase</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; String* =&gt; com.mongodb.casbah.query.Imports.DBObject" id="60550">$unset</a> = <a href="#60548" title="(args: String*)com.mongodb.casbah.query.Imports.DBObject">_unset</a> _
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait IncOpBase extends java.lang.Object with com.mongodb.casbah.query.dsl.BarewordQueryOperator with ScalaObject" id="11889">IncOpBase</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11694" title="com.mongodb.casbah.query.dsl.BarewordQueryOperator">BarewordQueryOperator</a> <span class="delimiter">{</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="[T](args: (String, T)*)(implicit evidence$2: com.mongodb.casbah.query.Imports.ValidNumericType[T])com.mongodb.casbah.query.Imports.DBObject" id="84458">_inc</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="60554">T</a>: ValidNumericType<span class="delimiter">]</span><span class="delimiter">(</span><a title="(String, T)*" id="84457">args</a>: <span title="(String, T)*" class="delimiter">(</span>String, T<span class="delimiter">)</span>*<span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <a href="#60540" title="[A](oper: String)(fields: (String, A)*)com.mongodb.casbah.query.Imports.DBObject">apply</a><span title="(oper: String)(fields: (String, T)*)com.mongodb.casbah.query.Imports.DBObject" class="delimiter">[</span><a href="#60554" title="T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$inc&quot;)" class="string">&quot;$inc&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#84457" title="(String, T)*">args</a>: _*<span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Trait to provide the $inc (inc) method as a bareword operator..
 *
 *   $inc (&quot;foo&quot; -&gt; 5)
 *
 * Targets an RValue of (String, ValidNumericType)* to be converted to a  DBObject
 *
 * Due to a quirk in the way I implemented type detection this fails if you mix ValidNumericType types.  E.g. floats work, but not mixing floats and ints.
 * This can be easily circumvented if you want 'ints' with floats by making your ints floats with .0:
 *
 *   $inc (&quot;foo&quot; -&gt; 5.0, &quot;bar&quot; -&gt; 1.6)
 *
 * @since 1.0
 * @see http://www.mongodb.org/display/DOCS/Updating#Updating-%24inc
 */</span>
<span class="keyword">trait</span> <a title="trait IncOp extends java.lang.Object with com.mongodb.casbah.query.dsl.IncOpBase with ScalaObject" id="11775">IncOp</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11889" title="com.mongodb.casbah.query.dsl.IncOpBase">IncOpBase</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[T](args: (String, T)*)(implicit evidence$3: com.mongodb.casbah.query.Imports.ValidNumericType[T])com.mongodb.casbah.query.Imports.DBObject" id="84466">$inc</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="60558">T</a>: ValidNumericType<span class="delimiter">]</span><span class="delimiter">(</span><a title="(String, T)*" id="84465">args</a>: <span title="(String, T)*" class="delimiter">(</span>String,  T<span class="delimiter">)</span>*<span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <a href="#84458" title="(args: (String, T)*)(implicit evidence$2: com.mongodb.casbah.query.Imports.ValidNumericType[T])com.mongodb.casbah.query.Imports.DBObject">_inc</a><a href="#84466" title="com.mongodb.casbah.query.Imports.ValidNumericType[T]" class="delimiter">(</a><a href="#84465" title="(String, T)*">args</a>: _*<span class="delimiter">)</span>
<span class="delimiter">}</span>


<span class="keyword">trait</span> <a title="trait PushOpBase extends java.lang.Object with com.mongodb.casbah.query.dsl.BarewordQueryOperator with ScalaObject" id="11607">PushOpBase</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11694" title="com.mongodb.casbah.query.dsl.BarewordQueryOperator">BarewordQueryOperator</a> <span class="delimiter">{</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; (String, Any)* =&gt; com.mongodb.casbah.query.Imports.DBObject" id="60572">_push</a> = <a href="#60540" title="[A](oper: String)(fields: (String, A)*)com.mongodb.casbah.query.Imports.DBObject">apply</a><span title="(oper: String)(fields: (String, Any)*)com.mongodb.casbah.query.Imports.DBObject" class="delimiter">[</span><span title="Any">Any</span><span class="delimiter">]</span><a href="#84484" title="(String, Any)*" class="delimiter">(</a><span title="java.lang.String(&quot;$push&quot;)" class="string">&quot;$push&quot;</span><span class="delimiter">)</span>_
<span class="delimiter">}</span>

<span class="comment">/*
 * Trait to provide the $push (push) method as a bareword operator.
 *
 * Targets an RValue of (String, Any)* to be converted to a  DBObject
 *
 * If Field exists but is not an array an error will occur
 *
 * @see http://www.mongodb.org/display/DOCS/Updating#Updating-%24push
 *
 */</span>
<span class="keyword">trait</span> <a title="trait PushOp extends java.lang.Object with com.mongodb.casbah.query.dsl.PushOpBase with ScalaObject" id="11748">PushOp</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11607" title="com.mongodb.casbah.query.dsl.PushOpBase">PushOpBase</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; (String, Any)* =&gt; com.mongodb.casbah.query.Imports.DBObject" id="60574">$push</a> = <a href="#60572" title="=&gt; (String, Any)* =&gt; com.mongodb.casbah.query.Imports.DBObject">_push</a>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait PushAllOpBase extends java.lang.Object with com.mongodb.casbah.query.dsl.BarewordQueryOperator with ScalaObject" id="11754">PushAllOpBase</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11694" title="com.mongodb.casbah.query.dsl.BarewordQueryOperator">BarewordQueryOperator</a> <span class="delimiter">{</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="[A](args: (String, A)*)(implicit evidence$4: com.mongodb.casbah.query.Imports.AsIterable[A])com.mongodb.casbah.query.Imports.DBObject" id="84494">_pushAll</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="60578">A</a> : AsIterable<span class="delimiter">]</span><span class="delimiter">(</span><a title="(String, A)*" id="84493">args</a>: <span title="(String, A)*" class="delimiter">(</span>String, A<span class="delimiter">)</span>*<span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> =
    <a href="#60540" title="(oper: String)(fields: (String, Iterable[Any])*)com.mongodb.casbah.query.Imports.DBObject">apply</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$pushAll&quot;)" class="string">&quot;$pushAll&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#84493" title="(String, A)*">args</a>.<span title="(f: ((String, A)) =&gt; (java.lang.String, Iterable[Any]))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[(String, A)],(java.lang.String, Iterable[Any]),Seq[(java.lang.String, Iterable[Any])]])Seq[(java.lang.String, Iterable[Any])]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,(java.lang.String, Iterable[Any]),Seq[(java.lang.String, Iterable[Any])]]" class="delimiter">(</span><a title="(String, A)" id="84519">z</a> =&gt; <a href="#84519" title="(String, A)">z</a>.<span title="(x: String)ArrowAssoc[String]">_1</span> <span title="(y: Iterable[_$3])(String, Iterable[_$3])">-&gt;</span> <a href="Implicits.scala.html#84536" title="[A](implicit asIterable: com.mongodb.casbah.query.AsIterable[A])com.mongodb.casbah.query.AsIterable[A]">AsIterable</a><a href="#84494" title="(implicit asIterable: com.mongodb.casbah.query.AsIterable[A])com.mongodb.casbah.query.AsIterable[A]" class="delimiter">[</a><a href="#60578" title="A">A</a><span class="delimiter">]</span>.<a href="Implicits.scala.html#84498" title="(a: A)Iterable[_]">asIterable</a><span class="delimiter">(</span><a href="#84519" title="(String, A)">z</a>.<span title="=&gt; A">_2</span><span class="delimiter">)</span><span class="delimiter">)</span> :_*<span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/*
 * Trait to provide the $pushAll (pushAll) method as a bareword operator..
 *
 * Targets an RValue of (String, Array[Any])* to be converted to a  DBObject
 *
 * RValue MUST Be an array - otherwise use push.
 *
 *
 * @see http://www.mongodb.org/display/DOCS/Updating#Updating-%24pushAll
 */</span>
<span class="keyword">trait</span> <a title="trait PushAllOp extends java.lang.Object with com.mongodb.casbah.query.dsl.PushAllOpBase with ScalaObject" id="11661">PushAllOp</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11754" title="com.mongodb.casbah.query.dsl.PushAllOpBase">PushAllOpBase</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[A](args: (String, A)*)(implicit evidence$5: com.mongodb.casbah.query.Imports.AsIterable[A])com.mongodb.casbah.query.Imports.DBObject" id="84588">$pushAll</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="60582">A</a> : AsIterable<span class="delimiter">]</span><span class="delimiter">(</span><a title="(String, A)*" id="84587">args</a>: <span title="(String, A)*" class="delimiter">(</span>String, A<span class="delimiter">)</span>*<span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <a href="#84494" title="(args: (String, A)*)(implicit evidence$4: com.mongodb.casbah.query.Imports.AsIterable[A])com.mongodb.casbah.query.Imports.DBObject">_pushAll</a><a href="#84588" title="com.mongodb.casbah.query.Imports.AsIterable[A]" class="delimiter">(</a><a href="#84587" title="(String, A)*">args</a>: _*<span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait AddToSetOpBase extends java.lang.Object with com.mongodb.casbah.query.dsl.BarewordQueryOperator with ScalaObject" id="11823">AddToSetOpBase</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11694" title="com.mongodb.casbah.query.dsl.BarewordQueryOperator">BarewordQueryOperator</a> <span class="delimiter">{</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="[T](arg: T)(implicit evidence$6: T =&gt; com.mongodb.casbah.query.Imports.DBObject)com.mongodb.casbah.query.Imports.DBObject" id="84602">_addToSet</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="60586">T</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="84601">arg</a>: <a href="#60586" title="T">T</a><span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> =
    <a href="../casbah-commons/MongoDBObject.scala.html#14684" title="(elems: (java.lang.String, T)*)com.mongodb.casbah.commons.Imports.DBObject">MongoDBObject</a><span class="delimiter">(</span><span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;$addToSet&quot;</span> <span title="(y: T)(java.lang.String, T)">-&gt;</span> <a href="#84601" title="T">arg</a><span class="delimiter">)</span>


  <span class="comment">/* $each-able */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(field: String)java.lang.Object{def $each(target: Array[Any]): com.mongodb.casbah.commons.Imports.DBObject; def $each(target: Any*): com.mongodb.casbah.commons.Imports.DBObject}" id="60587">_addToSet</a><span class="delimiter">(</span><a title="String" id="84657">field</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="comment">/**
     * Special query operator only available on the right-hand side of an
     * $addToSet which takes a list of values.
     *
     * Slightly hacky to prevent it from returning unless completed with a $each
     *
     * THIS WILL NOT WORK IN MONGOD ANYWHERE BUT INSIDE AN ADDTOSET
     *
         * @since 2.0
     * @see http://www.mongodb.org/display/DOCS/Updating#Updating-%24addToSet
     */</span>
    <a href="#84660" title="java.lang.Object{protected def op(target: Any): com.mongodb.casbah.commons.Imports.DBObject; def $each(target: Array[Any]): com.mongodb.casbah.commons.Imports.DBObject; def $each(target: Any*): com.mongodb.casbah.commons.Imports.DBObject}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object" id="84660" class="delimiter">{</a>
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(target: Any)com.mongodb.casbah.commons.Imports.DBObject" id="84662">op</a><span class="delimiter">(</span><a title="Any" id="84665">target</a>: <span title="Any">Any</span><span class="delimiter">)</span> =
        <a href="../casbah-commons/MongoDBObject.scala.html#14684" title="(elems: (java.lang.String, com.mongodb.casbah.commons.Imports.DBObject)*)com.mongodb.casbah.commons.Imports.DBObject">MongoDBObject</a><span class="delimiter">(</span><span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;$addToSet&quot;</span> <span title="(y: com.mongodb.casbah.commons.Imports.DBObject)(java.lang.String, com.mongodb.casbah.commons.Imports.DBObject)">-&gt;</span> <a href="../casbah-commons/MongoDBObject.scala.html#14684" title="(elems: (String, com.mongodb.casbah.commons.Imports.DBObject)*)com.mongodb.casbah.commons.Imports.DBObject">MongoDBObject</a><span class="delimiter">(</span><a href="#84657" title="(x: String)ArrowAssoc[String]">field</a> <span title="(y: com.mongodb.casbah.commons.Imports.DBObject)(String, com.mongodb.casbah.commons.Imports.DBObject)">-&gt;</span> <a href="../casbah-commons/MongoDBObject.scala.html#14684" title="(elems: (java.lang.String, Any)*)com.mongodb.casbah.commons.Imports.DBObject">MongoDBObject</a><span class="delimiter">(</span><span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;$each&quot;</span> <span title="(y: Any)(java.lang.String, Any)">-&gt;</span> <a href="#84665" title="Any">target</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(target: Array[Any])com.mongodb.casbah.commons.Imports.DBObject" id="84663">$each</a><span class="delimiter">(</span><a title="Array[Any]" id="84822">target</a>: <span title="Array[Any]">Array</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#84662" title="(target: Any)com.mongodb.casbah.commons.Imports.DBObject">op</a><span class="delimiter">(</span><a href="#84822" title="(xs: Array[Any])scala.collection.mutable.ArrayOps[Any]">target</a>.<span title="=&gt; List[Any]">toList</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(target: Any*)com.mongodb.casbah.commons.Imports.DBObject" id="84664">$each</a><span class="delimiter">(</span><a title="Any*" id="85080">target</a>: <span title="Any*">Any</span>*<span class="delimiter">)</span> =
        <span title="com.mongodb.casbah.commons.Imports.DBObject" class="keyword">if</span> <span class="delimiter">(</span><a href="#85080" title="Any*">target</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#84662" title="(target: Any)com.mongodb.casbah.commons.Imports.DBObject">op</a><span class="delimiter">(</span><a href="#85080" title="Any*">target</a>.<span title="=&gt; List[Any]">toList</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="com.mongodb.casbah.commons.Imports.DBObject" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#85080" title="(idx: Int)Any">target</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Iterable[_]">Iterable</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span title="=&gt; Boolean">!</span><a href="#85080" title="(idx: Int)Any">target</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Array[_]">Array</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
          <a href="#84662" title="(target: Any)com.mongodb.casbah.commons.Imports.DBObject">op</a><span class="delimiter">(</span><span title="(xs: Any*)List[Any]">List</span><span class="delimiter">(</span><a href="#85080" title="(idx: Int)Any">target</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#84662" title="(target: Any)com.mongodb.casbah.commons.Imports.DBObject">op</a><span class="delimiter">(</span><a href="#85080" title="(idx: Int)Any">target</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; (String, Any)* =&gt; com.mongodb.casbah.query.Imports.DBObject" id="60588">_addToSet</a> = <a href="#60540" title="[A](oper: String)(fields: (String, A)*)com.mongodb.casbah.query.Imports.DBObject">apply</a><span title="(oper: String)(fields: (String, Any)*)com.mongodb.casbah.query.Imports.DBObject" class="delimiter">[</span><span title="Any">Any</span><span class="delimiter">]</span><a href="#85154" title="(String, Any)*" class="delimiter">(</a><span title="java.lang.String(&quot;$addToSet&quot;)" class="string">&quot;$addToSet&quot;</span><span class="delimiter">)</span>_

<span class="delimiter">}</span>

<span class="comment">/*
 * Trait to provide the $addToSet (addToSet) method as a bareword operator..
 *
 * Targets an RValue of (String, Any)* to be converted to a  DBObject
 *
 * Can also combined with the $each operator for adding many values:
 *
 *   scala&gt; $addToSet (&quot;foo&quot;) $each (5, 10, 15, &quot;20&quot;))
 *  res6: com.mongodb.casbah.commons.Imports.DBObject = { &quot;$addToSet&quot; : { &quot;foo&quot; : { &quot;$each&quot; : [ 5 , 10 , 15 , &quot;20&quot;]}}}
 *
 * @see http://www.mongodb.org/display/DOCS/Updating#Updating-%24addToSet
 */</span>
<span class="keyword">trait</span> <a title="trait AddToSetOp extends java.lang.Object with com.mongodb.casbah.query.dsl.AddToSetOpBase with ScalaObject" id="11733">AddToSetOp</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11823" title="com.mongodb.casbah.query.dsl.AddToSetOpBase">AddToSetOpBase</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[T](arg: T)(implicit evidence$7: T =&gt; com.mongodb.casbah.query.Imports.DBObject)com.mongodb.casbah.query.Imports.DBObject" id="85159">$addToSet</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="60592">T</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="85158">arg</a>: <a href="#60592" title="T">T</a><span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <a href="#84602" title="(arg: T)(implicit evidence$6: T =&gt; com.mongodb.casbah.query.Imports.DBObject)com.mongodb.casbah.query.Imports.DBObject">_addToSet</a><a href="#85159" title="T =&gt; com.mongodb.casbah.query.Imports.DBObject" class="delimiter">(</a><a href="#85158" title="T">arg</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(field: String)java.lang.Object{def $each(target: Array[Any]): com.mongodb.casbah.commons.Imports.DBObject; def $each(target: Any*): com.mongodb.casbah.commons.Imports.DBObject}" id="60593">$addToSet</a><span class="delimiter">(</span><a title="String" id="85189">field</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#60587" title="(field: String)java.lang.Object{def $each(target: Array[Any]): com.mongodb.casbah.commons.Imports.DBObject; def $each(target: Any*): com.mongodb.casbah.commons.Imports.DBObject}">_addToSet</a><span class="delimiter">(</span><a href="#85189" title="String">field</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; (String, Any)* =&gt; com.mongodb.casbah.query.Imports.DBObject" id="60594">$addToSet</a> = <a href="#60588" title="=&gt; (String, Any)* =&gt; com.mongodb.casbah.query.Imports.DBObject">_addToSet</a>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait PopOpBase extends java.lang.Object with com.mongodb.casbah.query.dsl.BarewordQueryOperator with ScalaObject" id="11877">PopOpBase</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11694" title="com.mongodb.casbah.query.dsl.BarewordQueryOperator">BarewordQueryOperator</a> <span class="delimiter">{</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="[T](args: (String, T)*)(implicit evidence$8: com.mongodb.casbah.query.Imports.ValidNumericType[T])com.mongodb.casbah.query.Imports.DBObject" id="85228">_pop</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="60598">T</a>: ValidNumericType<span class="delimiter">]</span><span class="delimiter">(</span><a title="(String, T)*" id="85227">args</a>: <span title="(String, T)*" class="delimiter">(</span>String, T<span class="delimiter">)</span>*<span class="delimiter">)</span> = <a href="#60540" title="[A](oper: String)(fields: (String, A)*)com.mongodb.casbah.query.Imports.DBObject">apply</a><span title="(oper: String)(fields: (String, T)*)com.mongodb.casbah.query.Imports.DBObject" class="delimiter">[</span><a href="#60598" title="T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$pop&quot;)" class="string">&quot;$pop&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#85227" title="(String, T)*">args</a>: _*<span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/*
 * Trait to provide the $pop (pop) method as a bareword operator..
 *
 * If Field exists but is not an array an error will occurr.
 *
 * @see http://www.mongodb.org/display/DOCS/Updating#Updating-%24pop
 */</span>
<span class="keyword">trait</span> <a title="trait PopOp extends java.lang.Object with com.mongodb.casbah.query.dsl.PopOpBase with ScalaObject" id="11604">PopOp</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11877" title="com.mongodb.casbah.query.dsl.PopOpBase">PopOpBase</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[T](args: (String, T)*)(implicit evidence$9: com.mongodb.casbah.query.Imports.ValidNumericType[T])com.mongodb.casbah.query.Imports.DBObject" id="85237">$pop</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="60602">T</a>: ValidNumericType<span class="delimiter">]</span><span class="delimiter">(</span><a title="(String, T)*" id="85236">args</a>: <span title="(String, T)*" class="delimiter">(</span>String, T<span class="delimiter">)</span>*<span class="delimiter">)</span> = <a href="#85228" title="(args: (String, T)*)(implicit evidence$8: com.mongodb.casbah.query.Imports.ValidNumericType[T])com.mongodb.casbah.query.Imports.DBObject">_pop</a><a href="#85237" title="com.mongodb.casbah.query.Imports.ValidNumericType[T]" class="delimiter">(</a><a href="#85236" title="(String, T)*">args</a>: _*<span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait PullOpBase extends java.lang.Object with com.mongodb.casbah.query.dsl.BarewordQueryOperator with ScalaObject" id="11646">PullOpBase</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11694" title="com.mongodb.casbah.query.dsl.BarewordQueryOperator">BarewordQueryOperator</a> <span class="delimiter">{</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; (String, Any)* =&gt; com.mongodb.casbah.query.Imports.DBObject" id="60604">_pull</a> = <a href="#60540" title="[A](oper: String)(fields: (String, A)*)com.mongodb.casbah.query.Imports.DBObject">apply</a><span title="(oper: String)(fields: (String, Any)*)com.mongodb.casbah.query.Imports.DBObject" class="delimiter">[</span><span title="Any">Any</span><span class="delimiter">]</span><a href="#85256" title="(String, Any)*" class="delimiter">(</a><span title="java.lang.String(&quot;$pull&quot;)" class="string">&quot;$pull&quot;</span><span class="delimiter">)</span>_
  <span class="comment">/** ValueTest enabled version */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(inner: =&gt; com.mongodb.casbah.query.Imports.DBObject)com.mongodb.casbah.query.Imports.DBObject" id="60605">_pull</a><span class="delimiter">(</span><a title="=&gt; com.mongodb.casbah.query.Imports.DBObject" id="85258">inner</a>: =&gt; DBObject<span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <a href="../casbah-commons/MongoDBObject.scala.html#14684" title="(elems: (java.lang.String, com.mongodb.casbah.query.Imports.DBObject)*)com.mongodb.casbah.commons.Imports.DBObject">MongoDBObject</a><span class="delimiter">(</span><span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;$pull&quot;</span> <span title="(y: com.mongodb.casbah.query.Imports.DBObject)(java.lang.String, com.mongodb.casbah.query.Imports.DBObject)">-&gt;</span> <a href="#85258" title="=&gt; com.mongodb.casbah.query.Imports.DBObject">inner</a><span class="delimiter">)</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(inner: com.mongodb.casbah.query.Imports.DBObject)com.mongodb.casbah.query.Imports.DBObject" id="60606">_pull</a><span class="delimiter">(</span><a title="com.mongodb.casbah.query.Imports.DBObject" id="85311">inner</a>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span><span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <a href="../casbah-commons/MongoDBObject.scala.html#14684" title="(elems: (java.lang.String, com.mongodb.casbah.query.Imports.DBObject)*)com.mongodb.casbah.commons.Imports.DBObject">MongoDBObject</a><span class="delimiter">(</span><span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;$pull&quot;</span> <span title="(y: com.mongodb.casbah.query.Imports.DBObject)(java.lang.String, com.mongodb.casbah.query.Imports.DBObject)">-&gt;</span> <a href="#85311" title="com.mongodb.casbah.query.Imports.DBObject">inner</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/*
 * Trait to provide the $pull (pull) method as a bareword operator..
 *
 * Targets an RValue of (String, Any)* to be converted to a  DBObject
 *
 * If Field exists but is not an array an error will occurr.
 *
 * Pull is special as defined in the docs and needs to allow operators on fields.
 *
 * @see http://www.mongodb.org/display/DOCS/Updating#Updating-%24pull
 */</span>
<span class="keyword">trait</span> <a title="trait PullOp extends java.lang.Object with com.mongodb.casbah.query.dsl.PullOpBase with ScalaObject" id="11685">PullOp</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11646" title="com.mongodb.casbah.query.dsl.PullOpBase">PullOpBase</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; (String, Any)* =&gt; com.mongodb.casbah.query.Imports.DBObject" id="60608">$pull</a> = <a href="#60540" title="[A](oper: String)(fields: (String, A)*)com.mongodb.casbah.query.Imports.DBObject">apply</a><span title="(oper: String)(fields: (String, Any)*)com.mongodb.casbah.query.Imports.DBObject" class="delimiter">[</span><span title="Any">Any</span><span class="delimiter">]</span><a href="#85371" title="(String, Any)*" class="delimiter">(</a><span title="java.lang.String(&quot;$pull&quot;)" class="string">&quot;$pull&quot;</span><span class="delimiter">)</span>_
  <span class="keyword">def</span> <a title="(inner: =&gt; com.mongodb.casbah.query.Imports.DBObject)com.mongodb.casbah.query.Imports.DBObject" id="60609">$pull</a><span class="delimiter">(</span><a title="=&gt; com.mongodb.casbah.query.Imports.DBObject" id="85373">inner</a>: =&gt; DBObject<span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <a href="#60606" title="(inner: com.mongodb.casbah.query.Imports.DBObject)com.mongodb.casbah.query.Imports.DBObject">_pull</a><span class="delimiter">(</span><a href="#85373" title="=&gt; com.mongodb.casbah.query.Imports.DBObject">inner</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(inner: com.mongodb.casbah.query.Imports.DBObject)com.mongodb.casbah.query.Imports.DBObject" id="60610">$pull</a><span class="delimiter">(</span><a title="com.mongodb.casbah.query.Imports.DBObject" id="85381">inner</a>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span><span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <a href="#60606" title="(inner: com.mongodb.casbah.query.Imports.DBObject)com.mongodb.casbah.query.Imports.DBObject">_pull</a><span class="delimiter">(</span><a href="#85381" title="com.mongodb.casbah.query.Imports.DBObject">inner</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait PullAllOpBase extends java.lang.Object with com.mongodb.casbah.query.dsl.BarewordQueryOperator with ScalaObject" id="11850">PullAllOpBase</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11694" title="com.mongodb.casbah.query.dsl.BarewordQueryOperator">BarewordQueryOperator</a> <span class="delimiter">{</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="[A](args: (String, A)*)(implicit evidence$10: com.mongodb.casbah.query.Imports.AsIterable[A])com.mongodb.casbah.query.Imports.DBObject" id="85392">_pullAll</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="60614">A</a> : AsIterable<span class="delimiter">]</span><span class="delimiter">(</span><a title="(String, A)*" id="85391">args</a>: <span title="(String, A)*" class="delimiter">(</span>String, A<span class="delimiter">)</span>*<span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> =
    <a href="#60540" title="(oper: String)(fields: (String, Iterable[Any])*)com.mongodb.casbah.query.Imports.DBObject">apply</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$pullAll&quot;)" class="string">&quot;$pullAll&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#85391" title="(String, A)*">args</a>.<span title="(f: ((String, A)) =&gt; (java.lang.String, Iterable[Any]))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[(String, A)],(java.lang.String, Iterable[Any]),Seq[(java.lang.String, Iterable[Any])]])Seq[(java.lang.String, Iterable[Any])]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,(java.lang.String, Iterable[Any]),Seq[(java.lang.String, Iterable[Any])]]" class="delimiter">(</span><a title="(String, A)" id="85416">z</a> =&gt; <a href="#85416" title="(String, A)">z</a>.<span title="(x: String)ArrowAssoc[String]">_1</span> <span title="(y: Iterable[_$3])(String, Iterable[_$3])">-&gt;</span> <a href="Implicits.scala.html#84536" title="[A](implicit asIterable: com.mongodb.casbah.query.AsIterable[A])com.mongodb.casbah.query.AsIterable[A]">AsIterable</a><a href="#85392" title="(implicit asIterable: com.mongodb.casbah.query.AsIterable[A])com.mongodb.casbah.query.AsIterable[A]" class="delimiter">[</a><a href="#60614" title="A">A</a><span class="delimiter">]</span>.<a href="Implicits.scala.html#84498" title="(a: A)Iterable[_]">asIterable</a><span class="delimiter">(</span><a href="#85416" title="(String, A)">z</a>.<span title="=&gt; A">_2</span><span class="delimiter">)</span><span class="delimiter">)</span>: _*<span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/*
 * Trait to provide the $pullAll (pullAll) method as a bareword operator..
 *
 * Targets an RValue of (String, Array[Any])* to be converted to a  DBObject
 *
 * RValue MUST Be an array - otherwise use pull.
 *
 *
 * @see http://www.mongodb.org/display/DOCS/Updating#Updating-%24pullAll
 */</span>
<span class="keyword">trait</span> <a title="trait PullAllOp extends java.lang.Object with com.mongodb.casbah.query.dsl.PullAllOpBase with ScalaObject" id="11874">PullAllOp</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11850" title="com.mongodb.casbah.query.dsl.PullAllOpBase">PullAllOpBase</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[A](args: (String, A)*)(implicit evidence$11: com.mongodb.casbah.query.Imports.AsIterable[A])com.mongodb.casbah.query.Imports.DBObject" id="85467">$pullAll</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="60618">A</a> : AsIterable<span class="delimiter">]</span><span class="delimiter">(</span><a title="(String, A)*" id="85466">args</a>: <span title="(String, A)*" class="delimiter">(</span>String, A<span class="delimiter">)</span>*<span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <a href="#85392" title="(args: (String, A)*)(implicit evidence$10: com.mongodb.casbah.query.Imports.AsIterable[A])com.mongodb.casbah.query.Imports.DBObject">_pullAll</a><a href="#85467" title="com.mongodb.casbah.query.Imports.AsIterable[A]" class="delimiter">(</a><a href="#85466" title="(String, A)*">args</a>: _*<span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait AndOpBase extends java.lang.Object with ScalaObject" id="11673">AndOpBase</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; com.mongodb.casbah.query.dsl.NestedBarewordListOperator" id="60564">_and</a> = <span title="com.mongodb.casbah.query.dsl.NestedBarewordListOperator" class="keyword">new</span> <a href="#11670" title="com.mongodb.casbah.query.dsl.NestedBarewordListOperator">NestedBarewordListOperator</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$and&quot;)" class="string">&quot;$and&quot;</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Trait to provide the $and method as a bareword operator.
 *
 * $and (&quot;Foo&quot; -&gt; &quot;bar&quot;)
 *
 * Targets an RValue of (String, Any)* to be converted to a  DBObject
 *
 * @see http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%24and
 */</span>
<span class="keyword">trait</span> <a title="trait AndOp extends java.lang.Object with com.mongodb.casbah.query.dsl.AndOpBase with ScalaObject" id="11637">AndOp</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11673" title="com.mongodb.casbah.query.dsl.AndOpBase">AndOpBase</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; com.mongodb.casbah.query.dsl.NestedBarewordListOperator" id="60566">$and</a> = <a href="#60564" title="=&gt; com.mongodb.casbah.query.dsl.NestedBarewordListOperator">_and</a>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait OrOpBase extends java.lang.Object with ScalaObject" id="11757">OrOpBase</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; com.mongodb.casbah.query.dsl.NestedBarewordListOperator" id="60560">_or</a> = <span title="com.mongodb.casbah.query.dsl.NestedBarewordListOperator" class="keyword">new</span> <a href="#11670" title="com.mongodb.casbah.query.dsl.NestedBarewordListOperator">NestedBarewordListOperator</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$or&quot;)" class="string">&quot;$or&quot;</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Trait to provide the $or method as a bareword operator.
 *
 * $or (&quot;Foo&quot; -&gt; &quot;bar&quot;)
 *
 * Targets an RValue of (String, Any)* to be converted to a  DBObject
 *
 * @since 2.0
 * @see http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%24or
 */</span>
<span class="keyword">trait</span> <a title="trait OrOp extends java.lang.Object with com.mongodb.casbah.query.dsl.OrOpBase with ScalaObject" id="11655">OrOp</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11757" title="com.mongodb.casbah.query.dsl.OrOpBase">OrOpBase</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; com.mongodb.casbah.query.dsl.NestedBarewordListOperator" id="60562">$or</a> = <a href="#60560" title="=&gt; com.mongodb.casbah.query.dsl.NestedBarewordListOperator">_or</a>
<span class="delimiter">}</span>


<span class="keyword">trait</span> <a title="trait RenameOpBase extends java.lang.Object with com.mongodb.casbah.query.dsl.BarewordQueryOperator with ScalaObject" id="11682">RenameOpBase</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11694" title="com.mongodb.casbah.query.dsl.BarewordQueryOperator">BarewordQueryOperator</a> <span class="delimiter">{</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; (String, Any)* =&gt; com.mongodb.casbah.query.Imports.DBObject" id="60568">_rename</a> = <a href="#60540" title="[A](oper: String)(fields: (String, A)*)com.mongodb.casbah.query.Imports.DBObject">apply</a><span title="(oper: String)(fields: (String, Any)*)com.mongodb.casbah.query.Imports.DBObject" class="delimiter">[</span><span title="Any">Any</span><span class="delimiter">]</span><a href="#85505" title="(String, Any)*" class="delimiter">(</a><span title="java.lang.String(&quot;$rename&quot;)" class="string">&quot;$rename&quot;</span><span class="delimiter">)</span>_
<span class="delimiter">}</span>

<span class="comment">/**
 * Trait to provide the $rename (Rename field) as a bareword operator
 *
 * Targets (takes a right-hand value of) a DBObject or a Tuple of (String, String)
 *
 * WORKS ONLY IN MONGODB 1.7.2+
 *
 * @since 2.0
 * @see http://www.mongodb.org/display/DOCS/Updating#Updating-%24rename
 *
 */</span>
<span class="keyword">trait</span> <a title="trait RenameOp extends java.lang.Object with com.mongodb.casbah.query.dsl.RenameOpBase with ScalaObject" id="11841">RenameOp</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11682" title="com.mongodb.casbah.query.dsl.RenameOpBase">RenameOpBase</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; (String, Any)* =&gt; com.mongodb.casbah.query.Imports.DBObject" id="60570">$rename</a> = <a href="#60568" title="=&gt; (String, Any)* =&gt; com.mongodb.casbah.query.Imports.DBObject">_rename</a>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait NorOpBase extends java.lang.Object with ScalaObject" id="11838">NorOpBase</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; com.mongodb.casbah.query.dsl.NestedBarewordListOperator" id="60620">_nor</a> = <span title="com.mongodb.casbah.query.dsl.NestedBarewordListOperator" class="keyword">new</span> <a href="#11670" title="com.mongodb.casbah.query.dsl.NestedBarewordListOperator">NestedBarewordListOperator</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$nor&quot;)" class="string">&quot;$nor&quot;</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Trait to provide the $nor (nor ) method as a bareword operator
 *
 * Nor is a combination of $not and $or with no left anchor
 *
 * Targets an RValue of (String, Array[Any])* to be converted to a  DBObject
 *
 * @since 2.0
 * @see http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%24nor
 */</span>
<span class="keyword">trait</span> <a title="trait NorOp extends java.lang.Object with com.mongodb.casbah.query.dsl.NorOpBase with ScalaObject" id="11856">NorOp</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11838" title="com.mongodb.casbah.query.dsl.NorOpBase">NorOpBase</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; com.mongodb.casbah.query.dsl.NestedBarewordListOperator" id="60622">$nor</a> = <a href="#60620" title="=&gt; com.mongodb.casbah.query.dsl.NestedBarewordListOperator">_nor</a>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait BitOpBase extends java.lang.Object with com.mongodb.casbah.query.dsl.BarewordQueryOperator with ScalaObject" id="11835">BitOpBase</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11694" title="com.mongodb.casbah.query.dsl.BarewordQueryOperator">BarewordQueryOperator</a> <span class="delimiter">{</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(field: String)java.lang.Object{def and[T](target: T)(implicit evidence$12: com.mongodb.casbah.query.Imports.ValidNumericType[T]): com.mongodb.casbah.commons.Imports.DBObject; def or[T](target: T)(implicit evidence$13: com.mongodb.casbah.query.Imports.ValidNumericType[T]): com.mongodb.casbah.commons.Imports.DBObject}" id="60624">_bit</a><span class="delimiter">(</span><a title="String" id="85524">field</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#85527" title="java.lang.Object{protected def op(oper: String,target: Any): com.mongodb.casbah.commons.Imports.DBObject; def and[T](target: T)(implicit evidence$12: com.mongodb.casbah.query.Imports.ValidNumericType[T]): com.mongodb.casbah.commons.Imports.DBObject; def or[T](target: T)(implicit evidence$13: com.mongodb.casbah.query.Imports.ValidNumericType[T]): com.mongodb.casbah.commons.Imports.DBObject}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object" id="85527" class="delimiter">{</a>
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(oper: String, target: Any)com.mongodb.casbah.commons.Imports.DBObject" id="85529">op</a><span class="delimiter">(</span><a title="String" id="85536">oper</a>: <span title="String">String</span>, <a title="Any" id="85537">target</a>: <span title="Any">Any</span><span class="delimiter">)</span> =
        <a href="../casbah-commons/MongoDBObject.scala.html#14684" title="(elems: (java.lang.String, com.mongodb.casbah.commons.Imports.DBObject)*)com.mongodb.casbah.commons.Imports.DBObject">MongoDBObject</a><span class="delimiter">(</span><span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;$bit&quot;</span> <span title="(y: com.mongodb.casbah.commons.Imports.DBObject)(java.lang.String, com.mongodb.casbah.commons.Imports.DBObject)">-&gt;</span> <a href="../casbah-commons/MongoDBObject.scala.html#14684" title="(elems: (String, com.mongodb.casbah.commons.Imports.DBObject)*)com.mongodb.casbah.commons.Imports.DBObject">MongoDBObject</a><span class="delimiter">(</span><a href="#85524" title="(x: String)ArrowAssoc[String]">field</a> <span title="(y: com.mongodb.casbah.commons.Imports.DBObject)(String, com.mongodb.casbah.commons.Imports.DBObject)">-&gt;</span> <a href="../casbah-commons/MongoDBObject.scala.html#14684" title="(elems: (String, Any)*)com.mongodb.casbah.commons.Imports.DBObject">MongoDBObject</a><span class="delimiter">(</span><a href="#85536" title="(x: String)ArrowAssoc[String]">oper</a> <span title="(y: Any)(String, Any)">-&gt;</span> <a href="#85537" title="Any">target</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$12: com.mongodb.casbah.query.Imports.ValidNumericType[T])com.mongodb.casbah.commons.Imports.DBObject" id="85692">and</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="85532">T</a>: ValidNumericType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="85691">target</a>: <a href="#85532" title="T">T</a><span class="delimiter">)</span> = <a href="#85529" title="(oper: String, target: Any)com.mongodb.casbah.commons.Imports.DBObject">op</a><span class="delimiter">(</span><span title="java.lang.String(&quot;and&quot;)" class="string">&quot;and&quot;</span>, <a href="#85691" title="T">target</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$13: com.mongodb.casbah.query.Imports.ValidNumericType[T])com.mongodb.casbah.commons.Imports.DBObject" id="85696">or</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="85535">T</a>: ValidNumericType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="85695">target</a>: <a href="#85535" title="T">T</a><span class="delimiter">)</span> = <a href="#85529" title="(oper: String, target: Any)com.mongodb.casbah.commons.Imports.DBObject">op</a><span class="delimiter">(</span><span title="java.lang.String(&quot;or&quot;)" class="string">&quot;or&quot;</span>, <a href="#85695" title="T">target</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Trait to provide the $bit (bit) update method as a bareword Operator
 *
 * Bit does a bitwise operation either AND or OR against a given field or set of fields
 * with no left anchor.
 *
 * Targets an RValue of {field: {and|or: integer}}.
 *
 * @since 2.1.1
 * @see http://www.mongodb.org/display/DOCS/Updating#Updating-%24bit
 */</span>
<span class="keyword">trait</span> <a title="trait BitOp extends java.lang.Object with com.mongodb.casbah.query.dsl.BitOpBase with ScalaObject" id="11622">BitOp</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11835" title="com.mongodb.casbah.query.dsl.BitOpBase">BitOpBase</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(field: String)java.lang.Object{def and[T](target: T)(implicit evidence$12: com.mongodb.casbah.query.Imports.ValidNumericType[T]): com.mongodb.casbah.commons.Imports.DBObject; def or[T](target: T)(implicit evidence$13: com.mongodb.casbah.query.Imports.ValidNumericType[T]): com.mongodb.casbah.commons.Imports.DBObject}" id="60626">$bit</a><span class="delimiter">(</span><a title="String" id="85744">field</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#60624" title="(field: String)java.lang.Object{def and[T](target: T)(implicit evidence$12: com.mongodb.casbah.query.Imports.ValidNumericType[T]): com.mongodb.casbah.commons.Imports.DBObject; def or[T](target: T)(implicit evidence$13: com.mongodb.casbah.query.Imports.ValidNumericType[T]): com.mongodb.casbah.commons.Imports.DBObject}">_bit</a><span class="delimiter">(</span><a href="#85744" title="String">field</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>