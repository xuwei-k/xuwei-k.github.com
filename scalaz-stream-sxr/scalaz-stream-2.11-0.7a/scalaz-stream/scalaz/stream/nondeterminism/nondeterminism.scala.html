<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scalaz-stream/scalaz/stream/nondeterminism/nondeterminism.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
package scalaz.stream


import <a href="../Cause.scala.html#scalaz.stream.Cause" title="scalaz.stream.Cause.type">Cause</a>._
import scalaz.<span class="delimiter">{</span>Right3, Middle3, Left3, \/-, -\/, Either3, \/<span class="delimiter">}</span>
import scalaz.concurrent.<span class="delimiter">{</span>Actor, Strategy, Task<span class="delimiter">}</span>
import scalaz.stream.<a href="../Process.scala.html#scalaz.stream.Process" title="scalaz.stream.Process.type">Process</a>._

package object <a title="scalaz.stream.nondeterminism.package.type" id="scalaz.stream.nondeterminism.package">nondeterminism</a> <a href="#scalaz.stream.nondeterminism.package" title="scalaz.stream.nondeterminism.package.type" class="delimiter">{</a>


  <span class="comment">/**
   * Nondeterministic join of streams. Up to `maxOpen` processes may be
   * open at a time, and `maxQueued` bounds the amount of prefetching.
   *
   * If any process terminates abnormally, the whole join terminates with
   * that reason and all open processes are killed.
   * If the resulting process is killed or fails, or if downstream terminates
   * early, all the merged processes are killed.
   *
   * @param maxOpen     maximum simultaneous processes that concurrently merge. If eq 0 no limit.
   * @param maxQueued   maximum number of queued `A` before merged processes will back-off. If eq 0 no limit.
   * @param source
   * @param S
   * @tparam A
   * @return
   */</span>
  def <a title="[A](maxOpen: Int, maxQueued: Int)(source: scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]])(implicit S: scalaz.concurrent.Strategy)scalaz.stream.Process[scalaz.concurrent.Task,A]" id="scalaz.stream.nondeterminism.package.njoin">njoin</a><span class="delimiter">[</span><a title="" id="scalaz.stream.nondeterminism.package.njoin;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Int" id="scalaz.stream.nondeterminism.package.njoin.maxOpen">maxOpen</a>: <span title="Int">Int</span>, <a title="Int" id="scalaz.stream.nondeterminism.package.njoin.maxQueued">maxQueued</a>: <span title="Int">Int</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]" id="scalaz.stream.nondeterminism.package.njoin.source">source</a>: <a href="../Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]">Process</a><span class="delimiter">[</span>Task, Process<span class="delimiter">[</span>Task, A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="scalaz.concurrent.Strategy" id="scalaz.stream.nondeterminism.package.njoin.S">S</a>: <span title="scalaz.concurrent.Strategy">Strategy</span><span class="delimiter">)</span>: <a href="../Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.concurrent.Task,A]">Process</a><span class="delimiter">[</span>Task, A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    sealed trait <a title="trait M extends AnyRef" id="scalaz.stream.nondeterminism.package.njoin;M">M</a>
    case object <a href="#scalaz.stream.nondeterminism.package.njoin;Start.productElement.x$1" title="Start.type" id="scalaz.stream.nondeterminism.package.njoin;Start.readResolve">Start</a> extends <a href="#scalaz.stream.nondeterminism.package.njoin;M" title="M">M</a>
    case class <a title="class Delay extends AnyRef with M with Product with Serializable" id="scalaz.stream.nondeterminism.package.njoin;Delay.readResolve">Delay</a><span title="Product" class="delimiter">(</span><a title="scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]" id="scalaz.stream.nondeterminism.package.njoin;Delay.cont">cont</a>: <a href="../Process.scala.html#scalaz.stream.Process;Cont" title="scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]">Cont</a><span class="delimiter">[</span>Task, Process<span class="delimiter">[</span>Task, A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> extends <a href="#scalaz.stream.nondeterminism.package.njoin;M" title="M">M</a>
    case class <a title="class Offer extends AnyRef with M with Product with Serializable" id="scalaz.stream.nondeterminism.package.njoin;Offer.readResolve">Offer</a><span title="Product" class="delimiter">(</span><a title="scalaz.stream.Process[scalaz.concurrent.Task,A]" id="scalaz.stream.nondeterminism.package.njoin;Offer.p">p</a>: <a href="../Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.concurrent.Task,A]">Process</a><span class="delimiter">[</span>Task, A<span class="delimiter">]</span>, <a title="scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]" id="scalaz.stream.nondeterminism.package.njoin;Offer.cont">cont</a>: <a href="../Process.scala.html#scalaz.stream.Process;Cont" title="scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]">Cont</a><span class="delimiter">[</span>Task,Process<span class="delimiter">[</span>Task,A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> extends <a href="#scalaz.stream.nondeterminism.package.njoin;M" title="M">M</a>
    case class <a title="class FinishedSource extends AnyRef with M with Product with Serializable" id="scalaz.stream.nondeterminism.package.njoin;FinishedSource.readResolve">FinishedSource</a><span title="Product" class="delimiter">(</span><a title="scalaz.stream.Cause" id="scalaz.stream.nondeterminism.package.njoin;FinishedSource.rsn">rsn</a>: <a href="../Cause.scala.html#scalaz.stream;Cause" title="scalaz.stream.Cause">Cause</a><span class="delimiter">)</span> extends <a href="#scalaz.stream.nondeterminism.package.njoin;M" title="M">M</a>
    case class <a title="class Finished extends AnyRef with M with Product with Serializable" id="scalaz.stream.nondeterminism.package.njoin;Finished.readResolve">Finished</a><span title="Product" class="delimiter">(</span><a title="scalaz.\/[Throwable,Unit]" id="scalaz.stream.nondeterminism.package.njoin;Finished.result">result</a>: Throwable <span title="scalaz.\/[Throwable,Unit]">\/</span> Unit<span class="delimiter">)</span> extends <a href="#scalaz.stream.nondeterminism.package.njoin;M" title="M">M</a>
    case class <a title="class FinishedDown extends AnyRef with M with Product with Serializable" id="scalaz.stream.nondeterminism.package.njoin;FinishedDown.readResolve">FinishedDown</a><span title="Product" class="delimiter">(</span><a title="scalaz.\/[Throwable,Unit] =&gt; Unit" id="scalaz.stream.nondeterminism.package.njoin;FinishedDown.cb">cb</a>: <span class="delimiter">(</span>Throwable \/ Unit<span class="delimiter">)</span> =&gt; Unit<span class="delimiter">)</span> extends <a href="#scalaz.stream.nondeterminism.package.njoin;M" title="M">M</a>


    <a href="../Process.scala.html#scalaz.stream.Process.suspend" title="(p: =&gt; scalaz.stream.Process[scalaz.concurrent.Task,A])scalaz.stream.Process[scalaz.concurrent.Task,A]">suspend</a> <span class="delimiter">{</span>
      val <a title="scalaz.stream.async.mutable.Queue[A]" id="scalaz.stream.nondeterminism.package.njoin.q">q</a> = if <span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.maxQueued" title="Int">maxQueued</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
        async.<a href="../async/package.scala.html#scalaz.stream.async.package.boundedQueue" title="[A](max: Int)(implicit S: scalaz.concurrent.Strategy)scalaz.stream.async.mutable.Queue[A]">boundedQueue</a><span title="(max: Int)(implicit S: scalaz.concurrent.Strategy)scalaz.stream.async.mutable.Queue[A]" class="delimiter">[</span><a href="#scalaz.stream.nondeterminism.package.njoin;A" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.maxQueued" title="Int">maxQueued</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.S" title="scalaz.concurrent.Strategy">S</a><span class="delimiter">)</span>
      else
        async.<a href="../async/package.scala.html#scalaz.stream.async.package.unboundedQueue" title="[A](implicit S: scalaz.concurrent.Strategy)scalaz.stream.async.mutable.Queue[A]">unboundedQueue</a><span title="(implicit S: scalaz.concurrent.Strategy)scalaz.stream.async.mutable.Queue[A]" class="delimiter">[</span><a href="#scalaz.stream.nondeterminism.package.njoin;A" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.S" title="scalaz.concurrent.Strategy">S</a><span class="delimiter">)</span>

      val <a title="scalaz.stream.async.mutable.Signal[Boolean]" id="scalaz.stream.nondeterminism.package.njoin.done">done</a> = async.<a href="../async/package.scala.html#scalaz.stream.async.package.signalOf" title="(initialValue: Boolean)(implicit S: scalaz.concurrent.Strategy)scalaz.stream.async.mutable.Signal[Boolean]">signalOf</a><span class="delimiter">(</span>false<span class="delimiter">)</span><span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.S" title="scalaz.concurrent.Strategy">S</a><span class="delimiter">)</span>

      <span class="comment">//keep state of master source</span>
      var <a title="scalaz.Either3[scalaz.stream.Cause,scalaz.stream.Cause.EarlyCause =&gt; Unit,scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]]" id="scalaz.stream.nondeterminism.package.njoin.state">state</a>: <span title="scalaz.Either3[scalaz.stream.Cause,scalaz.stream.Cause.EarlyCause =&gt; Unit,scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]]">Either3</span><span class="delimiter">[</span>Cause, EarlyCause =&gt; Unit,  Cont<span class="delimiter">[</span>Task,Process<span class="delimiter">[</span>Task,A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span> =
        <span title="scalaz.Either3.type">Either3</span>.<span title="(a: scalaz.stream.Cause.End.type)scalaz.Either3[scalaz.stream.Cause.End.type,Nothing,Nothing]">left3</span><span class="delimiter">(</span><a href="../Cause.scala.html#scalaz.stream.Cause.End" title="scalaz.stream.Cause.End.type">End</a><span class="delimiter">)</span>

      <span class="comment">//keep no of open processes</span>
      var <a title="Int" id="scalaz.stream.nondeterminism.package.njoin.opened">opened</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span>

      <span class="comment">//if this mergeN is closed this is set to reason that caused mergeN to close</span>
      var <a title="Option[scalaz.stream.Cause]" id="scalaz.stream.nondeterminism.package.njoin.closed">closed</a>: <span title="Option[scalaz.stream.Cause]">Option</span><span class="delimiter">[</span>Cause<span class="delimiter">]</span> = <span title="None.type">None</span>

      <span class="comment">//keeps track of finalized streams and will issue callback</span>
      <span class="comment">//when all streams have finished.</span>
      var <a title="Option[scalaz.\/[Throwable,Unit] =&gt; Unit]" id="scalaz.stream.nondeterminism.package.njoin.completer">completer</a>: <span title="Option[scalaz.\/[Throwable,Unit] =&gt; Unit]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>Throwable \/ Unit<span class="delimiter">)</span> =&gt; Unit<span class="delimiter">]</span> = <span title="None.type">None</span>

      var <a title="scalaz.concurrent.Actor[M]" id="scalaz.stream.nondeterminism.package.njoin.actor">actor</a>: <span title="scalaz.concurrent.Actor[M]">Actor</span><span class="delimiter">[</span>M<span class="delimiter">]</span> = null

      <span class="comment">//evaluates next step of the source of processes</span>
      def <a title="(from: scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]])scalaz.Either3[Nothing,scalaz.stream.Cause.EarlyCause =&gt; Unit,Nothing]" id="scalaz.stream.nondeterminism.package.njoin.nextStep">nextStep</a><span class="delimiter">(</span><a title="scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]" id="scalaz.stream.nondeterminism.package.njoin.nextStep.from">from</a>: <a href="../Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]">Process</a><span class="delimiter">[</span>Task, Process<span class="delimiter">[</span>Task, A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span title="scalaz.Either3.type">Either3</span>.<span title="(b: scalaz.stream.Cause.EarlyCause =&gt; Unit)scalaz.Either3[Nothing,scalaz.stream.Cause.EarlyCause =&gt; Unit,Nothing]">middle3</span><span class="delimiter">(</span><span class="delimiter">{</span>
          <a href="../Process.scala.html#scalaz.stream.Process.SourceSyntax" title="(self: scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]])scalaz.stream.Process.SourceSyntax[scalaz.stream.Process[scalaz.concurrent.Task,A]]">from</a> <a href="../Process.scala.html#scalaz.stream.Process;SourceSyntax.stepAsync" title="(cb: scalaz.\/[scalaz.stream.Cause,(Seq[scalaz.stream.Process[scalaz.concurrent.Task,A]], scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]])] =&gt; Unit)(implicit S: scalaz.concurrent.Strategy)scalaz.stream.Cause.EarlyCause =&gt; Unit">stepAsync</a> <a href="#scalaz.stream.nondeterminism.package.njoin.nextStep.$anonfun.x0$1" title="Unit" class="delimiter">{</a>
            case -\/<span class="delimiter">(</span><a title="scalaz.stream.Cause" id="scalaz.stream.nondeterminism.package.njoin.nextStep.$anonfun.rsn">rsn</a><span class="delimiter">)</span> =&gt;
              <a href="#scalaz.stream.nondeterminism.package.njoin.actor" title="scalaz.concurrent.Actor[M]">actor</a> <span title="(a: M)Unit">!</span> <a href="#scalaz.stream.nondeterminism.package.njoin;FinishedSource.readResolve" title="(rsn: scalaz.stream.Cause)FinishedSource">FinishedSource</a><span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.nextStep.$anonfun.rsn" title="scalaz.stream.Cause">rsn</a><span class="delimiter">)</span>

            <span class="comment">// contrary to popular belief (well, basically just *here*), stepAsync does not guarantee non-emptiness</span>
            case \/-<span class="delimiter">(</span><span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.nextStep.$anonfun.<unapply-selector>" title="(x: Seq[scalaz.stream.Process[scalaz.concurrent.Task,A]])Some[Seq[scalaz.stream.Process[scalaz.concurrent.Task,A]]]">Seq</a><span class="delimiter">(</span><span class="delimiter">)</span>, <span title="scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]">cont</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <a href="#scalaz.stream.nondeterminism.package.njoin.actor" title="scalaz.concurrent.Actor[M]">actor</a> <span title="(a: M)Unit">!</span> <a href="#scalaz.stream.nondeterminism.package.njoin;Delay.readResolve" title="(cont: scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]])Delay">Delay</a><span class="delimiter">(</span><span title="scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]">cont</span><span class="delimiter">)</span>

            case \/-<span class="delimiter">(</span><span class="delimiter">(</span><a title="Seq[scalaz.stream.Process[scalaz.concurrent.Task,A]]" id="scalaz.stream.nondeterminism.package.njoin.nextStep.$anonfun.processes">processes</a>, <span title="scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]">cont</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              val <a title="scalaz.stream.Cause =&gt; scalaz.Free.Trampoline[scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Process[scalaz.concurrent.Task,A]]]" id="scalaz.stream.nondeterminism.package.njoin.nextStep.$anonfun.next">next</a> = <span class="delimiter">(</span>c:<a href="../Cause.scala.html#scalaz.stream;Cause" title="scalaz.stream.Cause">Cause</a><span class="delimiter">)</span> =&gt; <a href="../Process.scala.html#scalaz.stream.Process.Trampoline" title="=&gt; scalaz.Trampoline.type">Trampoline</a>.<span title="(a: scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Process[scalaz.concurrent.Task,A]])scalaz.Free.Trampoline[scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Process[scalaz.concurrent.Task,A]]]">done</span><span class="delimiter">(</span>
                <a href="#scalaz.stream.nondeterminism.package.njoin.nextStep.$anonfun.next.$anonfun.c" title="scalaz.stream.Cause">c</a>.<a href="../Cause.scala.html#scalaz.stream;Cause.fold" title="(onEnd: =&gt; scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Process[scalaz.concurrent.Task,A]])(f: scalaz.stream.Cause.EarlyCause =&gt; scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Process[scalaz.concurrent.Task,A]])scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Process[scalaz.concurrent.Task,A]]">fold</a><span class="delimiter">(</span><a href="../Process.scala.html#scalaz.stream.Process.emitAll" title="(os: Seq[scalaz.stream.Process[scalaz.concurrent.Task,A]])scalaz.stream.Process0[scalaz.stream.Process[scalaz.concurrent.Task,A]]">emitAll</a><span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.nextStep.$anonfun.processes" title="Seq[scalaz.stream.Process[scalaz.concurrent.Task,A]]">processes</a>.<span title="=&gt; Seq[scalaz.stream.Process[scalaz.concurrent.Task,A]]">tail</span><span class="delimiter">)</span> <a href="../Process.scala.html#scalaz.stream.Process;Cont.+:" title="(p: scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Process[scalaz.concurrent.Task,A]])scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Process[scalaz.concurrent.Task,A]]">+:</a> <span title="scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]">cont</span><span class="delimiter">)</span><span class="delimiter">(</span>
                  <a title="scalaz.stream.Cause.EarlyCause" id="scalaz.stream.nondeterminism.package.njoin.nextStep.$anonfun.next.$anonfun.$anonfun.early">early</a> =&gt; <a href="../Process.scala.html#scalaz.stream.Process;Halt" title="(cause: scalaz.stream.Cause)scalaz.stream.Process.Halt">Halt</a><span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.nextStep.$anonfun.next.$anonfun.$anonfun.early" title="scalaz.stream.Cause.EarlyCause">early</a><span class="delimiter">)</span> <a href="../Process.scala.html#scalaz.stream.Process;Cont.+:" title="(p: scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Process[scalaz.concurrent.Task,A]])scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Process[scalaz.concurrent.Task,A]]">+:</a> <span title="scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]">cont</span>
                <span class="delimiter">)</span>
              <span class="delimiter">)</span>
              <a href="#scalaz.stream.nondeterminism.package.njoin.actor" title="scalaz.concurrent.Actor[M]">actor</a> <span title="(a: M)Unit">!</span> <a href="#scalaz.stream.nondeterminism.package.njoin;Offer.readResolve" title="(p: scalaz.stream.Process[scalaz.concurrent.Task,A], cont: scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]])Offer">Offer</a><span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.nextStep.$anonfun.processes" title="Seq[scalaz.stream.Process[scalaz.concurrent.Task,A]]">processes</a>.<span title="=&gt; scalaz.stream.Process[scalaz.concurrent.Task,A]">head</span>, <a href="../Process.scala.html#scalaz.stream.Process;Cont" title="(stack: Vector[scalaz.stream.Cause =&gt; scalaz.stream.Process.Trampoline[scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]]])scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]">Cont</a><span class="delimiter">(</span><span title="(elems: scalaz.stream.Cause =&gt; scalaz.Free.Trampoline[scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Process[scalaz.concurrent.Task,A]]]*)scala.collection.immutable.Vector[scalaz.stream.Cause =&gt; scalaz.Free.Trampoline[scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Process[scalaz.concurrent.Task,A]]]]">Vector</span><span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.nextStep.$anonfun.next" title="scalaz.stream.Cause =&gt; scalaz.Free.Trampoline[scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Process[scalaz.concurrent.Task,A]]]">next</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">// fails the signal should cause all streams to terminate</span>

      def <a title="(cause: scalaz.stream.Cause)Unit" id="scalaz.stream.nondeterminism.package.njoin.fail">fail</a><span class="delimiter">(</span><a title="scalaz.stream.Cause" id="scalaz.stream.nondeterminism.package.njoin.fail.cause">cause</a>: <a href="../Cause.scala.html#scalaz.stream;Cause" title="scalaz.stream.Cause">Cause</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
        <a href="#scalaz.stream.nondeterminism.package.njoin.closed" title="Option[scalaz.stream.Cause]">closed</a> = <span title="(x: scalaz.stream.Cause)Some[scalaz.stream.Cause]">Some</span><span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.fail.cause" title="scalaz.stream.Cause">cause</a><span class="delimiter">)</span>
        <a href="#scalaz.stream.nondeterminism.package.njoin.S" title="(a: =&gt; Unit)() =&gt; Unit">S</a><span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.done" title="scalaz.stream.async.mutable.Signal[Boolean]">done</a>.<a href="../async/mutable/Signal.scala.html#scalaz.stream.async.mutable;Signal.kill" title="=&gt; scalaz.concurrent.Task[Unit]">kill</a> <span title="(f: scalaz.\/[Throwable,Unit] =&gt; Unit)Unit">runAsync</span> <span class="delimiter">{</span> <a title="scalaz.\/[Throwable,Unit]" id="scalaz.stream.nondeterminism.package.njoin.fail.$anonfun.x$3">_</a>=&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span>
        <a href="#scalaz.stream.nondeterminism.package.njoin.state" title="scalaz.Either3[scalaz.stream.Cause,scalaz.stream.Cause.EarlyCause =&gt; Unit,scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]]">state</a> = <a href="#scalaz.stream.nondeterminism.package.njoin.state" title="scalaz.Either3[scalaz.stream.Cause,scalaz.stream.Cause.EarlyCause =&gt; Unit,scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]]">state</a> match <span class="delimiter">{</span>
          case Middle3<span class="delimiter">(</span><a title="scalaz.stream.Cause.EarlyCause =&gt; Unit" id="scalaz.stream.nondeterminism.package.njoin.fail.interrupt">interrupt</a><span class="delimiter">)</span> =&gt; <a href="#scalaz.stream.nondeterminism.package.njoin.S" title="(a: =&gt; Unit)() =&gt; Unit">S</a><span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.fail.interrupt" title="(v1: scalaz.stream.Cause.EarlyCause)Unit">interrupt</a><span class="delimiter">(</span><a href="../Cause.scala.html#scalaz.stream.Cause.Kill" title="scalaz.stream.Cause.Kill.type">Kill</a><span class="delimiter">)</span><span class="delimiter">)</span> ; <span title="scalaz.Either3.type">Either3</span>.<span title="(b: scalaz.stream.Cause =&gt; Unit)scalaz.Either3[Nothing,scalaz.stream.Cause =&gt; Unit,Nothing]">middle3</span><span class="delimiter">(</span><span class="delimiter">(</span>_:<a href="../Cause.scala.html#scalaz.stream;Cause" title="scalaz.stream.Cause">Cause</a><span class="delimiter">)</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
          case Right3<span class="delimiter">(</span><a title="scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]" id="scalaz.stream.nondeterminism.package.njoin.fail.cont">cont</a><span class="delimiter">)</span> =&gt; <a href="#scalaz.stream.nondeterminism.package.njoin.nextStep" title="(from: scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]])scalaz.Either3[Nothing,scalaz.stream.Cause.EarlyCause =&gt; Unit,Nothing]">nextStep</a><span class="delimiter">(</span><a href="../Process.scala.html#scalaz.stream.Process;Halt" title="(cause: scalaz.stream.Cause)scalaz.stream.Process.Halt">Halt</a><span class="delimiter">(</span><a href="../Cause.scala.html#scalaz.stream.Cause.Kill" title="scalaz.stream.Cause.Kill.type">Kill</a><span class="delimiter">)</span> <a href="../Process.scala.html#scalaz.stream.Process;Cont.+:" title="(p: scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Process[scalaz.concurrent.Task,A]])scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Process[scalaz.concurrent.Task,A]]">+:</a> <a href="#scalaz.stream.nondeterminism.package.njoin.fail.cont" title="scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]">cont</a><span class="delimiter">)</span>;  <span title="scalaz.Either3.type">Either3</span>.<span title="(b: scalaz.stream.Cause =&gt; Unit)scalaz.Either3[Nothing,scalaz.stream.Cause =&gt; Unit,Nothing]">middle3</span><span class="delimiter">(</span><span class="delimiter">(</span>_:<a href="../Cause.scala.html#scalaz.stream;Cause" title="scalaz.stream.Cause">Cause</a><span class="delimiter">)</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
          case Left3<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="#scalaz.stream.nondeterminism.package.njoin.state" title="scalaz.Either3[scalaz.stream.Cause,scalaz.stream.Cause.EarlyCause =&gt; Unit,scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]]">state</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="comment">// starts the source evaluation</span>
      def <a title="=&gt; scalaz.concurrent.Task[Unit]" id="scalaz.stream.nondeterminism.package.njoin.start">start</a>: <span title="scalaz.concurrent.Task[Unit]">Task</span><span class="delimiter">[</span>Unit<span class="delimiter">]</span> =
        <span title="scalaz.concurrent.Task.type">Task</span> <span title="(a: =&gt; Unit)scalaz.concurrent.Task[Unit]">delay</span> <span class="delimiter">{</span> <a href="#scalaz.stream.nondeterminism.package.njoin.actor" title="scalaz.concurrent.Actor[M]">actor</a> <span title="(a: M)Unit">!</span> <a href="#scalaz.stream.nondeterminism.package.njoin;Start.readResolve" title="Start.type">Start</a> <span class="delimiter">}</span>

      def <a title="=&gt; Boolean" id="scalaz.stream.nondeterminism.package.njoin.sourceDone">sourceDone</a> = <a href="#scalaz.stream.nondeterminism.package.njoin.state" title="scalaz.Either3[scalaz.stream.Cause,scalaz.stream.Cause.EarlyCause =&gt; Unit,scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]]">state</a>.<span title="(z: =&gt; Boolean)(f: scalaz.stream.Cause =&gt; Boolean)Boolean">leftOr</span><span class="delimiter">(</span>false<span class="delimiter">)</span><span class="delimiter">(</span><a title="scalaz.stream.Cause" id="scalaz.stream.nondeterminism.package.njoin.sourceDone.$anonfun.x$7">_</a>=&gt;true<span class="delimiter">)</span>

      def <a title="=&gt; Boolean" id="scalaz.stream.nondeterminism.package.njoin.allDone">allDone</a> : <span title="Boolean">Boolean</span> = <a href="#scalaz.stream.nondeterminism.package.njoin.opened" title="Int">opened</a> <span title="(x: Int)Boolean">&lt;=</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#scalaz.stream.nondeterminism.package.njoin.sourceDone" title="=&gt; Boolean">sourceDone</a>

      def <a title="=&gt; Unit" id="scalaz.stream.nondeterminism.package.njoin.completeIfDone">completeIfDone</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
        if <span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.allDone" title="=&gt; Boolean">allDone</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#scalaz.stream.nondeterminism.package.njoin.S" title="(a: =&gt; Unit)() =&gt; Unit">S</a><span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.q" title="scalaz.stream.async.mutable.Queue[A]">q</a>.<a href="../async/mutable/Queue.scala.html#scalaz.stream.async.mutable;Queue.failWithCause" title="(c: scalaz.stream.Cause)scalaz.concurrent.Task[Unit]">failWithCause</a><span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.closed" title="Option[scalaz.stream.Cause]">closed</a>.<span title="(default: =&gt; scalaz.stream.Cause)scalaz.stream.Cause">getOrElse</span><span class="delimiter">(</span><a href="../Cause.scala.html#scalaz.stream.Cause.End" title="scalaz.stream.Cause.End.type">End</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(f: scalaz.\/[Throwable,Unit] =&gt; Unit)Unit">runAsync</span> <span class="delimiter">{</span> <a title="scalaz.\/[Throwable,Unit]" id="scalaz.stream.nondeterminism.package.njoin.completeIfDone.$anonfun.x$8">_</a> =&gt; <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span> <span class="delimiter">}</span><span class="delimiter">)</span>
          <a href="#scalaz.stream.nondeterminism.package.njoin.completer" title="Option[scalaz.\/[Throwable,Unit] =&gt; Unit]">completer</a>.<span title="(f: (scalaz.\/[Throwable,Unit] =&gt; Unit) =&gt; (() =&gt; Unit))Unit">foreach</span> <span class="delimiter">{</span> <a title="scalaz.\/[Throwable,Unit] =&gt; Unit" id="scalaz.stream.nondeterminism.package.njoin.completeIfDone.$anonfun.cb">cb</a> =&gt;  <a href="#scalaz.stream.nondeterminism.package.njoin.S" title="(a: =&gt; Unit)() =&gt; Unit">S</a><span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.completeIfDone.$anonfun.cb" title="(v1: scalaz.\/[Throwable,Unit])Unit">cb</a><span class="delimiter">(</span><span title="(b: Unit)scalaz.\/-[Unit]">\/-</span><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
          <a href="#scalaz.stream.nondeterminism.package.njoin.completer" title="Option[scalaz.\/[Throwable,Unit] =&gt; Unit]">completer</a> = <span title="None.type">None</span>
          <a href="#scalaz.stream.nondeterminism.package.njoin.closed" title="Option[scalaz.stream.Cause]">closed</a> = <a href="#scalaz.stream.nondeterminism.package.njoin.closed" title="Option[scalaz.stream.Cause]">closed</a> <span title="(alternative: =&gt; Option[scalaz.stream.Cause])Option[scalaz.stream.Cause]">orElse</span> <span title="(x: scalaz.stream.Cause.End.type)Some[scalaz.stream.Cause.End.type]">Some</span><span class="delimiter">(</span><a href="../Cause.scala.html#scalaz.stream.Cause.End" title="scalaz.stream.Cause.End.type">End</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="#scalaz.stream.nondeterminism.package.njoin.actor" title="scalaz.concurrent.Actor[M]">actor</a> = <span title="[A](handler: A =&gt; Unit, onError: Throwable =&gt; Unit)(implicit strategy: scalaz.concurrent.Strategy)scalaz.concurrent.Actor[A]">Actor</span><span title="(handler: M =&gt; Unit, onError: Throwable =&gt; Unit)(implicit strategy: scalaz.concurrent.Strategy)scalaz.concurrent.Actor[M]" class="delimiter">[</span><a href="#scalaz.stream.nondeterminism.package.njoin;M" title="M">M</a><span class="delimiter">]</span><a href="#scalaz.stream.nondeterminism.package.njoin.S" title="scalaz.concurrent.Strategy" class="delimiter">(</a><span class="delimiter">{</span><a title="M" id="scalaz.stream.nondeterminism.package.njoin.$anonfun.m">m</a> =&gt;
        <a href="#scalaz.stream.nondeterminism.package.njoin.closed" title="Option[scalaz.stream.Cause]">closed</a>.<span title="(ifEmpty: =&gt; Any)(f: scalaz.stream.Cause =&gt; Any)Any">fold</span><span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.$anonfun.m" title="M">m</a> match <span class="delimiter">{</span>
          case <a href="#scalaz.stream.nondeterminism.package.njoin;Delay.readResolve" title="(x$0: Delay)Option[scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]]">Delay</a><span class="delimiter">(</span><span title="scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]">cont</span><span class="delimiter">)</span> =&gt;
            <a href="#scalaz.stream.nondeterminism.package.njoin.state" title="scalaz.Either3[scalaz.stream.Cause,scalaz.stream.Cause.EarlyCause =&gt; Unit,scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]]">state</a> = <a href="#scalaz.stream.nondeterminism.package.njoin.nextStep" title="(from: scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]])scalaz.Either3[Nothing,scalaz.stream.Cause.EarlyCause =&gt; Unit,Nothing]">nextStep</a><span class="delimiter">(</span><span title="scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]">cont</span>.<a href="../Process.scala.html#scalaz.stream.Process;Cont.continue" title="=&gt; scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]">continue</a><span class="delimiter">)</span>

          <span class="comment">// next merged process is available</span>
          <span class="comment">// run it with chance to interrupt</span>
          <span class="comment">// and give chance to start next process if not bounded</span>
          case <a href="#scalaz.stream.nondeterminism.package.njoin;Offer.readResolve" title="(x$0: Offer)Option[(scalaz.stream.Process[scalaz.concurrent.Task,A], scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]])]">Offer</a><span class="delimiter">(</span><a title="scalaz.stream.Process[scalaz.concurrent.Task,A]" id="scalaz.stream.nondeterminism.package.njoin.$anonfun.p">p</a>, <span title="scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]">cont</span><span class="delimiter">)</span> =&gt;
            <a href="#scalaz.stream.nondeterminism.package.njoin.opened" title="Int">opened</a> = <a href="#scalaz.stream.nondeterminism.package.njoin.opened" title="Int">opened</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>
            if <span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.maxOpen" title="Int">maxOpen</a> <span title="(x: Int)Boolean">&lt;=</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">||</span> <a href="#scalaz.stream.nondeterminism.package.njoin.opened" title="Int">opened</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#scalaz.stream.nondeterminism.package.njoin.maxOpen" title="Int">maxOpen</a><span class="delimiter">)</span> <a href="#scalaz.stream.nondeterminism.package.njoin.state" title="scalaz.Either3[scalaz.stream.Cause,scalaz.stream.Cause.EarlyCause =&gt; Unit,scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]]">state</a> = <a href="#scalaz.stream.nondeterminism.package.njoin.nextStep" title="(from: scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]])scalaz.Either3[Nothing,scalaz.stream.Cause.EarlyCause =&gt; Unit,Nothing]">nextStep</a><span class="delimiter">(</span><span title="scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]">cont</span>.<a href="../Process.scala.html#scalaz.stream.Process;Cont.continue" title="=&gt; scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]">continue</a><span class="delimiter">)</span>
            else <a href="#scalaz.stream.nondeterminism.package.njoin.state" title="scalaz.Either3[scalaz.stream.Cause,scalaz.stream.Cause.EarlyCause =&gt; Unit,scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]]">state</a> = <span title="scalaz.Either3.type">Either3</span>.<span title="(c: scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]])scalaz.Either3[Nothing,Nothing,scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]]">right3</span><span class="delimiter">(</span><span title="scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]">cont</span><span class="delimiter">)</span>

            <span class="comment">//runs the process with a chance to interrupt it using signal `done`</span>
            <span class="comment">//interrupt is done via killing the done signal.</span>
            <span class="comment">//enqueue action needs to be interruptible, otherwise the process will never halt</span>
            <span class="comment">//if the outer process is terminated while the queue is full and an enqueue is pending</span>
            <span class="comment">//note that here we convert `Kill` to exception to distinguish form normal and</span>
            <span class="comment">//killed behaviour of upstream termination</span>
            <a href="#scalaz.stream.nondeterminism.package.njoin.done" title="scalaz.stream.async.mutable.Signal[Boolean]">done</a>.<a href="../Process.scala.html#scalaz.stream.Process.SourceSyntax" title="(self: scalaz.stream.Process[scalaz.concurrent.Task,Boolean])scalaz.stream.Process.SourceSyntax[Boolean]">discrete</a>.<a href="../wye.scala.html#scalaz.stream;WyeOps.wye" title="(p2: scalaz.stream.Process[scalaz.concurrent.Task,Nothing])(y: scalaz.stream.Wye[Boolean,Nothing,Nothing])(implicit S: scalaz.concurrent.Strategy)scalaz.stream.Process[scalaz.concurrent.Task,Nothing]">wye</a><span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.$anonfun.p" title="scalaz.stream.Process[scalaz.concurrent.Task,A]">p</a>.<a href="../Process.scala.html#scalaz.stream;Process.flatMap" title="(f: A =&gt; scalaz.stream.Process[[x]scalaz.concurrent.Task[x],Nothing])scalaz.stream.Process[[x]scalaz.concurrent.Task[x],Nothing]">flatMap</a><span class="delimiter">(</span><a title="A" id="scalaz.stream.nondeterminism.package.njoin.$anonfun.$anonfun.a">a</a> =&gt; <a href="../Process.scala.html#scalaz.stream.Process.eval_" title="(f: scalaz.concurrent.Task[Unit])scalaz.stream.Process[scalaz.concurrent.Task,Nothing]">eval_</a><span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.q" title="scalaz.stream.async.mutable.Queue[A]">q</a>.<a href="../async/mutable/Queue.scala.html#scalaz.stream.async.mutable;Queue.enqueueOne" title="(a: A)scalaz.concurrent.Task[Unit]">enqueueOne</a><span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.$anonfun.$anonfun.a" title="A">a</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><a href="#scalaz.stream.nondeterminism.package.njoin.S" title="scalaz.concurrent.Strategy" class="delimiter">(</a><a href="../wye.scala.html#scalaz.stream.wye" title="scalaz.stream.wye.type">wye</a>.<a href="../wye.scala.html#scalaz.stream.wye.interrupt" title="scalaz.stream.Wye[Boolean,Nothing,Nothing]">interrupt</a><span class="delimiter">)</span>
            .<a href="../Process.scala.html#scalaz.stream;Process.onHalt" title="(f: scalaz.stream.Cause =&gt; scalaz.stream.Process[[x]scalaz.concurrent.Task[x],Nothing])scalaz.stream.Process[[x]scalaz.concurrent.Task[x],Nothing]">onHalt</a><a href="#scalaz.stream.nondeterminism.package.njoin.$anonfun.$anonfun.x0$2" title="scalaz.stream.Process.Halt" class="delimiter">{</a>
              case <a href="../Cause.scala.html#scalaz.stream.Cause.Kill" title="scalaz.stream.Cause.Kill.type">Kill</a> =&gt; <a href="../Process.scala.html#scalaz.stream.Process;Halt" title="(cause: scalaz.stream.Cause)scalaz.stream.Process.Halt">Halt</a><span class="delimiter">(</span><a href="../Cause.scala.html#scalaz.stream.Cause;Error" title="(rsn: Throwable)scalaz.stream.Cause.Error">Error</a><span class="delimiter">(</span><a href="../Cause.scala.html#scalaz.stream.Cause;Terminated" title="(cause: scalaz.stream.Cause)scalaz.stream.Cause.Terminated">Terminated</a><span class="delimiter">(</span><a href="../Cause.scala.html#scalaz.stream.Cause.Kill" title="scalaz.stream.Cause.Kill.type">Kill</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              case <span title="scalaz.stream.Cause">cause</span> =&gt; <a href="../Process.scala.html#scalaz.stream.Process;Halt" title="(cause: scalaz.stream.Cause)scalaz.stream.Process.Halt">Halt</a><span class="delimiter">(</span><span title="scalaz.stream.Cause">cause</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            .<a href="../Process.scala.html#scalaz.stream;Process.run" title="(implicit F: scalaz.Monad[[x]scalaz.concurrent.Task[x]], implicit C: scalaz.Catchable[[x]scalaz.concurrent.Task[x]])scalaz.concurrent.Task[Unit]">run</a>.<span title="(f: scalaz.\/[Throwable,Unit] =&gt; Unit)Unit">runAsync</span> <span class="delimiter">{</span> <a title="scalaz.\/[Throwable,Unit]" id="scalaz.stream.nondeterminism.package.njoin.$anonfun.$anonfun.res">res</a> =&gt;
              <a href="#scalaz.stream.nondeterminism.package.njoin.S" title="(a: =&gt; Unit)() =&gt; Unit">S</a><span title="Unit" class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.actor" title="scalaz.concurrent.Actor[M]">actor</a> <span title="(a: M)Unit">!</span> <a href="#scalaz.stream.nondeterminism.package.njoin;Finished.readResolve" title="(result: scalaz.\/[Throwable,Unit])Finished">Finished</a><span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.$anonfun.$anonfun.res" title="scalaz.\/[Throwable,Unit]">res</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>

          <span class="comment">//finished the `upstream` normally but still have some open processes to merge</span>
          <span class="comment">//update state and wait for processes to merge</span>
          case <a href="#scalaz.stream.nondeterminism.package.njoin;FinishedSource.readResolve" title="(x$0: FinishedSource)Option[scalaz.stream.Cause]">FinishedSource</a><span class="delimiter">(</span><a href="../Cause.scala.html#scalaz.stream.Cause.End" title="scalaz.stream.Cause.End.type">End</a><span class="delimiter">)</span> if <a href="#scalaz.stream.nondeterminism.package.njoin.opened" title="Int">opened</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span> =&gt;
            <a href="#scalaz.stream.nondeterminism.package.njoin.state" title="scalaz.Either3[scalaz.stream.Cause,scalaz.stream.Cause.EarlyCause =&gt; Unit,scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]]">state</a> = <span title="scalaz.Either3.type">Either3</span>.<span title="(a: scalaz.stream.Cause.End.type)scalaz.Either3[scalaz.stream.Cause.End.type,Nothing,Nothing]">left3</span><span class="delimiter">(</span><a href="../Cause.scala.html#scalaz.stream.Cause.End" title="scalaz.stream.Cause.End.type">End</a><span class="delimiter">)</span>

          <span class="comment">// finished upstream and no processes are running, terminate downstream</span>
          <span class="comment">// or the cause is early cause and shall kill all the remaining processes</span>
          case <a href="#scalaz.stream.nondeterminism.package.njoin;FinishedSource.readResolve" title="(x$0: FinishedSource)Option[scalaz.stream.Cause]">FinishedSource</a><span class="delimiter">(</span><span title="scalaz.stream.Cause">rsn</span><span class="delimiter">)</span> =&gt;
            <a href="#scalaz.stream.nondeterminism.package.njoin.state" title="scalaz.Either3[scalaz.stream.Cause,scalaz.stream.Cause.EarlyCause =&gt; Unit,scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]]">state</a> = <span title="scalaz.Either3.type">Either3</span>.<span title="(a: scalaz.stream.Cause)scalaz.Either3[scalaz.stream.Cause,Nothing,Nothing]">left3</span><span class="delimiter">(</span><span title="scalaz.stream.Cause">rsn</span><span class="delimiter">)</span>
            <a href="#scalaz.stream.nondeterminism.package.njoin.fail" title="(cause: scalaz.stream.Cause)Unit">fail</a><span class="delimiter">(</span><span title="scalaz.stream.Cause">rsn</span><span class="delimiter">)</span>
            <a href="#scalaz.stream.nondeterminism.package.njoin.completeIfDone" title="=&gt; Unit">completeIfDone</a>

          <span class="comment">// merged process terminated with failure</span>
          <span class="comment">// kill all the open processes including the `source`</span>
          case <a href="#scalaz.stream.nondeterminism.package.njoin;Finished.readResolve" title="(x$0: Finished)Option[scalaz.\/[Throwable,Unit]]">Finished</a><span class="delimiter">(</span>-\/<span class="delimiter">(</span><span title="Throwable">rsn</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            val <a title="&lt;refinement of scalaz.stream.Cause.EarlyCause with Product&gt; extends scalaz.stream.Cause.EarlyCause with Product with Serializable" id="scalaz.stream.nondeterminism.package.njoin.$anonfun.cause">cause</a> = <span title="Throwable">rsn</span> match <span class="delimiter">{</span>
              case Terminated<span class="delimiter">(</span><a href="../Cause.scala.html#scalaz.stream.Cause.Kill" title="scalaz.stream.Cause.Kill.type">Kill</a><span class="delimiter">)</span> =&gt; <a href="../Cause.scala.html#scalaz.stream.Cause.Kill" title="scalaz.stream.Cause.Kill.type">Kill</a>
              case _ =&gt; <a href="../Cause.scala.html#scalaz.stream.Cause;Error" title="(rsn: Throwable)scalaz.stream.Cause.Error">Error</a><span class="delimiter">(</span><span title="Throwable">rsn</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#scalaz.stream.nondeterminism.package.njoin.opened" title="Int">opened</a> = <a href="#scalaz.stream.nondeterminism.package.njoin.opened" title="Int">opened</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span>
            <a href="#scalaz.stream.nondeterminism.package.njoin.fail" title="(cause: scalaz.stream.Cause)Unit">fail</a><span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.$anonfun.cause" title="&lt;refinement of scalaz.stream.Cause.EarlyCause with Product&gt; extends scalaz.stream.Cause.EarlyCause with Product with Serializable">cause</a><span class="delimiter">)</span>
            <a href="#scalaz.stream.nondeterminism.package.njoin.completeIfDone" title="=&gt; Unit">completeIfDone</a>

          <span class="comment">// One of the processes terminated w/o failure</span>
          <span class="comment">// Finish merge if the opened == 0 and upstream terminated</span>
          <span class="comment">// or give an opportunity to start next merged process if the maxOpen was hit</span>
          case <a href="#scalaz.stream.nondeterminism.package.njoin;Finished.readResolve" title="(x$0: Finished)Option[scalaz.\/[Throwable,Unit]]">Finished</a><span class="delimiter">(</span>\/-<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            <a href="#scalaz.stream.nondeterminism.package.njoin.opened" title="Int">opened</a> = <a href="#scalaz.stream.nondeterminism.package.njoin.opened" title="Int">opened</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span>
            <a href="#scalaz.stream.nondeterminism.package.njoin.state" title="scalaz.Either3[scalaz.stream.Cause,scalaz.stream.Cause.EarlyCause =&gt; Unit,scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]]">state</a> = <a href="#scalaz.stream.nondeterminism.package.njoin.state" title="scalaz.Either3[scalaz.stream.Cause,scalaz.stream.Cause.EarlyCause =&gt; Unit,scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]]">state</a> match <span class="delimiter">{</span>
              case Right3<span class="delimiter">(</span><span title="scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]">cont</span><span class="delimiter">)</span>
                if <a href="#scalaz.stream.nondeterminism.package.njoin.maxOpen" title="Int">maxOpen</a> <span title="(x: Int)Boolean">&lt;=</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">||</span> <a href="#scalaz.stream.nondeterminism.package.njoin.opened" title="Int">opened</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#scalaz.stream.nondeterminism.package.njoin.maxOpen" title="Int">maxOpen</a> =&gt; <a href="#scalaz.stream.nondeterminism.package.njoin.nextStep" title="(from: scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]])scalaz.Either3[Nothing,scalaz.stream.Cause.EarlyCause =&gt; Unit,Nothing]">nextStep</a><span class="delimiter">(</span><span title="scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]">cont</span>.<a href="../Process.scala.html#scalaz.stream.Process;Cont.continue" title="=&gt; scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]">continue</a><span class="delimiter">)</span>
              case Left3<span class="delimiter">(</span><a href="../Cause.scala.html#scalaz.stream.Cause.End" title="scalaz.stream.Cause.End.type">End</a><span class="delimiter">)</span> if <a href="#scalaz.stream.nondeterminism.package.njoin.opened" title="Int">opened</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span> =&gt; <a href="#scalaz.stream.nondeterminism.package.njoin.fail" title="(cause: scalaz.stream.Cause)Unit">fail</a><span class="delimiter">(</span><a href="../Cause.scala.html#scalaz.stream.Cause.End" title="scalaz.stream.Cause.End.type">End</a><span class="delimiter">)</span> ; <a href="#scalaz.stream.nondeterminism.package.njoin.state" title="scalaz.Either3[scalaz.stream.Cause,scalaz.stream.Cause.EarlyCause =&gt; Unit,scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]]">state</a>
              case _                     =&gt; <a href="#scalaz.stream.nondeterminism.package.njoin.state" title="scalaz.Either3[scalaz.stream.Cause,scalaz.stream.Cause.EarlyCause =&gt; Unit,scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]]">state</a>
            <span class="delimiter">}</span>
            <a href="#scalaz.stream.nondeterminism.package.njoin.completeIfDone" title="=&gt; Unit">completeIfDone</a>

          <span class="comment">// `Downstream` of the merge terminated</span>
          <span class="comment">// Kill all upstream processes and eventually the source.</span>
          case <a href="#scalaz.stream.nondeterminism.package.njoin;FinishedDown.readResolve" title="(x$0: FinishedDown)Option[scalaz.\/[Throwable,Unit] =&gt; Unit]">FinishedDown</a><span class="delimiter">(</span><span title="scalaz.\/[Throwable,Unit] =&gt; Unit">cb</span><span class="delimiter">)</span> =&gt;
            <a href="#scalaz.stream.nondeterminism.package.njoin.fail" title="(cause: scalaz.stream.Cause)Unit">fail</a><span class="delimiter">(</span><a href="../Cause.scala.html#scalaz.stream.Cause.Kill" title="scalaz.stream.Cause.Kill.type">Kill</a><span class="delimiter">)</span>
            if <span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.allDone" title="=&gt; Boolean">allDone</a><span class="delimiter">)</span> <a href="#scalaz.stream.nondeterminism.package.njoin.S" title="(a: =&gt; Unit)() =&gt; Unit">S</a><span class="delimiter">(</span><span title="(v1: scalaz.\/[Throwable,Unit])Unit">cb</span><span class="delimiter">(</span><span title="(b: Unit)scalaz.\/-[Unit]">\/-</span><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            else <a href="#scalaz.stream.nondeterminism.package.njoin.completer" title="Option[scalaz.\/[Throwable,Unit] =&gt; Unit]">completer</a> = <span title="(x: scalaz.\/[Throwable,Unit] =&gt; Unit)Some[scalaz.\/[Throwable,Unit] =&gt; Unit]">Some</span><span class="delimiter">(</span><span title="scalaz.\/[Throwable,Unit] =&gt; Unit">cb</span><span class="delimiter">)</span>

          <span class="comment">// Start evaluation of the source.</span>
          case <a href="#scalaz.stream.nondeterminism.package.njoin;Start.readResolve" title="Start.type">Start</a> =&gt;
            <span class="comment">// Assignment to `state` must be performed inside this actor to prevent races.</span>
            <a href="#scalaz.stream.nondeterminism.package.njoin.state" title="scalaz.Either3[scalaz.stream.Cause,scalaz.stream.Cause.EarlyCause =&gt; Unit,scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]]">state</a> = <a href="#scalaz.stream.nondeterminism.package.njoin.nextStep" title="(from: scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]])scalaz.Either3[Nothing,scalaz.stream.Cause.EarlyCause =&gt; Unit,Nothing]">nextStep</a><span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.source" title="scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]">source</a><span class="delimiter">)</span>

        <span class="delimiter">}</span><span class="delimiter">)</span><span title="Unit" class="delimiter">(</span><a title="scalaz.stream.Cause" id="scalaz.stream.nondeterminism.package.njoin.$anonfun.$anonfun.rsn">rsn</a> =&gt; <a href="#scalaz.stream.nondeterminism.package.njoin.$anonfun.m" title="M">m</a> match <span class="delimiter">{</span>
          <span class="comment">//join is closed, next p is ignored and source is killed</span>
          case <a href="#scalaz.stream.nondeterminism.package.njoin;Offer.readResolve" title="(x$0: Offer)Option[(scalaz.stream.Process[scalaz.concurrent.Task,A], scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]])]">Offer</a><span class="delimiter">(</span>_, <span title="scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]">cont</span><span class="delimiter">)</span> =&gt; <a href="#scalaz.stream.nondeterminism.package.njoin.nextStep" title="(from: scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]])scalaz.Either3[Nothing,scalaz.stream.Cause.EarlyCause =&gt; Unit,Nothing]">nextStep</a><span class="delimiter">(</span><a href="../Process.scala.html#scalaz.stream.Process;Halt" title="(cause: scalaz.stream.Cause)scalaz.stream.Process.Halt">Halt</a><span class="delimiter">(</span><a href="../Cause.scala.html#scalaz.stream.Cause.Kill" title="scalaz.stream.Cause.Kill.type">Kill</a><span class="delimiter">)</span> <a href="../Process.scala.html#scalaz.stream.Process;Cont.+:" title="(p: scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Process[scalaz.concurrent.Task,A]])scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Process[scalaz.concurrent.Task,A]]">+:</a> <span title="scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]">cont</span><span class="delimiter">)</span>
          case <a href="#scalaz.stream.nondeterminism.package.njoin;FinishedSource.readResolve" title="(x$0: FinishedSource)Option[scalaz.stream.Cause]">FinishedSource</a><span class="delimiter">(</span><span title="scalaz.stream.Cause">cause</span><span class="delimiter">)</span> =&gt; <a href="#scalaz.stream.nondeterminism.package.njoin.state" title="scalaz.Either3[scalaz.stream.Cause,scalaz.stream.Cause.EarlyCause =&gt; Unit,scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]]">state</a> = <span title="scalaz.Either3.type">Either3</span>.<span title="(a: scalaz.stream.Cause)scalaz.Either3[scalaz.stream.Cause,Nothing,Nothing]">left3</span><span class="delimiter">(</span><span title="scalaz.stream.Cause">cause</span><span class="delimiter">)</span> ; <a href="#scalaz.stream.nondeterminism.package.njoin.completeIfDone" title="=&gt; Unit">completeIfDone</a>
          case <a href="#scalaz.stream.nondeterminism.package.njoin;Finished.readResolve" title="(x$0: Finished)Option[scalaz.\/[Throwable,Unit]]">Finished</a><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="#scalaz.stream.nondeterminism.package.njoin.opened" title="Int">opened</a> = <a href="#scalaz.stream.nondeterminism.package.njoin.opened" title="Int">opened</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span>; <a href="#scalaz.stream.nondeterminism.package.njoin.completeIfDone" title="=&gt; Unit">completeIfDone</a>
          case <a href="#scalaz.stream.nondeterminism.package.njoin;FinishedDown.readResolve" title="(x$0: FinishedDown)Option[scalaz.\/[Throwable,Unit] =&gt; Unit]">FinishedDown</a><span class="delimiter">(</span><a title="scalaz.\/[Throwable,Unit] =&gt; Unit" id="scalaz.stream.nondeterminism.package.njoin.$anonfun.$anonfun.cb">cb</a><span class="delimiter">)</span> =&gt;
            if <span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.allDone" title="=&gt; Boolean">allDone</a><span class="delimiter">)</span> <a href="#scalaz.stream.nondeterminism.package.njoin.S" title="(a: =&gt; Unit)() =&gt; Unit">S</a><span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.$anonfun.$anonfun.cb" title="(v1: scalaz.\/[Throwable,Unit])Unit">cb</a><span class="delimiter">(</span><span title="(b: Unit)scalaz.\/-[Unit]">\/-</span><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            else <a href="#scalaz.stream.nondeterminism.package.njoin.completer" title="Option[scalaz.\/[Throwable,Unit] =&gt; Unit]">completer</a> = <span title="(x: scalaz.\/[Throwable,Unit] =&gt; Unit)Some[scalaz.\/[Throwable,Unit] =&gt; Unit]">Some</span><span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.$anonfun.$anonfun.cb" title="scalaz.\/[Throwable,Unit] =&gt; Unit">cb</a><span class="delimiter">)</span>
          case <a href="#scalaz.stream.nondeterminism.package.njoin;Start.readResolve" title="Start.type">Start</a> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          case <a href="#scalaz.stream.nondeterminism.package.njoin;Delay.readResolve" title="(x$0: Delay)Option[scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]]">Delay</a><span class="delimiter">(</span><span title="scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]">cont</span><span class="delimiter">)</span> =&gt; <a href="#scalaz.stream.nondeterminism.package.njoin.nextStep" title="(from: scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]])scalaz.Either3[Nothing,scalaz.stream.Cause.EarlyCause =&gt; Unit,Nothing]">nextStep</a><span class="delimiter">(</span><span title="scalaz.stream.Process.Cont[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]">cont</span>.<a href="../Process.scala.html#scalaz.stream.Process;Cont.continue" title="=&gt; scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,A]]">continue</a><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>

      <span class="delimiter">}</span><span class="delimiter">)</span>


      <span class="delimiter">(</span><a href="../Process.scala.html#scalaz.stream.Process.eval_" title="(f: scalaz.concurrent.Task[Unit])scalaz.stream.Process[scalaz.concurrent.Task,Nothing]">eval_</a><span class="delimiter">(</span><a href="#scalaz.stream.nondeterminism.package.njoin.start" title="=&gt; scalaz.concurrent.Task[Unit]">start</a><span class="delimiter">)</span> <a href="../Process.scala.html#scalaz.stream;Process.++" title="(p2: =&gt; scalaz.stream.Process[[x]scalaz.concurrent.Task[x],A])scalaz.stream.Process[[x]scalaz.concurrent.Task[x],A]">++</a> <a href="#scalaz.stream.nondeterminism.package.njoin.q" title="scalaz.stream.async.mutable.Queue[A]">q</a>.<a href="../async/mutable/Queue.scala.html#scalaz.stream.async.mutable;Queue.dequeue" title="=&gt; scalaz.stream.Process[scalaz.concurrent.Task,A]">dequeue</a><span class="delimiter">)</span>
      .<a href="../Process.scala.html#scalaz.stream;Process.onComplete" title="(p2: =&gt; scalaz.stream.Process[[x]scalaz.concurrent.Task[x],A])scalaz.stream.Process[[x]scalaz.concurrent.Task[x],A]">onComplete</a><span class="delimiter">(</span><a href="../Process.scala.html#scalaz.stream.Process.eval_" title="(f: scalaz.concurrent.Task[Unit])scalaz.stream.Process[scalaz.concurrent.Task,Nothing]">eval_</a><span class="delimiter">(</span><span title="scalaz.concurrent.Task.type">Task</span>.<span title="[A](register: (scalaz.\/[Throwable,A] =&gt; Unit) =&gt; Unit)scalaz.concurrent.Task[A]">async</span><span title="(register: (scalaz.\/[Throwable,Unit] =&gt; Unit) =&gt; Unit)scalaz.concurrent.Task[Unit]" class="delimiter">[</span><span title="Unit">Unit</span><span class="delimiter">]</span> <span class="delimiter">{</span> <span title="scalaz.\/[Throwable,Unit] =&gt; Unit">cb</span> =&gt; <a href="#scalaz.stream.nondeterminism.package.njoin.actor" title="scalaz.concurrent.Actor[M]">actor</a> <span title="(a: M)Unit">!</span> <a href="#scalaz.stream.nondeterminism.package.njoin;FinishedDown.readResolve" title="(cb: scalaz.\/[Throwable,Unit] =&gt; Unit)FinishedDown">FinishedDown</a><span class="delimiter">(</span><span title="scalaz.\/[Throwable,Unit] =&gt; Unit">cb</span><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>
