<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scalaz-stream/scalaz/stream/nio/package.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
package scalaz.stream

import <a href="../Cause.scala.html#scalaz.stream.Cause" title="scalaz.stream.Cause.type">Cause</a>._
import java.net.<span class="delimiter">{</span>StandardSocketOptions, InetSocketAddress<span class="delimiter">}</span>
import java.nio.ByteBuffer
import java.nio.channels._
import java.nio.channels.spi.AsynchronousChannelProvider
import java.util.concurrent.ThreadFactory
import java.util.concurrent.atomic.AtomicInteger
import scalaz.-\/
import scalaz.\/-
import scalaz.concurrent.Task
import scalaz.stream.<a href="../Process.scala.html#scalaz.stream.Process" title="scalaz.stream.Process.type">Process</a>._
import scodec.bits.ByteVector

package object <a title="scalaz.stream.nio.package.type" id="scalaz.stream.nio.package">nio</a> <a href="#scalaz.stream.nio.package" title="scalaz.stream.nio.package.type" class="delimiter">{</a>


  <span class="comment">/**
   * Process that binds to supplied address and provides accepted exchanges
   * representing incoming connections (TCP) with remote clients
   * When this process terminates all the incoming exchanges will terminate as well
   * @param bind               address to which this process has to be bound
   * @param reuseAddress       whether address has to be reused (@see [[java.net.StandardSocketOptions.SO_REUSEADDR]])
   * @param rcvBufferSize      size of receive buffer  (@see [[java.net.StandardSocketOptions.SO_RCVBUF]])
   * @return
   */</span>
  def <a title="(bind: java.net.InetSocketAddress, reuseAddress: Boolean, rcvBufferSize: Int)(implicit AG: java.nio.channels.AsynchronousChannelGroup)scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector]]]" id="scalaz.stream.nio.package.server">server</a><span class="delimiter">(</span><a title="java.net.InetSocketAddress" id="scalaz.stream.nio.package.server.bind">bind</a>: <span title="java.net.InetSocketAddress">InetSocketAddress</span>
    , <a title="Boolean" id="scalaz.stream.nio.package.server$default$2">reuseAddress</a>: <span title="Boolean">Boolean</span> = true
    , <a title="Int" id="scalaz.stream.nio.package.server$default$3">rcvBufferSize</a>: <span title="Int">Int</span> = <span class="int">256</span> <span title="Int(262144)">*</span> <span class="int">1024</span>
    <span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="java.nio.channels.AsynchronousChannelGroup" id="scalaz.stream.nio.package.server.AG">AG</a>: <span title="java.nio.channels.AsynchronousChannelGroup">AsynchronousChannelGroup</span><span class="delimiter">)</span>
  : <a href="../Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector]]]">Process</a><span class="delimiter">[</span>Task, Process<span class="delimiter">[</span>Task, Exchange<span class="delimiter">[</span>ByteVector, ByteVector<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>

    def <a title="=&gt; scalaz.concurrent.Task[java.nio.channels.AsynchronousServerSocketChannel]" id="scalaz.stream.nio.package.server.setup">setup</a>: <span title="scalaz.concurrent.Task[java.nio.channels.AsynchronousServerSocketChannel]">Task</span><span class="delimiter">[</span>AsynchronousServerSocketChannel<span class="delimiter">]</span> =
      <span title="scalaz.concurrent.Task.type">Task</span>.<span title="(a: =&gt; java.nio.channels.AsynchronousServerSocketChannel)scalaz.concurrent.Task[java.nio.channels.AsynchronousServerSocketChannel]">delay</span> <span class="delimiter">{</span>
        val <a title="java.nio.channels.AsynchronousServerSocketChannel" id="scalaz.stream.nio.package.server.setup.ch">ch</a> = <span title="java.nio.channels.spi.AsynchronousChannelProvider.type">AsynchronousChannelProvider</span>.<span title="()java.nio.channels.spi.AsynchronousChannelProvider">provider</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: java.nio.channels.AsynchronousChannelGroup)java.nio.channels.AsynchronousServerSocketChannel">openAsynchronousServerSocketChannel</span><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.server.AG" title="java.nio.channels.AsynchronousChannelGroup">AG</a><span class="delimiter">)</span>
        <a href="#scalaz.stream.nio.package.server.setup.ch" title="java.nio.channels.AsynchronousServerSocketChannel">ch</a>.<span title="[T](x$1: java.net.SocketOption[T], x$2: T)java.nio.channels.AsynchronousServerSocketChannel">setOption</span><span title="(x$1: java.net.SocketOption[Boolean], x$2: Boolean)java.nio.channels.AsynchronousServerSocketChannel" class="delimiter">[</span>java.lang.<span title="Boolean">Boolean</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="java.net.StandardSocketOptions.type">StandardSocketOptions</span>.<span title="java.net.SocketOption[Boolean]">SO_REUSEADDR</span>, <a href="#scalaz.stream.nio.package.server$default$2" title="implicit scala.Predef.boolean2Boolean : (x: Boolean)Boolean">reuseAddress</a><span class="delimiter">)</span>
        <a href="#scalaz.stream.nio.package.server.setup.ch" title="java.nio.channels.AsynchronousServerSocketChannel">ch</a>.<span title="[T](x$1: java.net.SocketOption[T], x$2: T)java.nio.channels.AsynchronousServerSocketChannel">setOption</span><span title="(x$1: java.net.SocketOption[Integer], x$2: Integer)java.nio.channels.AsynchronousServerSocketChannel" class="delimiter">[</span><span title="Integer">Integer</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="java.net.StandardSocketOptions.type">StandardSocketOptions</span>.<span title="java.net.SocketOption[Integer]">SO_RCVBUF</span>, <a href="#scalaz.stream.nio.package.server$default$3" title="implicit scala.Predef.int2Integer : (x: Int)Integer">rcvBufferSize</a><span class="delimiter">)</span>
        <a href="#scalaz.stream.nio.package.server.setup.ch" title="java.nio.channels.AsynchronousServerSocketChannel">ch</a>.<span title="(x$1: java.net.SocketAddress)java.nio.channels.AsynchronousServerSocketChannel">bind</span><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.server.bind" title="java.net.InetSocketAddress">bind</a><span class="delimiter">)</span>
        <a href="#scalaz.stream.nio.package.server.setup.ch" title="java.nio.channels.AsynchronousServerSocketChannel">ch</a>
      <span class="delimiter">}</span>

    def <a title="(sch: java.nio.channels.AsynchronousServerSocketChannel)scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel]" id="scalaz.stream.nio.package.server.awaitClientConnection">awaitClientConnection</a><span class="delimiter">(</span><a title="java.nio.channels.AsynchronousServerSocketChannel" id="scalaz.stream.nio.package.server.awaitClientConnection.sch">sch</a>: <span title="java.nio.channels.AsynchronousServerSocketChannel">AsynchronousServerSocketChannel</span><span class="delimiter">)</span>: <span title="scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel]">Task</span><span class="delimiter">[</span>AsynchronousSocketChannel<span class="delimiter">]</span> =
      <span title="scalaz.concurrent.Task.type">Task</span>.<span title="[A](register: (scalaz.\/[Throwable,A] =&gt; Unit) =&gt; Unit)scalaz.concurrent.Task[A]">async</span><span title="(register: (scalaz.\/[Throwable,java.nio.channels.AsynchronousSocketChannel] =&gt; Unit) =&gt; Unit)scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel]" class="delimiter">[</span><span title="java.nio.channels.AsynchronousSocketChannel">AsynchronousSocketChannel</span><span class="delimiter">]</span> <span class="delimiter">{</span> <a title="scalaz.\/[Throwable,java.nio.channels.AsynchronousSocketChannel] =&gt; Unit" id="scalaz.stream.nio.package.server.awaitClientConnection.$anonfun.cb">cb</a> =&gt;
        <a href="#scalaz.stream.nio.package.server.awaitClientConnection.sch" title="java.nio.channels.AsynchronousServerSocketChannel">sch</a>.<span title="(x$1: Void, x$2: java.nio.channels.CompletionHandler[java.nio.channels.AsynchronousSocketChannel, _ &gt;: Void])Unit">accept</span><span class="delimiter">(</span>null, new <a title="&lt;$anon: java.nio.channels.CompletionHandler[java.nio.channels.AsynchronousSocketChannel,Void]&gt; extends Object with java.nio.channels.CompletionHandler[java.nio.channels.AsynchronousSocketChannel,Void]" id="scalaz.stream.nio.package.server.awaitClientConnection.$anonfun;$anon">CompletionHandler</a><span class="delimiter">[</span>AsynchronousSocketChannel, Void<span class="delimiter">]</span> <span class="delimiter">{</span>
          def <a title="(result: java.nio.channels.AsynchronousSocketChannel, attachment: Void)Unit" id="scalaz.stream.nio.package.server.awaitClientConnection.$anonfun;$anon.completed">completed</a><span class="delimiter">(</span><a title="java.nio.channels.AsynchronousSocketChannel" id="scalaz.stream.nio.package.server.awaitClientConnection.$anonfun;$anon.completed.result">result</a>: <span title="java.nio.channels.AsynchronousSocketChannel">AsynchronousSocketChannel</span>, <a title="Void" id="scalaz.stream.nio.package.server.awaitClientConnection.$anonfun;$anon.completed.attachment">attachment</a>: <span title="Void">Void</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#scalaz.stream.nio.package.server.awaitClientConnection.$anonfun.cb" title="(v1: scalaz.\/[Throwable,java.nio.channels.AsynchronousSocketChannel])Unit">cb</a><span class="delimiter">(</span><span title="(b: java.nio.channels.AsynchronousSocketChannel)scalaz.\/-[java.nio.channels.AsynchronousSocketChannel]">\/-</span><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.server.awaitClientConnection.$anonfun;$anon.completed.result" title="java.nio.channels.AsynchronousSocketChannel">result</a><span class="delimiter">)</span><span class="delimiter">)</span>
          def <a title="(rsn: Throwable, attachment: Void)Unit" id="scalaz.stream.nio.package.server.awaitClientConnection.$anonfun;$anon.failed">failed</a><span class="delimiter">(</span><a title="Throwable" id="scalaz.stream.nio.package.server.awaitClientConnection.$anonfun;$anon.failed.rsn">rsn</a>: <span title="Throwable">Throwable</span>, <a title="Void" id="scalaz.stream.nio.package.server.awaitClientConnection.$anonfun;$anon.failed.attachment">attachment</a>: <span title="Void">Void</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#scalaz.stream.nio.package.server.awaitClientConnection.$anonfun.cb" title="(v1: scalaz.\/[Throwable,java.nio.channels.AsynchronousSocketChannel])Unit">cb</a><span class="delimiter">(</span><span title="(a: Throwable)scalaz.-\/[Throwable]">-\/</span><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.server.awaitClientConnection.$anonfun;$anon.failed.rsn" title="Throwable">rsn</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    def <a title="(ch: java.nio.channels.AsynchronousChannel)scalaz.stream.Process[scalaz.concurrent.Task,Nothing]" id="scalaz.stream.nio.package.server.release">release</a><span class="delimiter">(</span><a title="java.nio.channels.AsynchronousChannel" id="scalaz.stream.nio.package.server.release.ch">ch</a>: <span title="java.nio.channels.AsynchronousChannel">AsynchronousChannel</span><span class="delimiter">)</span>: <a href="../Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.concurrent.Task,Nothing]">Process</a><span class="delimiter">[</span>Task, Nothing<span class="delimiter">]</span> =
      <a href="../Process.scala.html#scalaz.stream.Process.eval_" title="(f: scalaz.concurrent.Task[Unit])scalaz.stream.Process[scalaz.concurrent.Task,Nothing]">eval_</a><span class="delimiter">(</span><span title="scalaz.concurrent.Task.type">Task</span>.<span title="(a: =&gt; Unit)scalaz.concurrent.Task[Unit]">delay</span><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.server.release.ch" title="java.nio.channels.AsynchronousChannel">ch</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="../Process.scala.html#scalaz.stream.Process.await" title="(req: scalaz.concurrent.Task[java.nio.channels.AsynchronousServerSocketChannel])(rcv: java.nio.channels.AsynchronousServerSocketChannel =&gt; scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector]]])scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector]]]">await</a><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.server.setup" title="=&gt; scalaz.concurrent.Task[java.nio.channels.AsynchronousServerSocketChannel]">setup</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.nio.channels.AsynchronousServerSocketChannel" id="scalaz.stream.nio.package.server.$anonfun.sch">sch</a> =&gt;
      <a href="../Process.scala.html#scalaz.stream.Process.repeatEval" title="(f: scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel])scalaz.stream.Process[scalaz.concurrent.Task,java.nio.channels.AsynchronousSocketChannel]">repeatEval</a><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.server.awaitClientConnection" title="(sch: java.nio.channels.AsynchronousServerSocketChannel)scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel]">awaitClientConnection</a><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.server.$anonfun.sch" title="java.nio.channels.AsynchronousServerSocketChannel">sch</a><span class="delimiter">)</span><span class="delimiter">)</span>
      .<a href="../Process.scala.html#scalaz.stream;Process.map" title="(f: java.nio.channels.AsynchronousSocketChannel =&gt; scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector]])scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector]]]">map</a><span class="delimiter">(</span><a title="java.nio.channels.AsynchronousSocketChannel" id="scalaz.stream.nio.package.server.$anonfun.$anonfun.cchn">cchn</a> =&gt; <a href="../Process.scala.html#scalaz.stream.Process.eval" title="(f: scalaz.concurrent.Task[scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector]])scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector]]">eval</a><span class="delimiter">(</span><span title="scalaz.concurrent.Task.type">Task</span>.<span title="(a: scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector])scalaz.concurrent.Task[scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector]]">now</span><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.nioExchange" title="(ch: java.nio.channels.AsynchronousSocketChannel, readBufferSize: Int)scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector]">nioExchange</a><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.server.$anonfun.$anonfun.cchn" title="java.nio.channels.AsynchronousSocketChannel">cchn</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../Process.scala.html#scalaz.stream;Process.onComplete" title="(p2: =&gt; scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector]])scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector]]">onComplete</a> <a href="#scalaz.stream.nio.package.server.release" title="(ch: java.nio.channels.AsynchronousChannel)scalaz.stream.Process[scalaz.concurrent.Task,Nothing]">release</a><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.server.$anonfun.$anonfun.cchn" title="java.nio.channels.AsynchronousSocketChannel">cchn</a><span class="delimiter">)</span><span class="delimiter">)</span>
      .<a href="../Process.scala.html#scalaz.stream;Process.onComplete" title="(p2: =&gt; scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector]]])scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector]]]">onComplete</a><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.server.release" title="(ch: java.nio.channels.AsynchronousChannel)scalaz.stream.Process[scalaz.concurrent.Task,Nothing]">release</a><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.server.$anonfun.sch" title="java.nio.channels.AsynchronousServerSocketChannel">sch</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>


  <span class="comment">/**
   * Process that connects to remote server (TCP) and provides one exchange representing connection to that server
   * @param to              Address of remote server
   * @param reuseAddress    whether address has to be reused (@see [[java.net.StandardSocketOptions.SO_REUSEADDR]])
   * @param sndBufferSize   size of send buffer  (@see [[java.net.StandardSocketOptions.SO_SNDBUF]])
   * @param rcvBufferSize   size of receive buffer  (@see [[java.net.StandardSocketOptions.SO_RCVBUF]])
   * @param keepAlive       whether keep-alive on tcp is used (@see [[java.net.StandardSocketOptions.SO_KEEPALIVE]])
   * @param noDelay         whether tcp no-delay flag is set  (@see [[java.net.StandardSocketOptions.TCP_NODELAY]])
   * @return
   */</span>
  def <a title="(to: java.net.InetSocketAddress, reuseAddress: Boolean, sndBufferSize: Int, rcvBufferSize: Int, keepAlive: Boolean, noDelay: Boolean)(implicit AG: java.nio.channels.AsynchronousChannelGroup)scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector]]" id="scalaz.stream.nio.package.connect">connect</a><span class="delimiter">(</span><a title="java.net.InetSocketAddress" id="scalaz.stream.nio.package.connect.to">to</a>: <span title="java.net.InetSocketAddress">InetSocketAddress</span>
    , <a title="Boolean" id="scalaz.stream.nio.package.connect$default$2">reuseAddress</a>: <span title="Boolean">Boolean</span> = true
    , <a title="Int" id="scalaz.stream.nio.package.connect$default$3">sndBufferSize</a>: <span title="Int">Int</span> = <span class="int">256</span> <span title="Int(262144)">*</span> <span class="int">1024</span>
    , <a title="Int" id="scalaz.stream.nio.package.connect$default$4">rcvBufferSize</a>: <span title="Int">Int</span> = <span class="int">256</span> <span title="Int(262144)">*</span> <span class="int">1024</span>
    , <a title="Boolean" id="scalaz.stream.nio.package.connect$default$5">keepAlive</a>: <span title="Boolean">Boolean</span> = false
    , <a title="Boolean" id="scalaz.stream.nio.package.connect$default$6">noDelay</a>: <span title="Boolean">Boolean</span> = false
    <span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="java.nio.channels.AsynchronousChannelGroup" id="scalaz.stream.nio.package.connect.AG">AG</a>: <span title="java.nio.channels.AsynchronousChannelGroup">AsynchronousChannelGroup</span><span class="delimiter">)</span>
  : <a href="../Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector]]">Process</a><span class="delimiter">[</span>Task, Exchange<span class="delimiter">[</span>ByteVector, ByteVector<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>

    def <a title="=&gt; scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel]" id="scalaz.stream.nio.package.connect.setup">setup</a>: <span title="scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel]">Task</span><span class="delimiter">[</span>AsynchronousSocketChannel<span class="delimiter">]</span> = <span title="scalaz.concurrent.Task.type">Task</span>.<span title="(a: =&gt; java.nio.channels.AsynchronousSocketChannel)scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel]">delay</span> <span class="delimiter">{</span>
      val <a title="java.nio.channels.AsynchronousSocketChannel" id="scalaz.stream.nio.package.connect.setup.ch">ch</a> = <span title="java.nio.channels.spi.AsynchronousChannelProvider.type">AsynchronousChannelProvider</span>.<span title="()java.nio.channels.spi.AsynchronousChannelProvider">provider</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: java.nio.channels.AsynchronousChannelGroup)java.nio.channels.AsynchronousSocketChannel">openAsynchronousSocketChannel</span><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.connect.AG" title="java.nio.channels.AsynchronousChannelGroup">AG</a><span class="delimiter">)</span>
      <a href="#scalaz.stream.nio.package.connect.setup.ch" title="java.nio.channels.AsynchronousSocketChannel">ch</a>.<span title="[T](x$1: java.net.SocketOption[T], x$2: T)java.nio.channels.AsynchronousSocketChannel">setOption</span><span title="(x$1: java.net.SocketOption[Boolean], x$2: Boolean)java.nio.channels.AsynchronousSocketChannel" class="delimiter">[</span>java.lang.<span title="Boolean">Boolean</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="java.net.StandardSocketOptions.type">StandardSocketOptions</span>.<span title="java.net.SocketOption[Boolean]">SO_REUSEADDR</span>, <a href="#scalaz.stream.nio.package.connect$default$2" title="implicit scala.Predef.boolean2Boolean : (x: Boolean)Boolean">reuseAddress</a><span class="delimiter">)</span>
      <a href="#scalaz.stream.nio.package.connect.setup.ch" title="java.nio.channels.AsynchronousSocketChannel">ch</a>.<span title="[T](x$1: java.net.SocketOption[T], x$2: T)java.nio.channels.AsynchronousSocketChannel">setOption</span><span title="(x$1: java.net.SocketOption[Integer], x$2: Integer)java.nio.channels.AsynchronousSocketChannel" class="delimiter">[</span><span title="Integer">Integer</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="java.net.StandardSocketOptions.type">StandardSocketOptions</span>.<span title="java.net.SocketOption[Integer]">SO_SNDBUF</span>, <a href="#scalaz.stream.nio.package.connect$default$3" title="implicit scala.Predef.int2Integer : (x: Int)Integer">sndBufferSize</a><span class="delimiter">)</span>
      <a href="#scalaz.stream.nio.package.connect.setup.ch" title="java.nio.channels.AsynchronousSocketChannel">ch</a>.<span title="[T](x$1: java.net.SocketOption[T], x$2: T)java.nio.channels.AsynchronousSocketChannel">setOption</span><span title="(x$1: java.net.SocketOption[Integer], x$2: Integer)java.nio.channels.AsynchronousSocketChannel" class="delimiter">[</span><span title="Integer">Integer</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="java.net.StandardSocketOptions.type">StandardSocketOptions</span>.<span title="java.net.SocketOption[Integer]">SO_RCVBUF</span>, <a href="#scalaz.stream.nio.package.connect$default$4" title="implicit scala.Predef.int2Integer : (x: Int)Integer">rcvBufferSize</a><span class="delimiter">)</span>
      <a href="#scalaz.stream.nio.package.connect.setup.ch" title="java.nio.channels.AsynchronousSocketChannel">ch</a>.<span title="[T](x$1: java.net.SocketOption[T], x$2: T)java.nio.channels.AsynchronousSocketChannel">setOption</span><span title="(x$1: java.net.SocketOption[Boolean], x$2: Boolean)java.nio.channels.AsynchronousSocketChannel" class="delimiter">[</span>java.lang.<span title="Boolean">Boolean</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="java.net.StandardSocketOptions.type">StandardSocketOptions</span>.<span title="java.net.SocketOption[Boolean]">SO_KEEPALIVE</span>, <a href="#scalaz.stream.nio.package.connect$default$5" title="implicit scala.Predef.boolean2Boolean : (x: Boolean)Boolean">keepAlive</a><span class="delimiter">)</span>
      <a href="#scalaz.stream.nio.package.connect.setup.ch" title="java.nio.channels.AsynchronousSocketChannel">ch</a>.<span title="[T](x$1: java.net.SocketOption[T], x$2: T)java.nio.channels.AsynchronousSocketChannel">setOption</span><span title="(x$1: java.net.SocketOption[Boolean], x$2: Boolean)java.nio.channels.AsynchronousSocketChannel" class="delimiter">[</span>java.lang.<span title="Boolean">Boolean</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="java.net.StandardSocketOptions.type">StandardSocketOptions</span>.<span title="java.net.SocketOption[Boolean]">TCP_NODELAY</span>, <a href="#scalaz.stream.nio.package.connect$default$6" title="implicit scala.Predef.boolean2Boolean : (x: Boolean)Boolean">noDelay</a><span class="delimiter">)</span>
      <a href="#scalaz.stream.nio.package.connect.setup.ch" title="java.nio.channels.AsynchronousSocketChannel">ch</a>
    <span class="delimiter">}</span>

    def <a title="(ch: java.nio.channels.AsynchronousSocketChannel)scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel]" id="scalaz.stream.nio.package.connect.connect">connect</a><span class="delimiter">(</span><a title="java.nio.channels.AsynchronousSocketChannel" id="scalaz.stream.nio.package.connect.connect.ch">ch</a>: <span title="java.nio.channels.AsynchronousSocketChannel">AsynchronousSocketChannel</span><span class="delimiter">)</span>: <span title="scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel]">Task</span><span class="delimiter">[</span>AsynchronousSocketChannel<span class="delimiter">]</span> =
      <span title="scalaz.concurrent.Task.type">Task</span>.<span title="[A](register: (scalaz.\/[Throwable,A] =&gt; Unit) =&gt; Unit)scalaz.concurrent.Task[A]">async</span><span title="(register: (scalaz.\/[Throwable,java.nio.channels.AsynchronousSocketChannel] =&gt; Unit) =&gt; Unit)scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel]" class="delimiter">[</span><span title="java.nio.channels.AsynchronousSocketChannel">AsynchronousSocketChannel</span><span class="delimiter">]</span> <span class="delimiter">{</span> <a title="scalaz.\/[Throwable,java.nio.channels.AsynchronousSocketChannel] =&gt; Unit" id="scalaz.stream.nio.package.connect.connect.$anonfun.cb">cb</a> =&gt;
        <a href="#scalaz.stream.nio.package.connect.connect.ch" title="java.nio.channels.AsynchronousSocketChannel">ch</a>.<span title="(x$1: java.net.SocketAddress, x$2: Void, x$3: java.nio.channels.CompletionHandler[Void, _ &gt;: Void])Unit">connect</span><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.connect.to" title="java.net.InetSocketAddress">to</a>, null, new <a title="&lt;$anon: java.nio.channels.CompletionHandler[Void,Void]&gt; extends Object with java.nio.channels.CompletionHandler[Void,Void]" id="scalaz.stream.nio.package.connect.connect.$anonfun;$anon">CompletionHandler</a><span class="delimiter">[</span>Void, Void<span class="delimiter">]</span> <span class="delimiter">{</span>
          def <a title="(result: Void, attachment: Void)Unit" id="scalaz.stream.nio.package.connect.connect.$anonfun;$anon.completed">completed</a><span class="delimiter">(</span><a title="Void" id="scalaz.stream.nio.package.connect.connect.$anonfun;$anon.completed.result">result</a>: <span title="Void">Void</span>, <a title="Void" id="scalaz.stream.nio.package.connect.connect.$anonfun;$anon.completed.attachment">attachment</a>: <span title="Void">Void</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#scalaz.stream.nio.package.connect.connect.$anonfun.cb" title="(v1: scalaz.\/[Throwable,java.nio.channels.AsynchronousSocketChannel])Unit">cb</a><span class="delimiter">(</span><span title="(b: java.nio.channels.AsynchronousSocketChannel)scalaz.\/-[java.nio.channels.AsynchronousSocketChannel]">\/-</span><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.connect.connect.ch" title="java.nio.channels.AsynchronousSocketChannel">ch</a><span class="delimiter">)</span><span class="delimiter">)</span>
          def <a title="(rsn: Throwable, attachment: Void)Unit" id="scalaz.stream.nio.package.connect.connect.$anonfun;$anon.failed">failed</a><span class="delimiter">(</span><a title="Throwable" id="scalaz.stream.nio.package.connect.connect.$anonfun;$anon.failed.rsn">rsn</a>: <span title="Throwable">Throwable</span>, <a title="Void" id="scalaz.stream.nio.package.connect.connect.$anonfun;$anon.failed.attachment">attachment</a>: <span title="Void">Void</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#scalaz.stream.nio.package.connect.connect.$anonfun.cb" title="(v1: scalaz.\/[Throwable,java.nio.channels.AsynchronousSocketChannel])Unit">cb</a><span class="delimiter">(</span><span title="(a: Throwable)scalaz.-\/[Throwable]">-\/</span><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.connect.connect.$anonfun;$anon.failed.rsn" title="Throwable">rsn</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    def <a title="(ch: java.nio.channels.AsynchronousSocketChannel)scalaz.stream.Process[scalaz.concurrent.Task,Nothing]" id="scalaz.stream.nio.package.connect.release">release</a><span class="delimiter">(</span><a title="java.nio.channels.AsynchronousSocketChannel" id="scalaz.stream.nio.package.connect.release.ch">ch</a>: <span title="java.nio.channels.AsynchronousSocketChannel">AsynchronousSocketChannel</span><span class="delimiter">)</span>: <a href="../Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.concurrent.Task,Nothing]">Process</a><span class="delimiter">[</span>Task, Nothing<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <a href="../Process.scala.html#scalaz.stream.Process.eval_" title="(f: scalaz.concurrent.Task[Unit])scalaz.stream.Process[scalaz.concurrent.Task,Nothing]">eval_</a><span class="delimiter">(</span><span title="scalaz.concurrent.Task.type">Task</span>.<span title="(a: =&gt; Unit)scalaz.concurrent.Task[Unit]">delay</span><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.connect.release.ch" title="java.nio.channels.AsynchronousSocketChannel">ch</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="../Process.scala.html#scalaz.stream.Process.await" title="(req: scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel])(rcv: java.nio.channels.AsynchronousSocketChannel =&gt; scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector]])scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector]]">await</a><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.connect.setup" title="=&gt; scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel]">setup</a> <span title="(f: java.nio.channels.AsynchronousSocketChannel =&gt; scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel])scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel]">flatMap</span> <a href="#scalaz.stream.nio.package.connect.connect" title="(ch: java.nio.channels.AsynchronousSocketChannel)scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel]">connect</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.nio.channels.AsynchronousSocketChannel" id="scalaz.stream.nio.package.connect.$anonfun.ch">ch</a> =&gt; <a href="../Process.scala.html#scalaz.stream.Process.eval" title="(f: scalaz.concurrent.Task[scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector]])scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector]]">eval</a><span class="delimiter">(</span><span title="scalaz.concurrent.Task.type">Task</span>.<span title="(a: scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector])scalaz.concurrent.Task[scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector]]">now</span><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.nioExchange" title="(ch: java.nio.channels.AsynchronousSocketChannel, readBufferSize: Int)scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector]">nioExchange</a><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.connect.$anonfun.ch" title="java.nio.channels.AsynchronousSocketChannel">ch</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../Process.scala.html#scalaz.stream;Process.onComplete" title="(p2: =&gt; scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector]])scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector]]">onComplete</a> <a href="#scalaz.stream.nio.package.connect.release" title="(ch: java.nio.channels.AsynchronousSocketChannel)scalaz.stream.Process[scalaz.concurrent.Task,Nothing]">release</a><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.connect.$anonfun.ch" title="java.nio.channels.AsynchronousSocketChannel">ch</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="delimiter">}</span>


  lazy val <a title="java.nio.channels.AsynchronousChannelGroup" id="scalaz.stream.nio.package.DefaultAsynchronousChannelGroup">DefaultAsynchronousChannelGroup</a> = <span class="delimiter">{</span>
    val <a title="java.util.concurrent.atomic.AtomicInteger" id="scalaz.stream.nio.package.DefaultAsynchronousChannelGroup.idx">idx</a> = new <span title="java.util.concurrent.atomic.AtomicInteger">AtomicInteger</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
    <span title="java.nio.channels.spi.AsynchronousChannelProvider.type">AsynchronousChannelProvider</span>.<span title="()java.nio.channels.spi.AsynchronousChannelProvider">provider</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: Int, x$2: java.util.concurrent.ThreadFactory)java.nio.channels.AsynchronousChannelGroup">openAsynchronousChannelGroup</span><span class="delimiter">(</span>
      <span title="Runtime.type">Runtime</span>.<span title="()Runtime">getRuntime</span>.<span title="()Int">availableProcessors</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt">*</span> <span title="Int(2)" class="int">2</span> <span title="(that: Int)Int">max</span> <span title="Int(2)" class="int">2</span>
      , new <a title="&lt;$anon: java.util.concurrent.ThreadFactory&gt; extends Object with java.util.concurrent.ThreadFactory" id="scalaz.stream.nio.package.DefaultAsynchronousChannelGroup;$anon">ThreadFactory</a> <span class="delimiter">{</span>
        def <a title="(r: Runnable)Thread" id="scalaz.stream.nio.package.DefaultAsynchronousChannelGroup;$anon.newThread">newThread</a><span class="delimiter">(</span><a title="Runnable" id="scalaz.stream.nio.package.DefaultAsynchronousChannelGroup;$anon.newThread.r">r</a>: <span title="Runnable">Runnable</span><span class="delimiter">)</span>: <span title="Thread">Thread</span> = <span class="delimiter">{</span>
          val <a title="Thread" id="scalaz.stream.nio.package.DefaultAsynchronousChannelGroup;$anon.newThread.t">t</a> = new <span title="Thread">Thread</span><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.DefaultAsynchronousChannelGroup;$anon.newThread.r" title="Runnable">r</a>, <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;scalaz-stream-nio-&quot;)">scalaz-stream-nio-$</span><span class="delimiter">{</span><a href="#scalaz.stream.nio.package.DefaultAsynchronousChannelGroup.idx" title="java.util.concurrent.atomic.AtomicInteger">idx</a>.<span title="()Int">incrementAndGet</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
          <a href="#scalaz.stream.nio.package.DefaultAsynchronousChannelGroup;$anon.newThread.t" title="Thread">t</a>.<span title="(x$1: Boolean)Unit">setDaemon</span><span class="delimiter">(</span>true<span class="delimiter">)</span>
          <a href="#scalaz.stream.nio.package.DefaultAsynchronousChannelGroup;$anon.newThread.t" title="Thread">t</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>


  private def <a title="(ch: java.nio.channels.AsynchronousSocketChannel, readBufferSize: Int)scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector]" id="scalaz.stream.nio.package.nioExchange">nioExchange</a><span class="delimiter">(</span><a title="java.nio.channels.AsynchronousSocketChannel" id="scalaz.stream.nio.package.nioExchange.ch">ch</a>: <span title="java.nio.channels.AsynchronousSocketChannel">AsynchronousSocketChannel</span>, <a title="Int" id="scalaz.stream.nio.package.nioExchange$default$2">readBufferSize</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>: <a href="../Exchange.scala.html#scalaz.stream;Exchange" title="scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector]">Exchange</a><span class="delimiter">[</span>ByteVector, ByteVector<span class="delimiter">]</span> = <span class="delimiter">{</span>

    lazy val <a title="Int" id="scalaz.stream.nio.package.nioExchange.bufSz">bufSz</a>: <span title="Int">Int</span> =
      if <span class="delimiter">(</span><a href="#scalaz.stream.nio.package.nioExchange$default$2" title="Int">readBufferSize</a> <span title="(x: Int)Boolean">&lt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#scalaz.stream.nio.package.nioExchange.ch" title="java.nio.channels.AsynchronousSocketChannel">ch</a>.<span title="[T](x$1: java.net.SocketOption[T])T">getOption</span><span title="(x$1: java.net.SocketOption[Integer])Integer" class="delimiter">[</span>java.lang.<span title="Integer">Integer</span><span class="delimiter">]</span><span title="implicit scala.Predef.Integer2int : (x: Integer)Int" class="delimiter">(</span><span title="java.net.StandardSocketOptions.type">StandardSocketOptions</span>.<span title="java.net.SocketOption[Integer]">SO_RCVBUF</span><span class="delimiter">)</span>
      else <a href="#scalaz.stream.nio.package.nioExchange$default$2" title="Int">readBufferSize</a>

    lazy val <a title="Array[Byte]" id="scalaz.stream.nio.package.nioExchange.a">a</a> = <span title="Array.type">Array</span>.<span title="[T](n1: Int)(implicit evidence$3: scala.reflect.ClassTag[T])Array[T]">ofDim</span><span title="(n1: Int)(implicit evidence$3: scala.reflect.ClassTag[Byte])Array[Byte]" class="delimiter">[</span><span title="Byte">Byte</span><span class="delimiter">]</span><span title="=&gt; scala.reflect.ClassTag[Byte]" class="delimiter">(</span><a href="#scalaz.stream.nio.package.nioExchange.bufSz" title="=&gt; Int">bufSz</a><span class="delimiter">)</span>
    lazy val <a title="java.nio.ByteBuffer" id="scalaz.stream.nio.package.nioExchange.buff">buff</a> = <span title="java.nio.ByteBuffer.type">ByteBuffer</span>.<span title="(x$1: Array[Byte])java.nio.ByteBuffer">wrap</span><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.nioExchange.a" title="=&gt; Array[Byte]">a</a><span class="delimiter">)</span>

    def <a title="=&gt; scalaz.concurrent.Task[scodec.bits.ByteVector]" id="scalaz.stream.nio.package.nioExchange.readOne">readOne</a>: <span title="scalaz.concurrent.Task[scodec.bits.ByteVector]">Task</span><span class="delimiter">[</span>ByteVector<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span title="scalaz.concurrent.Task.type">Task</span>.<span title="(register: (scalaz.\/[Throwable,scodec.bits.ByteVector] =&gt; Unit) =&gt; Unit)scalaz.concurrent.Task[scodec.bits.ByteVector]">async</span> <span class="delimiter">{</span> <a title="scalaz.\/[Throwable,scodec.bits.ByteVector] =&gt; Unit" id="scalaz.stream.nio.package.nioExchange.readOne.$anonfun.cb">cb</a> =&gt;
        <a href="#scalaz.stream.nio.package.nioExchange.buff" title="=&gt; java.nio.ByteBuffer">buff</a>.<span title="()java.nio.Buffer">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#scalaz.stream.nio.package.nioExchange.ch" title="java.nio.channels.AsynchronousSocketChannel">ch</a>.<span title="(x$1: java.nio.ByteBuffer, x$2: Void, x$3: java.nio.channels.CompletionHandler[Integer, _ &gt;: Void])Unit">read</span><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.nioExchange.buff" title="=&gt; java.nio.ByteBuffer">buff</a>, null, new <a title="&lt;$anon: java.nio.channels.CompletionHandler[Integer,Void]&gt; extends Object with java.nio.channels.CompletionHandler[Integer,Void]" id="scalaz.stream.nio.package.nioExchange.readOne.$anonfun;$anon">CompletionHandler</a><span class="delimiter">[</span>Integer, Void<span class="delimiter">]</span> <span class="delimiter">{</span>
          def <a title="(result: Integer, attachment: Void)Unit" id="scalaz.stream.nio.package.nioExchange.readOne.$anonfun;$anon.completed">completed</a><span class="delimiter">(</span><a title="Integer" id="scalaz.stream.nio.package.nioExchange.readOne.$anonfun;$anon.completed.result">result</a>: <span title="Integer">Integer</span>, <a title="Void" id="scalaz.stream.nio.package.nioExchange.readOne.$anonfun;$anon.completed.attachment">attachment</a>: <span title="Void">Void</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
            <a href="#scalaz.stream.nio.package.nioExchange.buff" title="=&gt; java.nio.ByteBuffer">buff</a>.<span title="()java.nio.Buffer">flip</span><span class="delimiter">(</span><span class="delimiter">)</span>
            val <a title="scodec.bits.ByteVector" id="scalaz.stream.nio.package.nioExchange.readOne.$anonfun;$anon.completed.bs">bs</a> = <span title="(buffer: java.nio.ByteBuffer)scodec.bits.ByteVector">ByteVector</span><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.nioExchange.buff" title="=&gt; java.nio.ByteBuffer">buff</a><span class="delimiter">)</span>
            if <span class="delimiter">(</span><a href="#scalaz.stream.nio.package.nioExchange.readOne.$anonfun;$anon.completed.result" title="implicit scala.Predef.Integer2int : (x: Integer)Int">result</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#scalaz.stream.nio.package.nioExchange.readOne.$anonfun.cb" title="(v1: scalaz.\/[Throwable,scodec.bits.ByteVector])Unit">cb</a><span class="delimiter">(</span><span title="(a: scalaz.stream.Cause.Terminated)scalaz.-\/[scalaz.stream.Cause.Terminated]">-\/</span><span class="delimiter">(</span><a href="../Cause.scala.html#scalaz.stream.Cause;Terminated" title="(cause: scalaz.stream.Cause)scalaz.stream.Cause.Terminated">Terminated</a><span class="delimiter">(</span><a href="../Cause.scala.html#scalaz.stream.Cause.End" title="scalaz.stream.Cause.End.type">End</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            else <a href="#scalaz.stream.nio.package.nioExchange.readOne.$anonfun.cb" title="(v1: scalaz.\/[Throwable,scodec.bits.ByteVector])Unit">cb</a><span class="delimiter">(</span><span title="(b: scodec.bits.ByteVector)scalaz.\/-[scodec.bits.ByteVector]">\/-</span><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.nioExchange.readOne.$anonfun;$anon.completed.bs" title="scodec.bits.ByteVector">bs</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          def <a title="(exc: Throwable, attachment: Void)Unit" id="scalaz.stream.nio.package.nioExchange.readOne.$anonfun;$anon.failed">failed</a><span class="delimiter">(</span><a title="Throwable" id="scalaz.stream.nio.package.nioExchange.readOne.$anonfun;$anon.failed.exc">exc</a>: <span title="Throwable">Throwable</span>, <a title="Void" id="scalaz.stream.nio.package.nioExchange.readOne.$anonfun;$anon.failed.attachment">attachment</a>: <span title="Void">Void</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#scalaz.stream.nio.package.nioExchange.readOne.$anonfun.cb" title="(v1: scalaz.\/[Throwable,scodec.bits.ByteVector])Unit">cb</a><span class="delimiter">(</span><span title="(a: Throwable)scalaz.-\/[Throwable]">-\/</span><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.nioExchange.readOne.$anonfun;$anon.failed.exc" title="Throwable">exc</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    def <a title="(a: scodec.bits.ByteVector)scalaz.concurrent.Task[Unit]" id="scalaz.stream.nio.package.nioExchange.writeOne">writeOne</a><span class="delimiter">(</span><a title="scodec.bits.ByteVector" id="scalaz.stream.nio.package.nioExchange.writeOne.a">a</a>: <span title="scodec.bits.ByteVector">ByteVector</span><span class="delimiter">)</span>: <span title="scalaz.concurrent.Task[Unit]">Task</span><span class="delimiter">[</span>Unit<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span title="scalaz.concurrent.Task.type">Task</span>.<span title="[A](register: (scalaz.\/[Throwable,A] =&gt; Unit) =&gt; Unit)scalaz.concurrent.Task[A]">async</span><span title="(register: (scalaz.\/[Throwable,Int] =&gt; Unit) =&gt; Unit)scalaz.concurrent.Task[Int]" class="delimiter">[</span><span title="Int">Int</span><span class="delimiter">]</span> <span class="delimiter">{</span> <a title="scalaz.\/[Throwable,Int] =&gt; Unit" id="scalaz.stream.nio.package.nioExchange.writeOne.$anonfun.cb">cb</a> =&gt;
        <a href="#scalaz.stream.nio.package.nioExchange.ch" title="java.nio.channels.AsynchronousSocketChannel">ch</a>.<span title="(x$1: java.nio.ByteBuffer, x$2: Void, x$3: java.nio.channels.CompletionHandler[Integer, _ &gt;: Void])Unit">write</span><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.nioExchange.writeOne.a" title="scodec.bits.ByteVector">a</a>.<span title="=&gt; java.nio.ByteBuffer">toByteBuffer</span>, null, new <a title="&lt;$anon: java.nio.channels.CompletionHandler[Integer,Void]&gt; extends Object with java.nio.channels.CompletionHandler[Integer,Void]" id="scalaz.stream.nio.package.nioExchange.writeOne.$anonfun;$anon">CompletionHandler</a><span class="delimiter">[</span>Integer, Void<span class="delimiter">]</span> <span class="delimiter">{</span>
          def <a title="(result: Integer, attachment: Void)Unit" id="scalaz.stream.nio.package.nioExchange.writeOne.$anonfun;$anon.completed">completed</a><span class="delimiter">(</span><a title="Integer" id="scalaz.stream.nio.package.nioExchange.writeOne.$anonfun;$anon.completed.result">result</a>: <span title="Integer">Integer</span>, <a title="Void" id="scalaz.stream.nio.package.nioExchange.writeOne.$anonfun;$anon.completed.attachment">attachment</a>: <span title="Void">Void</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#scalaz.stream.nio.package.nioExchange.writeOne.$anonfun.cb" title="(v1: scalaz.\/[Throwable,Int])Unit">cb</a><span class="delimiter">(</span><span title="(b: Int)scalaz.\/-[Int]">\/-</span><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.nioExchange.writeOne.$anonfun;$anon.completed.result" title="implicit scala.Predef.Integer2int : (x: Integer)Int">result</a><span class="delimiter">)</span><span class="delimiter">)</span>
          def <a title="(exc: Throwable, attachment: Void)Unit" id="scalaz.stream.nio.package.nioExchange.writeOne.$anonfun;$anon.failed">failed</a><span class="delimiter">(</span><a title="Throwable" id="scalaz.stream.nio.package.nioExchange.writeOne.$anonfun;$anon.failed.exc">exc</a>: <span title="Throwable">Throwable</span>, <a title="Void" id="scalaz.stream.nio.package.nioExchange.writeOne.$anonfun;$anon.failed.attachment">attachment</a>: <span title="Void">Void</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#scalaz.stream.nio.package.nioExchange.writeOne.$anonfun.cb" title="(v1: scalaz.\/[Throwable,Int])Unit">cb</a><span class="delimiter">(</span><span title="(a: Throwable)scalaz.-\/[Throwable]">-\/</span><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.nioExchange.writeOne.$anonfun;$anon.failed.exc" title="Throwable">exc</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<span title="(f: Int =&gt; scalaz.concurrent.Task[Unit])scalaz.concurrent.Task[Unit]">flatMap</span> <span class="delimiter">{</span> <a title="Int" id="scalaz.stream.nio.package.nioExchange.writeOne.$anonfun.w">w</a> =&gt;
        if <span class="delimiter">(</span><a href="#scalaz.stream.nio.package.nioExchange.writeOne.$anonfun.w" title="Int">w</a> <span title="(x: Int)Boolean">==</span> <a href="#scalaz.stream.nio.package.nioExchange.writeOne.a" title="scodec.bits.ByteVector">a</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span title="scalaz.concurrent.Task.type">Task</span>.<span title="(a: Unit)scalaz.concurrent.Task[Unit]">now</span><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        else <a href="#scalaz.stream.nio.package.nioExchange.writeOne" title="(a: scodec.bits.ByteVector)scalaz.concurrent.Task[Unit]">writeOne</a><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.nioExchange.writeOne.a" title="scodec.bits.ByteVector">a</a>.<span title="(n: Int)scodec.bits.ByteVector">drop</span><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.nioExchange.writeOne.$anonfun.w" title="Int">w</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>


    def <a title="=&gt; scalaz.stream.Process[scalaz.concurrent.Task,scodec.bits.ByteVector]" id="scalaz.stream.nio.package.nioExchange.read">read</a>: <a href="../Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.concurrent.Task,scodec.bits.ByteVector]">Process</a><span class="delimiter">[</span>Task, ByteVector<span class="delimiter">]</span> = <a href="../Process.scala.html#scalaz.stream.Process" title="scalaz.stream.Process.type">Process</a>.<a href="../Process.scala.html#scalaz.stream.Process.repeatEval" title="(f: scalaz.concurrent.Task[scodec.bits.ByteVector])scalaz.stream.Process[scalaz.concurrent.Task,scodec.bits.ByteVector]">repeatEval</a><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.nioExchange.readOne" title="=&gt; scalaz.concurrent.Task[scodec.bits.ByteVector]">readOne</a><span class="delimiter">)</span>
    def <a title="=&gt; scalaz.stream.Sink[scalaz.concurrent.Task,scodec.bits.ByteVector]" id="scalaz.stream.nio.package.nioExchange.write">write</a>: <a href="../Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Sink[scalaz.concurrent.Task,scodec.bits.ByteVector]">Sink</a><span class="delimiter">[</span>Task, ByteVector<span class="delimiter">]</span> = <a href="../Process.scala.html#scalaz.stream.Process" title="scalaz.stream.Process.type">Process</a>.<a href="../Process.scala.html#scalaz.stream.Process.constant" title="(a: scodec.bits.ByteVector =&gt; scalaz.concurrent.Task[Unit], chunkSize: Int)scalaz.stream.Process0[scodec.bits.ByteVector =&gt; scalaz.concurrent.Task[Unit]]">constant</a><span class="delimiter">(</span><span class="delimiter">(</span>a: <span title="scodec.bits.ByteVector">ByteVector</span><span class="delimiter">)</span> =&gt; <a href="#scalaz.stream.nio.package.nioExchange.writeOne" title="(a: scodec.bits.ByteVector)scalaz.concurrent.Task[Unit]">writeOne</a><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.nioExchange.write.$anonfun.a" title="scodec.bits.ByteVector">a</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="../Exchange.scala.html#scalaz.stream;Exchange" title="(read: scalaz.stream.Process[scalaz.concurrent.Task,scodec.bits.ByteVector], write: scalaz.stream.Sink[scalaz.concurrent.Task,scodec.bits.ByteVector])scalaz.stream.Exchange[scodec.bits.ByteVector,scodec.bits.ByteVector]">Exchange</a><span class="delimiter">(</span><a href="#scalaz.stream.nio.package.nioExchange.read" title="=&gt; scalaz.stream.Process[scalaz.concurrent.Task,scodec.bits.ByteVector]">read</a>, <a href="#scalaz.stream.nio.package.nioExchange.write" title="=&gt; scalaz.stream.Sink[scalaz.concurrent.Task,scodec.bits.ByteVector]">write</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>


<span class="delimiter">}</span>

        </pre>
    </body>
</html>
