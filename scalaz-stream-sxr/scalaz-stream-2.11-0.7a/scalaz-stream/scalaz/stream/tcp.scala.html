<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scalaz-stream/scalaz/stream/tcp.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
package scalaz.stream

import java.io.IOException
import java.net.<span class="delimiter">{</span>InetSocketAddress, StandardSocketOptions<span class="delimiter">}</span>
import java.nio.ByteBuffer
import java.nio.channels.<span class="delimiter">{</span>AsynchronousChannelGroup, AsynchronousSocketChannel, AsynchronousServerSocketChannel, CompletionHandler<span class="delimiter">}</span>
import java.nio.channels.spi.AsynchronousChannelProvider
import java.util.concurrent.atomic.AtomicInteger
import java.util.concurrent.ThreadFactory
import scala.concurrent.duration._
import scalaz.concurrent.<span class="delimiter">{</span>Strategy,Task<span class="delimiter">}</span>
import scalaz.<span title="scalaz.\/.type">\/</span>._
import scalaz.\/
import scalaz.~&gt;
import scodec.bits.ByteVector

object <a title="scalaz.stream.tcp.type" id="scalaz.stream.tcp">tcp</a> <a href="#scalaz.stream.tcp" title="scalaz.stream.tcp.type" class="delimiter">{</a>

  <span class="comment">/**
   * A `Task[A]` which has access to an `Socket`, for reading/writing from
   * some network resource.
   */</span>
  trait <a title="trait Connection[+A] extends AnyRef" id="scalaz.stream.tcp;Connection">Connection</a><span class="delimiter">[</span>+<a title="" id="scalaz.stream.tcp;Connection;A">A</a><span class="delimiter">]</span> <span class="delimiter">{</span>
    private<span class="delimiter">[</span>stream<span class="delimiter">]</span> def <a title="(channel: scalaz.stream.tcp.Socket, S: scalaz.concurrent.Strategy)scalaz.concurrent.Task[A]" id="scalaz.stream.tcp;Connection.run">run</a><span class="delimiter">(</span><a title="scalaz.stream.tcp.Socket" id="scalaz.stream.tcp;Connection.run.channel">channel</a>: <a href="#scalaz.stream.tcp;Socket" title="scalaz.stream.tcp.Socket">Socket</a>, <a title="scalaz.concurrent.Strategy" id="scalaz.stream.tcp;Connection.run.S">S</a>: <span title="scalaz.concurrent.Strategy">Strategy</span><span class="delimiter">)</span>: <span title="scalaz.concurrent.Task[A]">Task</span><span class="delimiter">[</span>A<span class="delimiter">]</span>
  <span class="delimiter">}</span>

  trait <a title="trait Socket extends AnyRef" id="scalaz.stream.tcp;Socket">Socket</a> <span class="delimiter">{</span>

    <span class="comment">/**
     * Read up to `maxBytes` from the peer. If `timeout` is provided
     * and the operation does not complete in the specified duration,
     * the returned `Process` fails with a [[java.nio.channels.InterruptedByTimeoutException]].
     */</span>
    def <a title="(maxBytes: Int, timeout: Option[scala.concurrent.duration.Duration], allowPeerClosed: Boolean)scalaz.concurrent.Task[Option[scodec.bits.ByteVector]]" id="scalaz.stream.tcp;Socket.available">available</a><span class="delimiter">(</span>
          <a title="Int" id="scalaz.stream.tcp;Socket.available.maxBytes">maxBytes</a>: <span title="Int">Int</span>,
          <a title="Option[scala.concurrent.duration.Duration]" id="scalaz.stream.tcp;Socket.available$default$2">timeout</a>: <span title="Option[scala.concurrent.duration.Duration]">Option</span><span class="delimiter">[</span>Duration<span class="delimiter">]</span> = <span title="None.type">None</span>,
          <a title="Boolean" id="scalaz.stream.tcp;Socket.available$default$3">allowPeerClosed</a>: <span title="Boolean">Boolean</span> = false<span class="delimiter">)</span>: <span title="scalaz.concurrent.Task[Option[scodec.bits.ByteVector]]">Task</span><span class="delimiter">[</span>Option<span class="delimiter">[</span>ByteVector<span class="delimiter">]</span><span class="delimiter">]</span>

    <span class="comment">/** Indicate to the peer that we are done writing. */</span>
    def <a title="=&gt; scalaz.concurrent.Task[Unit]" id="scalaz.stream.tcp;Socket.eof">eof</a>: <span title="scalaz.concurrent.Task[Unit]">Task</span><span class="delimiter">[</span>Unit<span class="delimiter">]</span>

    <span class="comment">/** Close the connection corresponding to this `Socket`. */</span>
    def <a title="=&gt; scalaz.concurrent.Task[Unit]" id="scalaz.stream.tcp;Socket.close">close</a>: <span title="scalaz.concurrent.Task[Unit]">Task</span><span class="delimiter">[</span>Unit<span class="delimiter">]</span>

    <span class="comment">/** Ask for the remote address of the peer. */</span>
    def <a title="=&gt; scalaz.concurrent.Task[java.net.InetSocketAddress]" id="scalaz.stream.tcp;Socket.remoteAddress">remoteAddress</a>: <span title="scalaz.concurrent.Task[java.net.InetSocketAddress]">Task</span><span class="delimiter">[</span>InetSocketAddress<span class="delimiter">]</span>

    <span class="comment">/**
     * Write `bytes` to the peer. If `timeout` is provided
     * and the operation does not complete in the specified duration,
     * the returned `Process` fails with a [[java.nio.channels.InterruptedByTimeoutException]].
     */</span>
    def <a title="(bytes: scodec.bits.ByteVector, timeout: Option[scala.concurrent.duration.Duration], allowPeerClosed: Boolean)scalaz.concurrent.Task[Unit]" id="scalaz.stream.tcp;Socket.write">write</a><span class="delimiter">(</span><a title="scodec.bits.ByteVector" id="scalaz.stream.tcp;Socket.write.bytes">bytes</a>: <span title="scodec.bits.ByteVector">ByteVector</span>,
              <a title="Option[scala.concurrent.duration.Duration]" id="scalaz.stream.tcp;Socket.write$default$2">timeout</a>: <span title="Option[scala.concurrent.duration.Duration]">Option</span><span class="delimiter">[</span>Duration<span class="delimiter">]</span> = <span title="None.type">None</span>,
              <a title="Boolean" id="scalaz.stream.tcp;Socket.write$default$3">allowPeerClosed</a>: <span title="Boolean">Boolean</span> = false<span class="delimiter">)</span>: <span title="scalaz.concurrent.Task[Unit]">Task</span><span class="delimiter">[</span>Unit<span class="delimiter">]</span>
  <span class="delimiter">}</span>

  private def <a title="(channel: java.nio.channels.AsynchronousSocketChannel)(implicit S: scalaz.concurrent.Strategy)scalaz.stream.tcp.Socket" id="scalaz.stream.tcp.asynchronous">asynchronous</a><span class="delimiter">(</span><a title="java.nio.channels.AsynchronousSocketChannel" id="scalaz.stream.tcp.asynchronous.channel">channel</a>: <span title="java.nio.channels.AsynchronousSocketChannel">AsynchronousSocketChannel</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="scalaz.concurrent.Strategy" id="scalaz.stream.tcp.asynchronous.S">S</a>: <span title="scalaz.concurrent.Strategy">Strategy</span><span class="delimiter">)</span>: <a href="#scalaz.stream.tcp;Socket" title="scalaz.stream.tcp.Socket">Socket</a> = new <a title="&lt;$anon: scalaz.stream.tcp.Socket&gt; extends AnyRef with scalaz.stream.tcp.Socket" id="scalaz.stream.tcp.asynchronous;$anon">Socket</a> <span class="delimiter">{</span>

    def <a title="(maxBytes: Int, timeout: Option[scala.concurrent.duration.Duration], allowPeerClosed: Boolean)scalaz.concurrent.Task[Option[scodec.bits.ByteVector]]" id="scalaz.stream.tcp.asynchronous;$anon.available">available</a><span class="delimiter">(</span><a title="Int" id="scalaz.stream.tcp.asynchronous;$anon.available.maxBytes">maxBytes</a>: <span title="Int">Int</span>,
                  <a title="Option[scala.concurrent.duration.Duration]" id="scalaz.stream.tcp.asynchronous;$anon.available$default$2">timeout</a>: <span title="Option[scala.concurrent.duration.Duration]">Option</span><span class="delimiter">[</span>Duration<span class="delimiter">]</span> = <span title="None.type">None</span>,
                  <a title="Boolean" id="scalaz.stream.tcp.asynchronous;$anon.available$default$3">allowPeerClosed</a>: <span title="Boolean">Boolean</span> = false<span class="delimiter">)</span>: <span title="scalaz.concurrent.Task[Option[scodec.bits.ByteVector]]">Task</span><span class="delimiter">[</span>Option<span class="delimiter">[</span>ByteVector<span class="delimiter">]</span><span class="delimiter">]</span> =
      <a href="#scalaz.stream.tcp.handlePeerClosed" title="[A](allowPeerClosed: Boolean, default: A)(t: scalaz.concurrent.Task[A])scalaz.concurrent.Task[A]">handlePeerClosed</a><span title="(allowPeerClosed: Boolean, default: Option[scodec.bits.ByteVector])(t: scalaz.concurrent.Task[Option[scodec.bits.ByteVector]])scalaz.concurrent.Task[Option[scodec.bits.ByteVector]]" class="delimiter">[</span><span title="Option[scodec.bits.ByteVector]">Option</span><span class="delimiter">[</span>ByteVector<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.asynchronous;$anon.available$default$3" title="Boolean">allowPeerClosed</a>, <span title="None.type">None</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span title="scalaz.concurrent.Task.type">Task</span>.<span title="(register: (scalaz.\/[Throwable,Option[scodec.bits.ByteVector]] =&gt; Unit) =&gt; Unit)scalaz.concurrent.Task[Option[scodec.bits.ByteVector]]">async</span> <span class="delimiter">{</span> <a title="scalaz.\/[Throwable,Option[scodec.bits.ByteVector]] =&gt; Unit" id="scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.cb">cb</a> =&gt;
        val <a title="Array[Byte]" id="scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.arr">arr</a> = new <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.asynchronous;$anon.available.maxBytes" title="Int">maxBytes</a><span class="delimiter">)</span>
        val <a title="java.nio.ByteBuffer" id="scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.buf">buf</a> = <span title="java.nio.ByteBuffer.type">ByteBuffer</span>.<span title="(x$1: Array[Byte])java.nio.ByteBuffer">wrap</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.arr" title="Array[Byte]">arr</a><span class="delimiter">)</span>
        val <a title="&lt;refinement of java.nio.channels.CompletionHandler[Integer,Void]&gt; extends Object with java.nio.channels.CompletionHandler[Integer,Void]" id="scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.handler">handler</a> = new <a title="&lt;$anon: java.nio.channels.CompletionHandler[Integer,Void]&gt; extends Object with java.nio.channels.CompletionHandler[Integer,Void]" id="scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.handler;$anon">CompletionHandler</a><span class="delimiter">[</span>Integer, Void<span class="delimiter">]</span> <span class="delimiter">{</span>
          def <a title="(result: Integer, attachment: Void)Unit" id="scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.handler;$anon.completed">completed</a><span class="delimiter">(</span><a title="Integer" id="scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.handler;$anon.completed.result">result</a>: <span title="Integer">Integer</span>, <a title="Void" id="scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.handler;$anon.completed.attachment">attachment</a>: <span title="Void">Void</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#scalaz.stream.tcp.asynchronous.S" title="(a: =&gt; Unit)() =&gt; Unit">S</a> <span title="Unit" class="delimiter">{</span>
            try <span class="delimiter">{</span>
              <a href="#scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.buf" title="java.nio.ByteBuffer">buf</a>.<span title="()java.nio.Buffer">flip</span><span class="delimiter">(</span><span class="delimiter">)</span>
              val <a title="scodec.bits.ByteVector" id="scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.handler;$anon.completed.bs">bs</a> = <span title="scodec.bits.ByteVector.type">ByteVector</span>.<span title="(bytes: java.nio.ByteBuffer)scodec.bits.ByteVector">view</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.buf" title="java.nio.ByteBuffer">buf</a><span class="delimiter">)</span> <span class="comment">// no need to copy since `buf` is not reused</span>
              if <span class="delimiter">(</span><a href="#scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.handler;$anon.completed.result" title="Integer">result</a>.<span title="()Int">intValue</span> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.cb" title="(v1: scalaz.\/[Throwable,Option[scodec.bits.ByteVector]])Unit">cb</a><span class="delimiter">(</span><span title="(v1: None.type)scalaz.\/[Nothing,None.type]">right</span><span class="delimiter">(</span><span title="None.type">None</span><span class="delimiter">)</span><span class="delimiter">)</span>
              else <a href="#scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.cb" title="(v1: scalaz.\/[Throwable,Option[scodec.bits.ByteVector]])Unit">cb</a><span class="delimiter">(</span><span title="(v1: Some[scodec.bits.ByteVector])scalaz.\/[Nothing,Some[scodec.bits.ByteVector]]">right</span><span class="delimiter">(</span><span title="(x: scodec.bits.ByteVector)Some[scodec.bits.ByteVector]">Some</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.handler;$anon.completed.bs" title="scodec.bits.ByteVector">bs</a>.<span title="(n: Int)scodec.bits.ByteVector">take</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.handler;$anon.completed.result" title="Integer">result</a>.<span title="()Int">intValue</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            catch <span class="delimiter">{</span> case <a title="Throwable" id="scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.handler;$anon.completed.e">e</a>: <span title="Throwable">Throwable</span> =&gt; <a href="#scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.cb" title="(v1: scalaz.\/[Throwable,Option[scodec.bits.ByteVector]])Unit">cb</a><span class="delimiter">(</span><span title="(v1: Throwable)scalaz.\/[Throwable,Nothing]">left</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.handler;$anon.completed.e" title="Throwable">e</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          def <a title="(exc: Throwable, attachment: Void)Unit" id="scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.handler;$anon.failed">failed</a><span class="delimiter">(</span><a title="Throwable" id="scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.handler;$anon.failed.exc">exc</a>: <span title="Throwable">Throwable</span>, <a title="Void" id="scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.handler;$anon.failed.attachment">attachment</a>: <span title="Void">Void</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#scalaz.stream.tcp.asynchronous.S" title="(a: =&gt; Unit)() =&gt; Unit">S</a> <span title="Unit" class="delimiter">{</span> <a href="#scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.cb" title="(v1: scalaz.\/[Throwable,Option[scodec.bits.ByteVector]])Unit">cb</a><span class="delimiter">(</span><span title="(v1: Throwable)scalaz.\/[Throwable,Nothing]">left</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.handler;$anon.failed.exc" title="Throwable">exc</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="#scalaz.stream.tcp.asynchronous;$anon.available$default$2" title="Option[scala.concurrent.duration.Duration]">timeout</a> match <span class="delimiter">{</span>
          case <span title="None.type">None</span> =&gt; <a href="#scalaz.stream.tcp.asynchronous.channel" title="java.nio.channels.AsynchronousSocketChannel">channel</a>.<span title="(x$1: java.nio.ByteBuffer, x$2: Void, x$3: java.nio.channels.CompletionHandler[Integer, _ &gt;: Void])Unit">read</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.buf" title="java.nio.ByteBuffer">buf</a>, null, <a href="#scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.handler" title="&lt;refinement of java.nio.channels.CompletionHandler[Integer,Void]&gt; extends Object with java.nio.channels.CompletionHandler[Integer,Void]">handler</a><span class="delimiter">)</span>
          case Some<span class="delimiter">(</span><a title="scala.concurrent.duration.Duration" id="scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.d">d</a><span class="delimiter">)</span> =&gt; <a href="#scalaz.stream.tcp.asynchronous.channel" title="java.nio.channels.AsynchronousSocketChannel">channel</a>.<span title="(x$1: java.nio.ByteBuffer, x$2: Long, x$3: java.util.concurrent.TimeUnit, x$4: Void, x$5: java.nio.channels.CompletionHandler[Integer, _ &gt;: Void])Unit">read</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.buf" title="java.nio.ByteBuffer">buf</a>, <a href="#scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.d" title="scala.concurrent.duration.Duration">d</a>.<span title="=&gt; Long">length</span>, <a href="#scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.d" title="scala.concurrent.duration.Duration">d</a>.<span title="=&gt; scala.concurrent.duration.TimeUnit">unit</span>, null, <a href="#scalaz.stream.tcp.asynchronous;$anon.available.$anonfun.handler" title="&lt;refinement of java.nio.channels.CompletionHandler[Integer,Void]&gt; extends Object with java.nio.channels.CompletionHandler[Integer,Void]">handler</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">}</span>

    def <a title="=&gt; scalaz.concurrent.Task[Unit]" id="scalaz.stream.tcp.asynchronous;$anon.eof">eof</a>: <span title="scalaz.concurrent.Task[Unit]">Task</span><span class="delimiter">[</span>Unit<span class="delimiter">]</span> =
      <span title="scalaz.concurrent.Task.type">Task</span>.<span title="(a: =&gt; Unit)scalaz.concurrent.Task[Unit]">delay</span> <span class="delimiter">{</span> <a href="#scalaz.stream.tcp.asynchronous.channel" title="java.nio.channels.AsynchronousSocketChannel">channel</a>.<span title="()java.nio.channels.AsynchronousSocketChannel">shutdownOutput</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>

    def <a title="=&gt; scalaz.concurrent.Task[Unit]" id="scalaz.stream.tcp.asynchronous;$anon.close">close</a>: <span title="scalaz.concurrent.Task[Unit]">Task</span><span class="delimiter">[</span>Unit<span class="delimiter">]</span> =
      <span title="scalaz.concurrent.Task.type">Task</span>.<span title="(a: =&gt; Unit)scalaz.concurrent.Task[Unit]">delay</span> <span class="delimiter">{</span> <a href="#scalaz.stream.tcp.asynchronous.channel" title="java.nio.channels.AsynchronousSocketChannel">channel</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>

    def <a title="=&gt; scalaz.concurrent.Task[java.net.InetSocketAddress]" id="scalaz.stream.tcp.asynchronous;$anon.remoteAddress">remoteAddress</a>: <span title="scalaz.concurrent.Task[java.net.InetSocketAddress]">Task</span><span class="delimiter">[</span>InetSocketAddress<span class="delimiter">]</span> =
      <span title="scalaz.concurrent.Task.type">Task</span>.<span title="(a: =&gt; java.net.InetSocketAddress)scalaz.concurrent.Task[java.net.InetSocketAddress]">delay</span> <span class="delimiter">{</span>
        <span class="comment">// NB: This cast is safe because, from the javadoc:</span>
        <span class="comment">// &quot;Where the channel is bound and connected to an Internet Protocol socket</span>
        <span class="comment">// address then the return value from this method is of type InetSocketAddress.&quot;</span>
        <a href="#scalaz.stream.tcp.asynchronous.channel" title="java.nio.channels.AsynchronousSocketChannel">channel</a>.<span title="()java.net.SocketAddress">getRemoteAddress</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="java.net.InetSocketAddress" class="delimiter">[</span><span title="java.net.InetSocketAddress">InetSocketAddress</span><span class="delimiter">]</span>
      <span class="delimiter">}</span>

    def <a title="(bytes: scodec.bits.ByteVector, timeout: Option[scala.concurrent.duration.Duration], allowPeerClosed: Boolean)scalaz.concurrent.Task[Unit]" id="scalaz.stream.tcp.asynchronous;$anon.write">write</a><span class="delimiter">(</span><a title="scodec.bits.ByteVector" id="scalaz.stream.tcp.asynchronous;$anon.write.bytes">bytes</a>: <span title="scodec.bits.ByteVector">ByteVector</span>,
              <a title="Option[scala.concurrent.duration.Duration]" id="scalaz.stream.tcp.asynchronous;$anon.write$default$2">timeout</a>: <span title="Option[scala.concurrent.duration.Duration]">Option</span><span class="delimiter">[</span>Duration<span class="delimiter">]</span> = <span title="None.type">None</span>,
              <a title="Boolean" id="scalaz.stream.tcp.asynchronous;$anon.write$default$3">allowPeerClosed</a>: <span title="Boolean">Boolean</span> = false<span class="delimiter">)</span>: <span title="scalaz.concurrent.Task[Unit]">Task</span><span class="delimiter">[</span>Unit<span class="delimiter">]</span> =
      <a href="#scalaz.stream.tcp.writeOne" title="(ch: java.nio.channels.AsynchronousSocketChannel, a: scodec.bits.ByteVector, timeout: Option[scala.concurrent.duration.Duration], allowPeerClosed: Boolean, S: scalaz.concurrent.Strategy)scalaz.concurrent.Task[Unit]">writeOne</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.asynchronous.channel" title="java.nio.channels.AsynchronousSocketChannel">channel</a>, <a href="#scalaz.stream.tcp.asynchronous;$anon.write.bytes" title="scodec.bits.ByteVector">bytes</a>, <a href="#scalaz.stream.tcp.asynchronous;$anon.write$default$2" title="Option[scala.concurrent.duration.Duration]">timeout</a>, <a href="#scalaz.stream.tcp.asynchronous;$anon.write$default$3" title="Boolean">allowPeerClosed</a>, <a href="#scalaz.stream.tcp.asynchronous.S" title="scalaz.concurrent.Strategy">S</a><span class="delimiter">)</span>

  <span class="delimiter">}</span>

  private<span class="delimiter">[</span>stream<span class="delimiter">]</span> def <a title="=&gt; scalaz.stream.Process[scalaz.stream.tcp.Connection,scalaz.stream.tcp.Socket]" id="scalaz.stream.tcp.ask">ask</a>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,scalaz.stream.tcp.Socket]">Process</a><span class="delimiter">[</span>Connection,Socket<span class="delimiter">]</span> =
    <a href="Process.scala.html#scalaz.stream.Process" title="scalaz.stream.Process.type">Process</a>.<a href="Process.scala.html#scalaz.stream.Process.eval" title="(f: scalaz.stream.tcp.Connection[scalaz.stream.tcp.Socket])scalaz.stream.Process[scalaz.stream.tcp.Connection,scalaz.stream.tcp.Socket]">eval</a> <span class="delimiter">{</span> new <a title="&lt;$anon: scalaz.stream.tcp.Connection[scalaz.stream.tcp.Socket]&gt; extends AnyRef with scalaz.stream.tcp.Connection[scalaz.stream.tcp.Socket]" id="scalaz.stream.tcp.ask;$anon">Connection</a><span class="delimiter">[</span>Socket<span class="delimiter">]</span> <span class="delimiter">{</span>
      def <a title="(channel: scalaz.stream.tcp.Socket, S: scalaz.concurrent.Strategy)scalaz.concurrent.Task[scalaz.stream.tcp.Socket]" id="scalaz.stream.tcp.ask;$anon.run">run</a><span class="delimiter">(</span><a title="scalaz.stream.tcp.Socket" id="scalaz.stream.tcp.ask;$anon.run.channel">channel</a>: <a href="#scalaz.stream.tcp;Socket" title="scalaz.stream.tcp.Socket">Socket</a>, <a title="scalaz.concurrent.Strategy" id="scalaz.stream.tcp.ask;$anon.run.S">S</a>: <span title="scalaz.concurrent.Strategy">Strategy</span><span class="delimiter">)</span> = <span title="scalaz.concurrent.Task.type">Task</span>.<span title="(a: scalaz.stream.tcp.Socket)scalaz.concurrent.Task[scalaz.stream.tcp.Socket]">now</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.ask;$anon.run.channel" title="scalaz.stream.tcp.Socket">channel</a><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">}</span>

  private<span class="delimiter">[</span>stream<span class="delimiter">]</span> def <a title="=&gt; scalaz.stream.Process[scalaz.stream.tcp.Connection,scalaz.concurrent.Strategy]" id="scalaz.stream.tcp.strategy">strategy</a>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,scalaz.concurrent.Strategy]">Process</a><span class="delimiter">[</span>Connection,Strategy<span class="delimiter">]</span> =
    <a href="Process.scala.html#scalaz.stream.Process" title="scalaz.stream.Process.type">Process</a>.<a href="Process.scala.html#scalaz.stream.Process.eval" title="(f: scalaz.stream.tcp.Connection[scalaz.concurrent.Strategy])scalaz.stream.Process[scalaz.stream.tcp.Connection,scalaz.concurrent.Strategy]">eval</a> <span class="delimiter">{</span> new <a title="&lt;$anon: scalaz.stream.tcp.Connection[scalaz.concurrent.Strategy]&gt; extends AnyRef with scalaz.stream.tcp.Connection[scalaz.concurrent.Strategy]" id="scalaz.stream.tcp.strategy;$anon">Connection</a><span class="delimiter">[</span>Strategy<span class="delimiter">]</span> <span class="delimiter">{</span>
      def <a title="(channel: scalaz.stream.tcp.Socket, S: scalaz.concurrent.Strategy)scalaz.concurrent.Task[scalaz.concurrent.Strategy]" id="scalaz.stream.tcp.strategy;$anon.run">run</a><span class="delimiter">(</span><a title="scalaz.stream.tcp.Socket" id="scalaz.stream.tcp.strategy;$anon.run.channel">channel</a>: <a href="#scalaz.stream.tcp;Socket" title="scalaz.stream.tcp.Socket">Socket</a>, <a title="scalaz.concurrent.Strategy" id="scalaz.stream.tcp.strategy;$anon.run.S">S</a>: <span title="scalaz.concurrent.Strategy">Strategy</span><span class="delimiter">)</span> = <span title="scalaz.concurrent.Task.type">Task</span>.<span title="(a: scalaz.concurrent.Strategy)scalaz.concurrent.Task[scalaz.concurrent.Strategy]">now</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.strategy;$anon.run.S" title="scalaz.concurrent.Strategy">S</a><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">}</span>

  private def <a title="[A](t: scalaz.concurrent.Task[A])scalaz.stream.tcp.Connection[A]" id="scalaz.stream.tcp.lift(e1964819af)">lift</a><span class="delimiter">[</span><a title="" id="scalaz.stream.tcp.lift(e1964819af);A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.concurrent.Task[A]" id="scalaz.stream.tcp.lift(e1964819af).t">t</a>: <span title="scalaz.concurrent.Task[A]">Task</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#scalaz.stream.tcp;Connection" title="scalaz.stream.tcp.Connection[A]">Connection</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =
    new <a title="&lt;$anon: scalaz.stream.tcp.Connection[A]&gt; extends AnyRef with scalaz.stream.tcp.Connection[A]" id="scalaz.stream.tcp.lift(e1964819af);$anon">Connection</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span> def <a title="(channel: scalaz.stream.tcp.Socket, S: scalaz.concurrent.Strategy)scalaz.concurrent.Task[A]" id="scalaz.stream.tcp.lift(e1964819af);$anon.run">run</a><span class="delimiter">(</span><a title="scalaz.stream.tcp.Socket" id="scalaz.stream.tcp.lift(e1964819af);$anon.run.channel">channel</a>: <a href="#scalaz.stream.tcp;Socket" title="scalaz.stream.tcp.Socket">Socket</a>, <a title="scalaz.concurrent.Strategy" id="scalaz.stream.tcp.lift(e1964819af);$anon.run.S">S</a>: <span title="scalaz.concurrent.Strategy">Strategy</span><span class="delimiter">)</span> = <a href="#scalaz.stream.tcp.lift(e1964819af).t" title="scalaz.concurrent.Task[A]">t</a> <span class="delimiter">}</span>

  def <a title="[A](f: scalaz.stream.tcp.Socket =&gt; scalaz.stream.tcp.Socket)(p: scalaz.stream.Process[scalaz.stream.tcp.Connection,A])scalaz.stream.Process[scalaz.stream.tcp.Connection,A]" id="scalaz.stream.tcp.local">local</a><span class="delimiter">[</span><a title="" id="scalaz.stream.tcp.local;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.stream.tcp.Socket =&gt; scalaz.stream.tcp.Socket" id="scalaz.stream.tcp.local.f">f</a>: Socket =&gt; Socket<span class="delimiter">)</span><span class="delimiter">(</span><a title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]" id="scalaz.stream.tcp.local.p">p</a>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]">Process</a><span class="delimiter">[</span>Connection,A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]">Process</a><span class="delimiter">[</span>Connection,A<span class="delimiter">]</span> =
    for <span class="delimiter">{</span>
      <a title="scalaz.stream.tcp.Socket" id="scalaz.stream.tcp.local.$anonfun.e">e</a> &lt;- <a href="Process.scala.html#scalaz.stream;Process.flatMap" title="(f: scalaz.stream.tcp.Socket =&gt; scalaz.stream.Process[[x]scalaz.stream.tcp.Connection[x],A])scalaz.stream.Process[[x]scalaz.stream.tcp.Connection[x],A]">ask</a>
      <a title="scalaz.concurrent.Strategy" id="scalaz.stream.tcp.local.$anonfun.$anonfun.s">s</a> &lt;- <a href="Process.scala.html#scalaz.stream;Process.flatMap" title="(f: scalaz.concurrent.Strategy =&gt; scalaz.stream.Process[[x]scalaz.stream.tcp.Connection[x],A])scalaz.stream.Process[[x]scalaz.stream.tcp.Connection[x],A]">strategy</a>
      <a title="A" id="scalaz.stream.tcp.local.$anonfun.$anonfun.$anonfun.a">a</a> &lt;- <a href="#scalaz.stream.tcp.lift(58e3ee5dc2)" title="(p: scalaz.stream.Process[scalaz.concurrent.Task,A])scalaz.stream.Process[scalaz.stream.tcp.Connection,A]">lift</a> <a href="Process.scala.html#scalaz.stream;Process.map" title="(f: A =&gt; A)scalaz.stream.Process[scalaz.stream.tcp.Connection,A]" class="delimiter">{</a> <a href="#scalaz.stream.tcp.bindTo" title="(c: scalaz.stream.tcp.Socket, S: scalaz.concurrent.Strategy)(p: scalaz.stream.Process[scalaz.stream.tcp.Connection,A])scalaz.stream.Process[scalaz.concurrent.Task,A]">bindTo</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.local.f" title="(v1: scalaz.stream.tcp.Socket)scalaz.stream.tcp.Socket">f</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.local.$anonfun.e" title="scalaz.stream.tcp.Socket">e</a><span class="delimiter">)</span>, <a href="#scalaz.stream.tcp.local.$anonfun.$anonfun.s" title="scalaz.concurrent.Strategy">s</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.local.p" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]">p</a><span class="delimiter">)</span> <span class="delimiter">}</span>
    <span class="delimiter">}</span> yield <a href="#scalaz.stream.tcp.local.$anonfun.$anonfun.$anonfun.a" title="A">a</a>

  <span class="comment">/** Lift a regular `Process` to operate in the context of a `Connection`. */</span>
  def <a title="[A](p: scalaz.stream.Process[scalaz.concurrent.Task,A])scalaz.stream.Process[scalaz.stream.tcp.Connection,A]" id="scalaz.stream.tcp.lift(58e3ee5dc2)">lift</a><span class="delimiter">[</span><a title="" id="scalaz.stream.tcp.lift(58e3ee5dc2);A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.stream.Process[scalaz.concurrent.Task,A]" id="scalaz.stream.tcp.lift(58e3ee5dc2).p">p</a>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.concurrent.Task,A]">Process</a><span class="delimiter">[</span>Task,A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]">Process</a><span class="delimiter">[</span>Connection,A<span class="delimiter">]</span> =
    <a href="#scalaz.stream.tcp.lift(58e3ee5dc2).p" title="scalaz.stream.Process[scalaz.concurrent.Task,A]">p</a>.<a href="Process.scala.html#scalaz.stream;Process.translate" title="(f: scalaz.~&gt;[scalaz.concurrent.Task,scalaz.stream.tcp.Connection])scalaz.stream.Process[scalaz.stream.tcp.Connection,A]">translate</a><span class="delimiter">(</span>new <a title="&lt;$anon: scalaz.~&gt;[scalaz.concurrent.Task,scalaz.stream.tcp.Connection]&gt; extends AnyRef with scalaz.~&gt;[scalaz.concurrent.Task,scalaz.stream.tcp.Connection]" id="scalaz.stream.tcp.lift(58e3ee5dc2);$anon" class="delimiter">(</a>Task <a href="#scalaz.stream.tcp.lift(58e3ee5dc2);$anon" title="scalaz.~&gt;[scalaz.concurrent.Task,scalaz.stream.tcp.Connection]">~&gt;</a> Connection<span class="delimiter">)</span> <span class="delimiter">{</span> def <a title="[x](t: scalaz.concurrent.Task[x])scalaz.stream.tcp.Connection[x]" id="scalaz.stream.tcp.lift(58e3ee5dc2);$anon.apply">apply</a><span class="delimiter">[</span><a title="" id="scalaz.stream.tcp.lift(58e3ee5dc2);$anon.apply;x">x</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.concurrent.Task[x]" id="scalaz.stream.tcp.lift(58e3ee5dc2);$anon.apply.t">t</a>: <span title="scalaz.concurrent.Task[x]">Task</span><span class="delimiter">[</span>x<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#scalaz.stream.tcp" title="scalaz.stream.tcp.type">tcp</a>.<a href="#scalaz.stream.tcp.lift(e1964819af)" title="(t: scalaz.concurrent.Task[x])scalaz.stream.tcp.Connection[x]">lift</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.lift(58e3ee5dc2);$anon.apply.t" title="scalaz.concurrent.Task[x]">t</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/** Evaluate and emit the result of `t`. */</span>
  def <a title="[A](t: scalaz.concurrent.Task[A])scalaz.stream.Process[scalaz.stream.tcp.Connection,A]" id="scalaz.stream.tcp.eval">eval</a><span class="delimiter">[</span><a title="" id="scalaz.stream.tcp.eval;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.concurrent.Task[A]" id="scalaz.stream.tcp.eval.t">t</a>: <span title="scalaz.concurrent.Task[A]">Task</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]">Process</a><span class="delimiter">[</span>Connection,A<span class="delimiter">]</span> = <a href="Process.scala.html#scalaz.stream.Process" title="scalaz.stream.Process.type">Process</a>.<a href="Process.scala.html#scalaz.stream.Process.eval" title="(f: scalaz.stream.tcp.Connection[A])scalaz.stream.Process[scalaz.stream.tcp.Connection,A]">eval</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.lift(e1964819af)" title="(t: scalaz.concurrent.Task[A])scalaz.stream.tcp.Connection[A]">lift</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.eval.t" title="scalaz.concurrent.Task[A]">t</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Evaluate and ignore the result of `t`. */</span>
  def <a title="[A](t: scalaz.concurrent.Task[A])scalaz.stream.Process[scalaz.stream.tcp.Connection,Nothing]" id="scalaz.stream.tcp.eval_">eval_</a><span class="delimiter">[</span><a title="" id="scalaz.stream.tcp.eval_;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.concurrent.Task[A]" id="scalaz.stream.tcp.eval_.t">t</a>: <span title="scalaz.concurrent.Task[A]">Task</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,Nothing]">Process</a><span class="delimiter">[</span>Connection,Nothing<span class="delimiter">]</span> = <a href="Process.scala.html#scalaz.stream.Process" title="scalaz.stream.Process.type">Process</a>.<a href="Process.scala.html#scalaz.stream.Process.eval_" title="(f: scalaz.stream.tcp.Connection[A])scalaz.stream.Process[scalaz.stream.tcp.Connection,Nothing]">eval_</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.lift(e1964819af)" title="(t: scalaz.concurrent.Task[A])scalaz.stream.tcp.Connection[A]">lift</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.eval_.t" title="scalaz.concurrent.Task[A]">t</a><span class="delimiter">)</span><span class="delimiter">)</span>

  def <a title="[A, B, C](a: scalaz.stream.Process[scalaz.stream.tcp.Connection,A], b: scalaz.stream.Process[scalaz.stream.tcp.Connection,B])(y: scalaz.stream.Wye[A,B,C])(implicit S: scalaz.concurrent.Strategy)scalaz.stream.Process[scalaz.stream.tcp.Connection,C]" id="scalaz.stream.tcp.wye">wye</a><span class="delimiter">[</span><a title="" id="scalaz.stream.tcp.wye;A">A</a>,<a title="" id="scalaz.stream.tcp.wye;B">B</a>,<a title="" id="scalaz.stream.tcp.wye;C">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]" id="scalaz.stream.tcp.wye.a">a</a>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]">Process</a><span class="delimiter">[</span>Connection,A<span class="delimiter">]</span>, <a title="scalaz.stream.Process[scalaz.stream.tcp.Connection,B]" id="scalaz.stream.tcp.wye.b">b</a>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,B]">Process</a><span class="delimiter">[</span>Connection,B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="scalaz.stream.Wye[A,B,C]" id="scalaz.stream.tcp.wye.y">y</a>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Wye[A,B,C]">Wye</a><span class="delimiter">[</span>A,B,C<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="scalaz.concurrent.Strategy" id="scalaz.stream.tcp.wye.S">S</a>:<span title="scalaz.concurrent.Strategy">Strategy</span><span class="delimiter">)</span>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,C]">Process</a><span class="delimiter">[</span>Connection,C<span class="delimiter">]</span> =
    <a href="#scalaz.stream.tcp.ask" title="=&gt; scalaz.stream.Process[scalaz.stream.tcp.Connection,scalaz.stream.tcp.Socket]">ask</a> <a href="Process.scala.html#scalaz.stream;Process.flatMap" title="(f: scalaz.stream.tcp.Socket =&gt; scalaz.stream.Process[[x]scalaz.stream.tcp.Connection[x],C])scalaz.stream.Process[[x]scalaz.stream.tcp.Connection[x],C]">flatMap</a> <span class="delimiter">{</span> <a title="scalaz.stream.tcp.Socket" id="scalaz.stream.tcp.wye.$anonfun.ch">ch</a> =&gt; <a href="#scalaz.stream.tcp.lift(58e3ee5dc2)" title="(p: scalaz.stream.Process[scalaz.concurrent.Task,C])scalaz.stream.Process[scalaz.stream.tcp.Connection,C]">lift</a> <span class="delimiter">{</span> <a href="#scalaz.stream.tcp.bindTo" title="(c: scalaz.stream.tcp.Socket, S: scalaz.concurrent.Strategy)(p: scalaz.stream.Process[scalaz.stream.tcp.Connection,A])scalaz.stream.Process[scalaz.concurrent.Task,A]">bindTo</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.wye.$anonfun.ch" title="scalaz.stream.tcp.Socket">ch</a>, <a href="#scalaz.stream.tcp.wye.S" title="scalaz.concurrent.Strategy">S</a><span class="delimiter">)</span><a href="Process.scala.html#scalaz.stream.Process.SourceSyntax" title="(self: scalaz.stream.Process[scalaz.concurrent.Task,A])scalaz.stream.Process.SourceSyntax[A]" class="delimiter">(</a><a href="#scalaz.stream.tcp.wye.a" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]">a</a><span class="delimiter">)</span>.<a href="wye.scala.html#scalaz.stream;WyeOps.wye" title="(p2: scalaz.stream.Process[scalaz.concurrent.Task,B])(y: scalaz.stream.Wye[A,B,C])(implicit S: scalaz.concurrent.Strategy)scalaz.stream.Process[scalaz.concurrent.Task,C]">wye</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.bindTo" title="(c: scalaz.stream.tcp.Socket, S: scalaz.concurrent.Strategy)(p: scalaz.stream.Process[scalaz.stream.tcp.Connection,B])scalaz.stream.Process[scalaz.concurrent.Task,B]">bindTo</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.wye.$anonfun.ch" title="scalaz.stream.tcp.Socket">ch</a>, <a href="#scalaz.stream.tcp.wye.S" title="scalaz.concurrent.Strategy">S</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.wye.b" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,B]">b</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.wye.y" title="scalaz.stream.Wye[A,B,C]">y</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.wye.S" title="scalaz.concurrent.Strategy">S</a><span class="delimiter">)</span> <span class="delimiter">}</span> <span class="delimiter">}</span>

  def <a title="[A](a: scalaz.stream.Process[scalaz.stream.tcp.Connection,A], a2: scalaz.stream.Process[scalaz.stream.tcp.Connection,A])(implicit S: scalaz.concurrent.Strategy)scalaz.stream.Process[scalaz.stream.tcp.Connection,A]" id="scalaz.stream.tcp.merge">merge</a><span class="delimiter">[</span><a title="" id="scalaz.stream.tcp.merge;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]" id="scalaz.stream.tcp.merge.a">a</a>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]">Process</a><span class="delimiter">[</span>Connection,A<span class="delimiter">]</span>, <a title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]" id="scalaz.stream.tcp.merge.a2">a2</a>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]">Process</a><span class="delimiter">[</span>Connection,A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="scalaz.concurrent.Strategy" id="scalaz.stream.tcp.merge.S">S</a>:<span title="scalaz.concurrent.Strategy">Strategy</span><span class="delimiter">)</span>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]">Process</a><span class="delimiter">[</span>Connection,A<span class="delimiter">]</span> =
    <a href="#scalaz.stream.tcp.wye" title="(a: scalaz.stream.Process[scalaz.stream.tcp.Connection,A], b: scalaz.stream.Process[scalaz.stream.tcp.Connection,A])(y: scalaz.stream.Wye[A,A,A])(implicit S: scalaz.concurrent.Strategy)scalaz.stream.Process[scalaz.stream.tcp.Connection,A]">wye</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.merge.a" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]">a</a>,<a href="#scalaz.stream.tcp.merge.a2" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]">a2</a><span class="delimiter">)</span><a href="#scalaz.stream.tcp.merge.S" title="scalaz.concurrent.Strategy" class="delimiter">(</a>scalaz.stream.<a href="wye.scala.html#scalaz.stream.wye" title="scalaz.stream.wye.type">wye</a>.<a href="wye.scala.html#scalaz.stream.wye.merge" title="scalaz.stream.Wye[A,A,A]">merge</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Read up to `numBytes` from the peer.
   * If `timeout` is provided and no data arrives within the specified duration, the returned
   * `Process` fails with a [[java.nio.channels.InterruptedByTimeoutException]].
   * If `allowPeerClosed` is `true`, abrupt termination by the peer is converted to `None`
   * rather than being raised as an exception.
   */</span>
  def <a title="(maxBytes: Int, timeout: Option[scala.concurrent.duration.Duration], allowPeerClosed: Boolean)scalaz.stream.Process[scalaz.stream.tcp.Connection,Option[scodec.bits.ByteVector]]" id="scalaz.stream.tcp.available">available</a><span class="delimiter">(</span>
        <a title="Int" id="scalaz.stream.tcp.available.maxBytes">maxBytes</a>: <span title="Int">Int</span>,
        <a title="Option[scala.concurrent.duration.Duration]" id="scalaz.stream.tcp.available$default$2">timeout</a>: <span title="Option[scala.concurrent.duration.Duration]">Option</span><span class="delimiter">[</span>Duration<span class="delimiter">]</span> = <span title="None.type">None</span>,
        <a title="Boolean" id="scalaz.stream.tcp.available$default$3">allowPeerClosed</a>: <span title="Boolean">Boolean</span> = false<span class="delimiter">)</span>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,Option[scodec.bits.ByteVector]]">Process</a><span class="delimiter">[</span>Connection,Option<span class="delimiter">[</span>ByteVector<span class="delimiter">]</span><span class="delimiter">]</span> =
    <a href="#scalaz.stream.tcp.ask" title="=&gt; scalaz.stream.Process[scalaz.stream.tcp.Connection,scalaz.stream.tcp.Socket]">ask</a> <a href="Process.scala.html#scalaz.stream;Process.flatMap" title="(f: scalaz.stream.tcp.Socket =&gt; scalaz.stream.Process[[x]scalaz.stream.tcp.Connection[x],Option[scodec.bits.ByteVector]])scalaz.stream.Process[[x]scalaz.stream.tcp.Connection[x],Option[scodec.bits.ByteVector]]">flatMap</a> <span class="delimiter">{</span> <a title="scalaz.stream.tcp.Socket" id="scalaz.stream.tcp.available.$anonfun.e">e</a> =&gt; <a href="#scalaz.stream.tcp.eval" title="(t: scalaz.concurrent.Task[Option[scodec.bits.ByteVector]])scalaz.stream.Process[scalaz.stream.tcp.Connection,Option[scodec.bits.ByteVector]]">eval</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.available.$anonfun.e" title="scalaz.stream.tcp.Socket">e</a>.<a href="#scalaz.stream.tcp;Socket.available" title="(maxBytes: Int, timeout: Option[scala.concurrent.duration.Duration], allowPeerClosed: Boolean)scalaz.concurrent.Task[Option[scodec.bits.ByteVector]]">available</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.available.maxBytes" title="Int">maxBytes</a>, <a href="#scalaz.stream.tcp.available$default$2" title="Option[scala.concurrent.duration.Duration]">timeout</a>, <a href="#scalaz.stream.tcp.available$default$3" title="Boolean">allowPeerClosed</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="comment">/**
   * Read exactly `numBytes` from the peer in a single chunk.
   * If `timeout` is provided and no data arrives within the specified duration, the returned
   * `Process` fails with a [[java.nio.channels.InterruptedByTimeoutException]].
   */</span>
  def <a title="(numBytes: Int, timeout: Option[scala.concurrent.duration.Duration], allowPeerClosed: Boolean)scalaz.stream.Process[scalaz.stream.tcp.Connection,Option[scodec.bits.ByteVector]]" id="scalaz.stream.tcp.read">read</a><span class="delimiter">(</span><a title="Int" id="scalaz.stream.tcp.read.numBytes">numBytes</a>: <span title="Int">Int</span>,
           <a title="Option[scala.concurrent.duration.Duration]" id="scalaz.stream.tcp.read$default$2">timeout</a>: <span title="Option[scala.concurrent.duration.Duration]">Option</span><span class="delimiter">[</span>Duration<span class="delimiter">]</span> = <span title="None.type">None</span>,
           <a title="Boolean" id="scalaz.stream.tcp.read$default$3">allowPeerClosed</a>: <span title="Boolean">Boolean</span> = false<span class="delimiter">)</span>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,Option[scodec.bits.ByteVector]]">Process</a><span class="delimiter">[</span>Connection,Option<span class="delimiter">[</span>ByteVector<span class="delimiter">]</span><span class="delimiter">]</span> =
    <a href="#scalaz.stream.tcp.available" title="(maxBytes: Int, timeout: Option[scala.concurrent.duration.Duration], allowPeerClosed: Boolean)scalaz.stream.Process[scalaz.stream.tcp.Connection,Option[scodec.bits.ByteVector]]">available</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.read.numBytes" title="Int">numBytes</a>, <a href="#scalaz.stream.tcp.read$default$2" title="Option[scala.concurrent.duration.Duration]">timeout</a>, <a href="#scalaz.stream.tcp.read$default$3" title="Boolean">allowPeerClosed</a><span class="delimiter">)</span> <a href="Process.scala.html#scalaz.stream;Process.flatMap" title="(f: Option[scodec.bits.ByteVector] =&gt; scalaz.stream.Process[[x]scalaz.stream.tcp.Connection[x],Option[scodec.bits.ByteVector]])scalaz.stream.Process[[x]scalaz.stream.tcp.Connection[x],Option[scodec.bits.ByteVector]]">flatMap</a> <span class="delimiter">{</span>
      <a href="#scalaz.stream.tcp.read.$anonfun.x$1" title="Option[scodec.bits.ByteVector]">_</a> <span title="(f: scodec.bits.ByteVector =&gt; scalaz.stream.Process[scalaz.stream.tcp.Connection,Option[scodec.bits.ByteVector]])Option[scalaz.stream.Process[scalaz.stream.tcp.Connection,Option[scodec.bits.ByteVector]]]">map</span> <span class="delimiter">{</span> <a title="scodec.bits.ByteVector" id="scalaz.stream.tcp.read.$anonfun.$anonfun.bs">bs</a> =&gt; if <span class="delimiter">(</span><a href="#scalaz.stream.tcp.read.$anonfun.$anonfun.bs" title="scodec.bits.ByteVector">bs</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <a href="#scalaz.stream.tcp.read.numBytes" title="Int">numBytes</a><span class="delimiter">)</span> <a href="Process.scala.html#scalaz.stream.Process" title="scalaz.stream.Process.type">Process</a>.<a href="Process.scala.html#scalaz.stream.Process.emit" title="(o: Some[scodec.bits.ByteVector])scalaz.stream.Process0[Some[scodec.bits.ByteVector]]">emit</a><span class="delimiter">(</span><span title="(x: scodec.bits.ByteVector)Some[scodec.bits.ByteVector]">Some</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.read.$anonfun.$anonfun.bs" title="scodec.bits.ByteVector">bs</a><span class="delimiter">)</span><span class="delimiter">)</span>
                    else <a href="#scalaz.stream.tcp.read" title="(numBytes: Int, timeout: Option[scala.concurrent.duration.Duration], allowPeerClosed: Boolean)scalaz.stream.Process[scalaz.stream.tcp.Connection,Option[scodec.bits.ByteVector]]">read</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.read.numBytes" title="Int">numBytes</a> <span title="(x: Int)Int">-</span> <a href="#scalaz.stream.tcp.read.$anonfun.$anonfun.bs" title="scodec.bits.ByteVector">bs</a>.<span title="=&gt; Int">size</span>, <a href="#scalaz.stream.tcp.read$default$2" title="Option[scala.concurrent.duration.Duration]">timeout</a>, <a href="#scalaz.stream.tcp.read$default$3" title="Boolean">allowPeerClosed</a><span class="delimiter">)</span>.<a href="Process.scala.html#scalaz.stream;Process.map" title="(f: Option[scodec.bits.ByteVector] =&gt; Option[scodec.bits.ByteVector])scalaz.stream.Process[scalaz.stream.tcp.Connection,Option[scodec.bits.ByteVector]]">map</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.read.$anonfun.$anonfun.$anonfun.x$2" title="Option[scodec.bits.ByteVector]">_</a>.<span title="(f: scodec.bits.ByteVector =&gt; scodec.bits.ByteVector)Option[scodec.bits.ByteVector]">map</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.read.$anonfun.$anonfun.bs" title="scodec.bits.ByteVector">bs</a> <span title="(other: scodec.bits.ByteVector)scodec.bits.ByteVector">++</span> <a href="#scalaz.stream.tcp.read.$anonfun.$anonfun.$anonfun.$anonfun.x$3" title="scodec.bits.ByteVector">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span title="(default: =&gt; scalaz.stream.Process[scalaz.stream.tcp.Connection,Option[scodec.bits.ByteVector]])scalaz.stream.Process[scalaz.stream.tcp.Connection,Option[scodec.bits.ByteVector]]">getOrElse</span> <span class="delimiter">(</span><a href="Process.scala.html#scalaz.stream.Process" title="scalaz.stream.Process.type">Process</a>.<a href="Process.scala.html#scalaz.stream.Process.emit" title="(o: None.type)scalaz.stream.Process0[None.type]">emit</a><span class="delimiter">(</span><span title="None.type">None</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/** Returns a single-element stream containing the remote address of the peer. */</span>
  def <a title="=&gt; scalaz.stream.Process[scalaz.stream.tcp.Connection,java.net.InetSocketAddress]" id="scalaz.stream.tcp.remoteAddress">remoteAddress</a>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,java.net.InetSocketAddress]">Process</a><span class="delimiter">[</span>Connection,InetSocketAddress<span class="delimiter">]</span> =
    <a href="#scalaz.stream.tcp.ask" title="=&gt; scalaz.stream.Process[scalaz.stream.tcp.Connection,scalaz.stream.tcp.Socket]">ask</a>.<a href="Process.scala.html#scalaz.stream;Process.flatMap" title="(f: scalaz.stream.tcp.Socket =&gt; scalaz.stream.Process[[x]scalaz.stream.tcp.Connection[x],java.net.InetSocketAddress])scalaz.stream.Process[[x]scalaz.stream.tcp.Connection[x],java.net.InetSocketAddress]">flatMap</a> <span class="delimiter">{</span> <a title="scalaz.stream.tcp.Socket" id="scalaz.stream.tcp.remoteAddress.$anonfun.e">e</a> =&gt; <a href="#scalaz.stream.tcp.eval" title="(t: scalaz.concurrent.Task[java.net.InetSocketAddress])scalaz.stream.Process[scalaz.stream.tcp.Connection,java.net.InetSocketAddress]">eval</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.remoteAddress.$anonfun.e" title="scalaz.stream.tcp.Socket">e</a>.<a href="#scalaz.stream.tcp;Socket.remoteAddress" title="=&gt; scalaz.concurrent.Task[java.net.InetSocketAddress]">remoteAddress</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="comment">/** Indicate to the peer that we are done writing. */</span>
  def <a title="=&gt; scalaz.stream.Process[scalaz.stream.tcp.Connection,Nothing]" id="scalaz.stream.tcp.eof">eof</a>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,Nothing]">Process</a><span class="delimiter">[</span>Connection,Nothing<span class="delimiter">]</span> =
    <a href="#scalaz.stream.tcp.ask" title="=&gt; scalaz.stream.Process[scalaz.stream.tcp.Connection,scalaz.stream.tcp.Socket]">ask</a>.<a href="Process.scala.html#scalaz.stream;Process.flatMap" title="(f: scalaz.stream.tcp.Socket =&gt; scalaz.stream.Process[[x]scalaz.stream.tcp.Connection[x],Unit])scalaz.stream.Process[[x]scalaz.stream.tcp.Connection[x],Unit]">flatMap</a> <span class="delimiter">{</span> <a title="scalaz.stream.tcp.Socket" id="scalaz.stream.tcp.eof.$anonfun.e">e</a> =&gt; <a href="#scalaz.stream.tcp.eval" title="(t: scalaz.concurrent.Task[Unit])scalaz.stream.Process[scalaz.stream.tcp.Connection,Unit]">eval</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.eof.$anonfun.e" title="scalaz.stream.tcp.Socket">e</a>.<a href="#scalaz.stream.tcp;Socket.eof" title="=&gt; scalaz.concurrent.Task[Unit]">eof</a><span class="delimiter">)</span> <span class="delimiter">}</span>.<a href="Process.scala.html#scalaz.stream;Process.drain" title="=&gt; scalaz.stream.Process[[x]scalaz.stream.tcp.Connection[x],Nothing]">drain</a>

  <span class="comment">/** Read a stream from the peer in chunk sizes up to `maxChunkBytes` bytes. */</span>
  def <a title="(maxChunkBytes: Int, timeout: Option[scala.concurrent.duration.Duration], allowPeerClosed: Boolean)scalaz.stream.Process[scalaz.stream.tcp.Connection,scodec.bits.ByteVector]" id="scalaz.stream.tcp.reads">reads</a><span class="delimiter">(</span><a title="Int" id="scalaz.stream.tcp.reads.maxChunkBytes">maxChunkBytes</a>: <span title="Int">Int</span>,
            <a title="Option[scala.concurrent.duration.Duration]" id="scalaz.stream.tcp.reads$default$2">timeout</a>: <span title="Option[scala.concurrent.duration.Duration]">Option</span><span class="delimiter">[</span>Duration<span class="delimiter">]</span> = <span title="None.type">None</span>,
            <a title="Boolean" id="scalaz.stream.tcp.reads$default$3">allowPeerClosed</a>: <span title="Boolean">Boolean</span> = false<span class="delimiter">)</span>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,scodec.bits.ByteVector]">Process</a><span class="delimiter">[</span>Connection,ByteVector<span class="delimiter">]</span> =
    <a href="#scalaz.stream.tcp.available" title="(maxBytes: Int, timeout: Option[scala.concurrent.duration.Duration], allowPeerClosed: Boolean)scalaz.stream.Process[scalaz.stream.tcp.Connection,Option[scodec.bits.ByteVector]]">available</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.reads.maxChunkBytes" title="Int">maxChunkBytes</a>, <a href="#scalaz.stream.tcp.reads$default$2" title="Option[scala.concurrent.duration.Duration]">timeout</a>, <a href="#scalaz.stream.tcp.reads$default$3" title="Boolean">allowPeerClosed</a><span class="delimiter">)</span>.<a href="Process.scala.html#scalaz.stream;Process.flatMap" title="(f: Option[scodec.bits.ByteVector] =&gt; scalaz.stream.Process[[x]scalaz.stream.tcp.Connection[x],scodec.bits.ByteVector])scalaz.stream.Process[[x]scalaz.stream.tcp.Connection[x],scodec.bits.ByteVector]">flatMap</a> <a href="#scalaz.stream.tcp.reads.$anonfun.x0$1" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,scodec.bits.ByteVector]" class="delimiter">{</a>
      case <span title="None.type">None</span> =&gt; <a href="Process.scala.html#scalaz.stream.Process" title="scalaz.stream.Process.type">Process</a>.<a href="Process.scala.html#scalaz.stream.Process.halt" title="=&gt; scalaz.stream.Process0[Nothing]">halt</a>
      case Some<span class="delimiter">(</span><a title="scodec.bits.ByteVector" id="scalaz.stream.tcp.reads.$anonfun.bs">bs</a><span class="delimiter">)</span> =&gt; <a href="Process.scala.html#scalaz.stream.Process" title="scalaz.stream.Process.type">Process</a>.<a href="Process.scala.html#scalaz.stream.Process.emit" title="(o: scodec.bits.ByteVector)scalaz.stream.Process0[scodec.bits.ByteVector]">emit</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.reads.$anonfun.bs" title="scodec.bits.ByteVector">bs</a><span class="delimiter">)</span> <a href="Process.scala.html#scalaz.stream;Process.++" title="(p2: =&gt; scalaz.stream.Process[scalaz.stream.tcp.Connection,scodec.bits.ByteVector])scalaz.stream.Process[scalaz.stream.tcp.Connection,scodec.bits.ByteVector]">++</a> <a href="#scalaz.stream.tcp.reads" title="(maxChunkBytes: Int, timeout: Option[scala.concurrent.duration.Duration], allowPeerClosed: Boolean)scalaz.stream.Process[scalaz.stream.tcp.Connection,scodec.bits.ByteVector]">reads</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.reads.maxChunkBytes" title="Int">maxChunkBytes</a>, <a href="#scalaz.stream.tcp.reads$default$2" title="Option[scala.concurrent.duration.Duration]">timeout</a>, <a href="#scalaz.stream.tcp.reads$default$3" title="Boolean">allowPeerClosed</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">// Java unfortunately lacks a proper exception type for these cases</span>
  private def <a title="[A](allowPeerClosed: Boolean, default: A)(t: scalaz.concurrent.Task[A])scalaz.concurrent.Task[A]" id="scalaz.stream.tcp.handlePeerClosed">handlePeerClosed</a><span class="delimiter">[</span><a title="" id="scalaz.stream.tcp.handlePeerClosed;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Boolean" id="scalaz.stream.tcp.handlePeerClosed.allowPeerClosed">allowPeerClosed</a>: <span title="Boolean">Boolean</span>, <a title="A" id="scalaz.stream.tcp.handlePeerClosed.default">default</a>: <a href="#scalaz.stream.tcp.handlePeerClosed;A" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="scalaz.concurrent.Task[A]" id="scalaz.stream.tcp.handlePeerClosed.t">t</a>: <span title="scalaz.concurrent.Task[A]">Task</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scalaz.concurrent.Task[A]">Task</span><span class="delimiter">[</span>A<span class="delimiter">]</span> =
    if <span class="delimiter">(</span><a href="#scalaz.stream.tcp.handlePeerClosed.allowPeerClosed" title="Boolean">allowPeerClosed</a><span class="delimiter">)</span> <a href="#scalaz.stream.tcp.handlePeerClosed.t" title="scalaz.concurrent.Task[A]">t</a>.<span title="=&gt; scalaz.concurrent.Task[scalaz.\/[Throwable,A]]">attempt</span>.<span title="(f: scalaz.\/[Throwable,A] =&gt; scalaz.concurrent.Task[A])scalaz.concurrent.Task[A]">flatMap</span> <span class="delimiter">{</span>
      <a href="#scalaz.stream.tcp.handlePeerClosed.$anonfun.x$4" title="scalaz.\/[Throwable,A]">_</a>.<span title="(l: Throwable =&gt; scalaz.concurrent.Task[A], r: A =&gt; scalaz.concurrent.Task[A])scalaz.concurrent.Task[A]">fold</span><span class="delimiter">(</span>
        <a href="#scalaz.stream.tcp.handlePeerClosed.$anonfun.$anonfun.x0$2" title="scalaz.concurrent.Task[A]" class="delimiter">{</a> case <a title="java.io.IOException" id="scalaz.stream.tcp.handlePeerClosed.$anonfun.$anonfun.e">e</a>: <span title="java.io.IOException">IOException</span> if <a href="#scalaz.stream.tcp.handlePeerClosed.$anonfun.$anonfun.e" title="java.io.IOException">e</a>.<span title="()String">getMessage</span> <span title="(x$1: Any)Boolean">==</span> <span title="String(&quot;Broken pipe&quot;)" class="string">&quot;Broken pipe&quot;</span>
                              <span title="(x: Boolean)Boolean">||</span> <a href="#scalaz.stream.tcp.handlePeerClosed.$anonfun.$anonfun.e" title="java.io.IOException">e</a>.<span title="()String">getMessage</span> <span title="(x$1: Any)Boolean">==</span> <span title="String(&quot;Connection reset by peer&quot;)" class="string">&quot;Connection reset by peer&quot;</span> =&gt; <span title="scalaz.concurrent.Task.type">Task</span>.<span title="(a: A)scalaz.concurrent.Task[A]">now</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.handlePeerClosed.default" title="A">default</a><span class="delimiter">)</span>
          case <a title="Throwable" id="scalaz.stream.tcp.handlePeerClosed.$anonfun.$anonfun.t">t</a> =&gt; <span title="scalaz.concurrent.Task.type">Task</span>.<span title="(e: Throwable)scalaz.concurrent.Task[Nothing]">fail</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.handlePeerClosed.$anonfun.$anonfun.t" title="Throwable">t</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>,
        <span title="scalaz.concurrent.Task.type">Task</span>.<a href="#scalaz.stream.tcp.handlePeerClosed.$anonfun.$anonfun.a" title="(a: A)scalaz.concurrent.Task[A]">now</a>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>
    else <a href="#scalaz.stream.tcp.handlePeerClosed.t" title="scalaz.concurrent.Task[A]">t</a>

  <span class="comment">/**
   * Write `bytes` to the peer. If `timeout` is provided
   * and the operation does not complete in the specified duration,
   * the returned `Process` fails with a [[java.nio.channels.InterruptedByTimeoutException]].
   */</span>
  def <a title="(bytes: scodec.bits.ByteVector, timeout: Option[scala.concurrent.duration.Duration], allowPeerClosed: Boolean)scalaz.stream.Process[scalaz.stream.tcp.Connection,Unit]" id="scalaz.stream.tcp.write">write</a><span class="delimiter">(</span><a title="scodec.bits.ByteVector" id="scalaz.stream.tcp.write.bytes">bytes</a>: <span title="scodec.bits.ByteVector">ByteVector</span>,
            <a title="Option[scala.concurrent.duration.Duration]" id="scalaz.stream.tcp.write$default$2">timeout</a>: <span title="Option[scala.concurrent.duration.Duration]">Option</span><span class="delimiter">[</span>Duration<span class="delimiter">]</span> = <span title="None.type">None</span>,
            <a title="Boolean" id="scalaz.stream.tcp.write$default$3">allowPeerClosed</a>: <span title="Boolean">Boolean</span> = false<span class="delimiter">)</span>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,Unit]">Process</a><span class="delimiter">[</span>Connection,Unit<span class="delimiter">]</span> =
    <a href="#scalaz.stream.tcp.ask" title="=&gt; scalaz.stream.Process[scalaz.stream.tcp.Connection,scalaz.stream.tcp.Socket]">ask</a>.<a href="Process.scala.html#scalaz.stream;Process.flatMap" title="(f: scalaz.stream.tcp.Socket =&gt; scalaz.stream.Process[[x]scalaz.stream.tcp.Connection[x],Unit])scalaz.stream.Process[[x]scalaz.stream.tcp.Connection[x],Unit]">flatMap</a> <span class="delimiter">{</span> <a title="scalaz.stream.tcp.Socket" id="scalaz.stream.tcp.write.$anonfun.e">e</a> =&gt; <a href="#scalaz.stream.tcp.eval" title="(t: scalaz.concurrent.Task[Unit])scalaz.stream.Process[scalaz.stream.tcp.Connection,Unit]">eval</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.write.$anonfun.e" title="scalaz.stream.tcp.Socket">e</a>.<a href="#scalaz.stream.tcp;Socket.write" title="(bytes: scodec.bits.ByteVector, timeout: Option[scala.concurrent.duration.Duration], allowPeerClosed: Boolean)scalaz.concurrent.Task[Unit]">write</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.write.bytes" title="scodec.bits.ByteVector">bytes</a>, <a href="#scalaz.stream.tcp.write$default$2" title="Option[scala.concurrent.duration.Duration]">timeout</a>, <a href="#scalaz.stream.tcp.write$default$3" title="Boolean">allowPeerClosed</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="comment">/** Like [[scalaz.stream.tcp.write]], but ignores the output. */</span>
  def <a title="(bytes: scodec.bits.ByteVector, timeout: Option[scala.concurrent.duration.Duration], allowPeerClosed: Boolean)scalaz.stream.Process[scalaz.stream.tcp.Connection,Nothing]" id="scalaz.stream.tcp.write_">write_</a><span class="delimiter">(</span><a title="scodec.bits.ByteVector" id="scalaz.stream.tcp.write_.bytes">bytes</a>: <span title="scodec.bits.ByteVector">ByteVector</span>,
             <a title="Option[scala.concurrent.duration.Duration]" id="scalaz.stream.tcp.write_$default$2">timeout</a>: <span title="Option[scala.concurrent.duration.Duration]">Option</span><span class="delimiter">[</span>Duration<span class="delimiter">]</span> = <span title="None.type">None</span>,
             <a title="Boolean" id="scalaz.stream.tcp.write_$default$3">allowPeerClosed</a>: <span title="Boolean">Boolean</span> = false<span class="delimiter">)</span>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,Nothing]">Process</a><span class="delimiter">[</span>Connection,Nothing<span class="delimiter">]</span> =
    <a href="#scalaz.stream.tcp.write" title="(bytes: scodec.bits.ByteVector, timeout: Option[scala.concurrent.duration.Duration], allowPeerClosed: Boolean)scalaz.stream.Process[scalaz.stream.tcp.Connection,Unit]">write</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.write_.bytes" title="scodec.bits.ByteVector">bytes</a>, <a href="#scalaz.stream.tcp.write_$default$2" title="Option[scala.concurrent.duration.Duration]">timeout</a>, <a href="#scalaz.stream.tcp.write_$default$3" title="Boolean">allowPeerClosed</a><span class="delimiter">)</span>.<a href="Process.scala.html#scalaz.stream;Process.drain" title="=&gt; scalaz.stream.Process[scalaz.stream.tcp.Connection,Nothing]">drain</a>

  <span class="comment">/**
   * Write a stream of chunks to the peer. Emits a single `Unit` value for
   * each chunk written.
   */</span>
  def <a title="(chunks: scalaz.stream.Process[scalaz.stream.tcp.Connection,scodec.bits.ByteVector], timeout: Option[scala.concurrent.duration.Duration], allowPeerClosed: Boolean)scalaz.stream.Process[scalaz.stream.tcp.Connection,Unit]" id="scalaz.stream.tcp.writes">writes</a><span class="delimiter">(</span><a title="scalaz.stream.Process[scalaz.stream.tcp.Connection,scodec.bits.ByteVector]" id="scalaz.stream.tcp.writes.chunks">chunks</a>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,scodec.bits.ByteVector]">Process</a><span class="delimiter">[</span>Connection,ByteVector<span class="delimiter">]</span>,
             <a title="Option[scala.concurrent.duration.Duration]" id="scalaz.stream.tcp.writes$default$2">timeout</a>: <span title="Option[scala.concurrent.duration.Duration]">Option</span><span class="delimiter">[</span>Duration<span class="delimiter">]</span> = <span title="None.type">None</span>,
             <a title="Boolean" id="scalaz.stream.tcp.writes$default$3">allowPeerClosed</a>: <span title="Boolean">Boolean</span> = false<span class="delimiter">)</span>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,Unit]">Process</a><span class="delimiter">[</span>Connection,Unit<span class="delimiter">]</span> =
    <a href="#scalaz.stream.tcp.writes.chunks" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,scodec.bits.ByteVector]">chunks</a>.<a href="Process.scala.html#scalaz.stream;Process.flatMap" title="(f: scodec.bits.ByteVector =&gt; scalaz.stream.Process[[x]scalaz.stream.tcp.Connection[x],Unit])scalaz.stream.Process[[x]scalaz.stream.tcp.Connection[x],Unit]">flatMap</a> <span class="delimiter">{</span> <a title="scodec.bits.ByteVector" id="scalaz.stream.tcp.writes.$anonfun.bytes">bytes</a> =&gt; <a href="#scalaz.stream.tcp.write" title="(bytes: scodec.bits.ByteVector, timeout: Option[scala.concurrent.duration.Duration], allowPeerClosed: Boolean)scalaz.stream.Process[scalaz.stream.tcp.Connection,Unit]">write</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.writes.$anonfun.bytes" title="scodec.bits.ByteVector">bytes</a>, <a href="#scalaz.stream.tcp.writes$default$2" title="Option[scala.concurrent.duration.Duration]">timeout</a>, <a href="#scalaz.stream.tcp.writes$default$3" title="Boolean">allowPeerClosed</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="comment">/** Like [[scalaz.stream.tcp.writes]], but ignores the output. */</span>
  def <a title="(chunks: scalaz.stream.Process[scalaz.stream.tcp.Connection,scodec.bits.ByteVector], timeout: Option[scala.concurrent.duration.Duration], allowPeerClosed: Boolean)scalaz.stream.Process[scalaz.stream.tcp.Connection,Nothing]" id="scalaz.stream.tcp.writes_">writes_</a><span class="delimiter">(</span><a title="scalaz.stream.Process[scalaz.stream.tcp.Connection,scodec.bits.ByteVector]" id="scalaz.stream.tcp.writes_.chunks">chunks</a>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,scodec.bits.ByteVector]">Process</a><span class="delimiter">[</span>Connection,ByteVector<span class="delimiter">]</span>,
              <a title="Option[scala.concurrent.duration.Duration]" id="scalaz.stream.tcp.writes_$default$2">timeout</a>: <span title="Option[scala.concurrent.duration.Duration]">Option</span><span class="delimiter">[</span>Duration<span class="delimiter">]</span> = <span title="None.type">None</span>,
              <a title="Boolean" id="scalaz.stream.tcp.writes_$default$3">allowPeerClosed</a>: <span title="Boolean">Boolean</span> = false<span class="delimiter">)</span>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,Nothing]">Process</a><span class="delimiter">[</span>Connection,Nothing<span class="delimiter">]</span> =
    <a href="#scalaz.stream.tcp.writes" title="(chunks: scalaz.stream.Process[scalaz.stream.tcp.Connection,scodec.bits.ByteVector], timeout: Option[scala.concurrent.duration.Duration], allowPeerClosed: Boolean)scalaz.stream.Process[scalaz.stream.tcp.Connection,Unit]">writes</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.writes_.chunks" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,scodec.bits.ByteVector]">chunks</a>,<a href="#scalaz.stream.tcp.writes_$default$2" title="Option[scala.concurrent.duration.Duration]">timeout</a>,<a href="#scalaz.stream.tcp.writes_$default$3" title="Boolean">allowPeerClosed</a><span class="delimiter">)</span>.<a href="Process.scala.html#scalaz.stream;Process.drain" title="=&gt; scalaz.stream.Process[scalaz.stream.tcp.Connection,Nothing]">drain</a>


  <span class="comment">/** Defined as `tcp.writes(chunks,timeout,allowPeerClosed) onComplete eof`. */</span>
  def <a title="(chunks: scalaz.stream.Process[scalaz.stream.tcp.Connection,scodec.bits.ByteVector], timeout: Option[scala.concurrent.duration.Duration], allowPeerClosed: Boolean)scalaz.stream.Process[scalaz.stream.tcp.Connection,Unit]" id="scalaz.stream.tcp.lastWrites">lastWrites</a><span class="delimiter">(</span><a title="scalaz.stream.Process[scalaz.stream.tcp.Connection,scodec.bits.ByteVector]" id="scalaz.stream.tcp.lastWrites.chunks">chunks</a>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,scodec.bits.ByteVector]">Process</a><span class="delimiter">[</span>Connection,ByteVector<span class="delimiter">]</span>,
                 <a title="Option[scala.concurrent.duration.Duration]" id="scalaz.stream.tcp.lastWrites$default$2">timeout</a>: <span title="Option[scala.concurrent.duration.Duration]">Option</span><span class="delimiter">[</span>Duration<span class="delimiter">]</span> = <span title="None.type">None</span>,
                 <a title="Boolean" id="scalaz.stream.tcp.lastWrites$default$3">allowPeerClosed</a>: <span title="Boolean">Boolean</span> = false<span class="delimiter">)</span>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,Unit]">Process</a><span class="delimiter">[</span>Connection,Unit<span class="delimiter">]</span> =
    <a href="#scalaz.stream.tcp.writes" title="(chunks: scalaz.stream.Process[scalaz.stream.tcp.Connection,scodec.bits.ByteVector], timeout: Option[scala.concurrent.duration.Duration], allowPeerClosed: Boolean)scalaz.stream.Process[scalaz.stream.tcp.Connection,Unit]">writes</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.lastWrites.chunks" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,scodec.bits.ByteVector]">chunks</a>, <a href="#scalaz.stream.tcp.lastWrites$default$2" title="Option[scala.concurrent.duration.Duration]">timeout</a>, <a href="#scalaz.stream.tcp.lastWrites$default$3" title="Boolean">allowPeerClosed</a><span class="delimiter">)</span> <a href="Process.scala.html#scalaz.stream;Process.onComplete" title="(p2: =&gt; scalaz.stream.Process[[x]scalaz.stream.tcp.Connection[x],Unit])scalaz.stream.Process[[x]scalaz.stream.tcp.Connection[x],Unit]">onComplete</a> <a href="#scalaz.stream.tcp.eof" title="=&gt; scalaz.stream.Process[scalaz.stream.tcp.Connection,Nothing]">eof</a>

  <span class="comment">/** Like [[scalaz.stream.tcp.lastWrites]], but ignores the output. */</span>
  def <a title="(chunks: scalaz.stream.Process[scalaz.stream.tcp.Connection,scodec.bits.ByteVector], timeout: Option[scala.concurrent.duration.Duration], allowPeerClosed: Boolean)scalaz.stream.Process[scalaz.stream.tcp.Connection,Nothing]" id="scalaz.stream.tcp.lastWrites_">lastWrites_</a><span class="delimiter">(</span><a title="scalaz.stream.Process[scalaz.stream.tcp.Connection,scodec.bits.ByteVector]" id="scalaz.stream.tcp.lastWrites_.chunks">chunks</a>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,scodec.bits.ByteVector]">Process</a><span class="delimiter">[</span>Connection,ByteVector<span class="delimiter">]</span>,
                  <a title="Option[scala.concurrent.duration.Duration]" id="scalaz.stream.tcp.lastWrites_$default$2">timeout</a>: <span title="Option[scala.concurrent.duration.Duration]">Option</span><span class="delimiter">[</span>Duration<span class="delimiter">]</span> = <span title="None.type">None</span>,
                  <a title="Boolean" id="scalaz.stream.tcp.lastWrites_$default$3">allowPeerClosed</a>: <span title="Boolean">Boolean</span> = false<span class="delimiter">)</span>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,Nothing]">Process</a><span class="delimiter">[</span>Connection,Nothing<span class="delimiter">]</span> =
    <a href="#scalaz.stream.tcp.lastWrites" title="(chunks: scalaz.stream.Process[scalaz.stream.tcp.Connection,scodec.bits.ByteVector], timeout: Option[scala.concurrent.duration.Duration], allowPeerClosed: Boolean)scalaz.stream.Process[scalaz.stream.tcp.Connection,Unit]">lastWrites</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.lastWrites_.chunks" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,scodec.bits.ByteVector]">chunks</a>, <a href="#scalaz.stream.tcp.lastWrites_$default$2" title="Option[scala.concurrent.duration.Duration]">timeout</a>, <a href="#scalaz.stream.tcp.lastWrites_$default$3" title="Boolean">allowPeerClosed</a><span class="delimiter">)</span>.<a href="Process.scala.html#scalaz.stream;Process.drain" title="=&gt; scalaz.stream.Process[scalaz.stream.tcp.Connection,Nothing]">drain</a>

  private def <a title="(ch: java.nio.channels.AsynchronousSocketChannel, a: scodec.bits.ByteVector, timeout: Option[scala.concurrent.duration.Duration], allowPeerClosed: Boolean, S: scalaz.concurrent.Strategy)scalaz.concurrent.Task[Unit]" id="scalaz.stream.tcp.writeOne">writeOne</a><span class="delimiter">(</span><a title="java.nio.channels.AsynchronousSocketChannel" id="scalaz.stream.tcp.writeOne.ch">ch</a>: <span title="java.nio.channels.AsynchronousSocketChannel">AsynchronousSocketChannel</span>, <a title="scodec.bits.ByteVector" id="scalaz.stream.tcp.writeOne.a">a</a>: <span title="scodec.bits.ByteVector">ByteVector</span>,
                       <a title="Option[scala.concurrent.duration.Duration]" id="scalaz.stream.tcp.writeOne.timeout">timeout</a>: <span title="Option[scala.concurrent.duration.Duration]">Option</span><span class="delimiter">[</span>Duration<span class="delimiter">]</span>,
                       <a title="Boolean" id="scalaz.stream.tcp.writeOne.allowPeerClosed">allowPeerClosed</a>: <span title="Boolean">Boolean</span>,
                       <a title="scalaz.concurrent.Strategy" id="scalaz.stream.tcp.writeOne.S">S</a>: <span title="scalaz.concurrent.Strategy">Strategy</span><span class="delimiter">)</span>: <span title="scalaz.concurrent.Task[Unit]">Task</span><span class="delimiter">[</span>Unit<span class="delimiter">]</span> =
    if <span class="delimiter">(</span><a href="#scalaz.stream.tcp.writeOne.a" title="scodec.bits.ByteVector">a</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="scalaz.concurrent.Task.type">Task</span>.<span title="(a: Unit)scalaz.concurrent.Task[Unit]">now</span><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    else <a href="#scalaz.stream.tcp.handlePeerClosed" title="(allowPeerClosed: Boolean, default: Unit)(t: scalaz.concurrent.Task[Unit])scalaz.concurrent.Task[Unit]">handlePeerClosed</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.writeOne.allowPeerClosed" title="Boolean">allowPeerClosed</a>, <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span title="scalaz.concurrent.Task.type">Task</span>.<span title="[A](register: (scalaz.\/[Throwable,A] =&gt; Unit) =&gt; Unit)scalaz.concurrent.Task[A]">async</span><span title="(register: (scalaz.\/[Throwable,Int] =&gt; Unit) =&gt; Unit)scalaz.concurrent.Task[Int]" class="delimiter">[</span><span title="Int">Int</span><span class="delimiter">]</span> <span class="delimiter">{</span> <a title="scalaz.\/[Throwable,Int] =&gt; Unit" id="scalaz.stream.tcp.writeOne.$anonfun.cb">cb</a> =&gt;
      val <a title="&lt;refinement of java.nio.channels.CompletionHandler[Integer,Void]&gt; extends Object with java.nio.channels.CompletionHandler[Integer,Void]" id="scalaz.stream.tcp.writeOne.$anonfun.handler">handler</a> = new <a title="&lt;$anon: java.nio.channels.CompletionHandler[Integer,Void]&gt; extends Object with java.nio.channels.CompletionHandler[Integer,Void]" id="scalaz.stream.tcp.writeOne.$anonfun.handler;$anon">CompletionHandler</a><span class="delimiter">[</span>Integer, Void<span class="delimiter">]</span> <span class="delimiter">{</span>
        def <a title="(result: Integer, attachment: Void)Unit" id="scalaz.stream.tcp.writeOne.$anonfun.handler;$anon.completed">completed</a><span class="delimiter">(</span><a title="Integer" id="scalaz.stream.tcp.writeOne.$anonfun.handler;$anon.completed.result">result</a>: <span title="Integer">Integer</span>, <a title="Void" id="scalaz.stream.tcp.writeOne.$anonfun.handler;$anon.completed.attachment">attachment</a>: <span title="Void">Void</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#scalaz.stream.tcp.writeOne.S" title="(a: =&gt; Unit)() =&gt; Unit">S</a> <span title="Unit" class="delimiter">{</span> <a href="#scalaz.stream.tcp.writeOne.$anonfun.cb" title="(v1: scalaz.\/[Throwable,Int])Unit">cb</a><span class="delimiter">(</span><span title="(v1: Int)scalaz.\/[Nothing,Int]">right</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.writeOne.$anonfun.handler;$anon.completed.result" title="implicit scala.Predef.Integer2int : (x: Integer)Int">result</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
        def <a title="(exc: Throwable, attachment: Void)Unit" id="scalaz.stream.tcp.writeOne.$anonfun.handler;$anon.failed">failed</a><span class="delimiter">(</span><a title="Throwable" id="scalaz.stream.tcp.writeOne.$anonfun.handler;$anon.failed.exc">exc</a>: <span title="Throwable">Throwable</span>, <a title="Void" id="scalaz.stream.tcp.writeOne.$anonfun.handler;$anon.failed.attachment">attachment</a>: <span title="Void">Void</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#scalaz.stream.tcp.writeOne.S" title="(a: =&gt; Unit)() =&gt; Unit">S</a> <span title="Unit" class="delimiter">{</span> <a href="#scalaz.stream.tcp.writeOne.$anonfun.cb" title="(v1: scalaz.\/[Throwable,Int])Unit">cb</a><span class="delimiter">(</span><span title="(v1: Throwable)scalaz.\/[Throwable,Nothing]">left</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.writeOne.$anonfun.handler;$anon.failed.exc" title="Throwable">exc</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#scalaz.stream.tcp.writeOne.timeout" title="Option[scala.concurrent.duration.Duration]">timeout</a> match <span class="delimiter">{</span>
        case <span title="None.type">None</span> =&gt; <a href="#scalaz.stream.tcp.writeOne.ch" title="java.nio.channels.AsynchronousSocketChannel">ch</a>.<span title="(x$1: java.nio.ByteBuffer, x$2: Void, x$3: java.nio.channels.CompletionHandler[Integer, _ &gt;: Void])Unit">write</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.writeOne.a" title="scodec.bits.ByteVector">a</a>.<span title="=&gt; java.nio.ByteBuffer">toByteBuffer</span>, null, <a href="#scalaz.stream.tcp.writeOne.$anonfun.handler" title="&lt;refinement of java.nio.channels.CompletionHandler[Integer,Void]&gt; extends Object with java.nio.channels.CompletionHandler[Integer,Void]">handler</a><span class="delimiter">)</span>
        case Some<span class="delimiter">(</span><a title="scala.concurrent.duration.Duration" id="scalaz.stream.tcp.writeOne.$anonfun.d">d</a><span class="delimiter">)</span> =&gt; <a href="#scalaz.stream.tcp.writeOne.ch" title="java.nio.channels.AsynchronousSocketChannel">ch</a>.<span title="(x$1: java.nio.ByteBuffer, x$2: Long, x$3: java.util.concurrent.TimeUnit, x$4: Void, x$5: java.nio.channels.CompletionHandler[Integer, _ &gt;: Void])Unit">write</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.writeOne.a" title="scodec.bits.ByteVector">a</a>.<span title="=&gt; java.nio.ByteBuffer">toByteBuffer</span>, <a href="#scalaz.stream.tcp.writeOne.$anonfun.d" title="scala.concurrent.duration.Duration">d</a>.<span title="=&gt; Long">length</span>, <a href="#scalaz.stream.tcp.writeOne.$anonfun.d" title="scala.concurrent.duration.Duration">d</a>.<span title="=&gt; scala.concurrent.duration.TimeUnit">unit</span>, null, <a href="#scalaz.stream.tcp.writeOne.$anonfun.handler" title="&lt;refinement of java.nio.channels.CompletionHandler[Integer,Void]&gt; extends Object with java.nio.channels.CompletionHandler[Integer,Void]">handler</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>.<span title="(f: Int =&gt; scalaz.concurrent.Task[Unit])scalaz.concurrent.Task[Unit]">flatMap</span> <span class="delimiter">{</span> <a title="Int" id="scalaz.stream.tcp.writeOne.$anonfun.w">w</a> =&gt;
      if <span class="delimiter">(</span><a href="#scalaz.stream.tcp.writeOne.$anonfun.w" title="Int">w</a> <span title="(x: Int)Boolean">==</span> <a href="#scalaz.stream.tcp.writeOne.a" title="scodec.bits.ByteVector">a</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span title="scalaz.concurrent.Task.type">Task</span>.<span title="(a: Unit)scalaz.concurrent.Task[Unit]">now</span><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      else <a href="#scalaz.stream.tcp.writeOne" title="(ch: java.nio.channels.AsynchronousSocketChannel, a: scodec.bits.ByteVector, timeout: Option[scala.concurrent.duration.Duration], allowPeerClosed: Boolean, S: scalaz.concurrent.Strategy)scalaz.concurrent.Task[Unit]">writeOne</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.writeOne.ch" title="java.nio.channels.AsynchronousSocketChannel">ch</a>, <a href="#scalaz.stream.tcp.writeOne.a" title="scodec.bits.ByteVector">a</a>.<span title="(n: Int)scodec.bits.ByteVector">drop</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.writeOne.$anonfun.w" title="Int">w</a><span class="delimiter">)</span>, <a href="#scalaz.stream.tcp.writeOne.timeout" title="Option[scala.concurrent.duration.Duration]">timeout</a>, <a href="#scalaz.stream.tcp.writeOne.allowPeerClosed" title="Boolean">allowPeerClosed</a>, <a href="#scalaz.stream.tcp.writeOne.S" title="scalaz.concurrent.Strategy">S</a><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Process that connects to remote server (TCP) and runs the stream `ouput`.
   *
   * @param to              Address of remote server
   * @param reuseAddress    whether address has to be reused (@see [[java.net.StandardSocketOptions.SO_REUSEADDR]])
   * @param sendBufferSize  size of send buffer  (@see [[java.net.StandardSocketOptions.SO_SNDBUF]])
   * @param receiveBufferSize   size of receive buffer  (@see [[java.net.StandardSocketOptions.SO_RCVBUF]])
   * @param keepAlive       whether keep-alive on tcp is used (@see [[java.net.StandardSocketOptions.SO_KEEPALIVE]])
   * @param noDelay         whether tcp no-delay flag is set  (@see [[java.net.StandardSocketOptions.TCP_NODELAY]])
   */</span>
  def <a title="[A](to: java.net.InetSocketAddress, reuseAddress: Boolean, sendBufferSize: Int, receiveBufferSize: Int, keepAlive: Boolean, noDelay: Boolean)(output: scalaz.stream.Process[scalaz.stream.tcp.Connection,A])(implicit AG: java.nio.channels.AsynchronousChannelGroup, implicit S: scalaz.concurrent.Strategy)scalaz.stream.Process[scalaz.concurrent.Task,A]" id="scalaz.stream.tcp.connect">connect</a><span class="delimiter">[</span><a title="" id="scalaz.stream.tcp.connect$default$6;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.net.InetSocketAddress" id="scalaz.stream.tcp.connect.to">to</a>: <span title="java.net.InetSocketAddress">InetSocketAddress</span>,
                 <a title="Boolean" id="scalaz.stream.tcp.connect$default$2">reuseAddress</a>: <span title="Boolean">Boolean</span> = true,
                 <a title="Int" id="scalaz.stream.tcp.connect$default$3">sendBufferSize</a>: <span title="Int">Int</span> = <span class="int">256</span> <span title="Int(262144)">*</span> <span class="int">1024</span>,
                 <a title="Int" id="scalaz.stream.tcp.connect$default$4">receiveBufferSize</a>: <span title="Int">Int</span> = <span class="int">256</span> <span title="Int(262144)">*</span> <span class="int">1024</span>,
                 <a title="Boolean" id="scalaz.stream.tcp.connect$default$5">keepAlive</a>: <span title="Boolean">Boolean</span> = false,
                 <a title="Boolean" id="scalaz.stream.tcp.connect$default$6">noDelay</a>: <span title="Boolean">Boolean</span> = false<span class="delimiter">)</span><span class="delimiter">(</span><a title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]" id="scalaz.stream.tcp.connect.output">output</a>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]">Process</a><span class="delimiter">[</span>Connection,A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span>
                 implicit <a title="java.nio.channels.AsynchronousChannelGroup" id="scalaz.stream.tcp.connect.AG">AG</a>: <span title="java.nio.channels.AsynchronousChannelGroup">AsynchronousChannelGroup</span>, <a title="scalaz.concurrent.Strategy" id="scalaz.stream.tcp.connect.S">S</a>: <span title="scalaz.concurrent.Strategy">Strategy</span><span class="delimiter">)</span>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.concurrent.Task,A]">Process</a><span class="delimiter">[</span>Task,A<span class="delimiter">]</span> = <span class="delimiter">{</span>

    def <a title="=&gt; scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel]" id="scalaz.stream.tcp.connect.setup">setup</a>: <span title="scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel]">Task</span><span class="delimiter">[</span>AsynchronousSocketChannel<span class="delimiter">]</span> = <span title="scalaz.concurrent.Task.type">Task</span>.<span title="(a: =&gt; java.nio.channels.AsynchronousSocketChannel)scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel]">delay</span> <span class="delimiter">{</span>
      val <a title="java.nio.channels.AsynchronousSocketChannel" id="scalaz.stream.tcp.connect.setup.ch">ch</a> = <span title="java.nio.channels.spi.AsynchronousChannelProvider.type">AsynchronousChannelProvider</span>.<span title="()java.nio.channels.spi.AsynchronousChannelProvider">provider</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: java.nio.channels.AsynchronousChannelGroup)java.nio.channels.AsynchronousSocketChannel">openAsynchronousSocketChannel</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.connect.AG" title="java.nio.channels.AsynchronousChannelGroup">AG</a><span class="delimiter">)</span>
      <a href="#scalaz.stream.tcp.connect.setup.ch" title="java.nio.channels.AsynchronousSocketChannel">ch</a>.<span title="[T](x$1: java.net.SocketOption[T], x$2: T)java.nio.channels.AsynchronousSocketChannel">setOption</span><span title="(x$1: java.net.SocketOption[Boolean], x$2: Boolean)java.nio.channels.AsynchronousSocketChannel" class="delimiter">[</span>java.lang.<span title="Boolean">Boolean</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="java.net.StandardSocketOptions.type">StandardSocketOptions</span>.<span title="java.net.SocketOption[Boolean]">SO_REUSEADDR</span>, <a href="#scalaz.stream.tcp.connect$default$2" title="implicit scala.Predef.boolean2Boolean : (x: Boolean)Boolean">reuseAddress</a><span class="delimiter">)</span>
      <a href="#scalaz.stream.tcp.connect.setup.ch" title="java.nio.channels.AsynchronousSocketChannel">ch</a>.<span title="[T](x$1: java.net.SocketOption[T], x$2: T)java.nio.channels.AsynchronousSocketChannel">setOption</span><span title="(x$1: java.net.SocketOption[Integer], x$2: Integer)java.nio.channels.AsynchronousSocketChannel" class="delimiter">[</span><span title="Integer">Integer</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="java.net.StandardSocketOptions.type">StandardSocketOptions</span>.<span title="java.net.SocketOption[Integer]">SO_SNDBUF</span>, <a href="#scalaz.stream.tcp.connect$default$3" title="implicit scala.Predef.int2Integer : (x: Int)Integer">sendBufferSize</a><span class="delimiter">)</span>
      <a href="#scalaz.stream.tcp.connect.setup.ch" title="java.nio.channels.AsynchronousSocketChannel">ch</a>.<span title="[T](x$1: java.net.SocketOption[T], x$2: T)java.nio.channels.AsynchronousSocketChannel">setOption</span><span title="(x$1: java.net.SocketOption[Integer], x$2: Integer)java.nio.channels.AsynchronousSocketChannel" class="delimiter">[</span><span title="Integer">Integer</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="java.net.StandardSocketOptions.type">StandardSocketOptions</span>.<span title="java.net.SocketOption[Integer]">SO_RCVBUF</span>, <a href="#scalaz.stream.tcp.connect$default$4" title="implicit scala.Predef.int2Integer : (x: Int)Integer">receiveBufferSize</a><span class="delimiter">)</span>
      <a href="#scalaz.stream.tcp.connect.setup.ch" title="java.nio.channels.AsynchronousSocketChannel">ch</a>.<span title="[T](x$1: java.net.SocketOption[T], x$2: T)java.nio.channels.AsynchronousSocketChannel">setOption</span><span title="(x$1: java.net.SocketOption[Boolean], x$2: Boolean)java.nio.channels.AsynchronousSocketChannel" class="delimiter">[</span>java.lang.<span title="Boolean">Boolean</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="java.net.StandardSocketOptions.type">StandardSocketOptions</span>.<span title="java.net.SocketOption[Boolean]">SO_KEEPALIVE</span>, <a href="#scalaz.stream.tcp.connect$default$5" title="implicit scala.Predef.boolean2Boolean : (x: Boolean)Boolean">keepAlive</a><span class="delimiter">)</span>
      <a href="#scalaz.stream.tcp.connect.setup.ch" title="java.nio.channels.AsynchronousSocketChannel">ch</a>.<span title="[T](x$1: java.net.SocketOption[T], x$2: T)java.nio.channels.AsynchronousSocketChannel">setOption</span><span title="(x$1: java.net.SocketOption[Boolean], x$2: Boolean)java.nio.channels.AsynchronousSocketChannel" class="delimiter">[</span>java.lang.<span title="Boolean">Boolean</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="java.net.StandardSocketOptions.type">StandardSocketOptions</span>.<span title="java.net.SocketOption[Boolean]">TCP_NODELAY</span>, <a href="#scalaz.stream.tcp.connect$default$6" title="implicit scala.Predef.boolean2Boolean : (x: Boolean)Boolean">noDelay</a><span class="delimiter">)</span>
      <a href="#scalaz.stream.tcp.connect.setup.ch" title="java.nio.channels.AsynchronousSocketChannel">ch</a>
    <span class="delimiter">}</span>

    def <a title="(ch: java.nio.channels.AsynchronousSocketChannel)scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel]" id="scalaz.stream.tcp.connect.connect">connect</a><span class="delimiter">(</span><a title="java.nio.channels.AsynchronousSocketChannel" id="scalaz.stream.tcp.connect.connect.ch">ch</a>: <span title="java.nio.channels.AsynchronousSocketChannel">AsynchronousSocketChannel</span><span class="delimiter">)</span>: <span title="scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel]">Task</span><span class="delimiter">[</span>AsynchronousSocketChannel<span class="delimiter">]</span> =
      <span title="scalaz.concurrent.Task.type">Task</span>.<span title="[A](register: (scalaz.\/[Throwable,A] =&gt; Unit) =&gt; Unit)scalaz.concurrent.Task[A]">async</span><span title="(register: (scalaz.\/[Throwable,java.nio.channels.AsynchronousSocketChannel] =&gt; Unit) =&gt; Unit)scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel]" class="delimiter">[</span><span title="java.nio.channels.AsynchronousSocketChannel">AsynchronousSocketChannel</span><span class="delimiter">]</span> <span class="delimiter">{</span> <a title="scalaz.\/[Throwable,java.nio.channels.AsynchronousSocketChannel] =&gt; Unit" id="scalaz.stream.tcp.connect.connect.$anonfun.cb">cb</a> =&gt;
        <a href="#scalaz.stream.tcp.connect.connect.ch" title="java.nio.channels.AsynchronousSocketChannel">ch</a>.<span title="(x$1: java.net.SocketAddress, x$2: Void, x$3: java.nio.channels.CompletionHandler[Void, _ &gt;: Void])Unit">connect</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.connect.to" title="java.net.InetSocketAddress">to</a>, null, new <a title="&lt;$anon: java.nio.channels.CompletionHandler[Void,Void]&gt; extends Object with java.nio.channels.CompletionHandler[Void,Void]" id="scalaz.stream.tcp.connect.connect.$anonfun;$anon">CompletionHandler</a><span class="delimiter">[</span>Void, Void<span class="delimiter">]</span> <span class="delimiter">{</span>
          def <a title="(result: Void, attachment: Void)Unit" id="scalaz.stream.tcp.connect.connect.$anonfun;$anon.completed">completed</a><span class="delimiter">(</span><a title="Void" id="scalaz.stream.tcp.connect.connect.$anonfun;$anon.completed.result">result</a>: <span title="Void">Void</span>, <a title="Void" id="scalaz.stream.tcp.connect.connect.$anonfun;$anon.completed.attachment">attachment</a>: <span title="Void">Void</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
            <a href="#scalaz.stream.tcp.connect.connect.$anonfun.cb" title="(v1: scalaz.\/[Throwable,java.nio.channels.AsynchronousSocketChannel])Unit">cb</a><span class="delimiter">(</span><span title="(v1: java.nio.channels.AsynchronousSocketChannel)scalaz.\/[Nothing,java.nio.channels.AsynchronousSocketChannel]">right</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.connect.connect.ch" title="java.nio.channels.AsynchronousSocketChannel">ch</a><span class="delimiter">)</span><span class="delimiter">)</span>

          def <a title="(rsn: Throwable, attachment: Void)Unit" id="scalaz.stream.tcp.connect.connect.$anonfun;$anon.failed">failed</a><span class="delimiter">(</span><a title="Throwable" id="scalaz.stream.tcp.connect.connect.$anonfun;$anon.failed.rsn">rsn</a>: <span title="Throwable">Throwable</span>, <a title="Void" id="scalaz.stream.tcp.connect.connect.$anonfun;$anon.failed.attachment">attachment</a>: <span title="Void">Void</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
            <a href="#scalaz.stream.tcp.connect.connect.$anonfun.cb" title="(v1: scalaz.\/[Throwable,java.nio.channels.AsynchronousSocketChannel])Unit">cb</a><span class="delimiter">(</span><span title="(v1: Throwable)scalaz.\/[Throwable,Nothing]">left</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.connect.connect.$anonfun;$anon.failed.rsn" title="Throwable">rsn</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <a href="Process.scala.html#scalaz.stream.Process" title="scalaz.stream.Process.type">Process</a>.<a href="Process.scala.html#scalaz.stream.Process.await" title="(req: scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel])(rcv: java.nio.channels.AsynchronousSocketChannel =&gt; scalaz.stream.Process[scalaz.concurrent.Task,A])scalaz.stream.Process[scalaz.concurrent.Task,A]">await</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.connect.setup" title="=&gt; scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel]">setup</a> <span title="(f: java.nio.channels.AsynchronousSocketChannel =&gt; scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel])scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel]">flatMap</span> <a href="#scalaz.stream.tcp.connect.connect" title="(ch: java.nio.channels.AsynchronousSocketChannel)scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel]">connect</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.nio.channels.AsynchronousSocketChannel" id="scalaz.stream.tcp.connect.$anonfun.ch">ch</a> =&gt;
      val <a title="scalaz.stream.tcp.Socket" id="scalaz.stream.tcp.connect.$anonfun.chan">chan</a> = <a href="#scalaz.stream.tcp.asynchronous" title="(channel: java.nio.channels.AsynchronousSocketChannel)(implicit S: scalaz.concurrent.Strategy)scalaz.stream.tcp.Socket">asynchronous</a><a href="#scalaz.stream.tcp.connect.S" title="scalaz.concurrent.Strategy" class="delimiter">(</a><a href="#scalaz.stream.tcp.connect.$anonfun.ch" title="java.nio.channels.AsynchronousSocketChannel">ch</a><span class="delimiter">)</span>
      <a href="#scalaz.stream.tcp.bindTo" title="(c: scalaz.stream.tcp.Socket, S: scalaz.concurrent.Strategy)(p: scalaz.stream.Process[scalaz.stream.tcp.Connection,A])scalaz.stream.Process[scalaz.concurrent.Task,A]">bindTo</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.connect.$anonfun.chan" title="scalaz.stream.tcp.Socket">chan</a>, <a href="#scalaz.stream.tcp.connect.S" title="scalaz.concurrent.Strategy">S</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.connect.output" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]">output</a><span class="delimiter">)</span>.<a href="Process.scala.html#scalaz.stream;Process.onComplete" title="(p2: =&gt; scalaz.stream.Process[[x]scalaz.concurrent.Task[x],A])scalaz.stream.Process[[x]scalaz.concurrent.Task[x],A]">onComplete</a><span class="delimiter">(</span><a href="Process.scala.html#scalaz.stream.Process" title="scalaz.stream.Process.type">Process</a>.<a href="Process.scala.html#scalaz.stream.Process.eval_" title="(f: scalaz.concurrent.Task[Unit])scalaz.stream.Process[scalaz.concurrent.Task,Nothing]">eval_</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.connect.$anonfun.chan" title="scalaz.stream.tcp.Socket">chan</a>.<a href="#scalaz.stream.tcp;Socket.close" title="=&gt; scalaz.concurrent.Task[Unit]">close</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Process that binds to supplied address and handles incoming TCP connections
   * using the specified handler. The stream of handler results is returned,
   * along with any errors. The outer stream scopes the lifetime of the server socket.
   * When the returned process terminates, all open connections will terminate as well.
   *
   * @param bind               address to which this process has to be bound
   * @param concurrentRequests the number of requests that may be processed simultaneously, must be positive
   * @param reuseAddress       whether address has to be reused (@see [[java.net.StandardSocketOptions.SO_REUSEADDR]])
   * @param receiveBufferSize  size of receive buffer (@see [[java.net.StandardSocketOptions.SO_RCVBUF]])
   */</span>
  def <a title="[A](bind: java.net.InetSocketAddress, concurrentRequests: Int, maxQueued: Int, reuseAddress: Boolean, receiveBufferSize: Int)(handler: scalaz.stream.Process[scalaz.stream.tcp.Connection,A])(implicit AG: java.nio.channels.AsynchronousChannelGroup, implicit S: scalaz.concurrent.Strategy)scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,scalaz.\/[Throwable,A]]]" id="scalaz.stream.tcp.server">server</a><span class="delimiter">[</span><a title="" id="scalaz.stream.tcp.server$default$5;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.net.InetSocketAddress" id="scalaz.stream.tcp.server.bind">bind</a>: <span title="java.net.InetSocketAddress">InetSocketAddress</span>,
                <a title="Int" id="scalaz.stream.tcp.server.concurrentRequests">concurrentRequests</a>: <span title="Int">Int</span>,
                <a title="Int" id="scalaz.stream.tcp.server$default$3">maxQueued</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span>,
                <a title="Boolean" id="scalaz.stream.tcp.server$default$4">reuseAddress</a>: <span title="Boolean">Boolean</span> = true,
                <a title="Int" id="scalaz.stream.tcp.server$default$5">receiveBufferSize</a>: <span title="Int">Int</span> = <span class="int">256</span> <span title="Int(262144)">*</span> <span class="int">1024</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]" id="scalaz.stream.tcp.server.handler">handler</a>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]">Process</a><span class="delimiter">[</span>Connection,A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span>
                implicit <a title="java.nio.channels.AsynchronousChannelGroup" id="scalaz.stream.tcp.server.AG">AG</a>: <span title="java.nio.channels.AsynchronousChannelGroup">AsynchronousChannelGroup</span>,
                         <a title="scalaz.concurrent.Strategy" id="scalaz.stream.tcp.server.S">S</a>: <span title="scalaz.concurrent.Strategy">Strategy</span><span class="delimiter">)</span>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,scalaz.\/[Throwable,A]]]">Process</a><span class="delimiter">[</span>Task, Process<span class="delimiter">[</span>Task, Throwable \/ A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>

    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.server.concurrentRequests" title="Int">concurrentRequests</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span>, <span title="String(&quot;concurrent requests must be positive&quot;)" class="string">&quot;concurrent requests must be positive&quot;</span><span class="delimiter">)</span>

    def <a title="=&gt; scalaz.stream.Process[scalaz.concurrent.Task,java.nio.channels.AsynchronousServerSocketChannel]" id="scalaz.stream.tcp.server.setup">setup</a>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.concurrent.Task,java.nio.channels.AsynchronousServerSocketChannel]">Process</a><span class="delimiter">[</span>Task, AsynchronousServerSocketChannel<span class="delimiter">]</span> = <a href="Process.scala.html#scalaz.stream.Process" title="scalaz.stream.Process.type">Process</a>.<a href="Process.scala.html#scalaz.stream.Process.eval" title="(f: scalaz.concurrent.Task[java.nio.channels.AsynchronousServerSocketChannel])scalaz.stream.Process[scalaz.concurrent.Task,java.nio.channels.AsynchronousServerSocketChannel]">eval</a> <span class="delimiter">{</span>
      <span title="scalaz.concurrent.Task.type">Task</span>.<span title="(a: =&gt; java.nio.channels.AsynchronousServerSocketChannel)scalaz.concurrent.Task[java.nio.channels.AsynchronousServerSocketChannel]">delay</span> <span class="delimiter">{</span>
        val <a title="java.nio.channels.AsynchronousServerSocketChannel" id="scalaz.stream.tcp.server.setup.ch">ch</a> = <span title="java.nio.channels.spi.AsynchronousChannelProvider.type">AsynchronousChannelProvider</span>.<span title="()java.nio.channels.spi.AsynchronousChannelProvider">provider</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: java.nio.channels.AsynchronousChannelGroup)java.nio.channels.AsynchronousServerSocketChannel">openAsynchronousServerSocketChannel</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.server.AG" title="java.nio.channels.AsynchronousChannelGroup">AG</a><span class="delimiter">)</span>
        <a href="#scalaz.stream.tcp.server.setup.ch" title="java.nio.channels.AsynchronousServerSocketChannel">ch</a>.<span title="[T](x$1: java.net.SocketOption[T], x$2: T)java.nio.channels.AsynchronousServerSocketChannel">setOption</span><span title="(x$1: java.net.SocketOption[Boolean], x$2: Boolean)java.nio.channels.AsynchronousServerSocketChannel" class="delimiter">[</span>java.lang.<span title="Boolean">Boolean</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="java.net.StandardSocketOptions.type">StandardSocketOptions</span>.<span title="java.net.SocketOption[Boolean]">SO_REUSEADDR</span>, <a href="#scalaz.stream.tcp.server$default$4" title="implicit scala.Predef.boolean2Boolean : (x: Boolean)Boolean">reuseAddress</a><span class="delimiter">)</span>
        <a href="#scalaz.stream.tcp.server.setup.ch" title="java.nio.channels.AsynchronousServerSocketChannel">ch</a>.<span title="[T](x$1: java.net.SocketOption[T], x$2: T)java.nio.channels.AsynchronousServerSocketChannel">setOption</span><span title="(x$1: java.net.SocketOption[Integer], x$2: Integer)java.nio.channels.AsynchronousServerSocketChannel" class="delimiter">[</span><span title="Integer">Integer</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="java.net.StandardSocketOptions.type">StandardSocketOptions</span>.<span title="java.net.SocketOption[Integer]">SO_RCVBUF</span>, <a href="#scalaz.stream.tcp.server$default$5" title="implicit scala.Predef.int2Integer : (x: Int)Integer">receiveBufferSize</a><span class="delimiter">)</span>
        <a href="#scalaz.stream.tcp.server.setup.ch" title="java.nio.channels.AsynchronousServerSocketChannel">ch</a>.<span title="(x$1: java.net.SocketAddress)java.nio.channels.AsynchronousServerSocketChannel">bind</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.server.bind" title="java.net.InetSocketAddress">bind</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    def <a title="(sch: java.nio.channels.AsynchronousServerSocketChannel)scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel]" id="scalaz.stream.tcp.server.accept">accept</a><span class="delimiter">(</span><a title="java.nio.channels.AsynchronousServerSocketChannel" id="scalaz.stream.tcp.server.accept.sch">sch</a>: <span title="java.nio.channels.AsynchronousServerSocketChannel">AsynchronousServerSocketChannel</span><span class="delimiter">)</span>: <span title="scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel]">Task</span><span class="delimiter">[</span>AsynchronousSocketChannel<span class="delimiter">]</span> =
      <span title="scalaz.concurrent.Task.type">Task</span>.<span title="[A](register: (scalaz.\/[Throwable,A] =&gt; Unit) =&gt; Unit)scalaz.concurrent.Task[A]">async</span><span title="(register: (scalaz.\/[Throwable,java.nio.channels.AsynchronousSocketChannel] =&gt; Unit) =&gt; Unit)scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel]" class="delimiter">[</span><span title="java.nio.channels.AsynchronousSocketChannel">AsynchronousSocketChannel</span><span class="delimiter">]</span> <span class="delimiter">{</span> <a title="scalaz.\/[Throwable,java.nio.channels.AsynchronousSocketChannel] =&gt; Unit" id="scalaz.stream.tcp.server.accept.$anonfun.cb">cb</a> =&gt;
        <a href="#scalaz.stream.tcp.server.accept.sch" title="java.nio.channels.AsynchronousServerSocketChannel">sch</a>.<span title="(x$1: Void, x$2: java.nio.channels.CompletionHandler[java.nio.channels.AsynchronousSocketChannel, _ &gt;: Void])Unit">accept</span><span class="delimiter">(</span>null, new <a title="&lt;$anon: java.nio.channels.CompletionHandler[java.nio.channels.AsynchronousSocketChannel,Void]&gt; extends Object with java.nio.channels.CompletionHandler[java.nio.channels.AsynchronousSocketChannel,Void]" id="scalaz.stream.tcp.server.accept.$anonfun;$anon">CompletionHandler</a><span class="delimiter">[</span>AsynchronousSocketChannel, Void<span class="delimiter">]</span> <span class="delimiter">{</span>
          def <a title="(result: java.nio.channels.AsynchronousSocketChannel, attachment: Void)Unit" id="scalaz.stream.tcp.server.accept.$anonfun;$anon.completed">completed</a><span class="delimiter">(</span><a title="java.nio.channels.AsynchronousSocketChannel" id="scalaz.stream.tcp.server.accept.$anonfun;$anon.completed.result">result</a>: <span title="java.nio.channels.AsynchronousSocketChannel">AsynchronousSocketChannel</span>, <a title="Void" id="scalaz.stream.tcp.server.accept.$anonfun;$anon.completed.attachment">attachment</a>: <span title="Void">Void</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
            <a href="#scalaz.stream.tcp.server.S" title="(a: =&gt; Unit)() =&gt; Unit">S</a> <span title="Unit" class="delimiter">{</span> <a href="#scalaz.stream.tcp.server.accept.$anonfun.cb" title="(v1: scalaz.\/[Throwable,java.nio.channels.AsynchronousSocketChannel])Unit">cb</a><span class="delimiter">(</span><span title="(v1: java.nio.channels.AsynchronousSocketChannel)scalaz.\/[Nothing,java.nio.channels.AsynchronousSocketChannel]">right</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.server.accept.$anonfun;$anon.completed.result" title="java.nio.channels.AsynchronousSocketChannel">result</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>

          def <a title="(rsn: Throwable, attachment: Void)Unit" id="scalaz.stream.tcp.server.accept.$anonfun;$anon.failed">failed</a><span class="delimiter">(</span><a title="Throwable" id="scalaz.stream.tcp.server.accept.$anonfun;$anon.failed.rsn">rsn</a>: <span title="Throwable">Throwable</span>, <a title="Void" id="scalaz.stream.tcp.server.accept.$anonfun;$anon.failed.attachment">attachment</a>: <span title="Void">Void</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
            <a href="#scalaz.stream.tcp.server.S" title="(a: =&gt; Unit)() =&gt; Unit">S</a> <span title="Unit" class="delimiter">{</span> <a href="#scalaz.stream.tcp.server.accept.$anonfun.cb" title="(v1: scalaz.\/[Throwable,java.nio.channels.AsynchronousSocketChannel])Unit">cb</a><span class="delimiter">(</span><span title="(v1: Throwable)scalaz.\/[Throwable,Nothing]">left</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.server.accept.$anonfun;$anon.failed.rsn" title="Throwable">rsn</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    def <a title="(c: java.nio.channels.AsynchronousSocketChannel)scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.\/[Throwable,A]]" id="scalaz.stream.tcp.server.processRequest">processRequest</a><span class="delimiter">(</span><a title="java.nio.channels.AsynchronousSocketChannel" id="scalaz.stream.tcp.server.processRequest.c">c</a>: <span title="java.nio.channels.AsynchronousSocketChannel">AsynchronousSocketChannel</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      val <a title="scalaz.stream.tcp.Socket" id="scalaz.stream.tcp.server.processRequest.chan">chan</a> = <a href="#scalaz.stream.tcp.asynchronous" title="(channel: java.nio.channels.AsynchronousSocketChannel)(implicit S: scalaz.concurrent.Strategy)scalaz.stream.tcp.Socket">asynchronous</a><a href="#scalaz.stream.tcp.server.S" title="scalaz.concurrent.Strategy" class="delimiter">(</a><a href="#scalaz.stream.tcp.server.processRequest.c" title="java.nio.channels.AsynchronousSocketChannel">c</a><span class="delimiter">)</span>
      <a href="#scalaz.stream.tcp.bindTo" title="(c: scalaz.stream.tcp.Socket, S: scalaz.concurrent.Strategy)(p: scalaz.stream.Process[scalaz.stream.tcp.Connection,A])scalaz.stream.Process[scalaz.concurrent.Task,A]">bindTo</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.server.processRequest.chan" title="scalaz.stream.tcp.Socket">chan</a>, <a href="#scalaz.stream.tcp.server.S" title="scalaz.concurrent.Strategy">S</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.server.handler" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]">handler</a><span class="delimiter">)</span>.<a href="Process.scala.html#scalaz.stream;Process.map" title="(f: A =&gt; scalaz.\/[Nothing,A])scalaz.stream.Process[scalaz.concurrent.Task,scalaz.\/[Nothing,A]]">map</a><span class="delimiter">(</span><span title="A =&gt; scalaz.\/[Nothing,A]">right</span><span class="delimiter">)</span>.<a href="Process.scala.html#scalaz.stream;Process.onHalt" title="(f: scalaz.stream.Cause =&gt; scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.\/[Throwable,A]])scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.\/[Throwable,A]]">onHalt</a> <a href="#scalaz.stream.tcp.server.processRequest.$anonfun.x0$3" title="scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.\/[Throwable,Nothing]]" class="delimiter">{</a>
        case Cause.Error<span class="delimiter">(</span><a title="Throwable" id="scalaz.stream.tcp.server.processRequest.$anonfun.err">err</a><span class="delimiter">)</span> =&gt; <a href="Process.scala.html#scalaz.stream.Process" title="scalaz.stream.Process.type">Process</a>.<a href="Process.scala.html#scalaz.stream.Process.eval_" title="(f: scalaz.concurrent.Task[Unit])scalaz.stream.Process[scalaz.concurrent.Task,Nothing]">eval_</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.server.processRequest.chan" title="scalaz.stream.tcp.Socket">chan</a>.<a href="#scalaz.stream.tcp;Socket.close" title="=&gt; scalaz.concurrent.Task[Unit]">close</a><span class="delimiter">)</span> <a href="Process.scala.html#scalaz.stream;Process.onComplete" title="(p2: =&gt; scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.\/[Throwable,Nothing]])scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.\/[Throwable,Nothing]]">onComplete</a> <a href="Process.scala.html#scalaz.stream.Process" title="scalaz.stream.Process.type">Process</a>.<a href="Process.scala.html#scalaz.stream.Process.emit" title="(o: scalaz.\/[Throwable,Nothing])scalaz.stream.Process0[scalaz.\/[Throwable,Nothing]]">emit</a><span class="delimiter">(</span><span title="(v1: Throwable)scalaz.\/[Throwable,Nothing]">left</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.server.processRequest.$anonfun.err" title="Throwable">err</a><span class="delimiter">)</span><span class="delimiter">)</span>
        case <a title="scalaz.stream.Cause" id="scalaz.stream.tcp.server.processRequest.$anonfun.cause">cause</a> =&gt; <a href="Process.scala.html#scalaz.stream.Process" title="scalaz.stream.Process.type">Process</a>.<a href="Process.scala.html#scalaz.stream.Process.eval_" title="(f: scalaz.concurrent.Task[Unit])scalaz.stream.Process[scalaz.concurrent.Task,Nothing]">eval_</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.server.processRequest.chan" title="scalaz.stream.tcp.Socket">chan</a>.<a href="#scalaz.stream.tcp;Socket.close" title="=&gt; scalaz.concurrent.Task[Unit]">close</a><span class="delimiter">)</span>.<a href="Process.scala.html#scalaz.stream;Process.causedBy" title="(cause: scalaz.stream.Cause)scalaz.stream.Process[scalaz.concurrent.Task,Nothing]">causedBy</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.server.processRequest.$anonfun.cause" title="scalaz.stream.Cause">cause</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    if <span class="delimiter">(</span><a href="#scalaz.stream.tcp.server.concurrentRequests" title="Int">concurrentRequests</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#scalaz.stream.tcp.server.setup" title="=&gt; scalaz.stream.Process[scalaz.concurrent.Task,java.nio.channels.AsynchronousServerSocketChannel]">setup</a> <a href="Process.scala.html#scalaz.stream;Process.map" title="(f: java.nio.channels.AsynchronousServerSocketChannel =&gt; scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.\/[Throwable,A]])scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.\/[Throwable,A]]]">map</a> <span class="delimiter">{</span> <span title="java.nio.channels.AsynchronousServerSocketChannel">sch</span> =&gt;
      nondeterminism.<a href="nondeterminism/nondeterminism.scala.html#scalaz.stream.nondeterminism.package.njoin" title="(maxOpen: Int, maxQueued: Int)(source: scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[scalaz.concurrent.Task,scalaz.\/[Throwable,A]]])(implicit S: scalaz.concurrent.Strategy)scalaz.stream.Process[scalaz.concurrent.Task,scalaz.\/[Throwable,A]]">njoin</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.server.concurrentRequests" title="Int">concurrentRequests</a>, <a href="#scalaz.stream.tcp.server$default$3" title="Int">maxQueued</a><span class="delimiter">)</span> <a href="#scalaz.stream.tcp.server.S" title="scalaz.concurrent.Strategy" class="delimiter">{</a>
        <a href="Process.scala.html#scalaz.stream.Process" title="scalaz.stream.Process.type">Process</a>.<a href="Process.scala.html#scalaz.stream.Process.repeatEval" title="(f: scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel])scalaz.stream.Process[scalaz.concurrent.Task,java.nio.channels.AsynchronousSocketChannel]">repeatEval</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.server.accept" title="(sch: java.nio.channels.AsynchronousServerSocketChannel)scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel]">accept</a><span class="delimiter">(</span><span title="java.nio.channels.AsynchronousServerSocketChannel">sch</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="Process.scala.html#scalaz.stream;Process.map" title="(f: java.nio.channels.AsynchronousSocketChannel =&gt; scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.\/[Throwable,A]])scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.\/[Throwable,A]]]">map</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.server.processRequest" title="(c: java.nio.channels.AsynchronousSocketChannel)scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.\/[Throwable,A]]">processRequest</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<a href="Process.scala.html#scalaz.stream;Process.onComplete" title="(p2: =&gt; scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.\/[Throwable,A]])scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.\/[Throwable,A]]">onComplete</a><span class="delimiter">(</span><a href="Process.scala.html#scalaz.stream.Process" title="scalaz.stream.Process.type">Process</a>.<a href="Process.scala.html#scalaz.stream.Process.eval_" title="(f: scalaz.concurrent.Task[Unit])scalaz.stream.Process[scalaz.concurrent.Task,Nothing]">eval_</a><span class="delimiter">(</span><span title="scalaz.concurrent.Task.type">Task</span>.<span title="(a: =&gt; Unit)scalaz.concurrent.Task[Unit]">delay</span> <span class="delimiter">{</span> <span title="java.nio.channels.AsynchronousServerSocketChannel">sch</span>.<span title="()Unit">close</span> <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    else
      <a href="#scalaz.stream.tcp.server.setup" title="=&gt; scalaz.stream.Process[scalaz.concurrent.Task,java.nio.channels.AsynchronousServerSocketChannel]">setup</a> <a href="Process.scala.html#scalaz.stream;Process.map" title="(f: java.nio.channels.AsynchronousServerSocketChannel =&gt; scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.\/[Throwable,A]])scalaz.stream.Process[scalaz.concurrent.Task,scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.\/[Throwable,A]]]">map</a> <span class="delimiter">{</span> <span title="java.nio.channels.AsynchronousServerSocketChannel">sch</span> =&gt;
        <a href="Process.scala.html#scalaz.stream.Process" title="scalaz.stream.Process.type">Process</a>.<a href="Process.scala.html#scalaz.stream.Process.repeatEval" title="(f: scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel])scalaz.stream.Process[scalaz.concurrent.Task,java.nio.channels.AsynchronousSocketChannel]">repeatEval</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.server.accept" title="(sch: java.nio.channels.AsynchronousServerSocketChannel)scalaz.concurrent.Task[java.nio.channels.AsynchronousSocketChannel]">accept</a><span class="delimiter">(</span><span title="java.nio.channels.AsynchronousServerSocketChannel">sch</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="Process.scala.html#scalaz.stream;Process.flatMap" title="(f: java.nio.channels.AsynchronousSocketChannel =&gt; scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.\/[Throwable,A]])scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.\/[Throwable,A]]">flatMap</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.server.processRequest" title="(c: java.nio.channels.AsynchronousSocketChannel)scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.\/[Throwable,A]]">processRequest</a><span class="delimiter">)</span>
               .<a href="Process.scala.html#scalaz.stream;Process.onComplete" title="(p2: =&gt; scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.\/[Throwable,A]])scalaz.stream.Process[[x]scalaz.concurrent.Task[x],scalaz.\/[Throwable,A]]">onComplete</a> <span class="delimiter">(</span><a href="Process.scala.html#scalaz.stream.Process" title="scalaz.stream.Process.type">Process</a>.<a href="Process.scala.html#scalaz.stream.Process.eval_" title="(f: scalaz.concurrent.Task[Unit])scalaz.stream.Process[scalaz.concurrent.Task,Nothing]">eval_</a><span class="delimiter">(</span><span title="scalaz.concurrent.Task.type">Task</span>.<span title="(a: =&gt; Unit)scalaz.concurrent.Task[Unit]">delay</span> <span class="delimiter">{</span> <span title="java.nio.channels.AsynchronousServerSocketChannel">sch</span>.<span title="()Unit">close</span> <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  private def <a title="[A](c: scalaz.stream.tcp.Socket, S: scalaz.concurrent.Strategy)(p: scalaz.stream.Process[scalaz.stream.tcp.Connection,A])scalaz.stream.Process[scalaz.concurrent.Task,A]" id="scalaz.stream.tcp.bindTo">bindTo</a><span class="delimiter">[</span><a title="" id="scalaz.stream.tcp.bindTo;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.stream.tcp.Socket" id="scalaz.stream.tcp.bindTo.c">c</a>: <a href="#scalaz.stream.tcp;Socket" title="scalaz.stream.tcp.Socket">Socket</a>, <a title="scalaz.concurrent.Strategy" id="scalaz.stream.tcp.bindTo.S">S</a>: <span title="scalaz.concurrent.Strategy">Strategy</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]" id="scalaz.stream.tcp.bindTo.p">p</a>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]">Process</a><span class="delimiter">[</span>Connection,A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.concurrent.Task,A]">Process</a><span class="delimiter">[</span>Task,A<span class="delimiter">]</span> =
    <a href="#scalaz.stream.tcp.bindTo.p" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]">p</a>.<a href="Process.scala.html#scalaz.stream;Process.translate" title="(f: scalaz.~&gt;[scalaz.stream.tcp.Connection,scalaz.concurrent.Task])scalaz.stream.Process[scalaz.concurrent.Task,A]">translate</a><span class="delimiter">(</span>new <a title="&lt;$anon: scalaz.~&gt;[scalaz.stream.tcp.Connection,scalaz.concurrent.Task]&gt; extends AnyRef with scalaz.~&gt;[scalaz.stream.tcp.Connection,scalaz.concurrent.Task]" id="scalaz.stream.tcp.bindTo;$anon" class="delimiter">(</a>Connection <a href="#scalaz.stream.tcp.bindTo;$anon" title="scalaz.~&gt;[scalaz.stream.tcp.Connection,scalaz.concurrent.Task]">~&gt;</a> Task<span class="delimiter">)</span> <span class="delimiter">{</span> def <a title="[A](s: scalaz.stream.tcp.Connection[A])scalaz.concurrent.Task[A]" id="scalaz.stream.tcp.bindTo;$anon.apply">apply</a><span class="delimiter">[</span><a title="" id="scalaz.stream.tcp.bindTo;$anon.apply;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.stream.tcp.Connection[A]" id="scalaz.stream.tcp.bindTo;$anon.apply.s">s</a>: <a href="#scalaz.stream.tcp;Connection" title="scalaz.stream.tcp.Connection[A]">Connection</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#scalaz.stream.tcp.bindTo;$anon.apply.s" title="scalaz.stream.tcp.Connection[A]">s</a>.<a href="#scalaz.stream.tcp;Connection.run" title="(channel: scalaz.stream.tcp.Socket, S: scalaz.concurrent.Strategy)scalaz.concurrent.Task[A]">run</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.bindTo.c" title="scalaz.stream.tcp.Socket">c</a>, <a href="#scalaz.stream.tcp.bindTo.S" title="scalaz.concurrent.Strategy">S</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span>

  lazy val <a title="java.nio.channels.AsynchronousChannelGroup" id="scalaz.stream.tcp.DefaultAsynchronousChannelGroup">DefaultAsynchronousChannelGroup</a> = <span class="delimiter">{</span>
    val <a title="java.util.concurrent.atomic.AtomicInteger" id="scalaz.stream.tcp.DefaultAsynchronousChannelGroup.idx">idx</a> = new <span title="java.util.concurrent.atomic.AtomicInteger">AtomicInteger</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
    <span title="java.nio.channels.spi.AsynchronousChannelProvider.type">AsynchronousChannelProvider</span>.<span title="()java.nio.channels.spi.AsynchronousChannelProvider">provider</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: Int, x$2: java.util.concurrent.ThreadFactory)java.nio.channels.AsynchronousChannelGroup">openAsynchronousChannelGroup</span><span class="delimiter">(</span>
      <span title="Runtime.type">Runtime</span>.<span title="()Runtime">getRuntime</span>.<span title="()Int">availableProcessors</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt">*</span> <span title="Int(2)" class="int">2</span> <span title="(that: Int)Int">max</span> <span title="Int(2)" class="int">2</span>
      , new <a title="&lt;$anon: java.util.concurrent.ThreadFactory&gt; extends Object with java.util.concurrent.ThreadFactory" id="scalaz.stream.tcp.DefaultAsynchronousChannelGroup;$anon">ThreadFactory</a> <span class="delimiter">{</span>
        def <a title="(r: Runnable)Thread" id="scalaz.stream.tcp.DefaultAsynchronousChannelGroup;$anon.newThread">newThread</a><span class="delimiter">(</span><a title="Runnable" id="scalaz.stream.tcp.DefaultAsynchronousChannelGroup;$anon.newThread.r">r</a>: <span title="Runnable">Runnable</span><span class="delimiter">)</span>: <span title="Thread">Thread</span> = <span class="delimiter">{</span>
          val <a title="Thread" id="scalaz.stream.tcp.DefaultAsynchronousChannelGroup;$anon.newThread.t">t</a> = new <span title="Thread">Thread</span><span class="delimiter">(</span><a href="#scalaz.stream.tcp.DefaultAsynchronousChannelGroup;$anon.newThread.r" title="Runnable">r</a>, <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;scalaz-stream-tcp-&quot;)">scalaz-stream-tcp-$</span><span class="delimiter">{</span><a href="#scalaz.stream.tcp.DefaultAsynchronousChannelGroup.idx" title="java.util.concurrent.atomic.AtomicInteger">idx</a>.<span title="()Int">incrementAndGet</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
          <a href="#scalaz.stream.tcp.DefaultAsynchronousChannelGroup;$anon.newThread.t" title="Thread">t</a>.<span title="(x$1: Boolean)Unit">setDaemon</span><span class="delimiter">(</span>true<span class="delimiter">)</span>
          <a href="#scalaz.stream.tcp.DefaultAsynchronousChannelGroup;$anon.newThread.t" title="Thread">t</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  object <a title="scalaz.stream.tcp.syntax.type" id="scalaz.stream.tcp.syntax">syntax</a> <a href="#scalaz.stream.tcp.syntax" title="scalaz.stream.tcp.syntax.type" class="delimiter">{</a>
    implicit class <a href="#scalaz.stream.tcp.syntax.Syntax.self" title="class Syntax[+A] extends AnyRef" id="scalaz.stream.tcp.syntax.Syntax">Syntax</a><span class="delimiter">[</span>+<a title="" id="scalaz.stream.tcp.syntax.Syntax;A">A</a><span class="delimiter">]</span><a href="#scalaz.stream.tcp.syntax.Syntax" title="scalaz.stream.tcp.syntax.Syntax[A]" class="delimiter">(</a><a title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]" id="scalaz.stream.tcp.syntax.Syntax.self">self</a>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]">Process</a><span class="delimiter">[</span>Connection,A<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      def <a title="[B, C](p2: scalaz.stream.Process[scalaz.stream.tcp.Connection,B])(y: scalaz.stream.Wye[A,B,C])(implicit S: scalaz.concurrent.Strategy)scalaz.stream.Process[scalaz.stream.tcp.Connection,C]" id="scalaz.stream.tcp.syntax;Syntax.wye">wye</a><span class="delimiter">[</span><a title="" id="scalaz.stream.tcp.syntax;Syntax.wye;B">B</a>,<a title="" id="scalaz.stream.tcp.syntax;Syntax.wye;C">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.stream.Process[scalaz.stream.tcp.Connection,B]" id="scalaz.stream.tcp.syntax;Syntax.wye.p2">p2</a>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,B]">Process</a><span class="delimiter">[</span>Connection,B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="scalaz.stream.Wye[A,B,C]" id="scalaz.stream.tcp.syntax;Syntax.wye.y">y</a>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Wye[A,B,C]">Wye</a><span class="delimiter">[</span>A,B,C<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="scalaz.concurrent.Strategy" id="scalaz.stream.tcp.syntax;Syntax.wye.S">S</a>:<span title="scalaz.concurrent.Strategy">Strategy</span><span class="delimiter">)</span>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,C]">Process</a><span class="delimiter">[</span>Connection,C<span class="delimiter">]</span> =
        <a href="#scalaz.stream.tcp" title="scalaz.stream.tcp.type">tcp</a>.<a href="#scalaz.stream.tcp.wye" title="(a: scalaz.stream.Process[scalaz.stream.tcp.Connection,A], b: scalaz.stream.Process[scalaz.stream.tcp.Connection,B])(y: scalaz.stream.Wye[A,B,C])(implicit S: scalaz.concurrent.Strategy)scalaz.stream.Process[scalaz.stream.tcp.Connection,C]">wye</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.syntax.Syntax.self" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]">self</a>, <a href="#scalaz.stream.tcp.syntax;Syntax.wye.p2" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,B]">p2</a><span class="delimiter">)</span><a href="#scalaz.stream.tcp.syntax;Syntax.wye.S" title="scalaz.concurrent.Strategy" class="delimiter">(</a><a href="#scalaz.stream.tcp.syntax;Syntax.wye.y" title="scalaz.stream.Wye[A,B,C]">y</a><span class="delimiter">)</span>
      def <a title="[A2 &gt;: A](p2: scalaz.stream.Process[scalaz.stream.tcp.Connection,A2])(implicit S: scalaz.concurrent.Strategy)scalaz.stream.Process[scalaz.stream.tcp.Connection,A2]" id="scalaz.stream.tcp.syntax;Syntax.merge">merge</a><span class="delimiter">[</span><a title=" &gt;: A" id="scalaz.stream.tcp.syntax;Syntax.merge;A2">A2</a>&gt;:A<span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A2]" id="scalaz.stream.tcp.syntax;Syntax.merge.p2">p2</a>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A2]">Process</a><span class="delimiter">[</span>Connection,A2<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="scalaz.concurrent.Strategy" id="scalaz.stream.tcp.syntax;Syntax.merge.S">S</a>:<span title="scalaz.concurrent.Strategy">Strategy</span><span class="delimiter">)</span>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A2]">Process</a><span class="delimiter">[</span>Connection,A2<span class="delimiter">]</span> =
        <a href="#scalaz.stream.tcp" title="scalaz.stream.tcp.type">tcp</a>.<a href="#scalaz.stream.tcp.merge" title="(a: scalaz.stream.Process[scalaz.stream.tcp.Connection,A2], a2: scalaz.stream.Process[scalaz.stream.tcp.Connection,A2])(implicit S: scalaz.concurrent.Strategy)scalaz.stream.Process[scalaz.stream.tcp.Connection,A2]">merge</a><a href="#scalaz.stream.tcp.syntax;Syntax.merge.S" title="scalaz.concurrent.Strategy" class="delimiter">(</a><a href="#scalaz.stream.tcp.syntax.Syntax.self" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]">self</a>, <a href="#scalaz.stream.tcp.syntax;Syntax.merge.p2" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A2]">p2</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    implicit class <a href="#scalaz.stream.tcp.syntax.ChannelSyntax.self" title="class ChannelSyntax[A] extends AnyRef" id="scalaz.stream.tcp.syntax.ChannelSyntax">ChannelSyntax</a><span class="delimiter">[</span><a title="" id="scalaz.stream.tcp.syntax.ChannelSyntax;A">A</a><span class="delimiter">]</span><a href="#scalaz.stream.tcp.syntax.ChannelSyntax" title="scalaz.stream.tcp.syntax.ChannelSyntax[A]" class="delimiter">(</a><a title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]" id="scalaz.stream.tcp.syntax.ChannelSyntax.self">self</a>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]">Process</a><span class="delimiter">[</span>Connection,A<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      def <a title="[B](chan: scalaz.stream.Channel[scalaz.concurrent.Task,A,B])scalaz.stream.Process[scalaz.stream.tcp.Connection,B]" id="scalaz.stream.tcp.syntax;ChannelSyntax.through">through</a><span class="delimiter">[</span><a title="" id="scalaz.stream.tcp.syntax;ChannelSyntax.through;B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.stream.Channel[scalaz.concurrent.Task,A,B]" id="scalaz.stream.tcp.syntax;ChannelSyntax.through.chan">chan</a>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Channel[scalaz.concurrent.Task,A,B]">Channel</a><span class="delimiter">[</span>Task,A,B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,B]">Process</a><span class="delimiter">[</span>Connection,B<span class="delimiter">]</span> =
        <a href="#scalaz.stream.tcp.syntax.ChannelSyntax.self" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,A]">self</a> <a href="tee.scala.html#scalaz.stream;TeeOps.zip" title="(p2: scalaz.stream.Process[[x]scalaz.stream.tcp.Connection[x],A =&gt; scalaz.concurrent.Task[B]])scalaz.stream.Process[[x]scalaz.stream.tcp.Connection[x],(A, A =&gt; scalaz.concurrent.Task[B])]">zip</a> <span class="delimiter">(</span><a href="#scalaz.stream.tcp.lift(58e3ee5dc2)" title="(p: scalaz.stream.Process[scalaz.concurrent.Task,A =&gt; scalaz.concurrent.Task[B]])scalaz.stream.Process[scalaz.stream.tcp.Connection,A =&gt; scalaz.concurrent.Task[B]]">lift</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.syntax;ChannelSyntax.through.chan" title="scalaz.stream.Channel[scalaz.concurrent.Task,A,B]">chan</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="Process.scala.html#scalaz.stream;Process.evalMap" title="(f: ((A, A =&gt; scalaz.concurrent.Task[B])) =&gt; scalaz.stream.tcp.Connection[B])scalaz.stream.Process[[x]scalaz.stream.tcp.Connection[x],B]">evalMap</a> <a href="#scalaz.stream.tcp.syntax;ChannelSyntax.through.$anonfun.x0$4" title="scalaz.stream.tcp.Connection[B]" class="delimiter">{</a> case <span class="delimiter">(</span><a title="A" id="scalaz.stream.tcp.syntax;ChannelSyntax.through.$anonfun.a">a</a>,<a title="A =&gt; scalaz.concurrent.Task[B]" id="scalaz.stream.tcp.syntax;ChannelSyntax.through.$anonfun.f">f</a><span class="delimiter">)</span> =&gt; <a href="#scalaz.stream.tcp.lift(e1964819af)" title="(t: scalaz.concurrent.Task[B])scalaz.stream.tcp.Connection[B]">lift</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.syntax;ChannelSyntax.through.$anonfun.f" title="(v1: A)scalaz.concurrent.Task[B]">f</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.syntax;ChannelSyntax.through.$anonfun.a" title="A">a</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
      def <a title="(chan: scalaz.stream.Sink[scalaz.concurrent.Task,A])scalaz.stream.Process[scalaz.stream.tcp.Connection,Unit]" id="scalaz.stream.tcp.syntax;ChannelSyntax.to">to</a><span class="delimiter">(</span><a title="scalaz.stream.Sink[scalaz.concurrent.Task,A]" id="scalaz.stream.tcp.syntax;ChannelSyntax.to.chan">chan</a>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Sink[scalaz.concurrent.Task,A]">Sink</a><span class="delimiter">[</span>Task,A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Process.scala.html#scalaz.stream;Process" title="scalaz.stream.Process[scalaz.stream.tcp.Connection,Unit]">Process</a><span class="delimiter">[</span>Connection,Unit<span class="delimiter">]</span> = <a href="#scalaz.stream.tcp.syntax;ChannelSyntax.through" title="(chan: scalaz.stream.Channel[scalaz.concurrent.Task,A,Unit])scalaz.stream.Process[scalaz.stream.tcp.Connection,Unit]">through</a><span class="delimiter">(</span><a href="#scalaz.stream.tcp.syntax;ChannelSyntax.to.chan" title="scalaz.stream.Sink[scalaz.concurrent.Task,A]">chan</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <a href="#scalaz.stream.tcp.syntax.ChannelSyntax" title="AnyRef" class="delimiter">}</a>
<span title="AnyRef" class="delimiter">}</span>

        </pre>
    </body>
</html>
