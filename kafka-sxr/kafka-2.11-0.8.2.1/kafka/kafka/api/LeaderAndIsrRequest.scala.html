<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>kafka/kafka/api/LeaderAndIsrRequest.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements.  See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the &quot;License&quot;); you may not use this file except in compliance with
 * the License.  You may obtain a copy of the License at
 * 
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>


package kafka.api

import java.nio._
import kafka.utils._
import kafka.api.<a href="ApiUtils.scala.html#kafka.api.ApiUtils" title="kafka.api.ApiUtils.type">ApiUtils</a>._
import kafka.cluster.Broker
import kafka.controller.LeaderIsrAndControllerEpoch
import kafka.network.<span class="delimiter">{</span>BoundedByteBufferSend, RequestChannel<span class="delimiter">}</span>
import kafka.common.ErrorMapping
import kafka.network.<a href="../network/RequestChannel.scala.html#kafka.network.RequestChannel" title="kafka.network.RequestChannel.type">RequestChannel</a>.Response
import collection.Set


object <a title="kafka.api.LeaderAndIsr.type" id="kafka.api.LeaderAndIsr.readResolve">LeaderAndIsr</a> <a href="#kafka.api.LeaderAndIsr.readResolve" title="kafka.api.LeaderAndIsr.type" class="delimiter">{</a>
  val <a title="Int" id="kafka.api.LeaderAndIsr.initialLeaderEpoch">initialLeaderEpoch</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span>
  val <a title="Int" id="kafka.api.LeaderAndIsr.initialZKVersion">initialZKVersion</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span>
  val <a title="Int" id="kafka.api.LeaderAndIsr.NoLeader">NoLeader</a> = -<span title="Int(-1)" class="int">1</span>
  val <a title="Int" id="kafka.api.LeaderAndIsr.LeaderDuringDelete">LeaderDuringDelete</a> = -<span title="Int(-2)" class="int">2</span>
<span class="delimiter">}</span>

case class <a title="(leader: Int, leaderEpoch: Int, isr: List[Int], zkVersion: Int)kafka.api.LeaderAndIsr" id="kafka.api;LeaderAndIsr.equals">LeaderAndIsr</a><a href="#kafka.api;LeaderAndIsr.equals" title="Product" class="delimiter">(</a>var <a title="Int" id="kafka.api;LeaderAndIsr.copy$default$1">leader</a>: <span title="Int">Int</span>, var <a title="Int" id="kafka.api;LeaderAndIsr.copy$default$2">leaderEpoch</a>: <span title="Int">Int</span>, var <a title="List[Int]" id="kafka.api;LeaderAndIsr.copy$default$3">isr</a>: <span title="List[Int]">List</span><span class="delimiter">[</span>Int<span class="delimiter">]</span>, var <a title="Int" id="kafka.api;LeaderAndIsr.copy$default$4">zkVersion</a>: <span title="Int">Int</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  def this<span class="delimiter">(</span><a title="Int" id="kafka.api;LeaderAndIsr.<init>(c2357e5636).leader">leader</a>: <span title="Int">Int</span>, <a title="List[Int]" id="kafka.api;LeaderAndIsr.<init>(c2357e5636).isr">isr</a>: <span title="List[Int]">List</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">)</span> = this<span class="delimiter">(</span><a href="#kafka.api;LeaderAndIsr.<init>(c2357e5636).leader" title="Int">leader</a>, <a href="#kafka.api.LeaderAndIsr.readResolve" title="kafka.api.LeaderAndIsr.type">LeaderAndIsr</a>.<a href="#kafka.api.LeaderAndIsr.initialLeaderEpoch" title="=&gt; Int">initialLeaderEpoch</a>, <a href="#kafka.api;LeaderAndIsr.<init>(c2357e5636).isr" title="List[Int]">isr</a>, <a href="#kafka.api.LeaderAndIsr.readResolve" title="kafka.api.LeaderAndIsr.type">LeaderAndIsr</a>.<a href="#kafka.api.LeaderAndIsr.initialZKVersion" title="=&gt; Int">initialZKVersion</a><span class="delimiter">)</span>

  override def <a title="()String" id="kafka.api;LeaderAndIsr.toString">toString</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <a href="../utils/Json.scala.html#kafka.utils.Json" title="kafka.utils.Json.type">Json</a>.<a href="../utils/Json.scala.html#kafka.utils.Json.encode" title="(obj: Any)String">encode</a><span class="delimiter">(</span><span title="(elems: (String, Any)*)scala.collection.immutable.Map[String,Any]">Map</span><span class="delimiter">(</span><span title="(self: String)ArrowAssoc[String]" class="string">&quot;leader&quot;</span> <span title="(y: Int)(String, Int)">-&gt;</span> <a href="#kafka.api;LeaderAndIsr.copy$default$1" title="=&gt; Int">leader</a>, <span title="(self: String)ArrowAssoc[String]" class="string">&quot;leader_epoch&quot;</span> <span title="(y: Int)(String, Int)">-&gt;</span> <a href="#kafka.api;LeaderAndIsr.copy$default$2" title="=&gt; Int">leaderEpoch</a>, <span title="(self: String)ArrowAssoc[String]" class="string">&quot;isr&quot;</span> <span title="(y: List[Int])(String, List[Int])">-&gt;</span> <a href="#kafka.api;LeaderAndIsr.copy$default$3" title="=&gt; List[Int]">isr</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

object <a title="kafka.api.PartitionStateInfo.type" id="kafka.api.PartitionStateInfo.readResolve">PartitionStateInfo</a> <a href="#kafka.api.PartitionStateInfo.readResolve" title="kafka.api.PartitionStateInfo.type" class="delimiter">{</a>
  def <a title="(buffer: java.nio.ByteBuffer)kafka.api.PartitionStateInfo" id="kafka.api.PartitionStateInfo.readFrom">readFrom</a><span class="delimiter">(</span><a title="java.nio.ByteBuffer" id="kafka.api.PartitionStateInfo.readFrom.buffer">buffer</a>: <span title="java.nio.ByteBuffer">ByteBuffer</span><span class="delimiter">)</span>: <a href="#kafka.api;PartitionStateInfo.equals" title="kafka.api.PartitionStateInfo">PartitionStateInfo</a> = <span class="delimiter">{</span>
    val <a title="Int" id="kafka.api.PartitionStateInfo.readFrom.controllerEpoch">controllerEpoch</a> = <a href="#kafka.api.PartitionStateInfo.readFrom.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="()Int">getInt</span>
    val <a title="Int" id="kafka.api.PartitionStateInfo.readFrom.leader">leader</a> = <a href="#kafka.api.PartitionStateInfo.readFrom.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="()Int">getInt</span>
    val <a title="Int" id="kafka.api.PartitionStateInfo.readFrom.leaderEpoch">leaderEpoch</a> = <a href="#kafka.api.PartitionStateInfo.readFrom.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="()Int">getInt</span>
    val <a title="Int" id="kafka.api.PartitionStateInfo.readFrom.isrSize">isrSize</a> = <a href="#kafka.api.PartitionStateInfo.readFrom.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="()Int">getInt</span>
    val <a title="scala.collection.immutable.IndexedSeq[Int]" id="kafka.api.PartitionStateInfo.readFrom.isr">isr</a> = for<span class="delimiter">(</span><a title="Int" id="kafka.api.PartitionStateInfo.readFrom.isr.$anonfun.i">i</a> &lt;- <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(f: Int =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[Int],Int,scala.collection.immutable.IndexedSeq[Int]])scala.collection.immutable.IndexedSeq[Int]">until</span> <a href="#kafka.api.PartitionStateInfo.readFrom.isrSize" title="Int">isrSize</a><span class="delimiter">)</span> yield <a href="#kafka.api.PartitionStateInfo.readFrom.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="()Int">getInt</span>
    val <a title="Int" id="kafka.api.PartitionStateInfo.readFrom.zkVersion">zkVersion</a> = <a href="#kafka.api.PartitionStateInfo.readFrom.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="()Int">getInt</span>
    val <a title="Int" id="kafka.api.PartitionStateInfo.readFrom.replicationFactor">replicationFactor</a> = <a href="#kafka.api.PartitionStateInfo.readFrom.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="()Int">getInt</span>
    val <a title="scala.collection.immutable.IndexedSeq[Int]" id="kafka.api.PartitionStateInfo.readFrom.replicas">replicas</a> = for<span class="delimiter">(</span><a title="Int" id="kafka.api.PartitionStateInfo.readFrom.replicas.$anonfun.i">i</a> &lt;- <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(f: Int =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[Int],Int,scala.collection.immutable.IndexedSeq[Int]])scala.collection.immutable.IndexedSeq[Int]">until</span> <a href="#kafka.api.PartitionStateInfo.readFrom.replicationFactor" title="Int">replicationFactor</a><span class="delimiter">)</span> yield <a href="#kafka.api.PartitionStateInfo.readFrom.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="()Int">getInt</span>
    <a href="#kafka.api;PartitionStateInfo.equals" title="(leaderIsrAndControllerEpoch: kafka.controller.LeaderIsrAndControllerEpoch, allReplicas: scala.collection.Set[Int])kafka.api.PartitionStateInfo">PartitionStateInfo</a><span class="delimiter">(</span><a href="../controller/KafkaController.scala.html#kafka.controller;LeaderIsrAndControllerEpoch" title="(leaderAndIsr: kafka.api.LeaderAndIsr, controllerEpoch: Int)kafka.controller.LeaderIsrAndControllerEpoch">LeaderIsrAndControllerEpoch</a><span class="delimiter">(</span><a href="#kafka.api;LeaderAndIsr.equals" title="(leader: Int, leaderEpoch: Int, isr: List[Int], zkVersion: Int)kafka.api.LeaderAndIsr">LeaderAndIsr</a><span class="delimiter">(</span><a href="#kafka.api.PartitionStateInfo.readFrom.leader" title="Int">leader</a>, <a href="#kafka.api.PartitionStateInfo.readFrom.leaderEpoch" title="Int">leaderEpoch</a>, <a href="#kafka.api.PartitionStateInfo.readFrom.isr" title="scala.collection.immutable.IndexedSeq[Int]">isr</a>.<span title="=&gt; List[Int]">toList</span>, <a href="#kafka.api.PartitionStateInfo.readFrom.zkVersion" title="Int">zkVersion</a><span class="delimiter">)</span>, <a href="#kafka.api.PartitionStateInfo.readFrom.controllerEpoch" title="Int">controllerEpoch</a><span class="delimiter">)</span>,
                       <a href="#kafka.api.PartitionStateInfo.readFrom.replicas" title="scala.collection.immutable.IndexedSeq[Int]">replicas</a>.<span title="scala.collection.immutable.Set[Int]">toSet</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

case class <a title="(leaderIsrAndControllerEpoch: kafka.controller.LeaderIsrAndControllerEpoch, allReplicas: scala.collection.Set[Int])kafka.api.PartitionStateInfo" id="kafka.api;PartitionStateInfo.equals">PartitionStateInfo</a><a href="#kafka.api;PartitionStateInfo.equals" title="Product" class="delimiter">(</a>val <a title="kafka.controller.LeaderIsrAndControllerEpoch" id="kafka.api;PartitionStateInfo.copy$default$1">leaderIsrAndControllerEpoch</a>: <a href="../controller/KafkaController.scala.html#kafka.controller;LeaderIsrAndControllerEpoch" title="kafka.controller.LeaderIsrAndControllerEpoch">LeaderIsrAndControllerEpoch</a>,
                              val <a title="scala.collection.Set[Int]" id="kafka.api;PartitionStateInfo.copy$default$2">allReplicas</a>: <span title="scala.collection.Set[Int]">Set</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  def <a title="=&gt; Int" id="kafka.api;PartitionStateInfo.replicationFactor">replicationFactor</a> = <a href="#kafka.api;PartitionStateInfo.copy$default$2" title="=&gt; scala.collection.Set[Int]">allReplicas</a>.<span title="=&gt; Int">size</span>

  def <a title="(buffer: java.nio.ByteBuffer)Unit" id="kafka.api;PartitionStateInfo.writeTo">writeTo</a><span class="delimiter">(</span><a title="java.nio.ByteBuffer" id="kafka.api;PartitionStateInfo.writeTo.buffer">buffer</a>: <span title="java.nio.ByteBuffer">ByteBuffer</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#kafka.api;PartitionStateInfo.writeTo.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="(x$1: Int)java.nio.ByteBuffer">putInt</span><span class="delimiter">(</span><a href="#kafka.api;PartitionStateInfo.copy$default$1" title="=&gt; kafka.controller.LeaderIsrAndControllerEpoch">leaderIsrAndControllerEpoch</a>.<a href="../controller/KafkaController.scala.html#kafka.controller;LeaderIsrAndControllerEpoch.controllerEpoch" title="=&gt; Int">controllerEpoch</a><span class="delimiter">)</span>
    <a href="#kafka.api;PartitionStateInfo.writeTo.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="(x$1: Int)java.nio.ByteBuffer">putInt</span><span class="delimiter">(</span><a href="#kafka.api;PartitionStateInfo.copy$default$1" title="=&gt; kafka.controller.LeaderIsrAndControllerEpoch">leaderIsrAndControllerEpoch</a>.<a href="../controller/KafkaController.scala.html#kafka.controller;LeaderIsrAndControllerEpoch.leaderAndIsr" title="=&gt; kafka.api.LeaderAndIsr">leaderAndIsr</a>.<a href="#kafka.api;LeaderAndIsr.copy$default$1" title="=&gt; Int">leader</a><span class="delimiter">)</span>
    <a href="#kafka.api;PartitionStateInfo.writeTo.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="(x$1: Int)java.nio.ByteBuffer">putInt</span><span class="delimiter">(</span><a href="#kafka.api;PartitionStateInfo.copy$default$1" title="=&gt; kafka.controller.LeaderIsrAndControllerEpoch">leaderIsrAndControllerEpoch</a>.<a href="../controller/KafkaController.scala.html#kafka.controller;LeaderIsrAndControllerEpoch.leaderAndIsr" title="=&gt; kafka.api.LeaderAndIsr">leaderAndIsr</a>.<a href="#kafka.api;LeaderAndIsr.copy$default$2" title="=&gt; Int">leaderEpoch</a><span class="delimiter">)</span>
    <a href="#kafka.api;PartitionStateInfo.writeTo.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="(x$1: Int)java.nio.ByteBuffer">putInt</span><span class="delimiter">(</span><a href="#kafka.api;PartitionStateInfo.copy$default$1" title="=&gt; kafka.controller.LeaderIsrAndControllerEpoch">leaderIsrAndControllerEpoch</a>.<a href="../controller/KafkaController.scala.html#kafka.controller;LeaderIsrAndControllerEpoch.leaderAndIsr" title="=&gt; kafka.api.LeaderAndIsr">leaderAndIsr</a>.<a href="#kafka.api;LeaderAndIsr.copy$default$3" title="=&gt; List[Int]">isr</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>
    <a href="#kafka.api;PartitionStateInfo.copy$default$1" title="=&gt; kafka.controller.LeaderIsrAndControllerEpoch">leaderIsrAndControllerEpoch</a>.<a href="../controller/KafkaController.scala.html#kafka.controller;LeaderIsrAndControllerEpoch.leaderAndIsr" title="=&gt; kafka.api.LeaderAndIsr">leaderAndIsr</a>.<a href="#kafka.api;LeaderAndIsr.copy$default$3" title="=&gt; List[Int]">isr</a>.<span title="(f: Int =&gt; java.nio.ByteBuffer)Unit">foreach</span><span class="delimiter">(</span><a href="#kafka.api;PartitionStateInfo.writeTo.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="(x$1: Int)java.nio.ByteBuffer">putInt</span><span class="delimiter">(</span><a href="#kafka.api;PartitionStateInfo.writeTo.$anonfun.x$1" title="Int">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#kafka.api;PartitionStateInfo.writeTo.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="(x$1: Int)java.nio.ByteBuffer">putInt</span><span class="delimiter">(</span><a href="#kafka.api;PartitionStateInfo.copy$default$1" title="=&gt; kafka.controller.LeaderIsrAndControllerEpoch">leaderIsrAndControllerEpoch</a>.<a href="../controller/KafkaController.scala.html#kafka.controller;LeaderIsrAndControllerEpoch.leaderAndIsr" title="=&gt; kafka.api.LeaderAndIsr">leaderAndIsr</a>.<a href="#kafka.api;LeaderAndIsr.copy$default$4" title="=&gt; Int">zkVersion</a><span class="delimiter">)</span>
    <a href="#kafka.api;PartitionStateInfo.writeTo.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="(x$1: Int)java.nio.ByteBuffer">putInt</span><span class="delimiter">(</span><a href="#kafka.api;PartitionStateInfo.replicationFactor" title="=&gt; Int">replicationFactor</a><span class="delimiter">)</span>
    <a href="#kafka.api;PartitionStateInfo.copy$default$2" title="=&gt; scala.collection.Set[Int]">allReplicas</a>.<span title="(f: Int =&gt; java.nio.ByteBuffer)Unit">foreach</span><span class="delimiter">(</span><a href="#kafka.api;PartitionStateInfo.writeTo.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="(x$1: Int)java.nio.ByteBuffer">putInt</span><span class="delimiter">(</span><a href="#kafka.api;PartitionStateInfo.writeTo.$anonfun.x$2" title="Int">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="()Int" id="kafka.api;PartitionStateInfo.sizeInBytes">sizeInBytes</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
    val size =
      <span class="int">4</span> <span class="comment">/* epoch of the controller that elected the leader */</span> +
      <span class="int">4</span> <span class="comment">/* leader broker id */</span> +
      <span class="int">4</span> <span class="comment">/* leader epoch */</span> <span title="Int(16)">+</span>
      <span class="int">4</span> <span class="comment">/* number of replicas in isr */</span> <span title="(x: Int)Int">+</span>
      <span title="Int(4)" class="int">4</span> <span title="(x: Int)Int">*</span> <a href="#kafka.api;PartitionStateInfo.copy$default$1" title="=&gt; kafka.controller.LeaderIsrAndControllerEpoch">leaderIsrAndControllerEpoch</a>.<a href="../controller/KafkaController.scala.html#kafka.controller;LeaderIsrAndControllerEpoch.leaderAndIsr" title="=&gt; kafka.api.LeaderAndIsr">leaderAndIsr</a>.<a href="#kafka.api;LeaderAndIsr.copy$default$3" title="=&gt; List[Int]">isr</a>.<span title="=&gt; Int">size</span> <span class="comment">/* replicas in isr */</span> <span title="(x: Int)Int">+</span>
      <span title="Int(4)" class="int">4</span> <span class="comment">/* zk version */</span> <span title="(x: Int)Int">+</span>
      <span title="Int(4)" class="int">4</span> <span class="comment">/* replication factor */</span> <a title="Int" id="kafka.api;PartitionStateInfo.sizeInBytes.size">+</a>
      <a href="#kafka.api;PartitionStateInfo.copy$default$2" title="=&gt; scala.collection.Set[Int]">allReplicas</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Int">*</span> <span title="Int(4)" class="int">4</span>
    <a href="#kafka.api;PartitionStateInfo.sizeInBytes.size" title="Int">size</a>
  <span class="delimiter">}</span>
  
  override def <a title="()String" id="kafka.api;PartitionStateInfo.toString">toString</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    val <a title="StringBuilder" id="kafka.api;PartitionStateInfo.toString.partitionStateInfo">partitionStateInfo</a> = new <span title="StringBuilder">StringBuilder</span>
    <a href="#kafka.api;PartitionStateInfo.toString.partitionStateInfo" title="StringBuilder">partitionStateInfo</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;(LeaderAndIsrInfo:&quot;)" class="string">&quot;(LeaderAndIsrInfo:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#kafka.api;PartitionStateInfo.copy$default$1" title="=&gt; kafka.controller.LeaderIsrAndControllerEpoch">leaderIsrAndControllerEpoch</a>.<a href="../controller/KafkaController.scala.html#kafka.controller;LeaderIsrAndControllerEpoch.toString" title="()String">toString</a><span class="delimiter">)</span>
    <a href="#kafka.api;PartitionStateInfo.toString.partitionStateInfo" title="StringBuilder">partitionStateInfo</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;,ReplicationFactor:&quot;)" class="string">&quot;,ReplicationFactor:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#kafka.api;PartitionStateInfo.replicationFactor" title="=&gt; Int">replicationFactor</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
    <a href="#kafka.api;PartitionStateInfo.toString.partitionStateInfo" title="StringBuilder">partitionStateInfo</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;,AllReplicas:&quot;)" class="string">&quot;,AllReplicas:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#kafka.api;PartitionStateInfo.copy$default$2" title="=&gt; scala.collection.Set[Int]">allReplicas</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
    <a href="#kafka.api;PartitionStateInfo.toString.partitionStateInfo" title="StringBuilder">partitionStateInfo</a>.<span title="()String">toString</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

object <a title="kafka.api.LeaderAndIsrRequest.type" id="kafka.api.LeaderAndIsrRequest.readResolve">LeaderAndIsrRequest</a> <a href="#kafka.api.LeaderAndIsrRequest.readResolve" title="kafka.api.LeaderAndIsrRequest.type" class="delimiter">{</a>
  val <a title="Short" id="kafka.api.LeaderAndIsrRequest.CurrentVersion">CurrentVersion</a> = <span title="implicit scala.Predef.int2Integer : (x: Int)Integer" class="int">0</span>.<span title="()Short">shortValue</span>
  val <a title="Boolean" id="kafka.api.LeaderAndIsrRequest.IsInit">IsInit</a>: <span title="Boolean">Boolean</span> = true
  val <a title="Boolean" id="kafka.api.LeaderAndIsrRequest.NotInit">NotInit</a>: <span title="Boolean">Boolean</span> = false
  val <a title="Int" id="kafka.api.LeaderAndIsrRequest.DefaultAckTimeout">DefaultAckTimeout</a>: <span title="Int">Int</span> = <span title="Int(1000)" class="int">1000</span>

  def <a title="(buffer: java.nio.ByteBuffer)kafka.api.LeaderAndIsrRequest" id="kafka.api.LeaderAndIsrRequest.readFrom">readFrom</a><span class="delimiter">(</span><a title="java.nio.ByteBuffer" id="kafka.api.LeaderAndIsrRequest.readFrom.buffer">buffer</a>: <span title="java.nio.ByteBuffer">ByteBuffer</span><span class="delimiter">)</span>: <a href="#kafka.api;LeaderAndIsrRequest.equals" title="kafka.api.LeaderAndIsrRequest">LeaderAndIsrRequest</a> = <span class="delimiter">{</span>
    val <a title="Short" id="kafka.api.LeaderAndIsrRequest.readFrom.versionId">versionId</a> = <a href="#kafka.api.LeaderAndIsrRequest.readFrom.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="()Short">getShort</span>
    val <a title="Int" id="kafka.api.LeaderAndIsrRequest.readFrom.correlationId">correlationId</a> = <a href="#kafka.api.LeaderAndIsrRequest.readFrom.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="()Int">getInt</span>
    val <a title="String" id="kafka.api.LeaderAndIsrRequest.readFrom.clientId">clientId</a> = <a href="ApiUtils.scala.html#kafka.api.ApiUtils.readShortString" title="(buffer: java.nio.ByteBuffer)String">readShortString</a><span class="delimiter">(</span><a href="#kafka.api.LeaderAndIsrRequest.readFrom.buffer" title="java.nio.ByteBuffer">buffer</a><span class="delimiter">)</span>
    val <a title="Int" id="kafka.api.LeaderAndIsrRequest.readFrom.controllerId">controllerId</a> = <a href="#kafka.api.LeaderAndIsrRequest.readFrom.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="()Int">getInt</span>
    val <a title="Int" id="kafka.api.LeaderAndIsrRequest.readFrom.controllerEpoch">controllerEpoch</a> = <a href="#kafka.api.LeaderAndIsrRequest.readFrom.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="()Int">getInt</span>
    val <a title="Int" id="kafka.api.LeaderAndIsrRequest.readFrom.partitionStateInfosCount">partitionStateInfosCount</a> = <a href="#kafka.api.LeaderAndIsrRequest.readFrom.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="()Int">getInt</span>
    val <a title="scala.collection.mutable.HashMap[(String, Int),kafka.api.PartitionStateInfo]" id="kafka.api.LeaderAndIsrRequest.readFrom.partitionStateInfos">partitionStateInfos</a> = new collection.mutable.<span title="scala.collection.mutable.HashMap[(String, Int),kafka.api.PartitionStateInfo]">HashMap</span><span class="delimiter">[</span><span class="delimiter">(</span>String, Int<span class="delimiter">)</span>, PartitionStateInfo<span class="delimiter">]</span>

    for<span class="delimiter">(</span><span title="Int">i</span> &lt;- <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(f: Int =&gt; Option[kafka.api.PartitionStateInfo])Unit">until</span> <a href="#kafka.api.LeaderAndIsrRequest.readFrom.partitionStateInfosCount" title="Int">partitionStateInfosCount</a><span class="delimiter">)</span><span class="delimiter">{</span>
      val <a title="String" id="kafka.api.LeaderAndIsrRequest.readFrom.$anonfun.topic">topic</a> = <a href="ApiUtils.scala.html#kafka.api.ApiUtils.readShortString" title="(buffer: java.nio.ByteBuffer)String">readShortString</a><span class="delimiter">(</span><a href="#kafka.api.LeaderAndIsrRequest.readFrom.buffer" title="java.nio.ByteBuffer">buffer</a><span class="delimiter">)</span>
      val <a title="Int" id="kafka.api.LeaderAndIsrRequest.readFrom.$anonfun.partition">partition</a> = <a href="#kafka.api.LeaderAndIsrRequest.readFrom.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="()Int">getInt</span>
      val <a title="kafka.api.PartitionStateInfo" id="kafka.api.LeaderAndIsrRequest.readFrom.$anonfun.partitionStateInfo">partitionStateInfo</a> = <a href="#kafka.api.PartitionStateInfo.readResolve" title="kafka.api.PartitionStateInfo.type">PartitionStateInfo</a>.<a href="#kafka.api.PartitionStateInfo.readFrom" title="(buffer: java.nio.ByteBuffer)kafka.api.PartitionStateInfo">readFrom</a><span class="delimiter">(</span><a href="#kafka.api.LeaderAndIsrRequest.readFrom.buffer" title="java.nio.ByteBuffer">buffer</a><span class="delimiter">)</span>

      <a href="#kafka.api.LeaderAndIsrRequest.readFrom.partitionStateInfos" title="scala.collection.mutable.HashMap[(String, Int),kafka.api.PartitionStateInfo]">partitionStateInfos</a>.<span title="(key: (String, Int), value: kafka.api.PartitionStateInfo)Option[kafka.api.PartitionStateInfo]">put</span><span class="delimiter">(</span><span title="(_1: String, _2: Int)(String, Int)" class="delimiter">(</span><a href="#kafka.api.LeaderAndIsrRequest.readFrom.$anonfun.topic" title="String">topic</a>, <a href="#kafka.api.LeaderAndIsrRequest.readFrom.$anonfun.partition" title="Int">partition</a><span class="delimiter">)</span>, <a href="#kafka.api.LeaderAndIsrRequest.readFrom.$anonfun.partitionStateInfo" title="kafka.api.PartitionStateInfo">partitionStateInfo</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    val <a title="Int" id="kafka.api.LeaderAndIsrRequest.readFrom.leadersCount">leadersCount</a> = <a href="#kafka.api.LeaderAndIsrRequest.readFrom.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="()Int">getInt</span>
    var <a title="scala.collection.Set[kafka.cluster.Broker]" id="kafka.api.LeaderAndIsrRequest.readFrom.leaders">leaders</a> = <span title="[A](elems: A*)scala.collection.Set[A]">Set</span><span title="(elems: kafka.cluster.Broker*)scala.collection.Set[kafka.cluster.Broker]" class="delimiter">[</span><a href="../cluster/Broker.scala.html#kafka.cluster;Broker" title="kafka.cluster.Broker">Broker</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    for <span class="delimiter">(</span><span title="Int">i</span> &lt;- <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(f: Int =&gt; Unit)Unit">until</span> <a href="#kafka.api.LeaderAndIsrRequest.readFrom.leadersCount" title="Int">leadersCount</a><span class="delimiter">)</span>
      <a href="#kafka.api.LeaderAndIsrRequest.readFrom.leaders" title="scala.collection.Set[kafka.cluster.Broker]">leaders</a> <span title="(elem: kafka.cluster.Broker)scala.collection.Set[kafka.cluster.Broker]">+=</span> <a href="../cluster/Broker.scala.html#kafka.cluster.Broker" title="kafka.cluster.Broker.type">Broker</a>.<a href="../cluster/Broker.scala.html#kafka.cluster.Broker.readFrom" title="(buffer: java.nio.ByteBuffer)kafka.cluster.Broker">readFrom</a><span class="delimiter">(</span><a href="#kafka.api.LeaderAndIsrRequest.readFrom.buffer" title="java.nio.ByteBuffer">buffer</a><span class="delimiter">)</span>

    new <a href="#kafka.api;LeaderAndIsrRequest.equals" title="kafka.api.LeaderAndIsrRequest">LeaderAndIsrRequest</a><span class="delimiter">(</span><a href="#kafka.api.LeaderAndIsrRequest.readFrom.versionId" title="Short">versionId</a>, <a href="#kafka.api.LeaderAndIsrRequest.readFrom.correlationId" title="Int">correlationId</a>, <a href="#kafka.api.LeaderAndIsrRequest.readFrom.clientId" title="String">clientId</a>, <a href="#kafka.api.LeaderAndIsrRequest.readFrom.controllerId" title="Int">controllerId</a>, <a href="#kafka.api.LeaderAndIsrRequest.readFrom.controllerEpoch" title="Int">controllerEpoch</a>, <a href="#kafka.api.LeaderAndIsrRequest.readFrom.partitionStateInfos" title="scala.collection.mutable.HashMap[(String, Int),kafka.api.PartitionStateInfo]">partitionStateInfos</a>.<span title="(implicit ev: &lt;:&lt;[((String, Int), kafka.api.PartitionStateInfo),((String, Int), kafka.api.PartitionStateInfo)])scala.collection.immutable.Map[(String, Int),kafka.api.PartitionStateInfo]">toMap</span>, <a href="#kafka.api.LeaderAndIsrRequest.readFrom.leaders" title="scala.collection.Set[kafka.cluster.Broker]">leaders</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

case class <a title="(versionId: Short, correlationId: Int, clientId: String, controllerId: Int, controllerEpoch: Int, partitionStateInfos: Map[(String, Int),kafka.api.PartitionStateInfo], leaders: scala.collection.Set[kafka.cluster.Broker])kafka.api.LeaderAndIsrRequest" id="kafka.api;LeaderAndIsrRequest.equals">LeaderAndIsrRequest</a> <span title="Product" class="delimiter">(</span><a title="Short" id="kafka.api;LeaderAndIsrRequest.copy$default$1">versionId</a>: <span title="Short">Short</span>,
                                <a title="Int" id="kafka.api;LeaderAndIsrRequest.copy$default$2">correlationId</a>: <span title="Int">Int</span>,
                                <a title="String" id="kafka.api;LeaderAndIsrRequest.copy$default$3">clientId</a>: <span title="String">String</span>,
                                <a title="Int" id="kafka.api;LeaderAndIsrRequest.copy$default$4">controllerId</a>: <span title="Int">Int</span>,
                                <a title="Int" id="kafka.api;LeaderAndIsrRequest.copy$default$5">controllerEpoch</a>: <span title="Int">Int</span>,
                                <a title="Map[(String, Int),kafka.api.PartitionStateInfo]" id="kafka.api;LeaderAndIsrRequest.copy$default$6">partitionStateInfos</a>: <span title="Map[(String, Int),kafka.api.PartitionStateInfo]">Map</span><span class="delimiter">[</span><span class="delimiter">(</span>String, Int<span class="delimiter">)</span>, PartitionStateInfo<span class="delimiter">]</span>,
                                <a title="scala.collection.Set[kafka.cluster.Broker]" id="kafka.api;LeaderAndIsrRequest.copy$default$7">leaders</a>: <span title="scala.collection.Set[kafka.cluster.Broker]">Set</span><span class="delimiter">[</span>Broker<span class="delimiter">]</span><span class="delimiter">)</span>
    extends <a href="RequestOrResponse.scala.html#kafka.api;RequestOrResponse" title="kafka.api.RequestOrResponse">RequestOrResponse</a><span class="delimiter">(</span><span title="(x: Short)Some[Short]">Some</span><span class="delimiter">(</span><a href="RequestKeys.scala.html#kafka.api.RequestKeys" title="kafka.api.RequestKeys.type">RequestKeys</a>.<a href="RequestKeys.scala.html#kafka.api.RequestKeys.LeaderAndIsrKey" title="=&gt; Short">LeaderAndIsrKey</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>

  def this<span class="delimiter">(</span><a title="Map[(String, Int),kafka.api.PartitionStateInfo]" id="kafka.api;LeaderAndIsrRequest.<init>(d4d25a882c).partitionStateInfos">partitionStateInfos</a>: <span title="Map[(String, Int),kafka.api.PartitionStateInfo]">Map</span><span class="delimiter">[</span><span class="delimiter">(</span>String, Int<span class="delimiter">)</span>, PartitionStateInfo<span class="delimiter">]</span>, <a title="scala.collection.Set[kafka.cluster.Broker]" id="kafka.api;LeaderAndIsrRequest.<init>(d4d25a882c).leaders">leaders</a>: <span title="scala.collection.Set[kafka.cluster.Broker]">Set</span><span class="delimiter">[</span>Broker<span class="delimiter">]</span>, <a title="Int" id="kafka.api;LeaderAndIsrRequest.<init>(d4d25a882c).controllerId">controllerId</a>: <span title="Int">Int</span>,
           <a title="Int" id="kafka.api;LeaderAndIsrRequest.<init>(d4d25a882c).controllerEpoch">controllerEpoch</a>: <span title="Int">Int</span>, <a title="Int" id="kafka.api;LeaderAndIsrRequest.<init>(d4d25a882c).correlationId">correlationId</a>: <span title="Int">Int</span>, <a title="String" id="kafka.api;LeaderAndIsrRequest.<init>(d4d25a882c).clientId">clientId</a>: <span title="String">String</span><span class="delimiter">)</span> = <span title="Unit" class="delimiter">{</span>
    this<span class="delimiter">(</span><a href="#kafka.api.LeaderAndIsrRequest.readResolve" title="kafka.api.LeaderAndIsrRequest.type">LeaderAndIsrRequest</a>.<a href="#kafka.api.LeaderAndIsrRequest.CurrentVersion" title="=&gt; Short">CurrentVersion</a>, <a href="#kafka.api;LeaderAndIsrRequest.<init>(d4d25a882c).correlationId" title="Int">correlationId</a>, <a href="#kafka.api;LeaderAndIsrRequest.<init>(d4d25a882c).clientId" title="String">clientId</a>,
         <a href="#kafka.api;LeaderAndIsrRequest.<init>(d4d25a882c).controllerId" title="Int">controllerId</a>, <a href="#kafka.api;LeaderAndIsrRequest.<init>(d4d25a882c).controllerEpoch" title="Int">controllerEpoch</a>, <a href="#kafka.api;LeaderAndIsrRequest.<init>(d4d25a882c).partitionStateInfos" title="Map[(String, Int),kafka.api.PartitionStateInfo]">partitionStateInfos</a>, <a href="#kafka.api;LeaderAndIsrRequest.<init>(d4d25a882c).leaders" title="scala.collection.Set[kafka.cluster.Broker]">leaders</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(buffer: java.nio.ByteBuffer)Unit" id="kafka.api;LeaderAndIsrRequest.writeTo">writeTo</a><span class="delimiter">(</span><a title="java.nio.ByteBuffer" id="kafka.api;LeaderAndIsrRequest.writeTo.buffer">buffer</a>: <span title="java.nio.ByteBuffer">ByteBuffer</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#kafka.api;LeaderAndIsrRequest.writeTo.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="(x$1: Short)java.nio.ByteBuffer">putShort</span><span class="delimiter">(</span><a href="#kafka.api;LeaderAndIsrRequest.copy$default$1" title="=&gt; Short">versionId</a><span class="delimiter">)</span>
    <a href="#kafka.api;LeaderAndIsrRequest.writeTo.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="(x$1: Int)java.nio.ByteBuffer">putInt</span><span class="delimiter">(</span><a href="#kafka.api;LeaderAndIsrRequest.copy$default$2" title="=&gt; Int">correlationId</a><span class="delimiter">)</span>
    <a href="ApiUtils.scala.html#kafka.api.ApiUtils.writeShortString" title="(buffer: java.nio.ByteBuffer, string: String)Unit">writeShortString</a><span class="delimiter">(</span><a href="#kafka.api;LeaderAndIsrRequest.writeTo.buffer" title="java.nio.ByteBuffer">buffer</a>, <a href="#kafka.api;LeaderAndIsrRequest.copy$default$3" title="=&gt; String">clientId</a><span class="delimiter">)</span>
    <a href="#kafka.api;LeaderAndIsrRequest.writeTo.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="(x$1: Int)java.nio.ByteBuffer">putInt</span><span class="delimiter">(</span><a href="#kafka.api;LeaderAndIsrRequest.copy$default$4" title="=&gt; Int">controllerId</a><span class="delimiter">)</span>
    <a href="#kafka.api;LeaderAndIsrRequest.writeTo.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="(x$1: Int)java.nio.ByteBuffer">putInt</span><span class="delimiter">(</span><a href="#kafka.api;LeaderAndIsrRequest.copy$default$5" title="=&gt; Int">controllerEpoch</a><span class="delimiter">)</span>
    <a href="#kafka.api;LeaderAndIsrRequest.writeTo.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="(x$1: Int)java.nio.ByteBuffer">putInt</span><span class="delimiter">(</span><a href="#kafka.api;LeaderAndIsrRequest.copy$default$6" title="=&gt; Map[(String, Int),kafka.api.PartitionStateInfo]">partitionStateInfos</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>
    for<span class="delimiter">(</span><span class="delimiter">(</span><a title="(String, Int)" id="kafka.api;LeaderAndIsrRequest.writeTo.$anonfun.key">key</a>, <a title="kafka.api.PartitionStateInfo" id="kafka.api;LeaderAndIsrRequest.writeTo.$anonfun.value">value</a><span class="delimiter">)</span> &lt;- <a href="#kafka.api;LeaderAndIsrRequest.copy$default$6" title="(f: (((String, Int), kafka.api.PartitionStateInfo)) =&gt; Unit)Unit">partitionStateInfos</a><span class="delimiter">)</span><span class="delimiter">{</span>
      <a href="ApiUtils.scala.html#kafka.api.ApiUtils.writeShortString" title="(buffer: java.nio.ByteBuffer, string: String)Unit">writeShortString</a><span class="delimiter">(</span><a href="#kafka.api;LeaderAndIsrRequest.writeTo.buffer" title="java.nio.ByteBuffer">buffer</a>, <a href="#kafka.api;LeaderAndIsrRequest.writeTo.$anonfun.key" title="(String, Int)">key</a>.<span title="=&gt; String">_1</span><span class="delimiter">)</span>
      <a href="#kafka.api;LeaderAndIsrRequest.writeTo.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="(x$1: Int)java.nio.ByteBuffer">putInt</span><span class="delimiter">(</span><a href="#kafka.api;LeaderAndIsrRequest.writeTo.$anonfun.key" title="(String, Int)">key</a>.<span title="=&gt; Int">_2</span><span class="delimiter">)</span>
      <a href="#kafka.api;LeaderAndIsrRequest.writeTo.$anonfun.value" title="kafka.api.PartitionStateInfo">value</a>.<a href="#kafka.api;PartitionStateInfo.writeTo" title="(buffer: java.nio.ByteBuffer)Unit">writeTo</a><span class="delimiter">(</span><a href="#kafka.api;LeaderAndIsrRequest.writeTo.buffer" title="java.nio.ByteBuffer">buffer</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#kafka.api;LeaderAndIsrRequest.writeTo.buffer" title="java.nio.ByteBuffer">buffer</a>.<span title="(x$1: Int)java.nio.ByteBuffer">putInt</span><span class="delimiter">(</span><a href="#kafka.api;LeaderAndIsrRequest.copy$default$7" title="=&gt; scala.collection.Set[kafka.cluster.Broker]">leaders</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>
    <a href="#kafka.api;LeaderAndIsrRequest.copy$default$7" title="=&gt; scala.collection.Set[kafka.cluster.Broker]">leaders</a>.<span title="(f: kafka.cluster.Broker =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#kafka.api;LeaderAndIsrRequest.writeTo.$anonfun.x$4" title="kafka.cluster.Broker">_</a>.<a href="../cluster/Broker.scala.html#kafka.cluster;Broker.writeTo" title="(buffer: java.nio.ByteBuffer)Unit">writeTo</a><span class="delimiter">(</span><a href="#kafka.api;LeaderAndIsrRequest.writeTo.buffer" title="java.nio.ByteBuffer">buffer</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="()Int" id="kafka.api;LeaderAndIsrRequest.sizeInBytes">sizeInBytes</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
    var size =
      <span class="int">2</span> <span class="comment">/* version id */</span> <span title="Int(6)">+</span>
      <span class="int">4</span> <span class="comment">/* correlation id */</span> <span title="(x: Int)Int">+</span> 
      <span class="delimiter">(</span><span title="Int(2)" class="int">2</span> <span title="(x: Int)Int">+</span> <a href="#kafka.api;LeaderAndIsrRequest.copy$default$3" title="=&gt; String">clientId</a>.<span title="()Int">length</span><span class="delimiter">)</span> <span class="comment">/* client id */</span> <span title="(x: Int)Int">+</span>
      <span title="Int(4)" class="int">4</span> <span class="comment">/* controller id */</span> <span title="(x: Int)Int">+</span>
      <span title="Int(4)" class="int">4</span> <span class="comment">/* controller epoch */</span> <a title="Int" id="kafka.api;LeaderAndIsrRequest.sizeInBytes.size">+</a>
      <span title="Int(4)" class="int">4</span> <span class="comment">/* number of partitions */</span>
    for<span class="delimiter">(</span><span class="delimiter">(</span><a title="(String, Int)" id="kafka.api;LeaderAndIsrRequest.sizeInBytes.$anonfun.key">key</a>, <a title="kafka.api.PartitionStateInfo" id="kafka.api;LeaderAndIsrRequest.sizeInBytes.$anonfun.value">value</a><span class="delimiter">)</span> &lt;- <a href="#kafka.api;LeaderAndIsrRequest.copy$default$6" title="(f: (((String, Int), kafka.api.PartitionStateInfo)) =&gt; Unit)Unit">partitionStateInfos</a><span class="delimiter">)</span>
      <a href="#kafka.api;LeaderAndIsrRequest.sizeInBytes.size" title="Int">size</a> <span title="(x: Int)Int">+=</span> <span class="delimiter">(</span><span title="Int(2)" class="int">2</span> <span title="(x: Int)Int">+</span> <a href="#kafka.api;LeaderAndIsrRequest.sizeInBytes.$anonfun.key" title="(String, Int)">key</a>.<span title="=&gt; String">_1</span>.<span title="()Int">length</span><span class="delimiter">)</span> <span class="comment">/* topic */</span> <span title="(x: Int)Int">+</span> <span title="Int(4)" class="int">4</span> <span class="comment">/* partition */</span> <span title="(x: Int)Int">+</span> <a href="#kafka.api;LeaderAndIsrRequest.sizeInBytes.$anonfun.value" title="kafka.api.PartitionStateInfo">value</a>.<a href="#kafka.api;PartitionStateInfo.sizeInBytes" title="()Int">sizeInBytes</a> <span class="comment">/* partition state info */</span>
    <a href="#kafka.api;LeaderAndIsrRequest.sizeInBytes.size" title="Int">size</a> <span title="(x: Int)Int">+=</span> <span title="Int(4)" class="int">4</span> <span class="comment">/* number of leader brokers */</span>
    for<span class="delimiter">(</span><a title="kafka.cluster.Broker" id="kafka.api;LeaderAndIsrRequest.sizeInBytes.$anonfun.broker">broker</a> &lt;- <a href="#kafka.api;LeaderAndIsrRequest.copy$default$7" title="(f: kafka.cluster.Broker =&gt; Unit)Unit">leaders</a><span class="delimiter">)</span>
      <a href="#kafka.api;LeaderAndIsrRequest.sizeInBytes.size" title="Int">size</a> <span title="(x: Int)Int">+=</span> <a href="#kafka.api;LeaderAndIsrRequest.sizeInBytes.$anonfun.broker" title="kafka.cluster.Broker">broker</a>.<a href="../cluster/Broker.scala.html#kafka.cluster;Broker.sizeInBytes" title="=&gt; Int">sizeInBytes</a> <span class="comment">/* broker info */</span>
    <a href="#kafka.api;LeaderAndIsrRequest.sizeInBytes.size" title="Int">size</a>
  <span class="delimiter">}</span>

  override def <a title="()String" id="kafka.api;LeaderAndIsrRequest.toString">toString</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <a href="#kafka.api;LeaderAndIsrRequest.describe" title="(details: Boolean)String">describe</a><span class="delimiter">(</span>true<span class="delimiter">)</span>
  <span class="delimiter">}</span>

  override  def <a title="(e: Throwable, requestChannel: kafka.network.RequestChannel, request: kafka.network.RequestChannel.Request)Unit" id="kafka.api;LeaderAndIsrRequest.handleError">handleError</a><span class="delimiter">(</span><a title="Throwable" id="kafka.api;LeaderAndIsrRequest.handleError.e">e</a>: <span title="Throwable">Throwable</span>, <a title="kafka.network.RequestChannel" id="kafka.api;LeaderAndIsrRequest.handleError.requestChannel">requestChannel</a>: <a href="../network/RequestChannel.scala.html#kafka.network;RequestChannel" title="kafka.network.RequestChannel">RequestChannel</a>, <a title="kafka.network.RequestChannel.Request" id="kafka.api;LeaderAndIsrRequest.handleError.request">request</a>: RequestChannel.<a href="../network/RequestChannel.scala.html#kafka.network.RequestChannel;Request" title="kafka.network.RequestChannel.Request">Request</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    val <a title="scala.collection.immutable.Map[(String, Int),Short]" id="kafka.api;LeaderAndIsrRequest.handleError.responseMap">responseMap</a> = <a href="#kafka.api;LeaderAndIsrRequest.copy$default$6" title="=&gt; Map[(String, Int),kafka.api.PartitionStateInfo]">partitionStateInfos</a>.<span title="(f: (((String, Int), kafka.api.PartitionStateInfo)) =&gt; ((String, Int), Short))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[(String, Int),kafka.api.PartitionStateInfo],((String, Int), Short),scala.collection.immutable.Map[(String, Int),Short]])scala.collection.immutable.Map[(String, Int),Short]">map</span> <a href="#kafka.api;LeaderAndIsrRequest.handleError.responseMap.$anonfun.x0$1" title="((String, Int), Short)" class="delimiter">{</a>
      case <span class="delimiter">(</span><a title="(String, Int)" id="kafka.api;LeaderAndIsrRequest.handleError.responseMap.$anonfun.topicAndPartition">topicAndPartition</a>, <a title="kafka.api.PartitionStateInfo" id="kafka.api;LeaderAndIsrRequest.handleError.responseMap.$anonfun.partitionAndState">partitionAndState</a><span class="delimiter">)</span> =&gt; <span title="(_1: (String, Int), _2: Short)((String, Int), Short)" class="delimiter">(</span><a href="#kafka.api;LeaderAndIsrRequest.handleError.responseMap.$anonfun.topicAndPartition" title="(String, Int)">topicAndPartition</a>, <a href="../common/ErrorMapping.scala.html#kafka.common.ErrorMapping" title="kafka.common.ErrorMapping.type">ErrorMapping</a>.<a href="../common/ErrorMapping.scala.html#kafka.common.ErrorMapping.codeFor" title="(exception: Class[Throwable])Short">codeFor</a><span class="delimiter">(</span><a href="#kafka.api;LeaderAndIsrRequest.handleError.e" title="Throwable">e</a>.<span title="()Class[_]">getClass</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Class[Throwable]" class="delimiter">[</span><span title="Class[Throwable]">Class</span><span class="delimiter">[</span>Throwable<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    val <a title="kafka.api.LeaderAndIsrResponse" id="kafka.api;LeaderAndIsrRequest.handleError.errorResponse">errorResponse</a> = <a href="LeaderAndIsrResponse.scala.html#kafka.api;LeaderAndIsrResponse" title="(correlationId: Int, responseMap: scala.collection.Map[(String, Int),Short], errorCode: Short)kafka.api.LeaderAndIsrResponse">LeaderAndIsrResponse</a><span class="delimiter">(</span><a href="#kafka.api;LeaderAndIsrRequest.copy$default$2" title="=&gt; Int">correlationId</a>, <a href="#kafka.api;LeaderAndIsrRequest.handleError.responseMap" title="scala.collection.immutable.Map[(String, Int),Short]">responseMap</a><span class="delimiter">)</span>
    <a href="#kafka.api;LeaderAndIsrRequest.handleError.requestChannel" title="kafka.network.RequestChannel">requestChannel</a>.<a href="../network/RequestChannel.scala.html#kafka.network;RequestChannel.sendResponse" title="(response: kafka.network.RequestChannel.Response)Unit">sendResponse</a><span class="delimiter">(</span>new <a href="../network/RequestChannel.scala.html#kafka.network.RequestChannel;Response" title="kafka.network.RequestChannel.Response">Response</a><span class="delimiter">(</span><a href="#kafka.api;LeaderAndIsrRequest.handleError.request" title="kafka.network.RequestChannel.Request">request</a>, new <a href="../network/BoundedByteBufferSend.scala.html#kafka.network;BoundedByteBufferSend" title="kafka.network.BoundedByteBufferSend">BoundedByteBufferSend</a><span class="delimiter">(</span><a href="#kafka.api;LeaderAndIsrRequest.handleError.errorResponse" title="kafka.api.LeaderAndIsrResponse">errorResponse</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  override def <a title="(details: Boolean)String" id="kafka.api;LeaderAndIsrRequest.describe">describe</a><span class="delimiter">(</span><a title="Boolean" id="kafka.api;LeaderAndIsrRequest.describe.details">details</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    val <a title="StringBuilder" id="kafka.api;LeaderAndIsrRequest.describe.leaderAndIsrRequest">leaderAndIsrRequest</a> = new <span title="StringBuilder">StringBuilder</span>
    <a href="#kafka.api;LeaderAndIsrRequest.describe.leaderAndIsrRequest" title="StringBuilder">leaderAndIsrRequest</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;Name:&quot;)" class="string">&quot;Name:&quot;</span> <span title="(x$1: Any)String">+</span> this.<span title="()Class[_]">getClass</span>.<span title="()String">getSimpleName</span><span class="delimiter">)</span>
    <a href="#kafka.api;LeaderAndIsrRequest.describe.leaderAndIsrRequest" title="StringBuilder">leaderAndIsrRequest</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;;Version:&quot;)" class="string">&quot;;Version:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#kafka.api;LeaderAndIsrRequest.copy$default$1" title="=&gt; Short">versionId</a><span class="delimiter">)</span>
    <a href="#kafka.api;LeaderAndIsrRequest.describe.leaderAndIsrRequest" title="StringBuilder">leaderAndIsrRequest</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;;Controller:&quot;)" class="string">&quot;;Controller:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#kafka.api;LeaderAndIsrRequest.copy$default$4" title="=&gt; Int">controllerId</a><span class="delimiter">)</span>
    <a href="#kafka.api;LeaderAndIsrRequest.describe.leaderAndIsrRequest" title="StringBuilder">leaderAndIsrRequest</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;;ControllerEpoch:&quot;)" class="string">&quot;;ControllerEpoch:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#kafka.api;LeaderAndIsrRequest.copy$default$5" title="=&gt; Int">controllerEpoch</a><span class="delimiter">)</span>
    <a href="#kafka.api;LeaderAndIsrRequest.describe.leaderAndIsrRequest" title="StringBuilder">leaderAndIsrRequest</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;;CorrelationId:&quot;)" class="string">&quot;;CorrelationId:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#kafka.api;LeaderAndIsrRequest.copy$default$2" title="=&gt; Int">correlationId</a><span class="delimiter">)</span>
    <a href="#kafka.api;LeaderAndIsrRequest.describe.leaderAndIsrRequest" title="StringBuilder">leaderAndIsrRequest</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;;ClientId:&quot;)" class="string">&quot;;ClientId:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#kafka.api;LeaderAndIsrRequest.copy$default$3" title="=&gt; String">clientId</a><span class="delimiter">)</span>
    <a href="#kafka.api;LeaderAndIsrRequest.describe.leaderAndIsrRequest" title="StringBuilder">leaderAndIsrRequest</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;;Leaders:&quot;)" class="string">&quot;;Leaders:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#kafka.api;LeaderAndIsrRequest.copy$default$7" title="=&gt; scala.collection.Set[kafka.cluster.Broker]">leaders</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    if<span class="delimiter">(</span><a href="#kafka.api;LeaderAndIsrRequest.describe.details" title="Boolean">details</a><span class="delimiter">)</span>
      <a href="#kafka.api;LeaderAndIsrRequest.describe.leaderAndIsrRequest" title="StringBuilder">leaderAndIsrRequest</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;;PartitionState:&quot;)" class="string">&quot;;PartitionState:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#kafka.api;LeaderAndIsrRequest.copy$default$6" title="=&gt; Map[(String, Int),kafka.api.PartitionStateInfo]">partitionStateInfos</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#kafka.api;LeaderAndIsrRequest.describe.leaderAndIsrRequest" title="StringBuilder">leaderAndIsrRequest</a>.<span title="()String">toString</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>
        </pre>
    </body>
</html>
