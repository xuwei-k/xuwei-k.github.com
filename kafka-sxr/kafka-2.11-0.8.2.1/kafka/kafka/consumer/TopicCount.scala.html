<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>kafka/kafka/consumer/TopicCount.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements.  See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the &quot;License&quot;); you may not use this file except in compliance with
 * the License.  You may obtain a copy of the License at
 * 
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>

package kafka.consumer

import scala.collection._
import org.I0Itec.zkclient.ZkClient
import kafka.utils.<span class="delimiter">{</span>Json, ZKGroupDirs, ZkUtils, Logging, Utils<span class="delimiter">}</span>
import kafka.common.KafkaException

private<span class="delimiter">[</span>kafka<span class="delimiter">]</span> trait <a title="trait TopicCount extends AnyRef" id="kafka.consumer;TopicCount">TopicCount</a> <span class="delimiter">{</span>

  def <a title="=&gt; scala.collection.Map[String,scala.collection.Set[kafka.consumer.ConsumerThreadId]]" id="kafka.consumer;TopicCount.getConsumerThreadIdsPerTopic">getConsumerThreadIdsPerTopic</a>: <span title="scala.collection.Map[String,scala.collection.Set[kafka.consumer.ConsumerThreadId]]">Map</span><span class="delimiter">[</span>String, Set<span class="delimiter">[</span>ConsumerThreadId<span class="delimiter">]</span><span class="delimiter">]</span>
  def <a title="=&gt; scala.collection.Map[String,Int]" id="kafka.consumer;TopicCount.getTopicCountMap">getTopicCountMap</a>: <span title="scala.collection.Map[String,Int]">Map</span><span class="delimiter">[</span>String, Int<span class="delimiter">]</span>
  def <a title="=&gt; String" id="kafka.consumer;TopicCount.pattern">pattern</a>: <span title="String">String</span>

<span class="delimiter">}</span>

case class <a title="class ConsumerThreadId extends AnyRef with Ordered[kafka.consumer.ConsumerThreadId] with Product with Serializable" id="kafka.consumer.ConsumerThreadId.readResolve">ConsumerThreadId</a><span title="Product" class="delimiter">(</span><a title="String" id="kafka.consumer;ConsumerThreadId.consumer">consumer</a>: <span title="String">String</span>, <a title="Int" id="kafka.consumer;ConsumerThreadId.threadId">threadId</a>: <span title="Int">Int</span><span class="delimiter">)</span> extends <a href="#kafka.consumer.ConsumerThreadId.readResolve" title="Ordered[kafka.consumer.ConsumerThreadId]">Ordered</a><span class="delimiter">[</span>ConsumerThreadId<span class="delimiter">]</span> <span class="delimiter">{</span>
  override def <a title="()String" id="kafka.consumer;ConsumerThreadId.toString">toString</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s-%d&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#kafka.consumer;ConsumerThreadId.consumer" title="=&gt; String">consumer</a>, <a href="#kafka.consumer;ConsumerThreadId.threadId" title="=&gt; Int">threadId</a><span class="delimiter">)</span>

  def <a title="(that: kafka.consumer.ConsumerThreadId)Int" id="kafka.consumer;ConsumerThreadId.compare">compare</a><span class="delimiter">(</span><a title="kafka.consumer.ConsumerThreadId" id="kafka.consumer;ConsumerThreadId.compare.that">that</a>: <a href="#kafka.consumer.ConsumerThreadId.readResolve" title="kafka.consumer.ConsumerThreadId">ConsumerThreadId</a><span class="delimiter">)</span> = <a href="#kafka.consumer;ConsumerThreadId.toString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">toString</a>.<span title="(other: String)Int">compare</span><span class="delimiter">(</span><a href="#kafka.consumer;ConsumerThreadId.compare.that" title="kafka.consumer.ConsumerThreadId">that</a>.<a href="#kafka.consumer;ConsumerThreadId.toString" title="()String">toString</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

private<span class="delimiter">[</span>kafka<span class="delimiter">]</span> object <a title="kafka.consumer.TopicCount.type" id="kafka.consumer.TopicCount">TopicCount</a> extends <a href="../utils/Logging.scala.html#kafka.utils;Logging" title="kafka.utils.Logging">Logging</a> <span class="delimiter">{</span>
  val <a title="String" id="kafka.consumer.TopicCount.whiteListPattern">whiteListPattern</a> = <span title="String(&quot;white_list&quot;)" class="string">&quot;white_list&quot;</span>
  val <a title="String" id="kafka.consumer.TopicCount.blackListPattern">blackListPattern</a> = <span title="String(&quot;black_list&quot;)" class="string">&quot;black_list&quot;</span>
  val <a title="String" id="kafka.consumer.TopicCount.staticPattern">staticPattern</a> = <span title="String(&quot;static&quot;)" class="string">&quot;static&quot;</span>

  def <a title="(consumerIdString: String, threadId: Int)String" id="kafka.consumer.TopicCount.makeThreadId">makeThreadId</a><span class="delimiter">(</span><a title="String" id="kafka.consumer.TopicCount.makeThreadId.consumerIdString">consumerIdString</a>: <span title="String">String</span>, <a title="Int" id="kafka.consumer.TopicCount.makeThreadId.threadId">threadId</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <a href="#kafka.consumer.TopicCount.makeThreadId.consumerIdString" title="String">consumerIdString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;-&quot;)" class="string">&quot;-&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#kafka.consumer.TopicCount.makeThreadId.threadId" title="Int">threadId</a>

  def <a title="(consumerIdString: String, topicCountMap: scala.collection.Map[String,Int])scala.collection.mutable.HashMap[String,scala.collection.Set[kafka.consumer.ConsumerThreadId]]" id="kafka.consumer.TopicCount.makeConsumerThreadIdsPerTopic">makeConsumerThreadIdsPerTopic</a><span class="delimiter">(</span><a title="String" id="kafka.consumer.TopicCount.makeConsumerThreadIdsPerTopic.consumerIdString">consumerIdString</a>: <span title="String">String</span>,
                                    <a title="scala.collection.Map[String,Int]" id="kafka.consumer.TopicCount.makeConsumerThreadIdsPerTopic.topicCountMap">topicCountMap</a>: <span title="scala.collection.Map[String,Int]">Map</span><span class="delimiter">[</span>String,  Int<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="scala.collection.mutable.HashMap[String,scala.collection.Set[kafka.consumer.ConsumerThreadId]]" id="kafka.consumer.TopicCount.makeConsumerThreadIdsPerTopic.consumerThreadIdsPerTopicMap">consumerThreadIdsPerTopicMap</a> = new mutable.<span title="scala.collection.mutable.HashMap[String,scala.collection.Set[kafka.consumer.ConsumerThreadId]]">HashMap</span><span class="delimiter">[</span>String, Set<span class="delimiter">[</span>ConsumerThreadId<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    for <span class="delimiter">(</span><span class="delimiter">(</span><a title="String" id="kafka.consumer.TopicCount.makeConsumerThreadIdsPerTopic.$anonfun.topic">topic</a>, <a title="Int" id="kafka.consumer.TopicCount.makeConsumerThreadIdsPerTopic.$anonfun.nConsumers">nConsumers</a><span class="delimiter">)</span> &lt;- <a href="#kafka.consumer.TopicCount.makeConsumerThreadIdsPerTopic.topicCountMap" title="(f: ((String, Int)) =&gt; Option[scala.collection.Set[kafka.consumer.ConsumerThreadId]])Unit">topicCountMap</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      val <a title="scala.collection.mutable.HashSet[kafka.consumer.ConsumerThreadId]" id="kafka.consumer.TopicCount.makeConsumerThreadIdsPerTopic.$anonfun.consumerSet">consumerSet</a> = new mutable.<span title="scala.collection.mutable.HashSet[kafka.consumer.ConsumerThreadId]">HashSet</span><span class="delimiter">[</span>ConsumerThreadId<span class="delimiter">]</span>
      <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#kafka.consumer.TopicCount.makeConsumerThreadIdsPerTopic.$anonfun.nConsumers" title="Int">nConsumers</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      for <span class="delimiter">(</span><a title="Int" id="kafka.consumer.TopicCount.makeConsumerThreadIdsPerTopic.$anonfun.$anonfun.i">i</a> &lt;- <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(f: Int =&gt; scala.collection.mutable.HashSet[kafka.consumer.ConsumerThreadId])Unit">until</span> <a href="#kafka.consumer.TopicCount.makeConsumerThreadIdsPerTopic.$anonfun.nConsumers" title="Int">nConsumers</a><span class="delimiter">)</span>
        <a href="#kafka.consumer.TopicCount.makeConsumerThreadIdsPerTopic.$anonfun.consumerSet" title="scala.collection.mutable.HashSet[kafka.consumer.ConsumerThreadId]">consumerSet</a> <span title="(elem: kafka.consumer.ConsumerThreadId)consumerSet.type">+=</span> <a href="#kafka.consumer.ConsumerThreadId.readResolve" title="(consumer: String, threadId: Int)kafka.consumer.ConsumerThreadId">ConsumerThreadId</a><span class="delimiter">(</span><a href="#kafka.consumer.TopicCount.makeConsumerThreadIdsPerTopic.consumerIdString" title="String">consumerIdString</a>, <a href="#kafka.consumer.TopicCount.makeConsumerThreadIdsPerTopic.$anonfun.$anonfun.i" title="Int">i</a><span class="delimiter">)</span>
      <a href="#kafka.consumer.TopicCount.makeConsumerThreadIdsPerTopic.consumerThreadIdsPerTopicMap" title="scala.collection.mutable.HashMap[String,scala.collection.Set[kafka.consumer.ConsumerThreadId]]">consumerThreadIdsPerTopicMap</a>.<span title="(key: String, value: scala.collection.Set[kafka.consumer.ConsumerThreadId])Option[scala.collection.Set[kafka.consumer.ConsumerThreadId]]">put</span><span class="delimiter">(</span><a href="#kafka.consumer.TopicCount.makeConsumerThreadIdsPerTopic.$anonfun.topic" title="String">topic</a>, <a href="#kafka.consumer.TopicCount.makeConsumerThreadIdsPerTopic.$anonfun.consumerSet" title="scala.collection.mutable.HashSet[kafka.consumer.ConsumerThreadId]">consumerSet</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#kafka.consumer.TopicCount.makeConsumerThreadIdsPerTopic.consumerThreadIdsPerTopicMap" title="scala.collection.mutable.HashMap[String,scala.collection.Set[kafka.consumer.ConsumerThreadId]]">consumerThreadIdsPerTopicMap</a>
  <span class="delimiter">}</span>

  def <a title="(group: String, consumerId: String, zkClient: org.I0Itec.zkclient.ZkClient, excludeInternalTopics: Boolean)kafka.consumer.TopicCount" id="kafka.consumer.TopicCount.constructTopicCount(14f9b37225)">constructTopicCount</a><span class="delimiter">(</span><a title="String" id="kafka.consumer.TopicCount.constructTopicCount(14f9b37225).group">group</a>: <span title="String">String</span>, <a title="String" id="kafka.consumer.TopicCount.constructTopicCount(14f9b37225).consumerId">consumerId</a>: <span title="String">String</span>, <a title="org.I0Itec.zkclient.ZkClient" id="kafka.consumer.TopicCount.constructTopicCount(14f9b37225).zkClient">zkClient</a>: <span title="org.I0Itec.zkclient.ZkClient">ZkClient</span>, <a title="Boolean" id="kafka.consumer.TopicCount.constructTopicCount(14f9b37225).excludeInternalTopics">excludeInternalTopics</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> : <a href="#kafka.consumer;TopicCount" title="kafka.consumer.TopicCount">TopicCount</a> = <span class="delimiter">{</span>
    val <a title="kafka.utils.ZKGroupDirs" id="kafka.consumer.TopicCount.constructTopicCount(14f9b37225).dirs">dirs</a> = new <a href="../utils/ZkUtils.scala.html#kafka.utils;ZKGroupDirs" title="kafka.utils.ZKGroupDirs">ZKGroupDirs</a><span class="delimiter">(</span><a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).group" title="String">group</a><span class="delimiter">)</span>
    val <a title="String" id="kafka.consumer.TopicCount.constructTopicCount(14f9b37225).topicCountString">topicCountString</a> = <a href="../utils/ZkUtils.scala.html#kafka.utils.ZkUtils" title="kafka.utils.ZkUtils.type">ZkUtils</a>.<a href="../utils/ZkUtils.scala.html#kafka.utils.ZkUtils.readData" title="(client: org.I0Itec.zkclient.ZkClient, path: String)(String, org.apache.zookeeper.data.Stat)">readData</a><span class="delimiter">(</span><a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).zkClient" title="org.I0Itec.zkclient.ZkClient">zkClient</a>, <a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).dirs" title="kafka.utils.ZKGroupDirs">dirs</a>.<a href="../utils/ZkUtils.scala.html#kafka.utils;ZKGroupDirs.consumerRegistryDir" title="=&gt; String">consumerRegistryDir</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).consumerId" title="String">consumerId</a><span class="delimiter">)</span>.<span title="=&gt; String">_1</span>
    var <a title="String" id="kafka.consumer.TopicCount.constructTopicCount(14f9b37225).subscriptionPattern">subscriptionPattern</a>: <span title="String">String</span> = null
    var <a title="scala.collection.Map[String,Int]" id="kafka.consumer.TopicCount.constructTopicCount(14f9b37225).topMap">topMap</a>: <span title="scala.collection.Map[String,Int]">Map</span><span class="delimiter">[</span>String, Int<span class="delimiter">]</span> = null
    try <span class="delimiter">{</span>
      <a href="../utils/Json.scala.html#kafka.utils.Json" title="kafka.utils.Json.type">Json</a>.<a href="../utils/Json.scala.html#kafka.utils.Json.parseFull" title="(input: String)Option[Any]">parseFull</a><span class="delimiter">(</span><a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).topicCountString" title="String">topicCountString</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
        case Some<span class="delimiter">(</span><a title="Any" id="kafka.consumer.TopicCount.constructTopicCount(14f9b37225).m">m</a><span class="delimiter">)</span> =&gt;
          val <a title="scala.collection.Map[String,Any]" id="kafka.consumer.TopicCount.constructTopicCount(14f9b37225).consumerRegistrationMap">consumerRegistrationMap</a> = <a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).m" title="Any">m</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scala.collection.Map[String,Any]" class="delimiter">[</span><span title="scala.collection.Map[String,Any]">Map</span><span class="delimiter">[</span>String, Any<span class="delimiter">]</span><span class="delimiter">]</span>
          <a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).consumerRegistrationMap" title="scala.collection.Map[String,Any]">consumerRegistrationMap</a>.<span title="(key: String)Option[Any]">get</span><span class="delimiter">(</span><span title="String(&quot;pattern&quot;)" class="string">&quot;pattern&quot;</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
            case Some<span class="delimiter">(</span><a title="Any" id="kafka.consumer.TopicCount.constructTopicCount(14f9b37225).pattern">pattern</a><span class="delimiter">)</span> =&gt; <a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).subscriptionPattern" title="String">subscriptionPattern</a> = <a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).pattern" title="Any">pattern</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="String" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span>
            case <span title="None.type">None</span> =&gt; throw new <a href="../common/KafkaException.scala.html#kafka.common;KafkaException" title="kafka.common.KafkaException">KafkaException</a><span class="delimiter">(</span><span title="String(&quot;error constructing TopicCount : &quot;)" class="string">&quot;error constructing TopicCount : &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).topicCountString" title="String">topicCountString</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).consumerRegistrationMap" title="scala.collection.Map[String,Any]">consumerRegistrationMap</a>.<span title="(key: String)Option[Any]">get</span><span class="delimiter">(</span><span title="String(&quot;subscription&quot;)" class="string">&quot;subscription&quot;</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
            case Some<span class="delimiter">(</span><a title="Any" id="kafka.consumer.TopicCount.constructTopicCount(14f9b37225).sub">sub</a><span class="delimiter">)</span> =&gt; <a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).topMap" title="scala.collection.Map[String,Int]">topMap</a> = <a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).sub" title="Any">sub</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scala.collection.Map[String,Int]" class="delimiter">[</span><span title="scala.collection.Map[String,Int]">Map</span><span class="delimiter">[</span>String, Int<span class="delimiter">]</span><span class="delimiter">]</span>
            case <span title="None.type">None</span> =&gt; throw new <a href="../common/KafkaException.scala.html#kafka.common;KafkaException" title="kafka.common.KafkaException">KafkaException</a><span class="delimiter">(</span><span title="String(&quot;error constructing TopicCount : &quot;)" class="string">&quot;error constructing TopicCount : &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).topicCountString" title="String">topicCountString</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        case <span title="None.type">None</span> =&gt; throw new <a href="../common/KafkaException.scala.html#kafka.common;KafkaException" title="kafka.common.KafkaException">KafkaException</a><span class="delimiter">(</span><span title="String(&quot;error constructing TopicCount : &quot;)" class="string">&quot;error constructing TopicCount : &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).topicCountString" title="String">topicCountString</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> catch <span class="delimiter">{</span>
      case <a title="Throwable" id="kafka.consumer.TopicCount.constructTopicCount(14f9b37225).e">e</a>: <span title="Throwable">Throwable</span> =&gt;
        <a href="../utils/Logging.scala.html#kafka.utils;Logging.error(cfd112d89b)" title="(msg: =&gt; String, e: =&gt; Throwable)Unit">error</a><span class="delimiter">(</span><span title="String(&quot;error parsing consumer json string &quot;)" class="string">&quot;error parsing consumer json string &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).topicCountString" title="String">topicCountString</a>, <a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).e" title="Throwable">e</a><span class="delimiter">)</span>
        throw <a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).e" title="Throwable">e</a>
    <span class="delimiter">}</span>

    val <a title="Boolean" id="kafka.consumer.TopicCount.constructTopicCount(14f9b37225).hasWhiteList">hasWhiteList</a> = <a href="#kafka.consumer.TopicCount.whiteListPattern" title="=&gt; String">whiteListPattern</a>.<span title="(x$1: Any)Boolean">equals</span><span class="delimiter">(</span><a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).subscriptionPattern" title="String">subscriptionPattern</a><span class="delimiter">)</span>
    val <a title="Boolean" id="kafka.consumer.TopicCount.constructTopicCount(14f9b37225).hasBlackList">hasBlackList</a> = <a href="#kafka.consumer.TopicCount.blackListPattern" title="=&gt; String">blackListPattern</a>.<span title="(x$1: Any)Boolean">equals</span><span class="delimiter">(</span><a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).subscriptionPattern" title="String">subscriptionPattern</a><span class="delimiter">)</span>

    if <span class="delimiter">(</span><a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).topMap" title="scala.collection.Map[String,Int]">topMap</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).hasWhiteList" title="Boolean">hasWhiteList</a> <span title="(x: Boolean)Boolean">||</span> <a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).hasBlackList" title="Boolean">hasBlackList</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      new <a href="#kafka.consumer;StaticTopicCount" title="kafka.consumer.StaticTopicCount">StaticTopicCount</a><span class="delimiter">(</span><a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).consumerId" title="String">consumerId</a>, <a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).topMap" title="scala.collection.Map[String,Int]">topMap</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> else <span class="delimiter">{</span>
      val <a title="String" id="kafka.consumer.TopicCount.constructTopicCount(14f9b37225).regex">regex</a> = <a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).topMap" title="scala.collection.Map[String,Int]">topMap</a>.<span title="=&gt; (String, Int)">head</span>.<span title="=&gt; String">_1</span>
      val <a title="Int" id="kafka.consumer.TopicCount.constructTopicCount(14f9b37225).numStreams">numStreams</a> = <a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).topMap" title="scala.collection.Map[String,Int]">topMap</a>.<span title="=&gt; (String, Int)">head</span>.<span title="=&gt; Int">_2</span>
      val <a title="&lt;refinement of kafka.consumer.TopicFilter with Product&gt; extends kafka.consumer.TopicFilter with Product with Serializable" id="kafka.consumer.TopicCount.constructTopicCount(14f9b37225).filter">filter</a> =
        if <span class="delimiter">(</span><a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).hasWhiteList" title="Boolean">hasWhiteList</a><span class="delimiter">)</span>
          new <a href="TopicFilter.scala.html#kafka.consumer;Whitelist" title="kafka.consumer.Whitelist">Whitelist</a><span class="delimiter">(</span><a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).regex" title="String">regex</a><span class="delimiter">)</span>
        else
          new <a href="TopicFilter.scala.html#kafka.consumer;Blacklist" title="kafka.consumer.Blacklist">Blacklist</a><span class="delimiter">(</span><a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).regex" title="String">regex</a><span class="delimiter">)</span>
      new <a href="#kafka.consumer;WildcardTopicCount" title="kafka.consumer.WildcardTopicCount">WildcardTopicCount</a><span class="delimiter">(</span><a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).zkClient" title="org.I0Itec.zkclient.ZkClient">zkClient</a>, <a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).consumerId" title="String">consumerId</a>, <a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).filter" title="&lt;refinement of kafka.consumer.TopicFilter with Product&gt; extends kafka.consumer.TopicFilter with Product with Serializable">filter</a>, <a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).numStreams" title="Int">numStreams</a>, <a href="#kafka.consumer.TopicCount.constructTopicCount(14f9b37225).excludeInternalTopics" title="Boolean">excludeInternalTopics</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(consumerIdString: String, topicCount: scala.collection.Map[String,Int])kafka.consumer.StaticTopicCount" id="kafka.consumer.TopicCount.constructTopicCount(aa9cbb2f82)">constructTopicCount</a><span class="delimiter">(</span><a title="String" id="kafka.consumer.TopicCount.constructTopicCount(aa9cbb2f82).consumerIdString">consumerIdString</a>: <span title="String">String</span>, <a title="scala.collection.Map[String,Int]" id="kafka.consumer.TopicCount.constructTopicCount(aa9cbb2f82).topicCount">topicCount</a>: <span title="scala.collection.Map[String,Int]">Map</span><span class="delimiter">[</span>String, Int<span class="delimiter">]</span><span class="delimiter">)</span> =
    new <a href="#kafka.consumer;StaticTopicCount" title="kafka.consumer.StaticTopicCount">StaticTopicCount</a><span class="delimiter">(</span><a href="#kafka.consumer.TopicCount.constructTopicCount(aa9cbb2f82).consumerIdString" title="String">consumerIdString</a>, <a href="#kafka.consumer.TopicCount.constructTopicCount(aa9cbb2f82).topicCount" title="scala.collection.Map[String,Int]">topicCount</a><span class="delimiter">)</span>

  def <a title="(consumerIdString: String, filter: kafka.consumer.TopicFilter, numStreams: Int, zkClient: org.I0Itec.zkclient.ZkClient, excludeInternalTopics: Boolean)kafka.consumer.WildcardTopicCount" id="kafka.consumer.TopicCount.constructTopicCount(addd7c4fb4)">constructTopicCount</a><span class="delimiter">(</span><a title="String" id="kafka.consumer.TopicCount.constructTopicCount(addd7c4fb4).consumerIdString">consumerIdString</a>: <span title="String">String</span>, <a title="kafka.consumer.TopicFilter" id="kafka.consumer.TopicCount.constructTopicCount(addd7c4fb4).filter">filter</a>: <a href="TopicFilter.scala.html#kafka.consumer;TopicFilter" title="kafka.consumer.TopicFilter">TopicFilter</a>, <a title="Int" id="kafka.consumer.TopicCount.constructTopicCount(addd7c4fb4).numStreams">numStreams</a>: <span title="Int">Int</span>, <a title="org.I0Itec.zkclient.ZkClient" id="kafka.consumer.TopicCount.constructTopicCount(addd7c4fb4).zkClient">zkClient</a>: <span title="org.I0Itec.zkclient.ZkClient">ZkClient</span>, <a title="Boolean" id="kafka.consumer.TopicCount.constructTopicCount(addd7c4fb4).excludeInternalTopics">excludeInternalTopics</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> =
    new <a href="#kafka.consumer;WildcardTopicCount" title="kafka.consumer.WildcardTopicCount">WildcardTopicCount</a><span class="delimiter">(</span><a href="#kafka.consumer.TopicCount.constructTopicCount(addd7c4fb4).zkClient" title="org.I0Itec.zkclient.ZkClient">zkClient</a>, <a href="#kafka.consumer.TopicCount.constructTopicCount(addd7c4fb4).consumerIdString" title="String">consumerIdString</a>, <a href="#kafka.consumer.TopicCount.constructTopicCount(addd7c4fb4).filter" title="kafka.consumer.TopicFilter">filter</a>, <a href="#kafka.consumer.TopicCount.constructTopicCount(addd7c4fb4).numStreams" title="Int">numStreams</a>, <a href="#kafka.consumer.TopicCount.constructTopicCount(addd7c4fb4).excludeInternalTopics" title="Boolean">excludeInternalTopics</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

private<span class="delimiter">[</span>kafka<span class="delimiter">]</span> class <a title="class StaticTopicCount extends AnyRef with kafka.consumer.TopicCount" id="kafka.consumer;StaticTopicCount">StaticTopicCount</a><a href="#kafka.consumer;StaticTopicCount" title="kafka.consumer.StaticTopicCount" class="delimiter">(</a>val <a title="String" id="kafka.consumer;StaticTopicCount.consumerIdString">consumerIdString</a>: <span title="String">String</span>,
                                val <a title="scala.collection.Map[String,Int]" id="kafka.consumer;StaticTopicCount.topicCountMap">topicCountMap</a>: <span title="scala.collection.Map[String,Int]">Map</span><span class="delimiter">[</span>String, Int<span class="delimiter">]</span><span class="delimiter">)</span>
                                extends <a href="#kafka.consumer;TopicCount" title="kafka.consumer.TopicCount">TopicCount</a> <span class="delimiter">{</span>

  def <a title="=&gt; scala.collection.mutable.HashMap[String,scala.collection.Set[kafka.consumer.ConsumerThreadId]]" id="kafka.consumer;StaticTopicCount.getConsumerThreadIdsPerTopic">getConsumerThreadIdsPerTopic</a> = <a href="#kafka.consumer.TopicCount" title="kafka.consumer.TopicCount.type">TopicCount</a>.<a href="#kafka.consumer.TopicCount.makeConsumerThreadIdsPerTopic" title="(consumerIdString: String, topicCountMap: scala.collection.Map[String,Int])scala.collection.mutable.HashMap[String,scala.collection.Set[kafka.consumer.ConsumerThreadId]]">makeConsumerThreadIdsPerTopic</a><span class="delimiter">(</span><a href="#kafka.consumer;StaticTopicCount.consumerIdString" title="=&gt; String">consumerIdString</a>, <a href="#kafka.consumer;StaticTopicCount.topicCountMap" title="=&gt; scala.collection.Map[String,Int]">topicCountMap</a><span class="delimiter">)</span>

  override def <a title="(obj: Any)Boolean" id="kafka.consumer;StaticTopicCount.equals">equals</a><span class="delimiter">(</span><a title="Any" id="kafka.consumer;StaticTopicCount.equals.obj">obj</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <a href="#kafka.consumer;StaticTopicCount.equals.obj" title="Any">obj</a> match <span class="delimiter">{</span>
      case null =&gt; false
      case <a title="kafka.consumer.StaticTopicCount" id="kafka.consumer;StaticTopicCount.equals.n">n</a>: <a href="#kafka.consumer;StaticTopicCount" title="kafka.consumer.StaticTopicCount">StaticTopicCount</a> =&gt; <a href="#kafka.consumer;StaticTopicCount.consumerIdString" title="=&gt; String">consumerIdString</a> <span title="(x$1: Any)Boolean">==</span> <a href="#kafka.consumer;StaticTopicCount.equals.n" title="kafka.consumer.StaticTopicCount">n</a>.<a href="#kafka.consumer;StaticTopicCount.consumerIdString" title="=&gt; String">consumerIdString</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#kafka.consumer;StaticTopicCount.topicCountMap" title="=&gt; scala.collection.Map[String,Int]">topicCountMap</a> <span title="(x$1: Any)Boolean">==</span> <a href="#kafka.consumer;StaticTopicCount.equals.n" title="kafka.consumer.StaticTopicCount">n</a>.<a href="#kafka.consumer;StaticTopicCount.topicCountMap" title="=&gt; scala.collection.Map[String,Int]">topicCountMap</a>
      case _ =&gt; false
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="=&gt; scala.collection.Map[String,Int]" id="kafka.consumer;StaticTopicCount.getTopicCountMap">getTopicCountMap</a> = <a href="#kafka.consumer;StaticTopicCount.topicCountMap" title="=&gt; scala.collection.Map[String,Int]">topicCountMap</a>

  def <a title="=&gt; String" id="kafka.consumer;StaticTopicCount.pattern">pattern</a> = <a href="#kafka.consumer.TopicCount" title="kafka.consumer.TopicCount.type">TopicCount</a>.<a href="#kafka.consumer.TopicCount.staticPattern" title="=&gt; String">staticPattern</a>
<span class="delimiter">}</span>

private<span class="delimiter">[</span>kafka<span class="delimiter">]</span> class <a title="class WildcardTopicCount extends AnyRef with kafka.consumer.TopicCount" id="kafka.consumer;WildcardTopicCount">WildcardTopicCount</a><a href="#kafka.consumer;WildcardTopicCount" title="kafka.consumer.WildcardTopicCount" class="delimiter">(</a><a title="org.I0Itec.zkclient.ZkClient" id="kafka.consumer;WildcardTopicCount.zkClient">zkClient</a>: <span title="org.I0Itec.zkclient.ZkClient">ZkClient</span>,
                                        <a title="String" id="kafka.consumer;WildcardTopicCount.consumerIdString">consumerIdString</a>: <span title="String">String</span>,
                                        <a title="kafka.consumer.TopicFilter" id="kafka.consumer;WildcardTopicCount.topicFilter">topicFilter</a>: <a href="TopicFilter.scala.html#kafka.consumer;TopicFilter" title="kafka.consumer.TopicFilter">TopicFilter</a>,
                                        <a title="Int" id="kafka.consumer;WildcardTopicCount.numStreams">numStreams</a>: <span title="Int">Int</span>,
                                        <a title="Boolean" id="kafka.consumer;WildcardTopicCount.excludeInternalTopics">excludeInternalTopics</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> extends <a href="#kafka.consumer;TopicCount" title="kafka.consumer.TopicCount">TopicCount</a> <span class="delimiter">{</span>
  def <a title="=&gt; scala.collection.mutable.HashMap[String,scala.collection.Set[kafka.consumer.ConsumerThreadId]]" id="kafka.consumer;WildcardTopicCount.getConsumerThreadIdsPerTopic">getConsumerThreadIdsPerTopic</a> = <span class="delimiter">{</span>
    val <a title="Seq[String]" id="kafka.consumer;WildcardTopicCount.getConsumerThreadIdsPerTopic.wildcardTopics">wildcardTopics</a> = <a href="../utils/ZkUtils.scala.html#kafka.utils.ZkUtils" title="kafka.utils.ZkUtils.type">ZkUtils</a>.<a href="../utils/ZkUtils.scala.html#kafka.utils.ZkUtils.getChildrenParentMayNotExist" title="(client: org.I0Itec.zkclient.ZkClient, path: String)Seq[String]">getChildrenParentMayNotExist</a><span class="delimiter">(</span><a href="#kafka.consumer;WildcardTopicCount.zkClient" title="org.I0Itec.zkclient.ZkClient">zkClient</a>, <a href="../utils/ZkUtils.scala.html#kafka.utils.ZkUtils" title="kafka.utils.ZkUtils.type">ZkUtils</a>.<a href="../utils/ZkUtils.scala.html#kafka.utils.ZkUtils.BrokerTopicsPath" title="=&gt; String">BrokerTopicsPath</a><span class="delimiter">)</span>
                         .<span title="(p: String =&gt; Boolean)Seq[String]">filter</span><span class="delimiter">(</span><a title="String" id="kafka.consumer;WildcardTopicCount.getConsumerThreadIdsPerTopic.wildcardTopics.$anonfun.topic">topic</a> =&gt; <a href="#kafka.consumer;WildcardTopicCount.topicFilter" title="kafka.consumer.TopicFilter">topicFilter</a>.<a href="TopicFilter.scala.html#kafka.consumer;TopicFilter.isTopicAllowed" title="(topic: String, excludeInternalTopics: Boolean)Boolean">isTopicAllowed</a><span class="delimiter">(</span><a href="#kafka.consumer;WildcardTopicCount.getConsumerThreadIdsPerTopic.wildcardTopics.$anonfun.topic" title="String">topic</a>, <a href="#kafka.consumer;WildcardTopicCount.excludeInternalTopics" title="Boolean">excludeInternalTopics</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#kafka.consumer.TopicCount" title="kafka.consumer.TopicCount.type">TopicCount</a>.<a href="#kafka.consumer.TopicCount.makeConsumerThreadIdsPerTopic" title="(consumerIdString: String, topicCountMap: scala.collection.Map[String,Int])scala.collection.mutable.HashMap[String,scala.collection.Set[kafka.consumer.ConsumerThreadId]]">makeConsumerThreadIdsPerTopic</a><span class="delimiter">(</span><a href="#kafka.consumer;WildcardTopicCount.consumerIdString" title="String">consumerIdString</a>, <span title="(elems: (String, Int)*)scala.collection.Map[String,Int]">Map</span><span class="delimiter">(</span><a href="#kafka.consumer;WildcardTopicCount.getConsumerThreadIdsPerTopic.wildcardTopics" title="Seq[String]">wildcardTopics</a>.<span title="(f: String =&gt; (String, Int))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[String],(String, Int),Seq[(String, Int)]])Seq[(String, Int)]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,(String, Int),Seq[(String, Int)]]" class="delimiter">(</span><span title="(_1: String, _2: Int)(String, Int)" class="delimiter">(</span><a href="#kafka.consumer;WildcardTopicCount.getConsumerThreadIdsPerTopic.$anonfun.x$2" title="String">_</a>, <a href="#kafka.consumer;WildcardTopicCount.numStreams" title="Int">numStreams</a><span class="delimiter">)</span><span class="delimiter">)</span>: _*<span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="=&gt; scala.collection.Map[String,Int]" id="kafka.consumer;WildcardTopicCount.getTopicCountMap">getTopicCountMap</a> = <span title="(elems: (String, Int)*)scala.collection.Map[String,Int]">Map</span><span class="delimiter">(</span><a href="../utils/Utils.scala.html#kafka.utils.Utils" title="kafka.utils.Utils.type">Utils</a>.<a href="../utils/Utils.scala.html#kafka.utils.Utils.JSONEscapeString" title="(s: String)String">JSONEscapeString</a><span title="(self: String)ArrowAssoc[String]" class="delimiter">(</span><a href="#kafka.consumer;WildcardTopicCount.topicFilter" title="kafka.consumer.TopicFilter">topicFilter</a>.<a href="TopicFilter.scala.html#kafka.consumer;TopicFilter.regex" title="=&gt; String">regex</a><span class="delimiter">)</span> <span title="(y: Int)(String, Int)">-&gt;</span> <a href="#kafka.consumer;WildcardTopicCount.numStreams" title="Int">numStreams</a><span class="delimiter">)</span>

  def <a title="=&gt; String" id="kafka.consumer;WildcardTopicCount.pattern">pattern</a>: <span title="String">String</span> = <span class="delimiter">{</span>
    <a href="#kafka.consumer;WildcardTopicCount.topicFilter" title="kafka.consumer.TopicFilter">topicFilter</a> match <span class="delimiter">{</span>
      case <a title="kafka.consumer.Whitelist" id="kafka.consumer;WildcardTopicCount.pattern.wl">wl</a>: <a href="TopicFilter.scala.html#kafka.consumer;Whitelist" title="kafka.consumer.Whitelist">Whitelist</a> =&gt; <a href="#kafka.consumer.TopicCount" title="kafka.consumer.TopicCount.type">TopicCount</a>.<a href="#kafka.consumer.TopicCount.whiteListPattern" title="=&gt; String">whiteListPattern</a>
      case <a title="kafka.consumer.Blacklist" id="kafka.consumer;WildcardTopicCount.pattern.bl">bl</a>: <a href="TopicFilter.scala.html#kafka.consumer;Blacklist" title="kafka.consumer.Blacklist">Blacklist</a> =&gt; <a href="#kafka.consumer.TopicCount" title="kafka.consumer.TopicCount.type">TopicCount</a>.<a href="#kafka.consumer.TopicCount.blackListPattern" title="=&gt; String">blackListPattern</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>


        </pre>
    </body>
</html>
