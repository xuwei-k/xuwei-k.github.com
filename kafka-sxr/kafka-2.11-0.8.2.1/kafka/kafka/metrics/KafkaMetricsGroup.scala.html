<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>kafka/kafka/metrics/KafkaMetricsGroup.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements.  See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the &quot;License&quot;); you may not use this file except in compliance with
 * the License.  You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>

package kafka.metrics


import java.util.concurrent.TimeUnit

import com.yammer.metrics.Metrics
import com.yammer.metrics.core.<span class="delimiter">{</span>Gauge, MetricName<span class="delimiter">}</span>
import kafka.consumer.<span class="delimiter">{</span>ConsumerTopicStatsRegistry, FetchRequestAndResponseStatsRegistry<span class="delimiter">}</span>
import kafka.producer.<span class="delimiter">{</span>ProducerRequestStatsRegistry, ProducerStatsRegistry, ProducerTopicStatsRegistry<span class="delimiter">}</span>
import kafka.utils.Logging

import scala.collection.immutable


trait <a title="trait KafkaMetricsGroup extends AnyRef with kafka.utils.Logging" id="kafka.metrics;KafkaMetricsGroup">KafkaMetricsGroup</a> extends <a href="../utils/Logging.scala.html#kafka.utils;Logging" title="kafka.utils.Logging">Logging</a> <span class="delimiter">{</span>

  <span class="comment">/**
   * Creates a new MetricName object for gauges, meters, etc. created for this
   * metrics group.
   * @param name Descriptive name of the metric.
   * @param tags Additional attributes which mBean will have.
   * @return Sanitized metric name object.
   */</span>
  private def <a title="(name: String, tags: scala.collection.Map[String,String])com.yammer.metrics.core.MetricName" id="kafka.metrics;KafkaMetricsGroup.metricName">metricName</a><span class="delimiter">(</span><a title="String" id="kafka.metrics;KafkaMetricsGroup.metricName.name">name</a>: <span title="String">String</span>, <a title="scala.collection.Map[String,String]" id="kafka.metrics;KafkaMetricsGroup.metricName$default$2">tags</a>: scala.collection.<span title="scala.collection.Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[String,Nothing]">empty</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="Class[_ &lt;: kafka.metrics.KafkaMetricsGroup]" id="kafka.metrics;KafkaMetricsGroup.metricName.klass">klass</a> = this.<span title="()Class[_]">getClass</span>
    val <a title="String" id="kafka.metrics;KafkaMetricsGroup.metricName.pkg">pkg</a> = if <span class="delimiter">(</span><a href="#kafka.metrics;KafkaMetricsGroup.metricName.klass" title="Class[_ &lt;: kafka.metrics.KafkaMetricsGroup]">klass</a>.<span title="()Package">getPackage</span> <span title="(x$1: Any)Boolean">==</span> null<span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> else <a href="#kafka.metrics;KafkaMetricsGroup.metricName.klass" title="Class[_ &lt;: kafka.metrics.KafkaMetricsGroup]">klass</a>.<span title="()Package">getPackage</span>.<span title="()String">getName</span>
    val <a title="String" id="kafka.metrics;KafkaMetricsGroup.metricName.simpleName">simpleName</a> = <a href="#kafka.metrics;KafkaMetricsGroup.metricName.klass" title="Class[_ &lt;: kafka.metrics.KafkaMetricsGroup]">klass</a>.<span title="()String">getSimpleName</span>.<span title="(x$1: String, x$2: String)String">replaceAll</span><span class="delimiter">(</span><span title="String(&quot;\\$$&quot;)" class="string">&quot;\\$$&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>

    <a href="#kafka.metrics;KafkaMetricsGroup.explicitMetricName" title="(group: String, typeName: String, name: String, tags: scala.collection.Map[String,String])com.yammer.metrics.core.MetricName">explicitMetricName</a><span class="delimiter">(</span><a href="#kafka.metrics;KafkaMetricsGroup.metricName.pkg" title="String">pkg</a>, <a href="#kafka.metrics;KafkaMetricsGroup.metricName.simpleName" title="String">simpleName</a>, <a href="#kafka.metrics;KafkaMetricsGroup.metricName.name" title="String">name</a>, <a href="#kafka.metrics;KafkaMetricsGroup.metricName$default$2" title="scala.collection.Map[String,String]">tags</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>


  private def <a title="(group: String, typeName: String, name: String, tags: scala.collection.Map[String,String])com.yammer.metrics.core.MetricName" id="kafka.metrics;KafkaMetricsGroup.explicitMetricName">explicitMetricName</a><span class="delimiter">(</span><a title="String" id="kafka.metrics;KafkaMetricsGroup.explicitMetricName.group">group</a>: <span title="String">String</span>, <a title="String" id="kafka.metrics;KafkaMetricsGroup.explicitMetricName.typeName">typeName</a>: <span title="String">String</span>, <a title="String" id="kafka.metrics;KafkaMetricsGroup.explicitMetricName.name">name</a>: <span title="String">String</span>, <a title="scala.collection.Map[String,String]" id="kafka.metrics;KafkaMetricsGroup.explicitMetricName$default$4">tags</a>: scala.collection.<span title="scala.collection.Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[String,Nothing]">empty</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="StringBuilder" id="kafka.metrics;KafkaMetricsGroup.explicitMetricName.nameBuilder">nameBuilder</a>: <span title="StringBuilder">StringBuilder</span> = new <span title="StringBuilder">StringBuilder</span>

    <a href="#kafka.metrics;KafkaMetricsGroup.explicitMetricName.nameBuilder" title="StringBuilder">nameBuilder</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#kafka.metrics;KafkaMetricsGroup.explicitMetricName.group" title="String">group</a><span class="delimiter">)</span>

    <a href="#kafka.metrics;KafkaMetricsGroup.explicitMetricName.nameBuilder" title="StringBuilder">nameBuilder</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;:type=&quot;)" class="string">&quot;:type=&quot;</span><span class="delimiter">)</span>

    <a href="#kafka.metrics;KafkaMetricsGroup.explicitMetricName.nameBuilder" title="StringBuilder">nameBuilder</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#kafka.metrics;KafkaMetricsGroup.explicitMetricName.typeName" title="String">typeName</a><span class="delimiter">)</span>

    if <span class="delimiter">(</span><a href="#kafka.metrics;KafkaMetricsGroup.explicitMetricName.name" title="String">name</a>.<span title="()Int">length</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#kafka.metrics;KafkaMetricsGroup.explicitMetricName.nameBuilder" title="StringBuilder">nameBuilder</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;,name=&quot;)" class="string">&quot;,name=&quot;</span><span class="delimiter">)</span>
      <a href="#kafka.metrics;KafkaMetricsGroup.explicitMetricName.nameBuilder" title="StringBuilder">nameBuilder</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#kafka.metrics;KafkaMetricsGroup.explicitMetricName.name" title="String">name</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    val <a title="String" id="kafka.metrics;KafkaMetricsGroup.explicitMetricName.scope">scope</a>: <span title="String">String</span> = <a href="#kafka.metrics.KafkaMetricsGroup" title="kafka.metrics.KafkaMetricsGroup.type">KafkaMetricsGroup</a>.<a href="#kafka.metrics.KafkaMetricsGroup.toScope" title="(tags: scala.collection.Map[String,String])Option[String]">toScope</a><span class="delimiter">(</span><a href="#kafka.metrics;KafkaMetricsGroup.explicitMetricName$default$4" title="scala.collection.Map[String,String]">tags</a><span class="delimiter">)</span>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span>null<span class="delimiter">)</span>
    val <a title="Option[String]" id="kafka.metrics;KafkaMetricsGroup.explicitMetricName.tagsName">tagsName</a> = <a href="#kafka.metrics.KafkaMetricsGroup" title="kafka.metrics.KafkaMetricsGroup.type">KafkaMetricsGroup</a>.<a href="#kafka.metrics.KafkaMetricsGroup.toMBeanName" title="(tags: scala.collection.Map[String,String])Option[String]">toMBeanName</a><span class="delimiter">(</span><a href="#kafka.metrics;KafkaMetricsGroup.explicitMetricName$default$4" title="scala.collection.Map[String,String]">tags</a><span class="delimiter">)</span>
    <a href="#kafka.metrics;KafkaMetricsGroup.explicitMetricName.tagsName" title="Option[String]">tagsName</a> match <span class="delimiter">{</span>
      case Some<span class="delimiter">(</span><a title="String" id="kafka.metrics;KafkaMetricsGroup.explicitMetricName.tn">tn</a><span class="delimiter">)</span> =&gt;
        <a href="#kafka.metrics;KafkaMetricsGroup.explicitMetricName.nameBuilder" title="StringBuilder">nameBuilder</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#kafka.metrics;KafkaMetricsGroup.explicitMetricName.tn" title="String">tn</a><span class="delimiter">)</span>
      case <span title="None.type">None</span> =&gt;
    <span class="delimiter">}</span>

    new <span title="com.yammer.metrics.core.MetricName">MetricName</span><span class="delimiter">(</span><a href="#kafka.metrics;KafkaMetricsGroup.explicitMetricName.group" title="String">group</a>, <a href="#kafka.metrics;KafkaMetricsGroup.explicitMetricName.typeName" title="String">typeName</a>, <a href="#kafka.metrics;KafkaMetricsGroup.explicitMetricName.name" title="String">name</a>, <a href="#kafka.metrics;KafkaMetricsGroup.explicitMetricName.scope" title="String">scope</a>, <a href="#kafka.metrics;KafkaMetricsGroup.explicitMetricName.nameBuilder" title="StringBuilder">nameBuilder</a>.<span title="()String">toString</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="[T](name: String, metric: com.yammer.metrics.core.Gauge[T], tags: scala.collection.Map[String,String])com.yammer.metrics.core.Gauge[T]" id="kafka.metrics;KafkaMetricsGroup.newGauge">newGauge</a><span class="delimiter">[</span><a title="" id="kafka.metrics;KafkaMetricsGroup.newGauge$default$3;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="kafka.metrics;KafkaMetricsGroup.newGauge.name">name</a>: <span title="String">String</span>, <a title="com.yammer.metrics.core.Gauge[T]" id="kafka.metrics;KafkaMetricsGroup.newGauge.metric">metric</a>: <span title="com.yammer.metrics.core.Gauge[T]">Gauge</span><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="scala.collection.Map[String,String]" id="kafka.metrics;KafkaMetricsGroup.newGauge$default$3">tags</a>: scala.collection.<span title="scala.collection.Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[String,Nothing]">empty</span><span class="delimiter">)</span> =
    <span title="com.yammer.metrics.Metrics.type">Metrics</span>.<span title="()com.yammer.metrics.core.MetricsRegistry">defaultRegistry</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: com.yammer.metrics.core.MetricName, x$2: com.yammer.metrics.core.Gauge[T])com.yammer.metrics.core.Gauge[T]">newGauge</span><span class="delimiter">(</span><a href="#kafka.metrics;KafkaMetricsGroup.metricName" title="(name: String, tags: scala.collection.Map[String,String])com.yammer.metrics.core.MetricName">metricName</a><span class="delimiter">(</span><a href="#kafka.metrics;KafkaMetricsGroup.newGauge.name" title="String">name</a>, <a href="#kafka.metrics;KafkaMetricsGroup.newGauge$default$3" title="scala.collection.Map[String,String]">tags</a><span class="delimiter">)</span>, <a href="#kafka.metrics;KafkaMetricsGroup.newGauge.metric" title="com.yammer.metrics.core.Gauge[T]">metric</a><span class="delimiter">)</span>

  def <a title="(name: String, eventType: String, timeUnit: java.util.concurrent.TimeUnit, tags: scala.collection.Map[String,String])com.yammer.metrics.core.Meter" id="kafka.metrics;KafkaMetricsGroup.newMeter">newMeter</a><span class="delimiter">(</span><a title="String" id="kafka.metrics;KafkaMetricsGroup.newMeter.name">name</a>: <span title="String">String</span>, <a title="String" id="kafka.metrics;KafkaMetricsGroup.newMeter.eventType">eventType</a>: <span title="String">String</span>, <a title="java.util.concurrent.TimeUnit" id="kafka.metrics;KafkaMetricsGroup.newMeter.timeUnit">timeUnit</a>: <span title="java.util.concurrent.TimeUnit">TimeUnit</span>, <a title="scala.collection.Map[String,String]" id="kafka.metrics;KafkaMetricsGroup.newMeter$default$4">tags</a>: scala.collection.<span title="scala.collection.Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[String,Nothing]">empty</span><span class="delimiter">)</span> =
    <span title="com.yammer.metrics.Metrics.type">Metrics</span>.<span title="()com.yammer.metrics.core.MetricsRegistry">defaultRegistry</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: com.yammer.metrics.core.MetricName, x$2: String, x$3: java.util.concurrent.TimeUnit)com.yammer.metrics.core.Meter">newMeter</span><span class="delimiter">(</span><a href="#kafka.metrics;KafkaMetricsGroup.metricName" title="(name: String, tags: scala.collection.Map[String,String])com.yammer.metrics.core.MetricName">metricName</a><span class="delimiter">(</span><a href="#kafka.metrics;KafkaMetricsGroup.newMeter.name" title="String">name</a>, <a href="#kafka.metrics;KafkaMetricsGroup.newMeter$default$4" title="scala.collection.Map[String,String]">tags</a><span class="delimiter">)</span>, <a href="#kafka.metrics;KafkaMetricsGroup.newMeter.eventType" title="String">eventType</a>, <a href="#kafka.metrics;KafkaMetricsGroup.newMeter.timeUnit" title="java.util.concurrent.TimeUnit">timeUnit</a><span class="delimiter">)</span>

  def <a title="(name: String, biased: Boolean, tags: scala.collection.Map[String,String])com.yammer.metrics.core.Histogram" id="kafka.metrics;KafkaMetricsGroup.newHistogram">newHistogram</a><span class="delimiter">(</span><a title="String" id="kafka.metrics;KafkaMetricsGroup.newHistogram.name">name</a>: <span title="String">String</span>, <a title="Boolean" id="kafka.metrics;KafkaMetricsGroup.newHistogram$default$2">biased</a>: <span title="Boolean">Boolean</span> = true, <a title="scala.collection.Map[String,String]" id="kafka.metrics;KafkaMetricsGroup.newHistogram$default$3">tags</a>: scala.collection.<span title="scala.collection.Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[String,Nothing]">empty</span><span class="delimiter">)</span> =
    <span title="com.yammer.metrics.Metrics.type">Metrics</span>.<span title="()com.yammer.metrics.core.MetricsRegistry">defaultRegistry</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: com.yammer.metrics.core.MetricName, x$2: Boolean)com.yammer.metrics.core.Histogram">newHistogram</span><span class="delimiter">(</span><a href="#kafka.metrics;KafkaMetricsGroup.metricName" title="(name: String, tags: scala.collection.Map[String,String])com.yammer.metrics.core.MetricName">metricName</a><span class="delimiter">(</span><a href="#kafka.metrics;KafkaMetricsGroup.newHistogram.name" title="String">name</a>, <a href="#kafka.metrics;KafkaMetricsGroup.newHistogram$default$3" title="scala.collection.Map[String,String]">tags</a><span class="delimiter">)</span>, <a href="#kafka.metrics;KafkaMetricsGroup.newHistogram$default$2" title="Boolean">biased</a><span class="delimiter">)</span>

  def <a title="(name: String, durationUnit: java.util.concurrent.TimeUnit, rateUnit: java.util.concurrent.TimeUnit, tags: scala.collection.Map[String,String])com.yammer.metrics.core.Timer" id="kafka.metrics;KafkaMetricsGroup.newTimer">newTimer</a><span class="delimiter">(</span><a title="String" id="kafka.metrics;KafkaMetricsGroup.newTimer.name">name</a>: <span title="String">String</span>, <a title="java.util.concurrent.TimeUnit" id="kafka.metrics;KafkaMetricsGroup.newTimer.durationUnit">durationUnit</a>: <span title="java.util.concurrent.TimeUnit">TimeUnit</span>, <a title="java.util.concurrent.TimeUnit" id="kafka.metrics;KafkaMetricsGroup.newTimer.rateUnit">rateUnit</a>: <span title="java.util.concurrent.TimeUnit">TimeUnit</span>, <a title="scala.collection.Map[String,String]" id="kafka.metrics;KafkaMetricsGroup.newTimer$default$4">tags</a>: scala.collection.<span title="scala.collection.Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[String,Nothing]">empty</span><span class="delimiter">)</span> =
    <span title="com.yammer.metrics.Metrics.type">Metrics</span>.<span title="()com.yammer.metrics.core.MetricsRegistry">defaultRegistry</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: com.yammer.metrics.core.MetricName, x$2: java.util.concurrent.TimeUnit, x$3: java.util.concurrent.TimeUnit)com.yammer.metrics.core.Timer">newTimer</span><span class="delimiter">(</span><a href="#kafka.metrics;KafkaMetricsGroup.metricName" title="(name: String, tags: scala.collection.Map[String,String])com.yammer.metrics.core.MetricName">metricName</a><span class="delimiter">(</span><a href="#kafka.metrics;KafkaMetricsGroup.newTimer.name" title="String">name</a>, <a href="#kafka.metrics;KafkaMetricsGroup.newTimer$default$4" title="scala.collection.Map[String,String]">tags</a><span class="delimiter">)</span>, <a href="#kafka.metrics;KafkaMetricsGroup.newTimer.durationUnit" title="java.util.concurrent.TimeUnit">durationUnit</a>, <a href="#kafka.metrics;KafkaMetricsGroup.newTimer.rateUnit" title="java.util.concurrent.TimeUnit">rateUnit</a><span class="delimiter">)</span>

  def <a title="(name: String, tags: scala.collection.Map[String,String])Unit" id="kafka.metrics;KafkaMetricsGroup.removeMetric">removeMetric</a><span class="delimiter">(</span><a title="String" id="kafka.metrics;KafkaMetricsGroup.removeMetric.name">name</a>: <span title="String">String</span>, <a title="scala.collection.Map[String,String]" id="kafka.metrics;KafkaMetricsGroup.removeMetric$default$2">tags</a>: scala.collection.<span title="scala.collection.Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[String,Nothing]">empty</span><span class="delimiter">)</span> =
    <span title="com.yammer.metrics.Metrics.type">Metrics</span>.<span title="()com.yammer.metrics.core.MetricsRegistry">defaultRegistry</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: com.yammer.metrics.core.MetricName)Unit">removeMetric</span><span class="delimiter">(</span><a href="#kafka.metrics;KafkaMetricsGroup.metricName" title="(name: String, tags: scala.collection.Map[String,String])com.yammer.metrics.core.MetricName">metricName</a><span class="delimiter">(</span><a href="#kafka.metrics;KafkaMetricsGroup.removeMetric.name" title="String">name</a>, <a href="#kafka.metrics;KafkaMetricsGroup.removeMetric$default$2" title="scala.collection.Map[String,String]">tags</a><span class="delimiter">)</span><span class="delimiter">)</span>


<span class="delimiter">}</span>

object <a title="kafka.metrics.KafkaMetricsGroup.type" id="kafka.metrics.KafkaMetricsGroup">KafkaMetricsGroup</a> extends <a href="#kafka.metrics;KafkaMetricsGroup" title="kafka.metrics.KafkaMetricsGroup">KafkaMetricsGroup</a> with <a href="../utils/Logging.scala.html#kafka.utils;Logging" title="kafka.utils.Logging">Logging</a> <span class="delimiter">{</span>
  <span class="comment">/**
   * To make sure all the metrics be de-registered after consumer/producer close, the metric names should be
   * put into the metric name set.
   */</span>
  private val <a title="List[com.yammer.metrics.core.MetricName]" id="kafka.metrics.KafkaMetricsGroup.consumerMetricNameList">consumerMetricNameList</a>: immutable.<span title="List[com.yammer.metrics.core.MetricName]">List</span><span class="delimiter">[</span>MetricName<span class="delimiter">]</span> = immutable.<span title="[A](xs: A*)List[A]">List</span><span title="(xs: com.yammer.metrics.core.MetricName*)List[com.yammer.metrics.core.MetricName]" class="delimiter">[</span><span title="com.yammer.metrics.core.MetricName">MetricName</span><span class="delimiter">]</span><span class="delimiter">(</span>
    <span class="comment">// kafka.consumer.ZookeeperConsumerConnector</span>
    new <span title="com.yammer.metrics.core.MetricName">MetricName</span><span class="delimiter">(</span><span title="String(&quot;kafka.consumer&quot;)" class="string">&quot;kafka.consumer&quot;</span>, <span title="String(&quot;ZookeeperConsumerConnector&quot;)" class="string">&quot;ZookeeperConsumerConnector&quot;</span>, <span title="String(&quot;FetchQueueSize&quot;)" class="string">&quot;FetchQueueSize&quot;</span><span class="delimiter">)</span>,
    new <span title="com.yammer.metrics.core.MetricName">MetricName</span><span class="delimiter">(</span><span title="String(&quot;kafka.consumer&quot;)" class="string">&quot;kafka.consumer&quot;</span>, <span title="String(&quot;ZookeeperConsumerConnector&quot;)" class="string">&quot;ZookeeperConsumerConnector&quot;</span>, <span title="String(&quot;KafkaCommitsPerSec&quot;)" class="string">&quot;KafkaCommitsPerSec&quot;</span><span class="delimiter">)</span>,
    new <span title="com.yammer.metrics.core.MetricName">MetricName</span><span class="delimiter">(</span><span title="String(&quot;kafka.consumer&quot;)" class="string">&quot;kafka.consumer&quot;</span>, <span title="String(&quot;ZookeeperConsumerConnector&quot;)" class="string">&quot;ZookeeperConsumerConnector&quot;</span>, <span title="String(&quot;ZooKeeperCommitsPerSec&quot;)" class="string">&quot;ZooKeeperCommitsPerSec&quot;</span><span class="delimiter">)</span>,
    new <span title="com.yammer.metrics.core.MetricName">MetricName</span><span class="delimiter">(</span><span title="String(&quot;kafka.consumer&quot;)" class="string">&quot;kafka.consumer&quot;</span>, <span title="String(&quot;ZookeeperConsumerConnector&quot;)" class="string">&quot;ZookeeperConsumerConnector&quot;</span>, <span title="String(&quot;RebalanceRateAndTime&quot;)" class="string">&quot;RebalanceRateAndTime&quot;</span><span class="delimiter">)</span>,
    new <span title="com.yammer.metrics.core.MetricName">MetricName</span><span class="delimiter">(</span><span title="String(&quot;kafka.consumer&quot;)" class="string">&quot;kafka.consumer&quot;</span>, <span title="String(&quot;ZookeeperConsumerConnector&quot;)" class="string">&quot;ZookeeperConsumerConnector&quot;</span>, <span title="String(&quot;OwnedPartitionsCount&quot;)" class="string">&quot;OwnedPartitionsCount&quot;</span><span class="delimiter">)</span>,

    <span class="comment">// kafka.consumer.ConsumerFetcherManager</span>
    new <span title="com.yammer.metrics.core.MetricName">MetricName</span><span class="delimiter">(</span><span title="String(&quot;kafka.consumer&quot;)" class="string">&quot;kafka.consumer&quot;</span>, <span title="String(&quot;ConsumerFetcherManager&quot;)" class="string">&quot;ConsumerFetcherManager&quot;</span>, <span title="String(&quot;MaxLag&quot;)" class="string">&quot;MaxLag&quot;</span><span class="delimiter">)</span>,
    new <span title="com.yammer.metrics.core.MetricName">MetricName</span><span class="delimiter">(</span><span title="String(&quot;kafka.consumer&quot;)" class="string">&quot;kafka.consumer&quot;</span>, <span title="String(&quot;ConsumerFetcherManager&quot;)" class="string">&quot;ConsumerFetcherManager&quot;</span>, <span title="String(&quot;MinFetchRate&quot;)" class="string">&quot;MinFetchRate&quot;</span><span class="delimiter">)</span>,

    <span class="comment">// kafka.server.AbstractFetcherThread &lt;-- kafka.consumer.ConsumerFetcherThread</span>
    new <span title="com.yammer.metrics.core.MetricName">MetricName</span><span class="delimiter">(</span><span title="String(&quot;kafka.server&quot;)" class="string">&quot;kafka.server&quot;</span>, <span title="String(&quot;FetcherLagMetrics&quot;)" class="string">&quot;FetcherLagMetrics&quot;</span>, <span title="String(&quot;ConsumerLag&quot;)" class="string">&quot;ConsumerLag&quot;</span><span class="delimiter">)</span>,

    <span class="comment">// kafka.consumer.ConsumerTopicStats &lt;-- kafka.consumer.{ConsumerIterator, PartitionTopicInfo}</span>
    new <span title="com.yammer.metrics.core.MetricName">MetricName</span><span class="delimiter">(</span><span title="String(&quot;kafka.consumer&quot;)" class="string">&quot;kafka.consumer&quot;</span>, <span title="String(&quot;ConsumerTopicMetrics&quot;)" class="string">&quot;ConsumerTopicMetrics&quot;</span>, <span title="String(&quot;MessagesPerSec&quot;)" class="string">&quot;MessagesPerSec&quot;</span><span class="delimiter">)</span>,

    <span class="comment">// kafka.consumer.ConsumerTopicStats</span>
    new <span title="com.yammer.metrics.core.MetricName">MetricName</span><span class="delimiter">(</span><span title="String(&quot;kafka.consumer&quot;)" class="string">&quot;kafka.consumer&quot;</span>, <span title="String(&quot;ConsumerTopicMetrics&quot;)" class="string">&quot;ConsumerTopicMetrics&quot;</span>, <span title="String(&quot;BytesPerSec&quot;)" class="string">&quot;BytesPerSec&quot;</span><span class="delimiter">)</span>,

    <span class="comment">// kafka.server.AbstractFetcherThread &lt;-- kafka.consumer.ConsumerFetcherThread</span>
    new <span title="com.yammer.metrics.core.MetricName">MetricName</span><span class="delimiter">(</span><span title="String(&quot;kafka.server&quot;)" class="string">&quot;kafka.server&quot;</span>, <span title="String(&quot;FetcherStats&quot;)" class="string">&quot;FetcherStats&quot;</span>, <span title="String(&quot;BytesPerSec&quot;)" class="string">&quot;BytesPerSec&quot;</span><span class="delimiter">)</span>,
    new <span title="com.yammer.metrics.core.MetricName">MetricName</span><span class="delimiter">(</span><span title="String(&quot;kafka.server&quot;)" class="string">&quot;kafka.server&quot;</span>, <span title="String(&quot;FetcherStats&quot;)" class="string">&quot;FetcherStats&quot;</span>, <span title="String(&quot;RequestsPerSec&quot;)" class="string">&quot;RequestsPerSec&quot;</span><span class="delimiter">)</span>,

    <span class="comment">// kafka.consumer.FetchRequestAndResponseStats &lt;-- kafka.consumer.SimpleConsumer</span>
    new <span title="com.yammer.metrics.core.MetricName">MetricName</span><span class="delimiter">(</span><span title="String(&quot;kafka.consumer&quot;)" class="string">&quot;kafka.consumer&quot;</span>, <span title="String(&quot;FetchRequestAndResponseMetrics&quot;)" class="string">&quot;FetchRequestAndResponseMetrics&quot;</span>, <span title="String(&quot;FetchResponseSize&quot;)" class="string">&quot;FetchResponseSize&quot;</span><span class="delimiter">)</span>,
    new <span title="com.yammer.metrics.core.MetricName">MetricName</span><span class="delimiter">(</span><span title="String(&quot;kafka.consumer&quot;)" class="string">&quot;kafka.consumer&quot;</span>, <span title="String(&quot;FetchRequestAndResponseMetrics&quot;)" class="string">&quot;FetchRequestAndResponseMetrics&quot;</span>, <span title="String(&quot;FetchRequestRateAndTimeMs&quot;)" class="string">&quot;FetchRequestRateAndTimeMs&quot;</span><span class="delimiter">)</span>,

    <span class="comment">/**
     * ProducerRequestStats &lt;-- SyncProducer
     * metric for SyncProducer in fetchTopicMetaData() needs to be removed when consumer is closed.
     */</span>
    new <span title="com.yammer.metrics.core.MetricName">MetricName</span><span class="delimiter">(</span><span title="String(&quot;kafka.producer&quot;)" class="string">&quot;kafka.producer&quot;</span>, <span title="String(&quot;ProducerRequestMetrics&quot;)" class="string">&quot;ProducerRequestMetrics&quot;</span>, <span title="String(&quot;ProducerRequestRateAndTimeMs&quot;)" class="string">&quot;ProducerRequestRateAndTimeMs&quot;</span><span class="delimiter">)</span>,
    new <span title="com.yammer.metrics.core.MetricName">MetricName</span><span class="delimiter">(</span><span title="String(&quot;kafka.producer&quot;)" class="string">&quot;kafka.producer&quot;</span>, <span title="String(&quot;ProducerRequestMetrics&quot;)" class="string">&quot;ProducerRequestMetrics&quot;</span>, <span title="String(&quot;ProducerRequestSize&quot;)" class="string">&quot;ProducerRequestSize&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">)</span>

  private val <a title="List[com.yammer.metrics.core.MetricName]" id="kafka.metrics.KafkaMetricsGroup.producerMetricNameList">producerMetricNameList</a>: immutable.<span title="List[com.yammer.metrics.core.MetricName]">List</span><span class="delimiter">[</span>MetricName<span class="delimiter">]</span> = immutable.<span title="[A](xs: A*)List[A]">List</span><span title="(xs: com.yammer.metrics.core.MetricName*)List[com.yammer.metrics.core.MetricName]" class="delimiter">[</span><span title="com.yammer.metrics.core.MetricName">MetricName</span><span class="delimiter">]</span><span class="delimiter">(</span>
    <span class="comment">// kafka.producer.ProducerStats &lt;-- DefaultEventHandler &lt;-- Producer</span>
    new <span title="com.yammer.metrics.core.MetricName">MetricName</span><span class="delimiter">(</span><span title="String(&quot;kafka.producer&quot;)" class="string">&quot;kafka.producer&quot;</span>, <span title="String(&quot;ProducerStats&quot;)" class="string">&quot;ProducerStats&quot;</span>, <span title="String(&quot;SerializationErrorsPerSec&quot;)" class="string">&quot;SerializationErrorsPerSec&quot;</span><span class="delimiter">)</span>,
    new <span title="com.yammer.metrics.core.MetricName">MetricName</span><span class="delimiter">(</span><span title="String(&quot;kafka.producer&quot;)" class="string">&quot;kafka.producer&quot;</span>, <span title="String(&quot;ProducerStats&quot;)" class="string">&quot;ProducerStats&quot;</span>, <span title="String(&quot;ResendsPerSec&quot;)" class="string">&quot;ResendsPerSec&quot;</span><span class="delimiter">)</span>,
    new <span title="com.yammer.metrics.core.MetricName">MetricName</span><span class="delimiter">(</span><span title="String(&quot;kafka.producer&quot;)" class="string">&quot;kafka.producer&quot;</span>, <span title="String(&quot;ProducerStats&quot;)" class="string">&quot;ProducerStats&quot;</span>, <span title="String(&quot;FailedSendsPerSec&quot;)" class="string">&quot;FailedSendsPerSec&quot;</span><span class="delimiter">)</span>,

    <span class="comment">// kafka.producer.ProducerSendThread</span>
    new <span title="com.yammer.metrics.core.MetricName">MetricName</span><span class="delimiter">(</span><span title="String(&quot;kafka.producer.async&quot;)" class="string">&quot;kafka.producer.async&quot;</span>, <span title="String(&quot;ProducerSendThread&quot;)" class="string">&quot;ProducerSendThread&quot;</span>, <span title="String(&quot;ProducerQueueSize&quot;)" class="string">&quot;ProducerQueueSize&quot;</span><span class="delimiter">)</span>,

    <span class="comment">// kafka.producer.ProducerTopicStats &lt;-- kafka.producer.{Producer, async.DefaultEventHandler}</span>
    new <span title="com.yammer.metrics.core.MetricName">MetricName</span><span class="delimiter">(</span><span title="String(&quot;kafka.producer&quot;)" class="string">&quot;kafka.producer&quot;</span>, <span title="String(&quot;ProducerTopicMetrics&quot;)" class="string">&quot;ProducerTopicMetrics&quot;</span>, <span title="String(&quot;MessagesPerSec&quot;)" class="string">&quot;MessagesPerSec&quot;</span><span class="delimiter">)</span>,
    new <span title="com.yammer.metrics.core.MetricName">MetricName</span><span class="delimiter">(</span><span title="String(&quot;kafka.producer&quot;)" class="string">&quot;kafka.producer&quot;</span>, <span title="String(&quot;ProducerTopicMetrics&quot;)" class="string">&quot;ProducerTopicMetrics&quot;</span>, <span title="String(&quot;DroppedMessagesPerSec&quot;)" class="string">&quot;DroppedMessagesPerSec&quot;</span><span class="delimiter">)</span>,
    new <span title="com.yammer.metrics.core.MetricName">MetricName</span><span class="delimiter">(</span><span title="String(&quot;kafka.producer&quot;)" class="string">&quot;kafka.producer&quot;</span>, <span title="String(&quot;ProducerTopicMetrics&quot;)" class="string">&quot;ProducerTopicMetrics&quot;</span>, <span title="String(&quot;BytesPerSec&quot;)" class="string">&quot;BytesPerSec&quot;</span><span class="delimiter">)</span>,

    <span class="comment">// kafka.producer.ProducerRequestStats &lt;-- SyncProducer</span>
    new <span title="com.yammer.metrics.core.MetricName">MetricName</span><span class="delimiter">(</span><span title="String(&quot;kafka.producer&quot;)" class="string">&quot;kafka.producer&quot;</span>, <span title="String(&quot;ProducerRequestMetrics&quot;)" class="string">&quot;ProducerRequestMetrics&quot;</span>, <span title="String(&quot;ProducerRequestRateAndTimeMs&quot;)" class="string">&quot;ProducerRequestRateAndTimeMs&quot;</span><span class="delimiter">)</span>,
    new <span title="com.yammer.metrics.core.MetricName">MetricName</span><span class="delimiter">(</span><span title="String(&quot;kafka.producer&quot;)" class="string">&quot;kafka.producer&quot;</span>, <span title="String(&quot;ProducerRequestMetrics&quot;)" class="string">&quot;ProducerRequestMetrics&quot;</span>, <span title="String(&quot;ProducerRequestSize&quot;)" class="string">&quot;ProducerRequestSize&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">)</span>

  private def <a title="(tags: scala.collection.Map[String,String])Option[String]" id="kafka.metrics.KafkaMetricsGroup.toMBeanName">toMBeanName</a><span class="delimiter">(</span><a title="scala.collection.Map[String,String]" id="kafka.metrics.KafkaMetricsGroup.toMBeanName.tags">tags</a>: collection.<span title="scala.collection.Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="scala.collection.Map[String,String]" id="kafka.metrics.KafkaMetricsGroup.toMBeanName.filteredTags">filteredTags</a> = <a href="#kafka.metrics.KafkaMetricsGroup.toMBeanName.tags" title="scala.collection.Map[String,String]">tags</a>
      .<span title="(p: ((String, String)) =&gt; Boolean)scala.collection.Map[String,String]">filter</span> <a href="#kafka.metrics.KafkaMetricsGroup.toMBeanName.filteredTags.$anonfun.x0$1" title="Boolean" class="delimiter">{</a> case <span class="delimiter">(</span><a title="String" id="kafka.metrics.KafkaMetricsGroup.toMBeanName.filteredTags.$anonfun.tagKey">tagKey</a>, <a title="String" id="kafka.metrics.KafkaMetricsGroup.toMBeanName.filteredTags.$anonfun.tagValue">tagValue</a><span class="delimiter">)</span> =&gt; <a href="#kafka.metrics.KafkaMetricsGroup.toMBeanName.filteredTags.$anonfun.tagValue" title="String">tagValue</a> <span title="(x$1: Any)Boolean">!=</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">}</span>
    if <span class="delimiter">(</span><a href="#kafka.metrics.KafkaMetricsGroup.toMBeanName.filteredTags" title="scala.collection.Map[String,String]">filteredTags</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      val <a title="String" id="kafka.metrics.KafkaMetricsGroup.toMBeanName.tagsString">tagsString</a> = <a href="#kafka.metrics.KafkaMetricsGroup.toMBeanName.filteredTags" title="scala.collection.Map[String,String]">filteredTags</a>
        .<span title="(f: ((String, String)) =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.Map[String,String],String,Iterable[String]])Iterable[String]">map</span> <a href="#kafka.metrics.KafkaMetricsGroup.toMBeanName.tagsString.$anonfun.x0$2" title="String" class="delimiter">{</a> case <span class="delimiter">(</span><a title="String" id="kafka.metrics.KafkaMetricsGroup.toMBeanName.tagsString.$anonfun.key">key</a>, <a title="String" id="kafka.metrics.KafkaMetricsGroup.toMBeanName.tagsString.$anonfun.value">value</a><span class="delimiter">)</span> =&gt; <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s=%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#kafka.metrics.KafkaMetricsGroup.toMBeanName.tagsString.$anonfun.key" title="String">key</a>, <a href="#kafka.metrics.KafkaMetricsGroup.toMBeanName.tagsString.$anonfun.value" title="String">value</a><span class="delimiter">)</span><span class="delimiter">}</span>
        .<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span>

      <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="#kafka.metrics.KafkaMetricsGroup.toMBeanName.tagsString" title="String">tagsString</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    else <span class="delimiter">{</span>
      <span title="None.type">None</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  private def <a title="(tags: scala.collection.Map[String,String])Option[String]" id="kafka.metrics.KafkaMetricsGroup.toScope">toScope</a><span class="delimiter">(</span><a title="scala.collection.Map[String,String]" id="kafka.metrics.KafkaMetricsGroup.toScope.tags">tags</a>: collection.<span title="scala.collection.Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="scala.collection.Map[String,String]" id="kafka.metrics.KafkaMetricsGroup.toScope.filteredTags">filteredTags</a> = <a href="#kafka.metrics.KafkaMetricsGroup.toScope.tags" title="scala.collection.Map[String,String]">tags</a>
      .<span title="(p: ((String, String)) =&gt; Boolean)scala.collection.Map[String,String]">filter</span> <a href="#kafka.metrics.KafkaMetricsGroup.toScope.filteredTags.$anonfun.x0$3" title="Boolean" class="delimiter">{</a> case <span class="delimiter">(</span><a title="String" id="kafka.metrics.KafkaMetricsGroup.toScope.filteredTags.$anonfun.tagKey">tagKey</a>, <a title="String" id="kafka.metrics.KafkaMetricsGroup.toScope.filteredTags.$anonfun.tagValue">tagValue</a><span class="delimiter">)</span> =&gt; <a href="#kafka.metrics.KafkaMetricsGroup.toScope.filteredTags.$anonfun.tagValue" title="String">tagValue</a> <span title="(x$1: Any)Boolean">!=</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">}</span>
    if <span class="delimiter">(</span><a href="#kafka.metrics.KafkaMetricsGroup.toScope.filteredTags" title="scala.collection.Map[String,String]">filteredTags</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="comment">// convert dot to _ since reporters like Graphite typically use dot to represent hierarchy</span>
      val <a title="String" id="kafka.metrics.KafkaMetricsGroup.toScope.tagsString">tagsString</a> = <a href="#kafka.metrics.KafkaMetricsGroup.toScope.filteredTags" title="scala.collection.Map[String,String]">filteredTags</a>
        .<span title="=&gt; List[(String, String)]">toList</span>.<span title="(lt: ((String, String), (String, String)) =&gt; Boolean)List[(String, String)]">sortWith</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="(String, String)" id="kafka.metrics.KafkaMetricsGroup.toScope.tagsString.$anonfun.t1">t1</a>, <a title="(String, String)" id="kafka.metrics.KafkaMetricsGroup.toScope.tagsString.$anonfun.t2">t2</a><span class="delimiter">)</span> =&gt; <a href="#kafka.metrics.KafkaMetricsGroup.toScope.tagsString.$anonfun.t1" title="(String, String)">t1</a>.<span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">_1</span> <span title="(that: String)Boolean">&lt;</span> <a href="#kafka.metrics.KafkaMetricsGroup.toScope.tagsString.$anonfun.t2" title="(String, String)">t2</a>.<span title="=&gt; String">_1</span><span class="delimiter">)</span>
        .<span title="(f: ((String, String)) =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[(String, String)],String,List[String]])List[String]">map</span> <a href="#kafka.metrics.KafkaMetricsGroup.toScope.tagsString.$anonfun.x0$4" title="String" class="delimiter">{</a> case <span class="delimiter">(</span><a title="String" id="kafka.metrics.KafkaMetricsGroup.toScope.tagsString.$anonfun.key">key</a>, <a title="String" id="kafka.metrics.KafkaMetricsGroup.toScope.tagsString.$anonfun.value">value</a><span class="delimiter">)</span> =&gt; <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s.%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#kafka.metrics.KafkaMetricsGroup.toScope.tagsString.$anonfun.key" title="String">key</a>, <a href="#kafka.metrics.KafkaMetricsGroup.toScope.tagsString.$anonfun.value" title="String">value</a>.<span title="(x$1: String, x$2: String)String">replaceAll</span><span class="delimiter">(</span><span title="String(&quot;\\.&quot;)" class="string">&quot;\\.&quot;</span>, <span title="String(&quot;_&quot;)" class="string">&quot;_&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>
        .<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>

      <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="#kafka.metrics.KafkaMetricsGroup.toScope.tagsString" title="String">tagsString</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    else <span class="delimiter">{</span>
      <span title="None.type">None</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(clientId: String)Unit" id="kafka.metrics.KafkaMetricsGroup.removeAllConsumerMetrics">removeAllConsumerMetrics</a><span class="delimiter">(</span><a title="String" id="kafka.metrics.KafkaMetricsGroup.removeAllConsumerMetrics.clientId">clientId</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../consumer/FetchRequestAndResponseStats.scala.html#kafka.consumer.FetchRequestAndResponseStatsRegistry" title="kafka.consumer.FetchRequestAndResponseStatsRegistry.type">FetchRequestAndResponseStatsRegistry</a>.<a href="../consumer/FetchRequestAndResponseStats.scala.html#kafka.consumer.FetchRequestAndResponseStatsRegistry.removeConsumerFetchRequestAndResponseStats" title="(clientId: String)Unit">removeConsumerFetchRequestAndResponseStats</a><span class="delimiter">(</span><a href="#kafka.metrics.KafkaMetricsGroup.removeAllConsumerMetrics.clientId" title="String">clientId</a><span class="delimiter">)</span>
    <a href="../consumer/ConsumerTopicStats.scala.html#kafka.consumer.ConsumerTopicStatsRegistry" title="kafka.consumer.ConsumerTopicStatsRegistry.type">ConsumerTopicStatsRegistry</a>.<a href="../consumer/ConsumerTopicStats.scala.html#kafka.consumer.ConsumerTopicStatsRegistry.removeConsumerTopicStat" title="(clientId: String)Unit">removeConsumerTopicStat</a><span class="delimiter">(</span><a href="#kafka.metrics.KafkaMetricsGroup.removeAllConsumerMetrics.clientId" title="String">clientId</a><span class="delimiter">)</span>
    <a href="../producer/ProducerRequestStats.scala.html#kafka.producer.ProducerRequestStatsRegistry" title="kafka.producer.ProducerRequestStatsRegistry.type">ProducerRequestStatsRegistry</a>.<a href="../producer/ProducerRequestStats.scala.html#kafka.producer.ProducerRequestStatsRegistry.removeProducerRequestStats" title="(clientId: String)Unit">removeProducerRequestStats</a><span class="delimiter">(</span><a href="#kafka.metrics.KafkaMetricsGroup.removeAllConsumerMetrics.clientId" title="String">clientId</a><span class="delimiter">)</span>
    <a href="#kafka.metrics.KafkaMetricsGroup.removeAllMetricsInList" title="(metricNameList: List[com.yammer.metrics.core.MetricName], clientId: String)Unit">removeAllMetricsInList</a><span class="delimiter">(</span><a href="#kafka.metrics.KafkaMetricsGroup" title="kafka.metrics.KafkaMetricsGroup.type">KafkaMetricsGroup</a>.<a href="#kafka.metrics.KafkaMetricsGroup.consumerMetricNameList" title="=&gt; List[com.yammer.metrics.core.MetricName]">consumerMetricNameList</a>, <a href="#kafka.metrics.KafkaMetricsGroup.removeAllConsumerMetrics.clientId" title="String">clientId</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(clientId: String)Unit" id="kafka.metrics.KafkaMetricsGroup.removeAllProducerMetrics">removeAllProducerMetrics</a><span class="delimiter">(</span><a title="String" id="kafka.metrics.KafkaMetricsGroup.removeAllProducerMetrics.clientId">clientId</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../producer/ProducerRequestStats.scala.html#kafka.producer.ProducerRequestStatsRegistry" title="kafka.producer.ProducerRequestStatsRegistry.type">ProducerRequestStatsRegistry</a>.<a href="../producer/ProducerRequestStats.scala.html#kafka.producer.ProducerRequestStatsRegistry.removeProducerRequestStats" title="(clientId: String)Unit">removeProducerRequestStats</a><span class="delimiter">(</span><a href="#kafka.metrics.KafkaMetricsGroup.removeAllProducerMetrics.clientId" title="String">clientId</a><span class="delimiter">)</span>
    <a href="../producer/ProducerTopicStats.scala.html#kafka.producer.ProducerTopicStatsRegistry" title="kafka.producer.ProducerTopicStatsRegistry.type">ProducerTopicStatsRegistry</a>.<a href="../producer/ProducerTopicStats.scala.html#kafka.producer.ProducerTopicStatsRegistry.removeProducerTopicStats" title="(clientId: String)Unit">removeProducerTopicStats</a><span class="delimiter">(</span><a href="#kafka.metrics.KafkaMetricsGroup.removeAllProducerMetrics.clientId" title="String">clientId</a><span class="delimiter">)</span>
    <a href="../producer/ProducerStats.scala.html#kafka.producer.ProducerStatsRegistry" title="kafka.producer.ProducerStatsRegistry.type">ProducerStatsRegistry</a>.<a href="../producer/ProducerStats.scala.html#kafka.producer.ProducerStatsRegistry.removeProducerStats" title="(clientId: String)Unit">removeProducerStats</a><span class="delimiter">(</span><a href="#kafka.metrics.KafkaMetricsGroup.removeAllProducerMetrics.clientId" title="String">clientId</a><span class="delimiter">)</span>
    <a href="#kafka.metrics.KafkaMetricsGroup.removeAllMetricsInList" title="(metricNameList: List[com.yammer.metrics.core.MetricName], clientId: String)Unit">removeAllMetricsInList</a><span class="delimiter">(</span><a href="#kafka.metrics.KafkaMetricsGroup" title="kafka.metrics.KafkaMetricsGroup.type">KafkaMetricsGroup</a>.<a href="#kafka.metrics.KafkaMetricsGroup.producerMetricNameList" title="=&gt; List[com.yammer.metrics.core.MetricName]">producerMetricNameList</a>, <a href="#kafka.metrics.KafkaMetricsGroup.removeAllProducerMetrics.clientId" title="String">clientId</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private def <a title="(metricNameList: List[com.yammer.metrics.core.MetricName], clientId: String)Unit" id="kafka.metrics.KafkaMetricsGroup.removeAllMetricsInList">removeAllMetricsInList</a><span class="delimiter">(</span><a title="List[com.yammer.metrics.core.MetricName]" id="kafka.metrics.KafkaMetricsGroup.removeAllMetricsInList.metricNameList">metricNameList</a>: immutable.<span title="List[com.yammer.metrics.core.MetricName]">List</span><span class="delimiter">[</span>MetricName<span class="delimiter">]</span>, <a title="String" id="kafka.metrics.KafkaMetricsGroup.removeAllMetricsInList.clientId">clientId</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#kafka.metrics.KafkaMetricsGroup.removeAllMetricsInList.metricNameList" title="List[com.yammer.metrics.core.MetricName]">metricNameList</a>.<span title="(f: com.yammer.metrics.core.MetricName =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a title="com.yammer.metrics.core.MetricName" id="kafka.metrics.KafkaMetricsGroup.removeAllMetricsInList.$anonfun.metric">metric</a> =&gt; <span class="delimiter">{</span>
      val <a title="scala.util.matching.Regex" id="kafka.metrics.KafkaMetricsGroup.removeAllMetricsInList.$anonfun.pattern">pattern</a> = <span class="delimiter">(</span><span title="String(&quot;.*clientId=&quot;)" class="string">&quot;.*clientId=&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#kafka.metrics.KafkaMetricsGroup.removeAllMetricsInList.clientId" title="String">clientId</a> <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">+</span> <span title="String(&quot;.*&quot;)" class="string">&quot;.*&quot;</span><span class="delimiter">)</span>.<span title="=&gt; scala.util.matching.Regex">r</span>
      val <a title="scala.collection.mutable.Set[com.yammer.metrics.core.MetricName]" id="kafka.metrics.KafkaMetricsGroup.removeAllMetricsInList.$anonfun.registeredMetrics">registeredMetrics</a> = scala.collection.<span title="scala.collection.JavaConversions.type">JavaConversions</span>.<span title="(s: java.util.Set[com.yammer.metrics.core.MetricName])scala.collection.mutable.Set[com.yammer.metrics.core.MetricName]">asScalaSet</span><span class="delimiter">(</span><span title="com.yammer.metrics.Metrics.type">Metrics</span>.<span title="()com.yammer.metrics.core.MetricsRegistry">defaultRegistry</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="()java.util.Map[com.yammer.metrics.core.MetricName,com.yammer.metrics.core.Metric]">allMetrics</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="()java.util.Set[com.yammer.metrics.core.MetricName]">keySet</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      for <span class="delimiter">(</span><a title="com.yammer.metrics.core.MetricName" id="kafka.metrics.KafkaMetricsGroup.removeAllMetricsInList.$anonfun.$anonfun.registeredMetric">registeredMetric</a> &lt;- <a href="#kafka.metrics.KafkaMetricsGroup.removeAllMetricsInList.$anonfun.registeredMetrics" title="(f: com.yammer.metrics.core.MetricName =&gt; Unit)Unit">registeredMetrics</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        if <span class="delimiter">(</span><a href="#kafka.metrics.KafkaMetricsGroup.removeAllMetricsInList.$anonfun.$anonfun.registeredMetric" title="com.yammer.metrics.core.MetricName">registeredMetric</a>.<span title="()String">getGroup</span> <span title="(x$1: Any)Boolean">==</span> <a href="#kafka.metrics.KafkaMetricsGroup.removeAllMetricsInList.$anonfun.metric" title="com.yammer.metrics.core.MetricName">metric</a>.<span title="()String">getGroup</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="#kafka.metrics.KafkaMetricsGroup.removeAllMetricsInList.$anonfun.$anonfun.registeredMetric" title="com.yammer.metrics.core.MetricName">registeredMetric</a>.<span title="()String">getName</span> <span title="(x$1: Any)Boolean">==</span> <a href="#kafka.metrics.KafkaMetricsGroup.removeAllMetricsInList.$anonfun.metric" title="com.yammer.metrics.core.MetricName">metric</a>.<span title="()String">getName</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="#kafka.metrics.KafkaMetricsGroup.removeAllMetricsInList.$anonfun.$anonfun.registeredMetric" title="com.yammer.metrics.core.MetricName">registeredMetric</a>.<span title="()String">getType</span> <span title="(x$1: Any)Boolean">==</span> <a href="#kafka.metrics.KafkaMetricsGroup.removeAllMetricsInList.$anonfun.metric" title="com.yammer.metrics.core.MetricName">metric</a>.<span title="()String">getType</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#kafka.metrics.KafkaMetricsGroup.removeAllMetricsInList.$anonfun.pattern" title="scala.util.matching.Regex">pattern</a>.<span title="(source: CharSequence)Option[String]">findFirstIn</span><span class="delimiter">(</span><a href="#kafka.metrics.KafkaMetricsGroup.removeAllMetricsInList.$anonfun.$anonfun.registeredMetric" title="com.yammer.metrics.core.MetricName">registeredMetric</a>.<span title="()String">getMBeanName</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
            case Some<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
              val <a title="Int" id="kafka.metrics.KafkaMetricsGroup.removeAllMetricsInList.$anonfun.$anonfun.beforeRemovalSize">beforeRemovalSize</a> = <span title="com.yammer.metrics.Metrics.type">Metrics</span>.<span title="()com.yammer.metrics.core.MetricsRegistry">defaultRegistry</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="()java.util.Map[com.yammer.metrics.core.MetricName,com.yammer.metrics.core.Metric]">allMetrics</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="()java.util.Set[com.yammer.metrics.core.MetricName]">keySet</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="()Int">size</span>
              <span title="com.yammer.metrics.Metrics.type">Metrics</span>.<span title="()com.yammer.metrics.core.MetricsRegistry">defaultRegistry</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: com.yammer.metrics.core.MetricName)Unit">removeMetric</span><span class="delimiter">(</span><a href="#kafka.metrics.KafkaMetricsGroup.removeAllMetricsInList.$anonfun.$anonfun.registeredMetric" title="com.yammer.metrics.core.MetricName">registeredMetric</a><span class="delimiter">)</span>
              val <a title="Int" id="kafka.metrics.KafkaMetricsGroup.removeAllMetricsInList.$anonfun.$anonfun.afterRemovalSize">afterRemovalSize</a> = <span title="com.yammer.metrics.Metrics.type">Metrics</span>.<span title="()com.yammer.metrics.core.MetricsRegistry">defaultRegistry</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="()java.util.Map[com.yammer.metrics.core.MetricName,com.yammer.metrics.core.Metric]">allMetrics</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="()java.util.Set[com.yammer.metrics.core.MetricName]">keySet</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="()Int">size</span>
              <a href="../utils/Logging.scala.html#kafka.utils;Logging.trace(1729dbc42f)" title="(msg: =&gt; String)Unit">trace</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Removing metric %s. Metrics registry size reduced from %d to %d&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
                <a href="#kafka.metrics.KafkaMetricsGroup.removeAllMetricsInList.$anonfun.$anonfun.registeredMetric" title="com.yammer.metrics.core.MetricName">registeredMetric</a>, <a href="#kafka.metrics.KafkaMetricsGroup.removeAllMetricsInList.$anonfun.$anonfun.beforeRemovalSize" title="Int">beforeRemovalSize</a>, <a href="#kafka.metrics.KafkaMetricsGroup.removeAllMetricsInList.$anonfun.$anonfun.afterRemovalSize" title="Int">afterRemovalSize</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            case _ =&gt;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
