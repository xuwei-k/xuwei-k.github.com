<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>example/scalaz/example/ParserUsage.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scalaz.example

<span class="keyword">import</span> util.parsing.combinator.RegexParsers
<span class="keyword">import</span> collection.immutable.List
<span class="keyword">import</span> scalaz._

<span class="keyword">object</span> <a title="object scalaz.example.ParserUsage" id="33581">ParserUsage</a> <span title="ScalaObject" class="keyword">extends</span> <span title="App">App</span> <span class="delimiter">{</span>

  <span class="keyword">object</span> <a title="object scalaz.example.ParserUsage.testParser" id="612276">testParser</a> <span title="ScalaObject" class="keyword">extends</span> <span title="scala.util.parsing.combinator.RegexParsers">RegexParsers</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[scalaz.example.ParserUsage.testParser.Parser[List[String]]]" id="612330">parsers</a>: <span title="List[scalaz.example.ParserUsage.testParser.Parser[List[String]]]">List</span><span class="delimiter">[</span>Parser<span class="delimiter">[</span>List<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span> = <span title="(xs: Int*)List[Int]">List</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(2)" class="int">2</span>, <span title="Int(3)" class="int">3</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; scalaz.example.ParserUsage.testParser.Parser[List[String]])(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],scalaz.example.ParserUsage.testParser.Parser[List[String]],List[scalaz.example.ParserUsage.testParser.Parser[List[String]]]])List[scalaz.example.ParserUsage.testParser.Parser[List[String]]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,scalaz.example.ParserUsage.testParser.Parser[List[String]],List[scalaz.example.ParserUsage.testParser.Parser[List[String]]]]" class="delimiter">(</span><span title="(num: Int, p: =&gt; scalaz.example.ParserUsage.testParser.Parser[String])scalaz.example.ParserUsage.testParser.Parser[List[String]]">repN</span><span class="delimiter">(</span><a href="#612364" title="Int">_</a>, <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;\d+&quot;&quot;&quot;</span>.<span title="implicit scala.util.parsing.combinator.RegexParsers.regex : (r: scala.util.matching.Regex)scalaz.example.ParserUsage.testParser.Parser[String]">r</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(s: String)scalaz.example.ParserUsage.testParser.ParseResult[List[List[String]]]" id="612332">apply</a><span class="delimiter">(</span><a title="String" id="612597">s</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="scalaz.example.ParserUsage.testParser.ParseResult[List[List[String]]]">ParseResult</span><span class="delimiter">[</span>List<span class="delimiter">[</span>List<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">import</span> syntax.<a href="../../../core/scalaz/syntax/Syntax.scala.html#38951" title="object scalaz.syntax.package.traverse">traverse</a>._ <span class="comment">// for _.sequence</span>
      <span class="keyword">import</span> std.<a href="../../../core/scalaz/std/List.scala.html#26333" title="object scalaz.std.list">list</a>._ <span class="comment">// for Traverse[List]</span>
      <span class="keyword">import</span> std.util.parsing.combinator.<a href="../../../core/scalaz/std/util/parsing/combinator/Parser.scala.html#28587" title="object scalaz.std.util.parsing.combinator.parser">parser</a>.parserMonad

      <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scalaz.Monad[scalaz.example.ParserUsage.testParser.Parser]" id="612602">M</a>: <a href="../../../core/scalaz/Monad.scala.html#22208" title="scalaz.Monad[scalaz.example.ParserUsage.testParser.Parser]">Monad</a><span class="delimiter">[</span>Parser<span class="delimiter">]</span> = <a href="../../../core/scalaz/std/util/parsing/combinator/Parser.scala.html#55255" title="(p: scalaz.example.ParserUsage.testParser.type)scalaz.Monad[[A]_1420.parser.Parser[A]] forSome { val _1420: scalaz.std.util.parsing.combinator.parser.ParsersW[scalaz.example.ParserUsage.testParser.type] }">parserMonad</a><span class="delimiter">(</span><a href="#612276" title="object scalaz.example.ParserUsage.testParser">testParser</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scalaz.example.ParserUsage.testParser.Parser[List[List[String]]]" id="612603">sequence</a>: <span title="scalaz.example.ParserUsage.testParser.Parser[List[List[String]]]">Parser</span><span class="delimiter">[</span>List<span class="delimiter">[</span>List<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span> = <a href="../../../core/scalaz/syntax/TraverseSyntax.scala.html#53946" title="(v: List[scalaz.example.ParserUsage.testParser.Parser[List[String]]])(implicit F0: scalaz.Traverse[List])java.lang.Object with scalaz.syntax.TraverseOps[List,scalaz.example.ParserUsage.testParser.Parser[List[String]]]">parsers</a>.<a href="../../../core/scalaz/syntax/TraverseSyntax.scala.html#289924" title="(implicit ev: scalaz.Leibniz.===[scalaz.example.ParserUsage.testParser.Parser[List[String]],scalaz.example.ParserUsage.testParser.Parser[List[String]]], implicit G: scalaz.Applicative[scalaz.example.ParserUsage.testParser.Parser])scalaz.example.ParserUsage.testParser.Parser[List[List[String]]]">sequence</a>
      <span title="(p: scalaz.example.ParserUsage.testParser.Parser[List[List[String]]], in: java.lang.CharSequence)scalaz.example.ParserUsage.testParser.ParseResult[List[List[String]]]">parseAll</span><span class="delimiter">(</span><a href="#612603" title="scalaz.example.ParserUsage.testParser.Parser[List[List[String]]]">sequence</a>, <a href="#612597" title="String">s</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">// http://stackoverflow.com/questions/7785762/writing-type-class-instances-for-nested-classes-in-scala</span>
  <span class="keyword">val</span> <a title="List[List[String]]" id="612278">result</a>: <span title="List[List[String]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#612332" title="(s: String)scalaz.example.ParserUsage.testParser.ParseResult[List[List[String]]]">testParser</a><span class="delimiter">(</span><span title="java.lang.String(&quot;1 2 2 3 3 3&quot;)" class="string">&quot;1 2 2 3 3 3&quot;</span><span class="delimiter">)</span>.<span title="(default: =&gt; List[List[String]])List[List[String]]">getOrElse</span><span class="delimiter">(</span><span title="object Nil">Nil</span><span class="delimiter">)</span>
  <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#612278" title="=&gt; List[List[String]]">result</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="(xs: List[java.lang.String]*)List[List[java.lang.String]]">List</span><span class="delimiter">(</span><span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><span title="java.lang.String(&quot;1&quot;)" class="string">&quot;1&quot;</span><span class="delimiter">)</span>, <span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><span title="java.lang.String(&quot;2&quot;)" class="string">&quot;2&quot;</span>, <span title="java.lang.String(&quot;2&quot;)" class="string">&quot;2&quot;</span><span class="delimiter">)</span>, <span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><span title="java.lang.String(&quot;3&quot;)" class="string">&quot;3&quot;</span>, <span title="java.lang.String(&quot;3&quot;)" class="string">&quot;3&quot;</span>, <span title="java.lang.String(&quot;3&quot;)" class="string">&quot;3&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>
        </pre>
    </body>
</html>