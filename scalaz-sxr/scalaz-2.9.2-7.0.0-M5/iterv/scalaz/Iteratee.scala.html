<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>iterv/scalaz/Iteratee.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">// Legacy implementation of iteratees, for compatibility with Scalaz 6 */</span>
<span class="keyword">package</span> scalaz
<span class="keyword">import</span> <a href="../../core/scalaz/Scalaz.scala.html#20157" title="object scalaz.Scalaz">Scalaz</a>._

<span class="comment">/** The input to an iteratee. */</span>
<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait Input[E] extends java.lang.Object with ScalaObject" id="36625">Input</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="36626">E</a><span class="delimiter">]</span> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[Z](empty: =&gt; Z, el: =&gt; E =&gt; Z, eof: =&gt; Z)Z" id="872227">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872229">Z</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; Z" id="872235">empty</a>: =&gt; Z, <a title="=&gt; E =&gt; Z" id="872236">el</a>: <span class="delimiter">(</span>=&gt; E<span class="delimiter">)</span> =&gt; Z, <a title="=&gt; Z" id="872237">eof</a>: =&gt; Z<span class="delimiter">)</span>: <a href="#872229" title="Z">Z</a>
  <span class="keyword">def</span> <a title="[D](f: E =&gt; D)scalaz.Input[D]" id="872230">map</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872232">D</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="E =&gt; D" id="872242">f</a>: E =&gt; D<span class="delimiter">)</span>: <a href="#36625" title="scalaz.Input[D]">Input</a><span class="delimiter">[</span>D<span class="delimiter">]</span> =
    <a href="#872227" title="(empty: =&gt; scalaz.Input[D], el: =&gt; E =&gt; scalaz.Input[D], eof: =&gt; scalaz.Input[D])scalaz.Input[D]">apply</a><span class="delimiter">(</span><a href="#36642" title="object scalaz.IterV">IterV</a>.<a href="#872320" title="object scalaz.IterV.Empty">Empty</a>.<a href="#872327" title="[E]=&gt; scalaz.Input[E]">apply</a><span title="scalaz.Input[D]" class="delimiter">[</span><a href="#872232" title="D">D</a><span class="delimiter">]</span>, <a title="=&gt; E" id="872336">e</a> =&gt; <a href="#36642" title="object scalaz.IterV">IterV</a>.<a href="#872338" title="(e0: =&gt; D)scalaz.Input[D]">El</a><span class="delimiter">(</span><a href="#872242" title="(v1: E)D">f</a><span class="delimiter">(</span><a href="#872336" title="=&gt; E">e</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#36642" title="object scalaz.IterV">IterV</a>.<a href="#872324" title="object scalaz.IterV.EOF">EOF</a>.<a href="#872352" title="[E]=&gt; scalaz.Input[E]">apply</a><span title="scalaz.Input[D]" class="delimiter">[</span><a href="#872232" title="D">D</a><span class="delimiter">]</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/** A pure iteratee computation which is either done or needs more input */</span>
<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait IterV[E, A] extends java.lang.Object with ScalaObject" id="36627">IterV</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="36628">E</a>, <a title="&gt;: Nothing &lt;: Any" id="36629">A</a><span class="delimiter">]</span> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">import</span> <a href="#36642" title="object scalaz.IterV">IterV</a>._

  <span class="keyword">def</span> <a title="[Z](done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z, cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; Z)Z" id="872365">fold</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872367">Z</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z" id="872391">done</a>: <span class="delimiter">(</span>=&gt; A, =&gt; Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Z, <a title="(scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; Z" id="872392">cont</a>: <span class="delimiter">(</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; IterV<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Z<span class="delimiter">)</span>: <a href="#872367" title="Z">Z</a>
  <span class="keyword">def</span> <a title="[F[_]](f: F[E])(implicit e: scalaz.Enumerator[F])scalaz.IterV[E,A]" id="872368">apply</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="872370">F</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872399">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="F[E]" id="872396">f</a>: <a href="#872370" title="F[E]">F</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Enumerator[F]" id="872397">e</a>: <a href="#36640" title="scalaz.Enumerator[F]">Enumerator</a><span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span> = <a href="#872402" title="(f: F[E], i: scalaz.IterV[E,A])scalaz.IterV[E,A]">e</a><span class="delimiter">(</span><a href="#872396" title="F[E]">f</a>, <a href="#36627" title="scalaz.IterV[E,A]" class="keyword">this</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; A" id="872371">run</a>: <a href="#36629" title="A">A</a> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(i: scalaz.IterV[E,A])Option[A]" id="872421">runCont</a><span class="delimiter">(</span><a title="scalaz.IterV[E,A]" id="872422">i</a>: <a href="#36627" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#872422" title="scalaz.IterV[E,A]">i</a>.<a href="#872365" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Option[A], cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; Option[A])Option[A]">fold</a><span class="delimiter">(</span>done = <span class="delimiter">(</span><a title="=&gt; A" id="872427">x</a>, <a title="=&gt; scalaz.Input[E]" id="872428">_</a><span class="delimiter">)</span> =&gt; <span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#872427" title="=&gt; A">x</a><span class="delimiter">)</span>, cont = <a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="872433">_</a> =&gt; <span title="object None">None</span><span class="delimiter">)</span>
    <a href="#872365" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; A, cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; A)A">fold</a><span class="delimiter">(</span>done = <span class="delimiter">(</span><a title="=&gt; A" id="872451">x</a>, <a title="=&gt; scalaz.Input[E]" id="872452">_</a><span class="delimiter">)</span> =&gt; <a href="#872451" title="=&gt; A">x</a>,
          cont = <a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="872454">k</a> =&gt; <a href="#872421" title="(i: scalaz.IterV[E,A])Option[A]">runCont</a><span class="delimiter">(</span><a href="#872454" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k</a><span class="delimiter">(</span><a href="#872352" title="[E]=&gt; scalaz.Input[E]">EOF</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#36628" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; A)A">getOrElse</span><span class="delimiter">(</span>sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Diverging iteratee!&quot;)" class="string">&quot;Diverging iteratee!&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="=&gt; scalaz.IterV[E,A]" id="872372">drop1First</a>: <a href="#36627" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span> = <a href="#872282" title="(n: Int)scalaz.IterV[E,Unit]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#872383" title="(f: Unit =&gt; scalaz.IterV[E,A])scalaz.IterV[E,A]">flatMap</a> <span class="delimiter">(</span><a title="Unit" id="872475">_</a> =&gt; <a href="#36627" title="scalaz.IterV[E,A]" class="keyword">this</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(e: scalaz.Input[E])scalaz.IterV[E,A]" id="872373">feed</a><span class="delimiter">(</span><a title="scalaz.Input[E]" id="872478">e</a>: <a href="#36625" title="scalaz.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span> = <a href="#872365" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; scalaz.IterV[E,A], cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; scalaz.IterV[E,A])scalaz.IterV[E,A]">fold</a><span class="delimiter">(</span><span class="delimiter">(</span><a title="=&gt; A" id="872484">_</a>, <a title="=&gt; scalaz.Input[E]" id="872485">_</a><span class="delimiter">)</span> =&gt; <a href="#36627" title="scalaz.IterV[E,A]" class="keyword">this</a>, <a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="872487">k</a> =&gt; <a href="#872487" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k</a><span class="delimiter">(</span><a href="#872478" title="scalaz.Input[E]">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(f: scalaz.Input[E] =&gt; scalaz.Input[E])scalaz.IterV[E,A]" id="872374">mapInput</a><span class="delimiter">(</span><a title="scalaz.Input[E] =&gt; scalaz.Input[E]" id="872491">f</a>: Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span> =
    <a href="#872365" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; scalaz.IterV[E,A], cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; scalaz.IterV[E,A])scalaz.IterV[E,A]">fold</a><span class="delimiter">(</span><span class="delimiter">(</span><a title="=&gt; A" id="872497">a</a>, <a title="=&gt; scalaz.Input[E]" id="872498">e</a><span class="delimiter">)</span> =&gt; <a href="#872500" title="(a: =&gt; A, i: =&gt; scalaz.Input[E])scalaz.IterV[E,A]">Done</a><span class="delimiter">(</span><a href="#872497" title="=&gt; A">a</a>, <a href="#872491" title="(v1: scalaz.Input[E])scalaz.Input[E]">f</a><span class="delimiter">(</span><a href="#872498" title="=&gt; scalaz.Input[E]">e</a><span class="delimiter">)</span><span class="delimiter">)</span>, <span class="delimiter">(</span><a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="872523">k</a> =&gt; <a href="#872525" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,A])scalaz.IterV[E,A]">Cont</a><span class="delimiter">(</span><a title="scalaz.Input[E]" id="872542">i</a> =&gt; <a href="#872523" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k</a><span class="delimiter">(</span><a href="#872491" title="(v1: scalaz.Input[E])scalaz.Input[E]">f</a><span class="delimiter">(</span><a href="#872542" title="scalaz.Input[E]">i</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(p: E =&gt; Boolean)scalaz.IterV[E,A]" id="872375">filterInput</a><span class="delimiter">(</span><a title="E =&gt; Boolean" id="872548">p</a>: E =&gt; Boolean<span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span> =
    <a href="#872374" title="(f: scalaz.Input[E] =&gt; scalaz.Input[E])scalaz.IterV[E,A]">mapInput</a> <a href="#872551" title="scalaz.Input[E]" class="delimiter">{</a>
      <span class="keyword">case</span> <a title="scalaz.Input[E]" id="872552">i</a>@<a href="#872341" title="(r: scalaz.Input[E])Option[E]">El</a><span class="delimiter">(</span><a title="E" id="872562">e</a><span class="delimiter">)</span> =&gt; <span title="scalaz.Input[E]" class="keyword">if</span> <span class="delimiter">(</span><a href="#872548" title="(v1: E)Boolean">p</a><span class="delimiter">(</span><a href="#872562" title="E">e</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#872552" title="scalaz.Input[E]">i</a> <span class="keyword">else</span> <a href="#872320" title="object scalaz.IterV.Empty">Empty</a>.<a href="#872327" title="scalaz.Input[E]">apply</a>
      <span class="keyword">case</span> <a title="scalaz.Input[E]" id="872565">x</a> =&gt; <a href="#872565" title="scalaz.Input[E]">x</a>
    <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="[B, C](eb: scalaz.IterV[E,B], f: (A, B) =&gt; C)scalaz.IterV[E,C]" id="872376">zipWith</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872379">B</a>, <a title="&gt;: Nothing &lt;: Any" id="872380">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.IterV[E,B]" id="872566">eb</a>: <a href="#36627" title="scalaz.IterV[E,B]">IterV</a><span class="delimiter">[</span>E, B<span class="delimiter">]</span>, <a title="(A, B) =&gt; C" id="872567">f</a>: <span class="delimiter">(</span>A, B<span class="delimiter">)</span> =&gt; C<span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[E,C]">IterV</a><span class="delimiter">[</span>E, C<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="(_1: scalaz.IterV[E,A], _2: scalaz.IterV[E,B])(scalaz.IterV[E,A], scalaz.IterV[E,B])" class="delimiter">(</span><a href="#36627" title="scalaz.IterV[E,A]" class="keyword">this</a>, <a href="#872566" title="scalaz.IterV[E,B]">eb</a><span class="delimiter">)</span> <span title="scalaz.IterV[E,C]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scalaz.IterV[E,C]" class="delimiter">(</span><a href="#872530" title="(r: scalaz.IterV[E,A])Option[scalaz.Input[E] =&gt; scalaz.IterV[E,A]]">Cont</a><span class="delimiter">(</span><a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="872590">k</a><span class="delimiter">)</span>, <a href="#872530" title="(r: scalaz.IterV[E,B])Option[scalaz.Input[E] =&gt; scalaz.IterV[E,B]]">Cont</a><span class="delimiter">(</span><a title="scalaz.Input[E] =&gt; scalaz.IterV[E,B]" id="872599">l</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#872525" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,C])scalaz.IterV[E,C]">Cont</a><span class="delimiter">(</span><a title="scalaz.Input[E]" id="872604">ie</a> =&gt; <a href="#872590" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k</a><span class="delimiter">(</span><a href="#872604" title="scalaz.Input[E]">ie</a><span class="delimiter">)</span>.<a href="#872376" title="(eb: scalaz.IterV[E,B], f: (A, B) =&gt; C)scalaz.IterV[E,C]">zipWith</a><span class="delimiter">(</span><a href="#872599" title="(v1: scalaz.Input[E])scalaz.IterV[E,B]">l</a><span class="delimiter">(</span><a href="#872604" title="scalaz.Input[E]">ie</a><span class="delimiter">)</span>, <a href="#872567" title="(A, B) =&gt; C">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scalaz.IterV[E,C]" class="delimiter">(</span><a href="#872530" title="(r: scalaz.IterV[E,A])Option[scalaz.Input[E] =&gt; scalaz.IterV[E,A]]">Cont</a><span class="delimiter">(</span><a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="872624">k</a><span class="delimiter">)</span>, <a title="scalaz.IterV[E,B]" id="872625">b</a><span class="delimiter">)</span> =&gt; <a href="#872525" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,C])scalaz.IterV[E,C]">Cont</a><span class="delimiter">(</span><a title="scalaz.Input[E]" id="872630">ie</a> =&gt; <a href="#872624" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k</a><span class="delimiter">(</span><a href="#872630" title="scalaz.Input[E]">ie</a><span class="delimiter">)</span>.<a href="#872376" title="(eb: scalaz.IterV[E,B], f: (A, B) =&gt; C)scalaz.IterV[E,C]">zipWith</a><span class="delimiter">(</span><a href="#872625" title="scalaz.IterV[E,B]">b</a>, <a href="#872567" title="(A, B) =&gt; C">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scalaz.IterV[E,C]" class="delimiter">(</span><a title="scalaz.IterV[E,A]" id="872641">a</a>, <a href="#872530" title="(r: scalaz.IterV[E,B])Option[scalaz.Input[E] =&gt; scalaz.IterV[E,B]]">Cont</a><span class="delimiter">(</span><a title="scalaz.Input[E] =&gt; scalaz.IterV[E,B]" id="872650">k</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#872525" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,C])scalaz.IterV[E,C]">Cont</a><span class="delimiter">(</span><a title="scalaz.Input[E]" id="872655">ie</a> =&gt; <a href="#872641" title="scalaz.IterV[E,A]">a</a>.<a href="#872376" title="(eb: scalaz.IterV[E,B], f: (A, B) =&gt; C)scalaz.IterV[E,C]">zipWith</a><span class="delimiter">(</span><a href="#872650" title="(v1: scalaz.Input[E])scalaz.IterV[E,B]">k</a><span class="delimiter">(</span><a href="#872655" title="scalaz.Input[E]">ie</a><span class="delimiter">)</span>, <a href="#872567" title="(A, B) =&gt; C">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scalaz.IterV[E,C]" class="delimiter">(</span><a href="#872505" title="(r: scalaz.IterV[E,A])Option[(A, scalaz.Input[E])]">Done</a><span class="delimiter">(</span><a title="A" id="872677">a</a>, <a title="scalaz.Input[E]" id="872678">e</a><span class="delimiter">)</span>, <a href="#872505" title="(r: scalaz.IterV[E,B])Option[(B, scalaz.Input[E])]">Done</a><span class="delimiter">(</span><a title="B" id="872687">b</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#872500" title="(a: =&gt; C, i: =&gt; scalaz.Input[E])scalaz.IterV[E,C]">Done</a><span class="delimiter">(</span><a href="#872567" title="(v1: A, v2: B)C">f</a><span class="delimiter">(</span><a href="#872677" title="A">a</a>, <a href="#872687" title="B">b</a><span class="delimiter">)</span>, <a href="#872678" title="scalaz.Input[E]">e</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** An iteratee that sends itself the EOF signal after `n` inputs. */</span>
  <span class="keyword">def</span> <a title="(n: Int)scalaz.IterV[E,A]" id="872381">take</a><span class="delimiter">(</span><a title="Int" id="872696">n</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span> =
    <a href="#872365" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; scalaz.IterV[E,A], cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; scalaz.IterV[E,A])scalaz.IterV[E,A]">fold</a><span class="delimiter">(</span><span class="delimiter">(</span><a title="=&gt; A" id="872702">a</a>, <a title="=&gt; scalaz.Input[E]" id="872703">i</a><span class="delimiter">)</span> =&gt; <a href="#872500" title="(a: =&gt; A, i: =&gt; scalaz.Input[E])scalaz.IterV[E,A]">Done</a><span class="delimiter">(</span><a href="#872702" title="=&gt; A">a</a>, <a href="#872703" title="=&gt; scalaz.Input[E]">i</a><span class="delimiter">)</span>,
         <a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="872711">k</a> =&gt; <span title="scalaz.IterV[E,A]" class="keyword">if</span> <span class="delimiter">(</span><a href="#872696" title="Int">n</a> <span title="(x: Int)Boolean">&lt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#872711" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k</a><span class="delimiter">(</span><a href="#872324" title="object scalaz.IterV.EOF">EOF</a>.<a href="#872352" title="scalaz.Input[E]">apply</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#872525" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,A])scalaz.IterV[E,A]">Cont</a><span class="delimiter">(</span><a title="scalaz.Input[E]" id="872722">i</a> =&gt; <a href="#872227" title="(empty: =&gt; scalaz.IterV[E,A], el: =&gt; E =&gt; scalaz.IterV[E,A], eof: =&gt; scalaz.IterV[E,A])scalaz.IterV[E,A]">i</a><span class="delimiter">(</span>
           <a href="#872711" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k</a><span class="delimiter">(</span><a href="#872722" title="scalaz.Input[E]">i</a><span class="delimiter">)</span>.<a href="#872381" title="(n: Int)scalaz.IterV[E,A]">take</a><span class="delimiter">(</span><a href="#872696" title="Int">n</a><span class="delimiter">)</span>,
           <a title="=&gt; E" id="872731">e</a> =&gt; <a href="#872711" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k</a><span class="delimiter">(</span><a href="#872722" title="scalaz.Input[E]">i</a><span class="delimiter">)</span>.<a href="#872381" title="(n: Int)scalaz.IterV[E,A]">take</a><span class="delimiter">(</span><a href="#872696" title="Int">n</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>,
           <a href="#872711" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k</a><span class="delimiter">(</span><a href="#872722" title="scalaz.Input[E]">i</a><span class="delimiter">)</span>
         <span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Lift into a monadic iteratee, in the Id monad. */</span>
  <span class="keyword">def</span> <a title="=&gt; scalaz.Iteratee[scalaz.Scalaz.Id,E,A]" id="872382">lift</a>: <a href="#913133" title="scalaz.Iteratee[scalaz.Scalaz.Id,E,A]">Iteratee</a><span class="delimiter">[</span>Id, E, A<span class="delimiter">]</span> =
    <a href="#872365" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; scalaz.Iteratee[scalaz.Scalaz.Id,E,A], cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; scalaz.Iteratee[scalaz.Scalaz.Id,E,A])scalaz.Iteratee[scalaz.Scalaz.Id,E,A]">fold</a><span class="delimiter">(</span>done = <span class="delimiter">(</span><a title="=&gt; A" id="876491">a</a>, <a title="=&gt; scalaz.Input[E]" id="876492">e</a><span class="delimiter">)</span> =&gt; <a href="#913133" title="[M[+_], E, A](value: M[scalaz.IterVM[M,E,A]])scalaz.Iteratee[M,E,A]">Iteratee</a><span title="(value: scalaz.Scalaz.Id[scalaz.IterVM[scalaz.Scalaz.Id,E,A]])scalaz.Iteratee[scalaz.Scalaz.Id,E,A]" class="delimiter">[</span><a href="../../core/scalaz/Id.scala.html#42459" title="scalaz.Scalaz.Id">Id</a>, <a href="#36628" title="E">E</a>, <a href="#36629" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#876515" title="(a: =&gt; A, i: =&gt; scalaz.Input[E])scalaz.IterVM[scalaz.Scalaz.Id,E,A]">DoneM</a><span class="delimiter">(</span><a href="#876491" title="=&gt; A">a</a>, <a href="#876492" title="=&gt; scalaz.Input[E]">e</a><span class="delimiter">)</span><span class="delimiter">)</span>,
         cont = <a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="876552">k</a> =&gt; <a href="#913133" title="[M[+_], E, A](value: M[scalaz.IterVM[M,E,A]])scalaz.Iteratee[M,E,A]">Iteratee</a><span title="(value: scalaz.Scalaz.Id[scalaz.IterVM[scalaz.Scalaz.Id,E,A]])scalaz.Iteratee[scalaz.Scalaz.Id,E,A]" class="delimiter">[</span><a href="../../core/scalaz/Id.scala.html#42459" title="scalaz.Scalaz.Id">Id</a>, <a href="#36628" title="E">E</a>, <a href="#36629" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#876555" title="(f: scalaz.Input[E] =&gt; scalaz.Iteratee[scalaz.Scalaz.Id,E,A])scalaz.IterVM[scalaz.Scalaz.Id,E,A]">ContM</a><span class="delimiter">(</span><a title="scalaz.Input[E]" id="876581">i</a> =&gt; <a href="#876552" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k</a><span class="delimiter">(</span><a href="#876581" title="scalaz.Input[E]">i</a><span class="delimiter">)</span>.<a href="#872382" title="=&gt; scalaz.Iteratee[scalaz.Scalaz.Id,E,A]">lift</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[B](f: A =&gt; scalaz.IterV[E,B])scalaz.IterV[E,B]" id="872383">flatMap</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872385">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; scalaz.IterV[E,B]" id="872468">f</a>: A =&gt; IterV<span class="delimiter">[</span>E, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[E,B]">IterV</a><span class="delimiter">[</span>E, B<span class="delimiter">]</span> = <a href="#36627" title="IterV.this.type" class="keyword">this</a>.<a href="#872365" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; scalaz.IterV[E,B], cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; scalaz.IterV[E,B])scalaz.IterV[E,B]">fold</a><span class="delimiter">(</span>
      done = <span class="delimiter">(</span><a title="=&gt; A" id="876594">x</a>, <a title="=&gt; scalaz.Input[E]" id="876595">str</a><span class="delimiter">)</span> =&gt; <a href="#872468" title="(v1: A)scalaz.IterV[E,B]">f</a><span class="delimiter">(</span><a href="#876594" title="=&gt; A">x</a><span class="delimiter">)</span>.<a href="#872365" title="(done: (=&gt; B, =&gt; scalaz.Input[E]) =&gt; scalaz.IterV[E,B], cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,B]) =&gt; scalaz.IterV[E,B])scalaz.IterV[E,B]">fold</a><span class="delimiter">(</span>
        done = <span class="delimiter">(</span><a title="=&gt; B" id="876603">x2</a>, <a title="=&gt; scalaz.Input[E]" id="876604">_</a><span class="delimiter">)</span> =&gt; <a href="#872500" title="(a: =&gt; B, i: =&gt; scalaz.Input[E])scalaz.IterV[E,B]">Done</a><span class="delimiter">(</span><a href="#876603" title="=&gt; B">x2</a>, <a href="#876595" title="=&gt; scalaz.Input[E]">str</a><span class="delimiter">)</span>,
        cont = <a href="#876612" title="(v1: scalaz.Input[E])scalaz.IterV[E,B]">_</a><span class="delimiter">(</span><a href="#876595" title="=&gt; scalaz.Input[E]">str</a><span class="delimiter">)</span><span class="delimiter">)</span>,
      cont = <a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="876617">k</a> =&gt; <a href="#872525" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,B])scalaz.IterV[E,B]">Cont</a><span class="delimiter">(</span><a title="scalaz.Input[E]" id="876622">str2</a> =&gt; <a href="#876617" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k</a><span class="delimiter">(</span><a href="#876622" title="scalaz.Input[E]">str2</a><span class="delimiter">)</span> <a href="#872383" title="(f: A =&gt; scalaz.IterV[E,B])scalaz.IterV[E,B]">flatMap</a> <a href="#872468" title="A =&gt; scalaz.IterV[E,B]">f</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[B](f: A =&gt; B)scalaz.IterV[E,B]" id="872386">map</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872388">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; B" id="876630">f</a>: A =&gt; B<span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[E,B]">IterV</a><span class="delimiter">[</span>E, B<span class="delimiter">]</span> = <a href="#872383" title="(f: A =&gt; scalaz.IterV[E,B])scalaz.IterV[E,B]">flatMap</a><span class="delimiter">(</span><a title="A" id="876636">a</a> =&gt; <a href="#872500" title="(a: =&gt; B, i: =&gt; scalaz.Input[E])scalaz.IterV[E,B]">Done</a><span class="delimiter">(</span><a href="#876630" title="(v1: A)B">f</a><span class="delimiter">(</span><a href="#876636" title="A">a</a><span class="delimiter">)</span>, <a href="#872327" title="[E]=&gt; scalaz.Input[E]">Empty</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#36628" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/** Monadic Iteratees */</span>
<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait IterVM[M[+_], E, A] extends java.lang.Object" id="36630">IterVM</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="36631">M</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="876645">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="36632">E</a>, <a title="&gt;: Nothing &lt;: Any" id="36633">A</a><span class="delimiter">]</span> <span title="java.lang.Object" class="delimiter">{</span>
  <span class="keyword">import</span> <a href="#36642" title="object scalaz.IterV">IterV</a>._
  <span class="keyword">def</span> <a title="[Z](done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z, cont: (scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; Z)Z" id="876534">fold</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="876536">Z</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z" id="876647">done</a>: <span class="delimiter">(</span>=&gt; A, =&gt; Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Z, <a title="(scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; Z" id="876648">cont</a>: <span class="delimiter">(</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; Iteratee<span class="delimiter">[</span>M, E, A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Z<span class="delimiter">)</span>: <a href="#876536" title="Z">Z</a>
<span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="class Iteratee[M[+_], E, A] extends java.lang.Object with ScalaObject with Product with Serializable" id="913133">Iteratee</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="876499">M</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="876510">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="876500">E</a>, <a title="&gt;: Nothing &lt;: Any" id="876501">A</a><span class="delimiter">]</span><a href="#913133" title="ScalaObject" class="delimiter">(</a><a title="M[scalaz.IterVM[M,E,A]]" id="876509">value</a>: <a href="#876499" title="M[scalaz.IterVM[M,E,A]]">M</a><span class="delimiter">[</span>IterVM<span class="delimiter">[</span>M, E, A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="#36642" title="object scalaz.IterV">IterV</a>._

  <span class="keyword">def</span> <a title="(es: scalaz.StreamT[M,E])(implicit M: scalaz.Monad[M])M[A]" id="876471">apply</a><span class="delimiter">(</span><a title="scalaz.StreamT[M,E]" id="876655">es</a>: <a href="../../core/scalaz/StreamT.scala.html#10397" title="scalaz.StreamT[M,E]">StreamT</a><span class="delimiter">[</span>M, E<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Monad[M]" id="876656">M</a>: <a href="../../core/scalaz/Monad.scala.html#22208" title="scalaz.Monad[M]">Monad</a><span class="delimiter">[</span>M<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#876499" title="M[A]">M</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="keyword">for</span> <span class="delimiter">{</span>
    <a title="scalaz.IterVM[M,E,A]" id="878131">i</a> &lt;- <a href="../../core/scalaz/syntax/BindSyntax.scala.html#290709" title="(f: scalaz.IterVM[M,E,A] =&gt; M[A])M[A]">value</a>
    <a title="Option[(E, scalaz.StreamT[M,E])]" id="880003">p</a> &lt;- <a href="#876655" title="scalaz.StreamT[M,E]">es</a>.<a href="../../core/scalaz/syntax/BindSyntax.scala.html#290709" title="(f: Option[(E, scalaz.StreamT[M,E])] =&gt; M[A])M[A]">uncons</a>
    <a title="A" id="883416">v</a> &lt;- <a href="#878131" title="scalaz.IterVM[M,E,A]">i</a>.<a href="#876534" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; M[A], cont: (scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; M[A])M[A]">fold</a><a href="../../core/scalaz/syntax/FunctorSyntax.scala.html#102635" title="(f: A =&gt; A)M[A]" class="delimiter">(</a><span class="delimiter">(</span><a title="=&gt; A" id="880010">a</a>, <a title="=&gt; scalaz.Input[E]" id="880011">e</a><span class="delimiter">)</span> =&gt; <a href="#876656" title="scalaz.Monad[M]">M</a>.<a href="../../core/scalaz/Pointed.scala.html#43521" title="(a: =&gt; A)M[A]">pure</a><span class="delimiter">(</span><a href="#880010" title="=&gt; A">a</a><span class="delimiter">)</span>,
                <a title="scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]" id="880016">k</a> =&gt; <a href="#880003" title="Option[(E, scalaz.StreamT[M,E])]">p</a> <span title="M[A]" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="M[A]">Some</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="E" id="880020">h</a>, <a title="scalaz.StreamT[M,E]" id="880021">t</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#880016" title="(v1: scalaz.Input[E])scalaz.Iteratee[M,E,A]">k</a><a href="#876471" title="(es: scalaz.StreamT[M,E])(implicit M: scalaz.Monad[M])M[A]" class="delimiter">(</a><a href="#872338" title="(e0: =&gt; E)scalaz.Input[E]">El</a><span class="delimiter">(</span><a href="#880020" title="E">h</a><span class="delimiter">)</span><span class="delimiter">)</span><a href="#876656" title="scalaz.Monad[M]" class="delimiter">(</a><a href="#880021" title="scalaz.StreamT[M,E]">t</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="M[A]">None</span> =&gt; <a href="#880016" title="(v1: scalaz.Input[E])scalaz.Iteratee[M,E,A]">k</a><span class="delimiter">(</span><a href="#872352" title="[E]=&gt; scalaz.Input[E]">EOF</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#876500" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span>.<a href="../../core/scalaz/syntax/FunctorSyntax.scala.html#53649" title="(v: M[scalaz.IterVM[M,E,A]])(implicit F0: scalaz.Functor[M])java.lang.Object with scalaz.syntax.FunctorOps[M,scalaz.IterVM[M,E,A]]">value</a>.<a href="../../core/scalaz/syntax/FunctorSyntax.scala.html#102635" title="(f: scalaz.IterVM[M,E,A] =&gt; A)M[A]">map</a><span class="delimiter">(</span>
                    <a href="#881927" title="scalaz.IterVM[M,E,A]">_</a>.<a href="#876534" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; A, cont: (scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; A)A">fold</a><span class="delimiter">(</span><span class="delimiter">(</span><a title="=&gt; A" id="881934">a</a>, <a title="=&gt; scalaz.Input[E]" id="881935">e</a><span class="delimiter">)</span> =&gt; <a href="#881934" title="=&gt; A">a</a>, <a title="scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]" id="881937">_</a> =&gt; sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Diverging Iteratee&quot;)" class="string">&quot;Diverging Iteratee&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span><span class="delimiter">)</span>
  <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#883416" title="A">v</a>

  <span class="keyword">def</span> <a title="(f: scalaz.package.~&gt;[M,scalaz.Scalaz.Id])(implicit M: scalaz.Monad[M])M[scalaz.IterV[E,A]]" id="876472">lower</a><span class="delimiter">(</span><a title="scalaz.package.~&gt;[M,scalaz.Scalaz.Id]" id="883420">f</a>: M <a href="../../core/scalaz/NaturalTransformation.scala.html#16934" title="scalaz.package.~&gt;[M,scalaz.Scalaz.Id]">~&gt;</a> Id<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Monad[M]" id="883421">M</a>: <a href="../../core/scalaz/Monad.scala.html#22208" title="scalaz.Monad[M]">Monad</a><span class="delimiter">[</span>M<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#876499" title="M[scalaz.IterV[E,A]]">M</a><span class="delimiter">[</span>IterV<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="keyword">for</span> <span class="delimiter">{</span>
    <a title="scalaz.IterVM[M,E,A]" id="884885">v</a> &lt;- <a href="../../core/scalaz/syntax/BindSyntax.scala.html#290709" title="(f: scalaz.IterVM[M,E,A] =&gt; M[scalaz.IterV[E,A]])M[scalaz.IterV[E,A]]">value</a>
    <a title="scalaz.IterV[E,A]" id="886850">a</a> &lt;- <a href="#883421" title="scalaz.Monad[M]">M</a>.<a href="../../core/scalaz/Pointed.scala.html#43521" title="(a: =&gt; scalaz.IterV[E,A])M[scalaz.IterV[E,A]]">pure</a><a href="../../core/scalaz/syntax/FunctorSyntax.scala.html#102635" title="(f: scalaz.IterV[E,A] =&gt; scalaz.IterV[E,A])M[scalaz.IterV[E,A]]" class="delimiter">(</a><a href="#884885" title="scalaz.IterVM[M,E,A]">v</a> <span title="scalaz.IterV[E,A]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#876522" title="scalaz.IterV[E,A]">DoneM</a><span class="delimiter">(</span><a title="A" id="884908">a</a>, <a title="scalaz.Input[E]" id="884909">e</a><span class="delimiter">)</span> =&gt; <a href="#872500" title="(a: =&gt; A, i: =&gt; scalaz.Input[E])scalaz.IterV[E,A]">Done</a><span class="delimiter">(</span><a href="#884908" title="A">a</a>, <a href="#884909" title="scalaz.Input[E]">e</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="#876562" title="scalaz.IterV[E,A]">ContM</a><span class="delimiter">(</span><a title="scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]" id="884936">k</a><span class="delimiter">)</span> =&gt; <a href="#872525" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,A])scalaz.IterV[E,A]">Cont</a><span class="delimiter">(</span><span class="delimiter">(</span>e: <a href="#36625" title="scalaz.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <a href="../../core/scalaz/NaturalTransformation.scala.html#148051" title="(fa: M[scalaz.IterV[E,A]])scalaz.Scalaz.Id[scalaz.IterV[E,A]]">f</a><span class="delimiter">(</span><a href="#884936" title="(v1: scalaz.Input[E])scalaz.Iteratee[M,E,A]">k</a><span class="delimiter">(</span><a href="#884941" title="scalaz.Input[E]">e</a><span class="delimiter">)</span>.<a href="#876472" title="(f: scalaz.package.~&gt;[M,scalaz.Scalaz.Id])(implicit M: scalaz.Monad[M])M[scalaz.IterV[E,A]]">lower</a><a href="#883421" title="scalaz.Monad[M]" class="delimiter">(</a><a href="#883420" title="scalaz.package.~&gt;[M,scalaz.Scalaz.Id]">f</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>
  <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#886850" title="scalaz.IterV[E,A]">a</a>

  <span class="keyword">def</span> <a title="[D](f: D =&gt; E, g: E =&gt; D)(implicit M: scalaz.Monad[M])scalaz.Iteratee[M,D,A]" id="876473">xmap</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="876475">D</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="D =&gt; E" id="886853">f</a>: D =&gt; E, <a title="E =&gt; D" id="886854">g</a>: E =&gt; D<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Monad[M]" id="886855">M</a>: <a href="../../core/scalaz/Monad.scala.html#22208" title="scalaz.Monad[M]">Monad</a><span class="delimiter">[</span>M<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#913133" title="scalaz.Iteratee[M,D,A]">Iteratee</a><span class="delimiter">[</span>M, D, A<span class="delimiter">]</span> = <a href="#913133" title="[M[+_], E, A](value: M[scalaz.IterVM[M,E,A]])scalaz.Iteratee[M,E,A]">Iteratee</a><span title="(value: M[scalaz.IterVM[M,D,A]])scalaz.Iteratee[M,D,A]" class="delimiter">[</span><a href="#876499" title="M">M</a>, <a href="#876475" title="D">D</a>, <a href="#876501" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">for</span> <span class="delimiter">{</span>
    <a title="scalaz.IterVM[M,E,A]" id="888322">v</a> &lt;- <a href="../../core/scalaz/syntax/BindSyntax.scala.html#290709" title="(f: scalaz.IterVM[M,E,A] =&gt; M[scalaz.IterVM[M,D,A]])M[scalaz.IterVM[M,D,A]]">value</a>
    <a title="scalaz.IterVM[M,D,A]" id="890258">h</a> &lt;- <a href="#886855" title="scalaz.Monad[M]">M</a>.<a href="../../core/scalaz/Pointed.scala.html#43521" title="(a: =&gt; scalaz.IterVM[M,D,A])M[scalaz.IterVM[M,D,A]]">pure</a><a href="../../core/scalaz/syntax/FunctorSyntax.scala.html#102635" title="(f: scalaz.IterVM[M,D,A] =&gt; scalaz.IterVM[M,D,A])M[scalaz.IterVM[M,D,A]]" class="delimiter">(</a><a href="#888322" title="scalaz.IterVM[M,E,A]">v</a>.<a href="#876534" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; scalaz.IterVM[M,D,A], cont: (scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; scalaz.IterVM[M,D,A])scalaz.IterVM[M,D,A]">fold</a><span class="delimiter">(</span><span class="delimiter">(</span><a title="=&gt; A" id="888331">a</a>, <a title="=&gt; scalaz.Input[E]" id="888332">e</a><span class="delimiter">)</span> =&gt; <a href="#876515" title="[M[+_], E, A](a: =&gt; A, i: =&gt; scalaz.Input[E])scalaz.IterVM[M,E,A]">DoneM</a><span title="(a: =&gt; A, i: =&gt; scalaz.Input[D])scalaz.IterVM[M,D,A]" class="delimiter">[</span><a href="#876499" title="M">M</a>, <a href="#876475" title="D">D</a>, <a href="#876501" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#888331" title="=&gt; A">a</a>, <a href="#888332" title="=&gt; scalaz.Input[E]">e</a> <a href="#872230" title="(f: E =&gt; D)scalaz.Input[D]">map</a> <a href="#886854" title="E =&gt; D">g</a><span class="delimiter">)</span>,
                <a title="scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]" id="888340">k</a> =&gt; <a href="#876555" title="[M[+_], E, A](f: scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A])scalaz.IterVM[M,E,A]">ContM</a><span title="(f: scalaz.Input[D] =&gt; scalaz.Iteratee[M,D,A])scalaz.IterVM[M,D,A]" class="delimiter">[</span><a href="#876499" title="M">M</a>, <a href="#876475" title="D">D</a>, <a href="#876501" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">(</span>d: <a href="#36625" title="scalaz.Input[D]">Input</a><span class="delimiter">[</span>D<span class="delimiter">]</span><span class="delimiter">)</span> =&gt;
                  <a href="#888340" title="(v1: scalaz.Input[E])scalaz.Iteratee[M,E,A]">k</a><span class="delimiter">(</span><a href="#888343" title="scalaz.Input[D]">d</a> <a href="#872230" title="(f: D =&gt; E)scalaz.Input[E]">map</a> <a href="#886853" title="D =&gt; E">f</a><span class="delimiter">)</span>.<a href="#876473" title="(f: D =&gt; E, g: E =&gt; D)(implicit M: scalaz.Monad[M])scalaz.Iteratee[M,D,A]">xmap</a><a href="#886855" title="scalaz.Monad[M]" class="delimiter">(</a><a href="#886853" title="D =&gt; E">f</a>, <a href="#886854" title="E =&gt; D">g</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#890258" title="scalaz.IterVM[M,D,A]">h</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[B](f: A =&gt; B)(implicit M: scalaz.Functor[M])scalaz.Iteratee[M,E,B]" id="876476">map</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="876478">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; B" id="890261">f</a>: A =&gt; B<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Functor[M]" id="890262">M</a>: <a href="../../core/scalaz/Functor.scala.html#14441" title="scalaz.Functor[M]">Functor</a><span class="delimiter">[</span>M<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#913133" title="scalaz.Iteratee[M,E,B]">Iteratee</a><span class="delimiter">[</span>M, E, B<span class="delimiter">]</span> =
    <a href="#913133" title="[M[+_], E, A](value: M[scalaz.IterVM[M,E,A]])scalaz.Iteratee[M,E,A]">Iteratee</a><span title="(value: M[scalaz.IterVM[M,E,B]])scalaz.Iteratee[M,E,B]" class="delimiter">[</span><a href="#876499" title="M">M</a>, <a href="#876500" title="E">E</a>, <a href="#876478" title="B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#890262" title="scalaz.Functor[M]">M</a>.<a href="../../core/scalaz/Functor.scala.html#42468" title="(fa: M[scalaz.IterVM[M,E,A]])(f: scalaz.IterVM[M,E,A] =&gt; scalaz.IterVM[M,E,B])M[scalaz.IterVM[M,E,B]]">map</a><span class="delimiter">(</span><a href="#876509" title="=&gt; M[scalaz.IterVM[M,E,A]]">value</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span>x: <a href="#36630" title="scalaz.IterVM[M,E,A]">IterVM</a><span class="delimiter">[</span>M, E, A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <a href="#890276" title="scalaz.IterVM[M,E,A]">x</a>.<a href="#876534" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; scalaz.IterVM[M,E,B], cont: (scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; scalaz.IterVM[M,E,B])scalaz.IterVM[M,E,B]">fold</a><span class="delimiter">(</span><span class="delimiter">(</span><a title="=&gt; A" id="890283">a</a>, <a title="=&gt; scalaz.Input[E]" id="890284">e</a><span class="delimiter">)</span> =&gt; <a href="#876515" title="[M[+_], E, A](a: =&gt; A, i: =&gt; scalaz.Input[E])scalaz.IterVM[M,E,A]">DoneM</a><span title="(a: =&gt; B, i: =&gt; scalaz.Input[E])scalaz.IterVM[M,E,B]" class="delimiter">[</span><a href="#876499" title="M">M</a>, <a href="#876500" title="E">E</a>, <a href="#876478" title="B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#890261" title="(v1: A)B">f</a><span class="delimiter">(</span><a href="#890283" title="=&gt; A">a</a><span class="delimiter">)</span>, <a href="#890284" title="=&gt; scalaz.Input[E]">e</a><span class="delimiter">)</span>, <a title="scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]" id="890289">k</a> =&gt; <a href="#876555" title="[M[+_], E, A](f: scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A])scalaz.IterVM[M,E,A]">ContM</a><span title="(f: scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,B])scalaz.IterVM[M,E,B]" class="delimiter">[</span><a href="#876499" title="M">M</a>, <a href="#876500" title="E">E</a>, <a href="#876478" title="B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.Input[E]" id="890292">e</a> =&gt; <a href="#890289" title="(v1: scalaz.Input[E])scalaz.Iteratee[M,E,A]">k</a><span class="delimiter">(</span><a href="#890292" title="scalaz.Input[E]">e</a><span class="delimiter">)</span>.<a href="#876476" title="(f: A =&gt; B)(implicit M: scalaz.Functor[M])scalaz.Iteratee[M,E,B]">map</a><a href="#890262" title="scalaz.Functor[M]" class="delimiter">(</a><a href="#890261" title="A =&gt; B">f</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(implicit M: scalaz.Monad[M])M[A]" id="876479">run</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Monad[M]" id="890760">M</a>: <a href="../../core/scalaz/Monad.scala.html#22208" title="scalaz.Monad[M]">Monad</a><span class="delimiter">[</span>M<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#876499" title="M[A]">M</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(i: scalaz.Iteratee[M,E,A])M[Option[A]]" id="890762">runCont</a><span class="delimiter">(</span><a title="scalaz.Iteratee[M,E,A]" id="890763">i</a>: <a href="#913133" title="scalaz.Iteratee[M,E,A]">Iteratee</a><span class="delimiter">[</span>M, E, A<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="keyword">for</span> <span class="delimiter">{</span>
      <a title="scalaz.IterVM[M,E,A]" id="892257">v</a> &lt;- <a href="#890763" title="scalaz.Iteratee[M,E,A]">i</a>.<a href="../../core/scalaz/syntax/FunctorSyntax.scala.html#102635" title="(f: scalaz.IterVM[M,E,A] =&gt; Option[A])M[Option[A]]">value</a>
    <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#892257" title="scalaz.IterVM[M,E,A]">v</a>.<a href="#876534" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Option[A], cont: (scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; Option[A])Option[A]">fold</a><span class="delimiter">(</span>done = <span class="delimiter">(</span><a title="=&gt; A" id="892264">x</a>, <a title="=&gt; scalaz.Input[E]" id="892265">_</a><span class="delimiter">)</span> =&gt; <span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#892264" title="=&gt; A">x</a><span class="delimiter">)</span>, cont = <a title="scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]" id="892270">_</a> =&gt; <span title="object None">None</span><span class="delimiter">)</span>
    <span class="keyword">for</span> <span class="delimiter">{</span>
      <a title="scalaz.IterVM[M,E,A]" id="893747">v</a> &lt;- <a href="../../core/scalaz/syntax/BindSyntax.scala.html#290709" title="(f: scalaz.IterVM[M,E,A] =&gt; M[A])M[A]">value</a>
      <a title="Option[A]" id="895240">t</a> &lt;- <a href="#893747" title="scalaz.IterVM[M,E,A]">v</a>.<a href="#876534" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; M[Option[A]], cont: (scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; M[Option[A]])M[Option[A]]">fold</a><a href="../../core/scalaz/syntax/FunctorSyntax.scala.html#102635" title="(f: Option[A] =&gt; A)M[A]" class="delimiter">(</a>done = <span class="delimiter">(</span><a title="=&gt; A" id="893754">x</a>, <a title="=&gt; scalaz.Input[E]" id="893755">_</a><span class="delimiter">)</span> =&gt; <a href="#890760" title="scalaz.Monad[M]">M</a>.<a href="../../core/scalaz/Pointed.scala.html#43518" title="(a: =&gt; Some[A])M[Some[A]]">point</a><span class="delimiter">(</span><span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#893754" title="=&gt; A">x</a><span class="delimiter">)</span><span class="delimiter">)</span>,
                  cont = <a title="scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]" id="893763">k</a> =&gt; <a href="#890762" title="(i: scalaz.Iteratee[M,E,A])M[Option[A]]">runCont</a><span class="delimiter">(</span><a href="#893763" title="(v1: scalaz.Input[E])scalaz.Iteratee[M,E,A]">k</a><span class="delimiter">(</span><a href="#872352" title="[E]=&gt; scalaz.Input[E]">EOF</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#876500" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#895240" title="Option[A]">t</a>.<span title="(default: =&gt; A)A">getOrElse</span><span class="delimiter">(</span>sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Diverging iteratee!&quot;)" class="string">&quot;Diverging iteratee!&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/** An Enumerator[F] feeds data from an F to an iteratee */</span>
<span class="keyword">trait</span> <a title="trait Enumerator[F[_]] extends java.lang.Object" id="36640">Enumerator</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="36641">F</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="895297">_</a><span class="delimiter">]</span><span class="delimiter">]</span> <span title="java.lang.Object" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[E, A](f: F[E], i: scalaz.IterV[E,A])scalaz.IterV[E,A]" id="872402">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872405">E</a>, <a title="&gt;: Nothing &lt;: Any" id="872406">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="F[E]" id="872407">f</a>: <a href="#36641" title="F[E]">F</a><span class="delimiter">[</span>E<span class="delimiter">]</span>, <a title="scalaz.IterV[E,A]" id="872408">i</a>: <a href="#36627" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span>
<span class="delimiter">}</span>


<span class="keyword">object</span> <a title="object scalaz.IterV" id="36642">IterV</a> <span title="ScalaObject" class="delimiter">{</span>

  case <span class="keyword">class</span> <a title="class OptionSyntax[A] extends java.lang.Object with ScalaObject with Product with Serializable" id="913128">OptionSyntax</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="895336">A</a><span class="delimiter">]</span><a href="#913128" title="ScalaObject" class="delimiter">(</a><a title="Option[A]" id="895372">value</a>: <span title="Option[A]">Option</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="comment">/**
     * Returns a Done iteratee with the given value if the Option is not defined, otherwise runs the given function.
     */</span>
    <span class="keyword">def</span> <a title="[B](b: =&gt; B, f: A =&gt; scalaz.IterV[A,B])scalaz.IterV[A,B]" id="876663">iterDoneOr</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="876665">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; B" id="895303">b</a>: =&gt; B, <a title="A =&gt; scalaz.IterV[A,B]" id="895304">f</a>: A =&gt; IterV<span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[A,B]">IterV</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#895372" title="=&gt; Option[A]">value</a> <span title="scalaz.IterV[A,B]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scalaz.IterV[A,B]">None</span> =&gt; <a href="#36642" title="object scalaz.IterV">IterV</a>.<a href="#872500" title="(a: =&gt; B, i: =&gt; scalaz.Input[A])scalaz.IterV[A,B]">Done</a><span class="delimiter">(</span><a href="#895303" title="=&gt; B">b</a>, <a href="#36642" title="object scalaz.IterV">IterV</a>.<a href="#872324" title="object scalaz.IterV.EOF">EOF</a>.<a href="#872352" title="scalaz.Input[A]">apply</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scalaz.IterV[A,B]">Some</span><span class="delimiter">(</span><a title="A" id="895316">a</a><span class="delimiter">)</span> =&gt; <a href="#895304" title="(v1: A)scalaz.IterV[A,B]">f</a><span class="delimiter">(</span><a href="#895316" title="A">a</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[A](value: Option[A])scalaz.IterV.OptionSyntax[A]" id="872254">wrapOptionSyntax</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872256">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Option[A]" id="872755">value</a>: <span title="Option[A]">Option</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#913128" title="scalaz.IterV.OptionSyntax[A]">OptionSyntax</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#913128" title="(value: Option[A])scalaz.IterV.OptionSyntax[A]">OptionSyntax</a><span class="delimiter">(</span><a href="#872755" title="Option[A]">value</a><span class="delimiter">)</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[E]=&gt; scalaz.Monad[[]scalaz.IterV[E,]]" id="872257">iterVMonad</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872259">E</a><span class="delimiter">]</span>: <a href="../../core/scalaz/Monad.scala.html#22208" title="scalaz.Monad[[]scalaz.IterV[E,]]">Monad</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> <span class="delimiter">[</span><span class="delimiter">]</span> = IterV<span class="delimiter">[</span>E,<span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#<span class="delimiter">]</span> = <a href="#895380" title="java.lang.Object with scalaz.Monad[[]scalaz.IterV[E,]]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Monad[[]scalaz.IterV[E,]]" id="895380">Monad</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> <span class="delimiter">[</span><span class="delimiter">]</span> = IterV<span class="delimiter">[</span>E,<span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[A, B](a: scalaz.IterV[E,A])(f: A =&gt; scalaz.IterV[E,B])scalaz.IterV[E,B]" id="895438">bind</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="895441">A</a>,<a title="&gt;: Nothing &lt;: Any" id="895442">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.IterV[E,A]" id="895446">a</a>: <a href="#36627" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; scalaz.IterV[E,B]" id="895447">f</a>: A =&gt; IterV<span class="delimiter">[</span>E, B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#895446" title="scalaz.IterV[E,A]">a</a>.<a href="#872383" title="(f: A =&gt; scalaz.IterV[E,B])scalaz.IterV[E,B]">flatMap</a><span class="delimiter">(</span><a href="#895447" title="A =&gt; scalaz.IterV[E,B]">f</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="[A](a: =&gt; A)scalaz.IterV[E,A]" id="895443">point</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="895445">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="895470">a</a>: =&gt; A<span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span> = <a href="#872500" title="(a: =&gt; A, i: =&gt; scalaz.Input[E])scalaz.IterV[E,A]">Done</a><span class="delimiter">(</span><a href="#895470" title="=&gt; A">a</a>, <a href="#872327" title="[E]=&gt; scalaz.Input[E]">Empty</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#872259" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** An EnumeratorM[M, _, _] feeds data in a monad M to an iteratee */</span>
  <span class="keyword">type</span> <a title="[M[_], E]scalaz.package.~&gt;[[]scalaz.IterV[E,],[]M[scalaz.IterV[E,]]]" id="872260">EnumeratorM</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="872261">M</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="895509">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="872262">E</a><span class="delimiter">]</span> = <span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> <span class="delimiter">[</span><span class="delimiter">]</span> = IterV<span class="delimiter">[</span>E, <span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span># <a href="../../core/scalaz/NaturalTransformation.scala.html#16934" title="scalaz.package.~&gt;[[]scalaz.IterV[E,],[]M[scalaz.IterV[E,]]]">~&gt;</a> <span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> <span class="delimiter">[</span><span class="delimiter">]</span> = M<span class="delimiter">[</span>IterV<span class="delimiter">[</span>E, <span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#

  <span class="comment">/** A computation that has finished */</span>
  <span class="keyword">object</span> <a title="object scalaz.IterV.Done" id="872263">Done</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[E, A](a: =&gt; A, i: =&gt; scalaz.Input[E])scalaz.IterV[E,A]" id="872500">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872503">E</a>, <a title="&gt;: Nothing &lt;: Any" id="872504">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="872510">a</a>: =&gt; A, <a title="=&gt; scalaz.Input[E]" id="872511">i</a>: =&gt; Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span> = <a href="#895515" title="java.lang.Object with scalaz.IterV[E,A]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.IterV[E,A]" id="895515">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="[Z](done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z, cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; Z)Z" id="895519">fold</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="895521">Z</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z" id="895522">done</a>: <span class="delimiter">(</span>=&gt; A, =&gt; Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Z,
                  <a title="(scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; Z" id="895523">cont</a>: <span class="delimiter">(</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; IterV<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Z<span class="delimiter">)</span>: <a href="#895521" title="Z">Z</a> = <a href="#895522" title="(v1: =&gt; A, v2: =&gt; scalaz.Input[E])Z">done</a><span class="delimiter">(</span><a href="#872510" title="=&gt; A">a</a>, <a href="#872511" title="=&gt; scalaz.Input[E]">i</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="[E, A](r: scalaz.IterV[E,A])Option[(A, scalaz.Input[E])]" id="872505">unapply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872508">E</a>, <a title="&gt;: Nothing &lt;: Any" id="872509">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.IterV[E,A]" id="872666">r</a>: <a href="#36627" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[(A, scalaz.Input[E])]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>A, Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> =
      <a href="#872666" title="scalaz.IterV[E,A]">r</a>.<a href="#872365" title="[Z](done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z, cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; Z)Z">fold</a><span title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Option[(A, scalaz.Input[E])], cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; Option[(A, scalaz.Input[E])])Option[(A, scalaz.Input[E])]" class="delimiter">[</span><span title="Option[(A, scalaz.Input[E])]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>A,Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span>
        done = <span class="delimiter">(</span><a title="=&gt; A" id="895548">a</a>, <a title="=&gt; scalaz.Input[E]" id="895549">i</a><span class="delimiter">)</span> =&gt; <span title="(x: (A, scalaz.Input[E]))Some[(A, scalaz.Input[E])]">Some</span><span class="delimiter">(</span><span title="(_1: A, _2: scalaz.Input[E])(A, scalaz.Input[E])" class="delimiter">(</span><a href="#895548" title="=&gt; A">a</a>, <a href="#895549" title="=&gt; scalaz.Input[E]">i</a><span class="delimiter">)</span><span class="delimiter">)</span>,
        cont = <a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="895560">f</a> =&gt; <span title="object None">None</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A computation that takes an element from an input to yield a new computation */</span>
  <span class="keyword">object</span> <a title="object scalaz.IterV.Cont" id="872265">Cont</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[E, A](f: scalaz.Input[E] =&gt; scalaz.IterV[E,A])scalaz.IterV[E,A]" id="872525">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872528">E</a>, <a title="&gt;: Nothing &lt;: Any" id="872529">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="872535">f</a>: Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; IterV<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span> = <a href="#895562" title="java.lang.Object with scalaz.IterV[E,A]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.IterV[E,A]" id="895562">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="[Z](done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z, cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; Z)Z" id="895566">fold</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="895568">Z</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z" id="895569">done</a>: <span class="delimiter">(</span>=&gt; A, =&gt; Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Z,
                  <a title="(scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; Z" id="895570">cont</a>: <span class="delimiter">(</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; IterV<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Z<span class="delimiter">)</span>: <a href="#895568" title="Z">Z</a> = <a href="#895570" title="(v1: scalaz.Input[E] =&gt; scalaz.IterV[E,A])Z">cont</a><span class="delimiter">(</span><a href="#872535" title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]">f</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="[E, A](r: scalaz.IterV[E,A])Option[scalaz.Input[E] =&gt; scalaz.IterV[E,A]]" id="872530">unapply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872533">E</a>, <a title="&gt;: Nothing &lt;: Any" id="872534">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.IterV[E,A]" id="872579">r</a>: <a href="#36627" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[scalaz.Input[E] =&gt; scalaz.IterV[E,A]]">Option</span><span class="delimiter">[</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; IterV<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span> =
      <a href="#872579" title="scalaz.IterV[E,A]">r</a>.<a href="#872365" title="[Z](done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z, cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; Z)Z">fold</a><span title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Option[scalaz.Input[E] =&gt; scalaz.IterV[E,A]], cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; Option[scalaz.Input[E] =&gt; scalaz.IterV[E,A]])Option[scalaz.Input[E] =&gt; scalaz.IterV[E,A]]" class="delimiter">[</span><span title="Option[scalaz.Input[E] =&gt; scalaz.IterV[E,A]]">Option</span><span class="delimiter">[</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; IterV<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span>
        done = <span class="delimiter">(</span><a title="=&gt; A" id="895594">a</a>, <a title="=&gt; scalaz.Input[E]" id="895595">i</a><span class="delimiter">)</span> =&gt; <span title="object None">None</span>,
        cont = <span title="(x: scalaz.Input[E] =&gt; scalaz.IterV[E,A])Some[scalaz.Input[E] =&gt; scalaz.IterV[E,A]]">Some</span><span class="delimiter">(</span><a href="#895597" title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A monadic computation that has finished */</span>
  <span class="keyword">object</span> <a title="object scalaz.IterV.DoneM" id="872267">DoneM</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[M[+_], E, A](a: =&gt; A, i: =&gt; scalaz.Input[E])scalaz.IterVM[M,E,A]" id="876515">apply</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="876519">M</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="876531">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="876520">E</a>, <a title="&gt;: Nothing &lt;: Any" id="876521">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="876529">a</a>: =&gt; A, <a title="=&gt; scalaz.Input[E]" id="876530">i</a>: =&gt; Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36630" title="scalaz.IterVM[M,E,A]">IterVM</a><span class="delimiter">[</span>M, E, A<span class="delimiter">]</span> = <a href="#895602" title="java.lang.Object with scalaz.IterVM[M,E,A]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.IterVM[M,E,A]" id="895602">IterVM</a><span class="delimiter">[</span>M, E, A<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="[Z](done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z, cont: (scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; Z)Z" id="895606">fold</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="895608">Z</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z" id="895609">done</a>: <span class="delimiter">(</span>=&gt; A, =&gt; Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Z,
                  <a title="(scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; Z" id="895610">cont</a>: <span class="delimiter">(</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; Iteratee<span class="delimiter">[</span>M, E, A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Z<span class="delimiter">)</span>: <a href="#895608" title="Z">Z</a> = <a href="#895609" title="(v1: =&gt; A, v2: =&gt; scalaz.Input[E])Z">done</a><span class="delimiter">(</span><a href="#876529" title="=&gt; A">a</a>, <a href="#876530" title="=&gt; scalaz.Input[E]">i</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="[M[+_], E, A](r: scalaz.IterVM[M,E,A])Option[(A, scalaz.Input[E])]" id="876522">unapply</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="876526">M</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="884890">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="876527">E</a>, <a title="&gt;: Nothing &lt;: Any" id="876528">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.IterVM[M,E,A]" id="884888">r</a>: <a href="#36630" title="scalaz.IterVM[M,E,A]">IterVM</a><span class="delimiter">[</span>M, E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[(A, scalaz.Input[E])]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>A, Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> =
      <a href="#884888" title="scalaz.IterVM[M,E,A]">r</a>.<a href="#876534" title="[Z](done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z, cont: (scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; Z)Z">fold</a><span title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Option[(A, scalaz.Input[E])], cont: (scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; Option[(A, scalaz.Input[E])])Option[(A, scalaz.Input[E])]" class="delimiter">[</span><span title="Option[(A, scalaz.Input[E])]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>A, Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span>
        done = <span class="delimiter">(</span><a title="=&gt; A" id="895635">a</a>, <a title="=&gt; scalaz.Input[E]" id="895636">i</a><span class="delimiter">)</span> =&gt; <span title="(x: (A, scalaz.Input[E]))Some[(A, scalaz.Input[E])]">Some</span><span class="delimiter">(</span><span title="(_1: A, _2: scalaz.Input[E])(A, scalaz.Input[E])" class="delimiter">(</span><a href="#895635" title="=&gt; A">a</a>, <a href="#895636" title="=&gt; scalaz.Input[E]">i</a><span class="delimiter">)</span><span class="delimiter">)</span>,
        cont = <a title="scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]" id="895647">f</a> =&gt; <span title="object None">None</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object scalaz.IterV.ContM" id="872269">ContM</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[M[+_], E, A](f: scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A])scalaz.IterVM[M,E,A]" id="876555">apply</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="876559">M</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="876570">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="876560">E</a>, <a title="&gt;: Nothing &lt;: Any" id="876561">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]" id="876569">f</a>: Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; Iteratee<span class="delimiter">[</span>M, E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36630" title="scalaz.IterVM[M,E,A]">IterVM</a><span class="delimiter">[</span>M, E, A<span class="delimiter">]</span> = <a href="#895649" title="java.lang.Object with scalaz.IterVM[M,E,A]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.IterVM[M,E,A]" id="895649">IterVM</a><span class="delimiter">[</span>M, E, A<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="[Z](done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z, cont: (scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; Z)Z" id="895653">fold</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="895655">Z</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z" id="895656">done</a>: <span class="delimiter">(</span>=&gt; A, =&gt; Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Z,
                  <a title="(scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; Z" id="895657">cont</a>: <span class="delimiter">(</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; Iteratee<span class="delimiter">[</span>M, E, A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Z<span class="delimiter">)</span>: <a href="#895655" title="Z">Z</a> = <a href="#895657" title="(v1: scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A])Z">cont</a><span class="delimiter">(</span><a href="#876569" title="scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]">f</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="[M[+_], E, A](r: scalaz.IterVM[M,E,A])Option[scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]]" id="876562">unapply</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="876566">M</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="884917">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="876567">E</a>, <a title="&gt;: Nothing &lt;: Any" id="876568">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.IterVM[M,E,A]" id="884916">r</a>: <a href="#36630" title="scalaz.IterVM[M,E,A]">IterVM</a><span class="delimiter">[</span>M, E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]]">Option</span><span class="delimiter">[</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; Iteratee<span class="delimiter">[</span>M, E, A<span class="delimiter">]</span><span class="delimiter">]</span> =
      <a href="#884916" title="scalaz.IterVM[M,E,A]">r</a>.<a href="#876534" title="[Z](done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z, cont: (scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; Z)Z">fold</a><span title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Option[scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]], cont: (scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; Option[scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]])Option[scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]]" class="delimiter">[</span><span title="Option[scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]]">Option</span><span class="delimiter">[</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; Iteratee<span class="delimiter">[</span>M, E, A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span>
        done = <span class="delimiter">(</span><a title="=&gt; A" id="895681">a</a>, <a title="=&gt; scalaz.Input[E]" id="895682">i</a><span class="delimiter">)</span> =&gt; <span title="object None">None</span>,
        cont = <a title="scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]" id="895684">f</a> =&gt; <span title="(x: scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A])Some[scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]]">Some</span><span class="delimiter">(</span><a href="#895684" title="scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** An iteratee that consumes the head of the input */</span>
  <span class="keyword">def</span> <a title="[E]=&gt; scalaz.IterV[E,Option[E]]" id="872271">head</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872273">E</a><span class="delimiter">]</span> : <a href="#36627" title="scalaz.IterV[E,Option[E]]">IterV</a><span class="delimiter">[</span>E, Option<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(s: scalaz.Input[E])scalaz.IterV[E,Option[E]]" id="895690">step</a><span class="delimiter">(</span><a title="scalaz.Input[E]" id="895691">s</a>: <a href="#36625" title="scalaz.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[E,Option[E]]">IterV</a><span class="delimiter">[</span>E, Option<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">]</span> =
      <a href="#872227" title="(empty: =&gt; scalaz.IterV[E,Option[E]], el: =&gt; E =&gt; scalaz.IterV[E,Option[E]], eof: =&gt; scalaz.IterV[E,Option[E]])scalaz.IterV[E,Option[E]]">s</a><span class="delimiter">(</span>el = <a title="=&gt; E" id="895706">e</a> =&gt; <a href="#872500" title="(a: =&gt; Option[E], i: =&gt; scalaz.Input[E])scalaz.IterV[E,Option[E]]">Done</a><span class="delimiter">(</span><span title="(x: E)Some[E]">Some</span><span class="delimiter">(</span><a href="#895706" title="=&gt; E">e</a><span class="delimiter">)</span>, <a href="#872327" title="[E]=&gt; scalaz.Input[E]">Empty</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#872273" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span>,
        empty = <a href="#872525" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,Option[E]])scalaz.IterV[E,Option[E]]">Cont</a><a title="() =&gt; scalaz.IterV[E,Option[E]]" id="895726" class="delimiter">(</a><a href="#895690" title="(s: scalaz.Input[E])scalaz.IterV[E,Option[E]]">step</a><span class="delimiter">)</span>,
        eof = <a href="#872500" title="(a: =&gt; Option[E], i: =&gt; scalaz.Input[E])scalaz.IterV[E,Option[E]]">Done</a><a title="() =&gt; scalaz.IterV[E,Option[E]]" id="895727" class="delimiter">(</a><span title="object None">None</span>, <a href="#872352" title="[E]=&gt; scalaz.Input[E]">EOF</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#872273" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#872525" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,Option[E]])scalaz.IterV[E,Option[E]]">Cont</a><span class="delimiter">(</span><a href="#895690" title="(s: scalaz.Input[E])scalaz.IterV[E,Option[E]]">step</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** An iteratee that returns the first element of the input */</span>
  <span class="keyword">def</span> <a title="[E]=&gt; scalaz.IterV[E,Option[E]]" id="872274">peek</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872276">E</a><span class="delimiter">]</span> : <a href="#36627" title="scalaz.IterV[E,Option[E]]">IterV</a><span class="delimiter">[</span>E, Option<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(s: scalaz.Input[E])scalaz.IterV[E,Option[E]]" id="895743">step</a><span class="delimiter">(</span><a title="scalaz.Input[E]" id="895744">s</a>: <a href="#36625" title="scalaz.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[E,Option[E]]">IterV</a><span class="delimiter">[</span>E, Option<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">]</span>
      = <a href="#872227" title="(empty: =&gt; scalaz.IterV[E,Option[E]], el: =&gt; E =&gt; scalaz.IterV[E,Option[E]], eof: =&gt; scalaz.IterV[E,Option[E]])scalaz.IterV[E,Option[E]]">s</a><span class="delimiter">(</span>el = <a title="=&gt; E" id="895759">e</a> =&gt; <a href="#872500" title="(a: =&gt; Option[E], i: =&gt; scalaz.Input[E])scalaz.IterV[E,Option[E]]">Done</a><span class="delimiter">(</span><span title="(x: E)Some[E]">Some</span><span class="delimiter">(</span><a href="#895759" title="=&gt; E">e</a><span class="delimiter">)</span>, <a href="#895744" title="scalaz.Input[E]">s</a><span class="delimiter">)</span>,
          empty = <a href="#872525" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,Option[E]])scalaz.IterV[E,Option[E]]">Cont</a><a title="() =&gt; scalaz.IterV[E,Option[E]]" id="895779" class="delimiter">(</a><a href="#895743" title="(s: scalaz.Input[E])scalaz.IterV[E,Option[E]]">step</a><span class="delimiter">)</span>,
          eof = <a href="#872500" title="(a: =&gt; Option[E], i: =&gt; scalaz.Input[E])scalaz.IterV[E,Option[E]]">Done</a><a title="() =&gt; scalaz.IterV[E,Option[E]]" id="895780" class="delimiter">(</a><span title="object None">None</span>, <a href="#872352" title="[E]=&gt; scalaz.Input[E]">EOF</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#872276" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#872525" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,Option[E]])scalaz.IterV[E,Option[E]]">Cont</a><span class="delimiter">(</span><a href="#895743" title="(s: scalaz.Input[E])scalaz.IterV[E,Option[E]]">step</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Peeks and returns either a Done iteratee with the given value or runs the given function with the peeked value */</span>
  <span class="keyword">def</span> <a title="[A, B](b: =&gt; B, f: A =&gt; scalaz.IterV[A,B])scalaz.IterV[A,B]" id="872277">peekDoneOr</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872280">A</a>, <a title="&gt;: Nothing &lt;: Any" id="872281">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; B" id="895794">b</a>: =&gt; B, <a title="A =&gt; scalaz.IterV[A,B]" id="895795">f</a>: A =&gt; IterV<span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[A,B]">IterV</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> =
    <a href="#872274" title="[E]=&gt; scalaz.IterV[E,Option[E]]">peek</a><span title="scalaz.IterV[A,Option[A]]" class="delimiter">[</span><a href="#872280" title="A">A</a><span class="delimiter">]</span> <a href="#872383" title="(f: Option[A] =&gt; scalaz.IterV[A,B])scalaz.IterV[A,B]">flatMap</a> <span class="delimiter">(</span><a href="#872254" title="(value: Option[A])scalaz.IterV.OptionSyntax[A]">_</a>.<a href="#876663" title="(b: =&gt; B, f: A =&gt; scalaz.IterV[A,B])scalaz.IterV[A,B]">iterDoneOr</a><span class="delimiter">(</span><a href="#895794" title="=&gt; B">b</a>, <a href="#895795" title="A =&gt; scalaz.IterV[A,B]">f</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** An iteratee that skips the first n elements of the input */</span>
  <span class="keyword">def</span> <a title="[E](n: Int)scalaz.IterV[E,Unit]" id="872282">drop</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872284">E</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Int" id="872465">n</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[E,Unit]">IterV</a><span class="delimiter">[</span>E, Unit<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(s: scalaz.Input[E])scalaz.IterV[E,Unit]" id="896451">step</a><span class="delimiter">(</span><a title="scalaz.Input[E]" id="896452">s</a>: <a href="#36625" title="scalaz.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[E,Unit]">IterV</a><span class="delimiter">[</span>E, Unit<span class="delimiter">]</span> =
      <a href="#872227" title="(empty: =&gt; scalaz.IterV[E,Unit], el: =&gt; E =&gt; scalaz.IterV[E,Unit], eof: =&gt; scalaz.IterV[E,Unit])scalaz.IterV[E,Unit]">s</a><span class="delimiter">(</span>el = <a title="=&gt; E" id="896467">_</a> =&gt; <a href="#872282" title="(n: Int)scalaz.IterV[E,Unit]">drop</a><span class="delimiter">(</span><a href="#872465" title="Int">n</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>,
        empty = <a href="#872525" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,Unit])scalaz.IterV[E,Unit]">Cont</a><a title="() =&gt; scalaz.IterV[E,Unit]" id="900179" class="delimiter">(</a><a href="#896451" title="(s: scalaz.Input[E])scalaz.IterV[E,Unit]">step</a><span class="delimiter">)</span>,
        eof = <a href="#872500" title="(a: =&gt; Unit, i: =&gt; scalaz.Input[E])scalaz.IterV[E,Unit]">Done</a><a title="() =&gt; scalaz.IterV[E,Unit]" id="900180" class="delimiter">(</a><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#872352" title="[E]=&gt; scalaz.Input[E]">EOF</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#872284" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="scalaz.IterV[E,Unit]" class="keyword">if</span> <span class="delimiter">(</span><a href="#872465" title="Int">n</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#872500" title="(a: =&gt; Unit, i: =&gt; scalaz.Input[E])scalaz.IterV[E,Unit]">Done</a><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#872327" title="[E]=&gt; scalaz.Input[E]">Empty</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#872284" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#872525" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,Unit])scalaz.IterV[E,Unit]">Cont</a><span class="delimiter">(</span><a href="#896451" title="(s: scalaz.Input[E])scalaz.IterV[E,Unit]">step</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** An iteratee that counts and consumes the elements of the input */</span>
  <span class="keyword">def</span> <a title="[E]=&gt; scalaz.IterV[E,Int]" id="872285">length</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872287">E</a><span class="delimiter">]</span> : <a href="#36627" title="scalaz.IterV[E,Int]">IterV</a><span class="delimiter">[</span>E, Int<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(acc: Int)(s: scalaz.Input[E])scalaz.IterV[E,Int]" id="900206">step</a><span class="delimiter">(</span><a title="Int" id="900207">acc</a>: <span title="Int">Int</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="scalaz.Input[E]" id="900208">s</a>: <a href="#36625" title="scalaz.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[E,Int]">IterV</a><span class="delimiter">[</span>E, Int<span class="delimiter">]</span> =
      <a href="#872227" title="(empty: =&gt; scalaz.IterV[E,Int], el: =&gt; E =&gt; scalaz.IterV[E,Int], eof: =&gt; scalaz.IterV[E,Int])scalaz.IterV[E,Int]">s</a><span class="delimiter">(</span>el = <a title="=&gt; E" id="900223">_</a> =&gt; <a href="#872525" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,Int])scalaz.IterV[E,Int]">Cont</a><span class="delimiter">(</span><a href="#900206" title="(acc: Int)(s: scalaz.Input[E])scalaz.IterV[E,Int]">step</a><a href="#905161" title="scalaz.Input[E]" class="delimiter">(</a><a href="#900207" title="Int">acc</a> <a href="#905159" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>,
        empty = <a href="#872525" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,Int])scalaz.IterV[E,Int]">Cont</a><a title="() =&gt; scalaz.IterV[E,Int]" id="905173" class="delimiter">(</a><a href="#900206" title="(acc: Int)(s: scalaz.Input[E])scalaz.IterV[E,Int]">step</a><a href="#905178" title="scalaz.Input[E]" class="delimiter">(</a><a href="#900207" title="Int">acc</a><span class="delimiter">)</span><span class="delimiter">)</span>,
        eof = <a href="#872500" title="(a: =&gt; Int, i: =&gt; scalaz.Input[E])scalaz.IterV[E,Int]">Done</a><a title="() =&gt; scalaz.IterV[E,Int]" id="905174" class="delimiter">(</a><a href="#900207" title="Int">acc</a>, <a href="#872352" title="[E]=&gt; scalaz.Input[E]">EOF</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#872287" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#872525" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,Int])scalaz.IterV[E,Int]">Cont</a><span class="delimiter">(</span><a href="#900206" title="(acc: Int)(s: scalaz.Input[E])scalaz.IterV[E,Int]">step</a><a href="#905186" title="scalaz.Input[E]" class="delimiter">(</a><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Takes while the given predicate holds, appending with the given monoid.
   */</span>
  <span class="keyword">def</span> <a title="[A, F[_]](pred: A =&gt; Boolean)(implicit mon: scalaz.Monoid[F[A]], implicit pr: scalaz.Pointed[F])scalaz.IterV[A,F[A]]" id="872288">takeWhile</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872291">A</a>, <a title="[_]&gt;: Nothing &lt;: Any" id="872292">F</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="905191">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; Boolean" id="905188">pred</a>: A =&gt; Boolean<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Monoid[F[A]]" id="905189">mon</a>: <a href="../../core/scalaz/Monoid.scala.html#19193" title="scalaz.Monoid[F[A]]">Monoid</a><span class="delimiter">[</span>F<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="scalaz.Pointed[F]" id="905190">pr</a>: <a href="../../core/scalaz/Pointed.scala.html#9812" title="scalaz.Pointed[F]">Pointed</a><span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[A,F[A]]">IterV</a><span class="delimiter">[</span>A, F<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(z: F[A])scalaz.IterV[A,F[A]]" id="905196">peekStepDoneOr</a><span class="delimiter">(</span><a title="F[A]" id="905198">z</a>: <a href="#872292" title="F[A]">F</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#872277" title="(b: =&gt; F[A], f: A =&gt; scalaz.IterV[A,F[A]])scalaz.IterV[A,F[A]]">peekDoneOr</a><span class="delimiter">(</span><a href="#905198" title="F[A]">z</a>, <a href="#905197" title="(acc: F[A], a: A)scalaz.IterV[A,F[A]]">step</a><span class="delimiter">(</span><a href="#905198" title="F[A]">z</a>, <a href="#905204" title="A">_</a>: <a href="#872291" title="A">A</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(acc: F[A], a: A)scalaz.IterV[A,F[A]]" id="905197">step</a><span class="delimiter">(</span><a title="F[A]" id="905205">acc</a>: <a href="#872292" title="F[A]">F</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="A" id="905206">a</a>: <a href="#872291" title="A">A</a><span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[A,F[A]]">IterV</a><span class="delimiter">[</span>A, F<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span title="scalaz.IterV[A,F[A]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#905188" title="(v1: A)Boolean">pred</a><span class="delimiter">(</span><a href="#905206" title="A">a</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#872282" title="(n: Int)scalaz.IterV[A,Unit]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<a href="#872383" title="(f: Unit =&gt; scalaz.IterV[A,F[A]])scalaz.IterV[A,F[A]]">flatMap</a><span class="delimiter">(</span><a title="Unit" id="905215">_</a> =&gt; <a href="#905196" title="(z: F[A])scalaz.IterV[A,F[A]]">peekStepDoneOr</a><span class="delimiter">(</span><a href="../../core/scalaz/syntax/SemigroupSyntax.scala.html#53557" title="(v: F[A])(implicit F0: scalaz.Semigroup[F[A]])java.lang.Object with scalaz.syntax.SemigroupOps[F[A]]">acc</a> <a href="../../core/scalaz/syntax/SemigroupSyntax.scala.html#97429" title="(other: =&gt; F[A])F[A]">|+|</a> <a href="#905190" title="scalaz.Pointed[F]">pr</a>.<a href="../../core/scalaz/Pointed.scala.html#43518" title="(a: =&gt; A)F[A]">point</a><span class="delimiter">(</span><a href="#905206" title="A">a</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="#872500" title="(a: =&gt; F[A], i: =&gt; scalaz.Input[A])scalaz.IterV[A,F[A]]">Done</a><span class="delimiter">(</span><a href="#905205" title="F[A]">acc</a>, <a href="#872324" title="object scalaz.IterV.EOF">EOF</a>.<a href="#872352" title="scalaz.Input[A]">apply</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#905196" title="(z: F[A])scalaz.IterV[A,F[A]]">peekStepDoneOr</a><span class="delimiter">(</span><a href="../../core/scalaz/syntax/MonoidSyntax.scala.html#53564" title="[F](implicit F: scalaz.Monoid[F])F">mzero</a><a href="#905189" title="(implicit F: scalaz.Monoid[F[A]])F[A]" class="delimiter">[</a><a href="#872292" title="F[A]">F</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Produces chunked output split by the given predicate.
   */</span>
  <span class="keyword">def</span> <a title="[A, F[_]](pred: (A, A) =&gt; Boolean)(implicit mon: scalaz.Monoid[F[A]], implicit pr: scalaz.Pointed[F])scalaz.IterV[A,F[A]]" id="872293">groupBy</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872296">A</a>, <a title="[_]&gt;: Nothing &lt;: Any" id="872297">F</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="906612">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="(A, A) =&gt; Boolean" id="906609">pred</a>: <span class="delimiter">(</span>A, A<span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Monoid[F[A]]" id="906610">mon</a>: <a href="../../core/scalaz/Monoid.scala.html#19193" title="scalaz.Monoid[F[A]]">Monoid</a><span class="delimiter">[</span>F<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="scalaz.Pointed[F]" id="906611">pr</a>: <a href="../../core/scalaz/Pointed.scala.html#9812" title="scalaz.Pointed[F]">Pointed</a><span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[A,F[A]]">IterV</a><span class="delimiter">[</span>A, F<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#36642" title="object scalaz.IterV">IterV</a>.<a href="#872274" title="scalaz.IterV[A,Option[A]]">peek</a> <a href="#872383" title="(f: Option[A] =&gt; scalaz.IterV[A,F[A]])scalaz.IterV[A,F[A]]">flatMap</a> <a href="#906622" title="scalaz.IterV[A,F[A]]" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="scalaz.IterV[A,F[A]]">None</span> =&gt; <a href="#872500" title="(a: =&gt; F[A], i: =&gt; scalaz.Input[A])scalaz.IterV[A,F[A]]">Done</a><span class="delimiter">(</span><a href="../../core/scalaz/syntax/MonoidSyntax.scala.html#53564" title="[F](implicit F: scalaz.Monoid[F])F">mzero</a><a href="#906610" title="(implicit F: scalaz.Monoid[F[A]])F[A]" class="delimiter">[</a><a href="#872297" title="F[A]">F</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a href="#872327" title="[E]=&gt; scalaz.Input[E]">Empty</a><span title="scalaz.Input[A]" class="delimiter">[</span><a href="#872296" title="A">A</a><span class="delimiter">]</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scalaz.IterV[A,F[A]]">Some</span><span class="delimiter">(</span><a title="A" id="906994">h</a><span class="delimiter">)</span> =&gt; <a href="#872288" title="(pred: A =&gt; Boolean)(implicit mon: scalaz.Monoid[F[A]], implicit pr: scalaz.Pointed[F])scalaz.IterV[A,F[A]]">takeWhile</a><a href="#906610" title="scalaz.Monoid[F[A]]" class="delimiter">(</a><a href="#906609" title="(v1: A, v2: A)Boolean">pred</a><span class="delimiter">(</span><a href="#907004" title="A">_</a>, <a href="#906994" title="A">h</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Repeats the given iteratee by appending with the given monoid.
   */</span>
  <span class="keyword">def</span> <a title="[E, A, F[_]](iter: scalaz.IterV[E,A])(implicit mon: scalaz.Monoid[F[A]], implicit pr: scalaz.Pointed[F])scalaz.IterV[E,F[A]]" id="872298">repeat</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872302">E</a>, <a title="&gt;: Nothing &lt;: Any" id="872303">A</a>, <a title="[_]&gt;: Nothing &lt;: Any" id="872304">F</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="907814">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.IterV[E,A]" id="907811">iter</a>: <a href="#36627" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E,A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Monoid[F[A]]" id="907812">mon</a>: <a href="../../core/scalaz/Monoid.scala.html#19193" title="scalaz.Monoid[F[A]]">Monoid</a><span class="delimiter">[</span>F<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="scalaz.Pointed[F]" id="907813">pr</a>: <a href="../../core/scalaz/Pointed.scala.html#9812" title="scalaz.Pointed[F]">Pointed</a><span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[E,F[A]]">IterV</a><span class="delimiter">[</span>E, F<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(acc: F[A])(s: scalaz.Input[E])scalaz.IterV[E,F[A]]" id="907819">step</a><span class="delimiter">(</span><a title="F[A]" id="907820">acc</a>: <a href="#872304" title="F[A]">F</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="scalaz.Input[E]" id="907821">s</a>: <a href="#36625" title="scalaz.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[E,F[A]]">IterV</a><span class="delimiter">[</span>E, F<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> =
      <a href="#872227" title="(empty: =&gt; scalaz.IterV[E,F[A]], el: =&gt; E =&gt; scalaz.IterV[E,F[A]], eof: =&gt; scalaz.IterV[E,F[A]])scalaz.IterV[E,F[A]]">s</a><span class="delimiter">(</span>el = <a title="=&gt; E" id="907836">e</a> =&gt; <a href="#907811" title="scalaz.IterV[E,A]">iter</a>.<a href="#872365" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; scalaz.IterV[E,F[A]], cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; scalaz.IterV[E,F[A]])scalaz.IterV[E,F[A]]">fold</a><span class="delimiter">(</span>
          <span class="delimiter">(</span><a title="=&gt; A" id="907843">a</a>, <a title="=&gt; scalaz.Input[E]" id="907844">_</a><span class="delimiter">)</span> =&gt; <a href="#872525" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,F[A]])scalaz.IterV[E,F[A]]">Cont</a><span class="delimiter">(</span><a href="#907819" title="(acc: F[A])(s: scalaz.Input[E])scalaz.IterV[E,F[A]]">step</a><a href="#908870" title="scalaz.Input[E]" class="delimiter">(</a><a href="../../core/scalaz/syntax/SemigroupSyntax.scala.html#53557" title="(v: F[A])(implicit F0: scalaz.Semigroup[F[A]])java.lang.Object with scalaz.syntax.SemigroupOps[F[A]]">acc</a> <a href="../../core/scalaz/syntax/SemigroupSyntax.scala.html#97429" title="(other: =&gt; F[A])F[A]">|+|</a> <a href="#907813" title="scalaz.Pointed[F]">pr</a>.<a href="../../core/scalaz/Pointed.scala.html#43518" title="(a: =&gt; A)F[A]">point</a><span class="delimiter">(</span><a href="#907843" title="=&gt; A">a</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
          <a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="908873">k</a> =&gt; <a href="#908873" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k</a><span class="delimiter">(</span><a href="#872338" title="(e0: =&gt; E)scalaz.Input[E]">El</a><span class="delimiter">(</span><a href="#907836" title="=&gt; E">e</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#872365" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; scalaz.IterV[E,F[A]], cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; scalaz.IterV[E,F[A]])scalaz.IterV[E,F[A]]">fold</a><span class="delimiter">(</span>
            <span class="delimiter">(</span><a title="=&gt; A" id="908884">a</a>, <a title="=&gt; scalaz.Input[E]" id="908885">_</a><span class="delimiter">)</span> =&gt; <a href="#872525" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,F[A]])scalaz.IterV[E,F[A]]">Cont</a><span class="delimiter">(</span><a href="#907819" title="(acc: F[A])(s: scalaz.Input[E])scalaz.IterV[E,F[A]]">step</a><a href="#909911" title="scalaz.Input[E]" class="delimiter">(</a><a href="../../core/scalaz/syntax/SemigroupSyntax.scala.html#53557" title="(v: F[A])(implicit F0: scalaz.Semigroup[F[A]])java.lang.Object with scalaz.syntax.SemigroupOps[F[A]]">acc</a> <a href="../../core/scalaz/syntax/SemigroupSyntax.scala.html#97429" title="(other: =&gt; F[A])F[A]">|+|</a> <a href="#907813" title="scalaz.Pointed[F]">pr</a>.<a href="../../core/scalaz/Pointed.scala.html#43518" title="(a: =&gt; A)F[A]">point</a><span class="delimiter">(</span><a href="#908884" title="=&gt; A">a</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
            <span class="delimiter">(</span><a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="909914">k2</a><span class="delimiter">)</span> =&gt; <a href="#872525" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,F[A]])scalaz.IterV[E,F[A]]">Cont</a><span class="delimiter">(</span><span class="delimiter">(</span>in: <a href="#36625" title="scalaz.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <span class="keyword">for</span> <span class="delimiter">{</span>
                <a title="A" id="909925">h</a> &lt;- <a href="#909914" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k2</a><a href="#872383" title="(f: A =&gt; scalaz.IterV[E,F[A]])scalaz.IterV[E,F[A]]" class="delimiter">(</a><a href="#909919" title="scalaz.Input[E]">in</a><span class="delimiter">)</span>
                <a title="F[A]" id="909950">t</a> &lt;- <a href="#872298" title="(iter: scalaz.IterV[E,A])(implicit mon: scalaz.Monoid[F[A]], implicit pr: scalaz.Pointed[F])scalaz.IterV[E,F[A]]">repeat</a><span class="delimiter">(</span><a href="#907811" title="scalaz.IterV[E,A]">iter</a><span class="delimiter">)</span><a href="#872386" title="(f: F[A] =&gt; F[A])scalaz.IterV[E,F[A]]" class="delimiter">(</a><a href="#907812" title="scalaz.Monoid[F[A]]">mon</a>, <a href="#907813" title="scalaz.Pointed[F]">pr</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="../../core/scalaz/syntax/SemigroupSyntax.scala.html#53557" title="(v: F[A])(implicit F0: scalaz.Semigroup[F[A]])java.lang.Object with scalaz.syntax.SemigroupOps[F[A]]">acc</a> <a href="../../core/scalaz/syntax/SemigroupSyntax.scala.html#53557" title="(v: F[A])(implicit F0: scalaz.Semigroup[F[A]])java.lang.Object with scalaz.syntax.SemigroupOps[F[A]]">|+|</a> <a href="#907813" title="scalaz.Pointed[F]">pr</a>.<a href="../../core/scalaz/Pointed.scala.html#43518" title="(a: =&gt; A)F[A]">point</a><span class="delimiter">(</span><a href="#909925" title="A">h</a><span class="delimiter">)</span> <a href="../../core/scalaz/syntax/SemigroupSyntax.scala.html#97429" title="(other: =&gt; F[A])F[A]">|+|</a> <a href="#909950" title="F[A]">t</a>
            <span class="delimiter">)</span>
          <span class="delimiter">)</span><span class="delimiter">)</span>,
        empty = <a href="#872525" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,F[A]])scalaz.IterV[E,F[A]]">Cont</a><a title="() =&gt; scalaz.IterV[E,F[A]]" id="912006" class="delimiter">(</a><a href="#907819" title="(acc: F[A])(s: scalaz.Input[E])scalaz.IterV[E,F[A]]">step</a><a href="#912011" title="scalaz.Input[E]" class="delimiter">(</a><a href="#907820" title="F[A]">acc</a><span class="delimiter">)</span><span class="delimiter">)</span>,
        eof = <a href="#872500" title="(a: =&gt; F[A], i: =&gt; scalaz.Input[E])scalaz.IterV[E,F[A]]">Done</a><a title="() =&gt; scalaz.IterV[E,F[A]]" id="912007" class="delimiter">(</a><a href="#907820" title="F[A]">acc</a>, <a href="#872324" title="object scalaz.IterV.EOF">EOF</a>.<a href="#872352" title="scalaz.Input[E]">apply</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#872525" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,F[A]])scalaz.IterV[E,F[A]]">Cont</a><span class="delimiter">(</span><a href="#907819" title="(acc: F[A])(s: scalaz.Input[E])scalaz.IterV[E,F[A]]">step</a><a href="#912384" title="scalaz.Input[E]" class="delimiter">(</a><a href="../../core/scalaz/syntax/MonoidSyntax.scala.html#53564" title="[F](implicit F: scalaz.Monoid[F])F">mzero</a><a href="#907812" title="(implicit F: scalaz.Monoid[F[A]])F[A]" class="delimiter">[</a><a href="#872304" title="F[A]">F</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Iteratee that collects all inputs with the given monoid.
   */</span>
  <span class="keyword">def</span> <a title="[A, F[_]](implicit r: scalaz.Reducer[A,F[A]])scalaz.IterV[A,F[A]]" id="872305">collect</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872308">A</a>, <a title="[_]&gt;: Nothing &lt;: Any" id="872309">F</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="912387">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Reducer[A,F[A]]" id="912386">r</a>: <a href="../../core/scalaz/Reducer.scala.html#19709" title="scalaz.Reducer[A,F[A]]">Reducer</a><span class="delimiter">[</span>A, F<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[A,F[A]]">IterV</a><span class="delimiter">[</span>A, F<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="#912386" title="scalaz.Reducer[A,F[A]]">r</a>._
    <span class="keyword">def</span> <a title="(acc: F[A])(s: scalaz.Input[A])scalaz.IterV[A,F[A]]" id="912391">step</a><span class="delimiter">(</span><a title="F[A]" id="912392">acc</a>: <a href="#872309" title="F[A]">F</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="scalaz.Input[A]" id="912393">s</a>: <a href="#36625" title="scalaz.Input[A]">Input</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[A,F[A]]">IterV</a><span class="delimiter">[</span>A, F<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> =
        <a href="#872227" title="(empty: =&gt; scalaz.IterV[A,F[A]], el: =&gt; A =&gt; scalaz.IterV[A,F[A]], eof: =&gt; scalaz.IterV[A,F[A]])scalaz.IterV[A,F[A]]">s</a><span class="delimiter">(</span>el = <a title="=&gt; A" id="912408">e</a> =&gt; <a href="#872525" title="(f: scalaz.Input[A] =&gt; scalaz.IterV[A,F[A]])scalaz.IterV[A,F[A]]">Cont</a><span class="delimiter">(</span><a href="#912391" title="(acc: F[A])(s: scalaz.Input[A])scalaz.IterV[A,F[A]]">step</a><a href="#912416" title="scalaz.Input[A]" class="delimiter">(</a><a href="../../core/scalaz/Reducer.scala.html#94886" title="(m: F[A], c: A)F[A]">snoc</a><a href="#912414" title="F[A]" class="delimiter">(</a><a href="#912392" title="F[A]">acc</a>, <a href="#912408" title="=&gt; A">e</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
          empty = <a href="#872525" title="(f: scalaz.Input[A] =&gt; scalaz.IterV[A,F[A]])scalaz.IterV[A,F[A]]">Cont</a><a title="() =&gt; scalaz.IterV[A,F[A]]" id="912429" class="delimiter">(</a><a href="#912391" title="(acc: F[A])(s: scalaz.Input[A])scalaz.IterV[A,F[A]]">step</a><a href="#912434" title="scalaz.Input[A]" class="delimiter">(</a><a href="#912392" title="F[A]">acc</a><span class="delimiter">)</span><span class="delimiter">)</span>,
          eof = <a href="#872500" title="(a: =&gt; F[A], i: =&gt; scalaz.Input[A])scalaz.IterV[A,F[A]]">Done</a><a title="() =&gt; scalaz.IterV[A,F[A]]" id="912430" class="delimiter">(</a><a href="#912392" title="F[A]">acc</a>, <a href="#872324" title="object scalaz.IterV.EOF">EOF</a>.<a href="#872352" title="scalaz.Input[A]">apply</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#872525" title="(f: scalaz.Input[A] =&gt; scalaz.IterV[A,F[A]])scalaz.IterV[A,F[A]]">Cont</a><span class="delimiter">(</span><a href="#912391" title="(acc: F[A])(s: scalaz.Input[A])scalaz.IterV[A,F[A]]">step</a><a href="#912807" title="scalaz.Input[A]" class="delimiter">(</a><a href="../../core/scalaz/syntax/MonoidSyntax.scala.html#53564" title="[F](implicit F: scalaz.Monoid[F])F">mzero</a><a href="../../core/scalaz/Reducer.scala.html#94884" title="(implicit F: scalaz.Monoid[F[A]])F[A]" class="delimiter">[</a><a href="#872309" title="F[A]">F</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Iteratee that collects all inputs in reverse with the given reducer.
   *
   * This iteratee is useful for F[_] with efficient cons, i.e. List.
   */</span>
  <span class="keyword">def</span> <a title="[A, F[_]](implicit r: scalaz.Reducer[A,F[A]])scalaz.IterV[A,F[A]]" id="872310">reversed</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872313">A</a>, <a title="[_]&gt;: Nothing &lt;: Any" id="872314">F</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="912810">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Reducer[A,F[A]]" id="912809">r</a>: <a href="../../core/scalaz/Reducer.scala.html#19709" title="scalaz.Reducer[A,F[A]]">Reducer</a><span class="delimiter">[</span>A, F<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[A,F[A]]">IterV</a><span class="delimiter">[</span>A, F<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(acc: F[A])(s: scalaz.Input[A])scalaz.IterV[A,F[A]]" id="912813">step</a><span class="delimiter">(</span><a title="F[A]" id="912814">acc</a>: <a href="#872314" title="F[A]">F</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="scalaz.Input[A]" id="912815">s</a>: <a href="#36625" title="scalaz.Input[A]">Input</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[A,F[A]]">IterV</a><span class="delimiter">[</span>A, F<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> =
        <a href="#872227" title="(empty: =&gt; scalaz.IterV[A,F[A]], el: =&gt; A =&gt; scalaz.IterV[A,F[A]], eof: =&gt; scalaz.IterV[A,F[A]])scalaz.IterV[A,F[A]]">s</a><span class="delimiter">(</span>el = <a title="=&gt; A" id="912830">e</a> =&gt; <a href="#872525" title="(f: scalaz.Input[A] =&gt; scalaz.IterV[A,F[A]])scalaz.IterV[A,F[A]]">Cont</a><span class="delimiter">(</span><a href="#912813" title="(acc: F[A])(s: scalaz.Input[A])scalaz.IterV[A,F[A]]">step</a><a href="#912838" title="scalaz.Input[A]" class="delimiter">(</a><a href="#912809" title="scalaz.Reducer[A,F[A]]">r</a>.<a href="../../core/scalaz/Reducer.scala.html#94887" title="(c: A, m: F[A])F[A]">cons</a><a href="#912836" title="F[A]" class="delimiter">(</a><a href="#912830" title="=&gt; A">e</a>, <a href="#912814" title="F[A]">acc</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
          empty = <a href="#872525" title="(f: scalaz.Input[A] =&gt; scalaz.IterV[A,F[A]])scalaz.IterV[A,F[A]]">Cont</a><a title="() =&gt; scalaz.IterV[A,F[A]]" id="912851" class="delimiter">(</a><a href="#912813" title="(acc: F[A])(s: scalaz.Input[A])scalaz.IterV[A,F[A]]">step</a><a href="#912856" title="scalaz.Input[A]" class="delimiter">(</a><a href="#912814" title="F[A]">acc</a><span class="delimiter">)</span><span class="delimiter">)</span>,
          eof = <a href="#872500" title="(a: =&gt; F[A], i: =&gt; scalaz.Input[A])scalaz.IterV[A,F[A]]">Done</a><a title="() =&gt; scalaz.IterV[A,F[A]]" id="912852" class="delimiter">(</a><a href="#912814" title="F[A]">acc</a>, <a href="#872324" title="object scalaz.IterV.EOF">EOF</a>.<a href="#872352" title="scalaz.Input[A]">apply</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#872525" title="(f: scalaz.Input[A] =&gt; scalaz.IterV[A,F[A]])scalaz.IterV[A,F[A]]">Cont</a><span class="delimiter">(</span><a href="#912813" title="(acc: F[A])(s: scalaz.Input[A])scalaz.IterV[A,F[A]]">step</a><a href="#912865" title="scalaz.Input[A]" class="delimiter">(</a><a href="#912809" title="scalaz.Reducer[A,F[A]]">r</a>.<a href="../../core/scalaz/Reducer.scala.html#94884" title="=&gt; scalaz.Monoid[F[A]]">monoid</a>.<a href="../../core/scalaz/Monoid.scala.html#57250" title="=&gt; F[A]">zero</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Iteratee that sums the inputs with a given reducer.
   */</span>
  <span class="keyword">def</span> <a title="[A, B](implicit r: scalaz.Reducer[A,B])scalaz.IterV[A,B]" id="872315">sum</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872318">A</a>, <a title="&gt;: Nothing &lt;: Any" id="872319">B</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Reducer[A,B]" id="912867">r</a>: <a href="../../core/scalaz/Reducer.scala.html#19709" title="scalaz.Reducer[A,B]">Reducer</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[A,B]">IterV</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(acc: B)(s: scalaz.Input[A])scalaz.IterV[A,B]" id="912870">step</a><span class="delimiter">(</span><a title="B" id="912871">acc</a>: <a href="#872319" title="B">B</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="scalaz.Input[A]" id="912872">s</a>: <a href="#36625" title="scalaz.Input[A]">Input</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36627" title="scalaz.IterV[A,B]">IterV</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> =
        <a href="#872227" title="(empty: =&gt; scalaz.IterV[A,B], el: =&gt; A =&gt; scalaz.IterV[A,B], eof: =&gt; scalaz.IterV[A,B])scalaz.IterV[A,B]">s</a><span class="delimiter">(</span>el = <a title="=&gt; A" id="912887">e</a> =&gt; <a href="#872525" title="(f: scalaz.Input[A] =&gt; scalaz.IterV[A,B])scalaz.IterV[A,B]">Cont</a><span class="delimiter">(</span><a href="#912870" title="(acc: B)(s: scalaz.Input[A])scalaz.IterV[A,B]">step</a><a href="#912895" title="scalaz.Input[A]" class="delimiter">(</a><a href="#912867" title="scalaz.Reducer[A,B]">r</a>.<a href="../../core/scalaz/Reducer.scala.html#94886" title="(m: B, c: A)B">snoc</a><a href="#912893" title="B" class="delimiter">(</a><a href="#912871" title="B">acc</a>, <a href="#912887" title="=&gt; A">e</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
          empty = <a href="#872525" title="(f: scalaz.Input[A] =&gt; scalaz.IterV[A,B])scalaz.IterV[A,B]">Cont</a><a title="() =&gt; scalaz.IterV[A,B]" id="912908" class="delimiter">(</a><a href="#912870" title="(acc: B)(s: scalaz.Input[A])scalaz.IterV[A,B]">step</a><a href="#912913" title="scalaz.Input[A]" class="delimiter">(</a><a href="#912871" title="B">acc</a><span class="delimiter">)</span><span class="delimiter">)</span>,
          eof = <a href="#872500" title="(a: =&gt; B, i: =&gt; scalaz.Input[A])scalaz.IterV[A,B]">Done</a><a title="() =&gt; scalaz.IterV[A,B]" id="912909" class="delimiter">(</a><a href="#912871" title="B">acc</a>, <a href="#872324" title="object scalaz.IterV.EOF">EOF</a>.<a href="#872352" title="scalaz.Input[A]">apply</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#872525" title="(f: scalaz.Input[A] =&gt; scalaz.IterV[A,B])scalaz.IterV[A,B]">Cont</a><span class="delimiter">(</span><a href="#912870" title="(acc: B)(s: scalaz.Input[A])scalaz.IterV[A,B]">step</a><a href="#912922" title="scalaz.Input[A]" class="delimiter">(</a><a href="#912867" title="scalaz.Reducer[A,B]">r</a>.<a href="../../core/scalaz/Reducer.scala.html#94884" title="=&gt; scalaz.Monoid[B]">monoid</a>.<a href="../../core/scalaz/Monoid.scala.html#57250" title="=&gt; B">zero</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Input that has no values available */</span>
  <span class="keyword">object</span> <a title="object scalaz.IterV.Empty" id="872320">Empty</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[E]=&gt; scalaz.Input[E]" id="872327">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872329">E</a><span class="delimiter">]</span> : <a href="#36625" title="scalaz.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span> = <a href="#912925" title="java.lang.Object with scalaz.Input[E]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Input[E]" id="912925">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="[Z](empty: =&gt; Z, el: =&gt; E =&gt; Z, eof: =&gt; Z)Z" id="912929">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="912931">Z</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; Z" id="912932">empty</a>: =&gt; Z, <a title="=&gt; E =&gt; Z" id="912933">el</a>: <span class="delimiter">(</span>=&gt; E<span class="delimiter">)</span> =&gt; Z, <a title="=&gt; Z" id="912934">eof</a>: =&gt; Z<span class="delimiter">)</span>: <a href="#912931" title="Z">Z</a> = <a href="#912932" title="=&gt; Z">empty</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="[E](r: scalaz.Input[E])Boolean" id="872330">unapply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872332">E</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.Input[E]" id="912959">r</a>: <a href="#36625" title="scalaz.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
        <a href="#912959" title="scalaz.Input[E]">r</a>.<a href="#872227" title="[Z](empty: =&gt; Z, el: =&gt; E =&gt; Z, eof: =&gt; Z)Z">apply</a><span title="(empty: =&gt; Either[scalaz.Input[E],Boolean], el: =&gt; E =&gt; Either[scalaz.Input[E],Boolean], eof: =&gt; Either[scalaz.Input[E],Boolean])Either[scalaz.Input[E],Boolean]" class="delimiter">[</span><span title="Either[scalaz.Input[E],Boolean]">Either</span><span class="delimiter">[</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span>, Boolean<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span>
          empty = <span title="(b: Boolean)Right[Nothing,Boolean]">Right</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>,
          el = <a title="=&gt; E" id="912973">e</a> =&gt; <span title="(a: scalaz.Input[E])Left[scalaz.Input[E],Nothing]">Left</span><span class="delimiter">(</span><a href="#872338" title="(e0: =&gt; E)scalaz.Input[E]">El</a><span class="delimiter">(</span><a href="#912973" title="=&gt; E">e</a><span class="delimiter">)</span><span class="delimiter">)</span>,
          eof = <span title="(a: scalaz.Input[E])Left[scalaz.Input[E],Nothing]">Left</span><span class="delimiter">(</span><a href="#872352" title="[E]=&gt; scalaz.Input[E]">EOF</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#872332" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(fa: scalaz.Input[E] =&gt; Boolean, fb: Boolean =&gt; Boolean)Boolean">fold</span><span class="delimiter">(</span><a title="scalaz.Input[E]" id="912991">x</a> =&gt; <span title="Boolean(false)" class="keyword">false</span>, <a title="Boolean" id="912993">x</a> =&gt; <a href="#912993" title="Boolean">x</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Input that has a value available  */</span>
  <span class="keyword">object</span> <a title="object scalaz.IterV.El" id="872322">El</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[E](e0: =&gt; E)scalaz.Input[E]" id="872338">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872340">E</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; E" id="872344">e0</a>: =&gt; E<span class="delimiter">)</span>: <a href="#36625" title="scalaz.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span> = <a href="#912997" title="java.lang.Object with scalaz.Input[E]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Input[E]" id="912997">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="[Z](empty: =&gt; Z, el: =&gt; E =&gt; Z, eof: =&gt; Z)Z" id="913001">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="913003">Z</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; Z" id="913004">empty</a>: =&gt; Z, <a title="=&gt; E =&gt; Z" id="913005">el</a>: <span class="delimiter">(</span>=&gt; E<span class="delimiter">)</span> =&gt; Z, <a title="=&gt; Z" id="913006">eof</a>: =&gt; Z<span class="delimiter">)</span>: <a href="#913003" title="Z">Z</a> = <a href="#913005" title="(v1: =&gt; E)Z">el</a><span class="delimiter">(</span><a href="#872344" title="=&gt; E">e0</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="[E](r: scalaz.Input[E])Option[E]" id="872341">unapply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872343">E</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.Input[E]" id="872553">r</a>: <a href="#36625" title="scalaz.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[E]">Option</span><span class="delimiter">[</span>E<span class="delimiter">]</span> =
      <a href="#872553" title="scalaz.Input[E]">r</a>.<a href="#872227" title="[Z](empty: =&gt; Z, el: =&gt; E =&gt; Z, eof: =&gt; Z)Z">apply</a><span title="(empty: =&gt; Either[scalaz.Input[E],E], el: =&gt; E =&gt; Either[scalaz.Input[E],E], eof: =&gt; Either[scalaz.Input[E],E])Either[scalaz.Input[E],E]" class="delimiter">[</span><span title="Either[scalaz.Input[E],E]">Either</span><span class="delimiter">[</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span>, <span class="delimiter">(</span>E<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span>
        empty = <span title="(a: scalaz.Input[E])Left[scalaz.Input[E],Nothing]">Left</span><span class="delimiter">(</span><a href="#872327" title="[E]=&gt; scalaz.Input[E]">Empty</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#872343" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span>,
        el = <a title="=&gt; E" id="913043">e</a> =&gt; <span title="(b: E)Right[Nothing,E]">Right</span><span class="delimiter">(</span><a href="#913043" title="=&gt; E">e</a><span class="delimiter">)</span>,
        eof = <span title="(a: scalaz.Input[E])Left[scalaz.Input[E],Nothing]">Left</span><span class="delimiter">(</span><a href="#872352" title="[E]=&gt; scalaz.Input[E]">EOF</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#872343" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Either.RightProjection[scalaz.Input[E],E]">right</span>.<span title="=&gt; Option[E]">toOption</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Input that is exhausted */</span>
  <span class="keyword">object</span> <a title="object scalaz.IterV.EOF" id="872324">EOF</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[E]=&gt; scalaz.Input[E]" id="872352">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872354">E</a><span class="delimiter">]</span> : <a href="#36625" title="scalaz.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span> = <a href="#913053" title="java.lang.Object with scalaz.Input[E]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Input[E]" id="913053">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="[Z](empty: =&gt; Z, el: =&gt; E =&gt; Z, eof: =&gt; Z)Z" id="913057">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="913059">Z</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; Z" id="913060">empty</a>: =&gt; Z, <a title="=&gt; E =&gt; Z" id="913061">el</a>: <span class="delimiter">(</span>=&gt; E<span class="delimiter">)</span> =&gt; Z, <a title="=&gt; Z" id="913062">eof</a>: =&gt; Z<span class="delimiter">)</span>: <a href="#913059" title="Z">Z</a> = <a href="#913062" title="=&gt; Z">eof</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="[E](r: scalaz.Input[E])Boolean" id="872355">unapply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="872357">E</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.Input[E]" id="913087">r</a>: <a href="#36625" title="scalaz.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
      <a href="#913087" title="scalaz.Input[E]">r</a>.<a href="#872227" title="[Z](empty: =&gt; Z, el: =&gt; E =&gt; Z, eof: =&gt; Z)Z">apply</a><span title="(empty: =&gt; Either[scalaz.Input[E],Boolean], el: =&gt; E =&gt; Either[scalaz.Input[E],Boolean], eof: =&gt; Either[scalaz.Input[E],Boolean])Either[scalaz.Input[E],Boolean]" class="delimiter">[</span><span title="Either[scalaz.Input[E],Boolean]">Either</span><span class="delimiter">[</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span>, Boolean<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span>
        empty = <span title="(a: scalaz.Input[E])Left[scalaz.Input[E],Nothing]">Left</span><span class="delimiter">(</span><a href="#872327" title="[E]=&gt; scalaz.Input[E]">Empty</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#872357" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span>,
        el = <a title="=&gt; E" id="913101">e</a> =&gt; <span title="(a: scalaz.Input[E])Left[scalaz.Input[E],Nothing]">Left</span><span class="delimiter">(</span><a href="#872338" title="(e0: =&gt; E)scalaz.Input[E]">El</a><span class="delimiter">(</span><a href="#913101" title="=&gt; E">e</a><span class="delimiter">)</span><span class="delimiter">)</span>,
        eof = <span title="(b: Boolean)Right[Nothing,Boolean]">Right</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(fa: scalaz.Input[E] =&gt; Boolean, fb: Boolean =&gt; Boolean)Boolean">fold</span><span class="delimiter">(</span><a title="scalaz.Input[E]" id="913119">x</a> =&gt; <span title="Boolean(false)" class="keyword">false</span>, <a title="Boolean" id="913121">x</a> =&gt; <a href="#913121" title="Boolean">x</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>