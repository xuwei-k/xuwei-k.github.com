<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>iterv/scalaz/Iteratee.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">// Legacy implementation of iteratees, for compatibility with Scalaz 6 */</span>
<span class="keyword">package</span> scalaz
<span class="keyword">import</span> <a href="../../core/scalaz/Scalaz.scala.html#20121" title="object scalaz.Scalaz">Scalaz</a>._

<span class="comment">/** The input to an iteratee. */</span>
<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait Input[E] extends java.lang.Object with ScalaObject" id="36468">Input</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="36469">E</a><span class="delimiter">]</span> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[Z](empty: =&gt; Z, el: =&gt; E =&gt; Z, eof: =&gt; Z)Z" id="866333">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866335">Z</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; Z" id="866341">empty</a>: =&gt; Z, <a title="=&gt; E =&gt; Z" id="866342">el</a>: <span class="delimiter">(</span>=&gt; E<span class="delimiter">)</span> =&gt; Z, <a title="=&gt; Z" id="866343">eof</a>: =&gt; Z<span class="delimiter">)</span>: <a href="#866335" title="Z">Z</a>
  <span class="keyword">def</span> <a title="[D](f: E =&gt; D)scalaz.Input[D]" id="866336">map</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866338">D</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="E =&gt; D" id="866348">f</a>: E =&gt; D<span class="delimiter">)</span>: <a href="#36468" title="scalaz.Input[D]">Input</a><span class="delimiter">[</span>D<span class="delimiter">]</span> =
    <a href="#866333" title="(empty: =&gt; scalaz.Input[D], el: =&gt; E =&gt; scalaz.Input[D], eof: =&gt; scalaz.Input[D])scalaz.Input[D]">apply</a><span class="delimiter">(</span><a href="#36485" title="object scalaz.IterV">IterV</a>.<a href="#866426" title="object scalaz.IterV.Empty">Empty</a>.<a href="#866433" title="[E]=&gt; scalaz.Input[E]">apply</a><span title="scalaz.Input[D]" class="delimiter">[</span><a href="#866338" title="D">D</a><span class="delimiter">]</span>, <a title="=&gt; E" id="866442">e</a> =&gt; <a href="#36485" title="object scalaz.IterV">IterV</a>.<a href="#866444" title="(e0: =&gt; D)scalaz.Input[D]">El</a><span class="delimiter">(</span><a href="#866348" title="(v1: E)D">f</a><span class="delimiter">(</span><a href="#866442" title="=&gt; E">e</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#36485" title="object scalaz.IterV">IterV</a>.<a href="#866430" title="object scalaz.IterV.EOF">EOF</a>.<a href="#866458" title="[E]=&gt; scalaz.Input[E]">apply</a><span title="scalaz.Input[D]" class="delimiter">[</span><a href="#866338" title="D">D</a><span class="delimiter">]</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/** A pure iteratee computation which is either done or needs more input */</span>
<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait IterV[E, A] extends java.lang.Object with ScalaObject" id="36470">IterV</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="36471">E</a>, <a title="&gt;: Nothing &lt;: Any" id="36472">A</a><span class="delimiter">]</span> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">import</span> <a href="#36485" title="object scalaz.IterV">IterV</a>._

  <span class="keyword">def</span> <a title="[Z](done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z, cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; Z)Z" id="866471">fold</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866473">Z</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z" id="866497">done</a>: <span class="delimiter">(</span>=&gt; A, =&gt; Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Z, <a title="(scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; Z" id="866498">cont</a>: <span class="delimiter">(</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; IterV<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Z<span class="delimiter">)</span>: <a href="#866473" title="Z">Z</a>
  <span class="keyword">def</span> <a title="[F[_]](f: F[E])(implicit e: scalaz.Enumerator[F])scalaz.IterV[E,A]" id="866474">apply</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="866476">F</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866505">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="F[E]" id="866502">f</a>: <a href="#866476" title="F[E]">F</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Enumerator[F]" id="866503">e</a>: <a href="#36483" title="scalaz.Enumerator[F]">Enumerator</a><span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span> = <a href="#866508" title="(f: F[E], i: scalaz.IterV[E,A])scalaz.IterV[E,A]">e</a><span class="delimiter">(</span><a href="#866502" title="F[E]">f</a>, <a href="#36470" title="scalaz.IterV[E,A]" class="keyword">this</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; A" id="866477">run</a>: <a href="#36472" title="A">A</a> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(i: scalaz.IterV[E,A])Option[A]" id="866527">runCont</a><span class="delimiter">(</span><a title="scalaz.IterV[E,A]" id="866528">i</a>: <a href="#36470" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#866528" title="scalaz.IterV[E,A]">i</a>.<a href="#866471" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Option[A], cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; Option[A])Option[A]">fold</a><span class="delimiter">(</span>done = <span class="delimiter">(</span><a title="=&gt; A" id="866533">x</a>, <a title="=&gt; scalaz.Input[E]" id="866534">_</a><span class="delimiter">)</span> =&gt; <span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#866533" title="=&gt; A">x</a><span class="delimiter">)</span>, cont = <a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="866539">_</a> =&gt; <span title="object None">None</span><span class="delimiter">)</span>
    <a href="#866471" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; A, cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; A)A">fold</a><span class="delimiter">(</span>done = <span class="delimiter">(</span><a title="=&gt; A" id="866557">x</a>, <a title="=&gt; scalaz.Input[E]" id="866558">_</a><span class="delimiter">)</span> =&gt; <a href="#866557" title="=&gt; A">x</a>,
          cont = <a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="866560">k</a> =&gt; <a href="#866527" title="(i: scalaz.IterV[E,A])Option[A]">runCont</a><span class="delimiter">(</span><a href="#866560" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k</a><span class="delimiter">(</span><a href="#866458" title="[E]=&gt; scalaz.Input[E]">EOF</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#36471" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; A)A">getOrElse</span><span class="delimiter">(</span>sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Diverging iteratee!&quot;)" class="string">&quot;Diverging iteratee!&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="=&gt; scalaz.IterV[E,A]" id="866478">drop1First</a>: <a href="#36470" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span> = <a href="#866388" title="(n: Int)scalaz.IterV[E,Unit]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#866489" title="(f: Unit =&gt; scalaz.IterV[E,A])scalaz.IterV[E,A]">flatMap</a> <span class="delimiter">(</span><a title="Unit" id="866581">_</a> =&gt; <a href="#36470" title="scalaz.IterV[E,A]" class="keyword">this</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(e: scalaz.Input[E])scalaz.IterV[E,A]" id="866479">feed</a><span class="delimiter">(</span><a title="scalaz.Input[E]" id="866584">e</a>: <a href="#36468" title="scalaz.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span> = <a href="#866471" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; scalaz.IterV[E,A], cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; scalaz.IterV[E,A])scalaz.IterV[E,A]">fold</a><span class="delimiter">(</span><span class="delimiter">(</span><a title="=&gt; A" id="866590">_</a>, <a title="=&gt; scalaz.Input[E]" id="866591">_</a><span class="delimiter">)</span> =&gt; <a href="#36470" title="scalaz.IterV[E,A]" class="keyword">this</a>, <a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="866593">k</a> =&gt; <a href="#866593" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k</a><span class="delimiter">(</span><a href="#866584" title="scalaz.Input[E]">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(f: scalaz.Input[E] =&gt; scalaz.Input[E])scalaz.IterV[E,A]" id="866480">mapInput</a><span class="delimiter">(</span><a title="scalaz.Input[E] =&gt; scalaz.Input[E]" id="866597">f</a>: Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span> =
    <a href="#866471" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; scalaz.IterV[E,A], cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; scalaz.IterV[E,A])scalaz.IterV[E,A]">fold</a><span class="delimiter">(</span><span class="delimiter">(</span><a title="=&gt; A" id="866603">a</a>, <a title="=&gt; scalaz.Input[E]" id="866604">e</a><span class="delimiter">)</span> =&gt; <a href="#866606" title="(a: =&gt; A, i: =&gt; scalaz.Input[E])scalaz.IterV[E,A]">Done</a><span class="delimiter">(</span><a href="#866603" title="=&gt; A">a</a>, <a href="#866597" title="(v1: scalaz.Input[E])scalaz.Input[E]">f</a><span class="delimiter">(</span><a href="#866604" title="=&gt; scalaz.Input[E]">e</a><span class="delimiter">)</span><span class="delimiter">)</span>, <span class="delimiter">(</span><a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="866629">k</a> =&gt; <a href="#866631" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,A])scalaz.IterV[E,A]">Cont</a><span class="delimiter">(</span><a title="scalaz.Input[E]" id="866648">i</a> =&gt; <a href="#866629" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k</a><span class="delimiter">(</span><a href="#866597" title="(v1: scalaz.Input[E])scalaz.Input[E]">f</a><span class="delimiter">(</span><a href="#866648" title="scalaz.Input[E]">i</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(p: E =&gt; Boolean)scalaz.IterV[E,A]" id="866481">filterInput</a><span class="delimiter">(</span><a title="E =&gt; Boolean" id="866654">p</a>: E =&gt; Boolean<span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span> =
    <a href="#866480" title="(f: scalaz.Input[E] =&gt; scalaz.Input[E])scalaz.IterV[E,A]">mapInput</a> <a href="#866657" title="scalaz.Input[E]" class="delimiter">{</a>
      <span class="keyword">case</span> <a title="scalaz.Input[E]" id="866658">i</a>@<a href="#866447" title="(r: scalaz.Input[E])Option[E]">El</a><span class="delimiter">(</span><a title="E" id="866668">e</a><span class="delimiter">)</span> =&gt; <span title="scalaz.Input[E]" class="keyword">if</span> <span class="delimiter">(</span><a href="#866654" title="(v1: E)Boolean">p</a><span class="delimiter">(</span><a href="#866668" title="E">e</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#866658" title="scalaz.Input[E]">i</a> <span class="keyword">else</span> <a href="#866426" title="object scalaz.IterV.Empty">Empty</a>.<a href="#866433" title="scalaz.Input[E]">apply</a>
      <span class="keyword">case</span> <a title="scalaz.Input[E]" id="866671">x</a> =&gt; <a href="#866671" title="scalaz.Input[E]">x</a>
    <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="[B, C](eb: scalaz.IterV[E,B], f: (A, B) =&gt; C)scalaz.IterV[E,C]" id="866482">zipWith</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866485">B</a>, <a title="&gt;: Nothing &lt;: Any" id="866486">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.IterV[E,B]" id="866672">eb</a>: <a href="#36470" title="scalaz.IterV[E,B]">IterV</a><span class="delimiter">[</span>E, B<span class="delimiter">]</span>, <a title="(A, B) =&gt; C" id="866673">f</a>: <span class="delimiter">(</span>A, B<span class="delimiter">)</span> =&gt; C<span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[E,C]">IterV</a><span class="delimiter">[</span>E, C<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="(_1: scalaz.IterV[E,A], _2: scalaz.IterV[E,B])(scalaz.IterV[E,A], scalaz.IterV[E,B])" class="delimiter">(</span><a href="#36470" title="scalaz.IterV[E,A]" class="keyword">this</a>, <a href="#866672" title="scalaz.IterV[E,B]">eb</a><span class="delimiter">)</span> <span title="scalaz.IterV[E,C]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scalaz.IterV[E,C]" class="delimiter">(</span><a href="#866636" title="(r: scalaz.IterV[E,A])Option[scalaz.Input[E] =&gt; scalaz.IterV[E,A]]">Cont</a><span class="delimiter">(</span><a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="866696">k</a><span class="delimiter">)</span>, <a href="#866636" title="(r: scalaz.IterV[E,B])Option[scalaz.Input[E] =&gt; scalaz.IterV[E,B]]">Cont</a><span class="delimiter">(</span><a title="scalaz.Input[E] =&gt; scalaz.IterV[E,B]" id="866705">l</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#866631" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,C])scalaz.IterV[E,C]">Cont</a><span class="delimiter">(</span><a title="scalaz.Input[E]" id="866710">ie</a> =&gt; <a href="#866696" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k</a><span class="delimiter">(</span><a href="#866710" title="scalaz.Input[E]">ie</a><span class="delimiter">)</span>.<a href="#866482" title="(eb: scalaz.IterV[E,B], f: (A, B) =&gt; C)scalaz.IterV[E,C]">zipWith</a><span class="delimiter">(</span><a href="#866705" title="(v1: scalaz.Input[E])scalaz.IterV[E,B]">l</a><span class="delimiter">(</span><a href="#866710" title="scalaz.Input[E]">ie</a><span class="delimiter">)</span>, <a href="#866673" title="(A, B) =&gt; C">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scalaz.IterV[E,C]" class="delimiter">(</span><a href="#866636" title="(r: scalaz.IterV[E,A])Option[scalaz.Input[E] =&gt; scalaz.IterV[E,A]]">Cont</a><span class="delimiter">(</span><a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="866730">k</a><span class="delimiter">)</span>, <a title="scalaz.IterV[E,B]" id="866731">b</a><span class="delimiter">)</span> =&gt; <a href="#866631" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,C])scalaz.IterV[E,C]">Cont</a><span class="delimiter">(</span><a title="scalaz.Input[E]" id="866736">ie</a> =&gt; <a href="#866730" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k</a><span class="delimiter">(</span><a href="#866736" title="scalaz.Input[E]">ie</a><span class="delimiter">)</span>.<a href="#866482" title="(eb: scalaz.IterV[E,B], f: (A, B) =&gt; C)scalaz.IterV[E,C]">zipWith</a><span class="delimiter">(</span><a href="#866731" title="scalaz.IterV[E,B]">b</a>, <a href="#866673" title="(A, B) =&gt; C">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scalaz.IterV[E,C]" class="delimiter">(</span><a title="scalaz.IterV[E,A]" id="866747">a</a>, <a href="#866636" title="(r: scalaz.IterV[E,B])Option[scalaz.Input[E] =&gt; scalaz.IterV[E,B]]">Cont</a><span class="delimiter">(</span><a title="scalaz.Input[E] =&gt; scalaz.IterV[E,B]" id="866756">k</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#866631" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,C])scalaz.IterV[E,C]">Cont</a><span class="delimiter">(</span><a title="scalaz.Input[E]" id="866761">ie</a> =&gt; <a href="#866747" title="scalaz.IterV[E,A]">a</a>.<a href="#866482" title="(eb: scalaz.IterV[E,B], f: (A, B) =&gt; C)scalaz.IterV[E,C]">zipWith</a><span class="delimiter">(</span><a href="#866756" title="(v1: scalaz.Input[E])scalaz.IterV[E,B]">k</a><span class="delimiter">(</span><a href="#866761" title="scalaz.Input[E]">ie</a><span class="delimiter">)</span>, <a href="#866673" title="(A, B) =&gt; C">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scalaz.IterV[E,C]" class="delimiter">(</span><a href="#866611" title="(r: scalaz.IterV[E,A])Option[(A, scalaz.Input[E])]">Done</a><span class="delimiter">(</span><a title="A" id="866783">a</a>, <a title="scalaz.Input[E]" id="866784">e</a><span class="delimiter">)</span>, <a href="#866611" title="(r: scalaz.IterV[E,B])Option[(B, scalaz.Input[E])]">Done</a><span class="delimiter">(</span><a title="B" id="866793">b</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#866606" title="(a: =&gt; C, i: =&gt; scalaz.Input[E])scalaz.IterV[E,C]">Done</a><span class="delimiter">(</span><a href="#866673" title="(v1: A, v2: B)C">f</a><span class="delimiter">(</span><a href="#866783" title="A">a</a>, <a href="#866793" title="B">b</a><span class="delimiter">)</span>, <a href="#866784" title="scalaz.Input[E]">e</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** An iteratee that sends itself the EOF signal after `n` inputs. */</span>
  <span class="keyword">def</span> <a title="(n: Int)scalaz.IterV[E,A]" id="866487">take</a><span class="delimiter">(</span><a title="Int" id="866802">n</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span> =
    <a href="#866471" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; scalaz.IterV[E,A], cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; scalaz.IterV[E,A])scalaz.IterV[E,A]">fold</a><span class="delimiter">(</span><span class="delimiter">(</span><a title="=&gt; A" id="866808">a</a>, <a title="=&gt; scalaz.Input[E]" id="866809">i</a><span class="delimiter">)</span> =&gt; <a href="#866606" title="(a: =&gt; A, i: =&gt; scalaz.Input[E])scalaz.IterV[E,A]">Done</a><span class="delimiter">(</span><a href="#866808" title="=&gt; A">a</a>, <a href="#866809" title="=&gt; scalaz.Input[E]">i</a><span class="delimiter">)</span>,
         <a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="866817">k</a> =&gt; <span title="scalaz.IterV[E,A]" class="keyword">if</span> <span class="delimiter">(</span><a href="#866802" title="Int">n</a> <span title="(x: Int)Boolean">&lt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#866817" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k</a><span class="delimiter">(</span><a href="#866430" title="object scalaz.IterV.EOF">EOF</a>.<a href="#866458" title="scalaz.Input[E]">apply</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#866631" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,A])scalaz.IterV[E,A]">Cont</a><span class="delimiter">(</span><a title="scalaz.Input[E]" id="866828">i</a> =&gt; <a href="#866333" title="(empty: =&gt; scalaz.IterV[E,A], el: =&gt; E =&gt; scalaz.IterV[E,A], eof: =&gt; scalaz.IterV[E,A])scalaz.IterV[E,A]">i</a><span class="delimiter">(</span>
           <a href="#866817" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k</a><span class="delimiter">(</span><a href="#866828" title="scalaz.Input[E]">i</a><span class="delimiter">)</span>.<a href="#866487" title="(n: Int)scalaz.IterV[E,A]">take</a><span class="delimiter">(</span><a href="#866802" title="Int">n</a><span class="delimiter">)</span>,
           <a title="=&gt; E" id="866837">e</a> =&gt; <a href="#866817" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k</a><span class="delimiter">(</span><a href="#866828" title="scalaz.Input[E]">i</a><span class="delimiter">)</span>.<a href="#866487" title="(n: Int)scalaz.IterV[E,A]">take</a><span class="delimiter">(</span><a href="#866802" title="Int">n</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>,
           <a href="#866817" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k</a><span class="delimiter">(</span><a href="#866828" title="scalaz.Input[E]">i</a><span class="delimiter">)</span>
         <span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Lift into a monadic iteratee, in the Id monad. */</span>
  <span class="keyword">def</span> <a title="=&gt; scalaz.Iteratee[scalaz.Scalaz.Id,E,A]" id="866488">lift</a>: <a href="#907239" title="scalaz.Iteratee[scalaz.Scalaz.Id,E,A]">Iteratee</a><span class="delimiter">[</span>Id, E, A<span class="delimiter">]</span> =
    <a href="#866471" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; scalaz.Iteratee[scalaz.Scalaz.Id,E,A], cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; scalaz.Iteratee[scalaz.Scalaz.Id,E,A])scalaz.Iteratee[scalaz.Scalaz.Id,E,A]">fold</a><span class="delimiter">(</span>done = <span class="delimiter">(</span><a title="=&gt; A" id="870597">a</a>, <a title="=&gt; scalaz.Input[E]" id="870598">e</a><span class="delimiter">)</span> =&gt; <a href="#907239" title="[M[+_], E, A](value: M[scalaz.IterVM[M,E,A]])scalaz.Iteratee[M,E,A]">Iteratee</a><span title="(value: scalaz.Scalaz.Id[scalaz.IterVM[scalaz.Scalaz.Id,E,A]])scalaz.Iteratee[scalaz.Scalaz.Id,E,A]" class="delimiter">[</span><a href="../../core/scalaz/Id.scala.html#42334" title="scalaz.Scalaz.Id">Id</a>, <a href="#36471" title="E">E</a>, <a href="#36472" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#870621" title="(a: =&gt; A, i: =&gt; scalaz.Input[E])scalaz.IterVM[scalaz.Scalaz.Id,E,A]">DoneM</a><span class="delimiter">(</span><a href="#870597" title="=&gt; A">a</a>, <a href="#870598" title="=&gt; scalaz.Input[E]">e</a><span class="delimiter">)</span><span class="delimiter">)</span>,
         cont = <a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="870658">k</a> =&gt; <a href="#907239" title="[M[+_], E, A](value: M[scalaz.IterVM[M,E,A]])scalaz.Iteratee[M,E,A]">Iteratee</a><span title="(value: scalaz.Scalaz.Id[scalaz.IterVM[scalaz.Scalaz.Id,E,A]])scalaz.Iteratee[scalaz.Scalaz.Id,E,A]" class="delimiter">[</span><a href="../../core/scalaz/Id.scala.html#42334" title="scalaz.Scalaz.Id">Id</a>, <a href="#36471" title="E">E</a>, <a href="#36472" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#870661" title="(f: scalaz.Input[E] =&gt; scalaz.Iteratee[scalaz.Scalaz.Id,E,A])scalaz.IterVM[scalaz.Scalaz.Id,E,A]">ContM</a><span class="delimiter">(</span><a title="scalaz.Input[E]" id="870687">i</a> =&gt; <a href="#870658" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k</a><span class="delimiter">(</span><a href="#870687" title="scalaz.Input[E]">i</a><span class="delimiter">)</span>.<a href="#866488" title="=&gt; scalaz.Iteratee[scalaz.Scalaz.Id,E,A]">lift</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[B](f: A =&gt; scalaz.IterV[E,B])scalaz.IterV[E,B]" id="866489">flatMap</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866491">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; scalaz.IterV[E,B]" id="866574">f</a>: A =&gt; IterV<span class="delimiter">[</span>E, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[E,B]">IterV</a><span class="delimiter">[</span>E, B<span class="delimiter">]</span> = <a href="#36470" title="IterV.this.type" class="keyword">this</a>.<a href="#866471" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; scalaz.IterV[E,B], cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; scalaz.IterV[E,B])scalaz.IterV[E,B]">fold</a><span class="delimiter">(</span>
      done = <span class="delimiter">(</span><a title="=&gt; A" id="870700">x</a>, <a title="=&gt; scalaz.Input[E]" id="870701">str</a><span class="delimiter">)</span> =&gt; <a href="#866574" title="(v1: A)scalaz.IterV[E,B]">f</a><span class="delimiter">(</span><a href="#870700" title="=&gt; A">x</a><span class="delimiter">)</span>.<a href="#866471" title="(done: (=&gt; B, =&gt; scalaz.Input[E]) =&gt; scalaz.IterV[E,B], cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,B]) =&gt; scalaz.IterV[E,B])scalaz.IterV[E,B]">fold</a><span class="delimiter">(</span>
        done = <span class="delimiter">(</span><a title="=&gt; B" id="870709">x2</a>, <a title="=&gt; scalaz.Input[E]" id="870710">_</a><span class="delimiter">)</span> =&gt; <a href="#866606" title="(a: =&gt; B, i: =&gt; scalaz.Input[E])scalaz.IterV[E,B]">Done</a><span class="delimiter">(</span><a href="#870709" title="=&gt; B">x2</a>, <a href="#870701" title="=&gt; scalaz.Input[E]">str</a><span class="delimiter">)</span>,
        cont = <a href="#870718" title="(v1: scalaz.Input[E])scalaz.IterV[E,B]">_</a><span class="delimiter">(</span><a href="#870701" title="=&gt; scalaz.Input[E]">str</a><span class="delimiter">)</span><span class="delimiter">)</span>,
      cont = <a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="870723">k</a> =&gt; <a href="#866631" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,B])scalaz.IterV[E,B]">Cont</a><span class="delimiter">(</span><a title="scalaz.Input[E]" id="870728">str2</a> =&gt; <a href="#870723" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k</a><span class="delimiter">(</span><a href="#870728" title="scalaz.Input[E]">str2</a><span class="delimiter">)</span> <a href="#866489" title="(f: A =&gt; scalaz.IterV[E,B])scalaz.IterV[E,B]">flatMap</a> <a href="#866574" title="A =&gt; scalaz.IterV[E,B]">f</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[B](f: A =&gt; B)scalaz.IterV[E,B]" id="866492">map</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866494">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; B" id="870736">f</a>: A =&gt; B<span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[E,B]">IterV</a><span class="delimiter">[</span>E, B<span class="delimiter">]</span> = <a href="#866489" title="(f: A =&gt; scalaz.IterV[E,B])scalaz.IterV[E,B]">flatMap</a><span class="delimiter">(</span><a title="A" id="870742">a</a> =&gt; <a href="#866606" title="(a: =&gt; B, i: =&gt; scalaz.Input[E])scalaz.IterV[E,B]">Done</a><span class="delimiter">(</span><a href="#870736" title="(v1: A)B">f</a><span class="delimiter">(</span><a href="#870742" title="A">a</a><span class="delimiter">)</span>, <a href="#866433" title="[E]=&gt; scalaz.Input[E]">Empty</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#36471" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/** Monadic Iteratees */</span>
<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait IterVM[M[+_], E, A] extends java.lang.Object" id="36473">IterVM</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="36474">M</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="870751">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="36475">E</a>, <a title="&gt;: Nothing &lt;: Any" id="36476">A</a><span class="delimiter">]</span> <span title="java.lang.Object" class="delimiter">{</span>
  <span class="keyword">import</span> <a href="#36485" title="object scalaz.IterV">IterV</a>._
  <span class="keyword">def</span> <a title="[Z](done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z, cont: (scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; Z)Z" id="870640">fold</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="870642">Z</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z" id="870753">done</a>: <span class="delimiter">(</span>=&gt; A, =&gt; Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Z, <a title="(scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; Z" id="870754">cont</a>: <span class="delimiter">(</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; Iteratee<span class="delimiter">[</span>M, E, A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Z<span class="delimiter">)</span>: <a href="#870642" title="Z">Z</a>
<span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="class Iteratee[M[+_], E, A] extends java.lang.Object with ScalaObject with Product with Serializable" id="907239">Iteratee</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="870605">M</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="870616">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="870606">E</a>, <a title="&gt;: Nothing &lt;: Any" id="870607">A</a><span class="delimiter">]</span><a href="#907239" title="ScalaObject" class="delimiter">(</a><a title="M[scalaz.IterVM[M,E,A]]" id="870615">value</a>: <a href="#870605" title="M[scalaz.IterVM[M,E,A]]">M</a><span class="delimiter">[</span>IterVM<span class="delimiter">[</span>M, E, A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="#36485" title="object scalaz.IterV">IterV</a>._

  <span class="keyword">def</span> <a title="(es: scalaz.StreamT[M,E])(implicit M: scalaz.Monad[M])M[A]" id="870577">apply</a><span class="delimiter">(</span><a title="scalaz.StreamT[M,E]" id="870761">es</a>: <a href="../../core/scalaz/StreamT.scala.html#10397" title="scalaz.StreamT[M,E]">StreamT</a><span class="delimiter">[</span>M, E<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Monad[M]" id="870762">M</a>: <a href="../../core/scalaz/Monad.scala.html#22172" title="scalaz.Monad[M]">Monad</a><span class="delimiter">[</span>M<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#870605" title="M[A]">M</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="keyword">for</span> <span class="delimiter">{</span>
    <a title="scalaz.IterVM[M,E,A]" id="872237">i</a> &lt;- <a href="../../core/scalaz/syntax/BindSyntax.scala.html#289356" title="(f: scalaz.IterVM[M,E,A] =&gt; M[A])M[A]">value</a>
    <a title="Option[(E, scalaz.StreamT[M,E])]" id="874109">p</a> &lt;- <a href="#870761" title="scalaz.StreamT[M,E]">es</a>.<a href="../../core/scalaz/syntax/BindSyntax.scala.html#289356" title="(f: Option[(E, scalaz.StreamT[M,E])] =&gt; M[A])M[A]">uncons</a>
    <a title="A" id="877522">v</a> &lt;- <a href="#872237" title="scalaz.IterVM[M,E,A]">i</a>.<a href="#870640" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; M[A], cont: (scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; M[A])M[A]">fold</a><a href="../../core/scalaz/syntax/FunctorSyntax.scala.html#102495" title="(f: A =&gt; A)M[A]" class="delimiter">(</a><span class="delimiter">(</span><a title="=&gt; A" id="874116">a</a>, <a title="=&gt; scalaz.Input[E]" id="874117">e</a><span class="delimiter">)</span> =&gt; <a href="#870762" title="scalaz.Monad[M]">M</a>.<a href="../../core/scalaz/Pointed.scala.html#43396" title="(a: =&gt; A)M[A]">pure</a><span class="delimiter">(</span><a href="#874116" title="=&gt; A">a</a><span class="delimiter">)</span>,
                <a title="scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]" id="874122">k</a> =&gt; <a href="#874109" title="Option[(E, scalaz.StreamT[M,E])]">p</a> <span title="M[A]" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="M[A]">Some</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="E" id="874126">h</a>, <a title="scalaz.StreamT[M,E]" id="874127">t</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#874122" title="(v1: scalaz.Input[E])scalaz.Iteratee[M,E,A]">k</a><a href="#870577" title="(es: scalaz.StreamT[M,E])(implicit M: scalaz.Monad[M])M[A]" class="delimiter">(</a><a href="#866444" title="(e0: =&gt; E)scalaz.Input[E]">El</a><span class="delimiter">(</span><a href="#874126" title="E">h</a><span class="delimiter">)</span><span class="delimiter">)</span><a href="#870762" title="scalaz.Monad[M]" class="delimiter">(</a><a href="#874127" title="scalaz.StreamT[M,E]">t</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="M[A]">None</span> =&gt; <a href="#874122" title="(v1: scalaz.Input[E])scalaz.Iteratee[M,E,A]">k</a><span class="delimiter">(</span><a href="#866458" title="[E]=&gt; scalaz.Input[E]">EOF</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#870606" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span>.<a href="../../core/scalaz/syntax/FunctorSyntax.scala.html#53521" title="(v: M[scalaz.IterVM[M,E,A]])(implicit F0: scalaz.Functor[M])java.lang.Object with scalaz.syntax.FunctorOps[M,scalaz.IterVM[M,E,A]]">value</a>.<a href="../../core/scalaz/syntax/FunctorSyntax.scala.html#102495" title="(f: scalaz.IterVM[M,E,A] =&gt; A)M[A]">map</a><span class="delimiter">(</span>
                    <a href="#876033" title="scalaz.IterVM[M,E,A]">_</a>.<a href="#870640" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; A, cont: (scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; A)A">fold</a><span class="delimiter">(</span><span class="delimiter">(</span><a title="=&gt; A" id="876040">a</a>, <a title="=&gt; scalaz.Input[E]" id="876041">e</a><span class="delimiter">)</span> =&gt; <a href="#876040" title="=&gt; A">a</a>, <a title="scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]" id="876043">_</a> =&gt; sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Diverging Iteratee&quot;)" class="string">&quot;Diverging Iteratee&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span><span class="delimiter">)</span>
  <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#877522" title="A">v</a>

  <span class="keyword">def</span> <a title="(f: scalaz.package.~&gt;[M,scalaz.Scalaz.Id])(implicit M: scalaz.Monad[M])M[scalaz.IterV[E,A]]" id="870578">lower</a><span class="delimiter">(</span><a title="scalaz.package.~&gt;[M,scalaz.Scalaz.Id]" id="877526">f</a>: M <a href="../../core/scalaz/NaturalTransformation.scala.html#16919" title="scalaz.package.~&gt;[M,scalaz.Scalaz.Id]">~&gt;</a> Id<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Monad[M]" id="877527">M</a>: <a href="../../core/scalaz/Monad.scala.html#22172" title="scalaz.Monad[M]">Monad</a><span class="delimiter">[</span>M<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#870605" title="M[scalaz.IterV[E,A]]">M</a><span class="delimiter">[</span>IterV<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="keyword">for</span> <span class="delimiter">{</span>
    <a title="scalaz.IterVM[M,E,A]" id="878991">v</a> &lt;- <a href="../../core/scalaz/syntax/BindSyntax.scala.html#289356" title="(f: scalaz.IterVM[M,E,A] =&gt; M[scalaz.IterV[E,A]])M[scalaz.IterV[E,A]]">value</a>
    <a title="scalaz.IterV[E,A]" id="880956">a</a> &lt;- <a href="#877527" title="scalaz.Monad[M]">M</a>.<a href="../../core/scalaz/Pointed.scala.html#43396" title="(a: =&gt; scalaz.IterV[E,A])M[scalaz.IterV[E,A]]">pure</a><a href="../../core/scalaz/syntax/FunctorSyntax.scala.html#102495" title="(f: scalaz.IterV[E,A] =&gt; scalaz.IterV[E,A])M[scalaz.IterV[E,A]]" class="delimiter">(</a><a href="#878991" title="scalaz.IterVM[M,E,A]">v</a> <span title="scalaz.IterV[E,A]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#870628" title="scalaz.IterV[E,A]">DoneM</a><span class="delimiter">(</span><a title="A" id="879014">a</a>, <a title="scalaz.Input[E]" id="879015">e</a><span class="delimiter">)</span> =&gt; <a href="#866606" title="(a: =&gt; A, i: =&gt; scalaz.Input[E])scalaz.IterV[E,A]">Done</a><span class="delimiter">(</span><a href="#879014" title="A">a</a>, <a href="#879015" title="scalaz.Input[E]">e</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="#870668" title="scalaz.IterV[E,A]">ContM</a><span class="delimiter">(</span><a title="scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]" id="879042">k</a><span class="delimiter">)</span> =&gt; <a href="#866631" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,A])scalaz.IterV[E,A]">Cont</a><span class="delimiter">(</span><span class="delimiter">(</span>e: <a href="#36468" title="scalaz.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <a href="../../core/scalaz/NaturalTransformation.scala.html#146546" title="(fa: M[scalaz.IterV[E,A]])scalaz.Scalaz.Id[scalaz.IterV[E,A]]">f</a><span class="delimiter">(</span><a href="#879042" title="(v1: scalaz.Input[E])scalaz.Iteratee[M,E,A]">k</a><span class="delimiter">(</span><a href="#879047" title="scalaz.Input[E]">e</a><span class="delimiter">)</span>.<a href="#870578" title="(f: scalaz.package.~&gt;[M,scalaz.Scalaz.Id])(implicit M: scalaz.Monad[M])M[scalaz.IterV[E,A]]">lower</a><a href="#877527" title="scalaz.Monad[M]" class="delimiter">(</a><a href="#877526" title="scalaz.package.~&gt;[M,scalaz.Scalaz.Id]">f</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>
  <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#880956" title="scalaz.IterV[E,A]">a</a>

  <span class="keyword">def</span> <a title="[D](f: D =&gt; E, g: E =&gt; D)(implicit M: scalaz.Monad[M])scalaz.Iteratee[M,D,A]" id="870579">xmap</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="870581">D</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="D =&gt; E" id="880959">f</a>: D =&gt; E, <a title="E =&gt; D" id="880960">g</a>: E =&gt; D<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Monad[M]" id="880961">M</a>: <a href="../../core/scalaz/Monad.scala.html#22172" title="scalaz.Monad[M]">Monad</a><span class="delimiter">[</span>M<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#907239" title="scalaz.Iteratee[M,D,A]">Iteratee</a><span class="delimiter">[</span>M, D, A<span class="delimiter">]</span> = <a href="#907239" title="[M[+_], E, A](value: M[scalaz.IterVM[M,E,A]])scalaz.Iteratee[M,E,A]">Iteratee</a><span title="(value: M[scalaz.IterVM[M,D,A]])scalaz.Iteratee[M,D,A]" class="delimiter">[</span><a href="#870605" title="M">M</a>, <a href="#870581" title="D">D</a>, <a href="#870607" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">for</span> <span class="delimiter">{</span>
    <a title="scalaz.IterVM[M,E,A]" id="882428">v</a> &lt;- <a href="../../core/scalaz/syntax/BindSyntax.scala.html#289356" title="(f: scalaz.IterVM[M,E,A] =&gt; M[scalaz.IterVM[M,D,A]])M[scalaz.IterVM[M,D,A]]">value</a>
    <a title="scalaz.IterVM[M,D,A]" id="884364">h</a> &lt;- <a href="#880961" title="scalaz.Monad[M]">M</a>.<a href="../../core/scalaz/Pointed.scala.html#43396" title="(a: =&gt; scalaz.IterVM[M,D,A])M[scalaz.IterVM[M,D,A]]">pure</a><a href="../../core/scalaz/syntax/FunctorSyntax.scala.html#102495" title="(f: scalaz.IterVM[M,D,A] =&gt; scalaz.IterVM[M,D,A])M[scalaz.IterVM[M,D,A]]" class="delimiter">(</a><a href="#882428" title="scalaz.IterVM[M,E,A]">v</a>.<a href="#870640" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; scalaz.IterVM[M,D,A], cont: (scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; scalaz.IterVM[M,D,A])scalaz.IterVM[M,D,A]">fold</a><span class="delimiter">(</span><span class="delimiter">(</span><a title="=&gt; A" id="882437">a</a>, <a title="=&gt; scalaz.Input[E]" id="882438">e</a><span class="delimiter">)</span> =&gt; <a href="#870621" title="[M[+_], E, A](a: =&gt; A, i: =&gt; scalaz.Input[E])scalaz.IterVM[M,E,A]">DoneM</a><span title="(a: =&gt; A, i: =&gt; scalaz.Input[D])scalaz.IterVM[M,D,A]" class="delimiter">[</span><a href="#870605" title="M">M</a>, <a href="#870581" title="D">D</a>, <a href="#870607" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#882437" title="=&gt; A">a</a>, <a href="#882438" title="=&gt; scalaz.Input[E]">e</a> <a href="#866336" title="(f: E =&gt; D)scalaz.Input[D]">map</a> <a href="#880960" title="E =&gt; D">g</a><span class="delimiter">)</span>,
                <a title="scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]" id="882446">k</a> =&gt; <a href="#870661" title="[M[+_], E, A](f: scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A])scalaz.IterVM[M,E,A]">ContM</a><span title="(f: scalaz.Input[D] =&gt; scalaz.Iteratee[M,D,A])scalaz.IterVM[M,D,A]" class="delimiter">[</span><a href="#870605" title="M">M</a>, <a href="#870581" title="D">D</a>, <a href="#870607" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">(</span>d: <a href="#36468" title="scalaz.Input[D]">Input</a><span class="delimiter">[</span>D<span class="delimiter">]</span><span class="delimiter">)</span> =&gt;
                  <a href="#882446" title="(v1: scalaz.Input[E])scalaz.Iteratee[M,E,A]">k</a><span class="delimiter">(</span><a href="#882449" title="scalaz.Input[D]">d</a> <a href="#866336" title="(f: D =&gt; E)scalaz.Input[E]">map</a> <a href="#880959" title="D =&gt; E">f</a><span class="delimiter">)</span>.<a href="#870579" title="(f: D =&gt; E, g: E =&gt; D)(implicit M: scalaz.Monad[M])scalaz.Iteratee[M,D,A]">xmap</a><a href="#880961" title="scalaz.Monad[M]" class="delimiter">(</a><a href="#880959" title="D =&gt; E">f</a>, <a href="#880960" title="E =&gt; D">g</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#884364" title="scalaz.IterVM[M,D,A]">h</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[B](f: A =&gt; B)(implicit M: scalaz.Functor[M])scalaz.Iteratee[M,E,B]" id="870582">map</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="870584">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; B" id="884367">f</a>: A =&gt; B<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Functor[M]" id="884368">M</a>: <a href="../../core/scalaz/Functor.scala.html#14432" title="scalaz.Functor[M]">Functor</a><span class="delimiter">[</span>M<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#907239" title="scalaz.Iteratee[M,E,B]">Iteratee</a><span class="delimiter">[</span>M, E, B<span class="delimiter">]</span> =
    <a href="#907239" title="[M[+_], E, A](value: M[scalaz.IterVM[M,E,A]])scalaz.Iteratee[M,E,A]">Iteratee</a><span title="(value: M[scalaz.IterVM[M,E,B]])scalaz.Iteratee[M,E,B]" class="delimiter">[</span><a href="#870605" title="M">M</a>, <a href="#870606" title="E">E</a>, <a href="#870584" title="B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#884368" title="scalaz.Functor[M]">M</a>.<a href="../../core/scalaz/Functor.scala.html#42343" title="(fa: M[scalaz.IterVM[M,E,A]])(f: scalaz.IterVM[M,E,A] =&gt; scalaz.IterVM[M,E,B])M[scalaz.IterVM[M,E,B]]">map</a><span class="delimiter">(</span><a href="#870615" title="=&gt; M[scalaz.IterVM[M,E,A]]">value</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span>x: <a href="#36473" title="scalaz.IterVM[M,E,A]">IterVM</a><span class="delimiter">[</span>M, E, A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <a href="#884382" title="scalaz.IterVM[M,E,A]">x</a>.<a href="#870640" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; scalaz.IterVM[M,E,B], cont: (scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; scalaz.IterVM[M,E,B])scalaz.IterVM[M,E,B]">fold</a><span class="delimiter">(</span><span class="delimiter">(</span><a title="=&gt; A" id="884389">a</a>, <a title="=&gt; scalaz.Input[E]" id="884390">e</a><span class="delimiter">)</span> =&gt; <a href="#870621" title="[M[+_], E, A](a: =&gt; A, i: =&gt; scalaz.Input[E])scalaz.IterVM[M,E,A]">DoneM</a><span title="(a: =&gt; B, i: =&gt; scalaz.Input[E])scalaz.IterVM[M,E,B]" class="delimiter">[</span><a href="#870605" title="M">M</a>, <a href="#870606" title="E">E</a>, <a href="#870584" title="B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#884367" title="(v1: A)B">f</a><span class="delimiter">(</span><a href="#884389" title="=&gt; A">a</a><span class="delimiter">)</span>, <a href="#884390" title="=&gt; scalaz.Input[E]">e</a><span class="delimiter">)</span>, <a title="scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]" id="884395">k</a> =&gt; <a href="#870661" title="[M[+_], E, A](f: scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A])scalaz.IterVM[M,E,A]">ContM</a><span title="(f: scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,B])scalaz.IterVM[M,E,B]" class="delimiter">[</span><a href="#870605" title="M">M</a>, <a href="#870606" title="E">E</a>, <a href="#870584" title="B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.Input[E]" id="884398">e</a> =&gt; <a href="#884395" title="(v1: scalaz.Input[E])scalaz.Iteratee[M,E,A]">k</a><span class="delimiter">(</span><a href="#884398" title="scalaz.Input[E]">e</a><span class="delimiter">)</span>.<a href="#870582" title="(f: A =&gt; B)(implicit M: scalaz.Functor[M])scalaz.Iteratee[M,E,B]">map</a><a href="#884368" title="scalaz.Functor[M]" class="delimiter">(</a><a href="#884367" title="A =&gt; B">f</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(implicit M: scalaz.Monad[M])M[A]" id="870585">run</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Monad[M]" id="884866">M</a>: <a href="../../core/scalaz/Monad.scala.html#22172" title="scalaz.Monad[M]">Monad</a><span class="delimiter">[</span>M<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#870605" title="M[A]">M</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(i: scalaz.Iteratee[M,E,A])M[Option[A]]" id="884868">runCont</a><span class="delimiter">(</span><a title="scalaz.Iteratee[M,E,A]" id="884869">i</a>: <a href="#907239" title="scalaz.Iteratee[M,E,A]">Iteratee</a><span class="delimiter">[</span>M, E, A<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="keyword">for</span> <span class="delimiter">{</span>
      <a title="scalaz.IterVM[M,E,A]" id="886363">v</a> &lt;- <a href="#884869" title="scalaz.Iteratee[M,E,A]">i</a>.<a href="../../core/scalaz/syntax/FunctorSyntax.scala.html#102495" title="(f: scalaz.IterVM[M,E,A] =&gt; Option[A])M[Option[A]]">value</a>
    <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#886363" title="scalaz.IterVM[M,E,A]">v</a>.<a href="#870640" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Option[A], cont: (scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; Option[A])Option[A]">fold</a><span class="delimiter">(</span>done = <span class="delimiter">(</span><a title="=&gt; A" id="886370">x</a>, <a title="=&gt; scalaz.Input[E]" id="886371">_</a><span class="delimiter">)</span> =&gt; <span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#886370" title="=&gt; A">x</a><span class="delimiter">)</span>, cont = <a title="scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]" id="886376">_</a> =&gt; <span title="object None">None</span><span class="delimiter">)</span>
    <span class="keyword">for</span> <span class="delimiter">{</span>
      <a title="scalaz.IterVM[M,E,A]" id="887853">v</a> &lt;- <a href="../../core/scalaz/syntax/BindSyntax.scala.html#289356" title="(f: scalaz.IterVM[M,E,A] =&gt; M[A])M[A]">value</a>
      <a title="Option[A]" id="889346">t</a> &lt;- <a href="#887853" title="scalaz.IterVM[M,E,A]">v</a>.<a href="#870640" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; M[Option[A]], cont: (scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; M[Option[A]])M[Option[A]]">fold</a><a href="../../core/scalaz/syntax/FunctorSyntax.scala.html#102495" title="(f: Option[A] =&gt; A)M[A]" class="delimiter">(</a>done = <span class="delimiter">(</span><a title="=&gt; A" id="887860">x</a>, <a title="=&gt; scalaz.Input[E]" id="887861">_</a><span class="delimiter">)</span> =&gt; <a href="#884866" title="scalaz.Monad[M]">M</a>.<a href="../../core/scalaz/Pointed.scala.html#43393" title="(a: =&gt; Some[A])M[Some[A]]">point</a><span class="delimiter">(</span><span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#887860" title="=&gt; A">x</a><span class="delimiter">)</span><span class="delimiter">)</span>,
                  cont = <a title="scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]" id="887869">k</a> =&gt; <a href="#884868" title="(i: scalaz.Iteratee[M,E,A])M[Option[A]]">runCont</a><span class="delimiter">(</span><a href="#887869" title="(v1: scalaz.Input[E])scalaz.Iteratee[M,E,A]">k</a><span class="delimiter">(</span><a href="#866458" title="[E]=&gt; scalaz.Input[E]">EOF</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#870606" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#889346" title="Option[A]">t</a>.<span title="(default: =&gt; A)A">getOrElse</span><span class="delimiter">(</span>sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Diverging iteratee!&quot;)" class="string">&quot;Diverging iteratee!&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/** An Enumerator[F] feeds data from an F to an iteratee */</span>
<span class="keyword">trait</span> <a title="trait Enumerator[F[_]] extends java.lang.Object" id="36483">Enumerator</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="36484">F</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="889403">_</a><span class="delimiter">]</span><span class="delimiter">]</span> <span title="java.lang.Object" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[E, A](f: F[E], i: scalaz.IterV[E,A])scalaz.IterV[E,A]" id="866508">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866511">E</a>, <a title="&gt;: Nothing &lt;: Any" id="866512">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="F[E]" id="866513">f</a>: <a href="#36484" title="F[E]">F</a><span class="delimiter">[</span>E<span class="delimiter">]</span>, <a title="scalaz.IterV[E,A]" id="866514">i</a>: <a href="#36470" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span>
<span class="delimiter">}</span>


<span class="keyword">object</span> <a title="object scalaz.IterV" id="36485">IterV</a> <span title="ScalaObject" class="delimiter">{</span>

  case <span class="keyword">class</span> <a title="class OptionSyntax[A] extends java.lang.Object with ScalaObject with Product with Serializable" id="907234">OptionSyntax</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="889442">A</a><span class="delimiter">]</span><a href="#907234" title="ScalaObject" class="delimiter">(</a><a title="Option[A]" id="889478">value</a>: <span title="Option[A]">Option</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="comment">/**
     * Returns a Done iteratee with the given value if the Option is not defined, otherwise runs the given function.
     */</span>
    <span class="keyword">def</span> <a title="[B](b: =&gt; B, f: A =&gt; scalaz.IterV[A,B])scalaz.IterV[A,B]" id="870769">iterDoneOr</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="870771">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; B" id="889409">b</a>: =&gt; B, <a title="A =&gt; scalaz.IterV[A,B]" id="889410">f</a>: A =&gt; IterV<span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[A,B]">IterV</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#889478" title="=&gt; Option[A]">value</a> <span title="scalaz.IterV[A,B]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scalaz.IterV[A,B]">None</span> =&gt; <a href="#36485" title="object scalaz.IterV">IterV</a>.<a href="#866606" title="(a: =&gt; B, i: =&gt; scalaz.Input[A])scalaz.IterV[A,B]">Done</a><span class="delimiter">(</span><a href="#889409" title="=&gt; B">b</a>, <a href="#36485" title="object scalaz.IterV">IterV</a>.<a href="#866430" title="object scalaz.IterV.EOF">EOF</a>.<a href="#866458" title="scalaz.Input[A]">apply</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scalaz.IterV[A,B]">Some</span><span class="delimiter">(</span><a title="A" id="889422">a</a><span class="delimiter">)</span> =&gt; <a href="#889410" title="(v1: A)scalaz.IterV[A,B]">f</a><span class="delimiter">(</span><a href="#889422" title="A">a</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[A](value: Option[A])scalaz.IterV.OptionSyntax[A]" id="866360">wrapOptionSyntax</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866362">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Option[A]" id="866861">value</a>: <span title="Option[A]">Option</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#907234" title="scalaz.IterV.OptionSyntax[A]">OptionSyntax</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#907234" title="(value: Option[A])scalaz.IterV.OptionSyntax[A]">OptionSyntax</a><span class="delimiter">(</span><a href="#866861" title="Option[A]">value</a><span class="delimiter">)</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[E]=&gt; scalaz.Monad[[]scalaz.IterV[E,]]" id="866363">iterVMonad</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866365">E</a><span class="delimiter">]</span>: <a href="../../core/scalaz/Monad.scala.html#22172" title="scalaz.Monad[[]scalaz.IterV[E,]]">Monad</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> <span class="delimiter">[</span><span class="delimiter">]</span> = IterV<span class="delimiter">[</span>E,<span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#<span class="delimiter">]</span> = <a href="#889486" title="java.lang.Object with scalaz.Monad[[]scalaz.IterV[E,]]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Monad[[]scalaz.IterV[E,]]" id="889486">Monad</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> <span class="delimiter">[</span><span class="delimiter">]</span> = IterV<span class="delimiter">[</span>E,<span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[A, B](a: scalaz.IterV[E,A])(f: A =&gt; scalaz.IterV[E,B])scalaz.IterV[E,B]" id="889544">bind</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="889547">A</a>,<a title="&gt;: Nothing &lt;: Any" id="889548">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.IterV[E,A]" id="889552">a</a>: <a href="#36470" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; scalaz.IterV[E,B]" id="889553">f</a>: A =&gt; IterV<span class="delimiter">[</span>E, B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#889552" title="scalaz.IterV[E,A]">a</a>.<a href="#866489" title="(f: A =&gt; scalaz.IterV[E,B])scalaz.IterV[E,B]">flatMap</a><span class="delimiter">(</span><a href="#889553" title="A =&gt; scalaz.IterV[E,B]">f</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="[A](a: =&gt; A)scalaz.IterV[E,A]" id="889549">point</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="889551">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="889576">a</a>: =&gt; A<span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span> = <a href="#866606" title="(a: =&gt; A, i: =&gt; scalaz.Input[E])scalaz.IterV[E,A]">Done</a><span class="delimiter">(</span><a href="#889576" title="=&gt; A">a</a>, <a href="#866433" title="[E]=&gt; scalaz.Input[E]">Empty</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#866365" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** An EnumeratorM[M, _, _] feeds data in a monad M to an iteratee */</span>
  <span class="keyword">type</span> <a title="[M[_], E]scalaz.package.~&gt;[[]scalaz.IterV[E,],[]M[scalaz.IterV[E,]]]" id="866366">EnumeratorM</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="866367">M</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="889615">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="866368">E</a><span class="delimiter">]</span> = <span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> <span class="delimiter">[</span><span class="delimiter">]</span> = IterV<span class="delimiter">[</span>E, <span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span># <a href="../../core/scalaz/NaturalTransformation.scala.html#16919" title="scalaz.package.~&gt;[[]scalaz.IterV[E,],[]M[scalaz.IterV[E,]]]">~&gt;</a> <span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> <span class="delimiter">[</span><span class="delimiter">]</span> = M<span class="delimiter">[</span>IterV<span class="delimiter">[</span>E, <span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#

  <span class="comment">/** A computation that has finished */</span>
  <span class="keyword">object</span> <a title="object scalaz.IterV.Done" id="866369">Done</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[E, A](a: =&gt; A, i: =&gt; scalaz.Input[E])scalaz.IterV[E,A]" id="866606">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866609">E</a>, <a title="&gt;: Nothing &lt;: Any" id="866610">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="866616">a</a>: =&gt; A, <a title="=&gt; scalaz.Input[E]" id="866617">i</a>: =&gt; Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span> = <a href="#889621" title="java.lang.Object with scalaz.IterV[E,A]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.IterV[E,A]" id="889621">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="[Z](done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z, cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; Z)Z" id="889625">fold</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="889627">Z</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z" id="889628">done</a>: <span class="delimiter">(</span>=&gt; A, =&gt; Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Z,
                  <a title="(scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; Z" id="889629">cont</a>: <span class="delimiter">(</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; IterV<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Z<span class="delimiter">)</span>: <a href="#889627" title="Z">Z</a> = <a href="#889628" title="(v1: =&gt; A, v2: =&gt; scalaz.Input[E])Z">done</a><span class="delimiter">(</span><a href="#866616" title="=&gt; A">a</a>, <a href="#866617" title="=&gt; scalaz.Input[E]">i</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="[E, A](r: scalaz.IterV[E,A])Option[(A, scalaz.Input[E])]" id="866611">unapply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866614">E</a>, <a title="&gt;: Nothing &lt;: Any" id="866615">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.IterV[E,A]" id="866772">r</a>: <a href="#36470" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[(A, scalaz.Input[E])]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>A, Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> =
      <a href="#866772" title="scalaz.IterV[E,A]">r</a>.<a href="#866471" title="[Z](done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z, cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; Z)Z">fold</a><span title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Option[(A, scalaz.Input[E])], cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; Option[(A, scalaz.Input[E])])Option[(A, scalaz.Input[E])]" class="delimiter">[</span><span title="Option[(A, scalaz.Input[E])]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>A,Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span>
        done = <span class="delimiter">(</span><a title="=&gt; A" id="889654">a</a>, <a title="=&gt; scalaz.Input[E]" id="889655">i</a><span class="delimiter">)</span> =&gt; <span title="(x: (A, scalaz.Input[E]))Some[(A, scalaz.Input[E])]">Some</span><span class="delimiter">(</span><span title="(_1: A, _2: scalaz.Input[E])(A, scalaz.Input[E])" class="delimiter">(</span><a href="#889654" title="=&gt; A">a</a>, <a href="#889655" title="=&gt; scalaz.Input[E]">i</a><span class="delimiter">)</span><span class="delimiter">)</span>,
        cont = <a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="889666">f</a> =&gt; <span title="object None">None</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A computation that takes an element from an input to yield a new computation */</span>
  <span class="keyword">object</span> <a title="object scalaz.IterV.Cont" id="866371">Cont</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[E, A](f: scalaz.Input[E] =&gt; scalaz.IterV[E,A])scalaz.IterV[E,A]" id="866631">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866634">E</a>, <a title="&gt;: Nothing &lt;: Any" id="866635">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="866641">f</a>: Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; IterV<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span> = <a href="#889668" title="java.lang.Object with scalaz.IterV[E,A]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.IterV[E,A]" id="889668">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="[Z](done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z, cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; Z)Z" id="889672">fold</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="889674">Z</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z" id="889675">done</a>: <span class="delimiter">(</span>=&gt; A, =&gt; Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Z,
                  <a title="(scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; Z" id="889676">cont</a>: <span class="delimiter">(</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; IterV<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Z<span class="delimiter">)</span>: <a href="#889674" title="Z">Z</a> = <a href="#889676" title="(v1: scalaz.Input[E] =&gt; scalaz.IterV[E,A])Z">cont</a><span class="delimiter">(</span><a href="#866641" title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]">f</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="[E, A](r: scalaz.IterV[E,A])Option[scalaz.Input[E] =&gt; scalaz.IterV[E,A]]" id="866636">unapply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866639">E</a>, <a title="&gt;: Nothing &lt;: Any" id="866640">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.IterV[E,A]" id="866685">r</a>: <a href="#36470" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[scalaz.Input[E] =&gt; scalaz.IterV[E,A]]">Option</span><span class="delimiter">[</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; IterV<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span> =
      <a href="#866685" title="scalaz.IterV[E,A]">r</a>.<a href="#866471" title="[Z](done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z, cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; Z)Z">fold</a><span title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Option[scalaz.Input[E] =&gt; scalaz.IterV[E,A]], cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; Option[scalaz.Input[E] =&gt; scalaz.IterV[E,A]])Option[scalaz.Input[E] =&gt; scalaz.IterV[E,A]]" class="delimiter">[</span><span title="Option[scalaz.Input[E] =&gt; scalaz.IterV[E,A]]">Option</span><span class="delimiter">[</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; IterV<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span>
        done = <span class="delimiter">(</span><a title="=&gt; A" id="889700">a</a>, <a title="=&gt; scalaz.Input[E]" id="889701">i</a><span class="delimiter">)</span> =&gt; <span title="object None">None</span>,
        cont = <span title="(x: scalaz.Input[E] =&gt; scalaz.IterV[E,A])Some[scalaz.Input[E] =&gt; scalaz.IterV[E,A]]">Some</span><span class="delimiter">(</span><a href="#889703" title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A monadic computation that has finished */</span>
  <span class="keyword">object</span> <a title="object scalaz.IterV.DoneM" id="866373">DoneM</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[M[+_], E, A](a: =&gt; A, i: =&gt; scalaz.Input[E])scalaz.IterVM[M,E,A]" id="870621">apply</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="870625">M</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="870637">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="870626">E</a>, <a title="&gt;: Nothing &lt;: Any" id="870627">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="870635">a</a>: =&gt; A, <a title="=&gt; scalaz.Input[E]" id="870636">i</a>: =&gt; Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36473" title="scalaz.IterVM[M,E,A]">IterVM</a><span class="delimiter">[</span>M, E, A<span class="delimiter">]</span> = <a href="#889708" title="java.lang.Object with scalaz.IterVM[M,E,A]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.IterVM[M,E,A]" id="889708">IterVM</a><span class="delimiter">[</span>M, E, A<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="[Z](done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z, cont: (scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; Z)Z" id="889712">fold</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="889714">Z</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z" id="889715">done</a>: <span class="delimiter">(</span>=&gt; A, =&gt; Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Z,
                  <a title="(scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; Z" id="889716">cont</a>: <span class="delimiter">(</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; Iteratee<span class="delimiter">[</span>M, E, A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Z<span class="delimiter">)</span>: <a href="#889714" title="Z">Z</a> = <a href="#889715" title="(v1: =&gt; A, v2: =&gt; scalaz.Input[E])Z">done</a><span class="delimiter">(</span><a href="#870635" title="=&gt; A">a</a>, <a href="#870636" title="=&gt; scalaz.Input[E]">i</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="[M[+_], E, A](r: scalaz.IterVM[M,E,A])Option[(A, scalaz.Input[E])]" id="870628">unapply</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="870632">M</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="878996">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="870633">E</a>, <a title="&gt;: Nothing &lt;: Any" id="870634">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.IterVM[M,E,A]" id="878994">r</a>: <a href="#36473" title="scalaz.IterVM[M,E,A]">IterVM</a><span class="delimiter">[</span>M, E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[(A, scalaz.Input[E])]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>A, Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> =
      <a href="#878994" title="scalaz.IterVM[M,E,A]">r</a>.<a href="#870640" title="[Z](done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z, cont: (scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; Z)Z">fold</a><span title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Option[(A, scalaz.Input[E])], cont: (scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; Option[(A, scalaz.Input[E])])Option[(A, scalaz.Input[E])]" class="delimiter">[</span><span title="Option[(A, scalaz.Input[E])]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>A, Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span>
        done = <span class="delimiter">(</span><a title="=&gt; A" id="889741">a</a>, <a title="=&gt; scalaz.Input[E]" id="889742">i</a><span class="delimiter">)</span> =&gt; <span title="(x: (A, scalaz.Input[E]))Some[(A, scalaz.Input[E])]">Some</span><span class="delimiter">(</span><span title="(_1: A, _2: scalaz.Input[E])(A, scalaz.Input[E])" class="delimiter">(</span><a href="#889741" title="=&gt; A">a</a>, <a href="#889742" title="=&gt; scalaz.Input[E]">i</a><span class="delimiter">)</span><span class="delimiter">)</span>,
        cont = <a title="scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]" id="889753">f</a> =&gt; <span title="object None">None</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object scalaz.IterV.ContM" id="866375">ContM</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[M[+_], E, A](f: scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A])scalaz.IterVM[M,E,A]" id="870661">apply</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="870665">M</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="870676">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="870666">E</a>, <a title="&gt;: Nothing &lt;: Any" id="870667">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]" id="870675">f</a>: Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; Iteratee<span class="delimiter">[</span>M, E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36473" title="scalaz.IterVM[M,E,A]">IterVM</a><span class="delimiter">[</span>M, E, A<span class="delimiter">]</span> = <a href="#889755" title="java.lang.Object with scalaz.IterVM[M,E,A]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.IterVM[M,E,A]" id="889755">IterVM</a><span class="delimiter">[</span>M, E, A<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="[Z](done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z, cont: (scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; Z)Z" id="889759">fold</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="889761">Z</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z" id="889762">done</a>: <span class="delimiter">(</span>=&gt; A, =&gt; Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Z,
                  <a title="(scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; Z" id="889763">cont</a>: <span class="delimiter">(</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; Iteratee<span class="delimiter">[</span>M, E, A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Z<span class="delimiter">)</span>: <a href="#889761" title="Z">Z</a> = <a href="#889763" title="(v1: scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A])Z">cont</a><span class="delimiter">(</span><a href="#870675" title="scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]">f</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="[M[+_], E, A](r: scalaz.IterVM[M,E,A])Option[scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]]" id="870668">unapply</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="870672">M</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="879023">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="870673">E</a>, <a title="&gt;: Nothing &lt;: Any" id="870674">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.IterVM[M,E,A]" id="879022">r</a>: <a href="#36473" title="scalaz.IterVM[M,E,A]">IterVM</a><span class="delimiter">[</span>M, E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]]">Option</span><span class="delimiter">[</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; Iteratee<span class="delimiter">[</span>M, E, A<span class="delimiter">]</span><span class="delimiter">]</span> =
      <a href="#879022" title="scalaz.IterVM[M,E,A]">r</a>.<a href="#870640" title="[Z](done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z, cont: (scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; Z)Z">fold</a><span title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Option[scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]], cont: (scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]) =&gt; Option[scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]])Option[scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]]" class="delimiter">[</span><span title="Option[scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]]">Option</span><span class="delimiter">[</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; Iteratee<span class="delimiter">[</span>M, E, A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span>
        done = <span class="delimiter">(</span><a title="=&gt; A" id="889787">a</a>, <a title="=&gt; scalaz.Input[E]" id="889788">i</a><span class="delimiter">)</span> =&gt; <span title="object None">None</span>,
        cont = <a title="scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]" id="889790">f</a> =&gt; <span title="(x: scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A])Some[scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]]">Some</span><span class="delimiter">(</span><a href="#889790" title="scalaz.Input[E] =&gt; scalaz.Iteratee[M,E,A]">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** An iteratee that consumes the head of the input */</span>
  <span class="keyword">def</span> <a title="[E]=&gt; scalaz.IterV[E,Option[E]]" id="866377">head</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866379">E</a><span class="delimiter">]</span> : <a href="#36470" title="scalaz.IterV[E,Option[E]]">IterV</a><span class="delimiter">[</span>E, Option<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(s: scalaz.Input[E])scalaz.IterV[E,Option[E]]" id="889796">step</a><span class="delimiter">(</span><a title="scalaz.Input[E]" id="889797">s</a>: <a href="#36468" title="scalaz.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[E,Option[E]]">IterV</a><span class="delimiter">[</span>E, Option<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">]</span> =
      <a href="#866333" title="(empty: =&gt; scalaz.IterV[E,Option[E]], el: =&gt; E =&gt; scalaz.IterV[E,Option[E]], eof: =&gt; scalaz.IterV[E,Option[E]])scalaz.IterV[E,Option[E]]">s</a><span class="delimiter">(</span>el = <a title="=&gt; E" id="889812">e</a> =&gt; <a href="#866606" title="(a: =&gt; Option[E], i: =&gt; scalaz.Input[E])scalaz.IterV[E,Option[E]]">Done</a><span class="delimiter">(</span><span title="(x: E)Some[E]">Some</span><span class="delimiter">(</span><a href="#889812" title="=&gt; E">e</a><span class="delimiter">)</span>, <a href="#866433" title="[E]=&gt; scalaz.Input[E]">Empty</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#866379" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span>,
        empty = <a href="#866631" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,Option[E]])scalaz.IterV[E,Option[E]]">Cont</a><a title="() =&gt; scalaz.IterV[E,Option[E]]" id="889832" class="delimiter">(</a><a href="#889796" title="(s: scalaz.Input[E])scalaz.IterV[E,Option[E]]">step</a><span class="delimiter">)</span>,
        eof = <a href="#866606" title="(a: =&gt; Option[E], i: =&gt; scalaz.Input[E])scalaz.IterV[E,Option[E]]">Done</a><a title="() =&gt; scalaz.IterV[E,Option[E]]" id="889833" class="delimiter">(</a><span title="object None">None</span>, <a href="#866458" title="[E]=&gt; scalaz.Input[E]">EOF</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#866379" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#866631" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,Option[E]])scalaz.IterV[E,Option[E]]">Cont</a><span class="delimiter">(</span><a href="#889796" title="(s: scalaz.Input[E])scalaz.IterV[E,Option[E]]">step</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** An iteratee that returns the first element of the input */</span>
  <span class="keyword">def</span> <a title="[E]=&gt; scalaz.IterV[E,Option[E]]" id="866380">peek</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866382">E</a><span class="delimiter">]</span> : <a href="#36470" title="scalaz.IterV[E,Option[E]]">IterV</a><span class="delimiter">[</span>E, Option<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(s: scalaz.Input[E])scalaz.IterV[E,Option[E]]" id="889849">step</a><span class="delimiter">(</span><a title="scalaz.Input[E]" id="889850">s</a>: <a href="#36468" title="scalaz.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[E,Option[E]]">IterV</a><span class="delimiter">[</span>E, Option<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">]</span>
      = <a href="#866333" title="(empty: =&gt; scalaz.IterV[E,Option[E]], el: =&gt; E =&gt; scalaz.IterV[E,Option[E]], eof: =&gt; scalaz.IterV[E,Option[E]])scalaz.IterV[E,Option[E]]">s</a><span class="delimiter">(</span>el = <a title="=&gt; E" id="889865">e</a> =&gt; <a href="#866606" title="(a: =&gt; Option[E], i: =&gt; scalaz.Input[E])scalaz.IterV[E,Option[E]]">Done</a><span class="delimiter">(</span><span title="(x: E)Some[E]">Some</span><span class="delimiter">(</span><a href="#889865" title="=&gt; E">e</a><span class="delimiter">)</span>, <a href="#889850" title="scalaz.Input[E]">s</a><span class="delimiter">)</span>,
          empty = <a href="#866631" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,Option[E]])scalaz.IterV[E,Option[E]]">Cont</a><a title="() =&gt; scalaz.IterV[E,Option[E]]" id="889885" class="delimiter">(</a><a href="#889849" title="(s: scalaz.Input[E])scalaz.IterV[E,Option[E]]">step</a><span class="delimiter">)</span>,
          eof = <a href="#866606" title="(a: =&gt; Option[E], i: =&gt; scalaz.Input[E])scalaz.IterV[E,Option[E]]">Done</a><a title="() =&gt; scalaz.IterV[E,Option[E]]" id="889886" class="delimiter">(</a><span title="object None">None</span>, <a href="#866458" title="[E]=&gt; scalaz.Input[E]">EOF</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#866382" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#866631" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,Option[E]])scalaz.IterV[E,Option[E]]">Cont</a><span class="delimiter">(</span><a href="#889849" title="(s: scalaz.Input[E])scalaz.IterV[E,Option[E]]">step</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Peeks and returns either a Done iteratee with the given value or runs the given function with the peeked value */</span>
  <span class="keyword">def</span> <a title="[A, B](b: =&gt; B, f: A =&gt; scalaz.IterV[A,B])scalaz.IterV[A,B]" id="866383">peekDoneOr</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866386">A</a>, <a title="&gt;: Nothing &lt;: Any" id="866387">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; B" id="889900">b</a>: =&gt; B, <a title="A =&gt; scalaz.IterV[A,B]" id="889901">f</a>: A =&gt; IterV<span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[A,B]">IterV</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> =
    <a href="#866380" title="[E]=&gt; scalaz.IterV[E,Option[E]]">peek</a><span title="scalaz.IterV[A,Option[A]]" class="delimiter">[</span><a href="#866386" title="A">A</a><span class="delimiter">]</span> <a href="#866489" title="(f: Option[A] =&gt; scalaz.IterV[A,B])scalaz.IterV[A,B]">flatMap</a> <span class="delimiter">(</span><a href="#866360" title="(value: Option[A])scalaz.IterV.OptionSyntax[A]">_</a>.<a href="#870769" title="(b: =&gt; B, f: A =&gt; scalaz.IterV[A,B])scalaz.IterV[A,B]">iterDoneOr</a><span class="delimiter">(</span><a href="#889900" title="=&gt; B">b</a>, <a href="#889901" title="A =&gt; scalaz.IterV[A,B]">f</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** An iteratee that skips the first n elements of the input */</span>
  <span class="keyword">def</span> <a title="[E](n: Int)scalaz.IterV[E,Unit]" id="866388">drop</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866390">E</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Int" id="866571">n</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[E,Unit]">IterV</a><span class="delimiter">[</span>E, Unit<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(s: scalaz.Input[E])scalaz.IterV[E,Unit]" id="890557">step</a><span class="delimiter">(</span><a title="scalaz.Input[E]" id="890558">s</a>: <a href="#36468" title="scalaz.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[E,Unit]">IterV</a><span class="delimiter">[</span>E, Unit<span class="delimiter">]</span> =
      <a href="#866333" title="(empty: =&gt; scalaz.IterV[E,Unit], el: =&gt; E =&gt; scalaz.IterV[E,Unit], eof: =&gt; scalaz.IterV[E,Unit])scalaz.IterV[E,Unit]">s</a><span class="delimiter">(</span>el = <a title="=&gt; E" id="890573">_</a> =&gt; <a href="#866388" title="(n: Int)scalaz.IterV[E,Unit]">drop</a><span class="delimiter">(</span><a href="#866571" title="Int">n</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>,
        empty = <a href="#866631" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,Unit])scalaz.IterV[E,Unit]">Cont</a><a title="() =&gt; scalaz.IterV[E,Unit]" id="894285" class="delimiter">(</a><a href="#890557" title="(s: scalaz.Input[E])scalaz.IterV[E,Unit]">step</a><span class="delimiter">)</span>,
        eof = <a href="#866606" title="(a: =&gt; Unit, i: =&gt; scalaz.Input[E])scalaz.IterV[E,Unit]">Done</a><a title="() =&gt; scalaz.IterV[E,Unit]" id="894286" class="delimiter">(</a><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#866458" title="[E]=&gt; scalaz.Input[E]">EOF</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#866390" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="scalaz.IterV[E,Unit]" class="keyword">if</span> <span class="delimiter">(</span><a href="#866571" title="Int">n</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#866606" title="(a: =&gt; Unit, i: =&gt; scalaz.Input[E])scalaz.IterV[E,Unit]">Done</a><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#866433" title="[E]=&gt; scalaz.Input[E]">Empty</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#866390" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#866631" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,Unit])scalaz.IterV[E,Unit]">Cont</a><span class="delimiter">(</span><a href="#890557" title="(s: scalaz.Input[E])scalaz.IterV[E,Unit]">step</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** An iteratee that counts and consumes the elements of the input */</span>
  <span class="keyword">def</span> <a title="[E]=&gt; scalaz.IterV[E,Int]" id="866391">length</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866393">E</a><span class="delimiter">]</span> : <a href="#36470" title="scalaz.IterV[E,Int]">IterV</a><span class="delimiter">[</span>E, Int<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(acc: Int)(s: scalaz.Input[E])scalaz.IterV[E,Int]" id="894312">step</a><span class="delimiter">(</span><a title="Int" id="894313">acc</a>: <span title="Int">Int</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="scalaz.Input[E]" id="894314">s</a>: <a href="#36468" title="scalaz.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[E,Int]">IterV</a><span class="delimiter">[</span>E, Int<span class="delimiter">]</span> =
      <a href="#866333" title="(empty: =&gt; scalaz.IterV[E,Int], el: =&gt; E =&gt; scalaz.IterV[E,Int], eof: =&gt; scalaz.IterV[E,Int])scalaz.IterV[E,Int]">s</a><span class="delimiter">(</span>el = <a title="=&gt; E" id="894329">_</a> =&gt; <a href="#866631" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,Int])scalaz.IterV[E,Int]">Cont</a><span class="delimiter">(</span><a href="#894312" title="(acc: Int)(s: scalaz.Input[E])scalaz.IterV[E,Int]">step</a><a href="#899267" title="scalaz.Input[E]" class="delimiter">(</a><a href="#894313" title="Int">acc</a> <a href="#899265" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>,
        empty = <a href="#866631" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,Int])scalaz.IterV[E,Int]">Cont</a><a title="() =&gt; scalaz.IterV[E,Int]" id="899279" class="delimiter">(</a><a href="#894312" title="(acc: Int)(s: scalaz.Input[E])scalaz.IterV[E,Int]">step</a><a href="#899284" title="scalaz.Input[E]" class="delimiter">(</a><a href="#894313" title="Int">acc</a><span class="delimiter">)</span><span class="delimiter">)</span>,
        eof = <a href="#866606" title="(a: =&gt; Int, i: =&gt; scalaz.Input[E])scalaz.IterV[E,Int]">Done</a><a title="() =&gt; scalaz.IterV[E,Int]" id="899280" class="delimiter">(</a><a href="#894313" title="Int">acc</a>, <a href="#866458" title="[E]=&gt; scalaz.Input[E]">EOF</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#866393" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#866631" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,Int])scalaz.IterV[E,Int]">Cont</a><span class="delimiter">(</span><a href="#894312" title="(acc: Int)(s: scalaz.Input[E])scalaz.IterV[E,Int]">step</a><a href="#899292" title="scalaz.Input[E]" class="delimiter">(</a><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Takes while the given predicate holds, appending with the given monoid.
   */</span>
  <span class="keyword">def</span> <a title="[A, F[_]](pred: A =&gt; Boolean)(implicit mon: scalaz.Monoid[F[A]], implicit pr: scalaz.Pointed[F])scalaz.IterV[A,F[A]]" id="866394">takeWhile</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866397">A</a>, <a title="[_]&gt;: Nothing &lt;: Any" id="866398">F</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="899297">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; Boolean" id="899294">pred</a>: A =&gt; Boolean<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Monoid[F[A]]" id="899295">mon</a>: <a href="../../core/scalaz/Monoid.scala.html#19169" title="scalaz.Monoid[F[A]]">Monoid</a><span class="delimiter">[</span>F<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="scalaz.Pointed[F]" id="899296">pr</a>: <a href="../../core/scalaz/Pointed.scala.html#9812" title="scalaz.Pointed[F]">Pointed</a><span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[A,F[A]]">IterV</a><span class="delimiter">[</span>A, F<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(z: F[A])scalaz.IterV[A,F[A]]" id="899302">peekStepDoneOr</a><span class="delimiter">(</span><a title="F[A]" id="899304">z</a>: <a href="#866398" title="F[A]">F</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#866383" title="(b: =&gt; F[A], f: A =&gt; scalaz.IterV[A,F[A]])scalaz.IterV[A,F[A]]">peekDoneOr</a><span class="delimiter">(</span><a href="#899304" title="F[A]">z</a>, <a href="#899303" title="(acc: F[A], a: A)scalaz.IterV[A,F[A]]">step</a><span class="delimiter">(</span><a href="#899304" title="F[A]">z</a>, <a href="#899310" title="A">_</a>: <a href="#866397" title="A">A</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(acc: F[A], a: A)scalaz.IterV[A,F[A]]" id="899303">step</a><span class="delimiter">(</span><a title="F[A]" id="899311">acc</a>: <a href="#866398" title="F[A]">F</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="A" id="899312">a</a>: <a href="#866397" title="A">A</a><span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[A,F[A]]">IterV</a><span class="delimiter">[</span>A, F<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span title="scalaz.IterV[A,F[A]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#899294" title="(v1: A)Boolean">pred</a><span class="delimiter">(</span><a href="#899312" title="A">a</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#866388" title="(n: Int)scalaz.IterV[A,Unit]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<a href="#866489" title="(f: Unit =&gt; scalaz.IterV[A,F[A]])scalaz.IterV[A,F[A]]">flatMap</a><span class="delimiter">(</span><a title="Unit" id="899321">_</a> =&gt; <a href="#899302" title="(z: F[A])scalaz.IterV[A,F[A]]">peekStepDoneOr</a><span class="delimiter">(</span><a href="../../core/scalaz/syntax/SemigroupSyntax.scala.html#53429" title="(v: F[A])(implicit F0: scalaz.Semigroup[F[A]])java.lang.Object with scalaz.syntax.SemigroupOps[F[A]]">acc</a> <a href="../../core/scalaz/syntax/SemigroupSyntax.scala.html#97289" title="(other: =&gt; F[A])F[A]">|+|</a> <a href="#899296" title="scalaz.Pointed[F]">pr</a>.<a href="../../core/scalaz/Pointed.scala.html#43393" title="(a: =&gt; A)F[A]">point</a><span class="delimiter">(</span><a href="#899312" title="A">a</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="#866606" title="(a: =&gt; F[A], i: =&gt; scalaz.Input[A])scalaz.IterV[A,F[A]]">Done</a><span class="delimiter">(</span><a href="#899311" title="F[A]">acc</a>, <a href="#866430" title="object scalaz.IterV.EOF">EOF</a>.<a href="#866458" title="scalaz.Input[A]">apply</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#899302" title="(z: F[A])scalaz.IterV[A,F[A]]">peekStepDoneOr</a><span class="delimiter">(</span><a href="../../core/scalaz/syntax/MonoidSyntax.scala.html#53436" title="[F](implicit F: scalaz.Monoid[F])F">mzero</a><a href="#899295" title="(implicit F: scalaz.Monoid[F[A]])F[A]" class="delimiter">[</a><a href="#866398" title="F[A]">F</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Produces chunked output split by the given predicate.
   */</span>
  <span class="keyword">def</span> <a title="[A, F[_]](pred: (A, A) =&gt; Boolean)(implicit mon: scalaz.Monoid[F[A]], implicit pr: scalaz.Pointed[F])scalaz.IterV[A,F[A]]" id="866399">groupBy</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866402">A</a>, <a title="[_]&gt;: Nothing &lt;: Any" id="866403">F</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="900718">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="(A, A) =&gt; Boolean" id="900715">pred</a>: <span class="delimiter">(</span>A, A<span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Monoid[F[A]]" id="900716">mon</a>: <a href="../../core/scalaz/Monoid.scala.html#19169" title="scalaz.Monoid[F[A]]">Monoid</a><span class="delimiter">[</span>F<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="scalaz.Pointed[F]" id="900717">pr</a>: <a href="../../core/scalaz/Pointed.scala.html#9812" title="scalaz.Pointed[F]">Pointed</a><span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[A,F[A]]">IterV</a><span class="delimiter">[</span>A, F<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#36485" title="object scalaz.IterV">IterV</a>.<a href="#866380" title="scalaz.IterV[A,Option[A]]">peek</a> <a href="#866489" title="(f: Option[A] =&gt; scalaz.IterV[A,F[A]])scalaz.IterV[A,F[A]]">flatMap</a> <a href="#900728" title="scalaz.IterV[A,F[A]]" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="scalaz.IterV[A,F[A]]">None</span> =&gt; <a href="#866606" title="(a: =&gt; F[A], i: =&gt; scalaz.Input[A])scalaz.IterV[A,F[A]]">Done</a><span class="delimiter">(</span><a href="../../core/scalaz/syntax/MonoidSyntax.scala.html#53436" title="[F](implicit F: scalaz.Monoid[F])F">mzero</a><a href="#900716" title="(implicit F: scalaz.Monoid[F[A]])F[A]" class="delimiter">[</a><a href="#866403" title="F[A]">F</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a href="#866433" title="[E]=&gt; scalaz.Input[E]">Empty</a><span title="scalaz.Input[A]" class="delimiter">[</span><a href="#866402" title="A">A</a><span class="delimiter">]</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scalaz.IterV[A,F[A]]">Some</span><span class="delimiter">(</span><a title="A" id="901100">h</a><span class="delimiter">)</span> =&gt; <a href="#866394" title="(pred: A =&gt; Boolean)(implicit mon: scalaz.Monoid[F[A]], implicit pr: scalaz.Pointed[F])scalaz.IterV[A,F[A]]">takeWhile</a><a href="#900716" title="scalaz.Monoid[F[A]]" class="delimiter">(</a><a href="#900715" title="(v1: A, v2: A)Boolean">pred</a><span class="delimiter">(</span><a href="#901110" title="A">_</a>, <a href="#901100" title="A">h</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Repeats the given iteratee by appending with the given monoid.
   */</span>
  <span class="keyword">def</span> <a title="[E, A, F[_]](iter: scalaz.IterV[E,A])(implicit mon: scalaz.Monoid[F[A]], implicit pr: scalaz.Pointed[F])scalaz.IterV[E,F[A]]" id="866404">repeat</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866408">E</a>, <a title="&gt;: Nothing &lt;: Any" id="866409">A</a>, <a title="[_]&gt;: Nothing &lt;: Any" id="866410">F</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="901920">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.IterV[E,A]" id="901917">iter</a>: <a href="#36470" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E,A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Monoid[F[A]]" id="901918">mon</a>: <a href="../../core/scalaz/Monoid.scala.html#19169" title="scalaz.Monoid[F[A]]">Monoid</a><span class="delimiter">[</span>F<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="scalaz.Pointed[F]" id="901919">pr</a>: <a href="../../core/scalaz/Pointed.scala.html#9812" title="scalaz.Pointed[F]">Pointed</a><span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[E,F[A]]">IterV</a><span class="delimiter">[</span>E, F<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(acc: F[A])(s: scalaz.Input[E])scalaz.IterV[E,F[A]]" id="901925">step</a><span class="delimiter">(</span><a title="F[A]" id="901926">acc</a>: <a href="#866410" title="F[A]">F</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="scalaz.Input[E]" id="901927">s</a>: <a href="#36468" title="scalaz.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[E,F[A]]">IterV</a><span class="delimiter">[</span>E, F<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> =
      <a href="#866333" title="(empty: =&gt; scalaz.IterV[E,F[A]], el: =&gt; E =&gt; scalaz.IterV[E,F[A]], eof: =&gt; scalaz.IterV[E,F[A]])scalaz.IterV[E,F[A]]">s</a><span class="delimiter">(</span>el = <a title="=&gt; E" id="901942">e</a> =&gt; <a href="#901917" title="scalaz.IterV[E,A]">iter</a>.<a href="#866471" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; scalaz.IterV[E,F[A]], cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; scalaz.IterV[E,F[A]])scalaz.IterV[E,F[A]]">fold</a><span class="delimiter">(</span>
          <span class="delimiter">(</span><a title="=&gt; A" id="901949">a</a>, <a title="=&gt; scalaz.Input[E]" id="901950">_</a><span class="delimiter">)</span> =&gt; <a href="#866631" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,F[A]])scalaz.IterV[E,F[A]]">Cont</a><span class="delimiter">(</span><a href="#901925" title="(acc: F[A])(s: scalaz.Input[E])scalaz.IterV[E,F[A]]">step</a><a href="#902976" title="scalaz.Input[E]" class="delimiter">(</a><a href="../../core/scalaz/syntax/SemigroupSyntax.scala.html#53429" title="(v: F[A])(implicit F0: scalaz.Semigroup[F[A]])java.lang.Object with scalaz.syntax.SemigroupOps[F[A]]">acc</a> <a href="../../core/scalaz/syntax/SemigroupSyntax.scala.html#97289" title="(other: =&gt; F[A])F[A]">|+|</a> <a href="#901919" title="scalaz.Pointed[F]">pr</a>.<a href="../../core/scalaz/Pointed.scala.html#43393" title="(a: =&gt; A)F[A]">point</a><span class="delimiter">(</span><a href="#901949" title="=&gt; A">a</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
          <a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="902979">k</a> =&gt; <a href="#902979" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k</a><span class="delimiter">(</span><a href="#866444" title="(e0: =&gt; E)scalaz.Input[E]">El</a><span class="delimiter">(</span><a href="#901942" title="=&gt; E">e</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#866471" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; scalaz.IterV[E,F[A]], cont: (scalaz.Input[E] =&gt; scalaz.IterV[E,A]) =&gt; scalaz.IterV[E,F[A]])scalaz.IterV[E,F[A]]">fold</a><span class="delimiter">(</span>
            <span class="delimiter">(</span><a title="=&gt; A" id="902990">a</a>, <a title="=&gt; scalaz.Input[E]" id="902991">_</a><span class="delimiter">)</span> =&gt; <a href="#866631" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,F[A]])scalaz.IterV[E,F[A]]">Cont</a><span class="delimiter">(</span><a href="#901925" title="(acc: F[A])(s: scalaz.Input[E])scalaz.IterV[E,F[A]]">step</a><a href="#904017" title="scalaz.Input[E]" class="delimiter">(</a><a href="../../core/scalaz/syntax/SemigroupSyntax.scala.html#53429" title="(v: F[A])(implicit F0: scalaz.Semigroup[F[A]])java.lang.Object with scalaz.syntax.SemigroupOps[F[A]]">acc</a> <a href="../../core/scalaz/syntax/SemigroupSyntax.scala.html#97289" title="(other: =&gt; F[A])F[A]">|+|</a> <a href="#901919" title="scalaz.Pointed[F]">pr</a>.<a href="../../core/scalaz/Pointed.scala.html#43393" title="(a: =&gt; A)F[A]">point</a><span class="delimiter">(</span><a href="#902990" title="=&gt; A">a</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
            <span class="delimiter">(</span><a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="904020">k2</a><span class="delimiter">)</span> =&gt; <a href="#866631" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,F[A]])scalaz.IterV[E,F[A]]">Cont</a><span class="delimiter">(</span><span class="delimiter">(</span>in: <a href="#36468" title="scalaz.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <span class="keyword">for</span> <span class="delimiter">{</span>
                <a title="A" id="904031">h</a> &lt;- <a href="#904020" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k2</a><a href="#866489" title="(f: A =&gt; scalaz.IterV[E,F[A]])scalaz.IterV[E,F[A]]" class="delimiter">(</a><a href="#904025" title="scalaz.Input[E]">in</a><span class="delimiter">)</span>
                <a title="F[A]" id="904056">t</a> &lt;- <a href="#866404" title="(iter: scalaz.IterV[E,A])(implicit mon: scalaz.Monoid[F[A]], implicit pr: scalaz.Pointed[F])scalaz.IterV[E,F[A]]">repeat</a><span class="delimiter">(</span><a href="#901917" title="scalaz.IterV[E,A]">iter</a><span class="delimiter">)</span><a href="#866492" title="(f: F[A] =&gt; F[A])scalaz.IterV[E,F[A]]" class="delimiter">(</a><a href="#901918" title="scalaz.Monoid[F[A]]">mon</a>, <a href="#901919" title="scalaz.Pointed[F]">pr</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="../../core/scalaz/syntax/SemigroupSyntax.scala.html#53429" title="(v: F[A])(implicit F0: scalaz.Semigroup[F[A]])java.lang.Object with scalaz.syntax.SemigroupOps[F[A]]">acc</a> <a href="../../core/scalaz/syntax/SemigroupSyntax.scala.html#53429" title="(v: F[A])(implicit F0: scalaz.Semigroup[F[A]])java.lang.Object with scalaz.syntax.SemigroupOps[F[A]]">|+|</a> <a href="#901919" title="scalaz.Pointed[F]">pr</a>.<a href="../../core/scalaz/Pointed.scala.html#43393" title="(a: =&gt; A)F[A]">point</a><span class="delimiter">(</span><a href="#904031" title="A">h</a><span class="delimiter">)</span> <a href="../../core/scalaz/syntax/SemigroupSyntax.scala.html#97289" title="(other: =&gt; F[A])F[A]">|+|</a> <a href="#904056" title="F[A]">t</a>
            <span class="delimiter">)</span>
          <span class="delimiter">)</span><span class="delimiter">)</span>,
        empty = <a href="#866631" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,F[A]])scalaz.IterV[E,F[A]]">Cont</a><a title="() =&gt; scalaz.IterV[E,F[A]]" id="906112" class="delimiter">(</a><a href="#901925" title="(acc: F[A])(s: scalaz.Input[E])scalaz.IterV[E,F[A]]">step</a><a href="#906117" title="scalaz.Input[E]" class="delimiter">(</a><a href="#901926" title="F[A]">acc</a><span class="delimiter">)</span><span class="delimiter">)</span>,
        eof = <a href="#866606" title="(a: =&gt; F[A], i: =&gt; scalaz.Input[E])scalaz.IterV[E,F[A]]">Done</a><a title="() =&gt; scalaz.IterV[E,F[A]]" id="906113" class="delimiter">(</a><a href="#901926" title="F[A]">acc</a>, <a href="#866430" title="object scalaz.IterV.EOF">EOF</a>.<a href="#866458" title="scalaz.Input[E]">apply</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#866631" title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,F[A]])scalaz.IterV[E,F[A]]">Cont</a><span class="delimiter">(</span><a href="#901925" title="(acc: F[A])(s: scalaz.Input[E])scalaz.IterV[E,F[A]]">step</a><a href="#906490" title="scalaz.Input[E]" class="delimiter">(</a><a href="../../core/scalaz/syntax/MonoidSyntax.scala.html#53436" title="[F](implicit F: scalaz.Monoid[F])F">mzero</a><a href="#901918" title="(implicit F: scalaz.Monoid[F[A]])F[A]" class="delimiter">[</a><a href="#866410" title="F[A]">F</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Iteratee that collects all inputs with the given monoid.
   */</span>
  <span class="keyword">def</span> <a title="[A, F[_]](implicit r: scalaz.Reducer[A,F[A]])scalaz.IterV[A,F[A]]" id="866411">collect</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866414">A</a>, <a title="[_]&gt;: Nothing &lt;: Any" id="866415">F</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="906493">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Reducer[A,F[A]]" id="906492">r</a>: <a href="../../core/scalaz/Reducer.scala.html#19682" title="scalaz.Reducer[A,F[A]]">Reducer</a><span class="delimiter">[</span>A, F<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[A,F[A]]">IterV</a><span class="delimiter">[</span>A, F<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="#906492" title="scalaz.Reducer[A,F[A]]">r</a>._
    <span class="keyword">def</span> <a title="(acc: F[A])(s: scalaz.Input[A])scalaz.IterV[A,F[A]]" id="906497">step</a><span class="delimiter">(</span><a title="F[A]" id="906498">acc</a>: <a href="#866415" title="F[A]">F</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="scalaz.Input[A]" id="906499">s</a>: <a href="#36468" title="scalaz.Input[A]">Input</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[A,F[A]]">IterV</a><span class="delimiter">[</span>A, F<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> =
        <a href="#866333" title="(empty: =&gt; scalaz.IterV[A,F[A]], el: =&gt; A =&gt; scalaz.IterV[A,F[A]], eof: =&gt; scalaz.IterV[A,F[A]])scalaz.IterV[A,F[A]]">s</a><span class="delimiter">(</span>el = <a title="=&gt; A" id="906514">e</a> =&gt; <a href="#866631" title="(f: scalaz.Input[A] =&gt; scalaz.IterV[A,F[A]])scalaz.IterV[A,F[A]]">Cont</a><span class="delimiter">(</span><a href="#906497" title="(acc: F[A])(s: scalaz.Input[A])scalaz.IterV[A,F[A]]">step</a><a href="#906522" title="scalaz.Input[A]" class="delimiter">(</a><a href="../../core/scalaz/Reducer.scala.html#94746" title="(m: F[A], c: A)F[A]">snoc</a><a href="#906520" title="F[A]" class="delimiter">(</a><a href="#906498" title="F[A]">acc</a>, <a href="#906514" title="=&gt; A">e</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
          empty = <a href="#866631" title="(f: scalaz.Input[A] =&gt; scalaz.IterV[A,F[A]])scalaz.IterV[A,F[A]]">Cont</a><a title="() =&gt; scalaz.IterV[A,F[A]]" id="906535" class="delimiter">(</a><a href="#906497" title="(acc: F[A])(s: scalaz.Input[A])scalaz.IterV[A,F[A]]">step</a><a href="#906540" title="scalaz.Input[A]" class="delimiter">(</a><a href="#906498" title="F[A]">acc</a><span class="delimiter">)</span><span class="delimiter">)</span>,
          eof = <a href="#866606" title="(a: =&gt; F[A], i: =&gt; scalaz.Input[A])scalaz.IterV[A,F[A]]">Done</a><a title="() =&gt; scalaz.IterV[A,F[A]]" id="906536" class="delimiter">(</a><a href="#906498" title="F[A]">acc</a>, <a href="#866430" title="object scalaz.IterV.EOF">EOF</a>.<a href="#866458" title="scalaz.Input[A]">apply</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#866631" title="(f: scalaz.Input[A] =&gt; scalaz.IterV[A,F[A]])scalaz.IterV[A,F[A]]">Cont</a><span class="delimiter">(</span><a href="#906497" title="(acc: F[A])(s: scalaz.Input[A])scalaz.IterV[A,F[A]]">step</a><a href="#906913" title="scalaz.Input[A]" class="delimiter">(</a><a href="../../core/scalaz/syntax/MonoidSyntax.scala.html#53436" title="[F](implicit F: scalaz.Monoid[F])F">mzero</a><a href="../../core/scalaz/Reducer.scala.html#94744" title="(implicit F: scalaz.Monoid[F[A]])F[A]" class="delimiter">[</a><a href="#866415" title="F[A]">F</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Iteratee that collects all inputs in reverse with the given reducer.
   *
   * This iteratee is useful for F[_] with efficient cons, i.e. List.
   */</span>
  <span class="keyword">def</span> <a title="[A, F[_]](implicit r: scalaz.Reducer[A,F[A]])scalaz.IterV[A,F[A]]" id="866416">reversed</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866419">A</a>, <a title="[_]&gt;: Nothing &lt;: Any" id="866420">F</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="906916">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Reducer[A,F[A]]" id="906915">r</a>: <a href="../../core/scalaz/Reducer.scala.html#19682" title="scalaz.Reducer[A,F[A]]">Reducer</a><span class="delimiter">[</span>A, F<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[A,F[A]]">IterV</a><span class="delimiter">[</span>A, F<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(acc: F[A])(s: scalaz.Input[A])scalaz.IterV[A,F[A]]" id="906919">step</a><span class="delimiter">(</span><a title="F[A]" id="906920">acc</a>: <a href="#866420" title="F[A]">F</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="scalaz.Input[A]" id="906921">s</a>: <a href="#36468" title="scalaz.Input[A]">Input</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[A,F[A]]">IterV</a><span class="delimiter">[</span>A, F<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> =
        <a href="#866333" title="(empty: =&gt; scalaz.IterV[A,F[A]], el: =&gt; A =&gt; scalaz.IterV[A,F[A]], eof: =&gt; scalaz.IterV[A,F[A]])scalaz.IterV[A,F[A]]">s</a><span class="delimiter">(</span>el = <a title="=&gt; A" id="906936">e</a> =&gt; <a href="#866631" title="(f: scalaz.Input[A] =&gt; scalaz.IterV[A,F[A]])scalaz.IterV[A,F[A]]">Cont</a><span class="delimiter">(</span><a href="#906919" title="(acc: F[A])(s: scalaz.Input[A])scalaz.IterV[A,F[A]]">step</a><a href="#906944" title="scalaz.Input[A]" class="delimiter">(</a><a href="#906915" title="scalaz.Reducer[A,F[A]]">r</a>.<a href="../../core/scalaz/Reducer.scala.html#94747" title="(c: A, m: F[A])F[A]">cons</a><a href="#906942" title="F[A]" class="delimiter">(</a><a href="#906936" title="=&gt; A">e</a>, <a href="#906920" title="F[A]">acc</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
          empty = <a href="#866631" title="(f: scalaz.Input[A] =&gt; scalaz.IterV[A,F[A]])scalaz.IterV[A,F[A]]">Cont</a><a title="() =&gt; scalaz.IterV[A,F[A]]" id="906957" class="delimiter">(</a><a href="#906919" title="(acc: F[A])(s: scalaz.Input[A])scalaz.IterV[A,F[A]]">step</a><a href="#906962" title="scalaz.Input[A]" class="delimiter">(</a><a href="#906920" title="F[A]">acc</a><span class="delimiter">)</span><span class="delimiter">)</span>,
          eof = <a href="#866606" title="(a: =&gt; F[A], i: =&gt; scalaz.Input[A])scalaz.IterV[A,F[A]]">Done</a><a title="() =&gt; scalaz.IterV[A,F[A]]" id="906958" class="delimiter">(</a><a href="#906920" title="F[A]">acc</a>, <a href="#866430" title="object scalaz.IterV.EOF">EOF</a>.<a href="#866458" title="scalaz.Input[A]">apply</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#866631" title="(f: scalaz.Input[A] =&gt; scalaz.IterV[A,F[A]])scalaz.IterV[A,F[A]]">Cont</a><span class="delimiter">(</span><a href="#906919" title="(acc: F[A])(s: scalaz.Input[A])scalaz.IterV[A,F[A]]">step</a><a href="#906971" title="scalaz.Input[A]" class="delimiter">(</a><a href="#906915" title="scalaz.Reducer[A,F[A]]">r</a>.<a href="../../core/scalaz/Reducer.scala.html#94744" title="=&gt; scalaz.Monoid[F[A]]">monoid</a>.<a href="../../core/scalaz/Monoid.scala.html#57122" title="=&gt; F[A]">zero</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Iteratee that sums the inputs with a given reducer.
   */</span>
  <span class="keyword">def</span> <a title="[A, B](implicit r: scalaz.Reducer[A,B])scalaz.IterV[A,B]" id="866421">sum</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866424">A</a>, <a title="&gt;: Nothing &lt;: Any" id="866425">B</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Reducer[A,B]" id="906973">r</a>: <a href="../../core/scalaz/Reducer.scala.html#19682" title="scalaz.Reducer[A,B]">Reducer</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[A,B]">IterV</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(acc: B)(s: scalaz.Input[A])scalaz.IterV[A,B]" id="906976">step</a><span class="delimiter">(</span><a title="B" id="906977">acc</a>: <a href="#866425" title="B">B</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="scalaz.Input[A]" id="906978">s</a>: <a href="#36468" title="scalaz.Input[A]">Input</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#36470" title="scalaz.IterV[A,B]">IterV</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> =
        <a href="#866333" title="(empty: =&gt; scalaz.IterV[A,B], el: =&gt; A =&gt; scalaz.IterV[A,B], eof: =&gt; scalaz.IterV[A,B])scalaz.IterV[A,B]">s</a><span class="delimiter">(</span>el = <a title="=&gt; A" id="906993">e</a> =&gt; <a href="#866631" title="(f: scalaz.Input[A] =&gt; scalaz.IterV[A,B])scalaz.IterV[A,B]">Cont</a><span class="delimiter">(</span><a href="#906976" title="(acc: B)(s: scalaz.Input[A])scalaz.IterV[A,B]">step</a><a href="#907001" title="scalaz.Input[A]" class="delimiter">(</a><a href="#906973" title="scalaz.Reducer[A,B]">r</a>.<a href="../../core/scalaz/Reducer.scala.html#94746" title="(m: B, c: A)B">snoc</a><a href="#906999" title="B" class="delimiter">(</a><a href="#906977" title="B">acc</a>, <a href="#906993" title="=&gt; A">e</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
          empty = <a href="#866631" title="(f: scalaz.Input[A] =&gt; scalaz.IterV[A,B])scalaz.IterV[A,B]">Cont</a><a title="() =&gt; scalaz.IterV[A,B]" id="907014" class="delimiter">(</a><a href="#906976" title="(acc: B)(s: scalaz.Input[A])scalaz.IterV[A,B]">step</a><a href="#907019" title="scalaz.Input[A]" class="delimiter">(</a><a href="#906977" title="B">acc</a><span class="delimiter">)</span><span class="delimiter">)</span>,
          eof = <a href="#866606" title="(a: =&gt; B, i: =&gt; scalaz.Input[A])scalaz.IterV[A,B]">Done</a><a title="() =&gt; scalaz.IterV[A,B]" id="907015" class="delimiter">(</a><a href="#906977" title="B">acc</a>, <a href="#866430" title="object scalaz.IterV.EOF">EOF</a>.<a href="#866458" title="scalaz.Input[A]">apply</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#866631" title="(f: scalaz.Input[A] =&gt; scalaz.IterV[A,B])scalaz.IterV[A,B]">Cont</a><span class="delimiter">(</span><a href="#906976" title="(acc: B)(s: scalaz.Input[A])scalaz.IterV[A,B]">step</a><a href="#907028" title="scalaz.Input[A]" class="delimiter">(</a><a href="#906973" title="scalaz.Reducer[A,B]">r</a>.<a href="../../core/scalaz/Reducer.scala.html#94744" title="=&gt; scalaz.Monoid[B]">monoid</a>.<a href="../../core/scalaz/Monoid.scala.html#57122" title="=&gt; B">zero</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Input that has no values available */</span>
  <span class="keyword">object</span> <a title="object scalaz.IterV.Empty" id="866426">Empty</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[E]=&gt; scalaz.Input[E]" id="866433">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866435">E</a><span class="delimiter">]</span> : <a href="#36468" title="scalaz.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span> = <a href="#907031" title="java.lang.Object with scalaz.Input[E]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Input[E]" id="907031">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="[Z](empty: =&gt; Z, el: =&gt; E =&gt; Z, eof: =&gt; Z)Z" id="907035">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="907037">Z</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; Z" id="907038">empty</a>: =&gt; Z, <a title="=&gt; E =&gt; Z" id="907039">el</a>: <span class="delimiter">(</span>=&gt; E<span class="delimiter">)</span> =&gt; Z, <a title="=&gt; Z" id="907040">eof</a>: =&gt; Z<span class="delimiter">)</span>: <a href="#907037" title="Z">Z</a> = <a href="#907038" title="=&gt; Z">empty</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="[E](r: scalaz.Input[E])Boolean" id="866436">unapply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866438">E</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.Input[E]" id="907065">r</a>: <a href="#36468" title="scalaz.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
        <a href="#907065" title="scalaz.Input[E]">r</a>.<a href="#866333" title="[Z](empty: =&gt; Z, el: =&gt; E =&gt; Z, eof: =&gt; Z)Z">apply</a><span title="(empty: =&gt; Either[scalaz.Input[E],Boolean], el: =&gt; E =&gt; Either[scalaz.Input[E],Boolean], eof: =&gt; Either[scalaz.Input[E],Boolean])Either[scalaz.Input[E],Boolean]" class="delimiter">[</span><span title="Either[scalaz.Input[E],Boolean]">Either</span><span class="delimiter">[</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span>, Boolean<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span>
          empty = <span title="(b: Boolean)Right[Nothing,Boolean]">Right</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>,
          el = <a title="=&gt; E" id="907079">e</a> =&gt; <span title="(a: scalaz.Input[E])Left[scalaz.Input[E],Nothing]">Left</span><span class="delimiter">(</span><a href="#866444" title="(e0: =&gt; E)scalaz.Input[E]">El</a><span class="delimiter">(</span><a href="#907079" title="=&gt; E">e</a><span class="delimiter">)</span><span class="delimiter">)</span>,
          eof = <span title="(a: scalaz.Input[E])Left[scalaz.Input[E],Nothing]">Left</span><span class="delimiter">(</span><a href="#866458" title="[E]=&gt; scalaz.Input[E]">EOF</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#866438" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(fa: scalaz.Input[E] =&gt; Boolean, fb: Boolean =&gt; Boolean)Boolean">fold</span><span class="delimiter">(</span><a title="scalaz.Input[E]" id="907097">x</a> =&gt; <span title="Boolean(false)" class="keyword">false</span>, <a title="Boolean" id="907099">x</a> =&gt; <a href="#907099" title="Boolean">x</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Input that has a value available  */</span>
  <span class="keyword">object</span> <a title="object scalaz.IterV.El" id="866428">El</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[E](e0: =&gt; E)scalaz.Input[E]" id="866444">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866446">E</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; E" id="866450">e0</a>: =&gt; E<span class="delimiter">)</span>: <a href="#36468" title="scalaz.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span> = <a href="#907103" title="java.lang.Object with scalaz.Input[E]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Input[E]" id="907103">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="[Z](empty: =&gt; Z, el: =&gt; E =&gt; Z, eof: =&gt; Z)Z" id="907107">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="907109">Z</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; Z" id="907110">empty</a>: =&gt; Z, <a title="=&gt; E =&gt; Z" id="907111">el</a>: <span class="delimiter">(</span>=&gt; E<span class="delimiter">)</span> =&gt; Z, <a title="=&gt; Z" id="907112">eof</a>: =&gt; Z<span class="delimiter">)</span>: <a href="#907109" title="Z">Z</a> = <a href="#907111" title="(v1: =&gt; E)Z">el</a><span class="delimiter">(</span><a href="#866450" title="=&gt; E">e0</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="[E](r: scalaz.Input[E])Option[E]" id="866447">unapply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866449">E</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.Input[E]" id="866659">r</a>: <a href="#36468" title="scalaz.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[E]">Option</span><span class="delimiter">[</span>E<span class="delimiter">]</span> =
      <a href="#866659" title="scalaz.Input[E]">r</a>.<a href="#866333" title="[Z](empty: =&gt; Z, el: =&gt; E =&gt; Z, eof: =&gt; Z)Z">apply</a><span title="(empty: =&gt; Either[scalaz.Input[E],E], el: =&gt; E =&gt; Either[scalaz.Input[E],E], eof: =&gt; Either[scalaz.Input[E],E])Either[scalaz.Input[E],E]" class="delimiter">[</span><span title="Either[scalaz.Input[E],E]">Either</span><span class="delimiter">[</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span>, <span class="delimiter">(</span>E<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span>
        empty = <span title="(a: scalaz.Input[E])Left[scalaz.Input[E],Nothing]">Left</span><span class="delimiter">(</span><a href="#866433" title="[E]=&gt; scalaz.Input[E]">Empty</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#866449" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span>,
        el = <a title="=&gt; E" id="907149">e</a> =&gt; <span title="(b: E)Right[Nothing,E]">Right</span><span class="delimiter">(</span><a href="#907149" title="=&gt; E">e</a><span class="delimiter">)</span>,
        eof = <span title="(a: scalaz.Input[E])Left[scalaz.Input[E],Nothing]">Left</span><span class="delimiter">(</span><a href="#866458" title="[E]=&gt; scalaz.Input[E]">EOF</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#866449" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Either.RightProjection[scalaz.Input[E],E]">right</span>.<span title="=&gt; Option[E]">toOption</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Input that is exhausted */</span>
  <span class="keyword">object</span> <a title="object scalaz.IterV.EOF" id="866430">EOF</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[E]=&gt; scalaz.Input[E]" id="866458">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866460">E</a><span class="delimiter">]</span> : <a href="#36468" title="scalaz.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span> = <a href="#907159" title="java.lang.Object with scalaz.Input[E]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Input[E]" id="907159">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="[Z](empty: =&gt; Z, el: =&gt; E =&gt; Z, eof: =&gt; Z)Z" id="907163">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="907165">Z</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; Z" id="907166">empty</a>: =&gt; Z, <a title="=&gt; E =&gt; Z" id="907167">el</a>: <span class="delimiter">(</span>=&gt; E<span class="delimiter">)</span> =&gt; Z, <a title="=&gt; Z" id="907168">eof</a>: =&gt; Z<span class="delimiter">)</span>: <a href="#907165" title="Z">Z</a> = <a href="#907168" title="=&gt; Z">eof</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="[E](r: scalaz.Input[E])Boolean" id="866461">unapply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="866463">E</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.Input[E]" id="907193">r</a>: <a href="#36468" title="scalaz.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
      <a href="#907193" title="scalaz.Input[E]">r</a>.<a href="#866333" title="[Z](empty: =&gt; Z, el: =&gt; E =&gt; Z, eof: =&gt; Z)Z">apply</a><span title="(empty: =&gt; Either[scalaz.Input[E],Boolean], el: =&gt; E =&gt; Either[scalaz.Input[E],Boolean], eof: =&gt; Either[scalaz.Input[E],Boolean])Either[scalaz.Input[E],Boolean]" class="delimiter">[</span><span title="Either[scalaz.Input[E],Boolean]">Either</span><span class="delimiter">[</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span>, Boolean<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span>
        empty = <span title="(a: scalaz.Input[E])Left[scalaz.Input[E],Nothing]">Left</span><span class="delimiter">(</span><a href="#866433" title="[E]=&gt; scalaz.Input[E]">Empty</a><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#866463" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span>,
        el = <a title="=&gt; E" id="907207">e</a> =&gt; <span title="(a: scalaz.Input[E])Left[scalaz.Input[E],Nothing]">Left</span><span class="delimiter">(</span><a href="#866444" title="(e0: =&gt; E)scalaz.Input[E]">El</a><span class="delimiter">(</span><a href="#907207" title="=&gt; E">e</a><span class="delimiter">)</span><span class="delimiter">)</span>,
        eof = <span title="(b: Boolean)Right[Nothing,Boolean]">Right</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(fa: scalaz.Input[E] =&gt; Boolean, fb: Boolean =&gt; Boolean)Boolean">fold</span><span class="delimiter">(</span><a title="scalaz.Input[E]" id="907225">x</a> =&gt; <span title="Boolean(false)" class="keyword">false</span>, <a title="Boolean" id="907227">x</a> =&gt; <a href="#907227" title="Boolean">x</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>