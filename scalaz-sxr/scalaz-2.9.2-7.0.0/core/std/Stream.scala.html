<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>core/std/Stream.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scalaz
<span class="keyword">package</span> std

<span class="keyword">import</span> annotation.tailrec

<span class="keyword">trait</span> <a title="trait StreamInstances extends AnyRef" id="25684">StreamInstances</a> <span title="Unit" class="delimiter">{</span>
  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="StreamInstances extends scalaz.Traverse[Stream] with scalaz.MonadPlus[Stream] with scalaz.Each[Stream] with scalaz.Index[Stream] with scalaz.Length[Stream] with scalaz.Zip[Stream] with scalaz.Unzip[Stream] with scalaz.IsEmpty[Stream]" id="45852">streamInstance</a>: <a href="#99962" title="StreamInstances extends scalaz.Traverse[Stream] with scalaz.MonadPlus[Stream] with scalaz.Each[Stream] with scalaz.Index[Stream] with scalaz.Length[Stream] with scalaz.Zip[Stream] with scalaz.Unzip[Stream] with scalaz.IsEmpty[Stream]">Traverse</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> MonadPlus<span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> Each<span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> Index<span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> Length<span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> Zip<span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> Unzip<span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> IsEmpty<span class="delimiter">[</span>Stream<span class="delimiter">]</span> = <a href="#476253" title="scalaz.Traverse[Stream] with scalaz.MonadPlus[Stream] with scalaz.Each[Stream] with scalaz.Index[Stream] with scalaz.Length[Stream] with scalaz.Zip[Stream] with scalaz.Unzip[Stream] with scalaz.IsEmpty[Stream]" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with scalaz.Traverse[Stream] with scalaz.MonadPlus[Stream] with scalaz.Each[Stream] with scalaz.Index[Stream] with scalaz.Length[Stream] with scalaz.Zip[Stream] with scalaz.Unzip[Stream] with scalaz.IsEmpty[Stream]" id="476253">Traverse</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../MonadPlus.scala.html#21869" title="scalaz.MonadPlus[Stream]">MonadPlus</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../Each.scala.html#8876" title="scalaz.Each[Stream]">Each</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../Index.scala.html#16436" title="scalaz.Index[Stream]">Index</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../Length.scala.html#8522" title="scalaz.Length[Stream]">Length</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../Zip.scala.html#15899" title="scalaz.Zip[Stream]">Zip</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../Unzip.scala.html#12389" title="scalaz.Unzip[Stream]">Unzip</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../IsEmpty.scala.html#21929" title="scalaz.IsEmpty[Stream]">IsEmpty</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[G[_], A, B](fa: Stream[A])(f: A =&gt; G[B])(implicit G: scalaz.Applicative[G])G[Stream[B]]" id="476255">traverseImpl</a><span class="delimiter">[</span><a title="[_]" id="476259">G</a><span class="delimiter">[</span><a title="" id="476435">_</a><span class="delimiter">]</span>, <a title="" id="476260">A</a>, <a title="" id="476261">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="476432">fa</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; G[B]" id="476433">f</a>: A =&gt; G<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Applicative[G]" id="476434">G</a>: <a href="../Applicative.scala.html#15416" title="scalaz.Applicative[G]">Applicative</a><span class="delimiter">[</span>G<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#476259" title="G[Stream[B]]">G</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="G[Stream[B]]" id="476993">seed</a>: <a href="#476259" title="G[Stream[B]]">G</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#476434" title="scalaz.Applicative[G]">G</a>.<a href="../Applicative.scala.html#34510" title="(a: =&gt; scala.collection.immutable.Stream[B])G[scala.collection.immutable.Stream[B]]">point</a><span class="delimiter">(</span><span title="[A](xs: A*)scala.collection.immutable.Stream[A]">Stream</span><span title="(xs: B*)scala.collection.immutable.Stream[B]" class="delimiter">[</span><a href="#476261" title="B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#476276" title="(fa: Stream[A], z: =&gt; G[Stream[B]])(f: (A, =&gt; G[Stream[B]]) =&gt; G[Stream[B]])G[Stream[B]]">foldRight</a><span class="delimiter">(</span><a href="#476432" title="Stream[A]">fa</a>, <a href="#476993" title="G[Stream[B]]">seed</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="delimiter">(</span><a title="A" id="477041">x</a>, <a title="=&gt; G[Stream[B]]" id="477042">ys</a><span class="delimiter">)</span> =&gt; <a href="#476434" title="scalaz.Applicative[G]">G</a>.<a href="../Applicative.scala.html#34521" title="(fa: =&gt; G[B], fb: =&gt; G[Stream[B]])(f: (B, Stream[B]) =&gt; scala.collection.immutable.Stream[B])G[scala.collection.immutable.Stream[B]]">apply2</a><span class="delimiter">(</span><a href="#476433" title="(v1: A)G[B]">f</a><span class="delimiter">(</span><a href="#477041" title="A">x</a><span class="delimiter">)</span>, <a href="#477042" title="=&gt; G[Stream[B]]">ys</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="B" id="477063">b</a>, <a title="Stream[B]" id="477064">bs</a><span class="delimiter">)</span> =&gt; <a href="#477063" title="B">b</a> <a href="#477065" title="(hd: B)scala.collection.immutable.Stream[B]">#::</a> <a href="#477064" title="(stream: =&gt; scala.collection.immutable.Stream[B])scala.collection.immutable.Stream.ConsWrapper[B]">bs</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="[A](fa: Stream[A])(f: A =&gt; Unit)Unit" id="476262">each</a><span class="delimiter">[</span><a title="" id="476264">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="476450">fa</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; Unit" id="476451">f</a>: A =&gt; Unit<span class="delimiter">)</span> = <a href="#476450" title="Stream[A]">fa</a> <span title="(f: A =&gt; Unit)Unit">foreach</span> <a href="#476451" title="A =&gt; Unit">f</a>
    <span class="keyword">def</span> <a title="[A](fa: Stream[A])Int" id="476265">length</a><span class="delimiter">[</span><a title="" id="476267">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="476491">fa</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#476491" title="Stream[A]">fa</a>.<span title="=&gt; Int">length</span>
    <span class="keyword">def</span> <a title="[A](fa: Stream[A], i: Int)Option[A]" id="476268">index</a><span class="delimiter">[</span><a title="" id="476270">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="476503">fa</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Int" id="476504">i</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="476521">n</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Option[A]" id="476522">k</a>: <span title="Option[A]">Option</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span title="None.type">None</span>
      <span class="keyword">val</span> <a title="Iterator[A]" id="476523">it</a> = <a href="#476503" title="Stream[A]">fa</a>.<span title="=&gt; Iterator[A]">iterator</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#476523" title="Iterator[A]">it</a>.<span title="=&gt; Boolean">hasNext</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#476522" title="Option[A]">k</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#476524" title="()Unit" class="delimiter">{</a>
        <span class="keyword">val</span> <a title="A" id="476525">z</a> = <a href="#476523" title="Iterator[A]">it</a>.<span title="()A">next</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#476521" title="Int">n</a> <span title="(x: Int)Boolean">==</span> <a href="#476504" title="Int">i</a><span class="delimiter">)</span> <a href="#476522" title="Option[A]">k</a> = <span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#476525" title="A">z</a><span class="delimiter">)</span>
        <a href="#476521" title="Int">n</a> = <a href="#476521" title="Int">n</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>

      <a href="#476522" title="Option[A]">k</a>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="[A, B](fa: Stream[A], z: B)(f: (B, A) =&gt; B)B" id="476271">foldLeft</a><span class="delimiter">[</span><a title="" id="476274">A</a>, <a title="" id="476275">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="476582">fa</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="B" id="476583">z</a>: <a href="#476275" title="B">B</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="(B, A) =&gt; B" id="476584">f</a>: <span class="delimiter">(</span>B, A<span class="delimiter">)</span> =&gt; B<span class="delimiter">)</span>: <a href="#476275" title="B">B</a> = <a href="#476582" title="Stream[A]">fa</a>.<span title="(z: B)(op: (B, A) =&gt; B)B">foldLeft</span><span class="delimiter">(</span><a href="#476583" title="B">z</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#476584" title="(B, A) =&gt; B">f</a><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="[A, B](fa: Stream[A], z: =&gt; B)(f: (A, =&gt; B) =&gt; B)B" id="476276">foldRight</a><span class="delimiter">[</span><a title="" id="476279">A</a>, <a title="" id="476280">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="476607">fa</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="=&gt; B" id="476608">z</a>: =&gt; B<span class="delimiter">)</span><span class="delimiter">(</span><a title="(A, =&gt; B) =&gt; B" id="476609">f</a>: <span class="delimiter">(</span>A, =&gt; B<span class="delimiter">)</span> =&gt; B<span class="delimiter">)</span>: <a href="#476280" title="B">B</a> = <span title="B" class="keyword">if</span> <span class="delimiter">(</span><a href="#476607" title="Stream[A]">fa</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
      <a href="#476608" title="=&gt; B">z</a>
    <span class="keyword">else</span>
      <a href="#476609" title="(v1: A, v2: =&gt; B)B">f</a><span class="delimiter">(</span><a href="#476607" title="Stream[A]">fa</a>.<span title="=&gt; A">head</span>, <a href="#476276" title="(fa: Stream[A], z: =&gt; B)(f: (A, =&gt; B) =&gt; B)B">foldRight</a><span class="delimiter">(</span><a href="#476607" title="Stream[A]">fa</a>.<span title="=&gt; scala.collection.immutable.Stream[A]">tail</span>, <a href="#476608" title="=&gt; B">z</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#476609" title="(A, =&gt; B) =&gt; B">f</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="[A, B](fa: Stream[A])(f: A =&gt; Stream[B])Stream[B]" id="476281">bind</a><span class="delimiter">[</span><a title="" id="476284">A</a>, <a title="" id="476285">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="476632">fa</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; Stream[B]" id="476633">f</a>: A =&gt; Stream<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#476632" title="Stream[A]">fa</a> <span title="(f: A =&gt; scala.collection.GenTraversableOnce[B])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[A],B,Stream[B]])Stream[B]">flatMap</span> <a href="#476633" title="A =&gt; Stream[B]">f</a>
    <span class="keyword">def</span> <a title="[A]=&gt; Stream[A]" id="476286">empty</a><span class="delimiter">[</span><a title="" id="476288">A</a><span class="delimiter">]</span>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = scala.<span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="scala.collection.immutable.Stream[Nothing]">empty</span>
    <span class="keyword">def</span> <a title="[A](a: Stream[A], b: =&gt; Stream[A])scala.collection.immutable.Stream[A]" id="476289">plus</a><span class="delimiter">[</span><a title="" id="476291">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="476723">a</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="=&gt; Stream[A]" id="476724">b</a>: =&gt; Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#476723" title="Stream[A]">a</a> <a href="#476741" title="(prefix: scala.collection.immutable.Stream[A])scala.collection.immutable.Stream[A]">#:::</a> <a href="#476724" title="(stream: =&gt; scala.collection.immutable.Stream[A])scala.collection.immutable.Stream.ConsWrapper[A]">b</a>
    <span class="keyword">def</span> <a title="[A](s: Stream[A])Boolean" id="476292">isEmpty</a><span class="delimiter">[</span><a title="" id="476294">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="476787">s</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#476787" title="Stream[A]">s</a>.<span title="=&gt; Boolean">isEmpty</span>
    <span class="keyword">def</span> <a title="[A](a: =&gt; A)scala.collection.immutable.Stream[A]" id="476295">point</a><span class="delimiter">[</span><a title="" id="476297">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="476799">a</a>: =&gt; A<span class="delimiter">)</span> = scala.<span title="(xs: A*)scala.collection.immutable.Stream[A]">Stream</span><span class="delimiter">(</span><a href="#476799" title="=&gt; A">a</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="[A, B](a: =&gt; Stream[A], b: =&gt; Stream[B])Stream[(A, B)]" id="476298">zip</a><span class="delimiter">[</span><a title="" id="476301">A</a>, <a title="" id="476302">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; Stream[A]" id="476817">a</a>: =&gt; Stream<span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="=&gt; Stream[B]" id="476818">b</a>: =&gt; Stream<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#476817" title="=&gt; Stream[A]">a</a> <span title="(that: scala.collection.GenIterable[B])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[A],(A, B),Stream[(A, B)]])Stream[(A, B)]">zip</span> <a href="#476818" title="=&gt; Stream[B]">b</a>
    <span class="keyword">def</span> <a title="[A, B](a: Stream[(A, B)])(scala.collection.immutable.Stream[A], scala.collection.immutable.Stream[B])" id="476303">unzip</a><span class="delimiter">[</span><a title="" id="476306">A</a>, <a title="" id="476307">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[(A, B)]" id="476944">a</a>: <span title="Stream[(A, B)]">Stream</span><span class="delimiter">[</span><span class="delimiter">(</span>A, B<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#476944" title="Stream[(A, B)]">a</a>.<span title="(implicit asPair: ((A, B)) =&gt; (A, B))(scala.collection.immutable.Stream[A], scala.collection.immutable.Stream[B])">unzip</span>
  <span class="delimiter">}</span>

  <span class="keyword">import</span> <a href="../Tags.scala.html#15321" title="scalaz.Tags.type">Tags</a>.Zip

  /**
   * An alternative [[scalaz.Applicative]] instance for `Stream`, discriminated by the type tag [[scalaz.Tags.Zip]],
   * that zips streams together.
   *
   * Example:
   * {{{
   * streamZipApplicative(Stream(1, 2), Stream(3, 4))(_ * _) // Stream(3, 8)
   * }}}
   */
  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scalaz.Applicative[[α]scala.collection.immutable.Stream[α] with Object{type Tag = scalaz.Tags.Zip}]" id="45855">streamZipApplicative</a>: <a href="../Applicative.scala.html#15416" title="scalaz.Applicative[[α]scala.collection.immutable.Stream[α] with Object{type Tag = scalaz.Tags.Zip}]">Applicative</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> λ<span class="delimiter">[</span>α<span class="delimiter">]</span>=Stream<span class="delimiter">[</span>α<span class="delimiter">]</span> @@ Zip<span class="delimiter">}</span><span class="delimiter">)</span>#λ<span class="delimiter">]</span> = <a href="#477471" title="scalaz.Applicative[[α]scala.collection.immutable.Stream[α] with Object{type Tag = scalaz.Tags.Zip}]" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with scalaz.Applicative[[α]scala.collection.immutable.Stream[α] with Object{type Tag = scalaz.Tags.Zip}]" id="477471">Applicative</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> λ<span class="delimiter">[</span>α<span class="delimiter">]</span>=Stream<span class="delimiter">[</span>α<span class="delimiter">]</span> @@ Zip<span class="delimiter">}</span><span class="delimiter">)</span>#λ<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[A](a: =&gt; A)scalaz.@@[scala.collection.immutable.Stream[A],scalaz.Tags.Zip]" id="477485">point</a><span class="delimiter">[</span><a title="" id="477487">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="477541">a</a>: =&gt; A<span class="delimiter">)</span> = <a href="../Tags.scala.html#51509" title="(a: scala.collection.immutable.Stream[A])scalaz.@@[scala.collection.immutable.Stream[A],scalaz.Tags.Zip]">Zip</a><span class="delimiter">(</span><span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="(elem: =&gt; A)scala.collection.immutable.Stream[A]">continually</span><span class="delimiter">(</span><a href="#477541" title="=&gt; A">a</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="[A, B](fa: =&gt; scalaz.@@[Stream[A],scalaz.Tags.Zip])(f: =&gt; scalaz.@@[Stream[A =&gt; B],scalaz.Tags.Zip])scalaz.@@[scala.collection.immutable.Stream[B],scalaz.Tags.Zip]" id="477488">ap</a><span class="delimiter">[</span><a title="" id="477491">A</a>, <a title="" id="477492">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; scalaz.@@[Stream[A],scalaz.Tags.Zip]" id="477602">fa</a>: =&gt; <span class="delimiter">(</span>Stream<span class="delimiter">[</span>A<span class="delimiter">]</span> @@ Zip<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; scalaz.@@[Stream[A =&gt; B],scalaz.Tags.Zip]" id="477603">f</a>: =&gt; <span class="delimiter">(</span>Stream<span class="delimiter">[</span>A =&gt; B<span class="delimiter">]</span> @@ Zip<span class="delimiter">)</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="../Tags.scala.html#51509" title="(a: scala.collection.immutable.Stream[B])scalaz.@@[scala.collection.immutable.Stream[B],scalaz.Tags.Zip]">Zip</a><span class="delimiter">(</span><span title="scala.collection.immutable.Stream[B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#477603" title="=&gt; scalaz.@@[Stream[A =&gt; B],scalaz.Tags.Zip]">f</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="#477602" title="=&gt; scalaz.@@[Stream[A],scalaz.Tags.Zip]">fa</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="[A]=&gt; scala.collection.immutable.Stream[A]">empty</span><span title="scala.collection.immutable.Stream[B]" class="delimiter">[</span><a href="#477492" title="B">B</a><span class="delimiter">]</span>
      <span class="keyword">else</span> <span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="(hd: B, tl: =&gt; scala.collection.immutable.Stream[B])Stream.Cons[B]">cons</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#477603" title="=&gt; scalaz.@@[Stream[A =&gt; B],scalaz.Tags.Zip]">f</a>.<span title="(v1: A)B">head</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#477602" title="=&gt; scalaz.@@[Stream[A],scalaz.Tags.Zip]">fa</a>.<span title="=&gt; A">head</span><span class="delimiter">)</span>, <a href="#477488" title="(fa: =&gt; scalaz.@@[Stream[A],scalaz.Tags.Zip])(f: =&gt; scalaz.@@[Stream[A =&gt; B],scalaz.Tags.Zip])scala.collection.immutable.Stream[B] with Object{type Tag = scalaz.Tags.Zip}">ap</a><span class="delimiter">(</span><a href="../Tags.scala.html#51509" title="(a: scala.collection.immutable.Stream[A])scalaz.@@[scala.collection.immutable.Stream[A],scalaz.Tags.Zip]">Zip</a><span class="delimiter">(</span><a href="#477602" title="=&gt; scalaz.@@[Stream[A],scalaz.Tags.Zip]">fa</a>.<span title="=&gt; scala.collection.immutable.Stream[A]">tail</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Tags.scala.html#51509" title="(a: scala.collection.immutable.Stream[A =&gt; B])scalaz.@@[scala.collection.immutable.Stream[A =&gt; B],scalaz.Tags.Zip]">Zip</a><span class="delimiter">(</span><a href="#477603" title="=&gt; scalaz.@@[Stream[A =&gt; B],scalaz.Tags.Zip]">f</a>.<span title="=&gt; scala.collection.immutable.Stream[A =&gt; B]">tail</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[A]=&gt; scalaz.Monoid[Stream[A]]" id="45857">streamMonoid</a><span class="delimiter">[</span><a title="" id="45859">A</a><span class="delimiter">]</span> = <a href="#99978" title="scalaz.Monoid[Stream[A]]" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with scalaz.Monoid[Stream[A]]" id="99978">Monoid</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(f1: Stream[A], f2: =&gt; Stream[A])scala.collection.immutable.Stream[A]" id="99980">append</a><span class="delimiter">(</span><a title="Stream[A]" id="99982">f1</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="=&gt; Stream[A]" id="99983">f2</a>: =&gt; Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#99982" title="Stream[A]">f1</a> <a href="#99988" title="(prefix: scala.collection.immutable.Stream[A])scala.collection.immutable.Stream[A]">#:::</a> <a href="#99983" title="(stream: =&gt; scala.collection.immutable.Stream[A])scala.collection.immutable.Stream.ConsWrapper[A]">f2</a>
    <span class="keyword">def</span> <a title="=&gt; Stream[A]" id="99981">zero</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = scala.<span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="scala.collection.immutable.Stream[Nothing]">empty</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[A](implicit A0: scalaz.Equal[A])scalaz.Equal[Stream[A]]" id="45860">streamEqual</a><span class="delimiter">[</span><a title="" id="45862">A</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Equal[A]" id="100108">A0</a>: <a href="../Equal.scala.html#19253" title="scalaz.Equal[A]">Equal</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#100109" title="scalaz.Equal[Stream[A]]" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with scalaz.Equal[Stream[A]]" id="100109">Equal</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(a1: Stream[A], a2: Stream[A])Boolean" id="100111">equal</a><span class="delimiter">(</span><a title="Stream[A]" id="100112">a1</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Stream[A]" id="100113">a2</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#100112" title="Stream[A]">a1</a> <span title="(that: scala.collection.GenSeq[A])(p: (A, A) =&gt; Boolean)Boolean">corresponds</span> <a href="#100113" title="Stream[A]">a2</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#100108" title="scalaz.Equal[A]">A0</a>.<a href="../Equal.scala.html#50753" title="(a1: A, a2: A)Boolean">equal</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[A](implicit A0: scalaz.Show[A])scalaz.Show[Stream[A]]" id="45863">streamShow</a><span class="delimiter">[</span><a title="" id="45865">A</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Show[A]" id="99584">A0</a>: <a href="../Show.scala.html#9644" title="scalaz.Show[A]">Show</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#99585" title="scalaz.Show[Stream[A]]" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with scalaz.Show[Stream[A]]" id="99585">Show</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(as: Stream[A])scalaz.Cord" id="99587">show</a><span class="delimiter">(</span><a title="Stream[A]" id="99588">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="String(&quot;Stream(&quot;)" class="string">&quot;Stream(&quot;</span> <a href="../Cord.scala.html#99925" title="(x: =&gt; String)scalaz.Cord">+:</a> <a href="#25283" title="scalaz.std.stream.type">stream</a>.<a href="#46891" title="(as: Stream[scalaz.Cord], a: scalaz.Cord)Stream[scalaz.Cord]">intersperse</a><span class="delimiter">(</span><a href="#99588" title="Stream[A]">as</a>.<span title="(f: A =&gt; scalaz.Cord)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[A],scalaz.Cord,scala.collection.immutable.Stream[scalaz.Cord]])scala.collection.immutable.Stream[scalaz.Cord]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream.Coll,scalaz.Cord,scala.collection.immutable.Stream[scalaz.Cord]]" class="delimiter">(</span><a href="#99584" title="scalaz.Show[A]">A0</a>.<a href="../Show.scala.html#68438" title="(f: A)scalaz.Cord">show</a><span class="delimiter">)</span>, <a href="../Cord.scala.html#100186" title="(as: scalaz.Cord*)scalaz.Cord">Cord</a><span class="delimiter">(</span><a href="../Cord.scala.html#100183" title="implicit scalaz.Cord.stringToCord : (s: String)scalaz.Cord" class="string">&quot;,&quot;</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(z: scalaz.Cord)(op: (scalaz.Cord, scalaz.Cord) =&gt; scalaz.Cord)scalaz.Cord">foldLeft</span><span class="delimiter">(</span><a href="../Cord.scala.html#100186" title="(as: scalaz.Cord*)scalaz.Cord">Cord</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#103457" title="scalaz.Cord">_</a> <a href="../Cord.scala.html#99923" title="(xs: scalaz.Cord)scalaz.Cord">++</a> <a href="#103458" title="scalaz.Cord">_</a><span class="delimiter">)</span> <a href="../Cord.scala.html#99924" title="(x: =&gt; String)scalaz.Cord">:+</a> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
  <span class="delimiter">}</span>


  // TODO order, ...
<span class="delimiter">}</span>

<span title="AnyRef" class="keyword">trait</span> <a title="trait StreamFunctions extends AnyRef" id="24967">StreamFunctions</a> <span title="Unit" class="delimiter">{</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](s1: Stream[A], s2: Stream[A])Stream[A]" id="46856">merge</a><span class="delimiter">[</span><a title="" id="46858">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="477982">s1</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Stream[A]" id="477983">s2</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="Stream[A]" class="keyword">if</span> <span class="delimiter">(</span><a href="#477982" title="Stream[A]">s1</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#477983" title="Stream[A]">s2</a>
    <span class="keyword">else</span> <a href="#477982" title="Stream[A]">s1</a>.<span title="=&gt; A">head</span> <a href="#477986" title="(hd: A)scala.collection.immutable.Stream[A]">#::</a> <a href="#46856" title="(s1: Stream[A], s2: Stream[A])Stream[A]">merge</a><span title="(stream: =&gt; scala.collection.immutable.Stream[A])scala.collection.immutable.Stream.ConsWrapper[A]" class="delimiter">(</span><a href="#477983" title="Stream[A]">s2</a>, <a href="#477982" title="Stream[A]">s1</a>.<span title="=&gt; scala.collection.immutable.Stream[A]">tail</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">import</span> scala.<span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span class="delimiter">{</span>Empty, empty<span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](as: Stream[A])Option[scalaz.Zipper[A]]" id="46860">toZipper</a><span class="delimiter">[</span><a title="" id="46862">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="457985">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[scalaz.Zipper[A]]">Option</span><span class="delimiter">[</span>Zipper<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#457985" title="Stream[A]">as</a> <span class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="#1683157" title="Option[scalaz.Zipper[A]]">Empty</a>   =&gt; <a href="#1683162" title="(x: Option[scalaz.Zipper[A]])Option[scalaz.Zipper[A]]">None</a>
    <span class="keyword">case</span> <a title="A" id="478053">h</a> <a href="#1683157" title="(xs: scala.collection.immutable.Stream[A])Option[(A, scala.collection.immutable.Stream[A])]">#::</a> <a title="scala.collection.immutable.Stream[A]" id="478054">t</a> =&gt; <span title="(x: scalaz.Zipper[A])Some[scalaz.Zipper[A]]">Some</span><a href="#1683162" title="(x: Option[scalaz.Zipper[A]])Option[scalaz.Zipper[A]]" class="delimiter">(</a><a href="../Zipper.scala.html#13770" title="scalaz.Zipper.type">Zipper</a>.<a href="../Zipper.scala.html#398995" title="(ls: Stream[A], a: A, rs: Stream[A])scalaz.Zipper[A]">zipper</a><span class="delimiter">(</span><span title="scala.collection.immutable.Stream[Nothing]">empty</span>, <a href="#478053" title="A">h</a>, <a href="#478054" title="scala.collection.immutable.Stream[A]">t</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](as: Stream[A])Option[scalaz.Zipper[A]]" id="46863">zipperEnd</a><span class="delimiter">[</span><a title="" id="46865">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="458049">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[scalaz.Zipper[A]]">Option</span><span class="delimiter">[</span>Zipper<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#458049" title="Stream[A]">as</a> <span class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="#1683173" title="Option[scalaz.Zipper[A]]">Empty</a> =&gt; <a href="#1683177" title="(x: Option[scalaz.Zipper[A]])Option[scalaz.Zipper[A]]">None</a>
    <span class="keyword">case</span> _     =&gt;
      <span class="keyword">val</span> <a title="scala.collection.immutable.Stream[A]" id="478079">x</a> = <a href="#458049" title="Stream[A]">as</a>.<span title="=&gt; scala.collection.immutable.Stream[A]">reverse</span>
      <span title="(x: scalaz.Zipper[A])Some[scalaz.Zipper[A]]">Some</span><span class="delimiter">(</span><a href="../Zipper.scala.html#13770" title="scalaz.Zipper.type">Zipper</a>.<a href="../Zipper.scala.html#398995" title="(ls: Stream[A], a: A, rs: Stream[A])scalaz.Zipper[A]">zipper</a><span class="delimiter">(</span><a href="#478079" title="scala.collection.immutable.Stream[A]">x</a>.<span title="=&gt; scala.collection.immutable.Stream[A]">tail</span>, <a href="#478079" title="scala.collection.immutable.Stream[A]">x</a>.<span title="=&gt; A">head</span>, <span title="scala.collection.immutable.Stream[Nothing]">empty</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** `[as take 1, as take 2, ..., as]` */
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](as: Stream[A])Stream[Stream[A]]" id="46866">heads</a><span class="delimiter">[</span><a title="" id="46868">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="478113">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Stream[Stream[A]]">Stream</span><span class="delimiter">[</span>Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#478113" title="Stream[A]">as</a> <span class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="A" id="478134">h</a> <a href="#1683185" title="(xs: scala.collection.immutable.Stream[A])Option[(A, scala.collection.immutable.Stream[A])]">#::</a> <a title="scala.collection.immutable.Stream[A]" id="478135">t</a> =&gt; scala.<span title="(xs: A*)scala.collection.immutable.Stream[A]">Stream</span><span class="delimiter">(</span><a href="#478134" title="A">h</a><span class="delimiter">)</span> <a href="#1683188" title="(x: Stream[Stream[A]])Stream[Stream[A]]">#::</a> <a href="#46866" title="(as: Stream[A])Stream[Stream[A]]">heads</a><span class="delimiter">(</span><a href="#478135" title="scala.collection.immutable.Stream[A]">t</a><span class="delimiter">)</span>.<span title="(f: Stream[A] =&gt; scala.collection.immutable.Stream[A])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[Stream[A]],scala.collection.immutable.Stream[A],scala.collection.immutable.Stream[scala.collection.immutable.Stream[A]]])scala.collection.immutable.Stream[scala.collection.immutable.Stream[A]]">map</span><span title="(stream: =&gt; scala.collection.immutable.Stream[scala.collection.immutable.Stream[A]])scala.collection.immutable.Stream.ConsWrapper[scala.collection.immutable.Stream[A]]" class="delimiter">(</span><a href="#478134" title="A">h</a> <a href="#478186" title="(hd: A)scala.collection.immutable.Stream[A]">#::</a> <a href="#478185" title="(stream: =&gt; scala.collection.immutable.Stream[A])scala.collection.immutable.Stream.ConsWrapper[A]">_</a><span class="delimiter">)</span>
    <span class="keyword">case</span> _       =&gt; <a href="#1683188" title="(x: Stream[Stream[A]])Stream[Stream[A]]">empty</a>
  <span class="delimiter">}</span>

  /** `[as, as.tail, as.tail.tail, ..., Stream(as.last)]` */
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](as: Stream[A])Stream[Stream[A]]" id="46869">tails</a><span class="delimiter">[</span><a title="" id="46871">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="478273">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Stream[Stream[A]]">Stream</span><span class="delimiter">[</span>Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#478273" title="Stream[A]">as</a> <span class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> h <a href="#1683196" title="(xs: scala.collection.immutable.Stream[A])Option[(A, scala.collection.immutable.Stream[A])]">#::</a> <a title="scala.collection.immutable.Stream[A]" id="478295">t</a> =&gt; <a href="#478273" title="Stream[A]">as</a> <a href="#1683199" title="(x: Stream[Stream[A]])Stream[Stream[A]]">#::</a> <a href="#46869" title="(as: Stream[A])Stream[Stream[A]]">tails</a><span title="(stream: =&gt; scala.collection.immutable.Stream[Stream[A]])scala.collection.immutable.Stream.ConsWrapper[Stream[A]]" class="delimiter">(</span><a href="#478295" title="scala.collection.immutable.Stream[A]">t</a><span class="delimiter">)</span>
    <span class="keyword">case</span> _       =&gt; <a href="#1683199" title="(x: Stream[Stream[A]])Stream[Stream[A]]">empty</a>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A, B, C](a: Stream[A])(f: Stream[A =&gt; (B =&gt; C)])Stream[B =&gt; C]" id="46872">zapp</a><span class="delimiter">[</span><a title="" id="46876">A</a>, <a title="" id="46877">B</a>, <a title="" id="46878">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="478345">a</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="Stream[A =&gt; (B =&gt; C)]" id="478346">f</a>: <span title="Stream[A =&gt; (B =&gt; C)]">Stream</span><span class="delimiter">[</span>A =&gt; B =&gt; C<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Stream[B =&gt; C]">Stream</span><span class="delimiter">[</span>B =&gt; C<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Stream[A =&gt; (B =&gt; C)]" id="478349">ff</a> = <a href="#478346" title="Stream[A =&gt; (B =&gt; C)]">f</a>
    <span class="keyword">val</span> <a title="Stream[A]" id="478350">aa</a> = <a href="#478345" title="Stream[A]">a</a>
    <span title="Stream[B =&gt; C]" class="keyword">if</span> <span class="delimiter">(</span><a href="#478349" title="Stream[A =&gt; (B =&gt; C)]">ff</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="#478350" title="Stream[A]">aa</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="scala.collection.immutable.Stream[Nothing]">empty</span>
    <span class="keyword">else</span> scala.<span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="(hd: B =&gt; C, tl: =&gt; scala.collection.immutable.Stream[B =&gt; C])Stream.Cons[B =&gt; C]">cons</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#478349" title="Stream[A =&gt; (B =&gt; C)]">ff</a>.<span title="(v1: A)B =&gt; C">head</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#478350" title="Stream[A]">aa</a>.<span title="=&gt; A">head</span><span class="delimiter">)</span>, <a href="#46872" title="(a: Stream[A])(f: Stream[A =&gt; (B =&gt; C)])Stream[B =&gt; C]">zapp</a><span class="delimiter">(</span><a href="#478350" title="Stream[A]">aa</a>.<span title="=&gt; scala.collection.immutable.Stream[A]">tail</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#478349" title="Stream[A =&gt; (B =&gt; C)]">ff</a>.<span title="=&gt; scala.collection.immutable.Stream[A =&gt; (B =&gt; C)]">tail</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A, B](as: Stream[A])(f: A =&gt; (B, () =&gt; Stream[A]))Stream[scalaz.Tree[B]]" id="46879">unfoldForest</a><span class="delimiter">[</span><a title="" id="46882">A</a>, <a title="" id="46883">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="478404">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; (B, () =&gt; Stream[A])" id="478405">f</a>: A =&gt; <span class="delimiter">(</span>B, <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>: <span title="Stream[scalaz.Tree[B]]">Stream</span><span class="delimiter">[</span>Tree<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span> =
    <a href="#478404" title="Stream[A]">as</a>.<span title="(f: A =&gt; scalaz.Tree[B])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[A],scalaz.Tree[B],Stream[scalaz.Tree[B]]])Stream[scalaz.Tree[B]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream.Coll,scalaz.Tree[B],scala.collection.immutable.Stream[scalaz.Tree[B]]]" class="delimiter">(</span><a title="A" id="478428">a</a> =&gt; <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(x: A)scalaz.Tree[B]" id="478429">unfoldTree</a><span class="delimiter">(</span><a title="A" id="478430">x</a>: <a href="#46882" title="A">A</a><span class="delimiter">)</span>: <a href="../Tree.scala.html#9209" title="scalaz.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span> =
        <a href="#478405" title="(v1: A)(B, () =&gt; Stream[A])">f</a><a href="#1683206" title="scalaz.Tree[B]" class="delimiter">(</a><a href="#478430" title="A">x</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span class="delimiter">(</span><a href="#1683206" title="B" id="478436">b</a>, <a href="#1683206" title="() =&gt; Stream[A]" id="478437">bs</a><span class="delimiter">)</span> =&gt; <a href="../Tree.scala.html#9210" title="scalaz.Tree.type">Tree</a>.<a href="../Tree.scala.html#304243" title="(root: =&gt; B, forest: =&gt; Stream[scalaz.Tree[B]])scalaz.Tree[B]">node</a><a href="#1683208" title="(x: scalaz.Tree[B])scalaz.Tree[B]" class="delimiter">(</a><a href="#478436" title="B">b</a>, <a href="#46879" title="(as: Stream[A])(f: A =&gt; (B, () =&gt; Stream[A]))Stream[scalaz.Tree[B]]">unfoldForest</a><span class="delimiter">(</span><a href="#478437" title="()Stream[A]">bs</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#478405" title="A =&gt; (B, () =&gt; Stream[A])">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      <a href="#478429" title="(x: A)scalaz.Tree[B]">unfoldTree</a><span class="delimiter">(</span><a href="#478428" title="A">a</a><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A, B, M[_]](as: Stream[A])(f: A =&gt; M[(B, Stream[A])])(implicit evidence$1: scalaz.Monad[M])M[Stream[scalaz.Tree[B]]]" id="478519">unfoldForestM</a><span class="delimiter">[</span><a title="" id="46888">A</a>, <a title="" id="46889">B</a>, <a title="[_]" id="46890">M</a><span class="delimiter">[</span><a title="" id="478520">_</a><span class="delimiter">]</span> : Monad<span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="478517">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; M[(B, Stream[A])]" id="478518">f</a>: A =&gt; M<span class="delimiter">[</span><span class="delimiter">(</span>B, Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#46890" title="M[Stream[scalaz.Tree[B]]]">M</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>Tree<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[T, U](ts: Stream[T], f: T =&gt; M[U])M[Stream[U]]" id="478524">mapM</a><span class="delimiter">[</span><a title="" id="478527">T</a>, <a title="" id="478528">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[T]" id="478530">ts</a>: <span title="Stream[T]">Stream</span><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="T =&gt; M[U]" id="478531">f</a>: T =&gt; M<span class="delimiter">[</span>U<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#46890" title="M[Stream[U]]">M</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>U<span class="delimiter">]</span><span class="delimiter">]</span> =
      <a href="#478530" title="Stream[T]">ts</a>.<span title="[B](z: B)(f: (T, B) =&gt; B)B">foldRight</span><span title="(z: M[Stream[U]])(f: (T, M[Stream[U]]) =&gt; M[Stream[U]])M[Stream[U]]" class="delimiter">[</span><a href="#46890" title="M[Stream[U]]">M</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>U<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="../Monad.scala.html#72095" title="[F[_]](implicit F: scalaz.Monad[F])scalaz.Monad[F]">Monad</a><a href="#478519" title="(implicit F: scalaz.Monad[M])scalaz.Monad[M]" class="delimiter">[</a><a href="#46890" title="M">M</a><span class="delimiter">]</span>.<a href="../Applicative.scala.html#34510" title="(a: =&gt; Stream[U])M[Stream[U]]">point</a><span class="delimiter">(</span>scala.<span title="(xs: Nothing*)scala.collection.immutable.Stream[Nothing]">Stream</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#478559" title="(_1: T, _2: M[Stream[U]])(T, M[Stream[U]])" class="delimiter">{</a>
        <span class="keyword">case</span> <span class="delimiter">(</span><a href="#1683212" title="T" id="478570">g</a>, <a href="#1683212" title="M[Stream[U]]" id="478571">h</a><span class="delimiter">)</span> =&gt; <a href="../Monad.scala.html#72095" title="[F[_]](implicit F: scalaz.Monad[F])scalaz.Monad[F]">Monad</a><a href="#478519" title="(implicit F: scalaz.Monad[M])scalaz.Monad[M]" class="delimiter">[</a><a href="#46890" title="M">M</a><span class="delimiter">]</span>.<a href="../Applicative.scala.html#34521" title="(fa: =&gt; M[U], fb: =&gt; M[Stream[U]])(f: (U, Stream[U]) =&gt; scala.collection.immutable.Stream[U])M[scala.collection.immutable.Stream[U]]">apply2</a><span class="delimiter">(</span><a href="#478531" title="(v1: T)M[U]">f</a><span class="delimiter">(</span><a href="#478570" title="T">g</a><span class="delimiter">)</span>, <a href="#478571" title="M[Stream[U]]">h</a><span class="delimiter">)</span><a href="#1683214" title="(x: M[Stream[U]])M[Stream[U]]" class="delimiter">(</a><a href="#478597" title="U">_</a> <a href="#478599" title="(hd: U)scala.collection.immutable.Stream[U]">#::</a> <a href="#478598" title="(stream: =&gt; scala.collection.immutable.Stream[U])scala.collection.immutable.Stream.ConsWrapper[U]">_</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(v: A)M[scalaz.Tree[B]]" id="478529">unfoldTreeM</a><span class="delimiter">(</span><a title="A" id="478633">v</a>: <a href="#46888" title="A">A</a><span class="delimiter">)</span> =
      <a href="../Monad.scala.html#72095" title="[F[_]](implicit F: scalaz.Monad[F])scalaz.Monad[F]">Monad</a><a href="#478519" title="(implicit F: scalaz.Monad[M])scalaz.Monad[M]" class="delimiter">[</a><a href="#46890" title="M">M</a><span class="delimiter">]</span>.<a href="../Bind.scala.html#34574" title="(fa: M[(B, Stream[A])])(f: ((B, Stream[A])) =&gt; M[scalaz.Tree[B]])M[scalaz.Tree[B]]">bind</a><span class="delimiter">(</span><a href="#478518" title="(v1: A)M[(B, Stream[A])]">f</a><span class="delimiter">(</span><a href="#478633" title="A">v</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span>abs: <span title="(B, Stream[A])" class="delimiter">(</span>B, Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="../Monad.scala.html#72095" title="[F[_]](implicit F: scalaz.Monad[F])scalaz.Monad[F]">Monad</a><a href="#478519" title="(implicit F: scalaz.Monad[M])scalaz.Monad[M]" class="delimiter">[</a><a href="#46890" title="M">M</a><span class="delimiter">]</span>.<a href="../Monad.scala.html#34563" title="(fa: M[Stream[scalaz.Tree[B]]])(f: Stream[scalaz.Tree[B]] =&gt; scalaz.Tree[B])M[scalaz.Tree[B]]">map</a><span class="delimiter">(</span><a href="#478519" title="[A, B, M[_]](as: Stream[A])(f: A =&gt; M[(B, Stream[A])])(implicit evidence$1: scalaz.Monad[M])M[Stream[scalaz.Tree[B]]]">unfoldForestM</a><span title="(as: Stream[A])(f: A =&gt; M[(B, Stream[A])])(implicit evidence$1: scalaz.Monad[M])M[Stream[scalaz.Tree[B]]]" class="delimiter">[</span><a href="#46888" title="A">A</a>, <a href="#46889" title="B">B</a>, <a href="#46890" title="M">M</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#478648" title="(B, Stream[A])">abs</a>.<span title="=&gt; Stream[A]">_2</span><span class="delimiter">)</span><a href="#478519" title="scalaz.Monad[M]" class="delimiter">(</a><a href="#478518" title="A =&gt; M[(B, Stream[A])]">f</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span>ts: <span title="Stream[scalaz.Tree[B]]">Stream</span><span class="delimiter">[</span>Tree<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> =&gt;
          <a href="../Tree.scala.html#9210" title="scalaz.Tree.type">Tree</a>.<a href="../Tree.scala.html#304243" title="(root: =&gt; B, forest: =&gt; Stream[scalaz.Tree[B]])scalaz.Tree[B]">node</a><span class="delimiter">(</span><a href="#478648" title="(B, Stream[A])">abs</a>.<span title="=&gt; B">_1</span>, <a href="#478673" title="Stream[scalaz.Tree[B]]">ts</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="#478524" title="(ts: Stream[A], f: A =&gt; M[scalaz.Tree[B]])M[Stream[scalaz.Tree[B]]]">mapM</a><span class="delimiter">(</span><a href="#478517" title="Stream[A]">as</a>, <a href="#478529" title="(v: A)M[scalaz.Tree[B]]">unfoldTreeM</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Intersperse the element `a` between each adjacent pair of elements in `as` */
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](as: Stream[A], a: A)Stream[A]" id="46891">intersperse</a><span class="delimiter">[</span><a title="" id="46893">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="99597">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="A" id="99598">a</a>: <a href="#46893" title="A">A</a><span class="delimiter">)</span>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(rest: Stream[A])Stream[A]" id="478727">loop</a><span class="delimiter">(</span><a title="Stream[A]" id="478728">rest</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#478728" title="Stream[A]">rest</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="=&gt; collection.immutable.Stream.type">Stream</span>.<a href="#1683218" title="Stream[A]">Empty</a> =&gt; <span title="=&gt; collection.immutable.Stream.type">Stream</span>.<a href="#1683223" title="(x: Stream[A])Stream[A]">empty</a>
      <span class="keyword">case</span> <a title="A" id="478751">h</a> <a href="#1683218" title="(xs: scala.collection.immutable.Stream[A])Option[(A, scala.collection.immutable.Stream[A])]">#::</a> <a title="scala.collection.immutable.Stream[A]" id="478752">t</a>      =&gt; <a href="#99598" title="A">a</a> <a href="#1683223" title="(x: Stream[A])Stream[A]">#::</a> <a href="#478751" title="A">h</a> <a href="#478754" title="(stream: =&gt; scala.collection.immutable.Stream[A])scala.collection.immutable.Stream.ConsWrapper[A]">#::</a> <a href="#478727" title="(rest: Stream[A])Stream[A]">loop</a><span title="(stream: =&gt; scala.collection.immutable.Stream[A])scala.collection.immutable.Stream.ConsWrapper[A]" class="delimiter">(</span><a href="#478752" title="scala.collection.immutable.Stream[A]">t</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#99597" title="Stream[A]">as</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="=&gt; collection.immutable.Stream.type">Stream</span>.<a href="#1683234" title="Stream[A]">Empty</a> =&gt; <span title="=&gt; collection.immutable.Stream.type">Stream</span>.<a href="#1683239" title="(x: Stream[A])Stream[A]">empty</a>
      <span class="keyword">case</span> <a title="A" id="478813">h</a> <a href="#1683234" title="(xs: scala.collection.immutable.Stream[A])Option[(A, scala.collection.immutable.Stream[A])]">#::</a> <a title="scala.collection.immutable.Stream[A]" id="478814">t</a>      =&gt; <a href="#478813" title="A">h</a> <a href="#1683239" title="(x: Stream[A])Stream[A]">#::</a> <a href="#478727" title="(rest: Stream[A])Stream[A]">loop</a><span title="(stream: =&gt; scala.collection.immutable.Stream[A])scala.collection.immutable.Stream.ConsWrapper[A]" class="delimiter">(</span><a href="#478814" title="scala.collection.immutable.Stream[A]">t</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[A, B](seed: A)(f: A =&gt; Option[(B, A)])Stream[B]" id="46894">unfold</a><span class="delimiter">[</span><a title="" id="46897">A</a>, <a title="" id="46898">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="313853">seed</a>: <a href="#46897" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; Option[(B, A)]" id="313854">f</a>: A =&gt; Option<span class="delimiter">[</span><span class="delimiter">(</span>B, A<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Stream[B]">Stream</span><span class="delimiter">[</span>B<span class="delimiter">]</span> =
    <a href="#313854" title="(v1: A)Option[(B, A)]">f</a><a href="#1683256" title="(x: Stream[B])Stream[B]" class="delimiter">(</a><a href="#313853" title="A">seed</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#1683250" title="Stream[B]">None</a>         =&gt; <span title="=&gt; collection.immutable.Stream.type">Stream</span>.<a href="#1683256" title="(x: Stream[B])Stream[B]">empty</a>
      <span class="keyword">case</span> Some<a href="#1683250" title="Stream[B]" class="delimiter">(</a><a href="#1683253" title="=&gt; (B, A)" class="delimiter">(</a><a href="#1683252" title="B" id="478857">b</a>, <a href="#1683252" title="A" id="478858">a</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="(hd: B, tl: =&gt; scala.collection.immutable.Stream[B])Stream.Cons[B]">cons</span><a href="#1683256" title="(x: Stream[B])Stream[B]" class="delimiter">(</a><a href="#478857" title="B">b</a>, <a href="#46894" title="(seed: A)(f: A =&gt; Option[(B, A)])Stream[B]">unfold</a><span class="delimiter">(</span><a href="#478858" title="A">a</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#313854" title="A =&gt; Option[(B, A)]">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span title="AnyRef" class="keyword">object</span> <a title="scalaz.std.stream.type" id="25283">stream</a> <a href="#25284" title="scalaz.std.stream.type" class="keyword">extends</a> <a href="#25684" title="scalaz.std.StreamInstances">StreamInstances</a> <span class="keyword">with</span> <a href="#24967" title="scalaz.std.StreamFunctions">StreamFunctions</a> <span class="delimiter">{</span>
  <span class="keyword">object</span> <a title="scalaz.std.stream.streamSyntax.type" id="99595">streamSyntax</a> <a href="#99596" title="scalaz.std.stream.streamSyntax.type" class="keyword">extends</a> scalaz.syntax.std.<a href="../syntax/std/StreamOps.scala.html#29308" title="scalaz.syntax.std.ToStreamOps">ToStreamOps</a>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>