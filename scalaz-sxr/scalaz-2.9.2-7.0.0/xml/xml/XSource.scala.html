<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>xml/xml/XSource.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scalaz
<span class="keyword">package</span> xml

/**
 * A common trait for XML data source, such as a string, a list of characters, a stream, iteratee, etc. This allows common XML-operations to run on various data source types.
 */
<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait XSource[S] extends AnyRef" id="30531">XSource</a><span class="delimiter">[</span><a title="" id="30532">S</a><span class="delimiter">]</span> <span title="Unit" class="delimiter">{</span>
  <span class="keyword">val</span> <a title="=&gt; S =&gt; Option[(Char, S)]" id="864603">uncons</a>: S =&gt; Option<span class="delimiter">[</span><span class="delimiter">(</span>Char, S<span class="delimiter">)</span><span class="delimiter">]</span>

  <span class="keyword">import</span> <a href="Token.scala.html#30518" title="scalaz.xml.Token.type">Token</a>._
  <span class="keyword">import</span> <a href="CData.scala.html#30430" title="scalaz.xml.CData.type">CData</a>._
  <span class="keyword">import</span> <a href="Content.scala.html#30463" title="scalaz.xml.Content.type">Content</a>._

  /// linenumber
  <span class="keyword">def</span> <a title="(s: S, n: scalaz.xml.CData.Line)scalaz.xml.Token.LStr" id="864607">linenumber</a><span class="delimiter">(</span><a title="S" id="1525205">s</a>: <a href="#30532" title="S">S</a>, <a title="scalaz.xml.CData.Line" id="1525206">n</a>: <span title="scalaz.xml.CData.Line">Line</span><span class="delimiter">)</span>: <span title="scalaz.xml.Token.LStr">LStr</span> = <span class="delimiter">{</span>
    @annotation.tailrec
    <span class="keyword">def</span> <a title="(s: S, n: scalaz.xml.CData.Line, acc: scalaz.xml.Token.LStr)scalaz.xml.Token.LStr" id="1545654">linenumberacc</a><span class="delimiter">(</span><a title="S" id="1545655">s</a>: <a href="#30532" title="S">S</a>, <a title="scalaz.xml.CData.Line" id="1545656">n</a>: <span title="scalaz.xml.CData.Line">Line</span>, <a title="scalaz.xml.Token.LStr" id="1545657">acc</a>: <span title="scalaz.xml.Token.LStr">LStr</span><span class="delimiter">)</span>: <span title="scalaz.xml.Token.LStr">LStr</span> = <span class="delimiter">{</span>
      <a href="#864603" title="(v1: S)Option[(Char, S)]">uncons</a><a href="#1693927" title="scalaz.xml.Token.LStr" class="delimiter">(</a><a href="#1545655" title="S">s</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="#1693909" title="scalaz.xml.Token.LStr">None</a> =&gt; <a href="#1693928" title="(x: scalaz.xml.Token.LStr)scalaz.xml.Token.LStr">acc</a>
        <span class="keyword">case</span> Some<a href="#1693909" title="Boolean(false)" class="delimiter">(</a><a href="#1693912" title="=&gt; (Char, S)" class="delimiter">(</a><a href="#1693911" title="=&gt; Char" class="char">'\r'</a>, <a href="#1693911" title="S" id="1545663">t</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#1545654" title="(s: S, n: scalaz.xml.CData.Line, acc: scalaz.xml.Token.LStr)scalaz.xml.Token.LStr">linenumberacc</a><a href="#1693928" title="(x: scalaz.xml.Token.LStr)scalaz.xml.Token.LStr" class="delimiter">(</a><a href="#864603" title="(v1: S)Option[(Char, S)]">uncons</a><span title="S" class="delimiter">(</span><a href="#1545663" title="S">t</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> Some<a href="#1693893" title="S" class="delimiter">(</a><a href="#1693895" title="=&gt; (Char, S)" class="delimiter">(</a><a href="#1693894" title="=&gt; Char" class="char">'\n'</a>, <a href="#1693894" title="S" id="1545667">u</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#1693901" title="(x: S)S">u</a>
          <span class="keyword">case</span> _ =&gt; <a href="#1693901" title="(x: S)S">t</a>
        <span class="delimiter">}</span>, <a href="#1545656" title="scalaz.xml.CData.Line">n</a> <span title="(x: Int)Long">+</span> <span title="Int(1)" class="int">1</span>, <span title="(_1: scalaz.xml.CData.Line, _2: Char)(scalaz.xml.CData.Line, Char)" class="delimiter">(</span><a href="#1545656" title="scalaz.xml.CData.Line">n</a>, <span title="Char('\n')" class="char">'\n'</span><span class="delimiter">)</span><a href="#1545672" title="(x: (scalaz.xml.CData.Line, Char))List[(scalaz.xml.CData.Line, Char)]">::</a><a href="#1545657" title="scalaz.xml.Token.LStr">acc</a><span class="delimiter">)</span>
        <span class="keyword">case</span> Some<span class="delimiter">(</span><a href="#1693912" title="=&gt; (Char, S)" class="delimiter">(</a><a href="#1693916" title="=&gt; Char" class="char">'\n'</a>, <a href="#1693916" title="S" id="1545687">t</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#1545654" title="(s: S, n: scalaz.xml.CData.Line, acc: scalaz.xml.Token.LStr)scalaz.xml.Token.LStr">linenumberacc</a><a href="#1693928" title="(x: scalaz.xml.Token.LStr)scalaz.xml.Token.LStr" class="delimiter">(</a><a href="#1545687" title="S">t</a>, <a href="#1545656" title="scalaz.xml.CData.Line">n</a> <span title="(x: Int)Long">+</span> <span title="Int(1)" class="int">1</span>, <span title="(_1: scalaz.xml.CData.Line, _2: Char)(scalaz.xml.CData.Line, Char)" class="delimiter">(</span><a href="#1545656" title="scalaz.xml.CData.Line">n</a>, <span title="Char('\n')" class="char">'\n'</span><span class="delimiter">)</span><a href="#1545692" title="(x: (scalaz.xml.CData.Line, Char))List[(scalaz.xml.CData.Line, Char)]">::</a><a href="#1545657" title="scalaz.xml.Token.LStr">acc</a><span class="delimiter">)</span>
        <span class="keyword">case</span> Some<span class="delimiter">(</span><a href="#1693912" title="=&gt; (Char, S)" class="delimiter">(</a><a href="#1693921" title="Char" id="1545705">c</a>, <a href="#1693921" title="S" id="1545706">t</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#1545654" title="(s: S, n: scalaz.xml.CData.Line, acc: scalaz.xml.Token.LStr)scalaz.xml.Token.LStr">linenumberacc</a><a href="#1693928" title="(x: scalaz.xml.Token.LStr)scalaz.xml.Token.LStr" class="delimiter">(</a><a href="#1545706" title="S">t</a>, <a href="#1545656" title="scalaz.xml.CData.Line">n</a>, <span title="(_1: scalaz.xml.CData.Line, _2: Char)(scalaz.xml.CData.Line, Char)" class="delimiter">(</span><a href="#1545656" title="scalaz.xml.CData.Line">n</a>, <a href="#1545705" title="Char">c</a><span class="delimiter">)</span> <a href="#1545707" title="(x: (scalaz.xml.CData.Line, Char))List[(scalaz.xml.CData.Line, Char)]">::</a> <a href="#1545657" title="scalaz.xml.Token.LStr">acc</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#1545654" title="(s: S, n: scalaz.xml.CData.Line, acc: scalaz.xml.Token.LStr)scalaz.xml.Token.LStr">linenumberacc</a><span class="delimiter">(</span><a href="#1525205" title="S">s</a>, <a href="#1525206" title="scalaz.xml.CData.Line">n</a>, <span title="scala.collection.immutable.Nil.type">Nil</span><span class="delimiter">)</span>.<span title="=&gt; List[(scalaz.xml.CData.Line, Char)]">reverse</span>
  <span class="delimiter">}</span>

  /// tokens
  <span class="keyword">def</span> <a title="(s: S)List[scalaz.xml.Token]" id="864608">tokens</a><span class="delimiter">(</span><a title="S" id="1525210">s</a>: <a href="#30532" title="S">S</a><span class="delimiter">)</span>: <span title="List[scalaz.xml.Token]">List</span><span class="delimiter">[</span>Token<span class="delimiter">]</span> =
    <a href="#30534" title="scalaz.xml.XSource.type">XSource</a>.<a href="#864527" title="(s: scalaz.xml.Token.LStr)List[scalaz.xml.Token]">tokens</a><span class="delimiter">(</span><a href="#864607" title="(s: S, n: scalaz.xml.CData.Line)scalaz.xml.Token.LStr">linenumber</a><span class="delimiter">(</span><a href="#1525210" title="S">s</a>, <span title="Long(1L)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>

  /// parseXML
  <span class="keyword">def</span> <a title="(s: S)List[scalaz.xml.Content]" id="864609">parseXml</a><span class="delimiter">(</span><a title="S" id="1525212">s</a>: <a href="#30532" title="S">S</a><span class="delimiter">)</span>: <span title="List[scalaz.xml.Content]">List</span><span class="delimiter">[</span>Content<span class="delimiter">]</span> =
    <a href="Token.scala.html#30518" title="scalaz.xml.Token.type">Token</a>.<a href="Token.scala.html#864507" title="(ts: List[scalaz.xml.Token])List[scalaz.xml.Content]">parse</a><span class="delimiter">(</span><a href="#864608" title="(s: S)List[scalaz.xml.Token]">tokens</a><span class="delimiter">(</span><a href="#1525212" title="S">s</a><span class="delimiter">)</span><span class="delimiter">)</span>

  /// parseXMLDoc
  <span class="keyword">def</span> <a title="(s: S)Option[scalaz.xml.Element]" id="864610">parseXmlDoc</a><span class="delimiter">(</span><a title="S" id="1525215">s</a>: <a href="#30532" title="S">S</a><span class="delimiter">)</span>: <span title="Option[scalaz.xml.Element]">Option</span><span class="delimiter">[</span>Element<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(cs: List[scalaz.xml.Content])Option[scalaz.xml.Element]" id="1545723">strip</a><span class="delimiter">(</span><a title="List[scalaz.xml.Content]" id="1545724">cs</a>: <span title="List[scalaz.xml.Content]">List</span><span class="delimiter">[</span>Content<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[scalaz.xml.Element]">Option</span><span class="delimiter">[</span>Element<span class="delimiter">]</span> =
      <a href="Content.scala.html#30463" title="scalaz.xml.Content.type">Content</a>.<a href="Content.scala.html#864414" title="(c: List[scalaz.xml.Content])List[scalaz.xml.Element]">elems</a><a href="#1693949" title="(x: Option[scalaz.xml.Element])Option[scalaz.xml.Element]" class="delimiter">(</a><a href="#1545724" title="List[scalaz.xml.Content]">cs</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="#1693944" title="Option[scalaz.xml.Element]">Nil</a> =&gt; <a href="#1693949" title="(x: Option[scalaz.xml.Element])Option[scalaz.xml.Element]">None</a>
        <span class="keyword">case</span> <a href="#1693946" title="scalaz.xml.Element" id="1545727">e</a><a href="#1693944" title="Option[scalaz.xml.Element]">::</a><a href="#1693946" title="List[scalaz.xml.Element]" id="1545728">es</a> =&gt;
          <a href="#1693949" title="(x: Option[scalaz.xml.Element])Option[scalaz.xml.Element]" class="keyword">if</a><span class="delimiter">(</span><a href="#1545727" title="scalaz.xml.Element">e</a>.<a href="Element.scala.html#866162" title="=&gt; scalaz.xml.QName">name</a>.<a href="QName.scala.html#866119" title="=&gt; scalaz.xml.QName.Str">name</a> <span title="(that: scala.collection.GenSeq[Char])Boolean">startsWith</span> <span title="implicit scala.LowPriorityImplicits.wrapString : (s: String)scala.collection.immutable.WrappedString" class="string">&quot;?xml&quot;</span><span class="delimiter">)</span>
            <a href="#1545723" title="(cs: List[scalaz.xml.Content])Option[scalaz.xml.Element]">strip</a><span class="delimiter">(</span><a href="#1545728" title="List[scalaz.xml.Element]">es</a> <span title="(f: scalaz.xml.Element =&gt; scalaz.xml.Content)(implicit bf: scala.collection.generic.CanBuildFrom[List[scalaz.xml.Element],scalaz.xml.Content,List[scalaz.xml.Content]])List[scalaz.xml.Content]">map</span> <span class="delimiter">(</span><a href="Content.scala.html#864410" title="(e: scalaz.xml.Element)scalaz.xml.Content">elem</a><span class="delimiter">(</span><a href="#1545768" title="scalaz.xml.Element">_</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span>
            <span title="(x: scalaz.xml.Element)Some[scalaz.xml.Element]">Some</span><span class="delimiter">(</span><a href="#1545727" title="scalaz.xml.Element">e</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <a href="#1545723" title="(cs: List[scalaz.xml.Content])Option[scalaz.xml.Element]">strip</a><span class="delimiter">(</span><a href="#864609" title="(s: S)List[scalaz.xml.Content]">parseXml</a><span class="delimiter">(</span><a href="#1525215" title="S">s</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span title="AnyRef" class="keyword">trait</span> <a title="trait XSources extends AnyRef" id="30533">XSources</a> <span title="Unit" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[S](f: S =&gt; Option[(Char, S)])scalaz.xml.XSource[S]" id="864516">xsource</a><span class="delimiter">[</span><a title="" id="864518">S</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="S =&gt; Option[(Char, S)]" id="1545801">f</a>: S =&gt; Option<span class="delimiter">[</span><span class="delimiter">(</span>Char, S<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#30531" title="scalaz.xml.XSource[S]">XSource</a><span class="delimiter">[</span>S<span class="delimiter">]</span> =
    <a href="#1545803" title="scalaz.xml.XSource[S]{}" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with scalaz.xml.XSource[S]" id="1545803">XSource</a><span class="delimiter">[</span>S<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="S =&gt; Option[(Char, S)]" id="1545805">uncons</a> = <a href="#1545801" title="S =&gt; Option[(Char, S)]">f</a>
    <span class="delimiter">}</span>

  <span class="keyword">import</span> <a href="QName.scala.html#30494" title="scalaz.xml.QName.type">QName</a>._
  <span class="keyword">import</span> <a href="Token.scala.html#30518" title="scalaz.xml.Token.type">Token</a>._
  <span class="keyword">import</span> <a href="CDataKind.scala.html#30443" title="scalaz.xml.CDataKind.type">CDataKind</a>._
  <span class="keyword">import</span> <a href="CData.scala.html#30430" title="scalaz.xml.CData.type">CData</a>._
  <span class="keyword">import</span> <a href="Txt.scala.html#30526" title="scalaz.xml.Txt.type">Txt</a>._

  /** A list of characters as an XML data source. */
  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scalaz.xml.XSource[scalaz.xml.QName.Str]" id="864524">StrXSource</a>: <a href="#30531" title="scalaz.xml.XSource[scalaz.xml.QName.Str]">XSource</a><span class="delimiter">[</span>Str<span class="delimiter">]</span> =
    <a href="#864516" title="(f: scalaz.xml.QName.Str =&gt; Option[(Char, scalaz.xml.QName.Str)])scalaz.xml.XSource[scalaz.xml.QName.Str]">xsource</a> <a href="#1545813" title="scalaz.xml.QName.Str" class="delimiter">{</a>
      <span class="keyword">case</span> <a href="#1693957" title="Option[(Char, scalaz.xml.QName.Str)]">Nil</a> =&gt; <a href="#1693962" title="(x: Option[(Char, scalaz.xml.QName.Str)])Option[(Char, scalaz.xml.QName.Str)]">None</a>
      <span class="keyword">case</span> <a href="#1693959" title="Char" id="1545816">h</a><a href="#1693957" title="Option[(Char, scalaz.xml.QName.Str)]">::</a><a href="#1693959" title="List[Char]" id="1545817">t</a> =&gt; <span title="(x: (Char, List[Char]))Some[(Char, List[Char])]">Some</span><a href="#1693962" title="(x: Option[(Char, scalaz.xml.QName.Str)])Option[(Char, scalaz.xml.QName.Str)]" class="delimiter">(</a><a href="#1545816" title="Char">h</a>, <a href="#1545817" title="List[Char]">t</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  // CAUTION: Uses unsafe code
  // DO NOT CHANGE TO val
  /** A string as an XML data source. */
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; scalaz.xml.XSource[String]" id="864526">StringXSource</a>: <a href="#30531" title="scalaz.xml.XSource[String]">XSource</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Int" id="1545828">i</a> = <span title="Int(0)" class="int">0</span>
    <a href="#864516" title="(f: String =&gt; Option[(Char, String)])scalaz.xml.XSource[String]">xsource</a><span class="delimiter">(</span><a title="String" id="1545832">s</a> =&gt;
      <span title="Option[(Char, String)]" class="keyword">if</span><span class="delimiter">(</span><a href="#1545828" title="Int">i</a> <span title="(x: Int)Boolean">==</span> <a href="#1545832" title="String">s</a>.<span title="()Int">length</span><span class="delimiter">)</span>
        <span title="None.type">None</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Char" id="1545838">c</a> = <a href="#1545832" title="(index: Int)Char">s</a><span class="delimiter">(</span><a href="#1545828" title="Int">i</a><span class="delimiter">)</span>
        <a href="#1545828" title="Int">i</a> = <a href="#1545828" title="Int">i</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>
        <span title="(x: (Char, String))Some[(Char, String)]">Some</span><span class="delimiter">(</span><span title="(_1: Char, _2: String)(Char, String)" class="delimiter">(</span><a href="#1545838" title="Char">c</a>, <a href="#1545832" title="String">s</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /// tokens'
  <span class="keyword">def</span> <a title="(s: scalaz.xml.Token.LStr)List[scalaz.xml.Token]" id="864527">tokens</a><span class="delimiter">(</span><a title="scalaz.xml.Token.LStr" id="1545722">s</a>: <span title="scalaz.xml.Token.LStr">LStr</span><span class="delimiter">)</span>: <span title="List[scalaz.xml.Token]">List</span><span class="delimiter">[</span>Token<span class="delimiter">]</span> =
    <a href="#864530" title="(s: scalaz.xml.Token.LStr)scalaz.Free.Trampoline[List[scalaz.xml.Token]]">tokensT</a><span class="delimiter">(</span><a href="#1545722" title="scalaz.xml.Token.LStr">s</a><span class="delimiter">)</span>.<a href="../../core/Free.scala.html#48263" title="(implicit ev: scalaz.Liskov.&lt;~&lt;[scalaz.Free[Function0,List[scalaz.xml.Token]],scalaz.Free.Trampoline[List[scalaz.xml.Token]]])List[scalaz.xml.Token]">run</a>

  /// cref_to_char
  <span class="keyword">def</span> <a title="(s: scalaz.xml.QName.Str)Option[Char]" id="864528">crefToChar</a><span class="delimiter">(</span><a title="scalaz.xml.QName.Str" id="1545552">s</a>: <span title="scalaz.xml.QName.Str">Str</span><span class="delimiter">)</span>: <span title="Option[Char]">Option</span><span class="delimiter">[</span>Char<span class="delimiter">]</span> =
    <a href="#1545552" title="scalaz.xml.QName.Str">s</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#1693993" title="=&gt; Char" class="char">'#'</a><a href="#1693991" title="Option[Char]">::</a><a href="#1693993" title="List[Char]" id="1545892">ds</a> =&gt; <a href="#1694073" title="(x: Option[Char])Option[Char]" class="delimiter">{</a>
        <span class="keyword">val</span> <a href="#1693987" title="(x: (List[Char], Int))(List[Char], Int)" class="delimiter">(</a><a href="#1693985" title="List[Char]" id="1545894">w</a>, <a href="#1693985" title="Int" id="1545895">rad</a><span class="delimiter">)</span> =
          <a href="#1545892" title="List[Char]">ds</a> <a href="#1693985" title="(List[Char], Int) @unchecked" class="keyword">match</a> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="#1693972" title="=&gt; Char" class="char">'x'</a><a href="#1693970" title="(List[Char], Int)">::</a><a href="#1693972" title="List[Char]" id="1545898">es</a> =&gt; <a href="#1693977" title="(x: (List[Char], Int))(List[Char], Int)" class="delimiter">(</a><a href="#1545898" title="List[Char]">es</a>, <span title="Int(16)" class="int">16</span><span class="delimiter">)</span>
            <span class="keyword">case</span> _ =&gt; <a href="#1693977" title="(x: (List[Char], Int))(List[Char], Int)" class="delimiter">(</a><a href="#1545892" title="List[Char]">ds</a>, <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">try</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Int" id="1545922">n</a> = <span title="Integer.type">Integer</span>.<span title="(x$1: String, x$2: Int)Int">parseInt</span><span class="delimiter">(</span><a href="#1545894" title="List[Char]">w</a>.<span title="=&gt; String">mkString</span>, <a href="#1545895" title="Int">rad</a><span class="delimiter">)</span>
          <span title="Option[Char]" class="keyword">if</span><span class="delimiter">(</span>Char.<span title="Char('\00')">MinValue</span>.<span title="=&gt; Int">toInt</span> <span title="(x: Int)Boolean">&lt;=</span> <a href="#1545922" title="Int">n</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#1545922" title="Int">n</a> <span title="(x: Int)Boolean">&lt;=</span> Char.<span title="Char('￿')">MaxValue</span>.<span title="=&gt; Int">toInt</span><span class="delimiter">)</span>
            <span title="(x: Char)Some[Char]">Some</span><span class="delimiter">(</span><a href="#1545922" title="Int">n</a>.<span title="=&gt; Char">toChar</span><span class="delimiter">)</span>
          <span class="keyword">else</span>
            <span title="None.type">None</span>
        <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="None.type">_</span>: <span title="NumberFormatException">NumberFormatException</span> =&gt; <span title="None.type">None</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">case</span> <a href="#1693991" title="(x: List[Char])Some[List[Char]]">List</a><span class="delimiter">(</span><a href="#1693996" title="(n: Int)Char" class="char">'l'</a>, <a href="#1693997" title="Int(1)" class="char">'t'</a><span class="delimiter">)</span> =&gt; <span title="(x: Char)Some[Char]">Some</span><a href="#1694073" title="(x: Option[Char])Option[Char]" class="delimiter">(</a><span title="Char('&lt;')" class="char">'&lt;'</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="#1693991" title="(x: List[Char])Some[List[Char]]">List</a><span class="delimiter">(</span><a href="#1694005" title="(n: Int)Char" class="char">'g'</a>, <a href="#1694006" title="Int(1)" class="char">'t'</a><span class="delimiter">)</span> =&gt; <span title="(x: Char)Some[Char]">Some</span><a href="#1694073" title="(x: Option[Char])Option[Char]" class="delimiter">(</a><span title="Char('&gt;')" class="char">'&gt;'</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="#1693991" title="(x: List[Char])Some[List[Char]]">List</a><span class="delimiter">(</span><a href="#1694014" title="(n: Int)Char" class="char">'a'</a>, <a href="#1694015" title="Int(1)" class="char">'m'</a>, <a href="#1694016" title="Int(2)" class="char">'p'</a><span class="delimiter">)</span> =&gt; <span title="(x: Char)Some[Char]">Some</span><a href="#1694073" title="(x: Option[Char])Option[Char]" class="delimiter">(</a><span title="Char('&amp;')" class="char">'&amp;'</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="#1693991" title="(x: List[Char])Some[List[Char]]">List</a><span class="delimiter">(</span><a href="#1694026" title="(n: Int)Char" class="char">'a'</a>, <a href="#1694027" title="Int(1)" class="char">'p'</a>, <a href="#1694028" title="Int(2)" class="char">'o'</a>, <a href="#1694029" title="Int(3)" class="char">'s'</a><span class="delimiter">)</span> =&gt; <span title="(x: Char)Some[Char]">Some</span><a href="#1694073" title="(x: Option[Char])Option[Char]" class="delimiter">(</a><span title="Char('\'')" class="char">'\''</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="#1693991" title="(x: List[Char])Some[List[Char]]">List</a><span class="delimiter">(</span><a href="#1694041" title="(n: Int)Char" class="char">'q'</a>, <a href="#1694042" title="Int(1)" class="char">'u'</a>, <a href="#1694043" title="Int(2)" class="char">'o'</a>, <a href="#1694044" title="Int(3)" class="char">'t'</a><span class="delimiter">)</span> =&gt; <span title="(x: Char)Some[Char]">Some</span><a href="#1694073" title="(x: Option[Char])Option[Char]" class="delimiter">(</a><span title="Char('\&quot;')" class="char">'&quot;'</span><span class="delimiter">)</span>
      <span class="keyword">case</span> _ =&gt; <a href="#1694073" title="(x: Option[Char])Option[Char]">None</a>
    <span class="delimiter">}</span>

  //// trampolined
  <span class="keyword">import</span> <a href="../../core/Free.scala.html#10908" title="scalaz.Free.type">Free</a>._

  <span class="keyword">private</span><span class="delimiter">[</span>xml<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(s: scalaz.xml.Token.LStr)scalaz.Free.Trampoline[List[scalaz.xml.Token]]" id="864530">tokensT</a><span class="delimiter">(</span><a title="scalaz.xml.Token.LStr" id="1542289">s</a>: <span title="scalaz.xml.Token.LStr">LStr</span><span class="delimiter">)</span>: <a href="../../core/Free.scala.html#10907" title="scalaz.Free.Trampoline[List[scalaz.xml.Token]]">Trampoline</a><span class="delimiter">[</span>List<span class="delimiter">[</span>Token<span class="delimiter">]</span><span class="delimiter">]</span> =
    <a href="#1542289" title="scalaz.xml.Token.LStr">s</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#1694293" title="=&gt; (scalaz.xml.CData.Line, Char)" class="delimiter">(</a>_, <a href="#1694291" title="=&gt; Char" class="char">'&lt;'</a><span class="delimiter">)</span> <a href="#1694290" title="Boolean(false)">::</a> <span class="delimiter">(</span><a href="#1694298" title="(scalaz.xml.CData.Line, Char)" id="1546019">c</a>@<span class="delimiter">(</span>_, <a href="#1546019" title="=&gt; Char" class="char">'!'</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1694293" title="=&gt; List[(scalaz.xml.CData.Line, Char)]">::</a> <a href="#1694298" title="List[(scalaz.xml.CData.Line, Char)]" id="1546022">cs</a> =&gt;
        <a href="#864531" title="(c: (scalaz.xml.CData.Line, Char), s: scalaz.xml.Token.LStr)scalaz.Free.Trampoline[List[scalaz.xml.Token]]">specialT</a><a href="#1694320" title="(x: scalaz.Free.Trampoline[List[scalaz.xml.Token]])scalaz.Free.Trampoline[List[scalaz.xml.Token]]" class="delimiter">(</a><a href="#1546019" title="(scalaz.xml.CData.Line, Char)">c</a>, <a href="#1546022" title="List[(scalaz.xml.CData.Line, Char)]">cs</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="#1694293" title="=&gt; (scalaz.xml.CData.Line, Char)" class="delimiter">(</a>_, <a href="#1694303" title="=&gt; Char" class="char">'&lt;'</a><span class="delimiter">)</span> :: <a href="#1694293" title="List[(scalaz.xml.CData.Line, Char)]" id="1546029">cs</a> =&gt;
        <a href="Token.scala.html#864508" title="(s: scalaz.xml.Token.LStr)scalaz.Free.Trampoline[List[scalaz.xml.Token]]">tagT</a><a href="#1694320" title="(x: scalaz.Free.Trampoline[List[scalaz.xml.Token]])scalaz.Free.Trampoline[List[scalaz.xml.Token]]" class="delimiter">(</a><a href="Token.scala.html#864500" title="(s: scalaz.xml.Token.LStr)scalaz.xml.Token.LStr">dropSpace</a><span class="delimiter">(</span><a href="#1546029" title="List[(scalaz.xml.CData.Line, Char)]">cs</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="#1694293" title="=&gt; (scalaz.xml.CData.Line, Char)" class="delimiter">(</a><a href="#1694309" title="scalaz.xml.CData.Line" id="1546036">l</a>, _<span class="delimiter">)</span> :: _ =&gt; <a href="#1694320" title="(x: scalaz.Free.Trampoline[List[scalaz.xml.Token]])scalaz.Free.Trampoline[List[scalaz.xml.Token]]" class="delimiter">{</a>
        <span class="keyword">val</span> <a href="#1694273" title="(x: (List[Char], List[(scalaz.xml.CData.Line, Char)]))(List[Char], List[(scalaz.xml.CData.Line, Char)])" class="delimiter">(</a><a href="#1694271" title="List[Char]" id="1546038">as</a>, <a href="#1694271" title="List[(scalaz.xml.CData.Line, Char)]" id="1546039">bs</a><span class="delimiter">)</span> = <a href="Token.scala.html#864494" title="(p: Char =&gt; Boolean, xs: List[(scalaz.xml.CData.Line, Char)])(List[Char], List[(scalaz.xml.CData.Line, Char)])">breakn</a><a href="#1694271" title="(List[Char], List[(scalaz.xml.CData.Line, Char)]) @unchecked" class="delimiter">(</a><span class="delimiter">(</span><a href="#1546045" title="Char">_</a>: <span title="Char">Char</span><span class="delimiter">)</span> <span title="(x: Char)Boolean">==</span> <span title="Char('&lt;')" class="char">'&lt;'</span>, <a href="#1542289" title="scalaz.xml.Token.LStr">s</a><span class="delimiter">)</span>
        <a href="#864530" title="(s: scalaz.xml.Token.LStr)scalaz.Free.Trampoline[List[scalaz.xml.Token]]">tokensT</a><span class="delimiter">(</span><a href="#1546039" title="List[(scalaz.xml.CData.Line, Char)]">bs</a><span class="delimiter">)</span> <a href="../../core/Free.scala.html#48225" title="(f: List[scalaz.xml.Token] =&gt; List[scalaz.xml.Token])scalaz.Free[Function0,List[scalaz.xml.Token]]">map</a> <span class="delimiter">(</span><a href="Txt.scala.html#864513" title="(s: scalaz.xml.QName.Str)List[scalaz.xml.Txt]">decodeText</a><span class="delimiter">(</span><a href="#1546038" title="List[Char]">as</a><span class="delimiter">)</span>.<span title="(f: scalaz.xml.Txt =&gt; scalaz.xml.Token)(implicit bf: scala.collection.generic.CanBuildFrom[List[scalaz.xml.Txt],scalaz.xml.Token,List[scalaz.xml.Token]])List[scalaz.xml.Token]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,scalaz.xml.Token,List[scalaz.xml.Token]]" class="delimiter">(</span><a href="#1546112" title="scalaz.xml.Txt">_</a>.<a href="Txt.scala.html#1545430" title="(txt: scalaz.xml.QName.Str =&gt; scalaz.xml.Token, cref: scalaz.xml.QName.Str =&gt; scalaz.xml.Token)scalaz.xml.Token">fold</a><span class="delimiter">(</span>
            txt = <a title="scalaz.xml.QName.Str" id="1546117">x</a> =&gt; <a href="Token.scala.html#864485" title="(d: scalaz.xml.CData)scalaz.xml.Token">textToken</a><span class="delimiter">(</span><a href="CData.scala.html#864392" title="(verbatim: scalaz.xml.CDataKind, data: scalaz.xml.QName.Str, line: Option[scalaz.xml.CData.Line])scalaz.xml.CData">cdata</a><span class="delimiter">(</span>
              verbatim = <a href="CDataKind.scala.html#864400" title="=&gt; scalaz.xml.CDataKind">cdataText</a>
            , data = <a href="#1546117" title="scalaz.xml.QName.Str">x</a>
            , line = <span title="(x: scalaz.xml.CData.Line)Some[scalaz.xml.CData.Line]">Some</span><span class="delimiter">(</span><a href="#1546036" title="scalaz.xml.CData.Line">l</a><span class="delimiter">)</span>
            <span class="delimiter">)</span><span class="delimiter">)</span>
          , cref = <a title="scalaz.xml.QName.Str" id="1546122">x</a> =&gt; <a href="#864528" title="(s: scalaz.xml.QName.Str)Option[Char]">crefToChar</a><a href="#1694282" title="(x: scalaz.xml.Token)scalaz.xml.Token" class="delimiter">(</a><a href="#1546122" title="scalaz.xml.QName.Str">x</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> Some<a href="#1694277" title="scalaz.xml.Token" class="delimiter">(</a><a href="#1694278" title="Char" id="1546124">c</a><span class="delimiter">)</span> =&gt; <a href="Token.scala.html#864485" title="(d: scalaz.xml.CData)scalaz.xml.Token">textToken</a><a href="#1694282" title="(x: scalaz.xml.Token)scalaz.xml.Token" class="delimiter">(</a><a href="CData.scala.html#864392" title="(verbatim: scalaz.xml.CDataKind, data: scalaz.xml.QName.Str, line: Option[scalaz.xml.CData.Line])scalaz.xml.CData">cdata</a><span class="delimiter">(</span>
                verbatim = <a href="CDataKind.scala.html#864400" title="=&gt; scalaz.xml.CDataKind">cdataText</a>
              , data = <span title="(xs: Char*)List[Char]">List</span><span class="delimiter">(</span><a href="#1546124" title="Char">c</a><span class="delimiter">)</span>
              , line = <span title="(x: scalaz.xml.CData.Line)Some[scalaz.xml.CData.Line]">Some</span><span class="delimiter">(</span><a href="#1546036" title="scalaz.xml.CData.Line">l</a><span class="delimiter">)</span>
              <span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <a href="#1694277" title="scalaz.xml.Token">None</a> =&gt; <a href="Token.scala.html#864484" title="(s: scalaz.xml.QName.Str)scalaz.xml.Token">crefToken</a><a href="#1694282" title="(x: scalaz.xml.Token)scalaz.xml.Token" class="delimiter">(</a><a href="#1546122" title="scalaz.xml.QName.Str">x</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1546092" title="(prefix: List[scalaz.xml.Token])List[scalaz.xml.Token]">:::</a> <a href="#1546091" title="List[scalaz.xml.Token]">_</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">case</span> <a href="#1694290" title="scalaz.Free.Trampoline[List[scalaz.xml.Token]]">Nil</a> =&gt;
        <a href="../../core/Free.scala.html#283382" title="(a: scala.collection.immutable.Nil.type)(implicit evidence$1: scalaz.Functor[Function0])scalaz.Free.Return[Function0,scala.collection.immutable.Nil.type]">Return</a><a href="#1694320" title="(x: scalaz.Free.Trampoline[List[scalaz.xml.Token]])scalaz.Free.Trampoline[List[scalaz.xml.Token]]" class="delimiter">(</a><span title="scala.collection.immutable.Nil.type">Nil</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  
  /// special
  <span class="keyword">private</span><span class="delimiter">[</span>xml<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(c: (scalaz.xml.CData.Line, Char), s: scalaz.xml.Token.LStr)scalaz.Free.Trampoline[List[scalaz.xml.Token]]" id="864531">specialT</a><span class="delimiter">(</span><a title="(scalaz.xml.CData.Line, Char)" id="1546023">c</a>: <span title="(scalaz.xml.CData.Line, Char)">LChar</span>, <a title="scalaz.xml.Token.LStr" id="1546024">s</a>: <span title="scalaz.xml.Token.LStr">LStr</span><span class="delimiter">)</span>: <a href="../../core/Free.scala.html#10907" title="scalaz.Free.Trampoline[List[scalaz.xml.Token]]">Trampoline</a><span class="delimiter">[</span>List<span class="delimiter">[</span>Token<span class="delimiter">]</span><span class="delimiter">]</span> =
    <a href="#1546024" title="scalaz.xml.Token.LStr">s</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#1694484" title="=&gt; (scalaz.xml.CData.Line, Char)" class="delimiter">(</a>_, <a href="#1694482" title="=&gt; Char" class="char">'-'</a><span class="delimiter">)</span> <a href="#1694481" title="Boolean(false)">::</a> <a href="#1694490" title="=&gt; (scalaz.xml.CData.Line, Char)" class="delimiter">(</a>_, <a href="#1694489" title="=&gt; Char" class="char">'-'</a><span class="delimiter">)</span> <a href="#1694484" title="=&gt; List[(scalaz.xml.CData.Line, Char)]">::</a> <a href="#1694490" title="List[(scalaz.xml.CData.Line, Char)]" id="1546204">cs</a> =&gt; <a href="#1694554" title="(x: scalaz.Free.Trampoline[List[scalaz.xml.Token]])scalaz.Free.Trampoline[List[scalaz.xml.Token]]" class="delimiter">{</a>
        @annotation.tailrec
        <span class="keyword">def</span> <a title="(z: scalaz.xml.Token.LStr, acc: scalaz.xml.QName.Str)scalaz.Free.Trampoline[List[scalaz.xml.Token]]" id="1546205">skip</a><span class="delimiter">(</span><a title="scalaz.xml.Token.LStr" id="1546206">z</a>: <span title="scalaz.xml.Token.LStr">LStr</span>, <a title="scalaz.xml.QName.Str" id="1546207">acc</a>: <span title="scalaz.xml.QName.Str">Str</span><span class="delimiter">)</span>: <a href="../../core/Free.scala.html#10907" title="scalaz.Free.Trampoline[List[scalaz.xml.Token]]">Trampoline</a><span class="delimiter">[</span>List<span class="delimiter">[</span>Token<span class="delimiter">]</span><span class="delimiter">]</span> =
          <a href="#1546206" title="scalaz.xml.Token.LStr">z</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="#1694342" title="=&gt; (scalaz.xml.CData.Line, Char)" class="delimiter">(</a>_, <a href="#1694340" title="=&gt; Char" class="char">'-'</a><span class="delimiter">)</span> <a href="#1694339" title="Boolean(false)">::</a> <a href="#1694349" title="=&gt; (scalaz.xml.CData.Line, Char)" class="delimiter">(</a>_, <a href="#1694347" title="=&gt; Char" class="char">'-'</a><span class="delimiter">)</span> <a href="#1694342" title="=&gt; List[(scalaz.xml.CData.Line, Char)]">::</a> <a href="#1694355" title="=&gt; (scalaz.xml.CData.Line, Char)" class="delimiter">(</a>_, <a href="#1694354" title="=&gt; Char" class="char">'&gt;'</a><span class="delimiter">)</span> <a href="#1694349" title="=&gt; List[(scalaz.xml.CData.Line, Char)]">::</a> <a href="#1694355" title="List[(scalaz.xml.CData.Line, Char)]" id="1546221">ds</a> =&gt;
              <a href="#864530" title="(s: scalaz.xml.Token.LStr)scalaz.Free.Trampoline[List[scalaz.xml.Token]]">tokensT</a><span class="delimiter">(</span><a href="#1546221" title="List[(scalaz.xml.CData.Line, Char)]">ds</a><span class="delimiter">)</span> <a href="#1694370" title="(x: scalaz.Free.Trampoline[List[scalaz.xml.Token]])scalaz.Free.Trampoline[List[scalaz.xml.Token]]">map</a> <span class="delimiter">(</span><a href="Token.scala.html#864486" title="(s: scalaz.xml.QName.Str)scalaz.xml.Token">commentToken</a><span class="delimiter">(</span><a href="#1546207" title="scalaz.xml.QName.Str">acc</a>.<span title="=&gt; List[Char]">reverse</span><span class="delimiter">)</span> <a href="#1546226" title="(x: scalaz.xml.Token)List[scalaz.xml.Token]">::</a> <a href="#1546225" title="List[scalaz.xml.Token]">_</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="#1694342" title="=&gt; (scalaz.xml.CData.Line, Char)" class="delimiter">(</a>_, <a href="#1694360" title="Char" id="1546237">d</a><span class="delimiter">)</span> :: <a href="#1694342" title="List[(scalaz.xml.CData.Line, Char)]" id="1546238">ds</a> =&gt;
              <a href="#1546205" title="(z: scalaz.xml.Token.LStr, acc: scalaz.xml.QName.Str)scalaz.Free.Trampoline[List[scalaz.xml.Token]]">skip</a><a href="#1694370" title="(x: scalaz.Free.Trampoline[List[scalaz.xml.Token]])scalaz.Free.Trampoline[List[scalaz.xml.Token]]" class="delimiter">(</a><a href="#1546238" title="List[(scalaz.xml.CData.Line, Char)]">ds</a>, <a href="#1546237" title="Char">d</a> <a href="#1546239" title="(x: Char)List[Char]">::</a> <a href="#1546207" title="scalaz.xml.QName.Str">acc</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="#1694339" title="scalaz.Free.Trampoline[List[scalaz.xml.Token]]">Nil</a> =&gt;
              <a href="../../core/Free.scala.html#283382" title="(a: scala.collection.immutable.Nil.type)(implicit evidence$1: scalaz.Functor[Function0])scalaz.Free.Return[Function0,scala.collection.immutable.Nil.type]">Return</a><a href="#1694370" title="(x: scalaz.Free.Trampoline[List[scalaz.xml.Token]])scalaz.Free.Trampoline[List[scalaz.xml.Token]]" class="delimiter">(</a><span title="scala.collection.immutable.Nil.type">Nil</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <a href="#1546205" title="(z: scalaz.xml.Token.LStr, acc: scalaz.xml.QName.Str)scalaz.Free.Trampoline[List[scalaz.xml.Token]]">skip</a><span class="delimiter">(</span><a href="#1546204" title="List[(scalaz.xml.CData.Line, Char)]">cs</a>, <span title="scala.collection.immutable.Nil.type">Nil</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">case</span> <a href="#1694484" title="=&gt; (scalaz.xml.CData.Line, Char)" class="delimiter">(</a>_, <a href="#1694495" title="=&gt; Char" class="char">'['</a><span class="delimiter">)</span> :: <a href="#1694504" title="=&gt; (scalaz.xml.CData.Line, Char)" class="delimiter">(</a>_, <a href="#1694502" title="=&gt; Char" class="char">'C'</a><span class="delimiter">)</span> <a href="#1694484" title="=&gt; List[(scalaz.xml.CData.Line, Char)]">::</a> <a href="#1694511" title="=&gt; (scalaz.xml.CData.Line, Char)" class="delimiter">(</a>_, <a href="#1694509" title="=&gt; Char" class="char">'D'</a><span class="delimiter">)</span> <a href="#1694504" title="=&gt; List[(scalaz.xml.CData.Line, Char)]">::</a> <a href="#1694518" title="=&gt; (scalaz.xml.CData.Line, Char)" class="delimiter">(</a>_, <a href="#1694516" title="=&gt; Char" class="char">'A'</a><span class="delimiter">)</span> <a href="#1694511" title="=&gt; List[(scalaz.xml.CData.Line, Char)]">::</a> <a href="#1694525" title="=&gt; (scalaz.xml.CData.Line, Char)" class="delimiter">(</a>_, <a href="#1694523" title="=&gt; Char" class="char">'T'</a><span class="delimiter">)</span> <a href="#1694518" title="=&gt; List[(scalaz.xml.CData.Line, Char)]">::</a> <a href="#1694532" title="=&gt; (scalaz.xml.CData.Line, Char)" class="delimiter">(</a>_, <a href="#1694530" title="=&gt; Char" class="char">'A'</a><span class="delimiter">)</span> <a href="#1694525" title="=&gt; List[(scalaz.xml.CData.Line, Char)]">::</a> <a href="#1694538" title="=&gt; (scalaz.xml.CData.Line, Char)" class="delimiter">(</a>_, <a href="#1694537" title="=&gt; Char" class="char">'['</a><span class="delimiter">)</span> <a href="#1694532" title="=&gt; List[(scalaz.xml.CData.Line, Char)]">::</a> <a href="#1694538" title="List[(scalaz.xml.CData.Line, Char)]" id="1546296">cs</a> =&gt; <a href="#1694554" title="(x: scalaz.Free.Trampoline[List[scalaz.xml.Token]])scalaz.Free.Trampoline[List[scalaz.xml.Token]]" class="delimiter">{</a>
        <span class="keyword">def</span> <a title="(s: scalaz.xml.Token.LStr)scalaz.Free.Trampoline[(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)]" id="1546297">cdata</a><span class="delimiter">(</span><a title="scalaz.xml.Token.LStr" id="1546298">s</a>: <span title="scalaz.xml.Token.LStr">LStr</span><span class="delimiter">)</span>: <a href="../../core/Free.scala.html#10907" title="scalaz.Free.Trampoline[(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)]">Trampoline</a><span class="delimiter">[</span><span class="delimiter">(</span>Str, LStr<span class="delimiter">)</span><span class="delimiter">]</span> =
          <a href="#1546298" title="scalaz.xml.Token.LStr">s</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="#1694397" title="=&gt; (scalaz.xml.CData.Line, Char)" class="delimiter">(</a>_, <a href="#1694395" title="=&gt; Char" class="char">']'</a><span class="delimiter">)</span> <a href="#1694394" title="Boolean(false)">::</a> <a href="#1694404" title="=&gt; (scalaz.xml.CData.Line, Char)" class="delimiter">(</a>_, <a href="#1694402" title="=&gt; Char" class="char">']'</a><span class="delimiter">)</span> <a href="#1694397" title="=&gt; List[(scalaz.xml.CData.Line, Char)]">::</a> <a href="#1694410" title="=&gt; (scalaz.xml.CData.Line, Char)" class="delimiter">(</a>_, <a href="#1694409" title="=&gt; Char" class="char">'&gt;'</a><span class="delimiter">)</span> <a href="#1694404" title="=&gt; List[(scalaz.xml.CData.Line, Char)]">::</a> <a href="#1694410" title="List[(scalaz.xml.CData.Line, Char)]" id="1546311">ds</a> =&gt;
              <a href="../../core/Free.scala.html#283382" title="(a: (scala.collection.immutable.Nil.type, List[(scalaz.xml.CData.Line, Char)]))(implicit evidence$1: scalaz.Functor[Function0])scalaz.Free.Return[Function0,(scala.collection.immutable.Nil.type, List[(scalaz.xml.CData.Line, Char)])]">Return</a><a href="#1694425" title="(x: scalaz.Free.Trampoline[(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)])scalaz.Free.Trampoline[(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)]" class="delimiter">(</a><span title="(_1: scala.collection.immutable.Nil.type, _2: List[(scalaz.xml.CData.Line, Char)])(scala.collection.immutable.Nil.type, List[(scalaz.xml.CData.Line, Char)])" class="delimiter">(</span><span title="scala.collection.immutable.Nil.type">Nil</span>, <a href="#1546311" title="List[(scalaz.xml.CData.Line, Char)]">ds</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="#1694397" title="=&gt; (scalaz.xml.CData.Line, Char)" class="delimiter">(</a>_, <a href="#1694415" title="Char" id="1546345">d</a><span class="delimiter">)</span> :: <a href="#1694397" title="List[(scalaz.xml.CData.Line, Char)]" id="1546346">ds</a> =&gt;
              <a href="#1546297" title="(s: scalaz.xml.Token.LStr)scalaz.Free.Trampoline[(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)]">cdata</a><span class="delimiter">(</span><a href="#1546346" title="List[(scalaz.xml.CData.Line, Char)]">ds</a><span class="delimiter">)</span> <a href="#1694425" title="(x: scalaz.Free.Trampoline[(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)])scalaz.Free.Trampoline[(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)]">map</a> <a href="#1546351" title="(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)" class="delimiter">{</a>
                <span class="keyword">case</span> <span class="delimiter">(</span><a href="#1694388" title="scalaz.xml.QName.Str" id="1546354">xs</a>, <a href="#1694388" title="scalaz.xml.Token.LStr" id="1546355">ys</a><span class="delimiter">)</span> =&gt; <a href="#1694390" title="(x: (scalaz.xml.QName.Str, scalaz.xml.Token.LStr))(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)" class="delimiter">(</a><a href="#1546345" title="Char">d</a><a href="#1546360" title="(x: Char)List[Char]">::</a><a href="#1546354" title="scalaz.xml.QName.Str">xs</a>, <a href="#1546355" title="scalaz.xml.Token.LStr">ys</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="keyword">case</span> <a href="#1694394" title="scalaz.Free.Trampoline[(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)]">Nil</a> =&gt;
              <a href="../../core/Free.scala.html#283382" title="(a: (scala.collection.immutable.Nil.type, scala.collection.immutable.Nil.type))(implicit evidence$1: scalaz.Functor[Function0])scalaz.Free.Return[Function0,(scala.collection.immutable.Nil.type, scala.collection.immutable.Nil.type)]">Return</a><a href="#1694425" title="(x: scalaz.Free.Trampoline[(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)])scalaz.Free.Trampoline[(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)]" class="delimiter">(</a><span title="(_1: scala.collection.immutable.Nil.type, _2: scala.collection.immutable.Nil.type)(scala.collection.immutable.Nil.type, scala.collection.immutable.Nil.type)" class="delimiter">(</span><span title="scala.collection.immutable.Nil.type">Nil</span>, <span title="scala.collection.immutable.Nil.type">Nil</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">for</span> <span class="delimiter">{</span>
          <a title="(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)" id="1546402">xsts</a> &lt;- <a href="#1546297" title="(s: scalaz.xml.Token.LStr)scalaz.Free.Trampoline[(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)]">cdata</a><a href="../../core/Free.scala.html#48231" title="(f: ((scalaz.xml.QName.Str, scalaz.xml.Token.LStr)) =&gt; scalaz.Free[Function0,List[scalaz.xml.Token]])scalaz.Free[Function0,List[scalaz.xml.Token]]" class="delimiter">(</a><a href="#1546296" title="List[(scalaz.xml.CData.Line, Char)]">cs</a><span class="delimiter">)</span>
          <a title="List[scalaz.xml.Token]" id="1546407">tts</a> &lt;- <a href="#864530" title="(s: scalaz.xml.Token.LStr)scalaz.Free.Trampoline[List[scalaz.xml.Token]]">tokensT</a><a href="../../core/Free.scala.html#48225" title="(f: List[scalaz.xml.Token] =&gt; List[scalaz.xml.Token])scalaz.Free[Function0,List[scalaz.xml.Token]]" class="delimiter">(</a><a href="#1546402" title="(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)">xsts</a>.<span title="=&gt; scalaz.xml.Token.LStr">_2</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="Token.scala.html#864485" title="(d: scalaz.xml.CData)scalaz.xml.Token">textToken</a><span class="delimiter">(</span><a href="CData.scala.html#30430" title="scalaz.xml.CData.type">CData</a>.<a href="CData.scala.html#864392" title="(verbatim: scalaz.xml.CDataKind, data: scalaz.xml.QName.Str, line: Option[scalaz.xml.CData.Line])scalaz.xml.CData">cdata</a><span class="delimiter">(</span>
                  verbatim = <a href="CDataKind.scala.html#864402" title="=&gt; scalaz.xml.CDataKind">cdataVerbatim</a>
                , data = <a href="#1546402" title="(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)">xsts</a>.<span title="=&gt; scalaz.xml.QName.Str">_1</span>
                , line = <span title="(x: scalaz.xml.CData.Line)Some[scalaz.xml.CData.Line]">Some</span><span class="delimiter">(</span><a href="#1546023" title="(scalaz.xml.CData.Line, Char)">c</a>.<span title="=&gt; scalaz.xml.CData.Line">_1</span><span class="delimiter">)</span>
                <span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1546408" title="(x: scalaz.xml.Token)List[scalaz.xml.Token]">::</a> <a href="#1546407" title="List[scalaz.xml.Token]">tts</a>
      <span class="delimiter">}</span>
      <span class="keyword">case</span> _ =&gt; <a href="#1694554" title="(x: scalaz.Free.Trampoline[List[scalaz.xml.Token]])scalaz.Free.Trampoline[List[scalaz.xml.Token]]" class="delimiter">{</a>
        @annotation.tailrec
        <span class="keyword">def</span> <a title="(acc: scalaz.xml.QName.Str, nesting: Int, z: scalaz.xml.Token.LStr)scalaz.Free.Trampoline[(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)]" id="1546419">munch</a><span class="delimiter">(</span><a title="scalaz.xml.QName.Str" id="1546420">acc</a>: <span title="scalaz.xml.QName.Str">Str</span>, <a title="Int" id="1546421">nesting</a>: <span title="Int">Int</span>, <a title="scalaz.xml.Token.LStr" id="1546422">z</a>: <span title="scalaz.xml.Token.LStr">LStr</span><span class="delimiter">)</span>: <a href="../../core/Free.scala.html#10907" title="scalaz.Free.Trampoline[(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)]">Trampoline</a><span class="delimiter">[</span><span class="delimiter">(</span>Str, LStr<span class="delimiter">)</span><span class="delimiter">]</span> =
          <a href="#1546422" title="scalaz.xml.Token.LStr">z</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="#1694445" title="=&gt; (scalaz.xml.CData.Line, Char)" class="delimiter">(</a>_, <a href="#1694444" title="=&gt; Char" class="char">'&gt;'</a><span class="delimiter">)</span> <a href="#1694443" title="Boolean(false)">::</a> <a href="#1694445" title="List[(scalaz.xml.CData.Line, Char)]" id="1546428">ds</a> =&gt;
              <a href="#1694465" title="(x: scalaz.Free.Trampoline[(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)])scalaz.Free.Trampoline[(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)]" class="keyword">if</a><span class="delimiter">(</span><a href="#1546421" title="Int">nesting</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
                <a href="../../core/Free.scala.html#283382" title="(a: (List[Char], List[(scalaz.xml.CData.Line, Char)]))(implicit evidence$1: scalaz.Functor[Function0])scalaz.Free.Return[Function0,(List[Char], List[(scalaz.xml.CData.Line, Char)])]">Return</a><a href="Token.scala.html#864503" title="=&gt; scalaz.Functor[Function0]" class="delimiter">(</a><span title="(_1: List[Char], _2: List[(scalaz.xml.CData.Line, Char)])(List[Char], List[(scalaz.xml.CData.Line, Char)])" class="delimiter">(</span><span title="Char('&gt;')" class="char">'&gt;'</span><a href="#1546445" title="(x: Char)List[Char]">::</a><a href="#1546420" title="scalaz.xml.QName.Str">acc</a>, <a href="#1546428" title="List[(scalaz.xml.CData.Line, Char)]">ds</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">else</span>
                <a href="#1546419" title="(acc: scalaz.xml.QName.Str, nesting: Int, z: scalaz.xml.Token.LStr)scalaz.Free.Trampoline[(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)]">munch</a><span class="delimiter">(</span><span title="Char('&gt;')" class="char">'&gt;'</span><a href="#1546468" title="(x: Char)List[Char]">::</a><a href="#1546420" title="scalaz.xml.QName.Str">acc</a>, <a href="#1546421" title="Int">nesting</a><span title="(x: Int)Int">-</span><span title="Int(1)" class="int">1</span>, <a href="#1546428" title="List[(scalaz.xml.CData.Line, Char)]">ds</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="#1694445" title="=&gt; (scalaz.xml.CData.Line, Char)" class="delimiter">(</a>_, <a href="#1694450" title="=&gt; Char" class="char">'&lt;'</a><span class="delimiter">)</span> :: <a href="#1694445" title="List[(scalaz.xml.CData.Line, Char)]" id="1546480">ds</a> =&gt;
              <a href="#1546419" title="(acc: scalaz.xml.QName.Str, nesting: Int, z: scalaz.xml.Token.LStr)scalaz.Free.Trampoline[(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)]">munch</a><a href="#1694465" title="(x: scalaz.Free.Trampoline[(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)])scalaz.Free.Trampoline[(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)]" class="delimiter">(</a><span title="Char('&lt;')" class="char">'&lt;'</span><a href="#1546481" title="(x: Char)List[Char]">::</a><a href="#1546420" title="scalaz.xml.QName.Str">acc</a>, <a href="#1546421" title="Int">nesting</a><span title="(x: Int)Int">+</span><span title="Int(1)" class="int">1</span>, <a href="#1546480" title="List[(scalaz.xml.CData.Line, Char)]">ds</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="#1694445" title="=&gt; (scalaz.xml.CData.Line, Char)" class="delimiter">(</a>_, <a href="#1694456" title="Char" id="1546493">x</a><span class="delimiter">)</span> :: <a href="#1694445" title="List[(scalaz.xml.CData.Line, Char)]" id="1546494">ds</a> =&gt;
              <a href="#1546419" title="(acc: scalaz.xml.QName.Str, nesting: Int, z: scalaz.xml.Token.LStr)scalaz.Free.Trampoline[(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)]">munch</a><a href="#1694465" title="(x: scalaz.Free.Trampoline[(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)])scalaz.Free.Trampoline[(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)]" class="delimiter">(</a><a href="#1546493" title="Char">x</a><a href="#1546495" title="(x: Char)List[Char]">::</a><a href="#1546420" title="scalaz.xml.QName.Str">acc</a>, <a href="#1546421" title="Int">nesting</a>, <a href="#1546494" title="List[(scalaz.xml.CData.Line, Char)]">ds</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="#1694443" title="scalaz.Free.Trampoline[(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)]">Nil</a> =&gt;
              <a href="../../core/Free.scala.html#283382" title="(a: (scalaz.xml.QName.Str, scala.collection.immutable.Nil.type))(implicit evidence$1: scalaz.Functor[Function0])scalaz.Free.Return[Function0,(scalaz.xml.QName.Str, scala.collection.immutable.Nil.type)]">Return</a><a href="#1694465" title="(x: scalaz.Free.Trampoline[(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)])scalaz.Free.Trampoline[(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)]" class="delimiter">(</a><span title="(_1: scalaz.xml.QName.Str, _2: scala.collection.immutable.Nil.type)(scalaz.xml.QName.Str, scala.collection.immutable.Nil.type)" class="delimiter">(</span><a href="#1546420" title="scalaz.xml.QName.Str">acc</a>, <span title="scala.collection.immutable.Nil.type">Nil</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>


        <span class="keyword">for</span> <span class="delimiter">{</span>
          <a title="(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)" id="1546531">xsts</a> &lt;- <a href="#1546419" title="(acc: scalaz.xml.QName.Str, nesting: Int, z: scalaz.xml.Token.LStr)scalaz.Free.Trampoline[(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)]">munch</a><a href="../../core/Free.scala.html#48231" title="(f: ((scalaz.xml.QName.Str, scalaz.xml.Token.LStr)) =&gt; scalaz.Free[Function0,List[scalaz.xml.Token]])scalaz.Free[Function0,List[scalaz.xml.Token]]" class="delimiter">(</a><span title="scala.collection.immutable.Nil.type">Nil</span>, <span title="Int(0)" class="int">0</span>, <a href="#1546024" title="scalaz.xml.Token.LStr">s</a><span class="delimiter">)</span>
          <a title="List[scalaz.xml.Token]" id="1546535">tts</a> &lt;- <a href="#864530" title="(s: scalaz.xml.Token.LStr)scalaz.Free.Trampoline[List[scalaz.xml.Token]]">tokensT</a><a href="../../core/Free.scala.html#48225" title="(f: List[scalaz.xml.Token] =&gt; List[scalaz.xml.Token])scalaz.Free[Function0,List[scalaz.xml.Token]]" class="delimiter">(</a><a href="#1546531" title="(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)">xsts</a>.<span title="=&gt; scalaz.xml.Token.LStr">_2</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="Token.scala.html#864485" title="(d: scalaz.xml.CData)scalaz.xml.Token">textToken</a><span class="delimiter">(</span><a href="CData.scala.html#30430" title="scalaz.xml.CData.type">CData</a>.<a href="CData.scala.html#864392" title="(verbatim: scalaz.xml.CDataKind, data: scalaz.xml.QName.Str, line: Option[scalaz.xml.CData.Line])scalaz.xml.CData">cdata</a><span class="delimiter">(</span>
                  verbatim = <a href="CDataKind.scala.html#864404" title="=&gt; scalaz.xml.CDataKind">cdataRaw</a>
                , data = <span title="Char('&lt;')" class="char">'&lt;'</span><a href="#1546537" title="(x: Char)List[Char]">::</a><span title="Char('!')" class="char">'!'</span><a href="#1546538" title="(x: Char)List[Char]">::</a><a href="#1546531" title="(scalaz.xml.QName.Str, scalaz.xml.Token.LStr)">xsts</a>.<span title="=&gt; scalaz.xml.QName.Str">_1</span>.<span title="=&gt; List[Char]">reverse</span>
                , line = <span title="(x: scalaz.xml.CData.Line)Some[scalaz.xml.CData.Line]">Some</span><span class="delimiter">(</span><a href="#1546023" title="(scalaz.xml.CData.Line, Char)">c</a>.<span title="=&gt; scalaz.xml.CData.Line">_1</span><span class="delimiter">)</span>
                <span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1546536" title="(x: scalaz.xml.Token)List[scalaz.xml.Token]">::</a> <a href="#1546535" title="List[scalaz.xml.Token]">tts</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span title="AnyRef" class="keyword">object</span> <a title="scalaz.xml.XSource.type" id="30534">XSource</a> <a href="#30535" title="scalaz.xml.XSource.type" class="keyword">extends</a> <a href="#30533" title="scalaz.xml.XSources">XSources</a>

        </pre>
    </body>
</html>