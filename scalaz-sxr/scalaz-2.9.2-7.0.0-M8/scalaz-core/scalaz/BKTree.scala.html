<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scalaz-core/scalaz/BKTree.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scalaz

<span class="keyword">import</span> collection.immutable.IntMap
<span class="keyword">import</span> annotation.tailrec

<span class="keyword">import</span> <a href="#10528" title="object scalaz.BKTree">BKTree</a>._

<span class="comment">/**
 * Burkhard-Keller trees provide an implementation of sets which apart
 * from the ordinary operations also has an approximate member search,
 * allowing you to search for elements that are of a distance `n` from
 * the element you are searching for. The distance is determined using
 * a metric on the type of elements. Therefore all elements must
 * implement the [[scalaz.MetricSpace]] type class, rather than the more usual
 * [[scalaz.Ordering]].
 *
 * The worst case complexity of many of these operations is quite bad,
 * but the expected behavior varies greatly with the metric. For
 * example, the discrete metric (`distance x y | y == x = 0 |
 * otherwise = 1`) makes BK-trees behave abysmally. The metrics
 * mentioned above should give good performance characteristics.
 *
 * This implementation is a port of Haskell's [[http://hackage.haskell.org/packages/archive/bktrees/0.2.1/doc/html/src/Data-Set-BKTree.html Data.Set.BKTree]]
 */</span>
<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait BKTree[A] extends java.lang.Object with ScalaObject" id="10527">BKTree</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="26175">A</a><span class="delimiter">]</span> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="119261">isEmpty</a>: <span title="Boolean">Boolean</span> =
    <a href="#10527" title="scalaz.BKTree[A]" class="keyword">this</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean(true)">BKTreeEmpty</span><span class="delimiter">(</span><span class="delimiter">)</span>       =&gt; <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">case</span> <span title="Boolean(false)">BKTreeNode</span><span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[B](f: A =&gt; B)scalaz.BKTree[B]" id="119262">map</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="119264">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; B" id="119646">f</a>: A =&gt; B<span class="delimiter">)</span>: <a href="#10527" title="scalaz.BKTree[B]">BKTree</a><span class="delimiter">[</span>B<span class="delimiter">]</span> =
    <a href="#10527" title="scalaz.BKTree[A]" class="keyword">this</a> <span title="scalaz.BKTree[B]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scalaz.BKTreeEmpty[B]">BKTreeEmpty</span><span class="delimiter">(</span><span class="delimiter">)</span>       =&gt; <a href="#122258" title="()scalaz.BKTreeEmpty[B]">BKTreeEmpty</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scalaz.BKTreeNode[B]">BKTreeNode</span><span class="delimiter">(</span><a title="A" id="119654">a</a>, <a title="Int" id="119655">s</a>, <a title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]" id="119656">c</a><span class="delimiter">)</span> =&gt; <a href="#122265" title="(value: B, sz: Int, children: scala.collection.immutable.IntMap[scalaz.BKTree[B]])scalaz.BKTreeNode[B]">BKTreeNode</a><span class="delimiter">(</span><a href="#119646" title="(v1: A)B">f</a><span class="delimiter">(</span><a href="#119654" title="A">a</a><span class="delimiter">)</span>, <a href="#119655" title="Int">s</a>, <a href="#119656" title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]">c</a>.<span title="(f: (scala.collection.immutable.IntMapUtils.Int, scalaz.BKTree[A]) =&gt; scalaz.BKTree[B])scala.collection.immutable.IntMap[scalaz.BKTree[B]]">transform</span><span class="delimiter">(</span><span class="delimiter">(</span>_: <span title="Int">Int</span>, z: <a href="#10527" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <a href="#119708" title="scalaz.BKTree[A]">z</a> <a href="#119262" title="(f: A =&gt; B)scalaz.BKTree[B]">map</a> <a href="#119646" title="A =&gt; B">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; Int" id="119265">size</a>: <span title="Int">Int</span> =
    <a href="#10527" title="scalaz.BKTree[A]" class="keyword">this</a> <span title="Int" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Int(0)">BKTreeEmpty</span><span class="delimiter">(</span><span class="delimiter">)</span>       =&gt; <span title="Int(0)" class="int">0</span>
      <span class="keyword">case</span> <span title="Int">BKTreeNode</span><span class="delimiter">(</span>_, <a title="Int" id="119770">s</a>, _<span class="delimiter">)</span> =&gt; <a href="#119770" title="Int">s</a>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(a: A)(implicit A: scalaz.MetricSpace[A])scalaz.BKTree[A]" id="119266">+</a><span class="delimiter">(</span><a title="A" id="119771">a</a>: <a href="#26175" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.MetricSpace[A]" id="119772">A</a>: <a href="MetricSpace.scala.html#15303" title="scalaz.MetricSpace[A]">MetricSpace</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#10527" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =
    <a href="#10527" title="scalaz.BKTree[A]" class="keyword">this</a> <span title="scalaz.BKTree[A]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scalaz.BKTreeNode[A]">BKTreeEmpty</span><span class="delimiter">(</span><span class="delimiter">)</span>       =&gt; <a href="#122265" title="(value: A, sz: Int, children: scala.collection.immutable.IntMap[scalaz.BKTree[A]])scalaz.BKTreeNode[A]">BKTreeNode</a><span class="delimiter">(</span><a href="#119771" title="A">a</a>, <span title="Int(1)" class="int">1</span>, <span title="object scala.collection.immutable.IntMap">IntMap</span>.<span title="scala.collection.immutable.IntMap[Nothing]">empty</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scalaz.BKTreeNode[A]">BKTreeNode</span><span class="delimiter">(</span><a title="A" id="119815">v</a>, <a title="Int" id="119816">s</a>, <a title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]" id="119817">c</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Int" id="119818">d</a> = <a href="#119772" title="scalaz.MetricSpace[A]">A</a>.<a href="MetricSpace.scala.html#105274" title="(a: A, b: A)Int">distance</a><span class="delimiter">(</span><a href="#119815" title="A">v</a>, <a href="#119771" title="A">a</a><span class="delimiter">)</span>
        <a href="#122265" title="(value: A, sz: Int, children: scala.collection.immutable.IntMap[scalaz.BKTree[A]])scalaz.BKTreeNode[A]">BKTreeNode</a><span class="delimiter">(</span><a href="#119815" title="A">v</a>, <a href="#119816" title="Int">s</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="#119817" title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]">c</a> <span title="(kv: (scala.collection.immutable.IntMapUtils.Int, scalaz.BKTree[A]))scala.collection.immutable.IntMap[scalaz.BKTree[A]]">+</span> <span class="delimiter">(</span><span title="(_1: Int, _2: scalaz.BKTree[A])(Int, scalaz.BKTree[A])" class="delimiter">(</span><a href="#119818" title="Int">d</a>, <a href="#119817" title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]">c</a> <span title="(key: scala.collection.immutable.IntMapUtils.Int)Option[scalaz.BKTree[A]]">get</span> <a href="#119818" title="Int">d</a> <span title="scalaz.BKTree[A]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="scalaz.BKTreeNode[A]">None</span>    =&gt; <a href="#122265" title="(value: A, sz: Int, children: scala.collection.immutable.IntMap[scalaz.BKTree[A]])scalaz.BKTreeNode[A]">BKTreeNode</a><span class="delimiter">(</span><a href="#119771" title="A">a</a>, <span title="Int(1)" class="int">1</span>, <span title="object scala.collection.immutable.IntMap">IntMap</span>.<span title="scala.collection.immutable.IntMap[Nothing]">empty</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="scalaz.BKTree[A]">Some</span><span class="delimiter">(</span><a title="scalaz.BKTree[A]" id="119932">w</a><span class="delimiter">)</span> =&gt; <a href="#119932" title="scalaz.BKTree[A]">w</a> <a href="#119266" title="(a: A)(implicit A: scalaz.MetricSpace[A])scalaz.BKTree[A]">+</a> <a href="#119771" title="A">a</a>
        <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(t: scalaz.BKTree[A])(implicit m: scalaz.MetricSpace[A])scalaz.BKTree[A]" id="119267">++</a><span class="delimiter">(</span><a title="scalaz.BKTree[A]" id="119947">t</a>: <a href="#10527" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.MetricSpace[A]" id="119948">m</a>: <a href="MetricSpace.scala.html#15303" title="scalaz.MetricSpace[A]">MetricSpace</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#10527" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="scalaz.BKTree[A]" id="119950">k</a>: <a href="#10527" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#10527" title="scalaz.BKTree[A]" class="keyword">this</a>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="A" id="119978">v</a> &lt;- <a href="#119947" title="scalaz.BKTree[A]">t</a>.<a href="#119270" title="(f: A =&gt; Unit)Unit">values</a><span class="delimiter">)</span>
      <a href="#119950" title="scalaz.BKTree[A]">k</a> = <a href="#119950" title="scalaz.BKTree[A]">k</a> <a href="#119266" title="(a: A)(implicit A: scalaz.MetricSpace[A])scalaz.BKTree[A]">+</a> <a href="#119978" title="A">v</a>
    <a href="#119950" title="scalaz.BKTree[A]">k</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(a: A)(implicit A: scalaz.MetricSpace[A])scalaz.BKTree[A]" id="119268">-</a><span class="delimiter">(</span><a title="A" id="119980">a</a>: <a href="#26175" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.MetricSpace[A]" id="119981">A</a>: <a href="MetricSpace.scala.html#15303" title="scalaz.MetricSpace[A]">MetricSpace</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#10527" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =
    <a href="#10527" title="scalaz.BKTree[A]" class="keyword">this</a> <span title="scalaz.BKTree[A]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scalaz.BKTreeEmpty[A]">BKTreeEmpty</span><span class="delimiter">(</span><span class="delimiter">)</span>       =&gt; <a href="#122258" title="()scalaz.BKTreeEmpty[A]">BKTreeEmpty</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scalaz.BKTree[A]">BKTreeNode</span><span class="delimiter">(</span><a title="A" id="119987">v</a>, _, <a title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]" id="119988">c</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Int" id="119989">d</a> = <a href="#119981" title="scalaz.MetricSpace[A]">A</a>.<a href="MetricSpace.scala.html#105274" title="(a: A, b: A)Int">distance</a><span class="delimiter">(</span><a href="#119987" title="A">v</a>, <a href="#119980" title="A">a</a><span class="delimiter">)</span>
        <span title="scalaz.BKTree[A]" class="keyword">if</span><span class="delimiter">(</span><a href="#119989" title="Int">d</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#119997" title="(as: A*)(implicit evidence$1: scalaz.MetricSpace[A])scalaz.BKTree[A]">BKTree</a><a href="#119981" title="scalaz.MetricSpace[A]" class="delimiter">(</a><a href="#119988" title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]">c</a>.<span title="=&gt; Iterable[scalaz.BKTree[A]]">values</span>.<span title="=&gt; Iterable[scalaz.BKTree[A]]">seq</span>.<span title="(f: scalaz.BKTree[A] =&gt; scala.collection.GenTraversableOnce[A])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scalaz.BKTree[A]],A,Iterable[A]])Iterable[A]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,A,Iterable[A]]" class="delimiter">(</span><a href="#120037" title="scalaz.BKTree[A]">_</a>.<a href="#119270" title="=&gt; List[A]">values</a><span class="delimiter">)</span>.<span title="=&gt; Seq[A]">toSeq</span>: _*<span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="BKTree.this.M[scalaz.BKTree[A]]" id="120094">subTree</a> = <a href="#119283" title="(m: BKTree.this.M[scalaz.BKTree[A]], k: Int, f: scalaz.BKTree[A] =&gt; Option[scalaz.BKTree[A]])BKTree.this.M[scalaz.BKTree[A]]">updateMap</a><span class="delimiter">(</span><a href="#119988" title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]">c</a>, <a href="#119989" title="Int">d</a>, <span class="delimiter">(</span>t: <a href="#10527" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <span title="(x: scalaz.BKTree[A])Some[scalaz.BKTree[A]]">Some</span><span class="delimiter">(</span><a href="#120164" title="scalaz.BKTree[A]">t</a> <a href="#119268" title="(a: A)(implicit A: scalaz.MetricSpace[A])scalaz.BKTree[A]">-</a> <a href="#119980" title="A">a</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Int" id="120095">size</a> = <a href="#120094" title="BKTree.this.M[scalaz.BKTree[A]]">subTree</a>.<span title="=&gt; Iterable[scalaz.BKTree[A]]">values</span>.<span title="(f: scalaz.BKTree[A] =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scalaz.BKTree[A]],Int,Iterable[Int]])Iterable[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,Int,Iterable[Int]]" class="delimiter">(</span><a href="#120187" title="scalaz.BKTree[A]">_</a>.<a href="#119265" title="=&gt; Int">size</a><span class="delimiter">)</span>.<span title="(implicit num: Numeric[Int])Int">sum</span> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>
          <a href="#122265" title="(value: A, sz: Int, children: scala.collection.immutable.IntMap[scalaz.BKTree[A]])scalaz.BKTreeNode[A]">BKTreeNode</a><span class="delimiter">(</span><a href="#119987" title="A">v</a>, <a href="#120095" title="Int">size</a>, <a href="#120094" title="BKTree.this.M[scalaz.BKTree[A]]">subTree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(t: scalaz.BKTree[A])(implicit m: scalaz.MetricSpace[A])scalaz.BKTree[A]" id="119269">--</a><span class="delimiter">(</span><a title="scalaz.BKTree[A]" id="121236">t</a>: <a href="#10527" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.MetricSpace[A]" id="121237">m</a>: <a href="MetricSpace.scala.html#15303" title="scalaz.MetricSpace[A]">MetricSpace</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#10527" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="scalaz.BKTree[A]" id="121239">k</a>: <a href="#10527" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#10527" title="scalaz.BKTree[A]" class="keyword">this</a>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="A" id="121261">v</a> &lt;- <a href="#121236" title="scalaz.BKTree[A]">t</a>.<a href="#119270" title="(f: A =&gt; Unit)Unit">values</a><span class="delimiter">)</span>
      <a href="#121239" title="scalaz.BKTree[A]">k</a> = <a href="#121239" title="scalaz.BKTree[A]">k</a> <a href="#119268" title="(a: A)(implicit A: scalaz.MetricSpace[A])scalaz.BKTree[A]">-</a> <a href="#121261" title="A">v</a>
    <a href="#121239" title="scalaz.BKTree[A]">k</a>
  <span class="delimiter">}</span>  

  <span class="keyword">def</span> <a title="=&gt; List[A]" id="119270">values</a>: <span title="List[A]">List</span><span class="delimiter">[</span>A<span class="delimiter">]</span> =
    <a href="#10527" title="scalaz.BKTree[A]" class="keyword">this</a> <span title="List[A]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">BKTreeEmpty</span><span class="delimiter">(</span><span class="delimiter">)</span>       =&gt; <span title="object Nil">Nil</span>
      <span class="keyword">case</span> <span title="List[A]">BKTreeNode</span><span class="delimiter">(</span><a title="A" id="121266">v</a>, _, <a title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]" id="121267">c</a><span class="delimiter">)</span> =&gt; <a href="#121266" title="A">v</a> <a href="#121268" title="(x: A)List[A]">::</a> <a href="#121267" title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]">c</a>.<span title="=&gt; Iterator[scalaz.BKTree[A]]">valuesIterator</span>.<span title="=&gt; List[scalaz.BKTree[A]]">toList</span>.<span title="(f: scalaz.BKTree[A] =&gt; scala.collection.GenTraversableOnce[A])(implicit bf: scala.collection.generic.CanBuildFrom[List[scalaz.BKTree[A]],A,List[A]])List[A]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,A,List[A]]" class="delimiter">(</span><a href="#121293" title="scalaz.BKTree[A]">_</a>.<a href="#119270" title="=&gt; List[A]">values</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>


  <span class="comment">/**
   * Returns true of this set contains `a`.
   */</span>
  @tailrec
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(a: A)(implicit A: scalaz.MetricSpace[A])Boolean" id="119271">contains</a><span class="delimiter">(</span><a title="A" id="121413">a</a>: <a href="#26175" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.MetricSpace[A]" id="121414">A</a>: <a href="MetricSpace.scala.html#15303" title="scalaz.MetricSpace[A]">MetricSpace</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <a href="#10527" title="scalaz.BKTree[A]" class="keyword">this</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean(false)">BKTreeEmpty</span><span class="delimiter">(</span><span class="delimiter">)</span>       =&gt; <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">case</span> <span title="Boolean">BKTreeNode</span><span class="delimiter">(</span><a title="A" id="121419">v</a>, _, <a title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]" id="121420">c</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Int" id="121421">d</a> = <a href="#121414" title="scalaz.MetricSpace[A]">A</a>.<a href="MetricSpace.scala.html#105274" title="(a: A, b: A)Int">distance</a><span class="delimiter">(</span><a href="#121419" title="A">v</a>, <a href="#121413" title="A">a</a><span class="delimiter">)</span>
        <a href="#121421" title="Int">d</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#121420" title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]">c</a> <span title="(key: scala.collection.immutable.IntMapUtils.Int)Option[scalaz.BKTree[A]]">get</span> <a href="#121421" title="Int">d</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean(false)">None</span>    =&gt; <span title="Boolean(false)" class="keyword">false</span>
          <span class="keyword">case</span> <span title="Boolean">Some</span><span class="delimiter">(</span><a title="scalaz.BKTree[A]" id="121431">w</a><span class="delimiter">)</span> =&gt; <a href="#121431" title="scalaz.BKTree[A]">w</a> <a href="#119271" title="(a: A)(implicit A: scalaz.MetricSpace[A])Boolean">contains</a> <a href="#121413" title="A">a</a>
        <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/** An alias for `contains` */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(a: A)(implicit A: scalaz.MetricSpace[A])Boolean" id="119272">-?-</a><span class="delimiter">(</span><a title="A" id="121432">a</a>: <a href="#26175" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.MetricSpace[A]" id="121433">A</a>: <a href="MetricSpace.scala.html#15303" title="scalaz.MetricSpace[A]">MetricSpace</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#119271" title="(a: A)(implicit A: scalaz.MetricSpace[A])Boolean">contains</a><a href="#121433" title="scalaz.MetricSpace[A]" class="delimiter">(</a><a href="#121432" title="A">a</a><span class="delimiter">)</span>

  <span class="comment">/** Returns true if this set contains an element which has a distance from `a` that is less than or equal to `n` */</span>
  <span class="keyword">def</span> <a title="(a: A, n: Int)(implicit A: scalaz.MetricSpace[A])Boolean" id="119273">containsApproximate</a><span class="delimiter">(</span><a title="A" id="121435">a</a>: <a href="#26175" title="A">A</a>, <a title="Int" id="121436">n</a>: <span title="Int">Int</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.MetricSpace[A]" id="121437">A</a>: <a href="MetricSpace.scala.html#15303" title="scalaz.MetricSpace[A]">MetricSpace</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <a href="#10527" title="scalaz.BKTree[A]" class="keyword">this</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean(false)">BKTreeEmpty</span><span class="delimiter">(</span><span class="delimiter">)</span>       =&gt; <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">case</span> <span title="Boolean">BKTreeNode</span><span class="delimiter">(</span><a title="A" id="121442">v</a>, _, <a title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]" id="121443">c</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Int" id="121444">d</a> = <a href="#121437" title="scalaz.MetricSpace[A]">A</a>.<a href="MetricSpace.scala.html#105274" title="(a: A, b: A)Int">distance</a><span class="delimiter">(</span><a href="#121442" title="A">v</a>, <a href="#121435" title="A">a</a><span class="delimiter">)</span>
        <a href="#121444" title="Int">d</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="#121436" title="Int">n</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#119279" title="(d: Int, n: Int)BKTree.this.M[scalaz.BKTree[A]]">subChildren</a><span class="delimiter">(</span><a href="#121444" title="Int">d</a>, <a href="#121436" title="Int">n</a><span class="delimiter">)</span> <span title="(p: ((scala.collection.immutable.IntMapUtils.Int, scalaz.BKTree[A])) =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#121471" title="(scala.collection.immutable.IntMapUtils.Int, scalaz.BKTree[A])">_</a>.<span title="=&gt; scalaz.BKTree[A]">_2</span> <a href="#119273" title="(a: A, n: Int)(implicit A: scalaz.MetricSpace[A])Boolean">containsApproximate</a><span class="delimiter">(</span><a href="#121435" title="A">a</a>, <a href="#121436" title="Int">n</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/** An alias for `containsApproximate` */</span>
  <span class="keyword">def</span> <a title="(a: A, n: Int)(implicit A: scalaz.MetricSpace[A])Boolean" id="119274">=?=</a><span class="delimiter">(</span><a title="A" id="121472">a</a>: <a href="#26175" title="A">A</a>, <a title="Int" id="121473">n</a>: <span title="Int">Int</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.MetricSpace[A]" id="121474">A</a>: <a href="MetricSpace.scala.html#15303" title="scalaz.MetricSpace[A]">MetricSpace</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#119273" title="(a: A, n: Int)(implicit A: scalaz.MetricSpace[A])Boolean">containsApproximate</a><a href="#121474" title="scalaz.MetricSpace[A]" class="delimiter">(</a><a href="#121472" title="A">a</a>, <a href="#121473" title="Int">n</a><span class="delimiter">)</span>

  <span class="comment">/** Returns the elements which have an distance from `a` that is less than or equal to `n`. */</span>
  <span class="keyword">def</span> <a title="(a: A, n: Int)(implicit A: scalaz.MetricSpace[A])List[A]" id="119275">valuesApproximate</a><span class="delimiter">(</span><a title="A" id="121476">a</a>: <a href="#26175" title="A">A</a>, <a title="Int" id="121477">n</a>: <span title="Int">Int</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.MetricSpace[A]" id="121478">A</a>: <a href="MetricSpace.scala.html#15303" title="scalaz.MetricSpace[A]">MetricSpace</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[A]">List</span><span class="delimiter">[</span>A<span class="delimiter">]</span> =
    <a href="#10527" title="scalaz.BKTree[A]" class="keyword">this</a> <span title="List[A]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">BKTreeEmpty</span><span class="delimiter">(</span><span class="delimiter">)</span>       =&gt; <span title="object Nil">Nil</span>
      <span class="keyword">case</span> <span title="List[A]">BKTreeNode</span><span class="delimiter">(</span><a title="A" id="121483">v</a>, _, <a title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]" id="121484">c</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Int" id="121485">d</a> = <a href="#121478" title="scalaz.MetricSpace[A]">A</a>.<a href="MetricSpace.scala.html#105274" title="(a: A, b: A)Int">distance</a><span class="delimiter">(</span><a href="#121483" title="A">v</a>, <a href="#121476" title="A">a</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[A]" id="121486">k</a> = <a href="#119279" title="(d: Int, n: Int)BKTree.this.M[scalaz.BKTree[A]]">subChildren</a><span class="delimiter">(</span><a href="#121485" title="Int">d</a>, <a href="#121477" title="Int">n</a><span class="delimiter">)</span>.<span title="=&gt; Iterator[scalaz.BKTree[A]]">valuesIterator</span>.<span title="=&gt; List[scalaz.BKTree[A]]">toList</span> <span title="(f: scalaz.BKTree[A] =&gt; scala.collection.GenTraversableOnce[A])(implicit bf: scala.collection.generic.CanBuildFrom[List[scalaz.BKTree[A]],A,List[A]])List[A]">flatMap</span> <span class="delimiter">(</span><a href="#121512" title="scalaz.BKTree[A]">_</a> <a href="#119275" title="(a: A, n: Int)(implicit A: scalaz.MetricSpace[A])List[A]">valuesApproximate</a><span class="delimiter">(</span><a href="#121476" title="A">a</a>, <a href="#121477" title="Int">n</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="List[A]" class="keyword">if</span> <span class="delimiter">(</span><a href="#121485" title="Int">d</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="#121477" title="Int">n</a><span class="delimiter">)</span>
          <a href="#121483" title="A">v</a> <a href="#121544" title="(x: A)List[A]">::</a> <a href="#121486" title="List[A]">k</a>
        <span class="keyword">else</span>
          <a href="#121486" title="List[A]">k</a>
    <span class="delimiter">}</span>

  <span class="comment">/** An alias for `valuesApproximate` */</span>
  <span class="keyword">def</span> <a title="(a: A, n: Int)(implicit A: scalaz.MetricSpace[A])List[A]" id="119276">|=|</a><span class="delimiter">(</span><a title="A" id="121550">a</a>: <a href="#26175" title="A">A</a>, <a title="Int" id="121551">n</a>: <span title="Int">Int</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.MetricSpace[A]" id="121552">A</a>: <a href="MetricSpace.scala.html#15303" title="scalaz.MetricSpace[A]">MetricSpace</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[A]">List</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#119275" title="(a: A, n: Int)(implicit A: scalaz.MetricSpace[A])List[A]">valuesApproximate</a><a href="#121552" title="scalaz.MetricSpace[A]" class="delimiter">(</a><a href="#121550" title="A">a</a>, <a href="#121551" title="Int">n</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">type</span> <a title="[A]scala.collection.immutable.IntMap[A]" id="119277">M</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="119278">A</a><span class="delimiter">]</span> = <span title="scala.collection.immutable.IntMap[A]">IntMap</span><span class="delimiter">[</span>A<span class="delimiter">]</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(d: Int, n: Int)BKTree.this.M[scalaz.BKTree[A]]" id="119279">subChildren</a><span class="delimiter">(</span><a title="Int" id="121451">d</a>: <span title="Int">Int</span>, <a title="Int" id="121452">n</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="BKTree.this.M[scalaz.BKTree[A]]">M</span><span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> =
    <a href="#10527" title="scalaz.BKTree[A]" class="keyword">this</a> <span title="BKTree.this.M[scalaz.BKTree[A]]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.IntMap[Nothing]">BKTreeEmpty</span><span class="delimiter">(</span><span class="delimiter">)</span>       =&gt; <span title="object scala.collection.immutable.IntMap">IntMap</span>.<span title="scala.collection.immutable.IntMap[Nothing]">empty</span>
      <span class="keyword">case</span> <span title="BKTree.this.M[scalaz.BKTree[A]]">BKTreeNode</span><span class="delimiter">(</span>_, _, <a title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]" id="121564">c</a><span class="delimiter">)</span> =&gt; <a href="#119280" title="(m: BKTree.this.M[scalaz.BKTree[A]], d: Int, n: Int)BKTree.this.M[scalaz.BKTree[A]]">subMap</a><span class="delimiter">(</span><a href="#121564" title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]">c</a>, <a href="#121451" title="Int">d</a>, <a href="#121452" title="Int">n</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(m: BKTree.this.M[scalaz.BKTree[A]], d: Int, n: Int)BKTree.this.M[scalaz.BKTree[A]]" id="119280">subMap</a><span class="delimiter">(</span><a title="BKTree.this.M[scalaz.BKTree[A]]" id="121565">m</a>: <span title="BKTree.this.M[scalaz.BKTree[A]]">M</span><span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="121566">d</a>: <span title="Int">Int</span>, <a title="Int" id="121567">n</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="BKTree.this.M[scalaz.BKTree[A]]">M</span><span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> =
    <a href="#119282" title="(m: BKTree.this.M[scalaz.BKTree[A]], k: Int)(BKTree.this.M[scalaz.BKTree[A]], BKTree.this.M[scalaz.BKTree[A]])">splitMap</a><span class="delimiter">(</span><a href="#119282" title="(m: BKTree.this.M[scalaz.BKTree[A]], k: Int)(BKTree.this.M[scalaz.BKTree[A]], BKTree.this.M[scalaz.BKTree[A]])">splitMap</a><span class="delimiter">(</span><a href="#121565" title="BKTree.this.M[scalaz.BKTree[A]]">m</a>, <a href="#121566" title="Int">d</a> <span title="(x: Int)Int">-</span> <a href="#121567" title="Int">n</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; BKTree.this.M[scalaz.BKTree[A]]">_2</span>, <a href="#121566" title="Int">d</a> <span title="(x: Int)Int">+</span> <a href="#121567" title="Int">n</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; BKTree.this.M[scalaz.BKTree[A]]">_1</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(k: Int)(BKTree.this.M[scalaz.BKTree[A]], BKTree.this.M[scalaz.BKTree[A]])" id="119281">splitChildren</a><span class="delimiter">(</span><a title="Int" id="121590">k</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="(BKTree.this.M[scalaz.BKTree[A]], BKTree.this.M[scalaz.BKTree[A]])" class="delimiter">(</span>M<span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, M<span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#10527" title="scalaz.BKTree[A]" class="keyword">this</a> <span title="(BKTree.this.M[scalaz.BKTree[A]], BKTree.this.M[scalaz.BKTree[A]])" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="(scala.collection.immutable.IntMap[Nothing], scala.collection.immutable.IntMap[Nothing])">BKTreeEmpty</span><span class="delimiter">(</span><span class="delimiter">)</span>       =&gt; <span title="(_1: scala.collection.immutable.IntMap[Nothing], _2: scala.collection.immutable.IntMap[Nothing])(scala.collection.immutable.IntMap[Nothing], scala.collection.immutable.IntMap[Nothing])" class="delimiter">(</span><span title="object scala.collection.immutable.IntMap">IntMap</span>.<span title="scala.collection.immutable.IntMap[Nothing]">empty</span>, <span title="object scala.collection.immutable.IntMap">IntMap</span>.<span title="scala.collection.immutable.IntMap[Nothing]">empty</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="(BKTree.this.M[scalaz.BKTree[A]], BKTree.this.M[scalaz.BKTree[A]])">BKTreeNode</span><span class="delimiter">(</span>_, _, <a title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]" id="121615">c</a><span class="delimiter">)</span> =&gt; <a href="#119282" title="(m: BKTree.this.M[scalaz.BKTree[A]], k: Int)(BKTree.this.M[scalaz.BKTree[A]], BKTree.this.M[scalaz.BKTree[A]])">splitMap</a><span class="delimiter">(</span><a href="#121615" title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]">c</a>, <a href="#121590" title="Int">k</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(m: BKTree.this.M[scalaz.BKTree[A]], k: Int)(BKTree.this.M[scalaz.BKTree[A]], BKTree.this.M[scalaz.BKTree[A]])" id="119282">splitMap</a><span class="delimiter">(</span><a title="BKTree.this.M[scalaz.BKTree[A]]" id="121569">m</a>: <span title="BKTree.this.M[scalaz.BKTree[A]]">M</span><span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="121570">k</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="(BKTree.this.M[scalaz.BKTree[A]], BKTree.this.M[scalaz.BKTree[A]])" class="delimiter">(</span>M<span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, M<span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="BKTree.this.M[scalaz.BKTree[A]]" id="121616">m1</a>: <span title="BKTree.this.M[scalaz.BKTree[A]]">M</span><span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="object scala.collection.immutable.IntMap">IntMap</span>.<span title="scala.collection.immutable.IntMap[Nothing]">empty</span>
    <span class="keyword">var</span> <a title="BKTree.this.M[scalaz.BKTree[A]]" id="121617">m2</a>: <span title="BKTree.this.M[scalaz.BKTree[A]]">M</span><span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="object scala.collection.immutable.IntMap">IntMap</span>.<span title="scala.collection.immutable.IntMap[Nothing]">empty</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="scala.collection.immutable.IntMapUtils.Int" id="121652">i</a>, <a title="scalaz.BKTree[A]" id="121653">v</a><span class="delimiter">)</span> &lt;- <a href="#121569" title="BKTree.this.M[scalaz.BKTree[A]]">m</a>.<a href="#121634" title="(f: ((scala.collection.immutable.IntMapUtils.Int, scalaz.BKTree[A])) =&gt; Unit)Unit">iterator</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#121652" title="scala.collection.immutable.IntMapUtils.Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#121570" title="Int">k</a><span class="delimiter">)</span>
        <a href="#121616" title="BKTree.this.M[scalaz.BKTree[A]]">m1</a> = <a href="#121616" title="BKTree.this.M[scalaz.BKTree[A]]">m1</a> <span title="(kv: (scala.collection.immutable.IntMapUtils.Int, scalaz.BKTree[A]))scala.collection.immutable.IntMap[scalaz.BKTree[A]]">+</span> <span class="delimiter">(</span><span title="(_1: scala.collection.immutable.IntMapUtils.Int, _2: scalaz.BKTree[A])(scala.collection.immutable.IntMapUtils.Int, scalaz.BKTree[A])" class="delimiter">(</span><a href="#121652" title="scala.collection.immutable.IntMapUtils.Int">i</a>, <a href="#121653" title="scalaz.BKTree[A]">v</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#121652" title="scala.collection.immutable.IntMapUtils.Int">i</a> <span title="(x: Int)Boolean">&gt;</span> <a href="#121570" title="Int">k</a><span class="delimiter">)</span>
        <a href="#121617" title="BKTree.this.M[scalaz.BKTree[A]]">m2</a> = <a href="#121617" title="BKTree.this.M[scalaz.BKTree[A]]">m2</a> <span title="(kv: (scala.collection.immutable.IntMapUtils.Int, scalaz.BKTree[A]))scala.collection.immutable.IntMap[scalaz.BKTree[A]]">+</span> <span class="delimiter">(</span><span title="(_1: scala.collection.immutable.IntMapUtils.Int, _2: scalaz.BKTree[A])(scala.collection.immutable.IntMapUtils.Int, scalaz.BKTree[A])" class="delimiter">(</span><a href="#121652" title="scala.collection.immutable.IntMapUtils.Int">i</a>, <a href="#121653" title="scalaz.BKTree[A]">v</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span title="(_1: BKTree.this.M[scalaz.BKTree[A]], _2: BKTree.this.M[scalaz.BKTree[A]])(BKTree.this.M[scalaz.BKTree[A]], BKTree.this.M[scalaz.BKTree[A]])" class="delimiter">(</span><a href="#121616" title="BKTree.this.M[scalaz.BKTree[A]]">m1</a>, <a href="#121617" title="BKTree.this.M[scalaz.BKTree[A]]">m2</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(m: BKTree.this.M[scalaz.BKTree[A]], k: Int, f: scalaz.BKTree[A] =&gt; Option[scalaz.BKTree[A]])BKTree.this.M[scalaz.BKTree[A]]" id="119283">updateMap</a><span class="delimiter">(</span><a title="BKTree.this.M[scalaz.BKTree[A]]" id="120096">m</a>: <span title="BKTree.this.M[scalaz.BKTree[A]]">M</span><span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="120097">k</a>: <span title="Int">Int</span>, <a title="scalaz.BKTree[A] =&gt; Option[scalaz.BKTree[A]]" id="120098">f</a>: BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt; Option<span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#120096" title="BKTree.this.M[scalaz.BKTree[A]]">m</a> <span title="(key: scala.collection.immutable.IntMapUtils.Int)Option[scalaz.BKTree[A]]">get</span> <a href="#120097" title="Int">k</a> <span title="BKTree.this.M[scalaz.BKTree[A]]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="BKTree.this.M[scalaz.BKTree[A]]">None</span> =&gt; <a href="#120096" title="BKTree.this.M[scalaz.BKTree[A]]">m</a>
      <span class="keyword">case</span> <span title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]">Some</span><span class="delimiter">(</span><a title="scalaz.BKTree[A]" id="120104">v</a><span class="delimiter">)</span> =&gt; <a href="#120098" title="(v1: scalaz.BKTree[A])Option[scalaz.BKTree[A]]">f</a><span class="delimiter">(</span><a href="#120104" title="scalaz.BKTree[A]">v</a><span class="delimiter">)</span> <span title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]">None</span> =&gt; <a href="#120096" title="BKTree.this.M[scalaz.BKTree[A]]">m</a> <span title="(key: scala.collection.immutable.IntMapUtils.Int)scala.collection.immutable.IntMap[scalaz.BKTree[A]]">-</span> <a href="#120097" title="Int">k</a>
        <span class="keyword">case</span> <span title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]">Some</span><span class="delimiter">(</span><a title="scalaz.BKTree[A]" id="120115">value</a><span class="delimiter">)</span> =&gt; <a href="#120096" title="BKTree.this.M[scalaz.BKTree[A]]">m</a>.<span title="(key: scala.collection.immutable.IntMapUtils.Int, value: scalaz.BKTree[A])scala.collection.immutable.IntMap[scalaz.BKTree[A]]">updated</span><span class="delimiter">(</span><a href="#120097" title="Int">k</a>, <a href="#120115" title="scalaz.BKTree[A]">value</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">private</span> case <span class="keyword">class</span> <a title="class BKTreeNode[A] extends java.lang.Object with scalaz.BKTree[A] with ScalaObject with Product with Serializable" id="122265">BKTreeNode</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="119313">A</a><span class="delimiter">]</span><a href="#122265" title="ScalaObject" class="delimiter">(</a><a title="A" id="119657">value</a>: <a href="#119313" title="A">A</a>, <a title="Int" id="119658">sz</a>: <span title="Int">Int</span>, <a title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]" id="119659">children</a>: <span title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]">IntMap</span><span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10527" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span>

<span class="keyword">private</span> case <span class="keyword">class</span> <a title="class BKTreeEmpty[A] extends java.lang.Object with scalaz.BKTree[A] with ScalaObject with Product with Serializable" id="122258">BKTreeEmpty</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="119300">A</a><span class="delimiter">]</span><a href="#122258" title="ScalaObject" class="delimiter">(</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10527" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span>

<span class="keyword">object</span> <a title="object scalaz.BKTree" id="10528">BKTree</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#23220" title="scalaz.BKTreeFunctions">BKTreeFunctions</a> <span class="keyword">with</span> <a href="#21180" title="scalaz.BKTreeInstances">BKTreeInstances</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[A](as: A*)(implicit evidence$1: scalaz.MetricSpace[A])scalaz.BKTree[A]" id="119997">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="119259">A</a>: MetricSpace<span class="delimiter">]</span><span class="delimiter">(</span><a title="A*" id="119996">as</a>: <span title="A*">A</span>*<span class="delimiter">)</span>: <a href="#10527" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#119996" title="A*">as</a>.<span title="(z: scalaz.BKTree[A])(op: (scalaz.BKTree[A], A) =&gt; scalaz.BKTree[A])scalaz.BKTree[A]">foldLeft</span><span class="delimiter">(</span><a href="#119253" title="[A]=&gt; scalaz.BKTree[A]">emptyBKTree</a><span title="scalaz.BKTree[A]" class="delimiter">[</span><a href="#119259" title="A">A</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="scalaz.BKTree[A]" id="121903">b</a>, <a title="A" id="121904">a</a><span class="delimiter">)</span> =&gt; <a href="#121903" title="scalaz.BKTree[A]">b</a> <a href="#119266" title="(a: A)(implicit A: scalaz.MetricSpace[A])scalaz.BKTree[A]">+</a> <a href="#121904" title="A">a</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait BKTreeFunctions extends java.lang.Object with ScalaObject" id="23220">BKTreeFunctions</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[A]=&gt; scalaz.BKTree[A]" id="119253">emptyBKTree</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="119255">A</a><span class="delimiter">]</span>: <a href="#10527" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#122258" title="()scalaz.BKTreeEmpty[A]">BKTreeEmpty</a><span class="delimiter">(</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait BKTreeInstances extends java.lang.Object with ScalaObject" id="21180">BKTreeInstances</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; scalaz.Functor[scalaz.BKTree] with scalaz.Length[scalaz.BKTree]" id="119285">bKTreeInstance</a>: <a href="#119835" title="BKTreeInstances extends scalaz.Functor[scalaz.BKTree] with scalaz.Length[scalaz.BKTree]">Functor</a><span class="delimiter">[</span>BKTree<span class="delimiter">]</span> <span class="keyword">with</span> Length<span class="delimiter">[</span>BKTree<span class="delimiter">]</span> = <a href="#121913" title="java.lang.Object with scalaz.Functor[scalaz.BKTree] with scalaz.Length[scalaz.BKTree]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Functor[scalaz.BKTree] with scalaz.Length[scalaz.BKTree]" id="121913">Functor</a><span class="delimiter">[</span>BKTree<span class="delimiter">]</span> <span class="keyword">with</span> <a href="Length.scala.html#17130" title="scalaz.Length[scalaz.BKTree]">Length</a><span class="delimiter">[</span>BKTree<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[A, B](fa: scalaz.BKTree[A])(f: A =&gt; B)scalaz.BKTree[B]" id="121917">map</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="121920">A</a>, <a title="&gt;: Nothing &lt;: Any" id="121921">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.BKTree[A]" id="121925">fa</a>: <a href="#10527" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; B" id="121926">f</a>: A =&gt; B<span class="delimiter">)</span>: <a href="#10527" title="scalaz.BKTree[B]">BKTree</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#121925" title="scalaz.BKTree[A]">fa</a> <a href="#119262" title="(f: A =&gt; B)scalaz.BKTree[B]">map</a> <a href="#121926" title="A =&gt; B">f</a>
    <span class="keyword">def</span> <a title="[A](fa: scalaz.BKTree[A])Int" id="121922">length</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="121924">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.BKTree[A]" id="121937">fa</a>: <a href="#10527" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Int">Int</span> = <a href="#121937" title="scalaz.BKTree[A]">fa</a>.<a href="#119265" title="=&gt; Int">size</a>
  <span class="delimiter">}</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[A](implicit evidence$2: scalaz.MetricSpace[A])scalaz.Monoid[scalaz.BKTree[A]]" id="119832">bKTreeMonoid</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="119288">A</a>: MetricSpace<span class="delimiter">]</span>: <a href="Monoid.scala.html#19695" title="scalaz.Monoid[scalaz.BKTree[A]]">Monoid</a><span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#121959" title="java.lang.Object with scalaz.Monoid[scalaz.BKTree[A]]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Monoid[scalaz.BKTree[A]]" id="121959">Monoid</a><span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(f1: scalaz.BKTree[A], f2: =&gt; scalaz.BKTree[A])scalaz.BKTree[A]" id="121965">append</a><span class="delimiter">(</span><a title="scalaz.BKTree[A]" id="121967">f1</a>: <a href="#10527" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="=&gt; scalaz.BKTree[A]" id="121968">f2</a>: =&gt; BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#10527" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#121967" title="scalaz.BKTree[A]">f1</a> <a href="#119267" title="(t: scalaz.BKTree[A])(implicit m: scalaz.MetricSpace[A])scalaz.BKTree[A]">++</a> <a href="#121968" title="=&gt; scalaz.BKTree[A]">f2</a>
    <span class="keyword">def</span> <a title="=&gt; scalaz.BKTree[A]" id="121966">zero</a>: <a href="#10527" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#119997" title="[A](as: A*)(implicit evidence$1: scalaz.MetricSpace[A])scalaz.BKTree[A]">BKTree</a><span title="(as: A*)(implicit evidence$1: scalaz.MetricSpace[A])scalaz.BKTree[A]" class="delimiter">[</span><a href="#119288" title="A">A</a><span class="delimiter">]</span><a href="#119832" title="scalaz.MetricSpace[A]" class="delimiter">(</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[A](implicit A: scalaz.Equal[A])scalaz.Equal[scalaz.BKTree[A]]" id="119289">bkTreeEqual</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="119291">A</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Equal[A]" id="121981">A</a>: <a href="Equal.scala.html#20661" title="scalaz.Equal[A]">Equal</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">import</span> std.<a href="std/List.scala.html#27759" title="object scalaz.std.list">list</a>._
    <a href="Equal.scala.html#20662" title="object scalaz.Equal">Equal</a>.<a href="Equal.scala.html#104217" title="(f: scalaz.BKTree[A] =&gt; List[A])(implicit evidence$1: scalaz.Equal[List[A]])scalaz.Equal[scalaz.BKTree[A]]">equalBy</a><a href="std/List.scala.html#55652" title="(implicit A0: scalaz.Equal[A])java.lang.Object with scalaz.std.ListEqual[A]" class="delimiter">(</a><span class="delimiter">(</span>ba: <a href="#10527" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <a href="#121996" title="scalaz.BKTree[A]">ba</a>.<a href="#119270" title="=&gt; List[A]">values</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>