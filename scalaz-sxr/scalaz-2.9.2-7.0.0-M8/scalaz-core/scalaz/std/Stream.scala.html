<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scalaz-core/scalaz/std/Stream.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scalaz
<span class="keyword">package</span> std

<span class="keyword">import</span> annotation.tailrec

<span class="keyword">trait</span> <a title="trait StreamInstances extends java.lang.Object with ScalaObject" id="28913">StreamInstances</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="StreamInstances extends scalaz.Traverse[Stream] with scalaz.MonadPlus[Stream] with scalaz.Each[Stream] with scalaz.Index[Stream] with scalaz.Length[Stream] with scalaz.Zip[Stream] with scalaz.Unzip[Stream] with scalaz.IsEmpty[Stream]" id="55769">streamInstance</a>: <a href="#91662" title="StreamInstances extends scalaz.Traverse[Stream] with scalaz.MonadPlus[Stream] with scalaz.Each[Stream] with scalaz.Index[Stream] with scalaz.Length[Stream] with scalaz.Zip[Stream] with scalaz.Unzip[Stream] with scalaz.IsEmpty[Stream]">Traverse</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> MonadPlus<span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> Each<span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> Index<span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> Length<span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> Zip<span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> Unzip<span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> IsEmpty<span class="delimiter">[</span>Stream<span class="delimiter">]</span> = <a href="#466231" title="java.lang.Object with scalaz.Traverse[Stream] with scalaz.MonadPlus[Stream] with scalaz.Each[Stream] with scalaz.Index[Stream] with scalaz.Length[Stream] with scalaz.Zip[Stream] with scalaz.Unzip[Stream] with scalaz.IsEmpty[Stream]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Traverse[Stream] with scalaz.MonadPlus[Stream] with scalaz.Each[Stream] with scalaz.Index[Stream] with scalaz.Length[Stream] with scalaz.Zip[Stream] with scalaz.Unzip[Stream] with scalaz.IsEmpty[Stream]" id="466231">Traverse</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../MonadPlus.scala.html#18363" title="scalaz.MonadPlus[Stream]">MonadPlus</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../Each.scala.html#23022" title="scalaz.Each[Stream]">Each</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../Index.scala.html#21702" title="scalaz.Index[Stream]">Index</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../Length.scala.html#17130" title="scalaz.Length[Stream]">Length</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../Zip.scala.html#13245" title="scalaz.Zip[Stream]">Zip</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../Unzip.scala.html#17157" title="scalaz.Unzip[Stream]">Unzip</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../IsEmpty.scala.html#19353" title="scalaz.IsEmpty[Stream]">IsEmpty</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[G[_], A, B](fa: Stream[A])(f: A =&gt; G[B])(implicit G: scalaz.Applicative[G])G[Stream[B]]" id="466446">traverseImpl</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="466450">G</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="466497">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="466451">A</a>, <a title="&gt;: Nothing &lt;: Any" id="466452">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="466494">fa</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; G[B]" id="466495">f</a>: A =&gt; G<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Applicative[G]" id="466496">G</a>: <a href="../Applicative.scala.html#20205" title="scalaz.Applicative[G]">Applicative</a><span class="delimiter">[</span>G<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#466450" title="G[Stream[B]]">G</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="G[Stream[B]]" id="467027">seed</a>: <a href="#466450" title="G[Stream[B]]">G</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#466496" title="scalaz.Applicative[G]">G</a>.<a href="../Applicative.scala.html#44823" title="(a: =&gt; scala.collection.immutable.Stream[B])G[scala.collection.immutable.Stream[B]]">point</a><span class="delimiter">(</span><span title="[A](xs: A*)scala.collection.immutable.Stream[A]">Stream</span><span title="(xs: B*)scala.collection.immutable.Stream[B]" class="delimiter">[</span><a href="#466452" title="B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#466462" title="(fa: Stream[A], z: =&gt; G[Stream[B]])(f: (A, =&gt; G[Stream[B]]) =&gt; G[Stream[B]])G[Stream[B]]">foldRight</a><span class="delimiter">(</span><a href="#466494" title="Stream[A]">fa</a>, <a href="#467027" title="G[Stream[B]]">seed</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="delimiter">(</span><a title="A" id="467082">x</a>, <a title="=&gt; G[Stream[B]]" id="467083">ys</a><span class="delimiter">)</span> =&gt; <a href="#466496" title="scalaz.Applicative[G]">G</a>.<a href="../Applicative.scala.html#44834" title="(fa: =&gt; G[B], fb: =&gt; G[Stream[B]])(f: (B, Stream[B]) =&gt; scala.collection.immutable.Stream[B])G[scala.collection.immutable.Stream[B]]">apply2</a><span class="delimiter">(</span><a href="#466495" title="(v1: A)G[B]">f</a><span class="delimiter">(</span><a href="#467082" title="A">x</a><span class="delimiter">)</span>, <a href="#467083" title="=&gt; G[Stream[B]]">ys</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="B" id="467104">b</a>, <a title="Stream[B]" id="467105">bs</a><span class="delimiter">)</span> =&gt; <a href="#467104" title="B">b</a> <a href="#467106" title="(hd: B)scala.collection.immutable.Stream[B]">#::</a> <a href="#467105" title="(stream: =&gt; scala.collection.immutable.Stream[B])scala.collection.immutable.Stream.ConsWrapper[B]">bs</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="[A](fa: Stream[A])(f: A =&gt; Unit)Unit" id="466453">each</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="466455">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="466512">fa</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; Unit" id="466513">f</a>: A =&gt; Unit<span class="delimiter">)</span> = <a href="#466512" title="Stream[A]">fa</a> <span title="(f: A =&gt; Unit)Unit">foreach</span> <a href="#466513" title="A =&gt; Unit">f</a>
    <span class="keyword">def</span> <a title="[A](fa: Stream[A])Int" id="466456">length</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="466458">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="466553">fa</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#466553" title="Stream[A]">fa</a>.<span title="=&gt; Int">length</span>
    <span class="keyword">def</span> <a title="[A](fa: Stream[A], i: Int)Option[A]" id="466459">index</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="466461">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="466564">fa</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Int" id="466565">i</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="466580">n</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Option[A]" id="466581">k</a>: <span title="Option[A]">Option</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span title="object None">None</span>
      <span class="keyword">val</span> <a title="Iterator[A]" id="466582">it</a> = <a href="#466564" title="Stream[A]">fa</a>.<span title="=&gt; Iterator[A]">iterator</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#466582" title="Iterator[A]">it</a>.<span title="=&gt; Boolean">hasNext</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#466581" title="Option[A]">k</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#466583" title="()Unit" class="delimiter">{</a>
        <span class="keyword">val</span> <a title="A" id="466584">z</a> = <a href="#466582" title="Iterator[A]">it</a>.<span title="()A">next</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#466580" title="Int">n</a> <span title="(x: Int)Boolean">==</span> <a href="#466565" title="Int">i</a><span class="delimiter">)</span> <a href="#466581" title="Option[A]">k</a> = <span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#466584" title="A">z</a><span class="delimiter">)</span>
        <a href="#466580" title="Int">n</a> = <a href="#466580" title="Int">n</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>

      <a href="#466581" title="Option[A]">k</a>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="[A, B](fa: Stream[A], z: =&gt; B)(f: (A, =&gt; B) =&gt; B)B" id="466462">foldRight</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="466465">A</a>, <a title="&gt;: Nothing &lt;: Any" id="466466">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="466643">fa</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="=&gt; B" id="466644">z</a>: =&gt; B<span class="delimiter">)</span><span class="delimiter">(</span><a title="(A, =&gt; B) =&gt; B" id="466645">f</a>: <span class="delimiter">(</span>A, =&gt; B<span class="delimiter">)</span> =&gt; B<span class="delimiter">)</span>: <a href="#466466" title="B">B</a> = <span title="B" class="keyword">if</span> <span class="delimiter">(</span><a href="#466643" title="Stream[A]">fa</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
      <a href="#466644" title="=&gt; B">z</a>
    <span class="keyword">else</span>
      <a href="#466645" title="(v1: A, v2: =&gt; B)B">f</a><span class="delimiter">(</span><a href="#466643" title="Stream[A]">fa</a>.<span title="=&gt; A">head</span>, <a href="#466462" title="(fa: Stream[A], z: =&gt; B)(f: (A, =&gt; B) =&gt; B)B">foldRight</a><span class="delimiter">(</span><a href="#466643" title="Stream[A]">fa</a>.<span title="=&gt; scala.collection.immutable.Stream[A]">tail</span>, <a href="#466644" title="=&gt; B">z</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#466645" title="(A, =&gt; B) =&gt; B">f</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="[A, B](fa: Stream[A])(f: A =&gt; Stream[B])Stream[B]" id="466467">bind</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="466470">A</a>, <a title="&gt;: Nothing &lt;: Any" id="466471">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="466673">fa</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; Stream[B]" id="466674">f</a>: A =&gt; Stream<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#466673" title="Stream[A]">fa</a> <span title="(f: A =&gt; scala.collection.GenTraversableOnce[B])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[A],B,Stream[B]])Stream[B]">flatMap</span> <a href="#466674" title="A =&gt; Stream[B]">f</a>
    <span class="keyword">def</span> <a title="[A]=&gt; Stream[A]" id="466472">empty</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="466474">A</a><span class="delimiter">]</span>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = scala.<span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="scala.collection.immutable.Stream[Nothing]">empty</span>
    <span class="keyword">def</span> <a title="[A](a: Stream[A], b: =&gt; Stream[A])scala.collection.immutable.Stream[A]" id="466475">plus</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="466477">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="466765">a</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="=&gt; Stream[A]" id="466766">b</a>: =&gt; Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#466765" title="Stream[A]">a</a> <a href="#466781" title="(prefix: scala.collection.immutable.Stream[A])scala.collection.immutable.Stream[A]">#:::</a> <a href="#466766" title="(stream: =&gt; scala.collection.immutable.Stream[A])scala.collection.immutable.Stream.ConsWrapper[A]">b</a>
    <span class="keyword">def</span> <a title="[A](s: Stream[A])Boolean" id="466478">isEmpty</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="466480">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="466826">s</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#466826" title="Stream[A]">s</a>.<span title="=&gt; Boolean">isEmpty</span>
    <span class="keyword">def</span> <a title="[A](a: =&gt; A)scala.collection.immutable.Stream[A]" id="466481">point</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="466483">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="466837">a</a>: =&gt; A<span class="delimiter">)</span> = scala.<span title="(xs: A*)scala.collection.immutable.Stream[A]">Stream</span><span class="delimiter">(</span><a href="#466837" title="=&gt; A">a</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="[A, B](a: =&gt; Stream[A], b: =&gt; Stream[B])Stream[(A, B)]" id="466484">zip</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="466487">A</a>, <a title="&gt;: Nothing &lt;: Any" id="466488">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; Stream[A]" id="466854">a</a>: =&gt; Stream<span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="=&gt; Stream[B]" id="466855">b</a>: =&gt; Stream<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#466854" title="=&gt; Stream[A]">a</a> <span title="(that: scala.collection.GenIterable[B])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[A],(A, B),Stream[(A, B)]])Stream[(A, B)]">zip</span> <a href="#466855" title="=&gt; Stream[B]">b</a>
    <span class="keyword">def</span> <a title="[A, B](a: Stream[(A, B)])(scala.collection.immutable.Stream[A], scala.collection.immutable.Stream[B])" id="466489">unzip</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="466492">A</a>, <a title="&gt;: Nothing &lt;: Any" id="466493">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[(A, B)]" id="466978">a</a>: <span title="Stream[(A, B)]">Stream</span><span class="delimiter">[</span><span class="delimiter">(</span>A, B<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#466978" title="Stream[(A, B)]">a</a>.<span title="(implicit asPair: ((A, B)) =&gt; (A, B))(scala.collection.immutable.Stream[A], scala.collection.immutable.Stream[B])">unzip</span>
  <span class="delimiter">}</span>

  <span class="keyword">import</span> <a href="../Tags.scala.html#18697" title="object scalaz.Tags">Tags</a>.Zip

  <span class="comment">/**
   * An alternative [[scalaz.Applicative]] instance for `Stream`, discriminated by the type tag [[scalaz.Tags.Zip]],
   * that zips streams together.
   *
   * Example:
   * {{{
   * streamZipApplicative(Stream(1, 2), Stream(3, 4))(_ * _) // Stream(3, 8)
   * }}}
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scalaz.Applicative[[α]scala.collection.immutable.Stream[α] with java.lang.Object{type Tag = scalaz.Tags.Zip}]" id="55772">streamZipApplicative</a>: <a href="../Applicative.scala.html#20205" title="scalaz.Applicative[[α]scala.collection.immutable.Stream[α] with java.lang.Object{type Tag = scalaz.Tags.Zip}]">Applicative</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> λ<span class="delimiter">[</span>α<span class="delimiter">]</span>=Stream<span class="delimiter">[</span>α<span class="delimiter">]</span> @@ Zip<span class="delimiter">}</span><span class="delimiter">)</span>#λ<span class="delimiter">]</span> = <a href="#467479" title="java.lang.Object with scalaz.Applicative[[α]scala.collection.immutable.Stream[α] with java.lang.Object{type Tag = scalaz.Tags.Zip}]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Applicative[[α]scala.collection.immutable.Stream[α] with java.lang.Object{type Tag = scalaz.Tags.Zip}]" id="467479">Applicative</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> λ<span class="delimiter">[</span>α<span class="delimiter">]</span>=Stream<span class="delimiter">[</span>α<span class="delimiter">]</span> @@ Zip<span class="delimiter">}</span><span class="delimiter">)</span>#λ<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[A](a: =&gt; A)scalaz.package.@@[scala.collection.immutable.Stream[A],scalaz.Tags.Zip]" id="467556">point</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="467558">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="467564">a</a>: =&gt; A<span class="delimiter">)</span> = <a href="../Tags.scala.html#58809" title="(a: scala.collection.immutable.Stream[A])scalaz.package.@@[scala.collection.immutable.Stream[A],scalaz.Tags.Zip]">Zip</a><span class="delimiter">(</span><span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="(elem: =&gt; A)scala.collection.immutable.Stream[A]">continually</span><span class="delimiter">(</span><a href="#467564" title="=&gt; A">a</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="[A, B](fa: =&gt; scalaz.package.@@[Stream[A],scalaz.Tags.Zip])(f: =&gt; scalaz.package.@@[Stream[A =&gt; B],scalaz.Tags.Zip])scalaz.package.@@[scala.collection.immutable.Stream[B],scalaz.Tags.Zip]" id="467559">ap</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="467562">A</a>, <a title="&gt;: Nothing &lt;: Any" id="467563">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; scalaz.package.@@[Stream[A],scalaz.Tags.Zip]" id="467623">fa</a>: =&gt; <span class="delimiter">(</span>Stream<span class="delimiter">[</span>A<span class="delimiter">]</span> @@ Zip<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; scalaz.package.@@[Stream[A =&gt; B],scalaz.Tags.Zip]" id="467624">f</a>: =&gt; <span class="delimiter">(</span>Stream<span class="delimiter">[</span>A =&gt; B<span class="delimiter">]</span> @@ Zip<span class="delimiter">)</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="../Tags.scala.html#58809" title="(a: scala.collection.immutable.Stream[B])scalaz.package.@@[scala.collection.immutable.Stream[B],scalaz.Tags.Zip]">Zip</a><span class="delimiter">(</span><span title="scala.collection.immutable.Stream[B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#467624" title="=&gt; scalaz.package.@@[Stream[A =&gt; B],scalaz.Tags.Zip]">f</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="#467623" title="=&gt; scalaz.package.@@[Stream[A],scalaz.Tags.Zip]">fa</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="[A]=&gt; scala.collection.immutable.Stream[A]">empty</span><span title="scala.collection.immutable.Stream[B]" class="delimiter">[</span><a href="#467563" title="B">B</a><span class="delimiter">]</span>
      <span class="keyword">else</span> <span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="(hd: B, tl: =&gt; scala.collection.immutable.Stream[B])Stream.Cons[B]">cons</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#467624" title="=&gt; scalaz.package.@@[Stream[A =&gt; B],scalaz.Tags.Zip]">f</a>.<span title="(v1: A)B">head</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#467623" title="=&gt; scalaz.package.@@[Stream[A],scalaz.Tags.Zip]">fa</a>.<span title="=&gt; A">head</span><span class="delimiter">)</span>, <a href="#467559" title="(fa: =&gt; scalaz.package.@@[Stream[A],scalaz.Tags.Zip])(f: =&gt; scalaz.package.@@[Stream[A =&gt; B],scalaz.Tags.Zip])scala.collection.immutable.Stream[Nothing] with java.lang.Object{type Tag = scalaz.Tags.Zip}">ap</a><span class="delimiter">(</span><a href="../Tags.scala.html#58809" title="(a: scala.collection.immutable.Stream[A])scalaz.package.@@[scala.collection.immutable.Stream[A],scalaz.Tags.Zip]">Zip</a><span class="delimiter">(</span><a href="#467623" title="=&gt; scalaz.package.@@[Stream[A],scalaz.Tags.Zip]">fa</a>.<span title="=&gt; scala.collection.immutable.Stream[A]">tail</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Tags.scala.html#58809" title="(a: scala.collection.immutable.Stream[A =&gt; B])scalaz.package.@@[scala.collection.immutable.Stream[A =&gt; B],scalaz.Tags.Zip]">Zip</a><span class="delimiter">(</span><a href="#467624" title="=&gt; scalaz.package.@@[Stream[A =&gt; B],scalaz.Tags.Zip]">f</a>.<span title="=&gt; scala.collection.immutable.Stream[A =&gt; B]">tail</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[A]=&gt; java.lang.Object with scalaz.Monoid[Stream[A]]" id="55774">streamMonoid</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="55776">A</a><span class="delimiter">]</span> = <a href="#91679" title="java.lang.Object with scalaz.Monoid[Stream[A]]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Monoid[Stream[A]]" id="91679">Monoid</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(f1: Stream[A], f2: =&gt; Stream[A])scala.collection.immutable.Stream[A]" id="91681">append</a><span class="delimiter">(</span><a title="Stream[A]" id="91683">f1</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="=&gt; Stream[A]" id="91684">f2</a>: =&gt; Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#91683" title="Stream[A]">f1</a> <a href="#91689" title="(prefix: scala.collection.immutable.Stream[A])scala.collection.immutable.Stream[A]">#:::</a> <a href="#91684" title="(stream: =&gt; scala.collection.immutable.Stream[A])scala.collection.immutable.Stream.ConsWrapper[A]">f2</a>
    <span class="keyword">def</span> <a title="=&gt; Stream[A]" id="91682">zero</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = scala.<span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="scala.collection.immutable.Stream[Nothing]">empty</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[A](implicit A0: scalaz.Equal[A])java.lang.Object with scalaz.Equal[Stream[A]]" id="55777">streamEqual</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="55779">A</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Equal[A]" id="93809">A0</a>: <a href="../Equal.scala.html#20661" title="scalaz.Equal[A]">Equal</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#93812" title="java.lang.Object with scalaz.Equal[Stream[A]]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Equal[Stream[A]]" id="93812">Equal</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(a1: Stream[A], a2: Stream[A])Boolean" id="93814">equal</a><span class="delimiter">(</span><a title="Stream[A]" id="93815">a1</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Stream[A]" id="93816">a2</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#93815" title="Stream[A]">a1</a> <span title="(that: scala.collection.GenSeq[A])(p: (A, A) =&gt; Boolean)Boolean">corresponds</span> <a href="#93816" title="Stream[A]">a2</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#93809" title="scalaz.Equal[A]">A0</a>.<a href="../Equal.scala.html#57597" title="(a1: A, a2: A)Boolean">equal</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[A](implicit A0: scalaz.Show[A])java.lang.Object with scalaz.Show[Stream[A]]" id="55780">streamShow</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="55782">A</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Show[A]" id="91264">A0</a>: <a href="../Show.scala.html#19311" title="scalaz.Show[A]">Show</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#91267" title="java.lang.Object with scalaz.Show[Stream[A]]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Show[Stream[A]]" id="91267">Show</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(as: Stream[A])scalaz.Cord" id="91543">show</a><span class="delimiter">(</span><a title="Stream[A]" id="91544">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="java.lang.String(&quot;Stream(&quot;)" class="string">&quot;Stream(&quot;</span> <a href="../Cord.scala.html#91640" title="(x: =&gt; String)scalaz.Cord">+:</a> <a href="#29373" title="object scalaz.std.stream">stream</a>.<a href="#56808" title="(as: Stream[scalaz.Cord], a: scalaz.Cord)Stream[scalaz.Cord]">intersperse</a><span class="delimiter">(</span><a href="#91544" title="Stream[A]">as</a>.<span title="(f: A =&gt; scalaz.Cord)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[A],scalaz.Cord,scala.collection.immutable.Stream[scalaz.Cord]])scala.collection.immutable.Stream[scalaz.Cord]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream.Coll,scalaz.Cord,scala.collection.immutable.Stream[scalaz.Cord]]" class="delimiter">(</span><a href="#91264" title="scalaz.Show[A]">A0</a>.<a href="../Show.scala.html#66266" title="(f: A)scalaz.Cord">show</a><span class="delimiter">)</span>, <a href="../Cord.scala.html#93882" title="(as: scalaz.Cord*)scalaz.Cord">Cord</a><span class="delimiter">(</span><a href="../Cord.scala.html#93879" title="implicit scalaz.Cord.stringToCord : (s: String)scalaz.Cord" class="string">&quot;,&quot;</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(z: scalaz.Cord)(op: (scalaz.Cord, scalaz.Cord) =&gt; scalaz.Cord)scalaz.Cord">foldLeft</span><span class="delimiter">(</span><a href="../Cord.scala.html#93882" title="(as: scalaz.Cord*)scalaz.Cord">Cord</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#97171" title="scalaz.Cord">_</a> <a href="../Cord.scala.html#91638" title="(xs: scalaz.Cord)scalaz.Cord">++</a> <a href="#97172" title="scalaz.Cord">_</a><span class="delimiter">)</span> <a href="../Cord.scala.html#91639" title="(x: =&gt; String)scalaz.Cord">:+</a> <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
  <span class="delimiter">}</span>


  <span class="comment">// TODO order, ...</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait StreamFunctions extends java.lang.Object with ScalaObject" id="28157">StreamFunctions</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](s1: Stream[A], s2: Stream[A])Stream[A]" id="56773">merge</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="56775">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="468014">s1</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Stream[A]" id="468015">s2</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="Stream[A]" class="keyword">if</span> <span class="delimiter">(</span><a href="#468014" title="Stream[A]">s1</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#468015" title="Stream[A]">s2</a>
    <span class="keyword">else</span> <a href="#468014" title="Stream[A]">s1</a>.<span title="=&gt; A">head</span> <a href="#468019" title="(hd: A)scala.collection.immutable.Stream[A]">#::</a> <a href="#56773" title="(s1: Stream[A], s2: Stream[A])Stream[A]">merge</a><span title="(stream: =&gt; scala.collection.immutable.Stream[A])scala.collection.immutable.Stream.ConsWrapper[A]" class="delimiter">(</span><a href="#468015" title="Stream[A]">s2</a>, <a href="#468014" title="Stream[A]">s1</a>.<span title="=&gt; scala.collection.immutable.Stream[A]">tail</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">import</span> scala.<span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span class="delimiter">{</span>Empty, empty<span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](as: Stream[A])Option[scalaz.Zipper[A]]" id="56777">toZipper</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="56779">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="446045">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[scalaz.Zipper[A]]">Option</span><span class="delimiter">[</span>Zipper<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#446045" title="Stream[A]">as</a> <span title="Option[scalaz.Zipper[A]]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="None.type">Empty</span>   =&gt; <span title="object None">None</span>
    <span class="keyword">case</span> <a title="Some[scalaz.Zipper[A]]" id="468083">h</a> <a href="#468065" title="(xs: scala.collection.immutable.Stream[A])Option[(A, scala.collection.immutable.Stream[A])]">#::</a> <a title="scala.collection.immutable.Stream[A]" id="468084">t</a> =&gt; <span title="(x: scalaz.Zipper[A])Some[scalaz.Zipper[A]]">Some</span><span class="delimiter">(</span><a href="../Zipper.scala.html#23983" title="object scalaz.Zipper">Zipper</a>.<a href="../Zipper.scala.html#396335" title="(ls: Stream[A], a: A, rs: Stream[A])scalaz.Zipper[A]">zipper</a><span class="delimiter">(</span><span title="scala.collection.immutable.Stream[Nothing]">empty</span>, <a href="#468083" title="A">h</a>, <a href="#468084" title="scala.collection.immutable.Stream[A]">t</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](as: Stream[A])Option[scalaz.Zipper[A]]" id="56780">zipperEnd</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="56782">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="446139">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[scalaz.Zipper[A]]">Option</span><span class="delimiter">[</span>Zipper<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#446139" title="Stream[A]">as</a> <span title="Option[scalaz.Zipper[A]]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="None.type">Empty</span> =&gt; <span title="object None">None</span>
    <span class="keyword">case</span> <span title="Some[scalaz.Zipper[A]]">_</span>     =&gt;
      <span class="keyword">val</span> <a title="scala.collection.immutable.Stream[A]" id="468108">x</a> = <a href="#446139" title="Stream[A]">as</a>.<span title="=&gt; scala.collection.immutable.Stream[A]">reverse</span>
      <span title="(x: scalaz.Zipper[A])Some[scalaz.Zipper[A]]">Some</span><span class="delimiter">(</span><a href="../Zipper.scala.html#23983" title="object scalaz.Zipper">Zipper</a>.<a href="../Zipper.scala.html#396335" title="(ls: Stream[A], a: A, rs: Stream[A])scalaz.Zipper[A]">zipper</a><span class="delimiter">(</span><a href="#468108" title="scala.collection.immutable.Stream[A]">x</a>.<span title="=&gt; scala.collection.immutable.Stream[A]">tail</span>, <a href="#468108" title="scala.collection.immutable.Stream[A]">x</a>.<span title="=&gt; A">head</span>, <span title="scala.collection.immutable.Stream[Nothing]">empty</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** `[as take 1, as take 2, ..., as]` */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](as: Stream[A])Stream[Stream[A]]" id="56783">heads</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="56785">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="468140">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Stream[Stream[A]]">Stream</span><span class="delimiter">[</span>Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#468140" title="Stream[A]">as</a> <span title="Stream[Stream[A]]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="scala.collection.immutable.Stream[scala.collection.immutable.Stream[A]]" id="468161">h</a> <a href="#468143" title="(xs: scala.collection.immutable.Stream[A])Option[(A, scala.collection.immutable.Stream[A])]">#::</a> <a title="scala.collection.immutable.Stream[A]" id="468162">t</a> =&gt; scala.<span title="(xs: A*)scala.collection.immutable.Stream[A]">Stream</span><span class="delimiter">(</span><a href="#468161" title="A">h</a><span class="delimiter">)</span> <a href="#468163" title="(hd: scala.collection.immutable.Stream[A])scala.collection.immutable.Stream[scala.collection.immutable.Stream[A]]">#::</a> <a href="#56783" title="(as: Stream[A])Stream[Stream[A]]">heads</a><span class="delimiter">(</span><a href="#468162" title="scala.collection.immutable.Stream[A]">t</a><span class="delimiter">)</span>.<span title="(f: Stream[A] =&gt; scala.collection.immutable.Stream[A])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[Stream[A]],scala.collection.immutable.Stream[A],scala.collection.immutable.Stream[scala.collection.immutable.Stream[A]]])scala.collection.immutable.Stream[scala.collection.immutable.Stream[A]]">map</span><span title="(stream: =&gt; scala.collection.immutable.Stream[scala.collection.immutable.Stream[A]])scala.collection.immutable.Stream.ConsWrapper[scala.collection.immutable.Stream[A]]" class="delimiter">(</span><a href="#468161" title="A">h</a> <a href="#468214" title="(hd: A)scala.collection.immutable.Stream[A]">#::</a> <a href="#468213" title="(stream: =&gt; scala.collection.immutable.Stream[A])scala.collection.immutable.Stream.ConsWrapper[A]">_</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Stream[Nothing]">_</span>       =&gt; <span title="scala.collection.immutable.Stream[Nothing]">empty</span>
  <span class="delimiter">}</span>

  <span class="comment">/** `[as, as.tail, as.tail.tail, ..., Stream(as.last)]` */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](as: Stream[A])Stream[Stream[A]]" id="56786">tails</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="56788">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="468302">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Stream[Stream[A]]">Stream</span><span class="delimiter">[</span>Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#468302" title="Stream[A]">as</a> <span title="Stream[Stream[A]]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="scala.collection.immutable.Stream[Stream[A]]" id="468323">h</a> <a href="#468305" title="(xs: scala.collection.immutable.Stream[A])Option[(A, scala.collection.immutable.Stream[A])]">#::</a> <a title="scala.collection.immutable.Stream[A]" id="468324">t</a> =&gt; <a href="#468302" title="Stream[A]">as</a> <a href="#468325" title="(hd: Stream[A])scala.collection.immutable.Stream[Stream[A]]">#::</a> <a href="#56786" title="(as: Stream[A])Stream[Stream[A]]">tails</a><span title="(stream: =&gt; scala.collection.immutable.Stream[Stream[A]])scala.collection.immutable.Stream.ConsWrapper[Stream[A]]" class="delimiter">(</span><a href="#468324" title="scala.collection.immutable.Stream[A]">t</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Stream[Nothing]">_</span>       =&gt; <span title="scala.collection.immutable.Stream[Nothing]">empty</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A, B, C](a: Stream[A])(f: Stream[A =&gt; (B =&gt; C)])Stream[B =&gt; C]" id="56789">zapp</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="56793">A</a>, <a title="&gt;: Nothing &lt;: Any" id="56794">B</a>, <a title="&gt;: Nothing &lt;: Any" id="56795">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="468372">a</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="Stream[A =&gt; (B =&gt; C)]" id="468373">f</a>: <span title="Stream[A =&gt; (B =&gt; C)]">Stream</span><span class="delimiter">[</span>A =&gt; B =&gt; C<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Stream[B =&gt; C]">Stream</span><span class="delimiter">[</span>B =&gt; C<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Stream[A =&gt; (B =&gt; C)]" id="468377">ff</a> = <a href="#468373" title="Stream[A =&gt; (B =&gt; C)]">f</a>
    <span class="keyword">val</span> <a title="Stream[A]" id="468378">aa</a> = <a href="#468372" title="Stream[A]">a</a>
    <span title="Stream[B =&gt; C]" class="keyword">if</span> <span class="delimiter">(</span><a href="#468377" title="Stream[A =&gt; (B =&gt; C)]">ff</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="#468378" title="Stream[A]">aa</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="scala.collection.immutable.Stream[Nothing]">empty</span>
    <span class="keyword">else</span> scala.<span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="(hd: B =&gt; C, tl: =&gt; scala.collection.immutable.Stream[B =&gt; C])Stream.Cons[B =&gt; C]">cons</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#468377" title="Stream[A =&gt; (B =&gt; C)]">ff</a>.<span title="(v1: A)B =&gt; C">head</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#468378" title="Stream[A]">aa</a>.<span title="=&gt; A">head</span><span class="delimiter">)</span>, <a href="#56789" title="(a: Stream[A])(f: Stream[A =&gt; (B =&gt; C)])Stream[B =&gt; C]">zapp</a><span class="delimiter">(</span><a href="#468378" title="Stream[A]">aa</a>.<span title="=&gt; scala.collection.immutable.Stream[A]">tail</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#468377" title="Stream[A =&gt; (B =&gt; C)]">ff</a>.<span title="=&gt; scala.collection.immutable.Stream[A =&gt; (B =&gt; C)]">tail</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A, B](as: Stream[A])(f: A =&gt; (B, () =&gt; Stream[A]))Stream[scalaz.Tree[B]]" id="56796">unfoldForest</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="56799">A</a>, <a title="&gt;: Nothing &lt;: Any" id="56800">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="468429">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; (B, () =&gt; Stream[A])" id="468430">f</a>: A =&gt; <span class="delimiter">(</span>B, <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>: <span title="Stream[scalaz.Tree[B]]">Stream</span><span class="delimiter">[</span>Tree<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span> =
    <a href="#468429" title="Stream[A]">as</a>.<span title="(f: A =&gt; scalaz.Tree[B])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[A],scalaz.Tree[B],Stream[scalaz.Tree[B]]])Stream[scalaz.Tree[B]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream.Coll,scalaz.Tree[B],scala.collection.immutable.Stream[scalaz.Tree[B]]]" class="delimiter">(</span><a title="A" id="468464">a</a> =&gt; <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(x: A)scalaz.Tree[B]" id="468465">unfoldTree</a><span class="delimiter">(</span><a title="A" id="468466">x</a>: <a href="#56799" title="A">A</a><span class="delimiter">)</span>: <a href="../Tree.scala.html#12759" title="scalaz.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span> =
        <a href="#468430" title="(v1: A)(B, () =&gt; Stream[A])">f</a><span class="delimiter">(</span><a href="#468466" title="A">x</a><span class="delimiter">)</span> <span title="scalaz.Tree[B]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="scalaz.Tree[B]" class="delimiter">(</span><a title="B" id="468470">b</a>, <a title="() =&gt; Stream[A]" id="468471">bs</a><span class="delimiter">)</span> =&gt; <a href="../Tree.scala.html#12760" title="object scalaz.Tree">Tree</a>.<a href="../Tree.scala.html#300406" title="(root: =&gt; B, forest: =&gt; Stream[scalaz.Tree[B]])scalaz.Tree[B]">node</a><span class="delimiter">(</span><a href="#468470" title="B">b</a>, <a href="#56796" title="(as: Stream[A])(f: A =&gt; (B, () =&gt; Stream[A]))Stream[scalaz.Tree[B]]">unfoldForest</a><span class="delimiter">(</span><a href="#468471" title="()Stream[A]">bs</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#468430" title="A =&gt; (B, () =&gt; Stream[A])">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      <a href="#468465" title="(x: A)scalaz.Tree[B]">unfoldTree</a><span class="delimiter">(</span><a href="#468464" title="A">a</a><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A, B, M[_]](as: Stream[A])(f: A =&gt; M[(B, Stream[A])])(implicit evidence$1: scalaz.Monad[M])M[Stream[scalaz.Tree[B]]]" id="468540">unfoldForestM</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="56805">A</a>, <a title="&gt;: Nothing &lt;: Any" id="56806">B</a>, <a title="[_]&gt;: Nothing &lt;: Any" id="56807">M</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="468541">_</a><span class="delimiter">]</span> : Monad<span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="468538">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; M[(B, Stream[A])]" id="468539">f</a>: A =&gt; M<span class="delimiter">[</span><span class="delimiter">(</span>B, Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#56807" title="M[Stream[scalaz.Tree[B]]]">M</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>Tree<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[T, U](ts: Stream[T], f: T =&gt; M[U])M[Stream[U]]" id="468546">mapM</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="468549">T</a>, <a title="&gt;: Nothing &lt;: Any" id="468550">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[T]" id="468552">ts</a>: <span title="Stream[T]">Stream</span><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="T =&gt; M[U]" id="468553">f</a>: T =&gt; M<span class="delimiter">[</span>U<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#56807" title="M[Stream[U]]">M</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>U<span class="delimiter">]</span><span class="delimiter">]</span> =
      <a href="#468552" title="Stream[T]">ts</a>.<span title="[B](z: B)(f: (T, B) =&gt; B)B">foldRight</span><span title="(z: M[Stream[U]])(f: (T, M[Stream[U]]) =&gt; M[Stream[U]])M[Stream[U]]" class="delimiter">[</span><a href="#56807" title="M[Stream[U]]">M</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>U<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="../Monad.scala.html#254788" title="[F[_]](implicit F: scalaz.Monad[F])scalaz.Monad[F]">Monad</a><a href="#468540" title="(implicit F: scalaz.Monad[M])scalaz.Monad[M]" class="delimiter">[</a><a href="#56807" title="M">M</a><span class="delimiter">]</span>.<a href="../Applicative.scala.html#44823" title="(a: =&gt; Stream[U])M[Stream[U]]">point</a><span class="delimiter">(</span>scala.<span title="(xs: Nothing*)scala.collection.immutable.Stream[Nothing]">Stream</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#468593" title="M[Stream[U]]" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="M[scala.collection.immutable.Stream[U]]" class="delimiter">(</span><a title="T" id="468603">g</a>, <a title="M[Stream[U]]" id="468604">h</a><span class="delimiter">)</span> =&gt; <a href="../Monad.scala.html#254788" title="[F[_]](implicit F: scalaz.Monad[F])scalaz.Monad[F]">Monad</a><a href="#468540" title="(implicit F: scalaz.Monad[M])scalaz.Monad[M]" class="delimiter">[</a><a href="#56807" title="M">M</a><span class="delimiter">]</span>.<a href="../Applicative.scala.html#44834" title="(fa: =&gt; M[U], fb: =&gt; M[Stream[U]])(f: (U, Stream[U]) =&gt; scala.collection.immutable.Stream[U])M[scala.collection.immutable.Stream[U]]">apply2</a><span class="delimiter">(</span><a href="#468553" title="(v1: T)M[U]">f</a><span class="delimiter">(</span><a href="#468603" title="T">g</a><span class="delimiter">)</span>, <a href="#468604" title="M[Stream[U]]">h</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#468630" title="U">_</a> <a href="#468632" title="(hd: U)scala.collection.immutable.Stream[U]">#::</a> <a href="#468631" title="(stream: =&gt; scala.collection.immutable.Stream[U])scala.collection.immutable.Stream.ConsWrapper[U]">_</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(v: A)M[scalaz.Tree[B]]" id="468551">unfoldTreeM</a><span class="delimiter">(</span><a title="A" id="468660">v</a>: <a href="#56805" title="A">A</a><span class="delimiter">)</span> =
      <a href="../Monad.scala.html#254788" title="[F[_]](implicit F: scalaz.Monad[F])scalaz.Monad[F]">Monad</a><a href="#468540" title="(implicit F: scalaz.Monad[M])scalaz.Monad[M]" class="delimiter">[</a><a href="#56807" title="M">M</a><span class="delimiter">]</span>.<a href="../Bind.scala.html#44887" title="(fa: M[(B, Stream[A])])(f: ((B, Stream[A])) =&gt; M[scalaz.Tree[B]])M[scalaz.Tree[B]]">bind</a><span class="delimiter">(</span><a href="#468539" title="(v1: A)M[(B, Stream[A])]">f</a><span class="delimiter">(</span><a href="#468660" title="A">v</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span>abs: <span title="(B, Stream[A])" class="delimiter">(</span>B, Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="../Monad.scala.html#254788" title="[F[_]](implicit F: scalaz.Monad[F])scalaz.Monad[F]">Monad</a><a href="#468540" title="(implicit F: scalaz.Monad[M])scalaz.Monad[M]" class="delimiter">[</a><a href="#56807" title="M">M</a><span class="delimiter">]</span>.<a href="../Monad.scala.html#44876" title="(fa: M[Stream[scalaz.Tree[B]]])(f: Stream[scalaz.Tree[B]] =&gt; scalaz.Tree[B])M[scalaz.Tree[B]]">map</a><span class="delimiter">(</span><a href="#468540" title="[A, B, M[_]](as: Stream[A])(f: A =&gt; M[(B, Stream[A])])(implicit evidence$1: scalaz.Monad[M])M[Stream[scalaz.Tree[B]]]">unfoldForestM</a><span title="(as: Stream[A])(f: A =&gt; M[(B, Stream[A])])(implicit evidence$1: scalaz.Monad[M])M[Stream[scalaz.Tree[B]]]" class="delimiter">[</span><a href="#56805" title="A">A</a>, <a href="#56806" title="B">B</a>, <a href="#56807" title="M">M</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#468675" title="(B, Stream[A])">abs</a>.<span title="=&gt; Stream[A]">_2</span><span class="delimiter">)</span><a href="#468540" title="scalaz.Monad[M]" class="delimiter">(</a><a href="#468539" title="A =&gt; M[(B, Stream[A])]">f</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span>ts: <span title="Stream[scalaz.Tree[B]]">Stream</span><span class="delimiter">[</span>Tree<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> =&gt;
          <a href="../Tree.scala.html#12760" title="object scalaz.Tree">Tree</a>.<a href="../Tree.scala.html#300406" title="(root: =&gt; B, forest: =&gt; Stream[scalaz.Tree[B]])scalaz.Tree[B]">node</a><span class="delimiter">(</span><a href="#468675" title="(B, Stream[A])">abs</a>.<span title="=&gt; B">_1</span>, <a href="#468702" title="Stream[scalaz.Tree[B]]">ts</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="#468546" title="(ts: Stream[A], f: A =&gt; M[scalaz.Tree[B]])M[Stream[scalaz.Tree[B]]]">mapM</a><span class="delimiter">(</span><a href="#468538" title="Stream[A]">as</a>, <a href="#468551" title="(v: A)M[scalaz.Tree[B]]">unfoldTreeM</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Intersperse the element `a` between each adjacent pair of elements in `as` */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](as: Stream[A], a: A)Stream[A]" id="56808">intersperse</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="56810">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="91554">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="A" id="91555">a</a>: <a href="#56810" title="A">A</a><span class="delimiter">)</span>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(rest: Stream[A])Stream[A]" id="468752">loop</a><span class="delimiter">(</span><a title="Stream[A]" id="468753">rest</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#468753" title="Stream[A]">rest</a> <span title="Stream[A]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Stream[Nothing]">Stream</span>.<span title="object Stream.Empty">Empty</span> =&gt; <span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="scala.collection.immutable.Stream[Nothing]">empty</span>
      <span class="keyword">case</span> <a title="scala.collection.immutable.Stream[A]" id="468775">h</a> <a href="#468765" title="(xs: scala.collection.immutable.Stream[A])Option[(A, scala.collection.immutable.Stream[A])]">#::</a> <a title="scala.collection.immutable.Stream[A]" id="468776">t</a>      =&gt; <a href="#91555" title="A">a</a> <a href="#468777" title="(hd: A)scala.collection.immutable.Stream[A]">#::</a> <a href="#468775" title="A">h</a> <a href="#468778" title="(stream: =&gt; scala.collection.immutable.Stream[A])scala.collection.immutable.Stream.ConsWrapper[A]">#::</a> <a href="#468752" title="(rest: Stream[A])Stream[A]">loop</a><span title="(stream: =&gt; scala.collection.immutable.Stream[A])scala.collection.immutable.Stream.ConsWrapper[A]" class="delimiter">(</span><a href="#468776" title="scala.collection.immutable.Stream[A]">t</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#91554" title="Stream[A]">as</a> <span title="Stream[A]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Stream[Nothing]">Stream</span>.<span title="object Stream.Empty">Empty</span> =&gt; <span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="scala.collection.immutable.Stream[Nothing]">empty</span>
      <span class="keyword">case</span> <a title="scala.collection.immutable.Stream[A]" id="468837">h</a> <a href="#468827" title="(xs: scala.collection.immutable.Stream[A])Option[(A, scala.collection.immutable.Stream[A])]">#::</a> <a title="scala.collection.immutable.Stream[A]" id="468838">t</a>      =&gt; <a href="#468837" title="A">h</a> <a href="#468839" title="(hd: A)scala.collection.immutable.Stream[A]">#::</a> <a href="#468752" title="(rest: Stream[A])Stream[A]">loop</a><span title="(stream: =&gt; scala.collection.immutable.Stream[A])scala.collection.immutable.Stream.ConsWrapper[A]" class="delimiter">(</span><a href="#468838" title="scala.collection.immutable.Stream[A]">t</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[A, B](seed: A)(f: A =&gt; Option[(B, A)])Stream[B]" id="56811">unfold</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="56814">A</a>, <a title="&gt;: Nothing &lt;: Any" id="56815">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="310081">seed</a>: <a href="#56814" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; Option[(B, A)]" id="310082">f</a>: A =&gt; Option<span class="delimiter">[</span><span class="delimiter">(</span>B, A<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Stream[B]">Stream</span><span class="delimiter">[</span>B<span class="delimiter">]</span> =
    <a href="#310082" title="(v1: A)Option[(B, A)]">f</a><span class="delimiter">(</span><a href="#310081" title="A">seed</a><span class="delimiter">)</span> <span title="Stream[B]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Stream[Nothing]">None</span>         =&gt; <span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="scala.collection.immutable.Stream[Nothing]">empty</span>
      <span class="keyword">case</span> <span title="Stream.Cons[B]">Some</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="B" id="468876">b</a>, <a title="A" id="468877">a</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="(hd: B, tl: =&gt; scala.collection.immutable.Stream[B])Stream.Cons[B]">cons</span><span class="delimiter">(</span><a href="#468876" title="B">b</a>, <a href="#56811" title="(seed: A)(f: A =&gt; Option[(B, A)])Stream[B]">unfold</a><span class="delimiter">(</span><a href="#468877" title="A">a</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#310082" title="A =&gt; Option[(B, A)]">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object scalaz.std.stream" id="29373">stream</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#28913" title="scalaz.std.StreamInstances">StreamInstances</a> <span class="keyword">with</span> <a href="#28157" title="scalaz.std.StreamFunctions">StreamFunctions</a> <span class="delimiter">{</span>
  <span class="keyword">object</span> <a title="object scalaz.std.stream.streamSyntax" id="91552">streamSyntax</a> <span title="ScalaObject" class="keyword">extends</span> scalaz.syntax.std.<a href="../syntax/std/StreamOps.scala.html#32144" title="scalaz.syntax.std.ToStreamOps">ToStreamOps</a>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>