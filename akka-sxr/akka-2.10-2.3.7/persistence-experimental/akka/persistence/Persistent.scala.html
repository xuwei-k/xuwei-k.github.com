<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>persistence-experimental/akka/persistence/Persistent.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (C) 2009-2014 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>

<span class="keyword">package</span> akka.persistence

<span class="keyword">import</span> java.lang.<span class="delimiter">{</span> Iterable ⇒ JIterable <span class="delimiter">}</span>
<span class="keyword">import</span> java.util.<span class="delimiter">{</span> List ⇒ JList <span class="delimiter">}</span>

<span class="keyword">import</span> scala.collection.immutable

<span class="keyword">import</span> akka.actor.<span class="delimiter">{</span> ActorContext, ActorRef <span class="delimiter">}</span>
<span class="keyword">import</span> akka.japi.<a href="../../../actor/akka/japi/JavaAPI.scala.html#akka.japi.Util" title="akka.japi.Util.type">Util</a>.immutableSeq
<span class="keyword">import</span> akka.pattern.PromiseActorRef
<span class="keyword">import</span> akka.persistence.serialization.Message

<span class="comment">/**
 * INTERNAL API
 *
 * Marks messages which can be resequenced by the [[akka.persistence.journal.AsyncWriteJournal]].
 *
 * In essence it is either an [[NonPersistentRepr]] or [[Persistent]].
 */</span>
<span class="keyword">private</span><span class="delimiter">[</span>persistence<span class="delimiter">]</span> <span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait Resequenceable extends AnyRef" id="akka.persistence;Resequenceable">Resequenceable</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; Any" id="akka.persistence;Resequenceable.payload">payload</a>: <span title="Any">Any</span>
  <span class="keyword">def</span> <a title="=&gt; akka.actor.ActorRef" id="akka.persistence;Resequenceable.sender">sender</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 * Message which can be resequenced by the Journal, but will not be persisted.
 */</span>
<span title="AnyRef" class="keyword">private</span><span class="delimiter">[</span>persistence<span class="delimiter">]</span> <span class="keyword">final</span> <span class="keyword">case class</span> <a title="class NonPersistentRepr extends AnyRef with akka.persistence.Resequenceable with Product with Serializable" id="akka.persistence.NonPersistentRepr.readResolve">NonPersistentRepr</a><a href="#akka.persistence.NonPersistentRepr.readResolve" title="Product" class="delimiter">(</a><a title="Any" id="akka.persistence;NonPersistentRepr.payload">payload</a>: <span title="Any">Any</span>, <a title="akka.actor.ActorRef" id="akka.persistence;NonPersistentRepr.sender">sender</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#akka.persistence;Resequenceable" title="akka.persistence.Resequenceable">Resequenceable</a>

<span class="comment">/** Persistent message. */</span>
@deprecated<span class="delimiter">(</span><span class="string">&quot;Use akka.persistence.PersistentActor instead.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
<span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Persistent extends AnyRef with akka.persistence.Resequenceable" id="akka.persistence;Persistent">Persistent</a> <a href="#akka.persistence;Persistent" title="akka.persistence.Persistent" class="keyword">extends</a> <a href="#akka.persistence;Resequenceable" title="akka.persistence.Resequenceable">Resequenceable</a> <span class="delimiter">{</span>
  <span class="comment">/**
   * This persistent message's payload.
   */</span>
  <span class="comment">//#payload</span>
  <span class="keyword">def</span> <a title="=&gt; Any" id="akka.persistence;Persistent.payload">payload</a>: <span title="Any">Any</span>
  <span class="comment">//#payload</span>

  <span class="comment">/**
   * This persistent message's sequence number.
   */</span>
  <span class="comment">//#sequence-nr</span>
  <span class="keyword">def</span> <a title="=&gt; Long" id="akka.persistence;Persistent.sequenceNr">sequenceNr</a>: <span title="Long">Long</span>
  <span class="comment">//#sequence-nr</span>

  <span class="comment">/**
   * Creates a new persistent message with the specified `payload`.
   */</span>
  <span class="keyword">def</span> <a title="(payload: Any)akka.persistence.Persistent" id="akka.persistence;Persistent.withPayload">withPayload</a><span class="delimiter">(</span><a title="Any" id="akka.persistence;Persistent.withPayload.payload">payload</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <a href="#akka.persistence;Persistent" title="akka.persistence.Persistent">Persistent</a>
<span class="delimiter">}</span>

@deprecated<span class="delimiter">(</span><span class="string">&quot;Use akka.persistence.PersistentActor instead&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
<span class="keyword">object</span> <a title="akka.persistence.Persistent.type" id="akka.persistence.Persistent">Persistent</a> <a href="#akka.persistence.Persistent" title="akka.persistence.Persistent.type" class="delimiter">{</a>
  <span class="comment">/**
   * Java API: creates a new persistent message. Must only be used outside processors.
   *
   * @param payload payload of new persistent message.
   */</span>
  <span class="keyword">def</span> <a title="(payload: Any)akka.persistence.Persistent" id="akka.persistence.Persistent.create(740bcce3e7)">create</a><span class="delimiter">(</span><a title="Any" id="akka.persistence.Persistent.create(740bcce3e7).payload">payload</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <a href="#akka.persistence;Persistent" title="akka.persistence.Persistent">Persistent</a> =
    <a href="#akka.persistence.Persistent.create(c4c8502a80)" title="(payload: Any, currentPersistentMessage: akka.persistence.Persistent)akka.persistence.Persistent">create</a><span class="delimiter">(</span><a href="#akka.persistence.Persistent.create(740bcce3e7).payload" title="Any">payload</a>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Java API: creates a new persistent message, derived from the specified current message. The current
   * message can be obtained inside a [[Processor]] by calling `getCurrentPersistentMessage()`.
   *
   * @param payload payload of new persistent message.
   * @param currentPersistentMessage current persistent message.
   */</span>
  <span class="keyword">def</span> <a title="(payload: Any, currentPersistentMessage: akka.persistence.Persistent)akka.persistence.Persistent" id="akka.persistence.Persistent.create(c4c8502a80)">create</a><span class="delimiter">(</span><a title="Any" id="akka.persistence.Persistent.create(c4c8502a80).payload">payload</a>: <span title="Any">Any</span>, <a title="akka.persistence.Persistent" id="akka.persistence.Persistent.create(c4c8502a80).currentPersistentMessage">currentPersistentMessage</a>: <a href="#akka.persistence;Persistent" title="akka.persistence.Persistent">Persistent</a><span class="delimiter">)</span>: <a href="#akka.persistence;Persistent" title="akka.persistence.Persistent">Persistent</a> =
    <a href="#akka.persistence.Persistent.apply" title="(payload: Any)(implicit currentPersistentMessage: Option[akka.persistence.Persistent])akka.persistence.Persistent">apply</a><span class="delimiter">(</span><a href="#akka.persistence.Persistent.create(c4c8502a80).payload" title="Any">payload</a><span class="delimiter">)</span><span class="delimiter">(</span><span title="(x: akka.persistence.Persistent)Option[akka.persistence.Persistent]">Option</span><span class="delimiter">(</span><a href="#akka.persistence.Persistent.create(c4c8502a80).currentPersistentMessage" title="akka.persistence.Persistent">currentPersistentMessage</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Creates a new persistent message, derived from an implicit current message.
   * When used inside a [[Processor]], this is the optional current [[Persistent]]
   * message of that processor.
   *
   * @param payload payload of the new persistent message.
   * @param currentPersistentMessage optional current persistent message, defaults to `None`.
   */</span>
  @deprecated<span class="delimiter">(</span><span class="string">&quot;Use akka.persistence.PersistentActor instead&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(payload: Any)(implicit currentPersistentMessage: Option[akka.persistence.Persistent])akka.persistence.Persistent" id="akka.persistence.Persistent.apply">apply</a><span class="delimiter">(</span><a title="Any" id="akka.persistence.Persistent.apply$default$2.payload">payload</a>: <span title="Any">Any</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Option[akka.persistence.Persistent]" id="akka.persistence.Persistent.apply$default$2">currentPersistentMessage</a>: <span title="Option[akka.persistence.Persistent]">Option</span><span class="delimiter">[</span>Persistent<span class="delimiter">]</span> = <span title="None.type">None</span><span class="delimiter">)</span>: <a href="#akka.persistence;Persistent" title="akka.persistence.Persistent">Persistent</a> =
    <a href="#akka.persistence.Persistent.apply$default$2" title="Option[akka.persistence.Persistent]">currentPersistentMessage</a>.<span title="(f: akka.persistence.Persistent =&gt; akka.persistence.Persistent)Option[akka.persistence.Persistent]">map</span><span class="delimiter">(</span><a href="#akka.persistence.Persistent.apply.$anonfun.x$1" title="akka.persistence.Persistent">_</a>.<a href="#akka.persistence;Persistent.withPayload" title="(payload: Any)akka.persistence.Persistent">withPayload</a><span class="delimiter">(</span><a href="#akka.persistence.Persistent.apply$default$2.payload" title="Any">payload</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; akka.persistence.Persistent)akka.persistence.Persistent">getOrElse</span><span class="delimiter">(</span><a href="#akka.persistence.PersistentRepr.apply" title="(payload: Any, sequenceNr: Long, persistenceId: String, deleted: Boolean, redeliveries: Int, confirms: scala.collection.immutable.Seq[String], confirmable: Boolean, confirmMessage: akka.persistence.Delivered, confirmTarget: akka.actor.ActorRef, sender: akka.actor.ActorRef)akka.persistence.PersistentRepr with Product{def update(sequenceNr: Long,persistenceId: String,deleted: Boolean,redeliveries: Int,confirms: scala.collection.immutable.Seq[String],confirmMessage: akka.persistence.Delivered,confirmTarget: akka.actor.ActorRef,sender: akka.actor.ActorRef): akka.persistence.PersistentRepr with Product}">PersistentRepr</a><span class="delimiter">(</span><a href="#akka.persistence.Persistent.apply$default$2.payload" title="Any">payload</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * [[Persistent]] extractor.
   */</span>
  @deprecated<span class="delimiter">(</span><span class="string">&quot;Use akka.persistence.PersistentActor instead&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(persistent: akka.persistence.Persistent)Option[(Any, Long)]" id="akka.persistence.Persistent.unapply">unapply</a><span class="delimiter">(</span><a title="akka.persistence.Persistent" id="akka.persistence.Persistent.unapply.persistent">persistent</a>: <a href="#akka.persistence;Persistent" title="akka.persistence.Persistent">Persistent</a><span class="delimiter">)</span>: <span title="Option[(Any, Long)]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>Any, Long<span class="delimiter">)</span><span class="delimiter">]</span> =
    <span title="(x: (Any, Long))Some[(Any, Long)]">Some</span><span class="delimiter">(</span><span title="(_1: Any, _2: Long)(Any, Long)" class="delimiter">(</span><a href="#akka.persistence.Persistent.unapply.persistent" title="akka.persistence.Persistent">persistent</a>.<a href="#akka.persistence;Persistent.payload" title="=&gt; Any">payload</a>, <a href="#akka.persistence.Persistent.unapply.persistent" title="akka.persistence.Persistent">persistent</a>.<a href="#akka.persistence;Persistent.sequenceNr" title="=&gt; Long">sequenceNr</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Persistent message that has been delivered by a [[Channel]] or [[PersistentChannel]]. Channel
 * destinations that receive messages of this type can confirm their receipt by calling [[confirm]].
 */</span>
@deprecated<span class="delimiter">(</span><span class="string">&quot;Use akka.persistence.PersistentActor instead&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
<span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class ConfirmablePersistent extends akka.persistence.Persistent" id="akka.persistence;ConfirmablePersistent">ConfirmablePersistent</a> <a href="#akka.persistence;ConfirmablePersistent" title="akka.persistence.ConfirmablePersistent" class="keyword">extends</a> <a href="#akka.persistence;Persistent" title="akka.persistence.Persistent">Persistent</a> <span class="delimiter">{</span>
  <span class="comment">/**
   * Called by [[Channel]] and [[PersistentChannel]] destinations to confirm the receipt of a
   * persistent message.
   */</span>
  <span class="keyword">def</span> <a title="()Unit" id="akka.persistence;ConfirmablePersistent.confirm">confirm</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span>

  <span class="comment">/**
   * Number of redeliveries. Only greater than zero if message has been redelivered by a [[Channel]]
   * or [[PersistentChannel]].
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Int" id="akka.persistence;ConfirmablePersistent.redeliveries">redeliveries</a>: <span title="Int">Int</span>
<span class="delimiter">}</span>

@deprecated<span class="delimiter">(</span><span class="string">&quot;Use akka.persistence.PersistentActor instead&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
<span class="keyword">object</span> <a title="akka.persistence.ConfirmablePersistent.type" id="akka.persistence.ConfirmablePersistent">ConfirmablePersistent</a> <a href="#akka.persistence.ConfirmablePersistent" title="akka.persistence.ConfirmablePersistent.type" class="delimiter">{</a>
  <span class="comment">/**
   * [[ConfirmablePersistent]] extractor.
   */</span>
  @deprecated<span class="delimiter">(</span><span class="string">&quot;Use akka.persistence.PersistentActor instead&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(persistent: akka.persistence.ConfirmablePersistent)Option[(Any, Long, Int)]" id="akka.persistence.ConfirmablePersistent.unapply">unapply</a><span class="delimiter">(</span><a title="akka.persistence.ConfirmablePersistent" id="akka.persistence.ConfirmablePersistent.unapply.persistent">persistent</a>: <a href="#akka.persistence;ConfirmablePersistent" title="akka.persistence.ConfirmablePersistent">ConfirmablePersistent</a><span class="delimiter">)</span>: <span title="Option[(Any, Long, Int)]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>Any, Long, Int<span class="delimiter">)</span><span class="delimiter">]</span> =
    <span title="(x: (Any, Long, Int))Some[(Any, Long, Int)]">Some</span><span class="delimiter">(</span><span title="(_1: Any, _2: Long, _3: Int)(Any, Long, Int)" class="delimiter">(</span><a href="#akka.persistence.ConfirmablePersistent.unapply.persistent" title="akka.persistence.ConfirmablePersistent">persistent</a>.<a href="#akka.persistence;Persistent.payload" title="=&gt; Any">payload</a>, <a href="#akka.persistence.ConfirmablePersistent.unapply.persistent" title="akka.persistence.ConfirmablePersistent">persistent</a>.<a href="#akka.persistence;Persistent.sequenceNr" title="=&gt; Long">sequenceNr</a>, <a href="#akka.persistence.ConfirmablePersistent.unapply.persistent" title="akka.persistence.ConfirmablePersistent">persistent</a>.<a href="#akka.persistence;ConfirmablePersistent.redeliveries" title="=&gt; Int">redeliveries</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Instructs a [[Processor]] to atomically write the contained [[Persistent]] messages to the
 * journal. The processor receives the written messages individually as [[Persistent]] messages.
 * During recovery, they are also replayed individually.
 */</span>
@deprecated<span class="delimiter">(</span><span class="string">&quot;Use akka.persistence.PersistentActor instead&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
<span class="keyword">case class</span> <a title="class PersistentBatch extends AnyRef with akka.persistence.serialization.Message with Product with Serializable" id="akka.persistence;PersistentBatch">PersistentBatch</a><a href="#akka.persistence;PersistentBatch" title="Product" class="delimiter">(</a><a title="scala.collection.immutable.Seq[akka.persistence.Resequenceable]" id="akka.persistence;PersistentBatch.batch">batch</a>: immutable.<span title="scala.collection.immutable.Seq[akka.persistence.Resequenceable]">Seq</span><span class="delimiter">[</span>Resequenceable<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="serialization/MessageSerializer.scala.html#akka.persistence.serialization;Message" title="akka.persistence.serialization.Message">Message</a>

@deprecated<span class="delimiter">(</span><span class="string">&quot;Use akka.persistence.PersistentActor instead&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
<span class="keyword">object</span> <a title="akka.persistence.PersistentBatch.type" id="akka.persistence.PersistentBatch.readResolve">PersistentBatch</a> <a href="#akka.persistence.PersistentBatch.readResolve" title="akka.persistence.PersistentBatch.type" class="delimiter">{</a>
  <span class="comment">/**
   * Java API.
   */</span>
  <span class="keyword">def</span> <a title="(persistentBatch: Iterable[akka.persistence.Persistent])akka.persistence.PersistentBatch" id="akka.persistence.PersistentBatch.create">create</a><span class="delimiter">(</span><a title="Iterable[akka.persistence.Persistent]" id="akka.persistence.PersistentBatch.create.persistentBatch">persistentBatch</a>: <span title="Iterable[akka.persistence.Persistent]">JIterable</span><span class="delimiter">[</span>Persistent<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#akka.persistence;PersistentBatch" title="(batch: scala.collection.immutable.Seq[akka.persistence.Resequenceable])akka.persistence.PersistentBatch">PersistentBatch</a><span class="delimiter">(</span><a href="../../../actor/akka/japi/JavaAPI.scala.html#akka.japi.Util.immutableSeq(42d3e3f9ec)" title="(iterable: Iterable[akka.persistence.Persistent])scala.collection.immutable.Seq[akka.persistence.Persistent]">immutableSeq</a><span class="delimiter">(</span><a href="#akka.persistence.PersistentBatch.create.persistentBatch" title="Iterable[akka.persistence.Persistent]">persistentBatch</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Plugin API: confirmation entry written by journal plugins.
 */</span>
@deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed, see `akka.persistence.AtLeastOnceDelivery` instead.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
<span class="keyword">trait</span> <a title="trait PersistentConfirmation extends AnyRef" id="akka.persistence;PersistentConfirmation">PersistentConfirmation</a> <span title="Unit" class="delimiter">{</span>
  @deprecated<span class="delimiter">(</span><span class="string">&quot;Use `persistenceId` instead. Processor will be removed.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; String" id="akka.persistence;PersistentConfirmation.processorId">processorId</a>: <span title="String">String</span> = <a href="#akka.persistence;PersistentConfirmation.persistenceId" title="=&gt; String">persistenceId</a>
  <span class="keyword">def</span> <a title="=&gt; String" id="akka.persistence;PersistentConfirmation.persistenceId">persistenceId</a>: <span title="String">String</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="akka.persistence;PersistentConfirmation.channelId">channelId</a>: <span title="String">String</span>
  <span class="keyword">def</span> <a title="=&gt; Long" id="akka.persistence;PersistentConfirmation.sequenceNr">sequenceNr</a>: <span title="Long">Long</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Plugin API: persistent message identifier.
 */</span>
@deprecated<span class="delimiter">(</span><span class="string">&quot;deleteMessages will be removed.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
<span class="keyword">trait</span> <a title="trait PersistentId extends AnyRef" id="akka.persistence;PersistentId">PersistentId</a> <span title="Unit" class="delimiter">{</span>

  <span class="comment">/**
   * Persistent id that journals a persistent message
   */</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="akka.persistence;PersistentId.processorId">processorId</a>: <span title="String">String</span>

  <span class="comment">/**
   * Persistent id that journals a persistent message
   */</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="akka.persistence;PersistentId.persistenceId">persistenceId</a>: <span title="String">String</span> = <a href="#akka.persistence;PersistentId.processorId" title="=&gt; String">processorId</a>

  <span class="comment">/**
   * A persistent message's sequence number.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Long" id="akka.persistence;PersistentId.sequenceNr">sequenceNr</a>: <span title="Long">Long</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API.
 */</span>
@deprecated<span class="delimiter">(</span><span class="string">&quot;deleteMessages will be removed.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
<span class="keyword">private</span><span class="delimiter">[</span>persistence<span class="delimiter">]</span> <span class="keyword">case class</span> <a title="class PersistentIdImpl extends AnyRef with akka.persistence.PersistentId with Product with Serializable" id="akka.persistence.PersistentIdImpl.readResolve">PersistentIdImpl</a><a href="#akka.persistence.PersistentIdImpl.readResolve" title="Product" class="delimiter">(</a><a title="String" id="akka.persistence;PersistentIdImpl.processorId">processorId</a>: <span title="String">String</span>, <a title="Long" id="akka.persistence;PersistentIdImpl.sequenceNr">sequenceNr</a>: <span title="Long">Long</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#akka.persistence;PersistentId" title="akka.persistence.PersistentId">PersistentId</a>

<span class="comment">/**
 * Plugin API: representation of a persistent message in the journal plugin API.
 *
 * @see [[journal.SyncWriteJournal]]
 * @see [[journal.AsyncWriteJournal]]
 * @see [[journal.AsyncRecovery]]
 */</span>
<span class="keyword">trait</span> <a title="trait PersistentRepr extends akka.persistence.Persistent with akka.persistence.Resequenceable with akka.persistence.PersistentId with akka.persistence.serialization.Message" id="akka.persistence;PersistentRepr">PersistentRepr</a> <span title="Unit" class="keyword">extends</span> <a href="#akka.persistence;Persistent" title="akka.persistence.Persistent">Persistent</a> <span class="keyword">with</span> <a href="#akka.persistence;Resequenceable" title="akka.persistence.Resequenceable">Resequenceable</a> <span class="keyword">with</span> <a href="#akka.persistence;PersistentId" title="akka.persistence.PersistentId">PersistentId</a> <span class="keyword">with</span> <a href="serialization/MessageSerializer.scala.html#akka.persistence.serialization;Message" title="akka.persistence.serialization.Message">Message</a> <span class="delimiter">{</span>
  <span class="comment">// todo we want to get rid of the Persistent() wrapper from user land; PersistentRepr is here to stay. #15230</span>

  <span class="keyword">import</span> scala.collection.<span title="scala.collection.JavaConverters.type">JavaConverters</span>._

  <span class="comment">/**
   * This persistent message's payload.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Any" id="akka.persistence;PersistentRepr.payload">payload</a>: <span title="Any">Any</span>

  <span class="comment">/**
   * `true` if this message is marked as deleted.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="akka.persistence;PersistentRepr.deleted">deleted</a>: <span title="Boolean">Boolean</span>

  <span class="comment">/**
   * Number of redeliveries. Only greater than zero if message has been redelivered by a [[Channel]]
   * or [[PersistentChannel]].
   */</span>
  @deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; Int" id="akka.persistence;PersistentRepr.redeliveries">redeliveries</a>: <span title="Int">Int</span>

  <span class="comment">/**
   * Channel ids of delivery confirmations that are available for this message. Only non-empty
   * for replayed messages.
   */</span>
  @deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Seq[String]" id="akka.persistence;PersistentRepr.confirms">confirms</a>: immutable.<span title="scala.collection.immutable.Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span>

  <span class="comment">/**
   * Java API, Plugin API: channel ids of delivery confirmations that are available for this
   * message. Only non-empty for replayed messages.
   */</span>
  @deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; java.util.List[String]" id="akka.persistence;PersistentRepr.getConfirms">getConfirms</a>: <span title="java.util.List[String]">JList</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#akka.persistence;PersistentRepr.confirms" title="(b: Seq[String])scala.collection.convert.Decorators.AsJava[java.util.List[String]]">confirms</a>.<span title="=&gt; java.util.List[String]">asJava</span>

  <span class="comment">/**
   * `true` only if this message has been delivered by a channel.
   */</span>
  @deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="akka.persistence;PersistentRepr.confirmable">confirmable</a>: <span title="Boolean">Boolean</span>

  <span class="comment">/**
   * Delivery confirmation message.
   */</span>
  @deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; akka.persistence.Delivered" id="akka.persistence;PersistentRepr.confirmMessage">confirmMessage</a>: <a href="Channel.scala.html#akka.persistence;Delivered" title="akka.persistence.Delivered">Delivered</a>

  <span class="comment">/**
   * Delivery confirmation message.
   */</span>
  @deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; akka.actor.ActorRef" id="akka.persistence;PersistentRepr.confirmTarget">confirmTarget</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>

  <span class="comment">/**
   * Sender of this message.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; akka.actor.ActorRef" id="akka.persistence;PersistentRepr.sender">sender</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>

  <span class="comment">/**
   * INTERNAL API.
   */</span>
  <span class="keyword">private</span><span class="delimiter">[</span>persistence<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(sender: akka.actor.ActorRef)akka.persistence.PersistentRepr" id="akka.persistence;PersistentRepr.prepareWrite(25b57c325c)">prepareWrite</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.persistence;PersistentRepr.prepareWrite(25b57c325c).sender">sender</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: <a href="#akka.persistence;PersistentRepr" title="akka.persistence.PersistentRepr">PersistentRepr</a>

  <span class="comment">/**
   * INTERNAL API.
   */</span>
  <span class="keyword">private</span><span class="delimiter">[</span>persistence<span class="delimiter">]</span> <span class="keyword">def</span> <a title="()(implicit context: akka.actor.ActorContext)akka.persistence.PersistentRepr" id="akka.persistence;PersistentRepr.prepareWrite(858b2495f4)">prepareWrite</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="akka.actor.ActorContext" id="akka.persistence;PersistentRepr.prepareWrite(858b2495f4).context">context</a>: <a href="../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext" title="akka.actor.ActorContext">ActorContext</a><span class="delimiter">)</span>: <a href="#akka.persistence;PersistentRepr" title="akka.persistence.PersistentRepr">PersistentRepr</a> =
    <a href="#akka.persistence;PersistentRepr.prepareWrite(25b57c325c)" title="(sender: akka.actor.ActorRef)akka.persistence.PersistentRepr">prepareWrite</a><span class="delimiter">(</span><span title="akka.actor.ActorRef" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.persistence;PersistentRepr.sender" title="=&gt; akka.actor.ActorRef">sender</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../actor/akka/pattern/AskSupport.scala.html#akka.pattern;PromiseActorRef" title="akka.pattern.PromiseActorRef">PromiseActorRef</a><span class="delimiter">]</span><span class="delimiter">)</span> <a href="#akka.persistence;PersistentRepr.prepareWrite(858b2495f4).context" title="akka.actor.ActorContext">context</a>.<a href="../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a>.<a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.deadLetters" title="=&gt; akka.actor.ActorRef">deadLetters</a> <span class="keyword">else</span> <a href="#akka.persistence;PersistentRepr.sender" title="=&gt; akka.actor.ActorRef">sender</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Creates a new copy of this [[PersistentRepr]].
   */</span>
  <span class="keyword">def</span> <a title="(sequenceNr: Long, persistenceId: String, deleted: Boolean, redeliveries: Int, confirms: scala.collection.immutable.Seq[String], confirmMessage: akka.persistence.Delivered, confirmTarget: akka.actor.ActorRef, sender: akka.actor.ActorRef)akka.persistence.PersistentRepr" id="akka.persistence;PersistentRepr.update">update</a><span class="delimiter">(</span>
    <a title="Long" id="akka.persistence;PersistentRepr.update$default$1">sequenceNr</a>: <span title="Long">Long</span> = <a href="#akka.persistence;PersistentRepr.update$default$1" title="Long">sequenceNr</a>,
    @deprecatedName<span class="delimiter">(</span><span class="symbol">'processorId</span><span class="delimiter">)</span> <a title="String" id="akka.persistence;PersistentRepr.update$default$2">persistenceId</a>: <span title="String">String</span> = <a href="#akka.persistence;PersistentRepr.update$default$2" title="String">persistenceId</a>,
    <a title="Boolean" id="akka.persistence;PersistentRepr.update$default$3">deleted</a>: <span title="Boolean">Boolean</span> = <a href="#akka.persistence;PersistentRepr.update$default$3" title="Boolean">deleted</a>,
    @deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span> <a title="Int" id="akka.persistence;PersistentRepr.update$default$4">redeliveries</a>: <span title="Int">Int</span> = <a href="#akka.persistence;PersistentRepr.update$default$4" title="Int">redeliveries</a>,
    @deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span> <a title="scala.collection.immutable.Seq[String]" id="akka.persistence;PersistentRepr.update$default$5">confirms</a>: immutable.<span title="scala.collection.immutable.Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#akka.persistence;PersistentRepr.update$default$5" title="scala.collection.immutable.Seq[String]">confirms</a>,
    @deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span> <a title="akka.persistence.Delivered" id="akka.persistence;PersistentRepr.update$default$6">confirmMessage</a>: <a href="Channel.scala.html#akka.persistence;Delivered" title="akka.persistence.Delivered">Delivered</a> = <a href="#akka.persistence;PersistentRepr.update$default$6" title="akka.persistence.Delivered">confirmMessage</a>,
    @deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span> <a title="akka.actor.ActorRef" id="akka.persistence;PersistentRepr.update$default$7">confirmTarget</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a> = <a href="#akka.persistence;PersistentRepr.update$default$7" title="akka.actor.ActorRef">confirmTarget</a>,
    <a title="akka.actor.ActorRef" id="akka.persistence;PersistentRepr.update$default$8">sender</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a> = <a href="#akka.persistence;PersistentRepr.update$default$8" title="akka.actor.ActorRef">sender</a><span class="delimiter">)</span>: <a href="#akka.persistence;PersistentRepr" title="akka.persistence.PersistentRepr">PersistentRepr</a>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="akka.persistence.PersistentRepr.type" id="akka.persistence.PersistentRepr.readResolve">PersistentRepr</a> <a href="#akka.persistence.PersistentRepr.readResolve" title="akka.persistence.PersistentRepr.type" class="delimiter">{</a>
  <span class="comment">/**
   * Plugin API: value of an undefined processor or channel id.
   */</span>
  <span class="keyword">val</span> <a title="String" id="akka.persistence.PersistentRepr.Undefined">Undefined</a> = <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>

  <span class="comment">/**
   * Plugin API.
   */</span>
  <span class="keyword">def</span> <a title="(payload: Any, sequenceNr: Long, persistenceId: String, deleted: Boolean, redeliveries: Int, confirms: scala.collection.immutable.Seq[String], confirmable: Boolean, confirmMessage: akka.persistence.Delivered, confirmTarget: akka.actor.ActorRef, sender: akka.actor.ActorRef)akka.persistence.PersistentRepr with Product{def update(sequenceNr: Long,persistenceId: String,deleted: Boolean,redeliveries: Int,confirms: scala.collection.immutable.Seq[String],confirmMessage: akka.persistence.Delivered,confirmTarget: akka.actor.ActorRef,sender: akka.actor.ActorRef): akka.persistence.PersistentRepr with Product}" id="akka.persistence.PersistentRepr.apply">apply</a><span class="delimiter">(</span>
    <a title="Any" id="akka.persistence.PersistentRepr.apply.payload">payload</a>: <span title="Any">Any</span>,
    <a title="Long" id="akka.persistence.PersistentRepr.apply$default$2">sequenceNr</a>: <span title="Long">Long</span> = <span title="Long(0L)" class="long">0L</span>,
    @deprecatedName<span class="delimiter">(</span><span class="symbol">'processorId</span><span class="delimiter">)</span> <a title="String" id="akka.persistence.PersistentRepr.apply$default$3">persistenceId</a>: <span title="String">String</span> = <a href="#akka.persistence.PersistentRepr.readResolve" title="akka.persistence.PersistentRepr.type">PersistentRepr</a>.<a href="#akka.persistence.PersistentRepr.Undefined" title="=&gt; String">Undefined</a>,
    <a title="Boolean" id="akka.persistence.PersistentRepr.apply$default$4">deleted</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>,
    @deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span> <a title="Int" id="akka.persistence.PersistentRepr.apply$default$5">redeliveries</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span>,
    @deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span> <a title="scala.collection.immutable.Seq[String]" id="akka.persistence.PersistentRepr.apply$default$6">confirms</a>: immutable.<span title="scala.collection.immutable.Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="scala.collection.immutable.Nil.type">Nil</span>,
    @deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span> <a title="Boolean" id="akka.persistence.PersistentRepr.apply$default$7">confirmable</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>,
    @deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span> <a title="akka.persistence.Delivered" id="akka.persistence.PersistentRepr.apply$default$8">confirmMessage</a>: <a href="Channel.scala.html#akka.persistence;Delivered" title="akka.persistence.Delivered">Delivered</a> = <span title="Null(null)" class="keyword">null</span>,
    @deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span> <a title="akka.actor.ActorRef" id="akka.persistence.PersistentRepr.apply$default$9">confirmTarget</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a> = <span title="Null(null)" class="keyword">null</span>,
    <a title="akka.actor.ActorRef" id="akka.persistence.PersistentRepr.apply$default$10">sender</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a> = <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> =
    <span title="persistence extends akka.persistence.PersistentRepr with Product" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.persistence.PersistentRepr.apply$default$7" title="Boolean">confirmable</a><span class="delimiter">)</span> <a href="#akka.persistence;ConfirmablePersistentImpl" title="(payload: Any, sequenceNr: Long, persistenceId: String, deleted: Boolean, redeliveries: Int, confirms: scala.collection.immutable.Seq[String], confirmMessage: akka.persistence.Delivered, confirmTarget: akka.actor.ActorRef, sender: akka.actor.ActorRef)akka.persistence.ConfirmablePersistentImpl">ConfirmablePersistentImpl</a><span class="delimiter">(</span><a href="#akka.persistence.PersistentRepr.apply.payload" title="Any">payload</a>, <a href="#akka.persistence.PersistentRepr.apply$default$2" title="Long">sequenceNr</a>, <a href="#akka.persistence.PersistentRepr.apply$default$3" title="String">persistenceId</a>, <a href="#akka.persistence.PersistentRepr.apply$default$4" title="Boolean">deleted</a>, <a href="#akka.persistence.PersistentRepr.apply$default$5" title="Int">redeliveries</a>, <a href="#akka.persistence.PersistentRepr.apply$default$6" title="scala.collection.immutable.Seq[String]">confirms</a>, <a href="#akka.persistence.PersistentRepr.apply$default$8" title="akka.persistence.Delivered">confirmMessage</a>, <a href="#akka.persistence.PersistentRepr.apply$default$9" title="akka.actor.ActorRef">confirmTarget</a>, <a href="#akka.persistence.PersistentRepr.apply$default$10" title="akka.actor.ActorRef">sender</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#akka.persistence.PersistentImpl.readResolve" title="(payload: Any, sequenceNr: Long, persistenceId: String, deleted: Boolean, confirms: scala.collection.immutable.Seq[String], sender: akka.actor.ActorRef)akka.persistence.PersistentImpl">PersistentImpl</a><span class="delimiter">(</span><a href="#akka.persistence.PersistentRepr.apply.payload" title="Any">payload</a>, <a href="#akka.persistence.PersistentRepr.apply$default$2" title="Long">sequenceNr</a>, <a href="#akka.persistence.PersistentRepr.apply$default$3" title="String">persistenceId</a>, <a href="#akka.persistence.PersistentRepr.apply$default$4" title="Boolean">deleted</a>, <a href="#akka.persistence.PersistentRepr.apply$default$6" title="scala.collection.immutable.Seq[String]">confirms</a>, <a href="#akka.persistence.PersistentRepr.apply$default$10" title="akka.actor.ActorRef">sender</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Java API, Plugin API.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; (Any, Long, String, Boolean, Int, scala.collection.immutable.Seq[String], Boolean, akka.persistence.Delivered, akka.actor.ActorRef, akka.actor.ActorRef) =&gt; akka.persistence.PersistentRepr with Product{def update(sequenceNr: Long,persistenceId: String,deleted: Boolean,redeliveries: Int,confirms: scala.collection.immutable.Seq[String],confirmMessage: akka.persistence.Delivered,confirmTarget: akka.actor.ActorRef,sender: akka.actor.ActorRef): akka.persistence.PersistentRepr with Product}" id="akka.persistence.PersistentRepr.create">create</a> = <a href="#akka.persistence.PersistentRepr.apply" title="(payload: Any, sequenceNr: Long, persistenceId: String, deleted: Boolean, redeliveries: Int, confirms: scala.collection.immutable.Seq[String], confirmable: Boolean, confirmMessage: akka.persistence.Delivered, confirmTarget: akka.actor.ActorRef, sender: akka.actor.ActorRef)akka.persistence.PersistentRepr with Product{def update(sequenceNr: Long,persistenceId: String,deleted: Boolean,redeliveries: Int,confirms: scala.collection.immutable.Seq[String],confirmMessage: akka.persistence.Delivered,confirmTarget: akka.actor.ActorRef,sender: akka.actor.ActorRef): akka.persistence.PersistentRepr with Product}">apply</a> _
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API.
 */</span>
<span title="AnyRef" class="keyword">private</span><span class="delimiter">[</span>persistence<span class="delimiter">]</span> <span class="keyword">case class</span> <a title="class PersistentImpl extends akka.persistence.Persistent with akka.persistence.PersistentRepr with Product with Serializable" id="akka.persistence.PersistentImpl.readResolve">PersistentImpl</a><a href="#akka.persistence.PersistentImpl.readResolve" title="Product" class="delimiter">(</a>
  <a title="Any" id="akka.persistence;PersistentImpl.payload">payload</a>: <span title="Any">Any</span>,
  <a title="Long" id="akka.persistence;PersistentImpl.sequenceNr">sequenceNr</a>: <span title="Long">Long</span>,
  @deprecatedName<span class="delimiter">(</span><span class="symbol">'processorId</span><span class="delimiter">)</span> <span class="keyword">override</span> <span class="keyword">val</span> <a title="String" id="akka.persistence;PersistentImpl.persistenceId">persistenceId</a>: <span title="String">String</span>,
  <a title="Boolean" id="akka.persistence;PersistentImpl.deleted">deleted</a>: <span title="Boolean">Boolean</span>,
  <a title="scala.collection.immutable.Seq[String]" id="akka.persistence;PersistentImpl.confirms">confirms</a>: immutable.<span title="scala.collection.immutable.Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span>,
  <a title="akka.actor.ActorRef" id="akka.persistence;PersistentImpl.sender">sender</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#akka.persistence;Persistent" title="akka.persistence.Persistent">Persistent</a> <span class="keyword">with</span> <a href="#akka.persistence;PersistentRepr" title="akka.persistence.PersistentRepr">PersistentRepr</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(payload: Any)akka.persistence.Persistent" id="akka.persistence;PersistentImpl.withPayload">withPayload</a><span class="delimiter">(</span><a title="Any" id="akka.persistence;PersistentImpl.withPayload.payload">payload</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <a href="#akka.persistence;Persistent" title="akka.persistence.Persistent">Persistent</a> =
    <a href="#akka.persistence.PersistentImpl.readResolve" title="(payload: Any, sequenceNr: Long, persistenceId: String, deleted: Boolean, confirms: scala.collection.immutable.Seq[String], sender: akka.actor.ActorRef)akka.persistence.PersistentImpl">copy</a><span class="delimiter">(</span>payload = <a href="#akka.persistence;PersistentImpl.withPayload.payload" title="Any">payload</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(sender: akka.actor.ActorRef)akka.persistence.PersistentImpl" id="akka.persistence;PersistentImpl.prepareWrite(5959e23c77)">prepareWrite</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.persistence;PersistentImpl.prepareWrite(5959e23c77).sender">sender</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span> =
    <a href="#akka.persistence;PersistentImpl.payload" title="Any" id="akka.persistence;PersistentImpl.prepareWrite(5959e23c77).x$22">copy</a><span class="delimiter">(</span>sender = <a href="#akka.persistence;PersistentImpl.prepareWrite(5959e23c77).sender" title="akka.actor.ActorRef" id="akka.persistence;PersistentImpl.prepareWrite(5959e23c77).x$17">sender</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(sequenceNr: Long, persistenceId: String, deleted: Boolean, redeliveries: Int, confirms: scala.collection.immutable.Seq[String], confirmMessage: akka.persistence.Delivered, confirmTarget: akka.actor.ActorRef, sender: akka.actor.ActorRef)akka.persistence.PersistentImpl" id="akka.persistence;PersistentImpl.update">update</a><span class="delimiter">(</span>
    <a title="Long" id="akka.persistence;PersistentImpl.update.sequenceNr">sequenceNr</a>: <span title="Long">Long</span>,
    @deprecatedName<span class="delimiter">(</span><span class="symbol">'processorId</span><span class="delimiter">)</span> <a title="String" id="akka.persistence;PersistentImpl.update.persistenceId">persistenceId</a>: <span title="String">String</span>,
    <a title="Boolean" id="akka.persistence;PersistentImpl.update.deleted">deleted</a>: <span title="Boolean">Boolean</span>,
    <a title="Int" id="akka.persistence;PersistentImpl.update.redeliveries">redeliveries</a>: <span title="Int">Int</span>,
    <a title="scala.collection.immutable.Seq[String]" id="akka.persistence;PersistentImpl.update.confirms">confirms</a>: immutable.<span title="scala.collection.immutable.Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span>,
    <a title="akka.persistence.Delivered" id="akka.persistence;PersistentImpl.update.confirmMessage">confirmMessage</a>: <a href="Channel.scala.html#akka.persistence;Delivered" title="akka.persistence.Delivered">Delivered</a>,
    <a title="akka.actor.ActorRef" id="akka.persistence;PersistentImpl.update.confirmTarget">confirmTarget</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>,
    <a title="akka.actor.ActorRef" id="akka.persistence;PersistentImpl.update.sender">sender</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span> =
    <a href="#akka.persistence;PersistentImpl.payload" title="Any" id="akka.persistence;PersistentImpl.update.x$16">copy</a><span class="delimiter">(</span>sequenceNr = <a href="#akka.persistence;PersistentImpl.update.sequenceNr" title="Long" id="akka.persistence;PersistentImpl.update.x$11">sequenceNr</a>, persistenceId = <a href="#akka.persistence;PersistentImpl.update.persistenceId" title="String" id="akka.persistence;PersistentImpl.update.x$12">persistenceId</a>, deleted = <a href="#akka.persistence;PersistentImpl.update.deleted" title="Boolean" id="akka.persistence;PersistentImpl.update.x$13">deleted</a>, confirms = <a href="#akka.persistence;PersistentImpl.update.confirms" title="scala.collection.immutable.Seq[String]" id="akka.persistence;PersistentImpl.update.x$14">confirms</a>, sender = <a href="#akka.persistence;PersistentImpl.update.sender" title="akka.actor.ActorRef" id="akka.persistence;PersistentImpl.update.x$15">sender</a><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="Int" id="akka.persistence;PersistentImpl.redeliveries">redeliveries</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span>
  <span class="keyword">val</span> <a title="Boolean" id="akka.persistence;PersistentImpl.confirmable">confirmable</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>
  <span class="keyword">val</span> <a title="akka.persistence.Delivered" id="akka.persistence;PersistentImpl.confirmMessage">confirmMessage</a>: <a href="Channel.scala.html#akka.persistence;Delivered" title="akka.persistence.Delivered">Delivered</a> = <span title="Null(null)" class="keyword">null</span>
  <span class="keyword">val</span> <a title="akka.actor.ActorRef" id="akka.persistence;PersistentImpl.confirmTarget">confirmTarget</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a> = <span title="Null(null)" class="keyword">null</span>

  @deprecated<span class="delimiter">(</span><span class="string">&quot;Use persistenceId.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="akka.persistence;PersistentImpl.processorId">processorId</a> = <a href="#akka.persistence;PersistentImpl.persistenceId" title="=&gt; String">persistenceId</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API.
 */</span>
@deprecated<span class="delimiter">(</span><span class="string">&quot;ConfirmablePersistent will be removed, see `AtLeastOnceDelivery` instead.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
<span class="keyword">private</span><span class="delimiter">[</span>persistence<span class="delimiter">]</span> <span class="keyword">case class</span> <a title="class ConfirmablePersistentImpl extends akka.persistence.ConfirmablePersistent with akka.persistence.PersistentRepr with Product with Serializable" id="akka.persistence;ConfirmablePersistentImpl">ConfirmablePersistentImpl</a><a href="#akka.persistence;ConfirmablePersistentImpl" title="Product" class="delimiter">(</a>
  <a title="Any" id="akka.persistence;ConfirmablePersistentImpl.payload">payload</a>: <span title="Any">Any</span>,
  <a title="Long" id="akka.persistence;ConfirmablePersistentImpl.sequenceNr">sequenceNr</a>: <span title="Long">Long</span>,
  @deprecatedName<span class="delimiter">(</span><span class="symbol">'processorId</span><span class="delimiter">)</span> <span class="keyword">override</span> <span class="keyword">val</span> <a title="String" id="akka.persistence;ConfirmablePersistentImpl.persistenceId">persistenceId</a>: <span title="String">String</span>,
  <a title="Boolean" id="akka.persistence;ConfirmablePersistentImpl.deleted">deleted</a>: <span title="Boolean">Boolean</span>,
  <a title="Int" id="akka.persistence;ConfirmablePersistentImpl.redeliveries">redeliveries</a>: <span title="Int">Int</span>,
  <a title="scala.collection.immutable.Seq[String]" id="akka.persistence;ConfirmablePersistentImpl.confirms">confirms</a>: immutable.<span title="scala.collection.immutable.Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span>,
  <a title="akka.persistence.Delivered" id="akka.persistence;ConfirmablePersistentImpl.confirmMessage">confirmMessage</a>: <a href="Channel.scala.html#akka.persistence;Delivered" title="akka.persistence.Delivered">Delivered</a>,
  <a title="akka.actor.ActorRef" id="akka.persistence;ConfirmablePersistentImpl.confirmTarget">confirmTarget</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>,
  <a title="akka.actor.ActorRef" id="akka.persistence;ConfirmablePersistentImpl.sender">sender</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#akka.persistence;ConfirmablePersistent" title="akka.persistence.ConfirmablePersistent">ConfirmablePersistent</a> <span class="keyword">with</span> <a href="#akka.persistence;PersistentRepr" title="akka.persistence.PersistentRepr">PersistentRepr</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(payload: Any)akka.persistence.ConfirmablePersistent" id="akka.persistence;ConfirmablePersistentImpl.withPayload">withPayload</a><span class="delimiter">(</span><a title="Any" id="akka.persistence;ConfirmablePersistentImpl.withPayload.payload">payload</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <a href="#akka.persistence;ConfirmablePersistent" title="akka.persistence.ConfirmablePersistent">ConfirmablePersistent</a> =
    <a href="#akka.persistence;ConfirmablePersistentImpl" title="(payload: Any, sequenceNr: Long, persistenceId: String, deleted: Boolean, redeliveries: Int, confirms: scala.collection.immutable.Seq[String], confirmMessage: akka.persistence.Delivered, confirmTarget: akka.actor.ActorRef, sender: akka.actor.ActorRef)akka.persistence.ConfirmablePersistentImpl">copy</a><span class="delimiter">(</span>payload = <a href="#akka.persistence;ConfirmablePersistentImpl.withPayload.payload" title="Any">payload</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="()Unit" id="akka.persistence;ConfirmablePersistentImpl.confirm">confirm</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.persistence;ConfirmablePersistentImpl.confirmTarget" title="=&gt; akka.actor.ActorRef">confirmTarget</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="akka.actor.ScalaActorRef" id="akka.persistence;ConfirmablePersistentImpl.confirm.qual$1">confirmTarget</a> <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!$default$2" title="akka.actor.ActorRef" id="akka.persistence;ConfirmablePersistentImpl.confirm.x$24">!</a> <a href="#akka.persistence;ConfirmablePersistentImpl.confirmMessage" title="akka.persistence.Delivered" id="akka.persistence;ConfirmablePersistentImpl.confirm.x$23">confirmMessage</a>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="akka.persistence;ConfirmablePersistentImpl.confirmable">confirmable</a> = <span title="Boolean(true)" class="keyword">true</span>

  <span class="keyword">def</span> <a title="(sender: akka.actor.ActorRef)akka.persistence.ConfirmablePersistentImpl" id="akka.persistence;ConfirmablePersistentImpl.prepareWrite(86e35ce57e)">prepareWrite</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.persistence;ConfirmablePersistentImpl.prepareWrite(86e35ce57e).sender">sender</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span> =
    <a href="#akka.persistence;ConfirmablePersistentImpl.payload" title="Any" id="akka.persistence;ConfirmablePersistentImpl.prepareWrite(86e35ce57e).x$33">copy</a><span class="delimiter">(</span>sender = <a href="#akka.persistence;ConfirmablePersistentImpl.prepareWrite(86e35ce57e).sender" title="akka.actor.ActorRef" id="akka.persistence;ConfirmablePersistentImpl.prepareWrite(86e35ce57e).x$25">sender</a>, confirmMessage = <a title="Null" id="akka.persistence;ConfirmablePersistentImpl.prepareWrite(86e35ce57e).x$26" class="keyword">null</a>, confirmTarget = <a title="Null" id="akka.persistence;ConfirmablePersistentImpl.prepareWrite(86e35ce57e).x$27" class="keyword">null</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(sequenceNr: Long, persistenceId: String, deleted: Boolean, redeliveries: Int, confirms: scala.collection.immutable.Seq[String], confirmMessage: akka.persistence.Delivered, confirmTarget: akka.actor.ActorRef, sender: akka.actor.ActorRef)akka.persistence.ConfirmablePersistentImpl" id="akka.persistence;ConfirmablePersistentImpl.update">update</a><span class="delimiter">(</span><a title="Long" id="akka.persistence;ConfirmablePersistentImpl.update.sequenceNr">sequenceNr</a>: <span title="Long">Long</span>, @deprecatedName<span class="delimiter">(</span><span class="symbol">'processorId</span><span class="delimiter">)</span> <a title="String" id="akka.persistence;ConfirmablePersistentImpl.update.persistenceId">persistenceId</a>: <span title="String">String</span>, <a title="Boolean" id="akka.persistence;ConfirmablePersistentImpl.update.deleted">deleted</a>: <span title="Boolean">Boolean</span>, <a title="Int" id="akka.persistence;ConfirmablePersistentImpl.update.redeliveries">redeliveries</a>: <span title="Int">Int</span>, <a title="scala.collection.immutable.Seq[String]" id="akka.persistence;ConfirmablePersistentImpl.update.confirms">confirms</a>: immutable.<span title="scala.collection.immutable.Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="akka.persistence.Delivered" id="akka.persistence;ConfirmablePersistentImpl.update.confirmMessage">confirmMessage</a>: <a href="Channel.scala.html#akka.persistence;Delivered" title="akka.persistence.Delivered">Delivered</a>, <a title="akka.actor.ActorRef" id="akka.persistence;ConfirmablePersistentImpl.update.confirmTarget">confirmTarget</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="akka.actor.ActorRef" id="akka.persistence;ConfirmablePersistentImpl.update.sender">sender</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span> =
    <a href="#akka.persistence;ConfirmablePersistentImpl.payload" title="Any" id="akka.persistence;ConfirmablePersistentImpl.update.x$10">copy</a><span class="delimiter">(</span>sequenceNr = <a href="#akka.persistence;ConfirmablePersistentImpl.update.sequenceNr" title="Long" id="akka.persistence;ConfirmablePersistentImpl.update.x$2">sequenceNr</a>, persistenceId = <a href="#akka.persistence;ConfirmablePersistentImpl.update.persistenceId" title="String" id="akka.persistence;ConfirmablePersistentImpl.update.x$3">persistenceId</a>, deleted = <a href="#akka.persistence;ConfirmablePersistentImpl.update.deleted" title="Boolean" id="akka.persistence;ConfirmablePersistentImpl.update.x$4">deleted</a>, redeliveries = <a href="#akka.persistence;ConfirmablePersistentImpl.update.redeliveries" title="Int" id="akka.persistence;ConfirmablePersistentImpl.update.x$5">redeliveries</a>, confirms = <a href="#akka.persistence;ConfirmablePersistentImpl.update.confirms" title="scala.collection.immutable.Seq[String]" id="akka.persistence;ConfirmablePersistentImpl.update.x$6">confirms</a>, confirmMessage = <a href="#akka.persistence;ConfirmablePersistentImpl.update.confirmMessage" title="akka.persistence.Delivered" id="akka.persistence;ConfirmablePersistentImpl.update.x$7">confirmMessage</a>, confirmTarget = <a href="#akka.persistence;ConfirmablePersistentImpl.update.confirmTarget" title="akka.actor.ActorRef" id="akka.persistence;ConfirmablePersistentImpl.update.x$8">confirmTarget</a>, sender = <a href="#akka.persistence;ConfirmablePersistentImpl.update.sender" title="akka.actor.ActorRef" id="akka.persistence;ConfirmablePersistentImpl.update.x$9">sender</a><span class="delimiter">)</span>

  @deprecated<span class="delimiter">(</span><span class="string">&quot;Use persistenceId.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="akka.persistence;ConfirmablePersistentImpl.processorId">processorId</a> = <a href="#akka.persistence;ConfirmablePersistentImpl.persistenceId" title="=&gt; String">persistenceId</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API.
 */</span>
@deprecated<span class="delimiter">(</span><span class="string">&quot;ConfirmablePersistent will be removed, see `AtLeastOnceDelivery` instead.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
<span class="keyword">private</span><span class="delimiter">[</span>persistence<span class="delimiter">]</span> <span class="keyword">object</span> <a title="akka.persistence.ConfirmablePersistentImpl.type" id="akka.persistence.ConfirmablePersistentImpl.readResolve">ConfirmablePersistentImpl</a> <a href="#akka.persistence.ConfirmablePersistentImpl.readResolve" title="akka.persistence.ConfirmablePersistentImpl.type" class="delimiter">{</a>
  <span class="keyword">def</span> <a title="(persistent: akka.persistence.PersistentRepr, confirmMessage: akka.persistence.Delivered, confirmTarget: akka.actor.ActorRef)akka.persistence.ConfirmablePersistentImpl" id="akka.persistence.ConfirmablePersistentImpl.apply(c7344d043d)">apply</a><span class="delimiter">(</span><a title="akka.persistence.PersistentRepr" id="akka.persistence.ConfirmablePersistentImpl.apply(c7344d043d).persistent">persistent</a>: <a href="#akka.persistence;PersistentRepr" title="akka.persistence.PersistentRepr">PersistentRepr</a>, <a title="akka.persistence.Delivered" id="akka.persistence.ConfirmablePersistentImpl.apply(c7344d043d).confirmMessage">confirmMessage</a>: <a href="Channel.scala.html#akka.persistence;Delivered" title="akka.persistence.Delivered">Delivered</a>, <a title="akka.actor.ActorRef" id="akka.persistence.ConfirmablePersistentImpl.apply$default$3">confirmTarget</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a> = <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>: <a href="#akka.persistence;ConfirmablePersistentImpl" title="akka.persistence.ConfirmablePersistentImpl">ConfirmablePersistentImpl</a> =
    <a href="#akka.persistence;ConfirmablePersistentImpl" title="(payload: Any, sequenceNr: Long, persistenceId: String, deleted: Boolean, redeliveries: Int, confirms: scala.collection.immutable.Seq[String], confirmMessage: akka.persistence.Delivered, confirmTarget: akka.actor.ActorRef, sender: akka.actor.ActorRef)akka.persistence.ConfirmablePersistentImpl">ConfirmablePersistentImpl</a><span class="delimiter">(</span><a href="#akka.persistence.ConfirmablePersistentImpl.apply(c7344d043d).persistent" title="akka.persistence.PersistentRepr">persistent</a>.<a href="#akka.persistence;PersistentRepr.payload" title="=&gt; Any">payload</a>, <a href="#akka.persistence.ConfirmablePersistentImpl.apply(c7344d043d).persistent" title="akka.persistence.PersistentRepr">persistent</a>.<a href="#akka.persistence;PersistentId.sequenceNr" title="=&gt; Long">sequenceNr</a>, <a href="#akka.persistence.ConfirmablePersistentImpl.apply(c7344d043d).persistent" title="akka.persistence.PersistentRepr">persistent</a>.<a href="#akka.persistence;PersistentId.persistenceId" title="=&gt; String">persistenceId</a>, <a href="#akka.persistence.ConfirmablePersistentImpl.apply(c7344d043d).persistent" title="akka.persistence.PersistentRepr">persistent</a>.<a href="#akka.persistence;PersistentRepr.deleted" title="=&gt; Boolean">deleted</a>, <a href="#akka.persistence.ConfirmablePersistentImpl.apply(c7344d043d).persistent" title="akka.persistence.PersistentRepr">persistent</a>.<a href="#akka.persistence;PersistentRepr.redeliveries" title="=&gt; Int">redeliveries</a>, <a href="#akka.persistence.ConfirmablePersistentImpl.apply(c7344d043d).persistent" title="akka.persistence.PersistentRepr">persistent</a>.<a href="#akka.persistence;PersistentRepr.confirms" title="=&gt; scala.collection.immutable.Seq[String]">confirms</a>, <a href="#akka.persistence.ConfirmablePersistentImpl.apply(c7344d043d).confirmMessage" title="akka.persistence.Delivered">confirmMessage</a>, <a href="#akka.persistence.ConfirmablePersistentImpl.apply$default$3" title="akka.actor.ActorRef">confirmTarget</a>, <a href="#akka.persistence.ConfirmablePersistentImpl.apply(c7344d043d).persistent" title="akka.persistence.PersistentRepr">persistent</a>.<a href="#akka.persistence;PersistentRepr.sender" title="=&gt; akka.actor.ActorRef">sender</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
