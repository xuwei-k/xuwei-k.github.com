<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>cluster/akka/cluster/Reachability.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (C) 2009-2014 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
<span class="keyword">package</span> akka.cluster

<span class="keyword">import</span> scala.annotation.tailrec
<span class="keyword">import</span> scala.collection.immutable
<span class="keyword">import</span> scala.collection.breakOut
<span class="keyword">import</span> akka.actor.Address

<span class="comment">/**
 * INTERNAL API
 */</span>
<span class="keyword">private</span><span class="delimiter">[</span>cluster<span class="delimiter">]</span> <span class="keyword">object</span> <a title="akka.cluster.Reachability.type" id="akka.cluster.Reachability.readResolve">Reachability</a> <a href="#akka.cluster.Reachability.readResolve" title="akka.cluster.Reachability.type" class="delimiter">{</a>
  <span class="keyword">val</span> <a title="akka.cluster.Reachability" id="akka.cluster.Reachability.empty">empty</a> = <span title="akka.cluster.Reachability" class="keyword">new</span> <a href="#akka.cluster;Reachability" title="akka.cluster.Reachability">Reachability</a><span class="delimiter">(</span><span title="=&gt; collection.immutable.Vector.type">Vector</span>.<span title="scala.collection.immutable.Vector[Nothing]">empty</span>, <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[akka.cluster.UniqueAddress,Nothing]">empty</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(records: scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record], versions: Map[akka.cluster.UniqueAddress,Long])akka.cluster.Reachability" id="akka.cluster.Reachability.apply">apply</a><span class="delimiter">(</span><a title="scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]" id="akka.cluster.Reachability.apply.records">records</a>: immutable.<span title="scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">IndexedSeq</span><span class="delimiter">[</span>Record<span class="delimiter">]</span>, <a title="Map[akka.cluster.UniqueAddress,Long]" id="akka.cluster.Reachability.apply.versions">versions</a>: <span title="Map[akka.cluster.UniqueAddress,Long]">Map</span><span class="delimiter">[</span>UniqueAddress, Long<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.cluster;Reachability" title="akka.cluster.Reachability">Reachability</a> =
    <span title="akka.cluster.Reachability" class="keyword">new</span> <a href="#akka.cluster;Reachability" title="akka.cluster.Reachability">Reachability</a><span class="delimiter">(</span><a href="#akka.cluster.Reachability.apply.records" title="scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">records</a>, <a href="#akka.cluster.Reachability.apply.versions" title="Map[akka.cluster.UniqueAddress,Long]">versions</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(records: scala.collection.immutable.Seq[akka.cluster.Reachability.Record], versions: Map[akka.cluster.UniqueAddress,Long])akka.cluster.Reachability" id="akka.cluster.Reachability.create">create</a><span class="delimiter">(</span><a title="scala.collection.immutable.Seq[akka.cluster.Reachability.Record]" id="akka.cluster.Reachability.create.records">records</a>: immutable.<span title="scala.collection.immutable.Seq[akka.cluster.Reachability.Record]">Seq</span><span class="delimiter">[</span>Record<span class="delimiter">]</span>, <a title="Map[akka.cluster.UniqueAddress,Long]" id="akka.cluster.Reachability.create.versions">versions</a>: <span title="Map[akka.cluster.UniqueAddress,Long]">Map</span><span class="delimiter">[</span>UniqueAddress, Long<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.cluster;Reachability" title="akka.cluster.Reachability">Reachability</a> = <a href="#akka.cluster.Reachability.create.records" title="scala.collection.immutable.Seq[akka.cluster.Reachability.Record]">records</a> <span title="akka.cluster.Reachability" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]" id="akka.cluster.Reachability.create.r">r</a>: immutable.<span title="scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">IndexedSeq</span><span class="delimiter">[</span>Record<span class="delimiter">]</span> ⇒ <a href="#akka.cluster.Reachability.apply" title="(records: scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record], versions: Map[akka.cluster.UniqueAddress,Long])akka.cluster.Reachability">apply</a><span class="delimiter">(</span><a href="#akka.cluster.Reachability.create.r" title="scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">r</a>, <a href="#akka.cluster.Reachability.create.versions" title="Map[akka.cluster.UniqueAddress,Long]">versions</a><span class="delimiter">)</span>
    <span class="keyword">case</span> _                               ⇒ <a href="#akka.cluster.Reachability.apply" title="(records: scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record], versions: Map[akka.cluster.UniqueAddress,Long])akka.cluster.Reachability">apply</a><span class="delimiter">(</span><a href="#akka.cluster.Reachability.create.records" title="scala.collection.immutable.Seq[akka.cluster.Reachability.Record]">records</a>.<span title="=&gt; Vector[akka.cluster.Reachability.Record]">toVector</span>, <a href="#akka.cluster.Reachability.create.versions" title="Map[akka.cluster.UniqueAddress,Long]">versions</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
  <span class="keyword">case class</span> <a title="class Record extends AnyRef with Product with Serializable" id="akka.cluster.Reachability.Record.readResolve">Record</a><a href="#akka.cluster.Reachability.Record.readResolve" title="Product" class="delimiter">(</a><a title="akka.cluster.UniqueAddress" id="akka.cluster.Reachability;Record.observer">observer</a>: <a href="Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a>, <a title="akka.cluster.UniqueAddress" id="akka.cluster.Reachability;Record.subject">subject</a>: <a href="Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a>, <a title="akka.cluster.Reachability.ReachabilityStatus" id="akka.cluster.Reachability;Record.status">status</a>: <a href="#akka.cluster.Reachability;ReachabilityStatus" title="akka.cluster.Reachability.ReachabilityStatus">ReachabilityStatus</a>, <a title="Long" id="akka.cluster.Reachability;Record.version">version</a>: <span title="Long">Long</span><span class="delimiter">)</span>

  <span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait ReachabilityStatus extends AnyRef" id="akka.cluster.Reachability;ReachabilityStatus">ReachabilityStatus</a>
  @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span> <span class="keyword">case object</span> <a href="#akka.cluster.Reachability.Reachable.productElement.x$1" title="akka.cluster.Reachability.Reachable.type" id="akka.cluster.Reachability.Reachable.readResolve">Reachable</a> <span title="Product" class="keyword">extends</span> <a href="#akka.cluster.Reachability;ReachabilityStatus" title="akka.cluster.Reachability.ReachabilityStatus">ReachabilityStatus</a>
  @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span> <span class="keyword">case object</span> <a href="#akka.cluster.Reachability.Unreachable.productElement.x$1" title="akka.cluster.Reachability.Unreachable.type" id="akka.cluster.Reachability.Unreachable.readResolve">Unreachable</a> <span title="Product" class="keyword">extends</span> <a href="#akka.cluster.Reachability;ReachabilityStatus" title="akka.cluster.Reachability.ReachabilityStatus">ReachabilityStatus</a>
  @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span> <span class="keyword">case object</span> <a href="#akka.cluster.Reachability.Terminated.productElement.x$1" title="akka.cluster.Reachability.Terminated.type" id="akka.cluster.Reachability.Terminated.readResolve">Terminated</a> <span title="Product" class="keyword">extends</span> <a href="#akka.cluster.Reachability;ReachabilityStatus" title="akka.cluster.Reachability.ReachabilityStatus">ReachabilityStatus</a>

<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 *
 * Immutable data structure that holds the reachability status of subject nodes as seen
 * from observer nodes. Failure detector for the subject nodes exist on the
 * observer nodes. Changes (reachable, unreachable, terminated) are only performed
 * by observer nodes to its own records. Each change bumps the version number of the
 * record, and thereby it is always possible to determine which record is newest when
 * merging two instances.
 *
 * Aggregated status of a subject node is defined as (in this order):
 * - Terminated if any observer node considers it as Terminated
 * - Unreachable if any observer node considers it as Unreachable
 * - Reachable otherwise, i.e. no observer node considers it as Unreachable
 */</span>
@SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
<span class="keyword">private</span><span class="delimiter">[</span>cluster<span class="delimiter">]</span> <span class="keyword">class</span> <a title="class Reachability extends AnyRef with Serializable" id="akka.cluster;Reachability">Reachability</a> <a href="#akka.cluster;Reachability" title="akka.cluster.Reachability" class="keyword">private</a> <span class="delimiter">(</span>
  <span class="keyword">val</span> <a title="scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]" id="akka.cluster;Reachability.records">records</a>: immutable.<span title="scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">IndexedSeq</span><span class="delimiter">[</span>Reachability.Record<span class="delimiter">]</span>,
  <span class="keyword">val</span> <a title="Map[akka.cluster.UniqueAddress,Long]" id="akka.cluster;Reachability.versions">versions</a>: <span title="Map[akka.cluster.UniqueAddress,Long]">Map</span><span class="delimiter">[</span>UniqueAddress, Long<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="Serializable">Serializable</span> <span class="delimiter">{</span>

  <span class="keyword">import</span> <a href="#akka.cluster.Reachability.readResolve" title="akka.cluster.Reachability.type">Reachability</a>._

  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class Cache extends AnyRef" id="akka.cluster;Reachability;Cache">Cache</a> <a href="#akka.cluster;Reachability;Cache" title="Reachability.this.Cache" class="delimiter">{</a>
    <span class="keyword">val</span> <span title="(scala.collection.immutable.Map[akka.cluster.UniqueAddress,Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]], scala.collection.immutable.Set[akka.cluster.UniqueAddress], scala.collection.immutable.Set[akka.cluster.UniqueAddress])" class="delimiter">(</span><a href="#akka.cluster;Reachability;Cache.x$1" title="scala.collection.immutable.Map[akka.cluster.UniqueAddress,Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]" id="akka.cluster;Reachability;Cache.observerRowsMap">observerRowsMap</a>, <a href="#akka.cluster;Reachability;Cache.x$1" title="scala.collection.immutable.Set[akka.cluster.UniqueAddress]" id="akka.cluster;Reachability;Cache.allUnreachable">allUnreachable</a>, <a href="#akka.cluster;Reachability;Cache.x$1" title="scala.collection.immutable.Set[akka.cluster.UniqueAddress]" id="akka.cluster;Reachability;Cache.allTerminated">allTerminated</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="(scala.collection.immutable.Map[akka.cluster.UniqueAddress,Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]], scala.collection.immutable.Set[akka.cluster.UniqueAddress], scala.collection.immutable.Set[akka.cluster.UniqueAddress])" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.cluster;Reachability.records" title="=&gt; scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">records</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <span title="scala.collection.immutable.Map[akka.cluster.UniqueAddress,Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]">observerRowsMap</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="[A, B]=&gt; scala.collection.immutable.Map[A,B]">empty</span><span title="scala.collection.immutable.Map[akka.cluster.UniqueAddress,Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]" class="delimiter">[</span><a href="Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a>, <span title="Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]">Map</span><span class="delimiter">[</span>UniqueAddress, Reachability.Record<span class="delimiter">]</span><span class="delimiter">]</span>
        <span class="keyword">val</span> <span title="scala.collection.immutable.Set[akka.cluster.UniqueAddress]">allTerminated</span> = <span title="=&gt; scala.collection.immutable.Set.type">Set</span>.<span title="[A]=&gt; scala.collection.immutable.Set[A]">empty</span><span title="scala.collection.immutable.Set[akka.cluster.UniqueAddress]" class="delimiter">[</span><a href="Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a><span class="delimiter">]</span>
        <span class="keyword">val</span> <span title="scala.collection.immutable.Set[akka.cluster.UniqueAddress]">allUnreachable</span> = <span title="=&gt; scala.collection.immutable.Set.type">Set</span>.<span title="[A]=&gt; scala.collection.immutable.Set[A]">empty</span><span title="scala.collection.immutable.Set[akka.cluster.UniqueAddress]" class="delimiter">[</span><a href="Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a><span class="delimiter">]</span>
        <span title="(_1: scala.collection.immutable.Map[akka.cluster.UniqueAddress,Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]], _2: scala.collection.immutable.Set[akka.cluster.UniqueAddress], _3: scala.collection.immutable.Set[akka.cluster.UniqueAddress])(scala.collection.immutable.Map[akka.cluster.UniqueAddress,Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]], scala.collection.immutable.Set[akka.cluster.UniqueAddress], scala.collection.immutable.Set[akka.cluster.UniqueAddress])" class="delimiter">(</span><span title="scala.collection.immutable.Map[akka.cluster.UniqueAddress,Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]">observerRowsMap</span>, <span title="scala.collection.immutable.Set[akka.cluster.UniqueAddress]">allUnreachable</span>, <span title="scala.collection.immutable.Set[akka.cluster.UniqueAddress]">allTerminated</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.Map[akka.cluster.UniqueAddress,Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]" id="akka.cluster;Reachability;Cache.x$1.mapBuilder">mapBuilder</a> = scala.collection.mutable.<span title="scala.collection.mutable.Map.type">Map</span>.<span title="[A, B]=&gt; scala.collection.mutable.Map[A,B]">empty</span><span title="scala.collection.mutable.Map[akka.cluster.UniqueAddress,Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]" class="delimiter">[</span><a href="Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a>, <span title="Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]">Map</span><span class="delimiter">[</span>UniqueAddress, Reachability.Record<span class="delimiter">]</span><span class="delimiter">]</span>
        <span class="keyword">import</span> scala.collection.mutable.SetBuilder
        <span class="keyword">val</span> <a title="scala.collection.mutable.SetBuilder[akka.cluster.UniqueAddress,Set[akka.cluster.UniqueAddress]]" id="akka.cluster;Reachability;Cache.x$1.terminatedBuilder">terminatedBuilder</a> = <span title="scala.collection.mutable.SetBuilder[akka.cluster.UniqueAddress,Set[akka.cluster.UniqueAddress]]" class="keyword">new</span> <span title="scala.collection.mutable.SetBuilder[akka.cluster.UniqueAddress,Set[akka.cluster.UniqueAddress]]">SetBuilder</span><span class="delimiter">[</span>UniqueAddress, Set<span class="delimiter">[</span>UniqueAddress<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="=&gt; scala.collection.immutable.Set.type">Set</span>.<span title="scala.collection.immutable.Set[akka.cluster.UniqueAddress]">empty</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.SetBuilder[akka.cluster.UniqueAddress,Set[akka.cluster.UniqueAddress]]" id="akka.cluster;Reachability;Cache.x$1.unreachableBuilder">unreachableBuilder</a> = <span title="scala.collection.mutable.SetBuilder[akka.cluster.UniqueAddress,Set[akka.cluster.UniqueAddress]]" class="keyword">new</span> <span title="scala.collection.mutable.SetBuilder[akka.cluster.UniqueAddress,Set[akka.cluster.UniqueAddress]]">SetBuilder</span><span class="delimiter">[</span>UniqueAddress, Set<span class="delimiter">[</span>UniqueAddress<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="=&gt; scala.collection.immutable.Set.type">Set</span>.<span title="scala.collection.immutable.Set[akka.cluster.UniqueAddress]">empty</span><span class="delimiter">)</span>

        <a href="#akka.cluster;Reachability.records" title="=&gt; scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">records</a> <span title="(f: akka.cluster.Reachability.Record =&gt; Any)Unit">foreach</span> <span class="delimiter">{</span> <a title="akka.cluster.Reachability.Record" id="akka.cluster;Reachability;Cache.x$1.$anonfun.r">r</a> ⇒
          <span class="keyword">val</span> <a title="scala.collection.immutable.Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]" id="akka.cluster;Reachability;Cache.x$1.$anonfun.m">m</a> = <a href="#akka.cluster;Reachability;Cache.x$1.mapBuilder" title="scala.collection.mutable.Map[akka.cluster.UniqueAddress,Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]">mapBuilder</a>.<span title="(key: akka.cluster.UniqueAddress)Option[Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]">get</span><span class="delimiter">(</span><a href="#akka.cluster;Reachability;Cache.x$1.$anonfun.r" title="akka.cluster.Reachability.Record">r</a>.<a href="#akka.cluster.Reachability;Record.observer" title="=&gt; akka.cluster.UniqueAddress">observer</a><span class="delimiter">)</span> <span title="scala.collection.immutable.Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="None.type">None</span>    ⇒ <span title="(elems: (akka.cluster.UniqueAddress, akka.cluster.Reachability.Record)*)scala.collection.immutable.Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]">Map</span><span class="delimiter">(</span><a href="#akka.cluster;Reachability;Cache.x$1.$anonfun.r" title="akka.cluster.Reachability.Record">r</a>.<a href="#akka.cluster.Reachability;Record.subject" title="(x: akka.cluster.UniqueAddress)ArrowAssoc[akka.cluster.UniqueAddress]">subject</a> <span title="(y: akka.cluster.Reachability.Record)(akka.cluster.UniqueAddress, akka.cluster.Reachability.Record)">-&gt;</span> <a href="#akka.cluster;Reachability;Cache.x$1.$anonfun.r" title="akka.cluster.Reachability.Record">r</a><span class="delimiter">)</span>
            <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]" id="akka.cluster;Reachability;Cache.x$1.$anonfun.m.m">m</a><span class="delimiter">)</span> ⇒ <a href="#akka.cluster;Reachability;Cache.x$1.$anonfun.m.m" title="Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]">m</a>.<span title="(key: akka.cluster.UniqueAddress, value: akka.cluster.Reachability.Record)scala.collection.immutable.Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]">updated</span><span class="delimiter">(</span><a href="#akka.cluster;Reachability;Cache.x$1.$anonfun.r" title="akka.cluster.Reachability.Record">r</a>.<a href="#akka.cluster.Reachability;Record.subject" title="=&gt; akka.cluster.UniqueAddress">subject</a>, <a href="#akka.cluster;Reachability;Cache.x$1.$anonfun.r" title="akka.cluster.Reachability.Record">r</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#akka.cluster;Reachability;Cache.x$1.mapBuilder" title="scala.collection.mutable.Map[akka.cluster.UniqueAddress,Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]">mapBuilder</a> <span title="(kv: (akka.cluster.UniqueAddress, Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]))mapBuilder.type">+=</span> <span class="delimiter">(</span><a href="#akka.cluster;Reachability;Cache.x$1.$anonfun.r" title="akka.cluster.Reachability.Record">r</a>.<a href="#akka.cluster.Reachability;Record.observer" title="(x: akka.cluster.UniqueAddress)ArrowAssoc[akka.cluster.UniqueAddress]">observer</a> <span title="(y: scala.collection.immutable.Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record])(akka.cluster.UniqueAddress, scala.collection.immutable.Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record])">-&gt;</span> <a href="#akka.cluster;Reachability;Cache.x$1.$anonfun.m" title="scala.collection.immutable.Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]">m</a><span class="delimiter">)</span>

          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.cluster;Reachability;Cache.x$1.$anonfun.r" title="akka.cluster.Reachability.Record">r</a>.<a href="#akka.cluster.Reachability;Record.status" title="=&gt; akka.cluster.Reachability.ReachabilityStatus">status</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#akka.cluster.Reachability.Unreachable.readResolve" title="akka.cluster.Reachability.Unreachable.type">Unreachable</a><span class="delimiter">)</span> <a href="#akka.cluster;Reachability;Cache.x$1.unreachableBuilder" title="scala.collection.mutable.SetBuilder[akka.cluster.UniqueAddress,Set[akka.cluster.UniqueAddress]]">unreachableBuilder</a> <span title="(x: akka.cluster.UniqueAddress)unreachableBuilder.type">+=</span> <a href="#akka.cluster;Reachability;Cache.x$1.$anonfun.r" title="akka.cluster.Reachability.Record">r</a>.<a href="#akka.cluster.Reachability;Record.subject" title="=&gt; akka.cluster.UniqueAddress">subject</a>
          <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.cluster;Reachability;Cache.x$1.$anonfun.r" title="akka.cluster.Reachability.Record">r</a>.<a href="#akka.cluster.Reachability;Record.status" title="=&gt; akka.cluster.Reachability.ReachabilityStatus">status</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#akka.cluster.Reachability.Terminated.readResolve" title="akka.cluster.Reachability.Terminated.type">Terminated</a><span class="delimiter">)</span> <a href="#akka.cluster;Reachability;Cache.x$1.terminatedBuilder" title="scala.collection.mutable.SetBuilder[akka.cluster.UniqueAddress,Set[akka.cluster.UniqueAddress]]">terminatedBuilder</a> <span title="(x: akka.cluster.UniqueAddress)terminatedBuilder.type">+=</span> <a href="#akka.cluster;Reachability;Cache.x$1.$anonfun.r" title="akka.cluster.Reachability.Record">r</a>.<a href="#akka.cluster.Reachability;Record.subject" title="=&gt; akka.cluster.UniqueAddress">subject</a>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <span title="Map[akka.cluster.UniqueAddress,Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]">observerRowsMap</span>: <span title="Map[akka.cluster.UniqueAddress,Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]">Map</span><span class="delimiter">[</span>UniqueAddress, Map<span class="delimiter">[</span>UniqueAddress, Reachability.Record<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#akka.cluster;Reachability;Cache.x$1.mapBuilder" title="scala.collection.mutable.Map[akka.cluster.UniqueAddress,Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]">mapBuilder</a>.<span title="(implicit ev: &lt;:&lt;[(akka.cluster.UniqueAddress, Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]),(akka.cluster.UniqueAddress, Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record])])scala.collection.immutable.Map[akka.cluster.UniqueAddress,Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]">toMap</span>
        <span class="keyword">val</span> <span title="Set[akka.cluster.UniqueAddress]">allTerminated</span>: <span title="Set[akka.cluster.UniqueAddress]">Set</span><span class="delimiter">[</span>UniqueAddress<span class="delimiter">]</span> = <a href="#akka.cluster;Reachability;Cache.x$1.terminatedBuilder" title="scala.collection.mutable.SetBuilder[akka.cluster.UniqueAddress,Set[akka.cluster.UniqueAddress]]">terminatedBuilder</a>.<span title="()Set[akka.cluster.UniqueAddress]">result</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <span title="Set[akka.cluster.UniqueAddress]">allUnreachable</span>: <span title="Set[akka.cluster.UniqueAddress]">Set</span><span class="delimiter">[</span>UniqueAddress<span class="delimiter">]</span> = <a href="#akka.cluster;Reachability;Cache.x$1.unreachableBuilder" title="scala.collection.mutable.SetBuilder[akka.cluster.UniqueAddress,Set[akka.cluster.UniqueAddress]]">unreachableBuilder</a>.<span title="()Set[akka.cluster.UniqueAddress]">result</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(xs: scala.collection.GenTraversableOnce[akka.cluster.UniqueAddress])scala.collection.immutable.Set[akka.cluster.UniqueAddress]">--</span> <span title="Set[akka.cluster.UniqueAddress]">allTerminated</span>

        <span title="(_1: Map[akka.cluster.UniqueAddress,Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]], _2: Set[akka.cluster.UniqueAddress], _3: Set[akka.cluster.UniqueAddress])(Map[akka.cluster.UniqueAddress,Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]], Set[akka.cluster.UniqueAddress], Set[akka.cluster.UniqueAddress])" class="delimiter">(</span><span title="Map[akka.cluster.UniqueAddress,Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]">observerRowsMap</span>, <span title="Set[akka.cluster.UniqueAddress]">allUnreachable</span>, <span title="Set[akka.cluster.UniqueAddress]">allTerminated</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="Set[akka.cluster.UniqueAddress]" id="akka.cluster;Reachability;Cache.allUnreachableOrTerminated">allUnreachableOrTerminated</a>: <span title="Set[akka.cluster.UniqueAddress]">Set</span><span class="delimiter">[</span>UniqueAddress<span class="delimiter">]</span> =
      <span title="scala.collection.immutable.Set[akka.cluster.UniqueAddress]" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.cluster;Reachability;Cache.allTerminated" title="=&gt; scala.collection.immutable.Set[akka.cluster.UniqueAddress]">allTerminated</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#akka.cluster;Reachability;Cache.allUnreachable" title="=&gt; scala.collection.immutable.Set[akka.cluster.UniqueAddress]">allUnreachable</a>
      <span class="keyword">else</span> <a href="#akka.cluster;Reachability;Cache.allUnreachable" title="=&gt; scala.collection.immutable.Set[akka.cluster.UniqueAddress]">allUnreachable</a> <span title="(elems: scala.collection.GenTraversableOnce[akka.cluster.UniqueAddress])scala.collection.immutable.Set[akka.cluster.UniqueAddress]">++</span> <a href="#akka.cluster;Reachability;Cache.allTerminated" title="=&gt; scala.collection.immutable.Set[akka.cluster.UniqueAddress]">allTerminated</a>

  <span class="delimiter">}</span>

  @transient <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Reachability.this.Cache" id="akka.cluster;Reachability.cache">cache</a> = <span title="Reachability.this.Cache" class="keyword">new</span> <a href="#akka.cluster;Reachability;Cache" title="Reachability.this.Cache">Cache</a>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(observer: akka.cluster.UniqueAddress)Option[Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]" id="akka.cluster;Reachability.observerRows">observerRows</a><span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster;Reachability.observerRows.observer">observer</a>: <a href="Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a><span class="delimiter">)</span>: <span title="Option[Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]">Option</span><span class="delimiter">[</span>Map<span class="delimiter">[</span>UniqueAddress, Reachability.Record<span class="delimiter">]</span><span class="delimiter">]</span> =
    <a href="#akka.cluster;Reachability.cache" title="=&gt; Reachability.this.Cache">cache</a>.<a href="#akka.cluster;Reachability;Cache.observerRowsMap" title="=&gt; scala.collection.immutable.Map[akka.cluster.UniqueAddress,Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]">observerRowsMap</a>.<span title="(key: akka.cluster.UniqueAddress)Option[Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]">get</span><span class="delimiter">(</span><a href="#akka.cluster;Reachability.observerRows.observer" title="akka.cluster.UniqueAddress">observer</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(observer: akka.cluster.UniqueAddress, subject: akka.cluster.UniqueAddress)akka.cluster.Reachability" id="akka.cluster;Reachability.unreachable">unreachable</a><span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster;Reachability.unreachable.observer">observer</a>: <a href="Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a>, <a title="akka.cluster.UniqueAddress" id="akka.cluster;Reachability.unreachable.subject">subject</a>: <a href="Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a><span class="delimiter">)</span>: <a href="#akka.cluster;Reachability" title="akka.cluster.Reachability">Reachability</a> =
    <a href="#akka.cluster;Reachability.change" title="(observer: akka.cluster.UniqueAddress, subject: akka.cluster.UniqueAddress, status: akka.cluster.Reachability.ReachabilityStatus)akka.cluster.Reachability">change</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.unreachable.observer" title="akka.cluster.UniqueAddress">observer</a>, <a href="#akka.cluster;Reachability.unreachable.subject" title="akka.cluster.UniqueAddress">subject</a>, <a href="#akka.cluster.Reachability.Unreachable.readResolve" title="akka.cluster.Reachability.Unreachable.type">Unreachable</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(observer: akka.cluster.UniqueAddress, subject: akka.cluster.UniqueAddress)akka.cluster.Reachability" id="akka.cluster;Reachability.reachable">reachable</a><span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster;Reachability.reachable.observer">observer</a>: <a href="Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a>, <a title="akka.cluster.UniqueAddress" id="akka.cluster;Reachability.reachable.subject">subject</a>: <a href="Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a><span class="delimiter">)</span>: <a href="#akka.cluster;Reachability" title="akka.cluster.Reachability">Reachability</a> =
    <a href="#akka.cluster;Reachability.change" title="(observer: akka.cluster.UniqueAddress, subject: akka.cluster.UniqueAddress, status: akka.cluster.Reachability.ReachabilityStatus)akka.cluster.Reachability">change</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.reachable.observer" title="akka.cluster.UniqueAddress">observer</a>, <a href="#akka.cluster;Reachability.reachable.subject" title="akka.cluster.UniqueAddress">subject</a>, <a href="#akka.cluster.Reachability.Reachable.readResolve" title="akka.cluster.Reachability.Reachable.type">Reachable</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(observer: akka.cluster.UniqueAddress, subject: akka.cluster.UniqueAddress)akka.cluster.Reachability" id="akka.cluster;Reachability.terminated">terminated</a><span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster;Reachability.terminated.observer">observer</a>: <a href="Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a>, <a title="akka.cluster.UniqueAddress" id="akka.cluster;Reachability.terminated.subject">subject</a>: <a href="Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a><span class="delimiter">)</span>: <a href="#akka.cluster;Reachability" title="akka.cluster.Reachability">Reachability</a> =
    <a href="#akka.cluster;Reachability.change" title="(observer: akka.cluster.UniqueAddress, subject: akka.cluster.UniqueAddress, status: akka.cluster.Reachability.ReachabilityStatus)akka.cluster.Reachability">change</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.terminated.observer" title="akka.cluster.UniqueAddress">observer</a>, <a href="#akka.cluster;Reachability.terminated.subject" title="akka.cluster.UniqueAddress">subject</a>, <a href="#akka.cluster.Reachability.Terminated.readResolve" title="akka.cluster.Reachability.Terminated.type">Terminated</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(observer: akka.cluster.UniqueAddress)Long" id="akka.cluster;Reachability.currentVersion">currentVersion</a><span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster;Reachability.currentVersion.observer">observer</a>: <a href="Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a><span class="delimiter">)</span>: <span title="Long">Long</span> = <a href="#akka.cluster;Reachability.versions" title="=&gt; Map[akka.cluster.UniqueAddress,Long]">versions</a>.<span title="(key: akka.cluster.UniqueAddress)Option[Long]">get</span><span class="delimiter">(</span><a href="#akka.cluster;Reachability.currentVersion.observer" title="akka.cluster.UniqueAddress">observer</a><span class="delimiter">)</span> <span title="Long" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="None.type">None</span>    ⇒ <span title="Long(0L)" class="int">0</span>
    <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="Long" id="akka.cluster;Reachability.currentVersion.v">v</a><span class="delimiter">)</span> ⇒ <a href="#akka.cluster;Reachability.currentVersion.v" title="Long">v</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(observer: akka.cluster.UniqueAddress)Long" id="akka.cluster;Reachability.nextVersion">nextVersion</a><span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster;Reachability.nextVersion.observer">observer</a>: <a href="Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a><span class="delimiter">)</span>: <span title="Long">Long</span> = <a href="#akka.cluster;Reachability.currentVersion" title="(observer: akka.cluster.UniqueAddress)Long">currentVersion</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.nextVersion.observer" title="akka.cluster.UniqueAddress">observer</a><span class="delimiter">)</span> <span title="(x: Int)Long">+</span> <span title="Int(1)" class="int">1</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(observer: akka.cluster.UniqueAddress, subject: akka.cluster.UniqueAddress, status: akka.cluster.Reachability.ReachabilityStatus)akka.cluster.Reachability" id="akka.cluster;Reachability.change">change</a><span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster;Reachability.change.observer">observer</a>: <a href="Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a>, <a title="akka.cluster.UniqueAddress" id="akka.cluster;Reachability.change.subject">subject</a>: <a href="Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a>, <a title="akka.cluster.Reachability.ReachabilityStatus" id="akka.cluster;Reachability.change.status">status</a>: <a href="#akka.cluster.Reachability;ReachabilityStatus" title="akka.cluster.Reachability.ReachabilityStatus">ReachabilityStatus</a><span class="delimiter">)</span>: <a href="#akka.cluster;Reachability" title="akka.cluster.Reachability">Reachability</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Long" id="akka.cluster;Reachability.change.v">v</a> = <a href="#akka.cluster;Reachability.nextVersion" title="(observer: akka.cluster.UniqueAddress)Long">nextVersion</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.change.observer" title="akka.cluster.UniqueAddress">observer</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.Map[akka.cluster.UniqueAddress,Long]" id="akka.cluster;Reachability.change.newVersions">newVersions</a> = <a href="#akka.cluster;Reachability.versions" title="=&gt; Map[akka.cluster.UniqueAddress,Long]">versions</a>.<span title="(key: akka.cluster.UniqueAddress, value: Long)scala.collection.immutable.Map[akka.cluster.UniqueAddress,Long]">updated</span><span class="delimiter">(</span><a href="#akka.cluster;Reachability.change.observer" title="akka.cluster.UniqueAddress">observer</a>, <a href="#akka.cluster;Reachability.change.v" title="Long">v</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="akka.cluster.Reachability.Record" id="akka.cluster;Reachability.change.newRecord">newRecord</a> = <a href="#akka.cluster.Reachability.Record.readResolve" title="(observer: akka.cluster.UniqueAddress, subject: akka.cluster.UniqueAddress, status: akka.cluster.Reachability.ReachabilityStatus, version: Long)akka.cluster.Reachability.Record">Record</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.change.observer" title="akka.cluster.UniqueAddress">observer</a>, <a href="#akka.cluster;Reachability.change.subject" title="akka.cluster.UniqueAddress">subject</a>, <a href="#akka.cluster;Reachability.change.status" title="akka.cluster.Reachability.ReachabilityStatus">status</a>, <a href="#akka.cluster;Reachability.change.v" title="Long">v</a><span class="delimiter">)</span>
    <a href="#akka.cluster;Reachability.observerRows" title="(observer: akka.cluster.UniqueAddress)Option[Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]">observerRows</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.change.observer" title="akka.cluster.UniqueAddress">observer</a><span class="delimiter">)</span> <span title="akka.cluster.Reachability" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="None.type">None</span> <span class="keyword">if</span> <a href="#akka.cluster;Reachability.change.status" title="akka.cluster.Reachability.ReachabilityStatus">status</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#akka.cluster.Reachability.Reachable.readResolve" title="akka.cluster.Reachability.Reachable.type">Reachable</a> ⇒ <a href="#akka.cluster;Reachability" title="akka.cluster.Reachability" class="keyword">this</a>
      <span class="keyword">case</span> <span title="None.type">None</span> ⇒
        <span title="akka.cluster.Reachability" class="keyword">new</span> <a href="#akka.cluster;Reachability" title="akka.cluster.Reachability">Reachability</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.records" title="=&gt; scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">records</a> <span title="(elem: akka.cluster.Reachability.Record)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record],akka.cluster.Reachability.Record,scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]])scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">:+</span> <a href="#akka.cluster;Reachability.change.newRecord" title="akka.cluster.Reachability.Record">newRecord</a>, <a href="#akka.cluster;Reachability.change.newVersions" title="scala.collection.immutable.Map[akka.cluster.UniqueAddress,Long]">newVersions</a><span class="delimiter">)</span>

      <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]" id="akka.cluster;Reachability.change.oldObserverRows">oldObserverRows</a><span class="delimiter">)</span> ⇒

        <a href="#akka.cluster;Reachability.change.oldObserverRows" title="Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]">oldObserverRows</a>.<span title="(key: akka.cluster.UniqueAddress)Option[akka.cluster.Reachability.Record]">get</span><span class="delimiter">(</span><a href="#akka.cluster;Reachability.change.subject" title="akka.cluster.UniqueAddress">subject</a><span class="delimiter">)</span> <span title="akka.cluster.Reachability" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="None.type">None</span> ⇒
            <span title="akka.cluster.Reachability" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.cluster;Reachability.change.status" title="akka.cluster.Reachability.ReachabilityStatus">status</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#akka.cluster.Reachability.Reachable.readResolve" title="akka.cluster.Reachability.Reachable.type">Reachable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#akka.cluster;Reachability.change.oldObserverRows" title="Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]">oldObserverRows</a>.<span title="(p: ((akka.cluster.UniqueAddress, akka.cluster.Reachability.Record)) =&gt; Boolean)Boolean">forall</span> <a href="#akka.cluster;Reachability.change.$anonfun.x0$1" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <span class="delimiter">(</span>_, <span title="akka.cluster.Reachability.Record">r</span><span class="delimiter">)</span> ⇒ <span title="akka.cluster.Reachability.Record">r</span>.<a href="#akka.cluster.Reachability;Record.status" title="=&gt; akka.cluster.Reachability.ReachabilityStatus">status</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#akka.cluster.Reachability.Reachable.readResolve" title="akka.cluster.Reachability.Reachable.type">Reachable</a> <span class="delimiter">}</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// all Reachable, prune by removing the records of the observer, and bump the version</span>
              <span title="akka.cluster.Reachability" class="keyword">new</span> <a href="#akka.cluster;Reachability" title="akka.cluster.Reachability">Reachability</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.records" title="=&gt; scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">records</a>.<span title="(p: akka.cluster.Reachability.Record =&gt; Boolean)scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">filterNot</span><span class="delimiter">(</span><a href="#akka.cluster;Reachability.change.$anonfun.x$2" title="akka.cluster.Reachability.Record">_</a>.<a href="#akka.cluster.Reachability;Record.observer" title="=&gt; akka.cluster.UniqueAddress">observer</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#akka.cluster;Reachability.change.observer" title="akka.cluster.UniqueAddress">observer</a><span class="delimiter">)</span>, <a href="#akka.cluster;Reachability.change.newVersions" title="scala.collection.immutable.Map[akka.cluster.UniqueAddress,Long]">newVersions</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span>
              <span title="akka.cluster.Reachability" class="keyword">new</span> <a href="#akka.cluster;Reachability" title="akka.cluster.Reachability">Reachability</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.records" title="=&gt; scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">records</a> <span title="(elem: akka.cluster.Reachability.Record)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record],akka.cluster.Reachability.Record,scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]])scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">:+</span> <a href="#akka.cluster;Reachability.change.newRecord" title="akka.cluster.Reachability.Record">newRecord</a>, <a href="#akka.cluster;Reachability.change.newVersions" title="scala.collection.immutable.Map[akka.cluster.UniqueAddress,Long]">newVersions</a><span class="delimiter">)</span>
          <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="akka.cluster.Reachability.Record" id="akka.cluster;Reachability.change.oldRecord">oldRecord</a><span class="delimiter">)</span> ⇒
            <span title="akka.cluster.Reachability" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.cluster;Reachability.change.oldRecord" title="akka.cluster.Reachability.Record">oldRecord</a>.<a href="#akka.cluster.Reachability;Record.status" title="=&gt; akka.cluster.Reachability.ReachabilityStatus">status</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#akka.cluster.Reachability.Terminated.readResolve" title="akka.cluster.Reachability.Terminated.type">Terminated</a> <span title="(x: Boolean)Boolean">||</span> <a href="#akka.cluster;Reachability.change.oldRecord" title="akka.cluster.Reachability.Record">oldRecord</a>.<a href="#akka.cluster.Reachability;Record.status" title="=&gt; akka.cluster.Reachability.ReachabilityStatus">status</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#akka.cluster;Reachability.change.status" title="akka.cluster.Reachability.ReachabilityStatus">status</a><span class="delimiter">)</span>
              <a href="#akka.cluster;Reachability" title="akka.cluster.Reachability" class="keyword">this</a>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span title="akka.cluster.Reachability" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.cluster;Reachability.change.status" title="akka.cluster.Reachability.ReachabilityStatus">status</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#akka.cluster.Reachability.Reachable.readResolve" title="akka.cluster.Reachability.Reachable.type">Reachable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#akka.cluster;Reachability.change.oldObserverRows" title="Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]">oldObserverRows</a>.<span title="(p: ((akka.cluster.UniqueAddress, akka.cluster.Reachability.Record)) =&gt; Boolean)Boolean">forall</span> <a href="#akka.cluster;Reachability.change.$anonfun.x0$2" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <span class="delimiter">(</span>_, <span title="akka.cluster.Reachability.Record">r</span><span class="delimiter">)</span> ⇒ <span title="akka.cluster.Reachability.Record">r</span>.<a href="#akka.cluster.Reachability;Record.status" title="=&gt; akka.cluster.Reachability.ReachabilityStatus">status</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#akka.cluster.Reachability.Reachable.readResolve" title="akka.cluster.Reachability.Reachable.type">Reachable</a> <span title="(x: Boolean)Boolean">||</span> <span title="akka.cluster.Reachability.Record">r</span>.<a href="#akka.cluster.Reachability;Record.subject" title="=&gt; akka.cluster.UniqueAddress">subject</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#akka.cluster;Reachability.change.subject" title="akka.cluster.UniqueAddress">subject</a> <span class="delimiter">}</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="comment">// all Reachable, prune by removing the records of the observer, and bump the version</span>
                <span title="akka.cluster.Reachability" class="keyword">new</span> <a href="#akka.cluster;Reachability" title="akka.cluster.Reachability">Reachability</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.records" title="=&gt; scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">records</a>.<span title="(p: akka.cluster.Reachability.Record =&gt; Boolean)scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">filterNot</span><span class="delimiter">(</span><a href="#akka.cluster;Reachability.change.$anonfun.x$3" title="akka.cluster.Reachability.Record">_</a>.<a href="#akka.cluster.Reachability;Record.observer" title="=&gt; akka.cluster.UniqueAddress">observer</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#akka.cluster;Reachability.change.observer" title="akka.cluster.UniqueAddress">observer</a><span class="delimiter">)</span>, <a href="#akka.cluster;Reachability.change.newVersions" title="scala.collection.immutable.Map[akka.cluster.UniqueAddress,Long]">newVersions</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]" id="akka.cluster;Reachability.change.newRecords">newRecords</a> = <a href="#akka.cluster;Reachability.records" title="=&gt; scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">records</a>.<span title="(index: Int, elem: akka.cluster.Reachability.Record)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record],akka.cluster.Reachability.Record,scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]])scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">updated</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq.Coll,akka.cluster.Reachability.Record,scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]]" class="delimiter">(</span><a href="#akka.cluster;Reachability.records" title="=&gt; scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">records</a>.<span title="(elem: akka.cluster.Reachability.Record)Int">indexOf</span><span class="delimiter">(</span><a href="#akka.cluster;Reachability.change.oldRecord" title="akka.cluster.Reachability.Record">oldRecord</a><span class="delimiter">)</span>, <a href="#akka.cluster;Reachability.change.newRecord" title="akka.cluster.Reachability.Record">newRecord</a><span class="delimiter">)</span>
                <span title="akka.cluster.Reachability" class="keyword">new</span> <a href="#akka.cluster;Reachability" title="akka.cluster.Reachability">Reachability</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.change.newRecords" title="scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">newRecords</a>, <a href="#akka.cluster;Reachability.change.newVersions" title="scala.collection.immutable.Map[akka.cluster.UniqueAddress,Long]">newVersions</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(allowed: scala.collection.immutable.Set[akka.cluster.UniqueAddress], other: akka.cluster.Reachability)akka.cluster.Reachability" id="akka.cluster;Reachability.merge">merge</a><span class="delimiter">(</span><a title="scala.collection.immutable.Set[akka.cluster.UniqueAddress]" id="akka.cluster;Reachability.merge.allowed">allowed</a>: immutable.<span title="scala.collection.immutable.Set[akka.cluster.UniqueAddress]">Set</span><span class="delimiter">[</span>UniqueAddress<span class="delimiter">]</span>, <a title="akka.cluster.Reachability" id="akka.cluster;Reachability.merge.other">other</a>: <a href="#akka.cluster;Reachability" title="akka.cluster.Reachability">Reachability</a><span class="delimiter">)</span>: <a href="#akka.cluster;Reachability" title="akka.cluster.Reachability">Reachability</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.VectorBuilder[akka.cluster.Reachability.Record]" id="akka.cluster;Reachability.merge.recordBuilder">recordBuilder</a> = <span title="scala.collection.immutable.VectorBuilder[akka.cluster.Reachability.Record]" class="keyword">new</span> immutable.<span title="scala.collection.immutable.VectorBuilder[akka.cluster.Reachability.Record]">VectorBuilder</span><span class="delimiter">[</span>Record<span class="delimiter">]</span>
    <a href="#akka.cluster;Reachability.merge.recordBuilder" title="scala.collection.immutable.VectorBuilder[akka.cluster.Reachability.Record]">recordBuilder</a>.<span title="(size: Int)Unit">sizeHint</span><span class="delimiter">(</span>math.<span title="(x: Int, y: Int)Int">max</span><span class="delimiter">(</span><a href="#akka.cluster;Reachability" title="Reachability.this.type" class="keyword">this</a>.<a href="#akka.cluster;Reachability.records" title="=&gt; scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">records</a>.<span title="=&gt; Int">size</span>, <a href="#akka.cluster;Reachability.merge.other" title="akka.cluster.Reachability">other</a>.<a href="#akka.cluster;Reachability.records" title="=&gt; scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">records</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">var</span> <a title="Map[akka.cluster.UniqueAddress,Long]" id="akka.cluster;Reachability.merge.newVersions">newVersions</a> = <a href="#akka.cluster;Reachability.versions" title="=&gt; Map[akka.cluster.UniqueAddress,Long]">versions</a>
    <a href="#akka.cluster;Reachability.merge.allowed" title="scala.collection.immutable.Set[akka.cluster.UniqueAddress]">allowed</a> <span title="(f: akka.cluster.UniqueAddress =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="akka.cluster.UniqueAddress" id="akka.cluster;Reachability.merge.$anonfun.observer">observer</a> ⇒
      <span class="keyword">val</span> <a title="Long" id="akka.cluster;Reachability.merge.$anonfun.observerVersion1">observerVersion1</a> = <a href="#akka.cluster;Reachability" title="Reachability.this.type" class="keyword">this</a>.<a href="#akka.cluster;Reachability.currentVersion" title="(observer: akka.cluster.UniqueAddress)Long">currentVersion</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.merge.$anonfun.observer" title="akka.cluster.UniqueAddress">observer</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Long" id="akka.cluster;Reachability.merge.$anonfun.observerVersion2">observerVersion2</a> = <a href="#akka.cluster;Reachability.merge.other" title="akka.cluster.Reachability">other</a>.<a href="#akka.cluster;Reachability.currentVersion" title="(observer: akka.cluster.UniqueAddress)Long">currentVersion</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.merge.$anonfun.observer" title="akka.cluster.UniqueAddress">observer</a><span class="delimiter">)</span>

      <span title="(_1: Option[Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]], _2: Option[Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]])(Option[Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]], Option[Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]])" class="delimiter">(</span><a href="#akka.cluster;Reachability" title="Reachability.this.type" class="keyword">this</a>.<a href="#akka.cluster;Reachability.observerRows" title="(observer: akka.cluster.UniqueAddress)Option[Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]">observerRows</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.merge.$anonfun.observer" title="akka.cluster.UniqueAddress">observer</a><span class="delimiter">)</span>, <a href="#akka.cluster;Reachability.merge.other" title="akka.cluster.Reachability">other</a>.<a href="#akka.cluster;Reachability.observerRows" title="(observer: akka.cluster.UniqueAddress)Option[Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]">observerRows</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.merge.$anonfun.observer" title="akka.cluster.UniqueAddress">observer</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span class="delimiter">(</span><span title="None.type">None</span>, <span title="None.type">None</span><span class="delimiter">)</span> ⇒
        <span class="keyword">case</span> <span class="delimiter">(</span>Some<span class="delimiter">(</span><span title="Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]">rows1</span><span class="delimiter">)</span>, Some<span class="delimiter">(</span><span title="Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]">rows2</span><span class="delimiter">)</span><span class="delimiter">)</span> ⇒
          <span class="keyword">val</span> <a title="Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]" id="akka.cluster;Reachability.merge.$anonfun.rows">rows</a> = <span title="Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.cluster;Reachability.merge.$anonfun.observerVersion1" title="Long">observerVersion1</a> <span title="(x: Long)Boolean">&gt;</span> <a href="#akka.cluster;Reachability.merge.$anonfun.observerVersion2" title="Long">observerVersion2</a><span class="delimiter">)</span> <span title="Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]">rows1</span> <span class="keyword">else</span> <span title="Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]">rows2</span>
          <a href="#akka.cluster;Reachability.merge.recordBuilder" title="scala.collection.immutable.VectorBuilder[akka.cluster.Reachability.Record]">recordBuilder</a> <span title="(xs: scala.collection.TraversableOnce[akka.cluster.Reachability.Record])recordBuilder.type">++=</span> <a href="#akka.cluster;Reachability.merge.$anonfun.rows" title="Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]">rows</a>.<span title="(pf: PartialFunction[(akka.cluster.UniqueAddress, akka.cluster.Reachability.Record),akka.cluster.Reachability.Record])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record],akka.cluster.Reachability.Record,scala.collection.TraversableOnce[akka.cluster.Reachability.Record]])scala.collection.TraversableOnce[akka.cluster.Reachability.Record]">collect</span> <span title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[(akka.cluster.UniqueAddress, akka.cluster.Reachability.Record),akka.cluster.Reachability.Record] with Serializable" class="delimiter">{</span> <span class="keyword">case</span> <span class="delimiter">(</span>_, <span title="akka.cluster.Reachability.Record">r</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#akka.cluster;Reachability.merge.allowed" title="(elem: akka.cluster.UniqueAddress)Boolean">allowed</a><span class="delimiter">(</span><span title="akka.cluster.Reachability.Record">r</span>.<a href="#akka.cluster.Reachability;Record.subject" title="=&gt; akka.cluster.UniqueAddress">subject</a><span class="delimiter">)</span> ⇒ <span title="akka.cluster.Reachability.Record">r</span> <span class="delimiter">}</span>
        <span class="keyword">case</span> <span class="delimiter">(</span>Some<span class="delimiter">(</span><span title="Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]">rows1</span><span class="delimiter">)</span>, <span title="None.type">None</span><span class="delimiter">)</span> ⇒
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.cluster;Reachability.merge.$anonfun.observerVersion1" title="Long">observerVersion1</a> <span title="(x: Long)Boolean">&gt;</span> <a href="#akka.cluster;Reachability.merge.$anonfun.observerVersion2" title="Long">observerVersion2</a><span class="delimiter">)</span>
            <a href="#akka.cluster;Reachability.merge.recordBuilder" title="scala.collection.immutable.VectorBuilder[akka.cluster.Reachability.Record]">recordBuilder</a> <span title="(xs: scala.collection.TraversableOnce[akka.cluster.Reachability.Record])recordBuilder.type">++=</span> <span title="Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]">rows1</span>.<span title="(pf: PartialFunction[(akka.cluster.UniqueAddress, akka.cluster.Reachability.Record),akka.cluster.Reachability.Record])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record],akka.cluster.Reachability.Record,scala.collection.TraversableOnce[akka.cluster.Reachability.Record]])scala.collection.TraversableOnce[akka.cluster.Reachability.Record]">collect</span> <span title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[(akka.cluster.UniqueAddress, akka.cluster.Reachability.Record),akka.cluster.Reachability.Record] with Serializable" class="delimiter">{</span> <span class="keyword">case</span> <span class="delimiter">(</span>_, <span title="akka.cluster.Reachability.Record">r</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#akka.cluster;Reachability.merge.allowed" title="(elem: akka.cluster.UniqueAddress)Boolean">allowed</a><span class="delimiter">(</span><span title="akka.cluster.Reachability.Record">r</span>.<a href="#akka.cluster.Reachability;Record.subject" title="=&gt; akka.cluster.UniqueAddress">subject</a><span class="delimiter">)</span> ⇒ <span title="akka.cluster.Reachability.Record">r</span> <span class="delimiter">}</span>
        <span class="keyword">case</span> <span class="delimiter">(</span><span title="None.type">None</span>, Some<span class="delimiter">(</span><span title="Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]">rows2</span><span class="delimiter">)</span><span class="delimiter">)</span> ⇒
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.cluster;Reachability.merge.$anonfun.observerVersion2" title="Long">observerVersion2</a> <span title="(x: Long)Boolean">&gt;</span> <a href="#akka.cluster;Reachability.merge.$anonfun.observerVersion1" title="Long">observerVersion1</a><span class="delimiter">)</span>
            <a href="#akka.cluster;Reachability.merge.recordBuilder" title="scala.collection.immutable.VectorBuilder[akka.cluster.Reachability.Record]">recordBuilder</a> <span title="(xs: scala.collection.TraversableOnce[akka.cluster.Reachability.Record])recordBuilder.type">++=</span> <span title="Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]">rows2</span>.<span title="(pf: PartialFunction[(akka.cluster.UniqueAddress, akka.cluster.Reachability.Record),akka.cluster.Reachability.Record])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record],akka.cluster.Reachability.Record,scala.collection.TraversableOnce[akka.cluster.Reachability.Record]])scala.collection.TraversableOnce[akka.cluster.Reachability.Record]">collect</span> <span title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[(akka.cluster.UniqueAddress, akka.cluster.Reachability.Record),akka.cluster.Reachability.Record] with Serializable" class="delimiter">{</span> <span class="keyword">case</span> <span class="delimiter">(</span>_, <span title="akka.cluster.Reachability.Record">r</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#akka.cluster;Reachability.merge.allowed" title="(elem: akka.cluster.UniqueAddress)Boolean">allowed</a><span class="delimiter">(</span><span title="akka.cluster.Reachability.Record">r</span>.<a href="#akka.cluster.Reachability;Record.subject" title="=&gt; akka.cluster.UniqueAddress">subject</a><span class="delimiter">)</span> ⇒ <span title="akka.cluster.Reachability.Record">r</span> <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.cluster;Reachability.merge.$anonfun.observerVersion2" title="Long">observerVersion2</a> <span title="(x: Long)Boolean">&gt;</span> <a href="#akka.cluster;Reachability.merge.$anonfun.observerVersion1" title="Long">observerVersion1</a><span class="delimiter">)</span>
        <a href="#akka.cluster;Reachability.merge.newVersions" title="Map[akka.cluster.UniqueAddress,Long]">newVersions</a> <span title="(kv: (akka.cluster.UniqueAddress, Long))scala.collection.immutable.Map[akka.cluster.UniqueAddress,Long]">+=</span> <span class="delimiter">(</span><a href="#akka.cluster;Reachability.merge.$anonfun.observer" title="(x: akka.cluster.UniqueAddress)ArrowAssoc[akka.cluster.UniqueAddress]">observer</a> <span title="(y: Long)(akka.cluster.UniqueAddress, Long)">-&gt;</span> <a href="#akka.cluster;Reachability.merge.$anonfun.observerVersion2" title="Long">observerVersion2</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="#akka.cluster;Reachability.merge.newVersions" title="Map[akka.cluster.UniqueAddress,Long]">newVersions</a> = <a href="#akka.cluster;Reachability.merge.newVersions" title="Map[akka.cluster.UniqueAddress,Long]">newVersions</a>.<span title="(p: ((akka.cluster.UniqueAddress, Long)) =&gt; Boolean)scala.collection.immutable.Map[akka.cluster.UniqueAddress,Long]">filterNot</span> <a href="#akka.cluster;Reachability.merge.$anonfun.x0$3" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster;Reachability.merge.$anonfun.k">k</a>, _<span class="delimiter">)</span> ⇒ <span title="=&gt; Boolean">!</span><a href="#akka.cluster;Reachability.merge.allowed" title="(elem: akka.cluster.UniqueAddress)Boolean">allowed</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.merge.$anonfun.k" title="akka.cluster.UniqueAddress">k</a><span class="delimiter">)</span> <span class="delimiter">}</span>

    <span title="akka.cluster.Reachability" class="keyword">new</span> <a href="#akka.cluster;Reachability" title="akka.cluster.Reachability">Reachability</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.merge.recordBuilder" title="scala.collection.immutable.VectorBuilder[akka.cluster.Reachability.Record]">recordBuilder</a>.<span title="()scala.collection.immutable.Vector[akka.cluster.Reachability.Record]">result</span><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#akka.cluster;Reachability.merge.newVersions" title="Map[akka.cluster.UniqueAddress,Long]">newVersions</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(nodes: Iterable[akka.cluster.UniqueAddress])akka.cluster.Reachability" id="akka.cluster;Reachability.remove">remove</a><span class="delimiter">(</span><a title="Iterable[akka.cluster.UniqueAddress]" id="akka.cluster;Reachability.remove.nodes">nodes</a>: <span title="Iterable[akka.cluster.UniqueAddress]">Iterable</span><span class="delimiter">[</span>UniqueAddress<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.cluster;Reachability" title="akka.cluster.Reachability">Reachability</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.HashSet[akka.cluster.UniqueAddress]" id="akka.cluster;Reachability.remove.nodesSet">nodesSet</a> = <a href="#akka.cluster;Reachability.remove.nodes" title="Iterable[akka.cluster.UniqueAddress]">nodes</a>.<span title="[Col[_]](implicit cbf: scala.collection.generic.CanBuildFrom[Nothing,akka.cluster.UniqueAddress,Col[akka.cluster.UniqueAddress]])Col[akka.cluster.UniqueAddress]">to</span><span title="(implicit cbf: scala.collection.generic.CanBuildFrom[Nothing,akka.cluster.UniqueAddress,scala.collection.immutable.HashSet[akka.cluster.UniqueAddress]])scala.collection.immutable.HashSet[akka.cluster.UniqueAddress]" class="delimiter">[</span>immutable.<span title="scala.collection.immutable.HashSet">HashSet</span><span class="delimiter">]</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]" id="akka.cluster;Reachability.remove.newRecords">newRecords</a> = <a href="#akka.cluster;Reachability.records" title="=&gt; scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">records</a>.<span title="(p: akka.cluster.Reachability.Record =&gt; Boolean)scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">filterNot</span><span class="delimiter">(</span><a title="akka.cluster.Reachability.Record" id="akka.cluster;Reachability.remove.newRecords.$anonfun.r">r</a> ⇒ <a href="#akka.cluster;Reachability.remove.nodesSet" title="(elem: akka.cluster.UniqueAddress)Boolean">nodesSet</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.remove.newRecords.$anonfun.r" title="akka.cluster.Reachability.Record">r</a>.<a href="#akka.cluster.Reachability;Record.observer" title="=&gt; akka.cluster.UniqueAddress">observer</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#akka.cluster;Reachability.remove.nodesSet" title="(elem: akka.cluster.UniqueAddress)Boolean">nodesSet</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.remove.newRecords.$anonfun.r" title="akka.cluster.Reachability.Record">r</a>.<a href="#akka.cluster.Reachability;Record.subject" title="=&gt; akka.cluster.UniqueAddress">subject</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="akka.cluster.Reachability" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.cluster;Reachability.remove.newRecords" title="scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">newRecords</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <a href="#akka.cluster;Reachability.records" title="=&gt; scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">records</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span> <a href="#akka.cluster;Reachability" title="akka.cluster.Reachability" class="keyword">this</a>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.Map[akka.cluster.UniqueAddress,Long]" id="akka.cluster;Reachability.remove.newVersions">newVersions</a> = <a href="#akka.cluster;Reachability.versions" title="=&gt; Map[akka.cluster.UniqueAddress,Long]">versions</a> <span title="(xs: scala.collection.GenTraversableOnce[akka.cluster.UniqueAddress])scala.collection.immutable.Map[akka.cluster.UniqueAddress,Long]">--</span> <a href="#akka.cluster;Reachability.remove.nodes" title="Iterable[akka.cluster.UniqueAddress]">nodes</a>
      <a href="#akka.cluster.Reachability.apply" title="(records: scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record], versions: Map[akka.cluster.UniqueAddress,Long])akka.cluster.Reachability">Reachability</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.remove.newRecords" title="scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">newRecords</a>, <a href="#akka.cluster;Reachability.remove.newVersions" title="scala.collection.immutable.Map[akka.cluster.UniqueAddress,Long]">newVersions</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(observer: akka.cluster.UniqueAddress, subject: akka.cluster.UniqueAddress)akka.cluster.Reachability.ReachabilityStatus" id="akka.cluster;Reachability.status(aca158447c)">status</a><span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster;Reachability.status(aca158447c).observer">observer</a>: <a href="Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a>, <a title="akka.cluster.UniqueAddress" id="akka.cluster;Reachability.status(aca158447c).subject">subject</a>: <a href="Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a><span class="delimiter">)</span>: <a href="#akka.cluster.Reachability;ReachabilityStatus" title="akka.cluster.Reachability.ReachabilityStatus">ReachabilityStatus</a> =
    <a href="#akka.cluster;Reachability.observerRows" title="(observer: akka.cluster.UniqueAddress)Option[Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]">observerRows</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.status(aca158447c).observer" title="akka.cluster.UniqueAddress">observer</a><span class="delimiter">)</span> <span title="akka.cluster.Reachability.ReachabilityStatus" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="None.type">None</span> ⇒ <a href="#akka.cluster.Reachability.Reachable.readResolve" title="akka.cluster.Reachability.Reachable.type">Reachable</a>
      <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]" id="akka.cluster;Reachability.status(aca158447c).observerRows">observerRows</a><span class="delimiter">)</span> ⇒ <a href="#akka.cluster;Reachability.status(aca158447c).observerRows" title="Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]">observerRows</a>.<span title="(key: akka.cluster.UniqueAddress)Option[akka.cluster.Reachability.Record]">get</span><span class="delimiter">(</span><a href="#akka.cluster;Reachability.status(aca158447c).subject" title="akka.cluster.UniqueAddress">subject</a><span class="delimiter">)</span> <span title="akka.cluster.Reachability.ReachabilityStatus" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="None.type">None</span>         ⇒ <a href="#akka.cluster.Reachability.Reachable.readResolve" title="akka.cluster.Reachability.Reachable.type">Reachable</a>
        <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="akka.cluster.Reachability.Record" id="akka.cluster;Reachability.status(aca158447c).record">record</a><span class="delimiter">)</span> ⇒ <a href="#akka.cluster;Reachability.status(aca158447c).record" title="akka.cluster.Reachability.Record">record</a>.<a href="#akka.cluster.Reachability;Record.status" title="=&gt; akka.cluster.Reachability.ReachabilityStatus">status</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(node: akka.cluster.UniqueAddress)akka.cluster.Reachability.ReachabilityStatus" id="akka.cluster;Reachability.status(65838ec73e)">status</a><span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster;Reachability.status(65838ec73e).node">node</a>: <a href="Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a><span class="delimiter">)</span>: <a href="#akka.cluster.Reachability;ReachabilityStatus" title="akka.cluster.Reachability.ReachabilityStatus">ReachabilityStatus</a> =
    <span title="akka.cluster.Reachability.ReachabilityStatus" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.cluster;Reachability.cache" title="=&gt; Reachability.this.Cache">cache</a>.<a href="#akka.cluster;Reachability;Cache.allTerminated" title="(elem: akka.cluster.UniqueAddress)Boolean">allTerminated</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.status(65838ec73e).node" title="akka.cluster.UniqueAddress">node</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.cluster.Reachability.Terminated.readResolve" title="akka.cluster.Reachability.Terminated.type">Terminated</a>
    <span class="keyword">else</span> <span title="akka.cluster.Reachability.ReachabilityStatus" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.cluster;Reachability.cache" title="=&gt; Reachability.this.Cache">cache</a>.<a href="#akka.cluster;Reachability;Cache.allUnreachable" title="(elem: akka.cluster.UniqueAddress)Boolean">allUnreachable</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.status(65838ec73e).node" title="akka.cluster.UniqueAddress">node</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.cluster.Reachability.Unreachable.readResolve" title="akka.cluster.Reachability.Unreachable.type">Unreachable</a>
    <span class="keyword">else</span> <a href="#akka.cluster.Reachability.Reachable.readResolve" title="akka.cluster.Reachability.Reachable.type">Reachable</a>

  <span class="keyword">def</span> <a title="(node: akka.cluster.UniqueAddress)Boolean" id="akka.cluster;Reachability.isReachable(d151f48ba5)">isReachable</a><span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster;Reachability.isReachable(d151f48ba5).node">node</a>: <a href="Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#akka.cluster;Reachability.isAllReachable" title="=&gt; Boolean">isAllReachable</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#akka.cluster;Reachability.allUnreachableOrTerminated" title="=&gt; Set[akka.cluster.UniqueAddress]">allUnreachableOrTerminated</a>.<span title="(elem: akka.cluster.UniqueAddress)Boolean">contains</span><span class="delimiter">(</span><a href="#akka.cluster;Reachability.isReachable(d151f48ba5).node" title="akka.cluster.UniqueAddress">node</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(observer: akka.cluster.UniqueAddress, subject: akka.cluster.UniqueAddress)Boolean" id="akka.cluster;Reachability.isReachable(3212ac6c9f)">isReachable</a><span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster;Reachability.isReachable(3212ac6c9f).observer">observer</a>: <a href="Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a>, <a title="akka.cluster.UniqueAddress" id="akka.cluster;Reachability.isReachable(3212ac6c9f).subject">subject</a>: <a href="Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <a href="#akka.cluster;Reachability.status(aca158447c)" title="(observer: akka.cluster.UniqueAddress, subject: akka.cluster.UniqueAddress)akka.cluster.Reachability.ReachabilityStatus">status</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.isReachable(3212ac6c9f).observer" title="akka.cluster.UniqueAddress">observer</a>, <a href="#akka.cluster;Reachability.isReachable(3212ac6c9f).subject" title="akka.cluster.UniqueAddress">subject</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#akka.cluster.Reachability.Reachable.readResolve" title="akka.cluster.Reachability.Reachable.type">Reachable</a>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="akka.cluster;Reachability.isAllReachable">isAllReachable</a>: <span title="Boolean">Boolean</span> = <a href="#akka.cluster;Reachability.records" title="=&gt; scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">records</a>.<span title="=&gt; Boolean">isEmpty</span>

  <span class="comment">/**
   * Doesn't include terminated
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Set[akka.cluster.UniqueAddress]" id="akka.cluster;Reachability.allUnreachable">allUnreachable</a>: <span title="Set[akka.cluster.UniqueAddress]">Set</span><span class="delimiter">[</span>UniqueAddress<span class="delimiter">]</span> = <a href="#akka.cluster;Reachability.cache" title="=&gt; Reachability.this.Cache">cache</a>.<a href="#akka.cluster;Reachability;Cache.allUnreachable" title="=&gt; scala.collection.immutable.Set[akka.cluster.UniqueAddress]">allUnreachable</a>

  <span class="keyword">def</span> <a title="=&gt; Set[akka.cluster.UniqueAddress]" id="akka.cluster;Reachability.allUnreachableOrTerminated">allUnreachableOrTerminated</a>: <span title="Set[akka.cluster.UniqueAddress]">Set</span><span class="delimiter">[</span>UniqueAddress<span class="delimiter">]</span> = <a href="#akka.cluster;Reachability.cache" title="=&gt; Reachability.this.Cache">cache</a>.<a href="#akka.cluster;Reachability;Cache.allUnreachableOrTerminated" title="=&gt; Set[akka.cluster.UniqueAddress]">allUnreachableOrTerminated</a>

  <span class="comment">/**
   * Doesn't include terminated
   */</span>
  <span class="keyword">def</span> <a title="(observer: akka.cluster.UniqueAddress)Set[akka.cluster.UniqueAddress]" id="akka.cluster;Reachability.allUnreachableFrom">allUnreachableFrom</a><span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster;Reachability.allUnreachableFrom.observer">observer</a>: <a href="Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a><span class="delimiter">)</span>: <span title="Set[akka.cluster.UniqueAddress]">Set</span><span class="delimiter">[</span>UniqueAddress<span class="delimiter">]</span> =
    <a href="#akka.cluster;Reachability.observerRows" title="(observer: akka.cluster.UniqueAddress)Option[Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]">observerRows</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.allUnreachableFrom.observer" title="akka.cluster.UniqueAddress">observer</a><span class="delimiter">)</span> <span title="Set[akka.cluster.UniqueAddress]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="None.type">None</span> ⇒ <span title="=&gt; scala.collection.immutable.Set.type">Set</span>.<span title="scala.collection.immutable.Set[akka.cluster.UniqueAddress]">empty</span>
      <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]" id="akka.cluster;Reachability.allUnreachableFrom.observerRows">observerRows</a><span class="delimiter">)</span> ⇒
        <a href="#akka.cluster;Reachability.allUnreachableFrom.observerRows" title="Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]">observerRows</a>.<span title="(pf: PartialFunction[(akka.cluster.UniqueAddress, akka.cluster.Reachability.Record),akka.cluster.UniqueAddress])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record],akka.cluster.UniqueAddress,Set[akka.cluster.UniqueAddress]])Set[akka.cluster.UniqueAddress]">collect</span> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[(akka.cluster.UniqueAddress, akka.cluster.Reachability.Record),akka.cluster.UniqueAddress] with Serializable" id="akka.cluster;Reachability.allUnreachableFrom;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
          <span class="keyword">case</span> <span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster;Reachability.allUnreachableFrom;$anonfun.isDefinedAt.subject">subject</a>, <a title="akka.cluster.Reachability.Record" id="akka.cluster;Reachability.allUnreachableFrom;$anonfun.isDefinedAt.record">record</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#akka.cluster;Reachability.allUnreachableFrom;$anonfun.isDefinedAt.record" title="akka.cluster.Reachability.Record">record</a>.<a href="#akka.cluster.Reachability;Record.status" title="=&gt; akka.cluster.Reachability.ReachabilityStatus">status</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#akka.cluster.Reachability.Unreachable.readResolve" title="akka.cluster.Reachability.Unreachable.type">Unreachable</a> ⇒ <a href="#akka.cluster;Reachability.allUnreachableFrom;$anonfun.isDefinedAt.subject" title="akka.cluster.UniqueAddress">subject</a>
        <span class="delimiter">}</span><span class="delimiter">(</span><span title="(implicit b: scala.collection.generic.CanBuildFrom[Nothing,akka.cluster.UniqueAddress,Set[akka.cluster.UniqueAddress]])scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record],akka.cluster.UniqueAddress,Set[akka.cluster.UniqueAddress]]">breakOut</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; Map[akka.cluster.UniqueAddress,Set[akka.cluster.UniqueAddress]]" id="akka.cluster;Reachability.observersGroupedByUnreachable">observersGroupedByUnreachable</a>: <span title="Map[akka.cluster.UniqueAddress,Set[akka.cluster.UniqueAddress]]">Map</span><span class="delimiter">[</span>UniqueAddress, Set<span class="delimiter">[</span>UniqueAddress<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#akka.cluster;Reachability.records" title="=&gt; scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">records</a>.<span title="(f: akka.cluster.Reachability.Record =&gt; akka.cluster.UniqueAddress)scala.collection.immutable.Map[akka.cluster.UniqueAddress,scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]]">groupBy</span><span class="delimiter">(</span><a href="#akka.cluster;Reachability.observersGroupedByUnreachable.$anonfun.x$4" title="akka.cluster.Reachability.Record">_</a>.<a href="#akka.cluster.Reachability;Record.subject" title="=&gt; akka.cluster.UniqueAddress">subject</a><span class="delimiter">)</span>.<span title="(pf: PartialFunction[(akka.cluster.UniqueAddress, scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]),(akka.cluster.UniqueAddress, Set[akka.cluster.UniqueAddress])])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[akka.cluster.UniqueAddress,scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]],(akka.cluster.UniqueAddress, Set[akka.cluster.UniqueAddress]),Map[akka.cluster.UniqueAddress,Set[akka.cluster.UniqueAddress]]])Map[akka.cluster.UniqueAddress,Set[akka.cluster.UniqueAddress]]">collect</span> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[(akka.cluster.UniqueAddress, scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]),(akka.cluster.UniqueAddress, Set[akka.cluster.UniqueAddress])] with Serializable" id="akka.cluster;Reachability.observersGroupedByUnreachable;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
      <span class="keyword">case</span> <span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster;Reachability.observersGroupedByUnreachable;$anonfun.isDefinedAt.subject">subject</a>, <a title="scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]" id="akka.cluster;Reachability.observersGroupedByUnreachable;$anonfun.isDefinedAt.records">records</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#akka.cluster;Reachability.observersGroupedByUnreachable;$anonfun.isDefinedAt.records" title="scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">records</a>.<span title="(p: akka.cluster.Reachability.Record =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#akka.cluster;Reachability.observersGroupedByUnreachable;$anonfun.applyOrElse.$anonfun.x$5" title="akka.cluster.Reachability.Record">_</a>.<a href="#akka.cluster.Reachability;Record.status" title="=&gt; akka.cluster.Reachability.ReachabilityStatus">status</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#akka.cluster.Reachability.Unreachable.readResolve" title="akka.cluster.Reachability.Unreachable.type">Unreachable</a><span class="delimiter">)</span> ⇒
        <span class="keyword">val</span> <a title="Set[akka.cluster.UniqueAddress]" id="akka.cluster;Reachability.observersGroupedByUnreachable;$anonfun.applyOrElse.observers">observers</a>: <span title="Set[akka.cluster.UniqueAddress]">Set</span><span class="delimiter">[</span>UniqueAddress<span class="delimiter">]</span> =
          <a href="#akka.cluster;Reachability.observersGroupedByUnreachable;$anonfun.isDefinedAt.records" title="scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">records</a>.<span title="(pf: PartialFunction[akka.cluster.Reachability.Record,akka.cluster.UniqueAddress])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record],akka.cluster.UniqueAddress,Set[akka.cluster.UniqueAddress]])Set[akka.cluster.UniqueAddress]">collect</span> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[akka.cluster.Reachability.Record,akka.cluster.UniqueAddress] with Serializable" id="akka.cluster;Reachability.observersGroupedByUnreachable;$anonfun.applyOrElse.observers;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a> <span class="keyword">case</span> <a title="akka.cluster.Reachability.Record" id="akka.cluster;Reachability.observersGroupedByUnreachable;$anonfun.applyOrElse.observers;$anonfun.isDefinedAt.r">r</a> <span class="keyword">if</span> <a href="#akka.cluster;Reachability.observersGroupedByUnreachable;$anonfun.applyOrElse.observers;$anonfun.isDefinedAt.r" title="akka.cluster.Reachability.Record">r</a>.<a href="#akka.cluster.Reachability;Record.status" title="=&gt; akka.cluster.Reachability.ReachabilityStatus">status</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#akka.cluster.Reachability.Unreachable.readResolve" title="akka.cluster.Reachability.Unreachable.type">Unreachable</a> ⇒ <a href="#akka.cluster;Reachability.observersGroupedByUnreachable;$anonfun.applyOrElse.observers;$anonfun.isDefinedAt.r" title="akka.cluster.Reachability.Record">r</a>.<a href="#akka.cluster.Reachability;Record.observer" title="=&gt; akka.cluster.UniqueAddress">observer</a> <span class="delimiter">}</span><span class="delimiter">(</span><span title="(implicit b: scala.collection.generic.CanBuildFrom[Nothing,akka.cluster.UniqueAddress,Set[akka.cluster.UniqueAddress]])scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record],akka.cluster.UniqueAddress,Set[akka.cluster.UniqueAddress]]">breakOut</span><span class="delimiter">)</span>
        <span class="delimiter">(</span><a href="#akka.cluster;Reachability.observersGroupedByUnreachable;$anonfun.isDefinedAt.subject" title="(x: akka.cluster.UniqueAddress)ArrowAssoc[akka.cluster.UniqueAddress]">subject</a> <span title="(y: Set[akka.cluster.UniqueAddress])(akka.cluster.UniqueAddress, Set[akka.cluster.UniqueAddress])">-&gt;</span> <a href="#akka.cluster;Reachability.observersGroupedByUnreachable;$anonfun.applyOrElse.observers" title="Set[akka.cluster.UniqueAddress]">observers</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; Set[akka.cluster.UniqueAddress]" id="akka.cluster;Reachability.allObservers">allObservers</a>: <span title="Set[akka.cluster.UniqueAddress]">Set</span><span class="delimiter">[</span>UniqueAddress<span class="delimiter">]</span> = <a href="#akka.cluster;Reachability.versions" title="=&gt; Map[akka.cluster.UniqueAddress,Long]">versions</a>.<span title="=&gt; scala.collection.immutable.Set[akka.cluster.UniqueAddress]">keySet</span>

  <span class="keyword">def</span> <a title="(observer: akka.cluster.UniqueAddress)scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]" id="akka.cluster;Reachability.recordsFrom">recordsFrom</a><span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster;Reachability.recordsFrom.observer">observer</a>: <a href="Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a><span class="delimiter">)</span>: immutable.<span title="scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">IndexedSeq</span><span class="delimiter">[</span>Record<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#akka.cluster;Reachability.observerRows" title="(observer: akka.cluster.UniqueAddress)Option[Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]">observerRows</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.recordsFrom.observer" title="akka.cluster.UniqueAddress">observer</a><span class="delimiter">)</span> <span title="scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="None.type">None</span>       ⇒ <span title="=&gt; collection.immutable.Vector.type">Vector</span>.<span title="scala.collection.immutable.Vector[Nothing]">empty</span>
      <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]" id="akka.cluster;Reachability.recordsFrom.rows">rows</a><span class="delimiter">)</span> ⇒ <a href="#akka.cluster;Reachability.recordsFrom.rows" title="Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]">rows</a>.<span title="=&gt; Iterator[akka.cluster.Reachability.Record]">valuesIterator</span>.<span title="=&gt; Vector[akka.cluster.Reachability.Record]">toVector</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">// only used for testing</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Int" id="akka.cluster;Reachability.hashCode">hashCode</a>: <span title="Int">Int</span> = <a href="#akka.cluster;Reachability.versions" title="=&gt; Map[akka.cluster.UniqueAddress,Long]">versions</a>.<span title="()Int">hashCode</span>

  <span class="comment">// only used for testing</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(obj: Any)Boolean" id="akka.cluster;Reachability.equals">equals</a><span class="delimiter">(</span><a title="Any" id="akka.cluster;Reachability.equals.obj">obj</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#akka.cluster;Reachability.equals.obj" title="Any">obj</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="akka.cluster.Reachability" id="akka.cluster;Reachability.equals.other">other</a>: <a href="#akka.cluster;Reachability" title="akka.cluster.Reachability">Reachability</a> ⇒
      <a href="#akka.cluster;Reachability.records" title="=&gt; scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">records</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <a href="#akka.cluster;Reachability.equals.other" title="akka.cluster.Reachability">other</a>.<a href="#akka.cluster;Reachability.records" title="=&gt; scala.collection.immutable.IndexedSeq[akka.cluster.Reachability.Record]">records</a>.<span title="=&gt; Int">size</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#akka.cluster;Reachability.versions" title="=&gt; Map[akka.cluster.UniqueAddress,Long]">versions</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#akka.cluster;Reachability.versions" title="=&gt; Map[akka.cluster.UniqueAddress,Long]">versions</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
        <a href="#akka.cluster;Reachability.cache" title="=&gt; Reachability.this.Cache">cache</a>.<a href="#akka.cluster;Reachability;Cache.observerRowsMap" title="=&gt; scala.collection.immutable.Map[akka.cluster.UniqueAddress,Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]">observerRowsMap</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#akka.cluster;Reachability.equals.other" title="akka.cluster.Reachability">other</a>.<a href="#akka.cluster;Reachability.cache" title="=&gt; other.Cache">cache</a>.<a href="#akka.cluster;Reachability;Cache.observerRowsMap" title="=&gt; scala.collection.immutable.Map[akka.cluster.UniqueAddress,Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]">observerRowsMap</a>
    <span class="keyword">case</span> _ ⇒ <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="akka.cluster;Reachability.toString">toString</a>: <span title="String">String</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Seq[String]" id="akka.cluster;Reachability.toString.rows">rows</a> = <span class="keyword">for</span> <span class="delimiter">{</span>
      <a title="akka.cluster.UniqueAddress" id="akka.cluster;Reachability.toString.rows.$anonfun.observer">observer</a> ← <a href="#akka.cluster;Reachability.versions" title="=&gt; Map[akka.cluster.UniqueAddress,Long]">versions</a>.<span title="=&gt; Iterable[akka.cluster.UniqueAddress]">keys</span>.<span title="=&gt; Seq[akka.cluster.UniqueAddress]">toSeq</span>.<span title="(f: akka.cluster.UniqueAddress =&gt; (akka.cluster.UniqueAddress, Option[Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[akka.cluster.UniqueAddress],(akka.cluster.UniqueAddress, Option[Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]),Seq[(akka.cluster.UniqueAddress, Option[Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]])]])Seq[(akka.cluster.UniqueAddress, Option[Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]])]">sorted</span>
      <a title="Option[Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]" id="akka.cluster;Reachability.toString.rows.$anonfun.rowsOption">rowsOption</a> = <a href="#akka.cluster;Reachability.observerRows" title="(observer: akka.cluster.UniqueAddress)Option[Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]">observerRows</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.toString.rows.$anonfun.observer" title="akka.cluster.UniqueAddress">observer</a><span class="delimiter">)</span>
      <span class="keyword">if</span> <a href="#akka.cluster;Reachability.toString.rows.$anonfun.rowsOption" title="Option[Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]">rowsOption</a>.<span title="=&gt; Boolean">isDefined</span> <span class="comment">// compilation err for subject &lt;- rowsOption</span>
      <a title="Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]" id="akka.cluster;Reachability.toString.rows.$anonfun.rows">rows</a> = <a href="#akka.cluster;Reachability.toString.rows.$anonfun.rowsOption" title="Option[Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]]">rowsOption</a>.<span title="=&gt; Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]">get</span>
      <a title="akka.cluster.UniqueAddress" id="akka.cluster;Reachability.toString.rows.$anonfun.$anonfun.subject">subject</a> ← <a href="#akka.cluster;Reachability.toString.rows.$anonfun.rows" title="Map[akka.cluster.UniqueAddress,akka.cluster.Reachability.Record]">rows</a>.<span title="=&gt; Iterable[akka.cluster.UniqueAddress]">keys</span>.<span title="=&gt; Seq[akka.cluster.UniqueAddress]">toSeq</span>.<span title="(f: akka.cluster.UniqueAddress =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[akka.cluster.UniqueAddress],String,Seq[String]])Seq[String]">sorted</span>
    <span class="delimiter">}</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="akka.cluster.Reachability.Record" id="akka.cluster;Reachability.toString.rows.$anonfun.$anonfun.record">record</a> = <a href="#akka.cluster;Reachability.toString.rows.$anonfun.rows" title="(key: akka.cluster.UniqueAddress)akka.cluster.Reachability.Record">rows</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.toString.rows.$anonfun.$anonfun.subject" title="akka.cluster.UniqueAddress">subject</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="akka.cluster.Reachability.ReachabilityStatus" id="akka.cluster;Reachability.toString.rows.$anonfun.$anonfun.aggregated">aggregated</a> = <a href="#akka.cluster;Reachability.status(65838ec73e)" title="(node: akka.cluster.UniqueAddress)akka.cluster.Reachability.ReachabilityStatus">status</a><span class="delimiter">(</span><a href="#akka.cluster;Reachability.toString.rows.$anonfun.$anonfun.subject" title="akka.cluster.UniqueAddress">subject</a><span class="delimiter">)</span>
      <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;&quot;)">$</span><span class="delimiter">{</span><a href="#akka.cluster;Reachability.toString.rows.$anonfun.observer" title="akka.cluster.UniqueAddress">observer</a>.<a href="Member.scala.html#akka.cluster;UniqueAddress.address" title="=&gt; akka.actor.Address">address</a><span class="delimiter">}</span><span title="String(&quot; -&gt; &quot;)"> -&gt; $</span><span class="delimiter">{</span><a href="#akka.cluster;Reachability.toString.rows.$anonfun.$anonfun.subject" title="akka.cluster.UniqueAddress">subject</a>.<a href="Member.scala.html#akka.cluster;UniqueAddress.address" title="=&gt; akka.actor.Address">address</a><span class="delimiter">}</span><span title="String(&quot;: &quot;)">: $</span><span class="delimiter">{</span><a href="#akka.cluster;Reachability.toString.rows.$anonfun.$anonfun.record" title="akka.cluster.Reachability.Record">record</a>.<a href="#akka.cluster.Reachability;Record.status" title="=&gt; akka.cluster.Reachability.ReachabilityStatus">status</a><span class="delimiter">}</span><span title="String(&quot; [&quot;)"> [$</span><a href="#akka.cluster;Reachability.toString.rows.$anonfun.$anonfun.aggregated" title="akka.cluster.Reachability.ReachabilityStatus">aggregated</a><span title="String(&quot;] (&quot;)">] ($</span><span class="delimiter">{</span><a href="#akka.cluster;Reachability.toString.rows.$anonfun.$anonfun.record" title="akka.cluster.Reachability.Record">record</a>.<a href="#akka.cluster.Reachability;Record.version" title="=&gt; Long">version</a><span class="delimiter">}</span><span title="String(&quot;)&quot;)" class="string">)&quot;</span>
    <span class="delimiter">}</span>

    <a href="#akka.cluster;Reachability.toString.rows" title="Seq[String]">rows</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>


        </pre>
    </body>
</html>
