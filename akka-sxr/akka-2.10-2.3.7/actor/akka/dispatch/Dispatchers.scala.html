<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>actor/akka/dispatch/Dispatchers.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (C) 2009-2014 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>

<span class="keyword">package</span> akka.dispatch

<span class="keyword">import</span> java.util.concurrent.<span class="delimiter">{</span> ConcurrentHashMap, TimeUnit, ThreadFactory <span class="delimiter">}</span>
<span class="keyword">import</span> com.typesafe.config.<span class="delimiter">{</span> ConfigFactory, Config <span class="delimiter">}</span>
<span class="keyword">import</span> akka.actor.<span class="delimiter">{</span> Scheduler, DynamicAccess, ActorSystem <span class="delimiter">}</span>
<span class="keyword">import</span> akka.event.<a href="../event/Logging.scala.html#akka.event.Logging" title="akka.event.Logging.type">Logging</a>.Warning
<span class="keyword">import</span> akka.event.EventStream
<span class="keyword">import</span> scala.concurrent.duration.Duration
<span class="keyword">import</span> akka.ConfigurationException
<span class="keyword">import</span> akka.actor.Deploy
<span class="keyword">import</span> akka.util.<a href="../util/Helpers.scala.html#akka.util.Helpers" title="akka.util.Helpers.type">Helpers</a>.ConfigOps
<span class="keyword">import</span> scala.concurrent.ExecutionContext

<span class="comment">/**
 * DispatcherPrerequisites represents useful contextual pieces when constructing a MessageDispatcher
 */</span>
<span class="keyword">trait</span> <a title="trait DispatcherPrerequisites extends AnyRef" id="akka.dispatch;DispatcherPrerequisites">DispatcherPrerequisites</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; java.util.concurrent.ThreadFactory" id="akka.dispatch;DispatcherPrerequisites.threadFactory">threadFactory</a>: <span title="java.util.concurrent.ThreadFactory">ThreadFactory</span>
  <span class="keyword">def</span> <a title="=&gt; akka.event.EventStream" id="akka.dispatch;DispatcherPrerequisites.eventStream">eventStream</a>: <a href="../event/EventStream.scala.html#akka.event;EventStream" title="akka.event.EventStream">EventStream</a>
  <span class="keyword">def</span> <a title="=&gt; akka.actor.Scheduler" id="akka.dispatch;DispatcherPrerequisites.scheduler">scheduler</a>: <a href="../actor/Scheduler.scala.html#akka.actor;Scheduler" title="akka.actor.Scheduler">Scheduler</a>
  <span class="keyword">def</span> <a title="=&gt; akka.actor.DynamicAccess" id="akka.dispatch;DispatcherPrerequisites.dynamicAccess">dynamicAccess</a>: <a href="../actor/DynamicAccess.scala.html#akka.actor;DynamicAccess" title="akka.actor.DynamicAccess">DynamicAccess</a>
  <span class="keyword">def</span> <a title="=&gt; akka.actor.ActorSystem.Settings" id="akka.dispatch;DispatcherPrerequisites.settings">settings</a>: ActorSystem.<a href="../actor/ActorSystem.scala.html#akka.actor.ActorSystem;Settings" title="akka.actor.ActorSystem.Settings">Settings</a>
  <span class="keyword">def</span> <a title="=&gt; akka.dispatch.Mailboxes" id="akka.dispatch;DispatcherPrerequisites.mailboxes">mailboxes</a>: <a href="Mailboxes.scala.html#akka.dispatch;Mailboxes" title="akka.dispatch.Mailboxes">Mailboxes</a>
  <span class="keyword">def</span> <a title="=&gt; Option[scala.concurrent.ExecutionContext]" id="akka.dispatch;DispatcherPrerequisites.defaultExecutionContext">defaultExecutionContext</a>: <span title="Option[scala.concurrent.ExecutionContext]">Option</span><span class="delimiter">[</span>ExecutionContext<span class="delimiter">]</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
<span title="AnyRef" class="keyword">private</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">case class</span> <a title="class DefaultDispatcherPrerequisites extends AnyRef with akka.dispatch.DispatcherPrerequisites with Product with Serializable" id="akka.dispatch.DefaultDispatcherPrerequisites.readResolve">DefaultDispatcherPrerequisites</a><a href="#akka.dispatch.DefaultDispatcherPrerequisites.readResolve" title="Product" class="delimiter">(</a>
  <span class="keyword">val</span> <a title="java.util.concurrent.ThreadFactory" id="akka.dispatch;DefaultDispatcherPrerequisites.threadFactory">threadFactory</a>: <span title="java.util.concurrent.ThreadFactory">ThreadFactory</span>,
  <span class="keyword">val</span> <a title="akka.event.EventStream" id="akka.dispatch;DefaultDispatcherPrerequisites.eventStream">eventStream</a>: <a href="../event/EventStream.scala.html#akka.event;EventStream" title="akka.event.EventStream">EventStream</a>,
  <span class="keyword">val</span> <a title="akka.actor.Scheduler" id="akka.dispatch;DefaultDispatcherPrerequisites.scheduler">scheduler</a>: <a href="../actor/Scheduler.scala.html#akka.actor;Scheduler" title="akka.actor.Scheduler">Scheduler</a>,
  <span class="keyword">val</span> <a title="akka.actor.DynamicAccess" id="akka.dispatch;DefaultDispatcherPrerequisites.dynamicAccess">dynamicAccess</a>: <a href="../actor/DynamicAccess.scala.html#akka.actor;DynamicAccess" title="akka.actor.DynamicAccess">DynamicAccess</a>,
  <span class="keyword">val</span> <a title="akka.actor.ActorSystem.Settings" id="akka.dispatch;DefaultDispatcherPrerequisites.settings">settings</a>: ActorSystem.<a href="../actor/ActorSystem.scala.html#akka.actor.ActorSystem;Settings" title="akka.actor.ActorSystem.Settings">Settings</a>,
  <span class="keyword">val</span> <a title="akka.dispatch.Mailboxes" id="akka.dispatch;DefaultDispatcherPrerequisites.mailboxes">mailboxes</a>: <a href="Mailboxes.scala.html#akka.dispatch;Mailboxes" title="akka.dispatch.Mailboxes">Mailboxes</a>,
  <span class="keyword">val</span> <a title="Option[scala.concurrent.ExecutionContext]" id="akka.dispatch;DefaultDispatcherPrerequisites.defaultExecutionContext">defaultExecutionContext</a>: <span title="Option[scala.concurrent.ExecutionContext]">Option</span><span class="delimiter">[</span>ExecutionContext<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#akka.dispatch;DispatcherPrerequisites" title="akka.dispatch.DispatcherPrerequisites">DispatcherPrerequisites</a>

<span class="keyword">object</span> <a title="akka.dispatch.Dispatchers.type" id="akka.dispatch.Dispatchers">Dispatchers</a> <a href="#akka.dispatch.Dispatchers" title="akka.dispatch.Dispatchers.type" class="delimiter">{</a>
  <span class="comment">/**
   * The id of the default dispatcher, also the full key of the
   * configuration of the default dispatcher.
   */</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="String(&quot;akka.actor.default-dispatcher&quot;)" id="akka.dispatch.Dispatchers.DefaultDispatcherId">DefaultDispatcherId</a> = <span title="String(&quot;akka.actor.default-dispatcher&quot;)" class="string">&quot;akka.actor.default-dispatcher&quot;</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Dispatchers are to be defined in configuration to allow for tuning
 * for different environments. Use the `lookup` method to create
 * a dispatcher as specified in configuration.
 *
 * Look in `akka.actor.default-dispatcher` section of the reference.conf
 * for documentation of dispatcher options.
 */</span>
<span title="AnyRef" class="keyword">class</span> <a title="class Dispatchers extends AnyRef" id="akka.dispatch;Dispatchers">Dispatchers</a><a href="#akka.dispatch;Dispatchers" title="akka.dispatch.Dispatchers" class="delimiter">(</a><span class="keyword">val</span> <a title="akka.actor.ActorSystem.Settings" id="akka.dispatch;Dispatchers.settings">settings</a>: ActorSystem.<a href="../actor/ActorSystem.scala.html#akka.actor.ActorSystem;Settings" title="akka.actor.ActorSystem.Settings">Settings</a>, <span class="keyword">val</span> <a title="akka.dispatch.DispatcherPrerequisites" id="akka.dispatch;Dispatchers.prerequisites">prerequisites</a>: <a href="#akka.dispatch;DispatcherPrerequisites" title="akka.dispatch.DispatcherPrerequisites">DispatcherPrerequisites</a><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="keyword">import</span> <a href="#akka.dispatch.Dispatchers" title="akka.dispatch.Dispatchers.type">Dispatchers</a>._

  <span class="keyword">val</span> <a title="akka.dispatch.CachingConfig" id="akka.dispatch;Dispatchers.cachingConfig">cachingConfig</a> = <span title="akka.dispatch.CachingConfig" class="keyword">new</span> <a href="CachingConfig.scala.html#akka.dispatch;CachingConfig" title="akka.dispatch.CachingConfig">CachingConfig</a><span class="delimiter">(</span><a href="#akka.dispatch;Dispatchers.settings" title="=&gt; akka.actor.ActorSystem.Settings">settings</a>.<a href="../actor/ActorSystem.scala.html#akka.actor.ActorSystem;Settings.config" title="=&gt; com.typesafe.config.Config">config</a><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="com.typesafe.config.Config" id="akka.dispatch;Dispatchers.defaultDispatcherConfig">defaultDispatcherConfig</a>: <span title="com.typesafe.config.Config">Config</span> =
    <a href="#akka.dispatch;Dispatchers.idConfig" title="(id: String)com.typesafe.config.Config">idConfig</a><span class="delimiter">(</span><span title="String(&quot;akka.actor.default-dispatcher&quot;)">DefaultDispatcherId</span><span class="delimiter">)</span>.<span title="(x$1: com.typesafe.config.ConfigMergeable)com.typesafe.config.Config">withFallback</span><span class="delimiter">(</span><a href="#akka.dispatch;Dispatchers.settings" title="=&gt; akka.actor.ActorSystem.Settings">settings</a>.<a href="../actor/ActorSystem.scala.html#akka.actor.ActorSystem;Settings.config" title="=&gt; com.typesafe.config.Config">config</a>.<span title="(x$1: String)com.typesafe.config.Config">getConfig</span><span class="delimiter">(</span><span title="String(&quot;akka.actor.default-dispatcher&quot;)">DefaultDispatcherId</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * The one and only default dispatcher.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; akka.dispatch.MessageDispatcher" id="akka.dispatch;Dispatchers.defaultGlobalDispatcher">defaultGlobalDispatcher</a>: <a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcher" title="akka.dispatch.MessageDispatcher">MessageDispatcher</a> = <a href="#akka.dispatch;Dispatchers.lookup" title="(id: String)akka.dispatch.MessageDispatcher">lookup</a><span class="delimiter">(</span><span title="String(&quot;akka.actor.default-dispatcher&quot;)">DefaultDispatcherId</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="java.util.concurrent.ConcurrentHashMap[String,akka.dispatch.MessageDispatcherConfigurator]" id="akka.dispatch;Dispatchers.dispatcherConfigurators">dispatcherConfigurators</a> = <span title="()java.util.concurrent.ConcurrentHashMap[String,akka.dispatch.MessageDispatcherConfigurator]" class="keyword">new</span> <span title="java.util.concurrent.ConcurrentHashMap[String,akka.dispatch.MessageDispatcherConfigurator]">ConcurrentHashMap</span><span class="delimiter">[</span>String, MessageDispatcherConfigurator<span class="delimiter">]</span>

  <span class="comment">/**
   * Returns a dispatcher as specified in configuration. Please note that this
   * method _may_ create and return a NEW dispatcher, _every_ call.
   *
   * @throws ConfigurationException if the specified dispatcher cannot be found in the configuration
   */</span>
  <span class="keyword">def</span> <a title="(id: String)akka.dispatch.MessageDispatcher" id="akka.dispatch;Dispatchers.lookup">lookup</a><span class="delimiter">(</span><a title="String" id="akka.dispatch;Dispatchers.lookup.id">id</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcher" title="akka.dispatch.MessageDispatcher">MessageDispatcher</a> = <a href="#akka.dispatch;Dispatchers.lookupConfigurator" title="(id: String)akka.dispatch.MessageDispatcherConfigurator">lookupConfigurator</a><span class="delimiter">(</span><a href="#akka.dispatch;Dispatchers.lookup.id" title="String">id</a><span class="delimiter">)</span>.<a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcherConfigurator.dispatcher" title="()akka.dispatch.MessageDispatcher">dispatcher</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Checks that the configuration provides a section for the given dispatcher.
   * This does not guarantee that no ConfigurationException will be thrown when
   * using this dispatcher, because the details can only be checked by trying
   * to instantiate it, which might be undesirable when just checking.
   */</span>
  <span class="keyword">def</span> <a title="(id: String)Boolean" id="akka.dispatch;Dispatchers.hasDispatcher">hasDispatcher</a><span class="delimiter">(</span><a title="String" id="akka.dispatch;Dispatchers.hasDispatcher.id">id</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#akka.dispatch;Dispatchers.dispatcherConfigurators" title="=&gt; java.util.concurrent.ConcurrentHashMap[String,akka.dispatch.MessageDispatcherConfigurator]">dispatcherConfigurators</a>.<span title="(x$1: Any)Boolean">containsKey</span><span class="delimiter">(</span><a href="#akka.dispatch;Dispatchers.hasDispatcher.id" title="String">id</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#akka.dispatch;Dispatchers.cachingConfig" title="=&gt; akka.dispatch.CachingConfig">cachingConfig</a>.<a href="CachingConfig.scala.html#akka.dispatch;CachingConfig.hasPath" title="(path: String)Boolean">hasPath</a><span class="delimiter">(</span><a href="#akka.dispatch;Dispatchers.hasDispatcher.id" title="String">id</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(id: String)akka.dispatch.MessageDispatcherConfigurator" id="akka.dispatch;Dispatchers.lookupConfigurator">lookupConfigurator</a><span class="delimiter">(</span><a title="String" id="akka.dispatch;Dispatchers.lookupConfigurator.id">id</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcherConfigurator" title="akka.dispatch.MessageDispatcherConfigurator">MessageDispatcherConfigurator</a> = <span class="delimiter">{</span>
    <a href="#akka.dispatch;Dispatchers.dispatcherConfigurators" title="=&gt; java.util.concurrent.ConcurrentHashMap[String,akka.dispatch.MessageDispatcherConfigurator]">dispatcherConfigurators</a>.<span title="(x$1: Any)akka.dispatch.MessageDispatcherConfigurator">get</span><span class="delimiter">(</span><a href="#akka.dispatch;Dispatchers.lookupConfigurator.id" title="String">id</a><span class="delimiter">)</span> <span title="akka.dispatch.MessageDispatcherConfigurator" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span> ⇒
        <span class="comment">// It doesn't matter if we create a dispatcher configurator that isn't used due to concurrent lookup.</span>
        <span class="comment">// That shouldn't happen often and in case it does the actual ExecutorService isn't</span>
        <span class="comment">// created until used, i.e. cheap.</span>
        <span class="keyword">val</span> <a title="akka.dispatch.MessageDispatcherConfigurator" id="akka.dispatch;Dispatchers.lookupConfigurator.newConfigurator">newConfigurator</a> =
          <span title="akka.dispatch.MessageDispatcherConfigurator" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;Dispatchers.cachingConfig" title="=&gt; akka.dispatch.CachingConfig">cachingConfig</a>.<a href="CachingConfig.scala.html#akka.dispatch;CachingConfig.hasPath" title="(path: String)Boolean">hasPath</a><span class="delimiter">(</span><a href="#akka.dispatch;Dispatchers.lookupConfigurator.id" title="String">id</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.dispatch;Dispatchers.configuratorFrom" title="(cfg: com.typesafe.config.Config)akka.dispatch.MessageDispatcherConfigurator">configuratorFrom</a><span class="delimiter">(</span><a href="#akka.dispatch;Dispatchers.config(1c3e9759bf)" title="(id: String)com.typesafe.config.Config">config</a><span class="delimiter">(</span><a href="#akka.dispatch;Dispatchers.lookupConfigurator.id" title="String">id</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Nothing" class="keyword">throw</span> <a href="../AkkaException.scala.html#akka;ConfigurationException.<init>(3b0f220dea)" title="(msg: String)akka.ConfigurationException" class="keyword">new</a> <a href="../AkkaException.scala.html#akka;ConfigurationException" title="akka.ConfigurationException">ConfigurationException</a><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Dispatcher [&quot;)">Dispatcher [$</span><a href="#akka.dispatch;Dispatchers.lookupConfigurator.id" title="String">id</a><span title="String(&quot;] not configured&quot;)" class="string">] not configured&quot;</span><span class="delimiter">)</span>

        <a href="#akka.dispatch;Dispatchers.dispatcherConfigurators" title="=&gt; java.util.concurrent.ConcurrentHashMap[String,akka.dispatch.MessageDispatcherConfigurator]">dispatcherConfigurators</a>.<span title="(x$1: String, x$2: akka.dispatch.MessageDispatcherConfigurator)akka.dispatch.MessageDispatcherConfigurator">putIfAbsent</span><span class="delimiter">(</span><a href="#akka.dispatch;Dispatchers.lookupConfigurator.id" title="String">id</a>, <a href="#akka.dispatch;Dispatchers.lookupConfigurator.newConfigurator" title="akka.dispatch.MessageDispatcherConfigurator">newConfigurator</a><span class="delimiter">)</span> <span title="akka.dispatch.MessageDispatcherConfigurator" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span>     ⇒ <a href="#akka.dispatch;Dispatchers.lookupConfigurator.newConfigurator" title="akka.dispatch.MessageDispatcherConfigurator">newConfigurator</a>
          <span class="keyword">case</span> <span title="akka.dispatch.MessageDispatcherConfigurator">existing</span> ⇒ <span title="akka.dispatch.MessageDispatcherConfigurator">existing</span>
        <span class="delimiter">}</span>

      <span class="keyword">case</span> <span title="akka.dispatch.MessageDispatcherConfigurator">existing</span> ⇒ <span title="akka.dispatch.MessageDispatcherConfigurator">existing</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Register a [[MessageDispatcherConfigurator]] that will be
   * used by [[#lookup]] and [[#hasDispatcher]] instead of looking
   * up the configurator from the system configuration.
   * This enables dynamic addition of dispatchers, as used by the
   * [[akka.routing.BalancingPool]].
   *
   * A configurator for a certain id can only be registered once, i.e.
   * it can not be replaced. It is safe to call this method multiple times,
   * but only the first registration will be used. This method returns `true` if
   * the specified configurator was successfully registered.
   */</span>
  <span class="keyword">def</span> <a title="(id: String, configurator: akka.dispatch.MessageDispatcherConfigurator)Boolean" id="akka.dispatch;Dispatchers.registerConfigurator">registerConfigurator</a><span class="delimiter">(</span><a title="String" id="akka.dispatch;Dispatchers.registerConfigurator.id">id</a>: <span title="String">String</span>, <a title="akka.dispatch.MessageDispatcherConfigurator" id="akka.dispatch;Dispatchers.registerConfigurator.configurator">configurator</a>: <a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcherConfigurator" title="akka.dispatch.MessageDispatcherConfigurator">MessageDispatcherConfigurator</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <a href="#akka.dispatch;Dispatchers.dispatcherConfigurators" title="=&gt; java.util.concurrent.ConcurrentHashMap[String,akka.dispatch.MessageDispatcherConfigurator]">dispatcherConfigurators</a>.<span title="(x$1: String, x$2: akka.dispatch.MessageDispatcherConfigurator)akka.dispatch.MessageDispatcherConfigurator">putIfAbsent</span><span class="delimiter">(</span><a href="#akka.dispatch;Dispatchers.registerConfigurator.id" title="String">id</a>, <a href="#akka.dispatch;Dispatchers.registerConfigurator.configurator" title="akka.dispatch.MessageDispatcherConfigurator">configurator</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  <span class="keyword">private</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(id: String)com.typesafe.config.Config" id="akka.dispatch;Dispatchers.config(1c3e9759bf)">config</a><span class="delimiter">(</span><a title="String" id="akka.dispatch;Dispatchers.config(1c3e9759bf).id">id</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="com.typesafe.config.Config">Config</span> = <span class="delimiter">{</span>
    <a href="#akka.dispatch;Dispatchers.config(962ad32500)" title="(id: String, appConfig: com.typesafe.config.Config)com.typesafe.config.Config">config</a><span class="delimiter">(</span><a href="#akka.dispatch;Dispatchers.config(1c3e9759bf).id" title="String">id</a>, <a href="#akka.dispatch;Dispatchers.settings" title="=&gt; akka.actor.ActorSystem.Settings">settings</a>.<a href="../actor/ActorSystem.scala.html#akka.actor.ActorSystem;Settings.config" title="=&gt; com.typesafe.config.Config">config</a>.<span title="(x$1: String)com.typesafe.config.Config">getConfig</span><span class="delimiter">(</span><a href="#akka.dispatch;Dispatchers.config(1c3e9759bf).id" title="String">id</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  <span class="keyword">private</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(id: String, appConfig: com.typesafe.config.Config)com.typesafe.config.Config" id="akka.dispatch;Dispatchers.config(962ad32500)">config</a><span class="delimiter">(</span><a title="String" id="akka.dispatch;Dispatchers.config(962ad32500).id">id</a>: <span title="String">String</span>, <a title="com.typesafe.config.Config" id="akka.dispatch;Dispatchers.config(962ad32500).appConfig">appConfig</a>: <span title="com.typesafe.config.Config">Config</span><span class="delimiter">)</span>: <span title="com.typesafe.config.Config">Config</span> = <span class="delimiter">{</span>
    <span class="keyword">import</span> scala.collection.<span title="scala.collection.JavaConverters.type">JavaConverters</span>._
    <span class="keyword">def</span> <a title="=&gt; String" id="akka.dispatch;Dispatchers.config(962ad32500).simpleName">simpleName</a> = <a href="#akka.dispatch;Dispatchers.config(962ad32500).id" title="String">id</a>.<span title="(x$1: Int)String">substring</span><span class="delimiter">(</span><a href="#akka.dispatch;Dispatchers.config(962ad32500).id" title="String">id</a>.<span title="(x$1: Int)Int">lastIndexOf</span><span class="delimiter">(</span><span title="Int(46)" class="char">'.'</span><span class="delimiter">)</span> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <a href="#akka.dispatch;Dispatchers.idConfig" title="(id: String)com.typesafe.config.Config">idConfig</a><span class="delimiter">(</span><a href="#akka.dispatch;Dispatchers.config(962ad32500).id" title="String">id</a><span class="delimiter">)</span>
      .<span title="(x$1: com.typesafe.config.ConfigMergeable)com.typesafe.config.Config">withFallback</span><span class="delimiter">(</span><a href="#akka.dispatch;Dispatchers.config(962ad32500).appConfig" title="com.typesafe.config.Config">appConfig</a><span class="delimiter">)</span>
      .<span title="(x$1: com.typesafe.config.ConfigMergeable)com.typesafe.config.Config">withFallback</span><span class="delimiter">(</span><span title="com.typesafe.config.ConfigFactory.type">ConfigFactory</span>.<span title="(x$1: java.util.Map[String, _])com.typesafe.config.Config">parseMap</span><span class="delimiter">(</span><span title="(elems: (String, String)*)scala.collection.immutable.Map[String,String]">Map</span><span title="(m: scala.collection.Map[String,String])scala.collection.convert.Decorators.AsJava[java.util.Map[String,String]]" class="delimiter">(</span><span title="(x: String)ArrowAssoc[String]" class="string">&quot;name&quot;</span> <span title="(y: String)(String, String)">-&gt;</span> <a href="#akka.dispatch;Dispatchers.config(962ad32500).simpleName" title="=&gt; String">simpleName</a><span class="delimiter">)</span>.<span title="=&gt; java.util.Map[String,String]">asJava</span><span class="delimiter">)</span><span class="delimiter">)</span>
      .<span title="(x$1: com.typesafe.config.ConfigMergeable)com.typesafe.config.Config">withFallback</span><span class="delimiter">(</span><a href="#akka.dispatch;Dispatchers.defaultDispatcherConfig" title="=&gt; com.typesafe.config.Config">defaultDispatcherConfig</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(id: String)com.typesafe.config.Config" id="akka.dispatch;Dispatchers.idConfig">idConfig</a><span class="delimiter">(</span><a title="String" id="akka.dispatch;Dispatchers.idConfig.id">id</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="com.typesafe.config.Config">Config</span> = <span class="delimiter">{</span>
    <span class="keyword">import</span> scala.collection.<span title="scala.collection.JavaConverters.type">JavaConverters</span>._
    <span title="com.typesafe.config.ConfigFactory.type">ConfigFactory</span>.<span title="(x$1: java.util.Map[String, _])com.typesafe.config.Config">parseMap</span><span class="delimiter">(</span><span title="(elems: (String, String)*)scala.collection.immutable.Map[String,String]">Map</span><span title="(m: scala.collection.Map[String,String])scala.collection.convert.Decorators.AsJava[java.util.Map[String,String]]" class="delimiter">(</span><span title="(x: String)ArrowAssoc[String]" class="string">&quot;id&quot;</span> <span title="(y: String)(String, String)">-&gt;</span> <a href="#akka.dispatch;Dispatchers.idConfig.id" title="String">id</a><span class="delimiter">)</span>.<span title="=&gt; java.util.Map[String,String]">asJava</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * INTERNAL API
   *
   * Creates a dispatcher from a Config. Internal test purpose only.
   *
   * ex: from(config.getConfig(id))
   *
   * The Config must also contain a `id` property, which is the identifier of the dispatcher.
   *
   * Throws: IllegalArgumentException if the value of &quot;type&quot; is not valid
   *         IllegalArgumentException if it cannot create the MessageDispatcherConfigurator
   */</span>
  <span class="keyword">private</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(cfg: com.typesafe.config.Config)akka.dispatch.MessageDispatcher" id="akka.dispatch;Dispatchers.from">from</a><span class="delimiter">(</span><a title="com.typesafe.config.Config" id="akka.dispatch;Dispatchers.from.cfg">cfg</a>: <span title="com.typesafe.config.Config">Config</span><span class="delimiter">)</span>: <a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcher" title="akka.dispatch.MessageDispatcher">MessageDispatcher</a> = <a href="#akka.dispatch;Dispatchers.configuratorFrom" title="(cfg: com.typesafe.config.Config)akka.dispatch.MessageDispatcherConfigurator">configuratorFrom</a><span class="delimiter">(</span><a href="#akka.dispatch;Dispatchers.from.cfg" title="com.typesafe.config.Config">cfg</a><span class="delimiter">)</span>.<a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcherConfigurator.dispatcher" title="()akka.dispatch.MessageDispatcher">dispatcher</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/**
   * INTERNAL API
   *
   * Creates a MessageDispatcherConfigurator from a Config.
   *
   * The Config must also contain a `id` property, which is the identifier of the dispatcher.
   *
   * Throws: IllegalArgumentException if the value of &quot;type&quot; is not valid
   *         IllegalArgumentException if it cannot create the MessageDispatcherConfigurator
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(cfg: com.typesafe.config.Config)akka.dispatch.MessageDispatcherConfigurator" id="akka.dispatch;Dispatchers.configuratorFrom">configuratorFrom</a><span class="delimiter">(</span><a title="com.typesafe.config.Config" id="akka.dispatch;Dispatchers.configuratorFrom.cfg">cfg</a>: <span title="com.typesafe.config.Config">Config</span><span class="delimiter">)</span>: <a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcherConfigurator" title="akka.dispatch.MessageDispatcherConfigurator">MessageDispatcherConfigurator</a> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.dispatch;Dispatchers.configuratorFrom.cfg" title="com.typesafe.config.Config">cfg</a>.<span title="(x$1: String)Boolean">hasPath</span><span class="delimiter">(</span><span title="String(&quot;id&quot;)" class="string">&quot;id&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <a href="../AkkaException.scala.html#akka;ConfigurationException.<init>(3b0f220dea)" title="(msg: String)akka.ConfigurationException" class="keyword">new</a> <a href="../AkkaException.scala.html#akka;ConfigurationException" title="akka.ConfigurationException">ConfigurationException</a><span class="delimiter">(</span><span title="String(&quot;Missing dispatcher \'id\' property in config: &quot;)" class="string">&quot;Missing dispatcher 'id' property in config: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#akka.dispatch;Dispatchers.configuratorFrom.cfg" title="com.typesafe.config.Config">cfg</a>.<span title="()com.typesafe.config.ConfigObject">root</span>.<span title="()String">render</span><span class="delimiter">)</span>

    <a href="#akka.dispatch;Dispatchers.configuratorFrom.cfg" title="com.typesafe.config.Config">cfg</a>.<span title="(x$1: String)String">getString</span><span class="delimiter">(</span><span title="String(&quot;type&quot;)" class="string">&quot;type&quot;</span><span class="delimiter">)</span> <span title="akka.dispatch.MessageDispatcherConfigurator" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="String(&quot;Dispatcher&quot;)" class="string">&quot;Dispatcher&quot;</span> ⇒ <span title="akka.dispatch.DispatcherConfigurator" class="keyword">new</span> <a href="#akka.dispatch;DispatcherConfigurator" title="akka.dispatch.DispatcherConfigurator">DispatcherConfigurator</a><span class="delimiter">(</span><a href="#akka.dispatch;Dispatchers.configuratorFrom.cfg" title="com.typesafe.config.Config">cfg</a>, <a href="#akka.dispatch;Dispatchers.prerequisites" title="=&gt; akka.dispatch.DispatcherPrerequisites">prerequisites</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="String(&quot;BalancingDispatcher&quot;)" class="string">&quot;BalancingDispatcher&quot;</span> ⇒
        <span class="comment">// FIXME remove this case in 2.4</span>
        <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalArgumentException" class="keyword">new</span> <span title="IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span><span class="string">&quot;BalancingDispatcher is deprecated, use a BalancingPool instead. &quot;</span> <span title="String(&quot;BalancingDispatcher is deprecated, use a BalancingPool instead. During a migration period you can still use BalancingDispatcher by specifying the full class name: &quot;)">+</span>
          <span class="string">&quot;During a migration period you can still use BalancingDispatcher by specifying the full class name: &quot;</span> <span title="(x$1: Any)String">+</span>
          classOf<span title="Class[akka.dispatch.BalancingDispatcherConfigurator](classOf[akka.dispatch.BalancingDispatcherConfigurator])" class="delimiter">[</span>BalancingDispatcherConfigurator<span class="delimiter">]</span>.<span title="()String">getName</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="String(&quot;PinnedDispatcher&quot;)" class="string">&quot;PinnedDispatcher&quot;</span> ⇒ <span title="akka.dispatch.PinnedDispatcherConfigurator" class="keyword">new</span> <a href="#akka.dispatch;PinnedDispatcherConfigurator" title="akka.dispatch.PinnedDispatcherConfigurator">PinnedDispatcherConfigurator</a><span class="delimiter">(</span><a href="#akka.dispatch;Dispatchers.configuratorFrom.cfg" title="com.typesafe.config.Config">cfg</a>, <a href="#akka.dispatch;Dispatchers.prerequisites" title="=&gt; akka.dispatch.DispatcherPrerequisites">prerequisites</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="String" id="akka.dispatch;Dispatchers.configuratorFrom.fqn">fqn</a> ⇒
        <span class="keyword">val</span> <a title="List[(Class[_ &gt;: akka.dispatch.DispatcherPrerequisites with com.typesafe.config.Config &lt;: Object], Object)]" id="akka.dispatch;Dispatchers.configuratorFrom.args">args</a> = <span title="(xs: (Class[_ &gt;: akka.dispatch.DispatcherPrerequisites with com.typesafe.config.Config &lt;: Object], Object)*)List[(Class[_ &gt;: akka.dispatch.DispatcherPrerequisites with com.typesafe.config.Config &lt;: Object], Object)]">List</span><span class="delimiter">(</span>classOf<span title="(x: Class[com.typesafe.config.Config])ArrowAssoc[Class[com.typesafe.config.Config]]" class="delimiter">[</span>Config<span class="delimiter">]</span> <span title="(y: com.typesafe.config.Config)(Class[com.typesafe.config.Config], com.typesafe.config.Config)">-&gt;</span> <a href="#akka.dispatch;Dispatchers.configuratorFrom.cfg" title="com.typesafe.config.Config">cfg</a>, classOf<span title="(x: Class[akka.dispatch.DispatcherPrerequisites])ArrowAssoc[Class[akka.dispatch.DispatcherPrerequisites]]" class="delimiter">[</span>DispatcherPrerequisites<span class="delimiter">]</span> <span title="(y: akka.dispatch.DispatcherPrerequisites)(Class[akka.dispatch.DispatcherPrerequisites], akka.dispatch.DispatcherPrerequisites)">-&gt;</span> <a href="#akka.dispatch;Dispatchers.prerequisites" title="=&gt; akka.dispatch.DispatcherPrerequisites">prerequisites</a><span class="delimiter">)</span>
        <a href="#akka.dispatch;Dispatchers.prerequisites" title="=&gt; akka.dispatch.DispatcherPrerequisites">prerequisites</a>.<a href="#akka.dispatch;DispatcherPrerequisites.dynamicAccess" title="=&gt; akka.actor.DynamicAccess">dynamicAccess</a>.<a href="../actor/DynamicAccess.scala.html#akka.actor;DynamicAccess.createInstanceFor(b43a2b150b)" title="[T](fqcn: String, args: scala.collection.immutable.Seq[(Class[_], AnyRef)])(implicit evidence$3: scala.reflect.ClassTag[T])scala.util.Try[T]">createInstanceFor</a><span title="(fqcn: String, args: scala.collection.immutable.Seq[(Class[_], AnyRef)])(implicit evidence$3: scala.reflect.ClassTag[akka.dispatch.MessageDispatcherConfigurator])scala.util.Try[akka.dispatch.MessageDispatcherConfigurator]" class="delimiter">[</span><a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcherConfigurator" title="akka.dispatch.MessageDispatcherConfigurator">MessageDispatcherConfigurator</a><span class="delimiter">]</span><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[akka.dispatch.MessageDispatcherConfigurator]" class="delimiter">(</span><a href="#akka.dispatch;Dispatchers.configuratorFrom.fqn" title="String">fqn</a>, <a href="#akka.dispatch;Dispatchers.configuratorFrom.args" title="List[(Class[_ &gt;: akka.dispatch.DispatcherPrerequisites with com.typesafe.config.Config &lt;: Object], Object)]">args</a><span class="delimiter">)</span>.<span title="(f: PartialFunction[Throwable,akka.dispatch.MessageDispatcherConfigurator])scala.util.Try[akka.dispatch.MessageDispatcherConfigurator]">recover</span><span class="delimiter">(</span><a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[Throwable,Nothing] with Serializable" id="akka.dispatch;Dispatchers.configuratorFrom;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
          <span class="keyword">case</span> <a title="Throwable" id="akka.dispatch;Dispatchers.configuratorFrom;$anonfun.isDefinedAt.exception">exception</a> ⇒
            <span title="Nothing" class="keyword">throw</span> <span title="akka.ConfigurationException" class="keyword">new</span> <a href="../AkkaException.scala.html#akka;ConfigurationException" title="akka.ConfigurationException">ConfigurationException</a><span class="delimiter">(</span>
              <span class="delimiter">(</span><span class="string">&quot;Cannot instantiate MessageDispatcherConfigurator type [%s], defined in [%s], &quot;</span> +
                <span class="string">&quot;make sure it has constructor with [com.typesafe.config.Config] and &quot;</span> <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">+</span>
                <span class="string">&quot;[akka.dispatch.DispatcherPrerequisites] parameters&quot;</span><span class="delimiter">)</span>
                .<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#akka.dispatch;Dispatchers.configuratorFrom.fqn" title="String">fqn</a>, <a href="#akka.dispatch;Dispatchers.configuratorFrom.cfg" title="com.typesafe.config.Config">cfg</a>.<span title="(x$1: String)String">getString</span><span class="delimiter">(</span><span title="String(&quot;id&quot;)" class="string">&quot;id&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#akka.dispatch;Dispatchers.configuratorFrom;$anonfun.isDefinedAt.exception" title="Throwable">exception</a><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>.<span title="=&gt; akka.dispatch.MessageDispatcherConfigurator">get</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Configurator for creating [[akka.dispatch.Dispatcher]].
 * Returns the same dispatcher instance for for each invocation
 * of the `dispatcher()` method.
 */</span>
<span title="AnyRef" class="keyword">class</span> <a title="class DispatcherConfigurator extends akka.dispatch.MessageDispatcherConfigurator" id="akka.dispatch;DispatcherConfigurator">DispatcherConfigurator</a><a href="#akka.dispatch;DispatcherConfigurator" title="akka.dispatch.DispatcherConfigurator" class="delimiter">(</a><a title="com.typesafe.config.Config" id="akka.dispatch;DispatcherConfigurator.config">config</a>: <span title="com.typesafe.config.Config">Config</span>, <a title="akka.dispatch.DispatcherPrerequisites" id="akka.dispatch;DispatcherConfigurator.prerequisites">prerequisites</a>: <a href="#akka.dispatch;DispatcherPrerequisites" title="akka.dispatch.DispatcherPrerequisites">DispatcherPrerequisites</a><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcherConfigurator" title="akka.dispatch.MessageDispatcherConfigurator">MessageDispatcherConfigurator</a><span class="delimiter">(</span><a href="#akka.dispatch;DispatcherConfigurator.config" title="com.typesafe.config.Config">config</a>, <a href="#akka.dispatch;DispatcherConfigurator.prerequisites" title="akka.dispatch.DispatcherPrerequisites">prerequisites</a><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="akka.dispatch.Dispatcher" id="akka.dispatch;DispatcherConfigurator.instance">instance</a> = <span title="akka.dispatch.Dispatcher" class="keyword">new</span> <a href="Dispatcher.scala.html#akka.dispatch;Dispatcher" title="akka.dispatch.Dispatcher">Dispatcher</a><span class="delimiter">(</span>
    <a href="#akka.dispatch;DispatcherConfigurator" title="akka.dispatch.DispatcherConfigurator" class="keyword">this</a>,
    <a href="#akka.dispatch;DispatcherConfigurator.config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String)String">getString</span><span class="delimiter">(</span><span title="String(&quot;id&quot;)" class="string">&quot;id&quot;</span><span class="delimiter">)</span>,
    <a href="#akka.dispatch;DispatcherConfigurator.config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String)Int">getInt</span><span class="delimiter">(</span><span title="String(&quot;throughput&quot;)" class="string">&quot;throughput&quot;</span><span class="delimiter">)</span>,
    <a href="../util/Helpers.scala.html#akka.util.Helpers.ConfigOps(7001b1cdb7)" title="implicit akka.util.Helpers.ConfigOps : (config: com.typesafe.config.Config)akka.util.Helpers.ConfigOps">config</a>.<a href="../util/Helpers.scala.html#akka.util.Helpers;ConfigOps.getNanosDuration" title="(path: String)scala.concurrent.duration.FiniteDuration">getNanosDuration</a><span class="delimiter">(</span><span title="String(&quot;throughput-deadline-time&quot;)" class="string">&quot;throughput-deadline-time&quot;</span><span class="delimiter">)</span>,
    <a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcherConfigurator.configureExecutor" title="()akka.dispatch.ExecutorServiceConfigurator">configureExecutor</a><span class="delimiter">(</span><span class="delimiter">)</span>,
    <a href="../util/Helpers.scala.html#akka.util.Helpers.ConfigOps(7001b1cdb7)" title="implicit akka.util.Helpers.ConfigOps : (config: com.typesafe.config.Config)akka.util.Helpers.ConfigOps">config</a>.<a href="../util/Helpers.scala.html#akka.util.Helpers;ConfigOps.getMillisDuration" title="(path: String)scala.concurrent.duration.FiniteDuration">getMillisDuration</a><span class="delimiter">(</span><span title="String(&quot;shutdown-timeout&quot;)" class="string">&quot;shutdown-timeout&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns the same dispatcher instance for each invocation
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()akka.dispatch.MessageDispatcher" id="akka.dispatch;DispatcherConfigurator.dispatcher">dispatcher</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcher" title="akka.dispatch.MessageDispatcher">MessageDispatcher</a> = <a href="#akka.dispatch;DispatcherConfigurator.instance" title="=&gt; akka.dispatch.Dispatcher">instance</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
<span class="keyword">private</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">object</span> <a title="akka.dispatch.BalancingDispatcherConfigurator.type" id="akka.dispatch.BalancingDispatcherConfigurator">BalancingDispatcherConfigurator</a> <a href="#akka.dispatch.BalancingDispatcherConfigurator" title="akka.dispatch.BalancingDispatcherConfigurator.type" class="delimiter">{</a>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="com.typesafe.config.Config" id="akka.dispatch.BalancingDispatcherConfigurator.defaultRequirement">defaultRequirement</a> =
    <span title="com.typesafe.config.ConfigFactory.type">ConfigFactory</span>.<span title="(x$1: String)com.typesafe.config.Config">parseString</span><span class="delimiter">(</span><span title="String(&quot;mailbox-requirement = akka.dispatch.MultipleConsumerSemantics&quot;)" class="string">&quot;mailbox-requirement = akka.dispatch.MultipleConsumerSemantics&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(config: com.typesafe.config.Config)com.typesafe.config.Config" id="akka.dispatch.BalancingDispatcherConfigurator.amendConfig">amendConfig</a><span class="delimiter">(</span><a title="com.typesafe.config.Config" id="akka.dispatch.BalancingDispatcherConfigurator.amendConfig.config">config</a>: <span title="com.typesafe.config.Config">Config</span><span class="delimiter">)</span>: <span title="com.typesafe.config.Config">Config</span> =
    <span title="com.typesafe.config.Config" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch.BalancingDispatcherConfigurator.amendConfig.config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String)String">getString</span><span class="delimiter">(</span><span title="String(&quot;mailbox-requirement&quot;)" class="string">&quot;mailbox-requirement&quot;</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> Mailboxes.<span title="String(&quot;&quot;)">NoMailboxRequirement</span><span class="delimiter">)</span> <a href="#akka.dispatch.BalancingDispatcherConfigurator.amendConfig.config" title="com.typesafe.config.Config">config</a>
    <span class="keyword">else</span> <a href="#akka.dispatch.BalancingDispatcherConfigurator.defaultRequirement" title="=&gt; com.typesafe.config.Config">defaultRequirement</a>.<span title="(x$1: com.typesafe.config.ConfigMergeable)com.typesafe.config.Config">withFallback</span><span class="delimiter">(</span><a href="#akka.dispatch.BalancingDispatcherConfigurator.amendConfig.config" title="com.typesafe.config.Config">config</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Configurator for creating [[akka.dispatch.BalancingDispatcher]].
 * Returns the same dispatcher instance for for each invocation
 * of the `dispatcher()` method.
 */</span>
<span title="AnyRef" class="keyword">class</span> <a title="class BalancingDispatcherConfigurator extends akka.dispatch.MessageDispatcherConfigurator" id="akka.dispatch;BalancingDispatcherConfigurator">BalancingDispatcherConfigurator</a><a href="#akka.dispatch;BalancingDispatcherConfigurator" title="akka.dispatch.BalancingDispatcherConfigurator" class="delimiter">(</a><a title="com.typesafe.config.Config" id="akka.dispatch;BalancingDispatcherConfigurator._config">_config</a>: <span title="com.typesafe.config.Config">Config</span>, <a title="akka.dispatch.DispatcherPrerequisites" id="akka.dispatch;BalancingDispatcherConfigurator._prerequisites">_prerequisites</a>: <a href="#akka.dispatch;DispatcherPrerequisites" title="akka.dispatch.DispatcherPrerequisites">DispatcherPrerequisites</a><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcherConfigurator" title="akka.dispatch.MessageDispatcherConfigurator">MessageDispatcherConfigurator</a><span class="delimiter">(</span><a href="#akka.dispatch.BalancingDispatcherConfigurator" title="akka.dispatch.BalancingDispatcherConfigurator.type">BalancingDispatcherConfigurator</a>.<a href="#akka.dispatch.BalancingDispatcherConfigurator.amendConfig" title="(config: com.typesafe.config.Config)com.typesafe.config.Config">amendConfig</a><span class="delimiter">(</span><a href="#akka.dispatch;BalancingDispatcherConfigurator._config" title="com.typesafe.config.Config">_config</a><span class="delimiter">)</span>, <a href="#akka.dispatch;BalancingDispatcherConfigurator._prerequisites" title="akka.dispatch.DispatcherPrerequisites">_prerequisites</a><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="akka.dispatch.BalancingDispatcher" id="akka.dispatch;BalancingDispatcherConfigurator.instance">instance</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="akka.dispatch.Mailboxes" id="akka.dispatch;BalancingDispatcherConfigurator.instance.mailboxes">mailboxes</a> = <a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcherConfigurator.prerequisites" title="=&gt; akka.dispatch.DispatcherPrerequisites">prerequisites</a>.<a href="#akka.dispatch;DispatcherPrerequisites.mailboxes" title="=&gt; akka.dispatch.Mailboxes">mailboxes</a>
    <span class="keyword">val</span> <a title="String" id="akka.dispatch;BalancingDispatcherConfigurator.instance.id">id</a> = <a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcherConfigurator.config" title="=&gt; com.typesafe.config.Config">config</a>.<span title="(x$1: String)String">getString</span><span class="delimiter">(</span><span title="String(&quot;id&quot;)" class="string">&quot;id&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Class[_ &lt;: AnyRef]" id="akka.dispatch;BalancingDispatcherConfigurator.instance.requirement">requirement</a> = <a href="#akka.dispatch;BalancingDispatcherConfigurator.instance.mailboxes" title="akka.dispatch.Mailboxes">mailboxes</a>.<a href="Mailboxes.scala.html#akka.dispatch;Mailboxes.getMailboxRequirement" title="(config: com.typesafe.config.Config)Class[_ &lt;: AnyRef]">getMailboxRequirement</a><span class="delimiter">(</span><a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcherConfigurator.config" title="=&gt; com.typesafe.config.Config">config</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span>classOf<span title="Class[akka.dispatch.MultipleConsumerSemantics](classOf[akka.dispatch.MultipleConsumerSemantics])" class="delimiter">[</span>MultipleConsumerSemantics<span class="delimiter">]</span>.<span title="(x$1: Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#akka.dispatch;BalancingDispatcherConfigurator.instance.requirement" title="Class[_ &lt;: AnyRef]">requirement</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalArgumentException" class="keyword">new</span> <span title="IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span>
        <span title="String(&quot;BalancingDispatcher must have \'mailbox-requirement\' which implements akka.dispatch.MultipleConsumerSemantics; &quot;)" class="string">&quot;BalancingDispatcher must have 'mailbox-requirement' which implements akka.dispatch.MultipleConsumerSemantics; &quot;</span> <span title="(x$1: Any)String">+</span>
          <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;dispatcher [&quot;)">dispatcher [$</span><a href="#akka.dispatch;BalancingDispatcherConfigurator.instance.id" title="String">id</a><span title="String(&quot;] has [&quot;)">] has [$</span><a href="#akka.dispatch;BalancingDispatcherConfigurator.instance.requirement" title="Class[_ &lt;: AnyRef]">requirement</a><span title="String(&quot;]&quot;)" class="string">]&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="akka.dispatch.MailboxType" id="akka.dispatch;BalancingDispatcherConfigurator.instance.mailboxType">mailboxType</a> =
      <span title="akka.dispatch.MailboxType" class="keyword">if</span> <span class="delimiter">(</span><a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcherConfigurator.config" title="=&gt; com.typesafe.config.Config">config</a>.<span title="(x$1: String)Boolean">hasPath</span><span class="delimiter">(</span><span title="String(&quot;mailbox-type&quot;)" class="string">&quot;mailbox-type&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="akka.dispatch.MailboxType" id="akka.dispatch;BalancingDispatcherConfigurator.instance.mailboxType.mt">mt</a> = <a href="#akka.dispatch;BalancingDispatcherConfigurator.instance.mailboxes" title="akka.dispatch.Mailboxes">mailboxes</a>.<a href="Mailboxes.scala.html#akka.dispatch;Mailboxes.lookup" title="(id: String)akka.dispatch.MailboxType">lookup</a><span class="delimiter">(</span><a href="#akka.dispatch;BalancingDispatcherConfigurator.instance.id" title="String">id</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.dispatch;BalancingDispatcherConfigurator.instance.requirement" title="Class[_ &lt;: AnyRef]">requirement</a>.<span title="(x$1: Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#akka.dispatch;BalancingDispatcherConfigurator.instance.mailboxes" title="akka.dispatch.Mailboxes">mailboxes</a>.<a href="Mailboxes.scala.html#akka.dispatch;Mailboxes.getProducedMessageQueueType" title="(mailboxType: akka.dispatch.MailboxType)Class[_]">getProducedMessageQueueType</a><span class="delimiter">(</span><a href="#akka.dispatch;BalancingDispatcherConfigurator.instance.mailboxType.mt" title="akka.dispatch.MailboxType">mt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalArgumentException" class="keyword">new</span> <span title="IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span>
            <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;BalancingDispatcher [&quot;)">BalancingDispatcher [$</span><a href="#akka.dispatch;BalancingDispatcherConfigurator.instance.id" title="String">id</a><span title="String(&quot;] has \'mailbox-type\' [&quot;)">] has 'mailbox-type' [$</span><span class="delimiter">{</span><a href="#akka.dispatch;BalancingDispatcherConfigurator.instance.mailboxType.mt" title="akka.dispatch.MailboxType">mt</a>.<span title="()Class[_]">getClass</span><span class="delimiter">}</span><span title="String(&quot;] which is incompatible with \'mailbox-requirement\' [&quot;)">] which is incompatible with 'mailbox-requirement' [$</span><a href="#akka.dispatch;BalancingDispatcherConfigurator.instance.requirement" title="Class[_ &lt;: AnyRef]">requirement</a><span title="String(&quot;]&quot;)" class="string">]&quot;</span><span class="delimiter">)</span>
        <a href="#akka.dispatch;BalancingDispatcherConfigurator.instance.mailboxType.mt" title="akka.dispatch.MailboxType">mt</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#akka.dispatch;BalancingDispatcherConfigurator.instance.mailboxes" title="akka.dispatch.Mailboxes">mailboxes</a>.<a href="Mailboxes.scala.html#akka.dispatch;Mailboxes.lookupByQueueType" title="(queueType: Class[_])akka.dispatch.MailboxType">lookupByQueueType</a><span class="delimiter">(</span><a href="#akka.dispatch;BalancingDispatcherConfigurator.instance.requirement" title="Class[_ &lt;: AnyRef]">requirement</a><span class="delimiter">)</span>
    <a href="#akka.dispatch;BalancingDispatcherConfigurator.create" title="(mailboxType: akka.dispatch.MailboxType)akka.dispatch.BalancingDispatcher">create</a><span class="delimiter">(</span><a href="#akka.dispatch;BalancingDispatcherConfigurator.instance.mailboxType" title="akka.dispatch.MailboxType">mailboxType</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(mailboxType: akka.dispatch.MailboxType)akka.dispatch.BalancingDispatcher" id="akka.dispatch;BalancingDispatcherConfigurator.create">create</a><span class="delimiter">(</span><a title="akka.dispatch.MailboxType" id="akka.dispatch;BalancingDispatcherConfigurator.create.mailboxType">mailboxType</a>: <a href="Mailbox.scala.html#akka.dispatch;MailboxType" title="akka.dispatch.MailboxType">MailboxType</a><span class="delimiter">)</span>: <a href="BalancingDispatcher.scala.html#akka.dispatch;BalancingDispatcher" title="akka.dispatch.BalancingDispatcher">BalancingDispatcher</a> =
    <span title="akka.dispatch.BalancingDispatcher" class="keyword">new</span> <a href="BalancingDispatcher.scala.html#akka.dispatch;BalancingDispatcher" title="akka.dispatch.BalancingDispatcher">BalancingDispatcher</a><span class="delimiter">(</span>
      <a href="#akka.dispatch;BalancingDispatcherConfigurator" title="akka.dispatch.BalancingDispatcherConfigurator" class="keyword">this</a>,
      <a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcherConfigurator.config" title="=&gt; com.typesafe.config.Config">config</a>.<span title="(x$1: String)String">getString</span><span class="delimiter">(</span><span title="String(&quot;id&quot;)" class="string">&quot;id&quot;</span><span class="delimiter">)</span>,
      <a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcherConfigurator.config" title="=&gt; com.typesafe.config.Config">config</a>.<span title="(x$1: String)Int">getInt</span><span class="delimiter">(</span><span title="String(&quot;throughput&quot;)" class="string">&quot;throughput&quot;</span><span class="delimiter">)</span>,
      <a href="../util/Helpers.scala.html#akka.util.Helpers.ConfigOps(7001b1cdb7)" title="implicit akka.util.Helpers.ConfigOps : (config: com.typesafe.config.Config)akka.util.Helpers.ConfigOps">config</a>.<a href="../util/Helpers.scala.html#akka.util.Helpers;ConfigOps.getNanosDuration" title="(path: String)scala.concurrent.duration.FiniteDuration">getNanosDuration</a><span class="delimiter">(</span><span title="String(&quot;throughput-deadline-time&quot;)" class="string">&quot;throughput-deadline-time&quot;</span><span class="delimiter">)</span>,
      <a href="#akka.dispatch;BalancingDispatcherConfigurator.create.mailboxType" title="akka.dispatch.MailboxType">mailboxType</a>,
      <a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcherConfigurator.configureExecutor" title="()akka.dispatch.ExecutorServiceConfigurator">configureExecutor</a><span class="delimiter">(</span><span class="delimiter">)</span>,
      <a href="../util/Helpers.scala.html#akka.util.Helpers.ConfigOps(7001b1cdb7)" title="implicit akka.util.Helpers.ConfigOps : (config: com.typesafe.config.Config)akka.util.Helpers.ConfigOps">config</a>.<a href="../util/Helpers.scala.html#akka.util.Helpers;ConfigOps.getMillisDuration" title="(path: String)scala.concurrent.duration.FiniteDuration">getMillisDuration</a><span class="delimiter">(</span><span title="String(&quot;shutdown-timeout&quot;)" class="string">&quot;shutdown-timeout&quot;</span><span class="delimiter">)</span>,
      <a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcherConfigurator.config" title="=&gt; com.typesafe.config.Config">config</a>.<span title="(x$1: String)Boolean">getBoolean</span><span class="delimiter">(</span><span title="String(&quot;attempt-teamwork&quot;)" class="string">&quot;attempt-teamwork&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns the same dispatcher instance for each invocation
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()akka.dispatch.MessageDispatcher" id="akka.dispatch;BalancingDispatcherConfigurator.dispatcher">dispatcher</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcher" title="akka.dispatch.MessageDispatcher">MessageDispatcher</a> = <a href="#akka.dispatch;BalancingDispatcherConfigurator.instance" title="=&gt; akka.dispatch.BalancingDispatcher">instance</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * Configurator for creating [[akka.dispatch.PinnedDispatcher]].
 * Returns new dispatcher instance for for each invocation
 * of the `dispatcher()` method.
 */</span>
<span class="keyword">class</span> <a title="class PinnedDispatcherConfigurator extends akka.dispatch.MessageDispatcherConfigurator" id="akka.dispatch;PinnedDispatcherConfigurator">PinnedDispatcherConfigurator</a><a href="#akka.dispatch;PinnedDispatcherConfigurator" title="akka.dispatch.PinnedDispatcherConfigurator" class="delimiter">(</a><a title="com.typesafe.config.Config" id="akka.dispatch;PinnedDispatcherConfigurator.config">config</a>: <span title="com.typesafe.config.Config">Config</span>, <a title="akka.dispatch.DispatcherPrerequisites" id="akka.dispatch;PinnedDispatcherConfigurator.prerequisites">prerequisites</a>: <a href="#akka.dispatch;DispatcherPrerequisites" title="akka.dispatch.DispatcherPrerequisites">DispatcherPrerequisites</a><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcherConfigurator" title="akka.dispatch.MessageDispatcherConfigurator">MessageDispatcherConfigurator</a><span class="delimiter">(</span><a href="#akka.dispatch;PinnedDispatcherConfigurator.config" title="com.typesafe.config.Config">config</a>, <a href="#akka.dispatch;PinnedDispatcherConfigurator.prerequisites" title="akka.dispatch.DispatcherPrerequisites">prerequisites</a><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="akka.dispatch.ThreadPoolConfig" id="akka.dispatch;PinnedDispatcherConfigurator.threadPoolConfig">threadPoolConfig</a>: <a href="ThreadPoolBuilder.scala.html#akka.dispatch;ThreadPoolConfig" title="akka.dispatch.ThreadPoolConfig">ThreadPoolConfig</a> = <a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcherConfigurator.configureExecutor" title="()akka.dispatch.ExecutorServiceConfigurator">configureExecutor</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="akka.dispatch.ThreadPoolConfig" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="akka.dispatch.ThreadPoolExecutorConfigurator" id="akka.dispatch;PinnedDispatcherConfigurator.threadPoolConfig.e">e</a>: <a href="AbstractDispatcher.scala.html#akka.dispatch;ThreadPoolExecutorConfigurator" title="akka.dispatch.ThreadPoolExecutorConfigurator">ThreadPoolExecutorConfigurator</a> ⇒ <a href="#akka.dispatch;PinnedDispatcherConfigurator.threadPoolConfig.e" title="akka.dispatch.ThreadPoolExecutorConfigurator">e</a>.<a href="AbstractDispatcher.scala.html#akka.dispatch;ThreadPoolExecutorConfigurator.threadPoolConfig" title="=&gt; akka.dispatch.ThreadPoolConfig">threadPoolConfig</a>
    <span class="keyword">case</span> <a title="akka.dispatch.ExecutorServiceConfigurator" id="akka.dispatch;PinnedDispatcherConfigurator.threadPoolConfig.other">other</a> ⇒
      <a href="#akka.dispatch;PinnedDispatcherConfigurator.prerequisites" title="akka.dispatch.DispatcherPrerequisites">prerequisites</a>.<a href="#akka.dispatch;DispatcherPrerequisites.eventStream" title="=&gt; akka.event.EventStream">eventStream</a>.<a href="../event/EventBus.scala.html#akka.event;SubchannelClassification.publish(de973626dc)" title="(event: Object)Unit">publish</a><span class="delimiter">(</span>
        <a href="../event/Logging.scala.html#akka.event.Logging;Warning" title="(logSource: String, logClass: Class[_], message: Any)akka.event.Logging.Warning">Warning</a><span class="delimiter">(</span><span title="String(&quot;PinnedDispatcherConfigurator&quot;)" class="string">&quot;PinnedDispatcherConfigurator&quot;</span>,
          <a href="#akka.dispatch;PinnedDispatcherConfigurator" title="PinnedDispatcherConfigurator.this.type" class="keyword">this</a>.<span title="()Class[_]">getClass</span>,
          <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;PinnedDispatcher [%s] not configured to use ThreadPoolExecutor, falling back to default config.&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
            <a href="#akka.dispatch;PinnedDispatcherConfigurator.config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String)String">getString</span><span class="delimiter">(</span><span title="String(&quot;id&quot;)" class="string">&quot;id&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="ThreadPoolBuilder.scala.html#akka.dispatch;ThreadPoolConfig" title="(allowCorePoolTimeout: Boolean, corePoolSize: Int, maxPoolSize: Int, threadTimeout: scala.concurrent.duration.Duration, queueFactory: () =&gt; java.util.concurrent.BlockingQueue[Runnable], rejectionPolicy: java.util.concurrent.RejectedExecutionHandler)akka.dispatch.ThreadPoolConfig">ThreadPoolConfig</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="comment">/**
   * Creates new dispatcher for each invocation.
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()akka.dispatch.MessageDispatcher" id="akka.dispatch;PinnedDispatcherConfigurator.dispatcher">dispatcher</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcher" title="akka.dispatch.MessageDispatcher">MessageDispatcher</a> =
    <span title="akka.dispatch.PinnedDispatcher" class="keyword">new</span> <a href="PinnedDispatcher.scala.html#akka.dispatch;PinnedDispatcher" title="akka.dispatch.PinnedDispatcher">PinnedDispatcher</a><span class="delimiter">(</span>
      <a href="#akka.dispatch;PinnedDispatcherConfigurator" title="akka.dispatch.PinnedDispatcherConfigurator" class="keyword">this</a>, <span title="Null(null)" class="keyword">null</span>, <a href="#akka.dispatch;PinnedDispatcherConfigurator.config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String)String">getString</span><span class="delimiter">(</span><span title="String(&quot;id&quot;)" class="string">&quot;id&quot;</span><span class="delimiter">)</span>,
      <a href="../util/Helpers.scala.html#akka.util.Helpers.ConfigOps(7001b1cdb7)" title="implicit akka.util.Helpers.ConfigOps : (config: com.typesafe.config.Config)akka.util.Helpers.ConfigOps">config</a>.<a href="../util/Helpers.scala.html#akka.util.Helpers;ConfigOps.getMillisDuration" title="(path: String)scala.concurrent.duration.FiniteDuration">getMillisDuration</a><span class="delimiter">(</span><span title="String(&quot;shutdown-timeout&quot;)" class="string">&quot;shutdown-timeout&quot;</span><span class="delimiter">)</span>, <a href="#akka.dispatch;PinnedDispatcherConfigurator.threadPoolConfig" title="=&gt; akka.dispatch.ThreadPoolConfig">threadPoolConfig</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>
