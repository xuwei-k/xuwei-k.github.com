<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>actor/akka/io/SimpleDnsManager.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
package akka.io

import java.util.concurrent.TimeUnit

import akka.actor.<span class="delimiter">{</span> ActorLogging, Actor, Deploy, Props <span class="delimiter">}</span>
import akka.dispatch.<span class="delimiter">{</span> RequiresMessageQueue, UnboundedMessageQueueSemantics <span class="delimiter">}</span>
import akka.routing.FromConfig

import scala.concurrent.duration.Duration

class <a title="class SimpleDnsManager extends AnyRef with akka.actor.Actor with akka.dispatch.RequiresMessageQueue[akka.dispatch.UnboundedMessageQueueSemantics] with akka.actor.ActorLogging" id="akka.io;SimpleDnsManager">SimpleDnsManager</a><a href="#akka.io;SimpleDnsManager" title="akka.io.SimpleDnsManager" class="delimiter">(</a>val <a title="akka.io.DnsExt" id="akka.io;SimpleDnsManager.ext">ext</a>: <a href="Dns.scala.html#akka.io;DnsExt" title="akka.io.DnsExt">DnsExt</a><span class="delimiter">)</span> extends <a href="../actor/Actor.scala.html#akka.actor;Actor" title="akka.actor.Actor">Actor</a> with <a href="../dispatch/Mailbox.scala.html#akka.dispatch;RequiresMessageQueue" title="akka.dispatch.RequiresMessageQueue[akka.dispatch.UnboundedMessageQueueSemantics]">RequiresMessageQueue</a><span class="delimiter">[</span>UnboundedMessageQueueSemantics<span class="delimiter">]</span> with <a href="../actor/Actor.scala.html#akka.actor;ActorLogging" title="akka.actor.ActorLogging">ActorLogging</a> <span class="delimiter">{</span>

  import <a href="../actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>._

  private val <a title="akka.actor.ActorRef" id="akka.io;SimpleDnsManager.resolver">resolver</a> = <a href="../actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.actorOf(874c98419a)" title="(props: akka.actor.Props, name: String)akka.actor.ActorRef">actorOf</a><span class="delimiter">(</span><a href="../routing/RouterConfig.scala.html#akka.routing.FromConfig" title="akka.routing.FromConfig.type">FromConfig</a>.<a href="../routing/RouterConfig.scala.html#akka.routing;Pool.props" title="(routeeProps: akka.actor.Props)akka.actor.Props">props</a><span class="delimiter">(</span><a href="../actor/Props.scala.html#akka.actor.Props.apply(0870a176b3)" title="(clazz: Class[_], args: Any*)akka.actor.Props">Props</a><span class="delimiter">(</span><a href="#akka.io;SimpleDnsManager.ext" title="=&gt; akka.io.DnsExt">ext</a>.<a href="Dns.scala.html#akka.io;DnsExt.provider" title="=&gt; akka.io.DnsProvider">provider</a>.<a href="DnsProvider.scala.html#akka.io;DnsProvider.actorClass" title="=&gt; Class[_ &lt;: akka.actor.Actor]">actorClass</a>, <a href="#akka.io;SimpleDnsManager.ext" title="=&gt; akka.io.DnsExt">ext</a>.<a href="Dns.scala.html#akka.io;DnsExt.cache" title="=&gt; akka.io.Dns">cache</a>, <a href="#akka.io;SimpleDnsManager.ext" title="=&gt; akka.io.DnsExt">ext</a>.<a href="Dns.scala.html#akka.io;DnsExt.Settings" title="=&gt; SimpleDnsManager.this.ext.Settings">Settings</a>.<a href="Dns.scala.html#akka.io;DnsExt;Settings.ResolverConfig" title="=&gt; com.typesafe.config.Config">ResolverConfig</a><span class="delimiter">)</span>.<a href="../actor/Props.scala.html#akka.actor;Props.withDeploy" title="(d: akka.actor.Deploy)akka.actor.Props">withDeploy</a><span class="delimiter">(</span><a href="../actor/Deployer.scala.html#akka.actor.Deploy" title="akka.actor.Deploy.type">Deploy</a>.<a href="../actor/Deployer.scala.html#akka.actor.Deploy.local" title="=&gt; akka.actor.Deploy">local</a><span class="delimiter">)</span>.<a href="../actor/Props.scala.html#akka.actor;Props.withDispatcher" title="(d: String)akka.actor.Props">withDispatcher</a><span class="delimiter">(</span><a href="#akka.io;SimpleDnsManager.ext" title="=&gt; akka.io.DnsExt">ext</a>.<a href="Dns.scala.html#akka.io;DnsExt.Settings" title="=&gt; SimpleDnsManager.this.ext.Settings">Settings</a>.<a href="Dns.scala.html#akka.io;DnsExt;Settings.Dispatcher" title="=&gt; String">Dispatcher</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#akka.io;SimpleDnsManager.ext" title="=&gt; akka.io.DnsExt">ext</a>.<a href="Dns.scala.html#akka.io;DnsExt.Settings" title="=&gt; SimpleDnsManager.this.ext.Settings">Settings</a>.<a href="Dns.scala.html#akka.io;DnsExt;Settings.Resolver" title="=&gt; String">Resolver</a><span class="delimiter">)</span>
  private val <a title="Option[akka.io.Dns with akka.io.PeriodicCacheCleanup]" id="akka.io;SimpleDnsManager.cacheCleanup">cacheCleanup</a> = <a href="#akka.io;SimpleDnsManager.ext" title="=&gt; akka.io.DnsExt">ext</a>.<a href="Dns.scala.html#akka.io;DnsExt.cache" title="=&gt; akka.io.Dns">cache</a> match <span class="delimiter">{</span>
    case <a title="&lt;refinement of akka.io.Dns with akka.io.PeriodicCacheCleanup&gt; extends akka.io.Dns with akka.io.PeriodicCacheCleanup" id="akka.io;SimpleDnsManager.cacheCleanup.cleanup">cleanup</a>: <a href="SimpleDnsCache.scala.html#akka.io;PeriodicCacheCleanup" title="akka.io.PeriodicCacheCleanup">PeriodicCacheCleanup</a> ⇒ <span title="(x: akka.io.Dns with akka.io.PeriodicCacheCleanup)Some[akka.io.Dns with akka.io.PeriodicCacheCleanup]">Some</span><span class="delimiter">(</span><a href="#akka.io;SimpleDnsManager.cacheCleanup.cleanup" title="&lt;refinement of akka.io.Dns with akka.io.PeriodicCacheCleanup&gt; extends akka.io.Dns with akka.io.PeriodicCacheCleanup">cleanup</a><span class="delimiter">)</span>
    case _                             ⇒ <span title="None.type">None</span>
  <span class="delimiter">}</span>

  private val cleanupTimer = <a href="#akka.io;SimpleDnsManager.cacheCleanup" title="=&gt; Option[akka.io.Dns with akka.io.PeriodicCacheCleanup]">cacheCleanup</a> <a title="Option[akka.actor.Cancellable]" id="akka.io;SimpleDnsManager.cleanupTimer">map</a> <span class="delimiter">{</span> <a title="&lt;refinement of akka.io.Dns with akka.io.PeriodicCacheCleanup&gt; extends akka.io.Dns with akka.io.PeriodicCacheCleanup" id="akka.io;SimpleDnsManager.cleanupTimer.$anonfun.x$1">_</a> ⇒
    val <a title="scala.concurrent.duration.FiniteDuration" id="akka.io;SimpleDnsManager.cleanupTimer.$anonfun.interval">interval</a> = <span title="(length: Long, unit: scala.concurrent.duration.TimeUnit)scala.concurrent.duration.FiniteDuration">Duration</span><span class="delimiter">(</span><a href="#akka.io;SimpleDnsManager.ext" title="=&gt; akka.io.DnsExt">ext</a>.<a href="Dns.scala.html#akka.io;DnsExt.Settings" title="=&gt; SimpleDnsManager.this.ext.Settings">Settings</a>.<a href="Dns.scala.html#akka.io;DnsExt;Settings.ResolverConfig" title="=&gt; com.typesafe.config.Config">ResolverConfig</a>.<span title="(x$1: String, x$2: java.util.concurrent.TimeUnit)Long">getDuration</span><span class="delimiter">(</span><span title="String(&quot;cache-cleanup-interval&quot;)" class="string">&quot;cache-cleanup-interval&quot;</span>, TimeUnit.<span title="java.util.concurrent.TimeUnit(MILLISECONDS)">MILLISECONDS</span><span class="delimiter">)</span>, TimeUnit.<span title="java.util.concurrent.TimeUnit(MILLISECONDS)">MILLISECONDS</span><span class="delimiter">)</span>
    <a href="../actor/ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a>.<a href="../actor/ActorSystem.scala.html#akka.actor;ActorSystem.scheduler" title="=&gt; akka.actor.Scheduler">scheduler</a>.<a href="../actor/Scheduler.scala.html#akka.actor;Scheduler.schedule(abf8206fc2)" title="(initialDelay: scala.concurrent.duration.FiniteDuration, interval: scala.concurrent.duration.FiniteDuration, receiver: akka.actor.ActorRef, message: Any)(implicit executor: scala.concurrent.ExecutionContext, implicit sender: akka.actor.ActorRef)akka.actor.Cancellable">schedule</a><a href="../actor/ActorCell.scala.html#akka.actor;ActorContext.dispatcher" title="=&gt; scala.concurrent.ExecutionContextExecutor" class="delimiter">(</a><a href="#akka.io;SimpleDnsManager.cleanupTimer.$anonfun.interval" title="scala.concurrent.duration.FiniteDuration">interval</a>, <a href="#akka.io;SimpleDnsManager.cleanupTimer.$anonfun.interval" title="scala.concurrent.duration.FiniteDuration">interval</a>, <a href="../actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>, <a href="#akka.io.SimpleDnsManager" title="akka.io.SimpleDnsManager.type">SimpleDnsManager</a>.<a href="#akka.io.SimpleDnsManager.CacheCleanup.readResolve" title="akka.io.SimpleDnsManager.CacheCleanup.type">CacheCleanup</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  override def <a title="=&gt; PartialFunction[Any,Unit]" id="akka.io;SimpleDnsManager.receive">receive</a> = <a title="&lt;$anon: Any =&gt; Unit&gt; extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="akka.io;SimpleDnsManager.receive;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    case <a title="akka.io.Dns.Resolve" id="akka.io;SimpleDnsManager.receive;$anonfun.isDefinedAt.r">r</a> @ Dns.Resolve<span class="delimiter">(</span><a title="String" id="akka.io;SimpleDnsManager.receive;$anonfun.isDefinedAt.name">name</a><span class="delimiter">)</span> ⇒
      <a href="../actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../event/Logging.scala.html#akka.event;LoggingAdapter.debug(2f488eb77c)" title="(template: String, arg1: Any, arg2: Any)Unit">debug</a><span class="delimiter">(</span><span title="String(&quot;Resolution request for {} from {}&quot;)" class="string">&quot;Resolution request for {} from {}&quot;</span>, <a href="#akka.io;SimpleDnsManager.receive;$anonfun.isDefinedAt.name" title="String">name</a>, <a href="../actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#akka.io;SimpleDnsManager.resolver" title="=&gt; akka.actor.ActorRef">resolver</a>.<a href="../actor/ActorRef.scala.html#akka.actor;ActorRef.forward" title="(message: Any)(implicit context: akka.actor.ActorContext)Unit">forward</a><a href="../actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext" class="delimiter">(</a><a href="#akka.io;SimpleDnsManager.receive;$anonfun.isDefinedAt.r" title="akka.io.Dns.Resolve">r</a><span class="delimiter">)</span>
    case <a href="#akka.io.SimpleDnsManager" title="akka.io.SimpleDnsManager.type">SimpleDnsManager</a>.<a href="#akka.io.SimpleDnsManager.CacheCleanup.readResolve" title="akka.io.SimpleDnsManager.CacheCleanup.type">CacheCleanup</a> ⇒
      for <span class="delimiter">(</span><a title="&lt;refinement of akka.io.Dns with akka.io.PeriodicCacheCleanup&gt; extends akka.io.Dns with akka.io.PeriodicCacheCleanup" id="akka.io;SimpleDnsManager.receive;$anonfun.applyOrElse.$anonfun.c">c</a> ← <a href="#akka.io;SimpleDnsManager.cacheCleanup" title="(f: akka.io.Dns with akka.io.PeriodicCacheCleanup =&gt; Unit)Unit">cacheCleanup</a><span class="delimiter">)</span>
        <a href="#akka.io;SimpleDnsManager.receive;$anonfun.applyOrElse.$anonfun.c" title="&lt;refinement of akka.io.Dns with akka.io.PeriodicCacheCleanup&gt; extends akka.io.Dns with akka.io.PeriodicCacheCleanup">c</a>.<a href="SimpleDnsCache.scala.html#akka.io;PeriodicCacheCleanup.cleanup" title="()Unit">cleanup</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  override def <a title="()Unit" id="akka.io;SimpleDnsManager.postStop">postStop</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    for <span class="delimiter">(</span><a title="akka.actor.Cancellable" id="akka.io;SimpleDnsManager.postStop.$anonfun.t">t</a> ← <a href="#akka.io;SimpleDnsManager.cleanupTimer" title="(f: akka.actor.Cancellable =&gt; Boolean)Unit">cleanupTimer</a><span class="delimiter">)</span> <a href="#akka.io;SimpleDnsManager.postStop.$anonfun.t" title="akka.actor.Cancellable">t</a>.<a href="../actor/Scheduler.scala.html#akka.actor;Cancellable.cancel" title="()Boolean">cancel</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

object <a title="akka.io.SimpleDnsManager.type" id="akka.io.SimpleDnsManager">SimpleDnsManager</a> <a href="#akka.io.SimpleDnsManager" title="akka.io.SimpleDnsManager.type" class="delimiter">{</a>
  private case object <a href="#akka.io.SimpleDnsManager.CacheCleanup.productElement.x$1" title="akka.io.SimpleDnsManager.CacheCleanup.type" id="akka.io.SimpleDnsManager.CacheCleanup.readResolve">CacheCleanup</a>
<a href="#akka.io.SimpleDnsManager.CacheCleanup.readResolve" title="akka.io.SimpleDnsManager.CacheCleanup.type" class="delimiter">}</a>

        </pre>
    </body>
</html>
