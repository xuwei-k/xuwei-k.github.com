<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>cluster/akka/cluster/Cluster.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (C) 2009-2015 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>

package akka.cluster

import java.io.Closeable
import java.util.concurrent.ThreadFactory
import java.util.concurrent.atomic.AtomicBoolean

import akka.ConfigurationException
import akka.actor._
import akka.dispatch.MonitorableThreadFactory
import akka.event.<span class="delimiter">{</span> Logging, LoggingAdapter <span class="delimiter">}</span>
import akka.japi.Util
import akka.pattern._
import akka.remote.<span class="delimiter">{</span> DefaultFailureDetectorRegistry, FailureDetector, _ <span class="delimiter">}</span>
import com.typesafe.config.<span class="delimiter">{</span> Config, ConfigFactory <span class="delimiter">}</span>

import scala.annotation.varargs
import scala.collection.immutable
import scala.concurrent.duration._
import scala.concurrent.<span class="delimiter">{</span> Await, ExecutionContext <span class="delimiter">}</span>
import scala.<span title="language.type">language</span>.implicitConversions
import scala.util.control.NonFatal

<span class="comment">/**
 * Cluster Extension Id and factory for creating Cluster extension.
 */</span>
object <a title="akka.cluster.Cluster.type" id="akka.cluster.Cluster">Cluster</a> extends <a href="../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionId" title="akka.actor.ExtensionId[akka.cluster.Cluster]">ExtensionId</a><span class="delimiter">[</span>Cluster<span class="delimiter">]</span> with <a href="../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionIdProvider" title="akka.actor.ExtensionIdProvider">ExtensionIdProvider</a> <span class="delimiter">{</span>
  override def <a title="(system: akka.actor.ActorSystem)akka.cluster.Cluster" id="akka.cluster.Cluster.get">get</a><span class="delimiter">(</span><a title="akka.actor.ActorSystem" id="akka.cluster.Cluster.get.system">system</a>: <a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem" title="akka.actor.ActorSystem">ActorSystem</a><span class="delimiter">)</span>: <a href="#akka.cluster;Cluster" title="akka.cluster.Cluster">Cluster</a> = super.<a href="../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionId.get" title="(system: akka.actor.ActorSystem)akka.cluster.Cluster">get</a><span class="delimiter">(</span><a href="#akka.cluster.Cluster.get.system" title="akka.actor.ActorSystem">system</a><span class="delimiter">)</span>

  override def <a title="()akka.cluster.Cluster.type" id="akka.cluster.Cluster.lookup">lookup</a> = <a href="#akka.cluster.Cluster" title="akka.cluster.Cluster.type">Cluster</a>

  override def <a title="(system: akka.actor.ExtendedActorSystem)akka.cluster.Cluster" id="akka.cluster.Cluster.createExtension">createExtension</a><span class="delimiter">(</span><a title="akka.actor.ExtendedActorSystem" id="akka.cluster.Cluster.createExtension.system">system</a>: <a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ExtendedActorSystem" title="akka.actor.ExtendedActorSystem">ExtendedActorSystem</a><span class="delimiter">)</span>: <a href="#akka.cluster;Cluster" title="akka.cluster.Cluster">Cluster</a> = new <a href="#akka.cluster;Cluster" title="akka.cluster.Cluster">Cluster</a><span class="delimiter">(</span><a href="#akka.cluster.Cluster.createExtension.system" title="akka.actor.ExtendedActorSystem">system</a><span class="delimiter">)</span>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  private<span class="delimiter">[</span>cluster<span class="delimiter">]</span> final val <a title="Boolean" id="akka.cluster.Cluster.isAssertInvariantsEnabled">isAssertInvariantsEnabled</a>: <span title="Boolean">Boolean</span> =
    <span title="System.type">System</span>.<span title="(x$1: String, x$2: String)String">getProperty</span><span class="delimiter">(</span><span title="String(&quot;akka.cluster.assert&quot;)" class="string">&quot;akka.cluster.assert&quot;</span>, <span title="String(&quot;off&quot;)" class="string">&quot;off&quot;</span><span class="delimiter">)</span>.<span title="()String">toLowerCase</span> match <span class="delimiter">{</span>
      case <span title="String(&quot;on&quot;)" class="string">&quot;on&quot;</span> | <span title="String(&quot;true&quot;)" class="string">&quot;true&quot;</span> ⇒ true
      case _             ⇒ false
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * This module is responsible cluster membership information. Changes to the cluster
 * information is retrieved through [[#subscribe]]. Commands to operate the cluster is
 * available through methods in this class, such as [[#join]], [[#down]] and [[#leave]].
 *
 * Each cluster [[Member]] is identified by its [[akka.actor.Address]], and
 * the cluster address of this actor system is [[#selfAddress]]. A member also has a status;
 * initially [[MemberStatus]] `Joining` followed by [[MemberStatus]] `Up`.
 */</span>
class <a title="class Cluster extends AnyRef with akka.actor.Extension" id="akka.cluster;Cluster">Cluster</a><a href="#akka.cluster;Cluster" title="akka.cluster.Cluster" class="delimiter">(</a>val <a title="akka.actor.ExtendedActorSystem" id="akka.cluster;Cluster.system">system</a>: <a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ExtendedActorSystem" title="akka.actor.ExtendedActorSystem">ExtendedActorSystem</a><span class="delimiter">)</span> extends <a href="../../../actor/akka/actor/Extension.scala.html#akka.actor;Extension" title="akka.actor.Extension">Extension</a> <span class="delimiter">{</span>

  import <a href="ClusterEvent.scala.html#akka.cluster.ClusterEvent" title="akka.cluster.ClusterEvent.type">ClusterEvent</a>._

  val <a title="akka.cluster.ClusterSettings" id="akka.cluster;Cluster.settings">settings</a> = new <a href="ClusterSettings.scala.html#akka.cluster;ClusterSettings" title="akka.cluster.ClusterSettings">ClusterSettings</a><span class="delimiter">(</span><a href="#akka.cluster;Cluster.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a>.<a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.settings" title="=&gt; akka.actor.ActorSystem.Settings">settings</a>.<a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor.ActorSystem;Settings.config" title="=&gt; com.typesafe.config.Config">config</a>, <a href="#akka.cluster;Cluster.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a>.<a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.name" title="=&gt; String">name</a><span class="delimiter">)</span>
  import <a href="#akka.cluster;Cluster.InfoLogger" title="Cluster.this.InfoLogger.type">InfoLogger</a>._
  import <a href="#akka.cluster;Cluster.settings" title="=&gt; akka.cluster.ClusterSettings">settings</a>._

  <span class="comment">/**
   * The address including a `uid` of this cluster member.
   * The `uid` is needed to be able to distinguish different
   * incarnations of a member with same hostname and port.
   */</span>
  val <a title="akka.cluster.UniqueAddress" id="akka.cluster;Cluster.selfUniqueAddress">selfUniqueAddress</a>: <a href="Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a> = <a href="#akka.cluster;Cluster.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a>.<a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ExtendedActorSystem.provider" title="=&gt; akka.actor.ActorRefProvider">provider</a> match <span class="delimiter">{</span>
    case <a title="akka.cluster.ClusterActorRefProvider" id="akka.cluster;Cluster.selfUniqueAddress.c">c</a>: <a href="ClusterActorRefProvider.scala.html#akka.cluster;ClusterActorRefProvider" title="akka.cluster.ClusterActorRefProvider">ClusterActorRefProvider</a> ⇒
      <a href="Member.scala.html#akka.cluster;UniqueAddress" title="(address: akka.actor.Address, uid: Int)akka.cluster.UniqueAddress">UniqueAddress</a><span class="delimiter">(</span><a href="#akka.cluster;Cluster.selfUniqueAddress.c" title="akka.cluster.ClusterActorRefProvider">c</a>.<a href="../../../remote/akka/remote/RemoteActorRefProvider.scala.html#akka.remote;RemoteActorRefProvider.transport" title="=&gt; akka.remote.RemoteTransport">transport</a>.<a href="../../../remote/akka/remote/RemoteTransport.scala.html#akka.remote;RemoteTransport.defaultAddress" title="=&gt; akka.actor.Address">defaultAddress</a>, <a href="../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionId.apply" title="(system: akka.actor.ActorSystem)akka.remote.AddressUidExtension">AddressUidExtension</a><span class="delimiter">(</span><a href="#akka.cluster;Cluster.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a><span class="delimiter">)</span>.<a href="../../../remote/akka/remote/AddressUidExtension.scala.html#akka.remote;AddressUidExtension.addressUid" title="=&gt; Int">addressUid</a><span class="delimiter">)</span>
    case <a title="akka.actor.ActorRefProvider" id="akka.cluster;Cluster.selfUniqueAddress.other">other</a> ⇒ throw new <a href="../../../actor/akka/AkkaException.scala.html#akka;ConfigurationException" title="akka.ConfigurationException">ConfigurationException</a><span class="delimiter">(</span>
      <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;ActorSystem [&quot;)">ActorSystem [$</span><span class="delimiter">{</span><a href="#akka.cluster;Cluster.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a><span class="delimiter">}</span><span title="String(&quot;] needs to have a \'ClusterActorRefProvider\' enabled in the configuration, currently uses [&quot;)">] needs to have a 'ClusterActorRefProvider' enabled in the configuration, currently uses [$</span><span class="delimiter">{</span><a href="#akka.cluster;Cluster.selfUniqueAddress.other" title="akka.actor.ActorRefProvider">other</a>.<span title="()Class[_]">getClass</span>.<span title="()String">getName</span><span class="delimiter">}</span><span title="String(&quot;]&quot;)" class="string">]&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The address of this cluster member.
   */</span>
  def <a title="=&gt; akka.actor.Address" id="akka.cluster;Cluster.selfAddress">selfAddress</a>: <a href="../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a> = <a href="#akka.cluster;Cluster.selfUniqueAddress" title="=&gt; akka.cluster.UniqueAddress">selfUniqueAddress</a>.<a href="Member.scala.html#akka.cluster;UniqueAddress.address" title="=&gt; akka.actor.Address">address</a>

  <span class="comment">/**
   * roles that this member has
   */</span>
  def <a title="=&gt; Set[String]" id="akka.cluster;Cluster.selfRoles">selfRoles</a>: <span title="Set[String]">Set</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#akka.cluster;Cluster.settings" title="=&gt; akka.cluster.ClusterSettings">settings</a>.<a href="ClusterSettings.scala.html#akka.cluster;ClusterSettings.Roles" title="=&gt; Set[String]">Roles</a>

  <span class="comment">/**
   * Java API: roles that this member has
   */</span>
  def <a title="=&gt; java.util.Set[String]" id="akka.cluster;Cluster.getSelfRoles">getSelfRoles</a>: java.util.<span title="java.util.Set[String]">Set</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    scala.collection.<span title="scala.collection.JavaConverters.type">JavaConverters</span>.<span title="(s: scala.collection.Set[String])scala.collection.convert.Decorators.AsJava[java.util.Set[String]]">setAsJavaSetConverter</span><span class="delimiter">(</span><a href="#akka.cluster;Cluster.selfRoles" title="=&gt; Set[String]">selfRoles</a><span class="delimiter">)</span>.<span title="=&gt; java.util.Set[String]">asJava</span>

  private val <a title="java.util.concurrent.atomic.AtomicBoolean" id="akka.cluster;Cluster._isTerminated">_isTerminated</a> = new <span title="java.util.concurrent.atomic.AtomicBoolean">AtomicBoolean</span><span class="delimiter">(</span>false<span class="delimiter">)</span>
  private val <a title="akka.event.LoggingAdapter" id="akka.cluster;Cluster.log">log</a> = <a href="../../../actor/akka/event/Logging.scala.html#akka.event.Logging.apply(882ba4a885)" title="(system: akka.actor.ActorSystem, logSource: String)(implicit evidence$3: akka.event.LogSource[String])akka.event.LoggingAdapter">Logging</a><a href="../../../actor/akka/event/Logging.scala.html#akka.event.LogSource.fromString" title="=&gt; akka.event.LogSource[String]" class="delimiter">(</a><a href="#akka.cluster;Cluster.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a>, <a href="#akka.cluster;Cluster" title="()Class[_]">getClass</a>.<span title="()String">getName</span><span class="delimiter">)</span>
  <span class="comment">// ClusterJmx is initialized as the last thing in the constructor</span>
  private var <a title="Option[akka.cluster.ClusterJmx]" id="akka.cluster;Cluster.clusterJmx_=">clusterJmx</a>: <span title="Option[akka.cluster.ClusterJmx]">Option</span><span class="delimiter">[</span>ClusterJmx<span class="delimiter">]</span> = <span title="None.type">None</span>

  <a href="#akka.cluster;Cluster.InfoLogger.logInfo(cc2e600322)" title="(message: String)Unit">logInfo</a><span class="delimiter">(</span><span title="String(&quot;Starting up...&quot;)" class="string">&quot;Starting up...&quot;</span><span class="delimiter">)</span>

  val <a title="akka.remote.FailureDetectorRegistry[akka.actor.Address]" id="akka.cluster;Cluster.failureDetector">failureDetector</a>: <a href="../../../remote/akka/remote/FailureDetectorRegistry.scala.html#akka.remote;FailureDetectorRegistry" title="akka.remote.FailureDetectorRegistry[akka.actor.Address]">FailureDetectorRegistry</a><span class="delimiter">[</span>Address<span class="delimiter">]</span> = <span class="delimiter">{</span>
    def <a title="()akka.remote.FailureDetector" id="akka.cluster;Cluster.failureDetector.createFailureDetector">createFailureDetector</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../remote/akka/remote/FailureDetector.scala.html#akka.remote;FailureDetector" title="akka.remote.FailureDetector">FailureDetector</a> =
      <a href="../../../remote/akka/remote/FailureDetectorRegistry.scala.html#akka.remote.FailureDetectorLoader" title="akka.remote.FailureDetectorLoader.type">FailureDetectorLoader</a>.<a href="../../../remote/akka/remote/FailureDetectorRegistry.scala.html#akka.remote.FailureDetectorLoader.load" title="(fqcn: String, config: com.typesafe.config.Config, system: akka.actor.ActorSystem)akka.remote.FailureDetector">load</a><span class="delimiter">(</span><a href="#akka.cluster;Cluster.settings" title="=&gt; akka.cluster.ClusterSettings">settings</a>.<a href="ClusterSettings.scala.html#akka.cluster;ClusterSettings.FailureDetectorImplementationClass" title="=&gt; String">FailureDetectorImplementationClass</a>, <a href="#akka.cluster;Cluster.settings" title="=&gt; akka.cluster.ClusterSettings">settings</a>.<a href="ClusterSettings.scala.html#akka.cluster;ClusterSettings.FailureDetectorConfig" title="=&gt; com.typesafe.config.Config">FailureDetectorConfig</a>, <a href="#akka.cluster;Cluster.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a><span class="delimiter">)</span>

    new <a href="../../../remote/akka/remote/DefaultFailureDetectorRegistry.scala.html#akka.remote;DefaultFailureDetectorRegistry" title="akka.remote.DefaultFailureDetectorRegistry[akka.actor.Address]">DefaultFailureDetectorRegistry</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> ⇒ <a href="#akka.cluster;Cluster.failureDetector.createFailureDetector" title="()akka.remote.FailureDetector">createFailureDetector</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">// ========================================================</span>
  <span class="comment">// ===================== WORK DAEMONS =====================</span>
  <span class="comment">// ========================================================</span>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  private<span class="delimiter">[</span>cluster<span class="delimiter">]</span> val <a title="akka.actor.Scheduler" id="akka.cluster;Cluster.scheduler">scheduler</a>: <a href="../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Scheduler" title="akka.actor.Scheduler">Scheduler</a> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#akka.cluster;Cluster.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a>.<a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.scheduler" title="=&gt; akka.actor.Scheduler">scheduler</a>.<a href="../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Scheduler.maxFrequency" title="=&gt; Double">maxFrequency</a> <span title="(x: Double)Boolean">&lt;</span> <span title="implicit scala.concurrent.duration.package.DurationInt : (n: Int)concurrent.duration.DurationInt" class="int">1</span>.<span title="=&gt; scala.concurrent.duration.FiniteDuration">second</span> <span title="(divisor: scala.concurrent.duration.Duration)Double">/</span> <a href="ClusterSettings.scala.html#akka.cluster;ClusterSettings.SchedulerTickDuration" title="=&gt; scala.concurrent.duration.FiniteDuration">SchedulerTickDuration</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#akka.cluster;Cluster.InfoLogger.logInfo(2f488eb77c)" title="(template: String, arg1: Any, arg2: Any)Unit">logInfo</a><span class="delimiter">(</span><span class="string">&quot;Using a dedicated scheduler for cluster. Default scheduler can be used if configured &quot;</span> <span title="String(&quot;Using a dedicated scheduler for cluster. Default scheduler can be used if configured with \'akka.scheduler.tick-duration\' [{} ms] &lt;=  \'akka.cluster.scheduler.tick-duration\' [{} ms].&quot;)">+</span>
        <span class="string">&quot;with 'akka.scheduler.tick-duration' [{} ms] &lt;=  'akka.cluster.scheduler.tick-duration' [{} ms].&quot;</span>,
        <span class="delimiter">(</span><span title="Int(1000)" class="int">1000</span> <span title="(x: Double)Double">/</span> <a href="#akka.cluster;Cluster.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a>.<a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.scheduler" title="=&gt; akka.actor.Scheduler">scheduler</a>.<a href="../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Scheduler.maxFrequency" title="=&gt; Double">maxFrequency</a><span class="delimiter">)</span>.<span title="=&gt; Int">toInt</span>, <a href="ClusterSettings.scala.html#akka.cluster;ClusterSettings.SchedulerTickDuration" title="=&gt; scala.concurrent.duration.FiniteDuration">SchedulerTickDuration</a>.<span title="=&gt; Long">toMillis</span><span class="delimiter">)</span>

      val <a title="com.typesafe.config.Config" id="akka.cluster;Cluster.scheduler.cfg">cfg</a> = <span title="com.typesafe.config.ConfigFactory.type">ConfigFactory</span>.<span title="(x$1: String)com.typesafe.config.Config">parseString</span><span class="delimiter">(</span>
        <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;akka.scheduler.tick-duration=&quot;)">akka.scheduler.tick-duration=$</span><span class="delimiter">{</span><a href="ClusterSettings.scala.html#akka.cluster;ClusterSettings.SchedulerTickDuration" title="=&gt; scala.concurrent.duration.FiniteDuration">SchedulerTickDuration</a>.<span title="=&gt; Long">toMillis</span><span class="delimiter">}</span><span title="String(&quot;ms&quot;)" class="string">ms&quot;</span><span class="delimiter">)</span>.<span title="(x$1: com.typesafe.config.ConfigMergeable)com.typesafe.config.Config">withFallback</span><span class="delimiter">(</span>
          <a href="#akka.cluster;Cluster.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a>.<a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.settings" title="=&gt; akka.actor.ActorSystem.Settings">settings</a>.<a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor.ActorSystem;Settings.config" title="=&gt; com.typesafe.config.Config">config</a><span class="delimiter">)</span>
      val <a title="java.util.concurrent.ThreadFactory" id="akka.cluster;Cluster.scheduler.threadFactory">threadFactory</a> = <a href="#akka.cluster;Cluster.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a>.<a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ExtendedActorSystem.threadFactory" title="=&gt; java.util.concurrent.ThreadFactory">threadFactory</a> match <span class="delimiter">{</span>
        case <span title="akka.dispatch.MonitorableThreadFactory">tf</span>: <a href="../../../actor/akka/dispatch/ThreadPoolBuilder.scala.html#akka.dispatch;MonitorableThreadFactory" title="akka.dispatch.MonitorableThreadFactory">MonitorableThreadFactory</a> ⇒ <span title="akka.dispatch.MonitorableThreadFactory">tf</span>.<a href="../../../actor/akka/dispatch/ThreadPoolBuilder.scala.html#akka.dispatch;MonitorableThreadFactory.withName" title="(newName: String)akka.dispatch.MonitorableThreadFactory">withName</a><span class="delimiter">(</span><span title="akka.dispatch.MonitorableThreadFactory">tf</span>.<a href="../../../actor/akka/dispatch/ThreadPoolBuilder.scala.html#akka.dispatch;MonitorableThreadFactory.name" title="=&gt; String">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;-cluster-scheduler&quot;)" class="string">&quot;-cluster-scheduler&quot;</span><span class="delimiter">)</span>
        case <span title="java.util.concurrent.ThreadFactory">tf</span>                           ⇒ <span title="java.util.concurrent.ThreadFactory">tf</span>
      <span class="delimiter">}</span>
      <a href="#akka.cluster;Cluster.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a>.<a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ExtendedActorSystem.dynamicAccess" title="=&gt; akka.actor.DynamicAccess">dynamicAccess</a>.<a href="../../../actor/akka/actor/DynamicAccess.scala.html#akka.actor;DynamicAccess.createInstanceFor(b43a2b150b)" title="[T](fqcn: String, args: scala.collection.immutable.Seq[(Class[_], AnyRef)])(implicit evidence$3: scala.reflect.ClassTag[T])scala.util.Try[T]">createInstanceFor</a><span title="(fqcn: String, args: scala.collection.immutable.Seq[(Class[_], AnyRef)])(implicit evidence$3: scala.reflect.ClassTag[akka.actor.Scheduler])scala.util.Try[akka.actor.Scheduler]" class="delimiter">[</span><a href="../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Scheduler" title="akka.actor.Scheduler">Scheduler</a><span class="delimiter">]</span><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[akka.actor.Scheduler]" class="delimiter">(</span><a href="#akka.cluster;Cluster.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a>.<a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.settings" title="=&gt; akka.actor.ActorSystem.Settings">settings</a>.<a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor.ActorSystem;Settings.SchedulerClass" title="=&gt; String">SchedulerClass</a>, immutable.<span title="(elems: (Class[_ &gt;: java.util.concurrent.ThreadFactory with akka.event.LoggingAdapter with com.typesafe.config.Config &lt;: Object], Object)*)scala.collection.immutable.Seq[(Class[_ &gt;: java.util.concurrent.ThreadFactory with akka.event.LoggingAdapter with com.typesafe.config.Config &lt;: Object], Object)]">Seq</span><span class="delimiter">(</span>
        classOf<span title="(self: Class[com.typesafe.config.Config])ArrowAssoc[Class[com.typesafe.config.Config]]" class="delimiter">[</span>Config<span class="delimiter">]</span> <span title="(y: com.typesafe.config.Config)(Class[com.typesafe.config.Config], com.typesafe.config.Config)">-&gt;</span> <a href="#akka.cluster;Cluster.scheduler.cfg" title="com.typesafe.config.Config">cfg</a>,
        classOf<span title="(self: Class[akka.event.LoggingAdapter])ArrowAssoc[Class[akka.event.LoggingAdapter]]" class="delimiter">[</span>LoggingAdapter<span class="delimiter">]</span> <span title="(y: akka.event.LoggingAdapter)(Class[akka.event.LoggingAdapter], akka.event.LoggingAdapter)">-&gt;</span> <a href="#akka.cluster;Cluster.log" title="=&gt; akka.event.LoggingAdapter">log</a>,
        classOf<span title="(self: Class[java.util.concurrent.ThreadFactory])ArrowAssoc[Class[java.util.concurrent.ThreadFactory]]" class="delimiter">[</span>ThreadFactory<span class="delimiter">]</span> <span title="(y: java.util.concurrent.ThreadFactory)(Class[java.util.concurrent.ThreadFactory], java.util.concurrent.ThreadFactory)">-&gt;</span> <a href="#akka.cluster;Cluster.scheduler.threadFactory" title="java.util.concurrent.ThreadFactory">threadFactory</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; akka.actor.Scheduler">get</span>
    <span class="delimiter">}</span> else <span class="delimiter">{</span>
      <span class="comment">// delegate to system.scheduler, but don't close over system</span>
      val <a title="akka.actor.Scheduler" id="akka.cluster;Cluster.scheduler.systemScheduler">systemScheduler</a> = <a href="#akka.cluster;Cluster.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a>.<a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.scheduler" title="=&gt; akka.actor.Scheduler">scheduler</a>
      new <a title="&lt;$anon: akka.actor.Scheduler with java.io.Closeable&gt; extends AnyRef with akka.actor.Scheduler with java.io.Closeable" id="akka.cluster;Cluster.scheduler;$anon">Scheduler</a> with <span title="java.io.Closeable">Closeable</span> <span class="delimiter">{</span>
        override def <a title="()Unit" id="akka.cluster;Cluster.scheduler;$anon.close">close</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span> <span class="comment">// we are using system.scheduler, which we are not responsible for closing</span>

        override def <a title="=&gt; Double" id="akka.cluster;Cluster.scheduler;$anon.maxFrequency">maxFrequency</a>: <span title="Double">Double</span> = <a href="#akka.cluster;Cluster.scheduler.systemScheduler" title="akka.actor.Scheduler">systemScheduler</a>.<a href="../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Scheduler.maxFrequency" title="=&gt; Double">maxFrequency</a>

        override def <a title="(initialDelay: scala.concurrent.duration.FiniteDuration, interval: scala.concurrent.duration.FiniteDuration, runnable: Runnable)(implicit executor: scala.concurrent.ExecutionContext)akka.actor.Cancellable" id="akka.cluster;Cluster.scheduler;$anon.schedule(a868249cb6)">schedule</a><span class="delimiter">(</span><a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster;Cluster.scheduler;$anon.schedule(a868249cb6).initialDelay">initialDelay</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span>, <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster;Cluster.scheduler;$anon.schedule(a868249cb6).interval">interval</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span>,
                              <a title="Runnable" id="akka.cluster;Cluster.scheduler;$anon.schedule(a868249cb6).runnable">runnable</a>: <span title="Runnable">Runnable</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="scala.concurrent.ExecutionContext" id="akka.cluster;Cluster.scheduler;$anon.schedule(a868249cb6).executor">executor</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span><span class="delimiter">)</span>: <a href="../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Cancellable" title="akka.actor.Cancellable">Cancellable</a> =
          <a href="#akka.cluster;Cluster.scheduler.systemScheduler" title="akka.actor.Scheduler">systemScheduler</a>.<a href="../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Scheduler.schedule(a868249cb6)" title="(initialDelay: scala.concurrent.duration.FiniteDuration, interval: scala.concurrent.duration.FiniteDuration, runnable: Runnable)(implicit executor: scala.concurrent.ExecutionContext)akka.actor.Cancellable">schedule</a><a href="#akka.cluster;Cluster.scheduler;$anon.schedule(a868249cb6).executor" title="scala.concurrent.ExecutionContext" class="delimiter">(</a><a href="#akka.cluster;Cluster.scheduler;$anon.schedule(a868249cb6).initialDelay" title="scala.concurrent.duration.FiniteDuration">initialDelay</a>, <a href="#akka.cluster;Cluster.scheduler;$anon.schedule(a868249cb6).interval" title="scala.concurrent.duration.FiniteDuration">interval</a>, <a href="#akka.cluster;Cluster.scheduler;$anon.schedule(a868249cb6).runnable" title="Runnable">runnable</a><span class="delimiter">)</span>

        override def <a title="(delay: scala.concurrent.duration.FiniteDuration, runnable: Runnable)(implicit executor: scala.concurrent.ExecutionContext)akka.actor.Cancellable" id="akka.cluster;Cluster.scheduler;$anon.scheduleOnce(8318e51182)">scheduleOnce</a><span class="delimiter">(</span><a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster;Cluster.scheduler;$anon.scheduleOnce(8318e51182).delay">delay</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span>,
                                  <a title="Runnable" id="akka.cluster;Cluster.scheduler;$anon.scheduleOnce(8318e51182).runnable">runnable</a>: <span title="Runnable">Runnable</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="scala.concurrent.ExecutionContext" id="akka.cluster;Cluster.scheduler;$anon.scheduleOnce(8318e51182).executor">executor</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span><span class="delimiter">)</span>: <a href="../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Cancellable" title="akka.actor.Cancellable">Cancellable</a> =
          <a href="#akka.cluster;Cluster.scheduler.systemScheduler" title="akka.actor.Scheduler">systemScheduler</a>.<a href="../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Scheduler.scheduleOnce(8318e51182)" title="(delay: scala.concurrent.duration.FiniteDuration, runnable: Runnable)(implicit executor: scala.concurrent.ExecutionContext)akka.actor.Cancellable">scheduleOnce</a><a href="#akka.cluster;Cluster.scheduler;$anon.scheduleOnce(8318e51182).executor" title="scala.concurrent.ExecutionContext" class="delimiter">(</a><a href="#akka.cluster;Cluster.scheduler;$anon.scheduleOnce(8318e51182).delay" title="scala.concurrent.duration.FiniteDuration">delay</a>, <a href="#akka.cluster;Cluster.scheduler;$anon.scheduleOnce(8318e51182).runnable" title="Runnable">runnable</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">// create supervisor for daemons under path &quot;/system/cluster&quot;</span>
  private val <a title="akka.actor.ActorRef" id="akka.cluster;Cluster.clusterDaemons">clusterDaemons</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a> = <span class="delimiter">{</span>
    <a href="#akka.cluster;Cluster.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a>.<a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ExtendedActorSystem.systemActorOf" title="(props: akka.actor.Props, name: String)akka.actor.ActorRef">systemActorOf</a><span class="delimiter">(</span><a href="../../../actor/akka/actor/Props.scala.html#akka.actor.Props.apply(0870a176b3)" title="(clazz: Class[_], args: Any*)akka.actor.Props">Props</a><span class="delimiter">(</span>classOf<span title="Class[akka.cluster.ClusterDaemon](classOf[akka.cluster.ClusterDaemon])" class="delimiter">[</span>ClusterDaemon<span class="delimiter">]</span>, <a href="#akka.cluster;Cluster.settings" title="=&gt; akka.cluster.ClusterSettings">settings</a><span class="delimiter">)</span>.
      <a href="../../../actor/akka/actor/Props.scala.html#akka.actor;Props.withDispatcher" title="(d: String)akka.actor.Props">withDispatcher</a><span class="delimiter">(</span><a href="ClusterSettings.scala.html#akka.cluster;ClusterSettings.UseDispatcher" title="=&gt; String">UseDispatcher</a><span class="delimiter">)</span>.<a href="../../../actor/akka/actor/Props.scala.html#akka.actor;Props.withDeploy" title="(d: akka.actor.Deploy)akka.actor.Props">withDeploy</a><span class="delimiter">(</span><a href="../../../actor/akka/actor/Deployer.scala.html#akka.actor.Deploy" title="akka.actor.Deploy.type">Deploy</a>.<a href="../../../actor/akka/actor/Deployer.scala.html#akka.actor.Deploy.local" title="=&gt; akka.actor.Deploy">local</a><span class="delimiter">)</span>, name = <span title="String(&quot;cluster&quot;)" class="string">&quot;cluster&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  private<span class="delimiter">[</span>cluster<span class="delimiter">]</span> val <a title="akka.actor.ActorRef" id="akka.cluster;Cluster.clusterCore">clusterCore</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a> = <span class="delimiter">{</span>
    implicit val <a title="akka.util.Timeout" id="akka.cluster;Cluster.clusterCore.timeout">timeout</a> = <a href="#akka.cluster;Cluster.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a>.<a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.settings" title="=&gt; akka.actor.ActorSystem.Settings">settings</a>.<a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor.ActorSystem;Settings.CreationTimeout" title="=&gt; akka.util.Timeout">CreationTimeout</a>
    try <span class="delimiter">{</span>
      <span title="scala.concurrent.Await.type">Await</span>.<span title="(awaitable: scala.concurrent.Awaitable[akka.actor.ActorRef], atMost: scala.concurrent.duration.Duration)akka.actor.ActorRef">result</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../actor/akka/pattern/AskSupport.scala.html#akka.pattern;AskSupport.ask(13940b1e32)" title="akka.pattern.AskableActorRef" id="akka.cluster;Cluster.clusterCore.qual$1">clusterDaemons</a> <a href="#akka.cluster;Cluster.clusterCore.timeout" title="akka.util.Timeout" id="akka.cluster;Cluster.clusterCore.x$5">?</a> <a href="ClusterDaemon.scala.html#akka.cluster.InternalClusterAction" title="akka.cluster.InternalClusterAction.type">InternalClusterAction</a>.<a href="ClusterDaemon.scala.html#akka.cluster.InternalClusterAction.GetClusterCoreRef" title="akka.cluster.InternalClusterAction.GetClusterCoreRef.type" id="akka.cluster;Cluster.clusterCore.x$3">GetClusterCoreRef</a><span class="delimiter">)</span>.<span title="[S](implicit tag: scala.reflect.ClassTag[S])scala.concurrent.Future[S]">mapTo</span><span title="(implicit tag: scala.reflect.ClassTag[akka.actor.ActorRef])scala.concurrent.Future[akka.actor.ActorRef]" class="delimiter">[</span><a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">]</span>, <a href="#akka.cluster;Cluster.clusterCore.timeout" title="akka.util.Timeout">timeout</a>.<a href="../../../actor/akka/util/Timeout.scala.html#akka.util;Timeout.duration" title="=&gt; scala.concurrent.duration.FiniteDuration">duration</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> catch <span class="delimiter">{</span>
      case <a href="#akka.cluster;Cluster.clusterCore.<unapply-selector>" title="(t: Throwable)Option[Throwable]">NonFatal</a><span class="delimiter">(</span><a title="Throwable" id="akka.cluster;Cluster.clusterCore.e">e</a><span class="delimiter">)</span> ⇒
        <a href="#akka.cluster;Cluster.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.error(de736aeaab)" title="(cause: Throwable, message: String)Unit">error</a><span class="delimiter">(</span><a href="#akka.cluster;Cluster.clusterCore.e" title="Throwable">e</a>, <span title="String(&quot;Failed to startup Cluster. You can try to increase \'akka.actor.creation-timeout\'.&quot;)" class="string">&quot;Failed to startup Cluster. You can try to increase 'akka.actor.creation-timeout'.&quot;</span><span class="delimiter">)</span>
        <a href="#akka.cluster;Cluster.shutdown" title="()Unit">shutdown</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="comment">// don't re-throw, that would cause the extension to be re-recreated</span>
        <span class="comment">// from shutdown() or other places, which may result in</span>
        <span class="comment">// InvalidActorNameException: actor name [cluster] is not unique</span>
        <a href="#akka.cluster;Cluster.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a>.<a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.deadLetters" title="=&gt; akka.actor.ActorRef">deadLetters</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  private<span class="delimiter">[</span>cluster<span class="delimiter">]</span> val <a title="akka.cluster.ClusterReadView" id="akka.cluster;Cluster.readView">readView</a>: <a href="ClusterReadView.scala.html#akka.cluster;ClusterReadView" title="akka.cluster.ClusterReadView">ClusterReadView</a> = new <a href="ClusterReadView.scala.html#akka.cluster;ClusterReadView" title="akka.cluster.ClusterReadView">ClusterReadView</a><span class="delimiter">(</span>this<span class="delimiter">)</span>

  <a href="#akka.cluster;Cluster.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a>.<a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.registerOnTermination(e8f142816b)" title="(code: =&gt; Unit)Unit">registerOnTermination</a><span class="delimiter">(</span><a href="#akka.cluster;Cluster.shutdown" title="()Unit">shutdown</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

  if <span class="delimiter">(</span><a href="ClusterSettings.scala.html#akka.cluster;ClusterSettings.JmxEnabled" title="=&gt; Boolean">JmxEnabled</a><span class="delimiter">)</span>
    <a href="#akka.cluster;Cluster.clusterJmx_=" title="(x$1: Option[akka.cluster.ClusterJmx])Unit">clusterJmx</a> = <span class="delimiter">{</span>
      val <a title="akka.cluster.ClusterJmx" id="akka.cluster;Cluster.<local Cluster>.jmx">jmx</a> = new <a href="ClusterJmx.scala.html#akka.cluster;ClusterJmx" title="akka.cluster.ClusterJmx">ClusterJmx</a><span class="delimiter">(</span>this, <a href="#akka.cluster;Cluster.log" title="=&gt; akka.event.LoggingAdapter">log</a><span class="delimiter">)</span>
      <a href="#akka.cluster;Cluster.<local Cluster>.jmx" title="akka.cluster.ClusterJmx">jmx</a>.<a href="ClusterJmx.scala.html#akka.cluster;ClusterJmx.createMBean" title="()Unit">createMBean</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span title="(x: akka.cluster.ClusterJmx)Some[akka.cluster.ClusterJmx]">Some</span><span class="delimiter">(</span><a href="#akka.cluster;Cluster.<local Cluster>.jmx" title="akka.cluster.ClusterJmx">jmx</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <a href="#akka.cluster;Cluster.InfoLogger.logInfo(cc2e600322)" title="(message: String)Unit">logInfo</a><span class="delimiter">(</span><span title="String(&quot;Started up successfully&quot;)" class="string">&quot;Started up successfully&quot;</span><span class="delimiter">)</span>

  <span class="comment">// ======================================================</span>
  <span class="comment">// ===================== PUBLIC API =====================</span>
  <span class="comment">// ======================================================</span>

  <span class="comment">/**
   * Returns true if this cluster instance has be shutdown.
   */</span>
  def <a title="=&gt; Boolean" id="akka.cluster;Cluster.isTerminated">isTerminated</a>: <span title="Boolean">Boolean</span> = <a href="#akka.cluster;Cluster._isTerminated" title="=&gt; java.util.concurrent.atomic.AtomicBoolean">_isTerminated</a>.<span title="()Boolean">get</span>

  <span class="comment">/**
   * Current snapshot state of the cluster.
   */</span>
  def <a title="=&gt; akka.cluster.ClusterEvent.CurrentClusterState" id="akka.cluster;Cluster.state">state</a>: <a href="ClusterEvent.scala.html#akka.cluster.ClusterEvent;CurrentClusterState" title="akka.cluster.ClusterEvent.CurrentClusterState">CurrentClusterState</a> = <a href="#akka.cluster;Cluster.readView" title="=&gt; akka.cluster.ClusterReadView">readView</a>.<a href="ClusterReadView.scala.html#akka.cluster;ClusterReadView.state" title="=&gt; akka.cluster.ClusterEvent.CurrentClusterState">state</a>

  <span class="comment">/**
   * Subscribe to one or more cluster domain events.
   * The `to` classes can be [[akka.cluster.ClusterEvent.ClusterDomainEvent]]
   * or subclasses.
   *
   * A snapshot of [[akka.cluster.ClusterEvent.CurrentClusterState]]
   * will be sent to the subscriber as the first message.
   */</span>
  @varargs def <a title="(subscriber: akka.actor.ActorRef, to: Class[_]*)Unit" id="akka.cluster;Cluster.subscribe(6cfb44d410)">subscribe</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.cluster;Cluster.subscribe(6cfb44d410).subscriber">subscriber</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="Class[_]*" id="akka.cluster;Cluster.subscribe(6cfb44d410).to">to</a>: <span title="Class[_]*">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span>*<span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#akka.cluster;Cluster.subscribe(203d4293a1)" title="(subscriber: akka.actor.ActorRef, initialStateMode: akka.cluster.ClusterEvent.SubscriptionInitialStateMode, to: Class[_]*)Unit">subscribe</a><span class="delimiter">(</span><a href="#akka.cluster;Cluster.subscribe(6cfb44d410).subscriber" title="akka.actor.ActorRef">subscriber</a>, initialStateMode = <a href="ClusterEvent.scala.html#akka.cluster.ClusterEvent.InitialStateAsSnapshot" title="akka.cluster.ClusterEvent.InitialStateAsSnapshot.type">InitialStateAsSnapshot</a>, <a href="#akka.cluster;Cluster.subscribe(6cfb44d410).to" title="Class[_]*">to</a>: _*<span class="delimiter">)</span>

  <span class="comment">/**
   * Subscribe to one or more cluster domain events.
   * The `to` classes can be [[akka.cluster.ClusterEvent.ClusterDomainEvent]]
   * or subclasses.
   *
   * If `initialStateMode` is `ClusterEvent.InitialStateAsEvents` the events corresponding
   * to the current state will be sent to the subscriber to mimic what you would
   * have seen if you were listening to the events when they occurred in the past.
   *
   * If `initialStateMode` is `ClusterEvent.InitialStateAsSnapshot` a snapshot of
   * [[akka.cluster.ClusterEvent.CurrentClusterState]] will be sent to the subscriber as the
   * first message.
   *
   * Note that for large clusters it is more efficient to use `InitialStateAsSnapshot`.
   */</span>
  @varargs def <a title="(subscriber: akka.actor.ActorRef, initialStateMode: akka.cluster.ClusterEvent.SubscriptionInitialStateMode, to: Class[_]*)Unit" id="akka.cluster;Cluster.subscribe(203d4293a1)">subscribe</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.cluster;Cluster.subscribe(203d4293a1).subscriber">subscriber</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="akka.cluster.ClusterEvent.SubscriptionInitialStateMode" id="akka.cluster;Cluster.subscribe(203d4293a1).initialStateMode">initialStateMode</a>: <a href="ClusterEvent.scala.html#akka.cluster.ClusterEvent;SubscriptionInitialStateMode" title="akka.cluster.ClusterEvent.SubscriptionInitialStateMode">SubscriptionInitialStateMode</a>, <a title="Class[_]*" id="akka.cluster;Cluster.subscribe(203d4293a1).to">to</a>: <span title="Class[_]*">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span>*<span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#akka.cluster;Cluster.subscribe(203d4293a1).to" title="Class[_]*">to</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span>, <span title="String(&quot;at least one `ClusterDomainEvent` class is required&quot;)" class="string">&quot;at least one `ClusterDomainEvent` class is required&quot;</span><span class="delimiter">)</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#akka.cluster;Cluster.subscribe(203d4293a1).to" title="Class[_]*">to</a>.<span title="(p: Class[_] =&gt; Boolean)Boolean">forall</span><span class="delimiter">(</span>classOf<span title="Class[akka.cluster.ClusterEvent.ClusterDomainEvent](classOf[akka.cluster.ClusterEvent$$ClusterDomainEvent])" class="delimiter">[</span>ClusterDomainEvent<span class="delimiter">]</span>.<a href="#akka.cluster;Cluster.subscribe(203d4293a1).$anonfun.x$1" title="(x$1: Class[_])Boolean">isAssignableFrom</a><span class="delimiter">)</span>,
      <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;subscribe to `akka.cluster.ClusterEvent.ClusterDomainEvent` or subclasses, was [&quot;)">subscribe to `akka.cluster.ClusterEvent.ClusterDomainEvent` or subclasses, was [$</span><span class="delimiter">{</span><a href="#akka.cluster;Cluster.subscribe(203d4293a1).to" title="Class[_]*">to</a>.<span title="(f: Class[_] =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[Class[_]],String,Seq[String]])Seq[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,String,Seq[String]]" class="delimiter">(</span><a href="#akka.cluster;Cluster.subscribe(203d4293a1).$anonfun.x$1" title="Class[_]">_</a>.<span title="()String">getName</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">}</span><span title="String(&quot;]&quot;)" class="string">]&quot;</span><span class="delimiter">)</span>
    <a href="../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="akka.actor.ScalaActorRef" id="akka.cluster;Cluster.subscribe(203d4293a1).qual$2">clusterCore</a> <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!$default$2" title="akka.actor.ActorRef" id="akka.cluster;Cluster.subscribe(203d4293a1).x$7">!</a> <a href="ClusterDaemon.scala.html#akka.cluster.InternalClusterAction" title="akka.cluster.InternalClusterAction.type">InternalClusterAction</a>.<a href="ClusterDaemon.scala.html#akka.cluster.InternalClusterAction;Subscribe" title="(subscriber: akka.actor.ActorRef, initialStateMode: akka.cluster.ClusterEvent.SubscriptionInitialStateMode, to: Set[Class[_]])akka.cluster.InternalClusterAction.Subscribe">Subscribe</a><a title="akka.cluster.InternalClusterAction.Subscribe" id="akka.cluster;Cluster.subscribe(203d4293a1).x$6" class="delimiter">(</a><a href="#akka.cluster;Cluster.subscribe(203d4293a1).subscriber" title="akka.actor.ActorRef">subscriber</a>, <a href="#akka.cluster;Cluster.subscribe(203d4293a1).initialStateMode" title="akka.cluster.ClusterEvent.SubscriptionInitialStateMode">initialStateMode</a>, <a href="#akka.cluster;Cluster.subscribe(203d4293a1).to" title="Class[_]*">to</a>.<span title="scala.collection.immutable.Set[Class[_]]">toSet</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Unsubscribe to all cluster domain events.
   */</span>
  def <a title="(subscriber: akka.actor.ActorRef)Unit" id="akka.cluster;Cluster.unsubscribe(134bd64d81)">unsubscribe</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.cluster;Cluster.unsubscribe(134bd64d81).subscriber">subscriber</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="akka.actor.ScalaActorRef" id="akka.cluster;Cluster.unsubscribe(134bd64d81).qual$3">clusterCore</a> <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!$default$2" title="akka.actor.ActorRef" id="akka.cluster;Cluster.unsubscribe(134bd64d81).x$9">!</a> <a href="ClusterDaemon.scala.html#akka.cluster.InternalClusterAction" title="akka.cluster.InternalClusterAction.type">InternalClusterAction</a>.<a href="ClusterDaemon.scala.html#akka.cluster.InternalClusterAction;Unsubscribe" title="(subscriber: akka.actor.ActorRef, to: Option[Class[_]])akka.cluster.InternalClusterAction.Unsubscribe">Unsubscribe</a><a title="akka.cluster.InternalClusterAction.Unsubscribe" id="akka.cluster;Cluster.unsubscribe(134bd64d81).x$8" class="delimiter">(</a><a href="#akka.cluster;Cluster.unsubscribe(134bd64d81).subscriber" title="akka.actor.ActorRef">subscriber</a>, <span title="None.type">None</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Unsubscribe to a specific type of cluster domain events,
   * matching previous `subscribe` registration.
   */</span>
  def <a title="(subscriber: akka.actor.ActorRef, to: Class[_])Unit" id="akka.cluster;Cluster.unsubscribe(bc0f6db62f)">unsubscribe</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.cluster;Cluster.unsubscribe(bc0f6db62f).subscriber">subscriber</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="Class[_]" id="akka.cluster;Cluster.unsubscribe(bc0f6db62f).to">to</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="akka.actor.ScalaActorRef" id="akka.cluster;Cluster.unsubscribe(bc0f6db62f).qual$4">clusterCore</a> <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!$default$2" title="akka.actor.ActorRef" id="akka.cluster;Cluster.unsubscribe(bc0f6db62f).x$11">!</a> <a href="ClusterDaemon.scala.html#akka.cluster.InternalClusterAction" title="akka.cluster.InternalClusterAction.type">InternalClusterAction</a>.<a href="ClusterDaemon.scala.html#akka.cluster.InternalClusterAction;Unsubscribe" title="(subscriber: akka.actor.ActorRef, to: Option[Class[_]])akka.cluster.InternalClusterAction.Unsubscribe">Unsubscribe</a><a title="akka.cluster.InternalClusterAction.Unsubscribe" id="akka.cluster;Cluster.unsubscribe(bc0f6db62f).x$10" class="delimiter">(</a><a href="#akka.cluster;Cluster.unsubscribe(bc0f6db62f).subscriber" title="akka.actor.ActorRef">subscriber</a>, <span title="(x: Class[_$3])Some[Class[_$3]]">Some</span><span class="delimiter">(</span><a href="#akka.cluster;Cluster.unsubscribe(bc0f6db62f).to" title="Class[_]">to</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Send current (full) state of the cluster to the specified
   * receiver. If you want this to happen periodically you need to schedule
   * a call to this method yourself. Note that you can also retrieve the current
   * state with [[#state]].
   */</span>
  def <a title="(receiver: akka.actor.ActorRef)Unit" id="akka.cluster;Cluster.sendCurrentClusterState">sendCurrentClusterState</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.cluster;Cluster.sendCurrentClusterState.receiver">receiver</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="akka.actor.ScalaActorRef" id="akka.cluster;Cluster.sendCurrentClusterState.qual$5">clusterCore</a> <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!$default$2" title="akka.actor.ActorRef" id="akka.cluster;Cluster.sendCurrentClusterState.x$13">!</a> <a href="ClusterDaemon.scala.html#akka.cluster.InternalClusterAction" title="akka.cluster.InternalClusterAction.type">InternalClusterAction</a>.<a href="ClusterDaemon.scala.html#akka.cluster.InternalClusterAction;SendCurrentClusterState" title="(receiver: akka.actor.ActorRef)akka.cluster.InternalClusterAction.SendCurrentClusterState">SendCurrentClusterState</a><a title="akka.cluster.InternalClusterAction.SendCurrentClusterState" id="akka.cluster;Cluster.sendCurrentClusterState.x$12" class="delimiter">(</a><a href="#akka.cluster;Cluster.sendCurrentClusterState.receiver" title="akka.actor.ActorRef">receiver</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Try to join this cluster node with the node specified by 'address'.
   * A 'Join(selfAddress)' command is sent to the node to join.
   *
   * An actor system can only join a cluster once. Additional attempts will be ignored.
   * When it has successfully joined it must be restarted to be able to join another
   * cluster or to join the same cluster again.
   */</span>
  def <a title="(address: akka.actor.Address)Unit" id="akka.cluster;Cluster.join">join</a><span class="delimiter">(</span><a title="akka.actor.Address" id="akka.cluster;Cluster.join.address">address</a>: <a href="../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="akka.actor.ScalaActorRef" id="akka.cluster;Cluster.join.qual$6">clusterCore</a> <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!$default$2" title="akka.actor.ActorRef" id="akka.cluster;Cluster.join.x$15">!</a> <a href="ClusterDaemon.scala.html#akka.cluster.ClusterUserAction" title="akka.cluster.ClusterUserAction.type">ClusterUserAction</a>.<a href="ClusterDaemon.scala.html#akka.cluster.ClusterUserAction;JoinTo" title="(address: akka.actor.Address)akka.cluster.ClusterUserAction.JoinTo">JoinTo</a><a title="akka.cluster.ClusterUserAction.JoinTo" id="akka.cluster;Cluster.join.x$14" class="delimiter">(</a><a href="#akka.cluster;Cluster.join.address" title="akka.actor.Address">address</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Join the specified seed nodes without defining them in config.
   * Especially useful from tests when Addresses are unknown before startup time.
   *
   * An actor system can only join a cluster once. Additional attempts will be ignored.
   * When it has successfully joined it must be restarted to be able to join another
   * cluster or to join the same cluster again.
   */</span>
  def <a title="(seedNodes: scala.collection.immutable.Seq[akka.actor.Address])Unit" id="akka.cluster;Cluster.joinSeedNodes(32fe00a5c0)">joinSeedNodes</a><span class="delimiter">(</span><a title="scala.collection.immutable.Seq[akka.actor.Address]" id="akka.cluster;Cluster.joinSeedNodes(32fe00a5c0).seedNodes">seedNodes</a>: immutable.<span title="scala.collection.immutable.Seq[akka.actor.Address]">Seq</span><span class="delimiter">[</span>Address<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="akka.actor.ScalaActorRef" id="akka.cluster;Cluster.joinSeedNodes(32fe00a5c0).qual$7">clusterCore</a> <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!$default$2" title="akka.actor.ActorRef" id="akka.cluster;Cluster.joinSeedNodes(32fe00a5c0).x$17">!</a> <a href="ClusterDaemon.scala.html#akka.cluster.InternalClusterAction" title="akka.cluster.InternalClusterAction.type">InternalClusterAction</a>.<a href="ClusterDaemon.scala.html#akka.cluster.InternalClusterAction;JoinSeedNodes" title="(seedNodes: scala.collection.immutable.IndexedSeq[akka.actor.Address])akka.cluster.InternalClusterAction.JoinSeedNodes">JoinSeedNodes</a><a title="akka.cluster.InternalClusterAction.JoinSeedNodes" id="akka.cluster;Cluster.joinSeedNodes(32fe00a5c0).x$16" class="delimiter">(</a><a href="#akka.cluster;Cluster.joinSeedNodes(32fe00a5c0).seedNodes" title="scala.collection.immutable.Seq[akka.actor.Address]">seedNodes</a>.<span title="=&gt; Vector[akka.actor.Address]">toVector</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Java API
   *
   * Join the specified seed nodes without defining them in config.
   * Especially useful from tests when Addresses are unknown before startup time.
   *
   * An actor system can only join a cluster once. Additional attempts will be ignored.
   * When it has successfully joined it must be restarted to be able to join another
   * cluster or to join the same cluster again.
   */</span>
  def <a title="(seedNodes: java.util.List[akka.actor.Address])Unit" id="akka.cluster;Cluster.joinSeedNodes(450c2ada79)">joinSeedNodes</a><span class="delimiter">(</span><a title="java.util.List[akka.actor.Address]" id="akka.cluster;Cluster.joinSeedNodes(450c2ada79).seedNodes">seedNodes</a>: java.util.<span title="java.util.List[akka.actor.Address]">List</span><span class="delimiter">[</span>Address<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#akka.cluster;Cluster.joinSeedNodes(32fe00a5c0)" title="(seedNodes: scala.collection.immutable.Seq[akka.actor.Address])Unit">joinSeedNodes</a><span class="delimiter">(</span><a href="../../../actor/akka/japi/JavaAPI.scala.html#akka.japi.Util" title="akka.japi.Util.type">Util</a>.<a href="../../../actor/akka/japi/JavaAPI.scala.html#akka.japi.Util.immutableSeq(42d3e3f9ec)" title="(iterable: Iterable[akka.actor.Address])scala.collection.immutable.Seq[akka.actor.Address]">immutableSeq</a><span class="delimiter">(</span><a href="#akka.cluster;Cluster.joinSeedNodes(450c2ada79).seedNodes" title="java.util.List[akka.actor.Address]">seedNodes</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Send command to issue state transition to LEAVING for the node specified by 'address'.
   * The member will go through the status changes [[MemberStatus]] `Leaving` (not published to
   * subscribers) followed by [[MemberStatus]] `Exiting` and finally [[MemberStatus]] `Removed`.
   *
   * Note that this command can be issued to any member in the cluster, not necessarily the
   * one that is leaving. The cluster extension, but not the actor system or JVM, of the
   * leaving member will be shutdown after the leader has changed status of the member to
   * Exiting. Thereafter the member will be removed from the cluster. Normally this is
   * handled automatically, but in case of network failures during this process it might
   * still be necessary to set the node’s status to Down in order to complete the removal.
   */</span>
  def <a title="(address: akka.actor.Address)Unit" id="akka.cluster;Cluster.leave">leave</a><span class="delimiter">(</span><a title="akka.actor.Address" id="akka.cluster;Cluster.leave.address">address</a>: <a href="../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="akka.actor.ScalaActorRef" id="akka.cluster;Cluster.leave.qual$8">clusterCore</a> <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!$default$2" title="akka.actor.ActorRef" id="akka.cluster;Cluster.leave.x$19">!</a> <a href="ClusterDaemon.scala.html#akka.cluster.ClusterUserAction" title="akka.cluster.ClusterUserAction.type">ClusterUserAction</a>.<a href="ClusterDaemon.scala.html#akka.cluster.ClusterUserAction;Leave" title="(address: akka.actor.Address)akka.cluster.ClusterUserAction.Leave">Leave</a><a title="akka.cluster.ClusterUserAction.Leave" id="akka.cluster;Cluster.leave.x$18" class="delimiter">(</a><a href="#akka.cluster;Cluster.leave.address" title="akka.actor.Address">address</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Send command to DOWN the node specified by 'address'.
   *
   * When a member is considered by the failure detector to be unreachable the leader is not
   * allowed to perform its duties, such as changing status of new joining members to 'Up'.
   * The status of the unreachable member must be changed to 'Down', which can be done with
   * this method.
   */</span>
  def <a title="(address: akka.actor.Address)Unit" id="akka.cluster;Cluster.down">down</a><span class="delimiter">(</span><a title="akka.actor.Address" id="akka.cluster;Cluster.down.address">address</a>: <a href="../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="akka.actor.ScalaActorRef" id="akka.cluster;Cluster.down.qual$9">clusterCore</a> <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!$default$2" title="akka.actor.ActorRef" id="akka.cluster;Cluster.down.x$21">!</a> <a href="ClusterDaemon.scala.html#akka.cluster.ClusterUserAction" title="akka.cluster.ClusterUserAction.type">ClusterUserAction</a>.<a href="ClusterDaemon.scala.html#akka.cluster.ClusterUserAction;Down" title="(address: akka.actor.Address)akka.cluster.ClusterUserAction.Down">Down</a><a title="akka.cluster.ClusterUserAction.Down" id="akka.cluster;Cluster.down.x$20" class="delimiter">(</a><a href="#akka.cluster;Cluster.down.address" title="akka.actor.Address">address</a><span class="delimiter">)</span>

  <span class="comment">/**
   * The supplied thunk will be run, once, when current cluster member is `Up`.
   * Typically used together with configuration option `akka.cluster.min-nr-of-members`
   * to defer some action, such as starting actors, until the cluster has reached
   * a certain size.
   */</span>
  def <a title="[T](code: =&gt; T)Unit" id="akka.cluster;Cluster.registerOnMemberUp(e8f142816b)">registerOnMemberUp</a><span class="delimiter">[</span><a title="" id="akka.cluster;Cluster.registerOnMemberUp(e8f142816b);T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="akka.cluster;Cluster.registerOnMemberUp(e8f142816b).code">code</a>: ⇒ T<span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#akka.cluster;Cluster.registerOnMemberUp(455ce117c4)" title="(callback: Runnable)Unit">registerOnMemberUp</a><span class="delimiter">(</span>new <a title="&lt;$anon: Runnable&gt; extends Object with Runnable" id="akka.cluster;Cluster.registerOnMemberUp(e8f142816b);$anon">Runnable</a> <span class="delimiter">{</span> def <a title="()Unit" id="akka.cluster;Cluster.registerOnMemberUp(e8f142816b);$anon.run">run</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#akka.cluster;Cluster.registerOnMemberUp(e8f142816b).code" title="=&gt; T">code</a> <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Java API: The supplied callback will be run, once, when current cluster member is `Up`.
   * Typically used together with configuration option `akka.cluster.min-nr-of-members`
   * to defer some action, such as starting actors, until the cluster has reached
   * a certain size.
   */</span>
  def <a title="(callback: Runnable)Unit" id="akka.cluster;Cluster.registerOnMemberUp(455ce117c4)">registerOnMemberUp</a><span class="delimiter">(</span><a title="Runnable" id="akka.cluster;Cluster.registerOnMemberUp(455ce117c4).callback">callback</a>: <span title="Runnable">Runnable</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="akka.actor.ScalaActorRef" id="akka.cluster;Cluster.registerOnMemberUp(455ce117c4).qual$10">clusterDaemons</a> <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!$default$2" title="akka.actor.ActorRef" id="akka.cluster;Cluster.registerOnMemberUp(455ce117c4).x$23">!</a> <a href="ClusterDaemon.scala.html#akka.cluster.InternalClusterAction" title="akka.cluster.InternalClusterAction.type">InternalClusterAction</a>.<a href="ClusterDaemon.scala.html#akka.cluster.InternalClusterAction;AddOnMemberUpListener" title="(callback: Runnable)akka.cluster.InternalClusterAction.AddOnMemberUpListener">AddOnMemberUpListener</a><a title="akka.cluster.InternalClusterAction.AddOnMemberUpListener" id="akka.cluster;Cluster.registerOnMemberUp(455ce117c4).x$22" class="delimiter">(</a><a href="#akka.cluster;Cluster.registerOnMemberUp(455ce117c4).callback" title="Runnable">callback</a><span class="delimiter">)</span>

  <span class="comment">/**
   * The supplied thunk will be run, once, when current cluster member is `Removed`.
   * and if the cluster have been shutdown,that thunk will run on the caller thread immediately.
   * Typically used together `cluster.leave(cluster.selfAddress)` and then `system.shutdown()`.
   */</span>
  def <a title="[T](code: =&gt; T)Unit" id="akka.cluster;Cluster.registerOnMemberRemoved(e8f142816b)">registerOnMemberRemoved</a><span class="delimiter">[</span><a title="" id="akka.cluster;Cluster.registerOnMemberRemoved(e8f142816b);T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="akka.cluster;Cluster.registerOnMemberRemoved(e8f142816b).code">code</a>: ⇒ T<span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#akka.cluster;Cluster.registerOnMemberRemoved(455ce117c4)" title="(callback: Runnable)Unit">registerOnMemberRemoved</a><span class="delimiter">(</span>new <a title="&lt;$anon: Runnable&gt; extends Object with Runnable" id="akka.cluster;Cluster.registerOnMemberRemoved(e8f142816b);$anon">Runnable</a> <span class="delimiter">{</span> override def <a title="()Unit" id="akka.cluster;Cluster.registerOnMemberRemoved(e8f142816b);$anon.run">run</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.cluster;Cluster.registerOnMemberRemoved(e8f142816b).code" title="=&gt; T">code</a> <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Java API: The supplied thunk will be run, once, when current cluster member is `Removed`.
   * and if the cluster have been shutdown,that thunk will run on the caller thread immediately.
   * Typically used together `cluster.leave(cluster.selfAddress)` and then `system.shutdown()`.
   */</span>
  def <a title="(callback: Runnable)Unit" id="akka.cluster;Cluster.registerOnMemberRemoved(455ce117c4)">registerOnMemberRemoved</a><span class="delimiter">(</span><a title="Runnable" id="akka.cluster;Cluster.registerOnMemberRemoved(455ce117c4).callback">callback</a>: <span title="Runnable">Runnable</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#akka.cluster;Cluster._isTerminated" title="=&gt; java.util.concurrent.atomic.AtomicBoolean">_isTerminated</a>.<span title="()Boolean">get</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#akka.cluster;Cluster.registerOnMemberRemoved(455ce117c4).callback" title="Runnable">callback</a>.<span title="()Unit">run</span><span class="delimiter">(</span><span class="delimiter">)</span>
    else
      <a href="../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="akka.actor.ScalaActorRef" id="akka.cluster;Cluster.registerOnMemberRemoved(455ce117c4).qual$11">clusterDaemons</a> <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!$default$2" title="akka.actor.ActorRef" id="akka.cluster;Cluster.registerOnMemberRemoved(455ce117c4).x$25">!</a> <a href="ClusterDaemon.scala.html#akka.cluster.InternalClusterAction" title="akka.cluster.InternalClusterAction.type">InternalClusterAction</a>.<a href="ClusterDaemon.scala.html#akka.cluster.InternalClusterAction;AddOnMemberRemovedListener" title="(callback: Runnable)akka.cluster.InternalClusterAction.AddOnMemberRemovedListener">AddOnMemberRemovedListener</a><a title="akka.cluster.InternalClusterAction.AddOnMemberRemovedListener" id="akka.cluster;Cluster.registerOnMemberRemoved(455ce117c4).x$24" class="delimiter">(</a><a href="#akka.cluster;Cluster.registerOnMemberRemoved(455ce117c4).callback" title="Runnable">callback</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="comment">// ========================================================</span>
  <span class="comment">// ===================== INTERNAL API =====================</span>
  <span class="comment">// ========================================================</span>

  <span class="comment">/**
   * INTERNAL API.
   *
   * Shuts down all connections to other members, the cluster daemon and the periodic gossip and cleanup tasks.
   *
   * Should not called by the user. The user can issue a LEAVE command which will tell the node
   * to go through graceful handoff process `LEAVE -&amp;gt; EXITING -&amp;gt; REMOVED -&amp;gt; SHUTDOWN`.
   */</span>
  private<span class="delimiter">[</span>cluster<span class="delimiter">]</span> def <a title="()Unit" id="akka.cluster;Cluster.shutdown">shutdown</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#akka.cluster;Cluster._isTerminated" title="=&gt; java.util.concurrent.atomic.AtomicBoolean">_isTerminated</a>.<span title="(x$1: Boolean, x$2: Boolean)Boolean">compareAndSet</span><span class="delimiter">(</span>false, true<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#akka.cluster;Cluster.InfoLogger.logInfo(cc2e600322)" title="(message: String)Unit">logInfo</a><span class="delimiter">(</span><span title="String(&quot;Shutting down...&quot;)" class="string">&quot;Shutting down...&quot;</span><span class="delimiter">)</span>

      <a href="#akka.cluster;Cluster.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a>.<a href="../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.stop" title="(actor: akka.actor.ActorRef)Unit">stop</a><span class="delimiter">(</span><a href="#akka.cluster;Cluster.clusterDaemons" title="=&gt; akka.actor.ActorRef">clusterDaemons</a><span class="delimiter">)</span>

      <span class="comment">// readView might be null if init fails before it is created</span>
      if <span class="delimiter">(</span><a href="#akka.cluster;Cluster.readView" title="=&gt; akka.cluster.ClusterReadView">readView</a> <span title="(x$1: Any)Boolean">!=</span> null<span class="delimiter">)</span>
        <a href="#akka.cluster;Cluster.readView" title="=&gt; akka.cluster.ClusterReadView">readView</a>.<a href="ClusterReadView.scala.html#akka.cluster;ClusterReadView.close" title="()Unit">close</a><span class="delimiter">(</span><span class="delimiter">)</span>

      <a href="#akka.cluster;Cluster.closeScheduler" title="()Unit">closeScheduler</a><span class="delimiter">(</span><span class="delimiter">)</span>

      <a href="#akka.cluster;Cluster.clusterJmx_=" title="=&gt; Option[akka.cluster.ClusterJmx]">clusterJmx</a> <span title="(f: akka.cluster.ClusterJmx =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a href="#akka.cluster;Cluster.shutdown.$anonfun.x$2" title="akka.cluster.ClusterJmx">_</a>.<a href="ClusterJmx.scala.html#akka.cluster;ClusterJmx.unregisterMBean" title="()Unit">unregisterMBean</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>

      <a href="#akka.cluster;Cluster.InfoLogger.logInfo(cc2e600322)" title="(message: String)Unit">logInfo</a><span class="delimiter">(</span><span title="String(&quot;Successfully shut down&quot;)" class="string">&quot;Successfully shut down&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  private def <a title="()Unit" id="akka.cluster;Cluster.closeScheduler">closeScheduler</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.cluster;Cluster.scheduler" title="=&gt; akka.actor.Scheduler">scheduler</a> match <span class="delimiter">{</span>
    case <a title="&lt;refinement of akka.actor.Scheduler with java.io.Closeable&gt; extends akka.actor.Scheduler with java.io.Closeable" id="akka.cluster;Cluster.closeScheduler.x">x</a>: <span title="java.io.Closeable">Closeable</span> ⇒ <a href="#akka.cluster;Cluster.closeScheduler.x" title="&lt;refinement of akka.actor.Scheduler with java.io.Closeable&gt; extends akka.actor.Scheduler with java.io.Closeable">x</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span>
    case _            ⇒
  <span class="delimiter">}</span>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  private<span class="delimiter">[</span>cluster<span class="delimiter">]</span> object <a title="Cluster.this.InfoLogger.type" id="akka.cluster;Cluster.InfoLogger">InfoLogger</a> <a href="#akka.cluster;Cluster.InfoLogger" title="Cluster.this.InfoLogger.type" class="delimiter">{</a>

    def <a title="(message: String)Unit" id="akka.cluster;Cluster.InfoLogger.logInfo(cc2e600322)">logInfo</a><span class="delimiter">(</span><a title="String" id="akka.cluster;Cluster.InfoLogger.logInfo(cc2e600322).message">message</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
      if <span class="delimiter">(</span><a href="ClusterSettings.scala.html#akka.cluster;ClusterSettings.LogInfo" title="=&gt; Boolean">LogInfo</a><span class="delimiter">)</span> <a href="#akka.cluster;Cluster.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.info(2f488eb77c)" title="(template: String, arg1: Any, arg2: Any)Unit">info</a><span class="delimiter">(</span><span title="String(&quot;Cluster Node [{}] - {}&quot;)" class="string">&quot;Cluster Node [{}] - {}&quot;</span>, <a href="#akka.cluster;Cluster.selfAddress" title="=&gt; akka.actor.Address">selfAddress</a>, <a href="#akka.cluster;Cluster.InfoLogger.logInfo(cc2e600322).message" title="String">message</a><span class="delimiter">)</span>

    def <a title="(template: String, arg1: Any)Unit" id="akka.cluster;Cluster.InfoLogger.logInfo(dc73c33c91)">logInfo</a><span class="delimiter">(</span><a title="String" id="akka.cluster;Cluster.InfoLogger.logInfo(dc73c33c91).template">template</a>: <span title="String">String</span>, <a title="Any" id="akka.cluster;Cluster.InfoLogger.logInfo(dc73c33c91).arg1">arg1</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
      if <span class="delimiter">(</span><a href="ClusterSettings.scala.html#akka.cluster;ClusterSettings.LogInfo" title="=&gt; Boolean">LogInfo</a><span class="delimiter">)</span> <a href="#akka.cluster;Cluster.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.info(2f488eb77c)" title="(template: String, arg1: Any, arg2: Any)Unit">info</a><span class="delimiter">(</span><span title="String(&quot;Cluster Node [{}] - &quot;)" class="string">&quot;Cluster Node [{}] - &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#akka.cluster;Cluster.InfoLogger.logInfo(dc73c33c91).template" title="String">template</a>, <a href="#akka.cluster;Cluster.selfAddress" title="=&gt; akka.actor.Address">selfAddress</a>, <a href="#akka.cluster;Cluster.InfoLogger.logInfo(dc73c33c91).arg1" title="Any">arg1</a><span class="delimiter">)</span>

    def <a title="(template: String, arg1: Any, arg2: Any)Unit" id="akka.cluster;Cluster.InfoLogger.logInfo(2f488eb77c)">logInfo</a><span class="delimiter">(</span><a title="String" id="akka.cluster;Cluster.InfoLogger.logInfo(2f488eb77c).template">template</a>: <span title="String">String</span>, <a title="Any" id="akka.cluster;Cluster.InfoLogger.logInfo(2f488eb77c).arg1">arg1</a>: <span title="Any">Any</span>, <a title="Any" id="akka.cluster;Cluster.InfoLogger.logInfo(2f488eb77c).arg2">arg2</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
      if <span class="delimiter">(</span><a href="ClusterSettings.scala.html#akka.cluster;ClusterSettings.LogInfo" title="=&gt; Boolean">LogInfo</a><span class="delimiter">)</span> <a href="#akka.cluster;Cluster.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.info(6c666e4343)" title="(template: String, arg1: Any, arg2: Any, arg3: Any)Unit">info</a><span class="delimiter">(</span><span title="String(&quot;Cluster Node [{}] - &quot;)" class="string">&quot;Cluster Node [{}] - &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#akka.cluster;Cluster.InfoLogger.logInfo(2f488eb77c).template" title="String">template</a>, <a href="#akka.cluster;Cluster.selfAddress" title="=&gt; akka.actor.Address">selfAddress</a>, <a href="#akka.cluster;Cluster.InfoLogger.logInfo(2f488eb77c).arg1" title="Any">arg1</a>, <a href="#akka.cluster;Cluster.InfoLogger.logInfo(2f488eb77c).arg2" title="Any">arg2</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span title="AnyRef" class="delimiter">}</span>

        </pre>
    </body>
</html>
