<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>remote/akka/remote/transport/AkkaProtocolTransport.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (C) 2009-2015 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
package akka.remote.transport

import akka.ConfigurationException
import akka.actor.<a href="../../../../actor/akka/actor/FaultHandling.scala.html#akka.actor.SupervisorStrategy" title="akka.actor.SupervisorStrategy.type">SupervisorStrategy</a>.Stop
import akka.actor._
import akka.pattern.pipe
import akka.remote._
import akka.remote.transport.<a href="AbstractTransportAdapter.scala.html#akka.remote.transport.ActorTransportAdapter" title="akka.remote.transport.ActorTransportAdapter.type">ActorTransportAdapter</a>._
import akka.remote.transport.<a href="AkkaPduCodec.scala.html#akka.remote.transport.AkkaPduCodec" title="akka.remote.transport.AkkaPduCodec.type">AkkaPduCodec</a>._
import akka.remote.transport.<a href="#akka.remote.transport.AkkaProtocolTransport" title="akka.remote.transport.AkkaProtocolTransport.type">AkkaProtocolTransport</a>._
import akka.remote.transport.<a href="Transport.scala.html#akka.remote.transport.AssociationHandle" title="akka.remote.transport.AssociationHandle.type">AssociationHandle</a>._
import akka.remote.transport.<a href="#akka.remote.transport.ProtocolStateActor" title="akka.remote.transport.ProtocolStateActor.type">ProtocolStateActor</a>._
import akka.remote.transport.<a href="Transport.scala.html#akka.remote.transport.Transport" title="akka.remote.transport.Transport.type">Transport</a>._
import akka.util.ByteString
import akka.util.<a href="../../../../actor/akka/util/Helpers.scala.html#akka.util.Helpers" title="akka.util.Helpers.type">Helpers</a>.Requiring
import akka.<span class="delimiter">{</span> OnlyCauseStackTrace, AkkaException <span class="delimiter">}</span>
import com.typesafe.config.Config
import scala.collection.immutable
import scala.concurrent.duration._
import scala.concurrent.<span class="delimiter">{</span> Future, Promise <span class="delimiter">}</span>
import scala.util.control.NonFatal
import akka.dispatch.<span class="delimiter">{</span> UnboundedMessageQueueSemantics, RequiresMessageQueue <span class="delimiter">}</span>

@SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
class <a title="class AkkaProtocolException extends akka.AkkaException with akka.OnlyCauseStackTrace" id="akka.remote.transport;AkkaProtocolException">AkkaProtocolException</a><a href="#akka.remote.transport;AkkaProtocolException" title="akka.remote.transport.AkkaProtocolException" class="delimiter">(</a><a title="String" id="akka.remote.transport;AkkaProtocolException.msg">msg</a>: <span title="String">String</span>, <a title="Throwable" id="akka.remote.transport;AkkaProtocolException.cause">cause</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span> extends <a href="../../../../actor/akka/AkkaException.scala.html#akka;AkkaException" title="akka.AkkaException">AkkaException</a><span class="delimiter">(</span><a href="#akka.remote.transport;AkkaProtocolException.msg" title="String">msg</a>, <a href="#akka.remote.transport;AkkaProtocolException.cause" title="Throwable">cause</a><span class="delimiter">)</span> with <a href="../../../../actor/akka/AkkaException.scala.html#akka;OnlyCauseStackTrace" title="akka.OnlyCauseStackTrace">OnlyCauseStackTrace</a> <span class="delimiter">{</span>
  def this<span class="delimiter">(</span><a title="String" id="akka.remote.transport;AkkaProtocolException.<init>(a83ef93091).msg">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = this<span class="delimiter">(</span><a href="#akka.remote.transport;AkkaProtocolException.<init>(a83ef93091).msg" title="String">msg</a>, null<span class="delimiter">)</span>
<span class="delimiter">}</span>

private<span class="delimiter">[</span>remote<span class="delimiter">]</span> class <a title="class AkkaProtocolSettings extends AnyRef" id="akka.remote.transport;AkkaProtocolSettings">AkkaProtocolSettings</a><a href="#akka.remote.transport;AkkaProtocolSettings" title="akka.remote.transport.AkkaProtocolSettings" class="delimiter">(</a><a title="com.typesafe.config.Config" id="akka.remote.transport;AkkaProtocolSettings.config">config</a>: <span title="com.typesafe.config.Config">Config</span><span class="delimiter">)</span> <span class="delimiter">{</span>

  import akka.util.<a href="../../../../actor/akka/util/Helpers.scala.html#akka.util.Helpers" title="akka.util.Helpers.type">Helpers</a>.ConfigOps
  import <a href="#akka.remote.transport;AkkaProtocolSettings.config" title="com.typesafe.config.Config">config</a>._

  val <a title="com.typesafe.config.Config" id="akka.remote.transport;AkkaProtocolSettings.TransportFailureDetectorConfig">TransportFailureDetectorConfig</a>: <span title="com.typesafe.config.Config">Config</span> = <a href="#akka.remote.transport;AkkaProtocolSettings.config" title="(x$1: String)com.typesafe.config.Config">getConfig</a><span class="delimiter">(</span><span title="String(&quot;akka.remote.transport-failure-detector&quot;)" class="string">&quot;akka.remote.transport-failure-detector&quot;</span><span class="delimiter">)</span>
  val <a title="String" id="akka.remote.transport;AkkaProtocolSettings.TransportFailureDetectorImplementationClass">TransportFailureDetectorImplementationClass</a>: <span title="String">String</span> = <a href="#akka.remote.transport;AkkaProtocolSettings.TransportFailureDetectorConfig" title="=&gt; com.typesafe.config.Config">TransportFailureDetectorConfig</a>.<span title="(x$1: String)String">getString</span><span class="delimiter">(</span><span title="String(&quot;implementation-class&quot;)" class="string">&quot;implementation-class&quot;</span><span class="delimiter">)</span>
  val TransportHeartBeatInterval: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span> = <span class="delimiter">{</span>
    <a href="../../../../actor/akka/util/Helpers.scala.html#akka.util.Helpers.ConfigOps(7001b1cdb7)" title="implicit akka.util.Helpers.ConfigOps : (config: com.typesafe.config.Config)akka.util.Helpers.ConfigOps">TransportFailureDetectorConfig</a>.<a href="../../../../actor/akka/util/Helpers.scala.html#akka.util.Helpers;ConfigOps.getMillisDuration" title="(path: String)scala.concurrent.duration.FiniteDuration">getMillisDuration</a><a href="../../../../actor/akka/util/Helpers.scala.html#akka.util.Helpers.Requiring(1ee601cfa2)" title="(value: scala.concurrent.duration.FiniteDuration)akka.util.Helpers.Requiring[scala.concurrent.duration.FiniteDuration]" class="delimiter">(</a><span title="String(&quot;heartbeat-interval&quot;)" class="string">&quot;heartbeat-interval&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span> <a href="../../../../actor/akka/util/Helpers.scala.html#akka.util.Helpers;Requiring.requiring(734662848f)" title="scala.concurrent.duration.FiniteDuration" id="akka.remote.transport;AkkaProtocolSettings.TransportHeartBeatInterval">requiring</a> <span class="delimiter">(</span><a href="#akka.remote.transport;AkkaProtocolSettings.TransportHeartBeatInterval.$anonfun.x$1" title="scala.concurrent.duration.FiniteDuration">_</a> <span title="(that: scala.concurrent.duration.Duration)Boolean">&gt;</span> <span title="scala.concurrent.duration.Duration.type">Duration</span>.<span title="=&gt; scala.concurrent.duration.FiniteDuration">Zero</span>, <span title="String(&quot;transport-failure-detector.heartbeat-interval must be &gt; 0&quot;)" class="string">&quot;transport-failure-detector.heartbeat-interval must be &gt; 0&quot;</span><span class="delimiter">)</span>

  val <a title="Boolean" id="akka.remote.transport;AkkaProtocolSettings.RequireCookie">RequireCookie</a>: <span title="Boolean">Boolean</span> = <a href="#akka.remote.transport;AkkaProtocolSettings.config" title="(x$1: String)Boolean">getBoolean</a><span class="delimiter">(</span><span title="String(&quot;akka.remote.require-cookie&quot;)" class="string">&quot;akka.remote.require-cookie&quot;</span><span class="delimiter">)</span>

  val <a title="Option[String]" id="akka.remote.transport;AkkaProtocolSettings.SecureCookie">SecureCookie</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = if <span class="delimiter">(</span><a href="#akka.remote.transport;AkkaProtocolSettings.RequireCookie" title="=&gt; Boolean">RequireCookie</a><span class="delimiter">)</span> <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="#akka.remote.transport;AkkaProtocolSettings.config" title="(x$1: String)String">getString</a><span class="delimiter">(</span><span title="String(&quot;akka.remote.secure-cookie&quot;)" class="string">&quot;akka.remote.secure-cookie&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> else <span title="None.type">None</span>
<span class="delimiter">}</span>

private<span class="delimiter">[</span>remote<span class="delimiter">]</span> object <a title="akka.remote.transport.AkkaProtocolTransport.type" id="akka.remote.transport.AkkaProtocolTransport">AkkaProtocolTransport</a> <a href="#akka.remote.transport.AkkaProtocolTransport" title="akka.remote.transport.AkkaProtocolTransport.type" class="delimiter">{</a> <span class="comment">//Couldn't these go into the Remoting Extension/ RemoteSettings instead?</span>
  val <a title="String" id="akka.remote.transport.AkkaProtocolTransport.AkkaScheme">AkkaScheme</a>: <span title="String">String</span> = <span title="String(&quot;akka&quot;)" class="string">&quot;akka&quot;</span>
  val <a title="Int" id="akka.remote.transport.AkkaProtocolTransport.AkkaOverhead">AkkaOverhead</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span> <span class="comment">//Don't know yet</span>
  val <a title="java.util.concurrent.atomic.AtomicInteger" id="akka.remote.transport.AkkaProtocolTransport.UniqueId">UniqueId</a> = new java.util.concurrent.atomic.<span title="java.util.concurrent.atomic.AtomicInteger">AtomicInteger</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>

  final case class <a title="class AssociateUnderlyingRefuseUid extends AnyRef with akka.actor.NoSerializationVerificationNeeded with Product with Serializable" id="akka.remote.transport.AkkaProtocolTransport.AssociateUnderlyingRefuseUid.readResolve">AssociateUnderlyingRefuseUid</a><span title="Product" class="delimiter">(</span>
    <a title="akka.actor.Address" id="akka.remote.transport.AkkaProtocolTransport;AssociateUnderlyingRefuseUid.remoteAddress">remoteAddress</a>: <a href="../../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a>,
    <a title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]" id="akka.remote.transport.AkkaProtocolTransport;AssociateUnderlyingRefuseUid.statusPromise">statusPromise</a>: <span title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">Promise</span><span class="delimiter">[</span>AssociationHandle<span class="delimiter">]</span>,
    <a title="Option[Int]" id="akka.remote.transport.AkkaProtocolTransport;AssociateUnderlyingRefuseUid.refuseUid">refuseUid</a>: <span title="Option[Int]">Option</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">)</span> extends <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;NoSerializationVerificationNeeded" title="akka.actor.NoSerializationVerificationNeeded">NoSerializationVerificationNeeded</a>
<span class="delimiter">}</span>

final case class <a title="class HandshakeInfo extends AnyRef with Product with Serializable" id="akka.remote.transport.HandshakeInfo.readResolve">HandshakeInfo</a><a href="#akka.remote.transport.HandshakeInfo.readResolve" title="Product" class="delimiter">(</a><a title="akka.actor.Address" id="akka.remote.transport;HandshakeInfo.origin">origin</a>: <a href="../../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a>, <a title="Int" id="akka.remote.transport;HandshakeInfo.uid">uid</a>: <span title="Int">Int</span>, <a title="Option[String]" id="akka.remote.transport;HandshakeInfo.cookie">cookie</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>

<span class="comment">/**
 * Implementation of the Akka protocol as a Transport that wraps an underlying Transport instance.
 *
 * Features provided by this transport are:
 *  - Soft-state associations via the use of heartbeats and failure detectors
 *  - Secure-cookie handling
 *  - Transparent origin address handling
 *  - pluggable codecs to encode and decode Akka PDUs
 *
 * It is not possible to load this transport dynamically using the configuration of remoting, because it does not
 * expose a constructor with [[com.typesafe.config.Config]] and [[akka.actor.ExtendedActorSystem]] parameters.
 * This transport is instead loaded automatically by [[akka.remote.Remoting]] to wrap all the dynamically loaded
 * transports.
 *
 * @param wrappedTransport
 *   the underlying transport that will be used for communication
 * @param system
 *   the actor system
 * @param settings
 *   the configuration options of the Akka protocol
 * @param codec
 *   the codec that will be used to encode/decode Akka PDUs
 */</span>
private<span class="delimiter">[</span>remote<span class="delimiter">]</span> class <a title="class AkkaProtocolTransport extends akka.remote.transport.ActorTransportAdapter" id="akka.remote.transport;AkkaProtocolTransport">AkkaProtocolTransport</a><a href="#akka.remote.transport;AkkaProtocolTransport" title="akka.remote.transport.AkkaProtocolTransport" class="delimiter">(</a>
  <a title="akka.remote.transport.Transport" id="akka.remote.transport;AkkaProtocolTransport.wrappedTransport">wrappedTransport</a>: <a href="Transport.scala.html#akka.remote.transport;Transport" title="akka.remote.transport.Transport">Transport</a>,
  private val <a title="akka.actor.ActorSystem" id="akka.remote.transport;AkkaProtocolTransport.system">system</a>: <a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem" title="akka.actor.ActorSystem">ActorSystem</a>,
  private val <a title="akka.remote.transport.AkkaProtocolSettings" id="akka.remote.transport;AkkaProtocolTransport.settings">settings</a>: <a href="#akka.remote.transport;AkkaProtocolSettings" title="akka.remote.transport.AkkaProtocolSettings">AkkaProtocolSettings</a>,
  private val <a title="akka.remote.transport.AkkaPduCodec" id="akka.remote.transport;AkkaProtocolTransport.codec">codec</a>: <a href="AkkaPduCodec.scala.html#akka.remote.transport;AkkaPduCodec" title="akka.remote.transport.AkkaPduCodec">AkkaPduCodec</a><span class="delimiter">)</span> extends <a href="AbstractTransportAdapter.scala.html#akka.remote.transport;ActorTransportAdapter" title="akka.remote.transport.ActorTransportAdapter">ActorTransportAdapter</a><span class="delimiter">(</span><a href="#akka.remote.transport;AkkaProtocolTransport.wrappedTransport" title="akka.remote.transport.Transport">wrappedTransport</a>, <a href="#akka.remote.transport;AkkaProtocolTransport.system" title="akka.actor.ActorSystem">system</a><span class="delimiter">)</span> <span class="delimiter">{</span>

  override val <a title="String" id="akka.remote.transport;AkkaProtocolTransport.addedSchemeIdentifier">addedSchemeIdentifier</a>: <span title="String">String</span> = <a href="#akka.remote.transport.AkkaProtocolTransport.AkkaScheme" title="=&gt; String">AkkaScheme</a>

  override def <a title="(cmd: Any)scala.concurrent.Future[Boolean]" id="akka.remote.transport;AkkaProtocolTransport.managementCommand">managementCommand</a><span class="delimiter">(</span><a title="Any" id="akka.remote.transport;AkkaProtocolTransport.managementCommand.cmd">cmd</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="scala.concurrent.Future[Boolean]">Future</span><span class="delimiter">[</span>Boolean<span class="delimiter">]</span> = <a href="#akka.remote.transport;AkkaProtocolTransport.wrappedTransport" title="akka.remote.transport.Transport">wrappedTransport</a>.<a href="Transport.scala.html#akka.remote.transport;Transport.managementCommand" title="(cmd: Any)scala.concurrent.Future[Boolean]">managementCommand</a><span class="delimiter">(</span><a href="#akka.remote.transport;AkkaProtocolTransport.managementCommand.cmd" title="Any">cmd</a><span class="delimiter">)</span>

  def <a title="(remoteAddress: akka.actor.Address, refuseUid: Option[Int])scala.concurrent.Future[akka.remote.transport.AkkaProtocolHandle]" id="akka.remote.transport;AkkaProtocolTransport.associate(c7d880f1cc)">associate</a><span class="delimiter">(</span><a title="akka.actor.Address" id="akka.remote.transport;AkkaProtocolTransport.associate(c7d880f1cc).remoteAddress">remoteAddress</a>: <a href="../../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a>, <a title="Option[Int]" id="akka.remote.transport;AkkaProtocolTransport.associate(c7d880f1cc).refuseUid">refuseUid</a>: <span title="Option[Int]">Option</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scala.concurrent.Future[akka.remote.transport.AkkaProtocolHandle]">Future</span><span class="delimiter">[</span>AkkaProtocolHandle<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// Prepare a future, and pass its promise to the manager</span>
    val <a title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]" id="akka.remote.transport;AkkaProtocolTransport.associate(c7d880f1cc).statusPromise">statusPromise</a>: <span title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">Promise</span><span class="delimiter">[</span>AssociationHandle<span class="delimiter">]</span> = <span title="()scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">Promise</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="akka.actor.ScalaActorRef" id="akka.remote.transport;AkkaProtocolTransport.associate(c7d880f1cc).qual$1">manager</a> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!$default$2" title="akka.actor.ActorRef" id="akka.remote.transport;AkkaProtocolTransport.associate(c7d880f1cc).x$8">!</a> <a href="#akka.remote.transport.AkkaProtocolTransport.AssociateUnderlyingRefuseUid.readResolve" title="(remoteAddress: akka.actor.Address, statusPromise: scala.concurrent.Promise[akka.remote.transport.AssociationHandle], refuseUid: Option[Int])akka.remote.transport.AkkaProtocolTransport.AssociateUnderlyingRefuseUid">AssociateUnderlyingRefuseUid</a><a title="akka.remote.transport.AkkaProtocolTransport.AssociateUnderlyingRefuseUid" id="akka.remote.transport;AkkaProtocolTransport.associate(c7d880f1cc).x$7" class="delimiter">(</a><a href="AbstractTransportAdapter.scala.html#akka.remote.transport;SchemeAugmenter.removeScheme(fd9ba7b3a8)" title="(address: akka.actor.Address)akka.actor.Address">removeScheme</a><span class="delimiter">(</span><a href="#akka.remote.transport;AkkaProtocolTransport.associate(c7d880f1cc).remoteAddress" title="akka.actor.Address">remoteAddress</a><span class="delimiter">)</span>, <a href="#akka.remote.transport;AkkaProtocolTransport.associate(c7d880f1cc).statusPromise" title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">statusPromise</a>, <a href="#akka.remote.transport;AkkaProtocolTransport.associate(c7d880f1cc).refuseUid" title="Option[Int]">refuseUid</a><span class="delimiter">)</span>

    <a href="#akka.remote.transport;AkkaProtocolTransport.associate(c7d880f1cc).statusPromise" title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">statusPromise</a>.<span title="=&gt; scala.concurrent.Future[akka.remote.transport.AssociationHandle]">future</span>.<span title="[S](implicit tag: scala.reflect.ClassTag[S])scala.concurrent.Future[S]">mapTo</span><span title="(implicit tag: scala.reflect.ClassTag[akka.remote.transport.AkkaProtocolHandle])scala.concurrent.Future[akka.remote.transport.AkkaProtocolHandle]" class="delimiter">[</span><a href="#akka.remote.transport;AkkaProtocolHandle" title="akka.remote.transport.AkkaProtocolHandle">AkkaProtocolHandle</a><span class="delimiter">]</span>
  <span class="delimiter">}</span>

  override val <a title="Int" id="akka.remote.transport;AkkaProtocolTransport.maximumOverhead">maximumOverhead</a>: <span title="Int">Int</span> = <a href="#akka.remote.transport.AkkaProtocolTransport" title="akka.remote.transport.AkkaProtocolTransport.type">AkkaProtocolTransport</a>.<a href="#akka.remote.transport.AkkaProtocolTransport.AkkaOverhead" title="=&gt; Int">AkkaOverhead</a>
  protected def <a title="=&gt; String" id="akka.remote.transport;AkkaProtocolTransport.managerName">managerName</a> = <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;akkaprotocolmanager.&quot;)">akkaprotocolmanager.$</span><span class="delimiter">{</span><a href="#akka.remote.transport;AkkaProtocolTransport.wrappedTransport" title="akka.remote.transport.Transport">wrappedTransport</a>.<a href="Transport.scala.html#akka.remote.transport;Transport.schemeIdentifier" title="=&gt; String">schemeIdentifier</a><span class="delimiter">}</span><span title="String(&quot;&quot;)">$</span><span class="delimiter">{</span><a href="#akka.remote.transport.AkkaProtocolTransport.UniqueId" title="=&gt; java.util.concurrent.atomic.AtomicInteger">UniqueId</a>.<span title="()Int">getAndIncrement</span><span class="delimiter">}</span><span title="String(&quot;&quot;)" class="string">&quot;</span>
  protected def <a title="=&gt; akka.actor.Props" id="akka.remote.transport;AkkaProtocolTransport.managerProps">managerProps</a> = <span class="delimiter">{</span>
    val <a title="akka.remote.transport.Transport" id="akka.remote.transport;AkkaProtocolTransport.managerProps.wt">wt</a> = <a href="#akka.remote.transport;AkkaProtocolTransport.wrappedTransport" title="akka.remote.transport.Transport">wrappedTransport</a>
    val <a title="akka.remote.transport.AkkaProtocolSettings" id="akka.remote.transport;AkkaProtocolTransport.managerProps.s">s</a> = <a href="#akka.remote.transport;AkkaProtocolTransport.settings" title="=&gt; akka.remote.transport.AkkaProtocolSettings">settings</a>
    <a href="../../../../actor/akka/actor/Props.scala.html#akka.actor.Props.apply(0870a176b3)" title="(clazz: Class[_], args: Any*)akka.actor.Props">Props</a><span class="delimiter">(</span>classOf<span title="Class[akka.remote.transport.AkkaProtocolManager](classOf[akka.remote.transport.AkkaProtocolManager])" class="delimiter">[</span>AkkaProtocolManager<span class="delimiter">]</span>, <a href="#akka.remote.transport;AkkaProtocolTransport.managerProps.wt" title="akka.remote.transport.Transport">wt</a>, <a href="#akka.remote.transport;AkkaProtocolTransport.managerProps.s" title="akka.remote.transport.AkkaProtocolSettings">s</a><span class="delimiter">)</span>.<a href="../../../../actor/akka/actor/Props.scala.html#akka.actor;Props.withDeploy" title="(d: akka.actor.Deploy)akka.actor.Props">withDeploy</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Deployer.scala.html#akka.actor.Deploy" title="akka.actor.Deploy.type">Deploy</a>.<a href="../../../../actor/akka/actor/Deployer.scala.html#akka.actor.Deploy.local" title="=&gt; akka.actor.Deploy">local</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

private<span class="delimiter">[</span>transport<span class="delimiter">]</span> class <a title="class AkkaProtocolManager extends akka.remote.transport.ActorTransportAdapterManager" id="akka.remote.transport;AkkaProtocolManager">AkkaProtocolManager</a><a href="#akka.remote.transport;AkkaProtocolManager" title="akka.remote.transport.AkkaProtocolManager" class="delimiter">(</a>
  private val <a title="akka.remote.transport.Transport" id="akka.remote.transport;AkkaProtocolManager.wrappedTransport">wrappedTransport</a>: <a href="Transport.scala.html#akka.remote.transport;Transport" title="akka.remote.transport.Transport">Transport</a>,
  private val <a title="akka.remote.transport.AkkaProtocolSettings" id="akka.remote.transport;AkkaProtocolManager.settings">settings</a>: <a href="#akka.remote.transport;AkkaProtocolSettings" title="akka.remote.transport.AkkaProtocolSettings">AkkaProtocolSettings</a><span class="delimiter">)</span>
  extends <a href="AbstractTransportAdapter.scala.html#akka.remote.transport;ActorTransportAdapterManager" title="akka.remote.transport.ActorTransportAdapterManager">ActorTransportAdapterManager</a> <span class="delimiter">{</span>

  <span class="comment">// The AkkaProtocolTransport does not handle the recovery of associations, this task is implemented in the</span>
  <span class="comment">// remoting itself. Hence the strategy Stop.</span>
  override val <a title="akka.actor.OneForOneStrategy" id="akka.remote.transport;AkkaProtocolManager.supervisorStrategy">supervisorStrategy</a> = <a href="../../../../actor/akka/actor/FaultHandling.scala.html#akka.actor;OneForOneStrategy" title="(maxNrOfRetries: Int, withinTimeRange: scala.concurrent.duration.Duration, loggingEnabled: Boolean)(decider: akka.actor.SupervisorStrategy.Decider)akka.actor.OneForOneStrategy">OneForOneStrategy</a><span class="delimiter">(</span><span class="delimiter">)</span> <a title="&lt;$anon: Throwable =&gt; akka.actor.SupervisorStrategy.Directive&gt; extends scala.runtime.AbstractPartialFunction[Throwable,akka.actor.SupervisorStrategy.Directive] with Serializable" id="akka.remote.transport;AkkaProtocolManager.supervisorStrategy;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    case <a href="#akka.remote.transport;AkkaProtocolManager.supervisorStrategy;$anonfun.applyOrElse.<unapply-selector>" title="(t: Throwable)Option[Throwable]">NonFatal</a><span class="delimiter">(</span>_<span class="delimiter">)</span> ⇒ <a href="../../../../actor/akka/actor/FaultHandling.scala.html#akka.actor.SupervisorStrategy.Stop" title="akka.actor.SupervisorStrategy.Stop.type">Stop</a>
  <span class="delimiter">}</span>

  private def <a title="(remoteAddress: akka.actor.Address)String" id="akka.remote.transport;AkkaProtocolManager.actorNameFor">actorNameFor</a><span class="delimiter">(</span><a title="akka.actor.Address" id="akka.remote.transport;AkkaProtocolManager.actorNameFor.remoteAddress">remoteAddress</a>: <a href="../../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a><span class="delimiter">)</span>: <span title="String">String</span> =
    <span title="String(&quot;akkaProtocol-&quot;)" class="string">&quot;akkaProtocol-&quot;</span> <span title="(x$1: Any)String">+</span> <a href="../Remoting.scala.html#akka.remote.AddressUrlEncoder.apply" title="(address: akka.actor.Address)String">AddressUrlEncoder</a><span class="delimiter">(</span><a href="#akka.remote.transport;AkkaProtocolManager.actorNameFor.remoteAddress" title="akka.actor.Address">remoteAddress</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;-&quot;)" class="string">&quot;-&quot;</span> <span title="(x$1: Any)String">+</span> <a href="AbstractTransportAdapter.scala.html#akka.remote.transport;ActorTransportAdapterManager.nextId" title="()Long">nextId</a><span class="delimiter">(</span><span class="delimiter">)</span>

  override def <a title="=&gt; AkkaProtocolManager.this.Receive" id="akka.remote.transport;AkkaProtocolManager.ready">ready</a>: <span title="AkkaProtocolManager.this.Receive">Receive</span> = <a title="&lt;$anon: Any =&gt; Unit&gt; extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="akka.remote.transport;AkkaProtocolManager.ready;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    case InboundAssociation<span class="delimiter">(</span><a title="akka.remote.transport.AssociationHandle" id="akka.remote.transport;AkkaProtocolManager.ready;$anonfun.isDefinedAt.handle">handle</a><span class="delimiter">)</span> ⇒
      val <a title="akka.actor.Address" id="akka.remote.transport;AkkaProtocolManager.ready;$anonfun.applyOrElse.stateActorLocalAddress">stateActorLocalAddress</a> = <a href="AbstractTransportAdapter.scala.html#akka.remote.transport;ActorTransportAdapterManager.localAddress" title="=&gt; akka.actor.Address">localAddress</a>
      val <a title="akka.remote.transport.Transport.AssociationEventListener" id="akka.remote.transport;AkkaProtocolManager.ready;$anonfun.applyOrElse.stateActorAssociationHandler">stateActorAssociationHandler</a> = <a href="AbstractTransportAdapter.scala.html#akka.remote.transport;ActorTransportAdapterManager.associationListener" title="=&gt; akka.remote.transport.Transport.AssociationEventListener">associationListener</a>
      val <a title="akka.remote.transport.AkkaProtocolSettings" id="akka.remote.transport;AkkaProtocolManager.ready;$anonfun.applyOrElse.stateActorSettings">stateActorSettings</a> = <a href="#akka.remote.transport;AkkaProtocolManager.settings" title="=&gt; akka.remote.transport.AkkaProtocolSettings">settings</a>
      val <a title="akka.remote.FailureDetector" id="akka.remote.transport;AkkaProtocolManager.ready;$anonfun.applyOrElse.failureDetector">failureDetector</a> = <a href="#akka.remote.transport;AkkaProtocolManager.createTransportFailureDetector" title="()akka.remote.FailureDetector">createTransportFailureDetector</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.actorOf(874c98419a)" title="(props: akka.actor.Props, name: String)akka.actor.ActorRef">actorOf</a><span title="Unit" class="delimiter">(</span><a href="../../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionId.apply" title="(system: akka.actor.ActorSystem)akka.remote.RARP">RARP</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a><span class="delimiter">)</span>.<a href="../Remoting.scala.html#akka.remote;RARP.configureDispatcher" title="(props: akka.actor.Props)akka.actor.Props">configureDispatcher</a><span class="delimiter">(</span><a href="#akka.remote.transport.ProtocolStateActor" title="akka.remote.transport.ProtocolStateActor.type">ProtocolStateActor</a>.<a href="#akka.remote.transport.ProtocolStateActor.inboundProps" title="(handshakeInfo: akka.remote.transport.HandshakeInfo, wrappedHandle: akka.remote.transport.AssociationHandle, associationListener: akka.remote.transport.Transport.AssociationEventListener, settings: akka.remote.transport.AkkaProtocolSettings, codec: akka.remote.transport.AkkaPduCodec, failureDetector: akka.remote.FailureDetector)akka.actor.Props">inboundProps</a><span class="delimiter">(</span>
        <a href="#akka.remote.transport.HandshakeInfo.readResolve" title="(origin: akka.actor.Address, uid: Int, cookie: Option[String])akka.remote.transport.HandshakeInfo">HandshakeInfo</a><span class="delimiter">(</span><a href="#akka.remote.transport;AkkaProtocolManager.ready;$anonfun.applyOrElse.stateActorLocalAddress" title="akka.actor.Address">stateActorLocalAddress</a>, <a href="../../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionId.apply" title="(system: akka.actor.ActorSystem)akka.remote.AddressUidExtension">AddressUidExtension</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a><span class="delimiter">)</span>.<a href="../AddressUidExtension.scala.html#akka.remote;AddressUidExtension.addressUid" title="=&gt; Int">addressUid</a>, <a href="#akka.remote.transport;AkkaProtocolManager.ready;$anonfun.applyOrElse.stateActorSettings" title="akka.remote.transport.AkkaProtocolSettings">stateActorSettings</a>.<a href="#akka.remote.transport;AkkaProtocolSettings.SecureCookie" title="=&gt; Option[String]">SecureCookie</a><span class="delimiter">)</span>,
        <a href="#akka.remote.transport;AkkaProtocolManager.ready;$anonfun.isDefinedAt.handle" title="akka.remote.transport.AssociationHandle">handle</a>,
        <a href="#akka.remote.transport;AkkaProtocolManager.ready;$anonfun.applyOrElse.stateActorAssociationHandler" title="akka.remote.transport.Transport.AssociationEventListener">stateActorAssociationHandler</a>,
        <a href="#akka.remote.transport;AkkaProtocolManager.ready;$anonfun.applyOrElse.stateActorSettings" title="akka.remote.transport.AkkaProtocolSettings">stateActorSettings</a>,
        <a href="AkkaPduCodec.scala.html#akka.remote.transport.AkkaPduProtobufCodec" title="akka.remote.transport.AkkaPduProtobufCodec.type">AkkaPduProtobufCodec</a>,
        <a href="#akka.remote.transport;AkkaProtocolManager.ready;$anonfun.applyOrElse.failureDetector" title="akka.remote.FailureDetector">failureDetector</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#akka.remote.transport;AkkaProtocolManager.actorNameFor" title="(remoteAddress: akka.actor.Address)String">actorNameFor</a><span class="delimiter">(</span><a href="#akka.remote.transport;AkkaProtocolManager.ready;$anonfun.isDefinedAt.handle" title="akka.remote.transport.AssociationHandle">handle</a>.<a href="Transport.scala.html#akka.remote.transport;AssociationHandle.remoteAddress" title="=&gt; akka.actor.Address">remoteAddress</a><span class="delimiter">)</span><span class="delimiter">)</span>

    case AssociateUnderlying<span class="delimiter">(</span><span title="akka.actor.Address">remoteAddress</span>, <span title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">statusPromise</span><span class="delimiter">)</span> ⇒
      <a href="#akka.remote.transport;AkkaProtocolManager.createOutboundStateActor" title="(remoteAddress: akka.actor.Address, statusPromise: scala.concurrent.Promise[akka.remote.transport.AssociationHandle], refuseUid: Option[Int])Unit">createOutboundStateActor</a><span title="Boolean(true)" class="delimiter">(</span><span title="akka.actor.Address">remoteAddress</span>, <span title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">statusPromise</span>, <span title="None.type">None</span><span class="delimiter">)</span>
    case AssociateUnderlyingRefuseUid<span class="delimiter">(</span><span title="akka.actor.Address">remoteAddress</span>, <span title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">statusPromise</span>, <a title="Option[Int]" id="akka.remote.transport;AkkaProtocolManager.ready;$anonfun.isDefinedAt.refuseUid">refuseUid</a><span class="delimiter">)</span> ⇒
      <a href="#akka.remote.transport;AkkaProtocolManager.createOutboundStateActor" title="(remoteAddress: akka.actor.Address, statusPromise: scala.concurrent.Promise[akka.remote.transport.AssociationHandle], refuseUid: Option[Int])Unit">createOutboundStateActor</a><span title="Boolean(true)" class="delimiter">(</span><span title="akka.actor.Address">remoteAddress</span>, <span title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">statusPromise</span>, <a href="#akka.remote.transport;AkkaProtocolManager.ready;$anonfun.isDefinedAt.refuseUid" title="Option[Int]">refuseUid</a><span class="delimiter">)</span>

  <span class="delimiter">}</span>

  private def <a title="(remoteAddress: akka.actor.Address, statusPromise: scala.concurrent.Promise[akka.remote.transport.AssociationHandle], refuseUid: Option[Int])Unit" id="akka.remote.transport;AkkaProtocolManager.createOutboundStateActor">createOutboundStateActor</a><span class="delimiter">(</span>
    <a title="akka.actor.Address" id="akka.remote.transport;AkkaProtocolManager.createOutboundStateActor.remoteAddress">remoteAddress</a>: <a href="../../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a>,
    <a title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]" id="akka.remote.transport;AkkaProtocolManager.createOutboundStateActor.statusPromise">statusPromise</a>: <span title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">Promise</span><span class="delimiter">[</span>AssociationHandle<span class="delimiter">]</span>,
    <a title="Option[Int]" id="akka.remote.transport;AkkaProtocolManager.createOutboundStateActor.refuseUid">refuseUid</a>: <span title="Option[Int]">Option</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>

    val <a title="akka.actor.Address" id="akka.remote.transport;AkkaProtocolManager.createOutboundStateActor.stateActorLocalAddress">stateActorLocalAddress</a> = <a href="AbstractTransportAdapter.scala.html#akka.remote.transport;ActorTransportAdapterManager.localAddress" title="=&gt; akka.actor.Address">localAddress</a>
    val <a title="akka.remote.transport.AkkaProtocolSettings" id="akka.remote.transport;AkkaProtocolManager.createOutboundStateActor.stateActorSettings">stateActorSettings</a> = <a href="#akka.remote.transport;AkkaProtocolManager.settings" title="=&gt; akka.remote.transport.AkkaProtocolSettings">settings</a>
    val <a title="akka.remote.transport.Transport" id="akka.remote.transport;AkkaProtocolManager.createOutboundStateActor.stateActorWrappedTransport">stateActorWrappedTransport</a> = <a href="#akka.remote.transport;AkkaProtocolManager.wrappedTransport" title="=&gt; akka.remote.transport.Transport">wrappedTransport</a>
    val <a title="akka.remote.FailureDetector" id="akka.remote.transport;AkkaProtocolManager.createOutboundStateActor.failureDetector">failureDetector</a> = <a href="#akka.remote.transport;AkkaProtocolManager.createTransportFailureDetector" title="()akka.remote.FailureDetector">createTransportFailureDetector</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.actorOf(874c98419a)" title="(props: akka.actor.Props, name: String)akka.actor.ActorRef">actorOf</a><span title="Unit" class="delimiter">(</span><a href="../../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionId.apply" title="(system: akka.actor.ActorSystem)akka.remote.RARP">RARP</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a><span class="delimiter">)</span>.<a href="../Remoting.scala.html#akka.remote;RARP.configureDispatcher" title="(props: akka.actor.Props)akka.actor.Props">configureDispatcher</a><span class="delimiter">(</span><a href="#akka.remote.transport.ProtocolStateActor" title="akka.remote.transport.ProtocolStateActor.type">ProtocolStateActor</a>.<a href="#akka.remote.transport.ProtocolStateActor.outboundProps" title="(handshakeInfo: akka.remote.transport.HandshakeInfo, remoteAddress: akka.actor.Address, statusPromise: scala.concurrent.Promise[akka.remote.transport.AssociationHandle], transport: akka.remote.transport.Transport, settings: akka.remote.transport.AkkaProtocolSettings, codec: akka.remote.transport.AkkaPduCodec, failureDetector: akka.remote.FailureDetector, refuseUid: Option[Int])akka.actor.Props">outboundProps</a><span class="delimiter">(</span>
      <a href="#akka.remote.transport.HandshakeInfo.readResolve" title="(origin: akka.actor.Address, uid: Int, cookie: Option[String])akka.remote.transport.HandshakeInfo">HandshakeInfo</a><span class="delimiter">(</span><a href="#akka.remote.transport;AkkaProtocolManager.createOutboundStateActor.stateActorLocalAddress" title="akka.actor.Address">stateActorLocalAddress</a>, <a href="../../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionId.apply" title="(system: akka.actor.ActorSystem)akka.remote.AddressUidExtension">AddressUidExtension</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a><span class="delimiter">)</span>.<a href="../AddressUidExtension.scala.html#akka.remote;AddressUidExtension.addressUid" title="=&gt; Int">addressUid</a>, <a href="#akka.remote.transport;AkkaProtocolManager.createOutboundStateActor.stateActorSettings" title="akka.remote.transport.AkkaProtocolSettings">stateActorSettings</a>.<a href="#akka.remote.transport;AkkaProtocolSettings.SecureCookie" title="=&gt; Option[String]">SecureCookie</a><span class="delimiter">)</span>,
      <a href="#akka.remote.transport;AkkaProtocolManager.createOutboundStateActor.remoteAddress" title="akka.actor.Address">remoteAddress</a>,
      <a href="#akka.remote.transport;AkkaProtocolManager.createOutboundStateActor.statusPromise" title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">statusPromise</a>,
      <a href="#akka.remote.transport;AkkaProtocolManager.createOutboundStateActor.stateActorWrappedTransport" title="akka.remote.transport.Transport">stateActorWrappedTransport</a>,
      <a href="#akka.remote.transport;AkkaProtocolManager.createOutboundStateActor.stateActorSettings" title="akka.remote.transport.AkkaProtocolSettings">stateActorSettings</a>,
      <a href="AkkaPduCodec.scala.html#akka.remote.transport.AkkaPduProtobufCodec" title="akka.remote.transport.AkkaPduProtobufCodec.type">AkkaPduProtobufCodec</a>,
      <a href="#akka.remote.transport;AkkaProtocolManager.createOutboundStateActor.failureDetector" title="akka.remote.FailureDetector">failureDetector</a>,
      <a href="#akka.remote.transport;AkkaProtocolManager.createOutboundStateActor.refuseUid" title="Option[Int]">refuseUid</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#akka.remote.transport;AkkaProtocolManager.actorNameFor" title="(remoteAddress: akka.actor.Address)String">actorNameFor</a><span class="delimiter">(</span><a href="#akka.remote.transport;AkkaProtocolManager.createOutboundStateActor.remoteAddress" title="akka.actor.Address">remoteAddress</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private def <a title="()akka.remote.FailureDetector" id="akka.remote.transport;AkkaProtocolManager.createTransportFailureDetector">createTransportFailureDetector</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../FailureDetector.scala.html#akka.remote;FailureDetector" title="akka.remote.FailureDetector">FailureDetector</a> =
    <a href="../FailureDetectorRegistry.scala.html#akka.remote.FailureDetectorLoader.apply" title="(fqcn: String, config: com.typesafe.config.Config)(implicit ctx: akka.actor.ActorContext)akka.remote.FailureDetector">FailureDetectorLoader</a><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext" class="delimiter">(</a><a href="#akka.remote.transport;AkkaProtocolManager.settings" title="=&gt; akka.remote.transport.AkkaProtocolSettings">settings</a>.<a href="#akka.remote.transport;AkkaProtocolSettings.TransportFailureDetectorImplementationClass" title="=&gt; String">TransportFailureDetectorImplementationClass</a>, <a href="#akka.remote.transport;AkkaProtocolManager.settings" title="=&gt; akka.remote.transport.AkkaProtocolSettings">settings</a>.<a href="#akka.remote.transport;AkkaProtocolSettings.TransportFailureDetectorConfig" title="=&gt; com.typesafe.config.Config">TransportFailureDetectorConfig</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

private<span class="delimiter">[</span>remote<span class="delimiter">]</span> class <a title="class AkkaProtocolHandle extends akka.remote.transport.AbstractTransportAdapterHandle" id="akka.remote.transport;AkkaProtocolHandle">AkkaProtocolHandle</a><a href="#akka.remote.transport;AkkaProtocolHandle" title="akka.remote.transport.AkkaProtocolHandle" class="delimiter">(</a>
  <a title="akka.actor.Address" id="akka.remote.transport;AkkaProtocolHandle._localAddress">_localAddress</a>: <a href="../../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a>,
  <a title="akka.actor.Address" id="akka.remote.transport;AkkaProtocolHandle._remoteAddress">_remoteAddress</a>: <a href="../../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a>,
  val <a title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle.HandleEventListener]" id="akka.remote.transport;AkkaProtocolHandle.readHandlerPromise">readHandlerPromise</a>: <span title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle.HandleEventListener]">Promise</span><span class="delimiter">[</span>HandleEventListener<span class="delimiter">]</span>,
  <a title="akka.remote.transport.AssociationHandle" id="akka.remote.transport;AkkaProtocolHandle._wrappedHandle">_wrappedHandle</a>: <a href="Transport.scala.html#akka.remote.transport;AssociationHandle" title="akka.remote.transport.AssociationHandle">AssociationHandle</a>,
  val <a title="akka.remote.transport.HandshakeInfo" id="akka.remote.transport;AkkaProtocolHandle.handshakeInfo">handshakeInfo</a>: <a href="#akka.remote.transport.HandshakeInfo.readResolve" title="akka.remote.transport.HandshakeInfo">HandshakeInfo</a>,
  private val <a title="akka.actor.ActorRef" id="akka.remote.transport;AkkaProtocolHandle.stateActor">stateActor</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>,
  private val <a title="akka.remote.transport.AkkaPduCodec" id="akka.remote.transport;AkkaProtocolHandle.codec">codec</a>: <a href="AkkaPduCodec.scala.html#akka.remote.transport;AkkaPduCodec" title="akka.remote.transport.AkkaPduCodec">AkkaPduCodec</a><span class="delimiter">)</span>
  extends <a href="AbstractTransportAdapter.scala.html#akka.remote.transport;AbstractTransportAdapterHandle" title="akka.remote.transport.AbstractTransportAdapterHandle">AbstractTransportAdapterHandle</a><span class="delimiter">(</span><a href="#akka.remote.transport;AkkaProtocolHandle._localAddress" title="akka.actor.Address">_localAddress</a>, <a href="#akka.remote.transport;AkkaProtocolHandle._remoteAddress" title="akka.actor.Address">_remoteAddress</a>, <a href="#akka.remote.transport;AkkaProtocolHandle._wrappedHandle" title="akka.remote.transport.AssociationHandle">_wrappedHandle</a>, <a href="#akka.remote.transport.AkkaProtocolTransport.AkkaScheme" title="=&gt; String">AkkaScheme</a><span class="delimiter">)</span> <span class="delimiter">{</span>

  override def <a title="(payload: akka.util.ByteString)Boolean" id="akka.remote.transport;AkkaProtocolHandle.write">write</a><span class="delimiter">(</span><a title="akka.util.ByteString" id="akka.remote.transport;AkkaProtocolHandle.write.payload">payload</a>: <a href="../../../../actor/akka/util/ByteString.scala.html#akka.util;ByteString" title="akka.util.ByteString">ByteString</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="AbstractTransportAdapter.scala.html#akka.remote.transport;AbstractTransportAdapterHandle.wrappedHandle" title="=&gt; akka.remote.transport.AssociationHandle">wrappedHandle</a>.<a href="Transport.scala.html#akka.remote.transport;AssociationHandle.write" title="(payload: akka.util.ByteString)Boolean">write</a><span class="delimiter">(</span><a href="#akka.remote.transport;AkkaProtocolHandle.codec" title="=&gt; akka.remote.transport.AkkaPduCodec">codec</a>.<a href="AkkaPduCodec.scala.html#akka.remote.transport;AkkaPduCodec.constructPayload" title="(payload: akka.util.ByteString)akka.util.ByteString">constructPayload</a><span class="delimiter">(</span><a href="#akka.remote.transport;AkkaProtocolHandle.write.payload" title="akka.util.ByteString">payload</a><span class="delimiter">)</span><span class="delimiter">)</span>

  override def <a title="()Unit" id="akka.remote.transport;AkkaProtocolHandle.disassociate(aa97cb1b3d)">disassociate</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="akka.actor.ScalaActorRef" id="akka.remote.transport;AkkaProtocolHandle.disassociate(aa97cb1b3d).qual$2">stateActor</a> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!$default$2" title="akka.actor.ActorRef" id="akka.remote.transport;AkkaProtocolHandle.disassociate(aa97cb1b3d).x$10">!</a> <a href="AbstractTransportAdapter.scala.html#akka.remote.transport.ActorTransportAdapter;DisassociateUnderlying" title="(info: akka.remote.transport.AssociationHandle.DisassociateInfo)akka.remote.transport.ActorTransportAdapter.DisassociateUnderlying">DisassociateUnderlying</a><a title="akka.remote.transport.ActorTransportAdapter.DisassociateUnderlying" id="akka.remote.transport;AkkaProtocolHandle.disassociate(aa97cb1b3d).x$9" class="delimiter">(</a><a href="Transport.scala.html#akka.remote.transport.AssociationHandle.Unknown" title="akka.remote.transport.AssociationHandle.Unknown.type">Unknown</a><span class="delimiter">)</span>

  def <a title="(info: akka.remote.transport.AssociationHandle.DisassociateInfo)Unit" id="akka.remote.transport;AkkaProtocolHandle.disassociate(79621c8a71)">disassociate</a><span class="delimiter">(</span><a title="akka.remote.transport.AssociationHandle.DisassociateInfo" id="akka.remote.transport;AkkaProtocolHandle.disassociate(79621c8a71).info">info</a>: <a href="Transport.scala.html#akka.remote.transport.AssociationHandle;DisassociateInfo" title="akka.remote.transport.AssociationHandle.DisassociateInfo">DisassociateInfo</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="akka.actor.ScalaActorRef" id="akka.remote.transport;AkkaProtocolHandle.disassociate(79621c8a71).qual$3">stateActor</a> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!$default$2" title="akka.actor.ActorRef" id="akka.remote.transport;AkkaProtocolHandle.disassociate(79621c8a71).x$12">!</a> <a href="AbstractTransportAdapter.scala.html#akka.remote.transport.ActorTransportAdapter;DisassociateUnderlying" title="(info: akka.remote.transport.AssociationHandle.DisassociateInfo)akka.remote.transport.ActorTransportAdapter.DisassociateUnderlying">DisassociateUnderlying</a><a title="akka.remote.transport.ActorTransportAdapter.DisassociateUnderlying" id="akka.remote.transport;AkkaProtocolHandle.disassociate(79621c8a71).x$11" class="delimiter">(</a><a href="#akka.remote.transport;AkkaProtocolHandle.disassociate(79621c8a71).info" title="akka.remote.transport.AssociationHandle.DisassociateInfo">info</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

private<span class="delimiter">[</span>transport<span class="delimiter">]</span> object <a title="akka.remote.transport.ProtocolStateActor.type" id="akka.remote.transport.ProtocolStateActor">ProtocolStateActor</a> <a href="#akka.remote.transport.ProtocolStateActor" title="akka.remote.transport.ProtocolStateActor.type" class="delimiter">{</a>
  sealed trait <a title="trait AssociationState extends AnyRef" id="akka.remote.transport.ProtocolStateActor;AssociationState">AssociationState</a>

  <span class="comment">/*
   * State when the underlying transport is not yet initialized
   * State data can be OutboundUnassociated
   */</span>
  case object <a href="#akka.remote.transport.ProtocolStateActor.Closed.productElement.x$1" title="akka.remote.transport.ProtocolStateActor.Closed.type" id="akka.remote.transport.ProtocolStateActor.Closed.readResolve">Closed</a> extends <a href="#akka.remote.transport.ProtocolStateActor;AssociationState" title="akka.remote.transport.ProtocolStateActor.AssociationState">AssociationState</a>

  <span class="comment">/*
   * State when the underlying transport is initialized, there is an association present, and we are waiting
   * for the first message (has to be CONNECT if inbound).
   * State data can be OutboundUnderlyingAssociated (for outbound associations) or InboundUnassociated (for inbound
   * when upper layer is not notified yet)
   */</span>
  case object <a href="#akka.remote.transport.ProtocolStateActor.WaitHandshake.productElement.x$1" title="akka.remote.transport.ProtocolStateActor.WaitHandshake.type" id="akka.remote.transport.ProtocolStateActor.WaitHandshake.readResolve">WaitHandshake</a> extends <a href="#akka.remote.transport.ProtocolStateActor;AssociationState" title="akka.remote.transport.ProtocolStateActor.AssociationState">AssociationState</a>

  <span class="comment">/*
   * State when the underlying transport is initialized and the handshake succeeded.
   * If the upper layer did not yet provided a handler for incoming messages, state data is AssociatedWaitHandler.
   * If everything is initialized, the state data is HandlerReady
   */</span>
  case object <a href="#akka.remote.transport.ProtocolStateActor.Open.productElement.x$1" title="akka.remote.transport.ProtocolStateActor.Open.type" id="akka.remote.transport.ProtocolStateActor.Open.readResolve">Open</a> extends <a href="#akka.remote.transport.ProtocolStateActor;AssociationState" title="akka.remote.transport.ProtocolStateActor.AssociationState">AssociationState</a>

  case object <a href="#akka.remote.transport.ProtocolStateActor.HeartbeatTimer.productElement.x$1" title="akka.remote.transport.ProtocolStateActor.HeartbeatTimer.type" id="akka.remote.transport.ProtocolStateActor.HeartbeatTimer.readResolve">HeartbeatTimer</a> extends <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;NoSerializationVerificationNeeded" title="akka.actor.NoSerializationVerificationNeeded">NoSerializationVerificationNeeded</a>

  final case class <a title="class Handle extends AnyRef with akka.actor.NoSerializationVerificationNeeded with Product with Serializable" id="akka.remote.transport.ProtocolStateActor.Handle.readResolve">Handle</a><span title="Product" class="delimiter">(</span><a title="akka.remote.transport.AssociationHandle" id="akka.remote.transport.ProtocolStateActor;Handle.handle">handle</a>: <a href="Transport.scala.html#akka.remote.transport;AssociationHandle" title="akka.remote.transport.AssociationHandle">AssociationHandle</a><span class="delimiter">)</span> extends <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;NoSerializationVerificationNeeded" title="akka.actor.NoSerializationVerificationNeeded">NoSerializationVerificationNeeded</a>

  final case class <a title="class HandleListenerRegistered extends AnyRef with akka.actor.NoSerializationVerificationNeeded with Product with Serializable" id="akka.remote.transport.ProtocolStateActor.HandleListenerRegistered.readResolve">HandleListenerRegistered</a><span title="Product" class="delimiter">(</span><a title="akka.remote.transport.AssociationHandle.HandleEventListener" id="akka.remote.transport.ProtocolStateActor;HandleListenerRegistered.listener">listener</a>: <a href="Transport.scala.html#akka.remote.transport.AssociationHandle;HandleEventListener" title="akka.remote.transport.AssociationHandle.HandleEventListener">HandleEventListener</a><span class="delimiter">)</span> extends <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;NoSerializationVerificationNeeded" title="akka.actor.NoSerializationVerificationNeeded">NoSerializationVerificationNeeded</a>

  sealed trait <a title="trait ProtocolStateData extends AnyRef" id="akka.remote.transport.ProtocolStateActor;ProtocolStateData">ProtocolStateData</a>
  trait <a title="trait InitialProtocolStateData extends AnyRef with akka.remote.transport.ProtocolStateActor.ProtocolStateData" id="akka.remote.transport.ProtocolStateActor;InitialProtocolStateData">InitialProtocolStateData</a> extends <a href="#akka.remote.transport.ProtocolStateActor;ProtocolStateData" title="akka.remote.transport.ProtocolStateActor.ProtocolStateData">ProtocolStateData</a>

  <span class="comment">// Neither the underlying, nor the provided transport is associated</span>
  final case class <a title="class OutboundUnassociated extends AnyRef with akka.remote.transport.ProtocolStateActor.InitialProtocolStateData with Product with Serializable" id="akka.remote.transport.ProtocolStateActor.OutboundUnassociated.readResolve">OutboundUnassociated</a><span title="Product" class="delimiter">(</span><a title="akka.actor.Address" id="akka.remote.transport.ProtocolStateActor;OutboundUnassociated.remoteAddress">remoteAddress</a>: <a href="../../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a>, <a title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]" id="akka.remote.transport.ProtocolStateActor;OutboundUnassociated.statusPromise">statusPromise</a>: <span title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">Promise</span><span class="delimiter">[</span>AssociationHandle<span class="delimiter">]</span>, <a title="akka.remote.transport.Transport" id="akka.remote.transport.ProtocolStateActor;OutboundUnassociated.transport">transport</a>: <a href="Transport.scala.html#akka.remote.transport;Transport" title="akka.remote.transport.Transport">Transport</a><span class="delimiter">)</span>
    extends <a href="#akka.remote.transport.ProtocolStateActor;InitialProtocolStateData" title="akka.remote.transport.ProtocolStateActor.InitialProtocolStateData">InitialProtocolStateData</a>

  <span class="comment">// The underlying transport is associated, but the handshake of the akka protocol is not yet finished</span>
  final case class <a title="class OutboundUnderlyingAssociated extends AnyRef with akka.remote.transport.ProtocolStateActor.ProtocolStateData with Product with Serializable" id="akka.remote.transport.ProtocolStateActor.OutboundUnderlyingAssociated.readResolve">OutboundUnderlyingAssociated</a><span title="Product" class="delimiter">(</span><a title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]" id="akka.remote.transport.ProtocolStateActor;OutboundUnderlyingAssociated.statusPromise">statusPromise</a>: <span title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">Promise</span><span class="delimiter">[</span>AssociationHandle<span class="delimiter">]</span>, <a title="akka.remote.transport.AssociationHandle" id="akka.remote.transport.ProtocolStateActor;OutboundUnderlyingAssociated.wrappedHandle">wrappedHandle</a>: <a href="Transport.scala.html#akka.remote.transport;AssociationHandle" title="akka.remote.transport.AssociationHandle">AssociationHandle</a><span class="delimiter">)</span>
    extends <a href="#akka.remote.transport.ProtocolStateActor;ProtocolStateData" title="akka.remote.transport.ProtocolStateActor.ProtocolStateData">ProtocolStateData</a>

  <span class="comment">// The underlying transport is associated, but the handshake of the akka protocol is not yet finished</span>
  final case class <a title="class InboundUnassociated extends AnyRef with akka.remote.transport.ProtocolStateActor.InitialProtocolStateData with Product with Serializable" id="akka.remote.transport.ProtocolStateActor.InboundUnassociated.readResolve">InboundUnassociated</a><span title="Product" class="delimiter">(</span><a title="akka.remote.transport.Transport.AssociationEventListener" id="akka.remote.transport.ProtocolStateActor;InboundUnassociated.associationListener">associationListener</a>: <a href="Transport.scala.html#akka.remote.transport.Transport;AssociationEventListener" title="akka.remote.transport.Transport.AssociationEventListener">AssociationEventListener</a>, <a title="akka.remote.transport.AssociationHandle" id="akka.remote.transport.ProtocolStateActor;InboundUnassociated.wrappedHandle">wrappedHandle</a>: <a href="Transport.scala.html#akka.remote.transport;AssociationHandle" title="akka.remote.transport.AssociationHandle">AssociationHandle</a><span class="delimiter">)</span>
    extends <a href="#akka.remote.transport.ProtocolStateActor;InitialProtocolStateData" title="akka.remote.transport.ProtocolStateActor.InitialProtocolStateData">InitialProtocolStateData</a>

  <span class="comment">// Both transports are associated, but the handler for the handle has not yet been provided</span>
  final case class <a title="class AssociatedWaitHandler extends AnyRef with akka.remote.transport.ProtocolStateActor.ProtocolStateData with Product with Serializable" id="akka.remote.transport.ProtocolStateActor.AssociatedWaitHandler.readResolve">AssociatedWaitHandler</a><span title="Product" class="delimiter">(</span><a title="scala.concurrent.Future[akka.remote.transport.AssociationHandle.HandleEventListener]" id="akka.remote.transport.ProtocolStateActor;AssociatedWaitHandler.handleListener">handleListener</a>: <span title="scala.concurrent.Future[akka.remote.transport.AssociationHandle.HandleEventListener]">Future</span><span class="delimiter">[</span>HandleEventListener<span class="delimiter">]</span>, <a title="akka.remote.transport.AssociationHandle" id="akka.remote.transport.ProtocolStateActor;AssociatedWaitHandler.wrappedHandle">wrappedHandle</a>: <a href="Transport.scala.html#akka.remote.transport;AssociationHandle" title="akka.remote.transport.AssociationHandle">AssociationHandle</a>,
                                         <a title="scala.collection.immutable.Queue[akka.util.ByteString]" id="akka.remote.transport.ProtocolStateActor;AssociatedWaitHandler.queue">queue</a>: immutable.<span title="scala.collection.immutable.Queue[akka.util.ByteString]">Queue</span><span class="delimiter">[</span>ByteString<span class="delimiter">]</span><span class="delimiter">)</span>
    extends <a href="#akka.remote.transport.ProtocolStateActor;ProtocolStateData" title="akka.remote.transport.ProtocolStateActor.ProtocolStateData">ProtocolStateData</a>

  final case class <a title="class ListenerReady extends AnyRef with akka.remote.transport.ProtocolStateActor.ProtocolStateData with Product with Serializable" id="akka.remote.transport.ProtocolStateActor.ListenerReady.readResolve">ListenerReady</a><span title="Product" class="delimiter">(</span><a title="akka.remote.transport.AssociationHandle.HandleEventListener" id="akka.remote.transport.ProtocolStateActor;ListenerReady.listener">listener</a>: <a href="Transport.scala.html#akka.remote.transport.AssociationHandle;HandleEventListener" title="akka.remote.transport.AssociationHandle.HandleEventListener">HandleEventListener</a>, <a title="akka.remote.transport.AssociationHandle" id="akka.remote.transport.ProtocolStateActor;ListenerReady.wrappedHandle">wrappedHandle</a>: <a href="Transport.scala.html#akka.remote.transport;AssociationHandle" title="akka.remote.transport.AssociationHandle">AssociationHandle</a><span class="delimiter">)</span>
    extends <a href="#akka.remote.transport.ProtocolStateActor;ProtocolStateData" title="akka.remote.transport.ProtocolStateActor.ProtocolStateData">ProtocolStateData</a>

  case class <a title="class TimeoutReason extends AnyRef with Product with Serializable" id="akka.remote.transport.ProtocolStateActor.TimeoutReason.readResolve">TimeoutReason</a><a href="#akka.remote.transport.ProtocolStateActor.TimeoutReason.readResolve" title="Product" class="delimiter">(</a><a title="String" id="akka.remote.transport.ProtocolStateActor;TimeoutReason.errorMessage">errorMessage</a>: <span title="String">String</span><span class="delimiter">)</span>
  case object <a href="#akka.remote.transport.ProtocolStateActor.ForbiddenUidReason.productElement.x$1" title="akka.remote.transport.ProtocolStateActor.ForbiddenUidReason.type" id="akka.remote.transport.ProtocolStateActor.ForbiddenUidReason.readResolve">ForbiddenUidReason</a>

  private<span class="delimiter">[</span>remote<span class="delimiter">]</span> def <a title="(handshakeInfo: akka.remote.transport.HandshakeInfo, remoteAddress: akka.actor.Address, statusPromise: scala.concurrent.Promise[akka.remote.transport.AssociationHandle], transport: akka.remote.transport.Transport, settings: akka.remote.transport.AkkaProtocolSettings, codec: akka.remote.transport.AkkaPduCodec, failureDetector: akka.remote.FailureDetector, refuseUid: Option[Int])akka.actor.Props" id="akka.remote.transport.ProtocolStateActor.outboundProps">outboundProps</a><span class="delimiter">(</span>
    <a title="akka.remote.transport.HandshakeInfo" id="akka.remote.transport.ProtocolStateActor.outboundProps.handshakeInfo">handshakeInfo</a>: <a href="#akka.remote.transport.HandshakeInfo.readResolve" title="akka.remote.transport.HandshakeInfo">HandshakeInfo</a>,
    <a title="akka.actor.Address" id="akka.remote.transport.ProtocolStateActor.outboundProps.remoteAddress">remoteAddress</a>: <a href="../../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a>,
    <a title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]" id="akka.remote.transport.ProtocolStateActor.outboundProps.statusPromise">statusPromise</a>: <span title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">Promise</span><span class="delimiter">[</span>AssociationHandle<span class="delimiter">]</span>,
    <a title="akka.remote.transport.Transport" id="akka.remote.transport.ProtocolStateActor.outboundProps.transport">transport</a>: <a href="Transport.scala.html#akka.remote.transport;Transport" title="akka.remote.transport.Transport">Transport</a>,
    <a title="akka.remote.transport.AkkaProtocolSettings" id="akka.remote.transport.ProtocolStateActor.outboundProps.settings">settings</a>: <a href="#akka.remote.transport;AkkaProtocolSettings" title="akka.remote.transport.AkkaProtocolSettings">AkkaProtocolSettings</a>,
    <a title="akka.remote.transport.AkkaPduCodec" id="akka.remote.transport.ProtocolStateActor.outboundProps.codec">codec</a>: <a href="AkkaPduCodec.scala.html#akka.remote.transport;AkkaPduCodec" title="akka.remote.transport.AkkaPduCodec">AkkaPduCodec</a>,
    <a title="akka.remote.FailureDetector" id="akka.remote.transport.ProtocolStateActor.outboundProps.failureDetector">failureDetector</a>: <a href="../FailureDetector.scala.html#akka.remote;FailureDetector" title="akka.remote.FailureDetector">FailureDetector</a>,
    <a title="Option[Int]" id="akka.remote.transport.ProtocolStateActor.outboundProps.refuseUid">refuseUid</a>: <span title="Option[Int]">Option</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../../actor/akka/actor/Props.scala.html#akka.actor;Props" title="akka.actor.Props">Props</a> =
    <a href="../../../../actor/akka/actor/Props.scala.html#akka.actor.Props.apply(0870a176b3)" title="(clazz: Class[_], args: Any*)akka.actor.Props">Props</a><span class="delimiter">(</span>classOf<span title="Class[akka.remote.transport.ProtocolStateActor](classOf[akka.remote.transport.ProtocolStateActor])" class="delimiter">[</span>ProtocolStateActor<span class="delimiter">]</span>, <a href="#akka.remote.transport.ProtocolStateActor.outboundProps.handshakeInfo" title="akka.remote.transport.HandshakeInfo">handshakeInfo</a>, <a href="#akka.remote.transport.ProtocolStateActor.outboundProps.remoteAddress" title="akka.actor.Address">remoteAddress</a>, <a href="#akka.remote.transport.ProtocolStateActor.outboundProps.statusPromise" title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">statusPromise</a>, <a href="#akka.remote.transport.ProtocolStateActor.outboundProps.transport" title="akka.remote.transport.Transport">transport</a>, <a href="#akka.remote.transport.ProtocolStateActor.outboundProps.settings" title="akka.remote.transport.AkkaProtocolSettings">settings</a>, <a href="#akka.remote.transport.ProtocolStateActor.outboundProps.codec" title="akka.remote.transport.AkkaPduCodec">codec</a>,
      <a href="#akka.remote.transport.ProtocolStateActor.outboundProps.failureDetector" title="akka.remote.FailureDetector">failureDetector</a>, <a href="#akka.remote.transport.ProtocolStateActor.outboundProps.refuseUid" title="Option[Int]">refuseUid</a><span class="delimiter">)</span>.<a href="../../../../actor/akka/actor/Props.scala.html#akka.actor;Props.withDeploy" title="(d: akka.actor.Deploy)akka.actor.Props">withDeploy</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Deployer.scala.html#akka.actor.Deploy" title="akka.actor.Deploy.type">Deploy</a>.<a href="../../../../actor/akka/actor/Deployer.scala.html#akka.actor.Deploy.local" title="=&gt; akka.actor.Deploy">local</a><span class="delimiter">)</span>

  private<span class="delimiter">[</span>remote<span class="delimiter">]</span> def <a title="(handshakeInfo: akka.remote.transport.HandshakeInfo, wrappedHandle: akka.remote.transport.AssociationHandle, associationListener: akka.remote.transport.Transport.AssociationEventListener, settings: akka.remote.transport.AkkaProtocolSettings, codec: akka.remote.transport.AkkaPduCodec, failureDetector: akka.remote.FailureDetector)akka.actor.Props" id="akka.remote.transport.ProtocolStateActor.inboundProps">inboundProps</a><span class="delimiter">(</span>
    <a title="akka.remote.transport.HandshakeInfo" id="akka.remote.transport.ProtocolStateActor.inboundProps.handshakeInfo">handshakeInfo</a>: <a href="#akka.remote.transport.HandshakeInfo.readResolve" title="akka.remote.transport.HandshakeInfo">HandshakeInfo</a>,
    <a title="akka.remote.transport.AssociationHandle" id="akka.remote.transport.ProtocolStateActor.inboundProps.wrappedHandle">wrappedHandle</a>: <a href="Transport.scala.html#akka.remote.transport;AssociationHandle" title="akka.remote.transport.AssociationHandle">AssociationHandle</a>,
    <a title="akka.remote.transport.Transport.AssociationEventListener" id="akka.remote.transport.ProtocolStateActor.inboundProps.associationListener">associationListener</a>: <a href="Transport.scala.html#akka.remote.transport.Transport;AssociationEventListener" title="akka.remote.transport.Transport.AssociationEventListener">AssociationEventListener</a>,
    <a title="akka.remote.transport.AkkaProtocolSettings" id="akka.remote.transport.ProtocolStateActor.inboundProps.settings">settings</a>: <a href="#akka.remote.transport;AkkaProtocolSettings" title="akka.remote.transport.AkkaProtocolSettings">AkkaProtocolSettings</a>,
    <a title="akka.remote.transport.AkkaPduCodec" id="akka.remote.transport.ProtocolStateActor.inboundProps.codec">codec</a>: <a href="AkkaPduCodec.scala.html#akka.remote.transport;AkkaPduCodec" title="akka.remote.transport.AkkaPduCodec">AkkaPduCodec</a>,
    <a title="akka.remote.FailureDetector" id="akka.remote.transport.ProtocolStateActor.inboundProps.failureDetector">failureDetector</a>: <a href="../FailureDetector.scala.html#akka.remote;FailureDetector" title="akka.remote.FailureDetector">FailureDetector</a><span class="delimiter">)</span>: <a href="../../../../actor/akka/actor/Props.scala.html#akka.actor;Props" title="akka.actor.Props">Props</a> =
    <a href="../../../../actor/akka/actor/Props.scala.html#akka.actor.Props.apply(0870a176b3)" title="(clazz: Class[_], args: Any*)akka.actor.Props">Props</a><span class="delimiter">(</span>classOf<span title="Class[akka.remote.transport.ProtocolStateActor](classOf[akka.remote.transport.ProtocolStateActor])" class="delimiter">[</span>ProtocolStateActor<span class="delimiter">]</span>, <a href="#akka.remote.transport.ProtocolStateActor.inboundProps.handshakeInfo" title="akka.remote.transport.HandshakeInfo">handshakeInfo</a>, <a href="#akka.remote.transport.ProtocolStateActor.inboundProps.wrappedHandle" title="akka.remote.transport.AssociationHandle">wrappedHandle</a>, <a href="#akka.remote.transport.ProtocolStateActor.inboundProps.associationListener" title="akka.remote.transport.Transport.AssociationEventListener">associationListener</a>, <a href="#akka.remote.transport.ProtocolStateActor.inboundProps.settings" title="akka.remote.transport.AkkaProtocolSettings">settings</a>, <a href="#akka.remote.transport.ProtocolStateActor.inboundProps.codec" title="akka.remote.transport.AkkaPduCodec">codec</a>,
      <a href="#akka.remote.transport.ProtocolStateActor.inboundProps.failureDetector" title="akka.remote.FailureDetector">failureDetector</a><span class="delimiter">)</span>.<a href="../../../../actor/akka/actor/Props.scala.html#akka.actor;Props.withDeploy" title="(d: akka.actor.Deploy)akka.actor.Props">withDeploy</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Deployer.scala.html#akka.actor.Deploy" title="akka.actor.Deploy.type">Deploy</a>.<a href="../../../../actor/akka/actor/Deployer.scala.html#akka.actor.Deploy.local" title="=&gt; akka.actor.Deploy">local</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

private<span class="delimiter">[</span>transport<span class="delimiter">]</span> class <a title="class ProtocolStateActor extends AnyRef with akka.actor.Actor with akka.actor.FSM[akka.remote.transport.ProtocolStateActor.AssociationState,akka.remote.transport.ProtocolStateActor.ProtocolStateData] with akka.dispatch.RequiresMessageQueue[akka.dispatch.UnboundedMessageQueueSemantics]" id="akka.remote.transport;ProtocolStateActor">ProtocolStateActor</a><a href="#akka.remote.transport;ProtocolStateActor" title="akka.remote.transport.ProtocolStateActor" class="delimiter">(</a><a title="akka.remote.transport.ProtocolStateActor.InitialProtocolStateData" id="akka.remote.transport;ProtocolStateActor.initialData">initialData</a>: <a href="#akka.remote.transport.ProtocolStateActor;InitialProtocolStateData" title="akka.remote.transport.ProtocolStateActor.InitialProtocolStateData">InitialProtocolStateData</a>,
                                            private val <a title="akka.remote.transport.HandshakeInfo" id="akka.remote.transport;ProtocolStateActor.localHandshakeInfo">localHandshakeInfo</a>: <a href="#akka.remote.transport.HandshakeInfo.readResolve" title="akka.remote.transport.HandshakeInfo">HandshakeInfo</a>,
                                            private val <a title="Option[Int]" id="akka.remote.transport;ProtocolStateActor.refuseUid">refuseUid</a>: <span title="Option[Int]">Option</span><span class="delimiter">[</span>Int<span class="delimiter">]</span>,
                                            private val <a title="akka.remote.transport.AkkaProtocolSettings" id="akka.remote.transport;ProtocolStateActor.settings">settings</a>: <a href="#akka.remote.transport;AkkaProtocolSettings" title="akka.remote.transport.AkkaProtocolSettings">AkkaProtocolSettings</a>,
                                            private val <a title="akka.remote.transport.AkkaPduCodec" id="akka.remote.transport;ProtocolStateActor.codec">codec</a>: <a href="AkkaPduCodec.scala.html#akka.remote.transport;AkkaPduCodec" title="akka.remote.transport.AkkaPduCodec">AkkaPduCodec</a>,
                                            private val <a title="akka.remote.FailureDetector" id="akka.remote.transport;ProtocolStateActor.failureDetector">failureDetector</a>: <a href="../FailureDetector.scala.html#akka.remote;FailureDetector" title="akka.remote.FailureDetector">FailureDetector</a><span class="delimiter">)</span>
  extends <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor" title="akka.actor.Actor">Actor</a> with <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM" title="akka.actor.FSM[akka.remote.transport.ProtocolStateActor.AssociationState,akka.remote.transport.ProtocolStateActor.ProtocolStateData]">FSM</a><span class="delimiter">[</span>AssociationState, ProtocolStateData<span class="delimiter">]</span>
  with <a href="../../../../actor/akka/dispatch/Mailbox.scala.html#akka.dispatch;RequiresMessageQueue" title="akka.dispatch.RequiresMessageQueue[akka.dispatch.UnboundedMessageQueueSemantics]">RequiresMessageQueue</a><span class="delimiter">[</span>UnboundedMessageQueueSemantics<span class="delimiter">]</span> <span class="delimiter">{</span>

  import <a href="#akka.remote.transport.ProtocolStateActor" title="akka.remote.transport.ProtocolStateActor.type">ProtocolStateActor</a>._
  import <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.dispatcher

  <span class="comment">// Outbound case</span>
  def this<span class="delimiter">(</span><a title="akka.remote.transport.HandshakeInfo" id="akka.remote.transport;ProtocolStateActor.<init>(3c502958d4).handshakeInfo">handshakeInfo</a>: <a href="#akka.remote.transport.HandshakeInfo.readResolve" title="akka.remote.transport.HandshakeInfo">HandshakeInfo</a>,
           <a title="akka.actor.Address" id="akka.remote.transport;ProtocolStateActor.<init>(3c502958d4).remoteAddress">remoteAddress</a>: <a href="../../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a>,
           <a title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]" id="akka.remote.transport;ProtocolStateActor.<init>(3c502958d4).statusPromise">statusPromise</a>: <span title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">Promise</span><span class="delimiter">[</span>AssociationHandle<span class="delimiter">]</span>,
           <a title="akka.remote.transport.Transport" id="akka.remote.transport;ProtocolStateActor.<init>(3c502958d4).transport">transport</a>: <a href="Transport.scala.html#akka.remote.transport;Transport" title="akka.remote.transport.Transport">Transport</a>,
           <a title="akka.remote.transport.AkkaProtocolSettings" id="akka.remote.transport;ProtocolStateActor.<init>(3c502958d4).settings">settings</a>: <a href="#akka.remote.transport;AkkaProtocolSettings" title="akka.remote.transport.AkkaProtocolSettings">AkkaProtocolSettings</a>,
           <a title="akka.remote.transport.AkkaPduCodec" id="akka.remote.transport;ProtocolStateActor.<init>(3c502958d4).codec">codec</a>: <a href="AkkaPduCodec.scala.html#akka.remote.transport;AkkaPduCodec" title="akka.remote.transport.AkkaPduCodec">AkkaPduCodec</a>,
           <a title="akka.remote.FailureDetector" id="akka.remote.transport;ProtocolStateActor.<init>(3c502958d4).failureDetector">failureDetector</a>: <a href="../FailureDetector.scala.html#akka.remote;FailureDetector" title="akka.remote.FailureDetector">FailureDetector</a>,
           <a title="Option[Int]" id="akka.remote.transport;ProtocolStateActor.<init>(3c502958d4).refuseUid">refuseUid</a>: <span title="Option[Int]">Option</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="Unit" class="delimiter">{</span>
    this<span class="delimiter">(</span><a href="#akka.remote.transport.ProtocolStateActor.OutboundUnassociated.readResolve" title="(remoteAddress: akka.actor.Address, statusPromise: scala.concurrent.Promise[akka.remote.transport.AssociationHandle], transport: akka.remote.transport.Transport)akka.remote.transport.ProtocolStateActor.OutboundUnassociated">OutboundUnassociated</a><span class="delimiter">(</span><a href="#akka.remote.transport;ProtocolStateActor.<init>(3c502958d4).remoteAddress" title="akka.actor.Address">remoteAddress</a>, <a href="#akka.remote.transport;ProtocolStateActor.<init>(3c502958d4).statusPromise" title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">statusPromise</a>, <a href="#akka.remote.transport;ProtocolStateActor.<init>(3c502958d4).transport" title="akka.remote.transport.Transport">transport</a><span class="delimiter">)</span>, <a href="#akka.remote.transport;ProtocolStateActor.<init>(3c502958d4).handshakeInfo" title="akka.remote.transport.HandshakeInfo">handshakeInfo</a>, <a href="#akka.remote.transport;ProtocolStateActor.<init>(3c502958d4).refuseUid" title="Option[Int]">refuseUid</a>, <a href="#akka.remote.transport;ProtocolStateActor.<init>(3c502958d4).settings" title="akka.remote.transport.AkkaProtocolSettings">settings</a>, <a href="#akka.remote.transport;ProtocolStateActor.<init>(3c502958d4).codec" title="akka.remote.transport.AkkaPduCodec">codec</a>, <a href="#akka.remote.transport;ProtocolStateActor.<init>(3c502958d4).failureDetector" title="akka.remote.FailureDetector">failureDetector</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">// Inbound case</span>
  def this<span class="delimiter">(</span><a title="akka.remote.transport.HandshakeInfo" id="akka.remote.transport;ProtocolStateActor.<init>(bf50d6aadf).handshakeInfo">handshakeInfo</a>: <a href="#akka.remote.transport.HandshakeInfo.readResolve" title="akka.remote.transport.HandshakeInfo">HandshakeInfo</a>,
           <a title="akka.remote.transport.AssociationHandle" id="akka.remote.transport;ProtocolStateActor.<init>(bf50d6aadf).wrappedHandle">wrappedHandle</a>: <a href="Transport.scala.html#akka.remote.transport;AssociationHandle" title="akka.remote.transport.AssociationHandle">AssociationHandle</a>,
           <a title="akka.remote.transport.Transport.AssociationEventListener" id="akka.remote.transport;ProtocolStateActor.<init>(bf50d6aadf).associationListener">associationListener</a>: <a href="Transport.scala.html#akka.remote.transport.Transport;AssociationEventListener" title="akka.remote.transport.Transport.AssociationEventListener">AssociationEventListener</a>,
           <a title="akka.remote.transport.AkkaProtocolSettings" id="akka.remote.transport;ProtocolStateActor.<init>(bf50d6aadf).settings">settings</a>: <a href="#akka.remote.transport;AkkaProtocolSettings" title="akka.remote.transport.AkkaProtocolSettings">AkkaProtocolSettings</a>,
           <a title="akka.remote.transport.AkkaPduCodec" id="akka.remote.transport;ProtocolStateActor.<init>(bf50d6aadf).codec">codec</a>: <a href="AkkaPduCodec.scala.html#akka.remote.transport;AkkaPduCodec" title="akka.remote.transport.AkkaPduCodec">AkkaPduCodec</a>,
           <a title="akka.remote.FailureDetector" id="akka.remote.transport;ProtocolStateActor.<init>(bf50d6aadf).failureDetector">failureDetector</a>: <a href="../FailureDetector.scala.html#akka.remote;FailureDetector" title="akka.remote.FailureDetector">FailureDetector</a><span class="delimiter">)</span> = <span title="Unit" class="delimiter">{</span>
    this<span class="delimiter">(</span><a href="#akka.remote.transport.ProtocolStateActor.InboundUnassociated.readResolve" title="(associationListener: akka.remote.transport.Transport.AssociationEventListener, wrappedHandle: akka.remote.transport.AssociationHandle)akka.remote.transport.ProtocolStateActor.InboundUnassociated">InboundUnassociated</a><span class="delimiter">(</span><a href="#akka.remote.transport;ProtocolStateActor.<init>(bf50d6aadf).associationListener" title="akka.remote.transport.Transport.AssociationEventListener">associationListener</a>, <a href="#akka.remote.transport;ProtocolStateActor.<init>(bf50d6aadf).wrappedHandle" title="akka.remote.transport.AssociationHandle">wrappedHandle</a><span class="delimiter">)</span>, <a href="#akka.remote.transport;ProtocolStateActor.<init>(bf50d6aadf).handshakeInfo" title="akka.remote.transport.HandshakeInfo">handshakeInfo</a>, refuseUid = <span title="None.type">None</span>, <a href="#akka.remote.transport;ProtocolStateActor.<init>(bf50d6aadf).settings" title="akka.remote.transport.AkkaProtocolSettings">settings</a>, <a href="#akka.remote.transport;ProtocolStateActor.<init>(bf50d6aadf).codec" title="akka.remote.transport.AkkaPduCodec">codec</a>, <a href="#akka.remote.transport;ProtocolStateActor.<init>(bf50d6aadf).failureDetector" title="akka.remote.FailureDetector">failureDetector</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  val <a title="akka.actor.Address" id="akka.remote.transport;ProtocolStateActor.localAddress">localAddress</a> = <a href="#akka.remote.transport;ProtocolStateActor.localHandshakeInfo" title="=&gt; akka.remote.transport.HandshakeInfo">localHandshakeInfo</a>.<a href="#akka.remote.transport;HandshakeInfo.origin" title="=&gt; akka.actor.Address">origin</a>

  <a href="#akka.remote.transport;ProtocolStateActor.initialData" title="akka.remote.transport.ProtocolStateActor.InitialProtocolStateData">initialData</a> match <span class="delimiter">{</span>
    case <span title="akka.remote.transport.ProtocolStateActor.OutboundUnassociated">d</span>: <a href="#akka.remote.transport.ProtocolStateActor.OutboundUnassociated.readResolve" title="akka.remote.transport.ProtocolStateActor.OutboundUnassociated">OutboundUnassociated</a> ⇒
      <span title="akka.remote.transport.ProtocolStateActor.OutboundUnassociated">d</span>.<a href="#akka.remote.transport.ProtocolStateActor;OutboundUnassociated.transport" title="=&gt; akka.remote.transport.Transport">transport</a>.<a href="Transport.scala.html#akka.remote.transport;Transport.associate" title="(remoteAddress: akka.actor.Address)scala.concurrent.Future[akka.remote.transport.AssociationHandle]">associate</a><span class="delimiter">(</span><span title="akka.remote.transport.ProtocolStateActor.OutboundUnassociated">d</span>.<a href="#akka.remote.transport.ProtocolStateActor;OutboundUnassociated.remoteAddress" title="=&gt; akka.actor.Address">remoteAddress</a><span class="delimiter">)</span>.<span title="(f: akka.remote.transport.AssociationHandle =&gt; akka.remote.transport.ProtocolStateActor.Handle)(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[akka.remote.transport.ProtocolStateActor.Handle]">map</span><a href="../../../../actor/akka/pattern/PipeToSupport.scala.html#akka.pattern;PipeToSupport.pipe" title="(future: scala.concurrent.Future[akka.remote.transport.ProtocolStateActor.Handle])(implicit executionContext: scala.concurrent.ExecutionContext)akka.pattern.PipeableFuture[akka.remote.transport.ProtocolStateActor.Handle]" class="delimiter">(</a><a href="#akka.remote.transport.ProtocolStateActor.Handle.readResolve" title="(handle: akka.remote.transport.AssociationHandle)akka.remote.transport.ProtocolStateActor.Handle">Handle</a><span class="delimiter">(</span><a href="#akka.remote.transport;ProtocolStateActor.<local ProtocolStateActor>.$anonfun.x$2" title="akka.remote.transport.AssociationHandle">_</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../../actor/akka/pattern/PipeToSupport.scala.html#akka.pattern;PipeToSupport;PipeableFuture.pipeTo" title="(recipient: akka.actor.ActorRef)(implicit sender: akka.actor.ActorRef)scala.concurrent.Future[akka.remote.transport.ProtocolStateActor.Handle]">pipeTo</a> <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>
      <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.startWith" title="(stateName: akka.remote.transport.ProtocolStateActor.AssociationState, stateData: akka.remote.transport.ProtocolStateActor.ProtocolStateData, timeout: ProtocolStateActor.this.Timeout)Unit">startWith</a><span class="delimiter">(</span><a href="#akka.remote.transport.ProtocolStateActor.Closed.readResolve" title="akka.remote.transport.ProtocolStateActor.Closed.type">Closed</a>, <span title="akka.remote.transport.ProtocolStateActor.OutboundUnassociated">d</span><span class="delimiter">)</span>

    case <span title="akka.remote.transport.ProtocolStateActor.InboundUnassociated">d</span>: <a href="#akka.remote.transport.ProtocolStateActor.InboundUnassociated.readResolve" title="akka.remote.transport.ProtocolStateActor.InboundUnassociated">InboundUnassociated</a> ⇒
      <span title="akka.remote.transport.ProtocolStateActor.InboundUnassociated">d</span>.<a href="#akka.remote.transport.ProtocolStateActor;InboundUnassociated.wrappedHandle" title="=&gt; akka.remote.transport.AssociationHandle">wrappedHandle</a>.<a href="Transport.scala.html#akka.remote.transport;AssociationHandle.readHandlerPromise" title="=&gt; scala.concurrent.Promise[akka.remote.transport.AssociationHandle.HandleEventListener]">readHandlerPromise</a>.<span title="(value: akka.remote.transport.AssociationHandle.HandleEventListener)scala.concurrent.Promise[akka.remote.transport.AssociationHandle.HandleEventListener]">success</span><span class="delimiter">(</span><a href="Transport.scala.html#akka.remote.transport.AssociationHandle;ActorHandleEventListener" title="(actor: akka.actor.ActorRef)akka.remote.transport.AssociationHandle.ActorHandleEventListener">ActorHandleEventListener</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.startWith" title="(stateName: akka.remote.transport.ProtocolStateActor.AssociationState, stateData: akka.remote.transport.ProtocolStateActor.ProtocolStateData, timeout: ProtocolStateActor.this.Timeout)Unit">startWith</a><span class="delimiter">(</span><a href="#akka.remote.transport.ProtocolStateActor.WaitHandshake.readResolve" title="akka.remote.transport.ProtocolStateActor.WaitHandshake.type">WaitHandshake</a>, <span title="akka.remote.transport.ProtocolStateActor.InboundUnassociated">d</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.when" title="(stateName: akka.remote.transport.ProtocolStateActor.AssociationState, stateTimeout: scala.concurrent.duration.FiniteDuration)(stateFunction: ProtocolStateActor.this.StateFunction)Unit">when</a><span class="delimiter">(</span><a href="#akka.remote.transport.ProtocolStateActor.Closed.readResolve" title="akka.remote.transport.ProtocolStateActor.Closed.type">Closed</a><span class="delimiter">)</span> <span title="&lt;$anon: ProtocolStateActor.this.Event =&gt; ProtocolStateActor.this.State&gt; extends scala.runtime.AbstractPartialFunction[ProtocolStateActor.this.Event,ProtocolStateActor.this.State] with Serializable" class="delimiter">{</span>

    <span class="comment">// Transport layer events for outbound associations</span>
    case Event<span class="delimiter">(</span>Status.Failure<span class="delimiter">(</span><a title="Throwable" id="akka.remote.transport;ProtocolStateActor.<local ProtocolStateActor>;$anonfun.isDefinedAt.e">e</a><span class="delimiter">)</span>, OutboundUnassociated<span class="delimiter">(</span>_, <span title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">statusPromise</span>, _<span class="delimiter">)</span><span class="delimiter">)</span> ⇒
      <span title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">statusPromise</span>.<span title="(cause: Throwable)statusPromise.type">failure</span><span class="delimiter">(</span><a href="#akka.remote.transport;ProtocolStateActor.<local ProtocolStateActor>;$anonfun.isDefinedAt.e" title="Throwable">e</a><span class="delimiter">)</span>
      <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.stop(65b4a2ce7c)" title="()ProtocolStateActor.this.State">stop</a><span class="delimiter">(</span><span class="delimiter">)</span>

    case Event<span class="delimiter">(</span>Handle<span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle">wrappedHandle</span><span class="delimiter">)</span>, OutboundUnassociated<span class="delimiter">(</span>_, <span title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">statusPromise</span>, _<span class="delimiter">)</span><span class="delimiter">)</span> ⇒
      <span title="akka.remote.transport.AssociationHandle">wrappedHandle</span>.<a href="Transport.scala.html#akka.remote.transport;AssociationHandle.readHandlerPromise" title="=&gt; scala.concurrent.Promise[akka.remote.transport.AssociationHandle.HandleEventListener]">readHandlerPromise</a>.<span title="(value: akka.remote.transport.AssociationHandle.HandleEventListener)Boolean">trySuccess</span><span class="delimiter">(</span><a href="Transport.scala.html#akka.remote.transport.AssociationHandle;ActorHandleEventListener" title="(actor: akka.actor.ActorRef)akka.remote.transport.AssociationHandle.ActorHandleEventListener">ActorHandleEventListener</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a><span class="delimiter">)</span><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#akka.remote.transport;ProtocolStateActor.sendAssociate" title="(wrappedHandle: akka.remote.transport.AssociationHandle, info: akka.remote.transport.HandshakeInfo)Boolean">sendAssociate</a><span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle">wrappedHandle</span>, <a href="#akka.remote.transport;ProtocolStateActor.localHandshakeInfo" title="=&gt; akka.remote.transport.HandshakeInfo">localHandshakeInfo</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#akka.remote.transport;ProtocolStateActor.failureDetector" title="=&gt; akka.remote.FailureDetector">failureDetector</a>.<a href="../FailureDetector.scala.html#akka.remote;FailureDetector.heartbeat" title="()Unit">heartbeat</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#akka.remote.transport;ProtocolStateActor.initTimers" title="()Unit">initTimers</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.goto" title="(nextStateName: akka.remote.transport.ProtocolStateActor.AssociationState)ProtocolStateActor.this.State">goto</a><span class="delimiter">(</span><a href="#akka.remote.transport.ProtocolStateActor.WaitHandshake.readResolve" title="akka.remote.transport.ProtocolStateActor.WaitHandshake.type">WaitHandshake</a><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor.FSM;State.using" title="(nextStateData: akka.remote.transport.ProtocolStateActor.ProtocolStateData)akka.actor.FSM.State[akka.remote.transport.ProtocolStateActor.AssociationState,akka.remote.transport.ProtocolStateActor.ProtocolStateData]">using</a> <a href="#akka.remote.transport.ProtocolStateActor.OutboundUnderlyingAssociated.readResolve" title="(statusPromise: scala.concurrent.Promise[akka.remote.transport.AssociationHandle], wrappedHandle: akka.remote.transport.AssociationHandle)akka.remote.transport.ProtocolStateActor.OutboundUnderlyingAssociated">OutboundUnderlyingAssociated</a><span class="delimiter">(</span><span title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">statusPromise</span>, <span title="akka.remote.transport.AssociationHandle">wrappedHandle</span><span class="delimiter">)</span>

      <span class="delimiter">}</span> else <span class="delimiter">{</span>
        <span class="comment">// Underlying transport was busy -- Associate could not be sent</span>
        <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.setTimer" title="(name: String, msg: Any, timeout: scala.concurrent.duration.FiniteDuration, repeat: Boolean)Unit">setTimer</a><span class="delimiter">(</span><span title="String(&quot;associate-retry&quot;)" class="string">&quot;associate-retry&quot;</span>, <a href="#akka.remote.transport.ProtocolStateActor.Handle.readResolve" title="(handle: akka.remote.transport.AssociationHandle)akka.remote.transport.ProtocolStateActor.Handle">Handle</a><span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle">wrappedHandle</span><span class="delimiter">)</span>, <a href="../../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionId.apply" title="(system: akka.actor.ActorSystem)akka.remote.RARP">RARP</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a><span class="delimiter">)</span>.<a href="../Remoting.scala.html#akka.remote;RARP.provider" title="=&gt; akka.remote.RemoteActorRefProvider">provider</a>.<a href="../RemoteActorRefProvider.scala.html#akka.remote;RemoteActorRefProvider.remoteSettings" title="=&gt; akka.remote.RemoteSettings">remoteSettings</a>.<a href="../RemoteSettings.scala.html#akka.remote;RemoteSettings.BackoffPeriod" title="=&gt; scala.concurrent.duration.FiniteDuration">BackoffPeriod</a>, repeat = false<span class="delimiter">)</span>
        <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.stay" title="()ProtocolStateActor.this.State">stay</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    case Event<span class="delimiter">(</span>DisassociateUnderlying<span class="delimiter">(</span>_<span class="delimiter">)</span>, _<span class="delimiter">)</span> ⇒
      <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.stop(65b4a2ce7c)" title="()ProtocolStateActor.this.State">stop</a><span title="Boolean(true)" class="delimiter">(</span><span class="delimiter">)</span>

    case _ ⇒ <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.stay" title="()ProtocolStateActor.this.State">stay</a><span title="Boolean(true)" class="delimiter">(</span><span class="delimiter">)</span>

  <span class="delimiter">}</span>

  <span class="comment">// Timeout of this state is implicitly handled by the failure detector</span>
  <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.when" title="(stateName: akka.remote.transport.ProtocolStateActor.AssociationState, stateTimeout: scala.concurrent.duration.FiniteDuration)(stateFunction: ProtocolStateActor.this.StateFunction)Unit">when</a><span class="delimiter">(</span><a href="#akka.remote.transport.ProtocolStateActor.WaitHandshake.readResolve" title="akka.remote.transport.ProtocolStateActor.WaitHandshake.type">WaitHandshake</a><span class="delimiter">)</span> <span title="&lt;$anon: ProtocolStateActor.this.Event =&gt; ProtocolStateActor.this.State&gt; extends scala.runtime.AbstractPartialFunction[ProtocolStateActor.this.Event,ProtocolStateActor.this.State] with Serializable" class="delimiter">{</span>
    case Event<span class="delimiter">(</span>Disassociated<span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle.DisassociateInfo">info</span><span class="delimiter">)</span>, _<span class="delimiter">)</span> ⇒
      <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.stop(56d0504ea6)" title="(reason: akka.actor.FSM.Reason)ProtocolStateActor.this.State">stop</a><span title="Boolean(true)" class="delimiter">(</span><a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor.FSM" title="akka.actor.FSM.type">FSM</a>.<a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor.FSM;Failure" title="(cause: Any)akka.actor.FSM.Failure">Failure</a><span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle.DisassociateInfo">info</span><span class="delimiter">)</span><span class="delimiter">)</span>

    case Event<span class="delimiter">(</span>InboundPayload<span class="delimiter">(</span><span title="akka.util.ByteString">p</span><span class="delimiter">)</span>, OutboundUnderlyingAssociated<span class="delimiter">(</span><span title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">statusPromise</span>, <span title="akka.remote.transport.AssociationHandle">wrappedHandle</span><span class="delimiter">)</span><span class="delimiter">)</span> ⇒
      <a href="#akka.remote.transport;ProtocolStateActor.decodePdu" title="(pdu: akka.util.ByteString)akka.remote.transport.AkkaPduCodec.AkkaPdu">decodePdu</a><span class="delimiter">(</span><span title="akka.util.ByteString">p</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
        case Associate<span class="delimiter">(</span><span title="akka.remote.transport.HandshakeInfo">handshakeInfo</span><span class="delimiter">)</span> if <a href="#akka.remote.transport;ProtocolStateActor.refuseUid" title="=&gt; Option[Int]">refuseUid</a>.<span title="(p: Int =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#akka.remote.transport;ProtocolStateActor.<local ProtocolStateActor>;$anonfun.applyOrElse.$anonfun.x$3" title="Int">_</a> <span title="(x: Int)Boolean">==</span> <span title="akka.remote.transport.HandshakeInfo">handshakeInfo</span>.<a href="#akka.remote.transport;HandshakeInfo.uid" title="=&gt; Int">uid</a><span class="delimiter">)</span> ⇒
          <a href="#akka.remote.transport;ProtocolStateActor.sendDisassociate" title="(wrappedHandle: akka.remote.transport.AssociationHandle, info: akka.remote.transport.AssociationHandle.DisassociateInfo)Unit">sendDisassociate</a><span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle">wrappedHandle</span>, <a href="Transport.scala.html#akka.remote.transport.AssociationHandle.Quarantined" title="akka.remote.transport.AssociationHandle.Quarantined.type">Quarantined</a><span class="delimiter">)</span>
          <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.stop(56d0504ea6)" title="(reason: akka.actor.FSM.Reason)ProtocolStateActor.this.State">stop</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor.FSM" title="akka.actor.FSM.type">FSM</a>.<a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor.FSM;Failure" title="(cause: Any)akka.actor.FSM.Failure">Failure</a><span class="delimiter">(</span><a href="#akka.remote.transport.ProtocolStateActor.ForbiddenUidReason.readResolve" title="akka.remote.transport.ProtocolStateActor.ForbiddenUidReason.type">ForbiddenUidReason</a><span class="delimiter">)</span><span class="delimiter">)</span>

        case Associate<span class="delimiter">(</span><span title="akka.remote.transport.HandshakeInfo">handshakeInfo</span><span class="delimiter">)</span> ⇒
          <a href="#akka.remote.transport;ProtocolStateActor.failureDetector" title="=&gt; akka.remote.FailureDetector">failureDetector</a>.<a href="../FailureDetector.scala.html#akka.remote;FailureDetector.heartbeat" title="()Unit">heartbeat</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.goto" title="(nextStateName: akka.remote.transport.ProtocolStateActor.AssociationState)ProtocolStateActor.this.State">goto</a><span class="delimiter">(</span><a href="#akka.remote.transport.ProtocolStateActor.Open.readResolve" title="akka.remote.transport.ProtocolStateActor.Open.type">Open</a><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor.FSM;State.using" title="(nextStateData: akka.remote.transport.ProtocolStateActor.ProtocolStateData)akka.actor.FSM.State[akka.remote.transport.ProtocolStateActor.AssociationState,akka.remote.transport.ProtocolStateActor.ProtocolStateData]">using</a> <a href="#akka.remote.transport.ProtocolStateActor.AssociatedWaitHandler.readResolve" title="(handleListener: scala.concurrent.Future[akka.remote.transport.AssociationHandle.HandleEventListener], wrappedHandle: akka.remote.transport.AssociationHandle, queue: scala.collection.immutable.Queue[akka.util.ByteString])akka.remote.transport.ProtocolStateActor.AssociatedWaitHandler">AssociatedWaitHandler</a><span class="delimiter">(</span>
            <a href="#akka.remote.transport;ProtocolStateActor.notifyOutboundHandler" title="(wrappedHandle: akka.remote.transport.AssociationHandle, handshakeInfo: akka.remote.transport.HandshakeInfo, statusPromise: scala.concurrent.Promise[akka.remote.transport.AssociationHandle])scala.concurrent.Future[akka.remote.transport.AssociationHandle.HandleEventListener]">notifyOutboundHandler</a><span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle">wrappedHandle</span>, <span title="akka.remote.transport.HandshakeInfo">handshakeInfo</span>, <span title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">statusPromise</span><span class="delimiter">)</span>,
            <span title="akka.remote.transport.AssociationHandle">wrappedHandle</span>,
            immutable.<span title="scala.collection.immutable.Queue.type">Queue</span>.<span title="scala.collection.immutable.Queue[Nothing]">empty</span><span class="delimiter">)</span>

        case Disassociate<span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle.DisassociateInfo">info</span><span class="delimiter">)</span> ⇒
          <span class="comment">// After receiving Disassociate we MUST NOT send back a Disassociate (loop)</span>
          <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.stop(56d0504ea6)" title="(reason: akka.actor.FSM.Reason)ProtocolStateActor.this.State">stop</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor.FSM" title="akka.actor.FSM.type">FSM</a>.<a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor.FSM;Failure" title="(cause: Any)akka.actor.FSM.Failure">Failure</a><span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle.DisassociateInfo">info</span><span class="delimiter">)</span><span class="delimiter">)</span>

        case _ ⇒
          <span class="comment">// Expected handshake to be finished, dropping connection</span>
          <a href="#akka.remote.transport;ProtocolStateActor.sendDisassociate" title="(wrappedHandle: akka.remote.transport.AssociationHandle, info: akka.remote.transport.AssociationHandle.DisassociateInfo)Unit">sendDisassociate</a><span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle">wrappedHandle</span>, <a href="Transport.scala.html#akka.remote.transport.AssociationHandle.Unknown" title="akka.remote.transport.AssociationHandle.Unknown.type">Unknown</a><span class="delimiter">)</span>
          <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.stop(65b4a2ce7c)" title="()ProtocolStateActor.this.State">stop</a><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="delimiter">}</span>

    case Event<span class="delimiter">(</span><a href="#akka.remote.transport.ProtocolStateActor.HeartbeatTimer.readResolve" title="akka.remote.transport.ProtocolStateActor.HeartbeatTimer.type">HeartbeatTimer</a>, OutboundUnderlyingAssociated<span class="delimiter">(</span>_, <span title="akka.remote.transport.AssociationHandle">wrappedHandle</span><span class="delimiter">)</span><span class="delimiter">)</span> ⇒ <a href="#akka.remote.transport;ProtocolStateActor.handleTimers" title="(wrappedHandle: akka.remote.transport.AssociationHandle)ProtocolStateActor.this.State">handleTimers</a><span title="Boolean(true)" class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle">wrappedHandle</span><span class="delimiter">)</span>

    <span class="comment">// Events for inbound associations</span>
    case Event<span class="delimiter">(</span>InboundPayload<span class="delimiter">(</span><span title="akka.util.ByteString">p</span><span class="delimiter">)</span>, InboundUnassociated<span class="delimiter">(</span><a title="akka.remote.transport.Transport.AssociationEventListener" id="akka.remote.transport;ProtocolStateActor.<local ProtocolStateActor>;$anonfun.isDefinedAt.associationHandler">associationHandler</a>, <span title="akka.remote.transport.AssociationHandle">wrappedHandle</span><span class="delimiter">)</span><span class="delimiter">)</span> ⇒
      <a href="#akka.remote.transport;ProtocolStateActor.decodePdu" title="(pdu: akka.util.ByteString)akka.remote.transport.AkkaPduCodec.AkkaPdu">decodePdu</a><span class="delimiter">(</span><span title="akka.util.ByteString">p</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
        <span class="comment">// After receiving Disassociate we MUST NOT send back a Disassociate (loop)</span>
        case Disassociate<span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle.DisassociateInfo">info</span><span class="delimiter">)</span> ⇒ <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.stop(56d0504ea6)" title="(reason: akka.actor.FSM.Reason)ProtocolStateActor.this.State">stop</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor.FSM" title="akka.actor.FSM.type">FSM</a>.<a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor.FSM;Failure" title="(cause: Any)akka.actor.FSM.Failure">Failure</a><span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle.DisassociateInfo">info</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="comment">// Incoming association -- implicitly ACK by a heartbeat</span>
        case Associate<span class="delimiter">(</span><span title="akka.remote.transport.HandshakeInfo">info</span><span class="delimiter">)</span> ⇒
          if <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.remote.transport;ProtocolStateActor.settings" title="=&gt; akka.remote.transport.AkkaProtocolSettings">settings</a>.<a href="#akka.remote.transport;AkkaProtocolSettings.RequireCookie" title="=&gt; Boolean">RequireCookie</a> <span title="(x: Boolean)Boolean">||</span> <span title="akka.remote.transport.HandshakeInfo">info</span>.<a href="#akka.remote.transport;HandshakeInfo.cookie" title="=&gt; Option[String]">cookie</a> <span title="(x$1: Any)Boolean">==</span> <a href="#akka.remote.transport;ProtocolStateActor.settings" title="=&gt; akka.remote.transport.AkkaProtocolSettings">settings</a>.<a href="#akka.remote.transport;AkkaProtocolSettings.SecureCookie" title="=&gt; Option[String]">SecureCookie</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#akka.remote.transport;ProtocolStateActor.sendAssociate" title="(wrappedHandle: akka.remote.transport.AssociationHandle, info: akka.remote.transport.HandshakeInfo)Boolean">sendAssociate</a><span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle">wrappedHandle</span>, <a href="#akka.remote.transport;ProtocolStateActor.localHandshakeInfo" title="=&gt; akka.remote.transport.HandshakeInfo">localHandshakeInfo</a><span class="delimiter">)</span>
            <a href="#akka.remote.transport;ProtocolStateActor.failureDetector" title="=&gt; akka.remote.FailureDetector">failureDetector</a>.<a href="../FailureDetector.scala.html#akka.remote;FailureDetector.heartbeat" title="()Unit">heartbeat</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#akka.remote.transport;ProtocolStateActor.initTimers" title="()Unit">initTimers</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.goto" title="(nextStateName: akka.remote.transport.ProtocolStateActor.AssociationState)ProtocolStateActor.this.State">goto</a><span class="delimiter">(</span><a href="#akka.remote.transport.ProtocolStateActor.Open.readResolve" title="akka.remote.transport.ProtocolStateActor.Open.type">Open</a><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor.FSM;State.using" title="(nextStateData: akka.remote.transport.ProtocolStateActor.ProtocolStateData)akka.actor.FSM.State[akka.remote.transport.ProtocolStateActor.AssociationState,akka.remote.transport.ProtocolStateActor.ProtocolStateData]">using</a> <a href="#akka.remote.transport.ProtocolStateActor.AssociatedWaitHandler.readResolve" title="(handleListener: scala.concurrent.Future[akka.remote.transport.AssociationHandle.HandleEventListener], wrappedHandle: akka.remote.transport.AssociationHandle, queue: scala.collection.immutable.Queue[akka.util.ByteString])akka.remote.transport.ProtocolStateActor.AssociatedWaitHandler">AssociatedWaitHandler</a><span class="delimiter">(</span>
              <a href="#akka.remote.transport;ProtocolStateActor.notifyInboundHandler" title="(wrappedHandle: akka.remote.transport.AssociationHandle, handshakeInfo: akka.remote.transport.HandshakeInfo, associationListener: akka.remote.transport.Transport.AssociationEventListener)scala.concurrent.Future[akka.remote.transport.AssociationHandle.HandleEventListener]">notifyInboundHandler</a><span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle">wrappedHandle</span>, <span title="akka.remote.transport.HandshakeInfo">info</span>, <a href="#akka.remote.transport;ProtocolStateActor.<local ProtocolStateActor>;$anonfun.isDefinedAt.associationHandler" title="akka.remote.transport.Transport.AssociationEventListener">associationHandler</a><span class="delimiter">)</span>,
              <span title="akka.remote.transport.AssociationHandle">wrappedHandle</span>,
              immutable.<span title="scala.collection.immutable.Queue.type">Queue</span>.<span title="scala.collection.immutable.Queue[Nothing]">empty</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> else <span class="delimiter">{</span>
            if <span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.isDebugEnabled" title="=&gt; Boolean">isDebugEnabled</a><span class="delimiter">)</span>
              <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.warning(6c666e4343)" title="(template: String, arg1: Any, arg2: Any, arg3: Any)Unit">warning</a><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Association attempt with mismatching cookie from [{}]. Expected [{}] but received [{}].&quot;)" class="string">Association attempt with mismatching cookie from [{}]. Expected [{}] but received [{}].&quot;</span>,
                <span title="akka.remote.transport.HandshakeInfo">info</span>.<a href="#akka.remote.transport;HandshakeInfo.origin" title="=&gt; akka.actor.Address">origin</a>, <a href="#akka.remote.transport;ProtocolStateActor.localHandshakeInfo" title="=&gt; akka.remote.transport.HandshakeInfo">localHandshakeInfo</a>.<a href="#akka.remote.transport;HandshakeInfo.cookie" title="=&gt; Option[String]">cookie</a>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>, <span title="akka.remote.transport.HandshakeInfo">info</span>.<a href="#akka.remote.transport;HandshakeInfo.cookie" title="=&gt; Option[String]">cookie</a>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
            else
              <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.warning(dc73c33c91)" title="(template: String, arg1: Any)Unit">warning</a><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Association attempt with mismatching cookie from [{}].&quot;)" class="string">Association attempt with mismatching cookie from [{}].&quot;</span>, <span title="akka.remote.transport.HandshakeInfo">info</span>.<a href="#akka.remote.transport;HandshakeInfo.origin" title="=&gt; akka.actor.Address">origin</a><span class="delimiter">)</span>
            <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.stop(65b4a2ce7c)" title="()ProtocolStateActor.this.State">stop</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="comment">// Got a stray message -- explicitly reset the association (force remote endpoint to reassociate)</span>
        case _ ⇒
          <a href="#akka.remote.transport;ProtocolStateActor.sendDisassociate" title="(wrappedHandle: akka.remote.transport.AssociationHandle, info: akka.remote.transport.AssociationHandle.DisassociateInfo)Unit">sendDisassociate</a><span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle">wrappedHandle</span>, <a href="Transport.scala.html#akka.remote.transport.AssociationHandle.Unknown" title="akka.remote.transport.AssociationHandle.Unknown.type">Unknown</a><span class="delimiter">)</span>
          <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.stop(65b4a2ce7c)" title="()ProtocolStateActor.this.State">stop</a><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="delimiter">}</span>

  <span class="delimiter">}</span>

  <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.when" title="(stateName: akka.remote.transport.ProtocolStateActor.AssociationState, stateTimeout: scala.concurrent.duration.FiniteDuration)(stateFunction: ProtocolStateActor.this.StateFunction)Unit">when</a><span class="delimiter">(</span><a href="#akka.remote.transport.ProtocolStateActor.Open.readResolve" title="akka.remote.transport.ProtocolStateActor.Open.type">Open</a><span class="delimiter">)</span> <span title="&lt;$anon: ProtocolStateActor.this.Event =&gt; ProtocolStateActor.this.State&gt; extends scala.runtime.AbstractPartialFunction[ProtocolStateActor.this.Event,ProtocolStateActor.this.State] with Serializable" class="delimiter">{</span>
    case Event<span class="delimiter">(</span>Disassociated<span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle.DisassociateInfo">info</span><span class="delimiter">)</span>, _<span class="delimiter">)</span> ⇒
      <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.stop(56d0504ea6)" title="(reason: akka.actor.FSM.Reason)ProtocolStateActor.this.State">stop</a><span title="Boolean(true)" class="delimiter">(</span><a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor.FSM" title="akka.actor.FSM.type">FSM</a>.<a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor.FSM;Failure" title="(cause: Any)akka.actor.FSM.Failure">Failure</a><span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle.DisassociateInfo">info</span><span class="delimiter">)</span><span class="delimiter">)</span>

    case Event<span class="delimiter">(</span>InboundPayload<span class="delimiter">(</span><span title="akka.util.ByteString">p</span><span class="delimiter">)</span>, _<span class="delimiter">)</span> ⇒
      <a href="#akka.remote.transport;ProtocolStateActor.decodePdu" title="(pdu: akka.util.ByteString)akka.remote.transport.AkkaPduCodec.AkkaPdu">decodePdu</a><span class="delimiter">(</span><span title="akka.util.ByteString">p</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
        case Disassociate<span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle.DisassociateInfo">info</span><span class="delimiter">)</span> ⇒
          <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.stop(56d0504ea6)" title="(reason: akka.actor.FSM.Reason)ProtocolStateActor.this.State">stop</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor.FSM" title="akka.actor.FSM.type">FSM</a>.<a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor.FSM;Failure" title="(cause: Any)akka.actor.FSM.Failure">Failure</a><span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle.DisassociateInfo">info</span><span class="delimiter">)</span><span class="delimiter">)</span>

        case <a href="AkkaPduCodec.scala.html#akka.remote.transport.AkkaPduCodec.Heartbeat" title="akka.remote.transport.AkkaPduCodec.Heartbeat.type">Heartbeat</a> ⇒
          <a href="#akka.remote.transport;ProtocolStateActor.failureDetector" title="=&gt; akka.remote.FailureDetector">failureDetector</a>.<a href="../FailureDetector.scala.html#akka.remote;FailureDetector.heartbeat" title="()Unit">heartbeat</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.stay" title="()ProtocolStateActor.this.State">stay</a><span class="delimiter">(</span><span class="delimiter">)</span>

        case Payload<span class="delimiter">(</span><a title="akka.util.ByteString" id="akka.remote.transport;ProtocolStateActor.<local ProtocolStateActor>;$anonfun.applyOrElse.payload">payload</a><span class="delimiter">)</span> ⇒
          <span class="comment">// use incoming ordinary message as alive sign</span>
          <a href="#akka.remote.transport;ProtocolStateActor.failureDetector" title="=&gt; akka.remote.FailureDetector">failureDetector</a>.<a href="../FailureDetector.scala.html#akka.remote;FailureDetector.heartbeat" title="()Unit">heartbeat</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.stateData" title="=&gt; akka.remote.transport.ProtocolStateActor.ProtocolStateData">stateData</a> match <span class="delimiter">{</span>
            case AssociatedWaitHandler<span class="delimiter">(</span><span title="scala.concurrent.Future[akka.remote.transport.AssociationHandle.HandleEventListener]">handlerFuture</span>, <span title="akka.remote.transport.AssociationHandle">wrappedHandle</span>, <span title="scala.collection.immutable.Queue[akka.util.ByteString]">queue</span><span class="delimiter">)</span> ⇒
              <span class="comment">// Queue message until handler is registered</span>
              <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.stay" title="()ProtocolStateActor.this.State">stay</a><span class="delimiter">(</span><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor.FSM;State.using" title="(nextStateData: akka.remote.transport.ProtocolStateActor.ProtocolStateData)akka.actor.FSM.State[akka.remote.transport.ProtocolStateActor.AssociationState,akka.remote.transport.ProtocolStateActor.ProtocolStateData]">using</a> <a href="#akka.remote.transport.ProtocolStateActor.AssociatedWaitHandler.readResolve" title="(handleListener: scala.concurrent.Future[akka.remote.transport.AssociationHandle.HandleEventListener], wrappedHandle: akka.remote.transport.AssociationHandle, queue: scala.collection.immutable.Queue[akka.util.ByteString])akka.remote.transport.ProtocolStateActor.AssociatedWaitHandler">AssociatedWaitHandler</a><span class="delimiter">(</span><span title="scala.concurrent.Future[akka.remote.transport.AssociationHandle.HandleEventListener]">handlerFuture</span>, <span title="akka.remote.transport.AssociationHandle">wrappedHandle</span>, <span title="scala.collection.immutable.Queue[akka.util.ByteString]">queue</span> <span title="(elem: akka.util.ByteString)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Queue[akka.util.ByteString],akka.util.ByteString,scala.collection.immutable.Queue[akka.util.ByteString]])scala.collection.immutable.Queue[akka.util.ByteString]">:+</span> <a href="#akka.remote.transport;ProtocolStateActor.<local ProtocolStateActor>;$anonfun.applyOrElse.payload" title="akka.util.ByteString">payload</a><span class="delimiter">)</span>
            case ListenerReady<span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle.HandleEventListener">listener</span>, _<span class="delimiter">)</span> ⇒
              <span title="akka.remote.transport.AssociationHandle.HandleEventListener">listener</span> <a href="Transport.scala.html#akka.remote.transport.AssociationHandle;HandleEventListener.notify(a3fa5b160e)" title="(ev: akka.remote.transport.AssociationHandle.HandleEvent)Unit">notify</a> <a href="Transport.scala.html#akka.remote.transport.AssociationHandle;InboundPayload" title="(payload: akka.util.ByteString)akka.remote.transport.AssociationHandle.InboundPayload">InboundPayload</a><span class="delimiter">(</span><a href="#akka.remote.transport;ProtocolStateActor.<local ProtocolStateActor>;$anonfun.applyOrElse.payload" title="akka.util.ByteString">payload</a><span class="delimiter">)</span>
              <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.stay" title="()ProtocolStateActor.this.State">stay</a><span class="delimiter">(</span><span class="delimiter">)</span>
            case <a title="akka.remote.transport.ProtocolStateActor.ProtocolStateData" id="akka.remote.transport;ProtocolStateActor.<local ProtocolStateActor>;$anonfun.applyOrElse.msg">msg</a> ⇒
              throw new <a href="#akka.remote.transport;AkkaProtocolException" title="akka.remote.transport.AkkaProtocolException">AkkaProtocolException</a><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;unhandled message in state Open(InboundPayload) with type [&quot;)">unhandled message in state Open(InboundPayload) with type [$</span><span class="delimiter">{</span><a href="#akka.remote.transport;ProtocolStateActor.safeClassName" title="(obj: AnyRef)String">safeClassName</a><span class="delimiter">(</span><a href="#akka.remote.transport;ProtocolStateActor.<local ProtocolStateActor>;$anonfun.applyOrElse.msg" title="akka.remote.transport.ProtocolStateActor.ProtocolStateData">msg</a><span class="delimiter">)</span><span class="delimiter">}</span><span title="String(&quot;]&quot;)" class="string">]&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        case _ ⇒ <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.stay" title="()ProtocolStateActor.this.State">stay</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    case Event<span class="delimiter">(</span><a href="#akka.remote.transport.ProtocolStateActor.HeartbeatTimer.readResolve" title="akka.remote.transport.ProtocolStateActor.HeartbeatTimer.type">HeartbeatTimer</a>, AssociatedWaitHandler<span class="delimiter">(</span>_, <span title="akka.remote.transport.AssociationHandle">wrappedHandle</span>, _<span class="delimiter">)</span><span class="delimiter">)</span> ⇒ <a href="#akka.remote.transport;ProtocolStateActor.handleTimers" title="(wrappedHandle: akka.remote.transport.AssociationHandle)ProtocolStateActor.this.State">handleTimers</a><span title="Boolean(true)" class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle">wrappedHandle</span><span class="delimiter">)</span>
    case Event<span class="delimiter">(</span><a href="#akka.remote.transport.ProtocolStateActor.HeartbeatTimer.readResolve" title="akka.remote.transport.ProtocolStateActor.HeartbeatTimer.type">HeartbeatTimer</a>, ListenerReady<span class="delimiter">(</span>_, <span title="akka.remote.transport.AssociationHandle">wrappedHandle</span><span class="delimiter">)</span><span class="delimiter">)</span>            ⇒ <a href="#akka.remote.transport;ProtocolStateActor.handleTimers" title="(wrappedHandle: akka.remote.transport.AssociationHandle)ProtocolStateActor.this.State">handleTimers</a><span title="Boolean(true)" class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle">wrappedHandle</span><span class="delimiter">)</span>

    case Event<span class="delimiter">(</span>DisassociateUnderlying<span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle.DisassociateInfo">info</span>: <a href="Transport.scala.html#akka.remote.transport.AssociationHandle;DisassociateInfo" title="akka.remote.transport.AssociationHandle.DisassociateInfo">DisassociateInfo</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> ⇒
      val <a title="akka.remote.transport.AssociationHandle" id="akka.remote.transport;ProtocolStateActor.<local ProtocolStateActor>;$anonfun.applyOrElse.handle">handle</a> = <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.stateData" title="=&gt; akka.remote.transport.ProtocolStateActor.ProtocolStateData">stateData</a> match <span class="delimiter">{</span>
        case ListenerReady<span class="delimiter">(</span>_, <span title="akka.remote.transport.AssociationHandle">wrappedHandle</span><span class="delimiter">)</span>            ⇒ <span title="akka.remote.transport.AssociationHandle">wrappedHandle</span>
        case AssociatedWaitHandler<span class="delimiter">(</span>_, <span title="akka.remote.transport.AssociationHandle">wrappedHandle</span>, _<span class="delimiter">)</span> ⇒ <span title="akka.remote.transport.AssociationHandle">wrappedHandle</span>
        case <a title="akka.remote.transport.ProtocolStateActor.ProtocolStateData" id="akka.remote.transport;ProtocolStateActor.<local ProtocolStateActor>;$anonfun.applyOrElse.handle.msg">msg</a> ⇒
          throw new <a href="#akka.remote.transport;AkkaProtocolException" title="akka.remote.transport.AkkaProtocolException">AkkaProtocolException</a><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;unhandled message in state Open(DisassociateUnderlying) with type [&quot;)">unhandled message in state Open(DisassociateUnderlying) with type [$</span><span class="delimiter">{</span><a href="#akka.remote.transport;ProtocolStateActor.safeClassName" title="(obj: AnyRef)String">safeClassName</a><span class="delimiter">(</span><a href="#akka.remote.transport;ProtocolStateActor.<local ProtocolStateActor>;$anonfun.applyOrElse.handle.msg" title="akka.remote.transport.ProtocolStateActor.ProtocolStateData">msg</a><span class="delimiter">)</span><span class="delimiter">}</span><span title="String(&quot;]&quot;)" class="string">]&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#akka.remote.transport;ProtocolStateActor.sendDisassociate" title="(wrappedHandle: akka.remote.transport.AssociationHandle, info: akka.remote.transport.AssociationHandle.DisassociateInfo)Unit">sendDisassociate</a><span class="delimiter">(</span><a href="#akka.remote.transport;ProtocolStateActor.<local ProtocolStateActor>;$anonfun.applyOrElse.handle" title="akka.remote.transport.AssociationHandle">handle</a>, <span title="akka.remote.transport.AssociationHandle.DisassociateInfo">info</span><span class="delimiter">)</span>
      <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.stop(65b4a2ce7c)" title="()ProtocolStateActor.this.State">stop</a><span class="delimiter">(</span><span class="delimiter">)</span>

    case Event<span class="delimiter">(</span>HandleListenerRegistered<span class="delimiter">(</span><a title="akka.remote.transport.AssociationHandle.HandleEventListener" id="akka.remote.transport;ProtocolStateActor.<local ProtocolStateActor>;$anonfun.isDefinedAt.listener">listener</a><span class="delimiter">)</span>, AssociatedWaitHandler<span class="delimiter">(</span>_, <span title="akka.remote.transport.AssociationHandle">wrappedHandle</span>, <span title="scala.collection.immutable.Queue[akka.util.ByteString]">queue</span><span class="delimiter">)</span><span class="delimiter">)</span> ⇒
      <span title="scala.collection.immutable.Queue[akka.util.ByteString]">queue</span>.<span title="(f: akka.util.ByteString =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <span title="akka.remote.transport.AssociationHandle.HandleEventListener">listener</span> <a href="Transport.scala.html#akka.remote.transport.AssociationHandle;HandleEventListener.notify(a3fa5b160e)" title="(ev: akka.remote.transport.AssociationHandle.HandleEvent)Unit">notify</a> <a href="Transport.scala.html#akka.remote.transport.AssociationHandle;InboundPayload" title="(payload: akka.util.ByteString)akka.remote.transport.AssociationHandle.InboundPayload">InboundPayload</a><span class="delimiter">(</span><a href="#akka.remote.transport;ProtocolStateActor.<local ProtocolStateActor>;$anonfun.applyOrElse.$anonfun.x$4" title="akka.util.ByteString">_</a><span class="delimiter">)</span> <span class="delimiter">}</span>
      <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.stay" title="()ProtocolStateActor.this.State">stay</a><span class="delimiter">(</span><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor.FSM;State.using" title="(nextStateData: akka.remote.transport.ProtocolStateActor.ProtocolStateData)akka.actor.FSM.State[akka.remote.transport.ProtocolStateActor.AssociationState,akka.remote.transport.ProtocolStateActor.ProtocolStateData]">using</a> <a href="#akka.remote.transport.ProtocolStateActor.ListenerReady.readResolve" title="(listener: akka.remote.transport.AssociationHandle.HandleEventListener, wrappedHandle: akka.remote.transport.AssociationHandle)akka.remote.transport.ProtocolStateActor.ListenerReady">ListenerReady</a><span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle.HandleEventListener">listener</span>, <span title="akka.remote.transport.AssociationHandle">wrappedHandle</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private def <a title="()Unit" id="akka.remote.transport;ProtocolStateActor.initTimers">initTimers</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.setTimer" title="(name: String, msg: Any, timeout: scala.concurrent.duration.FiniteDuration, repeat: Boolean)Unit">setTimer</a><span class="delimiter">(</span><span title="String(&quot;heartbeat-timer&quot;)" class="string">&quot;heartbeat-timer&quot;</span>, <a href="#akka.remote.transport.ProtocolStateActor.HeartbeatTimer.readResolve" title="akka.remote.transport.ProtocolStateActor.HeartbeatTimer.type">HeartbeatTimer</a>, <a href="#akka.remote.transport;ProtocolStateActor.settings" title="=&gt; akka.remote.transport.AkkaProtocolSettings">settings</a>.<a href="#akka.remote.transport;AkkaProtocolSettings.TransportHeartBeatInterval" title="=&gt; scala.concurrent.duration.FiniteDuration">TransportHeartBeatInterval</a>, repeat = true<span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private def <a title="(wrappedHandle: akka.remote.transport.AssociationHandle)ProtocolStateActor.this.State" id="akka.remote.transport;ProtocolStateActor.handleTimers">handleTimers</a><span class="delimiter">(</span><a title="akka.remote.transport.AssociationHandle" id="akka.remote.transport;ProtocolStateActor.handleTimers.wrappedHandle">wrappedHandle</a>: <a href="Transport.scala.html#akka.remote.transport;AssociationHandle" title="akka.remote.transport.AssociationHandle">AssociationHandle</a><span class="delimiter">)</span>: <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor.FSM;State" title="ProtocolStateActor.this.State">State</a> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#akka.remote.transport;ProtocolStateActor.failureDetector" title="=&gt; akka.remote.FailureDetector">failureDetector</a>.<a href="../FailureDetector.scala.html#akka.remote;FailureDetector.isAvailable" title="=&gt; Boolean">isAvailable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#akka.remote.transport;ProtocolStateActor.sendHeartbeat" title="(wrappedHandle: akka.remote.transport.AssociationHandle)Boolean">sendHeartbeat</a><span class="delimiter">(</span><a href="#akka.remote.transport;ProtocolStateActor.handleTimers.wrappedHandle" title="akka.remote.transport.AssociationHandle">wrappedHandle</a><span class="delimiter">)</span>
      <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.stay" title="()ProtocolStateActor.this.State">stay</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> else <span class="delimiter">{</span>
      <span class="comment">// send disassociate just to be sure</span>
      <a href="#akka.remote.transport;ProtocolStateActor.sendDisassociate" title="(wrappedHandle: akka.remote.transport.AssociationHandle, info: akka.remote.transport.AssociationHandle.DisassociateInfo)Unit">sendDisassociate</a><span class="delimiter">(</span><a href="#akka.remote.transport;ProtocolStateActor.handleTimers.wrappedHandle" title="akka.remote.transport.AssociationHandle">wrappedHandle</a>, <a href="Transport.scala.html#akka.remote.transport.AssociationHandle.Unknown" title="akka.remote.transport.AssociationHandle.Unknown.type">Unknown</a><span class="delimiter">)</span>
      <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.stop(56d0504ea6)" title="(reason: akka.actor.FSM.Reason)ProtocolStateActor.this.State">stop</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor.FSM" title="akka.actor.FSM.type">FSM</a>.<a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor.FSM;Failure" title="(cause: Any)akka.actor.FSM.Failure">Failure</a><span class="delimiter">(</span><a href="#akka.remote.transport.ProtocolStateActor.TimeoutReason.readResolve" title="(errorMessage: String)akka.remote.transport.ProtocolStateActor.TimeoutReason">TimeoutReason</a><span class="delimiter">(</span><span title="String(&quot;No response from remote. Handshake timed out or transport failure detector triggered.&quot;)" class="string">&quot;No response from remote. Handshake timed out or transport failure detector triggered.&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  private def <a title="(obj: AnyRef)String" id="akka.remote.transport;ProtocolStateActor.safeClassName">safeClassName</a><span class="delimiter">(</span><a title="AnyRef" id="akka.remote.transport;ProtocolStateActor.safeClassName.obj">obj</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#akka.remote.transport;ProtocolStateActor.safeClassName.obj" title="AnyRef">obj</a> match <span class="delimiter">{</span>
    case null ⇒ <span title="String(&quot;null&quot;)" class="string">&quot;null&quot;</span>
    case _    ⇒ <a href="#akka.remote.transport;ProtocolStateActor.safeClassName.obj" title="AnyRef">obj</a>.<span title="()Class[_]">getClass</span>.<span title="()String">getName</span>
  <span class="delimiter">}</span>

  override def <a title="()Unit" id="akka.remote.transport;ProtocolStateActor.postStop">postStop</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.cancelTimer" title="(name: String)Unit">cancelTimer</a><span class="delimiter">(</span><span title="String(&quot;heartbeat-timer&quot;)" class="string">&quot;heartbeat-timer&quot;</span><span class="delimiter">)</span>
    super.<a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.postStop" title="()Unit">postStop</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="comment">// Pass to onTermination</span>
  <span class="delimiter">}</span>

  <a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.onTermination" title="(terminationHandler: PartialFunction[ProtocolStateActor.this.StopEvent,Unit])Unit">onTermination</a> <span title="&lt;$anon: ProtocolStateActor.this.StopEvent =&gt; Unit&gt; extends scala.runtime.AbstractPartialFunction[ProtocolStateActor.this.StopEvent,Unit] with Serializable" class="delimiter">{</span>
    case StopEvent<span class="delimiter">(</span><span title="akka.actor.FSM.Reason">reason</span>, _, OutboundUnassociated<span class="delimiter">(</span><a title="akka.actor.Address" id="akka.remote.transport;ProtocolStateActor.<local ProtocolStateActor>;$anonfun.isDefinedAt.remoteAddress">remoteAddress</a>, <span title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">statusPromise</span>, <a title="akka.remote.transport.Transport" id="akka.remote.transport;ProtocolStateActor.<local ProtocolStateActor>;$anonfun.isDefinedAt.transport">transport</a><span class="delimiter">)</span><span class="delimiter">)</span> ⇒
      <span title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">statusPromise</span>.<span title="(cause: Throwable)Boolean">tryFailure</span><span title="Unit" class="delimiter">(</span><span title="akka.actor.FSM.Reason">reason</span> match <span class="delimiter">{</span>
        case FSM.Failure<span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle.DisassociateInfo">info</span>: <a href="Transport.scala.html#akka.remote.transport.AssociationHandle;DisassociateInfo" title="akka.remote.transport.AssociationHandle.DisassociateInfo">DisassociateInfo</a><span class="delimiter">)</span> ⇒ <a href="#akka.remote.transport;ProtocolStateActor.disassociateException" title="(info: akka.remote.transport.AssociationHandle.DisassociateInfo)Exception">disassociateException</a><span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle.DisassociateInfo">info</span><span class="delimiter">)</span>
        case _                                   ⇒ new <a href="#akka.remote.transport;AkkaProtocolException" title="akka.remote.transport.AkkaProtocolException">AkkaProtocolException</a><span class="delimiter">(</span><span title="String(&quot;Transport disassociated before handshake finished&quot;)" class="string">&quot;Transport disassociated before handshake finished&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>

    case StopEvent<span class="delimiter">(</span><span title="akka.actor.FSM.Reason">reason</span>, _, OutboundUnderlyingAssociated<span class="delimiter">(</span><span title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">statusPromise</span>, <span title="akka.remote.transport.AssociationHandle">wrappedHandle</span><span class="delimiter">)</span><span class="delimiter">)</span> ⇒
      <span title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">statusPromise</span>.<span title="(cause: Throwable)Boolean">tryFailure</span><span class="delimiter">(</span><span title="akka.actor.FSM.Reason">reason</span> match <span class="delimiter">{</span>
        case FSM.Failure<span class="delimiter">(</span>TimeoutReason<span class="delimiter">(</span><a title="String" id="akka.remote.transport;ProtocolStateActor.<local ProtocolStateActor>;$anonfun.applyOrElse.errorMessage">errorMessage</a><span class="delimiter">)</span><span class="delimiter">)</span> ⇒
          new <a href="#akka.remote.transport;AkkaProtocolException" title="akka.remote.transport.AkkaProtocolException">AkkaProtocolException</a><span class="delimiter">(</span><a href="#akka.remote.transport;ProtocolStateActor.<local ProtocolStateActor>;$anonfun.applyOrElse.errorMessage" title="String">errorMessage</a><span class="delimiter">)</span>
        case FSM.Failure<span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle.DisassociateInfo">info</span>: <a href="Transport.scala.html#akka.remote.transport.AssociationHandle;DisassociateInfo" title="akka.remote.transport.AssociationHandle.DisassociateInfo">DisassociateInfo</a><span class="delimiter">)</span> ⇒
          <a href="#akka.remote.transport;ProtocolStateActor.disassociateException" title="(info: akka.remote.transport.AssociationHandle.DisassociateInfo)Exception">disassociateException</a><span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle.DisassociateInfo">info</span><span class="delimiter">)</span>
        case FSM.Failure<span class="delimiter">(</span><a href="#akka.remote.transport.ProtocolStateActor.ForbiddenUidReason.readResolve" title="akka.remote.transport.ProtocolStateActor.ForbiddenUidReason.type">ForbiddenUidReason</a><span class="delimiter">)</span> ⇒
          <a href="Transport.scala.html#akka.remote.transport.Transport;InvalidAssociationException" title="(msg: String, cause: Throwable)akka.remote.transport.Transport.InvalidAssociationException">InvalidAssociationException</a><span class="delimiter">(</span><span title="String(&quot;The remote system has a UID that has been quarantined. Association aborted.&quot;)" class="string">&quot;The remote system has a UID that has been quarantined. Association aborted.&quot;</span><span class="delimiter">)</span>
        case _ ⇒
          new <a href="#akka.remote.transport;AkkaProtocolException" title="akka.remote.transport.AkkaProtocolException">AkkaProtocolException</a><span class="delimiter">(</span><span title="String(&quot;Transport disassociated before handshake finished&quot;)" class="string">&quot;Transport disassociated before handshake finished&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
      <span title="akka.remote.transport.AssociationHandle">wrappedHandle</span>.<a href="Transport.scala.html#akka.remote.transport;AssociationHandle.disassociate" title="()Unit">disassociate</a><span class="delimiter">(</span><span class="delimiter">)</span>

    case StopEvent<span class="delimiter">(</span><span title="akka.actor.FSM.Reason">reason</span>, _, AssociatedWaitHandler<span class="delimiter">(</span><a title="scala.concurrent.Future[akka.remote.transport.AssociationHandle.HandleEventListener]" id="akka.remote.transport;ProtocolStateActor.<local ProtocolStateActor>;$anonfun.isDefinedAt.handlerFuture">handlerFuture</a>, <span title="akka.remote.transport.AssociationHandle">wrappedHandle</span>, <span title="scala.collection.immutable.Queue[akka.util.ByteString]">queue</span><span class="delimiter">)</span><span class="delimiter">)</span> ⇒
      <span class="comment">// Invalidate exposed but still unfinished promise. The underlying association disappeared, so after</span>
      <span class="comment">// registration immediately signal a disassociate</span>
      val <span title="akka.remote.transport.AssociationHandle.Disassociated">disassociateNotification</span> = <span title="akka.actor.FSM.Reason">reason</span> match <span class="delimiter">{</span>
        case FSM.Failure<span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle.DisassociateInfo">info</span>: <a href="Transport.scala.html#akka.remote.transport.AssociationHandle;DisassociateInfo" title="akka.remote.transport.AssociationHandle.DisassociateInfo">DisassociateInfo</a><span class="delimiter">)</span> ⇒ <a href="Transport.scala.html#akka.remote.transport.AssociationHandle;Disassociated" title="(info: akka.remote.transport.AssociationHandle.DisassociateInfo)akka.remote.transport.AssociationHandle.Disassociated">Disassociated</a><span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle.DisassociateInfo">info</span><span class="delimiter">)</span>
        case _                                   ⇒ <a href="Transport.scala.html#akka.remote.transport.AssociationHandle;Disassociated" title="(info: akka.remote.transport.AssociationHandle.DisassociateInfo)akka.remote.transport.AssociationHandle.Disassociated">Disassociated</a><span class="delimiter">(</span><a href="Transport.scala.html#akka.remote.transport.AssociationHandle.Unknown" title="akka.remote.transport.AssociationHandle.Unknown.type">Unknown</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span title="scala.concurrent.Future[akka.remote.transport.AssociationHandle.HandleEventListener]">handlerFuture</span> <a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.dispatcher" title="(f: akka.remote.transport.AssociationHandle.HandleEventListener =&gt; Unit)(implicit executor: scala.concurrent.ExecutionContext)Unit">foreach</a> <span class="delimiter">{</span> <a href="#akka.remote.transport;ProtocolStateActor.<local ProtocolStateActor>;$anonfun.applyOrElse.$anonfun.x$5" title="akka.remote.transport.AssociationHandle.HandleEventListener">_</a> <a href="Transport.scala.html#akka.remote.transport.AssociationHandle;HandleEventListener.notify(a3fa5b160e)" title="(ev: akka.remote.transport.AssociationHandle.HandleEvent)Unit">notify</a> <span title="akka.remote.transport.AssociationHandle.Disassociated">disassociateNotification</span> <span class="delimiter">}</span>
      <span title="akka.remote.transport.AssociationHandle">wrappedHandle</span>.<a href="Transport.scala.html#akka.remote.transport;AssociationHandle.disassociate" title="()Unit">disassociate</a><span class="delimiter">(</span><span class="delimiter">)</span>

    case StopEvent<span class="delimiter">(</span><span title="akka.actor.FSM.Reason">reason</span>, _, ListenerReady<span class="delimiter">(</span><a title="akka.remote.transport.AssociationHandle.HandleEventListener" id="akka.remote.transport;ProtocolStateActor.<local ProtocolStateActor>;$anonfun.isDefinedAt.handler">handler</a>, <span title="akka.remote.transport.AssociationHandle">wrappedHandle</span><span class="delimiter">)</span><span class="delimiter">)</span> ⇒
      val <span title="akka.remote.transport.AssociationHandle.Disassociated">disassociateNotification</span> = <span title="akka.actor.FSM.Reason">reason</span> match <span class="delimiter">{</span>
        case FSM.Failure<span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle.DisassociateInfo">info</span>: <a href="Transport.scala.html#akka.remote.transport.AssociationHandle;DisassociateInfo" title="akka.remote.transport.AssociationHandle.DisassociateInfo">DisassociateInfo</a><span class="delimiter">)</span> ⇒ <a href="Transport.scala.html#akka.remote.transport.AssociationHandle;Disassociated" title="(info: akka.remote.transport.AssociationHandle.DisassociateInfo)akka.remote.transport.AssociationHandle.Disassociated">Disassociated</a><span class="delimiter">(</span><span title="akka.remote.transport.AssociationHandle.DisassociateInfo">info</span><span class="delimiter">)</span>
        case _                                   ⇒ <a href="Transport.scala.html#akka.remote.transport.AssociationHandle;Disassociated" title="(info: akka.remote.transport.AssociationHandle.DisassociateInfo)akka.remote.transport.AssociationHandle.Disassociated">Disassociated</a><span class="delimiter">(</span><a href="Transport.scala.html#akka.remote.transport.AssociationHandle.Unknown" title="akka.remote.transport.AssociationHandle.Unknown.type">Unknown</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#akka.remote.transport;ProtocolStateActor.<local ProtocolStateActor>;$anonfun.isDefinedAt.handler" title="akka.remote.transport.AssociationHandle.HandleEventListener">handler</a> <a href="Transport.scala.html#akka.remote.transport.AssociationHandle;HandleEventListener.notify(a3fa5b160e)" title="(ev: akka.remote.transport.AssociationHandle.HandleEvent)Unit">notify</a> <span title="akka.remote.transport.AssociationHandle.Disassociated">disassociateNotification</span>
      <span title="akka.remote.transport.AssociationHandle">wrappedHandle</span>.<a href="Transport.scala.html#akka.remote.transport;AssociationHandle.disassociate" title="()Unit">disassociate</a><span class="delimiter">(</span><span class="delimiter">)</span>

    case StopEvent<span class="delimiter">(</span>_, _, InboundUnassociated<span class="delimiter">(</span>_, <span title="akka.remote.transport.AssociationHandle">wrappedHandle</span><span class="delimiter">)</span><span class="delimiter">)</span> ⇒
      <span title="akka.remote.transport.AssociationHandle">wrappedHandle</span>.<a href="Transport.scala.html#akka.remote.transport;AssociationHandle.disassociate" title="()Unit">disassociate</a><span title="Boolean(true)" class="delimiter">(</span><span class="delimiter">)</span>

  <span class="delimiter">}</span>

  private def <a title="(info: akka.remote.transport.AssociationHandle.DisassociateInfo)Exception" id="akka.remote.transport;ProtocolStateActor.disassociateException">disassociateException</a><span class="delimiter">(</span><a title="akka.remote.transport.AssociationHandle.DisassociateInfo" id="akka.remote.transport;ProtocolStateActor.disassociateException.info">info</a>: <a href="Transport.scala.html#akka.remote.transport.AssociationHandle;DisassociateInfo" title="akka.remote.transport.AssociationHandle.DisassociateInfo">DisassociateInfo</a><span class="delimiter">)</span>: <span title="Exception">Exception</span> = <a href="#akka.remote.transport;ProtocolStateActor.disassociateException.info" title="akka.remote.transport.AssociationHandle.DisassociateInfo">info</a> match <span class="delimiter">{</span>
    case <a href="Transport.scala.html#akka.remote.transport.AssociationHandle.Unknown" title="akka.remote.transport.AssociationHandle.Unknown.type">Unknown</a> ⇒
      new <a href="#akka.remote.transport;AkkaProtocolException" title="akka.remote.transport.AkkaProtocolException">AkkaProtocolException</a><span class="delimiter">(</span><span title="String(&quot;The remote system explicitly disassociated (reason unknown).&quot;)" class="string">&quot;The remote system explicitly disassociated (reason unknown).&quot;</span><span class="delimiter">)</span>
    case <a href="Transport.scala.html#akka.remote.transport.AssociationHandle.Shutdown" title="akka.remote.transport.AssociationHandle.Shutdown.type">Shutdown</a> ⇒
      <a href="Transport.scala.html#akka.remote.transport.Transport;InvalidAssociationException" title="(msg: String, cause: Throwable)akka.remote.transport.Transport.InvalidAssociationException">InvalidAssociationException</a><span class="delimiter">(</span><span title="String(&quot;The remote system refused the association because it is shutting down.&quot;)" class="string">&quot;The remote system refused the association because it is shutting down.&quot;</span><span class="delimiter">)</span>
    case <a href="Transport.scala.html#akka.remote.transport.AssociationHandle.Quarantined" title="akka.remote.transport.AssociationHandle.Quarantined.type">Quarantined</a> ⇒
      <a href="Transport.scala.html#akka.remote.transport.Transport;InvalidAssociationException" title="(msg: String, cause: Throwable)akka.remote.transport.Transport.InvalidAssociationException">InvalidAssociationException</a><span class="delimiter">(</span><span class="string">&quot;The remote system has quarantined this system. No further associations to the remote &quot;</span> <span title="String(&quot;The remote system has quarantined this system. No further associations to the remote system are possible until this system is restarted.&quot;)">+</span>
        <span class="string">&quot;system are possible until this system is restarted.&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  override protected def <a title="(reason: akka.actor.FSM.Reason)Unit" id="akka.remote.transport;ProtocolStateActor.logTermination">logTermination</a><span class="delimiter">(</span><a title="akka.actor.FSM.Reason" id="akka.remote.transport;ProtocolStateActor.logTermination.reason">reason</a>: FSM.<a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor.FSM;Reason" title="akka.actor.FSM.Reason">Reason</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.remote.transport;ProtocolStateActor.logTermination.reason" title="akka.actor.FSM.Reason">reason</a> match <span class="delimiter">{</span>
    case FSM.Failure<span class="delimiter">(</span>_: <a href="Transport.scala.html#akka.remote.transport.AssociationHandle;DisassociateInfo" title="akka.remote.transport.AssociationHandle.DisassociateInfo">DisassociateInfo</a><span class="delimiter">)</span> ⇒ <span class="comment">// no logging</span>
    case FSM.Failure<span class="delimiter">(</span><a href="#akka.remote.transport.ProtocolStateActor.ForbiddenUidReason.readResolve" title="akka.remote.transport.ProtocolStateActor.ForbiddenUidReason.type">ForbiddenUidReason</a><span class="delimiter">)</span>  ⇒ <span class="comment">// no logging</span>
    case FSM.Failure<span class="delimiter">(</span>TimeoutReason<span class="delimiter">(</span><a title="String" id="akka.remote.transport;ProtocolStateActor.logTermination.errorMessage">errorMessage</a><span class="delimiter">)</span><span class="delimiter">)</span> ⇒
      <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.info(cc2e600322)" title="(message: String)Unit">info</a><span class="delimiter">(</span><a href="#akka.remote.transport;ProtocolStateActor.logTermination.errorMessage" title="String">errorMessage</a><span class="delimiter">)</span>
    case <a title="akka.actor.FSM.Reason" id="akka.remote.transport;ProtocolStateActor.logTermination.other">other</a> ⇒ super.<a href="../../../../actor/akka/actor/FSM.scala.html#akka.actor;FSM.logTermination" title="(reason: akka.actor.FSM.Reason)Unit">logTermination</a><span class="delimiter">(</span><a href="#akka.remote.transport;ProtocolStateActor.logTermination.reason" title="akka.actor.FSM.Reason">reason</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private def <a title="(readHandlerPromise: scala.concurrent.Promise[akka.remote.transport.AssociationHandle.HandleEventListener])Unit" id="akka.remote.transport;ProtocolStateActor.listenForListenerRegistration">listenForListenerRegistration</a><span class="delimiter">(</span><a title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle.HandleEventListener]" id="akka.remote.transport;ProtocolStateActor.listenForListenerRegistration.readHandlerPromise">readHandlerPromise</a>: <span title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle.HandleEventListener]">Promise</span><span class="delimiter">[</span>HandleEventListener<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#akka.remote.transport;ProtocolStateActor.listenForListenerRegistration.readHandlerPromise" title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle.HandleEventListener]">readHandlerPromise</a>.<span title="=&gt; scala.concurrent.Future[akka.remote.transport.AssociationHandle.HandleEventListener]">future</span>.<span title="(f: akka.remote.transport.AssociationHandle.HandleEventListener =&gt; akka.remote.transport.ProtocolStateActor.HandleListenerRegistered)(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[akka.remote.transport.ProtocolStateActor.HandleListenerRegistered]">map</span> <a href="../../../../actor/akka/pattern/PipeToSupport.scala.html#akka.pattern;PipeToSupport.pipe" title="(future: scala.concurrent.Future[akka.remote.transport.ProtocolStateActor.HandleListenerRegistered])(implicit executionContext: scala.concurrent.ExecutionContext)akka.pattern.PipeableFuture[akka.remote.transport.ProtocolStateActor.HandleListenerRegistered]" class="delimiter">{</a> <a href="#akka.remote.transport.ProtocolStateActor.HandleListenerRegistered.readResolve" title="(listener: akka.remote.transport.AssociationHandle.HandleEventListener)akka.remote.transport.ProtocolStateActor.HandleListenerRegistered">HandleListenerRegistered</a><span class="delimiter">(</span><a href="#akka.remote.transport;ProtocolStateActor.listenForListenerRegistration.$anonfun.x$6" title="akka.remote.transport.AssociationHandle.HandleEventListener">_</a><span class="delimiter">)</span> <span class="delimiter">}</span> <a href="../../../../actor/akka/pattern/PipeToSupport.scala.html#akka.pattern;PipeToSupport;PipeableFuture.pipeTo" title="(recipient: akka.actor.ActorRef)(implicit sender: akka.actor.ActorRef)scala.concurrent.Future[akka.remote.transport.ProtocolStateActor.HandleListenerRegistered]">pipeTo</a> <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>

  private def <a title="(wrappedHandle: akka.remote.transport.AssociationHandle, handshakeInfo: akka.remote.transport.HandshakeInfo, statusPromise: scala.concurrent.Promise[akka.remote.transport.AssociationHandle])scala.concurrent.Future[akka.remote.transport.AssociationHandle.HandleEventListener]" id="akka.remote.transport;ProtocolStateActor.notifyOutboundHandler">notifyOutboundHandler</a><span class="delimiter">(</span><a title="akka.remote.transport.AssociationHandle" id="akka.remote.transport;ProtocolStateActor.notifyOutboundHandler.wrappedHandle">wrappedHandle</a>: <a href="Transport.scala.html#akka.remote.transport;AssociationHandle" title="akka.remote.transport.AssociationHandle">AssociationHandle</a>,
                                    <a title="akka.remote.transport.HandshakeInfo" id="akka.remote.transport;ProtocolStateActor.notifyOutboundHandler.handshakeInfo">handshakeInfo</a>: <a href="#akka.remote.transport.HandshakeInfo.readResolve" title="akka.remote.transport.HandshakeInfo">HandshakeInfo</a>,
                                    <a title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]" id="akka.remote.transport;ProtocolStateActor.notifyOutboundHandler.statusPromise">statusPromise</a>: <span title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">Promise</span><span class="delimiter">[</span>AssociationHandle<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scala.concurrent.Future[akka.remote.transport.AssociationHandle.HandleEventListener]">Future</span><span class="delimiter">[</span>HandleEventListener<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle.HandleEventListener]" id="akka.remote.transport;ProtocolStateActor.notifyOutboundHandler.readHandlerPromise">readHandlerPromise</a> = <span title="[T]()scala.concurrent.Promise[T]">Promise</span><span title="()scala.concurrent.Promise[akka.remote.transport.AssociationHandle.HandleEventListener]" class="delimiter">[</span><a href="Transport.scala.html#akka.remote.transport.AssociationHandle;HandleEventListener" title="akka.remote.transport.AssociationHandle.HandleEventListener">HandleEventListener</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#akka.remote.transport;ProtocolStateActor.listenForListenerRegistration" title="(readHandlerPromise: scala.concurrent.Promise[akka.remote.transport.AssociationHandle.HandleEventListener])Unit">listenForListenerRegistration</a><span class="delimiter">(</span><a href="#akka.remote.transport;ProtocolStateActor.notifyOutboundHandler.readHandlerPromise" title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle.HandleEventListener]">readHandlerPromise</a><span class="delimiter">)</span>

    <a href="#akka.remote.transport;ProtocolStateActor.notifyOutboundHandler.statusPromise" title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle]">statusPromise</a>.<span title="(value: akka.remote.transport.AssociationHandle)statusPromise.type">success</span><span class="delimiter">(</span>
      new <a href="#akka.remote.transport;AkkaProtocolHandle" title="akka.remote.transport.AkkaProtocolHandle">AkkaProtocolHandle</a><span class="delimiter">(</span>
        <a href="#akka.remote.transport;ProtocolStateActor.localAddress" title="=&gt; akka.actor.Address">localAddress</a>,
        <a href="#akka.remote.transport;ProtocolStateActor.notifyOutboundHandler.wrappedHandle" title="akka.remote.transport.AssociationHandle">wrappedHandle</a>.<a href="Transport.scala.html#akka.remote.transport;AssociationHandle.remoteAddress" title="=&gt; akka.actor.Address">remoteAddress</a>,
        <a href="#akka.remote.transport;ProtocolStateActor.notifyOutboundHandler.readHandlerPromise" title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle.HandleEventListener]">readHandlerPromise</a>,
        <a href="#akka.remote.transport;ProtocolStateActor.notifyOutboundHandler.wrappedHandle" title="akka.remote.transport.AssociationHandle">wrappedHandle</a>,
        <a href="#akka.remote.transport;ProtocolStateActor.notifyOutboundHandler.handshakeInfo" title="akka.remote.transport.HandshakeInfo">handshakeInfo</a>,
        <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>,
        <a href="#akka.remote.transport;ProtocolStateActor.codec" title="=&gt; akka.remote.transport.AkkaPduCodec">codec</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#akka.remote.transport;ProtocolStateActor.notifyOutboundHandler.readHandlerPromise" title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle.HandleEventListener]">readHandlerPromise</a>.<span title="=&gt; scala.concurrent.Future[akka.remote.transport.AssociationHandle.HandleEventListener]">future</span>
  <span class="delimiter">}</span>

  private def <a title="(wrappedHandle: akka.remote.transport.AssociationHandle, handshakeInfo: akka.remote.transport.HandshakeInfo, associationListener: akka.remote.transport.Transport.AssociationEventListener)scala.concurrent.Future[akka.remote.transport.AssociationHandle.HandleEventListener]" id="akka.remote.transport;ProtocolStateActor.notifyInboundHandler">notifyInboundHandler</a><span class="delimiter">(</span><a title="akka.remote.transport.AssociationHandle" id="akka.remote.transport;ProtocolStateActor.notifyInboundHandler.wrappedHandle">wrappedHandle</a>: <a href="Transport.scala.html#akka.remote.transport;AssociationHandle" title="akka.remote.transport.AssociationHandle">AssociationHandle</a>,
                                   <a title="akka.remote.transport.HandshakeInfo" id="akka.remote.transport;ProtocolStateActor.notifyInboundHandler.handshakeInfo">handshakeInfo</a>: <a href="#akka.remote.transport.HandshakeInfo.readResolve" title="akka.remote.transport.HandshakeInfo">HandshakeInfo</a>,
                                   <a title="akka.remote.transport.Transport.AssociationEventListener" id="akka.remote.transport;ProtocolStateActor.notifyInboundHandler.associationListener">associationListener</a>: <a href="Transport.scala.html#akka.remote.transport.Transport;AssociationEventListener" title="akka.remote.transport.Transport.AssociationEventListener">AssociationEventListener</a><span class="delimiter">)</span>: <span title="scala.concurrent.Future[akka.remote.transport.AssociationHandle.HandleEventListener]">Future</span><span class="delimiter">[</span>HandleEventListener<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle.HandleEventListener]" id="akka.remote.transport;ProtocolStateActor.notifyInboundHandler.readHandlerPromise">readHandlerPromise</a> = <span title="[T]()scala.concurrent.Promise[T]">Promise</span><span title="()scala.concurrent.Promise[akka.remote.transport.AssociationHandle.HandleEventListener]" class="delimiter">[</span><a href="Transport.scala.html#akka.remote.transport.AssociationHandle;HandleEventListener" title="akka.remote.transport.AssociationHandle.HandleEventListener">HandleEventListener</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#akka.remote.transport;ProtocolStateActor.listenForListenerRegistration" title="(readHandlerPromise: scala.concurrent.Promise[akka.remote.transport.AssociationHandle.HandleEventListener])Unit">listenForListenerRegistration</a><span class="delimiter">(</span><a href="#akka.remote.transport;ProtocolStateActor.notifyInboundHandler.readHandlerPromise" title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle.HandleEventListener]">readHandlerPromise</a><span class="delimiter">)</span>

    <a href="#akka.remote.transport;ProtocolStateActor.notifyInboundHandler.associationListener" title="akka.remote.transport.Transport.AssociationEventListener">associationListener</a> <a href="Transport.scala.html#akka.remote.transport.Transport;AssociationEventListener.notify(1d1bf972b0)" title="(ev: akka.remote.transport.Transport.AssociationEvent)Unit">notify</a> <a href="Transport.scala.html#akka.remote.transport.Transport;InboundAssociation" title="(association: akka.remote.transport.AssociationHandle)akka.remote.transport.Transport.InboundAssociation">InboundAssociation</a><span class="delimiter">(</span>
      new <a href="#akka.remote.transport;AkkaProtocolHandle" title="akka.remote.transport.AkkaProtocolHandle">AkkaProtocolHandle</a><span class="delimiter">(</span>
        <a href="#akka.remote.transport;ProtocolStateActor.localAddress" title="=&gt; akka.actor.Address">localAddress</a>,
        <a href="#akka.remote.transport;ProtocolStateActor.notifyInboundHandler.handshakeInfo" title="akka.remote.transport.HandshakeInfo">handshakeInfo</a>.<a href="#akka.remote.transport;HandshakeInfo.origin" title="=&gt; akka.actor.Address">origin</a>,
        <a href="#akka.remote.transport;ProtocolStateActor.notifyInboundHandler.readHandlerPromise" title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle.HandleEventListener]">readHandlerPromise</a>,
        <a href="#akka.remote.transport;ProtocolStateActor.notifyInboundHandler.wrappedHandle" title="akka.remote.transport.AssociationHandle">wrappedHandle</a>,
        <a href="#akka.remote.transport;ProtocolStateActor.notifyInboundHandler.handshakeInfo" title="akka.remote.transport.HandshakeInfo">handshakeInfo</a>,
        <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>,
        <a href="#akka.remote.transport;ProtocolStateActor.codec" title="=&gt; akka.remote.transport.AkkaPduCodec">codec</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#akka.remote.transport;ProtocolStateActor.notifyInboundHandler.readHandlerPromise" title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle.HandleEventListener]">readHandlerPromise</a>.<span title="=&gt; scala.concurrent.Future[akka.remote.transport.AssociationHandle.HandleEventListener]">future</span>
  <span class="delimiter">}</span>

  private def <a title="(pdu: akka.util.ByteString)akka.remote.transport.AkkaPduCodec.AkkaPdu" id="akka.remote.transport;ProtocolStateActor.decodePdu">decodePdu</a><span class="delimiter">(</span><a title="akka.util.ByteString" id="akka.remote.transport;ProtocolStateActor.decodePdu.pdu">pdu</a>: <a href="../../../../actor/akka/util/ByteString.scala.html#akka.util;ByteString" title="akka.util.ByteString">ByteString</a><span class="delimiter">)</span>: <a href="AkkaPduCodec.scala.html#akka.remote.transport.AkkaPduCodec;AkkaPdu" title="akka.remote.transport.AkkaPduCodec.AkkaPdu">AkkaPdu</a> = try <a href="#akka.remote.transport;ProtocolStateActor.codec" title="=&gt; akka.remote.transport.AkkaPduCodec">codec</a>.<a href="AkkaPduCodec.scala.html#akka.remote.transport;AkkaPduCodec.decodePdu" title="(raw: akka.util.ByteString)akka.remote.transport.AkkaPduCodec.AkkaPdu">decodePdu</a><span class="delimiter">(</span><a href="#akka.remote.transport;ProtocolStateActor.decodePdu.pdu" title="akka.util.ByteString">pdu</a><span class="delimiter">)</span> catch <span class="delimiter">{</span>
    case <a href="#akka.remote.transport;ProtocolStateActor.decodePdu.<unapply-selector>" title="(t: Throwable)Option[Throwable]">NonFatal</a><span class="delimiter">(</span><a title="Throwable" id="akka.remote.transport;ProtocolStateActor.decodePdu.e">e</a><span class="delimiter">)</span> ⇒ throw new <a href="#akka.remote.transport;AkkaProtocolException" title="akka.remote.transport.AkkaProtocolException">AkkaProtocolException</a><span class="delimiter">(</span><span title="String(&quot;Error while decoding incoming Akka PDU of length: &quot;)" class="string">&quot;Error while decoding incoming Akka PDU of length: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#akka.remote.transport;ProtocolStateActor.decodePdu.pdu" title="akka.util.ByteString">pdu</a>.<span title="=&gt; Int">length</span>, <a href="#akka.remote.transport;ProtocolStateActor.decodePdu.e" title="Throwable">e</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">// Neither heartbeats neither disassociate cares about backing off if write fails:</span>
  <span class="comment">//  - Missing heartbeats are not critical</span>
  <span class="comment">//  - Disassociate messages are not guaranteed anyway</span>
  private def <a title="(wrappedHandle: akka.remote.transport.AssociationHandle)Boolean" id="akka.remote.transport;ProtocolStateActor.sendHeartbeat">sendHeartbeat</a><span class="delimiter">(</span><a title="akka.remote.transport.AssociationHandle" id="akka.remote.transport;ProtocolStateActor.sendHeartbeat.wrappedHandle">wrappedHandle</a>: <a href="Transport.scala.html#akka.remote.transport;AssociationHandle" title="akka.remote.transport.AssociationHandle">AssociationHandle</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = try <a href="#akka.remote.transport;ProtocolStateActor.sendHeartbeat.wrappedHandle" title="akka.remote.transport.AssociationHandle">wrappedHandle</a>.<a href="Transport.scala.html#akka.remote.transport;AssociationHandle.write" title="(payload: akka.util.ByteString)Boolean">write</a><span class="delimiter">(</span><a href="#akka.remote.transport;ProtocolStateActor.codec" title="=&gt; akka.remote.transport.AkkaPduCodec">codec</a>.<a href="AkkaPduCodec.scala.html#akka.remote.transport;AkkaPduCodec.constructHeartbeat" title="=&gt; akka.util.ByteString">constructHeartbeat</a><span class="delimiter">)</span> catch <span class="delimiter">{</span>
    case <a href="#akka.remote.transport;ProtocolStateActor.sendHeartbeat.<unapply-selector>" title="(t: Throwable)Option[Throwable]">NonFatal</a><span class="delimiter">(</span><a title="Throwable" id="akka.remote.transport;ProtocolStateActor.sendHeartbeat.e">e</a><span class="delimiter">)</span> ⇒ throw new <a href="#akka.remote.transport;AkkaProtocolException" title="akka.remote.transport.AkkaProtocolException">AkkaProtocolException</a><span class="delimiter">(</span><span title="String(&quot;Error writing HEARTBEAT to transport&quot;)" class="string">&quot;Error writing HEARTBEAT to transport&quot;</span>, <a href="#akka.remote.transport;ProtocolStateActor.sendHeartbeat.e" title="Throwable">e</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private def <a title="(wrappedHandle: akka.remote.transport.AssociationHandle, info: akka.remote.transport.AssociationHandle.DisassociateInfo)Unit" id="akka.remote.transport;ProtocolStateActor.sendDisassociate">sendDisassociate</a><span class="delimiter">(</span><a title="akka.remote.transport.AssociationHandle" id="akka.remote.transport;ProtocolStateActor.sendDisassociate.wrappedHandle">wrappedHandle</a>: <a href="Transport.scala.html#akka.remote.transport;AssociationHandle" title="akka.remote.transport.AssociationHandle">AssociationHandle</a>, <a title="akka.remote.transport.AssociationHandle.DisassociateInfo" id="akka.remote.transport;ProtocolStateActor.sendDisassociate.info">info</a>: <a href="Transport.scala.html#akka.remote.transport.AssociationHandle;DisassociateInfo" title="akka.remote.transport.AssociationHandle.DisassociateInfo">DisassociateInfo</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    try <a href="#akka.remote.transport;ProtocolStateActor.sendDisassociate.wrappedHandle" title="akka.remote.transport.AssociationHandle">wrappedHandle</a>.<a href="Transport.scala.html#akka.remote.transport;AssociationHandle.write" title="(payload: akka.util.ByteString)Boolean">write</a><span title="Unit" class="delimiter">(</span><a href="#akka.remote.transport;ProtocolStateActor.codec" title="=&gt; akka.remote.transport.AkkaPduCodec">codec</a>.<a href="AkkaPduCodec.scala.html#akka.remote.transport;AkkaPduCodec.constructDisassociate" title="(reason: akka.remote.transport.AssociationHandle.DisassociateInfo)akka.util.ByteString">constructDisassociate</a><span class="delimiter">(</span><a href="#akka.remote.transport;ProtocolStateActor.sendDisassociate.info" title="akka.remote.transport.AssociationHandle.DisassociateInfo">info</a><span class="delimiter">)</span><span class="delimiter">)</span> catch <span class="delimiter">{</span>
      case <a href="#akka.remote.transport;ProtocolStateActor.sendDisassociate.<unapply-selector>" title="(t: Throwable)Option[Throwable]">NonFatal</a><span class="delimiter">(</span><a title="Throwable" id="akka.remote.transport;ProtocolStateActor.sendDisassociate.e">e</a><span class="delimiter">)</span> ⇒ throw new <a href="#akka.remote.transport;AkkaProtocolException" title="akka.remote.transport.AkkaProtocolException">AkkaProtocolException</a><span class="delimiter">(</span><span title="String(&quot;Error writing DISASSOCIATE to transport&quot;)" class="string">&quot;Error writing DISASSOCIATE to transport&quot;</span>, <a href="#akka.remote.transport;ProtocolStateActor.sendDisassociate.e" title="Throwable">e</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  private def <a title="(wrappedHandle: akka.remote.transport.AssociationHandle, info: akka.remote.transport.HandshakeInfo)Boolean" id="akka.remote.transport;ProtocolStateActor.sendAssociate">sendAssociate</a><span class="delimiter">(</span><a title="akka.remote.transport.AssociationHandle" id="akka.remote.transport;ProtocolStateActor.sendAssociate.wrappedHandle">wrappedHandle</a>: <a href="Transport.scala.html#akka.remote.transport;AssociationHandle" title="akka.remote.transport.AssociationHandle">AssociationHandle</a>, <a title="akka.remote.transport.HandshakeInfo" id="akka.remote.transport;ProtocolStateActor.sendAssociate.info">info</a>: <a href="#akka.remote.transport.HandshakeInfo.readResolve" title="akka.remote.transport.HandshakeInfo">HandshakeInfo</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = try <span class="delimiter">{</span>
    <a href="#akka.remote.transport;ProtocolStateActor.sendAssociate.wrappedHandle" title="akka.remote.transport.AssociationHandle">wrappedHandle</a>.<a href="Transport.scala.html#akka.remote.transport;AssociationHandle.write" title="(payload: akka.util.ByteString)Boolean">write</a><span class="delimiter">(</span><a href="#akka.remote.transport;ProtocolStateActor.codec" title="=&gt; akka.remote.transport.AkkaPduCodec">codec</a>.<a href="AkkaPduCodec.scala.html#akka.remote.transport;AkkaPduCodec.constructAssociate" title="(info: akka.remote.transport.HandshakeInfo)akka.util.ByteString">constructAssociate</a><span class="delimiter">(</span><a href="#akka.remote.transport;ProtocolStateActor.sendAssociate.info" title="akka.remote.transport.HandshakeInfo">info</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span> catch <span class="delimiter">{</span>
    case <a href="#akka.remote.transport;ProtocolStateActor.sendAssociate.<unapply-selector>" title="(t: Throwable)Option[Throwable]">NonFatal</a><span class="delimiter">(</span><a title="Throwable" id="akka.remote.transport;ProtocolStateActor.sendAssociate.e">e</a><span class="delimiter">)</span> ⇒ throw new <a href="#akka.remote.transport;AkkaProtocolException" title="akka.remote.transport.AkkaProtocolException">AkkaProtocolException</a><span class="delimiter">(</span><span title="String(&quot;Error writing ASSOCIATE to transport&quot;)" class="string">&quot;Error writing ASSOCIATE to transport&quot;</span>, <a href="#akka.remote.transport;ProtocolStateActor.sendAssociate.e" title="Throwable">e</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
