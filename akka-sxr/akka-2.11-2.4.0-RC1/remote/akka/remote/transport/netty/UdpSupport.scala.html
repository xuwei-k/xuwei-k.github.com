<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>remote/akka/remote/transport/netty/UdpSupport.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (C) 2009-2015 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
package akka.remote.transport.netty

import akka.actor.Address
import akka.remote.transport.AssociationHandle
import akka.remote.transport.<a href="../Transport.scala.html#akka.remote.transport.AssociationHandle" title="akka.remote.transport.AssociationHandle.type">AssociationHandle</a>.<span class="delimiter">{</span> HandleEventListener, InboundPayload <span class="delimiter">}</span>
import akka.remote.transport.<a href="../Transport.scala.html#akka.remote.transport.Transport" title="akka.remote.transport.Transport.type">Transport</a>.AssociationEventListener
import akka.util.ByteString
import java.net.<span class="delimiter">{</span> SocketAddress, InetAddress, InetSocketAddress <span class="delimiter">}</span>
import org.jboss.netty.buffer.<span class="delimiter">{</span> ChannelBuffer, ChannelBuffers <span class="delimiter">}</span>
import org.jboss.netty.channel._
import scala.concurrent.<span class="delimiter">{</span> Future, Promise <span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>remote<span class="delimiter">]</span> trait <a title="trait UdpHandlers extends AnyRef with akka.remote.transport.netty.CommonHandlers" id="akka.remote.transport.netty;UdpHandlers">UdpHandlers</a> extends <a href="NettyTransport.scala.html#akka.remote.transport.netty;CommonHandlers" title="akka.remote.transport.netty.CommonHandlers">CommonHandlers</a> <span class="delimiter">{</span>

  override def <a title="(channel: org.jboss.netty.channel.Channel, localAddress: akka.actor.Address, remoteAddress: akka.actor.Address)akka.remote.transport.AssociationHandle" id="akka.remote.transport.netty;UdpHandlers.createHandle">createHandle</a><span class="delimiter">(</span><a title="org.jboss.netty.channel.Channel" id="akka.remote.transport.netty;UdpHandlers.createHandle.channel">channel</a>: <span title="org.jboss.netty.channel.Channel">Channel</span>, <a title="akka.actor.Address" id="akka.remote.transport.netty;UdpHandlers.createHandle.localAddress">localAddress</a>: <a href="../../../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a>, <a title="akka.actor.Address" id="akka.remote.transport.netty;UdpHandlers.createHandle.remoteAddress">remoteAddress</a>: <a href="../../../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a><span class="delimiter">)</span>: <a href="../Transport.scala.html#akka.remote.transport;AssociationHandle" title="akka.remote.transport.AssociationHandle">AssociationHandle</a> =
    new <a href="#akka.remote.transport.netty;UdpAssociationHandle" title="akka.remote.transport.netty.UdpAssociationHandle">UdpAssociationHandle</a><span class="delimiter">(</span><a href="#akka.remote.transport.netty;UdpHandlers.createHandle.localAddress" title="akka.actor.Address">localAddress</a>, <a href="#akka.remote.transport.netty;UdpHandlers.createHandle.remoteAddress" title="akka.actor.Address">remoteAddress</a>, <a href="#akka.remote.transport.netty;UdpHandlers.createHandle.channel" title="org.jboss.netty.channel.Channel">channel</a>, <a href="NettyTransport.scala.html#akka.remote.transport.netty;CommonHandlers.transport" title="=&gt; akka.remote.transport.netty.NettyTransport">transport</a><span class="delimiter">)</span>

  override def <a title="(channel: org.jboss.netty.channel.Channel, listener: akka.remote.transport.AssociationHandle.HandleEventListener, msg: org.jboss.netty.buffer.ChannelBuffer, remoteSocketAddress: java.net.InetSocketAddress)Unit" id="akka.remote.transport.netty;UdpHandlers.registerListener">registerListener</a><span class="delimiter">(</span><a title="org.jboss.netty.channel.Channel" id="akka.remote.transport.netty;UdpHandlers.registerListener.channel">channel</a>: <span title="org.jboss.netty.channel.Channel">Channel</span>,
                                <a title="akka.remote.transport.AssociationHandle.HandleEventListener" id="akka.remote.transport.netty;UdpHandlers.registerListener.listener">listener</a>: <a href="../Transport.scala.html#akka.remote.transport.AssociationHandle;HandleEventListener" title="akka.remote.transport.AssociationHandle.HandleEventListener">HandleEventListener</a>,
                                <a title="org.jboss.netty.buffer.ChannelBuffer" id="akka.remote.transport.netty;UdpHandlers.registerListener.msg">msg</a>: <span title="org.jboss.netty.buffer.ChannelBuffer">ChannelBuffer</span>,
                                <a title="java.net.InetSocketAddress" id="akka.remote.transport.netty;UdpHandlers.registerListener.remoteSocketAddress">remoteSocketAddress</a>: <span title="java.net.InetSocketAddress">InetSocketAddress</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="NettyTransport.scala.html#akka.remote.transport.netty;CommonHandlers.transport" title="=&gt; akka.remote.transport.netty.NettyTransport">transport</a>.<a href="NettyTransport.scala.html#akka.remote.transport.netty;NettyTransport.udpConnectionTable" title="=&gt; java.util.concurrent.ConcurrentHashMap[java.net.SocketAddress,akka.remote.transport.AssociationHandle.HandleEventListener]">udpConnectionTable</a>.<span title="(x$1: java.net.SocketAddress, x$2: akka.remote.transport.AssociationHandle.HandleEventListener)akka.remote.transport.AssociationHandle.HandleEventListener">putIfAbsent</span><span class="delimiter">(</span><a href="#akka.remote.transport.netty;UdpHandlers.registerListener.remoteSocketAddress" title="java.net.InetSocketAddress">remoteSocketAddress</a>, <a href="#akka.remote.transport.netty;UdpHandlers.registerListener.listener" title="akka.remote.transport.AssociationHandle.HandleEventListener">listener</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case null ⇒ <a href="#akka.remote.transport.netty;UdpHandlers.registerListener.listener" title="akka.remote.transport.AssociationHandle.HandleEventListener">listener</a> <a href="../Transport.scala.html#akka.remote.transport.AssociationHandle;HandleEventListener.notify(a3fa5b160e)" title="(ev: akka.remote.transport.AssociationHandle.HandleEvent)Unit">notify</a> <a href="../Transport.scala.html#akka.remote.transport.AssociationHandle;InboundPayload" title="(payload: akka.util.ByteString)akka.remote.transport.AssociationHandle.InboundPayload">InboundPayload</a><span class="delimiter">(</span><a href="../../../../../actor/akka/util/ByteString.scala.html#akka.util.ByteString.apply(a619a7682d)" title="(bytes: Array[Byte])akka.util.ByteString">ByteString</a><span class="delimiter">(</span><a href="#akka.remote.transport.netty;UdpHandlers.registerListener.msg" title="org.jboss.netty.buffer.ChannelBuffer">msg</a>.<span title="()Array[Byte]">array</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      case <a title="akka.remote.transport.AssociationHandle.HandleEventListener" id="akka.remote.transport.netty;UdpHandlers.registerListener.oldReader">oldReader</a> ⇒
        throw new <a href="NettyTransport.scala.html#akka.remote.transport.netty;NettyTransportException" title="akka.remote.transport.netty.NettyTransportException">NettyTransportException</a><span class="delimiter">(</span>
          <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Listener &quot;)">Listener $</span><a href="#akka.remote.transport.netty;UdpHandlers.registerListener.listener" title="akka.remote.transport.AssociationHandle.HandleEventListener">listener</a><span title="String(&quot; attempted to register for remote address &quot;)"> attempted to register for remote address $</span><a href="#akka.remote.transport.netty;UdpHandlers.registerListener.remoteSocketAddress" title="java.net.InetSocketAddress">remoteSocketAddress</a><span title="String(&quot; but &quot;)"> but $</span><a href="#akka.remote.transport.netty;UdpHandlers.registerListener.oldReader" title="akka.remote.transport.AssociationHandle.HandleEventListener">oldReader</a><span title="String(&quot; was already registered.&quot;)" class="string"> was already registered.&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  override def <a title="(ctx: org.jboss.netty.channel.ChannelHandlerContext, e: org.jboss.netty.channel.MessageEvent)Unit" id="akka.remote.transport.netty;UdpHandlers.onMessage">onMessage</a><span class="delimiter">(</span><a title="org.jboss.netty.channel.ChannelHandlerContext" id="akka.remote.transport.netty;UdpHandlers.onMessage.ctx">ctx</a>: <span title="org.jboss.netty.channel.ChannelHandlerContext">ChannelHandlerContext</span>, <a title="org.jboss.netty.channel.MessageEvent" id="akka.remote.transport.netty;UdpHandlers.onMessage.e">e</a>: <span title="org.jboss.netty.channel.MessageEvent">MessageEvent</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.remote.transport.netty;UdpHandlers.onMessage.e" title="org.jboss.netty.channel.MessageEvent">e</a>.<span title="()java.net.SocketAddress">getRemoteAddress</span> match <span class="delimiter">{</span>
    case <a title="java.net.InetSocketAddress" id="akka.remote.transport.netty;UdpHandlers.onMessage.inetSocketAddress">inetSocketAddress</a>: <span title="java.net.InetSocketAddress">InetSocketAddress</span> ⇒
      if <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="NettyTransport.scala.html#akka.remote.transport.netty;CommonHandlers.transport" title="=&gt; akka.remote.transport.netty.NettyTransport">transport</a>.<a href="NettyTransport.scala.html#akka.remote.transport.netty;NettyTransport.udpConnectionTable" title="=&gt; java.util.concurrent.ConcurrentHashMap[java.net.SocketAddress,akka.remote.transport.AssociationHandle.HandleEventListener]">udpConnectionTable</a>.<span title="(x$1: Any)Boolean">containsKey</span><span class="delimiter">(</span><a href="#akka.remote.transport.netty;UdpHandlers.onMessage.inetSocketAddress" title="java.net.InetSocketAddress">inetSocketAddress</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#akka.remote.transport.netty;UdpHandlers.onMessage.e" title="org.jboss.netty.channel.MessageEvent">e</a>.<span title="()org.jboss.netty.channel.Channel">getChannel</span>.<span title="(x$1: Boolean)org.jboss.netty.channel.ChannelFuture">setReadable</span><span class="delimiter">(</span>false<span class="delimiter">)</span>
        <a href="#akka.remote.transport.netty;UdpHandlers.initUdp" title="(channel: org.jboss.netty.channel.Channel, remoteSocketAddress: java.net.SocketAddress, msg: org.jboss.netty.buffer.ChannelBuffer)Unit">initUdp</a><span class="delimiter">(</span><a href="#akka.remote.transport.netty;UdpHandlers.onMessage.e" title="org.jboss.netty.channel.MessageEvent">e</a>.<span title="()org.jboss.netty.channel.Channel">getChannel</span>, <a href="#akka.remote.transport.netty;UdpHandlers.onMessage.e" title="org.jboss.netty.channel.MessageEvent">e</a>.<span title="()java.net.SocketAddress">getRemoteAddress</span>, <a href="#akka.remote.transport.netty;UdpHandlers.onMessage.e" title="org.jboss.netty.channel.MessageEvent">e</a>.<span title="()Object">getMessage</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.jboss.netty.buffer.ChannelBuffer" class="delimiter">[</span><span title="org.jboss.netty.buffer.ChannelBuffer">ChannelBuffer</span><span class="delimiter">]</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> else <span class="delimiter">{</span>
        val <a title="akka.remote.transport.AssociationHandle.HandleEventListener" id="akka.remote.transport.netty;UdpHandlers.onMessage.listener">listener</a> = <a href="NettyTransport.scala.html#akka.remote.transport.netty;CommonHandlers.transport" title="=&gt; akka.remote.transport.netty.NettyTransport">transport</a>.<a href="NettyTransport.scala.html#akka.remote.transport.netty;NettyTransport.udpConnectionTable" title="=&gt; java.util.concurrent.ConcurrentHashMap[java.net.SocketAddress,akka.remote.transport.AssociationHandle.HandleEventListener]">udpConnectionTable</a>.<span title="(x$1: Any)akka.remote.transport.AssociationHandle.HandleEventListener">get</span><span class="delimiter">(</span><a href="#akka.remote.transport.netty;UdpHandlers.onMessage.inetSocketAddress" title="java.net.InetSocketAddress">inetSocketAddress</a><span class="delimiter">)</span>
        val <a title="Array[Byte]" id="akka.remote.transport.netty;UdpHandlers.onMessage.bytes">bytes</a>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span> = <a href="#akka.remote.transport.netty;UdpHandlers.onMessage.e" title="org.jboss.netty.channel.MessageEvent">e</a>.<span title="()Object">getMessage</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.jboss.netty.buffer.ChannelBuffer" class="delimiter">[</span><span title="org.jboss.netty.buffer.ChannelBuffer">ChannelBuffer</span><span class="delimiter">]</span>.<span title="()Array[Byte]">array</span><span class="delimiter">(</span><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="#akka.remote.transport.netty;UdpHandlers.onMessage.bytes" title="Array[Byte]">bytes</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#akka.remote.transport.netty;UdpHandlers.onMessage.listener" title="akka.remote.transport.AssociationHandle.HandleEventListener">listener</a> <a href="../Transport.scala.html#akka.remote.transport.AssociationHandle;HandleEventListener.notify(a3fa5b160e)" title="(ev: akka.remote.transport.AssociationHandle.HandleEvent)Unit">notify</a> <a href="../Transport.scala.html#akka.remote.transport.AssociationHandle;InboundPayload" title="(payload: akka.util.ByteString)akka.remote.transport.AssociationHandle.InboundPayload">InboundPayload</a><span class="delimiter">(</span><a href="../../../../../actor/akka/util/ByteString.scala.html#akka.util.ByteString.apply(a619a7682d)" title="(bytes: Array[Byte])akka.util.ByteString">ByteString</a><span class="delimiter">(</span><a href="#akka.remote.transport.netty;UdpHandlers.onMessage.bytes" title="Array[Byte]">bytes</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    case _ ⇒
  <span class="delimiter">}</span>

  def <a title="(channel: org.jboss.netty.channel.Channel, remoteSocketAddress: java.net.SocketAddress, msg: org.jboss.netty.buffer.ChannelBuffer)Unit" id="akka.remote.transport.netty;UdpHandlers.initUdp">initUdp</a><span class="delimiter">(</span><a title="org.jboss.netty.channel.Channel" id="akka.remote.transport.netty;UdpHandlers.initUdp.channel">channel</a>: <span title="org.jboss.netty.channel.Channel">Channel</span>, <a title="java.net.SocketAddress" id="akka.remote.transport.netty;UdpHandlers.initUdp.remoteSocketAddress">remoteSocketAddress</a>: <span title="java.net.SocketAddress">SocketAddress</span>, <a title="org.jboss.netty.buffer.ChannelBuffer" id="akka.remote.transport.netty;UdpHandlers.initUdp.msg">msg</a>: <span title="org.jboss.netty.buffer.ChannelBuffer">ChannelBuffer</span><span class="delimiter">)</span>: <span title="Unit">Unit</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>remote<span class="delimiter">]</span> class <a title="class UdpServerHandler extends akka.remote.transport.netty.ServerHandler with akka.remote.transport.netty.UdpHandlers" id="akka.remote.transport.netty;UdpServerHandler">UdpServerHandler</a><a href="#akka.remote.transport.netty;UdpServerHandler" title="akka.remote.transport.netty.UdpServerHandler" class="delimiter">(</a><a title="akka.remote.transport.netty.NettyTransport" id="akka.remote.transport.netty;UdpServerHandler._transport">_transport</a>: <a href="NettyTransport.scala.html#akka.remote.transport.netty;NettyTransport" title="akka.remote.transport.netty.NettyTransport">NettyTransport</a>, <a title="scala.concurrent.Future[akka.remote.transport.Transport.AssociationEventListener]" id="akka.remote.transport.netty;UdpServerHandler._associationListenerFuture">_associationListenerFuture</a>: <span title="scala.concurrent.Future[akka.remote.transport.Transport.AssociationEventListener]">Future</span><span class="delimiter">[</span>AssociationEventListener<span class="delimiter">]</span><span class="delimiter">)</span>
  extends <a href="NettyTransport.scala.html#akka.remote.transport.netty;ServerHandler" title="akka.remote.transport.netty.ServerHandler">ServerHandler</a><span class="delimiter">(</span><a href="#akka.remote.transport.netty;UdpServerHandler._transport" title="akka.remote.transport.netty.NettyTransport">_transport</a>, <a href="#akka.remote.transport.netty;UdpServerHandler._associationListenerFuture" title="scala.concurrent.Future[akka.remote.transport.Transport.AssociationEventListener]">_associationListenerFuture</a><span class="delimiter">)</span> with <a href="#akka.remote.transport.netty;UdpHandlers" title="akka.remote.transport.netty.UdpHandlers">UdpHandlers</a> <span class="delimiter">{</span>

  override def <a title="(channel: org.jboss.netty.channel.Channel, remoteSocketAddress: java.net.SocketAddress, msg: org.jboss.netty.buffer.ChannelBuffer)Unit" id="akka.remote.transport.netty;UdpServerHandler.initUdp">initUdp</a><span class="delimiter">(</span><a title="org.jboss.netty.channel.Channel" id="akka.remote.transport.netty;UdpServerHandler.initUdp.channel">channel</a>: <span title="org.jboss.netty.channel.Channel">Channel</span>, <a title="java.net.SocketAddress" id="akka.remote.transport.netty;UdpServerHandler.initUdp.remoteSocketAddress">remoteSocketAddress</a>: <span title="java.net.SocketAddress">SocketAddress</span>, <a title="org.jboss.netty.buffer.ChannelBuffer" id="akka.remote.transport.netty;UdpServerHandler.initUdp.msg">msg</a>: <span title="org.jboss.netty.buffer.ChannelBuffer">ChannelBuffer</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="NettyTransport.scala.html#akka.remote.transport.netty;ServerHandler.initInbound" title="(channel: org.jboss.netty.channel.Channel, remoteSocketAddress: java.net.SocketAddress, msg: org.jboss.netty.buffer.ChannelBuffer)Unit">initInbound</a><span class="delimiter">(</span><a href="#akka.remote.transport.netty;UdpServerHandler.initUdp.channel" title="org.jboss.netty.channel.Channel">channel</a>, <a href="#akka.remote.transport.netty;UdpServerHandler.initUdp.remoteSocketAddress" title="java.net.SocketAddress">remoteSocketAddress</a>, <a href="#akka.remote.transport.netty;UdpServerHandler.initUdp.msg" title="org.jboss.netty.buffer.ChannelBuffer">msg</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>remote<span class="delimiter">]</span> class <a title="class UdpClientHandler extends akka.remote.transport.netty.ClientHandler with akka.remote.transport.netty.UdpHandlers" id="akka.remote.transport.netty;UdpClientHandler">UdpClientHandler</a><a href="#akka.remote.transport.netty;UdpClientHandler" title="akka.remote.transport.netty.UdpClientHandler" class="delimiter">(</a><a title="akka.remote.transport.netty.NettyTransport" id="akka.remote.transport.netty;UdpClientHandler._transport">_transport</a>: <a href="NettyTransport.scala.html#akka.remote.transport.netty;NettyTransport" title="akka.remote.transport.netty.NettyTransport">NettyTransport</a>, <a title="akka.actor.Address" id="akka.remote.transport.netty;UdpClientHandler.remoteAddress">remoteAddress</a>: <a href="../../../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a><span class="delimiter">)</span>
  extends <a href="NettyTransport.scala.html#akka.remote.transport.netty;ClientHandler" title="akka.remote.transport.netty.ClientHandler">ClientHandler</a><span class="delimiter">(</span><a href="#akka.remote.transport.netty;UdpClientHandler._transport" title="akka.remote.transport.netty.NettyTransport">_transport</a>, <a href="#akka.remote.transport.netty;UdpClientHandler.remoteAddress" title="akka.actor.Address">remoteAddress</a><span class="delimiter">)</span> with <a href="#akka.remote.transport.netty;UdpHandlers" title="akka.remote.transport.netty.UdpHandlers">UdpHandlers</a> <span class="delimiter">{</span>

  override def <a title="(channel: org.jboss.netty.channel.Channel, remoteSocketAddress: java.net.SocketAddress, msg: org.jboss.netty.buffer.ChannelBuffer)Unit" id="akka.remote.transport.netty;UdpClientHandler.initUdp">initUdp</a><span class="delimiter">(</span><a title="org.jboss.netty.channel.Channel" id="akka.remote.transport.netty;UdpClientHandler.initUdp.channel">channel</a>: <span title="org.jboss.netty.channel.Channel">Channel</span>, <a title="java.net.SocketAddress" id="akka.remote.transport.netty;UdpClientHandler.initUdp.remoteSocketAddress">remoteSocketAddress</a>: <span title="java.net.SocketAddress">SocketAddress</span>, <a title="org.jboss.netty.buffer.ChannelBuffer" id="akka.remote.transport.netty;UdpClientHandler.initUdp.msg">msg</a>: <span title="org.jboss.netty.buffer.ChannelBuffer">ChannelBuffer</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="NettyTransport.scala.html#akka.remote.transport.netty;ClientHandler.initOutbound" title="(channel: org.jboss.netty.channel.Channel, remoteSocketAddress: java.net.SocketAddress, msg: org.jboss.netty.buffer.ChannelBuffer)Unit">initOutbound</a><span class="delimiter">(</span><a href="#akka.remote.transport.netty;UdpClientHandler.initUdp.channel" title="org.jboss.netty.channel.Channel">channel</a>, <a href="#akka.remote.transport.netty;UdpClientHandler.initUdp.remoteSocketAddress" title="java.net.SocketAddress">remoteSocketAddress</a>, <a href="#akka.remote.transport.netty;UdpClientHandler.initUdp.msg" title="org.jboss.netty.buffer.ChannelBuffer">msg</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>remote<span class="delimiter">]</span> class <a title="class UdpAssociationHandle extends AnyRef with akka.remote.transport.AssociationHandle" id="akka.remote.transport.netty;UdpAssociationHandle">UdpAssociationHandle</a><a href="#akka.remote.transport.netty;UdpAssociationHandle" title="akka.remote.transport.netty.UdpAssociationHandle" class="delimiter">(</a>val <a title="akka.actor.Address" id="akka.remote.transport.netty;UdpAssociationHandle.localAddress">localAddress</a>: <a href="../../../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a>,
                                           val <a title="akka.actor.Address" id="akka.remote.transport.netty;UdpAssociationHandle.remoteAddress">remoteAddress</a>: <a href="../../../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a>,
                                           private val <a title="org.jboss.netty.channel.Channel" id="akka.remote.transport.netty;UdpAssociationHandle.channel">channel</a>: <span title="org.jboss.netty.channel.Channel">Channel</span>,
                                           private val <a title="akka.remote.transport.netty.NettyTransport" id="akka.remote.transport.netty;UdpAssociationHandle.transport">transport</a>: <a href="NettyTransport.scala.html#akka.remote.transport.netty;NettyTransport" title="akka.remote.transport.netty.NettyTransport">NettyTransport</a><span class="delimiter">)</span> extends <a href="../Transport.scala.html#akka.remote.transport;AssociationHandle" title="akka.remote.transport.AssociationHandle">AssociationHandle</a> <span class="delimiter">{</span>

  override val <a title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle.HandleEventListener]" id="akka.remote.transport.netty;UdpAssociationHandle.readHandlerPromise">readHandlerPromise</a>: <span title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle.HandleEventListener]">Promise</span><span class="delimiter">[</span>HandleEventListener<span class="delimiter">]</span> = <span title="()scala.concurrent.Promise[akka.remote.transport.AssociationHandle.HandleEventListener]">Promise</span><span class="delimiter">(</span><span class="delimiter">)</span>

  override def <a title="(payload: akka.util.ByteString)Boolean" id="akka.remote.transport.netty;UdpAssociationHandle.write">write</a><span class="delimiter">(</span><a title="akka.util.ByteString" id="akka.remote.transport.netty;UdpAssociationHandle.write.payload">payload</a>: <a href="../../../../../actor/akka/util/ByteString.scala.html#akka.util;ByteString" title="akka.util.ByteString">ByteString</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.remote.transport.netty;UdpAssociationHandle.channel" title="=&gt; org.jboss.netty.channel.Channel">channel</a>.<span title="()Boolean">isConnected</span><span class="delimiter">)</span>
      <a href="#akka.remote.transport.netty;UdpAssociationHandle.channel" title="=&gt; org.jboss.netty.channel.Channel">channel</a>.<span title="(x$1: java.net.SocketAddress)org.jboss.netty.channel.ChannelFuture">connect</span><span class="delimiter">(</span>new <span title="java.net.InetSocketAddress">InetSocketAddress</span><span class="delimiter">(</span><span title="java.net.InetAddress.type">InetAddress</span>.<span title="(x$1: String)java.net.InetAddress">getByName</span><span class="delimiter">(</span><a href="#akka.remote.transport.netty;UdpAssociationHandle.remoteAddress" title="=&gt; akka.actor.Address">remoteAddress</a>.<a href="../../../../../actor/akka/actor/Address.scala.html#akka.actor;Address.host" title="=&gt; Option[String]">host</a>.<span title="=&gt; String">get</span><span class="delimiter">)</span>, <a href="#akka.remote.transport.netty;UdpAssociationHandle.remoteAddress" title="=&gt; akka.actor.Address">remoteAddress</a>.<a href="../../../../../actor/akka/actor/Address.scala.html#akka.actor;Address.port" title="=&gt; Option[Int]">port</a>.<span title="=&gt; Int">get</span><span class="delimiter">)</span><span class="delimiter">)</span>

    if <span class="delimiter">(</span><a href="#akka.remote.transport.netty;UdpAssociationHandle.channel" title="=&gt; org.jboss.netty.channel.Channel">channel</a>.<span title="()Boolean">isWritable</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#akka.remote.transport.netty;UdpAssociationHandle.channel" title="=&gt; org.jboss.netty.channel.Channel">channel</a>.<span title="()Boolean">isOpen</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#akka.remote.transport.netty;UdpAssociationHandle.channel" title="=&gt; org.jboss.netty.channel.Channel">channel</a>.<span title="(x$1: Any)org.jboss.netty.channel.ChannelFuture">write</span><span class="delimiter">(</span><span title="org.jboss.netty.buffer.ChannelBuffers.type">ChannelBuffers</span>.<span title="(x$1: java.nio.ByteBuffer)org.jboss.netty.buffer.ChannelBuffer">wrappedBuffer</span><span class="delimiter">(</span><a href="#akka.remote.transport.netty;UdpAssociationHandle.write.payload" title="akka.util.ByteString">payload</a>.<a href="../../../../../actor/akka/util/ByteString.scala.html#akka.util;ByteString.asByteBuffer" title="=&gt; java.nio.ByteBuffer">asByteBuffer</a><span class="delimiter">)</span><span class="delimiter">)</span>
      true
    <span class="delimiter">}</span> else false
  <span class="delimiter">}</span>

  override def <a title="()Unit" id="akka.remote.transport.netty;UdpAssociationHandle.disassociate">disassociate</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = try <a href="#akka.remote.transport.netty;UdpAssociationHandle.channel" title="=&gt; org.jboss.netty.channel.Channel">channel</a>.<span title="()org.jboss.netty.channel.ChannelFuture">close</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
  finally <a href="#akka.remote.transport.netty;UdpAssociationHandle.transport" title="=&gt; akka.remote.transport.netty.NettyTransport">transport</a>.<a href="NettyTransport.scala.html#akka.remote.transport.netty;NettyTransport.udpConnectionTable" title="=&gt; java.util.concurrent.ConcurrentHashMap[java.net.SocketAddress,akka.remote.transport.AssociationHandle.HandleEventListener]">udpConnectionTable</a>.<span title="(x$1: Any)akka.remote.transport.AssociationHandle.HandleEventListener">remove</span><span title="Unit" class="delimiter">(</span><a href="#akka.remote.transport.netty;UdpAssociationHandle.transport" title="=&gt; akka.remote.transport.netty.NettyTransport">transport</a>.<a href="NettyTransport.scala.html#akka.remote.transport.netty;NettyTransport.addressToSocketAddress" title="(addr: akka.actor.Address)scala.concurrent.Future[java.net.InetSocketAddress]">addressToSocketAddress</a><span class="delimiter">(</span><a href="#akka.remote.transport.netty;UdpAssociationHandle.remoteAddress" title="=&gt; akka.actor.Address">remoteAddress</a><span class="delimiter">)</span><span class="delimiter">)</span>

<span class="delimiter">}</span>
        </pre>
    </body>
</html>
