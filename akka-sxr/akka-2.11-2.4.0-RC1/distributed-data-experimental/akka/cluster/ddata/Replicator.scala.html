<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>distributed-data-experimental/akka/cluster/ddata/Replicator.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (C) 2009-2015 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
package akka.cluster.ddata

import java.security.MessageDigest
import scala.annotation.tailrec
import scala.collection.immutable
import scala.collection.immutable.Queue
import scala.collection.mutable
import scala.concurrent.duration._
import scala.concurrent.duration.FiniteDuration
import scala.concurrent.forkjoin.ThreadLocalRandom
import scala.util.Failure
import scala.util.Success
import scala.util.Try
import scala.util.control.NoStackTrace
import akka.actor.Actor
import akka.actor.ActorLogging
import akka.actor.ActorRef
import akka.actor.ActorSelection
import akka.actor.ActorSystem
import akka.actor.Address
import akka.actor.NoSerializationVerificationNeeded
import akka.actor.Deploy
import akka.actor.Props
import akka.actor.ReceiveTimeout
import akka.actor.Terminated
import akka.cluster.Cluster
import akka.cluster.<a href="../../../../cluster/akka/cluster/ClusterEvent.scala.html#akka.cluster.ClusterEvent" title="akka.cluster.ClusterEvent.type">ClusterEvent</a>._
import akka.cluster.<a href="../../../../cluster/akka/cluster/ClusterEvent.scala.html#akka.cluster.ClusterEvent" title="akka.cluster.ClusterEvent.type">ClusterEvent</a>.InitialStateAsEvents
import akka.cluster.Member
import akka.cluster.UniqueAddress
import akka.serialization.SerializationExtension
import akka.util.ByteString
import com.typesafe.config.Config
import java.util.function.<span class="delimiter">{</span> Function ⇒ JFunction <span class="delimiter">}</span>
import akka.dispatch.Dispatchers
import akka.actor.DeadLetterSuppression
import akka.cluster.ddata.<a href="Key.scala.html#akka.cluster.ddata.Key" title="akka.cluster.ddata.Key.type">Key</a>.KeyR
import java.util.Optional

object <a title="akka.cluster.ddata.ReplicatorSettings.type" id="akka.cluster.ddata.ReplicatorSettings">ReplicatorSettings</a> <a href="#akka.cluster.ddata.ReplicatorSettings" title="akka.cluster.ddata.ReplicatorSettings.type" class="delimiter">{</a>

  <span class="comment">/**
   * Create settings from the default configuration
   * `akka.cluster.distributed-data`.
   */</span>
  def <a title="(system: akka.actor.ActorSystem)akka.cluster.ddata.ReplicatorSettings" id="akka.cluster.ddata.ReplicatorSettings.apply(c103dbc653)">apply</a><span class="delimiter">(</span><a title="akka.actor.ActorSystem" id="akka.cluster.ddata.ReplicatorSettings.apply(c103dbc653).system">system</a>: <a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem" title="akka.actor.ActorSystem">ActorSystem</a><span class="delimiter">)</span>: <a href="#akka.cluster.ddata;ReplicatorSettings" title="akka.cluster.ddata.ReplicatorSettings">ReplicatorSettings</a> =
    <a href="#akka.cluster.ddata.ReplicatorSettings.apply(54ac44465e)" title="(config: com.typesafe.config.Config)akka.cluster.ddata.ReplicatorSettings">apply</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.ReplicatorSettings.apply(c103dbc653).system" title="akka.actor.ActorSystem">system</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.settings" title="=&gt; akka.actor.ActorSystem.Settings">settings</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor.ActorSystem;Settings.config" title="=&gt; com.typesafe.config.Config">config</a>.<span title="(x$1: String)com.typesafe.config.Config">getConfig</span><span class="delimiter">(</span><span title="String(&quot;akka.cluster.distributed-data&quot;)" class="string">&quot;akka.cluster.distributed-data&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Create settings from a configuration with the same layout as
   * the default configuration `akka.cluster.distributed-data`.
   */</span>
  def <a title="(config: com.typesafe.config.Config)akka.cluster.ddata.ReplicatorSettings" id="akka.cluster.ddata.ReplicatorSettings.apply(54ac44465e)">apply</a><span class="delimiter">(</span><a title="com.typesafe.config.Config" id="akka.cluster.ddata.ReplicatorSettings.apply(54ac44465e).config">config</a>: <span title="com.typesafe.config.Config">Config</span><span class="delimiter">)</span>: <a href="#akka.cluster.ddata;ReplicatorSettings" title="akka.cluster.ddata.ReplicatorSettings">ReplicatorSettings</a> = <span class="delimiter">{</span>
    val <a title="String" id="akka.cluster.ddata.ReplicatorSettings.apply(54ac44465e).dispatcher">dispatcher</a> = <a href="#akka.cluster.ddata.ReplicatorSettings.apply(54ac44465e).config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String)String">getString</span><span class="delimiter">(</span><span title="String(&quot;use-dispatcher&quot;)" class="string">&quot;use-dispatcher&quot;</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> ⇒ Dispatchers.<span title="String(&quot;akka.actor.default-dispatcher&quot;)">DefaultDispatcherId</span>
      case <a title="String" id="akka.cluster.ddata.ReplicatorSettings.apply(54ac44465e).dispatcher.id">id</a> ⇒ <a href="#akka.cluster.ddata.ReplicatorSettings.apply(54ac44465e).dispatcher.id" title="String">id</a>
    <span class="delimiter">}</span>
    new <a href="#akka.cluster.ddata;ReplicatorSettings" title="akka.cluster.ddata.ReplicatorSettings">ReplicatorSettings</a><span class="delimiter">(</span>
      role = <a href="#akka.cluster.ddata.ReplicatorSettings.roleOption" title="(role: String)Option[String]">roleOption</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.ReplicatorSettings.apply(54ac44465e).config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String)String">getString</span><span class="delimiter">(</span><span title="String(&quot;role&quot;)" class="string">&quot;role&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>,
      gossipInterval = <a href="#akka.cluster.ddata.ReplicatorSettings.apply(54ac44465e).config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String, x$2: java.util.concurrent.TimeUnit)Long">getDuration</span><span title="implicit scala.concurrent.duration.package.DurationLong : (n: Long)concurrent.duration.DurationLong" class="delimiter">(</span><span title="String(&quot;gossip-interval&quot;)" class="string">&quot;gossip-interval&quot;</span>, <span title="java.util.concurrent.TimeUnit(MILLISECONDS)">MILLISECONDS</span><span class="delimiter">)</span>.<span title="=&gt; scala.concurrent.duration.FiniteDuration">millis</span>,
      notifySubscribersInterval = <a href="#akka.cluster.ddata.ReplicatorSettings.apply(54ac44465e).config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String, x$2: java.util.concurrent.TimeUnit)Long">getDuration</span><span title="implicit scala.concurrent.duration.package.DurationLong : (n: Long)concurrent.duration.DurationLong" class="delimiter">(</span><span title="String(&quot;notify-subscribers-interval&quot;)" class="string">&quot;notify-subscribers-interval&quot;</span>, <span title="java.util.concurrent.TimeUnit(MILLISECONDS)">MILLISECONDS</span><span class="delimiter">)</span>.<span title="=&gt; scala.concurrent.duration.FiniteDuration">millis</span>,
      maxDeltaElements = <a href="#akka.cluster.ddata.ReplicatorSettings.apply(54ac44465e).config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String)Int">getInt</span><span class="delimiter">(</span><span title="String(&quot;max-delta-elements&quot;)" class="string">&quot;max-delta-elements&quot;</span><span class="delimiter">)</span>,
      dispatcher = <a href="#akka.cluster.ddata.ReplicatorSettings.apply(54ac44465e).dispatcher" title="String">dispatcher</a>,
      pruningInterval = <a href="#akka.cluster.ddata.ReplicatorSettings.apply(54ac44465e).config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String, x$2: java.util.concurrent.TimeUnit)Long">getDuration</span><span title="implicit scala.concurrent.duration.package.DurationLong : (n: Long)concurrent.duration.DurationLong" class="delimiter">(</span><span title="String(&quot;pruning-interval&quot;)" class="string">&quot;pruning-interval&quot;</span>, <span title="java.util.concurrent.TimeUnit(MILLISECONDS)">MILLISECONDS</span><span class="delimiter">)</span>.<span title="=&gt; scala.concurrent.duration.FiniteDuration">millis</span>,
      maxPruningDissemination = <a href="#akka.cluster.ddata.ReplicatorSettings.apply(54ac44465e).config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String, x$2: java.util.concurrent.TimeUnit)Long">getDuration</span><span title="implicit scala.concurrent.duration.package.DurationLong : (n: Long)concurrent.duration.DurationLong" class="delimiter">(</span><span title="String(&quot;max-pruning-dissemination&quot;)" class="string">&quot;max-pruning-dissemination&quot;</span>, <span title="java.util.concurrent.TimeUnit(MILLISECONDS)">MILLISECONDS</span><span class="delimiter">)</span>.<span title="=&gt; scala.concurrent.duration.FiniteDuration">millis</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  private<span class="delimiter">[</span>akka<span class="delimiter">]</span> def <a title="(role: String)Option[String]" id="akka.cluster.ddata.ReplicatorSettings.roleOption">roleOption</a><span class="delimiter">(</span><a title="String" id="akka.cluster.ddata.ReplicatorSettings.roleOption.role">role</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    if <span class="delimiter">(</span><a href="#akka.cluster.ddata.ReplicatorSettings.roleOption.role" title="String">role</a> <span title="(x$1: Any)Boolean">==</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="None.type">None</span> else <span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><a href="#akka.cluster.ddata.ReplicatorSettings.roleOption.role" title="String">role</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * @param role Replicas are running on members tagged with this role.
 *   All members are used if undefined.
 * @param gossipInterval How often the Replicator should send out gossip information.
 * @param notifySubscribersInterval How often the subscribers will be notified
 *   of changes, if any.
 * @param maxDeltaElements Maximum number of entries to transfer in one
 *   gossip message when synchronizing the replicas. Next chunk will be
 *   transferred in next round of gossip.
 * @param dispatcher Id of the dispatcher to use for Replicator actors. If not
 *   specified (`&quot;&quot;`) the default dispatcher is used.
 * @param pruningInterval How often the Replicator checks for pruning of
 *   data associated with removed cluster nodes.
 * @param maxPruningDissemination How long time it takes (worst case) to spread
 *   the data to all other replica nodes. This is used when initiating and
 *   completing the pruning process of data associated with removed cluster nodes.
 *   The time measurement is stopped when any replica is unreachable, so it should
 *   be configured to worst case in a healthy cluster.
 */</span>
final class <a title="class ReplicatorSettings extends AnyRef" id="akka.cluster.ddata;ReplicatorSettings">ReplicatorSettings</a><a href="#akka.cluster.ddata;ReplicatorSettings" title="akka.cluster.ddata.ReplicatorSettings" class="delimiter">(</a>
  val <a title="Option[String]" id="akka.cluster.ddata;ReplicatorSettings.role">role</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span>,
  val <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata;ReplicatorSettings.gossipInterval">gossipInterval</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span>,
  val <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata;ReplicatorSettings.notifySubscribersInterval">notifySubscribersInterval</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span>,
  val <a title="Int" id="akka.cluster.ddata;ReplicatorSettings.maxDeltaElements">maxDeltaElements</a>: <span title="Int">Int</span>,
  val <a title="String" id="akka.cluster.ddata;ReplicatorSettings.dispatcher">dispatcher</a>: <span title="String">String</span>,
  val <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata;ReplicatorSettings.pruningInterval">pruningInterval</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span>,
  val <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata;ReplicatorSettings.maxPruningDissemination">maxPruningDissemination</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">)</span> <span class="delimiter">{</span>

  def <a title="(role: String)akka.cluster.ddata.ReplicatorSettings" id="akka.cluster.ddata;ReplicatorSettings.withRole(7bb3e08639)">withRole</a><span class="delimiter">(</span><a title="String" id="akka.cluster.ddata;ReplicatorSettings.withRole(7bb3e08639).role">role</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#akka.cluster.ddata;ReplicatorSettings" title="akka.cluster.ddata.ReplicatorSettings">ReplicatorSettings</a> = <a href="#akka.cluster.ddata;ReplicatorSettings.copy" title="(role: Option[String], gossipInterval: scala.concurrent.duration.FiniteDuration, notifySubscribersInterval: scala.concurrent.duration.FiniteDuration, maxDeltaElements: Int, dispatcher: String, pruningInterval: scala.concurrent.duration.FiniteDuration, maxPruningDissemination: scala.concurrent.duration.FiniteDuration)akka.cluster.ddata.ReplicatorSettings">copy</a><span class="delimiter">(</span>role = <a href="#akka.cluster.ddata.ReplicatorSettings" title="akka.cluster.ddata.ReplicatorSettings.type">ReplicatorSettings</a>.<a href="#akka.cluster.ddata.ReplicatorSettings.roleOption" title="(role: String)Option[String]">roleOption</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;ReplicatorSettings.withRole(7bb3e08639).role" title="String">role</a><span class="delimiter">)</span><span class="delimiter">)</span>

  def <a title="(role: Option[String])akka.cluster.ddata.ReplicatorSettings" id="akka.cluster.ddata;ReplicatorSettings.withRole(b02bc84cc7)">withRole</a><span class="delimiter">(</span><a title="Option[String]" id="akka.cluster.ddata;ReplicatorSettings.withRole(b02bc84cc7).role">role</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.cluster.ddata;ReplicatorSettings" title="akka.cluster.ddata.ReplicatorSettings">ReplicatorSettings</a> = <a href="#akka.cluster.ddata;ReplicatorSettings.copy" title="(role: Option[String], gossipInterval: scala.concurrent.duration.FiniteDuration, notifySubscribersInterval: scala.concurrent.duration.FiniteDuration, maxDeltaElements: Int, dispatcher: String, pruningInterval: scala.concurrent.duration.FiniteDuration, maxPruningDissemination: scala.concurrent.duration.FiniteDuration)akka.cluster.ddata.ReplicatorSettings">copy</a><span class="delimiter">(</span>role = <a href="#akka.cluster.ddata;ReplicatorSettings.withRole(b02bc84cc7).role" title="Option[String]">role</a><span class="delimiter">)</span>

  def <a title="(gossipInterval: scala.concurrent.duration.FiniteDuration)akka.cluster.ddata.ReplicatorSettings" id="akka.cluster.ddata;ReplicatorSettings.withGossipInterval">withGossipInterval</a><span class="delimiter">(</span><a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata;ReplicatorSettings.withGossipInterval.gossipInterval">gossipInterval</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">)</span>: <a href="#akka.cluster.ddata;ReplicatorSettings" title="akka.cluster.ddata.ReplicatorSettings">ReplicatorSettings</a> =
    <a href="#akka.cluster.ddata;ReplicatorSettings.copy$default$1" title="Option[String] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.cluster.ddata;ReplicatorSettings.withGossipInterval.x$20">copy</a><span class="delimiter">(</span>gossipInterval = <a href="#akka.cluster.ddata;ReplicatorSettings.withGossipInterval.gossipInterval" title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata;ReplicatorSettings.withGossipInterval.x$14">gossipInterval</a><span class="delimiter">)</span>

  def <a title="(notifySubscribersInterval: scala.concurrent.duration.FiniteDuration)akka.cluster.ddata.ReplicatorSettings" id="akka.cluster.ddata;ReplicatorSettings.withNotifySubscribersInterval">withNotifySubscribersInterval</a><span class="delimiter">(</span><a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata;ReplicatorSettings.withNotifySubscribersInterval.notifySubscribersInterval">notifySubscribersInterval</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">)</span>: <a href="#akka.cluster.ddata;ReplicatorSettings" title="akka.cluster.ddata.ReplicatorSettings">ReplicatorSettings</a> =
    <a href="#akka.cluster.ddata;ReplicatorSettings.copy$default$1" title="Option[String] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.cluster.ddata;ReplicatorSettings.withNotifySubscribersInterval.x$27">copy</a><span class="delimiter">(</span>notifySubscribersInterval = <a href="#akka.cluster.ddata;ReplicatorSettings.withNotifySubscribersInterval.notifySubscribersInterval" title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata;ReplicatorSettings.withNotifySubscribersInterval.x$21">notifySubscribersInterval</a><span class="delimiter">)</span>

  def <a title="(maxDeltaElements: Int)akka.cluster.ddata.ReplicatorSettings" id="akka.cluster.ddata;ReplicatorSettings.withMaxDeltaElements">withMaxDeltaElements</a><span class="delimiter">(</span><a title="Int" id="akka.cluster.ddata;ReplicatorSettings.withMaxDeltaElements.maxDeltaElements">maxDeltaElements</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#akka.cluster.ddata;ReplicatorSettings" title="akka.cluster.ddata.ReplicatorSettings">ReplicatorSettings</a> =
    <a href="#akka.cluster.ddata;ReplicatorSettings.copy$default$1" title="Option[String] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.cluster.ddata;ReplicatorSettings.withMaxDeltaElements.x$34">copy</a><span class="delimiter">(</span>maxDeltaElements = <a href="#akka.cluster.ddata;ReplicatorSettings.withMaxDeltaElements.maxDeltaElements" title="Int" id="akka.cluster.ddata;ReplicatorSettings.withMaxDeltaElements.x$28">maxDeltaElements</a><span class="delimiter">)</span>

  def <a title="(dispatcher: String)akka.cluster.ddata.ReplicatorSettings" id="akka.cluster.ddata;ReplicatorSettings.withDispatcher">withDispatcher</a><span class="delimiter">(</span><a title="String" id="akka.cluster.ddata;ReplicatorSettings.withDispatcher.dispatcher">dispatcher</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#akka.cluster.ddata;ReplicatorSettings" title="akka.cluster.ddata.ReplicatorSettings">ReplicatorSettings</a> = <span class="delimiter">{</span>
    val <a title="String" id="akka.cluster.ddata;ReplicatorSettings.withDispatcher.d">d</a> = <a href="#akka.cluster.ddata;ReplicatorSettings.withDispatcher.dispatcher" title="String">dispatcher</a> match <span class="delimiter">{</span>
      case <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> ⇒ Dispatchers.<span title="String(&quot;akka.actor.default-dispatcher&quot;)">DefaultDispatcherId</span>
      case <a title="String" id="akka.cluster.ddata;ReplicatorSettings.withDispatcher.d.id">id</a> ⇒ <a href="#akka.cluster.ddata;ReplicatorSettings.withDispatcher.d.id" title="String">id</a>
    <span class="delimiter">}</span>
    <a href="#akka.cluster.ddata;ReplicatorSettings.copy$default$1" title="Option[String] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.cluster.ddata;ReplicatorSettings.withDispatcher.x$41">copy</a><span class="delimiter">(</span>dispatcher = <a href="#akka.cluster.ddata;ReplicatorSettings.withDispatcher.d" title="String" id="akka.cluster.ddata;ReplicatorSettings.withDispatcher.x$35">d</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(pruningInterval: scala.concurrent.duration.FiniteDuration, maxPruningDissemination: scala.concurrent.duration.FiniteDuration)akka.cluster.ddata.ReplicatorSettings" id="akka.cluster.ddata;ReplicatorSettings.withPruning">withPruning</a><span class="delimiter">(</span><a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata;ReplicatorSettings.withPruning.pruningInterval">pruningInterval</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span>, <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata;ReplicatorSettings.withPruning.maxPruningDissemination">maxPruningDissemination</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">)</span>: <a href="#akka.cluster.ddata;ReplicatorSettings" title="akka.cluster.ddata.ReplicatorSettings">ReplicatorSettings</a> =
    <a href="#akka.cluster.ddata;ReplicatorSettings.copy$default$1" title="Option[String] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.cluster.ddata;ReplicatorSettings.withPruning.x$48">copy</a><span class="delimiter">(</span>pruningInterval = <a href="#akka.cluster.ddata;ReplicatorSettings.withPruning.pruningInterval" title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata;ReplicatorSettings.withPruning.x$42">pruningInterval</a>, maxPruningDissemination = <a href="#akka.cluster.ddata;ReplicatorSettings.withPruning.maxPruningDissemination" title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata;ReplicatorSettings.withPruning.x$43">maxPruningDissemination</a><span class="delimiter">)</span>

  private def <a title="(role: Option[String], gossipInterval: scala.concurrent.duration.FiniteDuration, notifySubscribersInterval: scala.concurrent.duration.FiniteDuration, maxDeltaElements: Int, dispatcher: String, pruningInterval: scala.concurrent.duration.FiniteDuration, maxPruningDissemination: scala.concurrent.duration.FiniteDuration)akka.cluster.ddata.ReplicatorSettings" id="akka.cluster.ddata;ReplicatorSettings.copy">copy</a><span class="delimiter">(</span>
    <a title="Option[String]" id="akka.cluster.ddata;ReplicatorSettings.copy$default$1">role</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#akka.cluster.ddata;ReplicatorSettings.copy$default$1" title="Option[String]">role</a>,
    <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata;ReplicatorSettings.copy$default$2">gossipInterval</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span> = <a href="#akka.cluster.ddata;ReplicatorSettings.copy$default$2" title="scala.concurrent.duration.FiniteDuration">gossipInterval</a>,
    <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata;ReplicatorSettings.copy$default$3">notifySubscribersInterval</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span> = <a href="#akka.cluster.ddata;ReplicatorSettings.copy$default$3" title="scala.concurrent.duration.FiniteDuration">notifySubscribersInterval</a>,
    <a title="Int" id="akka.cluster.ddata;ReplicatorSettings.copy$default$4">maxDeltaElements</a>: <span title="Int">Int</span> = <a href="#akka.cluster.ddata;ReplicatorSettings.copy$default$4" title="Int">maxDeltaElements</a>,
    <a title="String" id="akka.cluster.ddata;ReplicatorSettings.copy$default$5">dispatcher</a>: <span title="String">String</span> = <a href="#akka.cluster.ddata;ReplicatorSettings.copy$default$5" title="String">dispatcher</a>,
    <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata;ReplicatorSettings.copy$default$6">pruningInterval</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span> = <a href="#akka.cluster.ddata;ReplicatorSettings.copy$default$6" title="scala.concurrent.duration.FiniteDuration">pruningInterval</a>,
    <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata;ReplicatorSettings.copy$default$7">maxPruningDissemination</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span> = <a href="#akka.cluster.ddata;ReplicatorSettings.copy$default$7" title="scala.concurrent.duration.FiniteDuration">maxPruningDissemination</a><span class="delimiter">)</span>: <a href="#akka.cluster.ddata;ReplicatorSettings" title="akka.cluster.ddata.ReplicatorSettings">ReplicatorSettings</a> =
    new <a href="#akka.cluster.ddata;ReplicatorSettings" title="akka.cluster.ddata.ReplicatorSettings">ReplicatorSettings</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;ReplicatorSettings.copy$default$1" title="Option[String]">role</a>, <a href="#akka.cluster.ddata;ReplicatorSettings.copy$default$2" title="scala.concurrent.duration.FiniteDuration">gossipInterval</a>, <a href="#akka.cluster.ddata;ReplicatorSettings.copy$default$3" title="scala.concurrent.duration.FiniteDuration">notifySubscribersInterval</a>, <a href="#akka.cluster.ddata;ReplicatorSettings.copy$default$4" title="Int">maxDeltaElements</a>, <a href="#akka.cluster.ddata;ReplicatorSettings.copy$default$5" title="String">dispatcher</a>,
      <a href="#akka.cluster.ddata;ReplicatorSettings.copy$default$6" title="scala.concurrent.duration.FiniteDuration">pruningInterval</a>, <a href="#akka.cluster.ddata;ReplicatorSettings.copy$default$7" title="scala.concurrent.duration.FiniteDuration">maxPruningDissemination</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

object <a title="akka.cluster.ddata.Replicator.type" id="akka.cluster.ddata.Replicator">Replicator</a> <a href="#akka.cluster.ddata.Replicator" title="akka.cluster.ddata.Replicator.type" class="delimiter">{</a>

  <span class="comment">/**
   * Factory method for the [[akka.actor.Props]] of the [[Replicator]] actor.
   */</span>
  def <a title="(settings: akka.cluster.ddata.ReplicatorSettings)akka.actor.Props" id="akka.cluster.ddata.Replicator.props">props</a><span class="delimiter">(</span><a title="akka.cluster.ddata.ReplicatorSettings" id="akka.cluster.ddata.Replicator.props.settings">settings</a>: <a href="#akka.cluster.ddata;ReplicatorSettings" title="akka.cluster.ddata.ReplicatorSettings">ReplicatorSettings</a><span class="delimiter">)</span>: <a href="../../../../actor/akka/actor/Props.scala.html#akka.actor;Props" title="akka.actor.Props">Props</a> =
    <a href="../../../../actor/akka/actor/Props.scala.html#akka.actor.Props.apply(b09a6a316b)" title="(creator: =&gt; akka.cluster.ddata.Replicator)(implicit evidence$2: scala.reflect.ClassTag[akka.cluster.ddata.Replicator])akka.actor.Props">Props</a><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[akka.cluster.ddata.Replicator]" class="delimiter">(</span>new <a href="#akka.cluster.ddata;Replicator" title="akka.cluster.ddata.Replicator">Replicator</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.props.settings" title="akka.cluster.ddata.ReplicatorSettings">settings</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../../actor/akka/actor/Props.scala.html#akka.actor;Props.withDeploy" title="(d: akka.actor.Deploy)akka.actor.Props">withDeploy</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Deployer.scala.html#akka.actor.Deploy" title="akka.actor.Deploy.type">Deploy</a>.<a href="../../../../actor/akka/actor/Deployer.scala.html#akka.actor.Deploy.local" title="=&gt; akka.actor.Deploy">local</a><span class="delimiter">)</span>.<a href="../../../../actor/akka/actor/Props.scala.html#akka.actor;Props.withDispatcher" title="(d: String)akka.actor.Props">withDispatcher</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.props.settings" title="akka.cluster.ddata.ReplicatorSettings">settings</a>.<a href="#akka.cluster.ddata;ReplicatorSettings.dispatcher" title="=&gt; String">dispatcher</a><span class="delimiter">)</span>

  sealed trait <a title="trait ReadConsistency extends AnyRef" id="akka.cluster.ddata.Replicator;ReadConsistency">ReadConsistency</a> <span class="delimiter">{</span>
    def <a title="=&gt; scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata.Replicator;ReadConsistency.timeout">timeout</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span>
  <span class="delimiter">}</span>
  case object <a href="#akka.cluster.ddata.Replicator.ReadLocal.productElement.x$1" title="akka.cluster.ddata.Replicator.ReadLocal.type" id="akka.cluster.ddata.Replicator.ReadLocal.readResolve">ReadLocal</a> extends <a href="#akka.cluster.ddata.Replicator;ReadConsistency" title="akka.cluster.ddata.Replicator.ReadConsistency">ReadConsistency</a> <span class="delimiter">{</span>
    override def <a title="=&gt; scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata.Replicator.ReadLocal.timeout">timeout</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span> = <span title="scala.concurrent.duration.Duration.type">Duration</span>.<span title="=&gt; scala.concurrent.duration.FiniteDuration">Zero</span>
  <span class="delimiter">}</span>
  final case class <a title="class ReadFrom extends AnyRef with akka.cluster.ddata.Replicator.ReadConsistency with Product with Serializable" id="akka.cluster.ddata.Replicator.ReadFrom.readResolve">ReadFrom</a><span title="Product" class="delimiter">(</span><a title="Int" id="akka.cluster.ddata.Replicator;ReadFrom.n">n</a>: <span title="Int">Int</span>, <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata.Replicator;ReadFrom.timeout">timeout</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">)</span> extends <a href="#akka.cluster.ddata.Replicator;ReadConsistency" title="akka.cluster.ddata.Replicator.ReadConsistency">ReadConsistency</a> <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator;ReadFrom.n" title="=&gt; Int">n</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(2)" class="int">2</span>, <span title="String(&quot;ReadFrom n must be &gt;= 2, use ReadLocal for n=1&quot;)" class="string">&quot;ReadFrom n must be &gt;= 2, use ReadLocal for n=1&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  final case class <a title="class ReadMajority extends AnyRef with akka.cluster.ddata.Replicator.ReadConsistency with Product with Serializable" id="akka.cluster.ddata.Replicator.ReadMajority.readResolve">ReadMajority</a><span title="Product" class="delimiter">(</span><a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata.Replicator;ReadMajority.timeout">timeout</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">)</span> extends <a href="#akka.cluster.ddata.Replicator;ReadConsistency" title="akka.cluster.ddata.Replicator.ReadConsistency">ReadConsistency</a>
  final case class <a title="class ReadAll extends AnyRef with akka.cluster.ddata.Replicator.ReadConsistency with Product with Serializable" id="akka.cluster.ddata.Replicator.ReadAll.readResolve">ReadAll</a><span title="Product" class="delimiter">(</span><a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata.Replicator;ReadAll.timeout">timeout</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">)</span> extends <a href="#akka.cluster.ddata.Replicator;ReadConsistency" title="akka.cluster.ddata.Replicator.ReadConsistency">ReadConsistency</a>

  sealed trait <a title="trait WriteConsistency extends AnyRef" id="akka.cluster.ddata.Replicator;WriteConsistency">WriteConsistency</a> <span class="delimiter">{</span>
    def <a title="=&gt; scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata.Replicator;WriteConsistency.timeout">timeout</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span>
  <span class="delimiter">}</span>
  case object <a href="#akka.cluster.ddata.Replicator.WriteLocal.productElement.x$1" title="akka.cluster.ddata.Replicator.WriteLocal.type" id="akka.cluster.ddata.Replicator.WriteLocal.readResolve">WriteLocal</a> extends <a href="#akka.cluster.ddata.Replicator;WriteConsistency" title="akka.cluster.ddata.Replicator.WriteConsistency">WriteConsistency</a> <span class="delimiter">{</span>
    override def <a title="=&gt; scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata.Replicator.WriteLocal.timeout">timeout</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span> = <span title="scala.concurrent.duration.Duration.type">Duration</span>.<span title="=&gt; scala.concurrent.duration.FiniteDuration">Zero</span>
  <span class="delimiter">}</span>
  final case class <a title="class WriteTo extends AnyRef with akka.cluster.ddata.Replicator.WriteConsistency with Product with Serializable" id="akka.cluster.ddata.Replicator.WriteTo.readResolve">WriteTo</a><span title="Product" class="delimiter">(</span><a title="Int" id="akka.cluster.ddata.Replicator;WriteTo.n">n</a>: <span title="Int">Int</span>, <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata.Replicator;WriteTo.timeout">timeout</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">)</span> extends <a href="#akka.cluster.ddata.Replicator;WriteConsistency" title="akka.cluster.ddata.Replicator.WriteConsistency">WriteConsistency</a> <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator;WriteTo.n" title="=&gt; Int">n</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(2)" class="int">2</span>, <span title="String(&quot;WriteTo n must be &gt;= 2, use WriteLocal for n=1&quot;)" class="string">&quot;WriteTo n must be &gt;= 2, use WriteLocal for n=1&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  final case class <a title="class WriteMajority extends AnyRef with akka.cluster.ddata.Replicator.WriteConsistency with Product with Serializable" id="akka.cluster.ddata.Replicator.WriteMajority.readResolve">WriteMajority</a><span title="Product" class="delimiter">(</span><a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata.Replicator;WriteMajority.timeout">timeout</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">)</span> extends <a href="#akka.cluster.ddata.Replicator;WriteConsistency" title="akka.cluster.ddata.Replicator.WriteConsistency">WriteConsistency</a>
  final case class <a title="class WriteAll extends AnyRef with akka.cluster.ddata.Replicator.WriteConsistency with Product with Serializable" id="akka.cluster.ddata.Replicator.WriteAll.readResolve">WriteAll</a><span title="Product" class="delimiter">(</span><a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata.Replicator;WriteAll.timeout">timeout</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">)</span> extends <a href="#akka.cluster.ddata.Replicator;WriteConsistency" title="akka.cluster.ddata.Replicator.WriteConsistency">WriteConsistency</a>

  <span class="comment">/**
   * Java API: The `ReadLocal` instance
   */</span>
  def <a title="=&gt; akka.cluster.ddata.Replicator.ReadLocal.type" id="akka.cluster.ddata.Replicator.readLocal">readLocal</a> = <a href="#akka.cluster.ddata.Replicator.ReadLocal.readResolve" title="akka.cluster.ddata.Replicator.ReadLocal.type">ReadLocal</a>

  <span class="comment">/**
   * Java API: The `WriteLocal` instance
   */</span>
  def <a title="=&gt; akka.cluster.ddata.Replicator.WriteLocal.type" id="akka.cluster.ddata.Replicator.writeLocal">writeLocal</a> = <a href="#akka.cluster.ddata.Replicator.WriteLocal.readResolve" title="akka.cluster.ddata.Replicator.WriteLocal.type">WriteLocal</a>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  private<span class="delimiter">[</span>akka<span class="delimiter">]</span> case object <a href="#akka.cluster.ddata.Replicator.GetKeyIds.productElement.x$1" title="akka.cluster.ddata.Replicator.GetKeyIds.type" id="akka.cluster.ddata.Replicator.GetKeyIds.readResolve">GetKeyIds</a>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  private<span class="delimiter">[</span>akka<span class="delimiter">]</span> final case class <a title="class GetKeyIdsResult extends AnyRef with Product with Serializable" id="akka.cluster.ddata.Replicator.GetKeyIdsResult.readResolve">GetKeyIdsResult</a><a href="#akka.cluster.ddata.Replicator.GetKeyIdsResult.readResolve" title="Product" class="delimiter">(</a><a title="Set[String]" id="akka.cluster.ddata.Replicator;GetKeyIdsResult.keyIds">keyIds</a>: <span title="Set[String]">Set</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="comment">/**
     * Java API
     */</span>
    def <a title="=&gt; java.util.Set[String]" id="akka.cluster.ddata.Replicator;GetKeyIdsResult.getKeyIds">getKeyIds</a>: java.util.<span title="java.util.Set[String]">Set</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
      import scala.collection.<span title="scala.collection.JavaConverters.type">JavaConverters</span>._
      <a href="#akka.cluster.ddata.Replicator;GetKeyIdsResult.keyIds" title="(s: scala.collection.Set[String])scala.collection.convert.Decorators.AsJava[java.util.Set[String]]">keyIds</a>.<span title="=&gt; java.util.Set[String]">asJava</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  sealed trait <a title="trait Command[A &lt;: akka.cluster.ddata.ReplicatedData] extends AnyRef" id="akka.cluster.ddata.Replicator;Command">Command</a><span class="delimiter">[</span><a title=" &lt;: akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator;Command;A">A</a> &lt;: ReplicatedData<span class="delimiter">]</span> <span class="delimiter">{</span>
    def <a title="=&gt; akka.cluster.ddata.Key[A]" id="akka.cluster.ddata.Replicator;Command.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key[A]">Key</a><span class="delimiter">[</span>A<span class="delimiter">]</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Send this message to the local `Replicator` to retrieve a data value for the
   * given `key`. The `Replicator` will reply with one of the [[GetResponse]] messages.
   *
   * The optional `request` context is included in the reply messages. This is a convenient
   * way to pass contextual information (e.g. original sender) without having to use `ask`
   * or maintain local correlation data structures.
   */</span>
  final case class <a href="#akka.cluster.ddata.Replicator;Get.productElement.x$1" title="class Get[A &lt;: akka.cluster.ddata.ReplicatedData] extends AnyRef with akka.cluster.ddata.Replicator.Command[A] with akka.cluster.ddata.Replicator.ReplicatorMessage with Product with Serializable" id="akka.cluster.ddata.Replicator.Get.readResolve">Get</a><span class="delimiter">[</span><a title=" &lt;: akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator.Get.<init>$default$3;A">A</a> &lt;: ReplicatedData<span class="delimiter">]</span><span title="Product" class="delimiter">(</span><a title="akka.cluster.ddata.Key[A]" id="akka.cluster.ddata.Replicator;Get.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key[A]">Key</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="akka.cluster.ddata.Replicator.ReadConsistency" id="akka.cluster.ddata.Replicator;Get.consistency">consistency</a>: <a href="#akka.cluster.ddata.Replicator;ReadConsistency" title="akka.cluster.ddata.Replicator.ReadConsistency">ReadConsistency</a>, <a title="Option[Any]" id="akka.cluster.ddata.Replicator.Get.<init>$default$3">request</a>: <span title="Option[Any]">Option</span><span class="delimiter">[</span>Any<span class="delimiter">]</span> = <span title="None.type">None</span><span class="delimiter">)</span>
    extends <a href="#akka.cluster.ddata.Replicator;Command" title="akka.cluster.ddata.Replicator.Command[A]">Command</a><span class="delimiter">[</span>A<span class="delimiter">]</span> with <a href="#akka.cluster.ddata.Replicator;ReplicatorMessage" title="akka.cluster.ddata.Replicator.ReplicatorMessage">ReplicatorMessage</a> <span class="delimiter">{</span>
    <span class="comment">/**
     * Java API: `Get` value from local `Replicator`, i.e. `ReadLocal` consistency.
     */</span>
    def this<span class="delimiter">(</span><a title="akka.cluster.ddata.Key[A]" id="akka.cluster.ddata.Replicator;Get.<init>(86e682dbe5).key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key[A]">Key</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="akka.cluster.ddata.Replicator.ReadConsistency" id="akka.cluster.ddata.Replicator;Get.<init>(86e682dbe5).consistency">consistency</a>: <a href="#akka.cluster.ddata.Replicator;ReadConsistency" title="akka.cluster.ddata.Replicator.ReadConsistency">ReadConsistency</a><span class="delimiter">)</span> = this<span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator;Get.<init>(86e682dbe5).key" title="akka.cluster.ddata.Key[A]">key</a>, <a href="#akka.cluster.ddata.Replicator;Get.<init>(86e682dbe5).consistency" title="akka.cluster.ddata.Replicator.ReadConsistency">consistency</a>, <span title="None.type">None</span><span class="delimiter">)</span>

    <span class="comment">/**
     * Java API: `Get` value from local `Replicator`, i.e. `ReadLocal` consistency.
     */</span>
    def this<span class="delimiter">(</span><a title="akka.cluster.ddata.Key[A]" id="akka.cluster.ddata.Replicator;Get.<init>(93dcf57279).key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key[A]">Key</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="akka.cluster.ddata.Replicator.ReadConsistency" id="akka.cluster.ddata.Replicator;Get.<init>(93dcf57279).consistency">consistency</a>: <a href="#akka.cluster.ddata.Replicator;ReadConsistency" title="akka.cluster.ddata.Replicator.ReadConsistency">ReadConsistency</a>, <a title="java.util.Optional[Any]" id="akka.cluster.ddata.Replicator;Get.<init>(93dcf57279).request">request</a>: <span title="java.util.Optional[Any]">Optional</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span> =
      this<span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator;Get.<init>(93dcf57279).key" title="akka.cluster.ddata.Key[A]">key</a>, <a href="#akka.cluster.ddata.Replicator;Get.<init>(93dcf57279).consistency" title="akka.cluster.ddata.Replicator.ReadConsistency">consistency</a>, <span title="(x: Any)Option[Any]">Option</span><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator;Get.<init>(93dcf57279).request" title="java.util.Optional[Any]">request</a>.<span title="(x$1: Any)Any">orElse</span><span class="delimiter">(</span>null<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="delimiter">}</span>
  sealed abstract class <a title="class GetResponse[A &lt;: akka.cluster.ddata.ReplicatedData] extends AnyRef with akka.actor.NoSerializationVerificationNeeded" id="akka.cluster.ddata.Replicator;GetResponse">GetResponse</a><span class="delimiter">[</span><a title=" &lt;: akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator;GetResponse;A">A</a> &lt;: ReplicatedData<span class="delimiter">]</span> extends <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;NoSerializationVerificationNeeded" title="akka.actor.NoSerializationVerificationNeeded">NoSerializationVerificationNeeded</a> <span class="delimiter">{</span>
    def <a title="=&gt; akka.cluster.ddata.Key[A]" id="akka.cluster.ddata.Replicator;GetResponse.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key[A]">Key</a><span class="delimiter">[</span>A<span class="delimiter">]</span>
    def <a title="=&gt; Option[Any]" id="akka.cluster.ddata.Replicator;GetResponse.request">request</a>: <span title="Option[Any]">Option</span><span class="delimiter">[</span>Any<span class="delimiter">]</span>

    <span class="comment">/** Java API */</span>
    def <a title="=&gt; java.util.Optional[Any]" id="akka.cluster.ddata.Replicator;GetResponse.getRequest">getRequest</a>: <span title="java.util.Optional[Any]">Optional</span><span class="delimiter">[</span>Any<span class="delimiter">]</span> = <span title="java.util.Optional.type">Optional</span>.<span title="(x$1: Any)java.util.Optional[Any]">ofNullable</span><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator;GetResponse.request" title="=&gt; Option[Any]">request</a>.<span title="(implicit ev: &lt;:&lt;[Null,Any])Any">orNull</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="comment">/**
   * Reply from `Get`. The data value is retrieved with [[#get]] using the typed key.
   */</span>
  final case class <a href="#akka.cluster.ddata.Replicator;GetSuccess.productElement.x$1" title="class GetSuccess[A &lt;: akka.cluster.ddata.ReplicatedData] extends akka.cluster.ddata.Replicator.GetResponse[A] with akka.cluster.ddata.Replicator.ReplicatorMessage with Product with Serializable" id="akka.cluster.ddata.Replicator.GetSuccess.readResolve">GetSuccess</a><span class="delimiter">[</span><a title=" &lt;: akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator;GetSuccess;A">A</a> &lt;: ReplicatedData<span class="delimiter">]</span><span title="Product" class="delimiter">(</span><a title="akka.cluster.ddata.Key[A]" id="akka.cluster.ddata.Replicator;GetSuccess.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key[A]">Key</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Option[Any]" id="akka.cluster.ddata.Replicator;GetSuccess.request">request</a>: <span title="Option[Any]">Option</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A" id="akka.cluster.ddata.Replicator;GetSuccess.data">data</a>: <a href="#akka.cluster.ddata.Replicator;GetSuccess;A" title="A">A</a><span class="delimiter">)</span>
    extends <a href="#akka.cluster.ddata.Replicator;GetResponse" title="akka.cluster.ddata.Replicator.GetResponse[A]">GetResponse</a><span class="delimiter">[</span>A<span class="delimiter">]</span> with <a href="#akka.cluster.ddata.Replicator;ReplicatorMessage" title="akka.cluster.ddata.Replicator.ReplicatorMessage">ReplicatorMessage</a> <span class="delimiter">{</span>

    <span class="comment">/**
     * The data value, with correct type.
     * Scala pattern matching cannot infer the type from the `key` parameter.
     */</span>
    def <a title="[T &lt;: akka.cluster.ddata.ReplicatedData](key: akka.cluster.ddata.Key[T])T" id="akka.cluster.ddata.Replicator;GetSuccess.get">get</a><span class="delimiter">[</span><a title=" &lt;: akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator;GetSuccess.get;T">T</a> &lt;: ReplicatedData<span class="delimiter">]</span><span class="delimiter">(</span><a title="akka.cluster.ddata.Key[T]" id="akka.cluster.ddata.Replicator;GetSuccess.get.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key[T]">Key</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.cluster.ddata.Replicator;GetSuccess.get;T" title="T">T</a> = <span class="delimiter">{</span>
      <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator;GetSuccess.get.key" title="akka.cluster.ddata.Key[T]">key</a> <span title="(x$1: Any)Boolean">==</span> this.<a href="#akka.cluster.ddata.Replicator;GetSuccess.key" title="=&gt; akka.cluster.ddata.Key[A]">key</a>, <span title="String(&quot;wrong key used, must use contained key&quot;)" class="string">&quot;wrong key used, must use contained key&quot;</span><span class="delimiter">)</span>
      <a href="#akka.cluster.ddata.Replicator;GetSuccess.data" title="A">data</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="T" class="delimiter">[</span><a href="#akka.cluster.ddata.Replicator;GetSuccess.get;T" title="T">T</a><span class="delimiter">]</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * The data value. Use [[#get]] to get the fully typed value.
     */</span>
    def <a title="=&gt; A" id="akka.cluster.ddata.Replicator;GetSuccess.dataValue">dataValue</a>: <a href="#akka.cluster.ddata.Replicator;GetSuccess;A" title="A">A</a> = <a href="#akka.cluster.ddata.Replicator;GetSuccess.data" title="A">data</a>
  <span class="delimiter">}</span>
  final case class <a href="#akka.cluster.ddata.Replicator;NotFound.productElement.x$1" title="class NotFound[A &lt;: akka.cluster.ddata.ReplicatedData] extends akka.cluster.ddata.Replicator.GetResponse[A] with akka.cluster.ddata.Replicator.ReplicatorMessage with Product with Serializable" id="akka.cluster.ddata.Replicator.NotFound.readResolve">NotFound</a><span class="delimiter">[</span><a title=" &lt;: akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator;NotFound;A">A</a> &lt;: ReplicatedData<span class="delimiter">]</span><span title="Product" class="delimiter">(</span><a title="akka.cluster.ddata.Key[A]" id="akka.cluster.ddata.Replicator;NotFound.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key[A]">Key</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Option[Any]" id="akka.cluster.ddata.Replicator;NotFound.request">request</a>: <span title="Option[Any]">Option</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span>
    extends <a href="#akka.cluster.ddata.Replicator;GetResponse" title="akka.cluster.ddata.Replicator.GetResponse[A]">GetResponse</a><span class="delimiter">[</span>A<span class="delimiter">]</span> with <a href="#akka.cluster.ddata.Replicator;ReplicatorMessage" title="akka.cluster.ddata.Replicator.ReplicatorMessage">ReplicatorMessage</a>
  <span class="comment">/**
   * The [[Get]] request could not be fulfill according to the given
   * [[ReadConsistency consistency level]] and [[ReadConsistency#timeout timeout]].
   */</span>
  final case class <a href="#akka.cluster.ddata.Replicator;GetFailure.productElement.x$1" title="class GetFailure[A &lt;: akka.cluster.ddata.ReplicatedData] extends akka.cluster.ddata.Replicator.GetResponse[A] with akka.cluster.ddata.Replicator.ReplicatorMessage with Product with Serializable" id="akka.cluster.ddata.Replicator.GetFailure.readResolve">GetFailure</a><span class="delimiter">[</span><a title=" &lt;: akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator;GetFailure;A">A</a> &lt;: ReplicatedData<span class="delimiter">]</span><span title="Product" class="delimiter">(</span><a title="akka.cluster.ddata.Key[A]" id="akka.cluster.ddata.Replicator;GetFailure.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key[A]">Key</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Option[Any]" id="akka.cluster.ddata.Replicator;GetFailure.request">request</a>: <span title="Option[Any]">Option</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span>
    extends <a href="#akka.cluster.ddata.Replicator;GetResponse" title="akka.cluster.ddata.Replicator.GetResponse[A]">GetResponse</a><span class="delimiter">[</span>A<span class="delimiter">]</span> with <a href="#akka.cluster.ddata.Replicator;ReplicatorMessage" title="akka.cluster.ddata.Replicator.ReplicatorMessage">ReplicatorMessage</a>

  <span class="comment">/**
   * Register a subscriber that will be notified with a [[Changed]] message
   * when the value of the given `key` is changed. Current value is also
   * sent as a [[Changed]] message to a new subscriber.
   *
   * Subscribers will be notified periodically with the configured `notify-subscribers-interval`,
   * and it is also possible to send an explicit `FlushChanges` message to
   * the `Replicator` to notify the subscribers immediately.
   *
   * The subscriber will automatically be unregistered if it is terminated.
   *
   * If the key is deleted the subscriber is notified with a [[DataDeleted]]
   * message.
   */</span>
  final case class <a href="#akka.cluster.ddata.Replicator;Subscribe.productElement.x$1" title="class Subscribe[A &lt;: akka.cluster.ddata.ReplicatedData] extends AnyRef with akka.cluster.ddata.Replicator.ReplicatorMessage with Product with Serializable" id="akka.cluster.ddata.Replicator.Subscribe.readResolve">Subscribe</a><span class="delimiter">[</span><a title=" &lt;: akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator;Subscribe;A">A</a> &lt;: ReplicatedData<span class="delimiter">]</span><span title="Product" class="delimiter">(</span><a title="akka.cluster.ddata.Key[A]" id="akka.cluster.ddata.Replicator;Subscribe.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key[A]">Key</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="akka.actor.ActorRef" id="akka.cluster.ddata.Replicator;Subscribe.subscriber">subscriber</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span> extends <a href="#akka.cluster.ddata.Replicator;ReplicatorMessage" title="akka.cluster.ddata.Replicator.ReplicatorMessage">ReplicatorMessage</a>
  <span class="comment">/**
   * Unregister a subscriber.
   * @see [[Replicator.Subscribe]]
   */</span>
  final case class <a href="#akka.cluster.ddata.Replicator;Unsubscribe.productElement.x$1" title="class Unsubscribe[A &lt;: akka.cluster.ddata.ReplicatedData] extends AnyRef with akka.cluster.ddata.Replicator.ReplicatorMessage with Product with Serializable" id="akka.cluster.ddata.Replicator.Unsubscribe.readResolve">Unsubscribe</a><span class="delimiter">[</span><a title=" &lt;: akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator;Unsubscribe;A">A</a> &lt;: ReplicatedData<span class="delimiter">]</span><span title="Product" class="delimiter">(</span><a title="akka.cluster.ddata.Key[A]" id="akka.cluster.ddata.Replicator;Unsubscribe.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key[A]">Key</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="akka.actor.ActorRef" id="akka.cluster.ddata.Replicator;Unsubscribe.subscriber">subscriber</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span> extends <a href="#akka.cluster.ddata.Replicator;ReplicatorMessage" title="akka.cluster.ddata.Replicator.ReplicatorMessage">ReplicatorMessage</a>
  <span class="comment">/**
   * The data value is retrieved with [[#get]] using the typed key.
   * @see [[Replicator.Subscribe]]
   */</span>
  final case class <a href="#akka.cluster.ddata.Replicator;Changed.productElement.x$1" title="class Changed[A &lt;: akka.cluster.ddata.ReplicatedData] extends AnyRef with akka.cluster.ddata.Replicator.ReplicatorMessage with Product with Serializable" id="akka.cluster.ddata.Replicator.Changed.readResolve">Changed</a><span class="delimiter">[</span><a title=" &lt;: akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator;Changed;A">A</a> &lt;: ReplicatedData<span class="delimiter">]</span><span title="Product" class="delimiter">(</span><a title="akka.cluster.ddata.Key[A]" id="akka.cluster.ddata.Replicator;Changed.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key[A]">Key</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A" id="akka.cluster.ddata.Replicator;Changed.data">data</a>: <a href="#akka.cluster.ddata.Replicator;Changed;A" title="A">A</a><span class="delimiter">)</span> extends <a href="#akka.cluster.ddata.Replicator;ReplicatorMessage" title="akka.cluster.ddata.Replicator.ReplicatorMessage">ReplicatorMessage</a> <span class="delimiter">{</span>
    <span class="comment">/**
     * The data value, with correct type.
     * Scala pattern matching cannot infer the type from the `key` parameter.
     */</span>
    def <a title="[T &lt;: akka.cluster.ddata.ReplicatedData](key: akka.cluster.ddata.Key[T])T" id="akka.cluster.ddata.Replicator;Changed.get">get</a><span class="delimiter">[</span><a title=" &lt;: akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator;Changed.get;T">T</a> &lt;: ReplicatedData<span class="delimiter">]</span><span class="delimiter">(</span><a title="akka.cluster.ddata.Key[T]" id="akka.cluster.ddata.Replicator;Changed.get.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key[T]">Key</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.cluster.ddata.Replicator;Changed.get;T" title="T">T</a> = <span class="delimiter">{</span>
      <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator;Changed.get.key" title="akka.cluster.ddata.Key[T]">key</a> <span title="(x$1: Any)Boolean">==</span> this.<a href="#akka.cluster.ddata.Replicator;Changed.key" title="=&gt; akka.cluster.ddata.Key[A]">key</a>, <span title="String(&quot;wrong key used, must use contained key&quot;)" class="string">&quot;wrong key used, must use contained key&quot;</span><span class="delimiter">)</span>
      <a href="#akka.cluster.ddata.Replicator;Changed.data" title="A">data</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="T" class="delimiter">[</span><a href="#akka.cluster.ddata.Replicator;Changed.get;T" title="T">T</a><span class="delimiter">]</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * The data value. Use [[#get]] to get the fully typed value.
     */</span>
    def <a title="=&gt; A" id="akka.cluster.ddata.Replicator;Changed.dataValue">dataValue</a>: <a href="#akka.cluster.ddata.Replicator;Changed;A" title="A">A</a> = <a href="#akka.cluster.ddata.Replicator;Changed.data" title="A">data</a>
  <span class="delimiter">}</span>

  object <a title="akka.cluster.ddata.Replicator.Update.type" id="akka.cluster.ddata.Replicator.Update.readResolve">Update</a> <a href="#akka.cluster.ddata.Replicator.Update.readResolve" title="akka.cluster.ddata.Replicator.Update.type" class="delimiter">{</a>

    <span class="comment">/**
     * Modify value of local `Replicator` and replicate with given `writeConsistency`.
     *
     * The current value for the `key` is passed to the `modify` function.
     * If there is no current data value for the `key` the `initial` value will be
     * passed to the `modify` function.
     *
     * The optional `request` context is included in the reply messages. This is a convenient
     * way to pass contextual information (e.g. original sender) without having to use `ask`
     * or local correlation data structures.
     */</span>
    def <a title="[A &lt;: akka.cluster.ddata.ReplicatedData](key: akka.cluster.ddata.Key[A], initial: A, writeConsistency: akka.cluster.ddata.Replicator.WriteConsistency, request: Option[Any])(modify: A =&gt; A)akka.cluster.ddata.Replicator.Update[A]" id="akka.cluster.ddata.Replicator.Update.apply(248dd2199e)">apply</a><span class="delimiter">[</span><a title=" &lt;: akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator.Update.apply$default$4;A">A</a> &lt;: ReplicatedData<span class="delimiter">]</span><span class="delimiter">(</span>
      <a title="akka.cluster.ddata.Key[A]" id="akka.cluster.ddata.Replicator.Update.apply(248dd2199e).key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key[A]">Key</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="A" id="akka.cluster.ddata.Replicator.Update.apply(248dd2199e).initial">initial</a>: <a href="#akka.cluster.ddata.Replicator.Update.apply$default$4;A" title="A">A</a>, <a title="akka.cluster.ddata.Replicator.WriteConsistency" id="akka.cluster.ddata.Replicator.Update.apply(248dd2199e).writeConsistency">writeConsistency</a>: <a href="#akka.cluster.ddata.Replicator;WriteConsistency" title="akka.cluster.ddata.Replicator.WriteConsistency">WriteConsistency</a>,
      <a title="Option[Any]" id="akka.cluster.ddata.Replicator.Update.apply$default$4">request</a>: <span title="Option[Any]">Option</span><span class="delimiter">[</span>Any<span class="delimiter">]</span> = <span title="None.type">None</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; A" id="akka.cluster.ddata.Replicator.Update.apply(248dd2199e).modify">modify</a>: A ⇒ A<span class="delimiter">)</span>: <a href="#akka.cluster.ddata.Replicator;Update.equals" title="akka.cluster.ddata.Replicator.Update[A]">Update</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =
      <a href="#akka.cluster.ddata.Replicator;Update.equals" title="(key: akka.cluster.ddata.Key[A], writeConsistency: akka.cluster.ddata.Replicator.WriteConsistency, request: Option[Any])(modify: Option[A] =&gt; A)akka.cluster.ddata.Replicator.Update[A]">Update</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Update.apply(248dd2199e).key" title="akka.cluster.ddata.Key[A]">key</a>, <a href="#akka.cluster.ddata.Replicator.Update.apply(248dd2199e).writeConsistency" title="akka.cluster.ddata.Replicator.WriteConsistency">writeConsistency</a>, <a href="#akka.cluster.ddata.Replicator.Update.apply$default$4" title="Option[Any]">request</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Update.modifyWithInitial" title="(initial: A, modify: A =&gt; A)Option[A] =&gt; A">modifyWithInitial</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Update.apply(248dd2199e).initial" title="A">initial</a>, <a href="#akka.cluster.ddata.Replicator.Update.apply(248dd2199e).modify" title="A =&gt; A">modify</a><span class="delimiter">)</span><span class="delimiter">)</span>

    private def <a title="[A &lt;: akka.cluster.ddata.ReplicatedData](initial: A, modify: A =&gt; A)Option[A] =&gt; A" id="akka.cluster.ddata.Replicator.Update.modifyWithInitial">modifyWithInitial</a><span class="delimiter">[</span><a title=" &lt;: akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator.Update.modifyWithInitial;A">A</a> &lt;: ReplicatedData<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="akka.cluster.ddata.Replicator.Update.modifyWithInitial.initial">initial</a>: <a href="#akka.cluster.ddata.Replicator.Update.modifyWithInitial;A" title="A">A</a>, <a title="A =&gt; A" id="akka.cluster.ddata.Replicator.Update.modifyWithInitial.modify">modify</a>: A ⇒ A<span class="delimiter">)</span>: Option<span class="delimiter">[</span>A<span class="delimiter">]</span> ⇒ A = <a href="#akka.cluster.ddata.Replicator.Update.modifyWithInitial.$anonfun.x0$1" title="A" class="delimiter">{</a>
      case Some<span class="delimiter">(</span><a title="A" id="akka.cluster.ddata.Replicator.Update.modifyWithInitial.$anonfun.data">data</a><span class="delimiter">)</span> ⇒ <a href="#akka.cluster.ddata.Replicator.Update.modifyWithInitial.modify" title="(v1: A)A">modify</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Update.modifyWithInitial.$anonfun.data" title="A">data</a><span class="delimiter">)</span>
      case <span title="None.type">None</span>       ⇒ <a href="#akka.cluster.ddata.Replicator.Update.modifyWithInitial.modify" title="(v1: A)A">modify</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Update.modifyWithInitial.initial" title="A">initial</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="comment">/**
   * Send this message to the local `Replicator` to update a data value for the
   * given `key`. The `Replicator` will reply with one of the [[UpdateResponse]] messages.
   *
   * Note that the [[Replicator.Update$ companion]] object provides `apply` functions for convenient
   * construction of this message.
   *
   * The current data value for the `key` is passed as parameter to the `modify` function.
   * It is `None` if there is no value for the `key`, and otherwise `Some(data)`. The function
   * is supposed to return the new value of the data, which will then be replicated according to
   * the given `writeConsistency`.
   *
   * The `modify` function is called by the `Replicator` actor and must therefore be a pure
   * function that only uses the data parameter and stable fields from enclosing scope. It must
   * for example not access `sender()` reference of an enclosing actor.
   */</span>
  final case class <a href="#akka.cluster.ddata.Replicator;Update.copy$default$1" title="[A &lt;: akka.cluster.ddata.ReplicatedData](key: akka.cluster.ddata.Key[A], writeConsistency: akka.cluster.ddata.Replicator.WriteConsistency, request: Option[Any])(modify: Option[A] =&gt; A)akka.cluster.ddata.Replicator.Update[A]" id="akka.cluster.ddata.Replicator;Update.equals">Update</a><span class="delimiter">[</span><a title=" &lt;: akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator;Update.copy$default$3;A">A</a> &lt;: ReplicatedData<span class="delimiter">]</span><span title="Product" class="delimiter">(</span><a title="akka.cluster.ddata.Key[A]" id="akka.cluster.ddata.Replicator;Update.copy$default$1">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key[A]">Key</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="akka.cluster.ddata.Replicator.WriteConsistency" id="akka.cluster.ddata.Replicator;Update.copy$default$2">writeConsistency</a>: <a href="#akka.cluster.ddata.Replicator;WriteConsistency" title="akka.cluster.ddata.Replicator.WriteConsistency">WriteConsistency</a>,
                                               <a title="Option[Any]" id="akka.cluster.ddata.Replicator;Update.copy$default$3">request</a>: <span title="Option[Any]">Option</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span>val <a title="Option[A] =&gt; A" id="akka.cluster.ddata.Replicator;Update.copy.modify">modify</a>: Option<span class="delimiter">[</span>A<span class="delimiter">]</span> ⇒ A<span class="delimiter">)</span>
    extends <a href="#akka.cluster.ddata.Replicator;Command" title="akka.cluster.ddata.Replicator.Command[A]">Command</a><span class="delimiter">[</span>A<span class="delimiter">]</span> with <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;NoSerializationVerificationNeeded" title="akka.actor.NoSerializationVerificationNeeded">NoSerializationVerificationNeeded</a> <span class="delimiter">{</span>

    <span class="comment">/**
     * Java API: Modify value of local `Replicator` and replicate with given `writeConsistency`.
     *
     * The current value for the `key` is passed to the `modify` function.
     * If there is no current data value for the `key` the `initial` value will be
     * passed to the `modify` function.
     */</span>
    def this<span class="delimiter">(</span>
      <a title="akka.cluster.ddata.Key[A]" id="akka.cluster.ddata.Replicator;Update.<init>(7230700c39).key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key[A]">Key</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="A" id="akka.cluster.ddata.Replicator;Update.<init>(7230700c39).initial">initial</a>: <a href="#akka.cluster.ddata.Replicator;Update.copy$default$3;A" title="A">A</a>, <a title="akka.cluster.ddata.Replicator.WriteConsistency" id="akka.cluster.ddata.Replicator;Update.<init>(7230700c39).writeConsistency">writeConsistency</a>: <a href="#akka.cluster.ddata.Replicator;WriteConsistency" title="akka.cluster.ddata.Replicator.WriteConsistency">WriteConsistency</a>, <a title="java.util.function.Function[A,A]" id="akka.cluster.ddata.Replicator;Update.<init>(7230700c39).modify">modify</a>: <span title="java.util.function.Function[A,A]">JFunction</span><span class="delimiter">[</span>A, A<span class="delimiter">]</span><span class="delimiter">)</span> =
      this<span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator;Update.<init>(7230700c39).key" title="akka.cluster.ddata.Key[A]">key</a>, <a href="#akka.cluster.ddata.Replicator;Update.<init>(7230700c39).writeConsistency" title="akka.cluster.ddata.Replicator.WriteConsistency">writeConsistency</a>, <span title="None.type">None</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Update.readResolve" title="akka.cluster.ddata.Replicator.Update.type">Update</a>.<a href="#akka.cluster.ddata.Replicator.Update.modifyWithInitial" title="(initial: A, modify: A =&gt; A)Option[A] =&gt; A">modifyWithInitial</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator;Update.<init>(7230700c39).initial" title="A">initial</a>, <a title="A" id="akka.cluster.ddata.Replicator;Update.<init>(7230700c39).$anonfun.data">data</a> ⇒ <a href="#akka.cluster.ddata.Replicator;Update.<init>(7230700c39).modify" title="java.util.function.Function[A,A]">modify</a>.<span title="(x$1: A)A">apply</span><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator;Update.<init>(7230700c39).$anonfun.data" title="A">data</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/**
     * Java API: Modify value of local `Replicator` and replicate with given `writeConsistency`.
     *
     * The current value for the `key` is passed to the `modify` function.
     * If there is no current data value for the `key` the `initial` value will be
     * passed to the `modify` function.
     *
     * The optional `request` context is included in the reply messages. This is a convenient
     * way to pass contextual information (e.g. original sender) without having to use `ask`
     * or local correlation data structures.
     */</span>
    def this<span class="delimiter">(</span>
      <a title="akka.cluster.ddata.Key[A]" id="akka.cluster.ddata.Replicator;Update.<init>(7d3b85b2bf).key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key[A]">Key</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="A" id="akka.cluster.ddata.Replicator;Update.<init>(7d3b85b2bf).initial">initial</a>: <a href="#akka.cluster.ddata.Replicator;Update.copy$default$3;A" title="A">A</a>, <a title="akka.cluster.ddata.Replicator.WriteConsistency" id="akka.cluster.ddata.Replicator;Update.<init>(7d3b85b2bf).writeConsistency">writeConsistency</a>: <a href="#akka.cluster.ddata.Replicator;WriteConsistency" title="akka.cluster.ddata.Replicator.WriteConsistency">WriteConsistency</a>, <a title="java.util.Optional[Any]" id="akka.cluster.ddata.Replicator;Update.<init>(7d3b85b2bf).request">request</a>: <span title="java.util.Optional[Any]">Optional</span><span class="delimiter">[</span>Any<span class="delimiter">]</span>, <a title="java.util.function.Function[A,A]" id="akka.cluster.ddata.Replicator;Update.<init>(7d3b85b2bf).modify">modify</a>: <span title="java.util.function.Function[A,A]">JFunction</span><span class="delimiter">[</span>A, A<span class="delimiter">]</span><span class="delimiter">)</span> =
      this<span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator;Update.<init>(7d3b85b2bf).key" title="akka.cluster.ddata.Key[A]">key</a>, <a href="#akka.cluster.ddata.Replicator;Update.<init>(7d3b85b2bf).writeConsistency" title="akka.cluster.ddata.Replicator.WriteConsistency">writeConsistency</a>, <span title="(x: Any)Option[Any]">Option</span><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator;Update.<init>(7d3b85b2bf).request" title="java.util.Optional[Any]">request</a>.<span title="(x$1: Any)Any">orElse</span><span class="delimiter">(</span>null<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Update.readResolve" title="akka.cluster.ddata.Replicator.Update.type">Update</a>.<a href="#akka.cluster.ddata.Replicator.Update.modifyWithInitial" title="(initial: A, modify: A =&gt; A)Option[A] =&gt; A">modifyWithInitial</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator;Update.<init>(7d3b85b2bf).initial" title="A">initial</a>, <a title="A" id="akka.cluster.ddata.Replicator;Update.<init>(7d3b85b2bf).$anonfun.data">data</a> ⇒ <a href="#akka.cluster.ddata.Replicator;Update.<init>(7d3b85b2bf).modify" title="java.util.function.Function[A,A]">modify</a>.<span title="(x$1: A)A">apply</span><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator;Update.<init>(7d3b85b2bf).$anonfun.data" title="A">data</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="delimiter">}</span>

  sealed abstract class <a title="class UpdateResponse[A &lt;: akka.cluster.ddata.ReplicatedData] extends AnyRef with akka.actor.NoSerializationVerificationNeeded" id="akka.cluster.ddata.Replicator;UpdateResponse">UpdateResponse</a><span class="delimiter">[</span><a title=" &lt;: akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator;UpdateResponse;A">A</a> &lt;: ReplicatedData<span class="delimiter">]</span> extends <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;NoSerializationVerificationNeeded" title="akka.actor.NoSerializationVerificationNeeded">NoSerializationVerificationNeeded</a> <span class="delimiter">{</span>
    def <a title="=&gt; akka.cluster.ddata.Key[A]" id="akka.cluster.ddata.Replicator;UpdateResponse.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key[A]">Key</a><span class="delimiter">[</span>A<span class="delimiter">]</span>
    def <a title="=&gt; Option[Any]" id="akka.cluster.ddata.Replicator;UpdateResponse.request">request</a>: <span title="Option[Any]">Option</span><span class="delimiter">[</span>Any<span class="delimiter">]</span>

    <span class="comment">/** Java API */</span>
    def <a title="=&gt; java.util.Optional[Any]" id="akka.cluster.ddata.Replicator;UpdateResponse.getRequest">getRequest</a>: <span title="java.util.Optional[Any]">Optional</span><span class="delimiter">[</span>Any<span class="delimiter">]</span> = <span title="java.util.Optional.type">Optional</span>.<span title="(x$1: Any)java.util.Optional[Any]">ofNullable</span><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator;UpdateResponse.request" title="=&gt; Option[Any]">request</a>.<span title="(implicit ev: &lt;:&lt;[Null,Any])Any">orNull</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  final case class <a href="#akka.cluster.ddata.Replicator;UpdateSuccess.productElement.x$1" title="class UpdateSuccess[A &lt;: akka.cluster.ddata.ReplicatedData] extends akka.cluster.ddata.Replicator.UpdateResponse[A] with Product with Serializable" id="akka.cluster.ddata.Replicator.UpdateSuccess.readResolve">UpdateSuccess</a><span class="delimiter">[</span><a title=" &lt;: akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator;UpdateSuccess;A">A</a> &lt;: ReplicatedData<span class="delimiter">]</span><span title="Product" class="delimiter">(</span><a title="akka.cluster.ddata.Key[A]" id="akka.cluster.ddata.Replicator;UpdateSuccess.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key[A]">Key</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Option[Any]" id="akka.cluster.ddata.Replicator;UpdateSuccess.request">request</a>: <span title="Option[Any]">Option</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span> extends <a href="#akka.cluster.ddata.Replicator;UpdateResponse" title="akka.cluster.ddata.Replicator.UpdateResponse[A]">UpdateResponse</a><span class="delimiter">[</span>A<span class="delimiter">]</span>
  sealed abstract class <a title="class UpdateFailure[A &lt;: akka.cluster.ddata.ReplicatedData] extends akka.cluster.ddata.Replicator.UpdateResponse[A]" id="akka.cluster.ddata.Replicator;UpdateFailure">UpdateFailure</a><span class="delimiter">[</span><a title=" &lt;: akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator;UpdateFailure;A">A</a> &lt;: ReplicatedData<span class="delimiter">]</span> extends <a href="#akka.cluster.ddata.Replicator;UpdateResponse" title="akka.cluster.ddata.Replicator.UpdateResponse[A]">UpdateResponse</a><span class="delimiter">[</span>A<span class="delimiter">]</span>

  <span class="comment">/**
   * The direct replication of the [[Update]] could not be fulfill according to
   * the given [[WriteConsistency consistency level]] and
   * [[WriteConsistency#timeout timeout]].
   *
   * The `Update` was still performed locally and possibly replicated to some nodes.
   * It will eventually be disseminated to other replicas, unless the local replica
   * crashes before it has been able to communicate with other replicas.
   */</span>
  final case class <a href="#akka.cluster.ddata.Replicator;UpdateTimeout.productElement.x$1" title="class UpdateTimeout[A &lt;: akka.cluster.ddata.ReplicatedData] extends akka.cluster.ddata.Replicator.UpdateFailure[A] with Product with Serializable" id="akka.cluster.ddata.Replicator.UpdateTimeout.readResolve">UpdateTimeout</a><span class="delimiter">[</span><a title=" &lt;: akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator;UpdateTimeout;A">A</a> &lt;: ReplicatedData<span class="delimiter">]</span><span title="Product" class="delimiter">(</span><a title="akka.cluster.ddata.Key[A]" id="akka.cluster.ddata.Replicator;UpdateTimeout.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key[A]">Key</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Option[Any]" id="akka.cluster.ddata.Replicator;UpdateTimeout.request">request</a>: <span title="Option[Any]">Option</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span> extends <a href="#akka.cluster.ddata.Replicator;UpdateFailure" title="akka.cluster.ddata.Replicator.UpdateFailure[A]">UpdateFailure</a><span class="delimiter">[</span>A<span class="delimiter">]</span>
  <span class="comment">/**
   * If the `modify` function of the [[Update]] throws an exception the reply message
   * will be this `ModifyFailure` message. The original exception is included as `cause`.
   */</span>
  final case class <a href="#akka.cluster.ddata.Replicator;ModifyFailure.productElement.x$1" title="class ModifyFailure[A &lt;: akka.cluster.ddata.ReplicatedData] extends akka.cluster.ddata.Replicator.UpdateFailure[A] with Product with Serializable" id="akka.cluster.ddata.Replicator.ModifyFailure.readResolve">ModifyFailure</a><span class="delimiter">[</span><a title=" &lt;: akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator;ModifyFailure;A">A</a> &lt;: ReplicatedData<span class="delimiter">]</span><span title="Product" class="delimiter">(</span><a title="akka.cluster.ddata.Key[A]" id="akka.cluster.ddata.Replicator;ModifyFailure.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key[A]">Key</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="String" id="akka.cluster.ddata.Replicator;ModifyFailure.errorMessage">errorMessage</a>: <span title="String">String</span>, <a title="Throwable" id="akka.cluster.ddata.Replicator;ModifyFailure.cause">cause</a>: <span title="Throwable">Throwable</span>, <a title="Option[Any]" id="akka.cluster.ddata.Replicator;ModifyFailure.request">request</a>: <span title="Option[Any]">Option</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span>
    extends <a href="#akka.cluster.ddata.Replicator;UpdateFailure" title="akka.cluster.ddata.Replicator.UpdateFailure[A]">UpdateFailure</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
    override def <a title="()String" id="akka.cluster.ddata.Replicator;ModifyFailure.toString">toString</a>: <span title="String">String</span> = <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;ModifyFailure [&quot;)">ModifyFailure [$</span><a href="#akka.cluster.ddata.Replicator;ModifyFailure.key" title="=&gt; akka.cluster.ddata.Key[A]">key</a><span title="String(&quot;]: &quot;)">]: $</span><a href="#akka.cluster.ddata.Replicator;ModifyFailure.errorMessage" title="=&gt; String">errorMessage</a><span title="String(&quot;&quot;)" class="string">&quot;</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Send this message to the local `Replicator` to delete a data value for the
   * given `key`. The `Replicator` will reply with one of the [[DeleteResponse]] messages.
   */</span>
  final case class <a href="#akka.cluster.ddata.Replicator;Delete.productElement.x$1" title="class Delete[A &lt;: akka.cluster.ddata.ReplicatedData] extends AnyRef with akka.cluster.ddata.Replicator.Command[A] with Product with Serializable" id="akka.cluster.ddata.Replicator.Delete.readResolve">Delete</a><span class="delimiter">[</span><a title=" &lt;: akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator;Delete;A">A</a> &lt;: ReplicatedData<span class="delimiter">]</span><span title="Product" class="delimiter">(</span><a title="akka.cluster.ddata.Key[A]" id="akka.cluster.ddata.Replicator;Delete.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key[A]">Key</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="akka.cluster.ddata.Replicator.WriteConsistency" id="akka.cluster.ddata.Replicator;Delete.consistency">consistency</a>: <a href="#akka.cluster.ddata.Replicator;WriteConsistency" title="akka.cluster.ddata.Replicator.WriteConsistency">WriteConsistency</a><span class="delimiter">)</span> extends <a href="#akka.cluster.ddata.Replicator;Command" title="akka.cluster.ddata.Replicator.Command[A]">Command</a><span class="delimiter">[</span>A<span class="delimiter">]</span>

  sealed trait <a title="trait DeleteResponse[A &lt;: akka.cluster.ddata.ReplicatedData] extends AnyRef" id="akka.cluster.ddata.Replicator;DeleteResponse">DeleteResponse</a><span class="delimiter">[</span><a title=" &lt;: akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator;DeleteResponse;A">A</a> &lt;: ReplicatedData<span class="delimiter">]</span> <span class="delimiter">{</span>
    def <a title="=&gt; akka.cluster.ddata.Key[A]" id="akka.cluster.ddata.Replicator;DeleteResponse.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key[A]">Key</a><span class="delimiter">[</span>A<span class="delimiter">]</span>
  <span class="delimiter">}</span>
  final case class <a href="#akka.cluster.ddata.Replicator;DeleteSuccess.productElement.x$1" title="class DeleteSuccess[A &lt;: akka.cluster.ddata.ReplicatedData] extends AnyRef with akka.cluster.ddata.Replicator.DeleteResponse[A] with Product with Serializable" id="akka.cluster.ddata.Replicator.DeleteSuccess.readResolve">DeleteSuccess</a><span class="delimiter">[</span><a title=" &lt;: akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator;DeleteSuccess;A">A</a> &lt;: ReplicatedData<span class="delimiter">]</span><span title="Product" class="delimiter">(</span><a title="akka.cluster.ddata.Key[A]" id="akka.cluster.ddata.Replicator;DeleteSuccess.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key[A]">Key</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> extends <a href="#akka.cluster.ddata.Replicator;DeleteResponse" title="akka.cluster.ddata.Replicator.DeleteResponse[A]">DeleteResponse</a><span class="delimiter">[</span>A<span class="delimiter">]</span>
  final case class <a href="#akka.cluster.ddata.Replicator;ReplicationDeleteFailure.productElement.x$1" title="class ReplicationDeleteFailure[A &lt;: akka.cluster.ddata.ReplicatedData] extends AnyRef with akka.cluster.ddata.Replicator.DeleteResponse[A] with Product with Serializable" id="akka.cluster.ddata.Replicator.ReplicationDeleteFailure.readResolve">ReplicationDeleteFailure</a><span class="delimiter">[</span><a title=" &lt;: akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator;ReplicationDeleteFailure;A">A</a> &lt;: ReplicatedData<span class="delimiter">]</span><span title="Product" class="delimiter">(</span><a title="akka.cluster.ddata.Key[A]" id="akka.cluster.ddata.Replicator;ReplicationDeleteFailure.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key[A]">Key</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> extends <a href="#akka.cluster.ddata.Replicator;DeleteResponse" title="akka.cluster.ddata.Replicator.DeleteResponse[A]">DeleteResponse</a><span class="delimiter">[</span>A<span class="delimiter">]</span>
  final case class <a href="#akka.cluster.ddata.Replicator;DataDeleted.productElement.x$1" title="class DataDeleted[A &lt;: akka.cluster.ddata.ReplicatedData] extends RuntimeException with scala.util.control.NoStackTrace with akka.cluster.ddata.Replicator.DeleteResponse[A] with Product with Serializable" id="akka.cluster.ddata.Replicator.DataDeleted.readResolve">DataDeleted</a><span class="delimiter">[</span><a title=" &lt;: akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator;DataDeleted;A">A</a> &lt;: ReplicatedData<span class="delimiter">]</span><span title="Product" class="delimiter">(</span><a title="akka.cluster.ddata.Key[A]" id="akka.cluster.ddata.Replicator;DataDeleted.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key[A]">Key</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>
    extends <a href="#akka.cluster.ddata.Replicator.DataDeleted.readResolve" title="RuntimeException">RuntimeException</a> with <span title="scala.util.control.NoStackTrace">NoStackTrace</span> with <a href="#akka.cluster.ddata.Replicator;DeleteResponse" title="akka.cluster.ddata.Replicator.DeleteResponse[A]">DeleteResponse</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
    override def <a title="()String" id="akka.cluster.ddata.Replicator;DataDeleted.toString">toString</a>: <span title="String">String</span> = <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;DataDeleted [&quot;)">DataDeleted [$</span><a href="#akka.cluster.ddata.Replicator;DataDeleted.key" title="=&gt; akka.cluster.ddata.Key[A]">key</a><span title="String(&quot;]&quot;)" class="string">]&quot;</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Get current number of replicas, including the local replica.
   * Will reply to sender with [[ReplicaCount]].
   */</span>
  final case object <a href="#akka.cluster.ddata.Replicator.GetReplicaCount.productElement.x$1" title="akka.cluster.ddata.Replicator.GetReplicaCount.type" id="akka.cluster.ddata.Replicator.GetReplicaCount.readResolve">GetReplicaCount</a>

  <span class="comment">/**
   * Java API: The `GetReplicaCount` instance
   */</span>
  def <a title="=&gt; akka.cluster.ddata.Replicator.GetReplicaCount.type" id="akka.cluster.ddata.Replicator.getReplicaCount">getReplicaCount</a> = <a href="#akka.cluster.ddata.Replicator.GetReplicaCount.readResolve" title="akka.cluster.ddata.Replicator.GetReplicaCount.type">GetReplicaCount</a>

  <span class="comment">/**
   * Current number of replicas. Reply to `GetReplicaCount`.
   */</span>
  final case class <a title="class ReplicaCount extends AnyRef with Product with Serializable" id="akka.cluster.ddata.Replicator.ReplicaCount.readResolve">ReplicaCount</a><a href="#akka.cluster.ddata.Replicator.ReplicaCount.readResolve" title="Product" class="delimiter">(</a><a title="Int" id="akka.cluster.ddata.Replicator;ReplicaCount.n">n</a>: <span title="Int">Int</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Notify subscribers of changes now, otherwise they will be notified periodically
   * with the configured `notify-subscribers-interval`.
   */</span>
  case object <a href="#akka.cluster.ddata.Replicator.FlushChanges.productElement.x$1" title="akka.cluster.ddata.Replicator.FlushChanges.type" id="akka.cluster.ddata.Replicator.FlushChanges.readResolve">FlushChanges</a>

  <span class="comment">/**
   * Java API: The `FlushChanges` instance
   */</span>
  def <a title="=&gt; akka.cluster.ddata.Replicator.FlushChanges.type" id="akka.cluster.ddata.Replicator.flushChanges">flushChanges</a> = <a href="#akka.cluster.ddata.Replicator.FlushChanges.readResolve" title="akka.cluster.ddata.Replicator.FlushChanges.type">FlushChanges</a>

  <span class="comment">/**
   * Marker trait for remote messages serialized by
   * [[akka.cluster.ddata.protobuf.ReplicatorMessageSerializer]].
   */</span>
  trait <a title="trait ReplicatorMessage extends AnyRef with Serializable" id="akka.cluster.ddata.Replicator;ReplicatorMessage">ReplicatorMessage</a> extends <span title="Serializable">Serializable</span>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  private<span class="delimiter">[</span>akka<span class="delimiter">]</span> object <a title="akka.cluster.ddata.Replicator.Internal.type" id="akka.cluster.ddata.Replicator.Internal">Internal</a> <a href="#akka.cluster.ddata.Replicator.Internal" title="akka.cluster.ddata.Replicator.Internal.type" class="delimiter">{</a>

    case object <a href="#akka.cluster.ddata.Replicator.Internal.GossipTick.productElement.x$1" title="akka.cluster.ddata.Replicator.Internal.GossipTick.type" id="akka.cluster.ddata.Replicator.Internal.GossipTick.readResolve">GossipTick</a>
    case object <a href="#akka.cluster.ddata.Replicator.Internal.RemovedNodePruningTick.productElement.x$1" title="akka.cluster.ddata.Replicator.Internal.RemovedNodePruningTick.type" id="akka.cluster.ddata.Replicator.Internal.RemovedNodePruningTick.readResolve">RemovedNodePruningTick</a>
    case object <a href="#akka.cluster.ddata.Replicator.Internal.ClockTick.productElement.x$1" title="akka.cluster.ddata.Replicator.Internal.ClockTick.type" id="akka.cluster.ddata.Replicator.Internal.ClockTick.readResolve">ClockTick</a>
    final case class <a title="class Write extends AnyRef with akka.cluster.ddata.Replicator.ReplicatorMessage with Product with Serializable" id="akka.cluster.ddata.Replicator.Internal.Write.readResolve">Write</a><span title="Product" class="delimiter">(</span><a title="String" id="akka.cluster.ddata.Replicator.Internal;Write.key">key</a>: <span title="String">String</span>, <a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata.Replicator.Internal;Write.envelope">envelope</a>: <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.readResolve" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">DataEnvelope</a><span class="delimiter">)</span> extends <a href="#akka.cluster.ddata.Replicator;ReplicatorMessage" title="akka.cluster.ddata.Replicator.ReplicatorMessage">ReplicatorMessage</a>
    case object <a href="#akka.cluster.ddata.Replicator.Internal.WriteAck.productElement.x$1" title="akka.cluster.ddata.Replicator.Internal.WriteAck.type" id="akka.cluster.ddata.Replicator.Internal.WriteAck.readResolve">WriteAck</a> extends <a href="#akka.cluster.ddata.Replicator;ReplicatorMessage" title="akka.cluster.ddata.Replicator.ReplicatorMessage">ReplicatorMessage</a> with <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;DeadLetterSuppression" title="akka.actor.DeadLetterSuppression">DeadLetterSuppression</a>
    final case class <a title="class Read extends AnyRef with akka.cluster.ddata.Replicator.ReplicatorMessage with Product with Serializable" id="akka.cluster.ddata.Replicator.Internal.Read.readResolve">Read</a><span title="Product" class="delimiter">(</span><a title="String" id="akka.cluster.ddata.Replicator.Internal;Read.key">key</a>: <span title="String">String</span><span class="delimiter">)</span> extends <a href="#akka.cluster.ddata.Replicator;ReplicatorMessage" title="akka.cluster.ddata.Replicator.ReplicatorMessage">ReplicatorMessage</a>
    final case class <a title="class ReadResult extends AnyRef with akka.cluster.ddata.Replicator.ReplicatorMessage with akka.actor.DeadLetterSuppression with Product with Serializable" id="akka.cluster.ddata.Replicator.Internal.ReadResult.readResolve">ReadResult</a><span title="Product" class="delimiter">(</span><a title="Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]" id="akka.cluster.ddata.Replicator.Internal;ReadResult.envelope">envelope</a>: <span title="Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]">Option</span><span class="delimiter">[</span>DataEnvelope<span class="delimiter">]</span><span class="delimiter">)</span> extends <a href="#akka.cluster.ddata.Replicator;ReplicatorMessage" title="akka.cluster.ddata.Replicator.ReplicatorMessage">ReplicatorMessage</a> with <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;DeadLetterSuppression" title="akka.actor.DeadLetterSuppression">DeadLetterSuppression</a>
    final case class <a title="class ReadRepair extends AnyRef with Product with Serializable" id="akka.cluster.ddata.Replicator.Internal.ReadRepair.readResolve">ReadRepair</a><a href="#akka.cluster.ddata.Replicator.Internal.ReadRepair.readResolve" title="Product" class="delimiter">(</a><a title="String" id="akka.cluster.ddata.Replicator.Internal;ReadRepair.key">key</a>: <span title="String">String</span>, <a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata.Replicator.Internal;ReadRepair.envelope">envelope</a>: <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.readResolve" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">DataEnvelope</a><span class="delimiter">)</span>
    case object <a href="#akka.cluster.ddata.Replicator.Internal.ReadRepairAck.productElement.x$1" title="akka.cluster.ddata.Replicator.Internal.ReadRepairAck.type" id="akka.cluster.ddata.Replicator.Internal.ReadRepairAck.readResolve">ReadRepairAck</a>

    <span class="comment">// Gossip Status message contains SHA-1 digests of the data to determine when</span>
    <span class="comment">// to send the full data</span>
    type <a title="akka.util.ByteString" id="akka.cluster.ddata.Replicator.Internal;Digest">Digest</a> = <a href="../../../../actor/akka/util/ByteString.scala.html#akka.util;ByteString" title="akka.util.ByteString">ByteString</a>
    val <a title="akka.cluster.ddata.Replicator.Internal.Digest" id="akka.cluster.ddata.Replicator.Internal.DeletedDigest">DeletedDigest</a>: <a href="../../../../actor/akka/util/ByteString.scala.html#akka.util;ByteString" title="akka.cluster.ddata.Replicator.Internal.Digest">Digest</a> = <a href="../../../../actor/akka/util/ByteString.scala.html#akka.util.ByteString" title="akka.util.ByteString.type">ByteString</a>.<a href="../../../../actor/akka/util/ByteString.scala.html#akka.util.ByteString.empty" title="=&gt; akka.util.ByteString">empty</a>
    val <a title="akka.cluster.ddata.Replicator.Internal.Digest" id="akka.cluster.ddata.Replicator.Internal.LazyDigest">LazyDigest</a>: <a href="../../../../actor/akka/util/ByteString.scala.html#akka.util;ByteString" title="akka.cluster.ddata.Replicator.Internal.Digest">Digest</a> = <a href="../../../../actor/akka/util/ByteString.scala.html#akka.util.ByteString.apply(9582612c17)" title="(bytes: Int*)(implicit num: Integral[Int])akka.util.ByteString">ByteString</a><span title="scala.math.Numeric.IntIsIntegral.type" class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
    val <a title="akka.cluster.ddata.Replicator.Internal.Digest" id="akka.cluster.ddata.Replicator.Internal.NotFoundDigest">NotFoundDigest</a>: <a href="../../../../actor/akka/util/ByteString.scala.html#akka.util;ByteString" title="akka.cluster.ddata.Replicator.Internal.Digest">Digest</a> = <a href="../../../../actor/akka/util/ByteString.scala.html#akka.util.ByteString.apply(9582612c17)" title="(bytes: Int*)(implicit num: Integral[Int])akka.util.ByteString">ByteString</a><span title="scala.math.Numeric.IntIsIntegral.type" class="delimiter">(</span>-<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span>

    final case class <a title="class DataEnvelope extends AnyRef with akka.cluster.ddata.Replicator.ReplicatorMessage with Product with Serializable" id="akka.cluster.ddata.Replicator.Internal.DataEnvelope.readResolve">DataEnvelope</a><span title="Product" class="delimiter">(</span>
      <a title="akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.data">data</a>: <a href="ReplicatedData.scala.html#akka.cluster.ddata;ReplicatedData" title="akka.cluster.ddata.ReplicatedData">ReplicatedData</a>,
      <a title="Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]" id="akka.cluster.ddata.Replicator.Internal.DataEnvelope.<init>$default$2">pruning</a>: <span title="Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]">Map</span><span class="delimiter">[</span>UniqueAddress, PruningState<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[akka.cluster.UniqueAddress,Nothing]">empty</span><span class="delimiter">)</span>
      extends <a href="#akka.cluster.ddata.Replicator;ReplicatorMessage" title="akka.cluster.ddata.Replicator.ReplicatorMessage">ReplicatorMessage</a> <span class="delimiter">{</span>

      import <a href="PruningState.scala.html#akka.cluster.ddata.PruningState" title="akka.cluster.ddata.PruningState.type">PruningState</a>._

      def <a title="(removedNode: akka.cluster.UniqueAddress)Boolean" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.needPruningFrom">needPruningFrom</a><span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.needPruningFrom.removedNode">removedNode</a>: <a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
        <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.data" title="=&gt; akka.cluster.ddata.ReplicatedData">data</a> match <span class="delimiter">{</span>
          case <a title="akka.cluster.ddata.RemovedNodePruning" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.needPruningFrom.r">r</a>: <a href="ReplicatedData.scala.html#akka.cluster.ddata;RemovedNodePruning" title="akka.cluster.ddata.RemovedNodePruning">RemovedNodePruning</a> ⇒ <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.needPruningFrom.r" title="akka.cluster.ddata.RemovedNodePruning">r</a>.<a href="ReplicatedData.scala.html#akka.cluster.ddata;RemovedNodePruning.needPruningFrom" title="(removedNode: akka.cluster.UniqueAddress)Boolean">needPruningFrom</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.needPruningFrom.removedNode" title="akka.cluster.UniqueAddress">removedNode</a><span class="delimiter">)</span>
          case _                     ⇒ false
        <span class="delimiter">}</span>

      def <a title="(removed: akka.cluster.UniqueAddress, owner: akka.cluster.UniqueAddress)akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.initRemovedNodePruning">initRemovedNodePruning</a><span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.initRemovedNodePruning.removed">removed</a>: <a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a>, <a title="akka.cluster.UniqueAddress" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.initRemovedNodePruning.owner">owner</a>: <a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a><span class="delimiter">)</span>: <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.readResolve" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">DataEnvelope</a> = <span class="delimiter">{</span>
        <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.data" title="akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.initRemovedNodePruning.x$50">copy</a><span class="delimiter">(</span>pruning = <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.<init>$default$2" title="=&gt; Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]">pruning</a>.<span title="(key: akka.cluster.UniqueAddress, value: akka.cluster.ddata.PruningState)scala.collection.immutable.Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]">updated</span><a title="scala.collection.immutable.Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.initRemovedNodePruning.x$49" class="delimiter">(</a><a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.initRemovedNodePruning.removed" title="akka.cluster.UniqueAddress">removed</a>, <a href="PruningState.scala.html#akka.cluster.ddata;PruningState" title="(owner: akka.cluster.UniqueAddress, phase: akka.cluster.ddata.PruningState.PruningPhase)akka.cluster.ddata.PruningState">PruningState</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.initRemovedNodePruning.owner" title="akka.cluster.UniqueAddress">owner</a>, <a href="PruningState.scala.html#akka.cluster.ddata.PruningState;PruningInitialized" title="(seen: Set[akka.actor.Address])akka.cluster.ddata.PruningState.PruningInitialized">PruningInitialized</a><span class="delimiter">(</span><span title="=&gt; scala.collection.immutable.Set.type">Set</span>.<span title="scala.collection.immutable.Set[akka.actor.Address]">empty</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      def <a title="(from: akka.cluster.UniqueAddress)akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.prune">prune</a><span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.prune.from">from</a>: <a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a><span class="delimiter">)</span>: <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.readResolve" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">DataEnvelope</a> = <span class="delimiter">{</span>
        <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.data" title="=&gt; akka.cluster.ddata.ReplicatedData">data</a> match <span class="delimiter">{</span>
          case <a title="akka.cluster.ddata.RemovedNodePruning" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.prune.dataWithRemovedNodePruning">dataWithRemovedNodePruning</a>: <a href="ReplicatedData.scala.html#akka.cluster.ddata;RemovedNodePruning" title="akka.cluster.ddata.RemovedNodePruning">RemovedNodePruning</a> ⇒
            <span title="(requirement: Boolean)Unit">require</span><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.<init>$default$2" title="=&gt; Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]">pruning</a>.<span title="(key: akka.cluster.UniqueAddress)Boolean">contains</span><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.prune.from" title="akka.cluster.UniqueAddress">from</a><span class="delimiter">)</span><span class="delimiter">)</span>
            val <a title="akka.cluster.UniqueAddress" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.prune.to">to</a> = <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.<init>$default$2" title="(key: akka.cluster.UniqueAddress)akka.cluster.ddata.PruningState">pruning</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.prune.from" title="akka.cluster.UniqueAddress">from</a><span class="delimiter">)</span>.<a href="PruningState.scala.html#akka.cluster.ddata;PruningState.owner" title="=&gt; akka.cluster.UniqueAddress">owner</a>
            val <a title="dataWithRemovedNodePruning.T" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.prune.prunedData">prunedData</a> = <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.prune.dataWithRemovedNodePruning" title="akka.cluster.ddata.RemovedNodePruning">dataWithRemovedNodePruning</a>.<a href="ReplicatedData.scala.html#akka.cluster.ddata;RemovedNodePruning.prune" title="(removedNode: akka.cluster.UniqueAddress, collapseInto: akka.cluster.UniqueAddress)dataWithRemovedNodePruning.T">prune</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.prune.from" title="akka.cluster.UniqueAddress">from</a>, <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.prune.to" title="akka.cluster.UniqueAddress">to</a><span class="delimiter">)</span>
            <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.readResolve" title="(data: akka.cluster.ddata.ReplicatedData, pruning: Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState])akka.cluster.ddata.Replicator.Internal.DataEnvelope">copy</a><span class="delimiter">(</span>data = <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.prune.prunedData" title="dataWithRemovedNodePruning.T">prunedData</a>, pruning = <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.<init>$default$2" title="=&gt; Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]">pruning</a>.<span title="(key: akka.cluster.UniqueAddress, value: akka.cluster.ddata.PruningState)scala.collection.immutable.Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]">updated</span><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.prune.from" title="akka.cluster.UniqueAddress">from</a>, <a href="PruningState.scala.html#akka.cluster.ddata;PruningState" title="(owner: akka.cluster.UniqueAddress, phase: akka.cluster.ddata.PruningState.PruningPhase)akka.cluster.ddata.PruningState">PruningState</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.prune.to" title="akka.cluster.UniqueAddress">to</a>, <a href="PruningState.scala.html#akka.cluster.ddata.PruningState.PruningPerformed" title="akka.cluster.ddata.PruningState.PruningPerformed.type">PruningPerformed</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          case _ ⇒ this
        <span class="delimiter">}</span>

      <span class="delimiter">}</span>

      def <a title="(other: akka.cluster.ddata.Replicator.Internal.DataEnvelope)akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(0b5a5c5ab4)">merge</a><span class="delimiter">(</span><a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(0b5a5c5ab4).other">other</a>: <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.readResolve" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">DataEnvelope</a><span class="delimiter">)</span>: <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.readResolve" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">DataEnvelope</a> =
        if <span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(0b5a5c5ab4).other" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">other</a>.<a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.data" title="=&gt; akka.cluster.ddata.ReplicatedData">data</a> <span title="(x$1: Any)Boolean">==</span> <a href="#akka.cluster.ddata.Replicator.Internal.DeletedData.readResolve" title="akka.cluster.ddata.Replicator.Internal.DeletedData.type">DeletedData</a><span class="delimiter">)</span> <a href="#akka.cluster.ddata.Replicator.Internal.DeletedEnvelope" title="=&gt; akka.cluster.ddata.Replicator.Internal.DataEnvelope">DeletedEnvelope</a>
        else <span class="delimiter">{</span>
          var <a title="Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(0b5a5c5ab4).mergedRemovedNodePruning">mergedRemovedNodePruning</a> = <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(0b5a5c5ab4).other" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">other</a>.<a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.<init>$default$2" title="=&gt; Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]">pruning</a>
          for <span class="delimiter">(</span><span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(0b5a5c5ab4).$anonfun.key">key</a>, <a title="akka.cluster.ddata.PruningState" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(0b5a5c5ab4).$anonfun.thisValue">thisValue</a><span class="delimiter">)</span> ← <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.<init>$default$2" title="(f: ((akka.cluster.UniqueAddress, akka.cluster.ddata.PruningState)) =&gt; Unit)Unit">pruning</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(0b5a5c5ab4).mergedRemovedNodePruning" title="Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]">mergedRemovedNodePruning</a>.<span title="(key: akka.cluster.UniqueAddress)Option[akka.cluster.ddata.PruningState]">get</span><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(0b5a5c5ab4).$anonfun.key" title="akka.cluster.UniqueAddress">key</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
              case <span title="None.type">None</span> ⇒ <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(0b5a5c5ab4).mergedRemovedNodePruning" title="Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]">mergedRemovedNodePruning</a> = <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(0b5a5c5ab4).mergedRemovedNodePruning" title="Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]">mergedRemovedNodePruning</a>.<span title="(key: akka.cluster.UniqueAddress, value: akka.cluster.ddata.PruningState)scala.collection.immutable.Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]">updated</span><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(0b5a5c5ab4).$anonfun.key" title="akka.cluster.UniqueAddress">key</a>, <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(0b5a5c5ab4).$anonfun.thisValue" title="akka.cluster.ddata.PruningState">thisValue</a><span class="delimiter">)</span>
              case Some<span class="delimiter">(</span><a title="akka.cluster.ddata.PruningState" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(0b5a5c5ab4).$anonfun.thatValue">thatValue</a><span class="delimiter">)</span> ⇒
                <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(0b5a5c5ab4).mergedRemovedNodePruning" title="Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]">mergedRemovedNodePruning</a> = <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(0b5a5c5ab4).mergedRemovedNodePruning" title="Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]">mergedRemovedNodePruning</a>.<span title="(key: akka.cluster.UniqueAddress, value: akka.cluster.ddata.PruningState)scala.collection.immutable.Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]">updated</span><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(0b5a5c5ab4).$anonfun.key" title="akka.cluster.UniqueAddress">key</a>, <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(0b5a5c5ab4).$anonfun.thisValue" title="akka.cluster.ddata.PruningState">thisValue</a> <a href="PruningState.scala.html#akka.cluster.ddata;PruningState.merge" title="(that: akka.cluster.ddata.PruningState)akka.cluster.ddata.PruningState">merge</a> <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(0b5a5c5ab4).$anonfun.thatValue" title="akka.cluster.ddata.PruningState">thatValue</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <span class="comment">// cleanup both sides before merging, `merge((otherData: ReplicatedData)` will cleanup other.data</span>
          <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.readResolve" title="(data: akka.cluster.ddata.ReplicatedData, pruning: Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState])akka.cluster.ddata.Replicator.Internal.DataEnvelope">copy</a><span class="delimiter">(</span>data = <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.cleaned" title="(c: akka.cluster.ddata.ReplicatedData, p: Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState])akka.cluster.ddata.ReplicatedData">cleaned</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.data" title="=&gt; akka.cluster.ddata.ReplicatedData">data</a>, <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(0b5a5c5ab4).mergedRemovedNodePruning" title="Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]">mergedRemovedNodePruning</a><span class="delimiter">)</span>, pruning = <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(0b5a5c5ab4).mergedRemovedNodePruning" title="Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]">mergedRemovedNodePruning</a><span class="delimiter">)</span>.<a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(9bd4f1065e)" title="(otherData: akka.cluster.ddata.ReplicatedData)akka.cluster.ddata.Replicator.Internal.DataEnvelope">merge</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(0b5a5c5ab4).other" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">other</a>.<a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.data" title="=&gt; akka.cluster.ddata.ReplicatedData">data</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      def <a title="(otherData: akka.cluster.ddata.ReplicatedData)akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(9bd4f1065e)">merge</a><span class="delimiter">(</span><a title="akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(9bd4f1065e).otherData">otherData</a>: <a href="ReplicatedData.scala.html#akka.cluster.ddata;ReplicatedData" title="akka.cluster.ddata.ReplicatedData">ReplicatedData</a><span class="delimiter">)</span>: <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.readResolve" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">DataEnvelope</a> =
        if <span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(9bd4f1065e).otherData" title="akka.cluster.ddata.ReplicatedData">otherData</a> <span title="(x$1: Any)Boolean">==</span> <a href="#akka.cluster.ddata.Replicator.Internal.DeletedData.readResolve" title="akka.cluster.ddata.Replicator.Internal.DeletedData.type">DeletedData</a><span class="delimiter">)</span> <a href="#akka.cluster.ddata.Replicator.Internal.DeletedEnvelope" title="=&gt; akka.cluster.ddata.Replicator.Internal.DataEnvelope">DeletedEnvelope</a>
        else <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.readResolve" title="(data: akka.cluster.ddata.ReplicatedData, pruning: Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState])akka.cluster.ddata.Replicator.Internal.DataEnvelope">copy</a><span class="delimiter">(</span>data = <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.data" title="=&gt; akka.cluster.ddata.ReplicatedData">data</a> <a href="ReplicatedData.scala.html#akka.cluster.ddata;ReplicatedData.merge" title="(that: DataEnvelope.this.data.T)DataEnvelope.this.data.T">merge</a> <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.cleaned" title="(c: akka.cluster.ddata.ReplicatedData, p: Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState])akka.cluster.ddata.ReplicatedData">cleaned</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(9bd4f1065e).otherData" title="akka.cluster.ddata.ReplicatedData">otherData</a>, <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.<init>$default$2" title="=&gt; Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]">pruning</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="DataEnvelope.this.data.T" class="delimiter">[</span>data.<a href="ReplicatedData.scala.html#akka.cluster.ddata;ReplicatedData;T" title="DataEnvelope.this.data.T">T</a><span class="delimiter">]</span><span class="delimiter">)</span>

      private def <a title="(c: akka.cluster.ddata.ReplicatedData, p: Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState])akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.cleaned">cleaned</a><span class="delimiter">(</span><a title="akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.cleaned.c">c</a>: <a href="ReplicatedData.scala.html#akka.cluster.ddata;ReplicatedData" title="akka.cluster.ddata.ReplicatedData">ReplicatedData</a>, <a title="Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.cleaned.p">p</a>: <span title="Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]">Map</span><span class="delimiter">[</span>UniqueAddress, PruningState<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="ReplicatedData.scala.html#akka.cluster.ddata;ReplicatedData" title="akka.cluster.ddata.ReplicatedData">ReplicatedData</a> = <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.cleaned.p" title="Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]">p</a>.<span title="(z: akka.cluster.ddata.ReplicatedData)(op: (akka.cluster.ddata.ReplicatedData, (akka.cluster.UniqueAddress, akka.cluster.ddata.PruningState)) =&gt; akka.cluster.ddata.ReplicatedData)akka.cluster.ddata.ReplicatedData">foldLeft</span><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.cleaned.c" title="akka.cluster.ddata.ReplicatedData">c</a><span class="delimiter">)</span> <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.cleaned.$anonfun.x0$2" title="akka.cluster.ddata.ReplicatedData" class="delimiter">{</a>
        case <span class="delimiter">(</span><span title="akka.cluster.ddata.RemovedNodePruning">c</span>: <a href="ReplicatedData.scala.html#akka.cluster.ddata;RemovedNodePruning" title="akka.cluster.ddata.RemovedNodePruning">RemovedNodePruning</a>, <span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.cleaned.$anonfun.removed">removed</a>, PruningState<span class="delimiter">(</span>_, <a href="PruningState.scala.html#akka.cluster.ddata.PruningState.PruningPerformed" title="akka.cluster.ddata.PruningState.PruningPerformed.type">PruningPerformed</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> ⇒
          if <span class="delimiter">(</span><span title="akka.cluster.ddata.RemovedNodePruning">c</span>.<a href="ReplicatedData.scala.html#akka.cluster.ddata;RemovedNodePruning.needPruningFrom" title="(removedNode: akka.cluster.UniqueAddress)Boolean">needPruningFrom</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.cleaned.$anonfun.removed" title="akka.cluster.UniqueAddress">removed</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="akka.cluster.ddata.RemovedNodePruning">c</span>.<a href="ReplicatedData.scala.html#akka.cluster.ddata;RemovedNodePruning.pruningCleanup" title="(removedNode: akka.cluster.UniqueAddress)c.T">pruningCleanup</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.cleaned.$anonfun.removed" title="akka.cluster.UniqueAddress">removed</a><span class="delimiter">)</span> else <span title="akka.cluster.ddata.RemovedNodePruning">c</span>
        case <span class="delimiter">(</span><span title="akka.cluster.ddata.ReplicatedData">c</span>, _<span class="delimiter">)</span> ⇒ <span title="akka.cluster.ddata.ReplicatedData">c</span>
      <span class="delimiter">}</span>

      def <a title="(node: akka.actor.Address)akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.addSeen">addSeen</a><span class="delimiter">(</span><a title="akka.actor.Address" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.addSeen.node">node</a>: <a href="../../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a><span class="delimiter">)</span>: <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.readResolve" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">DataEnvelope</a> = <span class="delimiter">{</span>
        var <a title="Boolean" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.addSeen.changed">changed</a> = false
        val <a title="scala.collection.immutable.Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.addSeen.newRemovedNodePruning">newRemovedNodePruning</a> = <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.<init>$default$2" title="=&gt; Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]">pruning</a>.<span title="(f: ((akka.cluster.UniqueAddress, akka.cluster.ddata.PruningState)) =&gt; (akka.cluster.UniqueAddress, akka.cluster.ddata.PruningState))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState],(akka.cluster.UniqueAddress, akka.cluster.ddata.PruningState),scala.collection.immutable.Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]])scala.collection.immutable.Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]">map</span> <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.addSeen.newRemovedNodePruning.$anonfun.x0$3" title="(akka.cluster.UniqueAddress, akka.cluster.ddata.PruningState)" class="delimiter">{</a>
          case <span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.addSeen.newRemovedNodePruning.$anonfun.removed">removed</a>, <a title="akka.cluster.ddata.PruningState" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.addSeen.newRemovedNodePruning.$anonfun.pruningState">pruningState</a><span class="delimiter">)</span> ⇒
            val <a title="akka.cluster.ddata.PruningState" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.addSeen.newRemovedNodePruning.$anonfun.newPruningState">newPruningState</a> = <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.addSeen.newRemovedNodePruning.$anonfun.pruningState" title="akka.cluster.ddata.PruningState">pruningState</a>.<a href="PruningState.scala.html#akka.cluster.ddata;PruningState.addSeen" title="(node: akka.actor.Address)akka.cluster.ddata.PruningState">addSeen</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.addSeen.node" title="akka.actor.Address">node</a><span class="delimiter">)</span>
            <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.addSeen.changed" title="Boolean">changed</a> = <span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.addSeen.newRemovedNodePruning.$anonfun.newPruningState" title="akka.cluster.ddata.PruningState">newPruningState</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.addSeen.newRemovedNodePruning.$anonfun.pruningState" title="akka.cluster.ddata.PruningState">pruningState</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.addSeen.changed" title="Boolean">changed</a>
            <span title="(_1: akka.cluster.UniqueAddress, _2: akka.cluster.ddata.PruningState)(akka.cluster.UniqueAddress, akka.cluster.ddata.PruningState)" class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.addSeen.newRemovedNodePruning.$anonfun.removed" title="akka.cluster.UniqueAddress">removed</a>, <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.addSeen.newRemovedNodePruning.$anonfun.newPruningState" title="akka.cluster.ddata.PruningState">newPruningState</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        if <span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.addSeen.changed" title="Boolean">changed</a><span class="delimiter">)</span> <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.data" title="akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.addSeen.x$52">copy</a><span class="delimiter">(</span>pruning = <a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.addSeen.newRemovedNodePruning" title="scala.collection.immutable.Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.cluster.ddata.Replicator.Internal;DataEnvelope.addSeen.x$51">newRemovedNodePruning</a><span class="delimiter">)</span>
        else this
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    val <a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata.Replicator.Internal.DeletedEnvelope">DeletedEnvelope</a> = <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.readResolve" title="(data: akka.cluster.ddata.ReplicatedData, pruning: Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState])akka.cluster.ddata.Replicator.Internal.DataEnvelope">DataEnvelope</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal.DeletedData.readResolve" title="akka.cluster.ddata.Replicator.Internal.DeletedData.type">DeletedData</a><span class="delimiter">)</span>

    case object <a href="#akka.cluster.ddata.Replicator.Internal.DeletedData.productElement.x$1" title="akka.cluster.ddata.Replicator.Internal.DeletedData.type" id="akka.cluster.ddata.Replicator.Internal.DeletedData.readResolve">DeletedData</a> extends <a href="ReplicatedData.scala.html#akka.cluster.ddata;ReplicatedData" title="akka.cluster.ddata.ReplicatedData">ReplicatedData</a> with <a href="ReplicatedData.scala.html#akka.cluster.ddata;ReplicatedDataSerialization" title="akka.cluster.ddata.ReplicatedDataSerialization">ReplicatedDataSerialization</a> <span class="delimiter">{</span>
      type <a title="akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator.Internal.DeletedData;T">T</a> = <a href="ReplicatedData.scala.html#akka.cluster.ddata;ReplicatedData" title="akka.cluster.ddata.ReplicatedData">ReplicatedData</a>
      override def <a title="(that: akka.cluster.ddata.ReplicatedData)akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator.Internal.DeletedData.merge">merge</a><span class="delimiter">(</span><a title="akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata.Replicator.Internal.DeletedData.merge.that">that</a>: <a href="ReplicatedData.scala.html#akka.cluster.ddata;ReplicatedData" title="akka.cluster.ddata.ReplicatedData">ReplicatedData</a><span class="delimiter">)</span>: <a href="ReplicatedData.scala.html#akka.cluster.ddata;ReplicatedData" title="akka.cluster.ddata.ReplicatedData">ReplicatedData</a> = <a href="#akka.cluster.ddata.Replicator.Internal.DeletedData.readResolve" title="akka.cluster.ddata.Replicator.Internal.DeletedData.type">DeletedData</a>
    <span class="delimiter">}</span>

    final case class <a title="class Status extends AnyRef with akka.cluster.ddata.Replicator.ReplicatorMessage with Product with Serializable" id="akka.cluster.ddata.Replicator.Internal.Status.readResolve">Status</a><span title="Product" class="delimiter">(</span><a title="Map[String,akka.cluster.ddata.Replicator.Internal.Digest]" id="akka.cluster.ddata.Replicator.Internal;Status.digests">digests</a>: <span title="Map[String,akka.cluster.ddata.Replicator.Internal.Digest]">Map</span><span class="delimiter">[</span>String, Digest<span class="delimiter">]</span>, <a title="Int" id="akka.cluster.ddata.Replicator.Internal;Status.chunk">chunk</a>: <span title="Int">Int</span>, <a title="Int" id="akka.cluster.ddata.Replicator.Internal;Status.totChunks">totChunks</a>: <span title="Int">Int</span><span class="delimiter">)</span> extends <a href="#akka.cluster.ddata.Replicator;ReplicatorMessage" title="akka.cluster.ddata.Replicator.ReplicatorMessage">ReplicatorMessage</a> <span class="delimiter">{</span>
      override def <a title="()String" id="akka.cluster.ddata.Replicator.Internal;Status.toString">toString</a>: <span title="String">String</span> =
        <span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal;Status.digests" title="=&gt; Map[String,akka.cluster.ddata.Replicator.Internal.Digest]">digests</a>.<span title="(f: ((String, akka.cluster.ddata.Replicator.Internal.Digest)) =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[String,akka.cluster.ddata.Replicator.Internal.Digest],String,scala.collection.immutable.Iterable[String]])scala.collection.immutable.Iterable[String]">map</span> <a href="#akka.cluster.ddata.Replicator.Internal;Status.toString.$anonfun.x0$4" title="String" class="delimiter">{</a>
          case <span class="delimiter">(</span><a title="String" id="akka.cluster.ddata.Replicator.Internal;Status.toString.$anonfun.key">key</a>, <a title="akka.cluster.ddata.Replicator.Internal.Digest" id="akka.cluster.ddata.Replicator.Internal;Status.toString.$anonfun.bytes">bytes</a><span class="delimiter">)</span> ⇒ <a href="#akka.cluster.ddata.Replicator.Internal;Status.toString.$anonfun.key" title="String">key</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; -&gt; &quot;)" class="string">&quot; -&gt; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#akka.cluster.ddata.Replicator.Internal;Status.toString.$anonfun.bytes" title="akka.cluster.ddata.Replicator.Internal.Digest">bytes</a>.<span title="(f: Byte =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[akka.util.ByteString,String,scala.collection.immutable.IndexedSeq[String]])scala.collection.immutable.IndexedSeq[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq.Coll,String,scala.collection.immutable.IndexedSeq[String]]" class="delimiter">(</span><a title="Byte" id="akka.cluster.ddata.Replicator.Internal;Status.toString.$anonfun.$anonfun.byte">byte</a> ⇒ <a href="#akka.cluster.ddata.Replicator.Internal;Status.toString.$anonfun.$anonfun.arg$macro$6" title="(args: Any*)String">f</a>&quot;$<a href="#akka.cluster.ddata.Replicator.Internal;Status.toString.$anonfun.$anonfun.byte" title="Byte" id="akka.cluster.ddata.Replicator.Internal;Status.toString.$anonfun.$anonfun.arg$macro$6">byte</a><span class="string">%02x&quot;</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;Status(&quot;)" class="string">&quot;Status(&quot;</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    final case class <a title="class Gossip extends AnyRef with akka.cluster.ddata.Replicator.ReplicatorMessage with Product with Serializable" id="akka.cluster.ddata.Replicator.Internal.Gossip.readResolve">Gossip</a><span title="Product" class="delimiter">(</span><a title="Map[String,akka.cluster.ddata.Replicator.Internal.DataEnvelope]" id="akka.cluster.ddata.Replicator.Internal;Gossip.updatedData">updatedData</a>: <span title="Map[String,akka.cluster.ddata.Replicator.Internal.DataEnvelope]">Map</span><span class="delimiter">[</span>String, DataEnvelope<span class="delimiter">]</span>, <a title="Boolean" id="akka.cluster.ddata.Replicator.Internal;Gossip.sendBack">sendBack</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> extends <a href="#akka.cluster.ddata.Replicator;ReplicatorMessage" title="akka.cluster.ddata.Replicator.ReplicatorMessage">ReplicatorMessage</a>

  <span class="delimiter">}</span>
<span title="AnyRef" class="delimiter">}</span>

<span class="comment">/**
 * A replicated in-memory data store supporting low latency and high availability
 * requirements.
 *
 * The `Replicator` actor takes care of direct replication and gossip based
 * dissemination of Conflict Free Replicated Data Types (CRDTs) to replicas in the
 * the cluster.
 * The data types must be convergent CRDTs and implement [[ReplicatedData]], i.e.
 * they provide a monotonic merge function and the state changes always converge.
 *
 * You can use your own custom [[ReplicatedData]] types, and several types are provided
 * by this package, such as:
 *
 * &lt;ul&gt;
 * &lt;li&gt;Counters: [[GCounter]], [[PNCounter]]&lt;/li&gt;
 * &lt;li&gt;Registers: [[LWWRegister]], [[Flag]]&lt;/li&gt;
 * &lt;li&gt;Sets: [[GSet]], [[ORSet]]&lt;/li&gt;
 * &lt;li&gt;Maps: [[ORMap]], [[ORMultiMap]], [[LWWMap]], [[PNCounterMap]]&lt;/li&gt;
 * &lt;/ul&gt;
 *
 * For good introduction to the CRDT subject watch the
 * &lt;a href=&quot;http://www.ustream.tv/recorded/61448875&quot;&gt;The Final Causal Frontier&lt;/a&gt;
 * and &lt;a href=&quot;http://vimeo.com/43903960&quot;&gt;Eventually Consistent Data Structures&lt;/a&gt;
 * talk by Sean Cribbs and and the
 * &lt;a href=&quot;http://research.microsoft.com/apps/video/dl.aspx?id=153540&quot;&gt;talk by Mark Shapiro&lt;/a&gt;
 * and read the excellent paper &lt;a href=&quot;http://hal.upmc.fr/docs/00/55/55/88/PDF/techreport.pdf&quot;&gt;
 * A comprehensive study of Convergent and Commutative Replicated Data Types&lt;/a&gt;
 * by Mark Shapiro et. al.
 *
 * The `Replicator` actor must be started on each node in the cluster, or group of
 * nodes tagged with a specific role. It communicates with other `Replicator` instances
 * with the same path (without address) that are running on other nodes . For convenience it
 * can be used with the [[DistributedData]] extension.
 *
 * == Update ==
 *
 * To modify and replicate a [[ReplicatedData]] value you send a [[Replicator.Update]] message
 * to the local `Replicator`.
 * The current data value for the `key` of the `Update` is passed as parameter to the `modify`
 * function of the `Update`. The function is supposed to return the new value of the data, which
 * will then be replicated according to the given consistency level.
 *
 * The `modify` function is called by the `Replicator` actor and must therefore be a pure
 * function that only uses the data parameter and stable fields from enclosing scope. It must
 * for example not access `sender()` reference of an enclosing actor.
 *
 * `Update` is intended to only be sent from an actor running in same local `ActorSystem` as
 * the `Replicator`, because the `modify` function is typically not serializable.
 *
 * You supply a write consistency level which has the following meaning:
 * &lt;ul&gt;
 * &lt;li&gt;`WriteLocal` the value will immediately only be written to the local replica,
 *     and later disseminated with gossip&lt;/li&gt;
 * &lt;li&gt;`WriteTo(n)` the value will immediately be written to at least `n` replicas,
 *     including the local replica&lt;/li&gt;
 * &lt;li&gt;`WriteMajority` the value will immediately be written to a majority of replicas, i.e.
 *     at least `N/2 + 1` replicas, where N is the number of nodes in the cluster
 *     (or cluster role group)&lt;/li&gt;
 * &lt;li&gt;`WriteAll` the value will immediately be written to all nodes in the cluster
 *     (or all nodes in the cluster role group)&lt;/li&gt;
 * &lt;/ul&gt;
 *
 * As reply of the `Update` a [[Replicator.UpdateSuccess]] is sent to the sender of the
 * `Update` if the value was successfully replicated according to the supplied consistency
 * level within the supplied timeout. Otherwise a [[Replicator.UpdateFailure]] subclass is
 * sent back. Note that a [[Replicator.UpdateTimeout]] reply does not mean that the update completely failed
 * or was rolled back. It may still have been replicated to some nodes, and will eventually
 * be replicated to all nodes with the gossip protocol.
 *
 * You will always see your own writes. For example if you send two `Update` messages
 * changing the value of the same `key`, the `modify` function of the second message will
 * see the change that was performed by the first `Update` message.
 *
 * In the `Update` message you can pass an optional request context, which the `Replicator`
 * does not care about, but is included in the reply messages. This is a convenient
 * way to pass contextual information (e.g. original sender) without having to use `ask`
 * or local correlation data structures.
 *
 * == Get ==
 *
 * To retrieve the current value of a data you send [[Replicator.Get]] message to the
 * `Replicator`. You supply a consistency level which has the following meaning:
 * &lt;ul&gt;
 * &lt;li&gt;`ReadLocal` the value will only be read from the local replica&lt;/li&gt;
 * &lt;li&gt;`ReadFrom(n)` the value will be read and merged from `n` replicas,
 *     including the local replica&lt;/li&gt;
 * &lt;li&gt;`ReadMajority` the value will be read and merged from a majority of replicas, i.e.
 *     at least `N/2 + 1` replicas, where N is the number of nodes in the cluster
 *     (or cluster role group)&lt;/li&gt;
 * &lt;li&gt;`ReadAll` the value will be read and merged from all nodes in the cluster
 *     (or all nodes in the cluster role group)&lt;/li&gt;
 * &lt;/ul&gt;
 *
 * As reply of the `Get` a [[Replicator.GetSuccess]] is sent to the sender of the
 * `Get` if the value was successfully retrieved according to the supplied consistency
 * level within the supplied timeout. Otherwise a [[Replicator.GetFailure]] is sent.
 * If the key does not exist the reply will be [[Replicator.NotFound]].
 *
 * You will always read your own writes. For example if you send a `Update` message
 * followed by a `Get` of the same `key` the `Get` will retrieve the change that was
 * performed by the preceding `Update` message. However, the order of the reply messages are
 * not defined, i.e. in the previous example you may receive the `GetSuccess` before
 * the `UpdateSuccess`.
 *
 * In the `Get` message you can pass an optional request context in the same way as for the
 * `Update` message, described above. For example the original sender can be passed and replied
 * to after receiving and transforming `GetSuccess`.
 *
 * == Subscribe ==
 *
 * You may also register interest in change notifications by sending [[Replicator.Subscribe]]
 * message to the `Replicator`. It will send [[Replicator.Changed]] messages to the registered
 * subscriber when the data for the subscribed key is updated. Subscribers will be notified
 * periodically with the configured `notify-subscribers-interval`, and it is also possible to
 * send an explicit `Replicator.FlushChanges` message to the `Replicator` to notify the subscribers
 * immediately.
 *
 * The subscriber is automatically removed if the subscriber is terminated. A subscriber can
 * also be deregistered with the [[Replicator.Unsubscribe]] message.
 *
 * == Delete ==
 *
 * A data entry can be deleted by sending a [[Replicator.Delete]] message to the local
 * local `Replicator`. As reply of the `Delete` a [[Replicator.DeleteSuccess]] is sent to
 * the sender of the `Delete` if the value was successfully deleted according to the supplied
 * consistency level within the supplied timeout. Otherwise a [[Replicator.ReplicationDeleteFailure]]
 * is sent. Note that `ReplicationDeleteFailure` does not mean that the delete completely failed or
 * was rolled back. It may still have been replicated to some nodes, and may eventually be replicated
 * to all nodes.
 *
 * A deleted key cannot be reused again, but it is still recommended to delete unused
 * data entries because that reduces the replication overhead when new nodes join the cluster.
 * Subsequent `Delete`, `Update` and `Get` requests will be replied with [[Replicator.DataDeleted]].
 * Subscribers will receive [[Replicator.DataDeleted]].
 *
 * == CRDT Garbage ==
 *
 * One thing that can be problematic with CRDTs is that some data types accumulate history (garbage).
 * For example a `GCounter` keeps track of one counter per node. If a `GCounter` has been updated
 * from one node it will associate the identifier of that node forever. That can become a problem
 * for long running systems with many cluster nodes being added and removed. To solve this problem
 * the `Replicator` performs pruning of data associated with nodes that have been removed from the
 * cluster. Data types that need pruning have to implement [[RemovedNodePruning]]. The pruning consists
 * of several steps:
 * &lt;ol&gt;
 * &lt;li&gt;When a node is removed from the cluster it is first important that all updates that were
 * done by that node are disseminated to all other nodes. The pruning will not start before the
 * `maxPruningDissemination` duration has elapsed. The time measurement is stopped when any
 * replica is unreachable, so it should be configured to worst case in a healthy cluster.&lt;/li&gt;
 * &lt;li&gt;The nodes are ordered by their address and the node ordered first is called leader.
 * The leader initiates the pruning by adding a `PruningInitialized` marker in the data envelope.
 * This is gossiped to all other nodes and they mark it as seen when they receive it.&lt;/li&gt;
 * &lt;li&gt;When the leader sees that all other nodes have seen the `PruningInitialized` marker
 * the leader performs the pruning and changes the marker to `PruningPerformed` so that nobody
 * else will redo the pruning. The data envelope with this pruning state is a CRDT itself.
 * The pruning is typically performed by &quot;moving&quot; the part of the data associated with
 * the removed node to the leader node. For example, a `GCounter` is a `Map` with the node as key
 * and the counts done by that node as value. When pruning the value of the removed node is
 * moved to the entry owned by the leader node. See [[RemovedNodePruning#prune]].&lt;/li&gt;
 * &lt;li&gt;Thereafter the data is always cleared from parts associated with the removed node so that
 * it does not come back when merging. See [[RemovedNodePruning#pruningCleanup]]&lt;/li&gt;
 * &lt;li&gt;After another `maxPruningDissemination` duration after pruning the last entry from the
 * removed node the `PruningPerformed` markers in the data envelope are collapsed into a
 * single tombstone entry, for efficiency. Clients may continue to use old data and therefore
 * all data are always cleared from parts associated with tombstoned nodes. &lt;/li&gt;
 * &lt;/ol&gt;
 */</span>
final class <a title="class Replicator extends AnyRef with akka.actor.Actor with akka.actor.ActorLogging" id="akka.cluster.ddata;Replicator">Replicator</a><a href="#akka.cluster.ddata;Replicator" title="akka.cluster.ddata.Replicator" class="delimiter">(</a><a title="akka.cluster.ddata.ReplicatorSettings" id="akka.cluster.ddata;Replicator.settings">settings</a>: <a href="#akka.cluster.ddata;ReplicatorSettings" title="akka.cluster.ddata.ReplicatorSettings">ReplicatorSettings</a><span class="delimiter">)</span> extends <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor" title="akka.actor.Actor">Actor</a> with <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging" title="akka.actor.ActorLogging">ActorLogging</a> <span class="delimiter">{</span>

  import <a href="#akka.cluster.ddata.Replicator" title="akka.cluster.ddata.Replicator.type">Replicator</a>._
  import <a href="#akka.cluster.ddata.Replicator" title="akka.cluster.ddata.Replicator.type">Replicator</a>.<a href="#akka.cluster.ddata.Replicator.Internal" title="akka.cluster.ddata.Replicator.Internal.type">Internal</a>._
  import <a href="PruningState.scala.html#akka.cluster.ddata.PruningState" title="akka.cluster.ddata.PruningState.type">PruningState</a>._
  import <a href="#akka.cluster.ddata;Replicator.settings" title="akka.cluster.ddata.ReplicatorSettings">settings</a>._

  val <a title="akka.cluster.Cluster" id="akka.cluster.ddata;Replicator.cluster">cluster</a> = <a href="../../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionId.apply" title="(system: akka.actor.ActorSystem)akka.cluster.Cluster">Cluster</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a><span class="delimiter">)</span>
  val <a title="akka.actor.Address" id="akka.cluster.ddata;Replicator.selfAddress">selfAddress</a> = <a href="#akka.cluster.ddata;Replicator.cluster" title="=&gt; akka.cluster.Cluster">cluster</a>.<a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.selfAddress" title="=&gt; akka.actor.Address">selfAddress</a>
  val <a title="akka.cluster.UniqueAddress" id="akka.cluster.ddata;Replicator.selfUniqueAddress">selfUniqueAddress</a> = <a href="#akka.cluster.ddata;Replicator.cluster" title="=&gt; akka.cluster.Cluster">cluster</a>.<a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.selfUniqueAddress" title="=&gt; akka.cluster.UniqueAddress">selfUniqueAddress</a>

  <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.cluster.ddata;Replicator.cluster" title="=&gt; akka.cluster.Cluster">cluster</a>.<a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.isTerminated" title="=&gt; Boolean">isTerminated</a>, <span title="String(&quot;Cluster node must not be terminated&quot;)" class="string">&quot;Cluster node must not be terminated&quot;</span><span class="delimiter">)</span>
  <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;ReplicatorSettings.role" title="=&gt; Option[String]">role</a>.<span title="(p: String =&gt; Boolean)Boolean">forall</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.cluster" title="=&gt; akka.cluster.Cluster">cluster</a>.<a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.selfRoles" title="=&gt; Set[String]">selfRoles</a>.<a href="#akka.cluster.ddata;Replicator.<local Replicator>.$anonfun.elem" title="(elem: String)Boolean">contains</a><span class="delimiter">)</span>,
    <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;This cluster member [&quot;)">This cluster member [$</span><span class="delimiter">{</span><a href="#akka.cluster.ddata;Replicator.selfAddress" title="=&gt; akka.actor.Address">selfAddress</a><span class="delimiter">}</span><span title="String(&quot;] doesn\'t have the role [&quot;)">] doesn't have the role [$</span><a href="#akka.cluster.ddata;ReplicatorSettings.role" title="=&gt; Option[String]">role</a><span title="String(&quot;]&quot;)" class="string">]&quot;</span><span class="delimiter">)</span>

  <span class="comment">//Start periodic gossip to random nodes in cluster</span>
  import <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.dispatcher
  val <a title="akka.actor.Cancellable" id="akka.cluster.ddata;Replicator.gossipTask">gossipTask</a> = <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.scheduler" title="=&gt; akka.actor.Scheduler">scheduler</a>.<a href="../../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Scheduler.schedule(abf8206fc2)" title="(initialDelay: scala.concurrent.duration.FiniteDuration, interval: scala.concurrent.duration.FiniteDuration, receiver: akka.actor.ActorRef, message: Any)(implicit executor: scala.concurrent.ExecutionContext, implicit sender: akka.actor.ActorRef)akka.actor.Cancellable">schedule</a><a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.dispatcher" title="=&gt; scala.concurrent.ExecutionContextExecutor" class="delimiter">(</a><a href="#akka.cluster.ddata;ReplicatorSettings.gossipInterval" title="=&gt; scala.concurrent.duration.FiniteDuration">gossipInterval</a>, <a href="#akka.cluster.ddata;ReplicatorSettings.gossipInterval" title="=&gt; scala.concurrent.duration.FiniteDuration">gossipInterval</a>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>, <a href="#akka.cluster.ddata.Replicator.Internal.GossipTick.readResolve" title="akka.cluster.ddata.Replicator.Internal.GossipTick.type">GossipTick</a><span class="delimiter">)</span>
  val <a title="akka.actor.Cancellable" id="akka.cluster.ddata;Replicator.notifyTask">notifyTask</a> = <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.scheduler" title="=&gt; akka.actor.Scheduler">scheduler</a>.<a href="../../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Scheduler.schedule(abf8206fc2)" title="(initialDelay: scala.concurrent.duration.FiniteDuration, interval: scala.concurrent.duration.FiniteDuration, receiver: akka.actor.ActorRef, message: Any)(implicit executor: scala.concurrent.ExecutionContext, implicit sender: akka.actor.ActorRef)akka.actor.Cancellable">schedule</a><a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.dispatcher" title="=&gt; scala.concurrent.ExecutionContextExecutor" class="delimiter">(</a><a href="#akka.cluster.ddata;ReplicatorSettings.notifySubscribersInterval" title="=&gt; scala.concurrent.duration.FiniteDuration">notifySubscribersInterval</a>, <a href="#akka.cluster.ddata;ReplicatorSettings.notifySubscribersInterval" title="=&gt; scala.concurrent.duration.FiniteDuration">notifySubscribersInterval</a>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>, <a href="#akka.cluster.ddata.Replicator.FlushChanges.readResolve" title="akka.cluster.ddata.Replicator.FlushChanges.type">FlushChanges</a><span class="delimiter">)</span>
  val <a title="akka.actor.Cancellable" id="akka.cluster.ddata;Replicator.pruningTask">pruningTask</a> = <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.scheduler" title="=&gt; akka.actor.Scheduler">scheduler</a>.<a href="../../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Scheduler.schedule(abf8206fc2)" title="(initialDelay: scala.concurrent.duration.FiniteDuration, interval: scala.concurrent.duration.FiniteDuration, receiver: akka.actor.ActorRef, message: Any)(implicit executor: scala.concurrent.ExecutionContext, implicit sender: akka.actor.ActorRef)akka.actor.Cancellable">schedule</a><a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.dispatcher" title="=&gt; scala.concurrent.ExecutionContextExecutor" class="delimiter">(</a><a href="#akka.cluster.ddata;ReplicatorSettings.pruningInterval" title="=&gt; scala.concurrent.duration.FiniteDuration">pruningInterval</a>, <a href="#akka.cluster.ddata;ReplicatorSettings.pruningInterval" title="=&gt; scala.concurrent.duration.FiniteDuration">pruningInterval</a>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>, <a href="#akka.cluster.ddata.Replicator.Internal.RemovedNodePruningTick.readResolve" title="akka.cluster.ddata.Replicator.Internal.RemovedNodePruningTick.type">RemovedNodePruningTick</a><span class="delimiter">)</span>
  val <a title="akka.actor.Cancellable" id="akka.cluster.ddata;Replicator.clockTask">clockTask</a> = <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.scheduler" title="=&gt; akka.actor.Scheduler">scheduler</a>.<a href="../../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Scheduler.schedule(abf8206fc2)" title="(initialDelay: scala.concurrent.duration.FiniteDuration, interval: scala.concurrent.duration.FiniteDuration, receiver: akka.actor.ActorRef, message: Any)(implicit executor: scala.concurrent.ExecutionContext, implicit sender: akka.actor.ActorRef)akka.actor.Cancellable">schedule</a><a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.dispatcher" title="=&gt; scala.concurrent.ExecutionContextExecutor" class="delimiter">(</a><a href="#akka.cluster.ddata;ReplicatorSettings.gossipInterval" title="=&gt; scala.concurrent.duration.FiniteDuration">gossipInterval</a>, <a href="#akka.cluster.ddata;ReplicatorSettings.gossipInterval" title="=&gt; scala.concurrent.duration.FiniteDuration">gossipInterval</a>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>, <a href="#akka.cluster.ddata.Replicator.Internal.ClockTick.readResolve" title="akka.cluster.ddata.Replicator.Internal.ClockTick.type">ClockTick</a><span class="delimiter">)</span>

  val <a title="akka.serialization.Serializer" id="akka.cluster.ddata;Replicator.serializer">serializer</a> = <a href="../../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionId.apply" title="(system: akka.actor.ActorSystem)akka.serialization.Serialization">SerializationExtension</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a><span class="delimiter">)</span>.<a href="../../../../actor/akka/serialization/Serialization.scala.html#akka.serialization;Serialization.serializerFor" title="(clazz: Class[_])akka.serialization.Serializer">serializerFor</a><span class="delimiter">(</span>classOf<span title="Class[akka.cluster.ddata.Replicator.Internal.DataEnvelope](classOf[akka.cluster.ddata.Replicator$$Internal$DataEnvelope])" class="delimiter">[</span>DataEnvelope<span class="delimiter">]</span><span class="delimiter">)</span>
  val <a title="Long" id="akka.cluster.ddata;Replicator.maxPruningDisseminationNanos">maxPruningDisseminationNanos</a> = <a href="#akka.cluster.ddata;ReplicatorSettings.maxPruningDissemination" title="=&gt; scala.concurrent.duration.FiniteDuration">maxPruningDissemination</a>.<span title="=&gt; Long">toNanos</span>

  <span class="comment">// cluster nodes, doesn't contain selfAddress</span>
  var <a title="Set[akka.actor.Address]" id="akka.cluster.ddata;Replicator.nodes_=">nodes</a>: <span title="Set[akka.actor.Address]">Set</span><span class="delimiter">[</span>Address<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Set.type">Set</span>.<span title="scala.collection.immutable.Set[akka.actor.Address]">empty</span>

  <span class="comment">// nodes removed from cluster, to be pruned, and tombstoned</span>
  var <a title="Map[akka.cluster.UniqueAddress,Long]" id="akka.cluster.ddata;Replicator.removedNodes_=">removedNodes</a>: <span title="Map[akka.cluster.UniqueAddress,Long]">Map</span><span class="delimiter">[</span>UniqueAddress, Long<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[akka.cluster.UniqueAddress,Nothing]">empty</span>
  var <a title="Map[akka.cluster.UniqueAddress,Long]" id="akka.cluster.ddata;Replicator.pruningPerformed_=">pruningPerformed</a>: <span title="Map[akka.cluster.UniqueAddress,Long]">Map</span><span class="delimiter">[</span>UniqueAddress, Long<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[akka.cluster.UniqueAddress,Nothing]">empty</span>
  var <a title="Set[akka.cluster.UniqueAddress]" id="akka.cluster.ddata;Replicator.tombstoneNodes_=">tombstoneNodes</a>: <span title="Set[akka.cluster.UniqueAddress]">Set</span><span class="delimiter">[</span>UniqueAddress<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Set.type">Set</span>.<span title="scala.collection.immutable.Set[akka.cluster.UniqueAddress]">empty</span>

  var <a title="Option[akka.actor.Address]" id="akka.cluster.ddata;Replicator.leader_=">leader</a>: <span title="Option[akka.actor.Address]">Option</span><span class="delimiter">[</span>Address<span class="delimiter">]</span> = <span title="None.type">None</span>
  def <a title="=&gt; Boolean" id="akka.cluster.ddata;Replicator.isLeader">isLeader</a>: <span title="Boolean">Boolean</span> = <a href="#akka.cluster.ddata;Replicator.leader_=" title="=&gt; Option[akka.actor.Address]">leader</a>.<span title="(p: akka.actor.Address =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.isLeader.$anonfun.x$2" title="akka.actor.Address">_</a> <span title="(x$1: Any)Boolean">==</span> <a href="#akka.cluster.ddata;Replicator.selfAddress" title="=&gt; akka.actor.Address">selfAddress</a><span class="delimiter">)</span>

  <span class="comment">// for pruning timeouts are based on clock that is only increased when all nodes are reachable</span>
  var <a title="Long" id="akka.cluster.ddata;Replicator.previousClockTime_=">previousClockTime</a> = <span title="System.type">System</span>.<span title="()Long">nanoTime</span><span class="delimiter">(</span><span class="delimiter">)</span>
  var <a title="Long" id="akka.cluster.ddata;Replicator.allReachableClockTime_=">allReachableClockTime</a> = <span title="Long(0L)" class="long">0L</span>
  var <a title="scala.collection.immutable.Set[akka.actor.Address]" id="akka.cluster.ddata;Replicator.unreachable_=">unreachable</a> = <span title="=&gt; scala.collection.immutable.Set.type">Set</span>.<span title="[A]=&gt; scala.collection.immutable.Set[A]">empty</span><span title="scala.collection.immutable.Set[akka.actor.Address]" class="delimiter">[</span><a href="../../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a><span class="delimiter">]</span>

  <span class="comment">// the actual data</span>
  var <a title="scala.collection.immutable.Map[String,(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)]" id="akka.cluster.ddata;Replicator.dataEntries_=">dataEntries</a> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="[A, B]=&gt; scala.collection.immutable.Map[A,B]">empty</span><span title="scala.collection.immutable.Map[String,(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)]" class="delimiter">[</span><span title="String">String</span>, <span title="(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)" class="delimiter">(</span>DataEnvelope, Digest<span class="delimiter">)</span><span class="delimiter">]</span>
  <span class="comment">// keys that have changed, Changed event published to subscribers on FlushChanges</span>
  var <a title="scala.collection.immutable.Set[String]" id="akka.cluster.ddata;Replicator.changed_=">changed</a> = <span title="=&gt; scala.collection.immutable.Set.type">Set</span>.<span title="[A]=&gt; scala.collection.immutable.Set[A]">empty</span><span title="scala.collection.immutable.Set[String]" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span>

  <span class="comment">// for splitting up gossip in chunks</span>
  var <a title="Long" id="akka.cluster.ddata;Replicator.statusCount_=">statusCount</a> = <span title="Long(0L)" class="long">0L</span>
  var <a title="Int" id="akka.cluster.ddata;Replicator.statusTotChunks_=">statusTotChunks</a> = <span title="Int(0)" class="int">0</span>

  val <a title="&lt;refinement of String =&gt; scala.collection.mutable.Set[akka.actor.ActorRef] with String =&gt; scala.collection.mutable.Set[akka.actor.ActorRef]&gt; extends scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]] with scala.collection.mutable.MultiMap[String,akka.actor.ActorRef]" id="akka.cluster.ddata;Replicator.subscribers">subscribers</a> = new <a title="&lt;$anon: String =&gt; scala.collection.mutable.Set[akka.actor.ActorRef] with String =&gt; scala.collection.mutable.Set[akka.actor.ActorRef]&gt; extends scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]] with scala.collection.mutable.MultiMap[String,akka.actor.ActorRef]" id="akka.cluster.ddata;Replicator.subscribers;$anon">mutable</a>.<a href="#akka.cluster.ddata;Replicator.subscribers;$anon" title="scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]]">HashMap</a><span class="delimiter">[</span>String, mutable.Set<span class="delimiter">[</span>ActorRef<span class="delimiter">]</span><span class="delimiter">]</span> with mutable.<span title="scala.collection.mutable.MultiMap[String,akka.actor.ActorRef]">MultiMap</span><span class="delimiter">[</span>String, ActorRef<span class="delimiter">]</span>
  val <a title="&lt;refinement of String =&gt; scala.collection.mutable.Set[akka.actor.ActorRef] with String =&gt; scala.collection.mutable.Set[akka.actor.ActorRef]&gt; extends scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]] with scala.collection.mutable.MultiMap[String,akka.actor.ActorRef]" id="akka.cluster.ddata;Replicator.newSubscribers">newSubscribers</a> = new <a title="&lt;$anon: String =&gt; scala.collection.mutable.Set[akka.actor.ActorRef] with String =&gt; scala.collection.mutable.Set[akka.actor.ActorRef]&gt; extends scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]] with scala.collection.mutable.MultiMap[String,akka.actor.ActorRef]" id="akka.cluster.ddata;Replicator.newSubscribers;$anon">mutable</a>.<a href="#akka.cluster.ddata;Replicator.newSubscribers;$anon" title="scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]]">HashMap</a><span class="delimiter">[</span>String, mutable.Set<span class="delimiter">[</span>ActorRef<span class="delimiter">]</span><span class="delimiter">]</span> with mutable.<span title="scala.collection.mutable.MultiMap[String,akka.actor.ActorRef]">MultiMap</span><span class="delimiter">[</span>String, ActorRef<span class="delimiter">]</span>
  var <a title="scala.collection.immutable.Map[String,akka.cluster.ddata.Key.KeyR]" id="akka.cluster.ddata;Replicator.subscriptionKeys_=">subscriptionKeys</a> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="[A, B]=&gt; scala.collection.immutable.Map[A,B]">empty</span><span title="scala.collection.immutable.Map[String,akka.cluster.ddata.Key.KeyR]" class="delimiter">[</span><span title="String">String</span>, <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key.KeyR">KeyR</a><span class="delimiter">]</span>

  override def <a title="()Unit" id="akka.cluster.ddata;Replicator.preStart">preStart</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    val <a title="Class[_ &gt;: akka.cluster.ClusterEvent.RoleLeaderChanged with akka.cluster.ClusterEvent.LeaderChanged &lt;: Product with Serializable with akka.cluster.ClusterEvent.ClusterDomainEvent]" id="akka.cluster.ddata;Replicator.preStart.leaderChangedClass">leaderChangedClass</a> = if <span class="delimiter">(</span><a href="#akka.cluster.ddata;ReplicatorSettings.role" title="=&gt; Option[String]">role</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> classOf<span title="Class[akka.cluster.ClusterEvent.RoleLeaderChanged](classOf[akka.cluster.ClusterEvent$$RoleLeaderChanged])" class="delimiter">[</span>RoleLeaderChanged<span class="delimiter">]</span> else classOf<span title="Class[akka.cluster.ClusterEvent.LeaderChanged](classOf[akka.cluster.ClusterEvent$$LeaderChanged])" class="delimiter">[</span>LeaderChanged<span class="delimiter">]</span>
    <a href="#akka.cluster.ddata;Replicator.cluster" title="=&gt; akka.cluster.Cluster">cluster</a>.<a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.subscribe(203d4293a1)" title="(subscriber: akka.actor.ActorRef, initialStateMode: akka.cluster.ClusterEvent.SubscriptionInitialStateMode, to: Class[_]*)Unit">subscribe</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>, initialStateMode = <a href="../../../../cluster/akka/cluster/ClusterEvent.scala.html#akka.cluster.ClusterEvent.InitialStateAsEvents" title="akka.cluster.ClusterEvent.InitialStateAsEvents.type">InitialStateAsEvents</a>,
      classOf<span title="Class[akka.cluster.ClusterEvent.MemberEvent](classOf[akka.cluster.ClusterEvent$$MemberEvent])" class="delimiter">[</span>MemberEvent<span class="delimiter">]</span>, classOf<span title="Class[akka.cluster.ClusterEvent.ReachabilityEvent](classOf[akka.cluster.ClusterEvent$$ReachabilityEvent])" class="delimiter">[</span>ReachabilityEvent<span class="delimiter">]</span>, <a href="#akka.cluster.ddata;Replicator.preStart.leaderChangedClass" title="Class[_ &gt;: akka.cluster.ClusterEvent.RoleLeaderChanged with akka.cluster.ClusterEvent.LeaderChanged &lt;: Product with Serializable with akka.cluster.ClusterEvent.ClusterDomainEvent]">leaderChangedClass</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  override def <a title="()Unit" id="akka.cluster.ddata;Replicator.postStop">postStop</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#akka.cluster.ddata;Replicator.cluster" title="=&gt; akka.cluster.Cluster">cluster</a>.<a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.unsubscribe(134bd64d81)" title="(subscriber: akka.actor.ActorRef)Unit">unsubscribe</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a><span class="delimiter">)</span>
    <a href="#akka.cluster.ddata;Replicator.gossipTask" title="=&gt; akka.actor.Cancellable">gossipTask</a>.<a href="../../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Cancellable.cancel" title="()Boolean">cancel</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#akka.cluster.ddata;Replicator.notifyTask" title="=&gt; akka.actor.Cancellable">notifyTask</a>.<a href="../../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Cancellable.cancel" title="()Boolean">cancel</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#akka.cluster.ddata;Replicator.pruningTask" title="=&gt; akka.actor.Cancellable">pruningTask</a>.<a href="../../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Cancellable.cancel" title="()Boolean">cancel</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#akka.cluster.ddata;Replicator.clockTask" title="=&gt; akka.actor.Cancellable">clockTask</a>.<a href="../../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Cancellable.cancel" title="()Boolean">cancel</a><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(m: akka.cluster.Member)Boolean" id="akka.cluster.ddata;Replicator.matchingRole">matchingRole</a><span class="delimiter">(</span><a title="akka.cluster.Member" id="akka.cluster.ddata;Replicator.matchingRole.m">m</a>: <a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member" title="akka.cluster.Member">Member</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#akka.cluster.ddata;ReplicatorSettings.role" title="=&gt; Option[String]">role</a>.<span title="(p: String =&gt; Boolean)Boolean">forall</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.matchingRole.m" title="akka.cluster.Member">m</a>.<a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member.hasRole" title="(role: String)Boolean">hasRole</a><span class="delimiter">)</span>

  def <a title="=&gt; Replicator.this.Receive" id="akka.cluster.ddata;Replicator.receive">receive</a> = <a href="#akka.cluster.ddata;Replicator.normalReceive" title="=&gt; Replicator.this.Receive">normalReceive</a>

  val <a title="Replicator.this.Receive" id="akka.cluster.ddata;Replicator.normalReceive">normalReceive</a>: <span title="Replicator.this.Receive">Receive</span> = <a title="&lt;$anon: Any =&gt; Unit&gt; extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="akka.cluster.ddata;Replicator.normalReceive;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    case Get<span class="delimiter">(</span><span title="akka.cluster.ddata.Key[akka.cluster.ddata.ReplicatedData]">key</span>, <span title="akka.cluster.ddata.Replicator.ReadConsistency">consistency</span>, <span title="Option[Any]">req</span><span class="delimiter">)</span>             ⇒ <a href="#akka.cluster.ddata;Replicator.receiveGet" title="(key: akka.cluster.ddata.Key.KeyR, consistency: akka.cluster.ddata.Replicator.ReadConsistency, req: Option[Any])Unit">receiveGet</a><span title="Boolean(true)" class="delimiter">(</span><span title="akka.cluster.ddata.Key[akka.cluster.ddata.ReplicatedData]">key</span>, <span title="akka.cluster.ddata.Replicator.ReadConsistency">consistency</span>, <span title="Option[Any]">req</span><span class="delimiter">)</span>
    case <a title="akka.cluster.ddata.Replicator.Update[akka.cluster.ddata.ReplicatedData]" id="akka.cluster.ddata;Replicator.normalReceive;$anonfun.isDefinedAt.u">u</a> @ Update<span class="delimiter">(</span><span title="akka.cluster.ddata.Key[akka.cluster.ddata.ReplicatedData]">key</span>, <a title="akka.cluster.ddata.Replicator.WriteConsistency" id="akka.cluster.ddata;Replicator.normalReceive;$anonfun.isDefinedAt.writeC">writeC</a>, <span title="Option[Any]">req</span><span class="delimiter">)</span>           ⇒ <a href="#akka.cluster.ddata;Replicator.receiveUpdate" title="(key: akka.cluster.ddata.Key.KeyR, modify: Option[akka.cluster.ddata.ReplicatedData] =&gt; akka.cluster.ddata.ReplicatedData, writeConsistency: akka.cluster.ddata.Replicator.WriteConsistency, req: Option[Any])Unit">receiveUpdate</a><span title="Boolean(true)" class="delimiter">(</span><span title="akka.cluster.ddata.Key[akka.cluster.ddata.ReplicatedData]">key</span>, <a href="#akka.cluster.ddata;Replicator.normalReceive;$anonfun.isDefinedAt.u" title="akka.cluster.ddata.Replicator.Update[akka.cluster.ddata.ReplicatedData]">u</a>.<a href="#akka.cluster.ddata.Replicator;Update.copy.modify" title="=&gt; Option[akka.cluster.ddata.ReplicatedData] =&gt; akka.cluster.ddata.ReplicatedData">modify</a>, <a href="#akka.cluster.ddata;Replicator.normalReceive;$anonfun.isDefinedAt.writeC" title="akka.cluster.ddata.Replicator.WriteConsistency">writeC</a>, <span title="Option[Any]">req</span><span class="delimiter">)</span>
    case Read<span class="delimiter">(</span><span title="String">key</span><span class="delimiter">)</span>                              ⇒ <a href="#akka.cluster.ddata;Replicator.receiveRead" title="(key: String)Unit">receiveRead</a><span title="Boolean(true)" class="delimiter">(</span><span title="String">key</span><span class="delimiter">)</span>
    case Write<span class="delimiter">(</span><span title="String">key</span>, <span title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</span><span class="delimiter">)</span>                   ⇒ <a href="#akka.cluster.ddata;Replicator.receiveWrite" title="(key: String, envelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)Unit">receiveWrite</a><span title="Boolean(true)" class="delimiter">(</span><span title="String">key</span>, <span title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</span><span class="delimiter">)</span>
    case ReadRepair<span class="delimiter">(</span><span title="String">key</span>, <span title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</span><span class="delimiter">)</span>              ⇒ <a href="#akka.cluster.ddata;Replicator.receiveReadRepair" title="(key: String, writeEnvelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)Unit">receiveReadRepair</a><span title="Boolean(true)" class="delimiter">(</span><span title="String">key</span>, <span title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</span><span class="delimiter">)</span>
    case <a href="#akka.cluster.ddata.Replicator.FlushChanges.readResolve" title="akka.cluster.ddata.Replicator.FlushChanges.type">FlushChanges</a>                           ⇒ <a href="#akka.cluster.ddata;Replicator.receiveFlushChanges" title="()Unit">receiveFlushChanges</a><span title="Boolean(true)" class="delimiter">(</span><span class="delimiter">)</span>
    case <a href="#akka.cluster.ddata.Replicator.Internal.GossipTick.readResolve" title="akka.cluster.ddata.Replicator.Internal.GossipTick.type">GossipTick</a>                             ⇒ <a href="#akka.cluster.ddata;Replicator.receiveGossipTick" title="()Unit">receiveGossipTick</a><span title="Boolean(true)" class="delimiter">(</span><span class="delimiter">)</span>
    case <a href="#akka.cluster.ddata.Replicator.Internal.ClockTick.readResolve" title="akka.cluster.ddata.Replicator.Internal.ClockTick.type">ClockTick</a>                              ⇒ <a href="#akka.cluster.ddata;Replicator.receiveClockTick" title="()Unit">receiveClockTick</a><span title="Boolean(true)" class="delimiter">(</span><span class="delimiter">)</span>
    case Status<span class="delimiter">(</span><a title="Map[String,akka.cluster.ddata.Replicator.Internal.Digest]" id="akka.cluster.ddata;Replicator.normalReceive;$anonfun.isDefinedAt.otherDigests">otherDigests</a>, <a title="Int" id="akka.cluster.ddata;Replicator.normalReceive;$anonfun.isDefinedAt.chunk">chunk</a>, <a title="Int" id="akka.cluster.ddata;Replicator.normalReceive;$anonfun.isDefinedAt.totChunks">totChunks</a><span class="delimiter">)</span> ⇒ <a href="#akka.cluster.ddata;Replicator.receiveStatus" title="(otherDigests: Map[String,akka.cluster.ddata.Replicator.Internal.Digest], chunk: Int, totChunks: Int)Unit">receiveStatus</a><span title="Boolean(true)" class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.normalReceive;$anonfun.isDefinedAt.otherDigests" title="Map[String,akka.cluster.ddata.Replicator.Internal.Digest]">otherDigests</a>, <a href="#akka.cluster.ddata;Replicator.normalReceive;$anonfun.isDefinedAt.chunk" title="Int">chunk</a>, <a href="#akka.cluster.ddata;Replicator.normalReceive;$anonfun.isDefinedAt.totChunks" title="Int">totChunks</a><span class="delimiter">)</span>
    case Gossip<span class="delimiter">(</span><a title="Map[String,akka.cluster.ddata.Replicator.Internal.DataEnvelope]" id="akka.cluster.ddata;Replicator.normalReceive;$anonfun.isDefinedAt.updatedData">updatedData</a>, <a title="Boolean" id="akka.cluster.ddata;Replicator.normalReceive;$anonfun.isDefinedAt.sendBack">sendBack</a><span class="delimiter">)</span>          ⇒ <a href="#akka.cluster.ddata;Replicator.receiveGossip" title="(updatedData: Map[String,akka.cluster.ddata.Replicator.Internal.DataEnvelope], sendBack: Boolean)Unit">receiveGossip</a><span title="Boolean(true)" class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.normalReceive;$anonfun.isDefinedAt.updatedData" title="Map[String,akka.cluster.ddata.Replicator.Internal.DataEnvelope]">updatedData</a>, <a href="#akka.cluster.ddata;Replicator.normalReceive;$anonfun.isDefinedAt.sendBack" title="Boolean">sendBack</a><span class="delimiter">)</span>
    case Subscribe<span class="delimiter">(</span><span title="akka.cluster.ddata.Key[akka.cluster.ddata.ReplicatedData]">key</span>, <span title="akka.actor.ActorRef">subscriber</span><span class="delimiter">)</span>             ⇒ <a href="#akka.cluster.ddata;Replicator.receiveSubscribe" title="(key: akka.cluster.ddata.Key.KeyR, subscriber: akka.actor.ActorRef)Unit">receiveSubscribe</a><span title="Boolean(true)" class="delimiter">(</span><span title="akka.cluster.ddata.Key[akka.cluster.ddata.ReplicatedData]">key</span>, <span title="akka.actor.ActorRef">subscriber</span><span class="delimiter">)</span>
    case Unsubscribe<span class="delimiter">(</span><span title="akka.cluster.ddata.Key[akka.cluster.ddata.ReplicatedData]">key</span>, <span title="akka.actor.ActorRef">subscriber</span><span class="delimiter">)</span>           ⇒ <a href="#akka.cluster.ddata;Replicator.receiveUnsubscribe" title="(key: akka.cluster.ddata.Key.KeyR, subscriber: akka.actor.ActorRef)Unit">receiveUnsubscribe</a><span title="Boolean(true)" class="delimiter">(</span><span title="akka.cluster.ddata.Key[akka.cluster.ddata.ReplicatedData]">key</span>, <span title="akka.actor.ActorRef">subscriber</span><span class="delimiter">)</span>
    case Terminated<span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.cluster.ddata;Replicator.normalReceive;$anonfun.isDefinedAt.ref">ref</a><span class="delimiter">)</span>                        ⇒ <a href="#akka.cluster.ddata;Replicator.receiveTerminated" title="(ref: akka.actor.ActorRef)Unit">receiveTerminated</a><span title="Boolean(true)" class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.normalReceive;$anonfun.isDefinedAt.ref" title="akka.actor.ActorRef">ref</a><span class="delimiter">)</span>
    case MemberUp<span class="delimiter">(</span><span title="akka.cluster.Member">m</span><span class="delimiter">)</span>                            ⇒ <a href="#akka.cluster.ddata;Replicator.receiveMemberUp" title="(m: akka.cluster.Member)Unit">receiveMemberUp</a><span title="Boolean(true)" class="delimiter">(</span><span title="akka.cluster.Member">m</span><span class="delimiter">)</span>
    case MemberRemoved<span class="delimiter">(</span><span title="akka.cluster.Member">m</span>, _<span class="delimiter">)</span>                    ⇒ <a href="#akka.cluster.ddata;Replicator.receiveMemberRemoved" title="(m: akka.cluster.Member)Unit">receiveMemberRemoved</a><span title="Boolean(true)" class="delimiter">(</span><span title="akka.cluster.Member">m</span><span class="delimiter">)</span>
    case _: <a href="../../../../cluster/akka/cluster/ClusterEvent.scala.html#akka.cluster.ClusterEvent;MemberEvent" title="akka.cluster.ClusterEvent.MemberEvent">MemberEvent</a>                         ⇒ <span class="comment">// not of interest</span>
    case UnreachableMember<span class="delimiter">(</span><span title="akka.cluster.Member">m</span><span class="delimiter">)</span>                   ⇒ <a href="#akka.cluster.ddata;Replicator.receiveUnreachable" title="(m: akka.cluster.Member)Unit">receiveUnreachable</a><span title="Boolean(true)" class="delimiter">(</span><span title="akka.cluster.Member">m</span><span class="delimiter">)</span>
    case ReachableMember<span class="delimiter">(</span><span title="akka.cluster.Member">m</span><span class="delimiter">)</span>                     ⇒ <a href="#akka.cluster.ddata;Replicator.receiveReachable" title="(m: akka.cluster.Member)Unit">receiveReachable</a><span title="Boolean(true)" class="delimiter">(</span><span title="akka.cluster.Member">m</span><span class="delimiter">)</span>
    case LeaderChanged<span class="delimiter">(</span><span title="Option[akka.actor.Address]">leader</span><span class="delimiter">)</span>                  ⇒ <a href="#akka.cluster.ddata;Replicator.receiveLeaderChanged" title="(leaderOption: Option[akka.actor.Address], roleOption: Option[String])Unit">receiveLeaderChanged</a><span title="Boolean(true)" class="delimiter">(</span><span title="Option[akka.actor.Address]">leader</span>, <span title="None.type">None</span><span class="delimiter">)</span>
    case RoleLeaderChanged<span class="delimiter">(</span><a title="String" id="akka.cluster.ddata;Replicator.normalReceive;$anonfun.isDefinedAt.role">role</a>, <span title="Option[akka.actor.Address]">leader</span><span class="delimiter">)</span>        ⇒ <a href="#akka.cluster.ddata;Replicator.receiveLeaderChanged" title="(leaderOption: Option[akka.actor.Address], roleOption: Option[String])Unit">receiveLeaderChanged</a><span title="Boolean(true)" class="delimiter">(</span><span title="Option[akka.actor.Address]">leader</span>, <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.normalReceive;$anonfun.isDefinedAt.role" title="String">role</a><span class="delimiter">)</span><span class="delimiter">)</span>
    case <a href="#akka.cluster.ddata.Replicator.GetKeyIds.readResolve" title="akka.cluster.ddata.Replicator.GetKeyIds.type">GetKeyIds</a>                              ⇒ <a href="#akka.cluster.ddata;Replicator.receiveGetKeyIds" title="()Unit">receiveGetKeyIds</a><span title="Boolean(true)" class="delimiter">(</span><span class="delimiter">)</span>
    case Delete<span class="delimiter">(</span><span title="akka.cluster.ddata.Key[akka.cluster.ddata.ReplicatedData]">key</span>, <span title="akka.cluster.ddata.Replicator.WriteConsistency">consistency</span><span class="delimiter">)</span>               ⇒ <a href="#akka.cluster.ddata;Replicator.receiveDelete" title="(key: akka.cluster.ddata.Key.KeyR, consistency: akka.cluster.ddata.Replicator.WriteConsistency)Unit">receiveDelete</a><span title="Boolean(true)" class="delimiter">(</span><span title="akka.cluster.ddata.Key[akka.cluster.ddata.ReplicatedData]">key</span>, <span title="akka.cluster.ddata.Replicator.WriteConsistency">consistency</span><span class="delimiter">)</span>
    case <a href="#akka.cluster.ddata.Replicator.Internal.RemovedNodePruningTick.readResolve" title="akka.cluster.ddata.Replicator.Internal.RemovedNodePruningTick.type">RemovedNodePruningTick</a>                 ⇒ <a href="#akka.cluster.ddata;Replicator.receiveRemovedNodePruningTick" title="()Unit">receiveRemovedNodePruningTick</a><span title="Boolean(true)" class="delimiter">(</span><span class="delimiter">)</span>
    case <a href="#akka.cluster.ddata.Replicator.GetReplicaCount.readResolve" title="akka.cluster.ddata.Replicator.GetReplicaCount.type">GetReplicaCount</a>                        ⇒ <a href="#akka.cluster.ddata;Replicator.receiveGetReplicaCount" title="()Unit">receiveGetReplicaCount</a><span title="Boolean(true)" class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(key: akka.cluster.ddata.Key.KeyR, consistency: akka.cluster.ddata.Replicator.ReadConsistency, req: Option[Any])Unit" id="akka.cluster.ddata;Replicator.receiveGet">receiveGet</a><span class="delimiter">(</span><a title="akka.cluster.ddata.Key.KeyR" id="akka.cluster.ddata;Replicator.receiveGet.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key.KeyR">KeyR</a>, <a title="akka.cluster.ddata.Replicator.ReadConsistency" id="akka.cluster.ddata;Replicator.receiveGet.consistency">consistency</a>: <a href="#akka.cluster.ddata.Replicator;ReadConsistency" title="akka.cluster.ddata.Replicator.ReadConsistency">ReadConsistency</a>, <a title="Option[Any]" id="akka.cluster.ddata;Replicator.receiveGet.req">req</a>: <span title="Option[Any]">Option</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    val <a title="Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]" id="akka.cluster.ddata;Replicator.receiveGet.localValue">localValue</a> = <a href="#akka.cluster.ddata;Replicator.getData" title="(key: String)Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]">getData</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveGet.key" title="akka.cluster.ddata.Key.KeyR">key</a>.<a href="Key.scala.html#akka.cluster.ddata;Key.id" title="=&gt; String">id</a><span class="delimiter">)</span>
    <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.debug(2f488eb77c)" title="(template: String, arg1: Any, arg2: Any)Unit">debug</a><span class="delimiter">(</span><span title="String(&quot;Received Get for key [{}], local data [{}]&quot;)" class="string">&quot;Received Get for key [{}], local data [{}]&quot;</span>, <a href="#akka.cluster.ddata;Replicator.receiveGet.key" title="akka.cluster.ddata.Key.KeyR">key</a>, <a href="#akka.cluster.ddata;Replicator.receiveGet.localValue" title="Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]">localValue</a><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.isLocalGet" title="(readConsistency: akka.cluster.ddata.Replicator.ReadConsistency)Boolean">isLocalGet</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveGet.consistency" title="akka.cluster.ddata.Replicator.ReadConsistency">consistency</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      val <a title="&lt;refinement of Product&gt; extends Product with Serializable with Object" id="akka.cluster.ddata;Replicator.receiveGet.reply">reply</a> = <a href="#akka.cluster.ddata;Replicator.receiveGet.localValue" title="Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]">localValue</a> match <span class="delimiter">{</span>
        case Some<span class="delimiter">(</span>DataEnvelope<span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal.DeletedData.readResolve" title="akka.cluster.ddata.Replicator.Internal.DeletedData.type">DeletedData</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> ⇒ <a href="#akka.cluster.ddata.Replicator.DataDeleted.readResolve" title="(key: akka.cluster.ddata.Key[akka.cluster.ddata.ReplicatedData])akka.cluster.ddata.Replicator.DataDeleted[akka.cluster.ddata.ReplicatedData]">DataDeleted</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveGet.key" title="akka.cluster.ddata.Key.KeyR">key</a><span class="delimiter">)</span>
        case Some<span class="delimiter">(</span>DataEnvelope<span class="delimiter">(</span><a title="akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata;Replicator.receiveGet.reply.data">data</a>, _<span class="delimiter">)</span><span class="delimiter">)</span>        ⇒ <a href="#akka.cluster.ddata.Replicator.GetSuccess.readResolve" title="(key: akka.cluster.ddata.Key[akka.cluster.ddata.ReplicatedData], request: Option[Any])(data: akka.cluster.ddata.ReplicatedData)akka.cluster.ddata.Replicator.GetSuccess[akka.cluster.ddata.ReplicatedData]">GetSuccess</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveGet.key" title="akka.cluster.ddata.Key.KeyR">key</a>, <a href="#akka.cluster.ddata;Replicator.receiveGet.req" title="Option[Any]">req</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveGet.reply.data" title="akka.cluster.ddata.ReplicatedData">data</a><span class="delimiter">)</span>
        case <span title="None.type">None</span>                               ⇒ <a href="#akka.cluster.ddata.Replicator.NotFound.readResolve" title="(key: akka.cluster.ddata.Key[akka.cluster.ddata.ReplicatedData], request: Option[Any])akka.cluster.ddata.Replicator.NotFound[akka.cluster.ddata.ReplicatedData]">NotFound</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveGet.key" title="akka.cluster.ddata.Key.KeyR">key</a>, <a href="#akka.cluster.ddata;Replicator.receiveGet.req" title="Option[Any]">req</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef" class="delimiter">(</a><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.ddata;Replicator.receiveGet.reply" title="&lt;refinement of Product&gt; extends Product with Serializable with Object">reply</a>
    <span class="delimiter">}</span> else
      <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.actorOf(59f1e43182)" title="(props: akka.actor.Props)akka.actor.ActorRef">actorOf</a><span title="Unit" class="delimiter">(</span><a href="#akka.cluster.ddata.ReadAggregator" title="akka.cluster.ddata.ReadAggregator.type">ReadAggregator</a>.<a href="#akka.cluster.ddata.ReadAggregator.props" title="(key: akka.cluster.ddata.Key.KeyR, consistency: akka.cluster.ddata.Replicator.ReadConsistency, req: Option[Any], nodes: Set[akka.actor.Address], localValue: Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope], replyTo: akka.actor.ActorRef)akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveGet.key" title="akka.cluster.ddata.Key.KeyR">key</a>, <a href="#akka.cluster.ddata;Replicator.receiveGet.consistency" title="akka.cluster.ddata.Replicator.ReadConsistency">consistency</a>, <a href="#akka.cluster.ddata;Replicator.receiveGet.req" title="Option[Any]">req</a>, <a href="#akka.cluster.ddata;Replicator.nodes_=" title="=&gt; Set[akka.actor.Address]">nodes</a>, <a href="#akka.cluster.ddata;Replicator.receiveGet.localValue" title="Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]">localValue</a>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        .<a href="../../../../actor/akka/actor/Props.scala.html#akka.actor;Props.withDispatcher" title="(d: String)akka.actor.Props">withDispatcher</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.props" title="=&gt; akka.actor.Props">props</a>.<a href="../../../../actor/akka/actor/Props.scala.html#akka.actor;Props.dispatcher" title="=&gt; String">dispatcher</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(readConsistency: akka.cluster.ddata.Replicator.ReadConsistency)Boolean" id="akka.cluster.ddata;Replicator.isLocalGet">isLocalGet</a><span class="delimiter">(</span><a title="akka.cluster.ddata.Replicator.ReadConsistency" id="akka.cluster.ddata;Replicator.isLocalGet.readConsistency">readConsistency</a>: <a href="#akka.cluster.ddata.Replicator;ReadConsistency" title="akka.cluster.ddata.Replicator.ReadConsistency">ReadConsistency</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <a href="#akka.cluster.ddata;Replicator.isLocalGet.readConsistency" title="akka.cluster.ddata.Replicator.ReadConsistency">readConsistency</a> match <span class="delimiter">{</span>
      case <a href="#akka.cluster.ddata.Replicator.ReadLocal.readResolve" title="akka.cluster.ddata.Replicator.ReadLocal.type">ReadLocal</a>                    ⇒ true
      case _: <a href="#akka.cluster.ddata.Replicator.ReadMajority.readResolve" title="akka.cluster.ddata.Replicator.ReadMajority">ReadMajority</a> | _: <a href="#akka.cluster.ddata.Replicator.ReadAll.readResolve" title="akka.cluster.ddata.Replicator.ReadAll">ReadAll</a> ⇒ <a href="#akka.cluster.ddata;Replicator.nodes_=" title="=&gt; Set[akka.actor.Address]">nodes</a>.<span title="=&gt; Boolean">isEmpty</span>
      case _                            ⇒ false
    <span class="delimiter">}</span>

  def <a title="(key: String)Unit" id="akka.cluster.ddata;Replicator.receiveRead">receiveRead</a><span class="delimiter">(</span><a title="String" id="akka.cluster.ddata;Replicator.receiveRead.key">key</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef" class="delimiter">(</a><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.ddata.Replicator.Internal.ReadResult.readResolve" title="(envelope: Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope])akka.cluster.ddata.Replicator.Internal.ReadResult">ReadResult</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.getData" title="(key: String)Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]">getData</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveRead.key" title="String">key</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="()Boolean" id="akka.cluster.ddata;Replicator.isLocalSender">isLocalSender</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span title="=&gt; Boolean">!</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a>.<a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath.address" title="=&gt; akka.actor.Address">address</a>.<a href="../../../../actor/akka/actor/Address.scala.html#akka.actor;Address.hasGlobalScope" title="=&gt; Boolean">hasGlobalScope</a>

  def <a title="(key: akka.cluster.ddata.Key.KeyR, modify: Option[akka.cluster.ddata.ReplicatedData] =&gt; akka.cluster.ddata.ReplicatedData, writeConsistency: akka.cluster.ddata.Replicator.WriteConsistency, req: Option[Any])Unit" id="akka.cluster.ddata;Replicator.receiveUpdate">receiveUpdate</a><span class="delimiter">(</span><a title="akka.cluster.ddata.Key.KeyR" id="akka.cluster.ddata;Replicator.receiveUpdate.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key.KeyR">KeyR</a>, <a title="Option[akka.cluster.ddata.ReplicatedData] =&gt; akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata;Replicator.receiveUpdate.modify">modify</a>: Option<span class="delimiter">[</span>ReplicatedData<span class="delimiter">]</span> ⇒ ReplicatedData,
                    <a title="akka.cluster.ddata.Replicator.WriteConsistency" id="akka.cluster.ddata;Replicator.receiveUpdate.writeConsistency">writeConsistency</a>: <a href="#akka.cluster.ddata.Replicator;WriteConsistency" title="akka.cluster.ddata.Replicator.WriteConsistency">WriteConsistency</a>, <a title="Option[Any]" id="akka.cluster.ddata;Replicator.receiveUpdate.req">req</a>: <span title="Option[Any]">Option</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    val <a title="Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]" id="akka.cluster.ddata;Replicator.receiveUpdate.localValue">localValue</a> = <a href="#akka.cluster.ddata;Replicator.getData" title="(key: String)Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]">getData</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveUpdate.key" title="akka.cluster.ddata.Key.KeyR">key</a>.<a href="Key.scala.html#akka.cluster.ddata;Key.id" title="=&gt; String">id</a><span class="delimiter">)</span>
    <span title="(r: =&gt; akka.cluster.ddata.ReplicatedData)scala.util.Try[akka.cluster.ddata.ReplicatedData]">Try</span> <span class="delimiter">{</span>
      <a href="#akka.cluster.ddata;Replicator.receiveUpdate.localValue" title="Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]">localValue</a> match <span class="delimiter">{</span>
        case Some<span class="delimiter">(</span>DataEnvelope<span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal.DeletedData.readResolve" title="akka.cluster.ddata.Replicator.Internal.DeletedData.type">DeletedData</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> ⇒ throw new <a href="#akka.cluster.ddata.Replicator.DataDeleted.readResolve" title="akka.cluster.ddata.Replicator.DataDeleted[akka.cluster.ddata.ReplicatedData]">DataDeleted</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveUpdate.key" title="akka.cluster.ddata.Key.KeyR">key</a><span class="delimiter">)</span>
        case Some<span class="delimiter">(</span><span title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</span> @ DataEnvelope<span class="delimiter">(</span><a title="akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata;Replicator.receiveUpdate.existing">existing</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> ⇒
          <a href="#akka.cluster.ddata;Replicator.receiveUpdate.existing" title="akka.cluster.ddata.ReplicatedData">existing</a>.<a href="ReplicatedData.scala.html#akka.cluster.ddata;ReplicatedData.merge" title="(that: existing.T)existing.T">merge</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveUpdate.modify" title="(v1: Option[akka.cluster.ddata.ReplicatedData])akka.cluster.ddata.ReplicatedData">modify</a><span class="delimiter">(</span><span title="(x: akka.cluster.ddata.ReplicatedData)Some[akka.cluster.ddata.ReplicatedData]">Some</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveUpdate.existing" title="akka.cluster.ddata.ReplicatedData">existing</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="existing.T" class="delimiter">[</span>existing.<a href="ReplicatedData.scala.html#akka.cluster.ddata;ReplicatedData;T" title="existing.T">T</a><span class="delimiter">]</span><span class="delimiter">)</span>
        case <span title="None.type">None</span> ⇒ <a href="#akka.cluster.ddata;Replicator.receiveUpdate.modify" title="(v1: Option[akka.cluster.ddata.ReplicatedData])akka.cluster.ddata.ReplicatedData">modify</a><span class="delimiter">(</span><span title="None.type">None</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> match <span class="delimiter">{</span>
      case Success<span class="delimiter">(</span><a title="akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata;Replicator.receiveUpdate.newData">newData</a><span class="delimiter">)</span> ⇒
        <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.debug(6c666e4343)" title="(template: String, arg1: Any, arg2: Any, arg3: Any)Unit">debug</a><span class="delimiter">(</span><span title="String(&quot;Received Update for key [{}], old data [{}], new data [{}]&quot;)" class="string">&quot;Received Update for key [{}], old data [{}], new data [{}]&quot;</span>, <a href="#akka.cluster.ddata;Replicator.receiveUpdate.key" title="akka.cluster.ddata.Key.KeyR">key</a>, <a href="#akka.cluster.ddata;Replicator.receiveUpdate.localValue" title="Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]">localValue</a>, <a href="#akka.cluster.ddata;Replicator.receiveUpdate.newData" title="akka.cluster.ddata.ReplicatedData">newData</a><span class="delimiter">)</span>
        val <span title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</span> = <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.readResolve" title="(data: akka.cluster.ddata.ReplicatedData, pruning: Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState])akka.cluster.ddata.Replicator.Internal.DataEnvelope">DataEnvelope</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(e48c5bcf2b)" title="(data: akka.cluster.ddata.ReplicatedData)akka.cluster.ddata.ReplicatedData">pruningCleanupTombstoned</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveUpdate.newData" title="akka.cluster.ddata.ReplicatedData">newData</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#akka.cluster.ddata;Replicator.setData" title="(key: String, envelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)Unit">setData</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveUpdate.key" title="akka.cluster.ddata.Key.KeyR">key</a>.<a href="Key.scala.html#akka.cluster.ddata;Key.id" title="=&gt; String">id</a>, <span title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</span><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.isLocalUpdate" title="(writeConsistency: akka.cluster.ddata.Replicator.WriteConsistency)Boolean">isLocalUpdate</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveUpdate.writeConsistency" title="akka.cluster.ddata.Replicator.WriteConsistency">writeConsistency</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef" class="delimiter">(</a><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.ddata.Replicator.UpdateSuccess.readResolve" title="(key: akka.cluster.ddata.Key[akka.cluster.ddata.ReplicatedData], request: Option[Any])akka.cluster.ddata.Replicator.UpdateSuccess[akka.cluster.ddata.ReplicatedData]">UpdateSuccess</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveUpdate.key" title="akka.cluster.ddata.Key.KeyR">key</a>, <a href="#akka.cluster.ddata;Replicator.receiveUpdate.req" title="Option[Any]">req</a><span class="delimiter">)</span>
        else
          <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.actorOf(59f1e43182)" title="(props: akka.actor.Props)akka.actor.ActorRef">actorOf</a><span title="Unit" class="delimiter">(</span><a href="#akka.cluster.ddata.WriteAggregator" title="akka.cluster.ddata.WriteAggregator.type">WriteAggregator</a>.<a href="#akka.cluster.ddata.WriteAggregator.props" title="(key: akka.cluster.ddata.Key.KeyR, envelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope, consistency: akka.cluster.ddata.Replicator.WriteConsistency, req: Option[Any], nodes: Set[akka.actor.Address], replyTo: akka.actor.ActorRef)akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveUpdate.key" title="akka.cluster.ddata.Key.KeyR">key</a>, <span title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</span>, <a href="#akka.cluster.ddata;Replicator.receiveUpdate.writeConsistency" title="akka.cluster.ddata.Replicator.WriteConsistency">writeConsistency</a>, <a href="#akka.cluster.ddata;Replicator.receiveUpdate.req" title="Option[Any]">req</a>, <a href="#akka.cluster.ddata;Replicator.nodes_=" title="=&gt; Set[akka.actor.Address]">nodes</a>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
            .<a href="../../../../actor/akka/actor/Props.scala.html#akka.actor;Props.withDispatcher" title="(d: String)akka.actor.Props">withDispatcher</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.props" title="=&gt; akka.actor.Props">props</a>.<a href="../../../../actor/akka/actor/Props.scala.html#akka.actor;Props.dispatcher" title="=&gt; String">dispatcher</a><span class="delimiter">)</span><span class="delimiter">)</span>
      case Failure<span class="delimiter">(</span><span title="akka.cluster.ddata.Replicator.DataDeleted[_]">e</span>: <a href="#akka.cluster.ddata.Replicator.DataDeleted.readResolve" title="akka.cluster.ddata.Replicator.DataDeleted[_]">DataDeleted</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> ⇒
        <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.debug(dc73c33c91)" title="(template: String, arg1: Any)Unit">debug</a><span class="delimiter">(</span><span title="String(&quot;Received Update for deleted key [{}]&quot;)" class="string">&quot;Received Update for deleted key [{}]&quot;</span>, <a href="#akka.cluster.ddata;Replicator.receiveUpdate.key" title="akka.cluster.ddata.Key.KeyR">key</a><span class="delimiter">)</span>
        <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef" class="delimiter">(</a><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <span title="akka.cluster.ddata.Replicator.DataDeleted[_]">e</span>
      case Failure<span class="delimiter">(</span><span title="Throwable">e</span><span class="delimiter">)</span> ⇒
        <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.debug(2f488eb77c)" title="(template: String, arg1: Any, arg2: Any)Unit">debug</a><span class="delimiter">(</span><span title="String(&quot;Received Update for key [{}], failed: {}&quot;)" class="string">&quot;Received Update for key [{}], failed: {}&quot;</span>, <a href="#akka.cluster.ddata;Replicator.receiveUpdate.key" title="akka.cluster.ddata.Key.KeyR">key</a>, <span title="Throwable">e</span>.<span title="()String">getMessage</span><span class="delimiter">)</span>
        <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef" class="delimiter">(</a><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.ddata.Replicator.ModifyFailure.readResolve" title="(key: akka.cluster.ddata.Key[akka.cluster.ddata.ReplicatedData], errorMessage: String, cause: Throwable, request: Option[Any])akka.cluster.ddata.Replicator.ModifyFailure[akka.cluster.ddata.ReplicatedData]">ModifyFailure</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveUpdate.key" title="akka.cluster.ddata.Key.KeyR">key</a>, <span title="String(&quot;Update failed: &quot;)" class="string">&quot;Update failed: &quot;</span> <span title="(x$1: Any)String">+</span> <span title="Throwable">e</span>.<span title="()String">getMessage</span>, <span title="Throwable">e</span>, <a href="#akka.cluster.ddata;Replicator.receiveUpdate.req" title="Option[Any]">req</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(writeConsistency: akka.cluster.ddata.Replicator.WriteConsistency)Boolean" id="akka.cluster.ddata;Replicator.isLocalUpdate">isLocalUpdate</a><span class="delimiter">(</span><a title="akka.cluster.ddata.Replicator.WriteConsistency" id="akka.cluster.ddata;Replicator.isLocalUpdate.writeConsistency">writeConsistency</a>: <a href="#akka.cluster.ddata.Replicator;WriteConsistency" title="akka.cluster.ddata.Replicator.WriteConsistency">WriteConsistency</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <a href="#akka.cluster.ddata;Replicator.isLocalUpdate.writeConsistency" title="akka.cluster.ddata.Replicator.WriteConsistency">writeConsistency</a> match <span class="delimiter">{</span>
      case <a href="#akka.cluster.ddata.Replicator.WriteLocal.readResolve" title="akka.cluster.ddata.Replicator.WriteLocal.type">WriteLocal</a>                     ⇒ true
      case _: <a href="#akka.cluster.ddata.Replicator.WriteMajority.readResolve" title="akka.cluster.ddata.Replicator.WriteMajority">WriteMajority</a> | _: <a href="#akka.cluster.ddata.Replicator.WriteAll.readResolve" title="akka.cluster.ddata.Replicator.WriteAll">WriteAll</a> ⇒ <a href="#akka.cluster.ddata;Replicator.nodes_=" title="=&gt; Set[akka.actor.Address]">nodes</a>.<span title="=&gt; Boolean">isEmpty</span>
      case _                              ⇒ false
    <span class="delimiter">}</span>

  def <a title="(key: String, envelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)Unit" id="akka.cluster.ddata;Replicator.receiveWrite">receiveWrite</a><span class="delimiter">(</span><a title="String" id="akka.cluster.ddata;Replicator.receiveWrite.key">key</a>: <span title="String">String</span>, <a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata;Replicator.receiveWrite.envelope">envelope</a>: <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.readResolve" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">DataEnvelope</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#akka.cluster.ddata;Replicator.write" title="(key: String, writeEnvelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)Unit">write</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveWrite.key" title="String">key</a>, <a href="#akka.cluster.ddata;Replicator.receiveWrite.envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a><span class="delimiter">)</span>
    <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef" class="delimiter">(</a><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.ddata.Replicator.Internal.WriteAck.readResolve" title="akka.cluster.ddata.Replicator.Internal.WriteAck.type">WriteAck</a>
  <span class="delimiter">}</span>

  def <a title="(key: String, writeEnvelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)Unit" id="akka.cluster.ddata;Replicator.write">write</a><span class="delimiter">(</span><a title="String" id="akka.cluster.ddata;Replicator.write.key">key</a>: <span title="String">String</span>, <a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata;Replicator.write.writeEnvelope">writeEnvelope</a>: <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.readResolve" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">DataEnvelope</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#akka.cluster.ddata;Replicator.getData" title="(key: String)Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]">getData</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.write.key" title="String">key</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case Some<span class="delimiter">(</span>DataEnvelope<span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal.DeletedData.readResolve" title="akka.cluster.ddata.Replicator.Internal.DeletedData.type">DeletedData</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> ⇒ <span class="comment">// already deleted</span>
      case Some<span class="delimiter">(</span><a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata;Replicator.write.envelope">envelope</a> @ DataEnvelope<span class="delimiter">(</span><a title="akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata;Replicator.write.existing">existing</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> ⇒
        if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.write.existing" title="akka.cluster.ddata.ReplicatedData">existing</a>.<span title="()Class[_]">getClass</span> <span title="(x$1: Any)Boolean">==</span> <a href="#akka.cluster.ddata;Replicator.write.writeEnvelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">writeEnvelope</a>.<a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.data" title="=&gt; akka.cluster.ddata.ReplicatedData">data</a>.<span title="()Class[_]">getClass</span> <span title="(x: Boolean)Boolean">||</span> <a href="#akka.cluster.ddata;Replicator.write.writeEnvelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">writeEnvelope</a>.<a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.data" title="=&gt; akka.cluster.ddata.ReplicatedData">data</a> <span title="(x$1: Any)Boolean">==</span> <a href="#akka.cluster.ddata.Replicator.Internal.DeletedData.readResolve" title="akka.cluster.ddata.Replicator.Internal.DeletedData.type">DeletedData</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          val <a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata;Replicator.write.merged">merged</a> = <a href="#akka.cluster.ddata;Replicator.write.envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a>.<a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(0b5a5c5ab4)" title="(other: akka.cluster.ddata.Replicator.Internal.DataEnvelope)akka.cluster.ddata.Replicator.Internal.DataEnvelope">merge</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(a53e191b8b)" title="(envelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)akka.cluster.ddata.Replicator.Internal.DataEnvelope">pruningCleanupTombstoned</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.write.writeEnvelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">writeEnvelope</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.addSeen" title="(node: akka.actor.Address)akka.cluster.ddata.Replicator.Internal.DataEnvelope">addSeen</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.selfAddress" title="=&gt; akka.actor.Address">selfAddress</a><span class="delimiter">)</span>
          <a href="#akka.cluster.ddata;Replicator.setData" title="(key: String, envelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)Unit">setData</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.write.key" title="String">key</a>, <a href="#akka.cluster.ddata;Replicator.write.merged" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">merged</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> else <span class="delimiter">{</span>
          <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.warning(6c666e4343)" title="(template: String, arg1: Any, arg2: Any, arg3: Any)Unit">warning</a><span class="delimiter">(</span><span title="String(&quot;Wrong type for writing [{}], existing type [{}], got [{}]&quot;)" class="string">&quot;Wrong type for writing [{}], existing type [{}], got [{}]&quot;</span>,
            <a href="#akka.cluster.ddata;Replicator.write.key" title="String">key</a>, <a href="#akka.cluster.ddata;Replicator.write.existing" title="akka.cluster.ddata.ReplicatedData">existing</a>.<span title="()Class[_]">getClass</span>.<span title="()String">getName</span>, <a href="#akka.cluster.ddata;Replicator.write.writeEnvelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">writeEnvelope</a>.<a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.data" title="=&gt; akka.cluster.ddata.ReplicatedData">data</a>.<span title="()Class[_]">getClass</span>.<span title="()String">getName</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      case <span title="None.type">None</span> ⇒
        <a href="#akka.cluster.ddata;Replicator.setData" title="(key: String, envelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)Unit">setData</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.write.key" title="String">key</a>, <a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(a53e191b8b)" title="(envelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)akka.cluster.ddata.Replicator.Internal.DataEnvelope">pruningCleanupTombstoned</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.write.writeEnvelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">writeEnvelope</a><span class="delimiter">)</span>.<a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.addSeen" title="(node: akka.actor.Address)akka.cluster.ddata.Replicator.Internal.DataEnvelope">addSeen</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.selfAddress" title="=&gt; akka.actor.Address">selfAddress</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  def <a title="(key: String, writeEnvelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)Unit" id="akka.cluster.ddata;Replicator.receiveReadRepair">receiveReadRepair</a><span class="delimiter">(</span><a title="String" id="akka.cluster.ddata;Replicator.receiveReadRepair.key">key</a>: <span title="String">String</span>, <a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata;Replicator.receiveReadRepair.writeEnvelope">writeEnvelope</a>: <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.readResolve" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">DataEnvelope</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#akka.cluster.ddata;Replicator.write" title="(key: String, writeEnvelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)Unit">write</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveReadRepair.key" title="String">key</a>, <a href="#akka.cluster.ddata;Replicator.receiveReadRepair.writeEnvelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">writeEnvelope</a><span class="delimiter">)</span>
    <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef" class="delimiter">(</a><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.ddata.Replicator.Internal.ReadRepairAck.readResolve" title="akka.cluster.ddata.Replicator.Internal.ReadRepairAck.type">ReadRepairAck</a>
  <span class="delimiter">}</span>

  def <a title="()Unit" id="akka.cluster.ddata;Replicator.receiveGetKeyIds">receiveGetKeyIds</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    val <a title="Set[String]" id="akka.cluster.ddata;Replicator.receiveGetKeyIds.keys">keys</a>: <span title="Set[String]">Set</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#akka.cluster.ddata;Replicator.dataEntries_=" title="=&gt; scala.collection.immutable.Map[String,(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)]">dataEntries</a>.<span title="(pf: PartialFunction[(String, (akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)),String])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[String,(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)],String,Set[String]])Set[String]">collect</span> <a title="&lt;$anon: ((String, (akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest))) =&gt; String&gt; extends scala.runtime.AbstractPartialFunction[(String, (akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)),String] with Serializable" id="akka.cluster.ddata;Replicator.receiveGetKeyIds.keys;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
      case <span class="delimiter">(</span><a title="String" id="akka.cluster.ddata;Replicator.receiveGetKeyIds.keys;$anonfun.isDefinedAt.key">key</a>, <span class="delimiter">(</span>DataEnvelope<span class="delimiter">(</span><a title="akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata;Replicator.receiveGetKeyIds.keys;$anonfun.isDefinedAt.data">data</a>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span><span class="delimiter">)</span> if <a href="#akka.cluster.ddata;Replicator.receiveGetKeyIds.keys;$anonfun.isDefinedAt.data" title="akka.cluster.ddata.ReplicatedData">data</a> <span title="(x$1: Any)Boolean">!=</span> <a href="#akka.cluster.ddata.Replicator.Internal.DeletedData.readResolve" title="akka.cluster.ddata.Replicator.Internal.DeletedData.type">DeletedData</a> ⇒ <a href="#akka.cluster.ddata;Replicator.receiveGetKeyIds.keys;$anonfun.isDefinedAt.key" title="String">key</a>
    <span class="delimiter">}</span><span class="delimiter">(</span>collection.<span title="(implicit b: scala.collection.generic.CanBuildFrom[Nothing,String,Set[String]])scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[String,(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)],String,Set[String]]">breakOut</span><span class="delimiter">)</span>
    <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef" class="delimiter">(</a><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.ddata.Replicator.GetKeyIdsResult.readResolve" title="(keyIds: Set[String])akka.cluster.ddata.Replicator.GetKeyIdsResult">GetKeyIdsResult</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveGetKeyIds.keys" title="Set[String]">keys</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(key: akka.cluster.ddata.Key.KeyR, consistency: akka.cluster.ddata.Replicator.WriteConsistency)Unit" id="akka.cluster.ddata;Replicator.receiveDelete">receiveDelete</a><span class="delimiter">(</span><a title="akka.cluster.ddata.Key.KeyR" id="akka.cluster.ddata;Replicator.receiveDelete.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key.KeyR">KeyR</a>, <a title="akka.cluster.ddata.Replicator.WriteConsistency" id="akka.cluster.ddata;Replicator.receiveDelete.consistency">consistency</a>: <a href="#akka.cluster.ddata.Replicator;WriteConsistency" title="akka.cluster.ddata.Replicator.WriteConsistency">WriteConsistency</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#akka.cluster.ddata;Replicator.getData" title="(key: String)Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]">getData</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveDelete.key" title="akka.cluster.ddata.Key.KeyR">key</a>.<a href="Key.scala.html#akka.cluster.ddata;Key.id" title="=&gt; String">id</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case Some<span class="delimiter">(</span>DataEnvelope<span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.Internal.DeletedData.readResolve" title="akka.cluster.ddata.Replicator.Internal.DeletedData.type">DeletedData</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> ⇒
        <span class="comment">// already deleted</span>
        <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef" class="delimiter">(</a><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.ddata.Replicator.DataDeleted.readResolve" title="(key: akka.cluster.ddata.Key[akka.cluster.ddata.ReplicatedData])akka.cluster.ddata.Replicator.DataDeleted[akka.cluster.ddata.ReplicatedData]">DataDeleted</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveDelete.key" title="akka.cluster.ddata.Key.KeyR">key</a><span class="delimiter">)</span>
      case _ ⇒
        <a href="#akka.cluster.ddata;Replicator.setData" title="(key: String, envelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)Unit">setData</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveDelete.key" title="akka.cluster.ddata.Key.KeyR">key</a>.<a href="Key.scala.html#akka.cluster.ddata;Key.id" title="=&gt; String">id</a>, <a href="#akka.cluster.ddata.Replicator.Internal.DeletedEnvelope" title="=&gt; akka.cluster.ddata.Replicator.Internal.DataEnvelope">DeletedEnvelope</a><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.isLocalUpdate" title="(writeConsistency: akka.cluster.ddata.Replicator.WriteConsistency)Boolean">isLocalUpdate</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveDelete.consistency" title="akka.cluster.ddata.Replicator.WriteConsistency">consistency</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef" class="delimiter">(</a><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.ddata.Replicator.DeleteSuccess.readResolve" title="(key: akka.cluster.ddata.Key[akka.cluster.ddata.ReplicatedData])akka.cluster.ddata.Replicator.DeleteSuccess[akka.cluster.ddata.ReplicatedData]">DeleteSuccess</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveDelete.key" title="akka.cluster.ddata.Key.KeyR">key</a><span class="delimiter">)</span>
        else
          <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.actorOf(59f1e43182)" title="(props: akka.actor.Props)akka.actor.ActorRef">actorOf</a><span title="Unit" class="delimiter">(</span><a href="#akka.cluster.ddata.WriteAggregator" title="akka.cluster.ddata.WriteAggregator.type">WriteAggregator</a>.<a href="#akka.cluster.ddata.WriteAggregator.props" title="(key: akka.cluster.ddata.Key.KeyR, envelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope, consistency: akka.cluster.ddata.Replicator.WriteConsistency, req: Option[Any], nodes: Set[akka.actor.Address], replyTo: akka.actor.ActorRef)akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveDelete.key" title="akka.cluster.ddata.Key.KeyR">key</a>, <a href="#akka.cluster.ddata.Replicator.Internal.DeletedEnvelope" title="=&gt; akka.cluster.ddata.Replicator.Internal.DataEnvelope">DeletedEnvelope</a>, <a href="#akka.cluster.ddata;Replicator.receiveDelete.consistency" title="akka.cluster.ddata.Replicator.WriteConsistency">consistency</a>, <span title="None.type">None</span>, <a href="#akka.cluster.ddata;Replicator.nodes_=" title="=&gt; Set[akka.actor.Address]">nodes</a>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
            .<a href="../../../../actor/akka/actor/Props.scala.html#akka.actor;Props.withDispatcher" title="(d: String)akka.actor.Props">withDispatcher</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.props" title="=&gt; akka.actor.Props">props</a>.<a href="../../../../actor/akka/actor/Props.scala.html#akka.actor;Props.dispatcher" title="=&gt; String">dispatcher</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(key: String, envelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)Unit" id="akka.cluster.ddata;Replicator.setData">setData</a><span class="delimiter">(</span><a title="String" id="akka.cluster.ddata;Replicator.setData.key">key</a>: <span title="String">String</span>, <a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata;Replicator.setData.envelope">envelope</a>: <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.readResolve" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">DataEnvelope</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    val <a title="akka.cluster.ddata.Replicator.Internal.Digest" id="akka.cluster.ddata;Replicator.setData.dig">dig</a> =
      if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.subscribers" title="=&gt; scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]] with scala.collection.mutable.MultiMap[String,akka.actor.ActorRef]">subscribers</a>.<span title="(key: String)Boolean">contains</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.setData.key" title="String">key</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#akka.cluster.ddata;Replicator.changed_=" title="=&gt; scala.collection.immutable.Set[String]">changed</a>.<span title="(elem: String)Boolean">contains</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.setData.key" title="String">key</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        val <a title="akka.cluster.ddata.Replicator.Internal.Digest" id="akka.cluster.ddata;Replicator.setData.dig.oldDigest">oldDigest</a> = <a href="#akka.cluster.ddata;Replicator.getDigest" title="(key: String)akka.cluster.ddata.Replicator.Internal.Digest">getDigest</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.setData.key" title="String">key</a><span class="delimiter">)</span>
        val <a title="akka.cluster.ddata.Replicator.Internal.Digest" id="akka.cluster.ddata;Replicator.setData.dig.dig">dig</a> = <a href="#akka.cluster.ddata;Replicator.digest" title="(envelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)akka.cluster.ddata.Replicator.Internal.Digest">digest</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.setData.envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.setData.dig.dig" title="akka.cluster.ddata.Replicator.Internal.Digest">dig</a> <span title="(x$1: Any)Boolean">!=</span> <a href="#akka.cluster.ddata;Replicator.setData.dig.oldDigest" title="akka.cluster.ddata.Replicator.Internal.Digest">oldDigest</a><span class="delimiter">)</span>
          <a href="#akka.cluster.ddata;Replicator.changed_=" title="(x$1: scala.collection.immutable.Set[String])Unit">changed</a> <span title="(elem: String)scala.collection.immutable.Set[String]">+=</span> <a href="#akka.cluster.ddata;Replicator.setData.key" title="String">key</a> <span class="comment">// notify subscribers, later</span>
        <a href="#akka.cluster.ddata;Replicator.setData.dig.dig" title="akka.cluster.ddata.Replicator.Internal.Digest">dig</a>
      <span class="delimiter">}</span> else if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.setData.envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a>.<a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.data" title="=&gt; akka.cluster.ddata.ReplicatedData">data</a> <span title="(x$1: Any)Boolean">==</span> <a href="#akka.cluster.ddata.Replicator.Internal.DeletedData.readResolve" title="akka.cluster.ddata.Replicator.Internal.DeletedData.type">DeletedData</a><span class="delimiter">)</span> <a href="#akka.cluster.ddata.Replicator.Internal.DeletedDigest" title="=&gt; akka.cluster.ddata.Replicator.Internal.Digest">DeletedDigest</a>
      else <a href="#akka.cluster.ddata.Replicator.Internal.LazyDigest" title="=&gt; akka.cluster.ddata.Replicator.Internal.Digest">LazyDigest</a>

    <a href="#akka.cluster.ddata;Replicator.dataEntries_=" title="(x$1: scala.collection.immutable.Map[String,(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)])Unit">dataEntries</a> = <a href="#akka.cluster.ddata;Replicator.dataEntries_=" title="=&gt; scala.collection.immutable.Map[String,(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)]">dataEntries</a>.<span title="(key: String, value: (akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest))scala.collection.immutable.Map[String,(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)]">updated</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.setData.key" title="String">key</a>, <span title="(_1: akka.cluster.ddata.Replicator.Internal.DataEnvelope, _2: akka.cluster.ddata.Replicator.Internal.Digest)(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)" class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.setData.envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a>, <a href="#akka.cluster.ddata;Replicator.setData.dig" title="akka.cluster.ddata.Replicator.Internal.Digest">dig</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(key: String)akka.cluster.ddata.Replicator.Internal.Digest" id="akka.cluster.ddata;Replicator.getDigest">getDigest</a><span class="delimiter">(</span><a title="String" id="akka.cluster.ddata;Replicator.getDigest.key">key</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../actor/akka/util/ByteString.scala.html#akka.util;ByteString" title="akka.cluster.ddata.Replicator.Internal.Digest">Digest</a> = <span class="delimiter">{</span>
    <a href="#akka.cluster.ddata;Replicator.dataEntries_=" title="=&gt; scala.collection.immutable.Map[String,(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)]">dataEntries</a>.<span title="(key: String)Option[(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)]">get</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.getDigest.key" title="String">key</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case Some<span class="delimiter">(</span><span class="delimiter">(</span><a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata;Replicator.getDigest.envelope">envelope</a>, <a href="#akka.cluster.ddata.Replicator.Internal.LazyDigest" title="=&gt; akka.cluster.ddata.Replicator.Internal.Digest">LazyDigest</a><span class="delimiter">)</span><span class="delimiter">)</span> ⇒
        val <a title="akka.cluster.ddata.Replicator.Internal.Digest" id="akka.cluster.ddata;Replicator.getDigest.d">d</a> = <a href="#akka.cluster.ddata;Replicator.digest" title="(envelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)akka.cluster.ddata.Replicator.Internal.Digest">digest</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.getDigest.envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a><span class="delimiter">)</span>
        <a href="#akka.cluster.ddata;Replicator.dataEntries_=" title="(x$1: scala.collection.immutable.Map[String,(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)])Unit">dataEntries</a> = <a href="#akka.cluster.ddata;Replicator.dataEntries_=" title="=&gt; scala.collection.immutable.Map[String,(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)]">dataEntries</a>.<span title="(key: String, value: (akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest))scala.collection.immutable.Map[String,(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)]">updated</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.getDigest.key" title="String">key</a>, <span title="(_1: akka.cluster.ddata.Replicator.Internal.DataEnvelope, _2: akka.cluster.ddata.Replicator.Internal.Digest)(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)" class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.getDigest.envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a>, <a href="#akka.cluster.ddata;Replicator.getDigest.d" title="akka.cluster.ddata.Replicator.Internal.Digest">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#akka.cluster.ddata;Replicator.getDigest.d" title="akka.cluster.ddata.Replicator.Internal.Digest">d</a>
      case Some<span class="delimiter">(</span><span class="delimiter">(</span>_, <a title="akka.cluster.ddata.Replicator.Internal.Digest" id="akka.cluster.ddata;Replicator.getDigest.digest">digest</a><span class="delimiter">)</span><span class="delimiter">)</span> ⇒ <a href="#akka.cluster.ddata;Replicator.getDigest.digest" title="akka.cluster.ddata.Replicator.Internal.Digest">digest</a>
      case <span title="None.type">None</span>              ⇒ <a href="#akka.cluster.ddata.Replicator.Internal.NotFoundDigest" title="=&gt; akka.cluster.ddata.Replicator.Internal.Digest">NotFoundDigest</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(envelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)akka.cluster.ddata.Replicator.Internal.Digest" id="akka.cluster.ddata;Replicator.digest">digest</a><span class="delimiter">(</span><a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata;Replicator.digest.envelope">envelope</a>: <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.readResolve" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">DataEnvelope</a><span class="delimiter">)</span>: <a href="../../../../actor/akka/util/ByteString.scala.html#akka.util;ByteString" title="akka.cluster.ddata.Replicator.Internal.Digest">Digest</a> =
    if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.digest.envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a>.<a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.data" title="=&gt; akka.cluster.ddata.ReplicatedData">data</a> <span title="(x$1: Any)Boolean">==</span> <a href="#akka.cluster.ddata.Replicator.Internal.DeletedData.readResolve" title="akka.cluster.ddata.Replicator.Internal.DeletedData.type">DeletedData</a><span class="delimiter">)</span> <a href="#akka.cluster.ddata.Replicator.Internal.DeletedDigest" title="=&gt; akka.cluster.ddata.Replicator.Internal.Digest">DeletedDigest</a>
    else <span class="delimiter">{</span>
      val <a title="Array[Byte]" id="akka.cluster.ddata;Replicator.digest.bytes">bytes</a> = <a href="#akka.cluster.ddata;Replicator.serializer" title="=&gt; akka.serialization.Serializer">serializer</a>.<a href="../../../../actor/akka/serialization/Serializer.scala.html#akka.serialization;Serializer.toBinary" title="(o: AnyRef)Array[Byte]">toBinary</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.digest.envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a><span class="delimiter">)</span>
      <a href="../../../../actor/akka/util/ByteString.scala.html#akka.util.ByteString" title="akka.util.ByteString.type">ByteString</a>.<a href="../../../../actor/akka/util/ByteString.scala.html#akka.util.ByteString.fromArray(3440566c80)" title="(array: Array[Byte])akka.util.ByteString">fromArray</a><span class="delimiter">(</span><span title="java.security.MessageDigest.type">MessageDigest</span>.<span title="(x$1: String)java.security.MessageDigest">getInstance</span><span class="delimiter">(</span><span title="String(&quot;SHA-1&quot;)" class="string">&quot;SHA-1&quot;</span><span class="delimiter">)</span>.<span title="(x$1: Array[Byte])Array[Byte]">digest</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.digest.bytes" title="Array[Byte]">bytes</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  def <a title="(key: String)Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]" id="akka.cluster.ddata;Replicator.getData">getData</a><span class="delimiter">(</span><a title="String" id="akka.cluster.ddata;Replicator.getData.key">key</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]">Option</span><span class="delimiter">[</span>DataEnvelope<span class="delimiter">]</span> = <a href="#akka.cluster.ddata;Replicator.dataEntries_=" title="=&gt; scala.collection.immutable.Map[String,(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)]">dataEntries</a>.<span title="(key: String)Option[(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)]">get</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.getData.key" title="String">key</a><span class="delimiter">)</span>.<span title="(f: ((akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)) =&gt; akka.cluster.ddata.Replicator.Internal.DataEnvelope)Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]">map</span> <a href="#akka.cluster.ddata;Replicator.getData.$anonfun.x0$5" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" class="delimiter">{</a> case <span class="delimiter">(</span><a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata;Replicator.getData.$anonfun.envelope">envelope</a>, _<span class="delimiter">)</span> ⇒ <a href="#akka.cluster.ddata;Replicator.getData.$anonfun.envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a> <span class="delimiter">}</span>

  def <a title="()Unit" id="akka.cluster.ddata;Replicator.receiveFlushChanges">receiveFlushChanges</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    def <a title="(keyId: String, subs: scala.collection.mutable.Set[akka.actor.ActorRef])Unit" id="akka.cluster.ddata;Replicator.receiveFlushChanges.notify">notify</a><span class="delimiter">(</span><a title="String" id="akka.cluster.ddata;Replicator.receiveFlushChanges.notify.keyId">keyId</a>: <span title="String">String</span>, <a title="scala.collection.mutable.Set[akka.actor.ActorRef]" id="akka.cluster.ddata;Replicator.receiveFlushChanges.notify.subs">subs</a>: mutable.<span title="scala.collection.mutable.Set[akka.actor.ActorRef]">Set</span><span class="delimiter">[</span>ActorRef<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      val <a title="akka.cluster.ddata.Key.KeyR" id="akka.cluster.ddata;Replicator.receiveFlushChanges.notify.key">key</a> = <a href="#akka.cluster.ddata;Replicator.subscriptionKeys_=" title="(key: String)akka.cluster.ddata.Key.KeyR">subscriptionKeys</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveFlushChanges.notify.keyId" title="String">keyId</a><span class="delimiter">)</span>
      <a href="#akka.cluster.ddata;Replicator.getData" title="(key: String)Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]">getData</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveFlushChanges.notify.keyId" title="String">keyId</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
        case Some<span class="delimiter">(</span><a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata;Replicator.receiveFlushChanges.notify.envelope">envelope</a><span class="delimiter">)</span> ⇒
          val <a title="&lt;refinement of Product&gt; extends Product with Serializable with Object" id="akka.cluster.ddata;Replicator.receiveFlushChanges.notify.msg">msg</a> = if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveFlushChanges.notify.envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a>.<a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.data" title="=&gt; akka.cluster.ddata.ReplicatedData">data</a> <span title="(x$1: Any)Boolean">==</span> <a href="#akka.cluster.ddata.Replicator.Internal.DeletedData.readResolve" title="akka.cluster.ddata.Replicator.Internal.DeletedData.type">DeletedData</a><span class="delimiter">)</span> <a href="#akka.cluster.ddata.Replicator.DataDeleted.readResolve" title="(key: akka.cluster.ddata.Key[akka.cluster.ddata.ReplicatedData])akka.cluster.ddata.Replicator.DataDeleted[akka.cluster.ddata.ReplicatedData]">DataDeleted</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveFlushChanges.notify.key" title="akka.cluster.ddata.Key.KeyR">key</a><span class="delimiter">)</span> else <a href="#akka.cluster.ddata.Replicator.Changed.readResolve" title="(key: akka.cluster.ddata.Key[akka.cluster.ddata.ReplicatedData])(data: akka.cluster.ddata.ReplicatedData)akka.cluster.ddata.Replicator.Changed[akka.cluster.ddata.ReplicatedData]">Changed</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveFlushChanges.notify.key" title="akka.cluster.ddata.Key.KeyR">key</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveFlushChanges.notify.envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a>.<a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.data" title="=&gt; akka.cluster.ddata.ReplicatedData">data</a><span class="delimiter">)</span>
          <a href="#akka.cluster.ddata;Replicator.receiveFlushChanges.notify.subs" title="scala.collection.mutable.Set[akka.actor.ActorRef]">subs</a>.<span title="(f: akka.actor.ActorRef =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">_</a> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.ddata;Replicator.receiveFlushChanges.notify.msg" title="&lt;refinement of Product&gt; extends Product with Serializable with Object">msg</a> <span class="delimiter">}</span>
        case <span title="None.type">None</span> ⇒
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.subscribers" title="=&gt; scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]] with scala.collection.mutable.MultiMap[String,akka.actor.ActorRef]">subscribers</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      for <span class="delimiter">(</span><span title="String">key</span> ← <a href="#akka.cluster.ddata;Replicator.changed_=" title="(f: String =&gt; Unit)Unit">changed</a>; if <a href="#akka.cluster.ddata;Replicator.subscribers" title="=&gt; scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]] with scala.collection.mutable.MultiMap[String,akka.actor.ActorRef]">subscribers</a>.<span title="(key: String)Boolean">contains</span><span class="delimiter">(</span><span title="String">key</span><span class="delimiter">)</span>; <a title="scala.collection.mutable.Set[akka.actor.ActorRef]" id="akka.cluster.ddata;Replicator.receiveFlushChanges.$anonfun.$anonfun.subs">subs</a> ← <a href="#akka.cluster.ddata;Replicator.subscribers" title="=&gt; scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]] with scala.collection.mutable.MultiMap[String,akka.actor.ActorRef]">subscribers</a>.<span title="(key: String)Option[scala.collection.mutable.Set[akka.actor.ActorRef]]">get</span><span title="(f: scala.collection.mutable.Set[akka.actor.ActorRef] =&gt; Unit)Unit" class="delimiter">(</span><span title="String">key</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#akka.cluster.ddata;Replicator.receiveFlushChanges.notify" title="(keyId: String, subs: scala.collection.mutable.Set[akka.actor.ActorRef])Unit">notify</a><span class="delimiter">(</span><span title="String">key</span>, <a href="#akka.cluster.ddata;Replicator.receiveFlushChanges.$anonfun.$anonfun.subs" title="scala.collection.mutable.Set[akka.actor.ActorRef]">subs</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">// Changed event is sent to new subscribers even though the key has not changed,</span>
    <span class="comment">// i.e. send current value</span>
    if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.newSubscribers" title="=&gt; scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]] with scala.collection.mutable.MultiMap[String,akka.actor.ActorRef]">newSubscribers</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      for <span class="delimiter">(</span><span class="delimiter">(</span><span title="String">key</span>, <a title="scala.collection.mutable.Set[akka.actor.ActorRef]" id="akka.cluster.ddata;Replicator.receiveFlushChanges.$anonfun.subs">subs</a><span class="delimiter">)</span> ← <a href="#akka.cluster.ddata;Replicator.newSubscribers" title="(f: ((String, scala.collection.mutable.Set[akka.actor.ActorRef])) =&gt; Unit)Unit">newSubscribers</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#akka.cluster.ddata;Replicator.receiveFlushChanges.notify" title="(keyId: String, subs: scala.collection.mutable.Set[akka.actor.ActorRef])Unit">notify</a><span class="delimiter">(</span><span title="String">key</span>, <a href="#akka.cluster.ddata;Replicator.receiveFlushChanges.$anonfun.subs" title="scala.collection.mutable.Set[akka.actor.ActorRef]">subs</a><span class="delimiter">)</span>
        <a href="#akka.cluster.ddata;Replicator.receiveFlushChanges.$anonfun.subs" title="scala.collection.mutable.Set[akka.actor.ActorRef]">subs</a>.<span title="(f: akka.actor.ActorRef =&gt; scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]] with scala.collection.mutable.MultiMap[String,akka.actor.ActorRef])Unit">foreach</span> <span class="delimiter">{</span> <a href="#akka.cluster.ddata;Replicator.subscribers" title="=&gt; scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]] with scala.collection.mutable.MultiMap[String,akka.actor.ActorRef]">subscribers</a>.<span title="(key: String, value: akka.actor.ActorRef)akka.cluster.ddata.Replicator.&lt;refinement&gt;.type">addBinding</span><span class="delimiter">(</span><span title="String">key</span>, <a href="#akka.cluster.ddata;Replicator.receiveFlushChanges.$anonfun.$anonfun.x$4" title="akka.actor.ActorRef">_</a><span class="delimiter">)</span> <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#akka.cluster.ddata;Replicator.newSubscribers" title="=&gt; scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]] with scala.collection.mutable.MultiMap[String,akka.actor.ActorRef]">newSubscribers</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="#akka.cluster.ddata;Replicator.changed_=" title="(x$1: scala.collection.immutable.Set[String])Unit">changed</a> = <span title="=&gt; scala.collection.immutable.Set.type">Set</span>.<span title="[A]=&gt; scala.collection.immutable.Set[A]">empty</span><span title="scala.collection.immutable.Set[String]" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span>
  <span class="delimiter">}</span>

  def <a title="()Unit" id="akka.cluster.ddata;Replicator.receiveGossipTick">receiveGossipTick</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.cluster.ddata;Replicator.selectRandomNode" title="(addresses: scala.collection.immutable.IndexedSeq[akka.actor.Address])Option[akka.actor.Address]">selectRandomNode</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.nodes_=" title="=&gt; Set[akka.actor.Address]">nodes</a>.<span title="=&gt; Vector[akka.actor.Address]">toVector</span><span class="delimiter">)</span> <span title="(f: akka.actor.Address =&gt; Unit)Unit">foreach</span> <a href="#akka.cluster.ddata;Replicator.gossipTo" title="(address: akka.actor.Address)Unit">gossipTo</a>

  def <a title="(address: akka.actor.Address)Unit" id="akka.cluster.ddata;Replicator.gossipTo">gossipTo</a><span class="delimiter">(</span><a title="akka.actor.Address" id="akka.cluster.ddata;Replicator.gossipTo.address">address</a>: <a href="../../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    val <a title="akka.actor.ActorSelection" id="akka.cluster.ddata;Replicator.gossipTo.to">to</a> = <a href="#akka.cluster.ddata;Replicator.replica" title="(address: akka.actor.Address)akka.actor.ActorSelection">replica</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.gossipTo.address" title="akka.actor.Address">address</a><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.dataEntries_=" title="=&gt; scala.collection.immutable.Map[String,(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)]">dataEntries</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&lt;=</span> <a href="#akka.cluster.ddata;ReplicatorSettings.maxDeltaElements" title="=&gt; Int">maxDeltaElements</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      val <a title="akka.cluster.ddata.Replicator.Internal.Status" id="akka.cluster.ddata;Replicator.gossipTo.status">status</a> = <a href="#akka.cluster.ddata.Replicator.Internal.Status.readResolve" title="(digests: Map[String,akka.cluster.ddata.Replicator.Internal.Digest], chunk: Int, totChunks: Int)akka.cluster.ddata.Replicator.Internal.Status">Status</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.dataEntries_=" title="=&gt; scala.collection.immutable.Map[String,(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)]">dataEntries</a>.<span title="(f: ((String, (akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest))) =&gt; (String, akka.cluster.ddata.Replicator.Internal.Digest))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[String,(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)],(String, akka.cluster.ddata.Replicator.Internal.Digest),Map[String,akka.cluster.ddata.Replicator.Internal.Digest]])Map[String,akka.cluster.ddata.Replicator.Internal.Digest]">map</span> <a href="#akka.cluster.ddata;Replicator.gossipTo.status.$anonfun.x0$6" title="(String, akka.cluster.ddata.Replicator.Internal.Digest)" class="delimiter">{</a> case <span class="delimiter">(</span><a title="String" id="akka.cluster.ddata;Replicator.gossipTo.status.$anonfun.key">key</a>, <span class="delimiter">(</span>_, _<span class="delimiter">)</span><span class="delimiter">)</span> ⇒ <span title="(_1: String, _2: akka.cluster.ddata.Replicator.Internal.Digest)(String, akka.cluster.ddata.Replicator.Internal.Digest)" class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.gossipTo.status.$anonfun.key" title="String">key</a>, <a href="#akka.cluster.ddata;Replicator.getDigest" title="(key: String)akka.cluster.ddata.Replicator.Internal.Digest">getDigest</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.gossipTo.status.$anonfun.key" title="String">key</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>, chunk = <span title="Int(0)" class="int">0</span>, totChunks = <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      <a href="../../../../actor/akka/actor/ActorSelection.scala.html#akka.actor.ActorSelection.toScala" title="implicit akka.actor.ActorSelection.toScala : (sel: akka.actor.ActorSelection)akka.actor.ScalaActorSelection">to</a> <a href="../../../../actor/akka/actor/ActorSelection.scala.html#akka.actor;ScalaActorSelection.!" title="(msg: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.ddata;Replicator.gossipTo.status" title="akka.cluster.ddata.Replicator.Internal.Status">status</a>
    <span class="delimiter">}</span> else <span class="delimiter">{</span>
      val totChunks = <a href="#akka.cluster.ddata;Replicator.dataEntries_=" title="=&gt; scala.collection.immutable.Map[String,(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)]">dataEntries</a>.<span title="=&gt; Int">size</span> <a title="Int" id="akka.cluster.ddata;Replicator.gossipTo.totChunks">/</a> <a href="#akka.cluster.ddata;ReplicatorSettings.maxDeltaElements" title="=&gt; Int">maxDeltaElements</a>
      for <span class="delimiter">(</span><a title="Int" id="akka.cluster.ddata;Replicator.gossipTo.$anonfun._">_</a> ← <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">1</span> <span title="(f: Int =&gt; Unit)Unit">to</span> math.<span title="(x: Int, y: Int)Int">min</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.gossipTo.totChunks" title="Int">totChunks</a>, <span title="Int(10)" class="int">10</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.gossipTo.totChunks" title="Int">totChunks</a> <span title="(x: Int)Boolean">==</span> <a href="#akka.cluster.ddata;Replicator.statusTotChunks_=" title="=&gt; Int">statusTotChunks</a><span class="delimiter">)</span>
          <a href="#akka.cluster.ddata;Replicator.statusCount_=" title="(x$1: Long)Unit">statusCount</a> <span title="(x: Int)Long">+=</span> <span title="Int(1)" class="int">1</span>
        else <span class="delimiter">{</span>
          <a href="#akka.cluster.ddata;Replicator.statusCount_=" title="(x$1: Long)Unit">statusCount</a> = <span title="scala.concurrent.forkjoin.ThreadLocalRandom.type">ThreadLocalRandom</span>.<span title="()scala.concurrent.forkjoin.ThreadLocalRandom">current</span>.<span title="(x$1: Int, x$2: Int)Int">nextInt</span><span title="=&gt; Long" class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#akka.cluster.ddata;Replicator.gossipTo.totChunks" title="Int">totChunks</a><span class="delimiter">)</span>
          <a href="#akka.cluster.ddata;Replicator.statusTotChunks_=" title="(x$1: Int)Unit">statusTotChunks</a> = <a href="#akka.cluster.ddata;Replicator.gossipTo.totChunks" title="Int">totChunks</a>
        <span class="delimiter">}</span>
        val <a title="Int" id="akka.cluster.ddata;Replicator.gossipTo.$anonfun.chunk">chunk</a> = <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.statusCount_=" title="=&gt; Long">statusCount</a> <span title="(x: Int)Long">%</span> <a href="#akka.cluster.ddata;Replicator.gossipTo.totChunks" title="Int">totChunks</a><span class="delimiter">)</span>.<span title="=&gt; Int">toInt</span>
        val <a title="akka.cluster.ddata.Replicator.Internal.Status" id="akka.cluster.ddata;Replicator.gossipTo.$anonfun.status">status</a> = <a href="#akka.cluster.ddata.Replicator.Internal.Status.readResolve" title="(digests: Map[String,akka.cluster.ddata.Replicator.Internal.Digest], chunk: Int, totChunks: Int)akka.cluster.ddata.Replicator.Internal.Status">Status</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.dataEntries_=" title="=&gt; scala.collection.immutable.Map[String,(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)]">dataEntries</a>.<span title="(pf: PartialFunction[(String, (akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)),(String, akka.cluster.ddata.Replicator.Internal.Digest)])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[String,(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)],(String, akka.cluster.ddata.Replicator.Internal.Digest),Map[String,akka.cluster.ddata.Replicator.Internal.Digest]])Map[String,akka.cluster.ddata.Replicator.Internal.Digest]">collect</span> <a title="&lt;$anon: ((String, (akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest))) =&gt; (String, akka.cluster.ddata.Replicator.Internal.Digest)&gt; extends scala.runtime.AbstractPartialFunction[(String, (akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)),(String, akka.cluster.ddata.Replicator.Internal.Digest)] with Serializable" id="akka.cluster.ddata;Replicator.gossipTo.$anonfun.status;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
          case <span class="delimiter">(</span><a title="String" id="akka.cluster.ddata;Replicator.gossipTo.$anonfun.status;$anonfun.isDefinedAt.key">key</a>, <span class="delimiter">(</span>_, _<span class="delimiter">)</span><span class="delimiter">)</span> if math.<span title="(x: Int)Int">abs</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.gossipTo.$anonfun.status;$anonfun.isDefinedAt.key" title="String">key</a>.<span title="()Int">hashCode</span><span class="delimiter">)</span> <span title="(x: Int)Int">%</span> <a href="#akka.cluster.ddata;Replicator.gossipTo.totChunks" title="Int">totChunks</a> <span title="(x: Int)Boolean">==</span> <a href="#akka.cluster.ddata;Replicator.gossipTo.$anonfun.chunk" title="Int">chunk</a> ⇒ <span title="(_1: String, _2: akka.cluster.ddata.Replicator.Internal.Digest)(String, akka.cluster.ddata.Replicator.Internal.Digest)" class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.gossipTo.$anonfun.status;$anonfun.isDefinedAt.key" title="String">key</a>, <a href="#akka.cluster.ddata;Replicator.getDigest" title="(key: String)akka.cluster.ddata.Replicator.Internal.Digest">getDigest</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.gossipTo.$anonfun.status;$anonfun.isDefinedAt.key" title="String">key</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>, <a href="#akka.cluster.ddata;Replicator.gossipTo.$anonfun.chunk" title="Int">chunk</a>, <a href="#akka.cluster.ddata;Replicator.gossipTo.totChunks" title="Int">totChunks</a><span class="delimiter">)</span>
        <a href="../../../../actor/akka/actor/ActorSelection.scala.html#akka.actor.ActorSelection.toScala" title="implicit akka.actor.ActorSelection.toScala : (sel: akka.actor.ActorSelection)akka.actor.ScalaActorSelection">to</a> <a href="../../../../actor/akka/actor/ActorSelection.scala.html#akka.actor;ScalaActorSelection.!" title="(msg: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.ddata;Replicator.gossipTo.$anonfun.status" title="akka.cluster.ddata.Replicator.Internal.Status">status</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(addresses: scala.collection.immutable.IndexedSeq[akka.actor.Address])Option[akka.actor.Address]" id="akka.cluster.ddata;Replicator.selectRandomNode">selectRandomNode</a><span class="delimiter">(</span><a title="scala.collection.immutable.IndexedSeq[akka.actor.Address]" id="akka.cluster.ddata;Replicator.selectRandomNode.addresses">addresses</a>: immutable.<span title="scala.collection.immutable.IndexedSeq[akka.actor.Address]">IndexedSeq</span><span class="delimiter">[</span>Address<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[akka.actor.Address]">Option</span><span class="delimiter">[</span>Address<span class="delimiter">]</span> =
    if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.selectRandomNode.addresses" title="scala.collection.immutable.IndexedSeq[akka.actor.Address]">addresses</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="None.type">None</span> else <span title="(x: akka.actor.Address)Some[akka.actor.Address]">Some</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.selectRandomNode.addresses" title="(idx: Int)akka.actor.Address">addresses</a><span class="delimiter">(</span><span title="scala.concurrent.forkjoin.ThreadLocalRandom.type">ThreadLocalRandom</span>.<span title="()scala.concurrent.forkjoin.ThreadLocalRandom">current</span> <span title="(x$1: Int)Int">nextInt</span> <a href="#akka.cluster.ddata;Replicator.selectRandomNode.addresses" title="scala.collection.immutable.IndexedSeq[akka.actor.Address]">addresses</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span><span class="delimiter">)</span>

  def <a title="(address: akka.actor.Address)akka.actor.ActorSelection" id="akka.cluster.ddata;Replicator.replica">replica</a><span class="delimiter">(</span><a title="akka.actor.Address" id="akka.cluster.ddata;Replicator.replica.address">address</a>: <a href="../../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a><span class="delimiter">)</span>: <a href="../../../../actor/akka/actor/ActorSelection.scala.html#akka.actor;ActorSelection" title="akka.actor.ActorSelection">ActorSelection</a> =
    <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.actorSelection(271eeb39be)" title="(path: String)akka.actor.ActorSelection">actorSelection</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a>.<a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath.toStringWithAddress" title="(address: akka.actor.Address)String">toStringWithAddress</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.replica.address" title="akka.actor.Address">address</a><span class="delimiter">)</span><span class="delimiter">)</span>

  def <a title="(otherDigests: Map[String,akka.cluster.ddata.Replicator.Internal.Digest], chunk: Int, totChunks: Int)Unit" id="akka.cluster.ddata;Replicator.receiveStatus">receiveStatus</a><span class="delimiter">(</span><a title="Map[String,akka.cluster.ddata.Replicator.Internal.Digest]" id="akka.cluster.ddata;Replicator.receiveStatus.otherDigests">otherDigests</a>: <span title="Map[String,akka.cluster.ddata.Replicator.Internal.Digest]">Map</span><span class="delimiter">[</span>String, Digest<span class="delimiter">]</span>, <a title="Int" id="akka.cluster.ddata;Replicator.receiveStatus.chunk">chunk</a>: <span title="Int">Int</span>, <a title="Int" id="akka.cluster.ddata;Replicator.receiveStatus.totChunks">totChunks</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.isDebugEnabled" title="=&gt; Boolean">isDebugEnabled</a><span class="delimiter">)</span>
      <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.debug(2f8315b3c9)" title="(template: String, arg1: Any, arg2: Any, arg3: Any, arg4: Any)Unit">debug</a><span class="delimiter">(</span><span title="String(&quot;Received gossip status from [{}], chunk [{}] of [{}] containing [{}]&quot;)" class="string">&quot;Received gossip status from [{}], chunk [{}] of [{}] containing [{}]&quot;</span>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a>.<a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath.address" title="=&gt; akka.actor.Address">address</a>,
        <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveStatus.chunk" title="Int">chunk</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>, <a href="#akka.cluster.ddata;Replicator.receiveStatus.totChunks" title="Int">totChunks</a>, <a href="#akka.cluster.ddata;Replicator.receiveStatus.otherDigests" title="Map[String,akka.cluster.ddata.Replicator.Internal.Digest]">otherDigests</a>.<span title="=&gt; Iterable[String]">keys</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

    def <a title="(key: String, otherDigest: akka.cluster.ddata.Replicator.Internal.Digest)Boolean" id="akka.cluster.ddata;Replicator.receiveStatus.isOtherDifferent">isOtherDifferent</a><span class="delimiter">(</span><a title="String" id="akka.cluster.ddata;Replicator.receiveStatus.isOtherDifferent.key">key</a>: <span title="String">String</span>, <a title="akka.cluster.ddata.Replicator.Internal.Digest" id="akka.cluster.ddata;Replicator.receiveStatus.isOtherDifferent.otherDigest">otherDigest</a>: <a href="../../../../actor/akka/util/ByteString.scala.html#akka.util;ByteString" title="akka.cluster.ddata.Replicator.Internal.Digest">Digest</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      val <a title="akka.cluster.ddata.Replicator.Internal.Digest" id="akka.cluster.ddata;Replicator.receiveStatus.isOtherDifferent.d">d</a> = <a href="#akka.cluster.ddata;Replicator.getDigest" title="(key: String)akka.cluster.ddata.Replicator.Internal.Digest">getDigest</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveStatus.isOtherDifferent.key" title="String">key</a><span class="delimiter">)</span>
      <a href="#akka.cluster.ddata;Replicator.receiveStatus.isOtherDifferent.d" title="akka.cluster.ddata.Replicator.Internal.Digest">d</a> <span title="(x$1: Any)Boolean">!=</span> <a href="#akka.cluster.ddata.Replicator.Internal.NotFoundDigest" title="=&gt; akka.cluster.ddata.Replicator.Internal.Digest">NotFoundDigest</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#akka.cluster.ddata;Replicator.receiveStatus.isOtherDifferent.d" title="akka.cluster.ddata.Replicator.Internal.Digest">d</a> <span title="(x$1: Any)Boolean">!=</span> <a href="#akka.cluster.ddata;Replicator.receiveStatus.isOtherDifferent.otherDigest" title="akka.cluster.ddata.Replicator.Internal.Digest">otherDigest</a>
    <span class="delimiter">}</span>
    val <a title="scala.collection.immutable.Iterable[String]" id="akka.cluster.ddata;Replicator.receiveStatus.otherDifferentKeys">otherDifferentKeys</a> = <a href="#akka.cluster.ddata;Replicator.receiveStatus.otherDigests" title="Map[String,akka.cluster.ddata.Replicator.Internal.Digest]">otherDigests</a>.<span title="(pf: PartialFunction[(String, akka.cluster.ddata.Replicator.Internal.Digest),String])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[String,akka.cluster.ddata.Replicator.Internal.Digest],String,scala.collection.immutable.Iterable[String]])scala.collection.immutable.Iterable[String]">collect</span> <a title="&lt;$anon: ((String, akka.cluster.ddata.Replicator.Internal.Digest)) =&gt; String&gt; extends scala.runtime.AbstractPartialFunction[(String, akka.cluster.ddata.Replicator.Internal.Digest),String] with Serializable" id="akka.cluster.ddata;Replicator.receiveStatus.otherDifferentKeys;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
      case <span class="delimiter">(</span><a title="String" id="akka.cluster.ddata;Replicator.receiveStatus.otherDifferentKeys;$anonfun.isDefinedAt.key">key</a>, <a title="akka.cluster.ddata.Replicator.Internal.Digest" id="akka.cluster.ddata;Replicator.receiveStatus.otherDifferentKeys;$anonfun.isDefinedAt.otherDigest">otherDigest</a><span class="delimiter">)</span> if <a href="#akka.cluster.ddata;Replicator.receiveStatus.isOtherDifferent" title="(key: String, otherDigest: akka.cluster.ddata.Replicator.Internal.Digest)Boolean">isOtherDifferent</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveStatus.otherDifferentKeys;$anonfun.isDefinedAt.key" title="String">key</a>, <a href="#akka.cluster.ddata;Replicator.receiveStatus.otherDifferentKeys;$anonfun.isDefinedAt.otherDigest" title="akka.cluster.ddata.Replicator.Internal.Digest">otherDigest</a><span class="delimiter">)</span> ⇒ <a href="#akka.cluster.ddata;Replicator.receiveStatus.otherDifferentKeys;$anonfun.isDefinedAt.key" title="String">key</a>
    <span class="delimiter">}</span>
    val <a title="scala.collection.immutable.Set[String]" id="akka.cluster.ddata;Replicator.receiveStatus.otherKeys">otherKeys</a> = <a href="#akka.cluster.ddata;Replicator.receiveStatus.otherDigests" title="Map[String,akka.cluster.ddata.Replicator.Internal.Digest]">otherDigests</a>.<span title="=&gt; scala.collection.immutable.Set[String]">keySet</span>
    val <a title="scala.collection.immutable.Set[String]" id="akka.cluster.ddata;Replicator.receiveStatus.myKeys">myKeys</a> =
      if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveStatus.totChunks" title="Int">totChunks</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#akka.cluster.ddata;Replicator.dataEntries_=" title="=&gt; scala.collection.immutable.Map[String,(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)]">dataEntries</a>.<span title="=&gt; scala.collection.immutable.Set[String]">keySet</span>
      else <a href="#akka.cluster.ddata;Replicator.dataEntries_=" title="=&gt; scala.collection.immutable.Map[String,(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)]">dataEntries</a>.<span title="=&gt; Iterator[String]">keysIterator</span>.<span title="(p: String =&gt; Boolean)Iterator[String]">filter</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveStatus.myKeys.$anonfun.x$6" title="String">_</a>.<span title="()Int">hashCode</span> <span title="(x: Int)Int">%</span> <a href="#akka.cluster.ddata;Replicator.receiveStatus.totChunks" title="Int">totChunks</a> <span title="(x: Int)Boolean">==</span> <a href="#akka.cluster.ddata;Replicator.receiveStatus.chunk" title="Int">chunk</a><span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[String]">toSet</span>
    val otherMissingKeys = <a href="#akka.cluster.ddata;Replicator.receiveStatus.myKeys" title="scala.collection.immutable.Set[String]">myKeys</a> <a title="scala.collection.immutable.Set[String]" id="akka.cluster.ddata;Replicator.receiveStatus.otherMissingKeys">--</a> <a href="#akka.cluster.ddata;Replicator.receiveStatus.otherKeys" title="scala.collection.immutable.Set[String]">otherKeys</a>
    val <a title="scala.collection.immutable.Iterable[String]" id="akka.cluster.ddata;Replicator.receiveStatus.keys">keys</a> = <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveStatus.otherDifferentKeys" title="scala.collection.immutable.Iterable[String]">otherDifferentKeys</a> <span title="(that: scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Iterable[String],String,scala.collection.immutable.Iterable[String]])scala.collection.immutable.Iterable[String]">++</span> <a href="#akka.cluster.ddata;Replicator.receiveStatus.otherMissingKeys" title="scala.collection.immutable.Set[String]">otherMissingKeys</a><span class="delimiter">)</span>.<span title="(n: Int)scala.collection.immutable.Iterable[String]">take</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;ReplicatorSettings.maxDeltaElements" title="=&gt; Int">maxDeltaElements</a><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveStatus.keys" title="scala.collection.immutable.Iterable[String]">keys</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.isDebugEnabled" title="=&gt; Boolean">isDebugEnabled</a><span class="delimiter">)</span>
        <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.debug(2f488eb77c)" title="(template: String, arg1: Any, arg2: Any)Unit">debug</a><span class="delimiter">(</span><span title="String(&quot;Sending gossip to [{}], containing [{}]&quot;)" class="string">&quot;Sending gossip to [{}], containing [{}]&quot;</span>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a>.<a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath.address" title="=&gt; akka.actor.Address">address</a>, <a href="#akka.cluster.ddata;Replicator.receiveStatus.keys" title="scala.collection.immutable.Iterable[String]">keys</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      val <a title="akka.cluster.ddata.Replicator.Internal.Gossip" id="akka.cluster.ddata;Replicator.receiveStatus.g">g</a> = <a href="#akka.cluster.ddata.Replicator.Internal.Gossip.readResolve" title="(updatedData: Map[String,akka.cluster.ddata.Replicator.Internal.DataEnvelope], sendBack: Boolean)akka.cluster.ddata.Replicator.Internal.Gossip">Gossip</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveStatus.keys" title="scala.collection.immutable.Iterable[String]">keys</a>.<span title="(f: String =&gt; (String, akka.cluster.ddata.Replicator.Internal.DataEnvelope))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Iterable[String],(String, akka.cluster.ddata.Replicator.Internal.DataEnvelope),Map[String,akka.cluster.ddata.Replicator.Internal.DataEnvelope]])Map[String,akka.cluster.ddata.Replicator.Internal.DataEnvelope]">map</span><span class="delimiter">(</span><a title="String" id="akka.cluster.ddata;Replicator.receiveStatus.g.$anonfun.k">k</a> ⇒ <a href="#akka.cluster.ddata;Replicator.receiveStatus.g.$anonfun.k" title="(self: String)ArrowAssoc[String]">k</a> <span title="(y: akka.cluster.ddata.Replicator.Internal.DataEnvelope)(String, akka.cluster.ddata.Replicator.Internal.DataEnvelope)">-&gt;</span> <a href="#akka.cluster.ddata;Replicator.getData" title="(key: String)Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]">getData</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveStatus.g.$anonfun.k" title="String">k</a><span class="delimiter">)</span>.<span title="=&gt; akka.cluster.ddata.Replicator.Internal.DataEnvelope">get</span><span class="delimiter">)</span><span class="delimiter">(</span>collection.<span title="(implicit b: scala.collection.generic.CanBuildFrom[Nothing,(String, akka.cluster.ddata.Replicator.Internal.DataEnvelope),Map[String,akka.cluster.ddata.Replicator.Internal.DataEnvelope]])scala.collection.generic.CanBuildFrom[scala.collection.immutable.Iterable[String],(String, akka.cluster.ddata.Replicator.Internal.DataEnvelope),Map[String,akka.cluster.ddata.Replicator.Internal.DataEnvelope]]">breakOut</span><span class="delimiter">)</span>, sendBack = <a href="#akka.cluster.ddata;Replicator.receiveStatus.otherDifferentKeys" title="scala.collection.immutable.Iterable[String]">otherDifferentKeys</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
      <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef" class="delimiter">(</a><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.ddata;Replicator.receiveStatus.g" title="akka.cluster.ddata.Replicator.Internal.Gossip">g</a>
    <span class="delimiter">}</span>
    val myMissingKeys = <a href="#akka.cluster.ddata;Replicator.receiveStatus.otherKeys" title="scala.collection.immutable.Set[String]">otherKeys</a> <a title="scala.collection.immutable.Set[String]" id="akka.cluster.ddata;Replicator.receiveStatus.myMissingKeys">--</a> <a href="#akka.cluster.ddata;Replicator.receiveStatus.myKeys" title="scala.collection.immutable.Set[String]">myKeys</a>
    if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveStatus.myMissingKeys" title="scala.collection.immutable.Set[String]">myMissingKeys</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.isDebugEnabled" title="=&gt; Boolean">isDebugEnabled</a><span class="delimiter">)</span>
        <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.debug(2f488eb77c)" title="(template: String, arg1: Any, arg2: Any)Unit">debug</a><span class="delimiter">(</span><span title="String(&quot;Sending gossip status to [{}], requesting missing [{}]&quot;)" class="string">&quot;Sending gossip status to [{}], requesting missing [{}]&quot;</span>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a>.<a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath.address" title="=&gt; akka.actor.Address">address</a>, <a href="#akka.cluster.ddata;Replicator.receiveStatus.myMissingKeys" title="scala.collection.immutable.Set[String]">myMissingKeys</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      val <a title="akka.cluster.ddata.Replicator.Internal.Status" id="akka.cluster.ddata;Replicator.receiveStatus.status">status</a> = <a href="#akka.cluster.ddata.Replicator.Internal.Status.readResolve" title="(digests: Map[String,akka.cluster.ddata.Replicator.Internal.Digest], chunk: Int, totChunks: Int)akka.cluster.ddata.Replicator.Internal.Status">Status</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveStatus.myMissingKeys" title="scala.collection.immutable.Set[String]">myMissingKeys</a>.<span title="(f: String =&gt; (String, akka.cluster.ddata.Replicator.Internal.Digest))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set[String],(String, akka.cluster.ddata.Replicator.Internal.Digest),Map[String,akka.cluster.ddata.Replicator.Internal.Digest]])Map[String,akka.cluster.ddata.Replicator.Internal.Digest]">map</span><span class="delimiter">(</span><a title="String" id="akka.cluster.ddata;Replicator.receiveStatus.status.$anonfun.k">k</a> ⇒ <a href="#akka.cluster.ddata;Replicator.receiveStatus.status.$anonfun.k" title="(self: String)ArrowAssoc[String]">k</a> <span title="(y: akka.cluster.ddata.Replicator.Internal.Digest)(String, akka.cluster.ddata.Replicator.Internal.Digest)">-&gt;</span> <a href="#akka.cluster.ddata.Replicator.Internal.NotFoundDigest" title="=&gt; akka.cluster.ddata.Replicator.Internal.Digest">NotFoundDigest</a><span class="delimiter">)</span><span class="delimiter">(</span>collection.<span title="(implicit b: scala.collection.generic.CanBuildFrom[Nothing,(String, akka.cluster.ddata.Replicator.Internal.Digest),Map[String,akka.cluster.ddata.Replicator.Internal.Digest]])scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set[String],(String, akka.cluster.ddata.Replicator.Internal.Digest),Map[String,akka.cluster.ddata.Replicator.Internal.Digest]]">breakOut</span><span class="delimiter">)</span>, <a href="#akka.cluster.ddata;Replicator.receiveStatus.chunk" title="Int">chunk</a>, <a href="#akka.cluster.ddata;Replicator.receiveStatus.totChunks" title="Int">totChunks</a><span class="delimiter">)</span>
      <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef" class="delimiter">(</a><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.ddata;Replicator.receiveStatus.status" title="akka.cluster.ddata.Replicator.Internal.Status">status</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(updatedData: Map[String,akka.cluster.ddata.Replicator.Internal.DataEnvelope], sendBack: Boolean)Unit" id="akka.cluster.ddata;Replicator.receiveGossip">receiveGossip</a><span class="delimiter">(</span><a title="Map[String,akka.cluster.ddata.Replicator.Internal.DataEnvelope]" id="akka.cluster.ddata;Replicator.receiveGossip.updatedData">updatedData</a>: <span title="Map[String,akka.cluster.ddata.Replicator.Internal.DataEnvelope]">Map</span><span class="delimiter">[</span>String, DataEnvelope<span class="delimiter">]</span>, <a title="Boolean" id="akka.cluster.ddata;Replicator.receiveGossip.sendBack">sendBack</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.isDebugEnabled" title="=&gt; Boolean">isDebugEnabled</a><span class="delimiter">)</span>
      <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.debug(2f488eb77c)" title="(template: String, arg1: Any, arg2: Any)Unit">debug</a><span class="delimiter">(</span><span title="String(&quot;Received gossip from [{}], containing [{}]&quot;)" class="string">&quot;Received gossip from [{}], containing [{}]&quot;</span>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a>.<a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath.address" title="=&gt; akka.actor.Address">address</a>, <a href="#akka.cluster.ddata;Replicator.receiveGossip.updatedData" title="Map[String,akka.cluster.ddata.Replicator.Internal.DataEnvelope]">updatedData</a>.<span title="=&gt; Iterable[String]">keys</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    var <a title="scala.collection.immutable.Map[String,akka.cluster.ddata.Replicator.Internal.DataEnvelope]" id="akka.cluster.ddata;Replicator.receiveGossip.replyData">replyData</a> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="[A, B]=&gt; scala.collection.immutable.Map[A,B]">empty</span><span title="scala.collection.immutable.Map[String,akka.cluster.ddata.Replicator.Internal.DataEnvelope]" class="delimiter">[</span><span title="String">String</span>, <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.readResolve" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">DataEnvelope</a><span class="delimiter">]</span>
    <a href="#akka.cluster.ddata;Replicator.receiveGossip.updatedData" title="Map[String,akka.cluster.ddata.Replicator.Internal.DataEnvelope]">updatedData</a>.<span title="(f: ((String, akka.cluster.ddata.Replicator.Internal.DataEnvelope)) =&gt; Unit)Unit">foreach</span> <a href="#akka.cluster.ddata;Replicator.receiveGossip.$anonfun.x0$7" title="Unit" class="delimiter">{</a>
      case <span class="delimiter">(</span><a title="String" id="akka.cluster.ddata;Replicator.receiveGossip.$anonfun.key">key</a>, <a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata;Replicator.receiveGossip.$anonfun.envelope">envelope</a><span class="delimiter">)</span> ⇒
        val <a title="Boolean" id="akka.cluster.ddata;Replicator.receiveGossip.$anonfun.hadData">hadData</a> = <a href="#akka.cluster.ddata;Replicator.dataEntries_=" title="=&gt; scala.collection.immutable.Map[String,(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)]">dataEntries</a>.<span title="(key: String)Boolean">contains</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveGossip.$anonfun.key" title="String">key</a><span class="delimiter">)</span>
        <a href="#akka.cluster.ddata;Replicator.write" title="(key: String, writeEnvelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)Unit">write</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveGossip.$anonfun.key" title="String">key</a>, <a href="#akka.cluster.ddata;Replicator.receiveGossip.$anonfun.envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveGossip.sendBack" title="Boolean">sendBack</a><span class="delimiter">)</span> <a href="#akka.cluster.ddata;Replicator.getData" title="(key: String)Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]">getData</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveGossip.$anonfun.key" title="String">key</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
          case Some<span class="delimiter">(</span><a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata;Replicator.receiveGossip.$anonfun.d">d</a><span class="delimiter">)</span> ⇒
            if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveGossip.$anonfun.hadData" title="Boolean">hadData</a> <span title="(x: Boolean)Boolean">||</span> <a href="#akka.cluster.ddata;Replicator.receiveGossip.$anonfun.d" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">d</a>.<a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.<init>$default$2" title="=&gt; Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]">pruning</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
              <a href="#akka.cluster.ddata;Replicator.receiveGossip.replyData" title="scala.collection.immutable.Map[String,akka.cluster.ddata.Replicator.Internal.DataEnvelope]">replyData</a> = <a href="#akka.cluster.ddata;Replicator.receiveGossip.replyData" title="scala.collection.immutable.Map[String,akka.cluster.ddata.Replicator.Internal.DataEnvelope]">replyData</a>.<span title="(key: String, value: akka.cluster.ddata.Replicator.Internal.DataEnvelope)scala.collection.immutable.Map[String,akka.cluster.ddata.Replicator.Internal.DataEnvelope]">updated</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveGossip.$anonfun.key" title="String">key</a>, <a href="#akka.cluster.ddata;Replicator.receiveGossip.$anonfun.d" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">d</a><span class="delimiter">)</span>
          case <span title="None.type">None</span> ⇒
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveGossip.sendBack" title="Boolean">sendBack</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#akka.cluster.ddata;Replicator.receiveGossip.replyData" title="scala.collection.immutable.Map[String,akka.cluster.ddata.Replicator.Internal.DataEnvelope]">replyData</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
      <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef" class="delimiter">(</a><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.ddata.Replicator.Internal.Gossip.readResolve" title="(updatedData: Map[String,akka.cluster.ddata.Replicator.Internal.DataEnvelope], sendBack: Boolean)akka.cluster.ddata.Replicator.Internal.Gossip">Gossip</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveGossip.replyData" title="scala.collection.immutable.Map[String,akka.cluster.ddata.Replicator.Internal.DataEnvelope]">replyData</a>, sendBack = false<span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(key: akka.cluster.ddata.Key.KeyR, subscriber: akka.actor.ActorRef)Unit" id="akka.cluster.ddata;Replicator.receiveSubscribe">receiveSubscribe</a><span class="delimiter">(</span><a title="akka.cluster.ddata.Key.KeyR" id="akka.cluster.ddata;Replicator.receiveSubscribe.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key.KeyR">KeyR</a>, <a title="akka.actor.ActorRef" id="akka.cluster.ddata;Replicator.receiveSubscribe.subscriber">subscriber</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#akka.cluster.ddata;Replicator.newSubscribers" title="=&gt; scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]] with scala.collection.mutable.MultiMap[String,akka.actor.ActorRef]">newSubscribers</a>.<span title="(key: String, value: akka.actor.ActorRef)akka.cluster.ddata.Replicator.&lt;refinement&gt;.type">addBinding</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveSubscribe.key" title="akka.cluster.ddata.Key.KeyR">key</a>.<a href="Key.scala.html#akka.cluster.ddata;Key.id" title="=&gt; String">id</a>, <a href="#akka.cluster.ddata;Replicator.receiveSubscribe.subscriber" title="akka.actor.ActorRef">subscriber</a><span class="delimiter">)</span>
    if <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.cluster.ddata;Replicator.subscriptionKeys_=" title="=&gt; scala.collection.immutable.Map[String,akka.cluster.ddata.Key.KeyR]">subscriptionKeys</a>.<span title="(key: String)Boolean">contains</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveSubscribe.key" title="akka.cluster.ddata.Key.KeyR">key</a>.<a href="Key.scala.html#akka.cluster.ddata;Key.id" title="=&gt; String">id</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#akka.cluster.ddata;Replicator.subscriptionKeys_=" title="(x$1: scala.collection.immutable.Map[String,akka.cluster.ddata.Key.KeyR])Unit">subscriptionKeys</a> = <a href="#akka.cluster.ddata;Replicator.subscriptionKeys_=" title="=&gt; scala.collection.immutable.Map[String,akka.cluster.ddata.Key.KeyR]">subscriptionKeys</a>.<span title="(key: String, value: akka.cluster.ddata.Key.KeyR)scala.collection.immutable.Map[String,akka.cluster.ddata.Key.KeyR]">updated</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveSubscribe.key" title="akka.cluster.ddata.Key.KeyR">key</a>.<a href="Key.scala.html#akka.cluster.ddata;Key.id" title="=&gt; String">id</a>, <a href="#akka.cluster.ddata;Replicator.receiveSubscribe.key" title="akka.cluster.ddata.Key.KeyR">key</a><span class="delimiter">)</span>
    <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.watch" title="(subject: akka.actor.ActorRef)akka.actor.ActorRef">watch</a><span title="Unit" class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveSubscribe.subscriber" title="akka.actor.ActorRef">subscriber</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(key: akka.cluster.ddata.Key.KeyR, subscriber: akka.actor.ActorRef)Unit" id="akka.cluster.ddata;Replicator.receiveUnsubscribe">receiveUnsubscribe</a><span class="delimiter">(</span><a title="akka.cluster.ddata.Key.KeyR" id="akka.cluster.ddata;Replicator.receiveUnsubscribe.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key.KeyR">KeyR</a>, <a title="akka.actor.ActorRef" id="akka.cluster.ddata;Replicator.receiveUnsubscribe.subscriber">subscriber</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#akka.cluster.ddata;Replicator.subscribers" title="=&gt; scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]] with scala.collection.mutable.MultiMap[String,akka.actor.ActorRef]">subscribers</a>.<span title="(key: String, value: akka.actor.ActorRef)akka.cluster.ddata.Replicator.&lt;refinement&gt;.type">removeBinding</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveUnsubscribe.key" title="akka.cluster.ddata.Key.KeyR">key</a>.<a href="Key.scala.html#akka.cluster.ddata;Key.id" title="=&gt; String">id</a>, <a href="#akka.cluster.ddata;Replicator.receiveUnsubscribe.subscriber" title="akka.actor.ActorRef">subscriber</a><span class="delimiter">)</span>
    <a href="#akka.cluster.ddata;Replicator.newSubscribers" title="=&gt; scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]] with scala.collection.mutable.MultiMap[String,akka.actor.ActorRef]">newSubscribers</a>.<span title="(key: String, value: akka.actor.ActorRef)akka.cluster.ddata.Replicator.&lt;refinement&gt;.type">removeBinding</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveUnsubscribe.key" title="akka.cluster.ddata.Key.KeyR">key</a>.<a href="Key.scala.html#akka.cluster.ddata;Key.id" title="=&gt; String">id</a>, <a href="#akka.cluster.ddata;Replicator.receiveUnsubscribe.subscriber" title="akka.actor.ActorRef">subscriber</a><span class="delimiter">)</span>
    if <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.cluster.ddata;Replicator.hasSubscriber" title="(subscriber: akka.actor.ActorRef)Boolean">hasSubscriber</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveUnsubscribe.subscriber" title="akka.actor.ActorRef">subscriber</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.unwatch" title="(subject: akka.actor.ActorRef)akka.actor.ActorRef">unwatch</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveUnsubscribe.subscriber" title="akka.actor.ActorRef">subscriber</a><span class="delimiter">)</span>
    if <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.cluster.ddata;Replicator.subscribers" title="=&gt; scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]] with scala.collection.mutable.MultiMap[String,akka.actor.ActorRef]">subscribers</a>.<span title="(key: String)Boolean">contains</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveUnsubscribe.key" title="akka.cluster.ddata.Key.KeyR">key</a>.<a href="Key.scala.html#akka.cluster.ddata;Key.id" title="=&gt; String">id</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#akka.cluster.ddata;Replicator.newSubscribers" title="=&gt; scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]] with scala.collection.mutable.MultiMap[String,akka.actor.ActorRef]">newSubscribers</a>.<span title="(key: String)Boolean">contains</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveUnsubscribe.key" title="akka.cluster.ddata.Key.KeyR">key</a>.<a href="Key.scala.html#akka.cluster.ddata;Key.id" title="=&gt; String">id</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#akka.cluster.ddata;Replicator.subscriptionKeys_=" title="(x$1: scala.collection.immutable.Map[String,akka.cluster.ddata.Key.KeyR])Unit">subscriptionKeys</a> <span title="(key: String)scala.collection.immutable.Map[String,akka.cluster.ddata.Key.KeyR]">-=</span> <a href="#akka.cluster.ddata;Replicator.receiveUnsubscribe.key" title="akka.cluster.ddata.Key.KeyR">key</a>.<a href="Key.scala.html#akka.cluster.ddata;Key.id" title="=&gt; String">id</a>
  <span class="delimiter">}</span>

  def <a title="(subscriber: akka.actor.ActorRef)Boolean" id="akka.cluster.ddata;Replicator.hasSubscriber">hasSubscriber</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.cluster.ddata;Replicator.hasSubscriber.subscriber">subscriber</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.subscribers" title="=&gt; scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]] with scala.collection.mutable.MultiMap[String,akka.actor.ActorRef]">subscribers</a>.<span title="(p: ((String, scala.collection.mutable.Set[akka.actor.ActorRef])) =&gt; Boolean)Boolean">exists</span> <a href="#akka.cluster.ddata;Replicator.hasSubscriber.$anonfun.x0$8" title="Boolean" class="delimiter">{</a> case <span class="delimiter">(</span><span title="String">k</span>, <span title="scala.collection.mutable.Set[akka.actor.ActorRef]">s</span><span class="delimiter">)</span> ⇒ <span title="scala.collection.mutable.Set[akka.actor.ActorRef]">s</span>.<span title="(elem: akka.actor.ActorRef)Boolean">contains</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.hasSubscriber.subscriber" title="akka.actor.ActorRef">subscriber</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
      <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.newSubscribers" title="=&gt; scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]] with scala.collection.mutable.MultiMap[String,akka.actor.ActorRef]">newSubscribers</a>.<span title="(p: ((String, scala.collection.mutable.Set[akka.actor.ActorRef])) =&gt; Boolean)Boolean">exists</span> <a href="#akka.cluster.ddata;Replicator.hasSubscriber.$anonfun.x0$9" title="Boolean" class="delimiter">{</a> case <span class="delimiter">(</span><span title="String">k</span>, <span title="scala.collection.mutable.Set[akka.actor.ActorRef]">s</span><span class="delimiter">)</span> ⇒ <span title="scala.collection.mutable.Set[akka.actor.ActorRef]">s</span>.<span title="(elem: akka.actor.ActorRef)Boolean">contains</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.hasSubscriber.subscriber" title="akka.actor.ActorRef">subscriber</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span>

  def <a title="(ref: akka.actor.ActorRef)Unit" id="akka.cluster.ddata;Replicator.receiveTerminated">receiveTerminated</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.cluster.ddata;Replicator.receiveTerminated.ref">ref</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    val <a title="scala.collection.mutable.Iterable[String]" id="akka.cluster.ddata;Replicator.receiveTerminated.keys1">keys1</a> = <a href="#akka.cluster.ddata;Replicator.subscribers" title="=&gt; scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]] with scala.collection.mutable.MultiMap[String,akka.actor.ActorRef]">subscribers</a>.<span title="(pf: PartialFunction[(String, scala.collection.mutable.Set[akka.actor.ActorRef]),String])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]],String,scala.collection.mutable.Iterable[String]])scala.collection.mutable.Iterable[String]">collect</span> <a title="&lt;$anon: ((String, scala.collection.mutable.Set[akka.actor.ActorRef])) =&gt; String&gt; extends scala.runtime.AbstractPartialFunction[(String, scala.collection.mutable.Set[akka.actor.ActorRef]),String] with Serializable" id="akka.cluster.ddata;Replicator.receiveTerminated.keys1;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a> case <span class="delimiter">(</span><a title="String" id="akka.cluster.ddata;Replicator.receiveTerminated.keys1;$anonfun.isDefinedAt.k">k</a>, <a title="scala.collection.mutable.Set[akka.actor.ActorRef]" id="akka.cluster.ddata;Replicator.receiveTerminated.keys1;$anonfun.isDefinedAt.s">s</a><span class="delimiter">)</span> if <a href="#akka.cluster.ddata;Replicator.receiveTerminated.keys1;$anonfun.isDefinedAt.s" title="scala.collection.mutable.Set[akka.actor.ActorRef]">s</a>.<span title="(elem: akka.actor.ActorRef)Boolean">contains</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveTerminated.ref" title="akka.actor.ActorRef">ref</a><span class="delimiter">)</span> ⇒ <a href="#akka.cluster.ddata;Replicator.receiveTerminated.keys1;$anonfun.isDefinedAt.k" title="String">k</a> <span class="delimiter">}</span>
    <a href="#akka.cluster.ddata;Replicator.receiveTerminated.keys1" title="scala.collection.mutable.Iterable[String]">keys1</a>.<span title="(f: String =&gt; scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]] with scala.collection.mutable.MultiMap[String,akka.actor.ActorRef])Unit">foreach</span> <span class="delimiter">{</span> <span title="String">key</span> ⇒ <a href="#akka.cluster.ddata;Replicator.subscribers" title="=&gt; scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]] with scala.collection.mutable.MultiMap[String,akka.actor.ActorRef]">subscribers</a>.<span title="(key: String, value: akka.actor.ActorRef)akka.cluster.ddata.Replicator.&lt;refinement&gt;.type">removeBinding</span><span class="delimiter">(</span><span title="String">key</span>, <a href="#akka.cluster.ddata;Replicator.receiveTerminated.ref" title="akka.actor.ActorRef">ref</a><span class="delimiter">)</span> <span class="delimiter">}</span>
    val <a title="scala.collection.mutable.Iterable[String]" id="akka.cluster.ddata;Replicator.receiveTerminated.keys2">keys2</a> = <a href="#akka.cluster.ddata;Replicator.newSubscribers" title="=&gt; scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]] with scala.collection.mutable.MultiMap[String,akka.actor.ActorRef]">newSubscribers</a>.<span title="(pf: PartialFunction[(String, scala.collection.mutable.Set[akka.actor.ActorRef]),String])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]],String,scala.collection.mutable.Iterable[String]])scala.collection.mutable.Iterable[String]">collect</span> <a title="&lt;$anon: ((String, scala.collection.mutable.Set[akka.actor.ActorRef])) =&gt; String&gt; extends scala.runtime.AbstractPartialFunction[(String, scala.collection.mutable.Set[akka.actor.ActorRef]),String] with Serializable" id="akka.cluster.ddata;Replicator.receiveTerminated.keys2;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a> case <span class="delimiter">(</span><a title="String" id="akka.cluster.ddata;Replicator.receiveTerminated.keys2;$anonfun.isDefinedAt.k">k</a>, <a title="scala.collection.mutable.Set[akka.actor.ActorRef]" id="akka.cluster.ddata;Replicator.receiveTerminated.keys2;$anonfun.isDefinedAt.s">s</a><span class="delimiter">)</span> if <a href="#akka.cluster.ddata;Replicator.receiveTerminated.keys2;$anonfun.isDefinedAt.s" title="scala.collection.mutable.Set[akka.actor.ActorRef]">s</a>.<span title="(elem: akka.actor.ActorRef)Boolean">contains</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveTerminated.ref" title="akka.actor.ActorRef">ref</a><span class="delimiter">)</span> ⇒ <a href="#akka.cluster.ddata;Replicator.receiveTerminated.keys2;$anonfun.isDefinedAt.k" title="String">k</a> <span class="delimiter">}</span>
    <a href="#akka.cluster.ddata;Replicator.receiveTerminated.keys2" title="scala.collection.mutable.Iterable[String]">keys2</a>.<span title="(f: String =&gt; scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]] with scala.collection.mutable.MultiMap[String,akka.actor.ActorRef])Unit">foreach</span> <span class="delimiter">{</span> <span title="String">key</span> ⇒ <a href="#akka.cluster.ddata;Replicator.newSubscribers" title="=&gt; scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]] with scala.collection.mutable.MultiMap[String,akka.actor.ActorRef]">newSubscribers</a>.<span title="(key: String, value: akka.actor.ActorRef)akka.cluster.ddata.Replicator.&lt;refinement&gt;.type">removeBinding</span><span class="delimiter">(</span><span title="String">key</span>, <a href="#akka.cluster.ddata;Replicator.receiveTerminated.ref" title="akka.actor.ActorRef">ref</a><span class="delimiter">)</span> <span class="delimiter">}</span>

    <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveTerminated.keys1" title="scala.collection.mutable.Iterable[String]">keys1</a> <span title="(that: scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.Iterable[String],String,scala.collection.mutable.Iterable[String]])scala.collection.mutable.Iterable[String]">++</span> <a href="#akka.cluster.ddata;Replicator.receiveTerminated.keys2" title="scala.collection.mutable.Iterable[String]">keys2</a><span class="delimiter">)</span>.<span title="(f: String =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <span title="String">key</span> ⇒
      if <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.cluster.ddata;Replicator.subscribers" title="=&gt; scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]] with scala.collection.mutable.MultiMap[String,akka.actor.ActorRef]">subscribers</a>.<span title="(key: String)Boolean">contains</span><span class="delimiter">(</span><span title="String">key</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#akka.cluster.ddata;Replicator.newSubscribers" title="=&gt; scala.collection.mutable.HashMap[String,scala.collection.mutable.Set[akka.actor.ActorRef]] with scala.collection.mutable.MultiMap[String,akka.actor.ActorRef]">newSubscribers</a>.<span title="(key: String)Boolean">contains</span><span class="delimiter">(</span><span title="String">key</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#akka.cluster.ddata;Replicator.subscriptionKeys_=" title="(x$1: scala.collection.immutable.Map[String,akka.cluster.ddata.Key.KeyR])Unit">subscriptionKeys</a> <span title="(key: String)scala.collection.immutable.Map[String,akka.cluster.ddata.Key.KeyR]">-=</span> <span title="String">key</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(m: akka.cluster.Member)Unit" id="akka.cluster.ddata;Replicator.receiveMemberUp">receiveMemberUp</a><span class="delimiter">(</span><a title="akka.cluster.Member" id="akka.cluster.ddata;Replicator.receiveMemberUp.m">m</a>: <a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member" title="akka.cluster.Member">Member</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.matchingRole" title="(m: akka.cluster.Member)Boolean">matchingRole</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveMemberUp.m" title="akka.cluster.Member">m</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#akka.cluster.ddata;Replicator.receiveMemberUp.m" title="akka.cluster.Member">m</a>.<a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member.address" title="=&gt; akka.actor.Address">address</a> <span title="(x$1: Any)Boolean">!=</span> <a href="#akka.cluster.ddata;Replicator.selfAddress" title="=&gt; akka.actor.Address">selfAddress</a><span class="delimiter">)</span>
      <a href="#akka.cluster.ddata;Replicator.nodes_=" title="(x$1: Set[akka.actor.Address])Unit">nodes</a> <span title="(elem: akka.actor.Address)scala.collection.immutable.Set[akka.actor.Address]">+=</span> <a href="#akka.cluster.ddata;Replicator.receiveMemberUp.m" title="akka.cluster.Member">m</a>.<a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member.address" title="=&gt; akka.actor.Address">address</a>

  def <a title="(m: akka.cluster.Member)Unit" id="akka.cluster.ddata;Replicator.receiveMemberRemoved">receiveMemberRemoved</a><span class="delimiter">(</span><a title="akka.cluster.Member" id="akka.cluster.ddata;Replicator.receiveMemberRemoved.m">m</a>: <a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member" title="akka.cluster.Member">Member</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveMemberRemoved.m" title="akka.cluster.Member">m</a>.<a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member.address" title="=&gt; akka.actor.Address">address</a> <span title="(x$1: Any)Boolean">==</span> <a href="#akka.cluster.ddata;Replicator.selfAddress" title="=&gt; akka.actor.Address">selfAddress</a><span class="delimiter">)</span>
      <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a> <a href="../../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.stop" title="(actor: akka.actor.ActorRef)Unit">stop</a> <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>
    else if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.matchingRole" title="(m: akka.cluster.Member)Boolean">matchingRole</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveMemberRemoved.m" title="akka.cluster.Member">m</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#akka.cluster.ddata;Replicator.nodes_=" title="(x$1: Set[akka.actor.Address])Unit">nodes</a> <span title="(elem: akka.actor.Address)scala.collection.immutable.Set[akka.actor.Address]">-=</span> <a href="#akka.cluster.ddata;Replicator.receiveMemberRemoved.m" title="akka.cluster.Member">m</a>.<a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member.address" title="=&gt; akka.actor.Address">address</a>
      <a href="#akka.cluster.ddata;Replicator.removedNodes_=" title="(x$1: Map[akka.cluster.UniqueAddress,Long])Unit">removedNodes</a> = <a href="#akka.cluster.ddata;Replicator.removedNodes_=" title="=&gt; Map[akka.cluster.UniqueAddress,Long]">removedNodes</a>.<span title="(key: akka.cluster.UniqueAddress, value: Long)scala.collection.immutable.Map[akka.cluster.UniqueAddress,Long]">updated</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveMemberRemoved.m" title="akka.cluster.Member">m</a>.<a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member.uniqueAddress" title="=&gt; akka.cluster.UniqueAddress">uniqueAddress</a>, <a href="#akka.cluster.ddata;Replicator.allReachableClockTime_=" title="=&gt; Long">allReachableClockTime</a><span class="delimiter">)</span>
      <a href="#akka.cluster.ddata;Replicator.unreachable_=" title="(x$1: scala.collection.immutable.Set[akka.actor.Address])Unit">unreachable</a> <span title="(elem: akka.actor.Address)scala.collection.immutable.Set[akka.actor.Address]">-=</span> <a href="#akka.cluster.ddata;Replicator.receiveMemberRemoved.m" title="akka.cluster.Member">m</a>.<a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member.address" title="=&gt; akka.actor.Address">address</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(m: akka.cluster.Member)Unit" id="akka.cluster.ddata;Replicator.receiveUnreachable">receiveUnreachable</a><span class="delimiter">(</span><a title="akka.cluster.Member" id="akka.cluster.ddata;Replicator.receiveUnreachable.m">m</a>: <a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member" title="akka.cluster.Member">Member</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.matchingRole" title="(m: akka.cluster.Member)Boolean">matchingRole</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveUnreachable.m" title="akka.cluster.Member">m</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.cluster.ddata;Replicator.unreachable_=" title="(x$1: scala.collection.immutable.Set[akka.actor.Address])Unit">unreachable</a> <span title="(elem: akka.actor.Address)scala.collection.immutable.Set[akka.actor.Address]">+=</span> <a href="#akka.cluster.ddata;Replicator.receiveUnreachable.m" title="akka.cluster.Member">m</a>.<a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member.address" title="=&gt; akka.actor.Address">address</a>

  def <a title="(m: akka.cluster.Member)Unit" id="akka.cluster.ddata;Replicator.receiveReachable">receiveReachable</a><span class="delimiter">(</span><a title="akka.cluster.Member" id="akka.cluster.ddata;Replicator.receiveReachable.m">m</a>: <a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member" title="akka.cluster.Member">Member</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.matchingRole" title="(m: akka.cluster.Member)Boolean">matchingRole</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveReachable.m" title="akka.cluster.Member">m</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.cluster.ddata;Replicator.unreachable_=" title="(x$1: scala.collection.immutable.Set[akka.actor.Address])Unit">unreachable</a> <span title="(elem: akka.actor.Address)scala.collection.immutable.Set[akka.actor.Address]">-=</span> <a href="#akka.cluster.ddata;Replicator.receiveReachable.m" title="akka.cluster.Member">m</a>.<a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member.address" title="=&gt; akka.actor.Address">address</a>

  def <a title="(leaderOption: Option[akka.actor.Address], roleOption: Option[String])Unit" id="akka.cluster.ddata;Replicator.receiveLeaderChanged">receiveLeaderChanged</a><span class="delimiter">(</span><a title="Option[akka.actor.Address]" id="akka.cluster.ddata;Replicator.receiveLeaderChanged.leaderOption">leaderOption</a>: <span title="Option[akka.actor.Address]">Option</span><span class="delimiter">[</span>Address<span class="delimiter">]</span>, <a title="Option[String]" id="akka.cluster.ddata;Replicator.receiveLeaderChanged.roleOption">roleOption</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveLeaderChanged.roleOption" title="Option[String]">roleOption</a> <span title="(x$1: Any)Boolean">==</span> <a href="#akka.cluster.ddata;ReplicatorSettings.role" title="=&gt; Option[String]">role</a><span class="delimiter">)</span> <a href="#akka.cluster.ddata;Replicator.leader_=" title="(x$1: Option[akka.actor.Address])Unit">leader</a> = <a href="#akka.cluster.ddata;Replicator.receiveLeaderChanged.leaderOption" title="Option[akka.actor.Address]">leaderOption</a>

  def <a title="()Unit" id="akka.cluster.ddata;Replicator.receiveClockTick">receiveClockTick</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    val <a title="Long" id="akka.cluster.ddata;Replicator.receiveClockTick.now">now</a> = <span title="System.type">System</span>.<span title="()Long">nanoTime</span><span class="delimiter">(</span><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.unreachable_=" title="=&gt; scala.collection.immutable.Set[akka.actor.Address]">unreachable</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
      <a href="#akka.cluster.ddata;Replicator.allReachableClockTime_=" title="(x$1: Long)Unit">allReachableClockTime</a> <span title="(x: Long)Long">+=</span> <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.receiveClockTick.now" title="Long">now</a> <span title="(x: Long)Long">-</span> <a href="#akka.cluster.ddata;Replicator.previousClockTime_=" title="=&gt; Long">previousClockTime</a><span class="delimiter">)</span>
    <a href="#akka.cluster.ddata;Replicator.previousClockTime_=" title="(x$1: Long)Unit">previousClockTime</a> = <a href="#akka.cluster.ddata;Replicator.receiveClockTick.now" title="Long">now</a>
  <span class="delimiter">}</span>

  def <a title="()Unit" id="akka.cluster.ddata;Replicator.receiveRemovedNodePruningTick">receiveRemovedNodePruningTick</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.isLeader" title="=&gt; Boolean">isLeader</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#akka.cluster.ddata;Replicator.removedNodes_=" title="=&gt; Map[akka.cluster.UniqueAddress,Long]">removedNodes</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#akka.cluster.ddata;Replicator.initRemovedNodePruning" title="()Unit">initRemovedNodePruning</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#akka.cluster.ddata;Replicator.performRemovedNodePruning" title="()Unit">performRemovedNodePruning</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#akka.cluster.ddata;Replicator.tombstoneRemovedNodePruning" title="()Unit">tombstoneRemovedNodePruning</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="()Unit" id="akka.cluster.ddata;Replicator.initRemovedNodePruning">initRemovedNodePruning</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span class="comment">// initiate pruning for removed nodes</span>
    val <a title="Set[akka.cluster.UniqueAddress]" id="akka.cluster.ddata;Replicator.initRemovedNodePruning.removedSet">removedSet</a>: <span title="Set[akka.cluster.UniqueAddress]">Set</span><span class="delimiter">[</span>UniqueAddress<span class="delimiter">]</span> = <a href="#akka.cluster.ddata;Replicator.removedNodes_=" title="=&gt; Map[akka.cluster.UniqueAddress,Long]">removedNodes</a>.<span title="(pf: PartialFunction[(akka.cluster.UniqueAddress, Long),akka.cluster.UniqueAddress])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[akka.cluster.UniqueAddress,Long],akka.cluster.UniqueAddress,Set[akka.cluster.UniqueAddress]])Set[akka.cluster.UniqueAddress]">collect</span> <a title="&lt;$anon: ((akka.cluster.UniqueAddress, Long)) =&gt; akka.cluster.UniqueAddress&gt; extends scala.runtime.AbstractPartialFunction[(akka.cluster.UniqueAddress, Long),akka.cluster.UniqueAddress] with Serializable" id="akka.cluster.ddata;Replicator.initRemovedNodePruning.removedSet;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
      case <span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster.ddata;Replicator.initRemovedNodePruning.removedSet;$anonfun.isDefinedAt.r">r</a>, <a title="Long" id="akka.cluster.ddata;Replicator.initRemovedNodePruning.removedSet;$anonfun.isDefinedAt.t">t</a><span class="delimiter">)</span> if <span class="delimiter">(</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.allReachableClockTime_=" title="=&gt; Long">allReachableClockTime</a> <span title="(x: Long)Long">-</span> <a href="#akka.cluster.ddata;Replicator.initRemovedNodePruning.removedSet;$anonfun.isDefinedAt.t" title="Long">t</a><span class="delimiter">)</span> <span title="(x: Long)Boolean">&gt;</span> <a href="#akka.cluster.ddata;Replicator.maxPruningDisseminationNanos" title="=&gt; Long">maxPruningDisseminationNanos</a><span class="delimiter">)</span> ⇒ <a href="#akka.cluster.ddata;Replicator.initRemovedNodePruning.removedSet;$anonfun.isDefinedAt.r" title="akka.cluster.UniqueAddress">r</a>
    <span class="delimiter">}</span><span class="delimiter">(</span>collection.<span title="(implicit b: scala.collection.generic.CanBuildFrom[Nothing,akka.cluster.UniqueAddress,Set[akka.cluster.UniqueAddress]])scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[akka.cluster.UniqueAddress,Long],akka.cluster.UniqueAddress,Set[akka.cluster.UniqueAddress]]">breakOut</span><span class="delimiter">)</span>

    if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.initRemovedNodePruning.removedSet" title="Set[akka.cluster.UniqueAddress]">removedSet</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      for <span class="delimiter">(</span><span class="delimiter">(</span><a title="String" id="akka.cluster.ddata;Replicator.initRemovedNodePruning.$anonfun.key">key</a>, <span class="delimiter">(</span><a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata;Replicator.initRemovedNodePruning.$anonfun.envelope">envelope</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> ← <a href="#akka.cluster.ddata;Replicator.dataEntries_=" title="(f: ((String, (akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest))) =&gt; Unit)Unit">dataEntries</a>; <a title="akka.cluster.UniqueAddress" id="akka.cluster.ddata;Replicator.initRemovedNodePruning.$anonfun.$anonfun.removed">removed</a> ← <a href="#akka.cluster.ddata;Replicator.initRemovedNodePruning.removedSet" title="(f: akka.cluster.UniqueAddress =&gt; Unit)Unit">removedSet</a><span class="delimiter">)</span> <span class="delimiter">{</span>

        def <a title="()Unit" id="akka.cluster.ddata;Replicator.initRemovedNodePruning.$anonfun.$anonfun.init">init</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
          val <a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata;Replicator.initRemovedNodePruning.$anonfun.$anonfun.init.newEnvelope">newEnvelope</a> = <a href="#akka.cluster.ddata;Replicator.initRemovedNodePruning.$anonfun.envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a>.<a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.initRemovedNodePruning" title="(removed: akka.cluster.UniqueAddress, owner: akka.cluster.UniqueAddress)akka.cluster.ddata.Replicator.Internal.DataEnvelope">initRemovedNodePruning</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.initRemovedNodePruning.$anonfun.$anonfun.removed" title="akka.cluster.UniqueAddress">removed</a>, <a href="#akka.cluster.ddata;Replicator.selfUniqueAddress" title="=&gt; akka.cluster.UniqueAddress">selfUniqueAddress</a><span class="delimiter">)</span>
          <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.debug(2f488eb77c)" title="(template: String, arg1: Any, arg2: Any)Unit">debug</a><span class="delimiter">(</span><span title="String(&quot;Initiated pruning of [{}] for data key [{}]&quot;)" class="string">&quot;Initiated pruning of [{}] for data key [{}]&quot;</span>, <a href="#akka.cluster.ddata;Replicator.initRemovedNodePruning.$anonfun.$anonfun.removed" title="akka.cluster.UniqueAddress">removed</a>, <a href="#akka.cluster.ddata;Replicator.initRemovedNodePruning.$anonfun.key" title="String">key</a><span class="delimiter">)</span>
          <a href="#akka.cluster.ddata;Replicator.setData" title="(key: String, envelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)Unit">setData</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.initRemovedNodePruning.$anonfun.key" title="String">key</a>, <a href="#akka.cluster.ddata;Replicator.initRemovedNodePruning.$anonfun.$anonfun.init.newEnvelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">newEnvelope</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.initRemovedNodePruning.$anonfun.envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a>.<a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.needPruningFrom" title="(removedNode: akka.cluster.UniqueAddress)Boolean">needPruningFrom</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.initRemovedNodePruning.$anonfun.$anonfun.removed" title="akka.cluster.UniqueAddress">removed</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#akka.cluster.ddata;Replicator.initRemovedNodePruning.$anonfun.envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a>.<a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.data" title="=&gt; akka.cluster.ddata.ReplicatedData">data</a> match <span class="delimiter">{</span>
            case <a title="akka.cluster.ddata.RemovedNodePruning" id="akka.cluster.ddata;Replicator.initRemovedNodePruning.$anonfun.$anonfun.dataWithRemovedNodePruning">dataWithRemovedNodePruning</a>: <a href="ReplicatedData.scala.html#akka.cluster.ddata;RemovedNodePruning" title="akka.cluster.ddata.RemovedNodePruning">RemovedNodePruning</a> ⇒

              <a href="#akka.cluster.ddata;Replicator.initRemovedNodePruning.$anonfun.envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a>.<a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.<init>$default$2" title="=&gt; Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]">pruning</a>.<span title="(key: akka.cluster.UniqueAddress)Option[akka.cluster.ddata.PruningState]">get</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.initRemovedNodePruning.$anonfun.$anonfun.removed" title="akka.cluster.UniqueAddress">removed</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
                case <span title="None.type">None</span> ⇒ <a href="#akka.cluster.ddata;Replicator.initRemovedNodePruning.$anonfun.$anonfun.init" title="()Unit">init</a><span class="delimiter">(</span><span class="delimiter">)</span>
                case Some<span class="delimiter">(</span>PruningState<span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster.ddata;Replicator.initRemovedNodePruning.$anonfun.$anonfun.owner">owner</a>, PruningInitialized<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> if <a href="#akka.cluster.ddata;Replicator.initRemovedNodePruning.$anonfun.$anonfun.owner" title="akka.cluster.UniqueAddress">owner</a> <span title="(x$1: Any)Boolean">!=</span> <a href="#akka.cluster.ddata;Replicator.selfUniqueAddress" title="=&gt; akka.cluster.UniqueAddress">selfUniqueAddress</a> ⇒ <a href="#akka.cluster.ddata;Replicator.initRemovedNodePruning.$anonfun.$anonfun.init" title="()Unit">init</a><span class="delimiter">(</span><span class="delimiter">)</span>
                case _ ⇒ <span class="comment">// already in progress</span>
              <span class="delimiter">}</span>
            case _ ⇒
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="()Unit" id="akka.cluster.ddata;Replicator.performRemovedNodePruning">performRemovedNodePruning</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span class="comment">// perform pruning when all seen Init</span>
    <a href="#akka.cluster.ddata;Replicator.dataEntries_=" title="=&gt; scala.collection.immutable.Map[String,(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)]">dataEntries</a>.<span title="(f: ((String, (akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest))) =&gt; Unit)Unit">foreach</span> <a href="#akka.cluster.ddata;Replicator.performRemovedNodePruning.$anonfun.x0$10" title="Unit" class="delimiter">{</a>
      case <span class="delimiter">(</span><a title="String" id="akka.cluster.ddata;Replicator.performRemovedNodePruning.$anonfun.key">key</a>, <span class="delimiter">(</span><a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata;Replicator.performRemovedNodePruning.$anonfun.envelope">envelope</a> @ DataEnvelope<span class="delimiter">(</span><a title="akka.cluster.ddata.RemovedNodePruning" id="akka.cluster.ddata;Replicator.performRemovedNodePruning.$anonfun.data">data</a>: <a href="ReplicatedData.scala.html#akka.cluster.ddata;RemovedNodePruning" title="akka.cluster.ddata.RemovedNodePruning">RemovedNodePruning</a>, <a title="Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]" id="akka.cluster.ddata;Replicator.performRemovedNodePruning.$anonfun.pruning">pruning</a><span class="delimiter">)</span>, _<span class="delimiter">)</span><span class="delimiter">)</span> ⇒
        <a href="#akka.cluster.ddata;Replicator.performRemovedNodePruning.$anonfun.pruning" title="Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]">pruning</a>.<span title="(f: ((akka.cluster.UniqueAddress, akka.cluster.ddata.PruningState)) =&gt; Unit)Unit">foreach</span> <a href="#akka.cluster.ddata;Replicator.performRemovedNodePruning.$anonfun.$anonfun.x0$11" title="Unit" class="delimiter">{</a>
          case <span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster.ddata;Replicator.performRemovedNodePruning.$anonfun.$anonfun.removed">removed</a>, PruningState<span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster.ddata;Replicator.performRemovedNodePruning.$anonfun.$anonfun.owner">owner</a>, PruningInitialized<span class="delimiter">(</span><a title="Set[akka.actor.Address]" id="akka.cluster.ddata;Replicator.performRemovedNodePruning.$anonfun.$anonfun.seen">seen</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> if <a href="#akka.cluster.ddata;Replicator.performRemovedNodePruning.$anonfun.$anonfun.owner" title="akka.cluster.UniqueAddress">owner</a> <span title="(x$1: Any)Boolean">==</span> <a href="#akka.cluster.ddata;Replicator.selfUniqueAddress" title="=&gt; akka.cluster.UniqueAddress">selfUniqueAddress</a>
            <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.nodes_=" title="=&gt; Set[akka.actor.Address]">nodes</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="#akka.cluster.ddata;Replicator.nodes_=" title="=&gt; Set[akka.actor.Address]">nodes</a>.<span title="(p: akka.actor.Address =&gt; Boolean)Boolean">forall</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.performRemovedNodePruning.$anonfun.$anonfun.seen" title="Set[akka.actor.Address]">seen</a><span class="delimiter">)</span><span class="delimiter">)</span> ⇒
            val <a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata;Replicator.performRemovedNodePruning.$anonfun.$anonfun.newEnvelope">newEnvelope</a> = <a href="#akka.cluster.ddata;Replicator.performRemovedNodePruning.$anonfun.envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a>.<a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.prune" title="(from: akka.cluster.UniqueAddress)akka.cluster.ddata.Replicator.Internal.DataEnvelope">prune</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.performRemovedNodePruning.$anonfun.$anonfun.removed" title="akka.cluster.UniqueAddress">removed</a><span class="delimiter">)</span>
            <a href="#akka.cluster.ddata;Replicator.pruningPerformed_=" title="(x$1: Map[akka.cluster.UniqueAddress,Long])Unit">pruningPerformed</a> = <a href="#akka.cluster.ddata;Replicator.pruningPerformed_=" title="=&gt; Map[akka.cluster.UniqueAddress,Long]">pruningPerformed</a>.<span title="(key: akka.cluster.UniqueAddress, value: Long)scala.collection.immutable.Map[akka.cluster.UniqueAddress,Long]">updated</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.performRemovedNodePruning.$anonfun.$anonfun.removed" title="akka.cluster.UniqueAddress">removed</a>, <a href="#akka.cluster.ddata;Replicator.allReachableClockTime_=" title="=&gt; Long">allReachableClockTime</a><span class="delimiter">)</span>
            <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.debug(6c666e4343)" title="(template: String, arg1: Any, arg2: Any, arg3: Any)Unit">debug</a><span class="delimiter">(</span><span title="String(&quot;Perform pruning of [{}] from [{}] to [{}]&quot;)" class="string">&quot;Perform pruning of [{}] from [{}] to [{}]&quot;</span>, <a href="#akka.cluster.ddata;Replicator.performRemovedNodePruning.$anonfun.key" title="String">key</a>, <a href="#akka.cluster.ddata;Replicator.performRemovedNodePruning.$anonfun.$anonfun.removed" title="akka.cluster.UniqueAddress">removed</a>, <a href="#akka.cluster.ddata;Replicator.selfUniqueAddress" title="=&gt; akka.cluster.UniqueAddress">selfUniqueAddress</a><span class="delimiter">)</span>
            <a href="#akka.cluster.ddata;Replicator.setData" title="(key: String, envelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)Unit">setData</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.performRemovedNodePruning.$anonfun.key" title="String">key</a>, <a href="#akka.cluster.ddata;Replicator.performRemovedNodePruning.$anonfun.$anonfun.newEnvelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">newEnvelope</a><span class="delimiter">)</span>
          case _ ⇒
        <span class="delimiter">}</span>
      case _ ⇒ <span class="comment">// deleted, or pruning not needed</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="()Unit" id="akka.cluster.ddata;Replicator.tombstoneRemovedNodePruning">tombstoneRemovedNodePruning</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>

    def <a title="(removed: akka.cluster.UniqueAddress)Boolean" id="akka.cluster.ddata;Replicator.tombstoneRemovedNodePruning.allPruningPerformed">allPruningPerformed</a><span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster.ddata;Replicator.tombstoneRemovedNodePruning.allPruningPerformed.removed">removed</a>: <a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <a href="#akka.cluster.ddata;Replicator.dataEntries_=" title="=&gt; scala.collection.immutable.Map[String,(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)]">dataEntries</a> <span title="(p: ((String, (akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest))) =&gt; Boolean)Boolean">forall</span> <a href="#akka.cluster.ddata;Replicator.tombstoneRemovedNodePruning.allPruningPerformed.$anonfun.x0$12" title="Boolean" class="delimiter">{</a>
        case <span class="delimiter">(</span><a title="String" id="akka.cluster.ddata;Replicator.tombstoneRemovedNodePruning.allPruningPerformed.$anonfun.key">key</a>, <span class="delimiter">(</span><a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata;Replicator.tombstoneRemovedNodePruning.allPruningPerformed.$anonfun.envelope">envelope</a> @ DataEnvelope<span class="delimiter">(</span><a title="akka.cluster.ddata.RemovedNodePruning" id="akka.cluster.ddata;Replicator.tombstoneRemovedNodePruning.allPruningPerformed.$anonfun.data">data</a>: <a href="ReplicatedData.scala.html#akka.cluster.ddata;RemovedNodePruning" title="akka.cluster.ddata.RemovedNodePruning">RemovedNodePruning</a>, <a title="Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]" id="akka.cluster.ddata;Replicator.tombstoneRemovedNodePruning.allPruningPerformed.$anonfun.pruning">pruning</a><span class="delimiter">)</span>, _<span class="delimiter">)</span><span class="delimiter">)</span> ⇒
          <a href="#akka.cluster.ddata;Replicator.tombstoneRemovedNodePruning.allPruningPerformed.$anonfun.pruning" title="Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]">pruning</a>.<span title="(key: akka.cluster.UniqueAddress)Option[akka.cluster.ddata.PruningState]">get</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.tombstoneRemovedNodePruning.allPruningPerformed.removed" title="akka.cluster.UniqueAddress">removed</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
            case Some<span class="delimiter">(</span>PruningState<span class="delimiter">(</span>_, PruningInitialized<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> ⇒ false
            case _ ⇒ true
          <span class="delimiter">}</span>
        case _ ⇒ true <span class="comment">// deleted, or pruning not needed</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <a href="#akka.cluster.ddata;Replicator.pruningPerformed_=" title="=&gt; Map[akka.cluster.UniqueAddress,Long]">pruningPerformed</a>.<span title="(f: ((akka.cluster.UniqueAddress, Long)) =&gt; Unit)Unit">foreach</span> <a href="#akka.cluster.ddata;Replicator.tombstoneRemovedNodePruning.$anonfun.x0$13" title="Unit" class="delimiter">{</a>
      case <span class="delimiter">(</span><span title="akka.cluster.UniqueAddress">removed</span>, <span title="Long">timestamp</span><span class="delimiter">)</span> if <span class="delimiter">(</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.allReachableClockTime_=" title="=&gt; Long">allReachableClockTime</a> <span title="(x: Long)Long">-</span> <span title="Long">timestamp</span><span class="delimiter">)</span> <span title="(x: Long)Boolean">&gt;</span> <a href="#akka.cluster.ddata;Replicator.maxPruningDisseminationNanos" title="=&gt; Long">maxPruningDisseminationNanos</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
        <a href="#akka.cluster.ddata;Replicator.tombstoneRemovedNodePruning.allPruningPerformed" title="(removed: akka.cluster.UniqueAddress)Boolean">allPruningPerformed</a><span class="delimiter">(</span><span title="akka.cluster.UniqueAddress">removed</span><span class="delimiter">)</span> ⇒
        <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.debug(dc73c33c91)" title="(template: String, arg1: Any)Unit">debug</a><span class="delimiter">(</span><span title="String(&quot;All pruning performed for [{}], tombstoned&quot;)" class="string">&quot;All pruning performed for [{}], tombstoned&quot;</span>, <span title="akka.cluster.UniqueAddress">removed</span><span class="delimiter">)</span>
        <a href="#akka.cluster.ddata;Replicator.pruningPerformed_=" title="(x$1: Map[akka.cluster.UniqueAddress,Long])Unit">pruningPerformed</a> <span title="(key: akka.cluster.UniqueAddress)scala.collection.immutable.Map[akka.cluster.UniqueAddress,Long]">-=</span> <span title="akka.cluster.UniqueAddress">removed</span>
        <a href="#akka.cluster.ddata;Replicator.removedNodes_=" title="(x$1: Map[akka.cluster.UniqueAddress,Long])Unit">removedNodes</a> <span title="(key: akka.cluster.UniqueAddress)scala.collection.immutable.Map[akka.cluster.UniqueAddress,Long]">-=</span> <span title="akka.cluster.UniqueAddress">removed</span>
        <a href="#akka.cluster.ddata;Replicator.tombstoneNodes_=" title="(x$1: Set[akka.cluster.UniqueAddress])Unit">tombstoneNodes</a> <span title="(elem: akka.cluster.UniqueAddress)scala.collection.immutable.Set[akka.cluster.UniqueAddress]">+=</span> <span title="akka.cluster.UniqueAddress">removed</span>
        <a href="#akka.cluster.ddata;Replicator.dataEntries_=" title="=&gt; scala.collection.immutable.Map[String,(akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest)]">dataEntries</a>.<span title="(f: ((String, (akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.ddata.Replicator.Internal.Digest))) =&gt; Unit)Unit">foreach</span> <a href="#akka.cluster.ddata;Replicator.tombstoneRemovedNodePruning.$anonfun.$anonfun.x0$14" title="Unit" class="delimiter">{</a>
          case <span class="delimiter">(</span><a title="String" id="akka.cluster.ddata;Replicator.tombstoneRemovedNodePruning.$anonfun.$anonfun.key">key</a>, <span class="delimiter">(</span><a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata;Replicator.tombstoneRemovedNodePruning.$anonfun.$anonfun.envelope">envelope</a> @ DataEnvelope<span class="delimiter">(</span><a title="akka.cluster.ddata.RemovedNodePruning" id="akka.cluster.ddata;Replicator.tombstoneRemovedNodePruning.$anonfun.$anonfun.data">data</a>: <a href="ReplicatedData.scala.html#akka.cluster.ddata;RemovedNodePruning" title="akka.cluster.ddata.RemovedNodePruning">RemovedNodePruning</a>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span><span class="delimiter">)</span> ⇒
            <a href="#akka.cluster.ddata;Replicator.setData" title="(key: String, envelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)Unit">setData</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.tombstoneRemovedNodePruning.$anonfun.$anonfun.key" title="String">key</a>, <a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(26a5d3e993)" title="(removed: akka.cluster.UniqueAddress, envelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)akka.cluster.ddata.Replicator.Internal.DataEnvelope">pruningCleanupTombstoned</a><span class="delimiter">(</span><span title="akka.cluster.UniqueAddress">removed</span>, <a href="#akka.cluster.ddata;Replicator.tombstoneRemovedNodePruning.$anonfun.$anonfun.envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a><span class="delimiter">)</span><span class="delimiter">)</span>
          case _ ⇒ <span class="comment">// deleted, or pruning not needed</span>
        <span class="delimiter">}</span>
      case <span class="delimiter">(</span><span title="akka.cluster.UniqueAddress">removed</span>, <span title="Long">timestamp</span><span class="delimiter">)</span> ⇒ <span class="comment">// not ready</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(envelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata;Replicator.pruningCleanupTombstoned(a53e191b8b)">pruningCleanupTombstoned</a><span class="delimiter">(</span><a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata;Replicator.pruningCleanupTombstoned(a53e191b8b).envelope">envelope</a>: <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.readResolve" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">DataEnvelope</a><span class="delimiter">)</span>: <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.readResolve" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">DataEnvelope</a> =
    <a href="#akka.cluster.ddata;Replicator.tombstoneNodes_=" title="=&gt; Set[akka.cluster.UniqueAddress]">tombstoneNodes</a>.<span title="(z: akka.cluster.ddata.Replicator.Internal.DataEnvelope)(op: (akka.cluster.ddata.Replicator.Internal.DataEnvelope, akka.cluster.UniqueAddress) =&gt; akka.cluster.ddata.Replicator.Internal.DataEnvelope)akka.cluster.ddata.Replicator.Internal.DataEnvelope">foldLeft</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(a53e191b8b).envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata;Replicator.pruningCleanupTombstoned(a53e191b8b).$anonfun.c">c</a>, <a title="akka.cluster.UniqueAddress" id="akka.cluster.ddata;Replicator.pruningCleanupTombstoned(a53e191b8b).$anonfun.removed">removed</a><span class="delimiter">)</span> ⇒ <a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(26a5d3e993)" title="(removed: akka.cluster.UniqueAddress, envelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)akka.cluster.ddata.Replicator.Internal.DataEnvelope">pruningCleanupTombstoned</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(a53e191b8b).$anonfun.removed" title="akka.cluster.UniqueAddress">removed</a>, <a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(a53e191b8b).$anonfun.c" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">c</a><span class="delimiter">)</span><span class="delimiter">)</span>

  def <a title="(removed: akka.cluster.UniqueAddress, envelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata;Replicator.pruningCleanupTombstoned(26a5d3e993)">pruningCleanupTombstoned</a><span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster.ddata;Replicator.pruningCleanupTombstoned(26a5d3e993).removed">removed</a>: <a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a>, <a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata;Replicator.pruningCleanupTombstoned(26a5d3e993).envelope">envelope</a>: <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.readResolve" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">DataEnvelope</a><span class="delimiter">)</span>: <a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.readResolve" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">DataEnvelope</a> = <span class="delimiter">{</span>
    val <a title="akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata;Replicator.pruningCleanupTombstoned(26a5d3e993).pruningCleanuped">pruningCleanuped</a> = <a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(05a5f13605)" title="(removed: akka.cluster.UniqueAddress, data: akka.cluster.ddata.ReplicatedData)akka.cluster.ddata.ReplicatedData">pruningCleanupTombstoned</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(26a5d3e993).removed" title="akka.cluster.UniqueAddress">removed</a>, <a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(26a5d3e993).envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a>.<a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.data" title="=&gt; akka.cluster.ddata.ReplicatedData">data</a><span class="delimiter">)</span>
    if <span class="delimiter">(</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(26a5d3e993).pruningCleanuped" title="akka.cluster.ddata.ReplicatedData">pruningCleanuped</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(26a5d3e993).envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a>.<a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.data" title="=&gt; akka.cluster.ddata.ReplicatedData">data</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(26a5d3e993).envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a>.<a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.<init>$default$2" title="=&gt; Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]">pruning</a>.<span title="(key: akka.cluster.UniqueAddress)Boolean">contains</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(26a5d3e993).removed" title="akka.cluster.UniqueAddress">removed</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(26a5d3e993).envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a>.<a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.readResolve" title="(data: akka.cluster.ddata.ReplicatedData, pruning: Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState])akka.cluster.ddata.Replicator.Internal.DataEnvelope">copy</a><span class="delimiter">(</span>data = <a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(26a5d3e993).pruningCleanuped" title="akka.cluster.ddata.ReplicatedData">pruningCleanuped</a>, pruning = <a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(26a5d3e993).envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a>.<a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.<init>$default$2" title="=&gt; Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]">pruning</a> <span title="(key: akka.cluster.UniqueAddress)scala.collection.immutable.Map[akka.cluster.UniqueAddress,akka.cluster.ddata.PruningState]">-</span> <a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(26a5d3e993).removed" title="akka.cluster.UniqueAddress">removed</a><span class="delimiter">)</span>
    else
      <a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(26a5d3e993).envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a>
  <span class="delimiter">}</span>

  def <a title="(data: akka.cluster.ddata.ReplicatedData)akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata;Replicator.pruningCleanupTombstoned(e48c5bcf2b)">pruningCleanupTombstoned</a><span class="delimiter">(</span><a title="akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata;Replicator.pruningCleanupTombstoned(e48c5bcf2b).data">data</a>: <a href="ReplicatedData.scala.html#akka.cluster.ddata;ReplicatedData" title="akka.cluster.ddata.ReplicatedData">ReplicatedData</a><span class="delimiter">)</span>: <a href="ReplicatedData.scala.html#akka.cluster.ddata;ReplicatedData" title="akka.cluster.ddata.ReplicatedData">ReplicatedData</a> =
    if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.tombstoneNodes_=" title="=&gt; Set[akka.cluster.UniqueAddress]">tombstoneNodes</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(e48c5bcf2b).data" title="akka.cluster.ddata.ReplicatedData">data</a>
    else <a href="#akka.cluster.ddata;Replicator.tombstoneNodes_=" title="=&gt; Set[akka.cluster.UniqueAddress]">tombstoneNodes</a>.<span title="(z: akka.cluster.ddata.ReplicatedData)(op: (akka.cluster.ddata.ReplicatedData, akka.cluster.UniqueAddress) =&gt; akka.cluster.ddata.ReplicatedData)akka.cluster.ddata.ReplicatedData">foldLeft</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(e48c5bcf2b).data" title="akka.cluster.ddata.ReplicatedData">data</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata;Replicator.pruningCleanupTombstoned(e48c5bcf2b).$anonfun.c">c</a>, <a title="akka.cluster.UniqueAddress" id="akka.cluster.ddata;Replicator.pruningCleanupTombstoned(e48c5bcf2b).$anonfun.removed">removed</a><span class="delimiter">)</span> ⇒ <a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(05a5f13605)" title="(removed: akka.cluster.UniqueAddress, data: akka.cluster.ddata.ReplicatedData)akka.cluster.ddata.ReplicatedData">pruningCleanupTombstoned</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(e48c5bcf2b).$anonfun.removed" title="akka.cluster.UniqueAddress">removed</a>, <a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(e48c5bcf2b).$anonfun.c" title="akka.cluster.ddata.ReplicatedData">c</a><span class="delimiter">)</span><span class="delimiter">)</span>

  def <a title="(removed: akka.cluster.UniqueAddress, data: akka.cluster.ddata.ReplicatedData)akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata;Replicator.pruningCleanupTombstoned(05a5f13605)">pruningCleanupTombstoned</a><span class="delimiter">(</span><a title="akka.cluster.UniqueAddress" id="akka.cluster.ddata;Replicator.pruningCleanupTombstoned(05a5f13605).removed">removed</a>: <a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;UniqueAddress" title="akka.cluster.UniqueAddress">UniqueAddress</a>, <a title="akka.cluster.ddata.ReplicatedData" id="akka.cluster.ddata;Replicator.pruningCleanupTombstoned(05a5f13605).data">data</a>: <a href="ReplicatedData.scala.html#akka.cluster.ddata;ReplicatedData" title="akka.cluster.ddata.ReplicatedData">ReplicatedData</a><span class="delimiter">)</span>: <a href="ReplicatedData.scala.html#akka.cluster.ddata;ReplicatedData" title="akka.cluster.ddata.ReplicatedData">ReplicatedData</a> =
    <a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(05a5f13605).data" title="akka.cluster.ddata.ReplicatedData">data</a> match <span class="delimiter">{</span>
      case <a title="akka.cluster.ddata.RemovedNodePruning" id="akka.cluster.ddata;Replicator.pruningCleanupTombstoned(05a5f13605).dataWithRemovedNodePruning">dataWithRemovedNodePruning</a>: <a href="ReplicatedData.scala.html#akka.cluster.ddata;RemovedNodePruning" title="akka.cluster.ddata.RemovedNodePruning">RemovedNodePruning</a> ⇒
        if <span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(05a5f13605).dataWithRemovedNodePruning" title="akka.cluster.ddata.RemovedNodePruning">dataWithRemovedNodePruning</a>.<a href="ReplicatedData.scala.html#akka.cluster.ddata;RemovedNodePruning.needPruningFrom" title="(removedNode: akka.cluster.UniqueAddress)Boolean">needPruningFrom</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(05a5f13605).removed" title="akka.cluster.UniqueAddress">removed</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(05a5f13605).dataWithRemovedNodePruning" title="akka.cluster.ddata.RemovedNodePruning">dataWithRemovedNodePruning</a>.<a href="ReplicatedData.scala.html#akka.cluster.ddata;RemovedNodePruning.pruningCleanup" title="(removedNode: akka.cluster.UniqueAddress)dataWithRemovedNodePruning.T">pruningCleanup</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(05a5f13605).removed" title="akka.cluster.UniqueAddress">removed</a><span class="delimiter">)</span> else <a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(05a5f13605).data" title="akka.cluster.ddata.ReplicatedData">data</a>
      case _ ⇒ <a href="#akka.cluster.ddata;Replicator.pruningCleanupTombstoned(05a5f13605).data" title="akka.cluster.ddata.ReplicatedData">data</a>
    <span class="delimiter">}</span>

  def <a title="()Unit" id="akka.cluster.ddata;Replicator.receiveGetReplicaCount">receiveGetReplicaCount</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span class="comment">// selfAddress is not included in the set</span>
    <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef" class="delimiter">(</a><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.ddata.Replicator.ReplicaCount.readResolve" title="(n: Int)akka.cluster.ddata.Replicator.ReplicaCount">ReplicaCount</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;Replicator.nodes_=" title="=&gt; Set[akka.actor.Address]">nodes</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>akka<span class="delimiter">]</span> object <a title="akka.cluster.ddata.ReadWriteAggregator.type" id="akka.cluster.ddata.ReadWriteAggregator">ReadWriteAggregator</a> <a href="#akka.cluster.ddata.ReadWriteAggregator" title="akka.cluster.ddata.ReadWriteAggregator.type" class="delimiter">{</a>
  case object <a href="#akka.cluster.ddata.ReadWriteAggregator.SendToSecondary.productElement.x$1" title="akka.cluster.ddata.ReadWriteAggregator.SendToSecondary.type" id="akka.cluster.ddata.ReadWriteAggregator.SendToSecondary.readResolve">SendToSecondary</a>
  val <a title="Int" id="akka.cluster.ddata.ReadWriteAggregator.MaxSecondaryNodes">MaxSecondaryNodes</a> = <span title="Int(10)" class="int">10</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>akka<span class="delimiter">]</span> abstract class <a title="class ReadWriteAggregator extends AnyRef with akka.actor.Actor" id="akka.cluster.ddata;ReadWriteAggregator">ReadWriteAggregator</a> extends <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor" title="akka.actor.Actor">Actor</a> <span class="delimiter">{</span>
  import <a href="#akka.cluster.ddata.Replicator" title="akka.cluster.ddata.Replicator.type">Replicator</a>.<a href="#akka.cluster.ddata.Replicator.Internal" title="akka.cluster.ddata.Replicator.Internal.type">Internal</a>._
  import <a href="#akka.cluster.ddata.ReadWriteAggregator" title="akka.cluster.ddata.ReadWriteAggregator.type">ReadWriteAggregator</a>._

  def <a title="=&gt; scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata;ReadWriteAggregator.timeout">timeout</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span>
  def <a title="=&gt; Set[akka.actor.Address]" id="akka.cluster.ddata;ReadWriteAggregator.nodes">nodes</a>: <span title="Set[akka.actor.Address]">Set</span><span class="delimiter">[</span>Address<span class="delimiter">]</span>

  import <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.dispatcher
  var <a title="akka.actor.Cancellable" id="akka.cluster.ddata;ReadWriteAggregator.sendToSecondarySchedule_=">sendToSecondarySchedule</a> = <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.scheduler" title="=&gt; akka.actor.Scheduler">scheduler</a>.<a href="../../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Scheduler.scheduleOnce(a2d55b51db)" title="(delay: scala.concurrent.duration.FiniteDuration, receiver: akka.actor.ActorRef, message: Any)(implicit executor: scala.concurrent.ExecutionContext, implicit sender: akka.actor.ActorRef)akka.actor.Cancellable">scheduleOnce</a><a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.dispatcher" title="=&gt; scala.concurrent.ExecutionContextExecutor" class="delimiter">(</a><a href="#akka.cluster.ddata;ReadWriteAggregator.timeout" title="=&gt; scala.concurrent.duration.FiniteDuration">timeout</a> <span title="(divisor: Long)scala.concurrent.duration.FiniteDuration">/</span> <span title="Long(5L)" class="int">5</span>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>, <a href="#akka.cluster.ddata.ReadWriteAggregator.SendToSecondary.readResolve" title="akka.cluster.ddata.ReadWriteAggregator.SendToSecondary.type">SendToSecondary</a><span class="delimiter">)</span>
  var <a title="akka.actor.Cancellable" id="akka.cluster.ddata;ReadWriteAggregator.timeoutSchedule_=">timeoutSchedule</a> = <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.scheduler" title="=&gt; akka.actor.Scheduler">scheduler</a>.<a href="../../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Scheduler.scheduleOnce(a2d55b51db)" title="(delay: scala.concurrent.duration.FiniteDuration, receiver: akka.actor.ActorRef, message: Any)(implicit executor: scala.concurrent.ExecutionContext, implicit sender: akka.actor.ActorRef)akka.actor.Cancellable">scheduleOnce</a><a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.dispatcher" title="=&gt; scala.concurrent.ExecutionContextExecutor" class="delimiter">(</a><a href="#akka.cluster.ddata;ReadWriteAggregator.timeout" title="=&gt; scala.concurrent.duration.FiniteDuration">timeout</a>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor.ReceiveTimeout" title="akka.actor.ReceiveTimeout.type">ReceiveTimeout</a><span class="delimiter">)</span>

  var <a title="Set[akka.actor.Address]" id="akka.cluster.ddata;ReadWriteAggregator.remaining_=">remaining</a> = <a href="#akka.cluster.ddata;ReadWriteAggregator.nodes" title="=&gt; Set[akka.actor.Address]">nodes</a>

  def <a title="=&gt; Int" id="akka.cluster.ddata;ReadWriteAggregator.doneWhenRemainingSize">doneWhenRemainingSize</a>: <span title="Int">Int</span>

  lazy val <a title="(scala.collection.immutable.Iterable[akka.actor.Address] with akka.actor.Address with Int =&gt; Any{def seq: scala.collection.immutable.Iterable[akka.actor.Address] with akka.actor.Address with Int =&gt; Any}, scala.collection.immutable.Iterable[akka.actor.Address] with akka.actor.Address with Int =&gt; Any{def seq: scala.collection.immutable.Iterable[akka.actor.Address] with akka.actor.Address with Int =&gt; Any})" id="akka.cluster.ddata;ReadWriteAggregator.x$9" class="delimiter">(</a><a title="&lt;refinement of scala.collection.immutable.Iterable[akka.actor.Address] with akka.actor.Address with Int =&gt; Any&gt; extends scala.collection.immutable.Iterable[akka.actor.Address] with akka.actor.Address with Int =&gt; Any" id="akka.cluster.ddata;ReadWriteAggregator.primaryNodes">primaryNodes</a>, <a title="&lt;refinement of scala.collection.immutable.Iterable[akka.actor.Address] with akka.actor.Address with Int =&gt; Any&gt; extends scala.collection.immutable.Iterable[akka.actor.Address] with akka.actor.Address with Int =&gt; Any" id="akka.cluster.ddata;ReadWriteAggregator.secondaryNodes">secondaryNodes</a><span class="delimiter">)</span> = <span title="(scala.collection.immutable.Iterable[akka.actor.Address] with akka.actor.Address with Int =&gt; Any{def seq: scala.collection.immutable.Iterable[akka.actor.Address] with akka.actor.Address with Int =&gt; Any}, scala.collection.immutable.Iterable[akka.actor.Address] with akka.actor.Address with Int =&gt; Any{def seq: scala.collection.immutable.Iterable[akka.actor.Address] with akka.actor.Address with Int =&gt; Any}) @unchecked" class="delimiter">{</span>
    val primarySize = <a href="#akka.cluster.ddata;ReadWriteAggregator.nodes" title="=&gt; Set[akka.actor.Address]">nodes</a>.<span title="=&gt; Int">size</span> <a title="Int" id="akka.cluster.ddata;ReadWriteAggregator.x$9.primarySize">-</a> <a href="#akka.cluster.ddata;ReadWriteAggregator.doneWhenRemainingSize" title="=&gt; Int">doneWhenRemainingSize</a>
    if <span class="delimiter">(</span><a href="#akka.cluster.ddata;ReadWriteAggregator.x$9.primarySize" title="Int">primarySize</a> <span title="(x: Int)Boolean">&gt;=</span> <a href="#akka.cluster.ddata;ReadWriteAggregator.nodes" title="=&gt; Set[akka.actor.Address]">nodes</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>
      <span title="(_1: Set[akka.actor.Address], _2: scala.collection.immutable.Set[akka.actor.Address])(Set[akka.actor.Address], scala.collection.immutable.Set[akka.actor.Address])" class="delimiter">(</span><a href="#akka.cluster.ddata;ReadWriteAggregator.nodes" title="=&gt; Set[akka.actor.Address]">nodes</a>, <span title="=&gt; scala.collection.immutable.Set.type">Set</span>.<span title="[A]=&gt; scala.collection.immutable.Set[A]">empty</span><span title="scala.collection.immutable.Set[akka.actor.Address]" class="delimiter">[</span><a href="../../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a><span class="delimiter">]</span><span class="delimiter">)</span>
    else <span class="delimiter">{</span>
      val <a href="#akka.cluster.ddata;ReadWriteAggregator.x$9.p" title="(scala.collection.immutable.Vector[akka.actor.Address], scala.collection.immutable.Vector[akka.actor.Address])" class="delimiter">(</a><a href="#akka.cluster.ddata;ReadWriteAggregator.x$9.x$8" title="scala.collection.immutable.Vector[akka.actor.Address]" id="akka.cluster.ddata;ReadWriteAggregator.x$9.p">p</a>, <a href="#akka.cluster.ddata;ReadWriteAggregator.x$9.x$8" title="scala.collection.immutable.Vector[akka.actor.Address]" id="akka.cluster.ddata;ReadWriteAggregator.x$9.s">s</a><span class="delimiter">)</span> = scala.util.<span title="scala.util.Random.type">Random</span>.<span title="(xs: Vector[akka.actor.Address])(implicit bf: scala.collection.generic.CanBuildFrom[Vector[akka.actor.Address],akka.actor.Address,Vector[akka.actor.Address]])Vector[akka.actor.Address]">shuffle</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Vector.Coll,akka.actor.Address,scala.collection.immutable.Vector[akka.actor.Address]]" class="delimiter">(</span><a href="#akka.cluster.ddata;ReadWriteAggregator.nodes" title="=&gt; Set[akka.actor.Address]">nodes</a>.<span title="=&gt; Vector[akka.actor.Address]">toVector</span><span class="delimiter">)</span>.<span title="(n: Int)(scala.collection.immutable.Vector[akka.actor.Address], scala.collection.immutable.Vector[akka.actor.Address])">splitAt</span><span title="(scala.collection.immutable.Vector[akka.actor.Address], scala.collection.immutable.Vector[akka.actor.Address]) @unchecked" class="delimiter">(</span><a href="#akka.cluster.ddata;ReadWriteAggregator.x$9.primarySize" title="Int">primarySize</a><span class="delimiter">)</span>
      <span title="(_1: scala.collection.immutable.Vector[akka.actor.Address], _2: scala.collection.immutable.Vector[akka.actor.Address])(scala.collection.immutable.Vector[akka.actor.Address], scala.collection.immutable.Vector[akka.actor.Address])" class="delimiter">(</span><a href="#akka.cluster.ddata;ReadWriteAggregator.x$9.p" title="scala.collection.immutable.Vector[akka.actor.Address]">p</a>, <a href="#akka.cluster.ddata;ReadWriteAggregator.x$9.s" title="scala.collection.immutable.Vector[akka.actor.Address]">s</a>.<span title="(n: Int)scala.collection.immutable.Vector[akka.actor.Address]">take</span><span class="delimiter">(</span><a href="#akka.cluster.ddata.ReadWriteAggregator.MaxSecondaryNodes" title="=&gt; Int">MaxSecondaryNodes</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  override def <a title="()Unit" id="akka.cluster.ddata;ReadWriteAggregator.postStop">postStop</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#akka.cluster.ddata;ReadWriteAggregator.sendToSecondarySchedule_=" title="=&gt; akka.actor.Cancellable">sendToSecondarySchedule</a>.<a href="../../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Cancellable.cancel" title="()Boolean">cancel</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#akka.cluster.ddata;ReadWriteAggregator.timeoutSchedule_=" title="=&gt; akka.actor.Cancellable">timeoutSchedule</a>.<a href="../../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Cancellable.cancel" title="()Boolean">cancel</a><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(address: akka.actor.Address)akka.actor.ActorSelection" id="akka.cluster.ddata;ReadWriteAggregator.replica">replica</a><span class="delimiter">(</span><a title="akka.actor.Address" id="akka.cluster.ddata;ReadWriteAggregator.replica.address">address</a>: <a href="../../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a><span class="delimiter">)</span>: <a href="../../../../actor/akka/actor/ActorSelection.scala.html#akka.actor;ActorSelection" title="akka.actor.ActorSelection">ActorSelection</a> =
    <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.actorSelection(271eeb39be)" title="(path: String)akka.actor.ActorSelection">actorSelection</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.parent" title="=&gt; akka.actor.ActorRef">parent</a>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a>.<a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath.toStringWithAddress" title="(address: akka.actor.Address)String">toStringWithAddress</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;ReadWriteAggregator.replica.address" title="akka.actor.Address">address</a><span class="delimiter">)</span><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>akka<span class="delimiter">]</span> object <a title="akka.cluster.ddata.WriteAggregator.type" id="akka.cluster.ddata.WriteAggregator">WriteAggregator</a> <a href="#akka.cluster.ddata.WriteAggregator" title="akka.cluster.ddata.WriteAggregator.type" class="delimiter">{</a>
  def <a title="(key: akka.cluster.ddata.Key.KeyR, envelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope, consistency: akka.cluster.ddata.Replicator.WriteConsistency, req: Option[Any], nodes: Set[akka.actor.Address], replyTo: akka.actor.ActorRef)akka.actor.Props" id="akka.cluster.ddata.WriteAggregator.props">props</a><span class="delimiter">(</span>
    <a title="akka.cluster.ddata.Key.KeyR" id="akka.cluster.ddata.WriteAggregator.props.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key.KeyR">KeyR</a>,
    <a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata.WriteAggregator.props.envelope">envelope</a>: Replicator.Internal.<a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.readResolve" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">DataEnvelope</a>,
    <a title="akka.cluster.ddata.Replicator.WriteConsistency" id="akka.cluster.ddata.WriteAggregator.props.consistency">consistency</a>: Replicator.<a href="#akka.cluster.ddata.Replicator;WriteConsistency" title="akka.cluster.ddata.Replicator.WriteConsistency">WriteConsistency</a>,
    <a title="Option[Any]" id="akka.cluster.ddata.WriteAggregator.props.req">req</a>: <span title="Option[Any]">Option</span><span class="delimiter">[</span>Any<span class="delimiter">]</span>,
    <a title="Set[akka.actor.Address]" id="akka.cluster.ddata.WriteAggregator.props.nodes">nodes</a>: <span title="Set[akka.actor.Address]">Set</span><span class="delimiter">[</span>Address<span class="delimiter">]</span>,
    <a title="akka.actor.ActorRef" id="akka.cluster.ddata.WriteAggregator.props.replyTo">replyTo</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: <a href="../../../../actor/akka/actor/Props.scala.html#akka.actor;Props" title="akka.actor.Props">Props</a> =
    <a href="../../../../actor/akka/actor/Props.scala.html#akka.actor.Props.apply(b09a6a316b)" title="(creator: =&gt; akka.cluster.ddata.WriteAggregator)(implicit evidence$2: scala.reflect.ClassTag[akka.cluster.ddata.WriteAggregator])akka.actor.Props">Props</a><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[akka.cluster.ddata.WriteAggregator]" class="delimiter">(</span>new <a href="#akka.cluster.ddata;WriteAggregator" title="akka.cluster.ddata.WriteAggregator">WriteAggregator</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.WriteAggregator.props.key" title="akka.cluster.ddata.Key.KeyR">key</a>, <a href="#akka.cluster.ddata.WriteAggregator.props.envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a>, <a href="#akka.cluster.ddata.WriteAggregator.props.consistency" title="akka.cluster.ddata.Replicator.WriteConsistency">consistency</a>, <a href="#akka.cluster.ddata.WriteAggregator.props.req" title="Option[Any]">req</a>, <a href="#akka.cluster.ddata.WriteAggregator.props.nodes" title="Set[akka.actor.Address]">nodes</a>, <a href="#akka.cluster.ddata.WriteAggregator.props.replyTo" title="akka.actor.ActorRef">replyTo</a><span class="delimiter">)</span><span class="delimiter">)</span>
      .<a href="../../../../actor/akka/actor/Props.scala.html#akka.actor;Props.withDeploy" title="(d: akka.actor.Deploy)akka.actor.Props">withDeploy</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Deployer.scala.html#akka.actor.Deploy" title="akka.actor.Deploy.type">Deploy</a>.<a href="../../../../actor/akka/actor/Deployer.scala.html#akka.actor.Deploy.local" title="=&gt; akka.actor.Deploy">local</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>akka<span class="delimiter">]</span> class <a title="class WriteAggregator extends akka.cluster.ddata.ReadWriteAggregator" id="akka.cluster.ddata;WriteAggregator">WriteAggregator</a><a href="#akka.cluster.ddata;WriteAggregator" title="akka.cluster.ddata.WriteAggregator" class="delimiter">(</a>
  <a title="akka.cluster.ddata.Key.KeyR" id="akka.cluster.ddata;WriteAggregator.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key.KeyR">KeyR</a>,
  <a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata;WriteAggregator.envelope">envelope</a>: Replicator.Internal.<a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.readResolve" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">DataEnvelope</a>,
  <a title="akka.cluster.ddata.Replicator.WriteConsistency" id="akka.cluster.ddata;WriteAggregator.consistency">consistency</a>: Replicator.<a href="#akka.cluster.ddata.Replicator;WriteConsistency" title="akka.cluster.ddata.Replicator.WriteConsistency">WriteConsistency</a>,
  <a title="Option[Any]" id="akka.cluster.ddata;WriteAggregator.req">req</a>: <span title="Option[Any]">Option</span><span class="delimiter">[</span>Any<span class="delimiter">]</span>,
  override val <a title="Set[akka.actor.Address]" id="akka.cluster.ddata;WriteAggregator.nodes">nodes</a>: <span title="Set[akka.actor.Address]">Set</span><span class="delimiter">[</span>Address<span class="delimiter">]</span>,
  <a title="akka.actor.ActorRef" id="akka.cluster.ddata;WriteAggregator.replyTo">replyTo</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span> extends <a href="#akka.cluster.ddata;ReadWriteAggregator" title="akka.cluster.ddata.ReadWriteAggregator">ReadWriteAggregator</a> <span class="delimiter">{</span>

  import <a href="#akka.cluster.ddata.Replicator" title="akka.cluster.ddata.Replicator.type">Replicator</a>._
  import <a href="#akka.cluster.ddata.Replicator" title="akka.cluster.ddata.Replicator.type">Replicator</a>.<a href="#akka.cluster.ddata.Replicator.Internal" title="akka.cluster.ddata.Replicator.Internal.type">Internal</a>._
  import <a href="#akka.cluster.ddata.ReadWriteAggregator" title="akka.cluster.ddata.ReadWriteAggregator.type">ReadWriteAggregator</a>._

  override def <a title="=&gt; scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata;WriteAggregator.timeout">timeout</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span> = <a href="#akka.cluster.ddata;WriteAggregator.consistency" title="akka.cluster.ddata.Replicator.WriteConsistency">consistency</a>.<a href="#akka.cluster.ddata.Replicator;WriteConsistency.timeout" title="=&gt; scala.concurrent.duration.FiniteDuration">timeout</a>

  override val <a title="Int" id="akka.cluster.ddata;WriteAggregator.doneWhenRemainingSize">doneWhenRemainingSize</a> = <a href="#akka.cluster.ddata;WriteAggregator.consistency" title="akka.cluster.ddata.Replicator.WriteConsistency">consistency</a> match <span class="delimiter">{</span>
    case WriteTo<span class="delimiter">(</span><a title="Int" id="akka.cluster.ddata;WriteAggregator.doneWhenRemainingSize.n">n</a>, _<span class="delimiter">)</span> ⇒ <a href="#akka.cluster.ddata;WriteAggregator.nodes" title="=&gt; Set[akka.actor.Address]">nodes</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Int">-</span> <span class="delimiter">(</span><a href="#akka.cluster.ddata;WriteAggregator.doneWhenRemainingSize.n" title="Int">n</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    case _: <a href="#akka.cluster.ddata.Replicator.WriteAll.readResolve" title="akka.cluster.ddata.Replicator.WriteAll">WriteAll</a>   ⇒ <span title="Int(0)" class="int">0</span>
    case _: <a href="#akka.cluster.ddata.Replicator.WriteMajority.readResolve" title="akka.cluster.ddata.Replicator.WriteMajority">WriteMajority</a> ⇒
      val N = <a href="#akka.cluster.ddata;WriteAggregator.nodes" title="=&gt; Set[akka.actor.Address]">nodes</a>.<span title="=&gt; Int">size</span> <a title="Int" id="akka.cluster.ddata;WriteAggregator.doneWhenRemainingSize.N">+</a> <span title="Int(1)" class="int">1</span>
      val w = <a href="#akka.cluster.ddata;WriteAggregator.doneWhenRemainingSize.N" title="Int">N</a> <span title="(x: Int)Int">/</span> <span title="Int(2)" class="int">2</span> <a title="Int" id="akka.cluster.ddata;WriteAggregator.doneWhenRemainingSize.w">+</a> <span title="Int(1)" class="int">1</span> <span class="comment">// write to at least (N/2+1) nodes</span>
      <a href="#akka.cluster.ddata;WriteAggregator.doneWhenRemainingSize.N" title="Int">N</a> <span title="(x: Int)Int">-</span> <a href="#akka.cluster.ddata;WriteAggregator.doneWhenRemainingSize.w" title="Int">w</a>
    case <a href="#akka.cluster.ddata.Replicator.WriteLocal.readResolve" title="akka.cluster.ddata.Replicator.WriteLocal.type">WriteLocal</a> ⇒
      throw new <span title="IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span><span title="String(&quot;ReadLocal not supported by WriteAggregator&quot;)" class="string">&quot;ReadLocal not supported by WriteAggregator&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  val <a title="akka.cluster.ddata.Replicator.Internal.Write" id="akka.cluster.ddata;WriteAggregator.writeMsg">writeMsg</a> = <a href="#akka.cluster.ddata.Replicator.Internal.Write.readResolve" title="(key: String, envelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)akka.cluster.ddata.Replicator.Internal.Write">Write</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;WriteAggregator.key" title="akka.cluster.ddata.Key.KeyR">key</a>.<a href="Key.scala.html#akka.cluster.ddata;Key.id" title="=&gt; String">id</a>, <a href="#akka.cluster.ddata;WriteAggregator.envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a><span class="delimiter">)</span>

  override def <a title="()Unit" id="akka.cluster.ddata;WriteAggregator.preStart">preStart</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#akka.cluster.ddata;ReadWriteAggregator.primaryNodes" title="=&gt; scala.collection.immutable.Iterable[akka.actor.Address] with akka.actor.Address with Int =&gt; Any{def seq: scala.collection.immutable.Iterable[akka.actor.Address] with akka.actor.Address with Int =&gt; Any}">primaryNodes</a>.<span title="(f: akka.actor.Address =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a href="#akka.cluster.ddata;ReadWriteAggregator.replica" title="(address: akka.actor.Address)akka.actor.ActorSelection">replica</a><a href="../../../../actor/akka/actor/ActorSelection.scala.html#akka.actor.ActorSelection.toScala" title="implicit akka.actor.ActorSelection.toScala : (sel: akka.actor.ActorSelection)akka.actor.ScalaActorSelection" class="delimiter">(</a><a href="#akka.cluster.ddata;WriteAggregator.preStart.$anonfun.x$10" title="akka.actor.Address">_</a><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/ActorSelection.scala.html#akka.actor;ScalaActorSelection.!" title="(msg: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.ddata;WriteAggregator.writeMsg" title="=&gt; akka.cluster.ddata.Replicator.Internal.Write">writeMsg</a> <span class="delimiter">}</span>

    if <span class="delimiter">(</span><a href="#akka.cluster.ddata;ReadWriteAggregator.remaining_=" title="=&gt; Set[akka.actor.Address]">remaining</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <a href="#akka.cluster.ddata;WriteAggregator.doneWhenRemainingSize" title="=&gt; Int">doneWhenRemainingSize</a><span class="delimiter">)</span>
      <a href="#akka.cluster.ddata;WriteAggregator.reply" title="(ok: Boolean)Unit">reply</a><span class="delimiter">(</span>ok = true<span class="delimiter">)</span>
    else if <span class="delimiter">(</span><a href="#akka.cluster.ddata;WriteAggregator.doneWhenRemainingSize" title="=&gt; Int">doneWhenRemainingSize</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">||</span> <a href="#akka.cluster.ddata;ReadWriteAggregator.remaining_=" title="=&gt; Set[akka.actor.Address]">remaining</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&lt;</span> <a href="#akka.cluster.ddata;WriteAggregator.doneWhenRemainingSize" title="=&gt; Int">doneWhenRemainingSize</a><span class="delimiter">)</span>
      <a href="#akka.cluster.ddata;WriteAggregator.reply" title="(ok: Boolean)Unit">reply</a><span class="delimiter">(</span>ok = false<span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="=&gt; PartialFunction[Any,Unit]" id="akka.cluster.ddata;WriteAggregator.receive">receive</a> = <a title="&lt;$anon: Any =&gt; Unit&gt; extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="akka.cluster.ddata;WriteAggregator.receive;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    case <a href="#akka.cluster.ddata.Replicator.Internal.WriteAck.readResolve" title="akka.cluster.ddata.Replicator.Internal.WriteAck.type">WriteAck</a> ⇒
      <a href="#akka.cluster.ddata;ReadWriteAggregator.remaining_=" title="(x$1: Set[akka.actor.Address])Unit">remaining</a> <span title="(elem: akka.actor.Address)scala.collection.immutable.Set[akka.actor.Address]">-=</span> <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a>.<a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath.address" title="=&gt; akka.actor.Address">address</a>
      if <span class="delimiter">(</span><a href="#akka.cluster.ddata;ReadWriteAggregator.remaining_=" title="=&gt; Set[akka.actor.Address]">remaining</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <a href="#akka.cluster.ddata;WriteAggregator.doneWhenRemainingSize" title="=&gt; Int">doneWhenRemainingSize</a><span class="delimiter">)</span>
        <a href="#akka.cluster.ddata;WriteAggregator.reply" title="(ok: Boolean)Unit">reply</a><span class="delimiter">(</span>ok = true<span class="delimiter">)</span>
    case <a href="#akka.cluster.ddata.ReadWriteAggregator.SendToSecondary.readResolve" title="akka.cluster.ddata.ReadWriteAggregator.SendToSecondary.type">SendToSecondary</a> ⇒
      <a href="#akka.cluster.ddata;ReadWriteAggregator.secondaryNodes" title="=&gt; scala.collection.immutable.Iterable[akka.actor.Address] with akka.actor.Address with Int =&gt; Any{def seq: scala.collection.immutable.Iterable[akka.actor.Address] with akka.actor.Address with Int =&gt; Any}">secondaryNodes</a>.<span title="(f: akka.actor.Address =&gt; Unit)Unit">foreach</span> <span title="Boolean(true)" class="delimiter">{</span> <a href="#akka.cluster.ddata;ReadWriteAggregator.replica" title="(address: akka.actor.Address)akka.actor.ActorSelection">replica</a><a href="../../../../actor/akka/actor/ActorSelection.scala.html#akka.actor.ActorSelection.toScala" title="implicit akka.actor.ActorSelection.toScala : (sel: akka.actor.ActorSelection)akka.actor.ScalaActorSelection" class="delimiter">(</a><a href="#akka.cluster.ddata;WriteAggregator.receive;$anonfun.applyOrElse.$anonfun.x$11" title="akka.actor.Address">_</a><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/ActorSelection.scala.html#akka.actor;ScalaActorSelection.!" title="(msg: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.ddata;WriteAggregator.writeMsg" title="=&gt; akka.cluster.ddata.Replicator.Internal.Write">writeMsg</a> <span class="delimiter">}</span>
    case <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor.ReceiveTimeout" title="akka.actor.ReceiveTimeout.type">ReceiveTimeout</a> ⇒ <a href="#akka.cluster.ddata;WriteAggregator.reply" title="(ok: Boolean)Unit">reply</a><span title="Boolean(true)" class="delimiter">(</span>ok = false<span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(ok: Boolean)Unit" id="akka.cluster.ddata;WriteAggregator.reply">reply</a><span class="delimiter">(</span><a title="Boolean" id="akka.cluster.ddata;WriteAggregator.reply.ok">ok</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#akka.cluster.ddata;WriteAggregator.reply.ok" title="Boolean">ok</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#akka.cluster.ddata;WriteAggregator.envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a>.<a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.data" title="=&gt; akka.cluster.ddata.ReplicatedData">data</a> <span title="(x$1: Any)Boolean">==</span> <a href="#akka.cluster.ddata.Replicator.Internal.DeletedData.readResolve" title="akka.cluster.ddata.Replicator.Internal.DeletedData.type">DeletedData</a><span class="delimiter">)</span>
      <a href="#akka.cluster.ddata;WriteAggregator.replyTo" title="akka.actor.ActorRef">replyTo</a>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.tell" title="(msg: Any, sender: akka.actor.ActorRef)Unit">tell</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.DeleteSuccess.readResolve" title="(key: akka.cluster.ddata.Key[akka.cluster.ddata.ReplicatedData])akka.cluster.ddata.Replicator.DeleteSuccess[akka.cluster.ddata.ReplicatedData]">DeleteSuccess</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;WriteAggregator.key" title="akka.cluster.ddata.Key.KeyR">key</a><span class="delimiter">)</span>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.parent" title="=&gt; akka.actor.ActorRef">parent</a><span class="delimiter">)</span>
    else if <span class="delimiter">(</span><a href="#akka.cluster.ddata;WriteAggregator.reply.ok" title="Boolean">ok</a><span class="delimiter">)</span>
      <a href="#akka.cluster.ddata;WriteAggregator.replyTo" title="akka.actor.ActorRef">replyTo</a>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.tell" title="(msg: Any, sender: akka.actor.ActorRef)Unit">tell</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.UpdateSuccess.readResolve" title="(key: akka.cluster.ddata.Key[akka.cluster.ddata.ReplicatedData], request: Option[Any])akka.cluster.ddata.Replicator.UpdateSuccess[akka.cluster.ddata.ReplicatedData]">UpdateSuccess</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;WriteAggregator.key" title="akka.cluster.ddata.Key.KeyR">key</a>, <a href="#akka.cluster.ddata;WriteAggregator.req" title="Option[Any]">req</a><span class="delimiter">)</span>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.parent" title="=&gt; akka.actor.ActorRef">parent</a><span class="delimiter">)</span>
    else if <span class="delimiter">(</span><a href="#akka.cluster.ddata;WriteAggregator.envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a>.<a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.data" title="=&gt; akka.cluster.ddata.ReplicatedData">data</a> <span title="(x$1: Any)Boolean">==</span> <a href="#akka.cluster.ddata.Replicator.Internal.DeletedData.readResolve" title="akka.cluster.ddata.Replicator.Internal.DeletedData.type">DeletedData</a><span class="delimiter">)</span>
      <a href="#akka.cluster.ddata;WriteAggregator.replyTo" title="akka.actor.ActorRef">replyTo</a>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.tell" title="(msg: Any, sender: akka.actor.ActorRef)Unit">tell</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.ReplicationDeleteFailure.readResolve" title="(key: akka.cluster.ddata.Key[akka.cluster.ddata.ReplicatedData])akka.cluster.ddata.Replicator.ReplicationDeleteFailure[akka.cluster.ddata.ReplicatedData]">ReplicationDeleteFailure</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;WriteAggregator.key" title="akka.cluster.ddata.Key.KeyR">key</a><span class="delimiter">)</span>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.parent" title="=&gt; akka.actor.ActorRef">parent</a><span class="delimiter">)</span>
    else
      <a href="#akka.cluster.ddata;WriteAggregator.replyTo" title="akka.actor.ActorRef">replyTo</a>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.tell" title="(msg: Any, sender: akka.actor.ActorRef)Unit">tell</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.UpdateTimeout.readResolve" title="(key: akka.cluster.ddata.Key[akka.cluster.ddata.ReplicatedData], request: Option[Any])akka.cluster.ddata.Replicator.UpdateTimeout[akka.cluster.ddata.ReplicatedData]">UpdateTimeout</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;WriteAggregator.key" title="akka.cluster.ddata.Key.KeyR">key</a>, <a href="#akka.cluster.ddata;WriteAggregator.req" title="Option[Any]">req</a><span class="delimiter">)</span>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.parent" title="=&gt; akka.actor.ActorRef">parent</a><span class="delimiter">)</span>
    <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.stop" title="(actor: akka.actor.ActorRef)Unit">stop</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>akka<span class="delimiter">]</span> object <a title="akka.cluster.ddata.ReadAggregator.type" id="akka.cluster.ddata.ReadAggregator">ReadAggregator</a> <a href="#akka.cluster.ddata.ReadAggregator" title="akka.cluster.ddata.ReadAggregator.type" class="delimiter">{</a>
  def <a title="(key: akka.cluster.ddata.Key.KeyR, consistency: akka.cluster.ddata.Replicator.ReadConsistency, req: Option[Any], nodes: Set[akka.actor.Address], localValue: Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope], replyTo: akka.actor.ActorRef)akka.actor.Props" id="akka.cluster.ddata.ReadAggregator.props">props</a><span class="delimiter">(</span>
    <a title="akka.cluster.ddata.Key.KeyR" id="akka.cluster.ddata.ReadAggregator.props.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key.KeyR">KeyR</a>,
    <a title="akka.cluster.ddata.Replicator.ReadConsistency" id="akka.cluster.ddata.ReadAggregator.props.consistency">consistency</a>: Replicator.<a href="#akka.cluster.ddata.Replicator;ReadConsistency" title="akka.cluster.ddata.Replicator.ReadConsistency">ReadConsistency</a>,
    <a title="Option[Any]" id="akka.cluster.ddata.ReadAggregator.props.req">req</a>: <span title="Option[Any]">Option</span><span class="delimiter">[</span>Any<span class="delimiter">]</span>,
    <a title="Set[akka.actor.Address]" id="akka.cluster.ddata.ReadAggregator.props.nodes">nodes</a>: <span title="Set[akka.actor.Address]">Set</span><span class="delimiter">[</span>Address<span class="delimiter">]</span>,
    <a title="Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]" id="akka.cluster.ddata.ReadAggregator.props.localValue">localValue</a>: <span title="Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]">Option</span><span class="delimiter">[</span>Replicator.Internal.DataEnvelope<span class="delimiter">]</span>,
    <a title="akka.actor.ActorRef" id="akka.cluster.ddata.ReadAggregator.props.replyTo">replyTo</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: <a href="../../../../actor/akka/actor/Props.scala.html#akka.actor;Props" title="akka.actor.Props">Props</a> =
    <a href="../../../../actor/akka/actor/Props.scala.html#akka.actor.Props.apply(b09a6a316b)" title="(creator: =&gt; akka.cluster.ddata.ReadAggregator)(implicit evidence$2: scala.reflect.ClassTag[akka.cluster.ddata.ReadAggregator])akka.actor.Props">Props</a><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[akka.cluster.ddata.ReadAggregator]" class="delimiter">(</span>new <a href="#akka.cluster.ddata;ReadAggregator" title="akka.cluster.ddata.ReadAggregator">ReadAggregator</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.ReadAggregator.props.key" title="akka.cluster.ddata.Key.KeyR">key</a>, <a href="#akka.cluster.ddata.ReadAggregator.props.consistency" title="akka.cluster.ddata.Replicator.ReadConsistency">consistency</a>, <a href="#akka.cluster.ddata.ReadAggregator.props.req" title="Option[Any]">req</a>, <a href="#akka.cluster.ddata.ReadAggregator.props.nodes" title="Set[akka.actor.Address]">nodes</a>, <a href="#akka.cluster.ddata.ReadAggregator.props.localValue" title="Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]">localValue</a>, <a href="#akka.cluster.ddata.ReadAggregator.props.replyTo" title="akka.actor.ActorRef">replyTo</a><span class="delimiter">)</span><span class="delimiter">)</span>
      .<a href="../../../../actor/akka/actor/Props.scala.html#akka.actor;Props.withDeploy" title="(d: akka.actor.Deploy)akka.actor.Props">withDeploy</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Deployer.scala.html#akka.actor.Deploy" title="akka.actor.Deploy.type">Deploy</a>.<a href="../../../../actor/akka/actor/Deployer.scala.html#akka.actor.Deploy.local" title="=&gt; akka.actor.Deploy">local</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
private<span class="delimiter">[</span>akka<span class="delimiter">]</span> class <a title="class ReadAggregator extends akka.cluster.ddata.ReadWriteAggregator" id="akka.cluster.ddata;ReadAggregator">ReadAggregator</a><a href="#akka.cluster.ddata;ReadAggregator" title="akka.cluster.ddata.ReadAggregator" class="delimiter">(</a>
  <a title="akka.cluster.ddata.Key.KeyR" id="akka.cluster.ddata;ReadAggregator.key">key</a>: <a href="Key.scala.html#akka.cluster.ddata;Key" title="akka.cluster.ddata.Key.KeyR">KeyR</a>,
  <a title="akka.cluster.ddata.Replicator.ReadConsistency" id="akka.cluster.ddata;ReadAggregator.consistency">consistency</a>: Replicator.<a href="#akka.cluster.ddata.Replicator;ReadConsistency" title="akka.cluster.ddata.Replicator.ReadConsistency">ReadConsistency</a>,
  <a title="Option[Any]" id="akka.cluster.ddata;ReadAggregator.req">req</a>: <span title="Option[Any]">Option</span><span class="delimiter">[</span>Any<span class="delimiter">]</span>,
  override val <a title="Set[akka.actor.Address]" id="akka.cluster.ddata;ReadAggregator.nodes">nodes</a>: <span title="Set[akka.actor.Address]">Set</span><span class="delimiter">[</span>Address<span class="delimiter">]</span>,
  <a title="Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]" id="akka.cluster.ddata;ReadAggregator.localValue">localValue</a>: <span title="Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]">Option</span><span class="delimiter">[</span>Replicator.Internal.DataEnvelope<span class="delimiter">]</span>,
  <a title="akka.actor.ActorRef" id="akka.cluster.ddata;ReadAggregator.replyTo">replyTo</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span> extends <a href="#akka.cluster.ddata;ReadWriteAggregator" title="akka.cluster.ddata.ReadWriteAggregator">ReadWriteAggregator</a> <span class="delimiter">{</span>

  import <a href="#akka.cluster.ddata.Replicator" title="akka.cluster.ddata.Replicator.type">Replicator</a>._
  import <a href="#akka.cluster.ddata.Replicator" title="akka.cluster.ddata.Replicator.type">Replicator</a>.<a href="#akka.cluster.ddata.Replicator.Internal" title="akka.cluster.ddata.Replicator.Internal.type">Internal</a>._
  import <a href="#akka.cluster.ddata.ReadWriteAggregator" title="akka.cluster.ddata.ReadWriteAggregator.type">ReadWriteAggregator</a>._

  override def <a title="=&gt; scala.concurrent.duration.FiniteDuration" id="akka.cluster.ddata;ReadAggregator.timeout">timeout</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span> = <a href="#akka.cluster.ddata;ReadAggregator.consistency" title="akka.cluster.ddata.Replicator.ReadConsistency">consistency</a>.<a href="#akka.cluster.ddata.Replicator;ReadConsistency.timeout" title="=&gt; scala.concurrent.duration.FiniteDuration">timeout</a>

  var <a title="Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]" id="akka.cluster.ddata;ReadAggregator.result_=">result</a> = <a href="#akka.cluster.ddata;ReadAggregator.localValue" title="Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]">localValue</a>
  override val <a title="Int" id="akka.cluster.ddata;ReadAggregator.doneWhenRemainingSize">doneWhenRemainingSize</a> = <a href="#akka.cluster.ddata;ReadAggregator.consistency" title="akka.cluster.ddata.Replicator.ReadConsistency">consistency</a> match <span class="delimiter">{</span>
    case ReadFrom<span class="delimiter">(</span><a title="Int" id="akka.cluster.ddata;ReadAggregator.doneWhenRemainingSize.n">n</a>, _<span class="delimiter">)</span> ⇒ <a href="#akka.cluster.ddata;ReadAggregator.nodes" title="=&gt; Set[akka.actor.Address]">nodes</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Int">-</span> <span class="delimiter">(</span><a href="#akka.cluster.ddata;ReadAggregator.doneWhenRemainingSize.n" title="Int">n</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    case _: <a href="#akka.cluster.ddata.Replicator.ReadAll.readResolve" title="akka.cluster.ddata.Replicator.ReadAll">ReadAll</a>     ⇒ <span title="Int(0)" class="int">0</span>
    case _: <a href="#akka.cluster.ddata.Replicator.ReadMajority.readResolve" title="akka.cluster.ddata.Replicator.ReadMajority">ReadMajority</a> ⇒
      val N = <a href="#akka.cluster.ddata;ReadAggregator.nodes" title="=&gt; Set[akka.actor.Address]">nodes</a>.<span title="=&gt; Int">size</span> <a title="Int" id="akka.cluster.ddata;ReadAggregator.doneWhenRemainingSize.N">+</a> <span title="Int(1)" class="int">1</span>
      val r = <a href="#akka.cluster.ddata;ReadAggregator.doneWhenRemainingSize.N" title="Int">N</a> <span title="(x: Int)Int">/</span> <span title="Int(2)" class="int">2</span> <a title="Int" id="akka.cluster.ddata;ReadAggregator.doneWhenRemainingSize.r">+</a> <span title="Int(1)" class="int">1</span> <span class="comment">// read from at least (N/2+1) nodes</span>
      <a href="#akka.cluster.ddata;ReadAggregator.doneWhenRemainingSize.N" title="Int">N</a> <span title="(x: Int)Int">-</span> <a href="#akka.cluster.ddata;ReadAggregator.doneWhenRemainingSize.r" title="Int">r</a>
    case <a href="#akka.cluster.ddata.Replicator.ReadLocal.readResolve" title="akka.cluster.ddata.Replicator.ReadLocal.type">ReadLocal</a> ⇒
      throw new <span title="IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span><span title="String(&quot;ReadLocal not supported by ReadAggregator&quot;)" class="string">&quot;ReadLocal not supported by ReadAggregator&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  val <a title="akka.cluster.ddata.Replicator.Internal.Read" id="akka.cluster.ddata;ReadAggregator.readMsg">readMsg</a> = <a href="#akka.cluster.ddata.Replicator.Internal.Read.readResolve" title="(key: String)akka.cluster.ddata.Replicator.Internal.Read">Read</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;ReadAggregator.key" title="akka.cluster.ddata.Key.KeyR">key</a>.<a href="Key.scala.html#akka.cluster.ddata;Key.id" title="=&gt; String">id</a><span class="delimiter">)</span>

  override def <a title="()Unit" id="akka.cluster.ddata;ReadAggregator.preStart">preStart</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#akka.cluster.ddata;ReadWriteAggregator.primaryNodes" title="=&gt; scala.collection.immutable.Iterable[akka.actor.Address] with akka.actor.Address with Int =&gt; Any{def seq: scala.collection.immutable.Iterable[akka.actor.Address] with akka.actor.Address with Int =&gt; Any}">primaryNodes</a>.<span title="(f: akka.actor.Address =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a href="#akka.cluster.ddata;ReadWriteAggregator.replica" title="(address: akka.actor.Address)akka.actor.ActorSelection">replica</a><a href="../../../../actor/akka/actor/ActorSelection.scala.html#akka.actor.ActorSelection.toScala" title="implicit akka.actor.ActorSelection.toScala : (sel: akka.actor.ActorSelection)akka.actor.ScalaActorSelection" class="delimiter">(</a><a href="#akka.cluster.ddata;ReadAggregator.preStart.$anonfun.x$12" title="akka.actor.Address">_</a><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/ActorSelection.scala.html#akka.actor;ScalaActorSelection.!" title="(msg: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.ddata;ReadAggregator.readMsg" title="=&gt; akka.cluster.ddata.Replicator.Internal.Read">readMsg</a> <span class="delimiter">}</span>

    if <span class="delimiter">(</span><a href="#akka.cluster.ddata;ReadWriteAggregator.remaining_=" title="=&gt; Set[akka.actor.Address]">remaining</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <a href="#akka.cluster.ddata;ReadAggregator.doneWhenRemainingSize" title="=&gt; Int">doneWhenRemainingSize</a><span class="delimiter">)</span>
      <a href="#akka.cluster.ddata;ReadAggregator.reply" title="(ok: Boolean)Unit">reply</a><span class="delimiter">(</span>ok = true<span class="delimiter">)</span>
    else if <span class="delimiter">(</span><a href="#akka.cluster.ddata;ReadAggregator.doneWhenRemainingSize" title="=&gt; Int">doneWhenRemainingSize</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">||</span> <a href="#akka.cluster.ddata;ReadWriteAggregator.remaining_=" title="=&gt; Set[akka.actor.Address]">remaining</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&lt;</span> <a href="#akka.cluster.ddata;ReadAggregator.doneWhenRemainingSize" title="=&gt; Int">doneWhenRemainingSize</a><span class="delimiter">)</span>
      <a href="#akka.cluster.ddata;ReadAggregator.reply" title="(ok: Boolean)Unit">reply</a><span class="delimiter">(</span>ok = false<span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="=&gt; PartialFunction[Any,Unit]" id="akka.cluster.ddata;ReadAggregator.receive">receive</a> = <a title="&lt;$anon: Any =&gt; Unit&gt; extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="akka.cluster.ddata;ReadAggregator.receive;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    case ReadResult<span class="delimiter">(</span><a title="Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]" id="akka.cluster.ddata;ReadAggregator.receive;$anonfun.isDefinedAt.envelope">envelope</a><span class="delimiter">)</span> ⇒
      <a href="#akka.cluster.ddata;ReadAggregator.result_=" title="(x$1: Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope])Unit">result</a> = <span title="(_1: Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope], _2: Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope])(Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope], Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope])" class="delimiter">(</span><a href="#akka.cluster.ddata;ReadAggregator.result_=" title="=&gt; Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]">result</a>, <a href="#akka.cluster.ddata;ReadAggregator.receive;$anonfun.isDefinedAt.envelope" title="Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]">envelope</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
        case <span class="delimiter">(</span>Some<span class="delimiter">(</span><a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata;ReadAggregator.receive;$anonfun.applyOrElse.a">a</a><span class="delimiter">)</span>, Some<span class="delimiter">(</span><a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata;ReadAggregator.receive;$anonfun.applyOrElse.b">b</a><span class="delimiter">)</span><span class="delimiter">)</span>  ⇒ <span title="(x: akka.cluster.ddata.Replicator.Internal.DataEnvelope)Some[akka.cluster.ddata.Replicator.Internal.DataEnvelope]">Some</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;ReadAggregator.receive;$anonfun.applyOrElse.a" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">a</a>.<a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.merge(0b5a5c5ab4)" title="(other: akka.cluster.ddata.Replicator.Internal.DataEnvelope)akka.cluster.ddata.Replicator.Internal.DataEnvelope">merge</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;ReadAggregator.receive;$anonfun.applyOrElse.b" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">b</a><span class="delimiter">)</span><span class="delimiter">)</span>
        case <span class="delimiter">(</span><span title="Some[akka.cluster.ddata.Replicator.Internal.DataEnvelope]">r</span> @ Some<span class="delimiter">(</span>_<span class="delimiter">)</span>, <span title="None.type">None</span><span class="delimiter">)</span> ⇒ <span title="Some[akka.cluster.ddata.Replicator.Internal.DataEnvelope]">r</span>
        case <span class="delimiter">(</span><span title="None.type">None</span>, <span title="Some[akka.cluster.ddata.Replicator.Internal.DataEnvelope]">r</span> @ Some<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span> ⇒ <span title="Some[akka.cluster.ddata.Replicator.Internal.DataEnvelope]">r</span>
        case <span class="delimiter">(</span><span title="None.type">None</span>, <span title="None.type">None</span><span class="delimiter">)</span>        ⇒ <span title="None.type">None</span>
      <span class="delimiter">}</span>
      <a href="#akka.cluster.ddata;ReadWriteAggregator.remaining_=" title="(x$1: Set[akka.actor.Address])Unit">remaining</a> <span title="(elem: akka.actor.Address)scala.collection.immutable.Set[akka.actor.Address]">-=</span> <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a>.<a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath.address" title="=&gt; akka.actor.Address">address</a>
      if <span class="delimiter">(</span><a href="#akka.cluster.ddata;ReadWriteAggregator.remaining_=" title="=&gt; Set[akka.actor.Address]">remaining</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <a href="#akka.cluster.ddata;ReadAggregator.doneWhenRemainingSize" title="=&gt; Int">doneWhenRemainingSize</a><span class="delimiter">)</span>
        <a href="#akka.cluster.ddata;ReadAggregator.reply" title="(ok: Boolean)Unit">reply</a><span class="delimiter">(</span>ok = true<span class="delimiter">)</span>
    case <a href="#akka.cluster.ddata.ReadWriteAggregator.SendToSecondary.readResolve" title="akka.cluster.ddata.ReadWriteAggregator.SendToSecondary.type">SendToSecondary</a> ⇒
      <a href="#akka.cluster.ddata;ReadWriteAggregator.secondaryNodes" title="=&gt; scala.collection.immutable.Iterable[akka.actor.Address] with akka.actor.Address with Int =&gt; Any{def seq: scala.collection.immutable.Iterable[akka.actor.Address] with akka.actor.Address with Int =&gt; Any}">secondaryNodes</a>.<span title="(f: akka.actor.Address =&gt; Unit)Unit">foreach</span> <span title="Boolean(true)" class="delimiter">{</span> <a href="#akka.cluster.ddata;ReadWriteAggregator.replica" title="(address: akka.actor.Address)akka.actor.ActorSelection">replica</a><a href="../../../../actor/akka/actor/ActorSelection.scala.html#akka.actor.ActorSelection.toScala" title="implicit akka.actor.ActorSelection.toScala : (sel: akka.actor.ActorSelection)akka.actor.ScalaActorSelection" class="delimiter">(</a><a href="#akka.cluster.ddata;ReadAggregator.receive;$anonfun.applyOrElse.$anonfun.x$13" title="akka.actor.Address">_</a><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/ActorSelection.scala.html#akka.actor;ScalaActorSelection.!" title="(msg: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.ddata;ReadAggregator.readMsg" title="=&gt; akka.cluster.ddata.Replicator.Internal.Read">readMsg</a> <span class="delimiter">}</span>
    case <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor.ReceiveTimeout" title="akka.actor.ReceiveTimeout.type">ReceiveTimeout</a> ⇒ <a href="#akka.cluster.ddata;ReadAggregator.reply" title="(ok: Boolean)Unit">reply</a><span title="Boolean(true)" class="delimiter">(</span>ok = false<span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(ok: Boolean)Unit" id="akka.cluster.ddata;ReadAggregator.reply">reply</a><span class="delimiter">(</span><a title="Boolean" id="akka.cluster.ddata;ReadAggregator.reply.ok">ok</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <span title="(_1: Boolean, _2: Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope])(Boolean, Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope])" class="delimiter">(</span><a href="#akka.cluster.ddata;ReadAggregator.reply.ok" title="Boolean">ok</a>, <a href="#akka.cluster.ddata;ReadAggregator.result_=" title="=&gt; Option[akka.cluster.ddata.Replicator.Internal.DataEnvelope]">result</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case <span class="delimiter">(</span>true, Some<span class="delimiter">(</span><a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata;ReadAggregator.reply.envelope">envelope</a><span class="delimiter">)</span><span class="delimiter">)</span> ⇒
        <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">parent</a> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.ddata.Replicator.Internal.ReadRepair.readResolve" title="(key: String, envelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)akka.cluster.ddata.Replicator.Internal.ReadRepair">ReadRepair</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;ReadAggregator.key" title="akka.cluster.ddata.Key.KeyR">key</a>.<a href="Key.scala.html#akka.cluster.ddata;Key.id" title="=&gt; String">id</a>, <a href="#akka.cluster.ddata;ReadAggregator.reply.envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a><span class="delimiter">)</span>
        <span class="comment">// read-repair happens before GetSuccess</span>
        <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.become(07b70b901c)" title="(behavior: akka.actor.Actor.Receive)Unit">become</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;ReadAggregator.waitReadRepairAck" title="(envelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)ReadAggregator.this.Receive">waitReadRepairAck</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;ReadAggregator.reply.envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a><span class="delimiter">)</span><span class="delimiter">)</span>
      case <span class="delimiter">(</span>true, <span title="None.type">None</span><span class="delimiter">)</span> ⇒
        <a href="#akka.cluster.ddata;ReadAggregator.replyTo" title="akka.actor.ActorRef">replyTo</a>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.tell" title="(msg: Any, sender: akka.actor.ActorRef)Unit">tell</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.NotFound.readResolve" title="(key: akka.cluster.ddata.Key[akka.cluster.ddata.ReplicatedData], request: Option[Any])akka.cluster.ddata.Replicator.NotFound[akka.cluster.ddata.ReplicatedData]">NotFound</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;ReadAggregator.key" title="akka.cluster.ddata.Key.KeyR">key</a>, <a href="#akka.cluster.ddata;ReadAggregator.req" title="Option[Any]">req</a><span class="delimiter">)</span>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.parent" title="=&gt; akka.actor.ActorRef">parent</a><span class="delimiter">)</span>
        <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.stop" title="(actor: akka.actor.ActorRef)Unit">stop</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a><span class="delimiter">)</span>
      case <span class="delimiter">(</span>false, _<span class="delimiter">)</span> ⇒
        <a href="#akka.cluster.ddata;ReadAggregator.replyTo" title="akka.actor.ActorRef">replyTo</a>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.tell" title="(msg: Any, sender: akka.actor.ActorRef)Unit">tell</a><span class="delimiter">(</span><a href="#akka.cluster.ddata.Replicator.GetFailure.readResolve" title="(key: akka.cluster.ddata.Key[akka.cluster.ddata.ReplicatedData], request: Option[Any])akka.cluster.ddata.Replicator.GetFailure[akka.cluster.ddata.ReplicatedData]">GetFailure</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;ReadAggregator.key" title="akka.cluster.ddata.Key.KeyR">key</a>, <a href="#akka.cluster.ddata;ReadAggregator.req" title="Option[Any]">req</a><span class="delimiter">)</span>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.parent" title="=&gt; akka.actor.ActorRef">parent</a><span class="delimiter">)</span>
        <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.stop" title="(actor: akka.actor.ActorRef)Unit">stop</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  def <a title="(envelope: akka.cluster.ddata.Replicator.Internal.DataEnvelope)ReadAggregator.this.Receive" id="akka.cluster.ddata;ReadAggregator.waitReadRepairAck">waitReadRepairAck</a><span class="delimiter">(</span><a title="akka.cluster.ddata.Replicator.Internal.DataEnvelope" id="akka.cluster.ddata;ReadAggregator.waitReadRepairAck.envelope">envelope</a>: Replicator.Internal.<a href="#akka.cluster.ddata.Replicator.Internal.DataEnvelope.readResolve" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">DataEnvelope</a><span class="delimiter">)</span>: <span title="ReadAggregator.this.Receive">Receive</span> = <a title="&lt;$anon: Any =&gt; Unit&gt; extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="akka.cluster.ddata;ReadAggregator.waitReadRepairAck;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    case <a href="#akka.cluster.ddata.Replicator.Internal.ReadRepairAck.readResolve" title="akka.cluster.ddata.Replicator.Internal.ReadRepairAck.type">ReadRepairAck</a> ⇒
      val <a title="&lt;refinement of Product&gt; extends Product with Serializable with Object" id="akka.cluster.ddata;ReadAggregator.waitReadRepairAck;$anonfun.applyOrElse.replyMsg">replyMsg</a> =
        if <span class="delimiter">(</span><a href="#akka.cluster.ddata;ReadAggregator.waitReadRepairAck.envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a>.<a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.data" title="=&gt; akka.cluster.ddata.ReplicatedData">data</a> <span title="(x$1: Any)Boolean">==</span> <a href="#akka.cluster.ddata.Replicator.Internal.DeletedData.readResolve" title="akka.cluster.ddata.Replicator.Internal.DeletedData.type">DeletedData</a><span class="delimiter">)</span> <a href="#akka.cluster.ddata.Replicator.DataDeleted.readResolve" title="(key: akka.cluster.ddata.Key[akka.cluster.ddata.ReplicatedData])akka.cluster.ddata.Replicator.DataDeleted[akka.cluster.ddata.ReplicatedData]">DataDeleted</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;ReadAggregator.key" title="akka.cluster.ddata.Key.KeyR">key</a><span class="delimiter">)</span>
        else <a href="#akka.cluster.ddata.Replicator.GetSuccess.readResolve" title="(key: akka.cluster.ddata.Key[akka.cluster.ddata.ReplicatedData], request: Option[Any])(data: akka.cluster.ddata.ReplicatedData)akka.cluster.ddata.Replicator.GetSuccess[akka.cluster.ddata.ReplicatedData]">GetSuccess</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;ReadAggregator.key" title="akka.cluster.ddata.Key.KeyR">key</a>, <a href="#akka.cluster.ddata;ReadAggregator.req" title="Option[Any]">req</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#akka.cluster.ddata;ReadAggregator.waitReadRepairAck.envelope" title="akka.cluster.ddata.Replicator.Internal.DataEnvelope">envelope</a>.<a href="#akka.cluster.ddata.Replicator.Internal;DataEnvelope.data" title="=&gt; akka.cluster.ddata.ReplicatedData">data</a><span class="delimiter">)</span>
      <a href="#akka.cluster.ddata;ReadAggregator.replyTo" title="akka.actor.ActorRef">replyTo</a>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.tell" title="(msg: Any, sender: akka.actor.ActorRef)Unit">tell</a><span class="delimiter">(</span><a href="#akka.cluster.ddata;ReadAggregator.waitReadRepairAck;$anonfun.applyOrElse.replyMsg" title="&lt;refinement of Product&gt; extends Product with Serializable with Object">replyMsg</a>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.parent" title="=&gt; akka.actor.ActorRef">parent</a><span class="delimiter">)</span>
      <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.stop" title="(actor: akka.actor.ActorRef)Unit">stop</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a><span class="delimiter">)</span>
    case _: <a href="#akka.cluster.ddata.Replicator.Internal.ReadResult.readResolve" title="akka.cluster.ddata.Replicator.Internal.ReadResult">ReadResult</a> ⇒
      <span class="comment">//collect late replies</span>
      <a href="#akka.cluster.ddata;ReadWriteAggregator.remaining_=" title="(x$1: Set[akka.actor.Address])Unit">remaining</a> <span title="(elem: akka.actor.Address)scala.collection.immutable.Set[akka.actor.Address]">-=</span> <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a>.<a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath.address" title="=&gt; akka.actor.Address">address</a>
    case <a href="#akka.cluster.ddata.ReadWriteAggregator.SendToSecondary.readResolve" title="akka.cluster.ddata.ReadWriteAggregator.SendToSecondary.type">SendToSecondary</a> ⇒
    case <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor.ReceiveTimeout" title="akka.actor.ReceiveTimeout.type">ReceiveTimeout</a>  ⇒
  <span class="delimiter">}</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>
