<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>cluster-tools/akka/cluster/client/ClusterClient.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (C) 2009-2015 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
package akka.cluster.client

import java.net.URLEncoder
import scala.collection.immutable
import scala.concurrent.duration._
import akka.actor.Actor
import akka.actor.ActorIdentity
import akka.actor.ActorLogging
import akka.actor.ActorPath
import akka.actor.ActorRef
import akka.actor.ActorSelection
import akka.actor.ActorSystem
import akka.actor.Address
import akka.actor.Cancellable
import akka.actor.Deploy
import akka.actor.ExtendedActorSystem
import akka.actor.Extension
import akka.actor.ExtensionId
import akka.actor.ExtensionIdProvider
import akka.actor.Identify
import akka.actor.NoSerializationVerificationNeeded
import akka.actor.Props
import akka.actor.ReceiveTimeout
import akka.actor.Terminated
import akka.cluster.Cluster
import akka.cluster.<a href="../../../../cluster/akka/cluster/ClusterEvent.scala.html#akka.cluster.ClusterEvent" title="akka.cluster.ClusterEvent.type">ClusterEvent</a>._
import akka.cluster.Member
import akka.cluster.MemberStatus
import akka.cluster.pubsub._
import akka.japi.<a href="../../../../actor/akka/japi/JavaAPI.scala.html#akka.japi.Util" title="akka.japi.Util.type">Util</a>.immutableSeq
import akka.routing.ConsistentHash
import akka.routing.MurmurHash
import com.typesafe.config.Config
import akka.actor.DeadLetterSuppression
import akka.remote.DeadlineFailureDetector
import akka.dispatch.Dispatchers

object <a title="akka.cluster.client.ClusterClientSettings.type" id="akka.cluster.client.ClusterClientSettings">ClusterClientSettings</a> <a href="#akka.cluster.client.ClusterClientSettings" title="akka.cluster.client.ClusterClientSettings.type" class="delimiter">{</a>
  <span class="comment">/**
   * Create settings from the default configuration
   * `akka.cluster.client`.
   */</span>
  def <a title="(system: akka.actor.ActorSystem)akka.cluster.client.ClusterClientSettings" id="akka.cluster.client.ClusterClientSettings.apply(558f39db4e)">apply</a><span class="delimiter">(</span><a title="akka.actor.ActorSystem" id="akka.cluster.client.ClusterClientSettings.apply(558f39db4e).system">system</a>: <a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem" title="akka.actor.ActorSystem">ActorSystem</a><span class="delimiter">)</span>: <a href="#akka.cluster.client;ClusterClientSettings" title="akka.cluster.client.ClusterClientSettings">ClusterClientSettings</a> =
    <a href="#akka.cluster.client.ClusterClientSettings.apply(122fcf9232)" title="(config: com.typesafe.config.Config)akka.cluster.client.ClusterClientSettings">apply</a><span class="delimiter">(</span><a href="#akka.cluster.client.ClusterClientSettings.apply(558f39db4e).system" title="akka.actor.ActorSystem">system</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.settings" title="=&gt; akka.actor.ActorSystem.Settings">settings</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor.ActorSystem;Settings.config" title="=&gt; com.typesafe.config.Config">config</a>.<span title="(x$1: String)com.typesafe.config.Config">getConfig</span><span class="delimiter">(</span><span title="String(&quot;akka.cluster.client&quot;)" class="string">&quot;akka.cluster.client&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Create settings from a configuration with the same layout as
   * the default configuration `akka.cluster.client`.
   */</span>
  def <a title="(config: com.typesafe.config.Config)akka.cluster.client.ClusterClientSettings" id="akka.cluster.client.ClusterClientSettings.apply(122fcf9232)">apply</a><span class="delimiter">(</span><a title="com.typesafe.config.Config" id="akka.cluster.client.ClusterClientSettings.apply(122fcf9232).config">config</a>: <span title="com.typesafe.config.Config">Config</span><span class="delimiter">)</span>: <a href="#akka.cluster.client;ClusterClientSettings" title="akka.cluster.client.ClusterClientSettings">ClusterClientSettings</a> = <span class="delimiter">{</span>
    val <a title="scala.collection.immutable.Set[akka.actor.ActorPath]" id="akka.cluster.client.ClusterClientSettings.apply(122fcf9232).initialContacts">initialContacts</a> = <a href="../../../../actor/akka/japi/JavaAPI.scala.html#akka.japi.Util.immutableSeq(42d3e3f9ec)" title="(iterable: Iterable[String])scala.collection.immutable.Seq[String]">immutableSeq</a><span class="delimiter">(</span><a href="#akka.cluster.client.ClusterClientSettings.apply(122fcf9232).config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String)java.util.List[String]">getStringList</span><span class="delimiter">(</span><span title="String(&quot;initial-contacts&quot;)" class="string">&quot;initial-contacts&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: String =&gt; akka.actor.ActorPath)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Seq[String],akka.actor.ActorPath,scala.collection.immutable.Seq[akka.actor.ActorPath]])scala.collection.immutable.Seq[akka.actor.ActorPath]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Seq.Coll,akka.actor.ActorPath,scala.collection.immutable.Seq[akka.actor.ActorPath]]" class="delimiter">(</span><a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor.ActorPath" title="akka.actor.ActorPath.type">ActorPath</a>.<a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor.ActorPath.fromString" title="(s: String)akka.actor.ActorPath">fromString</a><span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[akka.actor.ActorPath]">toSet</span>
    new <a href="#akka.cluster.client;ClusterClientSettings" title="akka.cluster.client.ClusterClientSettings">ClusterClientSettings</a><span class="delimiter">(</span>
      <a href="#akka.cluster.client.ClusterClientSettings.apply(122fcf9232).initialContacts" title="scala.collection.immutable.Set[akka.actor.ActorPath]">initialContacts</a>,
      establishingGetContactsInterval = <a href="#akka.cluster.client.ClusterClientSettings.apply(122fcf9232).config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String, x$2: java.util.concurrent.TimeUnit)Long">getDuration</span><span title="implicit scala.concurrent.duration.package.DurationLong : (n: Long)concurrent.duration.DurationLong" class="delimiter">(</span><span title="String(&quot;establishing-get-contacts-interval&quot;)" class="string">&quot;establishing-get-contacts-interval&quot;</span>, <span title="java.util.concurrent.TimeUnit(MILLISECONDS)">MILLISECONDS</span><span class="delimiter">)</span>.<span title="=&gt; scala.concurrent.duration.FiniteDuration">millis</span>,
      refreshContactsInterval = <a href="#akka.cluster.client.ClusterClientSettings.apply(122fcf9232).config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String, x$2: java.util.concurrent.TimeUnit)Long">getDuration</span><span title="implicit scala.concurrent.duration.package.DurationLong : (n: Long)concurrent.duration.DurationLong" class="delimiter">(</span><span title="String(&quot;refresh-contacts-interval&quot;)" class="string">&quot;refresh-contacts-interval&quot;</span>, <span title="java.util.concurrent.TimeUnit(MILLISECONDS)">MILLISECONDS</span><span class="delimiter">)</span>.<span title="=&gt; scala.concurrent.duration.FiniteDuration">millis</span>,
      heartbeatInterval = <a href="#akka.cluster.client.ClusterClientSettings.apply(122fcf9232).config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String, x$2: java.util.concurrent.TimeUnit)Long">getDuration</span><span title="implicit scala.concurrent.duration.package.DurationLong : (n: Long)concurrent.duration.DurationLong" class="delimiter">(</span><span title="String(&quot;heartbeat-interval&quot;)" class="string">&quot;heartbeat-interval&quot;</span>, <span title="java.util.concurrent.TimeUnit(MILLISECONDS)">MILLISECONDS</span><span class="delimiter">)</span>.<span title="=&gt; scala.concurrent.duration.FiniteDuration">millis</span>,
      acceptableHeartbeatPause = <a href="#akka.cluster.client.ClusterClientSettings.apply(122fcf9232).config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String, x$2: java.util.concurrent.TimeUnit)Long">getDuration</span><span title="implicit scala.concurrent.duration.package.DurationLong : (n: Long)concurrent.duration.DurationLong" class="delimiter">(</span><span title="String(&quot;acceptable-heartbeat-pause&quot;)" class="string">&quot;acceptable-heartbeat-pause&quot;</span>, <span title="java.util.concurrent.TimeUnit(MILLISECONDS)">MILLISECONDS</span><span class="delimiter">)</span>.<span title="=&gt; scala.concurrent.duration.FiniteDuration">millis</span>,
      bufferSize = <a href="#akka.cluster.client.ClusterClientSettings.apply(122fcf9232).config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String)Int">getInt</span><span class="delimiter">(</span><span title="String(&quot;buffer-size&quot;)" class="string">&quot;buffer-size&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Java API: Create settings from the default configuration
   * `akka.cluster.client`.
   */</span>
  def <a title="(system: akka.actor.ActorSystem)akka.cluster.client.ClusterClientSettings" id="akka.cluster.client.ClusterClientSettings.create(558f39db4e)">create</a><span class="delimiter">(</span><a title="akka.actor.ActorSystem" id="akka.cluster.client.ClusterClientSettings.create(558f39db4e).system">system</a>: <a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem" title="akka.actor.ActorSystem">ActorSystem</a><span class="delimiter">)</span>: <a href="#akka.cluster.client;ClusterClientSettings" title="akka.cluster.client.ClusterClientSettings">ClusterClientSettings</a> = <a href="#akka.cluster.client.ClusterClientSettings.apply(558f39db4e)" title="(system: akka.actor.ActorSystem)akka.cluster.client.ClusterClientSettings">apply</a><span class="delimiter">(</span><a href="#akka.cluster.client.ClusterClientSettings.create(558f39db4e).system" title="akka.actor.ActorSystem">system</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Java API: Create settings from a configuration with the same layout as
   * the default configuration `akka.cluster.client`.
   */</span>
  def <a title="(config: com.typesafe.config.Config)akka.cluster.client.ClusterClientSettings" id="akka.cluster.client.ClusterClientSettings.create(122fcf9232)">create</a><span class="delimiter">(</span><a title="com.typesafe.config.Config" id="akka.cluster.client.ClusterClientSettings.create(122fcf9232).config">config</a>: <span title="com.typesafe.config.Config">Config</span><span class="delimiter">)</span>: <a href="#akka.cluster.client;ClusterClientSettings" title="akka.cluster.client.ClusterClientSettings">ClusterClientSettings</a> = <a href="#akka.cluster.client.ClusterClientSettings.apply(122fcf9232)" title="(config: com.typesafe.config.Config)akka.cluster.client.ClusterClientSettings">apply</a><span class="delimiter">(</span><a href="#akka.cluster.client.ClusterClientSettings.create(122fcf9232).config" title="com.typesafe.config.Config">config</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * @param initialContacts Actor paths of the `ClusterReceptionist` actors on
 *   the servers (cluster nodes) that the client will try to contact initially.
 *   It is mandatory to specify at least one initial contact. The path of the
 *   default receptionist is
 *   &quot;akka.tcp://system@hostname:port/system/receptionist&quot;
 * @param establishingGetContactsInterval Interval at which the client retries
 *   to establish contact with one of ClusterReceptionist on the servers (cluster nodes)
 * @param refreshContactsInterval Interval at which the client will ask the
 *   `ClusterReceptionist` for new contact points to be used for next reconnect.
 * @param heartbeatInterval How often failure detection heartbeat messages for detection
 *   of failed connections should be sent.
 * @param acceptableHeartbeatPause Number of potentially lost/delayed heartbeats that will
 *   be accepted before considering it to be an anomaly. The ClusterClient is using the
 *   [[akka.remote.DeadlineFailureDetector]], which will trigger if there are no heartbeats
 *   within the duration `heartbeatInterval + acceptableHeartbeatPause`.
 * @param bufferSize If connection to the receptionist is not established the client
 *   will buffer this number of messages and deliver them the connection is established.
 *   When the buffer is full old messages will be dropped when new messages are sent via the
 *   client. Use 0 to disable buffering, i.e. messages will be dropped immediately if the
 *   location of the receptionist is unavailable.
 */</span>
final class <a title="class ClusterClientSettings extends AnyRef with akka.actor.NoSerializationVerificationNeeded" id="akka.cluster.client;ClusterClientSettings">ClusterClientSettings</a><a href="#akka.cluster.client;ClusterClientSettings" title="akka.cluster.client.ClusterClientSettings" class="delimiter">(</a>
  val <a title="Set[akka.actor.ActorPath]" id="akka.cluster.client;ClusterClientSettings.initialContacts">initialContacts</a>: <span title="Set[akka.actor.ActorPath]">Set</span><span class="delimiter">[</span>ActorPath<span class="delimiter">]</span>,
  val <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.client;ClusterClientSettings.establishingGetContactsInterval">establishingGetContactsInterval</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span>,
  val <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.client;ClusterClientSettings.refreshContactsInterval">refreshContactsInterval</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span>,
  val <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.client;ClusterClientSettings.heartbeatInterval">heartbeatInterval</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span>,
  val <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.client;ClusterClientSettings.acceptableHeartbeatPause">acceptableHeartbeatPause</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span>,
  val <a title="Int" id="akka.cluster.client;ClusterClientSettings.bufferSize">bufferSize</a>: <span title="Int">Int</span><span class="delimiter">)</span> extends <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;NoSerializationVerificationNeeded" title="akka.actor.NoSerializationVerificationNeeded">NoSerializationVerificationNeeded</a> <span class="delimiter">{</span>

  <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClientSettings.bufferSize" title="=&gt; Int">bufferSize</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#akka.cluster.client;ClusterClientSettings.bufferSize" title="=&gt; Int">bufferSize</a> <span title="(x: Int)Boolean">&lt;=</span> <span title="Int(10000)" class="int">10000</span>, <span title="String(&quot;bufferSize must be &gt;= 0 and &lt;= 10000&quot;)" class="string">&quot;bufferSize must be &gt;= 0 and &lt;= 10000&quot;</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Scala API
   */</span>
  def <a title="(initialContacts: Set[akka.actor.ActorPath])akka.cluster.client.ClusterClientSettings" id="akka.cluster.client;ClusterClientSettings.withInitialContacts(1dd38c5b40)">withInitialContacts</a><span class="delimiter">(</span><a title="Set[akka.actor.ActorPath]" id="akka.cluster.client;ClusterClientSettings.withInitialContacts(1dd38c5b40).initialContacts">initialContacts</a>: <span title="Set[akka.actor.ActorPath]">Set</span><span class="delimiter">[</span>ActorPath<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.cluster.client;ClusterClientSettings" title="akka.cluster.client.ClusterClientSettings">ClusterClientSettings</a> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClientSettings.withInitialContacts(1dd38c5b40).initialContacts" title="Set[akka.actor.ActorPath]">initialContacts</a>.<span title="=&gt; Boolean">nonEmpty</span>, <span title="String(&quot;initialContacts must be defined&quot;)" class="string">&quot;initialContacts must be defined&quot;</span><span class="delimiter">)</span>
    <a href="#akka.cluster.client;ClusterClientSettings.copy" title="(initialContacts: Set[akka.actor.ActorPath], establishingGetContactsInterval: scala.concurrent.duration.FiniteDuration, refreshContactsInterval: scala.concurrent.duration.FiniteDuration, heartbeatInterval: scala.concurrent.duration.FiniteDuration, acceptableHeartbeatPause: scala.concurrent.duration.FiniteDuration, bufferSize: Int)akka.cluster.client.ClusterClientSettings">copy</a><span class="delimiter">(</span>initialContacts = <a href="#akka.cluster.client;ClusterClientSettings.withInitialContacts(1dd38c5b40).initialContacts" title="Set[akka.actor.ActorPath]">initialContacts</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Java API
   */</span>
  def <a title="(initialContacts: java.util.Set[akka.actor.ActorPath])akka.cluster.client.ClusterClientSettings" id="akka.cluster.client;ClusterClientSettings.withInitialContacts(045c756f8a)">withInitialContacts</a><span class="delimiter">(</span><a title="java.util.Set[akka.actor.ActorPath]" id="akka.cluster.client;ClusterClientSettings.withInitialContacts(045c756f8a).initialContacts">initialContacts</a>: java.util.<span title="java.util.Set[akka.actor.ActorPath]">Set</span><span class="delimiter">[</span>ActorPath<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.cluster.client;ClusterClientSettings" title="akka.cluster.client.ClusterClientSettings">ClusterClientSettings</a> = <span class="delimiter">{</span>
    import scala.collection.<span title="scala.collection.JavaConverters.type">JavaConverters</span>._
    <a href="#akka.cluster.client;ClusterClientSettings.withInitialContacts(1dd38c5b40)" title="(initialContacts: Set[akka.actor.ActorPath])akka.cluster.client.ClusterClientSettings">withInitialContacts</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClientSettings.withInitialContacts(045c756f8a).initialContacts" title="(s: java.util.Set[akka.actor.ActorPath])scala.collection.convert.Decorators.AsScala[scala.collection.mutable.Set[akka.actor.ActorPath]]">initialContacts</a>.<span title="=&gt; scala.collection.mutable.Set[akka.actor.ActorPath]">asScala</span>.<span title="scala.collection.immutable.Set[akka.actor.ActorPath]">toSet</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(establishingGetContactsInterval: scala.concurrent.duration.FiniteDuration)akka.cluster.client.ClusterClientSettings" id="akka.cluster.client;ClusterClientSettings.withEstablishingGetContactsInterval">withEstablishingGetContactsInterval</a><span class="delimiter">(</span><a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.client;ClusterClientSettings.withEstablishingGetContactsInterval.establishingGetContactsInterval">establishingGetContactsInterval</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">)</span>: <a href="#akka.cluster.client;ClusterClientSettings" title="akka.cluster.client.ClusterClientSettings">ClusterClientSettings</a> =
    <a href="#akka.cluster.client;ClusterClientSettings.copy$default$1" title="Set[akka.actor.ActorPath] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.cluster.client;ClusterClientSettings.withEstablishingGetContactsInterval.x$11">copy</a><span class="delimiter">(</span>establishingGetContactsInterval = <a href="#akka.cluster.client;ClusterClientSettings.withEstablishingGetContactsInterval.establishingGetContactsInterval" title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.client;ClusterClientSettings.withEstablishingGetContactsInterval.x$6">establishingGetContactsInterval</a><span class="delimiter">)</span>

  def <a title="(refreshContactsInterval: scala.concurrent.duration.FiniteDuration)akka.cluster.client.ClusterClientSettings" id="akka.cluster.client;ClusterClientSettings.withRefreshContactsInterval">withRefreshContactsInterval</a><span class="delimiter">(</span><a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.client;ClusterClientSettings.withRefreshContactsInterval.refreshContactsInterval">refreshContactsInterval</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">)</span>: <a href="#akka.cluster.client;ClusterClientSettings" title="akka.cluster.client.ClusterClientSettings">ClusterClientSettings</a> =
    <a href="#akka.cluster.client;ClusterClientSettings.copy$default$1" title="Set[akka.actor.ActorPath] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.cluster.client;ClusterClientSettings.withRefreshContactsInterval.x$17">copy</a><span class="delimiter">(</span>refreshContactsInterval = <a href="#akka.cluster.client;ClusterClientSettings.withRefreshContactsInterval.refreshContactsInterval" title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.client;ClusterClientSettings.withRefreshContactsInterval.x$12">refreshContactsInterval</a><span class="delimiter">)</span>

  def <a title="(heartbeatInterval: scala.concurrent.duration.FiniteDuration, acceptableHeartbeatPause: scala.concurrent.duration.FiniteDuration)akka.cluster.client.ClusterClientSettings" id="akka.cluster.client;ClusterClientSettings.withHeartbeat">withHeartbeat</a><span class="delimiter">(</span><a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.client;ClusterClientSettings.withHeartbeat.heartbeatInterval">heartbeatInterval</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span>, <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.client;ClusterClientSettings.withHeartbeat.acceptableHeartbeatPause">acceptableHeartbeatPause</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">)</span>: <a href="#akka.cluster.client;ClusterClientSettings" title="akka.cluster.client.ClusterClientSettings">ClusterClientSettings</a> =
    <a href="#akka.cluster.client;ClusterClientSettings.copy$default$1" title="Set[akka.actor.ActorPath] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.cluster.client;ClusterClientSettings.withHeartbeat.x$23">copy</a><span class="delimiter">(</span>heartbeatInterval = <a href="#akka.cluster.client;ClusterClientSettings.withHeartbeat.heartbeatInterval" title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.client;ClusterClientSettings.withHeartbeat.x$18">heartbeatInterval</a>, acceptableHeartbeatPause = <a href="#akka.cluster.client;ClusterClientSettings.withHeartbeat.acceptableHeartbeatPause" title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.client;ClusterClientSettings.withHeartbeat.x$19">acceptableHeartbeatPause</a><span class="delimiter">)</span>

  def <a title="(bufferSize: Int)akka.cluster.client.ClusterClientSettings" id="akka.cluster.client;ClusterClientSettings.withBufferSize">withBufferSize</a><span class="delimiter">(</span><a title="Int" id="akka.cluster.client;ClusterClientSettings.withBufferSize.bufferSize">bufferSize</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#akka.cluster.client;ClusterClientSettings" title="akka.cluster.client.ClusterClientSettings">ClusterClientSettings</a> =
    <a href="#akka.cluster.client;ClusterClientSettings.copy$default$1" title="Set[akka.actor.ActorPath] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.cluster.client;ClusterClientSettings.withBufferSize.x$29">copy</a><span class="delimiter">(</span>bufferSize = <a href="#akka.cluster.client;ClusterClientSettings.withBufferSize.bufferSize" title="Int" id="akka.cluster.client;ClusterClientSettings.withBufferSize.x$24">bufferSize</a><span class="delimiter">)</span>

  private def <a title="(initialContacts: Set[akka.actor.ActorPath], establishingGetContactsInterval: scala.concurrent.duration.FiniteDuration, refreshContactsInterval: scala.concurrent.duration.FiniteDuration, heartbeatInterval: scala.concurrent.duration.FiniteDuration, acceptableHeartbeatPause: scala.concurrent.duration.FiniteDuration, bufferSize: Int)akka.cluster.client.ClusterClientSettings" id="akka.cluster.client;ClusterClientSettings.copy">copy</a><span class="delimiter">(</span>
    <a title="Set[akka.actor.ActorPath]" id="akka.cluster.client;ClusterClientSettings.copy$default$1">initialContacts</a>: <span title="Set[akka.actor.ActorPath]">Set</span><span class="delimiter">[</span>ActorPath<span class="delimiter">]</span> = <a href="#akka.cluster.client;ClusterClientSettings.copy$default$1" title="Set[akka.actor.ActorPath]">initialContacts</a>,
    <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.client;ClusterClientSettings.copy$default$2">establishingGetContactsInterval</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span> = <a href="#akka.cluster.client;ClusterClientSettings.copy$default$2" title="scala.concurrent.duration.FiniteDuration">establishingGetContactsInterval</a>,
    <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.client;ClusterClientSettings.copy$default$3">refreshContactsInterval</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span> = <a href="#akka.cluster.client;ClusterClientSettings.copy$default$3" title="scala.concurrent.duration.FiniteDuration">refreshContactsInterval</a>,
    <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.client;ClusterClientSettings.copy$default$4">heartbeatInterval</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span> = <a href="#akka.cluster.client;ClusterClientSettings.copy$default$4" title="scala.concurrent.duration.FiniteDuration">heartbeatInterval</a>,
    <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.client;ClusterClientSettings.copy$default$5">acceptableHeartbeatPause</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span> = <a href="#akka.cluster.client;ClusterClientSettings.copy$default$5" title="scala.concurrent.duration.FiniteDuration">acceptableHeartbeatPause</a>,
    <a title="Int" id="akka.cluster.client;ClusterClientSettings.copy$default$6">bufferSize</a>: <span title="Int">Int</span> = <a href="#akka.cluster.client;ClusterClientSettings.copy$default$6" title="Int">bufferSize</a><span class="delimiter">)</span>: <a href="#akka.cluster.client;ClusterClientSettings" title="akka.cluster.client.ClusterClientSettings">ClusterClientSettings</a> =
    new <a href="#akka.cluster.client;ClusterClientSettings" title="akka.cluster.client.ClusterClientSettings">ClusterClientSettings</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClientSettings.copy$default$1" title="Set[akka.actor.ActorPath]">initialContacts</a>, <a href="#akka.cluster.client;ClusterClientSettings.copy$default$2" title="scala.concurrent.duration.FiniteDuration">establishingGetContactsInterval</a>, <a href="#akka.cluster.client;ClusterClientSettings.copy$default$3" title="scala.concurrent.duration.FiniteDuration">refreshContactsInterval</a>,
      <a href="#akka.cluster.client;ClusterClientSettings.copy$default$4" title="scala.concurrent.duration.FiniteDuration">heartbeatInterval</a>, <a href="#akka.cluster.client;ClusterClientSettings.copy$default$5" title="scala.concurrent.duration.FiniteDuration">acceptableHeartbeatPause</a>, <a href="#akka.cluster.client;ClusterClientSettings.copy$default$6" title="Int">bufferSize</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

object <a title="akka.cluster.client.ClusterClient.type" id="akka.cluster.client.ClusterClient">ClusterClient</a> <a href="#akka.cluster.client.ClusterClient" title="akka.cluster.client.ClusterClient.type" class="delimiter">{</a>

  <span class="comment">/**
   * Scala API: Factory method for `ClusterClient` [[akka.actor.Props]].
   */</span>
  def <a title="(settings: akka.cluster.client.ClusterClientSettings)akka.actor.Props" id="akka.cluster.client.ClusterClient.props">props</a><span class="delimiter">(</span><a title="akka.cluster.client.ClusterClientSettings" id="akka.cluster.client.ClusterClient.props.settings">settings</a>: <a href="#akka.cluster.client;ClusterClientSettings" title="akka.cluster.client.ClusterClientSettings">ClusterClientSettings</a><span class="delimiter">)</span>: <a href="../../../../actor/akka/actor/Props.scala.html#akka.actor;Props" title="akka.actor.Props">Props</a> =
    <a href="../../../../actor/akka/actor/Props.scala.html#akka.actor.Props.apply(b09a6a316b)" title="(creator: =&gt; akka.cluster.client.ClusterClient)(implicit evidence$2: scala.reflect.ClassTag[akka.cluster.client.ClusterClient])akka.actor.Props">Props</a><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[akka.cluster.client.ClusterClient]" class="delimiter">(</span>new <a href="#akka.cluster.client;ClusterClient" title="akka.cluster.client.ClusterClient">ClusterClient</a><span class="delimiter">(</span><a href="#akka.cluster.client.ClusterClient.props.settings" title="akka.cluster.client.ClusterClientSettings">settings</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../../actor/akka/actor/Props.scala.html#akka.actor;Props.withDeploy" title="(d: akka.actor.Deploy)akka.actor.Props">withDeploy</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Deployer.scala.html#akka.actor.Deploy" title="akka.actor.Deploy.type">Deploy</a>.<a href="../../../../actor/akka/actor/Deployer.scala.html#akka.actor.Deploy.local" title="=&gt; akka.actor.Deploy">local</a><span class="delimiter">)</span>

  @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
  final case class <a title="class Send extends AnyRef with Product with Serializable" id="akka.cluster.client.ClusterClient.Send.readResolve">Send</a><a href="#akka.cluster.client.ClusterClient.Send.readResolve" title="Product" class="delimiter">(</a><a title="String" id="akka.cluster.client.ClusterClient;Send.path">path</a>: <span title="String">String</span>, <a title="Any" id="akka.cluster.client.ClusterClient;Send.msg">msg</a>: <span title="Any">Any</span>, <a title="Boolean" id="akka.cluster.client.ClusterClient;Send.localAffinity">localAffinity</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="comment">/**
     * Convenience constructor with `localAffinity` false
     */</span>
    def this<span class="delimiter">(</span><a title="String" id="akka.cluster.client.ClusterClient;Send.<init>(155d2f1b1d).path">path</a>: <span title="String">String</span>, <a title="Any" id="akka.cluster.client.ClusterClient;Send.<init>(155d2f1b1d).msg">msg</a>: <span title="Any">Any</span><span class="delimiter">)</span> = this<span class="delimiter">(</span><a href="#akka.cluster.client.ClusterClient;Send.<init>(155d2f1b1d).path" title="String">path</a>, <a href="#akka.cluster.client.ClusterClient;Send.<init>(155d2f1b1d).msg" title="Any">msg</a>, localAffinity = false<span class="delimiter">)</span>
  <span class="delimiter">}</span>
  @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
  final case class <a title="class SendToAll extends AnyRef with Product with Serializable" id="akka.cluster.client.ClusterClient.SendToAll.readResolve">SendToAll</a><a href="#akka.cluster.client.ClusterClient.SendToAll.readResolve" title="Product" class="delimiter">(</a><a title="String" id="akka.cluster.client.ClusterClient;SendToAll.path">path</a>: <span title="String">String</span>, <a title="Any" id="akka.cluster.client.ClusterClient;SendToAll.msg">msg</a>: <span title="Any">Any</span><span class="delimiter">)</span>
  @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
  final case class <a title="class Publish extends AnyRef with Product with Serializable" id="akka.cluster.client.ClusterClient.Publish.readResolve">Publish</a><a href="#akka.cluster.client.ClusterClient.Publish.readResolve" title="Product" class="delimiter">(</a><a title="String" id="akka.cluster.client.ClusterClient;Publish.topic">topic</a>: <span title="String">String</span>, <a title="Any" id="akka.cluster.client.ClusterClient;Publish.msg">msg</a>: <span title="Any">Any</span><span class="delimiter">)</span>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  private<span class="delimiter">[</span>akka<span class="delimiter">]</span> object <a title="akka.cluster.client.ClusterClient.Internal.type" id="akka.cluster.client.ClusterClient.Internal">Internal</a> <a href="#akka.cluster.client.ClusterClient.Internal" title="akka.cluster.client.ClusterClient.Internal.type" class="delimiter">{</a>
    case object <a href="#akka.cluster.client.ClusterClient.Internal.RefreshContactsTick.productElement.x$1" title="akka.cluster.client.ClusterClient.Internal.RefreshContactsTick.type" id="akka.cluster.client.ClusterClient.Internal.RefreshContactsTick.readResolve">RefreshContactsTick</a>
    case object <a href="#akka.cluster.client.ClusterClient.Internal.HeartbeatTick.productElement.x$1" title="akka.cluster.client.ClusterClient.Internal.HeartbeatTick.type" id="akka.cluster.client.ClusterClient.Internal.HeartbeatTick.readResolve">HeartbeatTick</a>
  <a href="#akka.cluster.client.ClusterClient.Internal.HeartbeatTick.readResolve" title="akka.cluster.client.ClusterClient.Internal.HeartbeatTick.type" class="delimiter">}</a>
<span title="AnyRef" class="delimiter">}</span>

<span class="comment">/**
 * This actor is intended to be used on an external node that is not member
 * of the cluster. It acts like a gateway for sending messages to actors
 * somewhere in the cluster. From the initial contact points it will establish
 * a connection to a [[ClusterReceptionist]] somewhere in the cluster. It will
 * monitor the connection to the receptionist and establish a new connection if
 * the link goes down. When looking for a new receptionist it uses fresh contact
 * points retrieved from previous establishment, or periodically refreshed
 * contacts, i.e. not necessarily the initial contact points.
 *
 * You can send messages via the `ClusterClient` to any actor in the cluster
 * that is registered in the [[ClusterReceptionist]].
 * Messages are wrapped in [[ClusterClient.Send]], [[ClusterClient.SendToAll]]
 * or [[ClusterClient.Publish]].
 *
 * 1. [[ClusterClient.Send]] -
 * The message will be delivered to one recipient with a matching path, if any such
 * exists. If several entries match the path the message will be delivered
 * to one random destination. The sender of the message can specify that local
 * affinity is preferred, i.e. the message is sent to an actor in the same local actor
 * system as the used receptionist actor, if any such exists, otherwise random to any other
 * matching entry.
 *
 * 2. [[ClusterClient.SendToAll]] -
 * The message will be delivered to all recipients with a matching path.
 *
 * 3. [[ClusterClient.Publish]] -
 * The message will be delivered to all recipients Actors that have been registered as subscribers to
 * to the named topic.
 *
 *  Use the factory method [[ClusterClient#props]]) to create the
 * [[akka.actor.Props]] for the actor.
 *
 * If the receptionist is not currently available, the client will buffer the messages
 * and then deliver them when the connection to the receptionist has been established.
 * The size of the buffer is configurable and it can be disabled by using a buffer size
 * of 0. When the buffer is full old messages will be dropped when new messages are sent
 * via the client.
 *
 * Note that this is a best effort implementation: messages can always be lost due to the distributed
 * nature of the actors involved.
 */</span>
final class <a title="class ClusterClient extends AnyRef with akka.actor.Actor with akka.actor.ActorLogging" id="akka.cluster.client;ClusterClient">ClusterClient</a><a href="#akka.cluster.client;ClusterClient" title="akka.cluster.client.ClusterClient" class="delimiter">(</a><a title="akka.cluster.client.ClusterClientSettings" id="akka.cluster.client;ClusterClient.settings">settings</a>: <a href="#akka.cluster.client;ClusterClientSettings" title="akka.cluster.client.ClusterClientSettings">ClusterClientSettings</a><span class="delimiter">)</span> extends <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor" title="akka.actor.Actor">Actor</a> with <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging" title="akka.actor.ActorLogging">ActorLogging</a> <span class="delimiter">{</span>

  import <a href="#akka.cluster.client.ClusterClient" title="akka.cluster.client.ClusterClient.type">ClusterClient</a>._
  import <a href="#akka.cluster.client.ClusterClient" title="akka.cluster.client.ClusterClient.type">ClusterClient</a>.<a href="#akka.cluster.client.ClusterClient.Internal" title="akka.cluster.client.ClusterClient.Internal.type">Internal</a>._
  import <a href="#akka.cluster.client.ClusterReceptionist" title="akka.cluster.client.ClusterReceptionist.type">ClusterReceptionist</a>.<a href="#akka.cluster.client.ClusterReceptionist.Internal" title="akka.cluster.client.ClusterReceptionist.Internal.type">Internal</a>._
  import <a href="#akka.cluster.client;ClusterClient.settings" title="akka.cluster.client.ClusterClientSettings">settings</a>._

  <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClientSettings.initialContacts" title="=&gt; Set[akka.actor.ActorPath]">initialContacts</a>.<span title="=&gt; Boolean">nonEmpty</span>, <span title="String(&quot;initialContacts must be defined&quot;)" class="string">&quot;initialContacts must be defined&quot;</span><span class="delimiter">)</span>

  val <a title="akka.remote.DeadlineFailureDetector" id="akka.cluster.client;ClusterClient.failureDetector">failureDetector</a> = new <a href="../../../../remote/akka/remote/DeadlineFailureDetector.scala.html#akka.remote;DeadlineFailureDetector" title="akka.remote.DeadlineFailureDetector">DeadlineFailureDetector</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClientSettings.acceptableHeartbeatPause" title="=&gt; scala.concurrent.duration.FiniteDuration">acceptableHeartbeatPause</a>, <a href="#akka.cluster.client;ClusterClientSettings.heartbeatInterval" title="=&gt; scala.concurrent.duration.FiniteDuration">heartbeatInterval</a><span class="delimiter">)</span>

  val <a title="scala.collection.immutable.IndexedSeq[akka.actor.ActorSelection]" id="akka.cluster.client;ClusterClient.initialContactsSel">initialContactsSel</a>: immutable.<span title="scala.collection.immutable.IndexedSeq[akka.actor.ActorSelection]">IndexedSeq</span><span class="delimiter">[</span>ActorSelection<span class="delimiter">]</span> =
    <a href="#akka.cluster.client;ClusterClientSettings.initialContacts" title="=&gt; Set[akka.actor.ActorPath]">initialContacts</a>.<span title="(f: akka.actor.ActorPath =&gt; akka.actor.ActorSelection)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set[akka.actor.ActorPath],akka.actor.ActorSelection,scala.collection.immutable.Set[akka.actor.ActorSelection]])scala.collection.immutable.Set[akka.actor.ActorSelection]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set.Coll,akka.actor.ActorSelection,scala.collection.immutable.Set[akka.actor.ActorSelection]]" class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.actorSelection(e44b8bc960)" title="(path: akka.actor.ActorPath)akka.actor.ActorSelection">actorSelection</a><span class="delimiter">)</span>.<span title="=&gt; Vector[akka.actor.ActorSelection]">toVector</span>
  var <a title="scala.collection.immutable.IndexedSeq[akka.actor.ActorSelection]" id="akka.cluster.client;ClusterClient.contacts_=">contacts</a> = <a href="#akka.cluster.client;ClusterClient.initialContactsSel" title="=&gt; scala.collection.immutable.IndexedSeq[akka.actor.ActorSelection]">initialContactsSel</a>
  <a href="#akka.cluster.client;ClusterClient.sendGetContacts" title="()Unit">sendGetContacts</a><span class="delimiter">(</span><span class="delimiter">)</span>

  import <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.dispatcher
  val <a title="akka.actor.Cancellable" id="akka.cluster.client;ClusterClient.heartbeatTask">heartbeatTask</a> = <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.scheduler" title="=&gt; akka.actor.Scheduler">scheduler</a>.<a href="../../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Scheduler.schedule(abf8206fc2)" title="(initialDelay: scala.concurrent.duration.FiniteDuration, interval: scala.concurrent.duration.FiniteDuration, receiver: akka.actor.ActorRef, message: Any)(implicit executor: scala.concurrent.ExecutionContext, implicit sender: akka.actor.ActorRef)akka.actor.Cancellable">schedule</a><a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.dispatcher" title="=&gt; scala.concurrent.ExecutionContextExecutor" class="delimiter">(</a>
    <a href="#akka.cluster.client;ClusterClientSettings.heartbeatInterval" title="=&gt; scala.concurrent.duration.FiniteDuration">heartbeatInterval</a>, <a href="#akka.cluster.client;ClusterClientSettings.heartbeatInterval" title="=&gt; scala.concurrent.duration.FiniteDuration">heartbeatInterval</a>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>, <a href="#akka.cluster.client.ClusterClient.Internal.HeartbeatTick.readResolve" title="akka.cluster.client.ClusterClient.Internal.HeartbeatTick.type">HeartbeatTick</a><span class="delimiter">)</span>
  var <a title="Option[akka.actor.Cancellable]" id="akka.cluster.client;ClusterClient.refreshContactsTask_=">refreshContactsTask</a>: <span title="Option[akka.actor.Cancellable]">Option</span><span class="delimiter">[</span>Cancellable<span class="delimiter">]</span> = <span title="None.type">None</span>
  <a href="#akka.cluster.client;ClusterClient.scheduleRefreshContactsTick" title="(interval: scala.concurrent.duration.FiniteDuration)Unit">scheduleRefreshContactsTick</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClientSettings.establishingGetContactsInterval" title="=&gt; scala.concurrent.duration.FiniteDuration">establishingGetContactsInterval</a><span class="delimiter">)</span>
  <a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">self</a> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.client.ClusterClient.Internal.RefreshContactsTick.readResolve" title="akka.cluster.client.ClusterClient.Internal.RefreshContactsTick.type">RefreshContactsTick</a>

  val <a title="java.util.LinkedList[(Any, akka.actor.ActorRef)]" id="akka.cluster.client;ClusterClient.buffer(214f7c25af)">buffer</a> = new java.util.<span title="java.util.LinkedList[(Any, akka.actor.ActorRef)]">LinkedList</span><span class="delimiter">[</span><span class="delimiter">(</span>Any, ActorRef<span class="delimiter">)</span><span class="delimiter">]</span>

  def <a title="(interval: scala.concurrent.duration.FiniteDuration)Unit" id="akka.cluster.client;ClusterClient.scheduleRefreshContactsTick">scheduleRefreshContactsTick</a><span class="delimiter">(</span><a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.client;ClusterClient.scheduleRefreshContactsTick.interval">interval</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#akka.cluster.client;ClusterClient.refreshContactsTask_=" title="=&gt; Option[akka.actor.Cancellable]">refreshContactsTask</a> <span title="(f: akka.actor.Cancellable =&gt; Boolean)Unit">foreach</span> <span class="delimiter">{</span> <a href="#akka.cluster.client;ClusterClient.scheduleRefreshContactsTick.$anonfun.x$1" title="akka.actor.Cancellable">_</a>.<a href="../../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Cancellable.cancel" title="()Boolean">cancel</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>
    <a href="#akka.cluster.client;ClusterClient.refreshContactsTask_=" title="(x$1: Option[akka.actor.Cancellable])Unit">refreshContactsTask</a> = <span title="(x: akka.actor.Cancellable)Some[akka.actor.Cancellable]">Some</span><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.scheduler" title="=&gt; akka.actor.Scheduler">scheduler</a>.<a href="../../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Scheduler.schedule(abf8206fc2)" title="(initialDelay: scala.concurrent.duration.FiniteDuration, interval: scala.concurrent.duration.FiniteDuration, receiver: akka.actor.ActorRef, message: Any)(implicit executor: scala.concurrent.ExecutionContext, implicit sender: akka.actor.ActorRef)akka.actor.Cancellable">schedule</a><a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.dispatcher" title="=&gt; scala.concurrent.ExecutionContextExecutor" class="delimiter">(</a>
      <a href="#akka.cluster.client;ClusterClient.scheduleRefreshContactsTick.interval" title="scala.concurrent.duration.FiniteDuration">interval</a>, <a href="#akka.cluster.client;ClusterClient.scheduleRefreshContactsTick.interval" title="scala.concurrent.duration.FiniteDuration">interval</a>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>, <a href="#akka.cluster.client.ClusterClient.Internal.RefreshContactsTick.readResolve" title="akka.cluster.client.ClusterClient.Internal.RefreshContactsTick.type">RefreshContactsTick</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  override def <a title="()Unit" id="akka.cluster.client;ClusterClient.postStop">postStop</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    super.<a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.postStop" title="()Unit">postStop</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#akka.cluster.client;ClusterClient.heartbeatTask" title="=&gt; akka.actor.Cancellable">heartbeatTask</a>.<a href="../../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Cancellable.cancel" title="()Boolean">cancel</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#akka.cluster.client;ClusterClient.refreshContactsTask_=" title="=&gt; Option[akka.actor.Cancellable]">refreshContactsTask</a> <span title="(f: akka.actor.Cancellable =&gt; Boolean)Unit">foreach</span> <span class="delimiter">{</span> <a href="#akka.cluster.client;ClusterClient.postStop.$anonfun.x$2" title="akka.actor.Cancellable">_</a>.<a href="../../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Cancellable.cancel" title="()Boolean">cancel</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="=&gt; akka.actor.Actor.Receive" id="akka.cluster.client;ClusterClient.receive">receive</a> = <a href="#akka.cluster.client;ClusterClient.establishing" title="=&gt; akka.actor.Actor.Receive">establishing</a>

  def <a title="=&gt; akka.actor.Actor.Receive" id="akka.cluster.client;ClusterClient.establishing">establishing</a>: Actor.<span title="akka.actor.Actor.Receive">Receive</span> = <a title="&lt;$anon: Any =&gt; Unit&gt; extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="akka.cluster.client;ClusterClient.establishing;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    case Contacts<span class="delimiter">(</span><a title="scala.collection.immutable.IndexedSeq[String]" id="akka.cluster.client;ClusterClient.establishing;$anonfun.isDefinedAt.contactPoints">contactPoints</a><span class="delimiter">)</span> 
      if <span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClient.establishing;$anonfun.isDefinedAt.contactPoints" title="scala.collection.immutable.IndexedSeq[String]">contactPoints</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#akka.cluster.client;ClusterClient.contacts_=" title="(x$1: scala.collection.immutable.IndexedSeq[akka.actor.ActorSelection])Unit">contacts</a> = <a href="#akka.cluster.client;ClusterClient.establishing;$anonfun.isDefinedAt.contactPoints" title="scala.collection.immutable.IndexedSeq[String]">contactPoints</a>.<span title="(f: String =&gt; akka.actor.ActorSelection)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[String],akka.actor.ActorSelection,scala.collection.immutable.IndexedSeq[akka.actor.ActorSelection]])scala.collection.immutable.IndexedSeq[akka.actor.ActorSelection]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq.Coll,akka.actor.ActorSelection,scala.collection.immutable.IndexedSeq[akka.actor.ActorSelection]]" class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.actorSelection(271eeb39be)" title="(path: String)akka.actor.ActorSelection">actorSelection</a><span class="delimiter">)</span>
        <a href="#akka.cluster.client;ClusterClient.contacts_=" title="=&gt; scala.collection.immutable.IndexedSeq[akka.actor.ActorSelection]">contacts</a> <span title="(f: akka.actor.ActorSelection =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a href="../../../../actor/akka/actor/ActorSelection.scala.html#akka.actor.ActorSelection.toScala" title="implicit akka.actor.ActorSelection.toScala : (sel: akka.actor.ActorSelection)akka.actor.ScalaActorSelection">_</a> <a href="../../../../actor/akka/actor/ActorSelection.scala.html#akka.actor;ScalaActorSelection.!" title="(msg: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Identify" title="(messageId: Any)akka.actor.Identify">Identify</a><span class="delimiter">(</span><span title="None.type">None</span><span class="delimiter">)</span> <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    case ActorIdentity<span class="delimiter">(</span>_, Some<span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.cluster.client;ClusterClient.establishing;$anonfun.isDefinedAt.receptionist">receptionist</a><span class="delimiter">)</span><span class="delimiter">)</span> 
      <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.info(dc73c33c91)" title="(template: String, arg1: Any)Unit">info</a><span class="delimiter">(</span><span title="String(&quot;Connected to [{}]&quot;)" class="string">&quot;Connected to [{}]&quot;</span>, <a href="#akka.cluster.client;ClusterClient.establishing;$anonfun.isDefinedAt.receptionist" title="akka.actor.ActorRef">receptionist</a>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a><span class="delimiter">)</span>
      <a href="#akka.cluster.client;ClusterClient.scheduleRefreshContactsTick" title="(interval: scala.concurrent.duration.FiniteDuration)Unit">scheduleRefreshContactsTick</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClientSettings.refreshContactsInterval" title="=&gt; scala.concurrent.duration.FiniteDuration">refreshContactsInterval</a><span class="delimiter">)</span>
      <a href="#akka.cluster.client;ClusterClient.sendBuffered" title="(receptionist: akka.actor.ActorRef)Unit">sendBuffered</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClient.establishing;$anonfun.isDefinedAt.receptionist" title="akka.actor.ActorRef">receptionist</a><span class="delimiter">)</span>
      <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.become(07b70b901c)" title="(behavior: akka.actor.Actor.Receive)Unit">become</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClient.active" title="(receptionist: akka.actor.ActorRef)akka.actor.Actor.Receive">active</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClient.establishing;$anonfun.isDefinedAt.receptionist" title="akka.actor.ActorRef">receptionist</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#akka.cluster.client;ClusterClient.failureDetector" title="=&gt; akka.remote.DeadlineFailureDetector">failureDetector</a>.<a href="../../../../remote/akka/remote/DeadlineFailureDetector.scala.html#akka.remote;DeadlineFailureDetector.heartbeat" title="()Unit">heartbeat</a><span class="delimiter">(</span><span class="delimiter">)</span>
    case ActorIdentity<span class="delimiter">(</span>_, <span title="None.type">None</span><span class="delimiter">)</span>  <span class="comment">// ok, use another instead</span>
    case <a href="#akka.cluster.client.ClusterClient.Internal.HeartbeatTick.readResolve" title="akka.cluster.client.ClusterClient.Internal.HeartbeatTick.type">HeartbeatTick</a> 
      <a href="#akka.cluster.client;ClusterClient.failureDetector" title="=&gt; akka.remote.DeadlineFailureDetector">failureDetector</a>.<a href="../../../../remote/akka/remote/DeadlineFailureDetector.scala.html#akka.remote;DeadlineFailureDetector.heartbeat" title="()Unit">heartbeat</a><span title="Boolean(true)" class="delimiter">(</span><span class="delimiter">)</span>
    case <a href="#akka.cluster.client.ClusterClient.Internal.RefreshContactsTick.readResolve" title="akka.cluster.client.ClusterClient.Internal.RefreshContactsTick.type">RefreshContactsTick</a>  <a href="#akka.cluster.client;ClusterClient.sendGetContacts" title="()Unit">sendGetContacts</a><span title="Boolean(true)" class="delimiter">(</span><span class="delimiter">)</span>
    case Send<span class="delimiter">(</span><span title="String">path</span>, <span title="Any">msg</span>, <a title="Boolean" id="akka.cluster.client;ClusterClient.establishing;$anonfun.isDefinedAt.localAffinity">localAffinity</a><span class="delimiter">)</span> 
      <a href="#akka.cluster.client;ClusterClient.buffer(95eb915eef)" title="(msg: Any)Unit">buffer</a><span title="Boolean(true)" class="delimiter">(</span><a href="../pubsub/DistributedPubSubMediator.scala.html#akka.cluster.pubsub.DistributedPubSubMediator" title="akka.cluster.pubsub.DistributedPubSubMediator.type">DistributedPubSubMediator</a>.<a href="../pubsub/DistributedPubSubMediator.scala.html#akka.cluster.pubsub.DistributedPubSubMediator;Send" title="(path: String, msg: Any, localAffinity: Boolean)akka.cluster.pubsub.DistributedPubSubMediator.Send">Send</a><span class="delimiter">(</span><span title="String">path</span>, <span title="Any">msg</span>, <a href="#akka.cluster.client;ClusterClient.establishing;$anonfun.isDefinedAt.localAffinity" title="Boolean">localAffinity</a><span class="delimiter">)</span><span class="delimiter">)</span>
    case SendToAll<span class="delimiter">(</span><span title="String">path</span>, <span title="Any">msg</span><span class="delimiter">)</span> 
      <a href="#akka.cluster.client;ClusterClient.buffer(95eb915eef)" title="(msg: Any)Unit">buffer</a><span title="Boolean(true)" class="delimiter">(</span><a href="../pubsub/DistributedPubSubMediator.scala.html#akka.cluster.pubsub.DistributedPubSubMediator" title="akka.cluster.pubsub.DistributedPubSubMediator.type">DistributedPubSubMediator</a>.<a href="../pubsub/DistributedPubSubMediator.scala.html#akka.cluster.pubsub.DistributedPubSubMediator;SendToAll" title="(path: String, msg: Any, allButSelf: Boolean)akka.cluster.pubsub.DistributedPubSubMediator.SendToAll">SendToAll</a><span class="delimiter">(</span><span title="String">path</span>, <span title="Any">msg</span><span class="delimiter">)</span><span class="delimiter">)</span>
    case Publish<span class="delimiter">(</span><a title="String" id="akka.cluster.client;ClusterClient.establishing;$anonfun.isDefinedAt.topic">topic</a>, <span title="Any">msg</span><span class="delimiter">)</span> 
      <a href="#akka.cluster.client;ClusterClient.buffer(95eb915eef)" title="(msg: Any)Unit">buffer</a><span title="Boolean(true)" class="delimiter">(</span><a href="../pubsub/DistributedPubSubMediator.scala.html#akka.cluster.pubsub.DistributedPubSubMediator" title="akka.cluster.pubsub.DistributedPubSubMediator.type">DistributedPubSubMediator</a>.<a href="../pubsub/DistributedPubSubMediator.scala.html#akka.cluster.pubsub.DistributedPubSubMediator.Publish.apply(614f9831c4)" title="(topic: String, msg: Any)akka.cluster.pubsub.DistributedPubSubMediator.Publish">Publish</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClient.establishing;$anonfun.isDefinedAt.topic" title="String">topic</a>, <span title="Any">msg</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(receptionist: akka.actor.ActorRef)akka.actor.Actor.Receive" id="akka.cluster.client;ClusterClient.active">active</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.cluster.client;ClusterClient.active.receptionist">receptionist</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: Actor.<span title="akka.actor.Actor.Receive">Receive</span> = <a title="&lt;$anon: Any =&gt; Unit&gt; extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="akka.cluster.client;ClusterClient.active;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    case Send<span class="delimiter">(</span><span title="String">path</span>, <span title="Any">msg</span>, <a title="Boolean" id="akka.cluster.client;ClusterClient.active;$anonfun.isDefinedAt.localAffinity">localAffinity</a><span class="delimiter">)</span> 
      <a href="#akka.cluster.client;ClusterClient.active.receptionist" title="akka.actor.ActorRef">receptionist</a> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.forward" title="(message: Any)(implicit context: akka.actor.ActorContext)Unit">forward</a> <a href="../pubsub/DistributedPubSubMediator.scala.html#akka.cluster.pubsub.DistributedPubSubMediator" title="akka.cluster.pubsub.DistributedPubSubMediator.type">DistributedPubSubMediator</a>.<a href="../pubsub/DistributedPubSubMediator.scala.html#akka.cluster.pubsub.DistributedPubSubMediator;Send" title="(path: String, msg: Any, localAffinity: Boolean)akka.cluster.pubsub.DistributedPubSubMediator.Send">Send</a><span class="delimiter">(</span><span title="String">path</span>, <span title="Any">msg</span>, <a href="#akka.cluster.client;ClusterClient.active;$anonfun.isDefinedAt.localAffinity" title="Boolean">localAffinity</a><span class="delimiter">)</span>
    case SendToAll<span class="delimiter">(</span><span title="String">path</span>, <span title="Any">msg</span><span class="delimiter">)</span> 
      <a href="#akka.cluster.client;ClusterClient.active.receptionist" title="akka.actor.ActorRef">receptionist</a> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.forward" title="(message: Any)(implicit context: akka.actor.ActorContext)Unit">forward</a> <a href="../pubsub/DistributedPubSubMediator.scala.html#akka.cluster.pubsub.DistributedPubSubMediator" title="akka.cluster.pubsub.DistributedPubSubMediator.type">DistributedPubSubMediator</a>.<a href="../pubsub/DistributedPubSubMediator.scala.html#akka.cluster.pubsub.DistributedPubSubMediator;SendToAll" title="(path: String, msg: Any, allButSelf: Boolean)akka.cluster.pubsub.DistributedPubSubMediator.SendToAll">SendToAll</a><span class="delimiter">(</span><span title="String">path</span>, <span title="Any">msg</span><span class="delimiter">)</span>
    case Publish<span class="delimiter">(</span><a title="String" id="akka.cluster.client;ClusterClient.active;$anonfun.isDefinedAt.topic">topic</a>, <span title="Any">msg</span><span class="delimiter">)</span> 
      <a href="#akka.cluster.client;ClusterClient.active.receptionist" title="akka.actor.ActorRef">receptionist</a> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.forward" title="(message: Any)(implicit context: akka.actor.ActorContext)Unit">forward</a> <a href="../pubsub/DistributedPubSubMediator.scala.html#akka.cluster.pubsub.DistributedPubSubMediator" title="akka.cluster.pubsub.DistributedPubSubMediator.type">DistributedPubSubMediator</a>.<a href="../pubsub/DistributedPubSubMediator.scala.html#akka.cluster.pubsub.DistributedPubSubMediator.Publish.apply(614f9831c4)" title="(topic: String, msg: Any)akka.cluster.pubsub.DistributedPubSubMediator.Publish">Publish</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClient.active;$anonfun.isDefinedAt.topic" title="String">topic</a>, <span title="Any">msg</span><span class="delimiter">)</span>
    case <a href="#akka.cluster.client.ClusterClient.Internal.HeartbeatTick.readResolve" title="akka.cluster.client.ClusterClient.Internal.HeartbeatTick.type">HeartbeatTick</a> 
      if <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.cluster.client;ClusterClient.failureDetector" title="=&gt; akka.remote.DeadlineFailureDetector">failureDetector</a>.<a href="../../../../remote/akka/remote/DeadlineFailureDetector.scala.html#akka.remote;DeadlineFailureDetector.isAvailable(2a880db3f6)" title="=&gt; Boolean">isAvailable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.info(dc73c33c91)" title="(template: String, arg1: Any)Unit">info</a><span class="delimiter">(</span><span title="String(&quot;Lost contact with [{}], restablishing connection&quot;)" class="string">&quot;Lost contact with [{}], restablishing connection&quot;</span>, <a href="#akka.cluster.client;ClusterClient.active.receptionist" title="akka.actor.ActorRef">receptionist</a><span class="delimiter">)</span>
        <a href="#akka.cluster.client;ClusterClient.sendGetContacts" title="()Unit">sendGetContacts</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#akka.cluster.client;ClusterClient.scheduleRefreshContactsTick" title="(interval: scala.concurrent.duration.FiniteDuration)Unit">scheduleRefreshContactsTick</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClientSettings.establishingGetContactsInterval" title="=&gt; scala.concurrent.duration.FiniteDuration">establishingGetContactsInterval</a><span class="delimiter">)</span>
        <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.become(07b70b901c)" title="(behavior: akka.actor.Actor.Receive)Unit">become</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClient.establishing" title="=&gt; akka.actor.Actor.Receive">establishing</a><span class="delimiter">)</span>
        <a href="#akka.cluster.client;ClusterClient.failureDetector" title="=&gt; akka.remote.DeadlineFailureDetector">failureDetector</a>.<a href="../../../../remote/akka/remote/DeadlineFailureDetector.scala.html#akka.remote;DeadlineFailureDetector.heartbeat" title="()Unit">heartbeat</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> else
        <a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">receptionist</a> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.client.ClusterReceptionist.Internal.Heartbeat.readResolve" title="akka.cluster.client.ClusterReceptionist.Internal.Heartbeat.type">Heartbeat</a>
    case <a href="#akka.cluster.client.ClusterReceptionist.Internal.HeartbeatRsp.readResolve" title="akka.cluster.client.ClusterReceptionist.Internal.HeartbeatRsp.type">HeartbeatRsp</a> 
      <a href="#akka.cluster.client;ClusterClient.failureDetector" title="=&gt; akka.remote.DeadlineFailureDetector">failureDetector</a>.<a href="../../../../remote/akka/remote/DeadlineFailureDetector.scala.html#akka.remote;DeadlineFailureDetector.heartbeat" title="()Unit">heartbeat</a><span title="Boolean(true)" class="delimiter">(</span><span class="delimiter">)</span>
    case <a href="#akka.cluster.client.ClusterClient.Internal.RefreshContactsTick.readResolve" title="akka.cluster.client.ClusterClient.Internal.RefreshContactsTick.type">RefreshContactsTick</a> 
      <a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">receptionist</a> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.client.ClusterReceptionist.Internal.GetContacts.readResolve" title="akka.cluster.client.ClusterReceptionist.Internal.GetContacts.type">GetContacts</a>
    case Contacts<span class="delimiter">(</span><a title="scala.collection.immutable.IndexedSeq[String]" id="akka.cluster.client;ClusterClient.active;$anonfun.isDefinedAt.contactPoints">contactPoints</a><span class="delimiter">)</span> 
      <span class="comment">// refresh of contacts</span>
      if <span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClient.active;$anonfun.isDefinedAt.contactPoints" title="scala.collection.immutable.IndexedSeq[String]">contactPoints</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
        <a href="#akka.cluster.client;ClusterClient.contacts_=" title="(x$1: scala.collection.immutable.IndexedSeq[akka.actor.ActorSelection])Unit">contacts</a> = <a href="#akka.cluster.client;ClusterClient.active;$anonfun.isDefinedAt.contactPoints" title="scala.collection.immutable.IndexedSeq[String]">contactPoints</a>.<span title="(f: String =&gt; akka.actor.ActorSelection)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[String],akka.actor.ActorSelection,scala.collection.immutable.IndexedSeq[akka.actor.ActorSelection]])scala.collection.immutable.IndexedSeq[akka.actor.ActorSelection]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq.Coll,akka.actor.ActorSelection,scala.collection.immutable.IndexedSeq[akka.actor.ActorSelection]]" class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.actorSelection(271eeb39be)" title="(path: String)akka.actor.ActorSelection">actorSelection</a><span class="delimiter">)</span>
    case _: <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorIdentity" title="akka.actor.ActorIdentity">ActorIdentity</a>  <span class="comment">// ok, from previous establish, already handled</span>
  <span class="delimiter">}</span>

  def <a title="()Unit" id="akka.cluster.client;ClusterClient.sendGetContacts">sendGetContacts</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    val <a title="scala.collection.immutable.IndexedSeq[akka.actor.ActorSelection]" id="akka.cluster.client;ClusterClient.sendGetContacts.sendTo">sendTo</a> =
      if <span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClient.contacts_=" title="=&gt; scala.collection.immutable.IndexedSeq[akka.actor.ActorSelection]">contacts</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#akka.cluster.client;ClusterClient.initialContactsSel" title="=&gt; scala.collection.immutable.IndexedSeq[akka.actor.ActorSelection]">initialContactsSel</a>
      else if <span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClient.contacts_=" title="=&gt; scala.collection.immutable.IndexedSeq[akka.actor.ActorSelection]">contacts</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClient.initialContactsSel" title="=&gt; scala.collection.immutable.IndexedSeq[akka.actor.ActorSelection]">initialContactsSel</a> <span title="(that: scala.collection.GenTraversableOnce[akka.actor.ActorSelection])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[akka.actor.ActorSelection],akka.actor.ActorSelection,scala.collection.immutable.IndexedSeq[akka.actor.ActorSelection]])scala.collection.immutable.IndexedSeq[akka.actor.ActorSelection]">++</span> <a href="#akka.cluster.client;ClusterClient.contacts_=" title="=&gt; scala.collection.immutable.IndexedSeq[akka.actor.ActorSelection]">contacts</a><span class="delimiter">)</span>
      else <a href="#akka.cluster.client;ClusterClient.contacts_=" title="=&gt; scala.collection.immutable.IndexedSeq[akka.actor.ActorSelection]">contacts</a>
    if <span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.isDebugEnabled" title="=&gt; Boolean">isDebugEnabled</a><span class="delimiter">)</span>
      <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.debug(cc2e600322)" title="(message: String)Unit">debug</a><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;&quot;&quot;<span title="String(&quot;Sending GetContacts to [&quot;)">Sending GetContacts to [$</span><span class="delimiter">{</span><a href="#akka.cluster.client;ClusterClient.sendGetContacts.sendTo" title="scala.collection.immutable.IndexedSeq[akka.actor.ActorSelection]">sendTo</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span><span class="delimiter">}</span><span title="String(&quot;]&quot;)" class="string">]&quot;&quot;&quot;</span><span class="delimiter">)</span>
    <a href="#akka.cluster.client;ClusterClient.sendGetContacts.sendTo" title="scala.collection.immutable.IndexedSeq[akka.actor.ActorSelection]">sendTo</a>.<span title="(f: akka.actor.ActorSelection =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a href="../../../../actor/akka/actor/ActorSelection.scala.html#akka.actor.ActorSelection.toScala" title="implicit akka.actor.ActorSelection.toScala : (sel: akka.actor.ActorSelection)akka.actor.ScalaActorSelection">_</a> <a href="../../../../actor/akka/actor/ActorSelection.scala.html#akka.actor;ScalaActorSelection.!" title="(msg: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.client.ClusterReceptionist.Internal.GetContacts.readResolve" title="akka.cluster.client.ClusterReceptionist.Internal.GetContacts.type">GetContacts</a> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(msg: Any)Unit" id="akka.cluster.client;ClusterClient.buffer(95eb915eef)">buffer</a><span class="delimiter">(</span><a title="Any" id="akka.cluster.client;ClusterClient.buffer(95eb915eef).msg">msg</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    if <span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClient.settings" title="akka.cluster.client.ClusterClientSettings">settings</a>.<a href="#akka.cluster.client;ClusterClientSettings.bufferSize" title="=&gt; Int">bufferSize</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
      <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.debug(dc73c33c91)" title="(template: String, arg1: Any)Unit">debug</a><span class="delimiter">(</span><span title="String(&quot;Receptionist not available and buffering is disabled, dropping message [{}]&quot;)" class="string">&quot;Receptionist not available and buffering is disabled, dropping message [{}]&quot;</span>, <a href="#akka.cluster.client;ClusterClient.buffer(95eb915eef).msg" title="Any">msg</a>.<span title="()Class[_]">getClass</span>.<span title="()String">getName</span><span class="delimiter">)</span>
    else if <span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClient.buffer(214f7c25af)" title="=&gt; java.util.LinkedList[(Any, akka.actor.ActorRef)]">buffer</a>.<span title="()Int">size</span> <span title="(x: Int)Boolean">==</span> <a href="#akka.cluster.client;ClusterClient.settings" title="akka.cluster.client.ClusterClientSettings">settings</a>.<a href="#akka.cluster.client;ClusterClientSettings.bufferSize" title="=&gt; Int">bufferSize</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      val <a href="#akka.cluster.client;ClusterClient.buffer(95eb915eef).m.m" title="Any" id="akka.cluster.client;ClusterClient.buffer(95eb915eef).m" class="delimiter">(</a><a title="Any" id="akka.cluster.client;ClusterClient.buffer(95eb915eef).m.m">m</a>, _<span class="delimiter">)</span> = <a href="#akka.cluster.client;ClusterClient.buffer(214f7c25af)" title="=&gt; java.util.LinkedList[(Any, akka.actor.ActorRef)]">buffer</a>.<span title="()(Any, akka.actor.ActorRef)">removeFirst</span><span title="(Any, akka.actor.ActorRef) @unchecked" class="delimiter">(</span><span class="delimiter">)</span>
      <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.debug(dc73c33c91)" title="(template: String, arg1: Any)Unit">debug</a><span class="delimiter">(</span><span title="String(&quot;Receptionist not available, buffer is full, dropping first message [{}]&quot;)" class="string">&quot;Receptionist not available, buffer is full, dropping first message [{}]&quot;</span>, <a href="#akka.cluster.client;ClusterClient.buffer(95eb915eef).m" title="Any">m</a>.<span title="()Class[_]">getClass</span>.<span title="()String">getName</span><span class="delimiter">)</span>
      <a href="#akka.cluster.client;ClusterClient.buffer(214f7c25af)" title="=&gt; java.util.LinkedList[(Any, akka.actor.ActorRef)]">buffer</a>.<span title="(x$1: (Any, akka.actor.ActorRef))Unit">addLast</span><span class="delimiter">(</span><span title="(_1: Any, _2: akka.actor.ActorRef)(Any, akka.actor.ActorRef)" class="delimiter">(</span><a href="#akka.cluster.client;ClusterClient.buffer(95eb915eef).msg" title="Any">msg</a>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> else <span class="delimiter">{</span>
      <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.debug(dc73c33c91)" title="(template: String, arg1: Any)Unit">debug</a><span class="delimiter">(</span><span title="String(&quot;Receptionist not available, buffering message type [{}]&quot;)" class="string">&quot;Receptionist not available, buffering message type [{}]&quot;</span>, <a href="#akka.cluster.client;ClusterClient.buffer(95eb915eef).msg" title="Any">msg</a>.<span title="()Class[_]">getClass</span>.<span title="()String">getName</span><span class="delimiter">)</span>
      <a href="#akka.cluster.client;ClusterClient.buffer(214f7c25af)" title="=&gt; java.util.LinkedList[(Any, akka.actor.ActorRef)]">buffer</a>.<span title="(x$1: (Any, akka.actor.ActorRef))Unit">addLast</span><span class="delimiter">(</span><span title="(_1: Any, _2: akka.actor.ActorRef)(Any, akka.actor.ActorRef)" class="delimiter">(</span><a href="#akka.cluster.client;ClusterClient.buffer(95eb915eef).msg" title="Any">msg</a>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  def <a title="(receptionist: akka.actor.ActorRef)Unit" id="akka.cluster.client;ClusterClient.sendBuffered">sendBuffered</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.cluster.client;ClusterClient.sendBuffered.receptionist">receptionist</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.debug(cc2e600322)" title="(message: String)Unit">debug</a><span class="delimiter">(</span><span title="String(&quot;Sending buffered messages to receptionist&quot;)" class="string">&quot;Sending buffered messages to receptionist&quot;</span><span class="delimiter">)</span>
    while <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.cluster.client;ClusterClient.buffer(214f7c25af)" title="=&gt; java.util.LinkedList[(Any, akka.actor.ActorRef)]">buffer</a>.<span title="()Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#akka.cluster.client;ClusterClient.sendBuffered.while$1" title="()Unit" class="delimiter">{</a>
      val <a href="#akka.cluster.client;ClusterClient.sendBuffered.msg" title="(Any, akka.actor.ActorRef)" class="delimiter">(</a><a href="#akka.cluster.client;ClusterClient.sendBuffered.x$5" title="Any" id="akka.cluster.client;ClusterClient.sendBuffered.msg">msg</a>, <a href="#akka.cluster.client;ClusterClient.sendBuffered.x$5" title="akka.actor.ActorRef" id="akka.cluster.client;ClusterClient.sendBuffered.snd">snd</a><span class="delimiter">)</span> = <a href="#akka.cluster.client;ClusterClient.buffer(214f7c25af)" title="=&gt; java.util.LinkedList[(Any, akka.actor.ActorRef)]">buffer</a>.<span title="()(Any, akka.actor.ActorRef)">removeFirst</span><span title="(Any, akka.actor.ActorRef) @unchecked" class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#akka.cluster.client;ClusterClient.sendBuffered.receptionist" title="akka.actor.ActorRef">receptionist</a>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.tell" title="(msg: Any, sender: akka.actor.ActorRef)Unit">tell</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClient.sendBuffered.msg" title="Any">msg</a>, <a href="#akka.cluster.client;ClusterClient.sendBuffered.snd" title="akka.actor.ActorRef">snd</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

object <a title="akka.cluster.client.ClusterClientReceptionist.type" id="akka.cluster.client.ClusterClientReceptionist">ClusterClientReceptionist</a> extends <a href="../../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionId" title="akka.actor.ExtensionId[akka.cluster.client.ClusterClientReceptionist]">ExtensionId</a><span class="delimiter">[</span>ClusterClientReceptionist<span class="delimiter">]</span> with <a href="../../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionIdProvider" title="akka.actor.ExtensionIdProvider">ExtensionIdProvider</a> <span class="delimiter">{</span>
  override def <a title="(system: akka.actor.ActorSystem)akka.cluster.client.ClusterClientReceptionist" id="akka.cluster.client.ClusterClientReceptionist.get">get</a><span class="delimiter">(</span><a title="akka.actor.ActorSystem" id="akka.cluster.client.ClusterClientReceptionist.get.system">system</a>: <a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem" title="akka.actor.ActorSystem">ActorSystem</a><span class="delimiter">)</span>: <a href="#akka.cluster.client;ClusterClientReceptionist" title="akka.cluster.client.ClusterClientReceptionist">ClusterClientReceptionist</a> = super.<a href="../../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionId.get" title="(system: akka.actor.ActorSystem)akka.cluster.client.ClusterClientReceptionist">get</a><span class="delimiter">(</span><a href="#akka.cluster.client.ClusterClientReceptionist.get.system" title="akka.actor.ActorSystem">system</a><span class="delimiter">)</span>

  override def <a title="()akka.cluster.client.ClusterClientReceptionist.type" id="akka.cluster.client.ClusterClientReceptionist.lookup">lookup</a> = <a href="#akka.cluster.client.ClusterClientReceptionist" title="akka.cluster.client.ClusterClientReceptionist.type">ClusterClientReceptionist</a>

  override def <a title="(system: akka.actor.ExtendedActorSystem)akka.cluster.client.ClusterClientReceptionist" id="akka.cluster.client.ClusterClientReceptionist.createExtension">createExtension</a><span class="delimiter">(</span><a title="akka.actor.ExtendedActorSystem" id="akka.cluster.client.ClusterClientReceptionist.createExtension.system">system</a>: <a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ExtendedActorSystem" title="akka.actor.ExtendedActorSystem">ExtendedActorSystem</a><span class="delimiter">)</span>: <a href="#akka.cluster.client;ClusterClientReceptionist" title="akka.cluster.client.ClusterClientReceptionist">ClusterClientReceptionist</a> =
    new <a href="#akka.cluster.client;ClusterClientReceptionist" title="akka.cluster.client.ClusterClientReceptionist">ClusterClientReceptionist</a><span class="delimiter">(</span><a href="#akka.cluster.client.ClusterClientReceptionist.createExtension.system" title="akka.actor.ExtendedActorSystem">system</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Extension that starts [[ClusterReceptionist]] and accompanying [[akka.cluster.pubsub.DistributedPubSubMediator]]
 * with settings defined in config section `akka.cluster.client.receptionist`.
 * The [[akka.cluster.pubsub.DistributedPubSubMediator]] is started by the [[akka.cluster.pubsub.DistributedPubSub]] extension.
 */</span>
final class <a title="class ClusterClientReceptionist extends AnyRef with akka.actor.Extension" id="akka.cluster.client;ClusterClientReceptionist">ClusterClientReceptionist</a><a href="#akka.cluster.client;ClusterClientReceptionist" title="akka.cluster.client.ClusterClientReceptionist" class="delimiter">(</a><a title="akka.actor.ExtendedActorSystem" id="akka.cluster.client;ClusterClientReceptionist.system">system</a>: <a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ExtendedActorSystem" title="akka.actor.ExtendedActorSystem">ExtendedActorSystem</a><span class="delimiter">)</span> extends <a href="../../../../actor/akka/actor/Extension.scala.html#akka.actor;Extension" title="akka.actor.Extension">Extension</a> <span class="delimiter">{</span>

  private val <a title="com.typesafe.config.Config" id="akka.cluster.client;ClusterClientReceptionist.config">config</a> = <a href="#akka.cluster.client;ClusterClientReceptionist.system" title="akka.actor.ExtendedActorSystem">system</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.settings" title="=&gt; akka.actor.ActorSystem.Settings">settings</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor.ActorSystem;Settings.config" title="=&gt; com.typesafe.config.Config">config</a>.<span title="(x$1: String)com.typesafe.config.Config">getConfig</span><span class="delimiter">(</span><span title="String(&quot;akka.cluster.client.receptionist&quot;)" class="string">&quot;akka.cluster.client.receptionist&quot;</span><span class="delimiter">)</span>
  private val <a title="Option[String]" id="akka.cluster.client;ClusterClientReceptionist.role">role</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#akka.cluster.client;ClusterClientReceptionist.config" title="=&gt; com.typesafe.config.Config">config</a>.<span title="(x$1: String)String">getString</span><span class="delimiter">(</span><span title="String(&quot;role&quot;)" class="string">&quot;role&quot;</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
    case <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>  <span title="None.type">None</span>
    case <a title="String" id="akka.cluster.client;ClusterClientReceptionist.role.r">r</a>   <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClientReceptionist.role.r" title="String">r</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns true if this member is not tagged with the role configured for the
   * receptionist.
   */</span>
  def <a title="=&gt; Boolean" id="akka.cluster.client;ClusterClientReceptionist.isTerminated">isTerminated</a>: <span title="Boolean">Boolean</span> = <a href="../../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionId.apply" title="(system: akka.actor.ActorSystem)akka.cluster.Cluster">Cluster</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClientReceptionist.system" title="akka.actor.ExtendedActorSystem">system</a><span class="delimiter">)</span>.<a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.isTerminated" title="=&gt; Boolean">isTerminated</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#akka.cluster.client;ClusterClientReceptionist.role" title="=&gt; Option[String]">role</a>.<span title="(p: String =&gt; Boolean)Boolean">forall</span><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionId.apply" title="(system: akka.actor.ActorSystem)akka.cluster.Cluster">Cluster</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClientReceptionist.system" title="akka.actor.ExtendedActorSystem">system</a><span class="delimiter">)</span>.<a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.selfRoles" title="=&gt; Set[String]">selfRoles</a>.<a href="#akka.cluster.client;ClusterClientReceptionist.isTerminated.$anonfun.elem" title="(elem: String)Boolean">contains</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Register the actors that should be reachable for the clients in this [[DistributedPubSubMediator]].
   */</span>
  private def <a title="=&gt; akka.actor.ActorRef" id="akka.cluster.client;ClusterClientReceptionist.pubSubMediator">pubSubMediator</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a> = <a href="../../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionId.apply" title="(system: akka.actor.ActorSystem)akka.cluster.pubsub.DistributedPubSub">DistributedPubSub</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClientReceptionist.system" title="akka.actor.ExtendedActorSystem">system</a><span class="delimiter">)</span>.<a href="../pubsub/DistributedPubSubMediator.scala.html#akka.cluster.pubsub;DistributedPubSub.mediator" title="=&gt; akka.actor.ActorRef">mediator</a>

  <span class="comment">/**
   * Register an actor that should be reachable for the clients.
   * The clients can send messages to this actor with `Send` or `SendToAll` using
   * the path elements of the `ActorRef`, e.g. `&quot;/user/myservice&quot;`.
   */</span>
  def <a title="(actor: akka.actor.ActorRef)Unit" id="akka.cluster.client;ClusterClientReceptionist.registerService">registerService</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.cluster.client;ClusterClientReceptionist.registerService.actor">actor</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="akka.actor.ScalaActorRef" id="akka.cluster.client;ClusterClientReceptionist.registerService.qual$1">pubSubMediator</a> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!$default$2" title="akka.actor.ActorRef" id="akka.cluster.client;ClusterClientReceptionist.registerService.x$31">!</a> <a href="../pubsub/DistributedPubSubMediator.scala.html#akka.cluster.pubsub.DistributedPubSubMediator" title="akka.cluster.pubsub.DistributedPubSubMediator.type">DistributedPubSubMediator</a>.<a href="../pubsub/DistributedPubSubMediator.scala.html#akka.cluster.pubsub.DistributedPubSubMediator;Put" title="(ref: akka.actor.ActorRef)akka.cluster.pubsub.DistributedPubSubMediator.Put">Put</a><a title="akka.cluster.pubsub.DistributedPubSubMediator.Put" id="akka.cluster.client;ClusterClientReceptionist.registerService.x$30" class="delimiter">(</a><a href="#akka.cluster.client;ClusterClientReceptionist.registerService.actor" title="akka.actor.ActorRef">actor</a><span class="delimiter">)</span>

  <span class="comment">/**
   * A registered actor will be automatically unregistered when terminated,
   * but it can also be explicitly unregistered before termination.
   */</span>
  def <a title="(actor: akka.actor.ActorRef)Unit" id="akka.cluster.client;ClusterClientReceptionist.unregisterService">unregisterService</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.cluster.client;ClusterClientReceptionist.unregisterService.actor">actor</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="akka.actor.ScalaActorRef" id="akka.cluster.client;ClusterClientReceptionist.unregisterService.qual$2">pubSubMediator</a> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!$default$2" title="akka.actor.ActorRef" id="akka.cluster.client;ClusterClientReceptionist.unregisterService.x$33">!</a> <a href="../pubsub/DistributedPubSubMediator.scala.html#akka.cluster.pubsub.DistributedPubSubMediator" title="akka.cluster.pubsub.DistributedPubSubMediator.type">DistributedPubSubMediator</a>.<a href="../pubsub/DistributedPubSubMediator.scala.html#akka.cluster.pubsub.DistributedPubSubMediator;Remove" title="(path: String)akka.cluster.pubsub.DistributedPubSubMediator.Remove">Remove</a><a title="akka.cluster.pubsub.DistributedPubSubMediator.Remove" id="akka.cluster.client;ClusterClientReceptionist.unregisterService.x$32" class="delimiter">(</a><a href="#akka.cluster.client;ClusterClientReceptionist.unregisterService.actor" title="akka.actor.ActorRef">actor</a>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a>.<a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath.toStringWithoutAddress" title="=&gt; String">toStringWithoutAddress</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Register an actor that should be reachable for the clients to a named topic.
   * Several actors can be registered to the same topic name, and all will receive
   * published messages.
   * The client can publish messages to this topic with `Publish`.
   */</span>
  def <a title="(topic: String, actor: akka.actor.ActorRef)Unit" id="akka.cluster.client;ClusterClientReceptionist.registerSubscriber">registerSubscriber</a><span class="delimiter">(</span><a title="String" id="akka.cluster.client;ClusterClientReceptionist.registerSubscriber.topic">topic</a>: <span title="String">String</span>, <a title="akka.actor.ActorRef" id="akka.cluster.client;ClusterClientReceptionist.registerSubscriber.actor">actor</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="akka.actor.ScalaActorRef" id="akka.cluster.client;ClusterClientReceptionist.registerSubscriber.qual$3">pubSubMediator</a> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!$default$2" title="akka.actor.ActorRef" id="akka.cluster.client;ClusterClientReceptionist.registerSubscriber.x$35">!</a> <a href="../pubsub/DistributedPubSubMediator.scala.html#akka.cluster.pubsub.DistributedPubSubMediator" title="akka.cluster.pubsub.DistributedPubSubMediator.type">DistributedPubSubMediator</a>.<a href="../pubsub/DistributedPubSubMediator.scala.html#akka.cluster.pubsub.DistributedPubSubMediator.Subscribe.apply(9dcded2cae)" title="(topic: String, ref: akka.actor.ActorRef)akka.cluster.pubsub.DistributedPubSubMediator.Subscribe">Subscribe</a><a title="akka.cluster.pubsub.DistributedPubSubMediator.Subscribe" id="akka.cluster.client;ClusterClientReceptionist.registerSubscriber.x$34" class="delimiter">(</a><a href="#akka.cluster.client;ClusterClientReceptionist.registerSubscriber.topic" title="String">topic</a>, <a href="#akka.cluster.client;ClusterClientReceptionist.registerSubscriber.actor" title="akka.actor.ActorRef">actor</a><span class="delimiter">)</span>

  <span class="comment">/**
   * A registered subscriber will be automatically unregistered when terminated,
   * but it can also be explicitly unregistered before termination.
   */</span>
  def <a title="(topic: String, actor: akka.actor.ActorRef)Unit" id="akka.cluster.client;ClusterClientReceptionist.unregisterSubscriber">unregisterSubscriber</a><span class="delimiter">(</span><a title="String" id="akka.cluster.client;ClusterClientReceptionist.unregisterSubscriber.topic">topic</a>: <span title="String">String</span>, <a title="akka.actor.ActorRef" id="akka.cluster.client;ClusterClientReceptionist.unregisterSubscriber.actor">actor</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="akka.actor.ScalaActorRef" id="akka.cluster.client;ClusterClientReceptionist.unregisterSubscriber.qual$4">pubSubMediator</a> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!$default$2" title="akka.actor.ActorRef" id="akka.cluster.client;ClusterClientReceptionist.unregisterSubscriber.x$37">!</a> <a href="../pubsub/DistributedPubSubMediator.scala.html#akka.cluster.pubsub.DistributedPubSubMediator" title="akka.cluster.pubsub.DistributedPubSubMediator.type">DistributedPubSubMediator</a>.<a href="../pubsub/DistributedPubSubMediator.scala.html#akka.cluster.pubsub.DistributedPubSubMediator.Unsubscribe.apply(9dfa4f783a)" title="(topic: String, ref: akka.actor.ActorRef)akka.cluster.pubsub.DistributedPubSubMediator.Unsubscribe">Unsubscribe</a><a title="akka.cluster.pubsub.DistributedPubSubMediator.Unsubscribe" id="akka.cluster.client;ClusterClientReceptionist.unregisterSubscriber.x$36" class="delimiter">(</a><a href="#akka.cluster.client;ClusterClientReceptionist.unregisterSubscriber.topic" title="String">topic</a>, <a href="#akka.cluster.client;ClusterClientReceptionist.unregisterSubscriber.actor" title="akka.actor.ActorRef">actor</a><span class="delimiter">)</span>

  <span class="comment">/**
   * The [[ClusterReceptionist]] actor
   */</span>
  private val <a title="akka.actor.ActorRef" id="akka.cluster.client;ClusterClientReceptionist.receptionist">receptionist</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClientReceptionist.isTerminated" title="=&gt; Boolean">isTerminated</a><span class="delimiter">)</span>
      <a href="#akka.cluster.client;ClusterClientReceptionist.system" title="akka.actor.ExtendedActorSystem">system</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.deadLetters" title="=&gt; akka.actor.ActorRef">deadLetters</a>
    else <span class="delimiter">{</span>
      val <a title="String" id="akka.cluster.client;ClusterClientReceptionist.receptionist.name">name</a> = <a href="#akka.cluster.client;ClusterClientReceptionist.config" title="=&gt; com.typesafe.config.Config">config</a>.<span title="(x$1: String)String">getString</span><span class="delimiter">(</span><span title="String(&quot;name&quot;)" class="string">&quot;name&quot;</span><span class="delimiter">)</span>
      val <a title="String" id="akka.cluster.client;ClusterClientReceptionist.receptionist.dispatcher">dispatcher</a> = <a href="#akka.cluster.client;ClusterClientReceptionist.config" title="=&gt; com.typesafe.config.Config">config</a>.<span title="(x$1: String)String">getString</span><span class="delimiter">(</span><span title="String(&quot;use-dispatcher&quot;)" class="string">&quot;use-dispatcher&quot;</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
        case <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>  Dispatchers.<span title="String(&quot;akka.actor.default-dispatcher&quot;)">DefaultDispatcherId</span>
        case <a title="String" id="akka.cluster.client;ClusterClientReceptionist.receptionist.dispatcher.id">id</a>  <a href="#akka.cluster.client;ClusterClientReceptionist.receptionist.dispatcher.id" title="String">id</a>
      <span class="delimiter">}</span>
      <span class="comment">// important to use val mediator here to activate it outside of ClusterReceptionist constructor</span>
      val <a title="akka.actor.ActorRef" id="akka.cluster.client;ClusterClientReceptionist.receptionist.mediator">mediator</a> = <a href="#akka.cluster.client;ClusterClientReceptionist.pubSubMediator" title="=&gt; akka.actor.ActorRef">pubSubMediator</a>
      <a href="#akka.cluster.client;ClusterClientReceptionist.system" title="akka.actor.ExtendedActorSystem">system</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ExtendedActorSystem.systemActorOf" title="(props: akka.actor.Props, name: String)akka.actor.ActorRef">systemActorOf</a><span class="delimiter">(</span><a href="#akka.cluster.client.ClusterReceptionist" title="akka.cluster.client.ClusterReceptionist.type">ClusterReceptionist</a>.<a href="#akka.cluster.client.ClusterReceptionist.props" title="(pubSubMediator: akka.actor.ActorRef, settings: akka.cluster.client.ClusterReceptionistSettings)akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClientReceptionist.receptionist.mediator" title="akka.actor.ActorRef">mediator</a>, <a href="#akka.cluster.client.ClusterReceptionistSettings.apply(06e9c09fd8)" title="(config: com.typesafe.config.Config)akka.cluster.client.ClusterReceptionistSettings">ClusterReceptionistSettings</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClientReceptionist.config" title="=&gt; com.typesafe.config.Config">config</a><span class="delimiter">)</span><span class="delimiter">)</span>
        .<a href="../../../../actor/akka/actor/Props.scala.html#akka.actor;Props.withDispatcher" title="(d: String)akka.actor.Props">withDispatcher</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterClientReceptionist.receptionist.dispatcher" title="String">dispatcher</a><span class="delimiter">)</span>, <a href="#akka.cluster.client;ClusterClientReceptionist.receptionist.name" title="String">name</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

object <a title="akka.cluster.client.ClusterReceptionistSettings.type" id="akka.cluster.client.ClusterReceptionistSettings">ClusterReceptionistSettings</a> <a href="#akka.cluster.client.ClusterReceptionistSettings" title="akka.cluster.client.ClusterReceptionistSettings.type" class="delimiter">{</a>
  <span class="comment">/**
   * Create settings from the default configuration
   * `akka.cluster.client.receptionist`.
   */</span>
  def <a title="(system: akka.actor.ActorSystem)akka.cluster.client.ClusterReceptionistSettings" id="akka.cluster.client.ClusterReceptionistSettings.apply(323d72a650)">apply</a><span class="delimiter">(</span><a title="akka.actor.ActorSystem" id="akka.cluster.client.ClusterReceptionistSettings.apply(323d72a650).system">system</a>: <a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem" title="akka.actor.ActorSystem">ActorSystem</a><span class="delimiter">)</span>: <a href="#akka.cluster.client;ClusterReceptionistSettings" title="akka.cluster.client.ClusterReceptionistSettings">ClusterReceptionistSettings</a> =
    <a href="#akka.cluster.client.ClusterReceptionistSettings.apply(06e9c09fd8)" title="(config: com.typesafe.config.Config)akka.cluster.client.ClusterReceptionistSettings">apply</a><span class="delimiter">(</span><a href="#akka.cluster.client.ClusterReceptionistSettings.apply(323d72a650).system" title="akka.actor.ActorSystem">system</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.settings" title="=&gt; akka.actor.ActorSystem.Settings">settings</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor.ActorSystem;Settings.config" title="=&gt; com.typesafe.config.Config">config</a>.<span title="(x$1: String)com.typesafe.config.Config">getConfig</span><span class="delimiter">(</span><span title="String(&quot;akka.cluster.client.receptionist&quot;)" class="string">&quot;akka.cluster.client.receptionist&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Create settings from a configuration with the same layout as
   * the default configuration `akka.cluster.client.receptionist`.
   */</span>
  def <a title="(config: com.typesafe.config.Config)akka.cluster.client.ClusterReceptionistSettings" id="akka.cluster.client.ClusterReceptionistSettings.apply(06e9c09fd8)">apply</a><span class="delimiter">(</span><a title="com.typesafe.config.Config" id="akka.cluster.client.ClusterReceptionistSettings.apply(06e9c09fd8).config">config</a>: <span title="com.typesafe.config.Config">Config</span><span class="delimiter">)</span>: <a href="#akka.cluster.client;ClusterReceptionistSettings" title="akka.cluster.client.ClusterReceptionistSettings">ClusterReceptionistSettings</a> =
    new <a href="#akka.cluster.client;ClusterReceptionistSettings" title="akka.cluster.client.ClusterReceptionistSettings">ClusterReceptionistSettings</a><span class="delimiter">(</span>
      role = <a href="#akka.cluster.client.ClusterReceptionistSettings.roleOption" title="(role: String)Option[String]">roleOption</a><span class="delimiter">(</span><a href="#akka.cluster.client.ClusterReceptionistSettings.apply(06e9c09fd8).config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String)String">getString</span><span class="delimiter">(</span><span title="String(&quot;role&quot;)" class="string">&quot;role&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>,
      numberOfContacts = <a href="#akka.cluster.client.ClusterReceptionistSettings.apply(06e9c09fd8).config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String)Int">getInt</span><span class="delimiter">(</span><span title="String(&quot;number-of-contacts&quot;)" class="string">&quot;number-of-contacts&quot;</span><span class="delimiter">)</span>,
      responseTunnelReceiveTimeout = <a href="#akka.cluster.client.ClusterReceptionistSettings.apply(06e9c09fd8).config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String, x$2: java.util.concurrent.TimeUnit)Long">getDuration</span><span title="implicit scala.concurrent.duration.package.DurationLong : (n: Long)concurrent.duration.DurationLong" class="delimiter">(</span><span title="String(&quot;response-tunnel-receive-timeout&quot;)" class="string">&quot;response-tunnel-receive-timeout&quot;</span>, <span title="java.util.concurrent.TimeUnit(MILLISECONDS)">MILLISECONDS</span><span class="delimiter">)</span>.<span title="=&gt; scala.concurrent.duration.FiniteDuration">millis</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Java API: Create settings from the default configuration
   * `akka.cluster.client.receptionist`.
   */</span>
  def <a title="(system: akka.actor.ActorSystem)akka.cluster.client.ClusterReceptionistSettings" id="akka.cluster.client.ClusterReceptionistSettings.create(323d72a650)">create</a><span class="delimiter">(</span><a title="akka.actor.ActorSystem" id="akka.cluster.client.ClusterReceptionistSettings.create(323d72a650).system">system</a>: <a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem" title="akka.actor.ActorSystem">ActorSystem</a><span class="delimiter">)</span>: <a href="#akka.cluster.client;ClusterReceptionistSettings" title="akka.cluster.client.ClusterReceptionistSettings">ClusterReceptionistSettings</a> = <a href="#akka.cluster.client.ClusterReceptionistSettings.apply(323d72a650)" title="(system: akka.actor.ActorSystem)akka.cluster.client.ClusterReceptionistSettings">apply</a><span class="delimiter">(</span><a href="#akka.cluster.client.ClusterReceptionistSettings.create(323d72a650).system" title="akka.actor.ActorSystem">system</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Java API: Create settings from a configuration with the same layout as
   * the default configuration `akka.cluster.client.receptionist`.
   */</span>
  def <a title="(config: com.typesafe.config.Config)akka.cluster.client.ClusterReceptionistSettings" id="akka.cluster.client.ClusterReceptionistSettings.create(06e9c09fd8)">create</a><span class="delimiter">(</span><a title="com.typesafe.config.Config" id="akka.cluster.client.ClusterReceptionistSettings.create(06e9c09fd8).config">config</a>: <span title="com.typesafe.config.Config">Config</span><span class="delimiter">)</span>: <a href="#akka.cluster.client;ClusterReceptionistSettings" title="akka.cluster.client.ClusterReceptionistSettings">ClusterReceptionistSettings</a> = <a href="#akka.cluster.client.ClusterReceptionistSettings.apply(06e9c09fd8)" title="(config: com.typesafe.config.Config)akka.cluster.client.ClusterReceptionistSettings">apply</a><span class="delimiter">(</span><a href="#akka.cluster.client.ClusterReceptionistSettings.create(06e9c09fd8).config" title="com.typesafe.config.Config">config</a><span class="delimiter">)</span>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  private<span class="delimiter">[</span>akka<span class="delimiter">]</span> def <a title="(role: String)Option[String]" id="akka.cluster.client.ClusterReceptionistSettings.roleOption">roleOption</a><span class="delimiter">(</span><a title="String" id="akka.cluster.client.ClusterReceptionistSettings.roleOption.role">role</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    if <span class="delimiter">(</span><a href="#akka.cluster.client.ClusterReceptionistSettings.roleOption.role" title="String">role</a> <span title="(x$1: Any)Boolean">==</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="None.type">None</span> else <span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><a href="#akka.cluster.client.ClusterReceptionistSettings.roleOption.role" title="String">role</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * @param role Start the receptionist on members tagged with this role.
 *   All members are used if undefined.
 * @param numberOfContacts The receptionist will send this number of contact points to the client
 * @param responseTunnelReceiveTimeout The actor that tunnel response messages to the
 *   client will be stopped after this time of inactivity.
 */</span>
final class <a title="class ClusterReceptionistSettings extends AnyRef with akka.actor.NoSerializationVerificationNeeded" id="akka.cluster.client;ClusterReceptionistSettings">ClusterReceptionistSettings</a><a href="#akka.cluster.client;ClusterReceptionistSettings" title="akka.cluster.client.ClusterReceptionistSettings" class="delimiter">(</a>
  val <a title="Option[String]" id="akka.cluster.client;ClusterReceptionistSettings.role">role</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span>,
  val <a title="Int" id="akka.cluster.client;ClusterReceptionistSettings.numberOfContacts">numberOfContacts</a>: <span title="Int">Int</span>,
  val <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.client;ClusterReceptionistSettings.responseTunnelReceiveTimeout">responseTunnelReceiveTimeout</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">)</span> extends <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;NoSerializationVerificationNeeded" title="akka.actor.NoSerializationVerificationNeeded">NoSerializationVerificationNeeded</a> <span class="delimiter">{</span>

  def <a title="(role: String)akka.cluster.client.ClusterReceptionistSettings" id="akka.cluster.client;ClusterReceptionistSettings.withRole(2d8760ba76)">withRole</a><span class="delimiter">(</span><a title="String" id="akka.cluster.client;ClusterReceptionistSettings.withRole(2d8760ba76).role">role</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#akka.cluster.client;ClusterReceptionistSettings" title="akka.cluster.client.ClusterReceptionistSettings">ClusterReceptionistSettings</a> = <a href="#akka.cluster.client;ClusterReceptionistSettings.copy" title="(role: Option[String], numberOfContacts: Int, responseTunnelReceiveTimeout: scala.concurrent.duration.FiniteDuration)akka.cluster.client.ClusterReceptionistSettings">copy</a><span class="delimiter">(</span>role = <a href="#akka.cluster.client.ClusterReceptionistSettings" title="akka.cluster.client.ClusterReceptionistSettings.type">ClusterReceptionistSettings</a>.<a href="#akka.cluster.client.ClusterReceptionistSettings.roleOption" title="(role: String)Option[String]">roleOption</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterReceptionistSettings.withRole(2d8760ba76).role" title="String">role</a><span class="delimiter">)</span><span class="delimiter">)</span>

  def <a title="(role: Option[String])akka.cluster.client.ClusterReceptionistSettings" id="akka.cluster.client;ClusterReceptionistSettings.withRole(0c1fa1d3af)">withRole</a><span class="delimiter">(</span><a title="Option[String]" id="akka.cluster.client;ClusterReceptionistSettings.withRole(0c1fa1d3af).role">role</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.cluster.client;ClusterReceptionistSettings" title="akka.cluster.client.ClusterReceptionistSettings">ClusterReceptionistSettings</a> = <a href="#akka.cluster.client;ClusterReceptionistSettings.copy" title="(role: Option[String], numberOfContacts: Int, responseTunnelReceiveTimeout: scala.concurrent.duration.FiniteDuration)akka.cluster.client.ClusterReceptionistSettings">copy</a><span class="delimiter">(</span>role = <a href="#akka.cluster.client;ClusterReceptionistSettings.withRole(0c1fa1d3af).role" title="Option[String]">role</a><span class="delimiter">)</span>

  def <a title="(numberOfContacts: Int)akka.cluster.client.ClusterReceptionistSettings" id="akka.cluster.client;ClusterReceptionistSettings.withNumberOfContacts">withNumberOfContacts</a><span class="delimiter">(</span><a title="Int" id="akka.cluster.client;ClusterReceptionistSettings.withNumberOfContacts.numberOfContacts">numberOfContacts</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#akka.cluster.client;ClusterReceptionistSettings" title="akka.cluster.client.ClusterReceptionistSettings">ClusterReceptionistSettings</a> =
    <a href="#akka.cluster.client;ClusterReceptionistSettings.copy$default$1" title="Option[String] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.cluster.client;ClusterReceptionistSettings.withNumberOfContacts.x$40">copy</a><span class="delimiter">(</span>numberOfContacts = <a href="#akka.cluster.client;ClusterReceptionistSettings.withNumberOfContacts.numberOfContacts" title="Int" id="akka.cluster.client;ClusterReceptionistSettings.withNumberOfContacts.x$38">numberOfContacts</a><span class="delimiter">)</span>

  def <a title="(responseTunnelReceiveTimeout: scala.concurrent.duration.FiniteDuration)akka.cluster.client.ClusterReceptionistSettings" id="akka.cluster.client;ClusterReceptionistSettings.withResponseTunnelReceiveTimeout">withResponseTunnelReceiveTimeout</a><span class="delimiter">(</span><a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.client;ClusterReceptionistSettings.withResponseTunnelReceiveTimeout.responseTunnelReceiveTimeout">responseTunnelReceiveTimeout</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">)</span>: <a href="#akka.cluster.client;ClusterReceptionistSettings" title="akka.cluster.client.ClusterReceptionistSettings">ClusterReceptionistSettings</a> =
    <a href="#akka.cluster.client;ClusterReceptionistSettings.copy$default$1" title="Option[String] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.cluster.client;ClusterReceptionistSettings.withResponseTunnelReceiveTimeout.x$43">copy</a><span class="delimiter">(</span>responseTunnelReceiveTimeout = <a href="#akka.cluster.client;ClusterReceptionistSettings.withResponseTunnelReceiveTimeout.responseTunnelReceiveTimeout" title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.client;ClusterReceptionistSettings.withResponseTunnelReceiveTimeout.x$41">responseTunnelReceiveTimeout</a><span class="delimiter">)</span>

  private def <a title="(role: Option[String], numberOfContacts: Int, responseTunnelReceiveTimeout: scala.concurrent.duration.FiniteDuration)akka.cluster.client.ClusterReceptionistSettings" id="akka.cluster.client;ClusterReceptionistSettings.copy">copy</a><span class="delimiter">(</span>
    <a title="Option[String]" id="akka.cluster.client;ClusterReceptionistSettings.copy$default$1">role</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#akka.cluster.client;ClusterReceptionistSettings.copy$default$1" title="Option[String]">role</a>,
    <a title="Int" id="akka.cluster.client;ClusterReceptionistSettings.copy$default$2">numberOfContacts</a>: <span title="Int">Int</span> = <a href="#akka.cluster.client;ClusterReceptionistSettings.copy$default$2" title="Int">numberOfContacts</a>,
    <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.client;ClusterReceptionistSettings.copy$default$3">responseTunnelReceiveTimeout</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span> = <a href="#akka.cluster.client;ClusterReceptionistSettings.copy$default$3" title="scala.concurrent.duration.FiniteDuration">responseTunnelReceiveTimeout</a><span class="delimiter">)</span>: <a href="#akka.cluster.client;ClusterReceptionistSettings" title="akka.cluster.client.ClusterReceptionistSettings">ClusterReceptionistSettings</a> =
    new <a href="#akka.cluster.client;ClusterReceptionistSettings" title="akka.cluster.client.ClusterReceptionistSettings">ClusterReceptionistSettings</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterReceptionistSettings.copy$default$1" title="Option[String]">role</a>, <a href="#akka.cluster.client;ClusterReceptionistSettings.copy$default$2" title="Int">numberOfContacts</a>, <a href="#akka.cluster.client;ClusterReceptionistSettings.copy$default$3" title="scala.concurrent.duration.FiniteDuration">responseTunnelReceiveTimeout</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * Marker trait for remote messages with special serializer.
 */</span>
sealed trait <a title="trait ClusterClientMessage extends AnyRef with Serializable" id="akka.cluster.client;ClusterClientMessage">ClusterClientMessage</a> extends <span title="Serializable">Serializable</span>

object <a title="akka.cluster.client.ClusterReceptionist.type" id="akka.cluster.client.ClusterReceptionist">ClusterReceptionist</a> <a href="#akka.cluster.client.ClusterReceptionist" title="akka.cluster.client.ClusterReceptionist.type" class="delimiter">{</a>

  <span class="comment">/**
   * Scala API: Factory method for `ClusterReceptionist` [[akka.actor.Props]].
   */</span>
  def <a title="(pubSubMediator: akka.actor.ActorRef, settings: akka.cluster.client.ClusterReceptionistSettings)akka.actor.Props" id="akka.cluster.client.ClusterReceptionist.props">props</a><span class="delimiter">(</span>
    <a title="akka.actor.ActorRef" id="akka.cluster.client.ClusterReceptionist.props.pubSubMediator">pubSubMediator</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>,
    <a title="akka.cluster.client.ClusterReceptionistSettings" id="akka.cluster.client.ClusterReceptionist.props.settings">settings</a>: <a href="#akka.cluster.client;ClusterReceptionistSettings" title="akka.cluster.client.ClusterReceptionistSettings">ClusterReceptionistSettings</a><span class="delimiter">)</span>: <a href="../../../../actor/akka/actor/Props.scala.html#akka.actor;Props" title="akka.actor.Props">Props</a> =
    <a href="../../../../actor/akka/actor/Props.scala.html#akka.actor.Props.apply(b09a6a316b)" title="(creator: =&gt; akka.cluster.client.ClusterReceptionist)(implicit evidence$2: scala.reflect.ClassTag[akka.cluster.client.ClusterReceptionist])akka.actor.Props">Props</a><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[akka.cluster.client.ClusterReceptionist]" class="delimiter">(</span>new <a href="#akka.cluster.client;ClusterReceptionist" title="akka.cluster.client.ClusterReceptionist">ClusterReceptionist</a><span class="delimiter">(</span><a href="#akka.cluster.client.ClusterReceptionist.props.pubSubMediator" title="akka.actor.ActorRef">pubSubMediator</a>, <a href="#akka.cluster.client.ClusterReceptionist.props.settings" title="akka.cluster.client.ClusterReceptionistSettings">settings</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../../actor/akka/actor/Props.scala.html#akka.actor;Props.withDeploy" title="(d: akka.actor.Deploy)akka.actor.Props">withDeploy</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Deployer.scala.html#akka.actor.Deploy" title="akka.actor.Deploy.type">Deploy</a>.<a href="../../../../actor/akka/actor/Deployer.scala.html#akka.actor.Deploy.local" title="=&gt; akka.actor.Deploy">local</a><span class="delimiter">)</span>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  private<span class="delimiter">[</span>akka<span class="delimiter">]</span> object <a title="akka.cluster.client.ClusterReceptionist.Internal.type" id="akka.cluster.client.ClusterReceptionist.Internal">Internal</a> <a href="#akka.cluster.client.ClusterReceptionist.Internal" title="akka.cluster.client.ClusterReceptionist.Internal.type" class="delimiter">{</a>
    @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
    case object <a href="#akka.cluster.client.ClusterReceptionist.Internal.GetContacts.productElement.x$1" title="akka.cluster.client.ClusterReceptionist.Internal.GetContacts.type" id="akka.cluster.client.ClusterReceptionist.Internal.GetContacts.readResolve">GetContacts</a> extends <a href="#akka.cluster.client;ClusterClientMessage" title="akka.cluster.client.ClusterClientMessage">ClusterClientMessage</a> with <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;DeadLetterSuppression" title="akka.actor.DeadLetterSuppression">DeadLetterSuppression</a>
    @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
    final case class <a title="class Contacts extends AnyRef with akka.cluster.client.ClusterClientMessage with Product with Serializable" id="akka.cluster.client.ClusterReceptionist.Internal.Contacts.readResolve">Contacts</a><span title="Product" class="delimiter">(</span><a title="scala.collection.immutable.IndexedSeq[String]" id="akka.cluster.client.ClusterReceptionist.Internal;Contacts.contactPoints">contactPoints</a>: immutable.<span title="scala.collection.immutable.IndexedSeq[String]">IndexedSeq</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> extends <a href="#akka.cluster.client;ClusterClientMessage" title="akka.cluster.client.ClusterClientMessage">ClusterClientMessage</a>
    @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
    case object <a href="#akka.cluster.client.ClusterReceptionist.Internal.Heartbeat.productElement.x$1" title="akka.cluster.client.ClusterReceptionist.Internal.Heartbeat.type" id="akka.cluster.client.ClusterReceptionist.Internal.Heartbeat.readResolve">Heartbeat</a> extends <a href="#akka.cluster.client;ClusterClientMessage" title="akka.cluster.client.ClusterClientMessage">ClusterClientMessage</a> with <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;DeadLetterSuppression" title="akka.actor.DeadLetterSuppression">DeadLetterSuppression</a>
    @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
    case object <a href="#akka.cluster.client.ClusterReceptionist.Internal.HeartbeatRsp.productElement.x$1" title="akka.cluster.client.ClusterReceptionist.Internal.HeartbeatRsp.type" id="akka.cluster.client.ClusterReceptionist.Internal.HeartbeatRsp.readResolve">HeartbeatRsp</a> extends <a href="#akka.cluster.client;ClusterClientMessage" title="akka.cluster.client.ClusterClientMessage">ClusterClientMessage</a> with <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;DeadLetterSuppression" title="akka.actor.DeadLetterSuppression">DeadLetterSuppression</a>
    @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
    case object <a href="#akka.cluster.client.ClusterReceptionist.Internal.Ping.productElement.x$1" title="akka.cluster.client.ClusterReceptionist.Internal.Ping.type" id="akka.cluster.client.ClusterReceptionist.Internal.Ping.readResolve">Ping</a> extends <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;DeadLetterSuppression" title="akka.actor.DeadLetterSuppression">DeadLetterSuppression</a>

    <span class="comment">/**
     * Replies are tunneled via this actor, child of the receptionist, to avoid
     * inbound connections from other cluster nodes to the client.
     */</span>
    class <a title="class ClientResponseTunnel extends AnyRef with akka.actor.Actor with akka.actor.ActorLogging" id="akka.cluster.client.ClusterReceptionist.Internal;ClientResponseTunnel">ClientResponseTunnel</a><a href="#akka.cluster.client.ClusterReceptionist.Internal;ClientResponseTunnel" title="akka.cluster.client.ClusterReceptionist.Internal.ClientResponseTunnel" class="delimiter">(</a><a title="akka.actor.ActorRef" id="akka.cluster.client.ClusterReceptionist.Internal;ClientResponseTunnel.client">client</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.client.ClusterReceptionist.Internal;ClientResponseTunnel.timeout">timeout</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">)</span> extends <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor" title="akka.actor.Actor">Actor</a> with <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging" title="akka.actor.ActorLogging">ActorLogging</a> <span class="delimiter">{</span>
      <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.setReceiveTimeout" title="(timeout: scala.concurrent.duration.Duration)Unit">setReceiveTimeout</a><span class="delimiter">(</span><a href="#akka.cluster.client.ClusterReceptionist.Internal;ClientResponseTunnel.timeout" title="scala.concurrent.duration.FiniteDuration">timeout</a><span class="delimiter">)</span>
      def <a title="=&gt; PartialFunction[Any,Unit]" id="akka.cluster.client.ClusterReceptionist.Internal;ClientResponseTunnel.receive">receive</a> = <a title="&lt;$anon: Any =&gt; Unit&gt; extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="akka.cluster.client.ClusterReceptionist.Internal;ClientResponseTunnel.receive;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
        case <a href="#akka.cluster.client.ClusterReceptionist.Internal.Ping.readResolve" title="akka.cluster.client.ClusterReceptionist.Internal.Ping.type">Ping</a>  <span class="comment">// keep alive from client</span>
        case <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor.ReceiveTimeout" title="akka.actor.ReceiveTimeout.type">ReceiveTimeout</a> 
          <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.debug(dc73c33c91)" title="(template: String, arg1: Any)Unit">debug</a><span class="delimiter">(</span><span title="String(&quot;ClientResponseTunnel for client [{}] stopped due to inactivity&quot;)" class="string">&quot;ClientResponseTunnel for client [{}] stopped due to inactivity&quot;</span>, <a href="#akka.cluster.client.ClusterReceptionist.Internal;ClientResponseTunnel.client" title="akka.actor.ActorRef">client</a>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a><span class="delimiter">)</span>
          <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a> <a href="../../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.stop" title="(actor: akka.actor.ActorRef)Unit">stop</a> <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>
        case <a title="Any" id="akka.cluster.client.ClusterReceptionist.Internal;ClientResponseTunnel.receive;$anonfun.isDefinedAt.msg">msg</a>  <a href="#akka.cluster.client.ClusterReceptionist.Internal;ClientResponseTunnel.client" title="akka.actor.ActorRef">client</a>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.tell" title="(msg: Any, sender: akka.actor.ActorRef)Unit">tell</a><span title="Boolean(true)" class="delimiter">(</span><a href="#akka.cluster.client.ClusterReceptionist.Internal;ClientResponseTunnel.receive;$anonfun.isDefinedAt.msg" title="Any">msg</a>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor.Actor" title="akka.actor.Actor.type">Actor</a>.<a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor.Actor.noSender" title="=&gt; akka.actor.ActorRef">noSender</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

<span title="AnyRef" class="delimiter">}</span>

<span class="comment">/**
 * [[ClusterClient]] connects to this actor to retrieve. The `ClusterReceptionist` is
 * supposed to be started on all nodes, or all nodes with specified role, in the cluster.
 * The receptionist can be started with the [[ClusterClientReceptionist]] or as an
 * ordinary actor (use the factory method [[ClusterReceptionist#props]]).
 *
 * The receptionist forwards messages from the client to the associated [[akka.cluster.pubsub.DistributedPubSubMediator]],
 * i.e. the client can send messages to any actor in the cluster that is registered in the
 * `DistributedPubSubMediator`. Messages from the client are wrapped in
 * [[akka.cluster.pubsub.DistributedPubSubMediator.Send]], [[akka.cluster.pubsub.DistributedPubSubMediator.SendToAll]]
 * or [[akka.cluster.pubsub.DistributedPubSubMediator.Publish]] with the semantics described in
 * [[akka.cluster.pubsub.DistributedPubSubMediator]].
 *
 * Response messages from the destination actor are tunneled via the receptionist
 * to avoid inbound connections from other cluster nodes to the client, i.e.
 * the `sender()`, as seen by the destination actor, is not the client itself.
 * The `sender()` of the response messages, as seen by the client, is `deadLetters`
 * since the client should normally send subsequent messages via the `ClusterClient`.
 * It is possible to pass the the original sender inside the reply messages if
 * the client is supposed to communicate directly to the actor in the cluster.
 *
 */</span>
final class <a title="class ClusterReceptionist extends AnyRef with akka.actor.Actor with akka.actor.ActorLogging" id="akka.cluster.client;ClusterReceptionist">ClusterReceptionist</a><a href="#akka.cluster.client;ClusterReceptionist" title="akka.cluster.client.ClusterReceptionist" class="delimiter">(</a><a title="akka.actor.ActorRef" id="akka.cluster.client;ClusterReceptionist.pubSubMediator">pubSubMediator</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="akka.cluster.client.ClusterReceptionistSettings" id="akka.cluster.client;ClusterReceptionist.settings">settings</a>: <a href="#akka.cluster.client;ClusterReceptionistSettings" title="akka.cluster.client.ClusterReceptionistSettings">ClusterReceptionistSettings</a><span class="delimiter">)</span>
  extends <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor" title="akka.actor.Actor">Actor</a> with <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging" title="akka.actor.ActorLogging">ActorLogging</a> <span class="delimiter">{</span>

  import <a href="../pubsub/DistributedPubSubMediator.scala.html#akka.cluster.pubsub.DistributedPubSubMediator" title="akka.cluster.pubsub.DistributedPubSubMediator.type">DistributedPubSubMediator</a>.<span class="delimiter">{</span> Send, SendToAll, Publish <span class="delimiter">}</span>

  import <a href="#akka.cluster.client.ClusterReceptionist" title="akka.cluster.client.ClusterReceptionist.type">ClusterReceptionist</a>.<a href="#akka.cluster.client.ClusterReceptionist.Internal" title="akka.cluster.client.ClusterReceptionist.Internal.type">Internal</a>._
  import <a href="#akka.cluster.client;ClusterReceptionist.settings" title="akka.cluster.client.ClusterReceptionistSettings">settings</a>._

  val <a title="akka.cluster.Cluster" id="akka.cluster.client;ClusterReceptionist.cluster">cluster</a> = <a href="../../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionId.apply" title="(system: akka.actor.ActorSystem)akka.cluster.Cluster">Cluster</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a><span class="delimiter">)</span>
  import <a href="#akka.cluster.client;ClusterReceptionist.cluster" title="=&gt; akka.cluster.Cluster">cluster</a>.selfAddress

  <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterReceptionistSettings.role" title="=&gt; Option[String]">role</a>.<span title="(p: String =&gt; Boolean)Boolean">forall</span><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterReceptionist.cluster" title="=&gt; akka.cluster.Cluster">cluster</a>.<a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.selfRoles" title="=&gt; Set[String]">selfRoles</a>.<a href="#akka.cluster.client;ClusterReceptionist.<local ClusterReceptionist>.$anonfun.elem" title="(elem: String)Boolean">contains</a><span class="delimiter">)</span>,
    <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;This cluster member [&quot;)">This cluster member [$</span><span class="delimiter">{</span><a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.selfAddress" title="=&gt; akka.actor.Address">selfAddress</a><span class="delimiter">}</span><span title="String(&quot;] doesn\'t have the role [&quot;)">] doesn't have the role [$</span><a href="#akka.cluster.client;ClusterReceptionistSettings.role" title="=&gt; Option[String]">role</a><span title="String(&quot;]&quot;)" class="string">]&quot;</span><span class="delimiter">)</span>

  var <a title="scala.collection.immutable.SortedSet[akka.actor.Address]" id="akka.cluster.client;ClusterReceptionist.nodes_=">nodes</a>: immutable.<span title="scala.collection.immutable.SortedSet[akka.actor.Address]">SortedSet</span><span class="delimiter">[</span>Address<span class="delimiter">]</span> = <span class="delimiter">{</span>
    def <a title="(node: akka.actor.Address)Int" id="akka.cluster.client;ClusterReceptionist.nodes.hashFor">hashFor</a><span class="delimiter">(</span><a title="akka.actor.Address" id="akka.cluster.client;ClusterReceptionist.nodes.hashFor.node">node</a>: <a href="../../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a><span class="delimiter">)</span>: <span title="Int">Int</span> = <a href="#akka.cluster.client;ClusterReceptionist.nodes.hashFor.node" title="akka.actor.Address">node</a> match <span class="delimiter">{</span>
      <span class="comment">// cluster node identifier is the host and port of the address; protocol and system is assumed to be the same</span>
      case Address<span class="delimiter">(</span>_, _, Some<span class="delimiter">(</span><a title="String" id="akka.cluster.client;ClusterReceptionist.nodes.hashFor.host">host</a><span class="delimiter">)</span>, Some<span class="delimiter">(</span><a title="Int" id="akka.cluster.client;ClusterReceptionist.nodes.hashFor.port">port</a><span class="delimiter">)</span><span class="delimiter">)</span>  <a href="../../../../actor/akka/routing/MurmurHash.scala.html#akka.routing.MurmurHash" title="akka.routing.MurmurHash.type">MurmurHash</a>.<a href="../../../../actor/akka/routing/MurmurHash.scala.html#akka.routing.MurmurHash.stringHash" title="(s: String)Int">stringHash</a><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;&quot;)">$</span><span class="delimiter">{</span><a href="#akka.cluster.client;ClusterReceptionist.nodes.hashFor.host" title="String">host</a><span class="delimiter">}</span><span title="String(&quot;:&quot;)">:$</span><span class="delimiter">{</span><a href="#akka.cluster.client;ClusterReceptionist.nodes.hashFor.port" title="Int">port</a><span class="delimiter">}</span><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
      case _ 
        throw new <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Unexpected address without host/port: [&quot;)">Unexpected address without host/port: [$</span><a href="#akka.cluster.client;ClusterReceptionist.nodes.hashFor.node" title="akka.actor.Address">node</a><span title="String(&quot;]&quot;)" class="string">]&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    implicit val <a title="Ordering[akka.actor.Address]" id="akka.cluster.client;ClusterReceptionist.nodes.ringOrdering">ringOrdering</a>: <span title="Ordering[akka.actor.Address]">Ordering</span><span class="delimiter">[</span>Address<span class="delimiter">]</span> = <span title="=&gt; math.Ordering.type">Ordering</span>.<span title="[T](cmp: (T, T) =&gt; Boolean)scala.math.Ordering[T]">fromLessThan</span><span title="(cmp: (akka.actor.Address, akka.actor.Address) =&gt; Boolean)scala.math.Ordering[akka.actor.Address]" class="delimiter">[</span><a href="../../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a><span class="delimiter">]</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="akka.actor.Address" id="akka.cluster.client;ClusterReceptionist.nodes.ringOrdering.$anonfun.a">a</a>, <a title="akka.actor.Address" id="akka.cluster.client;ClusterReceptionist.nodes.ringOrdering.$anonfun.b">b</a><span class="delimiter">)</span> 
      val <a title="Int" id="akka.cluster.client;ClusterReceptionist.nodes.ringOrdering.$anonfun.ha">ha</a> = <a href="#akka.cluster.client;ClusterReceptionist.nodes.hashFor" title="(node: akka.actor.Address)Int">hashFor</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterReceptionist.nodes.ringOrdering.$anonfun.a" title="akka.actor.Address">a</a><span class="delimiter">)</span>
      val <a title="Int" id="akka.cluster.client;ClusterReceptionist.nodes.ringOrdering.$anonfun.hb">hb</a> = <a href="#akka.cluster.client;ClusterReceptionist.nodes.hashFor" title="(node: akka.actor.Address)Int">hashFor</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterReceptionist.nodes.ringOrdering.$anonfun.b" title="akka.actor.Address">b</a><span class="delimiter">)</span>
      <a href="#akka.cluster.client;ClusterReceptionist.nodes.ringOrdering.$anonfun.ha" title="Int">ha</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#akka.cluster.client;ClusterReceptionist.nodes.ringOrdering.$anonfun.hb" title="Int">hb</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#akka.cluster.client;ClusterReceptionist.nodes.ringOrdering.$anonfun.ha" title="Int">ha</a> <span title="(x: Int)Boolean">==</span> <a href="#akka.cluster.client;ClusterReceptionist.nodes.ringOrdering.$anonfun.hb" title="Int">hb</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster.Member" title="akka.cluster.Member.type">Member</a>.<a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster.Member.addressOrdering" title="=&gt; Ordering[akka.actor.Address]">addressOrdering</a>.<span title="(x: akka.actor.Address, y: akka.actor.Address)Int">compare</span><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterReceptionist.nodes.ringOrdering.$anonfun.a" title="akka.actor.Address">a</a>, <a href="#akka.cluster.client;ClusterReceptionist.nodes.ringOrdering.$anonfun.b" title="akka.actor.Address">b</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    immutable.<span title="(elems: akka.actor.Address*)(implicit ord: Ordering[akka.actor.Address])scala.collection.immutable.SortedSet[akka.actor.Address]">SortedSet</span><a href="#akka.cluster.client;ClusterReceptionist.nodes.ringOrdering" title="Ordering[akka.actor.Address]" class="delimiter">(</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  val <a title="Int" id="akka.cluster.client;ClusterReceptionist.virtualNodesFactor">virtualNodesFactor</a> = <span title="Int(10)" class="int">10</span>
  var <a title="akka.routing.ConsistentHash[akka.actor.Address]" id="akka.cluster.client;ClusterReceptionist.consistentHash_=">consistentHash</a>: <a href="../../../../actor/akka/routing/ConsistentHash.scala.html#akka.routing;ConsistentHash" title="akka.routing.ConsistentHash[akka.actor.Address]">ConsistentHash</a><span class="delimiter">[</span>Address<span class="delimiter">]</span> = <a href="../../../../actor/akka/routing/ConsistentHash.scala.html#akka.routing.ConsistentHash.apply" title="(nodes: Iterable[akka.actor.Address], virtualNodesFactor: Int)(implicit evidence$2: scala.reflect.ClassTag[akka.actor.Address])akka.routing.ConsistentHash[akka.actor.Address]">ConsistentHash</a><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[akka.actor.Address]" class="delimiter">(</span><a href="#akka.cluster.client;ClusterReceptionist.nodes_=" title="=&gt; scala.collection.immutable.SortedSet[akka.actor.Address]">nodes</a>, <a href="#akka.cluster.client;ClusterReceptionist.virtualNodesFactor" title="=&gt; Int">virtualNodesFactor</a><span class="delimiter">)</span>

  override def <a title="()Unit" id="akka.cluster.client;ClusterReceptionist.preStart">preStart</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    super.<a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.preStart" title="()Unit">preStart</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.cluster.client;ClusterReceptionist.cluster" title="=&gt; akka.cluster.Cluster">cluster</a>.<a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.isTerminated" title="=&gt; Boolean">isTerminated</a>, <span title="String(&quot;Cluster node must not be terminated&quot;)" class="string">&quot;Cluster node must not be terminated&quot;</span><span class="delimiter">)</span>
    <a href="#akka.cluster.client;ClusterReceptionist.cluster" title="=&gt; akka.cluster.Cluster">cluster</a>.<a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.subscribe(6cfb44d410)" title="(subscriber: akka.actor.ActorRef, to: Class[_]*)Unit">subscribe</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>, classOf<span title="Class[akka.cluster.ClusterEvent.MemberEvent](classOf[akka.cluster.ClusterEvent$$MemberEvent])" class="delimiter">[</span>MemberEvent<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  override def <a title="()Unit" id="akka.cluster.client;ClusterReceptionist.postStop">postStop</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    super.<a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.postStop" title="()Unit">postStop</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#akka.cluster.client;ClusterReceptionist.cluster" title="=&gt; akka.cluster.Cluster">cluster</a> <a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.unsubscribe(134bd64d81)" title="(subscriber: akka.actor.ActorRef)Unit">unsubscribe</a> <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>
  <span class="delimiter">}</span>

  def <a title="(m: akka.cluster.Member)Boolean" id="akka.cluster.client;ClusterReceptionist.matchingRole">matchingRole</a><span class="delimiter">(</span><a title="akka.cluster.Member" id="akka.cluster.client;ClusterReceptionist.matchingRole.m">m</a>: <a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member" title="akka.cluster.Member">Member</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#akka.cluster.client;ClusterReceptionistSettings.role" title="=&gt; Option[String]">role</a>.<span title="(p: String =&gt; Boolean)Boolean">forall</span><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterReceptionist.matchingRole.m" title="akka.cluster.Member">m</a>.<a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member.hasRole" title="(role: String)Boolean">hasRole</a><span class="delimiter">)</span>

  def <a title="(client: akka.actor.ActorRef)akka.actor.ActorRef" id="akka.cluster.client;ClusterReceptionist.responseTunnel">responseTunnel</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.cluster.client;ClusterReceptionist.responseTunnel.client">client</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a> = <span class="delimiter">{</span>
    val <a title="String" id="akka.cluster.client;ClusterReceptionist.responseTunnel.encName">encName</a> = <span title="java.net.URLEncoder.type">URLEncoder</span>.<span title="(x$1: String, x$2: String)String">encode</span><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterReceptionist.responseTunnel.client" title="akka.actor.ActorRef">client</a>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a>.<a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath.toSerializationFormat" title="=&gt; String">toSerializationFormat</a>, <span title="String(&quot;utf-8&quot;)" class="string">&quot;utf-8&quot;</span><span class="delimiter">)</span>
    <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.child" title="(name: String)Option[akka.actor.ActorRef]">child</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterReceptionist.responseTunnel.encName" title="String">encName</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case Some<span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.cluster.client;ClusterReceptionist.responseTunnel.tunnel">tunnel</a><span class="delimiter">)</span>  <a href="#akka.cluster.client;ClusterReceptionist.responseTunnel.tunnel" title="akka.actor.ActorRef">tunnel</a>
      case <span title="None.type">None</span> 
        <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.actorOf(874c98419a)" title="(props: akka.actor.Props, name: String)akka.actor.ActorRef">actorOf</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Props.scala.html#akka.actor.Props.apply(0870a176b3)" title="(clazz: Class[_], args: Any*)akka.actor.Props">Props</a><span class="delimiter">(</span>classOf<span title="Class[akka.cluster.client.ClusterReceptionist.Internal.ClientResponseTunnel](classOf[akka.cluster.client.ClusterReceptionist$$Internal$ClientResponseTunnel])" class="delimiter">[</span>ClientResponseTunnel<span class="delimiter">]</span>, <a href="#akka.cluster.client;ClusterReceptionist.responseTunnel.client" title="akka.actor.ActorRef">client</a>, <a href="#akka.cluster.client;ClusterReceptionistSettings.responseTunnelReceiveTimeout" title="=&gt; scala.concurrent.duration.FiniteDuration">responseTunnelReceiveTimeout</a><span class="delimiter">)</span>, <a href="#akka.cluster.client;ClusterReceptionist.responseTunnel.encName" title="String">encName</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="=&gt; PartialFunction[Any,Unit]" id="akka.cluster.client;ClusterReceptionist.receive">receive</a> = <a title="&lt;$anon: Any =&gt; Unit&gt; extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="akka.cluster.client;ClusterReceptionist.receive;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    case <a title="Any" id="akka.cluster.client;ClusterReceptionist.receive;$anonfun.isDefinedAt.msg">msg</a> @ <span class="delimiter">(</span>_: <a href="../pubsub/DistributedPubSubMediator.scala.html#akka.cluster.pubsub.DistributedPubSubMediator;Send" title="akka.cluster.pubsub.DistributedPubSubMediator.Send">Send</a> | _: <a href="../pubsub/DistributedPubSubMediator.scala.html#akka.cluster.pubsub.DistributedPubSubMediator;SendToAll" title="akka.cluster.pubsub.DistributedPubSubMediator.SendToAll">SendToAll</a> | _: <a href="../pubsub/DistributedPubSubMediator.scala.html#akka.cluster.pubsub.DistributedPubSubMediator;Publish" title="akka.cluster.pubsub.DistributedPubSubMediator.Publish">Publish</a><span class="delimiter">)</span> 
      val <a title="akka.actor.ActorRef" id="akka.cluster.client;ClusterReceptionist.receive;$anonfun.applyOrElse.tunnel">tunnel</a> = <a href="#akka.cluster.client;ClusterReceptionist.responseTunnel" title="(client: akka.actor.ActorRef)akka.actor.ActorRef">responseTunnel</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">tunnel</a> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.client.ClusterReceptionist.Internal.Ping.readResolve" title="akka.cluster.client.ClusterReceptionist.Internal.Ping.type">Ping</a> <span class="comment">// keep alive</span>
      <a href="#akka.cluster.client;ClusterReceptionist.pubSubMediator" title="akka.actor.ActorRef">pubSubMediator</a>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.tell" title="(msg: Any, sender: akka.actor.ActorRef)Unit">tell</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterReceptionist.receive;$anonfun.isDefinedAt.msg" title="Any">msg</a>, <a href="#akka.cluster.client;ClusterReceptionist.receive;$anonfun.applyOrElse.tunnel" title="akka.actor.ActorRef">tunnel</a><span class="delimiter">)</span>

    case <a href="#akka.cluster.client.ClusterReceptionist.Internal.Heartbeat.readResolve" title="akka.cluster.client.ClusterReceptionist.Internal.Heartbeat.type">Heartbeat</a> 
      <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.debug(dc73c33c91)" title="(template: String, arg1: Any)Unit">debug</a><span class="delimiter">(</span><span title="String(&quot;Heartbeat from client [{}]&quot;)" class="string">&quot;Heartbeat from client [{}]&quot;</span>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a><span class="delimiter">)</span>
      <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef" class="delimiter">(</a><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.client.ClusterReceptionist.Internal.HeartbeatRsp.readResolve" title="akka.cluster.client.ClusterReceptionist.Internal.HeartbeatRsp.type">HeartbeatRsp</a>

    case <a href="#akka.cluster.client.ClusterReceptionist.Internal.GetContacts.readResolve" title="akka.cluster.client.ClusterReceptionist.Internal.GetContacts.type">GetContacts</a> 
      <span class="comment">// Consistent hashing is used to ensure that the reply to GetContacts</span>
      <span class="comment">// is the same from all nodes (most of the time) and it also</span>
      <span class="comment">// load balances the client connections among the nodes in the cluster.</span>
      if <span class="delimiter">(</span><a href="#akka.cluster.client;ClusterReceptionistSettings.numberOfContacts" title="=&gt; Int">numberOfContacts</a> <span title="(x: Int)Boolean">&gt;=</span> <a href="#akka.cluster.client;ClusterReceptionist.nodes_=" title="=&gt; scala.collection.immutable.SortedSet[akka.actor.Address]">nodes</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        val <span title="akka.cluster.client.ClusterReceptionist.Internal.Contacts">contacts</span> = <a href="#akka.cluster.client.ClusterReceptionist.Internal.Contacts.readResolve" title="(contactPoints: scala.collection.immutable.IndexedSeq[String])akka.cluster.client.ClusterReceptionist.Internal.Contacts">Contacts</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterReceptionist.nodes_=" title="=&gt; scala.collection.immutable.SortedSet[akka.actor.Address]">nodes</a>.<span title="(f: akka.actor.Address =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.SortedSet[akka.actor.Address],String,scala.collection.immutable.IndexedSeq[String]])scala.collection.immutable.IndexedSeq[String]">map</span><span class="delimiter">(</span><span title="akka.actor.Address">a</span>  <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a>.<a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath.toStringWithAddress" title="(address: akka.actor.Address)String">toStringWithAddress</a><span class="delimiter">(</span><span title="akka.actor.Address">a</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span>collection.<span title="(implicit b: scala.collection.generic.CanBuildFrom[Nothing,String,scala.collection.immutable.IndexedSeq[String]])scala.collection.generic.CanBuildFrom[scala.collection.immutable.SortedSet[akka.actor.Address],String,scala.collection.immutable.IndexedSeq[String]]">breakOut</span><span class="delimiter">)</span><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.isDebugEnabled" title="=&gt; Boolean">isDebugEnabled</a><span class="delimiter">)</span>
          <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.debug(2f488eb77c)" title="(template: String, arg1: Any, arg2: Any)Unit">debug</a><span class="delimiter">(</span><span title="String(&quot;Client [{}] gets contactPoints [{}] (all nodes)&quot;)" class="string">&quot;Client [{}] gets contactPoints [{}] (all nodes)&quot;</span>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a>, <span title="akka.cluster.client.ClusterReceptionist.Internal.Contacts">contacts</span>.<a href="#akka.cluster.client.ClusterReceptionist.Internal;Contacts.contactPoints" title="=&gt; scala.collection.immutable.IndexedSeq[String]">contactPoints</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef" class="delimiter">(</a><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <span title="akka.cluster.client.ClusterReceptionist.Internal.Contacts">contacts</span>
      <span class="delimiter">}</span> else <span class="delimiter">{</span>
        <span class="comment">// using toStringWithAddress in case the client is local, normally it is not, and</span>
        <span class="comment">// toStringWithAddress will use the remote address of the client</span>
        val <a title="akka.actor.Address" id="akka.cluster.client;ClusterReceptionist.receive;$anonfun.applyOrElse.a">a</a> = <a href="#akka.cluster.client;ClusterReceptionist.consistentHash_=" title="=&gt; akka.routing.ConsistentHash[akka.actor.Address]">consistentHash</a>.<a href="../../../../actor/akka/routing/ConsistentHash.scala.html#akka.routing;ConsistentHash.nodeFor(94748ca6b4)" title="(key: String)akka.actor.Address">nodeFor</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a>.<a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath.toStringWithAddress" title="(address: akka.actor.Address)String">toStringWithAddress</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterReceptionist.cluster" title="=&gt; akka.cluster.Cluster">cluster</a>.<a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.selfAddress" title="=&gt; akka.actor.Address">selfAddress</a><span class="delimiter">)</span><span class="delimiter">)</span>
        val <a title="scala.collection.immutable.SortedSet[akka.actor.Address]" id="akka.cluster.client;ClusterReceptionist.receive;$anonfun.applyOrElse.slice">slice</a> = <span class="delimiter">{</span>
          val <a title="scala.collection.immutable.SortedSet[akka.actor.Address]" id="akka.cluster.client;ClusterReceptionist.receive;$anonfun.applyOrElse.slice.first">first</a> = <a href="#akka.cluster.client;ClusterReceptionist.nodes_=" title="=&gt; scala.collection.immutable.SortedSet[akka.actor.Address]">nodes</a>.<span title="(from: akka.actor.Address)scala.collection.immutable.SortedSet[akka.actor.Address]">from</span><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterReceptionist.receive;$anonfun.applyOrElse.a" title="akka.actor.Address">a</a><span class="delimiter">)</span>.<span title="=&gt; scala.collection.immutable.SortedSet[akka.actor.Address]">tail</span>.<span title="(n: Int)scala.collection.immutable.SortedSet[akka.actor.Address]">take</span><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterReceptionistSettings.numberOfContacts" title="=&gt; Int">numberOfContacts</a><span class="delimiter">)</span>
          if <span class="delimiter">(</span><a href="#akka.cluster.client;ClusterReceptionist.receive;$anonfun.applyOrElse.slice.first" title="scala.collection.immutable.SortedSet[akka.actor.Address]">first</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <a href="#akka.cluster.client;ClusterReceptionistSettings.numberOfContacts" title="=&gt; Int">numberOfContacts</a><span class="delimiter">)</span> <a href="#akka.cluster.client;ClusterReceptionist.receive;$anonfun.applyOrElse.slice.first" title="scala.collection.immutable.SortedSet[akka.actor.Address]">first</a>
          else <a href="#akka.cluster.client;ClusterReceptionist.receive;$anonfun.applyOrElse.slice.first" title="scala.collection.immutable.SortedSet[akka.actor.Address]">first</a> <span title="(elems: scala.collection.GenTraversableOnce[akka.actor.Address])scala.collection.immutable.SortedSet[akka.actor.Address]">++</span> <a href="#akka.cluster.client;ClusterReceptionist.nodes_=" title="=&gt; scala.collection.immutable.SortedSet[akka.actor.Address]">nodes</a>.<span title="(n: Int)scala.collection.immutable.SortedSet[akka.actor.Address]">take</span><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterReceptionistSettings.numberOfContacts" title="=&gt; Int">numberOfContacts</a> <span title="(x: Int)Int">-</span> <a href="#akka.cluster.client;ClusterReceptionist.receive;$anonfun.applyOrElse.slice.first" title="scala.collection.immutable.SortedSet[akka.actor.Address]">first</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        val <span title="akka.cluster.client.ClusterReceptionist.Internal.Contacts">contacts</span> = <a href="#akka.cluster.client.ClusterReceptionist.Internal.Contacts.readResolve" title="(contactPoints: scala.collection.immutable.IndexedSeq[String])akka.cluster.client.ClusterReceptionist.Internal.Contacts">Contacts</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterReceptionist.receive;$anonfun.applyOrElse.slice" title="scala.collection.immutable.SortedSet[akka.actor.Address]">slice</a>.<span title="(f: akka.actor.Address =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.SortedSet[akka.actor.Address],String,scala.collection.immutable.IndexedSeq[String]])scala.collection.immutable.IndexedSeq[String]">map</span><span class="delimiter">(</span><span title="akka.actor.Address">a</span>  <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a>.<a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath.toStringWithAddress" title="(address: akka.actor.Address)String">toStringWithAddress</a><span class="delimiter">(</span><span title="akka.actor.Address">a</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span>collection.<span title="(implicit b: scala.collection.generic.CanBuildFrom[Nothing,String,scala.collection.immutable.IndexedSeq[String]])scala.collection.generic.CanBuildFrom[scala.collection.immutable.SortedSet[akka.actor.Address],String,scala.collection.immutable.IndexedSeq[String]]">breakOut</span><span class="delimiter">)</span><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.isDebugEnabled" title="=&gt; Boolean">isDebugEnabled</a><span class="delimiter">)</span>
          <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.debug(2f488eb77c)" title="(template: String, arg1: Any, arg2: Any)Unit">debug</a><span class="delimiter">(</span><span title="String(&quot;Client [{}] gets contactPoints [{}]&quot;)" class="string">&quot;Client [{}] gets contactPoints [{}]&quot;</span>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a>, <span title="akka.cluster.client.ClusterReceptionist.Internal.Contacts">contacts</span>.<a href="#akka.cluster.client.ClusterReceptionist.Internal;Contacts.contactPoints" title="=&gt; scala.collection.immutable.IndexedSeq[String]">contactPoints</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef" class="delimiter">(</a><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <span title="akka.cluster.client.ClusterReceptionist.Internal.Contacts">contacts</span>
      <span class="delimiter">}</span>

    case <a title="akka.cluster.ClusterEvent.CurrentClusterState" id="akka.cluster.client;ClusterReceptionist.receive;$anonfun.isDefinedAt.state">state</a>: <a href="../../../../cluster/akka/cluster/ClusterEvent.scala.html#akka.cluster.ClusterEvent;CurrentClusterState" title="akka.cluster.ClusterEvent.CurrentClusterState">CurrentClusterState</a> 
      <a href="#akka.cluster.client;ClusterReceptionist.nodes_=" title="(x$1: scala.collection.immutable.SortedSet[akka.actor.Address])Unit">nodes</a> = <a href="#akka.cluster.client;ClusterReceptionist.nodes_=" title="=&gt; scala.collection.immutable.SortedSet[akka.actor.Address]">nodes</a>.<span title="=&gt; scala.collection.immutable.SortedSet[akka.actor.Address]">empty</span> <span title="(elems: scala.collection.GenTraversableOnce[akka.actor.Address])scala.collection.immutable.SortedSet[akka.actor.Address]">++</span> <a href="#akka.cluster.client;ClusterReceptionist.receive;$anonfun.isDefinedAt.state" title="akka.cluster.ClusterEvent.CurrentClusterState">state</a>.<a href="../../../../cluster/akka/cluster/ClusterEvent.scala.html#akka.cluster.ClusterEvent;CurrentClusterState.members" title="=&gt; scala.collection.immutable.SortedSet[akka.cluster.Member]">members</a>.<span title="(pf: PartialFunction[akka.cluster.Member,akka.actor.Address])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.SortedSet[akka.cluster.Member],akka.actor.Address,scala.collection.immutable.Set[akka.actor.Address]])scala.collection.immutable.Set[akka.actor.Address]">collect</span> <a title="&lt;$anon: akka.cluster.Member =&gt; akka.actor.Address&gt; extends scala.runtime.AbstractPartialFunction[akka.cluster.Member,akka.actor.Address] with Serializable" id="akka.cluster.client;ClusterReceptionist.receive;$anonfun.applyOrElse;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a> case <a title="akka.cluster.Member" id="akka.cluster.client;ClusterReceptionist.receive;$anonfun.applyOrElse;$anonfun.isDefinedAt.m">m</a> if <a href="#akka.cluster.client;ClusterReceptionist.receive;$anonfun.applyOrElse;$anonfun.isDefinedAt.m" title="akka.cluster.Member">m</a>.<a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member.status" title="=&gt; akka.cluster.MemberStatus">status</a> <span title="(x$1: Any)Boolean">!=</span> <a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster.MemberStatus" title="akka.cluster.MemberStatus.type">MemberStatus</a>.<a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster.MemberStatus.Joining" title="akka.cluster.MemberStatus.Joining.type">Joining</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#akka.cluster.client;ClusterReceptionist.matchingRole" title="(m: akka.cluster.Member)Boolean">matchingRole</a><span class="delimiter">(</span><a href="#akka.cluster.client;ClusterReceptionist.receive;$anonfun.applyOrElse;$anonfun.isDefinedAt.m" title="akka.cluster.Member">m</a><span class="delimiter">)</span>  <a href="#akka.cluster.client;ClusterReceptionist.receive;$anonfun.applyOrElse;$anonfun.isDefinedAt.m" title="akka.cluster.Member">m</a>.<a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member.address" title="=&gt; akka.actor.Address">address</a> <span class="delimiter">}</span>
      <a href="#akka.cluster.client;ClusterReceptionist.consistentHash_=" title="(x$1: akka.routing.ConsistentHash[akka.actor.Address])Unit">consistentHash</a> = <a href="../../../../actor/akka/routing/ConsistentHash.scala.html#akka.routing.ConsistentHash.apply" title="(nodes: Iterable[akka.actor.Address], virtualNodesFactor: Int)(implicit evidence$2: scala.reflect.ClassTag[akka.actor.Address])akka.routing.ConsistentHash[akka.actor.Address]">ConsistentHash</a><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[akka.actor.Address]" class="delimiter">(</span><a href="#akka.cluster.client;ClusterReceptionist.nodes_=" title="=&gt; scala.collection.immutable.SortedSet[akka.actor.Address]">nodes</a>, <a href="#akka.cluster.client;ClusterReceptionist.virtualNodesFactor" title="=&gt; Int">virtualNodesFactor</a><span class="delimiter">)</span>

    case MemberUp<span class="delimiter">(</span><span title="akka.cluster.Member">m</span><span class="delimiter">)</span> 
      if <span class="delimiter">(</span><a href="#akka.cluster.client;ClusterReceptionist.matchingRole" title="(m: akka.cluster.Member)Boolean">matchingRole</a><span class="delimiter">(</span><span title="akka.cluster.Member">m</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#akka.cluster.client;ClusterReceptionist.nodes_=" title="(x$1: scala.collection.immutable.SortedSet[akka.actor.Address])Unit">nodes</a> <span title="(elem: akka.actor.Address)scala.collection.immutable.SortedSet[akka.actor.Address]">+=</span> <span title="akka.cluster.Member">m</span>.<a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member.address" title="=&gt; akka.actor.Address">address</a>
        <a href="#akka.cluster.client;ClusterReceptionist.consistentHash_=" title="(x$1: akka.routing.ConsistentHash[akka.actor.Address])Unit">consistentHash</a> = <a href="../../../../actor/akka/routing/ConsistentHash.scala.html#akka.routing.ConsistentHash.apply" title="(nodes: Iterable[akka.actor.Address], virtualNodesFactor: Int)(implicit evidence$2: scala.reflect.ClassTag[akka.actor.Address])akka.routing.ConsistentHash[akka.actor.Address]">ConsistentHash</a><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[akka.actor.Address]" class="delimiter">(</span><a href="#akka.cluster.client;ClusterReceptionist.nodes_=" title="=&gt; scala.collection.immutable.SortedSet[akka.actor.Address]">nodes</a>, <a href="#akka.cluster.client;ClusterReceptionist.virtualNodesFactor" title="=&gt; Int">virtualNodesFactor</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    case MemberRemoved<span class="delimiter">(</span><span title="akka.cluster.Member">m</span>, _<span class="delimiter">)</span> 
      if <span class="delimiter">(</span><span title="akka.cluster.Member">m</span>.<a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member.address" title="=&gt; akka.actor.Address">address</a> <span title="(x$1: Any)Boolean">==</span> <a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.selfAddress" title="=&gt; akka.actor.Address">selfAddress</a><span class="delimiter">)</span>
        <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a> <a href="../../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.stop" title="(actor: akka.actor.ActorRef)Unit">stop</a> <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>
      else if <span class="delimiter">(</span><a href="#akka.cluster.client;ClusterReceptionist.matchingRole" title="(m: akka.cluster.Member)Boolean">matchingRole</a><span class="delimiter">(</span><span title="akka.cluster.Member">m</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#akka.cluster.client;ClusterReceptionist.nodes_=" title="(x$1: scala.collection.immutable.SortedSet[akka.actor.Address])Unit">nodes</a> <span title="(elem: akka.actor.Address)scala.collection.immutable.SortedSet[akka.actor.Address]">-=</span> <span title="akka.cluster.Member">m</span>.<a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member.address" title="=&gt; akka.actor.Address">address</a>
        <a href="#akka.cluster.client;ClusterReceptionist.consistentHash_=" title="(x$1: akka.routing.ConsistentHash[akka.actor.Address])Unit">consistentHash</a> = <a href="../../../../actor/akka/routing/ConsistentHash.scala.html#akka.routing.ConsistentHash.apply" title="(nodes: Iterable[akka.actor.Address], virtualNodesFactor: Int)(implicit evidence$2: scala.reflect.ClassTag[akka.actor.Address])akka.routing.ConsistentHash[akka.actor.Address]">ConsistentHash</a><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[akka.actor.Address]" class="delimiter">(</span><a href="#akka.cluster.client;ClusterReceptionist.nodes_=" title="=&gt; scala.collection.immutable.SortedSet[akka.actor.Address]">nodes</a>, <a href="#akka.cluster.client;ClusterReceptionist.virtualNodesFactor" title="=&gt; Int">virtualNodesFactor</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    case _: <a href="../../../../cluster/akka/cluster/ClusterEvent.scala.html#akka.cluster.ClusterEvent;MemberEvent" title="akka.cluster.ClusterEvent.MemberEvent">MemberEvent</a>  <span class="comment">// not of interest</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>


        </pre>
    </body>
</html>
