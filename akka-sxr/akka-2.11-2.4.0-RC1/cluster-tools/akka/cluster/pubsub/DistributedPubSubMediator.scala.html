<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>cluster-tools/akka/cluster/pubsub/DistributedPubSubMediator.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (C) 2009-2015 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>

package akka.cluster.pubsub

import scala.collection.immutable
import scala.collection.immutable.Set
import scala.concurrent.duration._
import scala.concurrent.forkjoin.ThreadLocalRandom
import java.net.URLEncoder
import java.net.URLDecoder
import akka.actor.Actor
import akka.actor.ActorContext
import akka.actor.ActorLogging
import akka.actor.ActorPath
import akka.actor.ActorRef
import akka.actor.ActorSystem
import akka.actor.Address
import akka.actor.ExtendedActorSystem
import akka.actor.Extension
import akka.actor.ExtensionId
import akka.actor.ExtensionIdProvider
import akka.actor.Props
import akka.actor.Terminated
import akka.cluster.Cluster
import akka.cluster.<a href="../../../../cluster/akka/cluster/ClusterEvent.scala.html#akka.cluster.ClusterEvent" title="akka.cluster.ClusterEvent.type">ClusterEvent</a>._
import akka.cluster.Member
import akka.cluster.MemberStatus
import akka.routing.RandomRoutingLogic
import akka.routing.RoutingLogic
import akka.routing.Routee
import akka.routing.ActorRefRoutee
import akka.routing.Router
import akka.routing.RouterEnvelope
import akka.routing.RoundRobinRoutingLogic
import akka.routing.ConsistentHashingRoutingLogic
import akka.routing.BroadcastRoutingLogic
import scala.collection.immutable.TreeMap
import com.typesafe.config.Config
import akka.actor.NoSerializationVerificationNeeded
import akka.actor.Deploy
import akka.dispatch.Dispatchers
import akka.actor.DeadLetterSuppression

object <a title="akka.cluster.pubsub.DistributedPubSubSettings.type" id="akka.cluster.pubsub.DistributedPubSubSettings">DistributedPubSubSettings</a> <a href="#akka.cluster.pubsub.DistributedPubSubSettings" title="akka.cluster.pubsub.DistributedPubSubSettings.type" class="delimiter">{</a>
  <span class="comment">/**
   * Create settings from the default configuration
   * `akka.cluster.pub-sub`.
   */</span>
  def <a title="(system: akka.actor.ActorSystem)akka.cluster.pubsub.DistributedPubSubSettings" id="akka.cluster.pubsub.DistributedPubSubSettings.apply(9e36fb0478)">apply</a><span class="delimiter">(</span><a title="akka.actor.ActorSystem" id="akka.cluster.pubsub.DistributedPubSubSettings.apply(9e36fb0478).system">system</a>: <a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem" title="akka.actor.ActorSystem">ActorSystem</a><span class="delimiter">)</span>: <a href="#akka.cluster.pubsub;DistributedPubSubSettings" title="akka.cluster.pubsub.DistributedPubSubSettings">DistributedPubSubSettings</a> =
    <a href="#akka.cluster.pubsub.DistributedPubSubSettings.apply(ca7fe5250b)" title="(config: com.typesafe.config.Config)akka.cluster.pubsub.DistributedPubSubSettings">apply</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubSettings.apply(9e36fb0478).system" title="akka.actor.ActorSystem">system</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.settings" title="=&gt; akka.actor.ActorSystem.Settings">settings</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor.ActorSystem;Settings.config" title="=&gt; com.typesafe.config.Config">config</a>.<span title="(x$1: String)com.typesafe.config.Config">getConfig</span><span class="delimiter">(</span><span title="String(&quot;akka.cluster.pub-sub&quot;)" class="string">&quot;akka.cluster.pub-sub&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Create settings from a configuration with the same layout as
   * the default configuration `akka.cluster.pub-sub`.
   */</span>
  def <a title="(config: com.typesafe.config.Config)akka.cluster.pubsub.DistributedPubSubSettings" id="akka.cluster.pubsub.DistributedPubSubSettings.apply(ca7fe5250b)">apply</a><span class="delimiter">(</span><a title="com.typesafe.config.Config" id="akka.cluster.pubsub.DistributedPubSubSettings.apply(ca7fe5250b).config">config</a>: <span title="com.typesafe.config.Config">Config</span><span class="delimiter">)</span>: <a href="#akka.cluster.pubsub;DistributedPubSubSettings" title="akka.cluster.pubsub.DistributedPubSubSettings">DistributedPubSubSettings</a> =
    new <a href="#akka.cluster.pubsub;DistributedPubSubSettings" title="akka.cluster.pubsub.DistributedPubSubSettings">DistributedPubSubSettings</a><span class="delimiter">(</span>
      role = <a href="#akka.cluster.pubsub.DistributedPubSubSettings.roleOption" title="(role: String)Option[String]">roleOption</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubSettings.apply(ca7fe5250b).config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String)String">getString</span><span class="delimiter">(</span><span title="String(&quot;role&quot;)" class="string">&quot;role&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>,
      routingLogic = <a href="#akka.cluster.pubsub.DistributedPubSubSettings.apply(ca7fe5250b).config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String)String">getString</span><span class="delimiter">(</span><span title="String(&quot;routing-logic&quot;)" class="string">&quot;routing-logic&quot;</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
        case <span title="String(&quot;random&quot;)" class="string">&quot;random&quot;</span>             ⇒ <a href="../../../../actor/akka/routing/Random.scala.html#akka.routing.RandomRoutingLogic.apply" title="()akka.routing.RandomRoutingLogic">RandomRoutingLogic</a><span class="delimiter">(</span><span class="delimiter">)</span>
        case <span title="String(&quot;round-robin&quot;)" class="string">&quot;round-robin&quot;</span>        ⇒ <a href="../../../../actor/akka/routing/RoundRobin.scala.html#akka.routing.RoundRobinRoutingLogic.apply" title="()akka.routing.RoundRobinRoutingLogic">RoundRobinRoutingLogic</a><span class="delimiter">(</span><span class="delimiter">)</span>
        case <span title="String(&quot;consistent-hashing&quot;)" class="string">&quot;consistent-hashing&quot;</span> ⇒ throw new <span title="IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;\'consistent-hashing\' routing logic can\'t be used by the pub-sub mediator&quot;)" class="string">'consistent-hashing' routing logic can't be used by the pub-sub mediator&quot;</span><span class="delimiter">)</span>
        case <span title="String(&quot;broadcast&quot;)" class="string">&quot;broadcast&quot;</span>          ⇒ <a href="../../../../actor/akka/routing/Broadcast.scala.html#akka.routing.BroadcastRoutingLogic.apply" title="()akka.routing.BroadcastRoutingLogic">BroadcastRoutingLogic</a><span class="delimiter">(</span><span class="delimiter">)</span>
        case <a title="String" id="akka.cluster.pubsub.DistributedPubSubSettings.apply(ca7fe5250b).other">other</a>                ⇒ throw new <span title="IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Unknown \'routing-logic\': [&quot;)">Unknown 'routing-logic': [$</span><a href="#akka.cluster.pubsub.DistributedPubSubSettings.apply(ca7fe5250b).other" title="String">other</a><span title="String(&quot;]&quot;)" class="string">]&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>,
      gossipInterval = <a href="#akka.cluster.pubsub.DistributedPubSubSettings.apply(ca7fe5250b).config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String, x$2: java.util.concurrent.TimeUnit)Long">getDuration</span><span title="implicit scala.concurrent.duration.package.DurationLong : (n: Long)concurrent.duration.DurationLong" class="delimiter">(</span><span title="String(&quot;gossip-interval&quot;)" class="string">&quot;gossip-interval&quot;</span>, <span title="java.util.concurrent.TimeUnit(MILLISECONDS)">MILLISECONDS</span><span class="delimiter">)</span>.<span title="=&gt; scala.concurrent.duration.FiniteDuration">millis</span>,
      removedTimeToLive = <a href="#akka.cluster.pubsub.DistributedPubSubSettings.apply(ca7fe5250b).config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String, x$2: java.util.concurrent.TimeUnit)Long">getDuration</span><span title="implicit scala.concurrent.duration.package.DurationLong : (n: Long)concurrent.duration.DurationLong" class="delimiter">(</span><span title="String(&quot;removed-time-to-live&quot;)" class="string">&quot;removed-time-to-live&quot;</span>, <span title="java.util.concurrent.TimeUnit(MILLISECONDS)">MILLISECONDS</span><span class="delimiter">)</span>.<span title="=&gt; scala.concurrent.duration.FiniteDuration">millis</span>,
      maxDeltaElements = <a href="#akka.cluster.pubsub.DistributedPubSubSettings.apply(ca7fe5250b).config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String)Int">getInt</span><span class="delimiter">(</span><span title="String(&quot;max-delta-elements&quot;)" class="string">&quot;max-delta-elements&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Java API: Create settings from the default configuration
   * `akka.cluster.pub-sub`.
   */</span>
  def <a title="(system: akka.actor.ActorSystem)akka.cluster.pubsub.DistributedPubSubSettings" id="akka.cluster.pubsub.DistributedPubSubSettings.create(9e36fb0478)">create</a><span class="delimiter">(</span><a title="akka.actor.ActorSystem" id="akka.cluster.pubsub.DistributedPubSubSettings.create(9e36fb0478).system">system</a>: <a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem" title="akka.actor.ActorSystem">ActorSystem</a><span class="delimiter">)</span>: <a href="#akka.cluster.pubsub;DistributedPubSubSettings" title="akka.cluster.pubsub.DistributedPubSubSettings">DistributedPubSubSettings</a> = <a href="#akka.cluster.pubsub.DistributedPubSubSettings.apply(9e36fb0478)" title="(system: akka.actor.ActorSystem)akka.cluster.pubsub.DistributedPubSubSettings">apply</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubSettings.create(9e36fb0478).system" title="akka.actor.ActorSystem">system</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Java API: Create settings from a configuration with the same layout as
   * the default configuration `akka.cluster.pub-sub`.
   */</span>
  def <a title="(config: com.typesafe.config.Config)akka.cluster.pubsub.DistributedPubSubSettings" id="akka.cluster.pubsub.DistributedPubSubSettings.create(ca7fe5250b)">create</a><span class="delimiter">(</span><a title="com.typesafe.config.Config" id="akka.cluster.pubsub.DistributedPubSubSettings.create(ca7fe5250b).config">config</a>: <span title="com.typesafe.config.Config">Config</span><span class="delimiter">)</span>: <a href="#akka.cluster.pubsub;DistributedPubSubSettings" title="akka.cluster.pubsub.DistributedPubSubSettings">DistributedPubSubSettings</a> = <a href="#akka.cluster.pubsub.DistributedPubSubSettings.apply(ca7fe5250b)" title="(config: com.typesafe.config.Config)akka.cluster.pubsub.DistributedPubSubSettings">apply</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubSettings.create(ca7fe5250b).config" title="com.typesafe.config.Config">config</a><span class="delimiter">)</span>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  private<span class="delimiter">[</span>akka<span class="delimiter">]</span> def <a title="(role: String)Option[String]" id="akka.cluster.pubsub.DistributedPubSubSettings.roleOption">roleOption</a><span class="delimiter">(</span><a title="String" id="akka.cluster.pubsub.DistributedPubSubSettings.roleOption.role">role</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    if <span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubSettings.roleOption.role" title="String">role</a> <span title="(x$1: Any)Boolean">==</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="None.type">None</span> else <span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubSettings.roleOption.role" title="String">role</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * @param role Start the mediator on members tagged with this role.
 *   All members are used if undefined.
 * @param routingLogic The routing logic to use for `Send`.
 * @param gossipInterval How often the DistributedPubSubMediator should send out gossip information
 * @param removedTimeToLive Removed entries are pruned after this duration
 * @param maxDeltaElements Maximum number of elements to transfer in one message when synchronizing
 *   the registries. Next chunk will be transferred in next round of gossip.
 */</span>
final class <a title="class DistributedPubSubSettings extends AnyRef with akka.actor.NoSerializationVerificationNeeded" id="akka.cluster.pubsub;DistributedPubSubSettings">DistributedPubSubSettings</a><a href="#akka.cluster.pubsub;DistributedPubSubSettings" title="akka.cluster.pubsub.DistributedPubSubSettings" class="delimiter">(</a>
  val <a title="Option[String]" id="akka.cluster.pubsub;DistributedPubSubSettings.role">role</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span>,
  val <a title="akka.routing.RoutingLogic" id="akka.cluster.pubsub;DistributedPubSubSettings.routingLogic">routingLogic</a>: <a href="../../../../actor/akka/routing/Router.scala.html#akka.routing;RoutingLogic" title="akka.routing.RoutingLogic">RoutingLogic</a>,
  val <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.pubsub;DistributedPubSubSettings.gossipInterval">gossipInterval</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span>,
  val <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.pubsub;DistributedPubSubSettings.removedTimeToLive">removedTimeToLive</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span>,
  val <a title="Int" id="akka.cluster.pubsub;DistributedPubSubSettings.maxDeltaElements">maxDeltaElements</a>: <span title="Int">Int</span><span class="delimiter">)</span> extends <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;NoSerializationVerificationNeeded" title="akka.actor.NoSerializationVerificationNeeded">NoSerializationVerificationNeeded</a> <span class="delimiter">{</span>

  <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.cluster.pubsub;DistributedPubSubSettings.routingLogic" title="=&gt; akka.routing.RoutingLogic">routingLogic</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../../actor/akka/routing/ConsistentHashing.scala.html#akka.routing;ConsistentHashingRoutingLogic" title="akka.routing.ConsistentHashingRoutingLogic">ConsistentHashingRoutingLogic</a><span class="delimiter">]</span>,
    <span title="String(&quot;\'ConsistentHashingRoutingLogic\' can\'t be used by the pub-sub mediator&quot;)" class="string">&quot;'ConsistentHashingRoutingLogic' can't be used by the pub-sub mediator&quot;</span><span class="delimiter">)</span>

  def <a title="(role: String)akka.cluster.pubsub.DistributedPubSubSettings" id="akka.cluster.pubsub;DistributedPubSubSettings.withRole(56c4843e8b)">withRole</a><span class="delimiter">(</span><a title="String" id="akka.cluster.pubsub;DistributedPubSubSettings.withRole(56c4843e8b).role">role</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#akka.cluster.pubsub;DistributedPubSubSettings" title="akka.cluster.pubsub.DistributedPubSubSettings">DistributedPubSubSettings</a> = <a href="#akka.cluster.pubsub;DistributedPubSubSettings.copy" title="(role: Option[String], routingLogic: akka.routing.RoutingLogic, gossipInterval: scala.concurrent.duration.FiniteDuration, removedTimeToLive: scala.concurrent.duration.FiniteDuration, maxDeltaElements: Int)akka.cluster.pubsub.DistributedPubSubSettings">copy</a><span class="delimiter">(</span>role = <a href="#akka.cluster.pubsub.DistributedPubSubSettings" title="akka.cluster.pubsub.DistributedPubSubSettings.type">DistributedPubSubSettings</a>.<a href="#akka.cluster.pubsub.DistributedPubSubSettings.roleOption" title="(role: String)Option[String]">roleOption</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubSettings.withRole(56c4843e8b).role" title="String">role</a><span class="delimiter">)</span><span class="delimiter">)</span>

  def <a title="(role: Option[String])akka.cluster.pubsub.DistributedPubSubSettings" id="akka.cluster.pubsub;DistributedPubSubSettings.withRole(04ed969e0f)">withRole</a><span class="delimiter">(</span><a title="Option[String]" id="akka.cluster.pubsub;DistributedPubSubSettings.withRole(04ed969e0f).role">role</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.cluster.pubsub;DistributedPubSubSettings" title="akka.cluster.pubsub.DistributedPubSubSettings">DistributedPubSubSettings</a> = <a href="#akka.cluster.pubsub;DistributedPubSubSettings.copy" title="(role: Option[String], routingLogic: akka.routing.RoutingLogic, gossipInterval: scala.concurrent.duration.FiniteDuration, removedTimeToLive: scala.concurrent.duration.FiniteDuration, maxDeltaElements: Int)akka.cluster.pubsub.DistributedPubSubSettings">copy</a><span class="delimiter">(</span>role = <a href="#akka.cluster.pubsub;DistributedPubSubSettings.withRole(04ed969e0f).role" title="Option[String]">role</a><span class="delimiter">)</span>

  def <a title="(routingLogic: akka.routing.RoutingLogic)akka.cluster.pubsub.DistributedPubSubSettings" id="akka.cluster.pubsub;DistributedPubSubSettings.withRoutingLogic">withRoutingLogic</a><span class="delimiter">(</span><a title="akka.routing.RoutingLogic" id="akka.cluster.pubsub;DistributedPubSubSettings.withRoutingLogic.routingLogic">routingLogic</a>: <a href="../../../../actor/akka/routing/Router.scala.html#akka.routing;RoutingLogic" title="akka.routing.RoutingLogic">RoutingLogic</a><span class="delimiter">)</span>: <a href="#akka.cluster.pubsub;DistributedPubSubSettings" title="akka.cluster.pubsub.DistributedPubSubSettings">DistributedPubSubSettings</a> =
    <a href="#akka.cluster.pubsub;DistributedPubSubSettings.copy$default$1" title="Option[String] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.cluster.pubsub;DistributedPubSubSettings.withRoutingLogic.x$19">copy</a><span class="delimiter">(</span>routingLogic = <a href="#akka.cluster.pubsub;DistributedPubSubSettings.withRoutingLogic.routingLogic" title="akka.routing.RoutingLogic" id="akka.cluster.pubsub;DistributedPubSubSettings.withRoutingLogic.x$15">routingLogic</a><span class="delimiter">)</span>

  def <a title="(gossipInterval: scala.concurrent.duration.FiniteDuration)akka.cluster.pubsub.DistributedPubSubSettings" id="akka.cluster.pubsub;DistributedPubSubSettings.withGossipInterval">withGossipInterval</a><span class="delimiter">(</span><a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.pubsub;DistributedPubSubSettings.withGossipInterval.gossipInterval">gossipInterval</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">)</span>: <a href="#akka.cluster.pubsub;DistributedPubSubSettings" title="akka.cluster.pubsub.DistributedPubSubSettings">DistributedPubSubSettings</a> =
    <a href="#akka.cluster.pubsub;DistributedPubSubSettings.copy$default$1" title="Option[String] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.cluster.pubsub;DistributedPubSubSettings.withGossipInterval.x$24">copy</a><span class="delimiter">(</span>gossipInterval = <a href="#akka.cluster.pubsub;DistributedPubSubSettings.withGossipInterval.gossipInterval" title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.pubsub;DistributedPubSubSettings.withGossipInterval.x$20">gossipInterval</a><span class="delimiter">)</span>

  def <a title="(removedTimeToLive: scala.concurrent.duration.FiniteDuration)akka.cluster.pubsub.DistributedPubSubSettings" id="akka.cluster.pubsub;DistributedPubSubSettings.withRemovedTimeToLive">withRemovedTimeToLive</a><span class="delimiter">(</span><a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.pubsub;DistributedPubSubSettings.withRemovedTimeToLive.removedTimeToLive">removedTimeToLive</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">)</span>: <a href="#akka.cluster.pubsub;DistributedPubSubSettings" title="akka.cluster.pubsub.DistributedPubSubSettings">DistributedPubSubSettings</a> =
    <a href="#akka.cluster.pubsub;DistributedPubSubSettings.copy$default$1" title="Option[String] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.cluster.pubsub;DistributedPubSubSettings.withRemovedTimeToLive.x$29">copy</a><span class="delimiter">(</span>removedTimeToLive = <a href="#akka.cluster.pubsub;DistributedPubSubSettings.withRemovedTimeToLive.removedTimeToLive" title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.pubsub;DistributedPubSubSettings.withRemovedTimeToLive.x$25">removedTimeToLive</a><span class="delimiter">)</span>

  def <a title="(maxDeltaElements: Int)akka.cluster.pubsub.DistributedPubSubSettings" id="akka.cluster.pubsub;DistributedPubSubSettings.withMaxDeltaElements">withMaxDeltaElements</a><span class="delimiter">(</span><a title="Int" id="akka.cluster.pubsub;DistributedPubSubSettings.withMaxDeltaElements.maxDeltaElements">maxDeltaElements</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#akka.cluster.pubsub;DistributedPubSubSettings" title="akka.cluster.pubsub.DistributedPubSubSettings">DistributedPubSubSettings</a> =
    <a href="#akka.cluster.pubsub;DistributedPubSubSettings.copy$default$1" title="Option[String] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.cluster.pubsub;DistributedPubSubSettings.withMaxDeltaElements.x$34">copy</a><span class="delimiter">(</span>maxDeltaElements = <a href="#akka.cluster.pubsub;DistributedPubSubSettings.withMaxDeltaElements.maxDeltaElements" title="Int" id="akka.cluster.pubsub;DistributedPubSubSettings.withMaxDeltaElements.x$30">maxDeltaElements</a><span class="delimiter">)</span>

  private def <a title="(role: Option[String], routingLogic: akka.routing.RoutingLogic, gossipInterval: scala.concurrent.duration.FiniteDuration, removedTimeToLive: scala.concurrent.duration.FiniteDuration, maxDeltaElements: Int)akka.cluster.pubsub.DistributedPubSubSettings" id="akka.cluster.pubsub;DistributedPubSubSettings.copy">copy</a><span class="delimiter">(</span><a title="Option[String]" id="akka.cluster.pubsub;DistributedPubSubSettings.copy$default$1">role</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#akka.cluster.pubsub;DistributedPubSubSettings.copy$default$1" title="Option[String]">role</a>,
                   <a title="akka.routing.RoutingLogic" id="akka.cluster.pubsub;DistributedPubSubSettings.copy$default$2">routingLogic</a>: <a href="../../../../actor/akka/routing/Router.scala.html#akka.routing;RoutingLogic" title="akka.routing.RoutingLogic">RoutingLogic</a> = <a href="#akka.cluster.pubsub;DistributedPubSubSettings.copy$default$2" title="akka.routing.RoutingLogic">routingLogic</a>,
                   <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.pubsub;DistributedPubSubSettings.copy$default$3">gossipInterval</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span> = <a href="#akka.cluster.pubsub;DistributedPubSubSettings.copy$default$3" title="scala.concurrent.duration.FiniteDuration">gossipInterval</a>,
                   <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.pubsub;DistributedPubSubSettings.copy$default$4">removedTimeToLive</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span> = <a href="#akka.cluster.pubsub;DistributedPubSubSettings.copy$default$4" title="scala.concurrent.duration.FiniteDuration">removedTimeToLive</a>,
                   <a title="Int" id="akka.cluster.pubsub;DistributedPubSubSettings.copy$default$5">maxDeltaElements</a>: <span title="Int">Int</span> = <a href="#akka.cluster.pubsub;DistributedPubSubSettings.copy$default$5" title="Int">maxDeltaElements</a><span class="delimiter">)</span>: <a href="#akka.cluster.pubsub;DistributedPubSubSettings" title="akka.cluster.pubsub.DistributedPubSubSettings">DistributedPubSubSettings</a> =
    new <a href="#akka.cluster.pubsub;DistributedPubSubSettings" title="akka.cluster.pubsub.DistributedPubSubSettings">DistributedPubSubSettings</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubSettings.copy$default$1" title="Option[String]">role</a>, <a href="#akka.cluster.pubsub;DistributedPubSubSettings.copy$default$2" title="akka.routing.RoutingLogic">routingLogic</a>, <a href="#akka.cluster.pubsub;DistributedPubSubSettings.copy$default$3" title="scala.concurrent.duration.FiniteDuration">gossipInterval</a>, <a href="#akka.cluster.pubsub;DistributedPubSubSettings.copy$default$4" title="scala.concurrent.duration.FiniteDuration">removedTimeToLive</a>, <a href="#akka.cluster.pubsub;DistributedPubSubSettings.copy$default$5" title="Int">maxDeltaElements</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

object <a title="akka.cluster.pubsub.DistributedPubSubMediator.type" id="akka.cluster.pubsub.DistributedPubSubMediator">DistributedPubSubMediator</a> <a href="#akka.cluster.pubsub.DistributedPubSubMediator" title="akka.cluster.pubsub.DistributedPubSubMediator.type" class="delimiter">{</a>

  <span class="comment">/**
   * Scala API: Factory method for `DistributedPubSubMediator` [[akka.actor.Props]].
   */</span>
  def <a title="(settings: akka.cluster.pubsub.DistributedPubSubSettings)akka.actor.Props" id="akka.cluster.pubsub.DistributedPubSubMediator.props">props</a><span class="delimiter">(</span><a title="akka.cluster.pubsub.DistributedPubSubSettings" id="akka.cluster.pubsub.DistributedPubSubMediator.props.settings">settings</a>: <a href="#akka.cluster.pubsub;DistributedPubSubSettings" title="akka.cluster.pubsub.DistributedPubSubSettings">DistributedPubSubSettings</a><span class="delimiter">)</span>: <a href="../../../../actor/akka/actor/Props.scala.html#akka.actor;Props" title="akka.actor.Props">Props</a> =
    <a href="../../../../actor/akka/actor/Props.scala.html#akka.actor.Props.apply(b09a6a316b)" title="(creator: =&gt; akka.cluster.pubsub.DistributedPubSubMediator)(implicit evidence$2: scala.reflect.ClassTag[akka.cluster.pubsub.DistributedPubSubMediator])akka.actor.Props">Props</a><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[akka.cluster.pubsub.DistributedPubSubMediator]" class="delimiter">(</span>new <a href="#akka.cluster.pubsub;DistributedPubSubMediator" title="akka.cluster.pubsub.DistributedPubSubMediator">DistributedPubSubMediator</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator.props.settings" title="akka.cluster.pubsub.DistributedPubSubSettings">settings</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../../actor/akka/actor/Props.scala.html#akka.actor;Props.withDeploy" title="(d: akka.actor.Deploy)akka.actor.Props">withDeploy</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Deployer.scala.html#akka.actor.Deploy" title="akka.actor.Deploy.type">Deploy</a>.<a href="../../../../actor/akka/actor/Deployer.scala.html#akka.actor.Deploy.local" title="=&gt; akka.actor.Deploy">local</a><span class="delimiter">)</span>

  @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span> final case class <a title="class Put extends AnyRef with Product with Serializable" id="akka.cluster.pubsub.DistributedPubSubMediator.Put.readResolve">Put</a><a href="#akka.cluster.pubsub.DistributedPubSubMediator.Put.readResolve" title="Product" class="delimiter">(</a><a title="akka.actor.ActorRef" id="akka.cluster.pubsub.DistributedPubSubMediator;Put.ref">ref</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>
  @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span> final case class <a title="class Remove extends AnyRef with Product with Serializable" id="akka.cluster.pubsub.DistributedPubSubMediator.Remove.readResolve">Remove</a><a href="#akka.cluster.pubsub.DistributedPubSubMediator.Remove.readResolve" title="Product" class="delimiter">(</a><a title="String" id="akka.cluster.pubsub.DistributedPubSubMediator;Remove.path">path</a>: <span title="String">String</span><span class="delimiter">)</span>
  @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span> final case class <a title="class Subscribe extends AnyRef with Product with Serializable" id="akka.cluster.pubsub.DistributedPubSubMediator;Subscribe">Subscribe</a><a href="#akka.cluster.pubsub.DistributedPubSubMediator;Subscribe" title="Product" class="delimiter">(</a><a title="String" id="akka.cluster.pubsub.DistributedPubSubMediator;Subscribe.topic">topic</a>: <span title="String">String</span>, <a title="Option[String]" id="akka.cluster.pubsub.DistributedPubSubMediator;Subscribe.group">group</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="akka.actor.ActorRef" id="akka.cluster.pubsub.DistributedPubSubMediator;Subscribe.ref">ref</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator;Subscribe.topic" title="=&gt; String">topic</a> <span title="(x$1: Any)Boolean">!=</span> null <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#akka.cluster.pubsub.DistributedPubSubMediator;Subscribe.topic" title="=&gt; String">topic</a> <span title="(x$1: Any)Boolean">!=</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot;topic must be defined&quot;)" class="string">&quot;topic must be defined&quot;</span><span class="delimiter">)</span>
    <span class="comment">/**
     * Convenience constructor with `group` None
     */</span>
    def this<span class="delimiter">(</span><a title="String" id="akka.cluster.pubsub.DistributedPubSubMediator;Subscribe.<init>(9dcded2cae).topic">topic</a>: <span title="String">String</span>, <a title="akka.actor.ActorRef" id="akka.cluster.pubsub.DistributedPubSubMediator;Subscribe.<init>(9dcded2cae).ref">ref</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span> = this<span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator;Subscribe.<init>(9dcded2cae).topic" title="String">topic</a>, <span title="None.type">None</span>, <a href="#akka.cluster.pubsub.DistributedPubSubMediator;Subscribe.<init>(9dcded2cae).ref" title="akka.actor.ActorRef">ref</a><span class="delimiter">)</span>

    <span class="comment">/**
     * Java API: constructor with group: String
     */</span>
    def this<span class="delimiter">(</span><a title="String" id="akka.cluster.pubsub.DistributedPubSubMediator;Subscribe.<init>(198ec6ecf9).topic">topic</a>: <span title="String">String</span>, <a title="String" id="akka.cluster.pubsub.DistributedPubSubMediator;Subscribe.<init>(198ec6ecf9).group">group</a>: <span title="String">String</span>, <a title="akka.actor.ActorRef" id="akka.cluster.pubsub.DistributedPubSubMediator;Subscribe.<init>(198ec6ecf9).ref">ref</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span> = this<span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator;Subscribe.<init>(198ec6ecf9).topic" title="String">topic</a>, <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator;Subscribe.<init>(198ec6ecf9).group" title="String">group</a><span class="delimiter">)</span>, <a href="#akka.cluster.pubsub.DistributedPubSubMediator;Subscribe.<init>(198ec6ecf9).ref" title="akka.actor.ActorRef">ref</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  object <a title="akka.cluster.pubsub.DistributedPubSubMediator.Subscribe.type" id="akka.cluster.pubsub.DistributedPubSubMediator.Subscribe.readResolve">Subscribe</a> <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Subscribe.readResolve" title="akka.cluster.pubsub.DistributedPubSubMediator.Subscribe.type" class="delimiter">{</a>
    def <a title="(topic: String, ref: akka.actor.ActorRef)akka.cluster.pubsub.DistributedPubSubMediator.Subscribe" id="akka.cluster.pubsub.DistributedPubSubMediator.Subscribe.apply(9dcded2cae)">apply</a><span class="delimiter">(</span><a title="String" id="akka.cluster.pubsub.DistributedPubSubMediator.Subscribe.apply(9dcded2cae).topic">topic</a>: <span title="String">String</span>, <a title="akka.actor.ActorRef" id="akka.cluster.pubsub.DistributedPubSubMediator.Subscribe.apply(9dcded2cae).ref">ref</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span> = new <a href="#akka.cluster.pubsub.DistributedPubSubMediator;Subscribe" title="akka.cluster.pubsub.DistributedPubSubMediator.Subscribe">Subscribe</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator.Subscribe.apply(9dcded2cae).topic" title="String">topic</a>, <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Subscribe.apply(9dcded2cae).ref" title="akka.actor.ActorRef">ref</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span> final case class <a title="class Unsubscribe extends AnyRef with Product with Serializable" id="akka.cluster.pubsub.DistributedPubSubMediator;Unsubscribe">Unsubscribe</a><a href="#akka.cluster.pubsub.DistributedPubSubMediator;Unsubscribe" title="Product" class="delimiter">(</a><a title="String" id="akka.cluster.pubsub.DistributedPubSubMediator;Unsubscribe.topic">topic</a>: <span title="String">String</span>, <a title="Option[String]" id="akka.cluster.pubsub.DistributedPubSubMediator;Unsubscribe.group">group</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="akka.actor.ActorRef" id="akka.cluster.pubsub.DistributedPubSubMediator;Unsubscribe.ref">ref</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator;Unsubscribe.topic" title="=&gt; String">topic</a> <span title="(x$1: Any)Boolean">!=</span> null <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#akka.cluster.pubsub.DistributedPubSubMediator;Unsubscribe.topic" title="=&gt; String">topic</a> <span title="(x$1: Any)Boolean">!=</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot;topic must be defined&quot;)" class="string">&quot;topic must be defined&quot;</span><span class="delimiter">)</span>
    def this<span class="delimiter">(</span><a title="String" id="akka.cluster.pubsub.DistributedPubSubMediator;Unsubscribe.<init>(9dfa4f783a).topic">topic</a>: <span title="String">String</span>, <a title="akka.actor.ActorRef" id="akka.cluster.pubsub.DistributedPubSubMediator;Unsubscribe.<init>(9dfa4f783a).ref">ref</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span> = this<span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator;Unsubscribe.<init>(9dfa4f783a).topic" title="String">topic</a>, <span title="None.type">None</span>, <a href="#akka.cluster.pubsub.DistributedPubSubMediator;Unsubscribe.<init>(9dfa4f783a).ref" title="akka.actor.ActorRef">ref</a><span class="delimiter">)</span>
    def this<span class="delimiter">(</span><a title="String" id="akka.cluster.pubsub.DistributedPubSubMediator;Unsubscribe.<init>(bf72e1cb86).topic">topic</a>: <span title="String">String</span>, <a title="String" id="akka.cluster.pubsub.DistributedPubSubMediator;Unsubscribe.<init>(bf72e1cb86).group">group</a>: <span title="String">String</span>, <a title="akka.actor.ActorRef" id="akka.cluster.pubsub.DistributedPubSubMediator;Unsubscribe.<init>(bf72e1cb86).ref">ref</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span> = this<span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator;Unsubscribe.<init>(bf72e1cb86).topic" title="String">topic</a>, <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator;Unsubscribe.<init>(bf72e1cb86).group" title="String">group</a><span class="delimiter">)</span>, <a href="#akka.cluster.pubsub.DistributedPubSubMediator;Unsubscribe.<init>(bf72e1cb86).ref" title="akka.actor.ActorRef">ref</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  object <a title="akka.cluster.pubsub.DistributedPubSubMediator.Unsubscribe.type" id="akka.cluster.pubsub.DistributedPubSubMediator.Unsubscribe.readResolve">Unsubscribe</a> <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Unsubscribe.readResolve" title="akka.cluster.pubsub.DistributedPubSubMediator.Unsubscribe.type" class="delimiter">{</a>
    def <a title="(topic: String, ref: akka.actor.ActorRef)akka.cluster.pubsub.DistributedPubSubMediator.Unsubscribe" id="akka.cluster.pubsub.DistributedPubSubMediator.Unsubscribe.apply(9dfa4f783a)">apply</a><span class="delimiter">(</span><a title="String" id="akka.cluster.pubsub.DistributedPubSubMediator.Unsubscribe.apply(9dfa4f783a).topic">topic</a>: <span title="String">String</span>, <a title="akka.actor.ActorRef" id="akka.cluster.pubsub.DistributedPubSubMediator.Unsubscribe.apply(9dfa4f783a).ref">ref</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span> = new <a href="#akka.cluster.pubsub.DistributedPubSubMediator;Unsubscribe" title="akka.cluster.pubsub.DistributedPubSubMediator.Unsubscribe">Unsubscribe</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator.Unsubscribe.apply(9dfa4f783a).topic" title="String">topic</a>, <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Unsubscribe.apply(9dfa4f783a).ref" title="akka.actor.ActorRef">ref</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span> final case class <a title="class SubscribeAck extends AnyRef with Product with Serializable" id="akka.cluster.pubsub.DistributedPubSubMediator.SubscribeAck.readResolve">SubscribeAck</a><a href="#akka.cluster.pubsub.DistributedPubSubMediator.SubscribeAck.readResolve" title="Product" class="delimiter">(</a><a title="akka.cluster.pubsub.DistributedPubSubMediator.Subscribe" id="akka.cluster.pubsub.DistributedPubSubMediator;SubscribeAck.subscribe">subscribe</a>: <a href="#akka.cluster.pubsub.DistributedPubSubMediator;Subscribe" title="akka.cluster.pubsub.DistributedPubSubMediator.Subscribe">Subscribe</a><span class="delimiter">)</span>
  @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span> final case class <a title="class UnsubscribeAck extends AnyRef with Product with Serializable" id="akka.cluster.pubsub.DistributedPubSubMediator.UnsubscribeAck.readResolve">UnsubscribeAck</a><a href="#akka.cluster.pubsub.DistributedPubSubMediator.UnsubscribeAck.readResolve" title="Product" class="delimiter">(</a><a title="akka.cluster.pubsub.DistributedPubSubMediator.Unsubscribe" id="akka.cluster.pubsub.DistributedPubSubMediator;UnsubscribeAck.unsubscribe">unsubscribe</a>: <a href="#akka.cluster.pubsub.DistributedPubSubMediator;Unsubscribe" title="akka.cluster.pubsub.DistributedPubSubMediator.Unsubscribe">Unsubscribe</a><span class="delimiter">)</span>
  @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span> final case class <a title="class Publish extends AnyRef with akka.cluster.pubsub.DistributedPubSubMessage with Product with Serializable" id="akka.cluster.pubsub.DistributedPubSubMediator;Publish">Publish</a><span title="Product" class="delimiter">(</span><a title="String" id="akka.cluster.pubsub.DistributedPubSubMediator;Publish.topic">topic</a>: <span title="String">String</span>, <a title="Any" id="akka.cluster.pubsub.DistributedPubSubMediator;Publish.msg">msg</a>: <span title="Any">Any</span>, <a title="Boolean" id="akka.cluster.pubsub.DistributedPubSubMediator;Publish.sendOneMessageToEachGroup">sendOneMessageToEachGroup</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> extends <a href="#akka.cluster.pubsub;DistributedPubSubMessage" title="akka.cluster.pubsub.DistributedPubSubMessage">DistributedPubSubMessage</a> <span class="delimiter">{</span>
    def this<span class="delimiter">(</span><a title="String" id="akka.cluster.pubsub.DistributedPubSubMediator;Publish.<init>(614f9831c4).topic">topic</a>: <span title="String">String</span>, <a title="Any" id="akka.cluster.pubsub.DistributedPubSubMediator;Publish.<init>(614f9831c4).msg">msg</a>: <span title="Any">Any</span><span class="delimiter">)</span> = this<span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator;Publish.<init>(614f9831c4).topic" title="String">topic</a>, <a href="#akka.cluster.pubsub.DistributedPubSubMediator;Publish.<init>(614f9831c4).msg" title="Any">msg</a>, sendOneMessageToEachGroup = false<span class="delimiter">)</span>
  <span class="delimiter">}</span>
  object <a title="akka.cluster.pubsub.DistributedPubSubMediator.Publish.type" id="akka.cluster.pubsub.DistributedPubSubMediator.Publish.readResolve">Publish</a> <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Publish.readResolve" title="akka.cluster.pubsub.DistributedPubSubMediator.Publish.type" class="delimiter">{</a>
    def <a title="(topic: String, msg: Any)akka.cluster.pubsub.DistributedPubSubMediator.Publish" id="akka.cluster.pubsub.DistributedPubSubMediator.Publish.apply(614f9831c4)">apply</a><span class="delimiter">(</span><a title="String" id="akka.cluster.pubsub.DistributedPubSubMediator.Publish.apply(614f9831c4).topic">topic</a>: <span title="String">String</span>, <a title="Any" id="akka.cluster.pubsub.DistributedPubSubMediator.Publish.apply(614f9831c4).msg">msg</a>: <span title="Any">Any</span><span class="delimiter">)</span> = new <a href="#akka.cluster.pubsub.DistributedPubSubMediator;Publish" title="akka.cluster.pubsub.DistributedPubSubMediator.Publish">Publish</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator.Publish.apply(614f9831c4).topic" title="String">topic</a>, <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Publish.apply(614f9831c4).msg" title="Any">msg</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span> final case class <a title="class Send extends AnyRef with akka.cluster.pubsub.DistributedPubSubMessage with Product with Serializable" id="akka.cluster.pubsub.DistributedPubSubMediator.Send.readResolve">Send</a><span title="Product" class="delimiter">(</span><a title="String" id="akka.cluster.pubsub.DistributedPubSubMediator;Send.path">path</a>: <span title="String">String</span>, <a title="Any" id="akka.cluster.pubsub.DistributedPubSubMediator;Send.msg">msg</a>: <span title="Any">Any</span>, <a title="Boolean" id="akka.cluster.pubsub.DistributedPubSubMediator;Send.localAffinity">localAffinity</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> extends <a href="#akka.cluster.pubsub;DistributedPubSubMessage" title="akka.cluster.pubsub.DistributedPubSubMessage">DistributedPubSubMessage</a> <span class="delimiter">{</span>
    <span class="comment">/**
     * Convenience constructor with `localAffinity` false
     */</span>
    def this<span class="delimiter">(</span><a title="String" id="akka.cluster.pubsub.DistributedPubSubMediator;Send.<init>(bdf345f3aa).path">path</a>: <span title="String">String</span>, <a title="Any" id="akka.cluster.pubsub.DistributedPubSubMediator;Send.<init>(bdf345f3aa).msg">msg</a>: <span title="Any">Any</span><span class="delimiter">)</span> = this<span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator;Send.<init>(bdf345f3aa).path" title="String">path</a>, <a href="#akka.cluster.pubsub.DistributedPubSubMediator;Send.<init>(bdf345f3aa).msg" title="Any">msg</a>, localAffinity = false<span class="delimiter">)</span>
  <span class="delimiter">}</span>
  @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span> final case class <a title="class SendToAll extends AnyRef with akka.cluster.pubsub.DistributedPubSubMessage with Product with Serializable" id="akka.cluster.pubsub.DistributedPubSubMediator.SendToAll.readResolve">SendToAll</a><span title="Product" class="delimiter">(</span><a title="String" id="akka.cluster.pubsub.DistributedPubSubMediator;SendToAll.path">path</a>: <span title="String">String</span>, <a title="Any" id="akka.cluster.pubsub.DistributedPubSubMediator;SendToAll.msg">msg</a>: <span title="Any">Any</span>, <a title="Boolean" id="akka.cluster.pubsub.DistributedPubSubMediator.SendToAll.<init>$default$3">allButSelf</a>: <span title="Boolean">Boolean</span> = false<span class="delimiter">)</span> extends <a href="#akka.cluster.pubsub;DistributedPubSubMessage" title="akka.cluster.pubsub.DistributedPubSubMessage">DistributedPubSubMessage</a> <span class="delimiter">{</span>
    def this<span class="delimiter">(</span><a title="String" id="akka.cluster.pubsub.DistributedPubSubMediator;SendToAll.<init>(c5bbf2a47a).path">path</a>: <span title="String">String</span>, <a title="Any" id="akka.cluster.pubsub.DistributedPubSubMediator;SendToAll.<init>(c5bbf2a47a).msg">msg</a>: <span title="Any">Any</span><span class="delimiter">)</span> = this<span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator;SendToAll.<init>(c5bbf2a47a).path" title="String">path</a>, <a href="#akka.cluster.pubsub.DistributedPubSubMediator;SendToAll.<init>(c5bbf2a47a).msg" title="Any">msg</a>, allButSelf = false<span class="delimiter">)</span>
  <span class="delimiter">}</span>

  sealed abstract class <a title="class GetTopics extends AnyRef" id="akka.cluster.pubsub.DistributedPubSubMediator;GetTopics">GetTopics</a>

  <span class="comment">/**
   * Send this message to the mediator and it will reply with
   * [[CurrentTopics]] containing the names of the (currently known)
   * registered topic names.
   */</span>
  @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
  case object <a href="#akka.cluster.pubsub.DistributedPubSubMediator.GetTopics.productElement.x$1" title="akka.cluster.pubsub.DistributedPubSubMediator.GetTopics.type" id="akka.cluster.pubsub.DistributedPubSubMediator.GetTopics.readResolve">GetTopics</a> extends <a href="#akka.cluster.pubsub.DistributedPubSubMediator;GetTopics" title="akka.cluster.pubsub.DistributedPubSubMediator.GetTopics">GetTopics</a>

  <span class="comment">/**
   * Java API: Send this message to the mediator and it will reply with
   * [[DistributedPubSubMediator.CurrentTopics]] containing the names of the (currently known)
   * registered topic names.
   */</span>
  def <a title="=&gt; akka.cluster.pubsub.DistributedPubSubMediator.GetTopics" id="akka.cluster.pubsub.DistributedPubSubMediator.getTopicsInstance">getTopicsInstance</a>: <a href="#akka.cluster.pubsub.DistributedPubSubMediator;GetTopics" title="akka.cluster.pubsub.DistributedPubSubMediator.GetTopics">GetTopics</a> = <a href="#akka.cluster.pubsub.DistributedPubSubMediator.GetTopics.readResolve" title="akka.cluster.pubsub.DistributedPubSubMediator.GetTopics.type">GetTopics</a>

  <span class="comment">/**
   * Reply to `GetTopics`.
   */</span>
  @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
  final case class <a title="class CurrentTopics extends AnyRef with Product with Serializable" id="akka.cluster.pubsub.DistributedPubSubMediator.CurrentTopics.readResolve">CurrentTopics</a><a href="#akka.cluster.pubsub.DistributedPubSubMediator.CurrentTopics.readResolve" title="Product" class="delimiter">(</a><a title="scala.collection.immutable.Set[String]" id="akka.cluster.pubsub.DistributedPubSubMediator;CurrentTopics.topics">topics</a>: <span title="scala.collection.immutable.Set[String]">Set</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="comment">/**
     * Java API
     */</span>
    def <a title="()java.util.Set[String]" id="akka.cluster.pubsub.DistributedPubSubMediator;CurrentTopics.getTopics">getTopics</a><span class="delimiter">(</span><span class="delimiter">)</span>: java.util.<span title="java.util.Set[String]">Set</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
      import scala.collection.<span title="scala.collection.JavaConverters.type">JavaConverters</span>._
      <a href="#akka.cluster.pubsub.DistributedPubSubMediator;CurrentTopics.topics" title="(s: scala.collection.Set[String])scala.collection.convert.Decorators.AsJava[java.util.Set[String]]">topics</a>.<span title="=&gt; java.util.Set[String]">asJava</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">// Only for testing purposes, to poll/await replication</span>
  case object <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Count.productElement.x$1" title="akka.cluster.pubsub.DistributedPubSubMediator.Count.type" id="akka.cluster.pubsub.DistributedPubSubMediator.Count.readResolve">Count</a>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  private<span class="delimiter">[</span>akka<span class="delimiter">]</span> object <a title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.type" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal">Internal</a> <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.type" class="delimiter">{</a>
    case object <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.Prune.productElement.x$1" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Prune.type" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Prune.readResolve">Prune</a>

    @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
    final case class <a title="class Bucket extends AnyRef with Product with Serializable" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket.readResolve">Bucket</a><a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket.readResolve" title="Product" class="delimiter">(</a>
      <a title="akka.actor.Address" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.owner">owner</a>: <a href="../../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a>,
      <a title="Long" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.version">version</a>: <span title="Long">Long</span>,
      <a title="scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder]" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.content">content</a>: <span title="scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder]">TreeMap</span><span class="delimiter">[</span>String, ValueHolder<span class="delimiter">]</span><span class="delimiter">)</span>

    @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
    final case class <a title="class ValueHolder extends AnyRef with Product with Serializable" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder.readResolve">ValueHolder</a><a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder.readResolve" title="Product" class="delimiter">(</a><a title="Long" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;ValueHolder.version">version</a>: <span title="Long">Long</span>, <a title="Option[akka.actor.ActorRef]" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;ValueHolder.ref">ref</a>: <span title="Option[akka.actor.ActorRef]">Option</span><span class="delimiter">[</span>ActorRef<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      @transient lazy val routee: <span title="Option[akka.routing.Routee]">Option</span><span class="delimiter">[</span>Routee<span class="delimiter">]</span> = <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;ValueHolder.ref" title="=&gt; Option[akka.actor.ActorRef]">ref</a> <a title="Option[akka.routing.Routee]" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;ValueHolder.routee">map</a> <a href="../../../../actor/akka/routing/Router.scala.html#akka.routing.ActorRefRoutee" title="akka.routing.ActorRefRoutee.type">ActorRefRoutee</a>
    <span class="delimiter">}</span>

    @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
    final case class <a title="class Status extends AnyRef with akka.cluster.pubsub.DistributedPubSubMessage with akka.actor.DeadLetterSuppression with Product with Serializable" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Status.readResolve">Status</a><span title="Product" class="delimiter">(</span><a title="Map[akka.actor.Address,Long]" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;Status.versions">versions</a>: <span title="Map[akka.actor.Address,Long]">Map</span><span class="delimiter">[</span>Address, Long<span class="delimiter">]</span><span class="delimiter">)</span> extends <a href="#akka.cluster.pubsub;DistributedPubSubMessage" title="akka.cluster.pubsub.DistributedPubSubMessage">DistributedPubSubMessage</a>
      with <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;DeadLetterSuppression" title="akka.actor.DeadLetterSuppression">DeadLetterSuppression</a>
    @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
    final case class <a title="class Delta extends AnyRef with akka.cluster.pubsub.DistributedPubSubMessage with akka.actor.DeadLetterSuppression with Product with Serializable" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Delta.readResolve">Delta</a><span title="Product" class="delimiter">(</span><a title="scala.collection.immutable.Iterable[akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket]" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;Delta.buckets">buckets</a>: immutable.<span title="scala.collection.immutable.Iterable[akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket]">Iterable</span><span class="delimiter">[</span>Bucket<span class="delimiter">]</span><span class="delimiter">)</span> extends <a href="#akka.cluster.pubsub;DistributedPubSubMessage" title="akka.cluster.pubsub.DistributedPubSubMessage">DistributedPubSubMessage</a>
      with <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;DeadLetterSuppression" title="akka.actor.DeadLetterSuppression">DeadLetterSuppression</a>

    case object <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.GossipTick.productElement.x$1" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.GossipTick.type" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal.GossipTick.readResolve">GossipTick</a>

    @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
    final case class <a title="class RegisterTopic extends AnyRef with Product with Serializable" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal.RegisterTopic.readResolve">RegisterTopic</a><a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.RegisterTopic.readResolve" title="Product" class="delimiter">(</a><a title="akka.actor.ActorRef" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;RegisterTopic.topicRef">topicRef</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>
    @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
    final case class <a title="class Subscribed extends AnyRef with Product with Serializable" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Subscribed.readResolve">Subscribed</a><a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.Subscribed.readResolve" title="Product" class="delimiter">(</a><a title="akka.cluster.pubsub.DistributedPubSubMediator.SubscribeAck" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;Subscribed.ack">ack</a>: <a href="#akka.cluster.pubsub.DistributedPubSubMediator.SubscribeAck.readResolve" title="akka.cluster.pubsub.DistributedPubSubMediator.SubscribeAck">SubscribeAck</a>, <a title="akka.actor.ActorRef" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;Subscribed.subscriber">subscriber</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>
    @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
    final case class <a title="class Unsubscribed extends AnyRef with Product with Serializable" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Unsubscribed.readResolve">Unsubscribed</a><a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.Unsubscribed.readResolve" title="Product" class="delimiter">(</a><a title="akka.cluster.pubsub.DistributedPubSubMediator.UnsubscribeAck" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;Unsubscribed.ack">ack</a>: <a href="#akka.cluster.pubsub.DistributedPubSubMediator.UnsubscribeAck.readResolve" title="akka.cluster.pubsub.DistributedPubSubMediator.UnsubscribeAck">UnsubscribeAck</a>, <a title="akka.actor.ActorRef" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;Unsubscribed.subscriber">subscriber</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>
    @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
    final case class <a title="class SendToOneSubscriber extends AnyRef with Product with Serializable" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal.SendToOneSubscriber.readResolve">SendToOneSubscriber</a><a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.SendToOneSubscriber.readResolve" title="Product" class="delimiter">(</a><a title="Any" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;SendToOneSubscriber.msg">msg</a>: <span title="Any">Any</span><span class="delimiter">)</span>

    @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
    final case class <a title="class MediatorRouterEnvelope extends AnyRef with akka.routing.RouterEnvelope with Product with Serializable" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal.MediatorRouterEnvelope.readResolve">MediatorRouterEnvelope</a><span title="Product" class="delimiter">(</span><a title="Any" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;MediatorRouterEnvelope.msg">msg</a>: <span title="Any">Any</span><span class="delimiter">)</span> extends <a href="../../../../actor/akka/routing/Router.scala.html#akka.routing;RouterEnvelope" title="akka.routing.RouterEnvelope">RouterEnvelope</a> <span class="delimiter">{</span>
      override def <a title="=&gt; Any" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;MediatorRouterEnvelope.message">message</a> = <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;MediatorRouterEnvelope.msg" title="=&gt; Any">msg</a>
    <span class="delimiter">}</span>

    def <a title="(s: String)String" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal.encName">encName</a><span class="delimiter">(</span><a title="String" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal.encName.s">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <span title="java.net.URLEncoder.type">URLEncoder</span>.<span title="(x$1: String, x$2: String)String">encode</span><span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.encName.s" title="String">s</a>, <span title="String(&quot;utf-8&quot;)" class="string">&quot;utf-8&quot;</span><span class="delimiter">)</span>

    trait <a title="trait TopicLike extends AnyRef with akka.actor.Actor" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike">TopicLike</a> extends <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor" title="akka.actor.Actor">Actor</a> <span class="delimiter">{</span>
      import <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.dispatcher
      val pruneInterval: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span> = <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.emptyTimeToLive" title="=&gt; scala.concurrent.duration.FiniteDuration">emptyTimeToLive</a> <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.pruneInterval">/</a> <span title="Long(2L)" class="int">2</span>
      val <a title="akka.actor.Cancellable" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.pruneTask">pruneTask</a> = <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.scheduler" title="=&gt; akka.actor.Scheduler">scheduler</a>.<a href="../../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Scheduler.schedule(abf8206fc2)" title="(initialDelay: scala.concurrent.duration.FiniteDuration, interval: scala.concurrent.duration.FiniteDuration, receiver: akka.actor.ActorRef, message: Any)(implicit executor: scala.concurrent.ExecutionContext, implicit sender: akka.actor.ActorRef)akka.actor.Cancellable">schedule</a><a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.dispatcher" title="=&gt; scala.concurrent.ExecutionContextExecutor" class="delimiter">(</a><a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.pruneInterval" title="=&gt; scala.concurrent.duration.FiniteDuration">pruneInterval</a>, <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.pruneInterval" title="=&gt; scala.concurrent.duration.FiniteDuration">pruneInterval</a>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>, <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.Prune.readResolve" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Prune.type">Prune</a><span class="delimiter">)</span>
      var <a title="Option[scala.concurrent.duration.Deadline]" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.pruneDeadline_=">pruneDeadline</a>: <span title="Option[scala.concurrent.duration.Deadline]">Option</span><span class="delimiter">[</span>Deadline<span class="delimiter">]</span> = <span title="None.type">None</span>

      var <a title="scala.collection.immutable.Set[akka.actor.ActorRef]" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.subscribers_=">subscribers</a> = <span title="scala.collection.immutable.Set.type">Set</span>.<span title="[A]=&gt; scala.collection.immutable.Set[A]">empty</span><span title="scala.collection.immutable.Set[akka.actor.ActorRef]" class="delimiter">[</span><a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">]</span>

      val <a title="=&gt; scala.concurrent.duration.FiniteDuration" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.emptyTimeToLive">emptyTimeToLive</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span>

      override def <a title="()Unit" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.postStop">postStop</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
        super.<a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.postStop" title="()Unit">postStop</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.pruneTask" title="=&gt; akka.actor.Cancellable">pruneTask</a>.<a href="../../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Cancellable.cancel" title="()Boolean">cancel</a><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      def <a title="=&gt; TopicLike.this.Receive" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.defaultReceive">defaultReceive</a>: <span title="TopicLike.this.Receive">Receive</span> = <a title="&lt;$anon: Any =&gt; Unit&gt; extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.defaultReceive;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
        case <span title="akka.cluster.pubsub.DistributedPubSubMediator.Subscribe">msg</span> @ Subscribe<span class="delimiter">(</span>_, _, <span title="akka.actor.ActorRef">ref</span><span class="delimiter">)</span> ⇒
          <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a> <a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.watch" title="(subject: akka.actor.ActorRef)akka.actor.ActorRef">watch</a> <span title="akka.actor.ActorRef">ref</span>
          <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.subscribers_=" title="(x$1: scala.collection.immutable.Set[akka.actor.ActorRef])Unit">subscribers</a> <span title="(elem: akka.actor.ActorRef)scala.collection.immutable.Set[akka.actor.ActorRef]">+=</span> <span title="akka.actor.ActorRef">ref</span>
          <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.pruneDeadline_=" title="(x$1: Option[scala.concurrent.duration.Deadline])Unit">pruneDeadline</a> = <span title="None.type">None</span>
          <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">parent</a> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.Subscribed.readResolve" title="(ack: akka.cluster.pubsub.DistributedPubSubMediator.SubscribeAck, subscriber: akka.actor.ActorRef)akka.cluster.pubsub.DistributedPubSubMediator.Internal.Subscribed">Subscribed</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator.SubscribeAck.readResolve" title="(subscribe: akka.cluster.pubsub.DistributedPubSubMediator.Subscribe)akka.cluster.pubsub.DistributedPubSubMediator.SubscribeAck">SubscribeAck</a><span class="delimiter">(</span><span title="akka.cluster.pubsub.DistributedPubSubMediator.Subscribe">msg</span><span class="delimiter">)</span>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        case <span title="akka.cluster.pubsub.DistributedPubSubMediator.Unsubscribe">msg</span> @ Unsubscribe<span class="delimiter">(</span>_, _, <span title="akka.actor.ActorRef">ref</span><span class="delimiter">)</span> ⇒
          <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a> <a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.unwatch" title="(subject: akka.actor.ActorRef)akka.actor.ActorRef">unwatch</a> <span title="akka.actor.ActorRef">ref</span>
          <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.remove" title="(ref: akka.actor.ActorRef)Unit">remove</a><span class="delimiter">(</span><span title="akka.actor.ActorRef">ref</span><span class="delimiter">)</span>
          <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">parent</a> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.Unsubscribed.readResolve" title="(ack: akka.cluster.pubsub.DistributedPubSubMediator.UnsubscribeAck, subscriber: akka.actor.ActorRef)akka.cluster.pubsub.DistributedPubSubMediator.Internal.Unsubscribed">Unsubscribed</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator.UnsubscribeAck.readResolve" title="(unsubscribe: akka.cluster.pubsub.DistributedPubSubMediator.Unsubscribe)akka.cluster.pubsub.DistributedPubSubMediator.UnsubscribeAck">UnsubscribeAck</a><span class="delimiter">(</span><span title="akka.cluster.pubsub.DistributedPubSubMediator.Unsubscribe">msg</span><span class="delimiter">)</span>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        case Terminated<span class="delimiter">(</span><span title="akka.actor.ActorRef">ref</span><span class="delimiter">)</span> ⇒
          <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.remove" title="(ref: akka.actor.ActorRef)Unit">remove</a><span title="Boolean(true)" class="delimiter">(</span><span title="akka.actor.ActorRef">ref</span><span class="delimiter">)</span>
        case <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.Prune.readResolve" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Prune.type">Prune</a> ⇒
          for <span class="delimiter">(</span><a title="scala.concurrent.duration.Deadline" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.defaultReceive;$anonfun.applyOrElse.$anonfun.d">d</a> ← <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.pruneDeadline_=" title="(f: scala.concurrent.duration.Deadline =&gt; Unit)Unit">pruneDeadline</a> if <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.defaultReceive;$anonfun.applyOrElse.$anonfun.d" title="scala.concurrent.duration.Deadline">d</a>.<span title="()Boolean">isOverdue</span><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a> <a href="../../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.stop" title="(actor: akka.actor.ActorRef)Unit">stop</a> <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>
        case <span title="Any">msg</span> ⇒
          <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.subscribers_=" title="=&gt; scala.collection.immutable.Set[akka.actor.ActorRef]">subscribers</a> <span title="(f: akka.actor.ActorRef =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.defaultReceive;$anonfun.applyOrElse.$anonfun.x$1" title="akka.actor.ActorRef">_</a> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.forward" title="(message: Any)(implicit context: akka.actor.ActorContext)Unit">forward</a> <span title="Any">msg</span> <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      def <a title="=&gt; TopicLike.this.Receive" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.business">business</a>: <span title="TopicLike.this.Receive">Receive</span>

      def <a title="=&gt; PartialFunction[Any,Unit]" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.receive">receive</a> = <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.business" title="=&gt; TopicLike.this.Receive">business</a>.<span title="[A1, B1 &gt;: Unit](that: PartialFunction[A1,B1])PartialFunction[A1,B1]">orElse</span><span title="(that: PartialFunction[Any,Unit])PartialFunction[Any,Unit]" class="delimiter">[</span><span title="Any">Any</span>, <span title="Unit">Unit</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.defaultReceive" title="=&gt; TopicLike.this.Receive">defaultReceive</a><span class="delimiter">)</span>

      def <a title="(ref: akka.actor.ActorRef)Unit" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.remove">remove</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.remove.ref">ref</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
        if <span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.subscribers_=" title="=&gt; scala.collection.immutable.Set[akka.actor.ActorRef]">subscribers</a>.<span title="(elem: akka.actor.ActorRef)Boolean">contains</span><span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.remove.ref" title="akka.actor.ActorRef">ref</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.subscribers_=" title="(x$1: scala.collection.immutable.Set[akka.actor.ActorRef])Unit">subscribers</a> <span title="(elem: akka.actor.ActorRef)scala.collection.immutable.Set[akka.actor.ActorRef]">-=</span> <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.remove.ref" title="akka.actor.ActorRef">ref</a>
        if <span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.subscribers_=" title="=&gt; scala.collection.immutable.Set[akka.actor.ActorRef]">subscribers</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.children" title="=&gt; scala.collection.immutable.Iterable[akka.actor.ActorRef]">children</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
          <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.pruneDeadline_=" title="(x$1: Option[scala.concurrent.duration.Deadline])Unit">pruneDeadline</a> = <span title="(x: scala.concurrent.duration.Deadline)Some[scala.concurrent.duration.Deadline]">Some</span><span class="delimiter">(</span><span title="scala.concurrent.duration.Deadline.type">Deadline</span>.<span title="=&gt; scala.concurrent.duration.Deadline">now</span> <span title="(other: scala.concurrent.duration.FiniteDuration)scala.concurrent.duration.Deadline">+</span> <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.emptyTimeToLive" title="=&gt; scala.concurrent.duration.FiniteDuration">emptyTimeToLive</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    class <a title="class Topic extends AnyRef with akka.cluster.pubsub.DistributedPubSubMediator.Internal.TopicLike" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;Topic">Topic</a><a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Topic" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Topic" class="delimiter">(</a>val <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;Topic.emptyTimeToLive">emptyTimeToLive</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span>, <a title="akka.routing.RoutingLogic" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;Topic.routingLogic">routingLogic</a>: <a href="../../../../actor/akka/routing/Router.scala.html#akka.routing;RoutingLogic" title="akka.routing.RoutingLogic">RoutingLogic</a><span class="delimiter">)</span> extends <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.TopicLike">TopicLike</a> <span class="delimiter">{</span>
      def <a title="=&gt; PartialFunction[Any,Unit]" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;Topic.business">business</a> = <a title="&lt;$anon: Any =&gt; Unit&gt; extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;Topic.business;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
        case <span title="akka.cluster.pubsub.DistributedPubSubMediator.Subscribe">msg</span> @ Subscribe<span class="delimiter">(</span>_, Some<span class="delimiter">(</span><span title="String">group</span><span class="delimiter">)</span>, _<span class="delimiter">)</span> ⇒
          val <a title="String" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;Topic.business;$anonfun.applyOrElse.encGroup">encGroup</a> = <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.encName" title="(s: String)String">encName</a><span class="delimiter">(</span><span title="String">group</span><span class="delimiter">)</span>
          <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.child" title="(name: String)Option[akka.actor.ActorRef]">child</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Topic.business;$anonfun.applyOrElse.encGroup" title="String">encGroup</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
            case Some<span class="delimiter">(</span><span title="akka.actor.ActorRef">g</span><span class="delimiter">)</span> ⇒ <span title="akka.actor.ActorRef">g</span> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.forward" title="(message: Any)(implicit context: akka.actor.ActorContext)Unit">forward</a> <span title="akka.cluster.pubsub.DistributedPubSubMediator.Subscribe">msg</span>
            case <span title="None.type">None</span> ⇒
              val <span title="akka.actor.ActorRef">g</span> = <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.actorOf(874c98419a)" title="(props: akka.actor.Props, name: String)akka.actor.ActorRef">actorOf</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Props.scala.html#akka.actor.Props.apply(0870a176b3)" title="(clazz: Class[_], args: Any*)akka.actor.Props">Props</a><span class="delimiter">(</span>classOf<span title="Class[akka.cluster.pubsub.DistributedPubSubMediator.Internal.Group](classOf[akka.cluster.pubsub.DistributedPubSubMediator$$Internal$Group])" class="delimiter">[</span>Group<span class="delimiter">]</span>, <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Topic.emptyTimeToLive" title="=&gt; scala.concurrent.duration.FiniteDuration">emptyTimeToLive</a>, <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Topic.routingLogic" title="akka.routing.RoutingLogic">routingLogic</a><span class="delimiter">)</span>, name = <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Topic.business;$anonfun.applyOrElse.encGroup" title="String">encGroup</a><span class="delimiter">)</span>
              <span title="akka.actor.ActorRef">g</span> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.forward" title="(message: Any)(implicit context: akka.actor.ActorContext)Unit">forward</a> <span title="akka.cluster.pubsub.DistributedPubSubMediator.Subscribe">msg</span>
              <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a> <a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.watch" title="(subject: akka.actor.ActorRef)akka.actor.ActorRef">watch</a> <span title="akka.actor.ActorRef">g</span>
              <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">parent</a> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.RegisterTopic.readResolve" title="(topicRef: akka.actor.ActorRef)akka.cluster.pubsub.DistributedPubSubMediator.Internal.RegisterTopic">RegisterTopic</a><span class="delimiter">(</span><span title="akka.actor.ActorRef">g</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.pruneDeadline_=" title="(x$1: Option[scala.concurrent.duration.Deadline])Unit">pruneDeadline</a> = <span title="None.type">None</span>
        case <span title="akka.cluster.pubsub.DistributedPubSubMediator.Unsubscribe">msg</span> @ Unsubscribe<span class="delimiter">(</span>_, Some<span class="delimiter">(</span><span title="String">group</span><span class="delimiter">)</span>, _<span class="delimiter">)</span> ⇒
          <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.child" title="(name: String)Option[akka.actor.ActorRef]">child</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.encName" title="(s: String)String">encName</a><span class="delimiter">(</span><span title="String">group</span><span class="delimiter">)</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
            case Some<span class="delimiter">(</span><span title="akka.actor.ActorRef">g</span><span class="delimiter">)</span> ⇒ <span title="akka.actor.ActorRef">g</span> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.forward" title="(message: Any)(implicit context: akka.actor.ActorContext)Unit">forward</a> <span title="akka.cluster.pubsub.DistributedPubSubMediator.Unsubscribe">msg</span>
            case <span title="None.type">None</span>    ⇒ <span class="comment">// no such group here</span>
          <span class="delimiter">}</span>
        case <span title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Subscribed">msg</span>: <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.Subscribed.readResolve" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Subscribed">Subscribed</a> ⇒
          <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.parent" title="=&gt; akka.actor.ActorRef">parent</a> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.forward" title="(message: Any)(implicit context: akka.actor.ActorContext)Unit">forward</a> <span title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Subscribed">msg</span>
        case <span title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Unsubscribed">msg</span>: <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.Unsubscribed.readResolve" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Unsubscribed">Unsubscribed</a> ⇒
          <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.parent" title="=&gt; akka.actor.ActorRef">parent</a> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.forward" title="(message: Any)(implicit context: akka.actor.ActorContext)Unit">forward</a> <span title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Unsubscribed">msg</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    class <a title="class Group extends AnyRef with akka.cluster.pubsub.DistributedPubSubMediator.Internal.TopicLike" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;Group">Group</a><a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Group" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Group" class="delimiter">(</a>val <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;Group.emptyTimeToLive">emptyTimeToLive</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span>, <a title="akka.routing.RoutingLogic" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;Group.routingLogic">routingLogic</a>: <a href="../../../../actor/akka/routing/Router.scala.html#akka.routing;RoutingLogic" title="akka.routing.RoutingLogic">RoutingLogic</a><span class="delimiter">)</span> extends <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.TopicLike">TopicLike</a> <span class="delimiter">{</span>
      def <a title="=&gt; PartialFunction[Any,Unit]" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;Group.business">business</a> = <a title="&lt;$anon: Any =&gt; Unit&gt; extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;Group.business;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
        case SendToOneSubscriber<span class="delimiter">(</span><a title="Any" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal;Group.business;$anonfun.isDefinedAt.msg">msg</a><span class="delimiter">)</span> ⇒
          if <span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.subscribers_=" title="=&gt; scala.collection.immutable.Set[akka.actor.ActorRef]">subscribers</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
            <a href="../../../../actor/akka/routing/Router.scala.html#akka.routing;Router" title="(logic: akka.routing.RoutingLogic, routees: scala.collection.immutable.IndexedSeq[akka.routing.Routee])akka.routing.Router">Router</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Group.routingLogic" title="akka.routing.RoutingLogic">routingLogic</a>, <span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;TopicLike.subscribers_=" title="=&gt; scala.collection.immutable.Set[akka.actor.ActorRef]">subscribers</a> <span title="(f: akka.actor.ActorRef =&gt; akka.routing.ActorRefRoutee)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set[akka.actor.ActorRef],akka.routing.ActorRefRoutee,scala.collection.immutable.Set[akka.routing.ActorRefRoutee]])scala.collection.immutable.Set[akka.routing.ActorRefRoutee]">map</span> <a href="../../../../actor/akka/routing/Router.scala.html#akka.routing.ActorRefRoutee" title="akka.routing.ActorRefRoutee.type">ActorRefRoutee</a><span class="delimiter">)</span>.<span title="=&gt; Vector[akka.routing.ActorRefRoutee]">toVector</span><span class="delimiter">)</span>.<a href="../../../../actor/akka/routing/Router.scala.html#akka.routing;Router.route" title="(message: Any, sender: akka.actor.ActorRef)Unit">route</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.wrapIfNeeded" title="(v1: Any)Any">wrapIfNeeded</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Group.business;$anonfun.isDefinedAt.msg" title="Any">msg</a><span class="delimiter">)</span>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Mediator uses [[akka.routing.Router]] to send messages to multiple destinations, Router in general
     * unwraps messages from [[akka.routing.RouterEnvelope]] and sends the contents to [[akka.routing.Routee]]s.
     *
     * Using mediator services should not have an undesired effect of unwrapping messages
     * out of [[akka.routing.RouterEnvelope]]. For this reason user messages are wrapped in
     * [[MediatorRouterEnvelope]] which will be unwrapped by the [[akka.routing.Router]] leaving original
     * user message.
     */</span>
    def <a title="=&gt; Any =&gt; Any" id="akka.cluster.pubsub.DistributedPubSubMediator.Internal.wrapIfNeeded">wrapIfNeeded</a>: Any ⇒ Any = <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.wrapIfNeeded.$anonfun.x0$1" title="Any" class="delimiter">{</a>
      case <span title="akka.routing.RouterEnvelope">msg</span>: <a href="../../../../actor/akka/routing/Router.scala.html#akka.routing;RouterEnvelope" title="akka.routing.RouterEnvelope">RouterEnvelope</a> ⇒ <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.MediatorRouterEnvelope.readResolve" title="(msg: Any)akka.cluster.pubsub.DistributedPubSubMediator.Internal.MediatorRouterEnvelope">MediatorRouterEnvelope</a><span class="delimiter">(</span><span title="akka.routing.RouterEnvelope">msg</span><span class="delimiter">)</span>
      case <span title="Any">msg</span>: <span title="Any">Any</span>            ⇒ <span title="Any">msg</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span title="AnyRef" class="delimiter">}</span>

<span class="comment">/**
 * Marker trait for remote messages with special serializer.
 */</span>
trait <a title="trait DistributedPubSubMessage extends AnyRef with Serializable" id="akka.cluster.pubsub;DistributedPubSubMessage">DistributedPubSubMessage</a> extends <span title="Serializable">Serializable</span>

<span class="comment">/**
 * This actor manages a registry of actor references and replicates
 * the entries to peer actors among all cluster nodes or a group of nodes
 * tagged with a specific role.
 *
 * The `DistributedPubSubMediator` actor is supposed to be started on all nodes,
 * or all nodes with specified role, in the cluster. The mediator can be
 * started with the [[DistributedPubSub]] extension or as an ordinary actor.
 *
 * Changes are only performed in the own part of the registry and those changes
 * are versioned. Deltas are disseminated in a scalable way to other nodes with
 * a gossip protocol. The registry is eventually consistent, i.e. changes are not
 * immediately visible at other nodes, but typically they will be fully replicated
 * to all other nodes after a few seconds.
 *
 * You can send messages via the mediator on any node to registered actors on
 * any other node. There is three modes of message delivery.
 *
 * 1. [[DistributedPubSubMediator.Send]] -
 * The message will be delivered to one recipient with a matching path, if any such
 * exists in the registry. If several entries match the path the message will be sent
 * via the supplied `routingLogic` (default random) to one destination. The sender of the
 * message can specify that local affinity is preferred, i.e. the message is sent to an actor
 * in the same local actor system as the used mediator actor, if any such exists, otherwise
 * route to any other matching entry. A typical usage of this mode is private chat to one
 * other user in an instant messaging application. It can also be used for distributing
 * tasks to registered workers, like a cluster aware router where the routees dynamically
 * can register themselves.
 *
 * 2. [[DistributedPubSubMediator.SendToAll]] -
 * The message will be delivered to all recipients with a matching path. Actors with
 * the same path, without address information, can be registered on different nodes.
 * On each node there can only be one such actor, since the path is unique within one
 * local actor system. Typical usage of this mode is to broadcast messages to all replicas
 * with the same path, e.g. 3 actors on different nodes that all perform the same actions,
 * for redundancy.
 *
 * 3. [[DistributedPubSubMediator.Publish]] -
 * Actors may be registered to a named topic instead of path. This enables many subscribers
 * on each node. The message will be delivered to all subscribers of the topic. For
 * efficiency the message is sent over the wire only once per node (that has a matching topic),
 * and then delivered to all subscribers of the local topic representation. This is the
 * true pub/sub mode. A typical usage of this mode is a chat room in an instant messaging
 * application.
 *
 * 4. [[DistributedPubSubMediator.Publish]] with sendOneMessageToEachGroup -
 * Actors may be subscribed to a named topic with an optional property `group`.
 * If subscribing with a group name, each message published to a topic with the
 * `sendOneMessageToEachGroup` flag is delivered via the supplied `routingLogic`
 * (default random) to one actor within each subscribing group.
 * If all the subscribed actors have the same group name, then this works just like
 * [[DistributedPubSubMediator.Send]] and all messages are delivered to one subscribe.
 * If all the subscribed actors have different group names, then this works like normal
 * [[DistributedPubSubMediator.Publish]] and all messages are broadcast to all subscribers.
 *
 * You register actors to the local mediator with [[DistributedPubSubMediator.Put]] or
 * [[DistributedPubSubMediator.Subscribe]]. `Put` is used together with `Send` and
 * `SendToAll` message delivery modes. The `ActorRef` in `Put` must belong to the same
 * local actor system as the mediator. `Subscribe` is used together with `Publish`.
 * Actors are automatically removed from the registry when they are terminated, or you
 * can explicitly remove entries with [[DistributedPubSubMediator.Remove]] or
 * [[DistributedPubSubMediator.Unsubscribe]].
 *
 * Successful `Subscribe` and `Unsubscribe` is acknowledged with
 * [[DistributedPubSubMediator.SubscribeAck]] and [[DistributedPubSubMediator.UnsubscribeAck]]
 * replies.
 */</span>
class <a title="class DistributedPubSubMediator extends AnyRef with akka.actor.Actor with akka.actor.ActorLogging" id="akka.cluster.pubsub;DistributedPubSubMediator">DistributedPubSubMediator</a><a href="#akka.cluster.pubsub;DistributedPubSubMediator" title="akka.cluster.pubsub.DistributedPubSubMediator" class="delimiter">(</a><a title="akka.cluster.pubsub.DistributedPubSubSettings" id="akka.cluster.pubsub;DistributedPubSubMediator.settings">settings</a>: <a href="#akka.cluster.pubsub;DistributedPubSubSettings" title="akka.cluster.pubsub.DistributedPubSubSettings">DistributedPubSubSettings</a><span class="delimiter">)</span> extends <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor" title="akka.actor.Actor">Actor</a> with <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging" title="akka.actor.ActorLogging">ActorLogging</a> <span class="delimiter">{</span>

  import <a href="#akka.cluster.pubsub.DistributedPubSubMediator" title="akka.cluster.pubsub.DistributedPubSubMediator.type">DistributedPubSubMediator</a>._
  import <a href="#akka.cluster.pubsub.DistributedPubSubMediator" title="akka.cluster.pubsub.DistributedPubSubMediator.type">DistributedPubSubMediator</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.type">Internal</a>._
  import <a href="#akka.cluster.pubsub;DistributedPubSubMediator.settings" title="akka.cluster.pubsub.DistributedPubSubSettings">settings</a>._

  <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.cluster.pubsub;DistributedPubSubSettings.routingLogic" title="=&gt; akka.routing.RoutingLogic">routingLogic</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../../actor/akka/routing/ConsistentHashing.scala.html#akka.routing;ConsistentHashingRoutingLogic" title="akka.routing.ConsistentHashingRoutingLogic">ConsistentHashingRoutingLogic</a><span class="delimiter">]</span>,
    <span title="String(&quot;\'consistent-hashing\' routing logic can\'t be used by the pub-sub mediator&quot;)" class="string">&quot;'consistent-hashing' routing logic can't be used by the pub-sub mediator&quot;</span><span class="delimiter">)</span>

  val <a title="akka.cluster.Cluster" id="akka.cluster.pubsub;DistributedPubSubMediator.cluster">cluster</a> = <a href="../../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionId.apply" title="(system: akka.actor.ActorSystem)akka.cluster.Cluster">Cluster</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a><span class="delimiter">)</span>
  import <a href="#akka.cluster.pubsub;DistributedPubSubMediator.cluster" title="=&gt; akka.cluster.Cluster">cluster</a>.selfAddress

  <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubSettings.role" title="=&gt; Option[String]">role</a>.<span title="(p: String =&gt; Boolean)Boolean">forall</span><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.cluster" title="=&gt; akka.cluster.Cluster">cluster</a>.<a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.selfRoles" title="=&gt; Set[String]">selfRoles</a>.<a href="#akka.cluster.pubsub;DistributedPubSubMediator.<local DistributedPubSubMediator>.$anonfun.elem" title="(elem: String)Boolean">contains</a><span class="delimiter">)</span>,
    <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;This cluster member [&quot;)">This cluster member [$</span><span class="delimiter">{</span><a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.selfAddress" title="=&gt; akka.actor.Address">selfAddress</a><span class="delimiter">}</span><span title="String(&quot;] doesn\'t have the role [&quot;)">] doesn't have the role [$</span><a href="#akka.cluster.pubsub;DistributedPubSubSettings.role" title="=&gt; Option[String]">role</a><span title="String(&quot;]&quot;)" class="string">]&quot;</span><span class="delimiter">)</span>

  val <a title="Long" id="akka.cluster.pubsub;DistributedPubSubMediator.removedTimeToLiveMillis">removedTimeToLiveMillis</a> = <a href="#akka.cluster.pubsub;DistributedPubSubSettings.removedTimeToLive" title="=&gt; scala.concurrent.duration.FiniteDuration">removedTimeToLive</a>.<span title="=&gt; Long">toMillis</span>

  <span class="comment">//Start periodic gossip to random nodes in cluster</span>
  import <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.dispatcher
  val <a title="akka.actor.Cancellable" id="akka.cluster.pubsub;DistributedPubSubMediator.gossipTask">gossipTask</a> = <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.scheduler" title="=&gt; akka.actor.Scheduler">scheduler</a>.<a href="../../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Scheduler.schedule(abf8206fc2)" title="(initialDelay: scala.concurrent.duration.FiniteDuration, interval: scala.concurrent.duration.FiniteDuration, receiver: akka.actor.ActorRef, message: Any)(implicit executor: scala.concurrent.ExecutionContext, implicit sender: akka.actor.ActorRef)akka.actor.Cancellable">schedule</a><a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.dispatcher" title="=&gt; scala.concurrent.ExecutionContextExecutor" class="delimiter">(</a><a href="#akka.cluster.pubsub;DistributedPubSubSettings.gossipInterval" title="=&gt; scala.concurrent.duration.FiniteDuration">gossipInterval</a>, <a href="#akka.cluster.pubsub;DistributedPubSubSettings.gossipInterval" title="=&gt; scala.concurrent.duration.FiniteDuration">gossipInterval</a>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>, <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.GossipTick.readResolve" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.GossipTick.type">GossipTick</a><span class="delimiter">)</span>
  val pruneInterval: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span> = <a href="#akka.cluster.pubsub;DistributedPubSubSettings.removedTimeToLive" title="=&gt; scala.concurrent.duration.FiniteDuration">removedTimeToLive</a> <a title="scala.concurrent.duration.FiniteDuration" id="akka.cluster.pubsub;DistributedPubSubMediator.pruneInterval">/</a> <span title="Long(2L)" class="int">2</span>
  val <a title="akka.actor.Cancellable" id="akka.cluster.pubsub;DistributedPubSubMediator.pruneTask">pruneTask</a> = <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.scheduler" title="=&gt; akka.actor.Scheduler">scheduler</a>.<a href="../../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Scheduler.schedule(abf8206fc2)" title="(initialDelay: scala.concurrent.duration.FiniteDuration, interval: scala.concurrent.duration.FiniteDuration, receiver: akka.actor.ActorRef, message: Any)(implicit executor: scala.concurrent.ExecutionContext, implicit sender: akka.actor.ActorRef)akka.actor.Cancellable">schedule</a><a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.dispatcher" title="=&gt; scala.concurrent.ExecutionContextExecutor" class="delimiter">(</a><a href="#akka.cluster.pubsub;DistributedPubSubMediator.pruneInterval" title="=&gt; scala.concurrent.duration.FiniteDuration">pruneInterval</a>, <a href="#akka.cluster.pubsub;DistributedPubSubMediator.pruneInterval" title="=&gt; scala.concurrent.duration.FiniteDuration">pruneInterval</a>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>, <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.Prune.readResolve" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Prune.type">Prune</a><span class="delimiter">)</span>

  var <a title="Map[akka.actor.Address,akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket]" id="akka.cluster.pubsub;DistributedPubSubMediator.registry_=">registry</a>: <span title="Map[akka.actor.Address,akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket]">Map</span><span class="delimiter">[</span>Address, Bucket<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[akka.actor.Address,Nothing]">empty</span>.<span title="(d: akka.actor.Address =&gt; akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket)scala.collection.immutable.Map[akka.actor.Address,akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket]">withDefault</span><span class="delimiter">(</span><a title="akka.actor.Address" id="akka.cluster.pubsub;DistributedPubSubMediator.registry.$anonfun.a">a</a> ⇒ <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket.readResolve" title="(owner: akka.actor.Address, version: Long, content: scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder])akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">Bucket</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.registry.$anonfun.a" title="akka.actor.Address">a</a>, <span title="Long(0L)" class="long">0L</span>, <span title="scala.collection.immutable.TreeMap.type">TreeMap</span>.<span title="(implicit ord: Ordering[String])scala.collection.immutable.TreeMap[String,Nothing]">empty</span><span class="delimiter">)</span><span class="delimiter">)</span>
  var <a title="scala.collection.immutable.Set[akka.actor.Address]" id="akka.cluster.pubsub;DistributedPubSubMediator.nodes_=">nodes</a>: <span title="scala.collection.immutable.Set[akka.actor.Address]">Set</span><span class="delimiter">[</span>Address<span class="delimiter">]</span> = <span title="scala.collection.immutable.Set.type">Set</span>.<span title="scala.collection.immutable.Set[akka.actor.Address]">empty</span>

  <span class="comment">// the version is a timestamp because it is also used when pruning removed entries</span>
  val <a title="() =&gt; Long" id="akka.cluster.pubsub;DistributedPubSubMediator.nextVersion">nextVersion</a> = <span class="delimiter">{</span>
    var <a title="Long" id="akka.cluster.pubsub;DistributedPubSubMediator.nextVersion.version">version</a> = <span title="Long(0L)" class="long">0L</span>
    <span class="delimiter">(</span><span class="delimiter">)</span> ⇒ <span class="delimiter">{</span>
      val <a title="Long" id="akka.cluster.pubsub;DistributedPubSubMediator.nextVersion.$anonfun.current">current</a> = <span title="System.type">System</span>.<span title="()Long">currentTimeMillis</span>
      <a href="#akka.cluster.pubsub;DistributedPubSubMediator.nextVersion.version" title="Long">version</a> = if <span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.nextVersion.$anonfun.current" title="Long">current</a> <span title="(x: Long)Boolean">&gt;</span> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.nextVersion.version" title="Long">version</a><span class="delimiter">)</span> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.nextVersion.$anonfun.current" title="Long">current</a> else <a href="#akka.cluster.pubsub;DistributedPubSubMediator.nextVersion.version" title="Long">version</a> <span title="(x: Int)Long">+</span> <span title="Int(1)" class="int">1</span>
      <a href="#akka.cluster.pubsub;DistributedPubSubMediator.nextVersion.version" title="Long">version</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  override def <a title="()Unit" id="akka.cluster.pubsub;DistributedPubSubMediator.preStart">preStart</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    super.<a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.preStart" title="()Unit">preStart</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.cluster" title="=&gt; akka.cluster.Cluster">cluster</a>.<a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.isTerminated" title="=&gt; Boolean">isTerminated</a>, <span title="String(&quot;Cluster node must not be terminated&quot;)" class="string">&quot;Cluster node must not be terminated&quot;</span><span class="delimiter">)</span>
    <a href="#akka.cluster.pubsub;DistributedPubSubMediator.cluster" title="=&gt; akka.cluster.Cluster">cluster</a>.<a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.subscribe(6cfb44d410)" title="(subscriber: akka.actor.ActorRef, to: Class[_]*)Unit">subscribe</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>, classOf<span title="Class[akka.cluster.ClusterEvent.MemberEvent](classOf[akka.cluster.ClusterEvent$$MemberEvent])" class="delimiter">[</span>MemberEvent<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  override def <a title="()Unit" id="akka.cluster.pubsub;DistributedPubSubMediator.postStop">postStop</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    super.<a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.postStop" title="()Unit">postStop</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#akka.cluster.pubsub;DistributedPubSubMediator.cluster" title="=&gt; akka.cluster.Cluster">cluster</a> <a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.unsubscribe(134bd64d81)" title="(subscriber: akka.actor.ActorRef)Unit">unsubscribe</a> <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>
    <a href="#akka.cluster.pubsub;DistributedPubSubMediator.gossipTask" title="=&gt; akka.actor.Cancellable">gossipTask</a>.<a href="../../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Cancellable.cancel" title="()Boolean">cancel</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#akka.cluster.pubsub;DistributedPubSubMediator.pruneTask" title="=&gt; akka.actor.Cancellable">pruneTask</a>.<a href="../../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Cancellable.cancel" title="()Boolean">cancel</a><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(m: akka.cluster.Member)Boolean" id="akka.cluster.pubsub;DistributedPubSubMediator.matchingRole">matchingRole</a><span class="delimiter">(</span><a title="akka.cluster.Member" id="akka.cluster.pubsub;DistributedPubSubMediator.matchingRole.m">m</a>: <a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member" title="akka.cluster.Member">Member</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#akka.cluster.pubsub;DistributedPubSubSettings.role" title="=&gt; Option[String]">role</a>.<span title="(p: String =&gt; Boolean)Boolean">forall</span><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.matchingRole.m" title="akka.cluster.Member">m</a>.<a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member.hasRole" title="(role: String)Boolean">hasRole</a><span class="delimiter">)</span>

  def <a title="=&gt; PartialFunction[Any,Unit]" id="akka.cluster.pubsub;DistributedPubSubMediator.receive">receive</a> = <a title="&lt;$anon: Any =&gt; Unit&gt; extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>

    case Send<span class="delimiter">(</span><span title="String">path</span>, <span title="Any">msg</span>, <a title="Boolean" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.isDefinedAt.localAffinity">localAffinity</a><span class="delimiter">)</span> ⇒
      val <a title="Vector[akka.routing.Routee]" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.routees">routees</a> = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.registry_=" title="(key: akka.actor.Address)akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">registry</a><span class="delimiter">(</span><a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.selfAddress" title="=&gt; akka.actor.Address">selfAddress</a><span class="delimiter">)</span>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.content" title="=&gt; scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder]">content</a>.<span title="(key: String)Option[akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder]">get</span><span class="delimiter">(</span><span title="String">path</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
        case Some<span class="delimiter">(</span><a title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.routees.valueHolder">valueHolder</a><span class="delimiter">)</span> if <a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.isDefinedAt.localAffinity" title="Boolean">localAffinity</a> ⇒
          <span class="delimiter">(</span>for <span class="delimiter">{</span>
            <a title="akka.routing.Routee" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.routees.$anonfun.routee">routee</a> ← <a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.routees.valueHolder" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder">valueHolder</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;ValueHolder.routee" title="(f: akka.routing.Routee =&gt; akka.routing.Routee)Option[akka.routing.Routee]">routee</a>
          <span class="delimiter">}</span> yield <a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.routees.$anonfun.routee" title="akka.routing.Routee">routee</a><span class="delimiter">)</span>.<span title="=&gt; Vector[akka.routing.Routee]">toVector</span>
        case _ ⇒
          <span class="delimiter">(</span>for <span class="delimiter">{</span>
            <span class="delimiter">(</span>_, <a title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.routees.$anonfun.bucket">bucket</a><span class="delimiter">)</span> ← <a href="#akka.cluster.pubsub;DistributedPubSubMediator.registry_=" title="(f: ((akka.actor.Address, akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket)) =&gt; scala.collection.GenTraversableOnce[akka.routing.Routee])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[akka.actor.Address,akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket],akka.routing.Routee,scala.collection.immutable.Iterable[akka.routing.Routee]])scala.collection.immutable.Iterable[akka.routing.Routee]">registry</a>
            <a title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.routees.$anonfun.$anonfun.valueHolder">valueHolder</a> ← <a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.routees.$anonfun.bucket" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">bucket</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.content" title="=&gt; scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder]">content</a>.<span title="(key: String)Option[akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder]">get</span><span title="(f: akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder =&gt; Option[akka.routing.Routee])Option[akka.routing.Routee]" class="delimiter">(</span><span title="String">path</span><span class="delimiter">)</span>
            <a title="akka.routing.Routee" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.routees.$anonfun.$anonfun.$anonfun.routee">routee</a> ← <a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.routees.$anonfun.$anonfun.valueHolder" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder">valueHolder</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;ValueHolder.routee" title="(f: akka.routing.Routee =&gt; akka.routing.Routee)Option[akka.routing.Routee]">routee</a>
          <span class="delimiter">}</span> yield <a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.routees.$anonfun.$anonfun.$anonfun.routee" title="akka.routing.Routee">routee</a><span class="delimiter">)</span>.<span title="=&gt; Vector[akka.routing.Routee]">toVector</span>
      <span class="delimiter">}</span>

      if <span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.routees" title="Vector[akka.routing.Routee]">routees</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
        <a href="../../../../actor/akka/routing/Router.scala.html#akka.routing;Router" title="(logic: akka.routing.RoutingLogic, routees: scala.collection.immutable.IndexedSeq[akka.routing.Routee])akka.routing.Router">Router</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubSettings.routingLogic" title="=&gt; akka.routing.RoutingLogic">routingLogic</a>, <a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.routees" title="Vector[akka.routing.Routee]">routees</a><span class="delimiter">)</span>.<a href="../../../../actor/akka/routing/Router.scala.html#akka.routing;Router.route" title="(message: Any, sender: akka.actor.ActorRef)Unit">route</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.wrapIfNeeded" title="(v1: Any)Any">wrapIfNeeded</a><span class="delimiter">(</span><span title="Any">msg</span><span class="delimiter">)</span>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

    case SendToAll<span class="delimiter">(</span><span title="String">path</span>, <span title="Any">msg</span>, <a title="Boolean" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.isDefinedAt.skipSenderNode">skipSenderNode</a><span class="delimiter">)</span> ⇒
      <a href="#akka.cluster.pubsub;DistributedPubSubMediator.publish" title="(path: String, msg: Any, allButSelf: Boolean)Unit">publish</a><span title="Boolean(true)" class="delimiter">(</span><span title="String">path</span>, <span title="Any">msg</span>, <a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.isDefinedAt.skipSenderNode" title="Boolean">skipSenderNode</a><span class="delimiter">)</span>

    case Publish<span class="delimiter">(</span><span title="String">topic</span>, <span title="Any">msg</span>, <a title="Boolean" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.isDefinedAt.sendOneMessageToEachGroup">sendOneMessageToEachGroup</a><span class="delimiter">)</span> ⇒
      if <span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.isDefinedAt.sendOneMessageToEachGroup" title="Boolean">sendOneMessageToEachGroup</a><span class="delimiter">)</span>
        <a href="#akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup" title="(path: String, msg: Any)Unit">publishToEachGroup</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.mkKey(f87b15ac50)" title="(path: akka.actor.ActorPath)String">mkKey</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a> <a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath./(833cf8d176)" title="(child: String)akka.actor.ActorPath">/</a> <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.encName" title="(s: String)String">encName</a><span class="delimiter">(</span><span title="String">topic</span><span class="delimiter">)</span><span class="delimiter">)</span>, <span title="Any">msg</span><span class="delimiter">)</span>
      else
        <a href="#akka.cluster.pubsub;DistributedPubSubMediator.publish" title="(path: String, msg: Any, allButSelf: Boolean)Unit">publish</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.mkKey(f87b15ac50)" title="(path: akka.actor.ActorPath)String">mkKey</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a> <a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath./(833cf8d176)" title="(child: String)akka.actor.ActorPath">/</a> <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.encName" title="(s: String)String">encName</a><span class="delimiter">(</span><span title="String">topic</span><span class="delimiter">)</span><span class="delimiter">)</span>, <span title="Any">msg</span><span class="delimiter">)</span>

    case Put<span class="delimiter">(</span><span title="akka.actor.ActorRef">ref</span>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span> ⇒
      if <span class="delimiter">(</span><span title="akka.actor.ActorRef">ref</span>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a>.<a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath.address" title="=&gt; akka.actor.Address">address</a>.<a href="../../../../actor/akka/actor/Address.scala.html#akka.actor;Address.hasGlobalScope" title="=&gt; Boolean">hasGlobalScope</a><span class="delimiter">)</span>
        <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorLogging.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.warning(dc73c33c91)" title="(template: String, arg1: Any)Unit">warning</a><span class="delimiter">(</span><span title="String(&quot;Registered actor must be local: [{}]&quot;)" class="string">&quot;Registered actor must be local: [{}]&quot;</span>, <span title="akka.actor.ActorRef">ref</span><span class="delimiter">)</span>
      else <span class="delimiter">{</span>
        <a href="#akka.cluster.pubsub;DistributedPubSubMediator.put" title="(key: String, valueOption: Option[akka.actor.ActorRef])Unit">put</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.mkKey(a10a48160f)" title="(ref: akka.actor.ActorRef)String">mkKey</a><span class="delimiter">(</span><span title="akka.actor.ActorRef">ref</span><span class="delimiter">)</span>, <span title="(x: akka.actor.ActorRef)Some[akka.actor.ActorRef]">Some</span><span class="delimiter">(</span><span title="akka.actor.ActorRef">ref</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.watch" title="(subject: akka.actor.ActorRef)akka.actor.ActorRef">watch</a><span title="Unit" class="delimiter">(</span><span title="akka.actor.ActorRef">ref</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    case Remove<span class="delimiter">(</span><a title="String" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.isDefinedAt.key">key</a><span class="delimiter">)</span> ⇒
      <a href="#akka.cluster.pubsub;DistributedPubSubMediator.registry_=" title="(key: akka.actor.Address)akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">registry</a><span class="delimiter">(</span><a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.selfAddress" title="=&gt; akka.actor.Address">selfAddress</a><span class="delimiter">)</span>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.content" title="=&gt; scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder]">content</a>.<span title="(key: String)Option[akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder]">get</span><span class="delimiter">(</span><span title="String">key</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
        case Some<span class="delimiter">(</span>ValueHolder<span class="delimiter">(</span>_, Some<span class="delimiter">(</span><span title="akka.actor.ActorRef">ref</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> ⇒
          <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.unwatch" title="(subject: akka.actor.ActorRef)akka.actor.ActorRef">unwatch</a><span class="delimiter">(</span><span title="akka.actor.ActorRef">ref</span><span class="delimiter">)</span>
          <a href="#akka.cluster.pubsub;DistributedPubSubMediator.put" title="(key: String, valueOption: Option[akka.actor.ActorRef])Unit">put</a><span class="delimiter">(</span><span title="String">key</span>, <span title="None.type">None</span><span class="delimiter">)</span>
        case _ ⇒
      <span class="delimiter">}</span>

    case <span title="akka.cluster.pubsub.DistributedPubSubMediator.Subscribe">msg</span> @ Subscribe<span class="delimiter">(</span><span title="String">topic</span>, _, _<span class="delimiter">)</span> ⇒
      <span class="comment">// each topic is managed by a child actor with the same name as the topic</span>
      val <a title="String" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.encTopic">encTopic</a> = <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.encName" title="(s: String)String">encName</a><span class="delimiter">(</span><span title="String">topic</span><span class="delimiter">)</span>
      <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.child" title="(name: String)Option[akka.actor.ActorRef]">child</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.encTopic" title="String">encTopic</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
        case Some<span class="delimiter">(</span><span title="akka.actor.ActorRef">t</span><span class="delimiter">)</span> ⇒ <span title="akka.actor.ActorRef">t</span> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.forward" title="(message: Any)(implicit context: akka.actor.ActorContext)Unit">forward</a> <span title="akka.cluster.pubsub.DistributedPubSubMediator.Subscribe">msg</span>
        case <span title="None.type">None</span> ⇒
          val <span title="akka.actor.ActorRef">t</span> = <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.actorOf(874c98419a)" title="(props: akka.actor.Props, name: String)akka.actor.ActorRef">actorOf</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Props.scala.html#akka.actor.Props.apply(0870a176b3)" title="(clazz: Class[_], args: Any*)akka.actor.Props">Props</a><span class="delimiter">(</span>classOf<span title="Class[akka.cluster.pubsub.DistributedPubSubMediator.Internal.Topic](classOf[akka.cluster.pubsub.DistributedPubSubMediator$$Internal$Topic])" class="delimiter">[</span>Topic<span class="delimiter">]</span>, <a href="#akka.cluster.pubsub;DistributedPubSubSettings.removedTimeToLive" title="=&gt; scala.concurrent.duration.FiniteDuration">removedTimeToLive</a>, <a href="#akka.cluster.pubsub;DistributedPubSubSettings.routingLogic" title="=&gt; akka.routing.RoutingLogic">routingLogic</a><span class="delimiter">)</span>, name = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.encTopic" title="String">encTopic</a><span class="delimiter">)</span>
          <span title="akka.actor.ActorRef">t</span> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.forward" title="(message: Any)(implicit context: akka.actor.ActorContext)Unit">forward</a> <span title="akka.cluster.pubsub.DistributedPubSubMediator.Subscribe">msg</span>
          <a href="#akka.cluster.pubsub;DistributedPubSubMediator.registerTopic" title="(ref: akka.actor.ActorRef)Unit">registerTopic</a><span class="delimiter">(</span><span title="akka.actor.ActorRef">t</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    case <span title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.RegisterTopic">msg</span> @ RegisterTopic<span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.isDefinedAt.t">t</a><span class="delimiter">)</span> ⇒
      <a href="#akka.cluster.pubsub;DistributedPubSubMediator.registerTopic" title="(ref: akka.actor.ActorRef)Unit">registerTopic</a><span title="Boolean(true)" class="delimiter">(</span><span title="akka.actor.ActorRef">t</span><span class="delimiter">)</span>

    case <a href="#akka.cluster.pubsub.DistributedPubSubMediator.GetTopics.readResolve" title="akka.cluster.pubsub.DistributedPubSubMediator.GetTopics.type">GetTopics</a> ⇒ <span class="delimiter">{</span>
      <a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">sender</a> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.pubsub.DistributedPubSubMediator.CurrentTopics.readResolve" title="(topics: scala.collection.immutable.Set[String])akka.cluster.pubsub.DistributedPubSubMediator.CurrentTopics">CurrentTopics</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.getCurrentTopics" title="()scala.collection.immutable.Set[String]">getCurrentTopics</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    case <span title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Subscribed">msg</span> @ Subscribed<span class="delimiter">(</span><span title="akka.cluster.pubsub.DistributedPubSubMediator.SubscribeAck">ack</span>, <span title="akka.actor.ActorRef">ref</span><span class="delimiter">)</span> ⇒
      <a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">ref</a> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <span title="akka.cluster.pubsub.DistributedPubSubMediator.SubscribeAck">ack</span>

    case <span title="akka.cluster.pubsub.DistributedPubSubMediator.Unsubscribe">msg</span> @ Unsubscribe<span class="delimiter">(</span><span title="String">topic</span>, _, _<span class="delimiter">)</span> ⇒
      <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.child" title="(name: String)Option[akka.actor.ActorRef]">child</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.encName" title="(s: String)String">encName</a><span class="delimiter">(</span><span title="String">topic</span><span class="delimiter">)</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
        case Some<span class="delimiter">(</span><span title="akka.actor.ActorRef">t</span><span class="delimiter">)</span> ⇒ <span title="akka.actor.ActorRef">t</span> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.forward" title="(message: Any)(implicit context: akka.actor.ActorContext)Unit">forward</a> <span title="akka.cluster.pubsub.DistributedPubSubMediator.Unsubscribe">msg</span>
        case <span title="None.type">None</span>    ⇒ <span class="comment">// no such topic here</span>
      <span class="delimiter">}</span>

    case <span title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Unsubscribed">msg</span> @ Unsubscribed<span class="delimiter">(</span><span title="akka.cluster.pubsub.DistributedPubSubMediator.UnsubscribeAck">ack</span>, <span title="akka.actor.ActorRef">ref</span><span class="delimiter">)</span> ⇒
      <a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">ref</a> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <span title="akka.cluster.pubsub.DistributedPubSubMediator.UnsubscribeAck">ack</span>

    case Status<span class="delimiter">(</span><a title="Map[akka.actor.Address,Long]" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.isDefinedAt.otherVersions">otherVersions</a><span class="delimiter">)</span> ⇒
      <span class="comment">// gossip chat starts with a Status message, containing the bucket versions of the other node</span>
      val <a title="scala.collection.immutable.Iterable[akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket]" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.delta">delta</a> = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.collectDelta" title="(otherVersions: Map[akka.actor.Address,Long])scala.collection.immutable.Iterable[akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket]">collectDelta</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.isDefinedAt.otherVersions" title="Map[akka.actor.Address,Long]">otherVersions</a><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.delta" title="scala.collection.immutable.Iterable[akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket]">delta</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
        <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef" class="delimiter">(</a><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.Delta.readResolve" title="(buckets: scala.collection.immutable.Iterable[akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket])akka.cluster.pubsub.DistributedPubSubMediator.Internal.Delta">Delta</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.delta" title="scala.collection.immutable.Iterable[akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket]">delta</a><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.otherHasNewerVersions" title="(otherVersions: Map[akka.actor.Address,Long])Boolean">otherHasNewerVersions</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.isDefinedAt.otherVersions" title="Map[akka.actor.Address,Long]">otherVersions</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef" class="delimiter">(</a><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.Status.readResolve" title="(versions: Map[akka.actor.Address,Long])akka.cluster.pubsub.DistributedPubSubMediator.Internal.Status">Status</a><span class="delimiter">(</span>versions = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.myVersions" title="=&gt; Map[akka.actor.Address,Long]">myVersions</a><span class="delimiter">)</span> <span class="comment">// it will reply with Delta</span>

    case Delta<span class="delimiter">(</span><a title="scala.collection.immutable.Iterable[akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket]" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.isDefinedAt.buckets">buckets</a><span class="delimiter">)</span> ⇒
      <span class="comment">// reply from Status message in the gossip chat</span>
      <span class="comment">// the Delta contains potential updates (newer versions) from the other node</span>
      <span class="comment">// only accept deltas/buckets from known nodes, otherwise there is a risk of</span>
      <span class="comment">// adding back entries when nodes are removed</span>
      if <span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.nodes_=" title="(elem: akka.actor.Address)Boolean">nodes</a><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a>.<a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath.address" title="=&gt; akka.actor.Address">address</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.isDefinedAt.buckets" title="scala.collection.immutable.Iterable[akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket]">buckets</a> <span title="(f: akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.$anonfun.b">b</a> ⇒
          if <span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.nodes_=" title="(elem: akka.actor.Address)Boolean">nodes</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.$anonfun.b" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">b</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.owner" title="=&gt; akka.actor.Address">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            val <a title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.$anonfun.myBucket">myBucket</a> = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.registry_=" title="(key: akka.actor.Address)akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">registry</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.$anonfun.b" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">b</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.owner" title="=&gt; akka.actor.Address">owner</a><span class="delimiter">)</span>
            if <span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.$anonfun.b" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">b</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.version" title="=&gt; Long">version</a> <span title="(x: Long)Boolean">&gt;</span> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.$anonfun.myBucket" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">myBucket</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.version" title="=&gt; Long">version</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#akka.cluster.pubsub;DistributedPubSubMediator.registry_=" title="(x$1: Map[akka.actor.Address,akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket])Unit">registry</a> <span title="(kv: (akka.actor.Address, akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket))scala.collection.immutable.Map[akka.actor.Address,akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket]">+=</span> <span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.$anonfun.b" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">b</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.owner" title="(self: akka.actor.Address)ArrowAssoc[akka.actor.Address]">owner</a> <span title="(y: akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket)(akka.actor.Address, akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket)">-&gt;</span> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.$anonfun.myBucket" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">myBucket</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.owner" title="akka.actor.Address" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.$anonfun.x$37">copy</a><span class="delimiter">(</span>version = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.$anonfun.b" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">b</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.version" title="Long" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.$anonfun.x$35">version</a>, content = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.$anonfun.myBucket" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">myBucket</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.content" title="=&gt; scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder]">content</a> <a title="scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.$anonfun.x$36">++</a> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.$anonfun.b" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">b</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.content" title="=&gt; scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder]">content</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    case <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.GossipTick.readResolve" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.GossipTick.type">GossipTick</a> ⇒ <a href="#akka.cluster.pubsub;DistributedPubSubMediator.gossip" title="()Unit">gossip</a><span title="Boolean(true)" class="delimiter">(</span><span class="delimiter">)</span>

    case <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.Prune.readResolve" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Prune.type">Prune</a>      ⇒ <a href="#akka.cluster.pubsub;DistributedPubSubMediator.prune" title="()Unit">prune</a><span title="Boolean(true)" class="delimiter">(</span><span class="delimiter">)</span>

    case Terminated<span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.isDefinedAt.a">a</a><span class="delimiter">)</span> ⇒
      val <span title="String">key</span> = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.mkKey(a10a48160f)" title="(ref: akka.actor.ActorRef)String">mkKey</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.isDefinedAt.a" title="akka.actor.ActorRef">a</a><span class="delimiter">)</span>
      <a href="#akka.cluster.pubsub;DistributedPubSubMediator.registry_=" title="(key: akka.actor.Address)akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">registry</a><span class="delimiter">(</span><a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.selfAddress" title="=&gt; akka.actor.Address">selfAddress</a><span class="delimiter">)</span>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.content" title="=&gt; scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder]">content</a>.<span title="(key: String)Option[akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder]">get</span><span class="delimiter">(</span><span title="String">key</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
        case Some<span class="delimiter">(</span>ValueHolder<span class="delimiter">(</span>_, Some<span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.isDefinedAt.a" title="akka.actor.ActorRef">`a`</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> ⇒
          <span class="comment">// remove</span>
          <a href="#akka.cluster.pubsub;DistributedPubSubMediator.put" title="(key: String, valueOption: Option[akka.actor.ActorRef])Unit">put</a><span class="delimiter">(</span><span title="String">key</span>, <span title="None.type">None</span><span class="delimiter">)</span>
        case _ ⇒
      <span class="delimiter">}</span>

    case <a title="akka.cluster.ClusterEvent.CurrentClusterState" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.isDefinedAt.state">state</a>: <a href="../../../../cluster/akka/cluster/ClusterEvent.scala.html#akka.cluster.ClusterEvent;CurrentClusterState" title="akka.cluster.ClusterEvent.CurrentClusterState">CurrentClusterState</a> ⇒
      <a href="#akka.cluster.pubsub;DistributedPubSubMediator.nodes_=" title="(x$1: scala.collection.immutable.Set[akka.actor.Address])Unit">nodes</a> = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.isDefinedAt.state" title="akka.cluster.ClusterEvent.CurrentClusterState">state</a>.<a href="../../../../cluster/akka/cluster/ClusterEvent.scala.html#akka.cluster.ClusterEvent;CurrentClusterState.members" title="=&gt; scala.collection.immutable.SortedSet[akka.cluster.Member]">members</a>.<span title="(pf: PartialFunction[akka.cluster.Member,akka.actor.Address])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.SortedSet[akka.cluster.Member],akka.actor.Address,scala.collection.immutable.Set[akka.actor.Address]])scala.collection.immutable.Set[akka.actor.Address]">collect</span> <a title="&lt;$anon: akka.cluster.Member =&gt; akka.actor.Address&gt; extends scala.runtime.AbstractPartialFunction[akka.cluster.Member,akka.actor.Address] with Serializable" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
        case <a title="akka.cluster.Member" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse;$anonfun.isDefinedAt.m">m</a> if <a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse;$anonfun.isDefinedAt.m" title="akka.cluster.Member">m</a>.<a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member.status" title="=&gt; akka.cluster.MemberStatus">status</a> <span title="(x$1: Any)Boolean">!=</span> <a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster.MemberStatus" title="akka.cluster.MemberStatus.type">MemberStatus</a>.<a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster.MemberStatus.Joining" title="akka.cluster.MemberStatus.Joining.type">Joining</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.matchingRole" title="(m: akka.cluster.Member)Boolean">matchingRole</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse;$anonfun.isDefinedAt.m" title="akka.cluster.Member">m</a><span class="delimiter">)</span> ⇒ <a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse;$anonfun.isDefinedAt.m" title="akka.cluster.Member">m</a>.<a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member.address" title="=&gt; akka.actor.Address">address</a>
      <span class="delimiter">}</span>

    case MemberUp<span class="delimiter">(</span><span title="akka.cluster.Member">m</span><span class="delimiter">)</span> ⇒
      if <span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.matchingRole" title="(m: akka.cluster.Member)Boolean">matchingRole</a><span class="delimiter">(</span><span title="akka.cluster.Member">m</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#akka.cluster.pubsub;DistributedPubSubMediator.nodes_=" title="(x$1: scala.collection.immutable.Set[akka.actor.Address])Unit">nodes</a> <span title="(elem: akka.actor.Address)scala.collection.immutable.Set[akka.actor.Address]">+=</span> <span title="akka.cluster.Member">m</span>.<a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member.address" title="=&gt; akka.actor.Address">address</a>

    case MemberRemoved<span class="delimiter">(</span><span title="akka.cluster.Member">m</span>, _<span class="delimiter">)</span> ⇒
      if <span class="delimiter">(</span><span title="akka.cluster.Member">m</span>.<a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member.address" title="=&gt; akka.actor.Address">address</a> <span title="(x$1: Any)Boolean">==</span> <a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.selfAddress" title="=&gt; akka.actor.Address">selfAddress</a><span class="delimiter">)</span>
        <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a> <a href="../../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.stop" title="(actor: akka.actor.ActorRef)Unit">stop</a> <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>
      else if <span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.matchingRole" title="(m: akka.cluster.Member)Boolean">matchingRole</a><span class="delimiter">(</span><span title="akka.cluster.Member">m</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#akka.cluster.pubsub;DistributedPubSubMediator.nodes_=" title="(x$1: scala.collection.immutable.Set[akka.actor.Address])Unit">nodes</a> <span title="(elem: akka.actor.Address)scala.collection.immutable.Set[akka.actor.Address]">-=</span> <span title="akka.cluster.Member">m</span>.<a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member.address" title="=&gt; akka.actor.Address">address</a>
        <a href="#akka.cluster.pubsub;DistributedPubSubMediator.registry_=" title="(x$1: Map[akka.actor.Address,akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket])Unit">registry</a> <span title="(key: akka.actor.Address)scala.collection.immutable.Map[akka.actor.Address,akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket]">-=</span> <span title="akka.cluster.Member">m</span>.<a href="../../../../cluster/akka/cluster/Member.scala.html#akka.cluster;Member.address" title="=&gt; akka.actor.Address">address</a>
      <span class="delimiter">}</span>

    case _: <a href="../../../../cluster/akka/cluster/ClusterEvent.scala.html#akka.cluster.ClusterEvent;MemberEvent" title="akka.cluster.ClusterEvent.MemberEvent">MemberEvent</a> ⇒ <span class="comment">// not of interest</span>

    case <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Count.readResolve" title="akka.cluster.pubsub.DistributedPubSubMediator.Count.type">Count</a> ⇒
      val <a title="Int" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.count">count</a> = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.registry_=" title="=&gt; Map[akka.actor.Address,akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket]">registry</a>.<span title="(f: ((akka.actor.Address, akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket)) =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[akka.actor.Address,akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket],Int,scala.collection.immutable.Iterable[Int]])scala.collection.immutable.Iterable[Int]">map</span> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.count.$anonfun.x0$2" title="Int" class="delimiter">{</a>
        case <span class="delimiter">(</span><a title="akka.actor.Address" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.count.$anonfun.owner">owner</a>, <a title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.count.$anonfun.bucket">bucket</a><span class="delimiter">)</span> ⇒ <a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.count.$anonfun.bucket" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">bucket</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.content" title="=&gt; scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder]">content</a>.<span title="(p: ((String, akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder)) =&gt; Boolean)Int">count</span> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.count.$anonfun.$anonfun.x0$3" title="Boolean" class="delimiter">{</a>
          case <span class="delimiter">(</span>_, <a title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder" id="akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.count.$anonfun.$anonfun.valueHolder">valueHolder</a><span class="delimiter">)</span> ⇒ <a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.count.$anonfun.$anonfun.valueHolder" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder">valueHolder</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;ValueHolder.ref" title="=&gt; Option[akka.actor.ActorRef]">ref</a>.<span title="=&gt; Boolean">isDefined</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>.<span title="(implicit num: Numeric[Int])Int">sum</span>
      <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><a href="../../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef" class="delimiter">(</a><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.receive;$anonfun.applyOrElse.count" title="Int">count</a>
  <span class="delimiter">}</span>

  def <a title="(path: String, msg: Any, allButSelf: Boolean)Unit" id="akka.cluster.pubsub;DistributedPubSubMediator.publish">publish</a><span class="delimiter">(</span><a title="String" id="akka.cluster.pubsub;DistributedPubSubMediator.publish.path">path</a>: <span title="String">String</span>, <a title="Any" id="akka.cluster.pubsub;DistributedPubSubMediator.publish.msg">msg</a>: <span title="Any">Any</span>, <a title="Boolean" id="akka.cluster.pubsub;DistributedPubSubMediator.publish$default$3">allButSelf</a>: <span title="Boolean">Boolean</span> = false<span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    for <span class="delimiter">{</span>
      <span class="delimiter">(</span><a title="akka.actor.Address" id="akka.cluster.pubsub;DistributedPubSubMediator.publish.$anonfun.address">address</a>, <a title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket" id="akka.cluster.pubsub;DistributedPubSubMediator.publish.$anonfun.bucket">bucket</a><span class="delimiter">)</span> ← <a href="#akka.cluster.pubsub;DistributedPubSubMediator.registry_=" title="(f: ((akka.actor.Address, akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket)) =&gt; Unit)Unit">registry</a>
      if <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.publish$default$3" title="Boolean">allButSelf</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.publish.$anonfun.address" title="akka.actor.Address">address</a> <span title="(x$1: Any)Boolean">==</span> <a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.selfAddress" title="=&gt; akka.actor.Address">selfAddress</a><span class="delimiter">)</span> <span class="comment">// if we should skip sender() node and current address == self address =&gt; skip</span>
      <a title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder" id="akka.cluster.pubsub;DistributedPubSubMediator.publish.$anonfun.$anonfun.valueHolder">valueHolder</a> ← <a href="#akka.cluster.pubsub;DistributedPubSubMediator.publish.$anonfun.bucket" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">bucket</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.content" title="=&gt; scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder]">content</a>.<span title="(key: String)Option[akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder]">get</span><span title="(f: akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder =&gt; Unit)Unit" class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.publish.path" title="String">path</a><span class="delimiter">)</span>
      <a title="akka.actor.ActorRef" id="akka.cluster.pubsub;DistributedPubSubMediator.publish.$anonfun.$anonfun.$anonfun.ref">ref</a> ← <a href="#akka.cluster.pubsub;DistributedPubSubMediator.publish.$anonfun.$anonfun.valueHolder" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder">valueHolder</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;ValueHolder.ref" title="(f: akka.actor.ActorRef =&gt; Unit)Unit">ref</a>
    <span class="delimiter">}</span> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.publish.$anonfun.$anonfun.$anonfun.ref" title="akka.actor.ActorRef">ref</a> <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.forward" title="(message: Any)(implicit context: akka.actor.ActorContext)Unit">forward</a> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.publish.msg" title="Any">msg</a>
  <span class="delimiter">}</span>

  def <a title="(path: String, msg: Any)Unit" id="akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup">publishToEachGroup</a><span class="delimiter">(</span><a title="String" id="akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.path">path</a>: <span title="String">String</span>, <a title="Any" id="akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.msg">msg</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    val prefix = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.path" title="String">path</a> <a title="String" id="akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.prefix">+</a> <span title="Char('/')" class="char">'/'</span>
    val lastKey = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.path" title="String">path</a> <a title="String" id="akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.lastKey">+</a> <span title="Char('0')" class="char">'0'</span> <span class="comment">// '0' is the next char of '/'</span>
    val <a title="Iterable[Seq[(String, akka.routing.Routee)]]" id="akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.groups">groups</a> = <span class="delimiter">(</span>for <span class="delimiter">{</span>
      <span class="delimiter">(</span>_, <a title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket" id="akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.groups.$anonfun.bucket">bucket</a><span class="delimiter">)</span> ← <a href="#akka.cluster.pubsub;DistributedPubSubMediator.registry_=" title="=&gt; Map[akka.actor.Address,akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket]">registry</a>.<a href="#akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.groups.$anonfun.check$ifrefutable$3" title="(f: ((akka.actor.Address, akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket)) =&gt; scala.collection.GenTraversableOnce[(String, akka.routing.Routee)])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[(akka.actor.Address, akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket)],(String, akka.routing.Routee),Seq[(String, akka.routing.Routee)]])Seq[(String, akka.routing.Routee)]">toSeq</a>
      <a title="String" id="akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.groups.$anonfun.$anonfun.key">key</a> ← <a href="#akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.groups.$anonfun.bucket" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">bucket</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.content" title="=&gt; scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder]">content</a>.<span title="(from: String, until: String)scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder]">range</span><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.prefix" title="String">prefix</a>, <a href="#akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.lastKey" title="String">lastKey</a><span class="delimiter">)</span>.<span title="(f: String =&gt; scala.collection.GenTraversableOnce[(String, akka.routing.Routee)])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[String],(String, akka.routing.Routee),Iterable[(String, akka.routing.Routee)]])Iterable[(String, akka.routing.Routee)]">keys</span>
      <a title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder" id="akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.groups.$anonfun.$anonfun.$anonfun.valueHolder">valueHolder</a> ← <a href="#akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.groups.$anonfun.bucket" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">bucket</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.content" title="=&gt; scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder]">content</a>.<span title="(key: String)Option[akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder]">get</span><span title="(f: akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder =&gt; Option[(String, akka.routing.Routee)])Option[(String, akka.routing.Routee)]" class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.groups.$anonfun.$anonfun.key" title="String">key</a><span class="delimiter">)</span>
      <a title="akka.routing.Routee" id="akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.groups.$anonfun.$anonfun.$anonfun.$anonfun.ref">ref</a> ← <a href="#akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.groups.$anonfun.$anonfun.$anonfun.valueHolder" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder">valueHolder</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;ValueHolder.routee" title="(f: akka.routing.Routee =&gt; (String, akka.routing.Routee))Option[(String, akka.routing.Routee)]">routee</a>
    <span class="delimiter">}</span> yield <span title="(_1: String, _2: akka.routing.Routee)(String, akka.routing.Routee)" class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.groups.$anonfun.$anonfun.key" title="String">key</a>, <a href="#akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.groups.$anonfun.$anonfun.$anonfun.$anonfun.ref" title="akka.routing.Routee">ref</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: ((String, akka.routing.Routee)) =&gt; String)scala.collection.immutable.Map[String,Seq[(String, akka.routing.Routee)]]">groupBy</span><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.groups.$anonfun.x$6" title="(String, akka.routing.Routee)">_</a>.<span title="=&gt; String">_1</span><span class="delimiter">)</span>.<span title="=&gt; Iterable[Seq[(String, akka.routing.Routee)]]">values</span>

    val <a title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.SendToOneSubscriber" id="akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.wrappedMsg">wrappedMsg</a> = <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.SendToOneSubscriber.readResolve" title="(msg: Any)akka.cluster.pubsub.DistributedPubSubMediator.Internal.SendToOneSubscriber">SendToOneSubscriber</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.msg" title="Any">msg</a><span class="delimiter">)</span>
    <a href="#akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.groups" title="Iterable[Seq[(String, akka.routing.Routee)]]">groups</a> <span title="(f: Seq[(String, akka.routing.Routee)] =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span>
      <a title="Seq[(String, akka.routing.Routee)]" id="akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.$anonfun.group">group</a> ⇒
        val <a title="Vector[akka.routing.Routee]" id="akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.$anonfun.routees">routees</a> = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.$anonfun.group" title="Seq[(String, akka.routing.Routee)]">group</a>.<span title="(f: ((String, akka.routing.Routee)) =&gt; akka.routing.Routee)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[(String, akka.routing.Routee)],akka.routing.Routee,Seq[akka.routing.Routee]])Seq[akka.routing.Routee]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,akka.routing.Routee,Seq[akka.routing.Routee]]" class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.$anonfun.routees.$anonfun.x$7" title="(String, akka.routing.Routee)">_</a>.<span title="=&gt; akka.routing.Routee">_2</span><span class="delimiter">)</span>.<span title="=&gt; Vector[akka.routing.Routee]">toVector</span>
        if <span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.$anonfun.routees" title="Vector[akka.routing.Routee]">routees</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
          <a href="../../../../actor/akka/routing/Router.scala.html#akka.routing;Router" title="(logic: akka.routing.RoutingLogic, routees: scala.collection.immutable.IndexedSeq[akka.routing.Routee])akka.routing.Router">Router</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubSettings.routingLogic" title="=&gt; akka.routing.RoutingLogic">routingLogic</a>, <a href="#akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.$anonfun.routees" title="Vector[akka.routing.Routee]">routees</a><span class="delimiter">)</span>.<a href="../../../../actor/akka/routing/Router.scala.html#akka.routing;Router.route" title="(message: Any, sender: akka.actor.ActorRef)Unit">route</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.publishToEachGroup.wrappedMsg" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.SendToOneSubscriber">wrappedMsg</a>, <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(key: String, valueOption: Option[akka.actor.ActorRef])Unit" id="akka.cluster.pubsub;DistributedPubSubMediator.put">put</a><span class="delimiter">(</span><a title="String" id="akka.cluster.pubsub;DistributedPubSubMediator.put.key">key</a>: <span title="String">String</span>, <a title="Option[akka.actor.ActorRef]" id="akka.cluster.pubsub;DistributedPubSubMediator.put.valueOption">valueOption</a>: <span title="Option[akka.actor.ActorRef]">Option</span><span class="delimiter">[</span>ActorRef<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    val <a title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket" id="akka.cluster.pubsub;DistributedPubSubMediator.put.bucket">bucket</a> = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.registry_=" title="(key: akka.actor.Address)akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">registry</a><span class="delimiter">(</span><a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.selfAddress" title="=&gt; akka.actor.Address">selfAddress</a><span class="delimiter">)</span>
    val <a title="Long" id="akka.cluster.pubsub;DistributedPubSubMediator.put.v">v</a> = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.nextVersion" title="()Long">nextVersion</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#akka.cluster.pubsub;DistributedPubSubMediator.registry_=" title="(x$1: Map[akka.actor.Address,akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket])Unit">registry</a> <span title="(kv: (akka.actor.Address, akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket))scala.collection.immutable.Map[akka.actor.Address,akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket]">+=</span> <span class="delimiter">(</span><a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.selfAddress" title="(self: akka.actor.Address)ArrowAssoc[akka.actor.Address]">selfAddress</a> <span title="(y: akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket)(akka.actor.Address, akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket)">-&gt;</span> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.put.bucket" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">bucket</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.owner" title="akka.actor.Address" id="akka.cluster.pubsub;DistributedPubSubMediator.put.x$40">copy</a><span class="delimiter">(</span>version = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.put.v" title="Long" id="akka.cluster.pubsub;DistributedPubSubMediator.put.x$38">v</a>,
      content = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.put.bucket" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">bucket</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.content" title="=&gt; scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder]">content</a> <a title="scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.cluster.pubsub;DistributedPubSubMediator.put.x$39">+</a> <span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.put.key" title="(self: String)ArrowAssoc[String]">key</a> <span title="(y: akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder)(String, akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder)">-&gt;</span> <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder.readResolve" title="(version: Long, ref: Option[akka.actor.ActorRef])akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder">ValueHolder</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.put.v" title="Long">v</a>, <a href="#akka.cluster.pubsub;DistributedPubSubMediator.put.valueOption" title="Option[akka.actor.ActorRef]">valueOption</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="()scala.collection.immutable.Set[String]" id="akka.cluster.pubsub;DistributedPubSubMediator.getCurrentTopics">getCurrentTopics</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="scala.collection.immutable.Set[String]">Set</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="String" id="akka.cluster.pubsub;DistributedPubSubMediator.getCurrentTopics.topicPrefix">topicPrefix</a> = <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a>.<a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath.toStringWithoutAddress" title="=&gt; String">toStringWithoutAddress</a>
    <span class="delimiter">(</span>for <span class="delimiter">{</span>
      <span class="delimiter">(</span>_, <a title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket" id="akka.cluster.pubsub;DistributedPubSubMediator.getCurrentTopics.$anonfun.bucket">bucket</a><span class="delimiter">)</span> ← <a href="#akka.cluster.pubsub;DistributedPubSubMediator.registry_=" title="(f: ((akka.actor.Address, akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket)) =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[akka.actor.Address,akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket],String,scala.collection.immutable.Iterable[String]])scala.collection.immutable.Iterable[String]">registry</a>
      <a title="(String, akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder)" id="akka.cluster.pubsub;DistributedPubSubMediator.getCurrentTopics.$anonfun.$anonfun.x$9" class="delimiter">(</a><a title="String" id="akka.cluster.pubsub;DistributedPubSubMediator.getCurrentTopics.$anonfun.$anonfun.key">key</a>, <a title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder" id="akka.cluster.pubsub;DistributedPubSubMediator.getCurrentTopics.$anonfun.$anonfun.value">value</a><span class="delimiter">)</span> ← <a href="#akka.cluster.pubsub;DistributedPubSubMediator.getCurrentTopics.$anonfun.bucket" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">bucket</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.content" title="(f: ((String, akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder)) =&gt; ((String, akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder), String))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder],((String, akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder), String),scala.collection.immutable.Map[(String, akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder),String]])scala.collection.immutable.Map[(String, akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder),String]">content</a>
      if <a href="#akka.cluster.pubsub;DistributedPubSubMediator.getCurrentTopics.$anonfun.$anonfun.key" title="String">key</a>.<span title="(x$1: String)Boolean">startsWith</span><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.getCurrentTopics.topicPrefix" title="String">topicPrefix</a><span class="delimiter">)</span>
      <a title="String" id="akka.cluster.pubsub;DistributedPubSubMediator.getCurrentTopics.$anonfun.$anonfun.topic">topic</a> = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.getCurrentTopics.$anonfun.$anonfun.key" title="String">key</a>.<span title="(x$1: Int)String">substring</span><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.getCurrentTopics.topicPrefix" title="String">topicPrefix</a>.<span title="()Int">length</span> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      if <span title="=&gt; Boolean">!</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.getCurrentTopics.$anonfun.$anonfun.topic" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">topic</a>.<span title="(elem: Char)Boolean">contains</span><span class="delimiter">(</span><span title="Char('/')" class="char">'/'</span><span class="delimiter">)</span> <span class="comment">// exclude group topics</span>
    <span class="delimiter">}</span> yield <span title="java.net.URLDecoder.type">URLDecoder</span>.<span title="(x$1: String, x$2: String)String">decode</span><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.getCurrentTopics.$anonfun.$anonfun.topic" title="String">topic</a>, <span title="String(&quot;utf-8&quot;)" class="string">&quot;utf-8&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[String]">toSet</span>
  <span class="delimiter">}</span>

  def <a title="(ref: akka.actor.ActorRef)Unit" id="akka.cluster.pubsub;DistributedPubSubMediator.registerTopic">registerTopic</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.cluster.pubsub;DistributedPubSubMediator.registerTopic.ref">ref</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#akka.cluster.pubsub;DistributedPubSubMediator.put" title="(key: String, valueOption: Option[akka.actor.ActorRef])Unit">put</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.mkKey(a10a48160f)" title="(ref: akka.actor.ActorRef)String">mkKey</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.registerTopic.ref" title="akka.actor.ActorRef">ref</a><span class="delimiter">)</span>, <span title="(x: akka.actor.ActorRef)Some[akka.actor.ActorRef]">Some</span><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.registerTopic.ref" title="akka.actor.ActorRef">ref</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.watch" title="(subject: akka.actor.ActorRef)akka.actor.ActorRef">watch</a><span title="Unit" class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.registerTopic.ref" title="akka.actor.ActorRef">ref</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(ref: akka.actor.ActorRef)String" id="akka.cluster.pubsub;DistributedPubSubMediator.mkKey(a10a48160f)">mkKey</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.cluster.pubsub;DistributedPubSubMediator.mkKey(a10a48160f).ref">ref</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.mkKey(f87b15ac50)" title="(path: akka.actor.ActorPath)String">mkKey</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.mkKey(a10a48160f).ref" title="akka.actor.ActorRef">ref</a>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a><span class="delimiter">)</span>

  def <a title="(path: akka.actor.ActorPath)String" id="akka.cluster.pubsub;DistributedPubSubMediator.mkKey(f87b15ac50)">mkKey</a><span class="delimiter">(</span><a title="akka.actor.ActorPath" id="akka.cluster.pubsub;DistributedPubSubMediator.mkKey(f87b15ac50).path">path</a>: <a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath" title="akka.actor.ActorPath">ActorPath</a><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.mkKey(f87b15ac50).path" title="akka.actor.ActorPath">path</a>.<a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath.toStringWithoutAddress" title="=&gt; String">toStringWithoutAddress</a>

  def <a title="=&gt; Map[akka.actor.Address,Long]" id="akka.cluster.pubsub;DistributedPubSubMediator.myVersions">myVersions</a>: <span title="Map[akka.actor.Address,Long]">Map</span><span class="delimiter">[</span>Address, Long<span class="delimiter">]</span> = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.registry_=" title="=&gt; Map[akka.actor.Address,akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket]">registry</a>.<span title="(f: ((akka.actor.Address, akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket)) =&gt; (akka.actor.Address, Long))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[akka.actor.Address,akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket],(akka.actor.Address, Long),Map[akka.actor.Address,Long]])Map[akka.actor.Address,Long]">map</span> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.myVersions.$anonfun.x0$4" title="(akka.actor.Address, Long)" class="delimiter">{</a> case <span class="delimiter">(</span><a title="akka.actor.Address" id="akka.cluster.pubsub;DistributedPubSubMediator.myVersions.$anonfun.owner">owner</a>, <a title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket" id="akka.cluster.pubsub;DistributedPubSubMediator.myVersions.$anonfun.bucket">bucket</a><span class="delimiter">)</span> ⇒ <span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.myVersions.$anonfun.owner" title="(self: akka.actor.Address)ArrowAssoc[akka.actor.Address]">owner</a> <span title="(y: Long)(akka.actor.Address, Long)">-&gt;</span> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.myVersions.$anonfun.bucket" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">bucket</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.version" title="=&gt; Long">version</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  def <a title="(otherVersions: Map[akka.actor.Address,Long])scala.collection.immutable.Iterable[akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket]" id="akka.cluster.pubsub;DistributedPubSubMediator.collectDelta">collectDelta</a><span class="delimiter">(</span><a title="Map[akka.actor.Address,Long]" id="akka.cluster.pubsub;DistributedPubSubMediator.collectDelta.otherVersions">otherVersions</a>: <span title="Map[akka.actor.Address,Long]">Map</span><span class="delimiter">[</span>Address, Long<span class="delimiter">]</span><span class="delimiter">)</span>: immutable.<span title="scala.collection.immutable.Iterable[akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket]">Iterable</span><span class="delimiter">[</span>Bucket<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// missing entries are represented by version 0</span>
    val filledOtherVersions = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.myVersions" title="=&gt; Map[akka.actor.Address,Long]">myVersions</a>.<span title="(f: ((akka.actor.Address, Long)) =&gt; (akka.actor.Address, Long))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[akka.actor.Address,Long],(akka.actor.Address, Long),scala.collection.immutable.Map[akka.actor.Address,Long]])scala.collection.immutable.Map[akka.actor.Address,Long]">map</span> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.collectDelta.filledOtherVersions.$anonfun.x0$5" title="(akka.actor.Address, Long)" class="delimiter">{</a> case <span class="delimiter">(</span><a title="akka.actor.Address" id="akka.cluster.pubsub;DistributedPubSubMediator.collectDelta.filledOtherVersions.$anonfun.k">k</a>, _<span class="delimiter">)</span> ⇒ <a href="#akka.cluster.pubsub;DistributedPubSubMediator.collectDelta.filledOtherVersions.$anonfun.k" title="(self: akka.actor.Address)ArrowAssoc[akka.actor.Address]">k</a> <span title="(y: Long)(akka.actor.Address, Long)">-&gt;</span> <span title="Long(0L)" class="long">0L</span> <span class="delimiter">}</span> <a title="scala.collection.immutable.Map[akka.actor.Address,Long]" id="akka.cluster.pubsub;DistributedPubSubMediator.collectDelta.filledOtherVersions">++</a> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.collectDelta.otherVersions" title="Map[akka.actor.Address,Long]">otherVersions</a>
    var <a title="Int" id="akka.cluster.pubsub;DistributedPubSubMediator.collectDelta.count">count</a> = <span title="Int(0)" class="int">0</span>
    <a href="#akka.cluster.pubsub;DistributedPubSubMediator.collectDelta.filledOtherVersions" title="scala.collection.immutable.Map[akka.actor.Address,Long]">filledOtherVersions</a>.<span title="(pf: PartialFunction[(akka.actor.Address, Long),akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[akka.actor.Address,Long],akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket,scala.collection.immutable.Iterable[akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket]])scala.collection.immutable.Iterable[akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket]">collect</span> <a title="&lt;$anon: ((akka.actor.Address, Long)) =&gt; akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket&gt; extends scala.runtime.AbstractPartialFunction[(akka.actor.Address, Long),akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket] with Serializable" id="akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
      case <span class="delimiter">(</span><a title="akka.actor.Address" id="akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.isDefinedAt.owner">owner</a>, <a title="Long" id="akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.isDefinedAt.v">v</a><span class="delimiter">)</span> if <a href="#akka.cluster.pubsub;DistributedPubSubMediator.registry_=" title="(key: akka.actor.Address)akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">registry</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.isDefinedAt.owner" title="akka.actor.Address">owner</a><span class="delimiter">)</span>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.version" title="=&gt; Long">version</a> <span title="(x: Long)Boolean">&gt;</span> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.isDefinedAt.v" title="Long">v</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.collectDelta.count" title="Int">count</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#akka.cluster.pubsub;DistributedPubSubSettings.maxDeltaElements" title="=&gt; Int">maxDeltaElements</a> ⇒
        val <a title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket" id="akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.applyOrElse.bucket">bucket</a> = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.registry_=" title="(key: akka.actor.Address)akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">registry</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.isDefinedAt.owner" title="akka.actor.Address">owner</a><span class="delimiter">)</span>
        val <a title="scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder]" id="akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.applyOrElse.deltaContent">deltaContent</a> = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.applyOrElse.bucket" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">bucket</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.content" title="=&gt; scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder]">content</a>.<span title="(p: ((String, akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder)) =&gt; Boolean)scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder]">filter</span> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.applyOrElse.deltaContent.$anonfun.x0$6" title="Boolean" class="delimiter">{</a>
          case <span class="delimiter">(</span>_, <a title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder" id="akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.applyOrElse.deltaContent.$anonfun.value">value</a><span class="delimiter">)</span> ⇒ <a href="#akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.applyOrElse.deltaContent.$anonfun.value" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder">value</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;ValueHolder.version" title="=&gt; Long">version</a> <span title="(x: Long)Boolean">&gt;</span> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.isDefinedAt.v" title="Long">v</a>
        <span class="delimiter">}</span>
        <a href="#akka.cluster.pubsub;DistributedPubSubMediator.collectDelta.count" title="Int">count</a> <span title="(x: Int)Int">+=</span> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.applyOrElse.deltaContent" title="scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder]">deltaContent</a>.<span title="=&gt; Int">size</span>
        if <span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.collectDelta.count" title="Int">count</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="#akka.cluster.pubsub;DistributedPubSubSettings.maxDeltaElements" title="=&gt; Int">maxDeltaElements</a><span class="delimiter">)</span>
          <a href="#akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.applyOrElse.bucket" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">bucket</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.owner" title="akka.actor.Address" id="akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.applyOrElse.x$43">copy</a><span class="delimiter">(</span>content = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.applyOrElse.deltaContent" title="scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.applyOrElse.x$41">deltaContent</a><span class="delimiter">)</span>
        else <span class="delimiter">{</span>
          <span class="comment">// exceeded the maxDeltaElements, pick the elements with lowest versions</span>
          val <a title="scala.collection.immutable.Vector[(String, akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder)]" id="akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.applyOrElse.sortedContent">sortedContent</a> = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.applyOrElse.deltaContent" title="scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder]">deltaContent</a>.<span title="=&gt; Vector[(String, akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder)]">toVector</span>.<span title="(f: ((String, akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder)) =&gt; Long)(implicit ord: scala.math.Ordering[Long])scala.collection.immutable.Vector[(String, akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder)]">sortBy</span><span title="scala.math.Ordering.Long.type" class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.applyOrElse.sortedContent.$anonfun.x$14" title="(String, akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder)">_</a>.<span title="=&gt; akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder">_2</span>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;ValueHolder.version" title="=&gt; Long">version</a><span class="delimiter">)</span>
          val <a title="scala.collection.immutable.Vector[(String, akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder)]" id="akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.applyOrElse.chunk">chunk</a> = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.applyOrElse.sortedContent" title="scala.collection.immutable.Vector[(String, akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder)]">sortedContent</a>.<span title="(n: Int)scala.collection.immutable.Vector[(String, akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder)]">take</span><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubSettings.maxDeltaElements" title="=&gt; Int">maxDeltaElements</a> <span title="(x: Int)Int">-</span> <span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.collectDelta.count" title="Int">count</a> <span title="(x: Int)Int">-</span> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.applyOrElse.sortedContent" title="scala.collection.immutable.Vector[(String, akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder)]">sortedContent</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.applyOrElse.bucket" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">bucket</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.owner" title="akka.actor.Address" id="akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.applyOrElse.x$46">copy</a><span class="delimiter">(</span>content = <span title="scala.collection.immutable.TreeMap.type">TreeMap</span>.<span title="[A, B](implicit ord: Ordering[A])scala.collection.immutable.TreeMap[A,B]">empty</span><span title="(implicit ord: Ordering[String])scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder]" class="delimiter">[</span><span title="String">String</span>, <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder.readResolve" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder">ValueHolder</a><span class="delimiter">]</span> <a title="scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.applyOrElse.x$44">++</a> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.applyOrElse.chunk" title="scala.collection.immutable.Vector[(String, akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder)]">chunk</a>, version = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.applyOrElse.chunk" title="scala.collection.immutable.Vector[(String, akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder)]">chunk</a>.<span title="=&gt; (String, akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder)">last</span>.<span title="=&gt; akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder">_2</span>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;ValueHolder.version" title="Long" id="akka.cluster.pubsub;DistributedPubSubMediator.collectDelta;$anonfun.applyOrElse.x$45">version</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(otherVersions: Map[akka.actor.Address,Long])Boolean" id="akka.cluster.pubsub;DistributedPubSubMediator.otherHasNewerVersions">otherHasNewerVersions</a><span class="delimiter">(</span><a title="Map[akka.actor.Address,Long]" id="akka.cluster.pubsub;DistributedPubSubMediator.otherHasNewerVersions.otherVersions">otherVersions</a>: <span title="Map[akka.actor.Address,Long]">Map</span><span class="delimiter">[</span>Address, Long<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <a href="#akka.cluster.pubsub;DistributedPubSubMediator.otherHasNewerVersions.otherVersions" title="Map[akka.actor.Address,Long]">otherVersions</a>.<span title="(p: ((akka.actor.Address, Long)) =&gt; Boolean)Boolean">exists</span> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.otherHasNewerVersions.$anonfun.x0$7" title="Boolean" class="delimiter">{</a>
      case <span class="delimiter">(</span><a title="akka.actor.Address" id="akka.cluster.pubsub;DistributedPubSubMediator.otherHasNewerVersions.$anonfun.owner">owner</a>, <a title="Long" id="akka.cluster.pubsub;DistributedPubSubMediator.otherHasNewerVersions.$anonfun.v">v</a><span class="delimiter">)</span> ⇒ <a href="#akka.cluster.pubsub;DistributedPubSubMediator.otherHasNewerVersions.$anonfun.v" title="Long">v</a> <span title="(x: Long)Boolean">&gt;</span> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.registry_=" title="(key: akka.actor.Address)akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">registry</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.otherHasNewerVersions.$anonfun.owner" title="akka.actor.Address">owner</a><span class="delimiter">)</span>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.version" title="=&gt; Long">version</a>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * Gossip to peer nodes.
   */</span>
  def <a title="()Unit" id="akka.cluster.pubsub;DistributedPubSubMediator.gossip">gossip</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.selectRandomNode" title="(addresses: scala.collection.immutable.IndexedSeq[akka.actor.Address])Option[akka.actor.Address]">selectRandomNode</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.nodes_=" title="=&gt; scala.collection.immutable.Set[akka.actor.Address]">nodes</a> <span title="(elem: akka.actor.Address)scala.collection.immutable.Set[akka.actor.Address]">-</span> <a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.selfAddress" title="=&gt; akka.actor.Address">selfAddress</a><span class="delimiter">)</span>.<span title="=&gt; Vector[akka.actor.Address]">toVector</span><span class="delimiter">)</span> <span title="(f: akka.actor.Address =&gt; Unit)Unit">foreach</span> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.gossipTo" title="(address: akka.actor.Address)Unit">gossipTo</a>

  def <a title="(address: akka.actor.Address)Unit" id="akka.cluster.pubsub;DistributedPubSubMediator.gossipTo">gossipTo</a><span class="delimiter">(</span><a title="akka.actor.Address" id="akka.cluster.pubsub;DistributedPubSubMediator.gossipTo.address">address</a>: <a href="../../../../actor/akka/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.actorSelection(271eeb39be)" title="(path: String)akka.actor.ActorSelection">actorSelection</a><a href="../../../../actor/akka/actor/ActorSelection.scala.html#akka.actor.ActorSelection.toScala" title="implicit akka.actor.ActorSelection.toScala : (sel: akka.actor.ActorSelection)akka.actor.ScalaActorSelection" class="delimiter">(</a><a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a>.<a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a>.<a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath.toStringWithAddress" title="(address: akka.actor.Address)String">toStringWithAddress</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.gossipTo.address" title="akka.actor.Address">address</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../../actor/akka/actor/ActorSelection.scala.html#akka.actor;ScalaActorSelection.!" title="(msg: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal.Status.readResolve" title="(versions: Map[akka.actor.Address,Long])akka.cluster.pubsub.DistributedPubSubMediator.Internal.Status">Status</a><span class="delimiter">(</span>versions = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.myVersions" title="=&gt; Map[akka.actor.Address,Long]">myVersions</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(addresses: scala.collection.immutable.IndexedSeq[akka.actor.Address])Option[akka.actor.Address]" id="akka.cluster.pubsub;DistributedPubSubMediator.selectRandomNode">selectRandomNode</a><span class="delimiter">(</span><a title="scala.collection.immutable.IndexedSeq[akka.actor.Address]" id="akka.cluster.pubsub;DistributedPubSubMediator.selectRandomNode.addresses">addresses</a>: immutable.<span title="scala.collection.immutable.IndexedSeq[akka.actor.Address]">IndexedSeq</span><span class="delimiter">[</span>Address<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[akka.actor.Address]">Option</span><span class="delimiter">[</span>Address<span class="delimiter">]</span> =
    if <span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.selectRandomNode.addresses" title="scala.collection.immutable.IndexedSeq[akka.actor.Address]">addresses</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="None.type">None</span> else <span title="(x: akka.actor.Address)Some[akka.actor.Address]">Some</span><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.selectRandomNode.addresses" title="(idx: Int)akka.actor.Address">addresses</a><span class="delimiter">(</span><span title="scala.concurrent.forkjoin.ThreadLocalRandom.type">ThreadLocalRandom</span>.<span title="()scala.concurrent.forkjoin.ThreadLocalRandom">current</span> <span title="(x$1: Int)Int">nextInt</span> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.selectRandomNode.addresses" title="scala.collection.immutable.IndexedSeq[akka.actor.Address]">addresses</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span><span class="delimiter">)</span>

  def <a title="()Unit" id="akka.cluster.pubsub;DistributedPubSubMediator.prune">prune</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#akka.cluster.pubsub;DistributedPubSubMediator.registry_=" title="=&gt; Map[akka.actor.Address,akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket]">registry</a> <span title="(f: ((akka.actor.Address, akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket)) =&gt; Unit)Unit">foreach</span> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.prune.$anonfun.x0$8" title="Unit" class="delimiter">{</a>
      case <span class="delimiter">(</span><a title="akka.actor.Address" id="akka.cluster.pubsub;DistributedPubSubMediator.prune.$anonfun.owner">owner</a>, <a title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket" id="akka.cluster.pubsub;DistributedPubSubMediator.prune.$anonfun.bucket">bucket</a><span class="delimiter">)</span> ⇒
        val <a title="scala.collection.immutable.Iterable[String]" id="akka.cluster.pubsub;DistributedPubSubMediator.prune.$anonfun.oldRemoved">oldRemoved</a> = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.prune.$anonfun.bucket" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">bucket</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.content" title="=&gt; scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder]">content</a>.<span title="(pf: PartialFunction[(String, akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder),String])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder],String,scala.collection.immutable.Iterable[String]])scala.collection.immutable.Iterable[String]">collect</span> <a title="&lt;$anon: ((String, akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder)) =&gt; String&gt; extends scala.runtime.AbstractPartialFunction[(String, akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder),String] with Serializable" id="akka.cluster.pubsub;DistributedPubSubMediator.prune.$anonfun.oldRemoved;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
          case <span class="delimiter">(</span><a title="String" id="akka.cluster.pubsub;DistributedPubSubMediator.prune.$anonfun.oldRemoved;$anonfun.isDefinedAt.key">key</a>, ValueHolder<span class="delimiter">(</span><a title="Long" id="akka.cluster.pubsub;DistributedPubSubMediator.prune.$anonfun.oldRemoved;$anonfun.isDefinedAt.version">version</a>, <span title="None.type">None</span><span class="delimiter">)</span><span class="delimiter">)</span> if <span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.prune.$anonfun.bucket" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">bucket</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.version" title="=&gt; Long">version</a> <span title="(x: Long)Long">-</span> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.prune.$anonfun.oldRemoved;$anonfun.isDefinedAt.version" title="Long">version</a> <span title="(x: Long)Boolean">&gt;</span> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.removedTimeToLiveMillis" title="=&gt; Long">removedTimeToLiveMillis</a><span class="delimiter">)</span> ⇒ <a href="#akka.cluster.pubsub;DistributedPubSubMediator.prune.$anonfun.oldRemoved;$anonfun.isDefinedAt.key" title="String">key</a>
        <span class="delimiter">}</span>
        if <span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSubMediator.prune.$anonfun.oldRemoved" title="scala.collection.immutable.Iterable[String]">oldRemoved</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
          <a href="#akka.cluster.pubsub;DistributedPubSubMediator.registry_=" title="(x$1: Map[akka.actor.Address,akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket])Unit">registry</a> <span title="(kv: (akka.actor.Address, akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket))scala.collection.immutable.Map[akka.actor.Address,akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket]">+=</span> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.prune.$anonfun.owner" title="(self: akka.actor.Address)ArrowAssoc[akka.actor.Address]">owner</a> <span title="(y: akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket)(akka.actor.Address, akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket)">-&gt;</span> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.prune.$anonfun.bucket" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">bucket</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.owner" title="akka.actor.Address" id="akka.cluster.pubsub;DistributedPubSubMediator.prune.$anonfun.x$49">copy</a><span class="delimiter">(</span>content = <a href="#akka.cluster.pubsub;DistributedPubSubMediator.prune.$anonfun.bucket" title="akka.cluster.pubsub.DistributedPubSubMediator.Internal.Bucket">bucket</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.Internal;Bucket.content" title="=&gt; scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder]">content</a> <a title="scala.collection.immutable.TreeMap[String,akka.cluster.pubsub.DistributedPubSubMediator.Internal.ValueHolder] @scala.reflect.internal.annotations.uncheckedBounds" id="akka.cluster.pubsub;DistributedPubSubMediator.prune.$anonfun.x$47">--</a> <a href="#akka.cluster.pubsub;DistributedPubSubMediator.prune.$anonfun.oldRemoved" title="scala.collection.immutable.Iterable[String]">oldRemoved</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

object <a title="akka.cluster.pubsub.DistributedPubSub.type" id="akka.cluster.pubsub.DistributedPubSub">DistributedPubSub</a> extends <a href="../../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionId" title="akka.actor.ExtensionId[akka.cluster.pubsub.DistributedPubSub]">ExtensionId</a><span class="delimiter">[</span>DistributedPubSub<span class="delimiter">]</span> with <a href="../../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionIdProvider" title="akka.actor.ExtensionIdProvider">ExtensionIdProvider</a> <span class="delimiter">{</span>
  override def <a title="(system: akka.actor.ActorSystem)akka.cluster.pubsub.DistributedPubSub" id="akka.cluster.pubsub.DistributedPubSub.get">get</a><span class="delimiter">(</span><a title="akka.actor.ActorSystem" id="akka.cluster.pubsub.DistributedPubSub.get.system">system</a>: <a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem" title="akka.actor.ActorSystem">ActorSystem</a><span class="delimiter">)</span>: <a href="#akka.cluster.pubsub;DistributedPubSub" title="akka.cluster.pubsub.DistributedPubSub">DistributedPubSub</a> = super.<a href="../../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionId.get" title="(system: akka.actor.ActorSystem)akka.cluster.pubsub.DistributedPubSub">get</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSub.get.system" title="akka.actor.ActorSystem">system</a><span class="delimiter">)</span>

  override def <a title="()akka.cluster.pubsub.DistributedPubSub.type" id="akka.cluster.pubsub.DistributedPubSub.lookup">lookup</a> = <a href="#akka.cluster.pubsub.DistributedPubSub" title="akka.cluster.pubsub.DistributedPubSub.type">DistributedPubSub</a>

  override def <a title="(system: akka.actor.ExtendedActorSystem)akka.cluster.pubsub.DistributedPubSub" id="akka.cluster.pubsub.DistributedPubSub.createExtension">createExtension</a><span class="delimiter">(</span><a title="akka.actor.ExtendedActorSystem" id="akka.cluster.pubsub.DistributedPubSub.createExtension.system">system</a>: <a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ExtendedActorSystem" title="akka.actor.ExtendedActorSystem">ExtendedActorSystem</a><span class="delimiter">)</span>: <a href="#akka.cluster.pubsub;DistributedPubSub" title="akka.cluster.pubsub.DistributedPubSub">DistributedPubSub</a> =
    new <a href="#akka.cluster.pubsub;DistributedPubSub" title="akka.cluster.pubsub.DistributedPubSub">DistributedPubSub</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSub.createExtension.system" title="akka.actor.ExtendedActorSystem">system</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Extension that starts a [[DistributedPubSubMediator]] actor
 * with settings defined in config section `akka.cluster.pub-sub`.
 */</span>
class <a title="class DistributedPubSub extends AnyRef with akka.actor.Extension" id="akka.cluster.pubsub;DistributedPubSub">DistributedPubSub</a><a href="#akka.cluster.pubsub;DistributedPubSub" title="akka.cluster.pubsub.DistributedPubSub" class="delimiter">(</a><a title="akka.actor.ExtendedActorSystem" id="akka.cluster.pubsub;DistributedPubSub.system">system</a>: <a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ExtendedActorSystem" title="akka.actor.ExtendedActorSystem">ExtendedActorSystem</a><span class="delimiter">)</span> extends <a href="../../../../actor/akka/actor/Extension.scala.html#akka.actor;Extension" title="akka.actor.Extension">Extension</a> <span class="delimiter">{</span>

  private val <a title="akka.cluster.pubsub.DistributedPubSubSettings" id="akka.cluster.pubsub;DistributedPubSub.settings">settings</a> = <a href="#akka.cluster.pubsub.DistributedPubSubSettings.apply(9e36fb0478)" title="(system: akka.actor.ActorSystem)akka.cluster.pubsub.DistributedPubSubSettings">DistributedPubSubSettings</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSub.system" title="akka.actor.ExtendedActorSystem">system</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns true if this member is not tagged with the role configured for the
   * mediator.
   */</span>
  def <a title="=&gt; Boolean" id="akka.cluster.pubsub;DistributedPubSub.isTerminated">isTerminated</a>: <span title="Boolean">Boolean</span> =
    <a href="../../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionId.apply" title="(system: akka.actor.ActorSystem)akka.cluster.Cluster">Cluster</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSub.system" title="akka.actor.ExtendedActorSystem">system</a><span class="delimiter">)</span>.<a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.isTerminated" title="=&gt; Boolean">isTerminated</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#akka.cluster.pubsub;DistributedPubSub.settings" title="=&gt; akka.cluster.pubsub.DistributedPubSubSettings">settings</a>.<a href="#akka.cluster.pubsub;DistributedPubSubSettings.role" title="=&gt; Option[String]">role</a>.<span title="(p: String =&gt; Boolean)Boolean">forall</span><span class="delimiter">(</span><a href="../../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionId.apply" title="(system: akka.actor.ActorSystem)akka.cluster.Cluster">Cluster</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSub.system" title="akka.actor.ExtendedActorSystem">system</a><span class="delimiter">)</span>.<a href="../../../../cluster/akka/cluster/Cluster.scala.html#akka.cluster;Cluster.selfRoles" title="=&gt; Set[String]">selfRoles</a>.<a href="#akka.cluster.pubsub;DistributedPubSub.isTerminated.$anonfun.elem" title="(elem: String)Boolean">contains</a><span class="delimiter">)</span>

  <span class="comment">/**
   * The [[DistributedPubSubMediator]]
   */</span>
  val <a title="akka.actor.ActorRef" id="akka.cluster.pubsub;DistributedPubSub.mediator">mediator</a>: <a href="../../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSub.isTerminated" title="=&gt; Boolean">isTerminated</a><span class="delimiter">)</span>
      <a href="#akka.cluster.pubsub;DistributedPubSub.system" title="akka.actor.ExtendedActorSystem">system</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.deadLetters" title="=&gt; akka.actor.ActorRef">deadLetters</a>
    else <span class="delimiter">{</span>
      val <a title="String" id="akka.cluster.pubsub;DistributedPubSub.mediator.name">name</a> = <a href="#akka.cluster.pubsub;DistributedPubSub.system" title="akka.actor.ExtendedActorSystem">system</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.settings" title="=&gt; akka.actor.ActorSystem.Settings">settings</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor.ActorSystem;Settings.config" title="=&gt; com.typesafe.config.Config">config</a>.<span title="(x$1: String)String">getString</span><span class="delimiter">(</span><span title="String(&quot;akka.cluster.pub-sub.name&quot;)" class="string">&quot;akka.cluster.pub-sub.name&quot;</span><span class="delimiter">)</span>
      val <a title="String" id="akka.cluster.pubsub;DistributedPubSub.mediator.dispatcher">dispatcher</a> = <a href="#akka.cluster.pubsub;DistributedPubSub.system" title="akka.actor.ExtendedActorSystem">system</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.settings" title="=&gt; akka.actor.ActorSystem.Settings">settings</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor.ActorSystem;Settings.config" title="=&gt; com.typesafe.config.Config">config</a>.<span title="(x$1: String)String">getString</span><span class="delimiter">(</span><span title="String(&quot;akka.cluster.pub-sub.use-dispatcher&quot;)" class="string">&quot;akka.cluster.pub-sub.use-dispatcher&quot;</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
        case <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> ⇒ Dispatchers.<span title="String(&quot;akka.actor.default-dispatcher&quot;)">DefaultDispatcherId</span>
        case <a title="String" id="akka.cluster.pubsub;DistributedPubSub.mediator.dispatcher.id">id</a> ⇒ <a href="#akka.cluster.pubsub;DistributedPubSub.mediator.dispatcher.id" title="String">id</a>
      <span class="delimiter">}</span>
      <a href="#akka.cluster.pubsub;DistributedPubSub.system" title="akka.actor.ExtendedActorSystem">system</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ExtendedActorSystem.systemActorOf" title="(props: akka.actor.Props, name: String)akka.actor.ActorRef">systemActorOf</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub.DistributedPubSubMediator" title="akka.cluster.pubsub.DistributedPubSubMediator.type">DistributedPubSubMediator</a>.<a href="#akka.cluster.pubsub.DistributedPubSubMediator.props" title="(settings: akka.cluster.pubsub.DistributedPubSubSettings)akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSub.settings" title="=&gt; akka.cluster.pubsub.DistributedPubSubSettings">settings</a><span class="delimiter">)</span>.<a href="../../../../actor/akka/actor/Props.scala.html#akka.actor;Props.withDispatcher" title="(d: String)akka.actor.Props">withDispatcher</a><span class="delimiter">(</span><a href="#akka.cluster.pubsub;DistributedPubSub.mediator.dispatcher" title="String">dispatcher</a><span class="delimiter">)</span>, <a href="#akka.cluster.pubsub;DistributedPubSub.mediator.name" title="String">name</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
