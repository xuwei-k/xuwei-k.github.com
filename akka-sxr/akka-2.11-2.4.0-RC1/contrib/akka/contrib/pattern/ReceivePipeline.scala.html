<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>contrib/akka/contrib/pattern/ReceivePipeline.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
package akka.contrib.pattern

import akka.actor.Actor

object <a title="akka.contrib.pattern.ReceivePipeline.type" id="akka.contrib.pattern.ReceivePipeline">ReceivePipeline</a> <a href="#akka.contrib.pattern.ReceivePipeline" title="akka.contrib.pattern.ReceivePipeline.type" class="delimiter">{</a>
  <span class="comment">/**
   * Result returned by an interceptor PF to determine what/whether to delegate to the next inner interceptor
   */</span>
  sealed trait <a title="trait Delegation extends AnyRef" id="akka.contrib.pattern.ReceivePipeline;Delegation">Delegation</a>

  case class <a title="class Inner extends AnyRef with akka.contrib.pattern.ReceivePipeline.Delegation with Product with Serializable" id="akka.contrib.pattern.ReceivePipeline.Inner.readResolve">Inner</a><span title="Product" class="delimiter">(</span><a title="Any" id="akka.contrib.pattern.ReceivePipeline;Inner.transformedMsg">transformedMsg</a>: <span title="Any">Any</span><span class="delimiter">)</span> extends <a href="#akka.contrib.pattern.ReceivePipeline;Delegation" title="akka.contrib.pattern.ReceivePipeline.Delegation">Delegation</a> <span class="delimiter">{</span>
    <span class="comment">/**
     * Add a block of code to be executed after the message (which may be further transformed and processed by
     * inner interceptors) is handled by the actor's receive.
     *
     * The block of code will be executed before similar blocks in outer interceptors.
     */</span>
    def <a title="(after: =&gt; Unit)akka.contrib.pattern.ReceivePipeline.Delegation" id="akka.contrib.pattern.ReceivePipeline;Inner.andAfter">andAfter</a><span class="delimiter">(</span><a title="=&gt; Unit" id="akka.contrib.pattern.ReceivePipeline;Inner.andAfter.after">after</a>: ⇒ Unit<span class="delimiter">)</span>: <a href="#akka.contrib.pattern.ReceivePipeline;Delegation" title="akka.contrib.pattern.ReceivePipeline.Delegation">Delegation</a> = <a href="#akka.contrib.pattern.ReceivePipeline.InnerAndAfter.readResolve" title="(transformedMsg: Any, after: Unit =&gt; Unit)akka.contrib.pattern.ReceivePipeline.InnerAndAfter">InnerAndAfter</a><span class="delimiter">(</span><a href="#akka.contrib.pattern.ReceivePipeline;Inner.transformedMsg" title="=&gt; Any">transformedMsg</a>, <span class="delimiter">(</span><a title="Unit" id="akka.contrib.pattern.ReceivePipeline;Inner.andAfter.$anonfun.x$1">_</a> ⇒ <a href="#akka.contrib.pattern.ReceivePipeline;Inner.andAfter.after" title="=&gt; Unit">after</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private<span class="delimiter">[</span>ReceivePipeline<span class="delimiter">]</span> case class <a title="class InnerAndAfter extends AnyRef with akka.contrib.pattern.ReceivePipeline.Delegation with Product with Serializable" id="akka.contrib.pattern.ReceivePipeline.InnerAndAfter.readResolve">InnerAndAfter</a><span title="Product" class="delimiter">(</span><a title="Any" id="akka.contrib.pattern.ReceivePipeline;InnerAndAfter.transformedMsg">transformedMsg</a>: <span title="Any">Any</span>, <a title="Unit =&gt; Unit" id="akka.contrib.pattern.ReceivePipeline;InnerAndAfter.after">after</a>: Unit ⇒ Unit<span class="delimiter">)</span> extends <a href="#akka.contrib.pattern.ReceivePipeline;Delegation" title="akka.contrib.pattern.ReceivePipeline.Delegation">Delegation</a>

  <span class="comment">/**
   * Interceptor return value that indicates that the message has been handled
   * completely. The message will not be passed to inner interceptors
   * (or to the decorated actor's receive).
   */</span>
  case object <a href="#akka.contrib.pattern.ReceivePipeline.HandledCompletely.productElement.x$1" title="akka.contrib.pattern.ReceivePipeline.HandledCompletely.type" id="akka.contrib.pattern.ReceivePipeline.HandledCompletely.readResolve">HandledCompletely</a> extends <a href="#akka.contrib.pattern.ReceivePipeline;Delegation" title="akka.contrib.pattern.ReceivePipeline.Delegation">Delegation</a>

  private def <a title="(interceptor: akka.contrib.pattern.ReceivePipeline.Interceptor)akka.contrib.pattern.ReceivePipeline.Interceptor" id="akka.contrib.pattern.ReceivePipeline.withDefault">withDefault</a><span class="delimiter">(</span><a title="akka.contrib.pattern.ReceivePipeline.Interceptor" id="akka.contrib.pattern.ReceivePipeline.withDefault.interceptor">interceptor</a>: <span title="akka.contrib.pattern.ReceivePipeline.Interceptor">Interceptor</span><span class="delimiter">)</span>: <span title="akka.contrib.pattern.ReceivePipeline.Interceptor">Interceptor</span> = <a href="#akka.contrib.pattern.ReceivePipeline.withDefault.interceptor" title="akka.contrib.pattern.ReceivePipeline.Interceptor">interceptor</a>.<span title="(that: PartialFunction[Any,akka.contrib.pattern.ReceivePipeline.Delegation])PartialFunction[Any,akka.contrib.pattern.ReceivePipeline.Delegation]">orElse</span><span class="delimiter">(</span><a title="&lt;$anon: Any =&gt; akka.contrib.pattern.ReceivePipeline.Delegation&gt; extends scala.runtime.AbstractPartialFunction[Any,akka.contrib.pattern.ReceivePipeline.Delegation] with Serializable" id="akka.contrib.pattern.ReceivePipeline.withDefault;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a> case <a title="Any" id="akka.contrib.pattern.ReceivePipeline.withDefault;$anonfun.isDefinedAt.msg">msg</a> ⇒ <a href="#akka.contrib.pattern.ReceivePipeline.Inner.readResolve" title="(transformedMsg: Any)akka.contrib.pattern.ReceivePipeline.Inner">Inner</a><span title="Boolean(true)" class="delimiter">(</span><a href="#akka.contrib.pattern.ReceivePipeline.withDefault;$anonfun.isDefinedAt.msg" title="Any">msg</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span>

  type <a title="PartialFunction[Any,akka.contrib.pattern.ReceivePipeline.Delegation]" id="akka.contrib.pattern.ReceivePipeline;Interceptor">Interceptor</a> = <span title="PartialFunction[Any,akka.contrib.pattern.ReceivePipeline.Delegation]">PartialFunction</span><span class="delimiter">[</span>Any, Delegation<span class="delimiter">]</span>

  private sealed trait <a title="trait HandlerResult extends AnyRef" id="akka.contrib.pattern.ReceivePipeline;HandlerResult">HandlerResult</a>
  private case object <a href="#akka.contrib.pattern.ReceivePipeline.Done.productElement.x$1" title="akka.contrib.pattern.ReceivePipeline.Done.type" id="akka.contrib.pattern.ReceivePipeline.Done.readResolve">Done</a> extends <a href="#akka.contrib.pattern.ReceivePipeline;HandlerResult" title="akka.contrib.pattern.ReceivePipeline.HandlerResult">HandlerResult</a>
  private case object <a href="#akka.contrib.pattern.ReceivePipeline.Undefined.productElement.x$1" title="akka.contrib.pattern.ReceivePipeline.Undefined.type" id="akka.contrib.pattern.ReceivePipeline.Undefined.readResolve">Undefined</a> extends <a href="#akka.contrib.pattern.ReceivePipeline;HandlerResult" title="akka.contrib.pattern.ReceivePipeline.HandlerResult">HandlerResult</a>

  private type <a title="Any =&gt; akka.contrib.pattern.ReceivePipeline.HandlerResult" id="akka.contrib.pattern.ReceivePipeline;Handler">Handler</a> = Any ⇒ HandlerResult
<span class="delimiter">}</span>

<span class="comment">/**
 * Trait implementing Receive Pipeline Pattern. Mixin this trait
 * for configuring a chain of interceptors to be applied around
 * Actor's current behavior.
 */</span>
trait <a title="trait ReceivePipeline extends AnyRef with akka.actor.Actor" id="akka.contrib.pattern;ReceivePipeline">ReceivePipeline</a> extends <a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor" title="akka.actor.Actor">Actor</a> <span class="delimiter">{</span>
  import <a href="#akka.contrib.pattern.ReceivePipeline" title="akka.contrib.pattern.ReceivePipeline.type">ReceivePipeline</a>._

  private var <a title="Vector[akka.contrib.pattern.ReceivePipeline.Interceptor]" id="akka.contrib.pattern;ReceivePipeline.pipeline_=">pipeline</a>: <span title="Vector[akka.contrib.pattern.ReceivePipeline.Interceptor]">Vector</span><span class="delimiter">[</span>Interceptor<span class="delimiter">]</span> = <span title="=&gt; collection.immutable.Vector.type">Vector</span>.<span title="scala.collection.immutable.Vector[Nothing]">empty</span>
  private var <a title="Option[(ReceivePipeline.this.Receive, ReceivePipeline.this.Receive)]" id="akka.contrib.pattern;ReceivePipeline.decoratorCache_=">decoratorCache</a>: <span title="Option[(ReceivePipeline.this.Receive, ReceivePipeline.this.Receive)]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>Receive, Receive<span class="delimiter">)</span><span class="delimiter">]</span> = <span title="None.type">None</span>

  <span class="comment">/**
   * Adds an inner interceptor, it will be applied lastly, near to Actor's original behavior
   * @param interceptor an interceptor
   */</span>
  def <a title="(interceptor: akka.contrib.pattern.ReceivePipeline.Interceptor)Unit" id="akka.contrib.pattern;ReceivePipeline.pipelineInner">pipelineInner</a><span class="delimiter">(</span><a title="akka.contrib.pattern.ReceivePipeline.Interceptor" id="akka.contrib.pattern;ReceivePipeline.pipelineInner.interceptor">interceptor</a>: <span title="akka.contrib.pattern.ReceivePipeline.Interceptor">Interceptor</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#akka.contrib.pattern;ReceivePipeline.pipeline_=" title="(x$1: Vector[akka.contrib.pattern.ReceivePipeline.Interceptor])Unit">pipeline</a> <span title="(elem: akka.contrib.pattern.ReceivePipeline.Interceptor)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Vector[akka.contrib.pattern.ReceivePipeline.Interceptor],akka.contrib.pattern.ReceivePipeline.Interceptor,Vector[akka.contrib.pattern.ReceivePipeline.Interceptor]])Vector[akka.contrib.pattern.ReceivePipeline.Interceptor]">:+=</span> <a href="#akka.contrib.pattern.ReceivePipeline.withDefault" title="(interceptor: akka.contrib.pattern.ReceivePipeline.Interceptor)akka.contrib.pattern.ReceivePipeline.Interceptor">withDefault</a><span class="delimiter">(</span><a href="#akka.contrib.pattern;ReceivePipeline.pipelineInner.interceptor" title="akka.contrib.pattern.ReceivePipeline.Interceptor">interceptor</a><span class="delimiter">)</span>
    <a href="#akka.contrib.pattern;ReceivePipeline.decoratorCache_=" title="(x$1: Option[(ReceivePipeline.this.Receive, ReceivePipeline.this.Receive)])Unit">decoratorCache</a> = <span title="None.type">None</span>
  <span class="delimiter">}</span>
  <span class="comment">/**
   * Adds an outer interceptor, it will be applied firstly, far from Actor's original behavior
   * @param interceptor an interceptor
   */</span>
  def <a title="(interceptor: akka.contrib.pattern.ReceivePipeline.Interceptor)Unit" id="akka.contrib.pattern;ReceivePipeline.pipelineOuter">pipelineOuter</a><span class="delimiter">(</span><a title="akka.contrib.pattern.ReceivePipeline.Interceptor" id="akka.contrib.pattern;ReceivePipeline.pipelineOuter.interceptor">interceptor</a>: <span title="akka.contrib.pattern.ReceivePipeline.Interceptor">Interceptor</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#akka.contrib.pattern;ReceivePipeline.pipeline_=" title="(x$1: Vector[akka.contrib.pattern.ReceivePipeline.Interceptor])Unit">pipeline</a> <span title="(elem: akka.contrib.pattern.ReceivePipeline.Interceptor)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Vector[akka.contrib.pattern.ReceivePipeline.Interceptor],akka.contrib.pattern.ReceivePipeline.Interceptor,Vector[akka.contrib.pattern.ReceivePipeline.Interceptor]])Vector[akka.contrib.pattern.ReceivePipeline.Interceptor]">+:=</span> <a href="#akka.contrib.pattern.ReceivePipeline.withDefault" title="(interceptor: akka.contrib.pattern.ReceivePipeline.Interceptor)akka.contrib.pattern.ReceivePipeline.Interceptor">withDefault</a><span class="delimiter">(</span><a href="#akka.contrib.pattern;ReceivePipeline.pipelineOuter.interceptor" title="akka.contrib.pattern.ReceivePipeline.Interceptor">interceptor</a><span class="delimiter">)</span>
    <a href="#akka.contrib.pattern;ReceivePipeline.decoratorCache_=" title="(x$1: Option[(ReceivePipeline.this.Receive, ReceivePipeline.this.Receive)])Unit">decoratorCache</a> = <span title="None.type">None</span>
  <span class="delimiter">}</span>

  private def <a title="=&gt; ReceivePipeline.this.Receive =&gt; ReceivePipeline.this.Receive" id="akka.contrib.pattern;ReceivePipeline.combinedDecorator">combinedDecorator</a>: Receive ⇒ Receive = <span class="delimiter">{</span> <a title="ReceivePipeline.this.Receive" id="akka.contrib.pattern;ReceivePipeline.combinedDecorator.$anonfun.receive">receive</a> ⇒
    <span class="comment">// So that reconstructed Receive PF is undefined only when the actor's </span>
    <span class="comment">// receive is undefined for a transformed message that reaches it...     </span>
    val <a title="akka.contrib.pattern.ReceivePipeline.Handler" id="akka.contrib.pattern;ReceivePipeline.combinedDecorator.$anonfun.innerReceiveHandler">innerReceiveHandler</a>: <span title="akka.contrib.pattern.ReceivePipeline.Handler">Handler</span> = <a href="#akka.contrib.pattern;ReceivePipeline.combinedDecorator.$anonfun.innerReceiveHandler.$anonfun.x0$1" title="akka.contrib.pattern.ReceivePipeline.HandlerResult" class="delimiter">{</a>
      case <a title="Any" id="akka.contrib.pattern;ReceivePipeline.combinedDecorator.$anonfun.innerReceiveHandler.$anonfun.msg">msg</a> ⇒ <a href="#akka.contrib.pattern;ReceivePipeline.combinedDecorator.$anonfun.receive" title="ReceivePipeline.this.Receive">receive</a>.<span title="(v1: Any)Option[Unit]">lift</span><span class="delimiter">(</span><a href="#akka.contrib.pattern;ReceivePipeline.combinedDecorator.$anonfun.innerReceiveHandler.$anonfun.msg" title="Any">msg</a><span class="delimiter">)</span>.<span title="(f: Unit =&gt; akka.contrib.pattern.ReceivePipeline.Done.type)Option[akka.contrib.pattern.ReceivePipeline.Done.type]">map</span><span class="delimiter">(</span><a title="Unit" id="akka.contrib.pattern;ReceivePipeline.combinedDecorator.$anonfun.innerReceiveHandler.$anonfun.$anonfun.x$2">_</a> ⇒ <a href="#akka.contrib.pattern.ReceivePipeline.Done.readResolve" title="akka.contrib.pattern.ReceivePipeline.Done.type">Done</a><span class="delimiter">)</span>.<span title="(default: =&gt; Product with Serializable with akka.contrib.pattern.ReceivePipeline.HandlerResult)Product with Serializable with akka.contrib.pattern.ReceivePipeline.HandlerResult">getOrElse</span><span class="delimiter">(</span><a href="#akka.contrib.pattern.ReceivePipeline.Undefined.readResolve" title="akka.contrib.pattern.ReceivePipeline.Undefined.type">Undefined</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    val <a title="akka.contrib.pattern.ReceivePipeline.Handler" id="akka.contrib.pattern;ReceivePipeline.combinedDecorator.$anonfun.zipped">zipped</a> = <a href="#akka.contrib.pattern;ReceivePipeline.pipeline_=" title="=&gt; Vector[akka.contrib.pattern.ReceivePipeline.Interceptor]">pipeline</a>.<span title="(z: akka.contrib.pattern.ReceivePipeline.Handler)(op: (akka.contrib.pattern.ReceivePipeline.Interceptor, akka.contrib.pattern.ReceivePipeline.Handler) =&gt; akka.contrib.pattern.ReceivePipeline.Handler)akka.contrib.pattern.ReceivePipeline.Handler">foldRight</span><span class="delimiter">(</span><a href="#akka.contrib.pattern;ReceivePipeline.combinedDecorator.$anonfun.innerReceiveHandler" title="akka.contrib.pattern.ReceivePipeline.Handler">innerReceiveHandler</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="akka.contrib.pattern.ReceivePipeline.Interceptor" id="akka.contrib.pattern;ReceivePipeline.combinedDecorator.$anonfun.zipped.$anonfun.outerInterceptor">outerInterceptor</a>, <a title="akka.contrib.pattern.ReceivePipeline.Handler" id="akka.contrib.pattern;ReceivePipeline.combinedDecorator.$anonfun.zipped.$anonfun.innerHandler">innerHandler</a><span class="delimiter">)</span> ⇒
      <a href="#akka.contrib.pattern;ReceivePipeline.combinedDecorator.$anonfun.zipped.$anonfun.outerInterceptor" title="akka.contrib.pattern.ReceivePipeline.Interceptor">outerInterceptor</a>.<span title="(k: akka.contrib.pattern.ReceivePipeline.Delegation =&gt; akka.contrib.pattern.ReceivePipeline.HandlerResult)PartialFunction[Any,akka.contrib.pattern.ReceivePipeline.HandlerResult]">andThen</span> <a href="#akka.contrib.pattern;ReceivePipeline.combinedDecorator.$anonfun.zipped.$anonfun.$anonfun.x0$2" title="akka.contrib.pattern.ReceivePipeline.HandlerResult" class="delimiter">{</a>
        case Inner<span class="delimiter">(</span><span title="Any">msg</span><span class="delimiter">)</span>                ⇒ <a href="#akka.contrib.pattern;ReceivePipeline.combinedDecorator.$anonfun.zipped.$anonfun.innerHandler" title="(v1: Any)akka.contrib.pattern.ReceivePipeline.HandlerResult">innerHandler</a><span class="delimiter">(</span><span title="Any">msg</span><span class="delimiter">)</span>
        case InnerAndAfter<span class="delimiter">(</span><span title="Any">msg</span>, <a title="Unit =&gt; Unit" id="akka.contrib.pattern;ReceivePipeline.combinedDecorator.$anonfun.zipped.$anonfun.$anonfun.after">after</a><span class="delimiter">)</span> ⇒ try <a href="#akka.contrib.pattern;ReceivePipeline.combinedDecorator.$anonfun.zipped.$anonfun.innerHandler" title="(v1: Any)akka.contrib.pattern.ReceivePipeline.HandlerResult">innerHandler</a><span class="delimiter">(</span><span title="Any">msg</span><span class="delimiter">)</span> finally <a href="#akka.contrib.pattern;ReceivePipeline.combinedDecorator.$anonfun.zipped.$anonfun.$anonfun.after" title="(v1: Unit)Unit">after</a><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        case <a href="#akka.contrib.pattern.ReceivePipeline.HandledCompletely.readResolve" title="akka.contrib.pattern.ReceivePipeline.HandledCompletely.type">HandledCompletely</a>         ⇒ <a href="#akka.contrib.pattern.ReceivePipeline.Done.readResolve" title="akka.contrib.pattern.ReceivePipeline.Done.type">Done</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <a href="#akka.contrib.pattern;ReceivePipeline.toReceive" title="(handler: akka.contrib.pattern.ReceivePipeline.Handler)ReceivePipeline.this.Receive">toReceive</a><span class="delimiter">(</span><a href="#akka.contrib.pattern;ReceivePipeline.combinedDecorator.$anonfun.zipped" title="akka.contrib.pattern.ReceivePipeline.Handler">zipped</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private def <a title="(handler: akka.contrib.pattern.ReceivePipeline.Handler)ReceivePipeline.this.Receive" id="akka.contrib.pattern;ReceivePipeline.toReceive">toReceive</a><span class="delimiter">(</span><a title="akka.contrib.pattern.ReceivePipeline.Handler" id="akka.contrib.pattern;ReceivePipeline.toReceive.handler">handler</a>: <span title="akka.contrib.pattern.ReceivePipeline.Handler">Handler</span><span class="delimiter">)</span> = new <a title="&lt;$anon: Any =&gt; Unit&gt; extends AnyRef with ReceivePipeline.this.Receive" id="akka.contrib.pattern;ReceivePipeline.toReceive;$anon">Receive</a> <span class="delimiter">{</span>
    def <a title="(m: Any)Boolean" id="akka.contrib.pattern;ReceivePipeline.toReceive;$anon.isDefinedAt">isDefinedAt</a><span class="delimiter">(</span><a title="Any" id="akka.contrib.pattern;ReceivePipeline.toReceive;$anon.isDefinedAt.m">m</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#akka.contrib.pattern;ReceivePipeline.toReceive;$anon.evaluate" title="(m: Any)akka.contrib.pattern.ReceivePipeline.HandlerResult">evaluate</a><span class="delimiter">(</span><a href="#akka.contrib.pattern;ReceivePipeline.toReceive;$anon.isDefinedAt.m" title="Any">m</a><span class="delimiter">)</span> <span title="(x$1: Any)Boolean">!=</span> <a href="#akka.contrib.pattern.ReceivePipeline.Undefined.readResolve" title="akka.contrib.pattern.ReceivePipeline.Undefined.type">Undefined</a>
    def <a title="(m: Any)Unit" id="akka.contrib.pattern;ReceivePipeline.toReceive;$anon.apply">apply</a><span class="delimiter">(</span><a title="Any" id="akka.contrib.pattern;ReceivePipeline.toReceive;$anon.apply.m">m</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.contrib.pattern;ReceivePipeline.toReceive;$anon.evaluate" title="(m: Any)akka.contrib.pattern.ReceivePipeline.HandlerResult">evaluate</a><span title="Unit" class="delimiter">(</span><a href="#akka.contrib.pattern;ReceivePipeline.toReceive;$anon.apply.m" title="Any">m</a><span class="delimiter">)</span>

    override def <a title="[A1, B1 &gt;: Unit](m: A1, default: A1 =&gt; B1)B1" id="akka.contrib.pattern;ReceivePipeline.toReceive;$anon.applyOrElse">applyOrElse</a><span class="delimiter">[</span><a title="" id="akka.contrib.pattern;ReceivePipeline.toReceive;$anon.applyOrElse;A1">A1</a> &lt;: Any, <a title=" &gt;: Unit" id="akka.contrib.pattern;ReceivePipeline.toReceive;$anon.applyOrElse;B1">B1</a> &gt;: Unit<span class="delimiter">]</span><span class="delimiter">(</span><a title="A1" id="akka.contrib.pattern;ReceivePipeline.toReceive;$anon.applyOrElse.m">m</a>: <a href="#akka.contrib.pattern;ReceivePipeline.toReceive;$anon.applyOrElse;A1" title="A1">A1</a>, <a title="A1 =&gt; B1" id="akka.contrib.pattern;ReceivePipeline.toReceive;$anon.applyOrElse.default">default</a>: A1 ⇒ B1<span class="delimiter">)</span>: <a href="#akka.contrib.pattern;ReceivePipeline.toReceive;$anon.applyOrElse;B1" title="B1">B1</a> = <span class="delimiter">{</span>
      val <a title="akka.contrib.pattern.ReceivePipeline.HandlerResult" id="akka.contrib.pattern;ReceivePipeline.toReceive;$anon.applyOrElse.result">result</a> = <a href="#akka.contrib.pattern;ReceivePipeline.toReceive.handler" title="(v1: Any)akka.contrib.pattern.ReceivePipeline.HandlerResult">handler</a><span class="delimiter">(</span><a href="#akka.contrib.pattern;ReceivePipeline.toReceive;$anon.applyOrElse.m" title="A1">m</a><span class="delimiter">)</span>

      if <span class="delimiter">(</span><a href="#akka.contrib.pattern;ReceivePipeline.toReceive;$anon.applyOrElse.result" title="akka.contrib.pattern.ReceivePipeline.HandlerResult">result</a> <span title="(x$1: Any)Boolean">==</span> <a href="#akka.contrib.pattern.ReceivePipeline.Undefined.readResolve" title="akka.contrib.pattern.ReceivePipeline.Undefined.type">Undefined</a><span class="delimiter">)</span> <a href="#akka.contrib.pattern;ReceivePipeline.toReceive;$anon.applyOrElse.default" title="(v1: A1)B1">default</a><span class="delimiter">(</span><a href="#akka.contrib.pattern;ReceivePipeline.toReceive;$anon.applyOrElse.m" title="A1">m</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    private def <a title="(m: Any)akka.contrib.pattern.ReceivePipeline.HandlerResult" id="akka.contrib.pattern;ReceivePipeline.toReceive;$anon.evaluate">evaluate</a><span class="delimiter">(</span><a title="Any" id="akka.contrib.pattern;ReceivePipeline.toReceive;$anon.evaluate.m">m</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#akka.contrib.pattern;ReceivePipeline.toReceive.handler" title="(v1: Any)akka.contrib.pattern.ReceivePipeline.HandlerResult">handler</a><span class="delimiter">(</span><a href="#akka.contrib.pattern;ReceivePipeline.toReceive;$anon.evaluate.m" title="Any">m</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * INTERNAL API.
   */</span>
  override protected<span class="delimiter">[</span>akka<span class="delimiter">]</span> def <a title="(receive: ReceivePipeline.this.Receive, msg: Any)Unit" id="akka.contrib.pattern;ReceivePipeline.aroundReceive">aroundReceive</a><span class="delimiter">(</span><a title="ReceivePipeline.this.Receive" id="akka.contrib.pattern;ReceivePipeline.aroundReceive.receive">receive</a>: <span title="ReceivePipeline.this.Receive">Receive</span>, <a title="Any" id="akka.contrib.pattern;ReceivePipeline.aroundReceive.msg">msg</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    def <a title="(decorator: ReceivePipeline.this.Receive =&gt; ReceivePipeline.this.Receive)ReceivePipeline.this.Receive" id="akka.contrib.pattern;ReceivePipeline.aroundReceive.withCachedDecoration">withCachedDecoration</a><span class="delimiter">(</span><a title="ReceivePipeline.this.Receive =&gt; ReceivePipeline.this.Receive" id="akka.contrib.pattern;ReceivePipeline.aroundReceive.withCachedDecoration.decorator">decorator</a>: Receive ⇒ Receive<span class="delimiter">)</span>: <span title="ReceivePipeline.this.Receive">Receive</span> = <a href="#akka.contrib.pattern;ReceivePipeline.decoratorCache_=" title="=&gt; Option[(ReceivePipeline.this.Receive, ReceivePipeline.this.Receive)]">decoratorCache</a> match <span class="delimiter">{</span>
      case Some<span class="delimiter">(</span><span class="delimiter">(</span><a href="#akka.contrib.pattern;ReceivePipeline.aroundReceive.receive" title="ReceivePipeline.this.Receive">`receive`</a>, <a title="ReceivePipeline.this.Receive" id="akka.contrib.pattern;ReceivePipeline.aroundReceive.withCachedDecoration.cached">cached</a><span class="delimiter">)</span><span class="delimiter">)</span> ⇒ <a href="#akka.contrib.pattern;ReceivePipeline.aroundReceive.withCachedDecoration.cached" title="ReceivePipeline.this.Receive">cached</a>
      case _ ⇒
        val <a title="ReceivePipeline.this.Receive" id="akka.contrib.pattern;ReceivePipeline.aroundReceive.withCachedDecoration.decorated">decorated</a> = <a href="#akka.contrib.pattern;ReceivePipeline.aroundReceive.withCachedDecoration.decorator" title="(v1: ReceivePipeline.this.Receive)ReceivePipeline.this.Receive">decorator</a><span class="delimiter">(</span><a href="#akka.contrib.pattern;ReceivePipeline.aroundReceive.receive" title="ReceivePipeline.this.Receive">receive</a><span class="delimiter">)</span>
        <a href="#akka.contrib.pattern;ReceivePipeline.decoratorCache_=" title="(x$1: Option[(ReceivePipeline.this.Receive, ReceivePipeline.this.Receive)])Unit">decoratorCache</a> = <span title="(x: (ReceivePipeline.this.Receive, ReceivePipeline.this.Receive))Some[(ReceivePipeline.this.Receive, ReceivePipeline.this.Receive)]">Some</span><span class="delimiter">(</span><span title="(_1: ReceivePipeline.this.Receive, _2: ReceivePipeline.this.Receive)(ReceivePipeline.this.Receive, ReceivePipeline.this.Receive)" class="delimiter">(</span><a href="#akka.contrib.pattern;ReceivePipeline.aroundReceive.receive" title="ReceivePipeline.this.Receive">receive</a>, <a href="#akka.contrib.pattern;ReceivePipeline.aroundReceive.withCachedDecoration.decorated" title="ReceivePipeline.this.Receive">decorated</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#akka.contrib.pattern;ReceivePipeline.aroundReceive.withCachedDecoration.decorated" title="ReceivePipeline.this.Receive">decorated</a>
    <span class="delimiter">}</span>

    super.<a href="../../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.aroundReceive" title="(receive: akka.actor.Actor.Receive, msg: Any)Unit">aroundReceive</a><span class="delimiter">(</span><a href="#akka.contrib.pattern;ReceivePipeline.aroundReceive.withCachedDecoration" title="(decorator: ReceivePipeline.this.Receive =&gt; ReceivePipeline.this.Receive)ReceivePipeline.this.Receive">withCachedDecoration</a><span class="delimiter">(</span><a href="#akka.contrib.pattern;ReceivePipeline.combinedDecorator" title="=&gt; ReceivePipeline.this.Receive =&gt; ReceivePipeline.this.Receive">combinedDecorator</a><span class="delimiter">)</span>, <a href="#akka.contrib.pattern;ReceivePipeline.aroundReceive.msg" title="Any">msg</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
