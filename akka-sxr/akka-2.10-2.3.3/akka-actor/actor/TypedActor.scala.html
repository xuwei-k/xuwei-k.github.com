<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>akka-actor/actor/TypedActor.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (C) 2009-2014 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
<span class="keyword">package</span> akka.actor

<span class="keyword">import</span> <span title="language.type">language</span>.existentials

<span class="keyword">import</span> scala.util.control.NonFatal
<span class="keyword">import</span> scala.util.<span class="delimiter">{</span> Try, Success, Failure <span class="delimiter">}</span>
<span class="keyword">import</span> scala.collection.immutable
<span class="keyword">import</span> scala.concurrent.duration.FiniteDuration
<span class="keyword">import</span> scala.concurrent.duration.Duration
<span class="keyword">import</span> scala.reflect.ClassTag
<span class="keyword">import</span> scala.concurrent.<span class="delimiter">{</span> Await, Future <span class="delimiter">}</span>
<span class="keyword">import</span> akka.japi.<span class="delimiter">{</span> Creator, Option ⇒ JOption <span class="delimiter">}</span>
<span class="keyword">import</span> akka.japi.<a href="../japi/JavaAPI.scala.html#akka.japi.Util" title="akka.japi.Util.type">Util</a>.<span class="delimiter">{</span> immutableSeq, immutableSingletonSeq <span class="delimiter">}</span>
<span class="keyword">import</span> akka.util.Timeout
<span class="keyword">import</span> akka.util.<a href="../util/Reflect.scala.html#akka.util.Reflect" title="akka.util.Reflect.type">Reflect</a>.instantiator
<span class="keyword">import</span> akka.serialization.<span class="delimiter">{</span> JavaSerializer, SerializationExtension <span class="delimiter">}</span>
<span class="keyword">import</span> akka.dispatch._
<span class="keyword">import</span> java.util.concurrent.atomic.<span class="delimiter">{</span> AtomicReference ⇒ AtomVar <span class="delimiter">}</span>
<span class="keyword">import</span> java.util.concurrent.TimeoutException
<span class="keyword">import</span> java.util.concurrent.<span title="java.util.concurrent.TimeUnit.type">TimeUnit</span>.MILLISECONDS
<span class="keyword">import</span> java.io.ObjectStreamException
<span class="keyword">import</span> java.lang.reflect.<span class="delimiter">{</span> InvocationTargetException, Method, InvocationHandler, Proxy <span class="delimiter">}</span>
<span class="keyword">import</span> akka.pattern.AskTimeoutException

<span class="comment">/**
 * A TypedActorFactory is something that can created TypedActor instances.
 */</span>
<span class="keyword">trait</span> <a title="trait TypedActorFactory extends AnyRef" id="akka.actor;TypedActorFactory">TypedActorFactory</a> <span title="Unit" class="delimiter">{</span>

  <span class="comment">/**
   * Underlying dependency is to be able to create normal Actors
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; akka.actor.ActorRefFactory" id="akka.actor;TypedActorFactory.actorFactory">actorFactory</a>: <a href="ActorRefProvider.scala.html#akka.actor;ActorRefFactory" title="akka.actor.ActorRefFactory">ActorRefFactory</a>

  <span class="comment">/**
   * Underlying dependency to a TypedActorExtension, which can either be contextual or ActorSystem &quot;global&quot;
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; akka.actor.TypedActorExtension" id="akka.actor;TypedActorFactory.typedActor">typedActor</a>: <a href="#akka.actor;TypedActorExtension" title="akka.actor.TypedActorExtension">TypedActorExtension</a>

  <span class="comment">/**
   * Stops the underlying ActorRef for the supplied TypedActor proxy,
   * if any, returns whether it could find the find the ActorRef or not
   */</span>
  <span class="keyword">def</span> <a title="(proxy: AnyRef)Boolean" id="akka.actor;TypedActorFactory.stop">stop</a><span class="delimiter">(</span><a title="AnyRef" id="akka.actor;TypedActorFactory.stop.proxy">proxy</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#akka.actor;TypedActorFactory.getActorRefFor" title="(proxy: AnyRef)akka.actor.ActorRef">getActorRefFor</a><span class="delimiter">(</span><a href="#akka.actor;TypedActorFactory.stop.proxy" title="AnyRef">proxy</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span> ⇒ <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">case</span> <a title="akka.actor.ActorRef" id="akka.actor;TypedActorFactory.stop.ref">ref</a>  ⇒ <a href="#akka.actor;TypedActorFactory.stop.ref" title="akka.actor.ActorRef">ref</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="akka.actor.InternalActorRef" class="delimiter">[</span><a href="ActorRef.scala.html#akka.actor;InternalActorRef" title="akka.actor.InternalActorRef">InternalActorRef</a><span class="delimiter">]</span>.<a href="ActorRef.scala.html#akka.actor;InternalActorRef.stop" title="()Unit">stop</a>; <span title="Boolean(true)" class="keyword">true</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Sends a PoisonPill the underlying ActorRef for the supplied TypedActor proxy,
   * if any, returns whether it could find the find the ActorRef or not
   */</span>
  <span class="keyword">def</span> <a title="(proxy: AnyRef)Boolean" id="akka.actor;TypedActorFactory.poisonPill">poisonPill</a><span class="delimiter">(</span><a title="AnyRef" id="akka.actor;TypedActorFactory.poisonPill.proxy">proxy</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#akka.actor;TypedActorFactory.getActorRefFor" title="(proxy: AnyRef)akka.actor.ActorRef">getActorRefFor</a><span class="delimiter">(</span><a href="#akka.actor;TypedActorFactory.poisonPill.proxy" title="AnyRef">proxy</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span> ⇒ <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">case</span> <a title="akka.actor.ActorRef" id="akka.actor;TypedActorFactory.poisonPill.ref">ref</a>  ⇒ <a href="package.scala.html#akka.actor.package.actorRef2Scala" title="akka.actor.ScalaActorRef" id="akka.actor;TypedActorFactory.poisonPill.qual$1">ref</a> <a href="ActorRef.scala.html#akka.actor;ScalaActorRef.!$default$2" title="akka.actor.ActorRef" id="akka.actor;TypedActorFactory.poisonPill.x$3">!</a> <a href="Actor.scala.html#akka.actor.PoisonPill" title="akka.actor.PoisonPill.type" id="akka.actor;TypedActorFactory.poisonPill.x$2">PoisonPill</a>; <span title="Boolean(true)" class="keyword">true</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns wether the supplied AnyRef is a TypedActor proxy or not
   */</span>
  <span class="keyword">def</span> <a title="(proxyOrNot: AnyRef)Boolean" id="akka.actor;TypedActorFactory.isTypedActor">isTypedActor</a><span class="delimiter">(</span><a title="AnyRef" id="akka.actor;TypedActorFactory.isTypedActor.proxyOrNot">proxyOrNot</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span>

  <span class="comment">/**
   * Retrieves the underlying ActorRef for the supplied TypedActor proxy, or null if none found
   */</span>
  <span class="keyword">def</span> <a title="(proxy: AnyRef)akka.actor.ActorRef" id="akka.actor;TypedActorFactory.getActorRefFor">getActorRefFor</a><span class="delimiter">(</span><a title="AnyRef" id="akka.actor;TypedActorFactory.getActorRefFor.proxy">proxy</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span>: <a href="ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>

  <span class="comment">/**
   * Creates a new TypedActor with the specified properties
   */</span>
  <span class="keyword">def</span> <a title="[R &lt;: AnyRef, T &lt;: R](props: akka.actor.TypedProps[T])R" id="akka.actor;TypedActorFactory.typedActorOf(37c034a9a2)">typedActorOf</a><span class="delimiter">[</span><a title=" &lt;: AnyRef" id="akka.actor;TypedActorFactory.typedActorOf(37c034a9a2);R">R</a> &lt;: AnyRef, <a title=" &lt;: R" id="akka.actor;TypedActorFactory.typedActorOf(37c034a9a2);T">T</a> &lt;: R<span class="delimiter">]</span><span class="delimiter">(</span><a title="akka.actor.TypedProps[T]" id="akka.actor;TypedActorFactory.typedActorOf(37c034a9a2).props">props</a>: <a href="#akka.actor;TypedProps.equals" title="akka.actor.TypedProps[T]">TypedProps</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.actor;TypedActorFactory.typedActorOf(37c034a9a2);R" title="R">R</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.util.concurrent.atomic.AtomicReference[R]" id="akka.actor;TypedActorFactory.typedActorOf(37c034a9a2).proxyVar">proxyVar</a> = <span title="()java.util.concurrent.atomic.AtomicReference[R]" class="keyword">new</span> <span title="java.util.concurrent.atomic.AtomicReference[R]">AtomVar</span><span class="delimiter">[</span>R<span class="delimiter">]</span> <span class="comment">//Chicken'n'egg-resolver</span>
    <span class="keyword">val</span> <a title="() =&gt; T" id="akka.actor;TypedActorFactory.typedActorOf(37c034a9a2).c">c</a> = <a href="#akka.actor;TypedActorFactory.typedActorOf(37c034a9a2).props" title="akka.actor.TypedProps[T]">props</a>.<a href="#akka.actor;TypedProps.copy$default$2" title="=&gt; () =&gt; T">creator</a> <span class="comment">//Cache this to avoid closing over the Props</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.Seq[Class[_]]" id="akka.actor;TypedActorFactory.typedActorOf(37c034a9a2).i">i</a> = <a href="#akka.actor;TypedActorFactory.typedActorOf(37c034a9a2).props" title="akka.actor.TypedProps[T]">props</a>.<a href="#akka.actor;TypedProps.copy$default$1" title="=&gt; scala.collection.immutable.Seq[Class[_]]">interfaces</a> <span class="comment">//Cache this to avoid closing over the Props</span>
    <span class="keyword">val</span> <a title="akka.actor.Props" id="akka.actor;TypedActorFactory.typedActorOf(37c034a9a2).ap">ap</a> = <a href="Props.scala.html#akka.actor.Props.apply(b09a6a316b)" title="(creator: =&gt; akka.actor.TypedActor.TypedActor[R,T])(implicit evidence$2: scala.reflect.ClassTag[akka.actor.TypedActor.TypedActor[R,T]])akka.actor.Props">Props</a><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[akka.actor.TypedActor.TypedActor[R,T]]" class="delimiter">(</span><span title="akka.actor.TypedActor.TypedActor[R,T]" class="keyword">new</span> TypedActor.<a href="#akka.actor.TypedActor;TypedActor" title="akka.actor.TypedActor.TypedActor[R,T]">TypedActor</a><span class="delimiter">[</span>R, T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#akka.actor;TypedActorFactory.typedActorOf(37c034a9a2).proxyVar" title="java.util.concurrent.atomic.AtomicReference[R]">proxyVar</a>, <a href="#akka.actor;TypedActorFactory.typedActorOf(37c034a9a2).c" title="()T">c</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#akka.actor;TypedActorFactory.typedActorOf(37c034a9a2).i" title="scala.collection.immutable.Seq[Class[_]]">i</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="Props.scala.html#akka.actor;Props.withDeploy" title="(d: akka.actor.Deploy)akka.actor.Props">withDeploy</a><span class="delimiter">(</span><a href="#akka.actor;TypedActorFactory.typedActorOf(37c034a9a2).props" title="akka.actor.TypedProps[T]">props</a>.<a href="#akka.actor;TypedProps.actorProps" title="()akka.actor.Props">actorProps</a>.<a href="Props.scala.html#akka.actor;Props.deploy" title="=&gt; akka.actor.Deploy">deploy</a><span class="delimiter">)</span>
    <a href="#akka.actor;TypedActorFactory.typedActor" title="=&gt; akka.actor.TypedActorExtension">typedActor</a>.<a href="#akka.actor;TypedActorExtension.createActorRefProxy" title="(props: akka.actor.TypedProps[T], proxyVar: java.util.concurrent.atomic.AtomicReference[R], actorRef: =&gt; akka.actor.ActorRef)R">createActorRefProxy</a><span class="delimiter">(</span><a href="#akka.actor;TypedActorFactory.typedActorOf(37c034a9a2).props" title="akka.actor.TypedProps[T]">props</a>, <a href="#akka.actor;TypedActorFactory.typedActorOf(37c034a9a2).proxyVar" title="java.util.concurrent.atomic.AtomicReference[R]">proxyVar</a>, <a href="#akka.actor;TypedActorFactory.actorFactory" title="=&gt; akka.actor.ActorRefFactory">actorFactory</a>.<a href="ActorRefProvider.scala.html#akka.actor;ActorRefFactory.actorOf(59f1e43182)" title="(props: akka.actor.Props)akka.actor.ActorRef">actorOf</a><span class="delimiter">(</span><a href="#akka.actor;TypedActorFactory.typedActorOf(37c034a9a2).ap" title="akka.actor.Props">ap</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Creates a new TypedActor with the specified properties
   */</span>
  <span class="keyword">def</span> <a title="[R &lt;: AnyRef, T &lt;: R](props: akka.actor.TypedProps[T], name: String)R" id="akka.actor;TypedActorFactory.typedActorOf(0e61703caf)">typedActorOf</a><span class="delimiter">[</span><a title=" &lt;: AnyRef" id="akka.actor;TypedActorFactory.typedActorOf(0e61703caf);R">R</a> &lt;: AnyRef, <a title=" &lt;: R" id="akka.actor;TypedActorFactory.typedActorOf(0e61703caf);T">T</a> &lt;: R<span class="delimiter">]</span><span class="delimiter">(</span><a title="akka.actor.TypedProps[T]" id="akka.actor;TypedActorFactory.typedActorOf(0e61703caf).props">props</a>: <a href="#akka.actor;TypedProps.equals" title="akka.actor.TypedProps[T]">TypedProps</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="String" id="akka.actor;TypedActorFactory.typedActorOf(0e61703caf).name">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#akka.actor;TypedActorFactory.typedActorOf(0e61703caf);R" title="R">R</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.util.concurrent.atomic.AtomicReference[R]" id="akka.actor;TypedActorFactory.typedActorOf(0e61703caf).proxyVar">proxyVar</a> = <span title="()java.util.concurrent.atomic.AtomicReference[R]" class="keyword">new</span> <span title="java.util.concurrent.atomic.AtomicReference[R]">AtomVar</span><span class="delimiter">[</span>R<span class="delimiter">]</span> <span class="comment">//Chicken'n'egg-resolver</span>
    <span class="keyword">val</span> <a title="() =&gt; T" id="akka.actor;TypedActorFactory.typedActorOf(0e61703caf).c">c</a> = <a href="#akka.actor;TypedActorFactory.typedActorOf(0e61703caf).props" title="akka.actor.TypedProps[T]">props</a>.<a href="#akka.actor;TypedProps.copy$default$2" title="=&gt; () =&gt; T">creator</a> <span class="comment">//Cache this to avoid closing over the Props</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.Seq[Class[_]]" id="akka.actor;TypedActorFactory.typedActorOf(0e61703caf).i">i</a> = <a href="#akka.actor;TypedActorFactory.typedActorOf(0e61703caf).props" title="akka.actor.TypedProps[T]">props</a>.<a href="#akka.actor;TypedProps.copy$default$1" title="=&gt; scala.collection.immutable.Seq[Class[_]]">interfaces</a> <span class="comment">//Cache this to avoid closing over the Props</span>
    <span class="keyword">val</span> <a title="akka.actor.Props" id="akka.actor;TypedActorFactory.typedActorOf(0e61703caf).ap">ap</a> = <a href="Props.scala.html#akka.actor.Props.apply(b09a6a316b)" title="(creator: =&gt; akka.actor.TypedActor.TypedActor[R,T])(implicit evidence$2: scala.reflect.ClassTag[akka.actor.TypedActor.TypedActor[R,T]])akka.actor.Props">Props</a><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[akka.actor.TypedActor.TypedActor[R,T]]" class="delimiter">(</span><span title="akka.actor.TypedActor.TypedActor[R,T]" class="keyword">new</span> akka.actor.TypedActor.<a href="#akka.actor.TypedActor;TypedActor" title="akka.actor.TypedActor.TypedActor[R,T]">TypedActor</a><span class="delimiter">[</span>R, T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#akka.actor;TypedActorFactory.typedActorOf(0e61703caf).proxyVar" title="java.util.concurrent.atomic.AtomicReference[R]">proxyVar</a>, <a href="#akka.actor;TypedActorFactory.typedActorOf(0e61703caf).c" title="()T">c</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#akka.actor;TypedActorFactory.typedActorOf(0e61703caf).i" title="scala.collection.immutable.Seq[Class[_]]">i</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="Props.scala.html#akka.actor;Props.withDeploy" title="(d: akka.actor.Deploy)akka.actor.Props">withDeploy</a><span class="delimiter">(</span><a href="#akka.actor;TypedActorFactory.typedActorOf(0e61703caf).props" title="akka.actor.TypedProps[T]">props</a>.<a href="#akka.actor;TypedProps.actorProps" title="()akka.actor.Props">actorProps</a>.<a href="Props.scala.html#akka.actor;Props.deploy" title="=&gt; akka.actor.Deploy">deploy</a><span class="delimiter">)</span>
    <a href="#akka.actor;TypedActorFactory.typedActor" title="=&gt; akka.actor.TypedActorExtension">typedActor</a>.<a href="#akka.actor;TypedActorExtension.createActorRefProxy" title="(props: akka.actor.TypedProps[T], proxyVar: java.util.concurrent.atomic.AtomicReference[R], actorRef: =&gt; akka.actor.ActorRef)R">createActorRefProxy</a><span class="delimiter">(</span><a href="#akka.actor;TypedActorFactory.typedActorOf(0e61703caf).props" title="akka.actor.TypedProps[T]">props</a>, <a href="#akka.actor;TypedActorFactory.typedActorOf(0e61703caf).proxyVar" title="java.util.concurrent.atomic.AtomicReference[R]">proxyVar</a>, <a href="#akka.actor;TypedActorFactory.actorFactory" title="=&gt; akka.actor.ActorRefFactory">actorFactory</a>.<a href="ActorRefProvider.scala.html#akka.actor;ActorRefFactory.actorOf(874c98419a)" title="(props: akka.actor.Props, name: String)akka.actor.ActorRef">actorOf</a><span class="delimiter">(</span><a href="#akka.actor;TypedActorFactory.typedActorOf(0e61703caf).ap" title="akka.actor.Props">ap</a>, <a href="#akka.actor;TypedActorFactory.typedActorOf(0e61703caf).name" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Creates a TypedActor that intercepts the calls and forwards them as [[akka.actor.TypedActor.MethodCall]]
   * to the provided ActorRef.
   */</span>
  <span class="keyword">def</span> <a title="[R &lt;: AnyRef, T &lt;: R](props: akka.actor.TypedProps[T], actorRef: akka.actor.ActorRef)R" id="akka.actor;TypedActorFactory.typedActorOf(80f878914f)">typedActorOf</a><span class="delimiter">[</span><a title=" &lt;: AnyRef" id="akka.actor;TypedActorFactory.typedActorOf(80f878914f);R">R</a> &lt;: AnyRef, <a title=" &lt;: R" id="akka.actor;TypedActorFactory.typedActorOf(80f878914f);T">T</a> &lt;: R<span class="delimiter">]</span><span class="delimiter">(</span><a title="akka.actor.TypedProps[T]" id="akka.actor;TypedActorFactory.typedActorOf(80f878914f).props">props</a>: <a href="#akka.actor;TypedProps.equals" title="akka.actor.TypedProps[T]">TypedProps</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="akka.actor.ActorRef" id="akka.actor;TypedActorFactory.typedActorOf(80f878914f).actorRef">actorRef</a>: <a href="ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: <a href="#akka.actor;TypedActorFactory.typedActorOf(80f878914f);R" title="R">R</a> =
    <a href="#akka.actor;TypedActorFactory.typedActor" title="=&gt; akka.actor.TypedActorExtension">typedActor</a>.<a href="#akka.actor;TypedActorExtension.createActorRefProxy" title="(props: akka.actor.TypedProps[T], proxyVar: java.util.concurrent.atomic.AtomicReference[R], actorRef: =&gt; akka.actor.ActorRef)R">createActorRefProxy</a><span class="delimiter">(</span><a href="#akka.actor;TypedActorFactory.typedActorOf(80f878914f).props" title="akka.actor.TypedProps[T]">props</a>, <span title="Null(null)" class="keyword">null</span>: <span title="java.util.concurrent.atomic.AtomicReference[R]">AtomVar</span><span class="delimiter">[</span>R<span class="delimiter">]</span>, <a href="#akka.actor;TypedActorFactory.typedActorOf(80f878914f).actorRef" title="akka.actor.ActorRef">actorRef</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * This represents the TypedActor Akka Extension, access to the functionality is done through a given ActorSystem.
 */</span>
<span title="AnyRef" class="keyword">object</span> <a title="akka.actor.TypedActor.type" id="akka.actor.TypedActor">TypedActor</a> <a href="#akka.actor.TypedActor" title="akka.actor.TypedActor.type" class="keyword">extends</a> <a href="Extension.scala.html#akka.actor;ExtensionId" title="akka.actor.ExtensionId[akka.actor.TypedActorExtension]">ExtensionId</a><span class="delimiter">[</span>TypedActorExtension<span class="delimiter">]</span> <span class="keyword">with</span> <a href="Extension.scala.html#akka.actor;ExtensionIdProvider" title="akka.actor.ExtensionIdProvider">ExtensionIdProvider</a> <span class="delimiter">{</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(system: akka.actor.ActorSystem)akka.actor.TypedActorExtension" id="akka.actor.TypedActor.get(12f45c39e3)">get</a><span class="delimiter">(</span><a title="akka.actor.ActorSystem" id="akka.actor.TypedActor.get(12f45c39e3).system">system</a>: <a href="ActorSystem.scala.html#akka.actor;ActorSystem" title="akka.actor.ActorSystem">ActorSystem</a><span class="delimiter">)</span>: <a href="#akka.actor;TypedActorExtension" title="akka.actor.TypedActorExtension">TypedActorExtension</a> = <span class="keyword">super</span>.<a href="Extension.scala.html#akka.actor;ExtensionId.get" title="(system: akka.actor.ActorSystem)akka.actor.TypedActorExtension">get</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor.get(12f45c39e3).system" title="akka.actor.ActorSystem">system</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="()akka.actor.TypedActor.type" id="akka.actor.TypedActor.lookup">lookup</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="keyword">this</span>
  <span class="keyword">def</span> <a title="(system: akka.actor.ExtendedActorSystem)akka.actor.TypedActorExtension" id="akka.actor.TypedActor.createExtension">createExtension</a><span class="delimiter">(</span><a title="akka.actor.ExtendedActorSystem" id="akka.actor.TypedActor.createExtension.system">system</a>: <a href="ActorSystem.scala.html#akka.actor;ExtendedActorSystem" title="akka.actor.ExtendedActorSystem">ExtendedActorSystem</a><span class="delimiter">)</span>: <a href="#akka.actor;TypedActorExtension" title="akka.actor.TypedActorExtension">TypedActorExtension</a> = <span title="akka.actor.TypedActorExtension" class="keyword">new</span> <a href="#akka.actor;TypedActorExtension" title="akka.actor.TypedActorExtension">TypedActorExtension</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor.createExtension.system" title="akka.actor.ExtendedActorSystem">system</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns a contextual TypedActorFactory of this extension, this means that any TypedActors created by this TypedActorExtension
   * will be children to the specified context, this allows for creating hierarchies of TypedActors.
   * Do _not_ let this instance escape the TypedActor since that will not be thread-safe.
   */</span>
  <span class="keyword">def</span> <a title="(context: akka.actor.ActorContext)akka.actor.TypedActorFactory" id="akka.actor.TypedActor.apply(fcc7157c67)">apply</a><span class="delimiter">(</span><a title="akka.actor.ActorContext" id="akka.actor.TypedActor.apply(fcc7157c67).context">context</a>: <a href="ActorCell.scala.html#akka.actor;ActorContext" title="akka.actor.ActorContext">ActorContext</a><span class="delimiter">)</span>: <a href="#akka.actor;TypedActorFactory" title="akka.actor.TypedActorFactory">TypedActorFactory</a> = <a href="#akka.actor.ContextualTypedActorFactory.readResolve" title="(typedActor: akka.actor.TypedActorExtension, actorFactory: akka.actor.ActorContext)akka.actor.ContextualTypedActorFactory">ContextualTypedActorFactory</a><span class="delimiter">(</span><a href="Extension.scala.html#akka.actor;ExtensionId.apply" title="(system: akka.actor.ActorSystem)akka.actor.TypedActorExtension">apply</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor.apply(fcc7157c67).context" title="akka.actor.ActorContext">context</a>.<a href="ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a><span class="delimiter">)</span>, <a href="#akka.actor.TypedActor.apply(fcc7157c67).context" title="akka.actor.ActorContext">context</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns a contextual TypedActorFactory of this extension, this means that any TypedActors created by this TypedActorExtension
   * will be children to the specified context, this allows for creating hierarchies of TypedActors.
   * Do _not_ let this instance escape the TypedActor since that will not be thread-safe.
   *
   * Java API
   */</span>
  <span class="keyword">def</span> <a title="(context: akka.actor.ActorContext)akka.actor.TypedActorFactory" id="akka.actor.TypedActor.get(fcc7157c67)">get</a><span class="delimiter">(</span><a title="akka.actor.ActorContext" id="akka.actor.TypedActor.get(fcc7157c67).context">context</a>: <a href="ActorCell.scala.html#akka.actor;ActorContext" title="akka.actor.ActorContext">ActorContext</a><span class="delimiter">)</span>: <a href="#akka.actor;TypedActorFactory" title="akka.actor.TypedActorFactory">TypedActorFactory</a> = <a href="#akka.actor.TypedActor.apply(fcc7157c67)" title="(context: akka.actor.ActorContext)akka.actor.TypedActorFactory">apply</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor.get(fcc7157c67).context" title="akka.actor.ActorContext">context</a><span class="delimiter">)</span>

  <span class="comment">/**
   * This class represents a Method call, and has a reference to the Method to be called and the parameters to supply
   * It's sent to the ActorRef backing the TypedActor and can be serialized and deserialized
   */</span>
  <span class="keyword">case class</span> <a title="class MethodCall extends AnyRef with Product with Serializable" id="akka.actor.TypedActor.MethodCall.readResolve">MethodCall</a><a href="#akka.actor.TypedActor.MethodCall.readResolve" title="Product" class="delimiter">(</a><a title="java.lang.reflect.Method" id="akka.actor.TypedActor;MethodCall.method">method</a>: <span title="java.lang.reflect.Method">Method</span>, <a title="Array[AnyRef]" id="akka.actor.TypedActor;MethodCall.parameters">parameters</a>: <span title="Array[AnyRef]">Array</span><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="akka.actor.TypedActor;MethodCall.isOneWay">isOneWay</a> = <a href="#akka.actor.TypedActor;MethodCall.method" title="=&gt; java.lang.reflect.Method">method</a>.<span title="()Class[_]">getReturnType</span> <span title="(x$1: AnyRef)Boolean">==</span> java.lang.<span title="Void.type">Void</span>.<span title="Class[Void]">TYPE</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="akka.actor.TypedActor;MethodCall.returnsFuture">returnsFuture</a> = classOf<span title="Class[scala.concurrent.Future[_]](classOf[scala.concurrent.Future])" class="delimiter">[</span>Future<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> <span title="(x$1: Class[_])Boolean">isAssignableFrom</span> <a href="#akka.actor.TypedActor;MethodCall.method" title="=&gt; java.lang.reflect.Method">method</a>.<span title="()Class[_]">getReturnType</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="akka.actor.TypedActor;MethodCall.returnsJOption">returnsJOption</a> = classOf<span title="Class[akka.japi.Option[_]](classOf[akka.japi.Option])" class="delimiter">[</span>akka.japi.Option<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> <span title="(x$1: Class[_])Boolean">isAssignableFrom</span> <a href="#akka.actor.TypedActor;MethodCall.method" title="=&gt; java.lang.reflect.Method">method</a>.<span title="()Class[_]">getReturnType</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="akka.actor.TypedActor;MethodCall.returnsOption">returnsOption</a> = classOf<span title="Class[Option[_]](classOf[scala.Option])" class="delimiter">[</span>scala.Option<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> <span title="(x$1: Class[_])Boolean">isAssignableFrom</span> <a href="#akka.actor.TypedActor;MethodCall.method" title="=&gt; java.lang.reflect.Method">method</a>.<span title="()Class[_]">getReturnType</span>

    <span class="comment">/**
     * Invokes the Method on the supplied instance
     *
     * @throws the underlying exception if there's an InvocationTargetException thrown on the invocation
     */</span>
    <span class="keyword">def</span> <a title="(instance: AnyRef)AnyRef" id="akka.actor.TypedActor;MethodCall.apply">apply</a><span class="delimiter">(</span><a title="AnyRef" id="akka.actor.TypedActor;MethodCall.apply.instance">instance</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span>: <span title="AnyRef">AnyRef</span> = <span class="keyword">try</span> <span class="delimiter">{</span>
      <a href="#akka.actor.TypedActor;MethodCall.parameters" title="=&gt; Array[AnyRef]">parameters</a> <span title="AnyRef" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span>                     ⇒ <a href="#akka.actor.TypedActor;MethodCall.method" title="=&gt; java.lang.reflect.Method">method</a>.<span title="(x$1: Any, x$2: &lt;repeated...&gt;[Object])Object">invoke</span><span class="delimiter">(</span><a href="#akka.actor.TypedActor;MethodCall.apply.instance" title="AnyRef">instance</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Array[AnyRef]">args</span> <span class="keyword">if</span> <span title="Array[AnyRef]">args</span>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span> ⇒ <a href="#akka.actor.TypedActor;MethodCall.method" title="=&gt; java.lang.reflect.Method">method</a>.<span title="(x$1: Any, x$2: &lt;repeated...&gt;[Object])Object">invoke</span><span class="delimiter">(</span><a href="#akka.actor.TypedActor;MethodCall.apply.instance" title="AnyRef">instance</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Array[AnyRef]">args</span>                     ⇒ <a href="#akka.actor.TypedActor;MethodCall.method" title="=&gt; java.lang.reflect.Method">method</a>.<span title="(x$1: Any, x$2: &lt;repeated...&gt;[Object])Object">invoke</span><span class="delimiter">(</span><a href="#akka.actor.TypedActor;MethodCall.apply.instance" title="AnyRef">instance</a>, <span title="Array[AnyRef]">args</span>: _*<span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="java.lang.reflect.InvocationTargetException" id="akka.actor.TypedActor;MethodCall.apply.i">i</a>: <span title="java.lang.reflect.InvocationTargetException">InvocationTargetException</span> ⇒ <span title="Nothing" class="keyword">throw</span> <a href="#akka.actor.TypedActor;MethodCall.apply.i" title="java.lang.reflect.InvocationTargetException">i</a>.<span title="()Throwable">getTargetException</span> <span class="delimiter">}</span>

    @throws<span class="delimiter">(</span>classOf<span class="delimiter">[</span>ObjectStreamException<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">private</span> <span class="keyword">def</span> <a title="()AnyRef" id="akka.actor.TypedActor;MethodCall.writeReplace">writeReplace</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="AnyRef">AnyRef</span> = <a href="#akka.actor.TypedActor;MethodCall.parameters" title="=&gt; Array[AnyRef]">parameters</a> <span title="AnyRef" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span>                 ⇒ <a href="#akka.actor.TypedActor.SerializedMethodCall.readResolve" title="(ownerType: Class[_], methodName: String, parameterTypes: Array[Class[_]], serializedParameters: Array[(Int, Class[_], Array[Byte])])akka.actor.TypedActor.SerializedMethodCall">SerializedMethodCall</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;MethodCall.method" title="=&gt; java.lang.reflect.Method">method</a>.<span title="()Class[_]">getDeclaringClass</span>, <a href="#akka.actor.TypedActor;MethodCall.method" title="=&gt; java.lang.reflect.Method">method</a>.<span title="()String">getName</span>, <a href="#akka.actor.TypedActor;MethodCall.method" title="=&gt; java.lang.reflect.Method">method</a>.<span title="()Array[Class[_]]">getParameterTypes</span>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Array[AnyRef]">ps</span> <span class="keyword">if</span> <span title="Array[AnyRef]">ps</span>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span> ⇒ <a href="#akka.actor.TypedActor.SerializedMethodCall.readResolve" title="(ownerType: Class[_], methodName: String, parameterTypes: Array[Class[_]], serializedParameters: Array[(Int, Class[_], Array[Byte])])akka.actor.TypedActor.SerializedMethodCall">SerializedMethodCall</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;MethodCall.method" title="=&gt; java.lang.reflect.Method">method</a>.<span title="()Class[_]">getDeclaringClass</span>, <a href="#akka.actor.TypedActor;MethodCall.method" title="=&gt; java.lang.reflect.Method">method</a>.<span title="()String">getName</span>, <a href="#akka.actor.TypedActor;MethodCall.method" title="=&gt; java.lang.reflect.Method">method</a>.<span title="()Array[Class[_]]">getParameterTypes</span>, <span title="(xs: (Int, Class[_], Array[Byte])*)(implicit evidence$2: scala.reflect.ClassTag[(Int, Class[_], Array[Byte])])Array[(Int, Class[_], Array[Byte])]">Array</span><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[(Int, Class[_], Array[Byte])]" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Array[AnyRef]">ps</span> ⇒
        <span class="keyword">val</span> <a title="akka.serialization.Serialization" id="akka.actor.TypedActor;MethodCall.writeReplace.serialization">serialization</a> = <a href="Extension.scala.html#akka.actor;ExtensionId.apply" title="(system: akka.actor.ActorSystem)akka.serialization.Serialization">SerializationExtension</a><span class="delimiter">(</span>akka.serialization.<a href="../serialization/Serializer.scala.html#akka.serialization.JavaSerializer" title="akka.serialization.JavaSerializer.type">JavaSerializer</a>.<a href="../serialization/Serializer.scala.html#akka.serialization.JavaSerializer.currentSystem" title="=&gt; akka.serialization.JavaSerializer.CurrentSystem">currentSystem</a>.<span title="=&gt; akka.actor.ExtendedActorSystem">value</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Array[(Int, Class[_], Array[Byte])]" id="akka.actor.TypedActor;MethodCall.writeReplace.serializedParameters">serializedParameters</a> = <span title="Array.type">Array</span>.<span title="[T](n1: Int)(implicit evidence$3: scala.reflect.ClassTag[T])Array[T]">ofDim</span><span title="(n1: Int)(implicit evidence$3: scala.reflect.ClassTag[(Int, Class[_], Array[Byte])])Array[(Int, Class[_], Array[Byte])]" class="delimiter">[</span><span title="(Int, Class[_], Array[Byte])" class="delimiter">(</span>Int, Class<span class="delimiter">[</span>_<span class="delimiter">]</span>, Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[(Int, Class[_], Array[Byte])]" class="delimiter">(</span><span title="Array[AnyRef]">ps</span>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="akka.actor.TypedActor;MethodCall.writeReplace.$anonfun.i">i</a> ← <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(f: Int =&gt; Unit)Unit">until</span> <span title="Array[AnyRef]">ps</span>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="AnyRef" id="akka.actor.TypedActor;MethodCall.writeReplace.$anonfun.p">p</a> = <span title="(i: Int)AnyRef">ps</span><span class="delimiter">(</span><a href="#akka.actor.TypedActor;MethodCall.writeReplace.$anonfun.i" title="Int">i</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="akka.serialization.Serializer" id="akka.actor.TypedActor;MethodCall.writeReplace.$anonfun.s">s</a> = <a href="#akka.actor.TypedActor;MethodCall.writeReplace.serialization" title="akka.serialization.Serialization">serialization</a>.<a href="../serialization/Serialization.scala.html#akka.serialization;Serialization.findSerializerFor" title="(o: AnyRef)akka.serialization.Serializer">findSerializerFor</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;MethodCall.writeReplace.$anonfun.p" title="AnyRef">p</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Class[_ &lt;: AnyRef]" id="akka.actor.TypedActor;MethodCall.writeReplace.$anonfun.m">m</a> = <span title="Class[?0]" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.actor.TypedActor;MethodCall.writeReplace.$anonfun.s" title="akka.serialization.Serializer">s</a>.<a href="../serialization/Serializer.scala.html#akka.serialization;Serializer.includeManifest" title="=&gt; Boolean">includeManifest</a><span class="delimiter">)</span> <a href="#akka.actor.TypedActor;MethodCall.writeReplace.$anonfun.p" title="AnyRef">p</a>.<span title="()Class[_]">getClass</span> <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span>
          <a href="#akka.actor.TypedActor;MethodCall.writeReplace.serializedParameters" title="(i: Int, x: (Int, Class[_], Array[Byte]))Unit">serializedParameters</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;MethodCall.writeReplace.$anonfun.i" title="Int">i</a><span class="delimiter">)</span> = <span title="(_1: Int, _2: Class[?0], _3: Array[Byte])(Int, Class[?0], Array[Byte])" class="delimiter">(</span><a href="#akka.actor.TypedActor;MethodCall.writeReplace.$anonfun.s" title="akka.serialization.Serializer">s</a>.<a href="../serialization/Serializer.scala.html#akka.serialization;Serializer.identifier" title="=&gt; Int">identifier</a>, <a href="#akka.actor.TypedActor;MethodCall.writeReplace.$anonfun.m" title="Class[_ &lt;: AnyRef]">m</a>, <a href="#akka.actor.TypedActor;MethodCall.writeReplace.$anonfun.s" title="akka.serialization.Serializer">s</a> <a href="../serialization/Serializer.scala.html#akka.serialization;Serializer.toBinary" title="(o: AnyRef)Array[Byte]">toBinary</a> <a href="#akka.actor.TypedActor;MethodCall.parameters" title="(i: Int)AnyRef">parameters</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;MethodCall.writeReplace.$anonfun.i" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">//Mutable for the sake of sanity</span>
        <span class="delimiter">}</span>

        <a href="#akka.actor.TypedActor.SerializedMethodCall.readResolve" title="(ownerType: Class[_], methodName: String, parameterTypes: Array[Class[_]], serializedParameters: Array[(Int, Class[_], Array[Byte])])akka.actor.TypedActor.SerializedMethodCall">SerializedMethodCall</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;MethodCall.method" title="=&gt; java.lang.reflect.Method">method</a>.<span title="()Class[_]">getDeclaringClass</span>, <a href="#akka.actor.TypedActor;MethodCall.method" title="=&gt; java.lang.reflect.Method">method</a>.<span title="()String">getName</span>, <a href="#akka.actor.TypedActor;MethodCall.method" title="=&gt; java.lang.reflect.Method">method</a>.<span title="()Array[Class[_]]">getParameterTypes</span>, <a href="#akka.actor.TypedActor;MethodCall.writeReplace.serializedParameters" title="Array[(Int, Class[_], Array[Byte])]">serializedParameters</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * INTERNAL API
   *
   * Represents the serialized form of a MethodCall, uses readResolve and writeReplace to marshall the call
   */</span>
  <span class="keyword">private</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">case class</span> <a title="class SerializedMethodCall extends AnyRef with Product with Serializable" id="akka.actor.TypedActor.SerializedMethodCall.readResolve">SerializedMethodCall</a><a href="#akka.actor.TypedActor.SerializedMethodCall.readResolve" title="Product" class="delimiter">(</a><a title="Class[_]" id="akka.actor.TypedActor;SerializedMethodCall.ownerType">ownerType</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="String" id="akka.actor.TypedActor;SerializedMethodCall.methodName">methodName</a>: <span title="String">String</span>, <a title="Array[Class[_]]" id="akka.actor.TypedActor;SerializedMethodCall.parameterTypes">parameterTypes</a>: <span title="Array[Class[_]]">Array</span><span class="delimiter">[</span>Class<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Array[(Int, Class[_], Array[Byte])]" id="akka.actor.TypedActor;SerializedMethodCall.serializedParameters">serializedParameters</a>: <span title="Array[(Int, Class[_], Array[Byte])]">Array</span><span class="delimiter">[</span><span class="delimiter">(</span>Int, Class<span class="delimiter">[</span>_<span class="delimiter">]</span>, Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>

    <span class="comment">//TODO implement writeObject and readObject to serialize</span>
    <span class="comment">//TODO Possible optimization is to special encode the parameter-types to conserve space</span>
    @throws<span class="delimiter">(</span>classOf<span class="delimiter">[</span>ObjectStreamException<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">private</span> <span class="keyword">def</span> <a title="()AnyRef" id="akka.actor.TypedActor;SerializedMethodCall.readResolve">readResolve</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="AnyRef">AnyRef</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="akka.actor.ExtendedActorSystem" id="akka.actor.TypedActor;SerializedMethodCall.readResolve.system">system</a> = akka.serialization.<a href="../serialization/Serializer.scala.html#akka.serialization.JavaSerializer" title="akka.serialization.JavaSerializer.type">JavaSerializer</a>.<a href="../serialization/Serializer.scala.html#akka.serialization.JavaSerializer.currentSystem" title="=&gt; akka.serialization.JavaSerializer.CurrentSystem">currentSystem</a>.<span title="=&gt; akka.actor.ExtendedActorSystem">value</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.actor.TypedActor;SerializedMethodCall.readResolve.system" title="akka.actor.ExtendedActorSystem">system</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span>
        <span class="string">&quot;Trying to deserialize a SerializedMethodCall without an ActorSystem in scope.&quot;</span> <span title="String(&quot;Trying to deserialize a SerializedMethodCall without an ActorSystem in scope. Use akka.serialization.Serialization.currentSystem.withValue(system) { ... }&quot;)">+</span>
          <span class="string">&quot; Use akka.serialization.Serialization.currentSystem.withValue(system) { ... }&quot;</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="akka.serialization.Serialization" id="akka.actor.TypedActor;SerializedMethodCall.readResolve.serialization">serialization</a> = <a href="Extension.scala.html#akka.actor;ExtensionId.apply" title="(system: akka.actor.ActorSystem)akka.serialization.Serialization">SerializationExtension</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;SerializedMethodCall.readResolve.system" title="akka.actor.ExtendedActorSystem">system</a><span class="delimiter">)</span>
      <a href="#akka.actor.TypedActor.MethodCall.readResolve" title="(method: java.lang.reflect.Method, parameters: Array[AnyRef])akka.actor.TypedActor.MethodCall">MethodCall</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;SerializedMethodCall.ownerType" title="=&gt; Class[_]">ownerType</a>.<span title="(x$1: String, x$2: &lt;repeated...&gt;[Class[_]])java.lang.reflect.Method">getDeclaredMethod</span><span class="delimiter">(</span><a href="#akka.actor.TypedActor;SerializedMethodCall.methodName" title="=&gt; String">methodName</a>, <a href="#akka.actor.TypedActor;SerializedMethodCall.parameterTypes" title="=&gt; Array[Class[_]]">parameterTypes</a>: _*<span class="delimiter">)</span>, <a href="#akka.actor.TypedActor;SerializedMethodCall.serializedParameters" title="=&gt; Array[(Int, Class[_], Array[Byte])]">serializedParameters</a> <span title="Array[AnyRef]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span>               ⇒ <span title="Null(null)" class="keyword">null</span>
        <span class="keyword">case</span> <span title="Array[(Int, Class[_], Array[Byte])]">a</span> <span class="keyword">if</span> <span title="Array[(Int, Class[_], Array[Byte])]">a</span>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span> ⇒ <span title="[T](xs: T*)(implicit evidence$2: scala.reflect.ClassTag[T])Array[T]">Array</span><span title="(xs: AnyRef*)(implicit evidence$2: scala.reflect.ClassTag[AnyRef])Array[AnyRef]" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span><span title="=&gt; scala.reflect.ClassTag[AnyRef]" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Array[(Int, Class[_], Array[Byte])]">a</span> ⇒
          <span class="keyword">val</span> <a title="Array[AnyRef]" id="akka.actor.TypedActor;SerializedMethodCall.readResolve.deserializedParameters">deserializedParameters</a>: <span title="Array[AnyRef]">Array</span><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span> = <span title="Array.type">Array</span>.<span title="[T](n1: Int)(implicit evidence$3: scala.reflect.ClassTag[T])Array[T]">ofDim</span><span title="(n1: Int)(implicit evidence$3: scala.reflect.ClassTag[AnyRef])Array[AnyRef]" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span><span title="=&gt; scala.reflect.ClassTag[AnyRef]" class="delimiter">(</span><span title="Array[(Int, Class[_], Array[Byte])]">a</span>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span class="comment">//Mutable for the sake of sanity</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="akka.actor.TypedActor;SerializedMethodCall.readResolve.$anonfun.i">i</a> ← <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(f: Int =&gt; Unit)Unit">until</span> <span title="Array[(Int, Class[_], Array[Byte])]">a</span>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a href="#akka.actor.TypedActor;SerializedMethodCall.readResolve.$anonfun.sId" title="(Int, Class[_0], Array[Byte])" class="delimiter">(</a><a href="#akka.actor.TypedActor;SerializedMethodCall.readResolve.$anonfun.x$1" title="Int" id="akka.actor.TypedActor;SerializedMethodCall.readResolve.$anonfun.sId">sId</a>, <a href="#akka.actor.TypedActor;SerializedMethodCall.readResolve.$anonfun.x$1" title="Class[_]" id="akka.actor.TypedActor;SerializedMethodCall.readResolve.$anonfun.manifest">manifest</a>, <a href="#akka.actor.TypedActor;SerializedMethodCall.readResolve.$anonfun.x$1" title="Array[Byte]" id="akka.actor.TypedActor;SerializedMethodCall.readResolve.$anonfun.bytes">bytes</a><span class="delimiter">)</span> = <span title="(i: Int)(Int, Class[_], Array[Byte])">a</span><span title="(Int, Class[_], Array[Byte]) @unchecked" class="delimiter">(</span><a href="#akka.actor.TypedActor;SerializedMethodCall.readResolve.$anonfun.i" title="Int">i</a><span class="delimiter">)</span>
            <a href="#akka.actor.TypedActor;SerializedMethodCall.readResolve.deserializedParameters" title="(i: Int, x: AnyRef)Unit">deserializedParameters</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;SerializedMethodCall.readResolve.$anonfun.i" title="Int">i</a><span class="delimiter">)</span> =
              <a href="#akka.actor.TypedActor;SerializedMethodCall.readResolve.serialization" title="akka.serialization.Serialization">serialization</a>.<a href="../serialization/Serialization.scala.html#akka.serialization;Serialization.serializerByIdentity" title="(key: Int)akka.serialization.Serializer">serializerByIdentity</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;SerializedMethodCall.readResolve.$anonfun.sId" title="Int">sId</a><span class="delimiter">)</span>.<a href="../serialization/Serializer.scala.html#akka.serialization;Serializer.fromBinary(d2b6dd778d)" title="(bytes: Array[Byte], manifest: Option[Class[_]])AnyRef">fromBinary</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;SerializedMethodCall.readResolve.$anonfun.bytes" title="Array[Byte]">bytes</a>, <span title="(x: Class[_0])Option[Class[_0]]">Option</span><span class="delimiter">(</span><a href="#akka.actor.TypedActor;SerializedMethodCall.readResolve.$anonfun.manifest" title="Class[_]">manifest</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <a href="#akka.actor.TypedActor;SerializedMethodCall.readResolve.deserializedParameters" title="Array[AnyRef]">deserializedParameters</a>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="ThreadLocal[AnyRef]" id="akka.actor.TypedActor.selfReference">selfReference</a> = <span title="ThreadLocal[AnyRef]" class="keyword">new</span> <span title="ThreadLocal[AnyRef]">ThreadLocal</span><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="ThreadLocal[akka.actor.ActorContext]" id="akka.actor.TypedActor.currentContext">currentContext</a> = <span title="ThreadLocal[akka.actor.ActorContext]" class="keyword">new</span> <span title="ThreadLocal[akka.actor.ActorContext]">ThreadLocal</span><span class="delimiter">[</span>ActorContext<span class="delimiter">]</span>

  @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">case object</span> <a href="#akka.actor.TypedActor.NullResponse.productElement.x$1" title="akka.actor.TypedActor.NullResponse.type" id="akka.actor.TypedActor.NullResponse.readResolve">NullResponse</a>

  <span class="comment">/**
   * Returns the reference to the proxy when called inside a method call in a TypedActor
   *
   * Example:
   * &lt;p/&gt;
   * class FooImpl extends Foo {
   *   def doFoo {
   *     val myself = TypedActor.self[Foo]
   *   }
   * }
   *
   * Useful when you want to send a reference to this TypedActor to someone else.
   *
   * NEVER EXPOSE &quot;this&quot; to someone else, always use &quot;self[TypeOfInterface(s)]&quot;
   *
   * @throws IllegalStateException if called outside of the scope of a method on this TypedActor
   * @throws ClassCastException if the supplied type T isn't the type of the proxy associated with this TypedActor
   */</span>
  <span class="keyword">def</span> <a title="[T &lt;: AnyRef]=&gt; T" id="akka.actor.TypedActor.self">self</a><span class="delimiter">[</span><a title=" &lt;: AnyRef" id="akka.actor.TypedActor.self;T">T</a> &lt;: AnyRef<span class="delimiter">]</span> = <a href="#akka.actor.TypedActor.selfReference" title="=&gt; ThreadLocal[AnyRef]">selfReference</a>.<span title="()AnyRef">get</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="T" class="delimiter">[</span><a href="#akka.actor.TypedActor.self;T" title="T">T</a><span class="delimiter">]</span> <span title="T" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span> ⇒ <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><span title="String(&quot;Calling TypedActor.self outside of a TypedActor implementation method!&quot;)" class="string">&quot;Calling TypedActor.self outside of a TypedActor implementation method!&quot;</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="T" id="akka.actor.TypedActor.self.some">some</a> ⇒ <a href="#akka.actor.TypedActor.self.some" title="T">some</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the ActorContext (for a TypedActor) when inside a method call in a TypedActor.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; akka.actor.ActorContext" id="akka.actor.TypedActor.context">context</a>: <a href="ActorCell.scala.html#akka.actor;ActorContext" title="akka.actor.ActorContext">ActorContext</a> = <a href="#akka.actor.TypedActor.currentContext" title="=&gt; ThreadLocal[akka.actor.ActorContext]">currentContext</a>.<span title="()akka.actor.ActorContext">get</span> <span title="akka.actor.ActorContext" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span> ⇒ <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><span title="String(&quot;Calling TypedActor.context outside of a TypedActor implementation method!&quot;)" class="string">&quot;Calling TypedActor.context outside of a TypedActor implementation method!&quot;</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="akka.actor.ActorContext" id="akka.actor.TypedActor.context.some">some</a> ⇒ <a href="#akka.actor.TypedActor.context.some" title="akka.actor.ActorContext">some</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the default dispatcher (for a TypedActor) when inside a method call in a TypedActor.
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; scala.concurrent.ExecutionContextExecutor" id="akka.actor.TypedActor.dispatcher">dispatcher</a> = <a href="#akka.actor.TypedActor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="ActorCell.scala.html#akka.actor;ActorContext.dispatcher" title="=&gt; scala.concurrent.ExecutionContextExecutor">dispatcher</a>

  <span class="comment">/**
   * INTERNAL API
   *
   * Implementation of TypedActor as an Actor
   */</span>
  <span class="keyword">private</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">class</span> <a title="class TypedActor[R &lt;: AnyRef, T &lt;: R] extends AnyRef with akka.actor.Actor" id="akka.actor.TypedActor;TypedActor">TypedActor</a><span class="delimiter">[</span><a title=" &lt;: AnyRef" id="akka.actor.TypedActor;TypedActor;R">R</a> &lt;: AnyRef, <a title=" &lt;: R" id="akka.actor.TypedActor;TypedActor;T">T</a> &lt;: R<span class="delimiter">]</span><a href="#akka.actor.TypedActor;TypedActor" title="akka.actor.TypedActor.TypedActor[R,T]" class="delimiter">(</a><span class="keyword">val</span> <a title="java.util.concurrent.atomic.AtomicReference[R]" id="akka.actor.TypedActor;TypedActor.proxyVar">proxyVar</a>: <span title="java.util.concurrent.atomic.AtomicReference[R]">AtomVar</span><span class="delimiter">[</span>R<span class="delimiter">]</span>, <a title="=&gt; T" id="akka.actor.TypedActor;TypedActor.createInstance">createInstance</a>: ⇒ T, <a title="scala.collection.immutable.Seq[Class[_]]" id="akka.actor.TypedActor;TypedActor.interfaces">interfaces</a>: immutable.<span title="scala.collection.immutable.Seq[Class[_]]">Seq</span><span class="delimiter">[</span>Class<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="Actor.scala.html#akka.actor;Actor" title="akka.actor.Actor">Actor</a> <span class="delimiter">{</span>
    <span class="comment">// if we were remote deployed we need to create a local proxy</span>
    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="ActorCell.scala.html#akka.actor;ActorContext.parent" title="=&gt; akka.actor.ActorRef">parent</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="akka.actor.InternalActorRef" class="delimiter">[</span><a href="ActorRef.scala.html#akka.actor;InternalActorRef" title="akka.actor.InternalActorRef">InternalActorRef</a><span class="delimiter">]</span>.<a href="ActorRef.scala.html#akka.actor;InternalActorRef.isLocal" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span>
      <a href="#akka.actor.TypedActor" title="akka.actor.TypedActor.type">TypedActor</a>.<a href="#akka.actor.TypedActor.get(12f45c39e3)" title="(system: akka.actor.ActorSystem)akka.actor.TypedActorExtension">get</a><span class="delimiter">(</span><a href="Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a><span class="delimiter">)</span>.<a href="#akka.actor;TypedActorExtension.createActorRefProxy" title="(props: akka.actor.TypedProps[T], proxyVar: java.util.concurrent.atomic.AtomicReference[R], actorRef: =&gt; akka.actor.ActorRef)R">createActorRefProxy</a><span class="delimiter">(</span>
        <a href="#akka.actor.TypedProps.apply(9e536d29d5)" title="(interfaces: scala.collection.immutable.Seq[Class[_]], creator: =&gt; T)akka.actor.TypedProps[T]">TypedProps</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;TypedActor.interfaces" title="scala.collection.immutable.Seq[Class[_]]">interfaces</a>, <a href="#akka.actor.TypedActor;TypedActor.createInstance" title="=&gt; T">createInstance</a><span class="delimiter">)</span>, <a href="#akka.actor.TypedActor;TypedActor.proxyVar" title="=&gt; java.util.concurrent.atomic.AtomicReference[R]">proxyVar</a>, <a href="Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="ActorCell.scala.html#akka.actor;ActorContext.self" title="=&gt; akka.actor.ActorRef">self</a><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="T" id="akka.actor.TypedActor;TypedActor.me">me</a> = <a href="#akka.actor.TypedActor;TypedActor.withContext" title="[T](unitOfWork: =&gt; T)T">withContext</a><span title="(unitOfWork: =&gt; T)T" class="delimiter">[</span><a href="#akka.actor.TypedActor;TypedActor;T" title="T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#akka.actor.TypedActor;TypedActor.createInstance" title="=&gt; T">createInstance</a><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; akka.actor.SupervisorStrategy" id="akka.actor.TypedActor;TypedActor.supervisorStrategy">supervisorStrategy</a>: <a href="FaultHandling.scala.html#akka.actor;SupervisorStrategy" title="akka.actor.SupervisorStrategy">SupervisorStrategy</a> = <a href="#akka.actor.TypedActor;TypedActor.me" title="=&gt; T">me</a> <span title="akka.actor.SupervisorStrategy" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="akka.actor.TypedActor.Supervisor" id="akka.actor.TypedActor;TypedActor.supervisorStrategy.l">l</a>: <a href="#akka.actor.TypedActor;Supervisor" title="akka.actor.TypedActor.Supervisor">Supervisor</a> ⇒ <a href="#akka.actor.TypedActor;TypedActor.supervisorStrategy.l" title="akka.actor.TypedActor.Supervisor">l</a>.<a href="#akka.actor.TypedActor;Supervisor.supervisorStrategy" title="()akka.actor.SupervisorStrategy">supervisorStrategy</a>
      <span class="keyword">case</span> _             ⇒ <a href="#akka.actor.TypedActor;TypedActor" title="akka.actor.TypedActor.TypedActor[R,T]" class="keyword">super</a>.<a href="Actor.scala.html#akka.actor;Actor.supervisorStrategy" title="=&gt; akka.actor.SupervisorStrategy">supervisorStrategy</a>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Unit" id="akka.actor.TypedActor;TypedActor.preStart">preStart</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.actor.TypedActor;TypedActor.withContext" title="(unitOfWork: =&gt; Unit)Unit">withContext</a> <span class="delimiter">{</span>
      <a href="#akka.actor.TypedActor;TypedActor.me" title="=&gt; T">me</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="akka.actor.TypedActor.PreStart" id="akka.actor.TypedActor;TypedActor.preStart.l">l</a>: <a href="#akka.actor.TypedActor;PreStart" title="akka.actor.TypedActor.PreStart">PreStart</a> ⇒ <a href="#akka.actor.TypedActor;TypedActor.preStart.l" title="akka.actor.TypedActor.PreStart">l</a>.<a href="#akka.actor.TypedActor;PreStart.preStart" title="()Unit">preStart</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">case</span> _           ⇒ <a href="#akka.actor.TypedActor;TypedActor" title="akka.actor.TypedActor.TypedActor[R,T]" class="keyword">super</a>.<a href="Actor.scala.html#akka.actor;Actor.preStart" title="()Unit">preStart</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Unit" id="akka.actor.TypedActor;TypedActor.postStop">postStop</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="keyword">try</span> <span class="delimiter">{</span>
      <a href="#akka.actor.TypedActor;TypedActor.withContext" title="(unitOfWork: =&gt; Unit)Unit">withContext</a> <span class="delimiter">{</span>
        <a href="#akka.actor.TypedActor;TypedActor.me" title="=&gt; T">me</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="akka.actor.TypedActor.PostStop" id="akka.actor.TypedActor;TypedActor.postStop.l">l</a>: <a href="#akka.actor.TypedActor;PostStop" title="akka.actor.TypedActor.PostStop">PostStop</a> ⇒ <a href="#akka.actor.TypedActor;TypedActor.postStop.l" title="akka.actor.TypedActor.PostStop">l</a>.<a href="#akka.actor.TypedActor;PostStop.postStop" title="()Unit">postStop</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> _           ⇒ <a href="#akka.actor.TypedActor;TypedActor" title="akka.actor.TypedActor.TypedActor[R,T]" class="keyword">super</a>.<a href="Actor.scala.html#akka.actor;Actor.postStop" title="()Unit">postStop</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
      <a href="Extension.scala.html#akka.actor;ExtensionId.apply" title="(system: akka.actor.ActorSystem)akka.actor.TypedActorExtension">TypedActor</a><span class="delimiter">(</span><a href="Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a><span class="delimiter">)</span>.<a href="#akka.actor;TypedActorExtension.invocationHandlerFor" title="(typedActor: AnyRef)akka.actor.TypedActor.TypedActorInvocationHandler">invocationHandlerFor</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;TypedActor.proxyVar" title="=&gt; java.util.concurrent.atomic.AtomicReference[R]">proxyVar</a>.<span title="()R">get</span><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span> ⇒
        <span class="keyword">case</span> <a title="akka.actor.TypedActor.TypedActorInvocationHandler" id="akka.actor.TypedActor;TypedActor.postStop.some">some</a> ⇒
          <a href="#akka.actor.TypedActor;TypedActor.postStop.some" title="akka.actor.TypedActor.TypedActorInvocationHandler">some</a>.<a href="#akka.actor.TypedActor;TypedActorInvocationHandler.actorVar" title="=&gt; java.util.concurrent.atomic.AtomicReference[akka.actor.ActorRef]">actorVar</a>.<span title="(x$1: akka.actor.ActorRef)Unit">set</span><span class="delimiter">(</span><a href="Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a>.<a href="ActorSystem.scala.html#akka.actor;ActorSystem.deadLetters" title="=&gt; akka.actor.ActorRef">deadLetters</a><span class="delimiter">)</span> <span class="comment">//Point it to the DLQ</span>
          <a href="#akka.actor.TypedActor;TypedActor.proxyVar" title="=&gt; java.util.concurrent.atomic.AtomicReference[R]">proxyVar</a>.<span title="(x$1: R)Unit">set</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="R" class="delimiter">[</span><a href="#akka.actor.TypedActor;TypedActor;R" title="R">R</a><span class="delimiter">]</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(reason: Throwable, message: Option[Any])Unit" id="akka.actor.TypedActor;TypedActor.preRestart">preRestart</a><span class="delimiter">(</span><a title="Throwable" id="akka.actor.TypedActor;TypedActor.preRestart.reason">reason</a>: <span title="Throwable">Throwable</span>, <a title="Option[Any]" id="akka.actor.TypedActor;TypedActor.preRestart.message">message</a>: <span title="Option[Any]">Option</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.actor.TypedActor;TypedActor.withContext" title="(unitOfWork: =&gt; Unit)Unit">withContext</a> <span class="delimiter">{</span>
      <a href="#akka.actor.TypedActor;TypedActor.me" title="=&gt; T">me</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="akka.actor.TypedActor.PreRestart" id="akka.actor.TypedActor;TypedActor.preRestart.l">l</a>: <a href="#akka.actor.TypedActor;PreRestart" title="akka.actor.TypedActor.PreRestart">PreRestart</a> ⇒ <a href="#akka.actor.TypedActor;TypedActor.preRestart.l" title="akka.actor.TypedActor.PreRestart">l</a>.<a href="#akka.actor.TypedActor;PreRestart.preRestart" title="(reason: Throwable, message: Option[Any])Unit">preRestart</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;TypedActor.preRestart.reason" title="Throwable">reason</a>, <a href="#akka.actor.TypedActor;TypedActor.preRestart.message" title="Option[Any]">message</a><span class="delimiter">)</span>
        <span class="keyword">case</span> _             ⇒ <a href="Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="ActorCell.scala.html#akka.actor;ActorContext.children" title="=&gt; scala.collection.immutable.Iterable[akka.actor.ActorRef]">children</a> <span title="(f: akka.actor.ActorRef =&gt; Unit)Unit">foreach</span> <a href="Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="ActorRefProvider.scala.html#akka.actor;ActorRefFactory.stop" title="(actor: akka.actor.ActorRef)Unit">stop</a> <span class="comment">//Can't be super.preRestart(reason, message) since that would invoke postStop which would set the actorVar to DL and proxyVar to null</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(reason: Throwable)Unit" id="akka.actor.TypedActor;TypedActor.postRestart">postRestart</a><span class="delimiter">(</span><a title="Throwable" id="akka.actor.TypedActor;TypedActor.postRestart.reason">reason</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.actor.TypedActor;TypedActor.withContext" title="(unitOfWork: =&gt; Unit)Unit">withContext</a> <span class="delimiter">{</span>
      <a href="#akka.actor.TypedActor;TypedActor.me" title="=&gt; T">me</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="akka.actor.TypedActor.PostRestart" id="akka.actor.TypedActor;TypedActor.postRestart.l">l</a>: <a href="#akka.actor.TypedActor;PostRestart" title="akka.actor.TypedActor.PostRestart">PostRestart</a> ⇒ <a href="#akka.actor.TypedActor;TypedActor.postRestart.l" title="akka.actor.TypedActor.PostRestart">l</a>.<a href="#akka.actor.TypedActor;PostRestart.postRestart" title="(reason: Throwable)Unit">postRestart</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;TypedActor.postRestart.reason" title="Throwable">reason</a><span class="delimiter">)</span>
        <span class="keyword">case</span> _              ⇒ <a href="#akka.actor.TypedActor;TypedActor" title="akka.actor.TypedActor.TypedActor[R,T]" class="keyword">super</a>.<a href="Actor.scala.html#akka.actor;Actor.postRestart" title="(reason: Throwable)Unit">postRestart</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;TypedActor.postRestart.reason" title="Throwable">reason</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="[T](unitOfWork: =&gt; T)T" id="akka.actor.TypedActor;TypedActor.withContext">withContext</a><span class="delimiter">[</span><a title="" id="akka.actor.TypedActor;TypedActor.withContext;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="akka.actor.TypedActor;TypedActor.withContext.unitOfWork">unitOfWork</a>: ⇒ T<span class="delimiter">)</span>: <a href="#akka.actor.TypedActor;TypedActor.withContext;T" title="T">T</a> = <span class="delimiter">{</span>
      <a href="#akka.actor.TypedActor" title="akka.actor.TypedActor.type">TypedActor</a>.<a href="#akka.actor.TypedActor.selfReference" title="=&gt; ThreadLocal[AnyRef]">selfReference</a> <span title="(x$1: AnyRef)Unit">set</span> <a href="#akka.actor.TypedActor;TypedActor.proxyVar" title="=&gt; java.util.concurrent.atomic.AtomicReference[R]">proxyVar</a>.<span title="()R">get</span>
      <a href="#akka.actor.TypedActor" title="akka.actor.TypedActor.type">TypedActor</a>.<a href="#akka.actor.TypedActor.currentContext" title="=&gt; ThreadLocal[akka.actor.ActorContext]">currentContext</a> <span title="(x$1: akka.actor.ActorContext)Unit">set</span> <a href="Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>
      <span class="keyword">try</span> <a href="#akka.actor.TypedActor;TypedActor.withContext.unitOfWork" title="=&gt; T">unitOfWork</a> <span class="keyword">finally</span> <span class="delimiter">{</span>
        <a href="#akka.actor.TypedActor" title="akka.actor.TypedActor.type">TypedActor</a>.<a href="#akka.actor.TypedActor.selfReference" title="=&gt; ThreadLocal[AnyRef]">selfReference</a> <span title="(x$1: AnyRef)Unit">set</span> <span title="Null(null)" class="keyword">null</span>
        <a href="#akka.actor.TypedActor" title="akka.actor.TypedActor.type">TypedActor</a>.<a href="#akka.actor.TypedActor.currentContext" title="=&gt; ThreadLocal[akka.actor.ActorContext]">currentContext</a> <span title="(x$1: akka.actor.ActorContext)Unit">set</span> <span title="Null(null)" class="keyword">null</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; PartialFunction[Any,Unit]" id="akka.actor.TypedActor;TypedActor.receive">receive</a> = <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="akka.actor.TypedActor;TypedActor.receive;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
      <span class="keyword">case</span> <a title="akka.actor.TypedActor.MethodCall" id="akka.actor.TypedActor;TypedActor.receive;$anonfun.isDefinedAt.m">m</a>: <a href="#akka.actor.TypedActor.MethodCall.readResolve" title="akka.actor.TypedActor.MethodCall">MethodCall</a> ⇒ <a href="#akka.actor.TypedActor;TypedActor.withContext" title="(unitOfWork: =&gt; Any)Any">withContext</a> <span title="Unit" class="delimiter">{</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.actor.TypedActor;TypedActor.receive;$anonfun.isDefinedAt.m" title="akka.actor.TypedActor.MethodCall">m</a>.<a href="#akka.actor.TypedActor;MethodCall.isOneWay" title="=&gt; Boolean">isOneWay</a><span class="delimiter">)</span> <a href="#akka.actor.TypedActor;MethodCall.apply" title="(instance: AnyRef)AnyRef">m</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;TypedActor.me" title="=&gt; T">me</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">try</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="akka.actor.ActorRef" id="akka.actor.TypedActor;TypedActor.receive;$anonfun.applyOrElse.s">s</a> = <a href="Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#akka.actor.TypedActor;MethodCall.apply" title="(instance: AnyRef)AnyRef">m</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;TypedActor.me" title="=&gt; T">me</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a title="scala.concurrent.Future[_]" id="akka.actor.TypedActor;TypedActor.receive;$anonfun.applyOrElse.f">f</a>: <span title="scala.concurrent.Future[_]">Future</span><span class="delimiter">[</span>_<span class="delimiter">]</span> <span class="keyword">if</span> <a href="#akka.actor.TypedActor;TypedActor.receive;$anonfun.isDefinedAt.m" title="akka.actor.TypedActor.MethodCall">m</a>.<a href="#akka.actor.TypedActor;MethodCall.returnsFuture" title="=&gt; Boolean">returnsFuture</a> ⇒
                <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scala.concurrent.ExecutionContextExecutor" id="akka.actor.TypedActor;TypedActor.receive;$anonfun.applyOrElse.dispatcher">dispatcher</a> = <a href="Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="ActorCell.scala.html#akka.actor;ActorContext.dispatcher" title="=&gt; scala.concurrent.ExecutionContextExecutor">dispatcher</a>
                <a href="#akka.actor.TypedActor;TypedActor.receive;$anonfun.applyOrElse.f" title="scala.concurrent.Future[_]">f</a> <a href="#akka.actor.TypedActor;TypedActor.receive;$anonfun.applyOrElse.dispatcher" title="(func: scala.util.Try[_] =&gt; Unit)(implicit executor: scala.concurrent.ExecutionContext)Unit">onComplete</a> <a href="#akka.actor.TypedActor;TypedActor.receive;$anonfun.applyOrElse.$anonfun.x0$1" title="Unit" class="delimiter">{</a>
                  <span class="keyword">case</span> Success<span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>   ⇒ <a href="package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">s</a> <a href="ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.actor.TypedActor.NullResponse.readResolve" title="akka.actor.TypedActor.NullResponse.type">NullResponse</a>
                  <span class="keyword">case</span> Success<span class="delimiter">(</span><a title="_" id="akka.actor.TypedActor;TypedActor.receive;$anonfun.applyOrElse.$anonfun.result">result</a><span class="delimiter">)</span> ⇒ <a href="package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">s</a> <a href="ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.actor.TypedActor;TypedActor.receive;$anonfun.applyOrElse.$anonfun.result" title="_">result</a>
                  <span class="keyword">case</span> Failure<span class="delimiter">(</span><a title="Throwable" id="akka.actor.TypedActor;TypedActor.receive;$anonfun.applyOrElse.$anonfun.f">f</a><span class="delimiter">)</span>      ⇒ <a href="package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">s</a> <a href="ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="Actor.scala.html#akka.actor.Status" title="akka.actor.Status.type">Status</a>.<a href="Actor.scala.html#akka.actor.Status;Failure" title="(cause: Throwable)akka.actor.Status.Failure">Failure</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;TypedActor.receive;$anonfun.applyOrElse.$anonfun.f" title="Throwable">f</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span>   ⇒ <a href="package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">s</a> <a href="ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.actor.TypedActor.NullResponse.readResolve" title="akka.actor.TypedActor.NullResponse.type">NullResponse</a>
              <span class="keyword">case</span> <a title="AnyRef" id="akka.actor.TypedActor;TypedActor.receive;$anonfun.applyOrElse.result">result</a> ⇒ <a href="package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">s</a> <a href="ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.actor.TypedActor;TypedActor.receive;$anonfun.applyOrElse.result" title="AnyRef">result</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="#akka.actor.TypedActor;TypedActor.receive;$anonfun.applyOrElse.<unapply-selector>" title="(t: Throwable)Option[Throwable]">NonFatal</a><span class="delimiter">(</span><a title="Throwable" id="akka.actor.TypedActor;TypedActor.receive;$anonfun.applyOrElse.e">e</a><span class="delimiter">)</span> ⇒
              <a href="Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><a href="package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef" class="delimiter">(</a><span class="delimiter">)</span> <a href="ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="Actor.scala.html#akka.actor.Status" title="akka.actor.Status.type">Status</a>.<a href="Actor.scala.html#akka.actor.Status;Failure" title="(cause: Throwable)akka.actor.Status.Failure">Failure</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;TypedActor.receive;$anonfun.applyOrElse.e" title="Throwable">e</a><span class="delimiter">)</span>
              <span title="Nothing" class="keyword">throw</span> <a href="#akka.actor.TypedActor;TypedActor.receive;$anonfun.applyOrElse.e" title="Throwable">e</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">case</span> <a title="Any" id="akka.actor.TypedActor;TypedActor.receive;$anonfun.isDefinedAt.msg">msg</a> <span class="keyword">if</span> <a href="#akka.actor.TypedActor;TypedActor.me" title="=&gt; T">me</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="#akka.actor.TypedActor;Receiver" title="akka.actor.TypedActor.Receiver">Receiver</a><span class="delimiter">]</span> ⇒ <a href="#akka.actor.TypedActor;TypedActor.withContext" title="(unitOfWork: =&gt; Unit)Unit">withContext</a> <span title="Boolean(true)" class="delimiter">{</span>
        <a href="#akka.actor.TypedActor;TypedActor.me" title="=&gt; T">me</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="akka.actor.TypedActor.Receiver" class="delimiter">[</span><a href="#akka.actor.TypedActor;Receiver" title="akka.actor.TypedActor.Receiver">Receiver</a><span class="delimiter">]</span>.<a href="#akka.actor.TypedActor;Receiver.onReceive" title="(message: Any, sender: akka.actor.ActorRef)Unit">onReceive</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;TypedActor.receive;$anonfun.isDefinedAt.msg" title="Any">msg</a>, <a href="Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Mix this into your TypedActor to be able to define supervisor strategy
   */</span>
  <span class="keyword">trait</span> <a title="trait Supervisor extends AnyRef" id="akka.actor.TypedActor;Supervisor">Supervisor</a> <span class="delimiter">{</span>
    <span class="comment">/**
     * User overridable definition the strategy to use for supervising
     * child actors.
     */</span>
    <span class="keyword">def</span> <a title="()akka.actor.SupervisorStrategy" id="akka.actor.TypedActor;Supervisor.supervisorStrategy">supervisorStrategy</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="FaultHandling.scala.html#akka.actor;SupervisorStrategy" title="akka.actor.SupervisorStrategy">SupervisorStrategy</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Mix this into your TypedActor to be able to intercept Terminated messages
   */</span>
  <span class="keyword">trait</span> <a title="trait Receiver extends AnyRef" id="akka.actor.TypedActor;Receiver">Receiver</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(message: Any, sender: akka.actor.ActorRef)Unit" id="akka.actor.TypedActor;Receiver.onReceive">onReceive</a><span class="delimiter">(</span><a title="Any" id="akka.actor.TypedActor;Receiver.onReceive.message">message</a>: <span title="Any">Any</span>, <a title="akka.actor.ActorRef" id="akka.actor.TypedActor;Receiver.onReceive.sender">sender</a>: <a href="ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: <span title="Unit">Unit</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Mix this into your TypedActor to be able to hook into its lifecycle
   */</span>
  <span class="keyword">trait</span> <a title="trait PreStart extends AnyRef" id="akka.actor.TypedActor;PreStart">PreStart</a> <span class="delimiter">{</span>
    <span class="comment">/**
     * User overridable callback.
     * &lt;p/&gt;
     * Is called when an Actor is started by invoking 'actor'.
     */</span>
    <span class="keyword">def</span> <a title="()Unit" id="akka.actor.TypedActor;PreStart.preStart">preStart</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Mix this into your TypedActor to be able to hook into its lifecycle
   */</span>
  <span class="keyword">trait</span> <a title="trait PostStop extends AnyRef" id="akka.actor.TypedActor;PostStop">PostStop</a> <span class="delimiter">{</span>
    <span class="comment">/**
     * User overridable callback.
     * &lt;p/&gt;
     * Is called when 'actor.stop()' is invoked.
     */</span>
    <span class="keyword">def</span> <a title="()Unit" id="akka.actor.TypedActor;PostStop.postStop">postStop</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Mix this into your TypedActor to be able to hook into its lifecycle
   */</span>
  <span class="keyword">trait</span> <a title="trait PreRestart extends AnyRef" id="akka.actor.TypedActor;PreRestart">PreRestart</a> <span class="delimiter">{</span>
    <span class="comment">/**
     * User overridable callback: '''By default it disposes of all children and then calls `postStop()`.'''
     * @param reason the Throwable that caused the restart to happen
     * @param message optionally the current message the actor processed when failing, if applicable
     * &lt;p/&gt;
     * Is called on a crashed Actor right BEFORE it is restarted to allow clean
     * up of resources before Actor is terminated.
     * By default it terminates all children and calls postStop()
     */</span>
    <span class="keyword">def</span> <a title="(reason: Throwable, message: Option[Any])Unit" id="akka.actor.TypedActor;PreRestart.preRestart">preRestart</a><span class="delimiter">(</span><a title="Throwable" id="akka.actor.TypedActor;PreRestart.preRestart.reason">reason</a>: <span title="Throwable">Throwable</span>, <a title="Option[Any]" id="akka.actor.TypedActor;PreRestart.preRestart.message">message</a>: <span title="Option[Any]">Option</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span>
  <span class="delimiter">}</span>

  <span class="keyword">trait</span> <a title="trait PostRestart extends AnyRef" id="akka.actor.TypedActor;PostRestart">PostRestart</a> <span class="delimiter">{</span>
    <span class="comment">/**
     * User overridable callback: By default it calls `preStart()`.
     * @param reason the Throwable that caused the restart to happen
     * &lt;p/&gt;
     * Is called right AFTER restart on the newly created Actor to allow reinitialization after an Actor crash.
     */</span>
    <span class="keyword">def</span> <a title="(reason: Throwable)Unit" id="akka.actor.TypedActor;PostRestart.postRestart">postRestart</a><span class="delimiter">(</span><a title="Throwable" id="akka.actor.TypedActor;PostRestart.postRestart.reason">reason</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span>: <span title="Unit">Unit</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  <span class="keyword">private</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">class</span> <a title="class TypedActorInvocationHandler extends Object with java.lang.reflect.InvocationHandler with Serializable" id="akka.actor.TypedActor;TypedActorInvocationHandler">TypedActorInvocationHandler</a><a href="#akka.actor.TypedActor;TypedActorInvocationHandler" title="akka.actor.TypedActor.TypedActorInvocationHandler" class="delimiter">(</a>@transient <span class="keyword">val</span> <a title="akka.actor.TypedActorExtension" id="akka.actor.TypedActor;TypedActorInvocationHandler.extension">extension</a>: <a href="#akka.actor;TypedActorExtension" title="akka.actor.TypedActorExtension">TypedActorExtension</a>, @transient <span class="keyword">val</span> <a title="java.util.concurrent.atomic.AtomicReference[akka.actor.ActorRef]" id="akka.actor.TypedActor;TypedActorInvocationHandler.actorVar">actorVar</a>: <span title="java.util.concurrent.atomic.AtomicReference[akka.actor.ActorRef]">AtomVar</span><span class="delimiter">[</span>ActorRef<span class="delimiter">]</span>, @transient <span class="keyword">val</span> <a title="akka.util.Timeout" id="akka.actor.TypedActor;TypedActorInvocationHandler.timeout">timeout</a>: <a href="../util/Timeout.scala.html#akka.util;Timeout" title="akka.util.Timeout">Timeout</a><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="java.lang.reflect.InvocationHandler">InvocationHandler</span> <span class="keyword">with</span> <span title="Serializable">Serializable</span> <span class="delimiter">{</span>

    <span class="keyword">def</span> <a title="=&gt; akka.actor.ActorRef" id="akka.actor.TypedActor;TypedActorInvocationHandler.actor">actor</a> = <a href="#akka.actor.TypedActor;TypedActorInvocationHandler.actorVar" title="=&gt; java.util.concurrent.atomic.AtomicReference[akka.actor.ActorRef]">actorVar</a>.<span title="()akka.actor.ActorRef">get</span>
    @throws<span class="delimiter">(</span>classOf<span class="delimiter">[</span>Throwable<span class="delimiter">]</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(proxy: AnyRef, method: java.lang.reflect.Method, args: Array[AnyRef])AnyRef" id="akka.actor.TypedActor;TypedActorInvocationHandler.invoke">invoke</a><span class="delimiter">(</span><a title="AnyRef" id="akka.actor.TypedActor;TypedActorInvocationHandler.invoke.proxy">proxy</a>: <span title="AnyRef">AnyRef</span>, <a title="java.lang.reflect.Method" id="akka.actor.TypedActor;TypedActorInvocationHandler.invoke.method">method</a>: <span title="java.lang.reflect.Method">Method</span>, <a title="Array[AnyRef]" id="akka.actor.TypedActor;TypedActorInvocationHandler.invoke.args">args</a>: <span title="Array[AnyRef]">Array</span><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="AnyRef">AnyRef</span> = <a href="#akka.actor.TypedActor;TypedActorInvocationHandler.invoke.method" title="java.lang.reflect.Method">method</a>.<span title="()String">getName</span> <span title="AnyRef" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="String(&quot;toString&quot;)" class="string">&quot;toString&quot;</span> ⇒ <a href="#akka.actor.TypedActor;TypedActorInvocationHandler.actor" title="=&gt; akka.actor.ActorRef">actor</a>.<a href="ActorRef.scala.html#akka.actor;ActorRef.toString" title="()String">toString</a>
      <span class="keyword">case</span> <span title="String(&quot;equals&quot;)" class="string">&quot;equals&quot;</span>   ⇒ <span class="delimiter">(</span><a href="#akka.actor.TypedActor;TypedActorInvocationHandler.invoke.args" title="Array[AnyRef]">args</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#akka.actor.TypedActor;TypedActorInvocationHandler.invoke.proxy" title="AnyRef">proxy</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#akka.actor.TypedActor;TypedActorInvocationHandler.invoke.args" title="(i: Int)AnyRef">args</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#akka.actor.TypedActor;TypedActorInvocationHandler.actor" title="=&gt; akka.actor.ActorRef">actor</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#akka.actor.TypedActor;TypedActorInvocationHandler.extension" title="=&gt; akka.actor.TypedActorExtension">extension</a>.<a href="#akka.actor;TypedActorExtension.getActorRefFor" title="(proxy: AnyRef)akka.actor.ActorRef">getActorRefFor</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;TypedActorInvocationHandler.invoke.args" title="(i: Int)AnyRef">args</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span> <span class="comment">//Force boxing of the boolean</span>
      <span class="keyword">case</span> <span title="String(&quot;hashCode&quot;)" class="string">&quot;hashCode&quot;</span> ⇒ <a href="#akka.actor.TypedActor;TypedActorInvocationHandler.actor" title="=&gt; akka.actor.ActorRef">actor</a>.<a href="ActorRef.scala.html#akka.actor;ActorRef.hashCode" title="()Int">hashCode</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span>
      <span class="keyword">case</span> _ ⇒
        <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scala.concurrent.ExecutionContextExecutor" id="akka.actor.TypedActor;TypedActorInvocationHandler.invoke.dispatcher">dispatcher</a> = <a href="#akka.actor.TypedActor;TypedActorInvocationHandler.extension" title="=&gt; akka.actor.TypedActorExtension">extension</a>.<a href="#akka.actor;TypedActorExtension.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a>.<a href="ActorSystem.scala.html#akka.actor;ActorSystem.dispatcher" title="=&gt; scala.concurrent.ExecutionContextExecutor">dispatcher</a>
        <span class="keyword">import</span> akka.pattern.ask
        <a href="#akka.actor.TypedActor.MethodCall.readResolve" title="(method: java.lang.reflect.Method, parameters: Array[AnyRef])akka.actor.TypedActor.MethodCall">MethodCall</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;TypedActorInvocationHandler.invoke.method" title="java.lang.reflect.Method">method</a>, <a href="#akka.actor.TypedActor;TypedActorInvocationHandler.invoke.args" title="Array[AnyRef]">args</a><span class="delimiter">)</span> <span title="AnyRef" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="akka.actor.TypedActor.MethodCall">m</span> <span class="keyword">if</span> <span title="akka.actor.TypedActor.MethodCall">m</span>.<a href="#akka.actor.TypedActor;MethodCall.isOneWay" title="=&gt; Boolean">isOneWay</a> ⇒
            <a href="package.scala.html#akka.actor.package.actorRef2Scala" title="akka.actor.ScalaActorRef" id="akka.actor.TypedActor;TypedActorInvocationHandler.invoke.qual$2">actor</a> <a href="ActorRef.scala.html#akka.actor;ScalaActorRef.!$default$2" title="akka.actor.ActorRef" id="akka.actor.TypedActor;TypedActorInvocationHandler.invoke.x$5">!</a> <a title="akka.actor.TypedActor.MethodCall" id="akka.actor.TypedActor;TypedActorInvocationHandler.invoke.x$4">m</a>; <span title="Null(null)" class="keyword">null</span> <span class="comment">//Null return value</span>
          <span class="keyword">case</span> <span title="akka.actor.TypedActor.MethodCall">m</span> <span class="keyword">if</span> <span title="akka.actor.TypedActor.MethodCall">m</span>.<a href="#akka.actor.TypedActor;MethodCall.returnsFuture" title="=&gt; Boolean">returnsFuture</a> ⇒ <a href="../pattern/AskSupport.scala.html#akka.pattern;AskSupport.ask(c201ad9fc9)" title="(actorRef: akka.actor.ActorRef, message: Any)(implicit timeout: akka.util.Timeout)scala.concurrent.Future[Any]">ask</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;TypedActorInvocationHandler.actor" title="=&gt; akka.actor.ActorRef">actor</a>, <span title="akka.actor.TypedActor.MethodCall">m</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#akka.actor.TypedActor;TypedActorInvocationHandler.timeout" title="=&gt; akka.util.Timeout">timeout</a><span class="delimiter">)</span> <a href="#akka.actor.TypedActor;TypedActorInvocationHandler.invoke.dispatcher" title="(f: Any =&gt; Any)(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[Any]">map</a> <a href="#akka.actor.TypedActor;TypedActorInvocationHandler.invoke.$anonfun.x0$2" title="Any" class="delimiter">{</a>
            <span class="keyword">case</span> <a href="#akka.actor.TypedActor.NullResponse.readResolve" title="akka.actor.TypedActor.NullResponse.type">NullResponse</a> ⇒ <span title="Null(null)" class="keyword">null</span>
            <span class="keyword">case</span> <a title="Any" id="akka.actor.TypedActor;TypedActorInvocationHandler.invoke.$anonfun.other">other</a>        ⇒ <a href="#akka.actor.TypedActor;TypedActorInvocationHandler.invoke.$anonfun.other" title="Any">other</a>
          <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="akka.actor.TypedActor.MethodCall">m</span> <span class="keyword">if</span> <span title="akka.actor.TypedActor.MethodCall">m</span>.<a href="#akka.actor.TypedActor;MethodCall.returnsJOption" title="=&gt; Boolean">returnsJOption</a> <span title="(x: Boolean)Boolean">||</span> <span title="akka.actor.TypedActor.MethodCall">m</span>.<a href="#akka.actor.TypedActor;MethodCall.returnsOption" title="=&gt; Boolean">returnsOption</a> ⇒
            <span class="keyword">val</span> <a title="scala.concurrent.Future[Any]" id="akka.actor.TypedActor;TypedActorInvocationHandler.invoke.f">f</a> = <a href="../pattern/AskSupport.scala.html#akka.pattern;AskSupport.ask(c201ad9fc9)" title="(actorRef: akka.actor.ActorRef, message: Any)(implicit timeout: akka.util.Timeout)scala.concurrent.Future[Any]">ask</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;TypedActorInvocationHandler.actor" title="=&gt; akka.actor.ActorRef">actor</a>, <span title="akka.actor.TypedActor.MethodCall">m</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#akka.actor.TypedActor;TypedActorInvocationHandler.timeout" title="=&gt; akka.util.Timeout">timeout</a><span class="delimiter">)</span>
            <span class="delimiter">(</span><span class="keyword">try</span> <span class="delimiter">{</span> <span title="scala.concurrent.Await.type">Await</span>.<span title="(awaitable: scala.concurrent.Awaitable[Any], atMost: scala.concurrent.duration.Duration)awaitable.type">ready</span><span class="delimiter">(</span><a href="#akka.actor.TypedActor;TypedActorInvocationHandler.invoke.f" title="scala.concurrent.Future[Any]">f</a>, <a href="#akka.actor.TypedActor;TypedActorInvocationHandler.timeout" title="=&gt; akka.util.Timeout">timeout</a>.<a href="../util/Timeout.scala.html#akka.util;Timeout.duration" title="=&gt; scala.concurrent.duration.FiniteDuration">duration</a><span class="delimiter">)</span>.<span title="=&gt; Option[scala.util.Try[Any]]">value</span> <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> _: <span title="java.util.concurrent.TimeoutException">TimeoutException</span> ⇒ <span title="None.type">None</span> <span class="delimiter">}</span><span class="delimiter">)</span> <span title="AnyRef" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="None.type">None</span> | Some<span class="delimiter">(</span>Success<span class="delimiter">(</span><a href="#akka.actor.TypedActor.NullResponse.readResolve" title="akka.actor.TypedActor.NullResponse.type">NullResponse</a><span class="delimiter">)</span><span class="delimiter">)</span> | Some<span class="delimiter">(</span>Failure<span class="delimiter">(</span>_: <a href="../pattern/AskSupport.scala.html#akka.pattern;AskTimeoutException" title="akka.pattern.AskTimeoutException">AskTimeoutException</a><span class="delimiter">)</span><span class="delimiter">)</span> ⇒
                <span title="AnyRef" class="keyword">if</span> <span class="delimiter">(</span><span title="akka.actor.TypedActor.MethodCall">m</span>.<a href="#akka.actor.TypedActor;MethodCall.returnsJOption" title="=&gt; Boolean">returnsJOption</a><span class="delimiter">)</span> <a href="../japi/JavaAPI.scala.html#akka.japi.Option" title="akka.japi.Option.type">JOption</a>.<a href="../japi/JavaAPI.scala.html#akka.japi.Option.none" title="[A]=&gt; akka.japi.Option[A]">none</a><span title="akka.japi.Option[Any]" class="delimiter">[</span><span title="Any">Any</span><span class="delimiter">]</span> <span class="keyword">else</span> <span title="None.type">None</span>
              <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="scala.util.Try[_]" id="akka.actor.TypedActor;TypedActorInvocationHandler.invoke.t">t</a>: <span title="scala.util.Try[_]">Try</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> ⇒
                <a href="#akka.actor.TypedActor;TypedActorInvocationHandler.invoke.t" title="scala.util.Try[_]">t</a>.<span title="=&gt; _">get</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="akka.actor.TypedActor.MethodCall">m</span> ⇒ <span title="scala.concurrent.Await.type">Await</span>.<span title="(awaitable: scala.concurrent.Awaitable[Any], atMost: scala.concurrent.duration.Duration)Any">result</span><span class="delimiter">(</span><a href="../pattern/AskSupport.scala.html#akka.pattern;AskSupport.ask(c201ad9fc9)" title="(actorRef: akka.actor.ActorRef, message: Any)(implicit timeout: akka.util.Timeout)scala.concurrent.Future[Any]">ask</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;TypedActorInvocationHandler.actor" title="=&gt; akka.actor.ActorRef">actor</a>, <span title="akka.actor.TypedActor.MethodCall">m</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#akka.actor.TypedActor;TypedActorInvocationHandler.timeout" title="=&gt; akka.util.Timeout">timeout</a><span class="delimiter">)</span>, <a href="#akka.actor.TypedActor;TypedActorInvocationHandler.timeout" title="=&gt; akka.util.Timeout">timeout</a>.<a href="../util/Timeout.scala.html#akka.util;Timeout.duration" title="=&gt; scala.concurrent.duration.FiniteDuration">duration</a><span class="delimiter">)</span> <span title="AnyRef" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="#akka.actor.TypedActor.NullResponse.readResolve" title="akka.actor.TypedActor.NullResponse.type">NullResponse</a> ⇒ <span title="Null(null)" class="keyword">null</span>
            <span class="keyword">case</span> <a title="Any" id="akka.actor.TypedActor;TypedActorInvocationHandler.invoke.other">other</a>        ⇒ <a href="#akka.actor.TypedActor;TypedActorInvocationHandler.invoke.other" title="Any">other</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    @throws<span class="delimiter">(</span>classOf<span class="delimiter">[</span>ObjectStreamException<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">private</span> <span class="keyword">def</span> <a title="()AnyRef" id="akka.actor.TypedActor;TypedActorInvocationHandler.writeReplace">writeReplace</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="AnyRef">AnyRef</span> = <a href="#akka.actor.TypedActor.SerializedTypedActorInvocationHandler.readResolve" title="(actor: akka.actor.ActorRef, timeout: scala.concurrent.duration.FiniteDuration)akka.actor.TypedActor.SerializedTypedActorInvocationHandler">SerializedTypedActorInvocationHandler</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;TypedActorInvocationHandler.actor" title="=&gt; akka.actor.ActorRef">actor</a>, <a href="#akka.actor.TypedActor;TypedActorInvocationHandler.timeout" title="=&gt; akka.util.Timeout">timeout</a>.<a href="../util/Timeout.scala.html#akka.util;Timeout.duration" title="=&gt; scala.concurrent.duration.FiniteDuration">duration</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  <span class="keyword">private</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">case class</span> <a title="class SerializedTypedActorInvocationHandler extends AnyRef with Product with Serializable" id="akka.actor.TypedActor.SerializedTypedActorInvocationHandler.readResolve">SerializedTypedActorInvocationHandler</a><a href="#akka.actor.TypedActor.SerializedTypedActorInvocationHandler.readResolve" title="Product" class="delimiter">(</a><span class="keyword">val</span> <a title="akka.actor.ActorRef" id="akka.actor.TypedActor;SerializedTypedActorInvocationHandler.actor">actor</a>: <a href="ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <span class="keyword">val</span> <a title="scala.concurrent.duration.FiniteDuration" id="akka.actor.TypedActor;SerializedTypedActorInvocationHandler.timeout">timeout</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    @throws<span class="delimiter">(</span>classOf<span class="delimiter">[</span>ObjectStreamException<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">private</span> <span class="keyword">def</span> <a title="()AnyRef" id="akka.actor.TypedActor;SerializedTypedActorInvocationHandler.readResolve">readResolve</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="AnyRef">AnyRef</span> = <a href="../serialization/Serializer.scala.html#akka.serialization.JavaSerializer" title="akka.serialization.JavaSerializer.type">JavaSerializer</a>.<a href="../serialization/Serializer.scala.html#akka.serialization.JavaSerializer.currentSystem" title="=&gt; akka.serialization.JavaSerializer.CurrentSystem">currentSystem</a>.<span title="=&gt; akka.actor.ExtendedActorSystem">value</span> <span title="AnyRef" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span> ⇒ <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><span title="String(&quot;SerializedTypedActorInvocationHandler.readResolve requires that JavaSerializer.currentSystem.value is set to a non-null value&quot;)" class="string">&quot;SerializedTypedActorInvocationHandler.readResolve requires that JavaSerializer.currentSystem.value is set to a non-null value&quot;</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="akka.actor.ExtendedActorSystem" id="akka.actor.TypedActor;SerializedTypedActorInvocationHandler.readResolve.some">some</a> ⇒ <a href="#akka.actor.TypedActor;SerializedTypedActorInvocationHandler.toTypedActorInvocationHandler" title="(system: akka.actor.ActorSystem)akka.actor.TypedActor.TypedActorInvocationHandler">toTypedActorInvocationHandler</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;SerializedTypedActorInvocationHandler.readResolve.some" title="akka.actor.ExtendedActorSystem">some</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(system: akka.actor.ActorSystem)akka.actor.TypedActor.TypedActorInvocationHandler" id="akka.actor.TypedActor;SerializedTypedActorInvocationHandler.toTypedActorInvocationHandler">toTypedActorInvocationHandler</a><span class="delimiter">(</span><a title="akka.actor.ActorSystem" id="akka.actor.TypedActor;SerializedTypedActorInvocationHandler.toTypedActorInvocationHandler.system">system</a>: <a href="ActorSystem.scala.html#akka.actor;ActorSystem" title="akka.actor.ActorSystem">ActorSystem</a><span class="delimiter">)</span>: <a href="#akka.actor.TypedActor;TypedActorInvocationHandler" title="akka.actor.TypedActor.TypedActorInvocationHandler">TypedActorInvocationHandler</a> =
      <span title="akka.actor.TypedActor.TypedActorInvocationHandler" class="keyword">new</span> <a href="#akka.actor.TypedActor;TypedActorInvocationHandler" title="akka.actor.TypedActor.TypedActorInvocationHandler">TypedActorInvocationHandler</a><span class="delimiter">(</span><a href="Extension.scala.html#akka.actor;ExtensionId.apply" title="(system: akka.actor.ActorSystem)akka.actor.TypedActorExtension">TypedActor</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;SerializedTypedActorInvocationHandler.toTypedActorInvocationHandler.system" title="akka.actor.ActorSystem">system</a><span class="delimiter">)</span>, <span title="java.util.concurrent.atomic.AtomicReference[akka.actor.ActorRef]" class="keyword">new</span> <span title="java.util.concurrent.atomic.AtomicReference[akka.actor.ActorRef]">AtomVar</span><span class="delimiter">[</span>ActorRef<span class="delimiter">]</span><span class="delimiter">(</span><a href="#akka.actor.TypedActor;SerializedTypedActorInvocationHandler.actor" title="=&gt; akka.actor.ActorRef">actor</a><span class="delimiter">)</span>, <span title="akka.util.Timeout" class="keyword">new</span> <a href="../util/Timeout.scala.html#akka.util;Timeout" title="akka.util.Timeout">Timeout</a><span class="delimiter">(</span><a href="#akka.actor.TypedActor;SerializedTypedActorInvocationHandler.timeout" title="=&gt; scala.concurrent.duration.FiniteDuration">timeout</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * TypedProps is a TypedActor configuration object, that is thread safe and fully sharable.
 * It's used in TypedActorFactory.typedActorOf to configure a TypedActor instance.
 */</span>
<span class="keyword">object</span> <a title="akka.actor.TypedProps.type" id="akka.actor.TypedProps.readResolve">TypedProps</a> <a href="#akka.actor.TypedProps.readResolve" title="akka.actor.TypedProps.type" class="delimiter">{</a>

  <span class="keyword">val</span> <a title="String" id="akka.actor.TypedProps.defaultDispatcherId">defaultDispatcherId</a>: <span title="String">String</span> = Dispatchers.<span title="String(&quot;akka.actor.default-dispatcher&quot;)">DefaultDispatcherId</span>
  <span class="keyword">val</span> <a title="Option[akka.util.Timeout]" id="akka.actor.TypedProps.defaultTimeout">defaultTimeout</a>: <span title="Option[akka.util.Timeout]">Option</span><span class="delimiter">[</span>Timeout<span class="delimiter">]</span> = <span title="None.type">None</span>
  <span class="keyword">val</span> <a title="Option[ClassLoader]" id="akka.actor.TypedProps.defaultLoader">defaultLoader</a>: <span title="Option[ClassLoader]">Option</span><span class="delimiter">[</span>ClassLoader<span class="delimiter">]</span> = <span title="None.type">None</span>

  <span class="comment">/**
   * @return a sequence of interfaces that the specified class implements,
   * or a sequence containing only itself, if itself is an interface.
   */</span>
  <span class="keyword">def</span> <a title="(clazz: Class[_])scala.collection.immutable.Seq[Class[_]]" id="akka.actor.TypedProps.extractInterfaces">extractInterfaces</a><span class="delimiter">(</span><a title="Class[_]" id="akka.actor.TypedProps.extractInterfaces.clazz">clazz</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: immutable.<span title="scala.collection.immutable.Seq[Class[_]]">Seq</span><span class="delimiter">[</span>Class<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> =
    <span title="scala.collection.immutable.Seq[Class[_]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.actor.TypedProps.extractInterfaces.clazz" title="Class[_]">clazz</a>.<span title="()Boolean">isInterface</span><span class="delimiter">)</span> <a href="../japi/JavaAPI.scala.html#akka.japi.Util.immutableSingletonSeq" title="(value: Class[_$9])scala.collection.immutable.Seq[Class[_$9]]">immutableSingletonSeq</a><span class="delimiter">(</span><a href="#akka.actor.TypedProps.extractInterfaces.clazz" title="Class[_]">clazz</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="../japi/JavaAPI.scala.html#akka.japi.Util.immutableSeq(1416ee4687)" title="(arr: Array[Class[_]])scala.collection.immutable.Seq[Class[_]]">immutableSeq</a><span class="delimiter">(</span><a href="#akka.actor.TypedProps.extractInterfaces.clazz" title="Class[_]">clazz</a>.<span title="()Array[Class[_]]">getInterfaces</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Uses the supplied class as the factory for the TypedActor implementation,
   * proxying all the interfaces it implements.
   *
   * Scala API
   */</span>
  <span class="keyword">def</span> <a title="[T &lt;: AnyRef](implementation: Class[T])akka.actor.TypedProps[T]" id="akka.actor.TypedProps.apply(ef9bc7d3ba)">apply</a><span class="delimiter">[</span><a title=" &lt;: AnyRef" id="akka.actor.TypedProps.apply(ef9bc7d3ba);T">T</a> &lt;: AnyRef<span class="delimiter">]</span><span class="delimiter">(</span><a title="Class[T]" id="akka.actor.TypedProps.apply(ef9bc7d3ba).implementation">implementation</a>: <span title="Class[T]">Class</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.actor;TypedProps.equals" title="akka.actor.TypedProps[T]">TypedProps</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
    <a href="#akka.actor;TypedProps.<init>(e226e7b008)" title="(implementation: Class[T])akka.actor.TypedProps[T]" class="keyword">new</a> <a href="#akka.actor;TypedProps.equals" title="akka.actor.TypedProps[T]">TypedProps</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#akka.actor.TypedProps.apply(ef9bc7d3ba).implementation" title="Class[T]">implementation</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Uses the supplied class as the factory for the TypedActor implementation,
   * and that has the specified interface,
   * or if the interface class is not an interface, all the interfaces it implements,
   * appended in the sequence of interfaces.
   *
   * Scala API
   */</span>
  <span class="keyword">def</span> <a title="[T &lt;: AnyRef](interface: Class[_ &gt;: T], implementation: Class[T])akka.actor.TypedProps[T]" id="akka.actor.TypedProps.apply(9289c736ba)">apply</a><span class="delimiter">[</span><a title=" &lt;: AnyRef" id="akka.actor.TypedProps.apply(9289c736ba);T">T</a> &lt;: AnyRef<span class="delimiter">]</span><span class="delimiter">(</span><a title="Class[_ &gt;: T]" id="akka.actor.TypedProps.apply(9289c736ba).interface">interface</a>: <span title="Class[_ &gt;: T]">Class</span><span class="delimiter">[</span>_ &gt;: T<span class="delimiter">]</span>, <a title="Class[T]" id="akka.actor.TypedProps.apply(9289c736ba).implementation">implementation</a>: <span title="Class[T]">Class</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.actor;TypedProps.equals" title="akka.actor.TypedProps[T]">TypedProps</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
    <a href="#akka.actor;TypedProps.copy$default$3" title="akka.actor.TypedProps[T]" class="keyword">new</a> <a href="#akka.actor;TypedProps.equals" title="akka.actor.TypedProps[T]">TypedProps</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#akka.actor.TypedProps.extractInterfaces" title="(clazz: Class[_])scala.collection.immutable.Seq[Class[_]]">extractInterfaces</a><span class="delimiter">(</span><a href="#akka.actor.TypedProps.apply(9289c736ba).interface" title="Class[_ &gt;: T]">interface</a><span class="delimiter">)</span>, <a href="../util/Reflect.scala.html#akka.util.Reflect.instantiator" title="(clazz: Class[T])() =&gt; T">instantiator</a><span class="delimiter">(</span><a href="#akka.actor.TypedProps.apply(9289c736ba).implementation" title="Class[T]">implementation</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Uses the supplied thunk as the factory for the TypedActor implementation,
   * and that has the specified interface,
   * or if the interface class is not an interface, all the interfaces it implements,
   * appended in the sequence of interfaces.
   *
   * Scala API
   */</span>
  <span class="keyword">def</span> <a title="[T &lt;: AnyRef](interface: Class[_ &gt;: T], creator: =&gt; T)akka.actor.TypedProps[T]" id="akka.actor.TypedProps.apply(e3009afdeb)">apply</a><span class="delimiter">[</span><a title=" &lt;: AnyRef" id="akka.actor.TypedProps.apply(e3009afdeb);T">T</a> &lt;: AnyRef<span class="delimiter">]</span><span class="delimiter">(</span><a title="Class[_ &gt;: T]" id="akka.actor.TypedProps.apply(e3009afdeb).interface">interface</a>: <span title="Class[_ &gt;: T]">Class</span><span class="delimiter">[</span>_ &gt;: T<span class="delimiter">]</span>, <a title="=&gt; T" id="akka.actor.TypedProps.apply(e3009afdeb).creator">creator</a>: ⇒ T<span class="delimiter">)</span>: <a href="#akka.actor;TypedProps.equals" title="akka.actor.TypedProps[T]">TypedProps</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
    <a href="#akka.actor;TypedProps.copy$default$3" title="akka.actor.TypedProps[T]" class="keyword">new</a> <a href="#akka.actor;TypedProps.equals" title="akka.actor.TypedProps[T]">TypedProps</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#akka.actor.TypedProps.extractInterfaces" title="(clazz: Class[_])scala.collection.immutable.Seq[Class[_]]">extractInterfaces</a><span class="delimiter">(</span><a href="#akka.actor.TypedProps.apply(e3009afdeb).interface" title="Class[_ &gt;: T]">interface</a><span class="delimiter">)</span>, <span class="delimiter">(</span><span class="delimiter">)</span> ⇒ <a href="#akka.actor.TypedProps.apply(e3009afdeb).creator" title="=&gt; T">creator</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Uses the supplied class as the factory for the TypedActor implementation,
   * proxying all the interfaces it implements.
   *
   * Scala API
   */</span>
  <span class="keyword">def</span> <a title="[T &lt;: AnyRef]()(implicit evidence$1: scala.reflect.ClassTag[T])akka.actor.TypedProps[T]" id="akka.actor.TypedProps.apply(4a2bfc1bb0)">apply</a><span class="delimiter">[</span><a title=" &lt;: AnyRef" id="akka.actor.TypedProps.apply(4a2bfc1bb0);T">T</a> &lt;: AnyRef: ClassTag<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="#akka.actor;TypedProps.equals" title="akka.actor.TypedProps[T]">TypedProps</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
    <a href="#akka.actor;TypedProps.<init>(e226e7b008)" title="(implementation: Class[T])akka.actor.TypedProps[T]" class="keyword">new</a> <a href="#akka.actor;TypedProps.equals" title="akka.actor.TypedProps[T]">TypedProps</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><span title="[T](implicit e: T)T">implicitly</span><a href="#akka.actor.TypedProps.apply(4a2bfc1bb0).evidence$1" title="(implicit e: scala.reflect.ClassTag[T])scala.reflect.ClassTag[T]" class="delimiter">[</a><span title="scala.reflect.ClassTag[T]">ClassTag</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="=&gt; Class[_]">runtimeClass</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Class[T]" class="delimiter">[</span><span title="Class[T]">Class</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  <span class="keyword">private</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">def</span> <a title="[T &lt;: AnyRef](interfaces: scala.collection.immutable.Seq[Class[_]], creator: =&gt; T)akka.actor.TypedProps[T]" id="akka.actor.TypedProps.apply(9e536d29d5)">apply</a><span class="delimiter">[</span><a title=" &lt;: AnyRef" id="akka.actor.TypedProps.apply(9e536d29d5);T">T</a> &lt;: AnyRef<span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.Seq[Class[_]]" id="akka.actor.TypedProps.apply(9e536d29d5).interfaces">interfaces</a>: immutable.<span title="scala.collection.immutable.Seq[Class[_]]">Seq</span><span class="delimiter">[</span>Class<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="=&gt; T" id="akka.actor.TypedProps.apply(9e536d29d5).creator">creator</a>: ⇒ T<span class="delimiter">)</span>: <a href="#akka.actor;TypedProps.equals" title="akka.actor.TypedProps[T]">TypedProps</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
    <a href="#akka.actor;TypedProps.copy$default$3" title="akka.actor.TypedProps[T]" class="keyword">new</a> <a href="#akka.actor;TypedProps.equals" title="akka.actor.TypedProps[T]">TypedProps</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#akka.actor.TypedProps.apply(9e536d29d5).interfaces" title="scala.collection.immutable.Seq[Class[_]]">interfaces</a>, <span class="delimiter">(</span><span class="delimiter">)</span> ⇒ <a href="#akka.actor.TypedProps.apply(9e536d29d5).creator" title="=&gt; T">creator</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * TypedProps is a TypedActor configuration object, that is thread safe and fully sharable.
 * It's used in TypedActorFactory.typedActorOf to configure a TypedActor instance.
 */</span>
@SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
<span class="keyword">case class</span> <a href="#akka.actor;TypedProps.copy$default$1" title="[T &lt;: AnyRef](interfaces: scala.collection.immutable.Seq[Class[_]], creator: () =&gt; T, dispatcher: String, deploy: akka.actor.Deploy, timeout: Option[akka.util.Timeout], loader: Option[ClassLoader])akka.actor.TypedProps[T]" id="akka.actor;TypedProps.equals">TypedProps</a><span class="delimiter">[</span><a title=" &lt;: AnyRef" id="akka.actor;TypedProps.copy$default$6;T">T</a> &lt;: AnyRef<span class="delimiter">]</span> <a href="#akka.actor;TypedProps.equals" title="Product" class="keyword">protected</a><span class="delimiter">[</span>TypedProps<span class="delimiter">]</span> <span class="delimiter">(</span>
  <a title="scala.collection.immutable.Seq[Class[_]]" id="akka.actor;TypedProps.copy$default$1">interfaces</a>: immutable.<span title="scala.collection.immutable.Seq[Class[_]]">Seq</span><span class="delimiter">[</span>Class<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span>,
  <a title="() =&gt; T" id="akka.actor;TypedProps.copy$default$2">creator</a>: <span class="delimiter">(</span><span class="delimiter">)</span> ⇒ T,
  <a title="[T &lt;: AnyRef]=&gt; String" id="akka.actor;TypedProps.copy$default$3">dispatcher</a>: <span title="String">String</span> = <a href="#akka.actor.TypedProps.readResolve" title="akka.actor.TypedProps.type">TypedProps</a>.<a href="#akka.actor.TypedProps.defaultDispatcherId" title="=&gt; String">defaultDispatcherId</a>,
  <a title="[T &lt;: AnyRef]=&gt; akka.actor.Deploy" id="akka.actor;TypedProps.copy$default$4">deploy</a>: <a href="Deployer.scala.html#akka.actor;Deploy" title="akka.actor.Deploy">Deploy</a> = <a href="Props.scala.html#akka.actor.Props" title="akka.actor.Props.type">Props</a>.<a href="Props.scala.html#akka.actor.Props.defaultDeploy" title="=&gt; akka.actor.Deploy">defaultDeploy</a>,
  <a title="[T &lt;: AnyRef]=&gt; Option[akka.util.Timeout]" id="akka.actor;TypedProps.copy$default$5">timeout</a>: <span title="Option[akka.util.Timeout]">Option</span><span class="delimiter">[</span>Timeout<span class="delimiter">]</span> = <a href="#akka.actor.TypedProps.readResolve" title="akka.actor.TypedProps.type">TypedProps</a>.<a href="#akka.actor.TypedProps.defaultTimeout" title="=&gt; Option[akka.util.Timeout]">defaultTimeout</a>,
  <a title="[T &lt;: AnyRef]=&gt; Option[ClassLoader]" id="akka.actor;TypedProps.copy$default$6">loader</a>: <span title="Option[ClassLoader]">Option</span><span class="delimiter">[</span>ClassLoader<span class="delimiter">]</span> = <a href="#akka.actor.TypedProps.readResolve" title="akka.actor.TypedProps.type">TypedProps</a>.<a href="#akka.actor.TypedProps.defaultLoader" title="=&gt; Option[ClassLoader]">defaultLoader</a><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="comment">/**
   * Uses the supplied class as the factory for the TypedActor implementation,
   * and that has the specified interface,
   * or if the interface class is not an interface, all the interfaces it implements,
   * appended in the sequence of interfaces.
   */</span>
  <span class="keyword">def</span> <a title="(implementation: Class[T])akka.actor.TypedProps[T]" id="akka.actor;TypedProps.<init>(e226e7b008)" class="keyword">this</a><span class="delimiter">(</span><a title="Class[T]" id="akka.actor;TypedProps.<init>(e226e7b008).implementation">implementation</a>: <span title="Class[T]">Class</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#akka.actor;TypedProps.equals" title="TypedProps.this.type" class="keyword">this</a><span class="delimiter">(</span>interfaces = <a href="#akka.actor.TypedProps.readResolve" title="akka.actor.TypedProps.type">TypedProps</a>.<a href="#akka.actor.TypedProps.extractInterfaces" title="(clazz: Class[_])scala.collection.immutable.Seq[Class[_]]">extractInterfaces</a><span class="delimiter">(</span><a href="#akka.actor;TypedProps.<init>(e226e7b008).implementation" title="Class[T]">implementation</a><span class="delimiter">)</span>,
      creator = <a href="../util/Reflect.scala.html#akka.util.Reflect.instantiator" title="(clazz: Class[T])() =&gt; T">instantiator</a><span class="delimiter">(</span><a href="#akka.actor;TypedProps.<init>(e226e7b008).implementation" title="Class[T]">implementation</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Java API: Uses the supplied Creator as the factory for the TypedActor implementation,
   * and that has the specified interface,
   * or if the interface class is not an interface, all the interfaces it implements,
   * appended in the sequence of interfaces.
   */</span>
  <span class="keyword">def</span> <a title="(interface: Class[_ &gt;: T], implementation: akka.japi.Creator[T])akka.actor.TypedProps[T]" id="akka.actor;TypedProps.<init>(6aed4d45d3)" class="keyword">this</a><span class="delimiter">(</span><a title="Class[_ &gt;: T]" id="akka.actor;TypedProps.<init>(6aed4d45d3).interface">interface</a>: <span title="Class[_ &gt;: T]">Class</span><span class="delimiter">[</span>_ &gt;: T<span class="delimiter">]</span>, <a title="akka.japi.Creator[T]" id="akka.actor;TypedProps.<init>(6aed4d45d3).implementation">implementation</a>: <a href="../japi/JavaAPI.scala.html#akka.japi;Creator" title="akka.japi.Creator[T]">Creator</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#akka.actor;TypedProps.equals" title="TypedProps.this.type" class="keyword">this</a><span class="delimiter">(</span>interfaces = <a href="#akka.actor.TypedProps.readResolve" title="akka.actor.TypedProps.type">TypedProps</a>.<a href="#akka.actor.TypedProps.extractInterfaces" title="(clazz: Class[_])scala.collection.immutable.Seq[Class[_]]">extractInterfaces</a><span class="delimiter">(</span><a href="#akka.actor;TypedProps.<init>(6aed4d45d3).interface" title="Class[_ &gt;: T]">interface</a><span class="delimiter">)</span>,
      creator = <a href="#akka.actor;TypedProps.<init>(6aed4d45d3).implementation" title="akka.japi.Creator[T]">implementation</a>.<a href="../japi/JavaAPI.scala.html#akka.japi;Creator.create" title="()T">create</a> _<span class="delimiter">)</span>

  <span class="comment">/**
   * Java API: Uses the supplied class as the factory for the TypedActor implementation,
   * and that has the specified interface,
   * or if the interface class is not an interface, all the interfaces it implements,
   * appended in the sequence of interfaces.
   */</span>
  <span class="keyword">def</span> <a title="(interface: Class[_ &gt;: T], implementation: Class[T])akka.actor.TypedProps[T]" id="akka.actor;TypedProps.<init>(c8514c690e)" class="keyword">this</a><span class="delimiter">(</span><a title="Class[_ &gt;: T]" id="akka.actor;TypedProps.<init>(c8514c690e).interface">interface</a>: <span title="Class[_ &gt;: T]">Class</span><span class="delimiter">[</span>_ &gt;: T<span class="delimiter">]</span>, <a title="Class[T]" id="akka.actor;TypedProps.<init>(c8514c690e).implementation">implementation</a>: <span title="Class[T]">Class</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#akka.actor;TypedProps.equals" title="TypedProps.this.type" class="keyword">this</a><span class="delimiter">(</span>interfaces = <a href="#akka.actor.TypedProps.readResolve" title="akka.actor.TypedProps.type">TypedProps</a>.<a href="#akka.actor.TypedProps.extractInterfaces" title="(clazz: Class[_])scala.collection.immutable.Seq[Class[_]]">extractInterfaces</a><span class="delimiter">(</span><a href="#akka.actor;TypedProps.<init>(c8514c690e).interface" title="Class[_ &gt;: T]">interface</a><span class="delimiter">)</span>,
      creator = <a href="../util/Reflect.scala.html#akka.util.Reflect.instantiator" title="(clazz: Class[T])() =&gt; T">instantiator</a><span class="delimiter">(</span><a href="#akka.actor;TypedProps.<init>(c8514c690e).implementation" title="Class[T]">implementation</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns a new TypedProps with the specified dispatcher set.
   */</span>
  <span class="keyword">def</span> <a title="(d: String)akka.actor.TypedProps[T]" id="akka.actor;TypedProps.withDispatcher">withDispatcher</a><span class="delimiter">(</span><a title="String" id="akka.actor;TypedProps.withDispatcher.d">d</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#akka.actor;TypedProps.equals" title="akka.actor.TypedProps[T]">TypedProps</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#akka.actor;TypedProps.copy$default$1" title="scala.collection.immutable.Seq[Class[_]]" id="akka.actor;TypedProps.withDispatcher.x$11">copy</a><span class="delimiter">(</span>dispatcher = <a href="#akka.actor;TypedProps.withDispatcher.d" title="String" id="akka.actor;TypedProps.withDispatcher.x$6">d</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns a new TypedProps with the specified deployment configuration.
   */</span>
  <span class="keyword">def</span> <a title="(d: akka.actor.Deploy)akka.actor.TypedProps[T]" id="akka.actor;TypedProps.withDeploy">withDeploy</a><span class="delimiter">(</span><a title="akka.actor.Deploy" id="akka.actor;TypedProps.withDeploy.d">d</a>: <a href="Deployer.scala.html#akka.actor;Deploy" title="akka.actor.Deploy">Deploy</a><span class="delimiter">)</span>: <a href="#akka.actor;TypedProps.equals" title="akka.actor.TypedProps[T]">TypedProps</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#akka.actor;TypedProps.copy$default$1" title="scala.collection.immutable.Seq[Class[_]]" id="akka.actor;TypedProps.withDeploy.x$17">copy</a><span class="delimiter">(</span>deploy = <a href="#akka.actor;TypedProps.withDeploy.d" title="akka.actor.Deploy" id="akka.actor;TypedProps.withDeploy.x$12">d</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Java API: return a new TypedProps that will use the specified ClassLoader to create its proxy class in
   * If loader is null, it will use the bootstrap classloader.
   */</span>
  <span class="keyword">def</span> <a title="(loader: ClassLoader)akka.actor.TypedProps[T]" id="akka.actor;TypedProps.withLoader(9c19341c8d)">withLoader</a><span class="delimiter">(</span><a title="ClassLoader" id="akka.actor;TypedProps.withLoader(9c19341c8d).loader">loader</a>: <span title="ClassLoader">ClassLoader</span><span class="delimiter">)</span>: <a href="#akka.actor;TypedProps.equals" title="akka.actor.TypedProps[T]">TypedProps</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#akka.actor;TypedProps.withLoader(dd47d51fc6)" title="(loader: Option[ClassLoader])akka.actor.TypedProps[T]">withLoader</a><span class="delimiter">(</span><span title="(x: ClassLoader)Option[ClassLoader]">Option</span><span class="delimiter">(</span><a href="#akka.actor;TypedProps.withLoader(9c19341c8d).loader" title="ClassLoader">loader</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Scala API: return a new TypedProps that will use the specified ClassLoader to create its proxy class in
   * If loader is null, it will use the bootstrap classloader.
   *
   * Scala API
   */</span>
  <span class="keyword">def</span> <a title="(loader: Option[ClassLoader])akka.actor.TypedProps[T]" id="akka.actor;TypedProps.withLoader(dd47d51fc6)">withLoader</a><span class="delimiter">(</span><a title="Option[ClassLoader]" id="akka.actor;TypedProps.withLoader(dd47d51fc6).loader">loader</a>: <span title="Option[ClassLoader]">Option</span><span class="delimiter">[</span>ClassLoader<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.actor;TypedProps.equals" title="akka.actor.TypedProps[T]">TypedProps</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#akka.actor;TypedProps.equals" title="TypedProps.this.type" class="keyword">this</a>.<a href="#akka.actor;TypedProps.copy$default$1" title="scala.collection.immutable.Seq[Class[_]]" id="akka.actor;TypedProps.withLoader(dd47d51fc6).x$23">copy</a><span class="delimiter">(</span>loader = <a href="#akka.actor;TypedProps.withLoader(dd47d51fc6).loader" title="Option[ClassLoader]" id="akka.actor;TypedProps.withLoader(dd47d51fc6).x$18">loader</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Java API: return a new TypedProps that will use the specified Timeout for its non-void-returning methods,
   * if null is specified, it will use the default timeout as specified in the configuration.
   */</span>
  <span class="keyword">def</span> <a title="(timeout: akka.util.Timeout)akka.actor.TypedProps[T]" id="akka.actor;TypedProps.withTimeout(b900beacee)">withTimeout</a><span class="delimiter">(</span><a title="akka.util.Timeout" id="akka.actor;TypedProps.withTimeout(b900beacee).timeout">timeout</a>: <a href="../util/Timeout.scala.html#akka.util;Timeout" title="akka.util.Timeout">Timeout</a><span class="delimiter">)</span>: <a href="#akka.actor;TypedProps.equals" title="akka.actor.TypedProps[T]">TypedProps</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#akka.actor;TypedProps.equals" title="TypedProps.this.type" class="keyword">this</a>.<a href="#akka.actor;TypedProps.copy$default$1" title="scala.collection.immutable.Seq[Class[_]]" id="akka.actor;TypedProps.withTimeout(b900beacee).x$29">copy</a><span class="delimiter">(</span>timeout = <span title="(x: akka.util.Timeout)Option[akka.util.Timeout]">Option</span><a title="Option[akka.util.Timeout]" id="akka.actor;TypedProps.withTimeout(b900beacee).x$24" class="delimiter">(</a><a href="#akka.actor;TypedProps.withTimeout(b900beacee).timeout" title="akka.util.Timeout">timeout</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Scala API: return a new TypedProps that will use the specified Timeout for its non-void-returning methods,
   * if None is specified, it will use the default timeout as specified in the configuration.
   *
   *
   */</span>
  <span class="keyword">def</span> <a title="(timeout: Option[akka.util.Timeout])akka.actor.TypedProps[T]" id="akka.actor;TypedProps.withTimeout(a4bbec3fcd)">withTimeout</a><span class="delimiter">(</span><a title="Option[akka.util.Timeout]" id="akka.actor;TypedProps.withTimeout(a4bbec3fcd).timeout">timeout</a>: <span title="Option[akka.util.Timeout]">Option</span><span class="delimiter">[</span>Timeout<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.actor;TypedProps.equals" title="akka.actor.TypedProps[T]">TypedProps</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#akka.actor;TypedProps.equals" title="TypedProps.this.type" class="keyword">this</a>.<a href="#akka.actor;TypedProps.copy$default$1" title="scala.collection.immutable.Seq[Class[_]]" id="akka.actor;TypedProps.withTimeout(a4bbec3fcd).x$35">copy</a><span class="delimiter">(</span>timeout = <a href="#akka.actor;TypedProps.withTimeout(a4bbec3fcd).timeout" title="Option[akka.util.Timeout]" id="akka.actor;TypedProps.withTimeout(a4bbec3fcd).x$30">timeout</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns a new TypedProps that has the specified interface,
   * or if the interface class is not an interface, all the interfaces it implements,
   * appended in the sequence of interfaces.
   */</span>
  <span class="keyword">def</span> <a title="(interface: Class[_ &gt;: T])akka.actor.TypedProps[T]" id="akka.actor;TypedProps.withInterface">withInterface</a><span class="delimiter">(</span><a title="Class[_ &gt;: T]" id="akka.actor;TypedProps.withInterface.interface">interface</a>: <span title="Class[_ &gt;: T]">Class</span><span class="delimiter">[</span>_ &gt;: T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.actor;TypedProps.equals" title="akka.actor.TypedProps[T]">TypedProps</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
    <a href="#akka.actor;TypedProps.equals" title="TypedProps.this.type" class="keyword">this</a>.<a href="#akka.actor;TypedProps.equals" title="(interfaces: scala.collection.immutable.Seq[Class[_]], creator: () =&gt; T, dispatcher: String, deploy: akka.actor.Deploy, timeout: Option[akka.util.Timeout], loader: Option[ClassLoader])akka.actor.TypedProps[T]">copy</a><span class="delimiter">(</span>interfaces = <a href="#akka.actor;TypedProps.copy$default$1" title="=&gt; scala.collection.immutable.Seq[Class[_]]">interfaces</a> <span title="(that: scala.collection.GenTraversableOnce[Class[_]])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Seq[Class[_]],Class[_],scala.collection.immutable.Seq[Class[_]]])scala.collection.immutable.Seq[Class[_]]">++</span> <a href="#akka.actor.TypedProps.readResolve" title="akka.actor.TypedProps.type">TypedProps</a>.<a href="#akka.actor.TypedProps.extractInterfaces" title="(clazz: Class[_])scala.collection.immutable.Seq[Class[_]]">extractInterfaces</a><span class="delimiter">(</span><a href="#akka.actor;TypedProps.withInterface.interface" title="Class[_ &gt;: T]">interface</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns a new TypedProps without the specified interface,
   * or if the interface class is not an interface, all the interfaces it implements.
   */</span>
  <span class="keyword">def</span> <a title="(interface: Class[_ &gt;: T])akka.actor.TypedProps[T]" id="akka.actor;TypedProps.withoutInterface">withoutInterface</a><span class="delimiter">(</span><a title="Class[_ &gt;: T]" id="akka.actor;TypedProps.withoutInterface.interface">interface</a>: <span title="Class[_ &gt;: T]">Class</span><span class="delimiter">[</span>_ &gt;: T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.actor;TypedProps.equals" title="akka.actor.TypedProps[T]">TypedProps</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
    <a href="#akka.actor;TypedProps.equals" title="TypedProps.this.type" class="keyword">this</a>.<a href="#akka.actor;TypedProps.equals" title="(interfaces: scala.collection.immutable.Seq[Class[_]], creator: () =&gt; T, dispatcher: String, deploy: akka.actor.Deploy, timeout: Option[akka.util.Timeout], loader: Option[ClassLoader])akka.actor.TypedProps[T]">copy</a><span class="delimiter">(</span>interfaces = <a href="#akka.actor;TypedProps.copy$default$1" title="=&gt; scala.collection.immutable.Seq[Class[_]]">interfaces</a> <span title="(that: scala.collection.GenSeq[Class[_]])scala.collection.immutable.Seq[Class[_]]">diff</span> <a href="#akka.actor.TypedProps.readResolve" title="akka.actor.TypedProps.type">TypedProps</a>.<a href="#akka.actor.TypedProps.extractInterfaces" title="(clazz: Class[_])scala.collection.immutable.Seq[Class[_]]">extractInterfaces</a><span class="delimiter">(</span><a href="#akka.actor;TypedProps.withoutInterface.interface" title="Class[_ &gt;: T]">interface</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns the akka.actor.Props representation of this TypedProps
   */</span>
  <span class="keyword">def</span> <a title="()akka.actor.Props" id="akka.actor;TypedProps.actorProps">actorProps</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="Props.scala.html#akka.actor;Props" title="akka.actor.Props">Props</a> =
    <span title="akka.actor.Props" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.actor;TypedProps.copy$default$3" title="=&gt; String">dispatcher</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Props.scala.html#akka.actor.Props" title="akka.actor.Props.type">Props</a>.<a href="Props.scala.html#akka.actor.Props.default" title="=&gt; akka.actor.Props">default</a>.<a href="Props.scala.html#akka.actor;Props.dispatcher" title="=&gt; String">dispatcher</a><span class="delimiter">)</span>
      <a href="Props.scala.html#akka.actor.Props" title="akka.actor.Props.type">Props</a>.<a href="Props.scala.html#akka.actor.Props.default" title="=&gt; akka.actor.Props">default</a>.<a href="Props.scala.html#akka.actor;Props.withDeploy" title="(d: akka.actor.Deploy)akka.actor.Props">withDeploy</a><span class="delimiter">(</span><a href="#akka.actor;TypedProps.copy$default$4" title="=&gt; akka.actor.Deploy">deploy</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="Props.scala.html#akka.actor.Props" title="akka.actor.Props.type">Props</a>.<a href="Props.scala.html#akka.actor.Props.default" title="=&gt; akka.actor.Props">default</a>.<a href="Props.scala.html#akka.actor;Props.withDispatcher" title="(d: String)akka.actor.Props">withDispatcher</a><span class="delimiter">(</span><a href="#akka.actor;TypedProps.copy$default$3" title="=&gt; String">dispatcher</a><span class="delimiter">)</span>.<a href="Props.scala.html#akka.actor;Props.withDeploy" title="(d: akka.actor.Deploy)akka.actor.Props">withDeploy</a><span class="delimiter">(</span><a href="#akka.actor;TypedProps.copy$default$4" title="=&gt; akka.actor.Deploy">deploy</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * ContextualTypedActorFactory allows TypedActors to create children, effectively forming the same Actor Supervision Hierarchies
 * as normal Actors can.
 */</span>
<span class="keyword">case class</span> <a title="class ContextualTypedActorFactory extends AnyRef with akka.actor.TypedActorFactory with Product with Serializable" id="akka.actor.ContextualTypedActorFactory.readResolve">ContextualTypedActorFactory</a><a href="#akka.actor.ContextualTypedActorFactory.readResolve" title="Product" class="delimiter">(</a><a title="akka.actor.TypedActorExtension" id="akka.actor;ContextualTypedActorFactory.typedActor">typedActor</a>: <a href="#akka.actor;TypedActorExtension" title="akka.actor.TypedActorExtension">TypedActorExtension</a>, <a title="akka.actor.ActorContext" id="akka.actor;ContextualTypedActorFactory.actorFactory">actorFactory</a>: <a href="ActorCell.scala.html#akka.actor;ActorContext" title="akka.actor.ActorContext">ActorContext</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#akka.actor;TypedActorFactory" title="akka.actor.TypedActorFactory">TypedActorFactory</a> <span class="delimiter">{</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(proxy: AnyRef)akka.actor.ActorRef" id="akka.actor;ContextualTypedActorFactory.getActorRefFor">getActorRefFor</a><span class="delimiter">(</span><a title="AnyRef" id="akka.actor;ContextualTypedActorFactory.getActorRefFor.proxy">proxy</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span>: <a href="ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a> = <a href="#akka.actor;ContextualTypedActorFactory.typedActor" title="=&gt; akka.actor.TypedActorExtension">typedActor</a>.<a href="#akka.actor;TypedActorExtension.getActorRefFor" title="(proxy: AnyRef)akka.actor.ActorRef">getActorRefFor</a><span class="delimiter">(</span><a href="#akka.actor;ContextualTypedActorFactory.getActorRefFor.proxy" title="AnyRef">proxy</a><span class="delimiter">)</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(proxyOrNot: AnyRef)Boolean" id="akka.actor;ContextualTypedActorFactory.isTypedActor">isTypedActor</a><span class="delimiter">(</span><a title="AnyRef" id="akka.actor;ContextualTypedActorFactory.isTypedActor.proxyOrNot">proxyOrNot</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#akka.actor;ContextualTypedActorFactory.typedActor" title="=&gt; akka.actor.TypedActorExtension">typedActor</a>.<a href="#akka.actor;TypedActorExtension.isTypedActor" title="(proxyOrNot: AnyRef)Boolean">isTypedActor</a><span class="delimiter">(</span><a href="#akka.actor;ContextualTypedActorFactory.isTypedActor.proxyOrNot" title="AnyRef">proxyOrNot</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class TypedActorExtension extends AnyRef with akka.actor.TypedActorFactory with akka.actor.Extension" id="akka.actor;TypedActorExtension">TypedActorExtension</a><a href="#akka.actor;TypedActorExtension" title="akka.actor.TypedActorExtension" class="delimiter">(</a><span class="keyword">val</span> <a title="akka.actor.ExtendedActorSystem" id="akka.actor;TypedActorExtension.system">system</a>: <a href="ActorSystem.scala.html#akka.actor;ExtendedActorSystem" title="akka.actor.ExtendedActorSystem">ExtendedActorSystem</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#akka.actor;TypedActorFactory" title="akka.actor.TypedActorFactory">TypedActorFactory</a> <span class="keyword">with</span> <a href="Extension.scala.html#akka.actor;Extension" title="akka.actor.Extension">Extension</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="#akka.actor.TypedActor" title="akka.actor.TypedActor.type">TypedActor</a>._ <span class="comment">//Import the goodies from the companion object</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; akka.actor.ActorRefFactory" id="akka.actor;TypedActorExtension.actorFactory">actorFactory</a>: <a href="ActorRefProvider.scala.html#akka.actor;ActorRefFactory" title="akka.actor.ActorRefFactory">ActorRefFactory</a> = <a href="#akka.actor;TypedActorExtension.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; akka.actor.TypedActorExtension" id="akka.actor;TypedActorExtension.typedActor">typedActor</a> = <a href="#akka.actor;TypedActorExtension" title="akka.actor.TypedActorExtension" class="keyword">this</a>

  <span class="keyword">import</span> <a href="#akka.actor;TypedActorExtension.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a>.settings
  <span class="keyword">import</span> akka.util.<a href="../util/Helpers.scala.html#akka.util.Helpers" title="akka.util.Helpers.type">Helpers</a>.ConfigOps

  <span class="comment">/**
   * Default timeout for typed actor methods with non-void return type
   */</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="akka.util.Timeout" id="akka.actor;TypedActorExtension.DefaultReturnTimeout">DefaultReturnTimeout</a> = <a href="../util/Timeout.scala.html#akka.util;Timeout" title="(duration: scala.concurrent.duration.FiniteDuration)akka.util.Timeout">Timeout</a><span class="delimiter">(</span><a href="ActorSystem.scala.html#akka.actor;ActorSystem.settings" title="=&gt; akka.actor.ActorSystem.Settings">settings</a>.<a href="../util/Helpers.scala.html#akka.util.Helpers.ConfigOps(7001b1cdb7)" title="implicit akka.util.Helpers.ConfigOps : (config: com.typesafe.config.Config)akka.util.Helpers.ConfigOps">config</a>.<a href="../util/Helpers.scala.html#akka.util.Helpers;ConfigOps.getMillisDuration" title="(path: String)scala.concurrent.duration.FiniteDuration">getMillisDuration</a><span class="delimiter">(</span><span title="String(&quot;akka.actor.typed.timeout&quot;)" class="string">&quot;akka.actor.typed.timeout&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Retrieves the underlying ActorRef for the supplied TypedActor proxy, or null if none found
   */</span>
  <span class="keyword">def</span> <a title="(proxy: AnyRef)akka.actor.ActorRef" id="akka.actor;TypedActorExtension.getActorRefFor">getActorRefFor</a><span class="delimiter">(</span><a title="AnyRef" id="akka.actor;TypedActorExtension.getActorRefFor.proxy">proxy</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span>: <a href="ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a> = <a href="#akka.actor;TypedActorExtension.invocationHandlerFor" title="(typedActor: AnyRef)akka.actor.TypedActor.TypedActorInvocationHandler">invocationHandlerFor</a><span class="delimiter">(</span><a href="#akka.actor;TypedActorExtension.getActorRefFor.proxy" title="AnyRef">proxy</a><span class="delimiter">)</span> <span title="akka.actor.ActorRef" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span>    ⇒ <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">case</span> <a title="akka.actor.TypedActor.TypedActorInvocationHandler" id="akka.actor;TypedActorExtension.getActorRefFor.handler">handler</a> ⇒ <a href="#akka.actor;TypedActorExtension.getActorRefFor.handler" title="akka.actor.TypedActor.TypedActorInvocationHandler">handler</a>.<a href="#akka.actor.TypedActor;TypedActorInvocationHandler.actor" title="=&gt; akka.actor.ActorRef">actor</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns wether the supplied AnyRef is a TypedActor proxy or not
   */</span>
  <span class="keyword">def</span> <a title="(proxyOrNot: AnyRef)Boolean" id="akka.actor;TypedActorExtension.isTypedActor">isTypedActor</a><span class="delimiter">(</span><a title="AnyRef" id="akka.actor;TypedActorExtension.isTypedActor.proxyOrNot">proxyOrNot</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#akka.actor;TypedActorExtension.invocationHandlerFor" title="(typedActor: AnyRef)akka.actor.TypedActor.TypedActorInvocationHandler">invocationHandlerFor</a><span class="delimiter">(</span><a href="#akka.actor;TypedActorExtension.isTypedActor.proxyOrNot" title="AnyRef">proxyOrNot</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span>

  <span class="comment">// Private API</span>
  <span class="comment">/**
   * INTERNAL API
   */</span>
  <span class="keyword">private</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">def</span> <a title="[R &lt;: AnyRef, T &lt;: R](props: akka.actor.TypedProps[T], proxyVar: java.util.concurrent.atomic.AtomicReference[R], actorRef: =&gt; akka.actor.ActorRef)R" id="akka.actor;TypedActorExtension.createActorRefProxy">createActorRefProxy</a><span class="delimiter">[</span><a title=" &lt;: AnyRef" id="akka.actor;TypedActorExtension.createActorRefProxy;R">R</a> &lt;: AnyRef, <a title=" &lt;: R" id="akka.actor;TypedActorExtension.createActorRefProxy;T">T</a> &lt;: R<span class="delimiter">]</span><span class="delimiter">(</span><a title="akka.actor.TypedProps[T]" id="akka.actor;TypedActorExtension.createActorRefProxy.props">props</a>: <a href="#akka.actor;TypedProps.equals" title="akka.actor.TypedProps[T]">TypedProps</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="java.util.concurrent.atomic.AtomicReference[R]" id="akka.actor;TypedActorExtension.createActorRefProxy.proxyVar">proxyVar</a>: <span title="java.util.concurrent.atomic.AtomicReference[R]">AtomVar</span><span class="delimiter">[</span>R<span class="delimiter">]</span>, <a title="=&gt; akka.actor.ActorRef" id="akka.actor;TypedActorExtension.createActorRefProxy.actorRef">actorRef</a>: ⇒ ActorRef<span class="delimiter">)</span>: <a href="#akka.actor;TypedActorExtension.createActorRefProxy;R" title="R">R</a> = <span class="delimiter">{</span>
    <span class="comment">//Warning, do not change order of the following statements, it's some elaborate chicken-n-egg handling</span>
    <span class="keyword">val</span> <a title="java.util.concurrent.atomic.AtomicReference[akka.actor.ActorRef]" id="akka.actor;TypedActorExtension.createActorRefProxy.actorVar">actorVar</a> = <span title="java.util.concurrent.atomic.AtomicReference[akka.actor.ActorRef]" class="keyword">new</span> <span title="java.util.concurrent.atomic.AtomicReference[akka.actor.ActorRef]">AtomVar</span><span class="delimiter">[</span>ActorRef<span class="delimiter">]</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="R" id="akka.actor;TypedActorExtension.createActorRefProxy.proxy">proxy</a> = <span title="java.lang.reflect.Proxy.type">Proxy</span>.<span title="(x$1: ClassLoader, x$2: Array[Class[_]], x$3: java.lang.reflect.InvocationHandler)Object">newProxyInstance</span><span class="delimiter">(</span>
      <span class="delimiter">(</span><a href="#akka.actor;TypedActorExtension.createActorRefProxy.props" title="akka.actor.TypedProps[T]">props</a>.<a href="#akka.actor;TypedProps.copy$default$6" title="=&gt; Option[ClassLoader]">loader</a> <span title="(alternative: =&gt; Option[ClassLoader])Option[ClassLoader]">orElse</span> <a href="#akka.actor;TypedActorExtension.createActorRefProxy.props" title="akka.actor.TypedProps[T]">props</a>.<a href="#akka.actor;TypedProps.copy$default$1" title="=&gt; scala.collection.immutable.Seq[Class[_]]">interfaces</a>.<span title="(pf: PartialFunction[Class[_],ClassLoader])Option[ClassLoader]">collectFirst</span> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[Class[_],ClassLoader] with Serializable" id="akka.actor;TypedActorExtension.createActorRefProxy.proxy;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a> <span class="keyword">case</span> <a title="Class[_$14]" id="akka.actor;TypedActorExtension.createActorRefProxy.proxy;$anonfun.isDefinedAt.any">any</a> ⇒ <a href="#akka.actor;TypedActorExtension.createActorRefProxy.proxy;$anonfun.isDefinedAt.any" title="Class[_$14]">any</a>.<span title="()ClassLoader">getClassLoader</span> <span class="delimiter">}</span><span class="delimiter">)</span>.<span title="(implicit ev: &lt;:&lt;[Null,ClassLoader])ClassLoader">orNull</span>, <span class="comment">//If we have no loader, we arbitrarily take the loader of the first interface</span>
      <a href="#akka.actor;TypedActorExtension.createActorRefProxy.props" title="akka.actor.TypedProps[T]">props</a>.<a href="#akka.actor;TypedProps.copy$default$1" title="=&gt; scala.collection.immutable.Seq[Class[_]]">interfaces</a>.<span title="(implicit evidence$1: scala.reflect.ClassTag[Class[_]])Array[Class[_]]">toArray</span>,
      <span title="akka.actor.TypedActor.TypedActorInvocationHandler" class="keyword">new</span> <a href="#akka.actor.TypedActor;TypedActorInvocationHandler" title="akka.actor.TypedActor.TypedActorInvocationHandler">TypedActorInvocationHandler</a><span class="delimiter">(</span><a href="#akka.actor;TypedActorExtension" title="akka.actor.TypedActorExtension" class="keyword">this</a>, <a href="#akka.actor;TypedActorExtension.createActorRefProxy.actorVar" title="java.util.concurrent.atomic.AtomicReference[akka.actor.ActorRef]">actorVar</a>, <a href="#akka.actor;TypedActorExtension.createActorRefProxy.props" title="akka.actor.TypedProps[T]">props</a>.<a href="#akka.actor;TypedProps.copy$default$5" title="=&gt; Option[akka.util.Timeout]">timeout</a> <span title="(default: =&gt; akka.util.Timeout)akka.util.Timeout">getOrElse</span> <a href="#akka.actor;TypedActorExtension.DefaultReturnTimeout" title="=&gt; akka.util.Timeout">DefaultReturnTimeout</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="R" class="delimiter">[</span><a href="#akka.actor;TypedActorExtension.createActorRefProxy;R" title="R">R</a><span class="delimiter">]</span>

    <span title="R" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.actor;TypedActorExtension.createActorRefProxy.proxyVar" title="java.util.concurrent.atomic.AtomicReference[R]">proxyVar</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#akka.actor;TypedActorExtension.createActorRefProxy.actorVar" title="java.util.concurrent.atomic.AtomicReference[akka.actor.ActorRef]">actorVar</a> <span title="(x$1: akka.actor.ActorRef)Unit">set</span> <a href="#akka.actor;TypedActorExtension.createActorRefProxy.actorRef" title="=&gt; akka.actor.ActorRef">actorRef</a>
      <a href="#akka.actor;TypedActorExtension.createActorRefProxy.proxy" title="R">proxy</a>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <a href="#akka.actor;TypedActorExtension.createActorRefProxy.proxyVar" title="java.util.concurrent.atomic.AtomicReference[R]">proxyVar</a> <span title="(x$1: R)Unit">set</span> <a href="#akka.actor;TypedActorExtension.createActorRefProxy.proxy" title="R">proxy</a> <span class="comment">// Chicken and egg situation we needed to solve, set the proxy so that we can set the self-reference inside each receive</span>
      <a href="#akka.actor;TypedActorExtension.createActorRefProxy.actorVar" title="java.util.concurrent.atomic.AtomicReference[akka.actor.ActorRef]">actorVar</a> <span title="(x$1: akka.actor.ActorRef)Unit">set</span> <a href="#akka.actor;TypedActorExtension.createActorRefProxy.actorRef" title="=&gt; akka.actor.ActorRef">actorRef</a> <span class="comment">//Make sure the InvocationHandler gets ahold of the actor reference, this is not a problem since the proxy hasn't escaped this method yet</span>
      <a href="#akka.actor;TypedActorExtension.createActorRefProxy.proxyVar" title="java.util.concurrent.atomic.AtomicReference[R]">proxyVar</a>.<span title="()R">get</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  <span class="keyword">private</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(typedActor: AnyRef)akka.actor.TypedActor.TypedActorInvocationHandler" id="akka.actor;TypedActorExtension.invocationHandlerFor">invocationHandlerFor</a><span class="delimiter">(</span><a title="AnyRef" id="akka.actor;TypedActorExtension.invocationHandlerFor.typedActor">typedActor</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span>: <a href="#akka.actor.TypedActor;TypedActorInvocationHandler" title="akka.actor.TypedActor.TypedActorInvocationHandler">TypedActorInvocationHandler</a> =
    <span title="akka.actor.TypedActor.TypedActorInvocationHandler" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#akka.actor;TypedActorExtension.invocationHandlerFor.typedActor" title="AnyRef">typedActor</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> classOf<span title="Class[java.lang.reflect.Proxy](classOf[java.lang.reflect.Proxy])" class="delimiter">[</span>Proxy<span class="delimiter">]</span>.<span title="(x$1: Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#akka.actor;TypedActorExtension.invocationHandlerFor.typedActor" title="AnyRef">typedActor</a>.<span title="()Class[_]">getClass</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="java.lang.reflect.Proxy.type">Proxy</span>.<span title="(x$1: Class[_])Boolean">isProxyClass</span><span class="delimiter">(</span><a href="#akka.actor;TypedActorExtension.invocationHandlerFor.typedActor" title="AnyRef">typedActor</a>.<span title="()Class[_]">getClass</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.actor;TypedActorExtension.invocationHandlerFor.typedActor" title="AnyRef">typedActor</a> <span title="akka.actor.TypedActor.TypedActorInvocationHandler" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span> ⇒ <span title="Null(null)" class="keyword">null</span>
      <span class="keyword">case</span> <a title="AnyRef" id="akka.actor;TypedActorExtension.invocationHandlerFor.other">other</a> ⇒ <span title="java.lang.reflect.Proxy.type">Proxy</span>.<span title="(x$1: Any)java.lang.reflect.InvocationHandler">getInvocationHandler</span><span class="delimiter">(</span><a href="#akka.actor;TypedActorExtension.invocationHandlerFor.other" title="AnyRef">other</a><span class="delimiter">)</span> <span title="akka.actor.TypedActor.TypedActorInvocationHandler" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span>                                 ⇒ <span title="Null(null)" class="keyword">null</span>
        <span class="keyword">case</span> <a title="akka.actor.TypedActor.TypedActorInvocationHandler" id="akka.actor;TypedActorExtension.invocationHandlerFor.handler">handler</a>: <a href="#akka.actor.TypedActor;TypedActorInvocationHandler" title="akka.actor.TypedActor.TypedActorInvocationHandler">TypedActorInvocationHandler</a> ⇒ <a href="#akka.actor;TypedActorExtension.invocationHandlerFor.handler" title="akka.actor.TypedActor.TypedActorInvocationHandler">handler</a>
        <span class="keyword">case</span> _                                    ⇒ <span title="Null(null)" class="keyword">null</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
