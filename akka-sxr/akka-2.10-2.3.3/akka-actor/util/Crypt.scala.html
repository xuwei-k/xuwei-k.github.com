<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>akka-actor/util/Crypt.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (C) 2009-2014 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>

<span class="keyword">package</span> akka.util

<span class="keyword">import</span> java.security.<span class="delimiter">{</span> MessageDigest, SecureRandom <span class="delimiter">}</span>
<span class="comment">//FIXME DOCS</span>
<span class="keyword">object</span> <a title="akka.util.Crypt.type" id="akka.util.Crypt">Crypt</a> <a href="#akka.util.Crypt" title="akka.util.Crypt.type" class="delimiter">{</a>
  <span class="keyword">val</span> <a title="String" id="akka.util.Crypt.hex">hex</a> = <span title="String(&quot;0123456789ABCDEF&quot;)" class="string">&quot;0123456789ABCDEF&quot;</span>
  <span class="keyword">val</span> <a title="String" id="akka.util.Crypt.lineSeparator">lineSeparator</a> = <span title="System.type">System</span>.<span title="(x$1: String)String">getProperty</span><span class="delimiter">(</span><span title="String(&quot;line.separator&quot;)" class="string">&quot;line.separator&quot;</span><span class="delimiter">)</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.security.SecureRandom" id="akka.util.Crypt.random">random</a> = <span title="java.security.SecureRandom.type">SecureRandom</span>.<span title="(x$1: String)java.security.SecureRandom">getInstance</span><span class="delimiter">(</span><span title="String(&quot;SHA1PRNG&quot;)" class="string">&quot;SHA1PRNG&quot;</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(text: String)String" id="akka.util.Crypt.md5(d814a8dff5)">md5</a><span class="delimiter">(</span><a title="String" id="akka.util.Crypt.md5(d814a8dff5).text">text</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#akka.util.Crypt.md5(f717a17611)" title="(bytes: Array[Byte])String">md5</a><span class="delimiter">(</span><a href="#akka.util.Crypt.unifyLineSeparator" title="(text: String)String">unifyLineSeparator</a><span class="delimiter">(</span><a href="#akka.util.Crypt.md5(d814a8dff5).text" title="String">text</a><span class="delimiter">)</span>.<span title="(x$1: String)Array[Byte]">getBytes</span><span class="delimiter">(</span><span title="String(&quot;ASCII&quot;)" class="string">&quot;ASCII&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(bytes: Array[Byte])String" id="akka.util.Crypt.md5(f717a17611)">md5</a><span class="delimiter">(</span><a title="Array[Byte]" id="akka.util.Crypt.md5(f717a17611).bytes">bytes</a>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#akka.util.Crypt.digest" title="(bytes: Array[Byte], md: java.security.MessageDigest)String">digest</a><span class="delimiter">(</span><a href="#akka.util.Crypt.md5(f717a17611).bytes" title="Array[Byte]">bytes</a>, <span title="java.security.MessageDigest.type">MessageDigest</span>.<span title="(x$1: String)java.security.MessageDigest">getInstance</span><span class="delimiter">(</span><span title="String(&quot;MD5&quot;)" class="string">&quot;MD5&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(text: String)String" id="akka.util.Crypt.sha1(d814a8dff5)">sha1</a><span class="delimiter">(</span><a title="String" id="akka.util.Crypt.sha1(d814a8dff5).text">text</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#akka.util.Crypt.sha1(f717a17611)" title="(bytes: Array[Byte])String">sha1</a><span class="delimiter">(</span><a href="#akka.util.Crypt.unifyLineSeparator" title="(text: String)String">unifyLineSeparator</a><span class="delimiter">(</span><a href="#akka.util.Crypt.sha1(d814a8dff5).text" title="String">text</a><span class="delimiter">)</span>.<span title="(x$1: String)Array[Byte]">getBytes</span><span class="delimiter">(</span><span title="String(&quot;ASCII&quot;)" class="string">&quot;ASCII&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(bytes: Array[Byte])String" id="akka.util.Crypt.sha1(f717a17611)">sha1</a><span class="delimiter">(</span><a title="Array[Byte]" id="akka.util.Crypt.sha1(f717a17611).bytes">bytes</a>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#akka.util.Crypt.digest" title="(bytes: Array[Byte], md: java.security.MessageDigest)String">digest</a><span class="delimiter">(</span><a href="#akka.util.Crypt.sha1(f717a17611).bytes" title="Array[Byte]">bytes</a>, <span title="java.security.MessageDigest.type">MessageDigest</span>.<span title="(x$1: String)java.security.MessageDigest">getInstance</span><span class="delimiter">(</span><span title="String(&quot;SHA1&quot;)" class="string">&quot;SHA1&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; String" id="akka.util.Crypt.generateSecureCookie">generateSecureCookie</a>: <span title="String">String</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Array[Byte]" id="akka.util.Crypt.generateSecureCookie.bytes">bytes</a> = <span title="Array.type">Array</span>.<span title="(n: Int)(elem: =&gt; Byte)(implicit evidence$9: scala.reflect.ClassTag[Byte])Array[Byte]">fill</span><span class="delimiter">(</span><span title="Int(32)" class="int">32</span><span class="delimiter">)</span><span title="=&gt; scala.reflect.ClassTag[Byte]" class="delimiter">(</span><span title="implicit scala.Predef.int2Integer : (x: Int)Integer" class="int">0</span>.<span title="()Byte">byteValue</span><span class="delimiter">)</span>
    <a href="#akka.util.Crypt.random" title="=&gt; java.security.SecureRandom">random</a>.<span title="(x$1: Array[Byte])Unit">nextBytes</span><span class="delimiter">(</span><a href="#akka.util.Crypt.generateSecureCookie.bytes" title="Array[Byte]">bytes</a><span class="delimiter">)</span>
    <a href="#akka.util.Crypt.sha1(f717a17611)" title="(bytes: Array[Byte])String">sha1</a><span class="delimiter">(</span><a href="#akka.util.Crypt.generateSecureCookie.bytes" title="Array[Byte]">bytes</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(bytes: Array[Byte], md: java.security.MessageDigest)String" id="akka.util.Crypt.digest">digest</a><span class="delimiter">(</span><a title="Array[Byte]" id="akka.util.Crypt.digest.bytes">bytes</a>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span>, <a title="java.security.MessageDigest" id="akka.util.Crypt.digest.md">md</a>: <span title="java.security.MessageDigest">MessageDigest</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <a href="#akka.util.Crypt.digest.md" title="java.security.MessageDigest">md</a>.<span title="(x$1: Array[Byte])Unit">update</span><span class="delimiter">(</span><a href="#akka.util.Crypt.digest.bytes" title="Array[Byte]">bytes</a><span class="delimiter">)</span>
    <a href="#akka.util.Crypt.hexify" title="(bytes: Array[Byte])String">hexify</a><span class="delimiter">(</span><a href="#akka.util.Crypt.digest.md" title="java.security.MessageDigest">md</a>.<span title="()Array[Byte]">digest</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(bytes: Array[Byte])String" id="akka.util.Crypt.hexify">hexify</a><span class="delimiter">(</span><a title="Array[Byte]" id="akka.util.Crypt.hexify.bytes">bytes</a>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="StringBuilder" id="akka.util.Crypt.hexify.builder">builder</a> = <span title="(x$1: Int)StringBuilder" class="keyword">new</span> java.lang.<span title="StringBuilder">StringBuilder</span><span class="delimiter">(</span><a href="#akka.util.Crypt.hexify.bytes" title="Array[Byte]">bytes</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">*</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
    <a href="#akka.util.Crypt.hexify.bytes" title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]">bytes</a>.<span title="(f: Byte =&gt; StringBuilder)Unit">foreach</span> <span class="delimiter">{</span> <a title="Byte" id="akka.util.Crypt.hexify.$anonfun.byte">byte</a> â‡’ <a href="#akka.util.Crypt.hexify.builder" title="StringBuilder">builder</a>.<span title="(x$1: Char)StringBuilder">append</span><span class="delimiter">(</span><a href="#akka.util.Crypt.hex" title="=&gt; String">hex</a>.<span title="(x$1: Int)Char">charAt</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#akka.util.Crypt.hexify.$anonfun.byte" title="Byte">byte</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(240)" class="int">0xF0</span><span class="delimiter">)</span> <span title="(x: Int)Int">&gt;&gt;</span> <span title="Int(4)" class="int">4</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(x$1: Char)StringBuilder">append</span><span class="delimiter">(</span><a href="#akka.util.Crypt.hex" title="=&gt; String">hex</a>.<span title="(x$1: Int)Char">charAt</span><span class="delimiter">(</span><a href="#akka.util.Crypt.hexify.$anonfun.byte" title="Byte">byte</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(15)" class="int">0xF</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
    <a href="#akka.util.Crypt.hexify.builder" title="StringBuilder">builder</a>.<span title="()String">toString</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(text: String)String" id="akka.util.Crypt.unifyLineSeparator">unifyLineSeparator</a><span class="delimiter">(</span><a title="String" id="akka.util.Crypt.unifyLineSeparator.text">text</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#akka.util.Crypt.unifyLineSeparator.text" title="String">text</a>.<span title="(x$1: String, x$2: String)String">replaceAll</span><span class="delimiter">(</span><a href="#akka.util.Crypt.lineSeparator" title="=&gt; String">lineSeparator</a>, <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
