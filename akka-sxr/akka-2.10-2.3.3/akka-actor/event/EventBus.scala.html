<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>akka-actor/event/EventBus.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (C) 2009-2014 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>

<span class="keyword">package</span> akka.event

<span class="keyword">import</span> akka.actor.ActorRef
<span class="keyword">import</span> akka.util.Index
<span class="keyword">import</span> java.util.concurrent.ConcurrentSkipListSet
<span class="keyword">import</span> java.util.Comparator
<span class="keyword">import</span> akka.util.<span class="delimiter">{</span> Subclassification, SubclassifiedIndex <span class="delimiter">}</span>
<span class="keyword">import</span> scala.collection.immutable.TreeSet
<span class="keyword">import</span> scala.collection.immutable

<span class="comment">/**
 * Represents the base type for EventBuses
 * Internally has an Event type, a Classifier type and a Subscriber type
 *
 * For the Java API, see akka.event.japi.*
 */</span>
<span class="keyword">trait</span> <a title="trait EventBus extends AnyRef" id="akka.event;EventBus">EventBus</a> <span class="delimiter">{</span>
  <span class="keyword">type</span> <a title="" id="akka.event;EventBus;Event">Event</a>
  <span class="keyword">type</span> <a title="" id="akka.event;EventBus;Classifier">Classifier</a>
  <span class="keyword">type</span> <a title="" id="akka.event;EventBus;Subscriber">Subscriber</a>

  <span class="comment">//#event-bus-api</span>
  <span class="comment">/**
   * Attempts to register the subscriber to the specified Classifier
   * @return true if successful and false if not (because it was already
   *   subscribed to that Classifier, or otherwise)
   */</span>
  <span class="keyword">def</span> <a title="(subscriber: EventBus.this.Subscriber, to: EventBus.this.Classifier)Boolean" id="akka.event;EventBus.subscribe">subscribe</a><span class="delimiter">(</span><a title="EventBus.this.Subscriber" id="akka.event;EventBus.subscribe.subscriber">subscriber</a>: <a href="#akka.event;EventBus;Subscriber" title="EventBus.this.Subscriber">Subscriber</a>, <a title="EventBus.this.Classifier" id="akka.event;EventBus.subscribe.to">to</a>: <a href="#akka.event;EventBus;Classifier" title="EventBus.this.Classifier">Classifier</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span>

  <span class="comment">/**
   * Attempts to deregister the subscriber from the specified Classifier
   * @return true if successful and false if not (because it wasn't subscribed
   *   to that Classifier, or otherwise)
   */</span>
  <span class="keyword">def</span> <a title="(subscriber: EventBus.this.Subscriber, from: EventBus.this.Classifier)Boolean" id="akka.event;EventBus.unsubscribe(06efef6bee)">unsubscribe</a><span class="delimiter">(</span><a title="EventBus.this.Subscriber" id="akka.event;EventBus.unsubscribe(06efef6bee).subscriber">subscriber</a>: <a href="#akka.event;EventBus;Subscriber" title="EventBus.this.Subscriber">Subscriber</a>, <a title="EventBus.this.Classifier" id="akka.event;EventBus.unsubscribe(06efef6bee).from">from</a>: <a href="#akka.event;EventBus;Classifier" title="EventBus.this.Classifier">Classifier</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span>

  <span class="comment">/**
   * Attempts to deregister the subscriber from all Classifiers it may be subscribed to
   */</span>
  <span class="keyword">def</span> <a title="(subscriber: EventBus.this.Subscriber)Unit" id="akka.event;EventBus.unsubscribe(0ebaa66136)">unsubscribe</a><span class="delimiter">(</span><a title="EventBus.this.Subscriber" id="akka.event;EventBus.unsubscribe(0ebaa66136).subscriber">subscriber</a>: <a href="#akka.event;EventBus;Subscriber" title="EventBus.this.Subscriber">Subscriber</a><span class="delimiter">)</span>: <span title="Unit">Unit</span>

  <span class="comment">/**
   * Publishes the specified Event to this bus
   */</span>
  <span class="keyword">def</span> <a title="(event: EventBus.this.Event)Unit" id="akka.event;EventBus.publish">publish</a><span class="delimiter">(</span><a title="EventBus.this.Event" id="akka.event;EventBus.publish.event">event</a>: <a href="#akka.event;EventBus;Event" title="EventBus.this.Event">Event</a><span class="delimiter">)</span>: <span title="Unit">Unit</span>
  <span class="comment">//#event-bus-api</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Represents an EventBus where the Subscriber type is ActorRef
 */</span>
<span title="AnyRef" class="keyword">trait</span> <a title="trait ActorEventBus extends AnyRef with akka.event.EventBus" id="akka.event;ActorEventBus">ActorEventBus</a> <span title="Unit" class="keyword">extends</span> <a href="#akka.event;EventBus" title="akka.event.EventBus">EventBus</a> <span class="delimiter">{</span>
  <span class="keyword">type</span> <a title="akka.actor.ActorRef" id="akka.event;ActorEventBus;Subscriber">Subscriber</a> = <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(a: akka.actor.ActorRef, b: akka.actor.ActorRef)Int" id="akka.event;ActorEventBus.compareSubscribers">compareSubscribers</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.event;ActorEventBus.compareSubscribers.a">a</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="akka.actor.ActorRef" id="akka.event;ActorEventBus.compareSubscribers.b">b</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span> = <a href="#akka.event;ActorEventBus.compareSubscribers.a" title="akka.actor.ActorRef">a</a> <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef.compareTo" title="(other: akka.actor.ActorRef)Int">compareTo</a> <a href="#akka.event;ActorEventBus.compareSubscribers.b" title="akka.actor.ActorRef">b</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * Can be mixed into an EventBus to specify that the Classifier type is ActorRef
 */</span>
<span class="keyword">trait</span> <a title="trait ActorClassifier extends AnyRef" id="akka.event;ActorClassifier">ActorClassifier</a> <span class="delimiter">{</span> <span class="keyword">this</span>: EventBus ⇒
  <span class="keyword">type</span> <a title="akka.actor.ActorRef" id="akka.event;ActorClassifier;Classifier">Classifier</a> = <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * Can be mixed into an EventBus to specify that the Classifier type is a Function from Event to Boolean (predicate)
 */</span>
<span title="AnyRef" class="keyword">trait</span> <a title="trait PredicateClassifier extends AnyRef" id="akka.event;PredicateClassifier">PredicateClassifier</a> <span class="delimiter">{</span> <span class="keyword">this</span>: EventBus ⇒
  <span class="keyword">type</span> <a title="PredicateClassifier.this.Event =&gt; Boolean" id="akka.event;PredicateClassifier;Classifier">Classifier</a> = Event ⇒ Boolean
<span class="delimiter">}</span>

<span class="comment">/**
 * Maps Subscribers to Classifiers using equality on Classifier to store a Set of Subscribers (hence the need for compareSubscribers)
 * Maps Events to Classifiers through the classify-method (so it knows who to publish to)
 *
 * The compareSubscribers need to provide a total ordering of the Subscribers
 */</span>
<span title="AnyRef" class="keyword">trait</span> <a title="trait LookupClassification extends AnyRef" id="akka.event;LookupClassification">LookupClassification</a> <span title="Unit" class="delimiter">{</span> <span class="keyword">this</span>: EventBus ⇒

  <span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="akka.util.Index[LookupClassification.this.Classifier,LookupClassification.this.Subscriber]" id="akka.event;LookupClassification.subscribers">subscribers</a> = <span title="akka.util.Index[LookupClassification.this.Classifier,LookupClassification.this.Subscriber]" class="keyword">new</span> <a href="../util/Index.scala.html#akka.util;Index" title="akka.util.Index[LookupClassification.this.Classifier,LookupClassification.this.Subscriber]">Index</a><span class="delimiter">[</span>Classifier, Subscriber<span class="delimiter">]</span><span class="delimiter">(</span><a href="#akka.event;LookupClassification.mapSize" title="()Int">mapSize</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#akka.event;LookupClassification.subscribers;$anon" title="java.util.Comparator[LookupClassification.this.Subscriber]" class="keyword">new</a> <a title="anonymous class $anon extends Object with java.util.Comparator[LookupClassification.this.Subscriber]" id="akka.event;LookupClassification.subscribers;$anon">Comparator</a><span class="delimiter">[</span>Subscriber<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(a: LookupClassification.this.Subscriber, b: LookupClassification.this.Subscriber)Int" id="akka.event;LookupClassification.subscribers;$anon.compare">compare</a><span class="delimiter">(</span><a title="LookupClassification.this.Subscriber" id="akka.event;LookupClassification.subscribers;$anon.compare.a">a</a>: <a href="#akka.event;EventBus;Subscriber" title="LookupClassification.this.Subscriber">Subscriber</a>, <a title="LookupClassification.this.Subscriber" id="akka.event;LookupClassification.subscribers;$anon.compare.b">b</a>: <a href="#akka.event;EventBus;Subscriber" title="LookupClassification.this.Subscriber">Subscriber</a><span class="delimiter">)</span>: <span title="Int">Int</span> = <a href="#akka.event;LookupClassification.compareSubscribers" title="(a: LookupClassification.this.Subscriber, b: LookupClassification.this.Subscriber)Int">compareSubscribers</a><span class="delimiter">(</span><a href="#akka.event;LookupClassification.subscribers;$anon.compare.a" title="LookupClassification.this.Subscriber">a</a>, <a href="#akka.event;LookupClassification.subscribers;$anon.compare.b" title="LookupClassification.this.Subscriber">b</a><span class="delimiter">)</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/**
   * This is a size hint for the number of Classifiers you expect to have (use powers of 2)
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="()Int" id="akka.event;LookupClassification.mapSize">mapSize</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Int">Int</span>

  <span class="comment">/**
   * Provides a total ordering of Subscribers (think java.util.Comparator.compare)
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(a: LookupClassification.this.Subscriber, b: LookupClassification.this.Subscriber)Int" id="akka.event;LookupClassification.compareSubscribers">compareSubscribers</a><span class="delimiter">(</span><a title="LookupClassification.this.Subscriber" id="akka.event;LookupClassification.compareSubscribers.a">a</a>: <a href="#akka.event;EventBus;Subscriber" title="LookupClassification.this.Subscriber">Subscriber</a>, <a title="LookupClassification.this.Subscriber" id="akka.event;LookupClassification.compareSubscribers.b">b</a>: <a href="#akka.event;EventBus;Subscriber" title="LookupClassification.this.Subscriber">Subscriber</a><span class="delimiter">)</span>: <span title="Int">Int</span>

  <span class="comment">/**
   * Returns the Classifier associated with the given Event
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(event: LookupClassification.this.Event)LookupClassification.this.Classifier" id="akka.event;LookupClassification.classify">classify</a><span class="delimiter">(</span><a title="LookupClassification.this.Event" id="akka.event;LookupClassification.classify.event">event</a>: <a href="#akka.event;EventBus;Event" title="LookupClassification.this.Event">Event</a><span class="delimiter">)</span>: <a href="#akka.event;EventBus;Classifier" title="LookupClassification.this.Classifier">Classifier</a>

  <span class="comment">/**
   * Publishes the given Event to the given Subscriber
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(event: LookupClassification.this.Event, subscriber: LookupClassification.this.Subscriber)Unit" id="akka.event;LookupClassification.publish(d3954001a6)">publish</a><span class="delimiter">(</span><a title="LookupClassification.this.Event" id="akka.event;LookupClassification.publish(d3954001a6).event">event</a>: <a href="#akka.event;EventBus;Event" title="LookupClassification.this.Event">Event</a>, <a title="LookupClassification.this.Subscriber" id="akka.event;LookupClassification.publish(d3954001a6).subscriber">subscriber</a>: <a href="#akka.event;EventBus;Subscriber" title="LookupClassification.this.Subscriber">Subscriber</a><span class="delimiter">)</span>: <span title="Unit">Unit</span>

  <span class="keyword">def</span> <a title="(subscriber: LookupClassification.this.Subscriber, to: LookupClassification.this.Classifier)Boolean" id="akka.event;LookupClassification.subscribe">subscribe</a><span class="delimiter">(</span><a title="LookupClassification.this.Subscriber" id="akka.event;LookupClassification.subscribe.subscriber">subscriber</a>: <a href="#akka.event;EventBus;Subscriber" title="LookupClassification.this.Subscriber">Subscriber</a>, <a title="LookupClassification.this.Classifier" id="akka.event;LookupClassification.subscribe.to">to</a>: <a href="#akka.event;EventBus;Classifier" title="LookupClassification.this.Classifier">Classifier</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#akka.event;LookupClassification.subscribers" title="=&gt; akka.util.Index[LookupClassification.this.Classifier,LookupClassification.this.Subscriber]">subscribers</a>.<a href="../util/Index.scala.html#akka.util;Index.put" title="(key: LookupClassification.this.Classifier, value: LookupClassification.this.Subscriber)Boolean">put</a><span class="delimiter">(</span><a href="#akka.event;LookupClassification.subscribe.to" title="LookupClassification.this.Classifier">to</a>, <a href="#akka.event;LookupClassification.subscribe.subscriber" title="LookupClassification.this.Subscriber">subscriber</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(subscriber: LookupClassification.this.Subscriber, from: LookupClassification.this.Classifier)Boolean" id="akka.event;LookupClassification.unsubscribe(306889f7ef)">unsubscribe</a><span class="delimiter">(</span><a title="LookupClassification.this.Subscriber" id="akka.event;LookupClassification.unsubscribe(306889f7ef).subscriber">subscriber</a>: <a href="#akka.event;EventBus;Subscriber" title="LookupClassification.this.Subscriber">Subscriber</a>, <a title="LookupClassification.this.Classifier" id="akka.event;LookupClassification.unsubscribe(306889f7ef).from">from</a>: <a href="#akka.event;EventBus;Classifier" title="LookupClassification.this.Classifier">Classifier</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#akka.event;LookupClassification.subscribers" title="=&gt; akka.util.Index[LookupClassification.this.Classifier,LookupClassification.this.Subscriber]">subscribers</a>.<a href="../util/Index.scala.html#akka.util;Index.remove(8d181fb718)" title="(key: LookupClassification.this.Classifier, value: LookupClassification.this.Subscriber)Boolean">remove</a><span class="delimiter">(</span><a href="#akka.event;LookupClassification.unsubscribe(306889f7ef).from" title="LookupClassification.this.Classifier">from</a>, <a href="#akka.event;LookupClassification.unsubscribe(306889f7ef).subscriber" title="LookupClassification.this.Subscriber">subscriber</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(subscriber: LookupClassification.this.Subscriber)Unit" id="akka.event;LookupClassification.unsubscribe(f6c2af7867)">unsubscribe</a><span class="delimiter">(</span><a title="LookupClassification.this.Subscriber" id="akka.event;LookupClassification.unsubscribe(f6c2af7867).subscriber">subscriber</a>: <a href="#akka.event;EventBus;Subscriber" title="LookupClassification.this.Subscriber">Subscriber</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.event;LookupClassification.subscribers" title="=&gt; akka.util.Index[LookupClassification.this.Classifier,LookupClassification.this.Subscriber]">subscribers</a>.<a href="../util/Index.scala.html#akka.util;Index.removeValue" title="(value: LookupClassification.this.Subscriber)Unit">removeValue</a><span class="delimiter">(</span><a href="#akka.event;LookupClassification.unsubscribe(f6c2af7867).subscriber" title="LookupClassification.this.Subscriber">subscriber</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(event: LookupClassification.this.Event)Unit" id="akka.event;LookupClassification.publish(04a04c358e)">publish</a><span class="delimiter">(</span><a title="LookupClassification.this.Event" id="akka.event;LookupClassification.publish(04a04c358e).event">event</a>: <a href="#akka.event;EventBus;Event" title="LookupClassification.this.Event">Event</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Iterator[LookupClassification.this.Subscriber]" id="akka.event;LookupClassification.publish(04a04c358e).i">i</a> = <a href="#akka.event;LookupClassification.subscribers" title="=&gt; akka.util.Index[LookupClassification.this.Classifier,LookupClassification.this.Subscriber]">subscribers</a>.<a href="../util/Index.scala.html#akka.util;Index.valueIterator" title="(key: LookupClassification.this.Classifier)Iterator[LookupClassification.this.Subscriber]">valueIterator</a><span class="delimiter">(</span><a href="#akka.event;LookupClassification.classify" title="(event: LookupClassification.this.Event)LookupClassification.this.Classifier">classify</a><span class="delimiter">(</span><a href="#akka.event;LookupClassification.publish(04a04c358e).event" title="LookupClassification.this.Event">event</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#akka.event;LookupClassification.publish(04a04c358e).i" title="Iterator[LookupClassification.this.Subscriber]">i</a>.<span title="=&gt; Boolean">hasNext</span><span class="delimiter">)</span> <a href="#akka.event;LookupClassification.publish(d3954001a6)" title="(event: LookupClassification.this.Event, subscriber: LookupClassification.this.Subscriber)Unit">publish</a><a href="#akka.event;LookupClassification.publish(04a04c358e).while$1" title="()Unit" class="delimiter">(</a><a href="#akka.event;LookupClassification.publish(04a04c358e).event" title="LookupClassification.this.Event">event</a>, <a href="#akka.event;LookupClassification.publish(04a04c358e).i" title="Iterator[LookupClassification.this.Subscriber]">i</a>.<span title="()LookupClassification.this.Subscriber">next</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Classification which respects relationships between channels: subscribing
 * to one channel automatically and idempotently subscribes to all sub-channels.
 */</span>
<span title="AnyRef" class="keyword">trait</span> <a title="trait SubchannelClassification extends AnyRef" id="akka.event;SubchannelClassification">SubchannelClassification</a> <span title="Unit" class="delimiter">{</span> <span class="keyword">this</span>: EventBus ⇒

  <span class="comment">/**
   * The logic to form sub-class hierarchy
   */</span>
  <span class="keyword">protected</span> <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; akka.util.Subclassification[SubchannelClassification.this.Classifier]" id="akka.event;SubchannelClassification.subclassification">subclassification</a>: <a href="../util/SubclassifiedIndex.scala.html#akka.util;Subclassification" title="akka.util.Subclassification[SubchannelClassification.this.Classifier]">Subclassification</a><span class="delimiter">[</span>Classifier<span class="delimiter">]</span>

  <span class="comment">// must be lazy to avoid initialization order problem with subclassification</span>
  <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="akka.util.SubclassifiedIndex[SubchannelClassification.this.Classifier,SubchannelClassification.this.Subscriber]" id="akka.event;SubchannelClassification.subscriptions">subscriptions</a> = <a href="../util/SubclassifiedIndex.scala.html#akka.util;SubclassifiedIndex.<init>(023c07cb85)" title="()(implicit sc: akka.util.Subclassification[SubchannelClassification.this.Classifier])akka.util.SubclassifiedIndex[SubchannelClassification.this.Classifier,SubchannelClassification.this.Subscriber]" class="keyword">new</a> <a href="../util/SubclassifiedIndex.scala.html#akka.util;SubclassifiedIndex" title="akka.util.SubclassifiedIndex[SubchannelClassification.this.Classifier,SubchannelClassification.this.Subscriber]">SubclassifiedIndex</a><span class="delimiter">[</span>Classifier, Subscriber<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  @volatile
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="scala.collection.immutable.Map[SubchannelClassification.this.Classifier,Set[SubchannelClassification.this.Subscriber]]" id="akka.event;SubchannelClassification.cache_=">cache</a> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="[A, B]=&gt; scala.collection.immutable.Map[A,B]">empty</span><span title="scala.collection.immutable.Map[SubchannelClassification.this.Classifier,Set[SubchannelClassification.this.Subscriber]]" class="delimiter">[</span><a href="#akka.event;EventBus;Classifier" title="SubchannelClassification.this.Classifier">Classifier</a>, <span title="Set[SubchannelClassification.this.Subscriber]">Set</span><span class="delimiter">[</span>Subscriber<span class="delimiter">]</span><span class="delimiter">]</span>

  <span class="comment">/**
   * Returns the Classifier associated with the given Event
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(event: SubchannelClassification.this.Event)SubchannelClassification.this.Classifier" id="akka.event;SubchannelClassification.classify">classify</a><span class="delimiter">(</span><a title="SubchannelClassification.this.Event" id="akka.event;SubchannelClassification.classify.event">event</a>: <a href="#akka.event;EventBus;Event" title="SubchannelClassification.this.Event">Event</a><span class="delimiter">)</span>: <a href="#akka.event;EventBus;Classifier" title="SubchannelClassification.this.Classifier">Classifier</a>

  <span class="comment">/**
   * Publishes the given Event to the given Subscriber
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(event: SubchannelClassification.this.Event, subscriber: SubchannelClassification.this.Subscriber)Unit" id="akka.event;SubchannelClassification.publish(d024a8b543)">publish</a><span class="delimiter">(</span><a title="SubchannelClassification.this.Event" id="akka.event;SubchannelClassification.publish(d024a8b543).event">event</a>: <a href="#akka.event;EventBus;Event" title="SubchannelClassification.this.Event">Event</a>, <a title="SubchannelClassification.this.Subscriber" id="akka.event;SubchannelClassification.publish(d024a8b543).subscriber">subscriber</a>: <a href="#akka.event;EventBus;Subscriber" title="SubchannelClassification.this.Subscriber">Subscriber</a><span class="delimiter">)</span>: <span title="Unit">Unit</span>

  <span class="keyword">def</span> <a title="(subscriber: SubchannelClassification.this.Subscriber, to: SubchannelClassification.this.Classifier)Boolean" id="akka.event;SubchannelClassification.subscribe">subscribe</a><span class="delimiter">(</span><a title="SubchannelClassification.this.Subscriber" id="akka.event;SubchannelClassification.subscribe.subscriber">subscriber</a>: <a href="#akka.event;EventBus;Subscriber" title="SubchannelClassification.this.Subscriber">Subscriber</a>, <a title="SubchannelClassification.this.Classifier" id="akka.event;SubchannelClassification.subscribe.to">to</a>: <a href="#akka.event;EventBus;Classifier" title="SubchannelClassification.this.Classifier">Classifier</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#akka.event;SubchannelClassification.subscriptions" title="=&gt; akka.util.SubclassifiedIndex[SubchannelClassification.this.Classifier,SubchannelClassification.this.Subscriber]">subscriptions</a>.<span title="(x$1: Boolean)Boolean">synchronized</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="SubchannelClassification.this.subscriptions.Changes" id="akka.event;SubchannelClassification.subscribe.diff">diff</a> = <a href="#akka.event;SubchannelClassification.subscriptions" title="=&gt; akka.util.SubclassifiedIndex[SubchannelClassification.this.Classifier,SubchannelClassification.this.Subscriber]">subscriptions</a>.<a href="../util/SubclassifiedIndex.scala.html#akka.util;SubclassifiedIndex.addValue" title="(key: SubchannelClassification.this.Classifier, value: SubchannelClassification.this.Subscriber)SubchannelClassification.this.subscriptions.Changes">addValue</a><span class="delimiter">(</span><a href="#akka.event;SubchannelClassification.subscribe.to" title="SubchannelClassification.this.Classifier">to</a>, <a href="#akka.event;SubchannelClassification.subscribe.subscriber" title="SubchannelClassification.this.Subscriber">subscriber</a><span class="delimiter">)</span>
    <a href="#akka.event;SubchannelClassification.addToCache" title="(changes: scala.collection.immutable.Seq[(SubchannelClassification.this.Classifier, Set[SubchannelClassification.this.Subscriber])])Unit">addToCache</a><span class="delimiter">(</span><a href="#akka.event;SubchannelClassification.subscribe.diff" title="SubchannelClassification.this.subscriptions.Changes">diff</a><span class="delimiter">)</span>
    <a href="#akka.event;SubchannelClassification.subscribe.diff" title="SubchannelClassification.this.subscriptions.Changes">diff</a>.<span title="=&gt; Boolean">nonEmpty</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(subscriber: SubchannelClassification.this.Subscriber, from: SubchannelClassification.this.Classifier)Boolean" id="akka.event;SubchannelClassification.unsubscribe(ec110dac6d)">unsubscribe</a><span class="delimiter">(</span><a title="SubchannelClassification.this.Subscriber" id="akka.event;SubchannelClassification.unsubscribe(ec110dac6d).subscriber">subscriber</a>: <a href="#akka.event;EventBus;Subscriber" title="SubchannelClassification.this.Subscriber">Subscriber</a>, <a title="SubchannelClassification.this.Classifier" id="akka.event;SubchannelClassification.unsubscribe(ec110dac6d).from">from</a>: <a href="#akka.event;EventBus;Classifier" title="SubchannelClassification.this.Classifier">Classifier</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#akka.event;SubchannelClassification.subscriptions" title="=&gt; akka.util.SubclassifiedIndex[SubchannelClassification.this.Classifier,SubchannelClassification.this.Subscriber]">subscriptions</a>.<span title="(x$1: Boolean)Boolean">synchronized</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="SubchannelClassification.this.subscriptions.Changes" id="akka.event;SubchannelClassification.unsubscribe(ec110dac6d).diff">diff</a> = <a href="#akka.event;SubchannelClassification.subscriptions" title="=&gt; akka.util.SubclassifiedIndex[SubchannelClassification.this.Classifier,SubchannelClassification.this.Subscriber]">subscriptions</a>.<a href="../util/SubclassifiedIndex.scala.html#akka.util;SubclassifiedIndex.removeValue(ead4d5783e)" title="(key: SubchannelClassification.this.Classifier, value: SubchannelClassification.this.Subscriber)SubchannelClassification.this.subscriptions.Changes">removeValue</a><span class="delimiter">(</span><a href="#akka.event;SubchannelClassification.unsubscribe(ec110dac6d).from" title="SubchannelClassification.this.Classifier">from</a>, <a href="#akka.event;SubchannelClassification.unsubscribe(ec110dac6d).subscriber" title="SubchannelClassification.this.Subscriber">subscriber</a><span class="delimiter">)</span>
    <span class="comment">// removeValue(K, V) does not return the diff to remove from or add to the cache</span>
    <span class="comment">// but instead the whole set of keys and values that should be updated in the cache</span>
    <a href="#akka.event;SubchannelClassification.cache_=" title="(x$1: scala.collection.immutable.Map[SubchannelClassification.this.Classifier,Set[SubchannelClassification.this.Subscriber]])Unit">cache</a> <span title="(xs: scala.collection.GenTraversableOnce[(SubchannelClassification.this.Classifier, Set[SubchannelClassification.this.Subscriber])])scala.collection.immutable.Map[SubchannelClassification.this.Classifier,Set[SubchannelClassification.this.Subscriber]]">++=</span> <a href="#akka.event;SubchannelClassification.unsubscribe(ec110dac6d).diff" title="SubchannelClassification.this.subscriptions.Changes">diff</a>
    <a href="#akka.event;SubchannelClassification.unsubscribe(ec110dac6d).diff" title="SubchannelClassification.this.subscriptions.Changes">diff</a>.<span title="=&gt; Boolean">nonEmpty</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(subscriber: SubchannelClassification.this.Subscriber)Unit" id="akka.event;SubchannelClassification.unsubscribe(def38b4c83)">unsubscribe</a><span class="delimiter">(</span><a title="SubchannelClassification.this.Subscriber" id="akka.event;SubchannelClassification.unsubscribe(def38b4c83).subscriber">subscriber</a>: <a href="#akka.event;EventBus;Subscriber" title="SubchannelClassification.this.Subscriber">Subscriber</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.event;SubchannelClassification.subscriptions" title="=&gt; akka.util.SubclassifiedIndex[SubchannelClassification.this.Classifier,SubchannelClassification.this.Subscriber]">subscriptions</a>.<span title="(x$1: Unit)Unit">synchronized</span> <span class="delimiter">{</span>
    <a href="#akka.event;SubchannelClassification.removeFromCache" title="(changes: scala.collection.immutable.Seq[(SubchannelClassification.this.Classifier, Set[SubchannelClassification.this.Subscriber])])Unit">removeFromCache</a><span class="delimiter">(</span><a href="#akka.event;SubchannelClassification.subscriptions" title="=&gt; akka.util.SubclassifiedIndex[SubchannelClassification.this.Classifier,SubchannelClassification.this.Subscriber]">subscriptions</a>.<a href="../util/SubclassifiedIndex.scala.html#akka.util;SubclassifiedIndex.removeValue(e0a34702a8)" title="(value: SubchannelClassification.this.Subscriber)SubchannelClassification.this.subscriptions.Changes">removeValue</a><span class="delimiter">(</span><a href="#akka.event;SubchannelClassification.unsubscribe(def38b4c83).subscriber" title="SubchannelClassification.this.Subscriber">subscriber</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(event: SubchannelClassification.this.Event)Unit" id="akka.event;SubchannelClassification.publish(de973626dc)">publish</a><span class="delimiter">(</span><a title="SubchannelClassification.this.Event" id="akka.event;SubchannelClassification.publish(de973626dc).event">event</a>: <a href="#akka.event;EventBus;Event" title="SubchannelClassification.this.Event">Event</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="SubchannelClassification.this.Classifier" id="akka.event;SubchannelClassification.publish(de973626dc).c">c</a> = <a href="#akka.event;SubchannelClassification.classify" title="(event: SubchannelClassification.this.Event)SubchannelClassification.this.Classifier">classify</a><span class="delimiter">(</span><a href="#akka.event;SubchannelClassification.publish(de973626dc).event" title="SubchannelClassification.this.Event">event</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Set[SubchannelClassification.this.Subscriber]" id="akka.event;SubchannelClassification.publish(de973626dc).recv">recv</a> =
      <span title="Set[SubchannelClassification.this.Subscriber]" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.event;SubchannelClassification.cache_=" title="=&gt; scala.collection.immutable.Map[SubchannelClassification.this.Classifier,Set[SubchannelClassification.this.Subscriber]]">cache</a> <span title="(key: SubchannelClassification.this.Classifier)Boolean">contains</span> <a href="#akka.event;SubchannelClassification.publish(de973626dc).c" title="SubchannelClassification.this.Classifier">c</a><span class="delimiter">)</span> <a href="#akka.event;SubchannelClassification.cache_=" title="(key: SubchannelClassification.this.Classifier)Set[SubchannelClassification.this.Subscriber]">cache</a><span class="delimiter">(</span><a href="#akka.event;SubchannelClassification.publish(de973626dc).c" title="SubchannelClassification.this.Classifier">c</a><span class="delimiter">)</span> <span class="comment">// c will never be removed from cache</span>
      <span class="keyword">else</span> <a href="#akka.event;SubchannelClassification.subscriptions" title="=&gt; akka.util.SubclassifiedIndex[SubchannelClassification.this.Classifier,SubchannelClassification.this.Subscriber]">subscriptions</a>.<span title="(x$1: Set[SubchannelClassification.this.Subscriber])Set[SubchannelClassification.this.Subscriber]">synchronized</span> <span class="delimiter">{</span>
        <span title="Set[SubchannelClassification.this.Subscriber]" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.event;SubchannelClassification.cache_=" title="=&gt; scala.collection.immutable.Map[SubchannelClassification.this.Classifier,Set[SubchannelClassification.this.Subscriber]]">cache</a> <span title="(key: SubchannelClassification.this.Classifier)Boolean">contains</span> <a href="#akka.event;SubchannelClassification.publish(de973626dc).c" title="SubchannelClassification.this.Classifier">c</a><span class="delimiter">)</span> <a href="#akka.event;SubchannelClassification.cache_=" title="(key: SubchannelClassification.this.Classifier)Set[SubchannelClassification.this.Subscriber]">cache</a><span class="delimiter">(</span><a href="#akka.event;SubchannelClassification.publish(de973626dc).c" title="SubchannelClassification.this.Classifier">c</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#akka.event;SubchannelClassification.addToCache" title="(changes: scala.collection.immutable.Seq[(SubchannelClassification.this.Classifier, Set[SubchannelClassification.this.Subscriber])])Unit">addToCache</a><span class="delimiter">(</span><a href="#akka.event;SubchannelClassification.subscriptions" title="=&gt; akka.util.SubclassifiedIndex[SubchannelClassification.this.Classifier,SubchannelClassification.this.Subscriber]">subscriptions</a>.<a href="../util/SubclassifiedIndex.scala.html#akka.util;SubclassifiedIndex.addKey" title="(key: SubchannelClassification.this.Classifier)SubchannelClassification.this.subscriptions.Changes">addKey</a><span class="delimiter">(</span><a href="#akka.event;SubchannelClassification.publish(de973626dc).c" title="SubchannelClassification.this.Classifier">c</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#akka.event;SubchannelClassification.cache_=" title="(key: SubchannelClassification.this.Classifier)Set[SubchannelClassification.this.Subscriber]">cache</a><span class="delimiter">(</span><a href="#akka.event;SubchannelClassification.publish(de973626dc).c" title="SubchannelClassification.this.Classifier">c</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <a href="#akka.event;SubchannelClassification.publish(de973626dc).recv" title="Set[SubchannelClassification.this.Subscriber]">recv</a> <span title="(f: SubchannelClassification.this.Subscriber =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a href="#akka.event;SubchannelClassification.publish(d024a8b543)" title="(event: SubchannelClassification.this.Event, subscriber: SubchannelClassification.this.Subscriber)Unit">publish</a><span class="delimiter">(</span><a href="#akka.event;SubchannelClassification.publish(de973626dc).event" title="SubchannelClassification.this.Event">event</a>, <a href="#akka.event;SubchannelClassification.publish(de973626dc).$anonfun.x$1" title="SubchannelClassification.this.Subscriber">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(changes: scala.collection.immutable.Seq[(SubchannelClassification.this.Classifier, Set[SubchannelClassification.this.Subscriber])])Unit" id="akka.event;SubchannelClassification.removeFromCache">removeFromCache</a><span class="delimiter">(</span><a title="scala.collection.immutable.Seq[(SubchannelClassification.this.Classifier, Set[SubchannelClassification.this.Subscriber])]" id="akka.event;SubchannelClassification.removeFromCache.changes">changes</a>: immutable.<span title="scala.collection.immutable.Seq[(SubchannelClassification.this.Classifier, Set[SubchannelClassification.this.Subscriber])]">Seq</span><span class="delimiter">[</span><span class="delimiter">(</span>Classifier, Set<span class="delimiter">[</span>Subscriber<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#akka.event;SubchannelClassification.cache_=" title="(x$1: scala.collection.immutable.Map[SubchannelClassification.this.Classifier,Set[SubchannelClassification.this.Subscriber]])Unit">cache</a> = <span class="delimiter">(</span><a href="#akka.event;SubchannelClassification.cache_=" title="=&gt; scala.collection.immutable.Map[SubchannelClassification.this.Classifier,Set[SubchannelClassification.this.Subscriber]]">cache</a> <a href="#akka.event;SubchannelClassification.removeFromCache.x$2" title="(z: scala.collection.immutable.Map[SubchannelClassification.this.Classifier,Set[SubchannelClassification.this.Subscriber]])(op: (scala.collection.immutable.Map[SubchannelClassification.this.Classifier,Set[SubchannelClassification.this.Subscriber]], (SubchannelClassification.this.Classifier, Set[SubchannelClassification.this.Subscriber])) =&gt; scala.collection.immutable.Map[SubchannelClassification.this.Classifier,Set[SubchannelClassification.this.Subscriber]])scala.collection.immutable.Map[SubchannelClassification.this.Classifier,Set[SubchannelClassification.this.Subscriber]]">/:</a> <a href="#akka.event;SubchannelClassification.removeFromCache.changes" title="scala.collection.immutable.Seq[(SubchannelClassification.this.Classifier, Set[SubchannelClassification.this.Subscriber])]">changes</a><span class="delimiter">)</span> <a href="#akka.event;SubchannelClassification.removeFromCache.$anonfun.x0$1" title="scala.collection.immutable.Map[SubchannelClassification.this.Classifier,Set[SubchannelClassification.this.Subscriber]]" class="delimiter">{</a>
      <span class="keyword">case</span> <span class="delimiter">(</span><a title="scala.collection.immutable.Map[SubchannelClassification.this.Classifier,Set[SubchannelClassification.this.Subscriber]]" id="akka.event;SubchannelClassification.removeFromCache.$anonfun.m">m</a>, <span class="delimiter">(</span><a title="SubchannelClassification.this.Classifier" id="akka.event;SubchannelClassification.removeFromCache.$anonfun.c">c</a>, <a title="Set[SubchannelClassification.this.Subscriber]" id="akka.event;SubchannelClassification.removeFromCache.$anonfun.cs">cs</a><span class="delimiter">)</span><span class="delimiter">)</span> ⇒ <a href="#akka.event;SubchannelClassification.removeFromCache.$anonfun.m" title="scala.collection.immutable.Map[SubchannelClassification.this.Classifier,Set[SubchannelClassification.this.Subscriber]]">m</a>.<span title="(key: SubchannelClassification.this.Classifier, value: Set[SubchannelClassification.this.Subscriber])scala.collection.immutable.Map[SubchannelClassification.this.Classifier,Set[SubchannelClassification.this.Subscriber]]">updated</span><span class="delimiter">(</span><a href="#akka.event;SubchannelClassification.removeFromCache.$anonfun.c" title="SubchannelClassification.this.Classifier">c</a>, <a href="#akka.event;SubchannelClassification.removeFromCache.$anonfun.m" title="scala.collection.immutable.Map[SubchannelClassification.this.Classifier,Set[SubchannelClassification.this.Subscriber]]">m</a>.<span title="(key: SubchannelClassification.this.Classifier, default: =&gt; Set[SubchannelClassification.this.Subscriber])Set[SubchannelClassification.this.Subscriber]">getOrElse</span><span class="delimiter">(</span><a href="#akka.event;SubchannelClassification.removeFromCache.$anonfun.c" title="SubchannelClassification.this.Classifier">c</a>, <span title="=&gt; scala.collection.immutable.Set.type">Set</span>.<span title="[A]=&gt; scala.collection.immutable.Set[A]">empty</span><span title="scala.collection.immutable.Set[SubchannelClassification.this.Subscriber]" class="delimiter">[</span><a href="#akka.event;EventBus;Subscriber" title="SubchannelClassification.this.Subscriber">Subscriber</a><span class="delimiter">]</span><span class="delimiter">)</span> <span title="(xs: scala.collection.GenTraversableOnce[SubchannelClassification.this.Subscriber])scala.collection.immutable.Set[SubchannelClassification.this.Subscriber]">--</span> <a href="#akka.event;SubchannelClassification.removeFromCache.$anonfun.cs" title="Set[SubchannelClassification.this.Subscriber]">cs</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(changes: scala.collection.immutable.Seq[(SubchannelClassification.this.Classifier, Set[SubchannelClassification.this.Subscriber])])Unit" id="akka.event;SubchannelClassification.addToCache">addToCache</a><span class="delimiter">(</span><a title="scala.collection.immutable.Seq[(SubchannelClassification.this.Classifier, Set[SubchannelClassification.this.Subscriber])]" id="akka.event;SubchannelClassification.addToCache.changes">changes</a>: immutable.<span title="scala.collection.immutable.Seq[(SubchannelClassification.this.Classifier, Set[SubchannelClassification.this.Subscriber])]">Seq</span><span class="delimiter">[</span><span class="delimiter">(</span>Classifier, Set<span class="delimiter">[</span>Subscriber<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#akka.event;SubchannelClassification.cache_=" title="(x$1: scala.collection.immutable.Map[SubchannelClassification.this.Classifier,Set[SubchannelClassification.this.Subscriber]])Unit">cache</a> = <span class="delimiter">(</span><a href="#akka.event;SubchannelClassification.cache_=" title="=&gt; scala.collection.immutable.Map[SubchannelClassification.this.Classifier,Set[SubchannelClassification.this.Subscriber]]">cache</a> <a href="#akka.event;SubchannelClassification.addToCache.x$3" title="(z: scala.collection.immutable.Map[SubchannelClassification.this.Classifier,Set[SubchannelClassification.this.Subscriber]])(op: (scala.collection.immutable.Map[SubchannelClassification.this.Classifier,Set[SubchannelClassification.this.Subscriber]], (SubchannelClassification.this.Classifier, Set[SubchannelClassification.this.Subscriber])) =&gt; scala.collection.immutable.Map[SubchannelClassification.this.Classifier,Set[SubchannelClassification.this.Subscriber]])scala.collection.immutable.Map[SubchannelClassification.this.Classifier,Set[SubchannelClassification.this.Subscriber]]">/:</a> <a href="#akka.event;SubchannelClassification.addToCache.changes" title="scala.collection.immutable.Seq[(SubchannelClassification.this.Classifier, Set[SubchannelClassification.this.Subscriber])]">changes</a><span class="delimiter">)</span> <a href="#akka.event;SubchannelClassification.addToCache.$anonfun.x0$2" title="scala.collection.immutable.Map[SubchannelClassification.this.Classifier,Set[SubchannelClassification.this.Subscriber]]" class="delimiter">{</a>
      <span class="keyword">case</span> <span class="delimiter">(</span><a title="scala.collection.immutable.Map[SubchannelClassification.this.Classifier,Set[SubchannelClassification.this.Subscriber]]" id="akka.event;SubchannelClassification.addToCache.$anonfun.m">m</a>, <span class="delimiter">(</span><a title="SubchannelClassification.this.Classifier" id="akka.event;SubchannelClassification.addToCache.$anonfun.c">c</a>, <a title="Set[SubchannelClassification.this.Subscriber]" id="akka.event;SubchannelClassification.addToCache.$anonfun.cs">cs</a><span class="delimiter">)</span><span class="delimiter">)</span> ⇒ <a href="#akka.event;SubchannelClassification.addToCache.$anonfun.m" title="scala.collection.immutable.Map[SubchannelClassification.this.Classifier,Set[SubchannelClassification.this.Subscriber]]">m</a>.<span title="(key: SubchannelClassification.this.Classifier, value: Set[SubchannelClassification.this.Subscriber])scala.collection.immutable.Map[SubchannelClassification.this.Classifier,Set[SubchannelClassification.this.Subscriber]]">updated</span><span class="delimiter">(</span><a href="#akka.event;SubchannelClassification.addToCache.$anonfun.c" title="SubchannelClassification.this.Classifier">c</a>, <a href="#akka.event;SubchannelClassification.addToCache.$anonfun.m" title="scala.collection.immutable.Map[SubchannelClassification.this.Classifier,Set[SubchannelClassification.this.Subscriber]]">m</a>.<span title="(key: SubchannelClassification.this.Classifier, default: =&gt; Set[SubchannelClassification.this.Subscriber])Set[SubchannelClassification.this.Subscriber]">getOrElse</span><span class="delimiter">(</span><a href="#akka.event;SubchannelClassification.addToCache.$anonfun.c" title="SubchannelClassification.this.Classifier">c</a>, <span title="=&gt; scala.collection.immutable.Set.type">Set</span>.<span title="[A]=&gt; scala.collection.immutable.Set[A]">empty</span><span title="scala.collection.immutable.Set[SubchannelClassification.this.Subscriber]" class="delimiter">[</span><a href="#akka.event;EventBus;Subscriber" title="SubchannelClassification.this.Subscriber">Subscriber</a><span class="delimiter">]</span><span class="delimiter">)</span> <span title="(elems: scala.collection.GenTraversableOnce[SubchannelClassification.this.Subscriber])scala.collection.immutable.Set[SubchannelClassification.this.Subscriber]">++</span> <a href="#akka.event;SubchannelClassification.addToCache.$anonfun.cs" title="Set[SubchannelClassification.this.Subscriber]">cs</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Maps Classifiers to Subscribers and selects which Subscriber should receive which publication through scanning through all Subscribers
 * through the matches(classifier, event) method
 *
 * Note: the compareClassifiers and compareSubscribers must together form an absolute ordering (think java.util.Comparator.compare)
 */</span>
<span title="AnyRef" class="keyword">trait</span> <a title="trait ScanningClassification extends AnyRef" id="akka.event;ScanningClassification">ScanningClassification</a> <span title="Unit" class="delimiter">{</span> self: EventBus ⇒
  <span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="java.util.concurrent.ConcurrentSkipListSet[(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)]" id="akka.event;ScanningClassification.subscribers">subscribers</a> = <span title="(x$1: java.util.Comparator[_ &gt;: (ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)])java.util.concurrent.ConcurrentSkipListSet[(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)]" class="keyword">new</span> <span title="java.util.concurrent.ConcurrentSkipListSet[(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)]">ConcurrentSkipListSet</span><span class="delimiter">[</span><span class="delimiter">(</span>Classifier, Subscriber<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#akka.event;ScanningClassification.subscribers;$anon" title="java.util.Comparator[(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)]" class="keyword">new</a> <a title="anonymous class $anon extends Object with java.util.Comparator[(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)]" id="akka.event;ScanningClassification.subscribers;$anon">Comparator</a><span class="delimiter">[</span><span class="delimiter">(</span>Classifier, Subscriber<span class="delimiter">)</span><span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(a: (ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber), b: (ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber))Int" id="akka.event;ScanningClassification.subscribers;$anon.compare">compare</a><span class="delimiter">(</span><a title="(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)" id="akka.event;ScanningClassification.subscribers;$anon.compare.a">a</a>: <span title="(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)" class="delimiter">(</span>Classifier, Subscriber<span class="delimiter">)</span>, <a title="(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)" id="akka.event;ScanningClassification.subscribers;$anon.compare.b">b</a>: <span title="(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)" class="delimiter">(</span>Classifier, Subscriber<span class="delimiter">)</span><span class="delimiter">)</span>: <span title="Int">Int</span> = <a href="#akka.event;ScanningClassification.compareClassifiers" title="(a: ScanningClassification.this.Classifier, b: ScanningClassification.this.Classifier)Int">compareClassifiers</a><span class="delimiter">(</span><a href="#akka.event;ScanningClassification.subscribers;$anon.compare.a" title="(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)">a</a>.<span title="=&gt; ScanningClassification.this.Classifier">_1</span>, <a href="#akka.event;ScanningClassification.subscribers;$anon.compare.b" title="(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)">b</a>.<span title="=&gt; ScanningClassification.this.Classifier">_1</span><span class="delimiter">)</span> <span title="Int" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Int(0)" class="int">0</span>     ⇒ <a href="#akka.event;ScanningClassification.compareSubscribers" title="(a: ScanningClassification.this.Subscriber, b: ScanningClassification.this.Subscriber)Int">compareSubscribers</a><span class="delimiter">(</span><a href="#akka.event;ScanningClassification.subscribers;$anon.compare.a" title="(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)">a</a>.<span title="=&gt; ScanningClassification.this.Subscriber">_2</span>, <a href="#akka.event;ScanningClassification.subscribers;$anon.compare.b" title="(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)">b</a>.<span title="=&gt; ScanningClassification.this.Subscriber">_2</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Int" id="akka.event;ScanningClassification.subscribers;$anon.compare.other">other</a> ⇒ <a href="#akka.event;ScanningClassification.subscribers;$anon.compare.other" title="Int">other</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Provides a total ordering of Classifiers (think java.util.Comparator.compare)
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(a: ScanningClassification.this.Classifier, b: ScanningClassification.this.Classifier)Int" id="akka.event;ScanningClassification.compareClassifiers">compareClassifiers</a><span class="delimiter">(</span><a title="ScanningClassification.this.Classifier" id="akka.event;ScanningClassification.compareClassifiers.a">a</a>: <a href="#akka.event;EventBus;Classifier" title="ScanningClassification.this.Classifier">Classifier</a>, <a title="ScanningClassification.this.Classifier" id="akka.event;ScanningClassification.compareClassifiers.b">b</a>: <a href="#akka.event;EventBus;Classifier" title="ScanningClassification.this.Classifier">Classifier</a><span class="delimiter">)</span>: <span title="Int">Int</span>

  <span class="comment">/**
   * Provides a total ordering of Subscribers (think java.util.Comparator.compare)
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(a: ScanningClassification.this.Subscriber, b: ScanningClassification.this.Subscriber)Int" id="akka.event;ScanningClassification.compareSubscribers">compareSubscribers</a><span class="delimiter">(</span><a title="ScanningClassification.this.Subscriber" id="akka.event;ScanningClassification.compareSubscribers.a">a</a>: <a href="#akka.event;EventBus;Subscriber" title="ScanningClassification.this.Subscriber">Subscriber</a>, <a title="ScanningClassification.this.Subscriber" id="akka.event;ScanningClassification.compareSubscribers.b">b</a>: <a href="#akka.event;EventBus;Subscriber" title="ScanningClassification.this.Subscriber">Subscriber</a><span class="delimiter">)</span>: <span title="Int">Int</span>

  <span class="comment">/**
   * Returns whether the specified Classifier matches the specified Event
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(classifier: ScanningClassification.this.Classifier, event: ScanningClassification.this.Event)Boolean" id="akka.event;ScanningClassification.matches">matches</a><span class="delimiter">(</span><a title="ScanningClassification.this.Classifier" id="akka.event;ScanningClassification.matches.classifier">classifier</a>: <a href="#akka.event;EventBus;Classifier" title="ScanningClassification.this.Classifier">Classifier</a>, <a title="ScanningClassification.this.Event" id="akka.event;ScanningClassification.matches.event">event</a>: <a href="#akka.event;EventBus;Event" title="ScanningClassification.this.Event">Event</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span>

  <span class="comment">/**
   * Publishes the specified Event to the specified Subscriber
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(event: ScanningClassification.this.Event, subscriber: ScanningClassification.this.Subscriber)Unit" id="akka.event;ScanningClassification.publish(201a215385)">publish</a><span class="delimiter">(</span><a title="ScanningClassification.this.Event" id="akka.event;ScanningClassification.publish(201a215385).event">event</a>: <a href="#akka.event;EventBus;Event" title="ScanningClassification.this.Event">Event</a>, <a title="ScanningClassification.this.Subscriber" id="akka.event;ScanningClassification.publish(201a215385).subscriber">subscriber</a>: <a href="#akka.event;EventBus;Subscriber" title="ScanningClassification.this.Subscriber">Subscriber</a><span class="delimiter">)</span>: <span title="Unit">Unit</span>

  <span class="keyword">def</span> <a title="(subscriber: ScanningClassification.this.Subscriber, to: ScanningClassification.this.Classifier)Boolean" id="akka.event;ScanningClassification.subscribe">subscribe</a><span class="delimiter">(</span><a title="ScanningClassification.this.Subscriber" id="akka.event;ScanningClassification.subscribe.subscriber">subscriber</a>: <a href="#akka.event;EventBus;Subscriber" title="ScanningClassification.this.Subscriber">Subscriber</a>, <a title="ScanningClassification.this.Classifier" id="akka.event;ScanningClassification.subscribe.to">to</a>: <a href="#akka.event;EventBus;Classifier" title="ScanningClassification.this.Classifier">Classifier</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#akka.event;ScanningClassification.subscribers" title="=&gt; java.util.concurrent.ConcurrentSkipListSet[(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)]">subscribers</a>.<span title="(x$1: (ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber))Boolean">add</span><span class="delimiter">(</span><span title="(_1: ScanningClassification.this.Classifier, _2: ScanningClassification.this.Subscriber)(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)" class="delimiter">(</span><a href="#akka.event;ScanningClassification.subscribe.to" title="ScanningClassification.this.Classifier">to</a>, <a href="#akka.event;ScanningClassification.subscribe.subscriber" title="ScanningClassification.this.Subscriber">subscriber</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(subscriber: ScanningClassification.this.Subscriber, from: ScanningClassification.this.Classifier)Boolean" id="akka.event;ScanningClassification.unsubscribe(8d6ad92d7d)">unsubscribe</a><span class="delimiter">(</span><a title="ScanningClassification.this.Subscriber" id="akka.event;ScanningClassification.unsubscribe(8d6ad92d7d).subscriber">subscriber</a>: <a href="#akka.event;EventBus;Subscriber" title="ScanningClassification.this.Subscriber">Subscriber</a>, <a title="ScanningClassification.this.Classifier" id="akka.event;ScanningClassification.unsubscribe(8d6ad92d7d).from">from</a>: <a href="#akka.event;EventBus;Classifier" title="ScanningClassification.this.Classifier">Classifier</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#akka.event;ScanningClassification.subscribers" title="=&gt; java.util.concurrent.ConcurrentSkipListSet[(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)]">subscribers</a>.<span title="(x$1: Any)Boolean">remove</span><span class="delimiter">(</span><span title="(_1: ScanningClassification.this.Classifier, _2: ScanningClassification.this.Subscriber)(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)" class="delimiter">(</span><a href="#akka.event;ScanningClassification.unsubscribe(8d6ad92d7d).from" title="ScanningClassification.this.Classifier">from</a>, <a href="#akka.event;ScanningClassification.unsubscribe(8d6ad92d7d).subscriber" title="ScanningClassification.this.Subscriber">subscriber</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(subscriber: ScanningClassification.this.Subscriber)Unit" id="akka.event;ScanningClassification.unsubscribe(b68aebb22d)">unsubscribe</a><span class="delimiter">(</span><a title="ScanningClassification.this.Subscriber" id="akka.event;ScanningClassification.unsubscribe(b68aebb22d).subscriber">subscriber</a>: <a href="#akka.event;EventBus;Subscriber" title="ScanningClassification.this.Subscriber">Subscriber</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.util.Iterator[(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)]" id="akka.event;ScanningClassification.unsubscribe(b68aebb22d).i">i</a> = <a href="#akka.event;ScanningClassification.subscribers" title="=&gt; java.util.concurrent.ConcurrentSkipListSet[(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)]">subscribers</a>.<span title="()java.util.Iterator[(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)]">iterator</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#akka.event;ScanningClassification.unsubscribe(b68aebb22d).i" title="java.util.Iterator[(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)]">i</a>.<span title="()Boolean">hasNext</span><span class="delimiter">)</span> <a href="#akka.event;ScanningClassification.unsubscribe(b68aebb22d).while$2" title="()Unit" class="delimiter">{</a>
      <span class="keyword">val</span> <a title="(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)" id="akka.event;ScanningClassification.unsubscribe(b68aebb22d).e">e</a> = <a href="#akka.event;ScanningClassification.unsubscribe(b68aebb22d).i" title="java.util.Iterator[(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)]">i</a>.<span title="()(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)">next</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.event;ScanningClassification.compareSubscribers" title="(a: ScanningClassification.this.Subscriber, b: ScanningClassification.this.Subscriber)Int">compareSubscribers</a><span class="delimiter">(</span><a href="#akka.event;ScanningClassification.unsubscribe(b68aebb22d).subscriber" title="ScanningClassification.this.Subscriber">subscriber</a>, <a href="#akka.event;ScanningClassification.unsubscribe(b68aebb22d).e" title="(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)">e</a>.<span title="=&gt; ScanningClassification.this.Subscriber">_2</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#akka.event;ScanningClassification.unsubscribe(b68aebb22d).i" title="java.util.Iterator[(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)]">i</a>.<span title="()Unit">remove</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(event: ScanningClassification.this.Event)Unit" id="akka.event;ScanningClassification.publish(7da708405e)">publish</a><span class="delimiter">(</span><a title="ScanningClassification.this.Event" id="akka.event;ScanningClassification.publish(7da708405e).event">event</a>: <a href="#akka.event;EventBus;Event" title="ScanningClassification.this.Event">Event</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.util.Iterator[(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)]" id="akka.event;ScanningClassification.publish(7da708405e).currentSubscribers">currentSubscribers</a> = <a href="#akka.event;ScanningClassification.subscribers" title="=&gt; java.util.concurrent.ConcurrentSkipListSet[(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)]">subscribers</a>.<span title="()java.util.Iterator[(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)]">iterator</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#akka.event;ScanningClassification.publish(7da708405e).currentSubscribers" title="java.util.Iterator[(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)]">currentSubscribers</a>.<span title="()Boolean">hasNext</span><span class="delimiter">)</span> <a href="#akka.event;ScanningClassification.publish(7da708405e).while$3" title="()Unit" class="delimiter">{</a>
      <span class="keyword">val</span> <a href="#akka.event;ScanningClassification.publish(7da708405e).classifier" title="(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)" class="delimiter">(</a><a href="#akka.event;ScanningClassification.publish(7da708405e).x$4" title="ScanningClassification.this.Classifier" id="akka.event;ScanningClassification.publish(7da708405e).classifier">classifier</a>, <a href="#akka.event;ScanningClassification.publish(7da708405e).x$4" title="ScanningClassification.this.Subscriber" id="akka.event;ScanningClassification.publish(7da708405e).subscriber">subscriber</a><span class="delimiter">)</span> = <a href="#akka.event;ScanningClassification.publish(7da708405e).currentSubscribers" title="java.util.Iterator[(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)]">currentSubscribers</a>.<span title="()(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber)">next</span><span title="(ScanningClassification.this.Classifier, ScanningClassification.this.Subscriber) @unchecked" class="delimiter">(</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.event;ScanningClassification.matches" title="(classifier: ScanningClassification.this.Classifier, event: ScanningClassification.this.Event)Boolean">matches</a><span class="delimiter">(</span><a href="#akka.event;ScanningClassification.publish(7da708405e).classifier" title="ScanningClassification.this.Classifier">classifier</a>, <a href="#akka.event;ScanningClassification.publish(7da708405e).event" title="ScanningClassification.this.Event">event</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#akka.event;ScanningClassification.publish(201a215385)" title="(event: ScanningClassification.this.Event, subscriber: ScanningClassification.this.Subscriber)Unit">publish</a><span class="delimiter">(</span><a href="#akka.event;ScanningClassification.publish(7da708405e).event" title="ScanningClassification.this.Event">event</a>, <a href="#akka.event;ScanningClassification.publish(7da708405e).subscriber" title="ScanningClassification.this.Subscriber">subscriber</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Maps ActorRefs to ActorRefs to form an EventBus where ActorRefs can listen to other ActorRefs
 */</span>
<span title="AnyRef" class="keyword">trait</span> <a title="trait ActorClassification extends AnyRef" id="akka.event;ActorClassification">ActorClassification</a> <span title="Unit" class="delimiter">{</span> <span class="keyword">this</span>: ActorEventBus <span class="keyword">with</span> ActorClassifier ⇒
  <span class="keyword">import</span> java.util.concurrent.ConcurrentHashMap
  <span class="keyword">import</span> scala.annotation.tailrec
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]" id="akka.event;ActorClassification.empty">empty</a> = <span title="scala.collection.immutable.TreeSet.type">TreeSet</span>.<span title="[A](implicit ordering: Ordering[A])scala.collection.immutable.TreeSet[A]">empty</span><span title="(implicit ordering: Ordering[akka.actor.ActorRef])scala.collection.immutable.TreeSet[akka.actor.ActorRef]" class="delimiter">[</span><a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">]</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="java.util.concurrent.ConcurrentHashMap[akka.actor.ActorRef,scala.collection.immutable.TreeSet[akka.actor.ActorRef]]" id="akka.event;ActorClassification.mappings">mappings</a> = <span title="(x$1: Int)java.util.concurrent.ConcurrentHashMap[akka.actor.ActorRef,scala.collection.immutable.TreeSet[akka.actor.ActorRef]]" class="keyword">new</span> <span title="java.util.concurrent.ConcurrentHashMap[akka.actor.ActorRef,scala.collection.immutable.TreeSet[akka.actor.ActorRef]]">ConcurrentHashMap</span><span class="delimiter">[</span>ActorRef, TreeSet<span class="delimiter">[</span>ActorRef<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#akka.event;ActorClassification.mapSize" title="=&gt; Int">mapSize</a><span class="delimiter">)</span>

  @tailrec
  <span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(monitored: akka.actor.ActorRef, monitor: akka.actor.ActorRef)Boolean" id="akka.event;ActorClassification.associate">associate</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.event;ActorClassification.associate.monitored">monitored</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="akka.actor.ActorRef" id="akka.event;ActorClassification.associate.monitor">monitor</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]" id="akka.event;ActorClassification.associate.current">current</a> = <a href="#akka.event;ActorClassification.mappings" title="=&gt; java.util.concurrent.ConcurrentHashMap[akka.actor.ActorRef,scala.collection.immutable.TreeSet[akka.actor.ActorRef]]">mappings</a> <span title="(x$1: Any)scala.collection.immutable.TreeSet[akka.actor.ActorRef]">get</span> <a href="#akka.event;ActorClassification.associate.monitored" title="akka.actor.ActorRef">monitored</a>
    <a href="#akka.event;ActorClassification.associate.current" title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]">current</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span> ⇒
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.event;ActorClassification.associate.monitored" title="akka.actor.ActorRef">monitored</a>.<a href="../actor/ActorRef.scala.html#akka.actor;ActorRef.isTerminated" title="=&gt; Boolean">isTerminated</a><span class="delimiter">)</span> <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.event;ActorClassification.mappings" title="=&gt; java.util.concurrent.ConcurrentHashMap[akka.actor.ActorRef,scala.collection.immutable.TreeSet[akka.actor.ActorRef]]">mappings</a>.<span title="(x$1: akka.actor.ActorRef, x$2: scala.collection.immutable.TreeSet[akka.actor.ActorRef])scala.collection.immutable.TreeSet[akka.actor.ActorRef]">putIfAbsent</span><span class="delimiter">(</span><a href="#akka.event;ActorClassification.associate.monitored" title="akka.actor.ActorRef">monitored</a>, <a href="#akka.event;ActorClassification.empty" title="=&gt; scala.collection.immutable.TreeSet[akka.actor.ActorRef]">empty</a> <span title="(elem: akka.actor.ActorRef)scala.collection.immutable.TreeSet[akka.actor.ActorRef]">+</span> <a href="#akka.event;ActorClassification.associate.monitor" title="akka.actor.ActorRef">monitor</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#akka.event;ActorClassification.associate" title="(monitored: akka.actor.ActorRef, monitor: akka.actor.ActorRef)Boolean">associate</a><span class="delimiter">(</span><a href="#akka.event;ActorClassification.associate.monitored" title="akka.actor.ActorRef">monitored</a>, <a href="#akka.event;ActorClassification.associate.monitor" title="akka.actor.ActorRef">monitor</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.event;ActorClassification.associate.monitored" title="akka.actor.ActorRef">monitored</a>.<a href="../actor/ActorRef.scala.html#akka.actor;ActorRef.isTerminated" title="=&gt; Boolean">isTerminated</a><span class="delimiter">)</span> <span title="=&gt; Boolean">!</span><a href="#akka.event;ActorClassification.dissociate(15f5983dcb)" title="(monitored: akka.actor.ActorRef, monitor: akka.actor.ActorRef)Boolean">dissociate</a><span class="delimiter">(</span><a href="#akka.event;ActorClassification.associate.monitored" title="akka.actor.ActorRef">monitored</a>, <a href="#akka.event;ActorClassification.associate.monitor" title="akka.actor.ActorRef">monitor</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="Boolean(true)" class="keyword">true</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <a title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]" id="akka.event;ActorClassification.associate.raw">raw</a>: <span title="scala.collection.immutable.TreeSet[_]">TreeSet</span><span class="delimiter">[</span>_<span class="delimiter">]</span> ⇒
        <span class="keyword">val</span> <a title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]" id="akka.event;ActorClassification.associate.v">v</a> = <a href="#akka.event;ActorClassification.associate.raw" title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]">raw</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]" class="delimiter">[</span><span title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]">TreeSet</span><span class="delimiter">[</span>ActorRef<span class="delimiter">]</span><span class="delimiter">]</span>
        <span title="AnyVal" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.event;ActorClassification.associate.monitored" title="akka.actor.ActorRef">monitored</a>.<a href="../actor/ActorRef.scala.html#akka.actor;ActorRef.isTerminated" title="=&gt; Boolean">isTerminated</a><span class="delimiter">)</span> <span title="Boolean(false)" class="keyword">false</span>
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.event;ActorClassification.associate.v" title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]">v</a>.<span title="(elem: akka.actor.ActorRef)Boolean">contains</span><span class="delimiter">(</span><a href="#akka.event;ActorClassification.associate.monitor" title="akka.actor.ActorRef">monitor</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]" id="akka.event;ActorClassification.associate.added">added</a> = <a href="#akka.event;ActorClassification.associate.v" title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]">v</a> <span title="(elem: akka.actor.ActorRef)scala.collection.immutable.TreeSet[akka.actor.ActorRef]">+</span> <a href="#akka.event;ActorClassification.associate.monitor" title="akka.actor.ActorRef">monitor</a>
          <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.event;ActorClassification.mappings" title="=&gt; java.util.concurrent.ConcurrentHashMap[akka.actor.ActorRef,scala.collection.immutable.TreeSet[akka.actor.ActorRef]]">mappings</a>.<span title="(x$1: akka.actor.ActorRef, x$2: scala.collection.immutable.TreeSet[akka.actor.ActorRef], x$3: scala.collection.immutable.TreeSet[akka.actor.ActorRef])Boolean">replace</span><span class="delimiter">(</span><a href="#akka.event;ActorClassification.associate.monitored" title="akka.actor.ActorRef">monitored</a>, <a href="#akka.event;ActorClassification.associate.v" title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]">v</a>, <a href="#akka.event;ActorClassification.associate.added" title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]">added</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.event;ActorClassification.associate" title="(monitored: akka.actor.ActorRef, monitor: akka.actor.ActorRef)Boolean">associate</a><span class="delimiter">(</span><a href="#akka.event;ActorClassification.associate.monitored" title="akka.actor.ActorRef">monitored</a>, <a href="#akka.event;ActorClassification.associate.monitor" title="akka.actor.ActorRef">monitor</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.event;ActorClassification.associate.monitored" title="akka.actor.ActorRef">monitored</a>.<a href="../actor/ActorRef.scala.html#akka.actor;ActorRef.isTerminated" title="=&gt; Boolean">isTerminated</a><span class="delimiter">)</span> <span title="=&gt; Boolean">!</span><a href="#akka.event;ActorClassification.dissociate(15f5983dcb)" title="(monitored: akka.actor.ActorRef, monitor: akka.actor.ActorRef)Boolean">dissociate</a><span class="delimiter">(</span><a href="#akka.event;ActorClassification.associate.monitored" title="akka.actor.ActorRef">monitored</a>, <a href="#akka.event;ActorClassification.associate.monitor" title="akka.actor.ActorRef">monitor</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="Boolean(true)" class="keyword">true</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(monitored: akka.actor.ActorRef)scala.collection.immutable.Iterable[akka.actor.ActorRef]" id="akka.event;ActorClassification.dissociate(bc973e2a7b)">dissociate</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.event;ActorClassification.dissociate(bc973e2a7b).monitored">monitored</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: immutable.<span title="scala.collection.immutable.Iterable[akka.actor.ActorRef]">Iterable</span><span class="delimiter">[</span>ActorRef<span class="delimiter">]</span> = <span class="delimiter">{</span>
    @tailrec
    <span class="keyword">def</span> <a title="(monitored: akka.actor.ActorRef)scala.collection.immutable.Iterable[akka.actor.ActorRef]" id="akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitored">dissociateAsMonitored</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitored.monitored">monitored</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: immutable.<span title="scala.collection.immutable.Iterable[akka.actor.ActorRef]">Iterable</span><span class="delimiter">[</span>ActorRef<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]" id="akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitored.current">current</a> = <a href="#akka.event;ActorClassification.mappings" title="=&gt; java.util.concurrent.ConcurrentHashMap[akka.actor.ActorRef,scala.collection.immutable.TreeSet[akka.actor.ActorRef]]">mappings</a> <span title="(x$1: Any)scala.collection.immutable.TreeSet[akka.actor.ActorRef]">get</span> <a href="#akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitored.monitored" title="akka.actor.ActorRef">monitored</a>
      <a href="#akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitored.current" title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]">current</a> <span title="scala.collection.immutable.Iterable[akka.actor.ActorRef]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span> ⇒ <a href="#akka.event;ActorClassification.empty" title="=&gt; scala.collection.immutable.TreeSet[akka.actor.ActorRef]">empty</a>
        <span class="keyword">case</span> <a title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]" id="akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitored.raw">raw</a>: <span title="scala.collection.immutable.TreeSet[_]">TreeSet</span><span class="delimiter">[</span>_<span class="delimiter">]</span> ⇒
          <span class="keyword">val</span> <a title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]" id="akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitored.v">v</a> = <a href="#akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitored.raw" title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]">raw</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]" class="delimiter">[</span><span title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]">TreeSet</span><span class="delimiter">[</span>ActorRef<span class="delimiter">]</span><span class="delimiter">]</span>
          <span title="scala.collection.immutable.Iterable[akka.actor.ActorRef]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.event;ActorClassification.mappings" title="=&gt; java.util.concurrent.ConcurrentHashMap[akka.actor.ActorRef,scala.collection.immutable.TreeSet[akka.actor.ActorRef]]">mappings</a>.<span title="(x$1: Any, x$2: Any)Boolean">remove</span><span class="delimiter">(</span><a href="#akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitored.monitored" title="akka.actor.ActorRef">monitored</a>, <a href="#akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitored.v" title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]">v</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitored" title="(monitored: akka.actor.ActorRef)scala.collection.immutable.Iterable[akka.actor.ActorRef]">dissociateAsMonitored</a><span class="delimiter">(</span><a href="#akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitored.monitored" title="akka.actor.ActorRef">monitored</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitored.v" title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]">v</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(monitor: akka.actor.ActorRef)Unit" id="akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitor">dissociateAsMonitor</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitor.monitor">monitor</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.util.Iterator[java.util.Map.Entry[akka.actor.ActorRef,scala.collection.immutable.TreeSet[akka.actor.ActorRef]]]" id="akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitor.i">i</a> = <a href="#akka.event;ActorClassification.mappings" title="=&gt; java.util.concurrent.ConcurrentHashMap[akka.actor.ActorRef,scala.collection.immutable.TreeSet[akka.actor.ActorRef]]">mappings</a>.<span title="()java.util.Set[java.util.Map.Entry[akka.actor.ActorRef,scala.collection.immutable.TreeSet[akka.actor.ActorRef]]]">entrySet</span>.<span title="()java.util.Iterator[java.util.Map.Entry[akka.actor.ActorRef,scala.collection.immutable.TreeSet[akka.actor.ActorRef]]]">iterator</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitor.i" title="java.util.Iterator[java.util.Map.Entry[akka.actor.ActorRef,scala.collection.immutable.TreeSet[akka.actor.ActorRef]]]">i</a>.<span title="()Boolean">hasNext</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitor.while$4" title="()Unit" class="delimiter">{</a>
        <span class="keyword">val</span> <a title="java.util.Map.Entry[akka.actor.ActorRef,scala.collection.immutable.TreeSet[akka.actor.ActorRef]]" id="akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitor.entry">entry</a> = <a href="#akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitor.i" title="java.util.Iterator[java.util.Map.Entry[akka.actor.ActorRef,scala.collection.immutable.TreeSet[akka.actor.ActorRef]]]">i</a>.<span title="()java.util.Map.Entry[akka.actor.ActorRef,scala.collection.immutable.TreeSet[akka.actor.ActorRef]]">next</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]" id="akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitor.v">v</a> = <a href="#akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitor.entry" title="java.util.Map.Entry[akka.actor.ActorRef,scala.collection.immutable.TreeSet[akka.actor.ActorRef]]">entry</a>.<span title="()scala.collection.immutable.TreeSet[akka.actor.ActorRef]">getValue</span>
        <a href="#akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitor.v" title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]">v</a> <span title="AnyVal" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]" id="akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitor.raw">raw</a>: <span title="scala.collection.immutable.TreeSet[_]">TreeSet</span><span class="delimiter">[</span>_<span class="delimiter">]</span> ⇒
            <span class="keyword">val</span> <a title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]" id="akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitor.monitors">monitors</a> = <a href="#akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitor.raw" title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]">raw</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]" class="delimiter">[</span><span title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]">TreeSet</span><span class="delimiter">[</span>ActorRef<span class="delimiter">]</span><span class="delimiter">]</span>
            <span title="AnyVal" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitor.monitors" title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]">monitors</a>.<span title="(elem: akka.actor.ActorRef)Boolean">contains</span><span class="delimiter">(</span><a href="#akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitor.monitor" title="akka.actor.ActorRef">monitor</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#akka.event;ActorClassification.dissociate(15f5983dcb)" title="(monitored: akka.actor.ActorRef, monitor: akka.actor.ActorRef)Boolean">dissociate</a><span class="delimiter">(</span><a href="#akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitor.entry" title="java.util.Map.Entry[akka.actor.ActorRef,scala.collection.immutable.TreeSet[akka.actor.ActorRef]]">entry</a>.<span title="()akka.actor.ActorRef">getKey</span>, <a href="#akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitor.monitor" title="akka.actor.ActorRef">monitor</a><span class="delimiter">)</span>
          <span class="keyword">case</span> _ ⇒ <span class="comment">//Dun care</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">try</span> <span class="delimiter">{</span> <a href="#akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitored" title="(monitored: akka.actor.ActorRef)scala.collection.immutable.Iterable[akka.actor.ActorRef]">dissociateAsMonitored</a><span class="delimiter">(</span><a href="#akka.event;ActorClassification.dissociate(bc973e2a7b).monitored" title="akka.actor.ActorRef">monitored</a><span class="delimiter">)</span> <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span> <a href="#akka.event;ActorClassification.dissociate(bc973e2a7b).dissociateAsMonitor" title="(monitor: akka.actor.ActorRef)Unit">dissociateAsMonitor</a><span class="delimiter">(</span><a href="#akka.event;ActorClassification.dissociate(bc973e2a7b).monitored" title="akka.actor.ActorRef">monitored</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  @tailrec
  <span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(monitored: akka.actor.ActorRef, monitor: akka.actor.ActorRef)Boolean" id="akka.event;ActorClassification.dissociate(15f5983dcb)">dissociate</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.event;ActorClassification.dissociate(15f5983dcb).monitored">monitored</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="akka.actor.ActorRef" id="akka.event;ActorClassification.dissociate(15f5983dcb).monitor">monitor</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]" id="akka.event;ActorClassification.dissociate(15f5983dcb).current">current</a> = <a href="#akka.event;ActorClassification.mappings" title="=&gt; java.util.concurrent.ConcurrentHashMap[akka.actor.ActorRef,scala.collection.immutable.TreeSet[akka.actor.ActorRef]]">mappings</a> <span title="(x$1: Any)scala.collection.immutable.TreeSet[akka.actor.ActorRef]">get</span> <a href="#akka.event;ActorClassification.dissociate(15f5983dcb).monitored" title="akka.actor.ActorRef">monitored</a>
    <a href="#akka.event;ActorClassification.dissociate(15f5983dcb).current" title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]">current</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span> ⇒ <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">case</span> <a title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]" id="akka.event;ActorClassification.dissociate(15f5983dcb).raw">raw</a>: <span title="scala.collection.immutable.TreeSet[_]">TreeSet</span><span class="delimiter">[</span>_<span class="delimiter">]</span> ⇒
        <span class="keyword">val</span> <a title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]" id="akka.event;ActorClassification.dissociate(15f5983dcb).v">v</a> = <a href="#akka.event;ActorClassification.dissociate(15f5983dcb).raw" title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]">raw</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]" class="delimiter">[</span><span title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]">TreeSet</span><span class="delimiter">[</span>ActorRef<span class="delimiter">]</span><span class="delimiter">]</span>
        <span class="keyword">val</span> <a title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]" id="akka.event;ActorClassification.dissociate(15f5983dcb).removed">removed</a> = <a href="#akka.event;ActorClassification.dissociate(15f5983dcb).v" title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]">v</a> <span title="(elem: akka.actor.ActorRef)scala.collection.immutable.TreeSet[akka.actor.ActorRef]">-</span> <a href="#akka.event;ActorClassification.dissociate(15f5983dcb).monitor" title="akka.actor.ActorRef">monitor</a>
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.event;ActorClassification.dissociate(15f5983dcb).removed" title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]">removed</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#akka.event;ActorClassification.dissociate(15f5983dcb).raw" title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]">raw</a><span class="delimiter">)</span> <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.event;ActorClassification.dissociate(15f5983dcb).removed" title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]">removed</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.event;ActorClassification.mappings" title="=&gt; java.util.concurrent.ConcurrentHashMap[akka.actor.ActorRef,scala.collection.immutable.TreeSet[akka.actor.ActorRef]]">mappings</a>.<span title="(x$1: Any, x$2: Any)Boolean">remove</span><span class="delimiter">(</span><a href="#akka.event;ActorClassification.dissociate(15f5983dcb).monitored" title="akka.actor.ActorRef">monitored</a>, <a href="#akka.event;ActorClassification.dissociate(15f5983dcb).v" title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]">v</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.event;ActorClassification.dissociate(15f5983dcb)" title="(monitored: akka.actor.ActorRef, monitor: akka.actor.ActorRef)Boolean">dissociate</a><span class="delimiter">(</span><a href="#akka.event;ActorClassification.dissociate(15f5983dcb).monitored" title="akka.actor.ActorRef">monitored</a>, <a href="#akka.event;ActorClassification.dissociate(15f5983dcb).monitor" title="akka.actor.ActorRef">monitor</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="Boolean(true)" class="keyword">true</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.event;ActorClassification.mappings" title="=&gt; java.util.concurrent.ConcurrentHashMap[akka.actor.ActorRef,scala.collection.immutable.TreeSet[akka.actor.ActorRef]]">mappings</a>.<span title="(x$1: akka.actor.ActorRef, x$2: scala.collection.immutable.TreeSet[akka.actor.ActorRef], x$3: scala.collection.immutable.TreeSet[akka.actor.ActorRef])Boolean">replace</span><span class="delimiter">(</span><a href="#akka.event;ActorClassification.dissociate(15f5983dcb).monitored" title="akka.actor.ActorRef">monitored</a>, <a href="#akka.event;ActorClassification.dissociate(15f5983dcb).v" title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]">v</a>, <a href="#akka.event;ActorClassification.dissociate(15f5983dcb).removed" title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]">removed</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.event;ActorClassification.dissociate(15f5983dcb)" title="(monitored: akka.actor.ActorRef, monitor: akka.actor.ActorRef)Boolean">dissociate</a><span class="delimiter">(</span><a href="#akka.event;ActorClassification.dissociate(15f5983dcb).monitored" title="akka.actor.ActorRef">monitored</a>, <a href="#akka.event;ActorClassification.dissociate(15f5983dcb).monitor" title="akka.actor.ActorRef">monitor</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="Boolean(true)" class="keyword">true</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the Classifier associated with the specified Event
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(event: ActorClassification.this.Event)ActorClassification.this.Classifier" id="akka.event;ActorClassification.classify">classify</a><span class="delimiter">(</span><a title="ActorClassification.this.Event" id="akka.event;ActorClassification.classify.event">event</a>: <a href="#akka.event;EventBus;Event" title="ActorClassification.this.Event">Event</a><span class="delimiter">)</span>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="ActorClassification.this.Classifier">Classifier</a>

  <span class="comment">/**
   * This is a size hint for the number of Classifiers you expect to have (use powers of 2)
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; Int" id="akka.event;ActorClassification.mapSize">mapSize</a>: <span title="Int">Int</span>

  <span class="keyword">def</span> <a title="(event: ActorClassification.this.Event)Unit" id="akka.event;ActorClassification.publish">publish</a><span class="delimiter">(</span><a title="ActorClassification.this.Event" id="akka.event;ActorClassification.publish.event">event</a>: <a href="#akka.event;EventBus;Event" title="ActorClassification.this.Event">Event</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.event;ActorClassification.mappings" title="=&gt; java.util.concurrent.ConcurrentHashMap[akka.actor.ActorRef,scala.collection.immutable.TreeSet[akka.actor.ActorRef]]">mappings</a>.<span title="(x$1: Any)scala.collection.immutable.TreeSet[akka.actor.ActorRef]">get</span><span class="delimiter">(</span><a href="#akka.event;ActorClassification.classify" title="(event: ActorClassification.this.Event)ActorClassification.this.Classifier">classify</a><span class="delimiter">(</span><a href="#akka.event;ActorClassification.publish.event" title="ActorClassification.this.Event">event</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span> ⇒ <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]" id="akka.event;ActorClassification.publish.some">some</a> ⇒ <a href="#akka.event;ActorClassification.publish.some" title="scala.collection.immutable.TreeSet[akka.actor.ActorRef]">some</a> <span title="(f: akka.actor.ActorRef =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a href="../actor/package.scala.html#akka.actor.package.actorRef2Scala" title="akka.actor.ScalaActorRef" id="akka.event;ActorClassification.publish.$anonfun.qual$1">_</a> <a href="../actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!$default$2" title="akka.actor.ActorRef" id="akka.event;ActorClassification.publish.$anonfun.x$7">!</a> <a href="#akka.event;ActorClassification.publish.event" title="ActorClassification.this.Event" id="akka.event;ActorClassification.publish.$anonfun.x$6">event</a> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(subscriber: ActorClassification.this.Subscriber, to: ActorClassification.this.Classifier)Boolean" id="akka.event;ActorClassification.subscribe">subscribe</a><span class="delimiter">(</span><a title="ActorClassification.this.Subscriber" id="akka.event;ActorClassification.subscribe.subscriber">subscriber</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="ActorClassification.this.Subscriber">Subscriber</a>, <a title="ActorClassification.this.Classifier" id="akka.event;ActorClassification.subscribe.to">to</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="ActorClassification.this.Classifier">Classifier</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.event;ActorClassification.subscribe.subscriber" title="ActorClassification.this.Subscriber">subscriber</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalArgumentException" class="keyword">new</span> <span title="IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span><span title="String(&quot;Subscriber is null&quot;)" class="string">&quot;Subscriber is null&quot;</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.event;ActorClassification.subscribe.to" title="ActorClassification.this.Classifier">to</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalArgumentException" class="keyword">new</span> <span title="IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span><span title="String(&quot;Classifier is null&quot;)" class="string">&quot;Classifier is null&quot;</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#akka.event;ActorClassification.associate" title="(monitored: akka.actor.ActorRef, monitor: akka.actor.ActorRef)Boolean">associate</a><span class="delimiter">(</span><a href="#akka.event;ActorClassification.subscribe.to" title="ActorClassification.this.Classifier">to</a>, <a href="#akka.event;ActorClassification.subscribe.subscriber" title="ActorClassification.this.Subscriber">subscriber</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(subscriber: ActorClassification.this.Subscriber, from: ActorClassification.this.Classifier)Boolean" id="akka.event;ActorClassification.unsubscribe(e158c8e5fa)">unsubscribe</a><span class="delimiter">(</span><a title="ActorClassification.this.Subscriber" id="akka.event;ActorClassification.unsubscribe(e158c8e5fa).subscriber">subscriber</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="ActorClassification.this.Subscriber">Subscriber</a>, <a title="ActorClassification.this.Classifier" id="akka.event;ActorClassification.unsubscribe(e158c8e5fa).from">from</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="ActorClassification.this.Classifier">Classifier</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.event;ActorClassification.unsubscribe(e158c8e5fa).subscriber" title="ActorClassification.this.Subscriber">subscriber</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalArgumentException" class="keyword">new</span> <span title="IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span><span title="String(&quot;Subscriber is null&quot;)" class="string">&quot;Subscriber is null&quot;</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.event;ActorClassification.unsubscribe(e158c8e5fa).from" title="ActorClassification.this.Classifier">from</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalArgumentException" class="keyword">new</span> <span title="IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span><span title="String(&quot;Classifier is null&quot;)" class="string">&quot;Classifier is null&quot;</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#akka.event;ActorClassification.dissociate(15f5983dcb)" title="(monitored: akka.actor.ActorRef, monitor: akka.actor.ActorRef)Boolean">dissociate</a><span class="delimiter">(</span><a href="#akka.event;ActorClassification.unsubscribe(e158c8e5fa).from" title="ActorClassification.this.Classifier">from</a>, <a href="#akka.event;ActorClassification.unsubscribe(e158c8e5fa).subscriber" title="ActorClassification.this.Subscriber">subscriber</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(subscriber: ActorClassification.this.Subscriber)Unit" id="akka.event;ActorClassification.unsubscribe(bd456e7b39)">unsubscribe</a><span class="delimiter">(</span><a title="ActorClassification.this.Subscriber" id="akka.event;ActorClassification.unsubscribe(bd456e7b39).subscriber">subscriber</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="ActorClassification.this.Subscriber">Subscriber</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.event;ActorClassification.unsubscribe(bd456e7b39).subscriber" title="ActorClassification.this.Subscriber">subscriber</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalArgumentException" class="keyword">new</span> <span title="IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span><span title="String(&quot;Subscriber is null&quot;)" class="string">&quot;Subscriber is null&quot;</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#akka.event;ActorClassification.dissociate(bc973e2a7b)" title="(monitored: akka.actor.ActorRef)scala.collection.immutable.Iterable[akka.actor.ActorRef]">dissociate</a><span title="Unit" class="delimiter">(</span><a href="#akka.event;ActorClassification.unsubscribe(bd456e7b39).subscriber" title="ActorClassification.this.Subscriber">subscriber</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
