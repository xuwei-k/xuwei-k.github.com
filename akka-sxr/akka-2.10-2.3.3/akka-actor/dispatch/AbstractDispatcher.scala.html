<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>akka-actor/dispatch/AbstractDispatcher.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (C) 2009-2014 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>

<span class="keyword">package</span> akka.dispatch

<span class="keyword">import</span> java.util.concurrent._
<span class="keyword">import</span> akka.event.<a href="../event/Logging.scala.html#akka.event.Logging" title="akka.event.Logging.type">Logging</a>.<span class="delimiter">{</span> Debug, Error, LogEventException <span class="delimiter">}</span>
<span class="keyword">import</span> akka.actor._
<span class="keyword">import</span> akka.dispatch.sysmsg._
<span class="keyword">import</span> akka.event.<span class="delimiter">{</span> BusLogging, EventStream <span class="delimiter">}</span>
<span class="keyword">import</span> com.typesafe.config.<span class="delimiter">{</span> ConfigFactory, Config <span class="delimiter">}</span>
<span class="keyword">import</span> akka.util.<span class="delimiter">{</span> Unsafe, Index <span class="delimiter">}</span>
<span class="keyword">import</span> scala.annotation.tailrec
<span class="keyword">import</span> scala.concurrent.forkjoin.<span class="delimiter">{</span> ForkJoinTask, ForkJoinPool <span class="delimiter">}</span>
<span class="keyword">import</span> scala.concurrent.duration.Duration
<span class="keyword">import</span> scala.concurrent.ExecutionContext
<span class="keyword">import</span> scala.concurrent.ExecutionContextExecutor
<span class="keyword">import</span> scala.concurrent.duration.FiniteDuration
<span class="keyword">import</span> scala.util.control.NonFatal
<span class="keyword">import</span> scala.util.Try
<span class="keyword">import</span> java.<span class="delimiter">{</span> util ⇒ ju <span class="delimiter">}</span>

<span class="keyword">final</span> <span class="keyword">case class</span> <a title="class Envelope extends AnyRef with Product with Serializable" id="akka.dispatch;Envelope">Envelope</a> <a href="#akka.dispatch;Envelope" title="Product" class="keyword">private</a> <span class="delimiter">(</span><span class="keyword">val</span> <a title="Any" id="akka.dispatch;Envelope.message">message</a>: <span title="Any">Any</span>, <span class="keyword">val</span> <a title="akka.actor.ActorRef" id="akka.dispatch;Envelope.sender">sender</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>

<span class="keyword">object</span> <a title="akka.dispatch.Envelope.type" id="akka.dispatch.Envelope.readResolve">Envelope</a> <a href="#akka.dispatch.Envelope.readResolve" title="akka.dispatch.Envelope.type" class="delimiter">{</a>
  <span class="keyword">def</span> <a title="(message: Any, sender: akka.actor.ActorRef, system: akka.actor.ActorSystem)akka.dispatch.Envelope" id="akka.dispatch.Envelope.apply(fd4a9d0721)">apply</a><span class="delimiter">(</span><a title="Any" id="akka.dispatch.Envelope.apply(fd4a9d0721).message">message</a>: <span title="Any">Any</span>, <a title="akka.actor.ActorRef" id="akka.dispatch.Envelope.apply(fd4a9d0721).sender">sender</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="akka.actor.ActorSystem" id="akka.dispatch.Envelope.apply(fd4a9d0721).system">system</a>: <a href="../actor/ActorSystem.scala.html#akka.actor;ActorSystem" title="akka.actor.ActorSystem">ActorSystem</a><span class="delimiter">)</span>: <a href="#akka.dispatch;Envelope" title="akka.dispatch.Envelope">Envelope</a> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch.Envelope.apply(fd4a9d0721).message" title="Any">message</a> <span title="(x$1: Any)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <span title="akka.actor.InvalidMessageException" class="keyword">new</span> <a href="../actor/Actor.scala.html#akka.actor;InvalidMessageException" title="akka.actor.InvalidMessageException">InvalidMessageException</a><span class="delimiter">(</span><span title="String(&quot;Message is null&quot;)" class="string">&quot;Message is null&quot;</span><span class="delimiter">)</span>
    <span title="akka.dispatch.Envelope" class="keyword">new</span> <a href="#akka.dispatch;Envelope" title="akka.dispatch.Envelope">Envelope</a><span class="delimiter">(</span><a href="#akka.dispatch.Envelope.apply(fd4a9d0721).message" title="Any">message</a>, <span title="akka.actor.ActorRef" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch.Envelope.apply(fd4a9d0721).sender" title="akka.actor.ActorRef">sender</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../actor/Actor.scala.html#akka.actor.Actor" title="akka.actor.Actor.type">Actor</a>.<a href="../actor/Actor.scala.html#akka.actor.Actor.noSender" title="=&gt; akka.actor.ActorRef">noSender</a><span class="delimiter">)</span> <a href="#akka.dispatch.Envelope.apply(fd4a9d0721).sender" title="akka.actor.ActorRef">sender</a> <span class="keyword">else</span> <a href="#akka.dispatch.Envelope.apply(fd4a9d0721).system" title="akka.actor.ActorSystem">system</a>.<a href="../actor/ActorSystem.scala.html#akka.actor;ActorSystem.deadLetters" title="=&gt; akka.actor.ActorRef">deadLetters</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span title="AnyRef" class="keyword">final</span> <span class="keyword">case class</span> <a title="class TaskInvocation extends Object with akka.dispatch.Batchable with Product with Serializable" id="akka.dispatch.TaskInvocation.readResolve">TaskInvocation</a><a href="#akka.dispatch.TaskInvocation.readResolve" title="Product" class="delimiter">(</a><a title="akka.event.EventStream" id="akka.dispatch;TaskInvocation.eventStream">eventStream</a>: <a href="../event/EventStream.scala.html#akka.event;EventStream" title="akka.event.EventStream">EventStream</a>, <a title="Runnable" id="akka.dispatch;TaskInvocation.runnable">runnable</a>: <span title="Runnable">Runnable</span>, <a title="() =&gt; Unit" id="akka.dispatch;TaskInvocation.cleanup">cleanup</a>: <span class="delimiter">(</span><span class="delimiter">)</span> ⇒ Unit<span class="delimiter">)</span> <span class="keyword">extends</span> <a href="BatchingExecutor.scala.html#akka.dispatch;Batchable" title="akka.dispatch.Batchable">Batchable</a> <span class="delimiter">{</span>
  <span class="keyword">final</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="akka.dispatch;TaskInvocation.isBatchable">isBatchable</a>: <span title="Boolean">Boolean</span> = <a href="#akka.dispatch;TaskInvocation.runnable" title="=&gt; Runnable">runnable</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="akka.dispatch.Batchable" id="akka.dispatch;TaskInvocation.isBatchable.b">b</a>: <a href="BatchingExecutor.scala.html#akka.dispatch;Batchable" title="akka.dispatch.Batchable">Batchable</a>                           ⇒ <a href="#akka.dispatch;TaskInvocation.isBatchable.b" title="akka.dispatch.Batchable">b</a>.<a href="BatchingExecutor.scala.html#akka.dispatch;Batchable.isBatchable" title="=&gt; Boolean">isBatchable</a>
    <span class="keyword">case</span> _: scala.concurrent.<span title="scala.concurrent.OnCompleteRunnable">OnCompleteRunnable</span> ⇒ <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">case</span> _                                      ⇒ <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="()Unit" id="akka.dispatch;TaskInvocation.run">run</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <span class="keyword">try</span> <a href="#akka.dispatch;TaskInvocation.runnable" title="=&gt; Runnable">runnable</a>.<span title="()Unit">run</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#akka.dispatch;TaskInvocation.run.<unapply-selector>" title="(t: Throwable)Option[Throwable]">NonFatal</a><span class="delimiter">(</span><a title="Throwable" id="akka.dispatch;TaskInvocation.run.e">e</a><span class="delimiter">)</span> ⇒ <a href="#akka.dispatch;TaskInvocation.eventStream" title="=&gt; akka.event.EventStream">eventStream</a>.<a href="../event/EventBus.scala.html#akka.event;SubchannelClassification.publish(de973626dc)" title="(event: TaskInvocation.this.eventStream.Event)Unit">publish</a><span class="delimiter">(</span><a href="../event/Logging.scala.html#akka.event.Logging;Error" title="(cause: Throwable, logSource: String, logClass: Class[_], message: Any)akka.event.Logging.Error">Error</a><span class="delimiter">(</span><a href="#akka.dispatch;TaskInvocation.run.e" title="Throwable">e</a>, <span title="String(&quot;TaskInvocation&quot;)" class="string">&quot;TaskInvocation&quot;</span>, <a href="#akka.dispatch.TaskInvocation.readResolve" title="TaskInvocation.this.type" class="keyword">this</a>.<span title="()Class[_]">getClass</span>, <a href="#akka.dispatch;TaskInvocation.run.e" title="Throwable">e</a>.<span title="()String">getMessage</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">finally</span> <a href="#akka.dispatch;TaskInvocation.cleanup" title="()Unit">cleanup</a><span class="delimiter">(</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
<span class="keyword">private</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">trait</span> <a title="trait LoadMetrics extends AnyRef" id="akka.dispatch;LoadMetrics">LoadMetrics</a> <span class="delimiter">{</span> self: Executor ⇒
  <span class="keyword">def</span> <a title="()Boolean" id="akka.dispatch;LoadMetrics.atFullThrottle">atFullThrottle</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
<span title="AnyRef" class="keyword">private</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">object</span> <a title="akka.dispatch.MessageDispatcher.type" id="akka.dispatch.MessageDispatcher">MessageDispatcher</a> <a href="#akka.dispatch.MessageDispatcher" title="akka.dispatch.MessageDispatcher.type" class="delimiter">{</a>
  <span class="keyword">val</span> <a title="Int" id="akka.dispatch.MessageDispatcher.UNSCHEDULED">UNSCHEDULED</a> = <span title="Int(0)" class="int">0</span> <span class="comment">//WARNING DO NOT CHANGE THE VALUE OF THIS: It relies on the faster init of 0 in AbstractMessageDispatcher</span>
  <span class="keyword">val</span> <a title="Int" id="akka.dispatch.MessageDispatcher.SCHEDULED">SCHEDULED</a> = <span title="Int(1)" class="int">1</span>
  <span class="keyword">val</span> <a title="Int" id="akka.dispatch.MessageDispatcher.RESCHEDULED">RESCHEDULED</a> = <span title="Int(2)" class="int">2</span>

  <span class="comment">// dispatcher debugging helper using println (see below)</span>
  <span class="comment">// since this is a compile-time constant, scalac will elide code behind if (MessageDispatcher.debug) (RK checked with 2.9.1)</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Boolean(false)" id="akka.dispatch.MessageDispatcher.debug">debug</a> = <span title="Boolean(false)" class="keyword">false</span> <span class="comment">// Deliberately without type ascription to make it a compile-time constant</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="akka.util.Index[akka.dispatch.MessageDispatcher,akka.actor.ActorRef]" id="akka.dispatch.MessageDispatcher.actors">actors</a> = <a href="../util/Index.scala.html#akka.util;Index.<init>(4f8b58a93f)" title="(mapSize: Int, cmp: (akka.actor.ActorRef, akka.actor.ActorRef) =&gt; Int)akka.util.Index[akka.dispatch.MessageDispatcher,akka.actor.ActorRef]" class="keyword">new</a> <a href="../util/Index.scala.html#akka.util;Index" title="akka.util.Index[akka.dispatch.MessageDispatcher,akka.actor.ActorRef]">Index</a><span class="delimiter">[</span>MessageDispatcher, ActorRef<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(16)" class="int">16</span>, <a href="#akka.dispatch.MessageDispatcher.actors.$anonfun.x$1" title="akka.actor.ActorRef">_</a> <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef.compareTo" title="(other: akka.actor.ActorRef)Int">compareTo</a> <a href="#akka.dispatch.MessageDispatcher.actors.$anonfun.x$2" title="akka.actor.ActorRef">_</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="()Unit" id="akka.dispatch.MessageDispatcher.printActors">printActors</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="Boolean(false)">debug</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">{</span>
        <a title="akka.dispatch.MessageDispatcher" id="akka.dispatch.MessageDispatcher.printActors.$anonfun.d">d</a> ← <a href="#akka.dispatch.MessageDispatcher.actors" title="=&gt; akka.util.Index[akka.dispatch.MessageDispatcher,akka.actor.ActorRef]">actors</a>.<a href="../util/Index.scala.html#akka.util;Index.keys" title="(f: akka.dispatch.MessageDispatcher =&gt; Unit)Unit">keys</a>
        <a title="akka.actor.ActorRef" id="akka.dispatch.MessageDispatcher.printActors.$anonfun.$anonfun.a">a</a> ← <span title="(f: akka.actor.ActorRef =&gt; Unit)Unit" class="delimiter">{</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#akka.dispatch.MessageDispatcher.printActors.$anonfun.d" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">d</a> <span title="(other: String)String">+</span> <span title="String(&quot; inhabitants: &quot;)" class="string">&quot; inhabitants: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#akka.dispatch.MessageDispatcher.printActors.$anonfun.d" title="akka.dispatch.MessageDispatcher">d</a>.<a href="#akka.dispatch;MessageDispatcher.inhabitants" title="=&gt; Long">inhabitants</a><span class="delimiter">)</span>; <a href="#akka.dispatch.MessageDispatcher.actors" title="=&gt; akka.util.Index[akka.dispatch.MessageDispatcher,akka.actor.ActorRef]">actors</a>.<a href="../util/Index.scala.html#akka.util;Index.valueIterator" title="(key: akka.dispatch.MessageDispatcher)Iterator[akka.actor.ActorRef]">valueIterator</a><span class="delimiter">(</span><a href="#akka.dispatch.MessageDispatcher.printActors.$anonfun.d" title="akka.dispatch.MessageDispatcher">d</a><span class="delimiter">)</span> <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="String" id="akka.dispatch.MessageDispatcher.printActors.$anonfun.$anonfun.status">status</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch.MessageDispatcher.printActors.$anonfun.$anonfun.a" title="akka.actor.ActorRef">a</a>.<a href="../actor/ActorRef.scala.html#akka.actor;ActorRef.isTerminated" title="=&gt; Boolean">isTerminated</a><span class="delimiter">)</span> <span title="String(&quot; (terminated)&quot;)" class="string">&quot; (terminated)&quot;</span> <span class="keyword">else</span> <span title="String(&quot; (alive)&quot;)" class="string">&quot; (alive)&quot;</span>
        <span class="keyword">val</span> <a title="String" id="akka.dispatch.MessageDispatcher.printActors.$anonfun.$anonfun.messages">messages</a> = <a href="#akka.dispatch.MessageDispatcher.printActors.$anonfun.$anonfun.a" title="akka.actor.ActorRef">a</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="akka.actor.ActorRefWithCell" id="akka.dispatch.MessageDispatcher.printActors.$anonfun.$anonfun.messages.r">r</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRefWithCell" title="akka.actor.ActorRefWithCell">ActorRefWithCell</a> ⇒ <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#akka.dispatch.MessageDispatcher.printActors.$anonfun.$anonfun.messages.r" title="akka.actor.ActorRefWithCell">r</a>.<a href="../actor/ActorRef.scala.html#akka.actor;ActorRefWithCell.underlying" title="=&gt; akka.actor.Cell">underlying</a>.<a href="../actor/ActorCell.scala.html#akka.actor;Cell.numberOfMessages" title="=&gt; Int">numberOfMessages</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; messages&quot;)" class="string">&quot; messages&quot;</span>
          <span class="keyword">case</span> _                   ⇒ <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#akka.dispatch.MessageDispatcher.printActors.$anonfun.$anonfun.a" title="akka.actor.ActorRef">a</a>.<span title="()Class[_]">getClass</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="String" id="akka.dispatch.MessageDispatcher.printActors.$anonfun.$anonfun.parent">parent</a> = <a href="#akka.dispatch.MessageDispatcher.printActors.$anonfun.$anonfun.a" title="akka.actor.ActorRef">a</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="akka.actor.InternalActorRef" id="akka.dispatch.MessageDispatcher.printActors.$anonfun.$anonfun.parent.i">i</a>: <a href="../actor/ActorRef.scala.html#akka.actor;InternalActorRef" title="akka.actor.InternalActorRef">InternalActorRef</a> ⇒ <span title="String(&quot;, parent: &quot;)" class="string">&quot;, parent: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#akka.dispatch.MessageDispatcher.printActors.$anonfun.$anonfun.parent.i" title="akka.actor.InternalActorRef">i</a>.<a href="../actor/ActorRef.scala.html#akka.actor;InternalActorRef.getParent" title="=&gt; akka.actor.InternalActorRef">getParent</a>
          <span class="keyword">case</span> _                   ⇒ <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
        <span class="delimiter">}</span>
        <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot; -&gt; &quot;)" class="string">&quot; -&gt; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#akka.dispatch.MessageDispatcher.printActors.$anonfun.$anonfun.a" title="akka.actor.ActorRef">a</a> <span title="(x$1: Any)String">+</span> <a href="#akka.dispatch.MessageDispatcher.printActors.$anonfun.$anonfun.status" title="String">status</a> <span title="(x$1: Any)String">+</span> <a href="#akka.dispatch.MessageDispatcher.printActors.$anonfun.$anonfun.messages" title="String">messages</a> <span title="(x$1: Any)String">+</span> <a href="#akka.dispatch.MessageDispatcher.printActors.$anonfun.$anonfun.parent" title="String">parent</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span title="AnyRef" class="keyword">abstract</span> <span class="keyword">class</span> <a title="class MessageDispatcher extends akka.dispatch.AbstractMessageDispatcher with akka.dispatch.BatchingExecutor with scala.concurrent.ExecutionContextExecutor" id="akka.dispatch;MessageDispatcher">MessageDispatcher</a><a href="#akka.dispatch;MessageDispatcher" title="akka.dispatch.MessageDispatcher" class="delimiter">(</a><span class="keyword">val</span> <a title="akka.dispatch.MessageDispatcherConfigurator" id="akka.dispatch;MessageDispatcher.configurator">configurator</a>: <a href="#akka.dispatch;MessageDispatcherConfigurator" title="akka.dispatch.MessageDispatcherConfigurator">MessageDispatcherConfigurator</a><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="akka.dispatch.AbstractMessageDispatcher">AbstractMessageDispatcher</span> <span class="keyword">with</span> <a href="BatchingExecutor.scala.html#akka.dispatch;BatchingExecutor" title="akka.dispatch.BatchingExecutor">BatchingExecutor</a> <span class="keyword">with</span> <span title="scala.concurrent.ExecutionContextExecutor">ExecutionContextExecutor</span> <span class="delimiter">{</span>

  <span class="keyword">import</span> <a href="#akka.dispatch.MessageDispatcher" title="akka.dispatch.MessageDispatcher.type">MessageDispatcher</a>._
  <span class="keyword">import</span> <span title="akka.dispatch.AbstractMessageDispatcher.type">AbstractMessageDispatcher</span>.<span class="delimiter">{</span> inhabitantsOffset, shutdownScheduleOffset <span class="delimiter">}</span>
  <span class="keyword">import</span> <a href="#akka.dispatch;MessageDispatcher.configurator" title="=&gt; akka.dispatch.MessageDispatcherConfigurator">configurator</a>.prerequisites

  <span class="keyword">val</span> <a title="akka.dispatch.Mailboxes" id="akka.dispatch;MessageDispatcher.mailboxes">mailboxes</a> = <a href="#akka.dispatch;MessageDispatcherConfigurator.prerequisites" title="=&gt; akka.dispatch.DispatcherPrerequisites">prerequisites</a>.<a href="Dispatchers.scala.html#akka.dispatch;DispatcherPrerequisites.mailboxes" title="=&gt; akka.dispatch.Mailboxes">mailboxes</a>
  <span class="keyword">val</span> <a title="akka.event.EventStream" id="akka.dispatch;MessageDispatcher.eventStream">eventStream</a> = <a href="#akka.dispatch;MessageDispatcherConfigurator.prerequisites" title="=&gt; akka.dispatch.DispatcherPrerequisites">prerequisites</a>.<a href="Dispatchers.scala.html#akka.dispatch;DispatcherPrerequisites.eventStream" title="=&gt; akka.event.EventStream">eventStream</a>

  @volatile <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">var</span> <a title="Long" id="akka.dispatch;MessageDispatcher._inhabitantsDoNotCallMeDirectly">_inhabitantsDoNotCallMeDirectly</a>: <span title="Long">Long</span> = _ <span class="comment">// DO NOT TOUCH!</span>
  @volatile <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">var</span> <a title="Int" id="akka.dispatch;MessageDispatcher._shutdownScheduleDoNotCallMeDirectly">_shutdownScheduleDoNotCallMeDirectly</a>: <span title="Int">Int</span> = _ <span class="comment">// DO NOT TOUCH!</span>

  @tailrec <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(add: Long)Long" id="akka.dispatch;MessageDispatcher.addInhabitants">addInhabitants</a><span class="delimiter">(</span><a title="Long" id="akka.dispatch;MessageDispatcher.addInhabitants.add">add</a>: <span title="Long">Long</span><span class="delimiter">)</span>: <span title="Long">Long</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Long" id="akka.dispatch;MessageDispatcher.addInhabitants.c">c</a> = <a href="#akka.dispatch;MessageDispatcher.inhabitants" title="=&gt; Long">inhabitants</a>
    <span class="keyword">val</span> <a title="Long" id="akka.dispatch;MessageDispatcher.addInhabitants.r">r</a> = <a href="#akka.dispatch;MessageDispatcher.addInhabitants.c" title="Long">c</a> <span title="(x: Long)Long">+</span> <a href="#akka.dispatch;MessageDispatcher.addInhabitants.add" title="Long">add</a>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher.addInhabitants.r" title="Long">r</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="comment">// We haven't succeeded in decreasing the inhabitants yet but the simple fact that we're trying to</span>
      <span class="comment">// go below zero means that there is an imbalance and we might as well throw the exception</span>
      <span class="keyword">val</span> <a title="IllegalStateException" id="akka.dispatch;MessageDispatcher.addInhabitants.e">e</a> = <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><span title="String(&quot;ACTOR SYSTEM CORRUPTED!!! A dispatcher can\'t have less than 0 inhabitants!&quot;)" class="string">&quot;ACTOR SYSTEM CORRUPTED!!! A dispatcher can't have less than 0 inhabitants!&quot;</span><span class="delimiter">)</span>
      <a href="#akka.dispatch;MessageDispatcher.reportFailure" title="(t: Throwable)Unit">reportFailure</a><span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher.addInhabitants.e" title="IllegalStateException">e</a><span class="delimiter">)</span>
      <span title="Nothing" class="keyword">throw</span> <a href="#akka.dispatch;MessageDispatcher.addInhabitants.e" title="IllegalStateException">e</a>
    <span class="delimiter">}</span>
    <span title="Long" class="keyword">if</span> <span class="delimiter">(</span><a href="../util/Unsafe.java.html#akka.util.Unsafe" title="akka.util.Unsafe.type">Unsafe</a>.<a href="../util/Unsafe.java.html#akka.util.Unsafe.instance" title="sun.misc.Unsafe">instance</a>.<span title="(x$1: Any, x$2: Long, x$3: Long, x$4: Long)Boolean">compareAndSwapLong</span><span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher" title="akka.dispatch.MessageDispatcher" class="keyword">this</a>, <span title="Long">inhabitantsOffset</span>, <a href="#akka.dispatch;MessageDispatcher.addInhabitants.c" title="Long">c</a>, <a href="#akka.dispatch;MessageDispatcher.addInhabitants.r" title="Long">r</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.dispatch;MessageDispatcher.addInhabitants.r" title="Long">r</a> <span class="keyword">else</span> <a href="#akka.dispatch;MessageDispatcher.addInhabitants" title="(add: Long)Long">addInhabitants</a><span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher.addInhabitants.add" title="Long">add</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; Long" id="akka.dispatch;MessageDispatcher.inhabitants">inhabitants</a>: <span title="Long">Long</span> = <a href="../util/Unsafe.java.html#akka.util.Unsafe" title="akka.util.Unsafe.type">Unsafe</a>.<a href="../util/Unsafe.java.html#akka.util.Unsafe.instance" title="sun.misc.Unsafe">instance</a>.<span title="(x$1: Any, x$2: Long)Long">getLongVolatile</span><span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher" title="akka.dispatch.MessageDispatcher" class="keyword">this</a>, <span title="Long">inhabitantsOffset</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; Int" id="akka.dispatch;MessageDispatcher.shutdownSchedule">shutdownSchedule</a>: <span title="Int">Int</span> = <a href="../util/Unsafe.java.html#akka.util.Unsafe" title="akka.util.Unsafe.type">Unsafe</a>.<a href="../util/Unsafe.java.html#akka.util.Unsafe.instance" title="sun.misc.Unsafe">instance</a>.<span title="(x$1: Any, x$2: Long)Int">getIntVolatile</span><span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher" title="akka.dispatch.MessageDispatcher" class="keyword">this</a>, <span title="Long">shutdownScheduleOffset</span><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(expect: Int, update: Int)Boolean" id="akka.dispatch;MessageDispatcher.updateShutdownSchedule">updateShutdownSchedule</a><span class="delimiter">(</span><a title="Int" id="akka.dispatch;MessageDispatcher.updateShutdownSchedule.expect">expect</a>: <span title="Int">Int</span>, <a title="Int" id="akka.dispatch;MessageDispatcher.updateShutdownSchedule.update">update</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="../util/Unsafe.java.html#akka.util.Unsafe" title="akka.util.Unsafe.type">Unsafe</a>.<a href="../util/Unsafe.java.html#akka.util.Unsafe.instance" title="sun.misc.Unsafe">instance</a>.<span title="(x$1: Any, x$2: Long, x$3: Int, x$4: Int)Boolean">compareAndSwapInt</span><span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher" title="akka.dispatch.MessageDispatcher" class="keyword">this</a>, <span title="Long">shutdownScheduleOffset</span>, <a href="#akka.dispatch;MessageDispatcher.updateShutdownSchedule.expect" title="Int">expect</a>, <a href="#akka.dispatch;MessageDispatcher.updateShutdownSchedule.update" title="Int">update</a><span class="delimiter">)</span>

  <span class="comment">/**
   *  Creates and returns a mailbox for the given actor.
   */</span>
  <span class="keyword">protected</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(actor: akka.actor.Cell, mailboxType: akka.dispatch.MailboxType)akka.dispatch.Mailbox" id="akka.dispatch;MessageDispatcher.createMailbox">createMailbox</a><span class="delimiter">(</span><a title="akka.actor.Cell" id="akka.dispatch;MessageDispatcher.createMailbox.actor">actor</a>: <a href="../actor/ActorCell.scala.html#akka.actor;Cell" title="akka.actor.Cell">Cell</a>, <a title="akka.dispatch.MailboxType" id="akka.dispatch;MessageDispatcher.createMailbox.mailboxType">mailboxType</a>: <a href="Mailbox.scala.html#akka.dispatch;MailboxType" title="akka.dispatch.MailboxType">MailboxType</a><span class="delimiter">)</span>: <a href="Mailbox.scala.html#akka.dispatch;Mailbox" title="akka.dispatch.Mailbox">Mailbox</a>

  <span class="comment">/**
   * Identifier of this dispatcher, corresponds to the full key
   * of the dispatcher configuration.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="akka.dispatch;MessageDispatcher.id">id</a>: <span title="String">String</span>

  <span class="comment">/**
   * Attaches the specified actor instance to this dispatcher, which includes
   * scheduling it to run for the first time (Create() is expected to have
   * been enqueued by the ActorCell upon mailbox creation).
   */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(actor: akka.actor.ActorCell)Unit" id="akka.dispatch;MessageDispatcher.attach">attach</a><span class="delimiter">(</span><a title="akka.actor.ActorCell" id="akka.dispatch;MessageDispatcher.attach.actor">actor</a>: <a href="../actor/ActorCell.scala.html#akka.actor;ActorCell" title="akka.actor.ActorCell">ActorCell</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#akka.dispatch;MessageDispatcher.register" title="(actor: akka.actor.ActorCell)Unit">register</a><span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher.attach.actor" title="akka.actor.ActorCell">actor</a><span class="delimiter">)</span>
    <a href="#akka.dispatch;MessageDispatcher.registerForExecution" title="(mbox: akka.dispatch.Mailbox, hasMessageHint: Boolean, hasSystemMessageHint: Boolean)Boolean">registerForExecution</a><span title="Unit" class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher.attach.actor" title="akka.actor.ActorCell">actor</a>.<a href="../actor/dungeon/Dispatch.scala.html#akka.actor.dungeon;Dispatch.mailbox" title="=&gt; akka.dispatch.Mailbox">mailbox</a>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Detaches the specified actor instance from this dispatcher
   */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(actor: akka.actor.ActorCell)Unit" id="akka.dispatch;MessageDispatcher.detach">detach</a><span class="delimiter">(</span><a title="akka.actor.ActorCell" id="akka.dispatch;MessageDispatcher.detach.actor">actor</a>: <a href="../actor/ActorCell.scala.html#akka.actor;ActorCell" title="akka.actor.ActorCell">ActorCell</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="keyword">try</span> <a href="#akka.dispatch;MessageDispatcher.unregister" title="(actor: akka.actor.ActorCell)Unit">unregister</a><span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher.detach.actor" title="akka.actor.ActorCell">actor</a><span class="delimiter">)</span> <span class="keyword">finally</span> <a href="#akka.dispatch;MessageDispatcher.ifSensibleToDoSoThenScheduleShutdown" title="()Unit">ifSensibleToDoSoThenScheduleShutdown</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">final</span> <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(r: Runnable)Unit" id="akka.dispatch;MessageDispatcher.unbatchedExecute">unbatchedExecute</a><span class="delimiter">(</span><a title="Runnable" id="akka.dispatch;MessageDispatcher.unbatchedExecute.r">r</a>: <span title="Runnable">Runnable</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="akka.dispatch.TaskInvocation" id="akka.dispatch;MessageDispatcher.unbatchedExecute.invocation">invocation</a> = <a href="#akka.dispatch.TaskInvocation.readResolve" title="(eventStream: akka.event.EventStream, runnable: Runnable, cleanup: () =&gt; Unit)akka.dispatch.TaskInvocation">TaskInvocation</a><span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher.eventStream" title="=&gt; akka.event.EventStream">eventStream</a>, <a href="#akka.dispatch;MessageDispatcher.unbatchedExecute.r" title="Runnable">r</a>, <a href="#akka.dispatch;MessageDispatcher.taskCleanup" title="=&gt; () =&gt; Unit">taskCleanup</a><span class="delimiter">)</span>
    <a href="#akka.dispatch;MessageDispatcher.addInhabitants" title="(add: Long)Long">addInhabitants</a><span class="delimiter">(</span><span title="Long(1L)">+</span><span class="int">1</span><span class="delimiter">)</span>
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <a href="#akka.dispatch;MessageDispatcher.executeTask" title="(invocation: akka.dispatch.TaskInvocation)Unit">executeTask</a><span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher.unbatchedExecute.invocation" title="akka.dispatch.TaskInvocation">invocation</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Throwable" id="akka.dispatch;MessageDispatcher.unbatchedExecute.t">t</a>: <span title="Throwable">Throwable</span> ⇒
        <a href="#akka.dispatch;MessageDispatcher.addInhabitants" title="(add: Long)Long">addInhabitants</a><span class="delimiter">(</span>-<span title="Long(-1L)" class="int">1</span><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">throw</span> <a href="#akka.dispatch;MessageDispatcher.unbatchedExecute.t" title="Throwable">t</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(t: Throwable)Unit" id="akka.dispatch;MessageDispatcher.reportFailure">reportFailure</a><span class="delimiter">(</span><a title="Throwable" id="akka.dispatch;MessageDispatcher.reportFailure.t">t</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.dispatch;MessageDispatcher.reportFailure.t" title="Throwable">t</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="akka.event.Logging.LogEventException" id="akka.dispatch;MessageDispatcher.reportFailure.e">e</a>: <a href="../event/Logging.scala.html#akka.event.Logging;LogEventException" title="akka.event.Logging.LogEventException">LogEventException</a> ⇒ <a href="#akka.dispatch;MessageDispatcher.eventStream" title="=&gt; akka.event.EventStream">eventStream</a>.<a href="../event/EventBus.scala.html#akka.event;SubchannelClassification.publish(de973626dc)" title="(event: MessageDispatcher.this.eventStream.Event)Unit">publish</a><span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher.reportFailure.e" title="akka.event.Logging.LogEventException">e</a>.<a href="../event/Logging.scala.html#akka.event.Logging;LogEventException.event" title="=&gt; akka.event.Logging.LogEvent">event</a><span class="delimiter">)</span>
    <span class="keyword">case</span> _                    ⇒ <a href="#akka.dispatch;MessageDispatcher.eventStream" title="=&gt; akka.event.EventStream">eventStream</a>.<a href="../event/EventBus.scala.html#akka.event;SubchannelClassification.publish(de973626dc)" title="(event: MessageDispatcher.this.eventStream.Event)Unit">publish</a><span class="delimiter">(</span><a href="../event/Logging.scala.html#akka.event.Logging;Error" title="(cause: Throwable, logSource: String, logClass: Class[_], message: Any)akka.event.Logging.Error">Error</a><span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher.reportFailure.t" title="Throwable">t</a>, <a href="#akka.dispatch;MessageDispatcher" title="()Class[_]">getClass</a>.<span title="()String">getName</span>, <a href="#akka.dispatch;MessageDispatcher" title="()Class[_]">getClass</a>, <a href="#akka.dispatch;MessageDispatcher.reportFailure.t" title="Throwable">t</a>.<span title="()String">getMessage</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  @tailrec
  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="()Unit" id="akka.dispatch;MessageDispatcher.ifSensibleToDoSoThenScheduleShutdown">ifSensibleToDoSoThenScheduleShutdown</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher.inhabitants" title="=&gt; Long">inhabitants</a> <span title="(x: Int)Boolean">&lt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#akka.dispatch;MessageDispatcher.shutdownSchedule" title="=&gt; Int">shutdownSchedule</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#akka.dispatch.MessageDispatcher.UNSCHEDULED" title="=&gt; Int">UNSCHEDULED</a> ⇒
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher.updateShutdownSchedule" title="(expect: Int, update: Int)Boolean">updateShutdownSchedule</a><span class="delimiter">(</span><a href="#akka.dispatch.MessageDispatcher.UNSCHEDULED" title="=&gt; Int">UNSCHEDULED</a>, <a href="#akka.dispatch.MessageDispatcher.SCHEDULED" title="=&gt; Int">SCHEDULED</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.dispatch;MessageDispatcher.scheduleShutdownAction" title="()Unit">scheduleShutdownAction</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#akka.dispatch;MessageDispatcher.ifSensibleToDoSoThenScheduleShutdown" title="()Unit">ifSensibleToDoSoThenScheduleShutdown</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="#akka.dispatch.MessageDispatcher.SCHEDULED" title="=&gt; Int">SCHEDULED</a> ⇒
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher.updateShutdownSchedule" title="(expect: Int, update: Int)Boolean">updateShutdownSchedule</a><span class="delimiter">(</span><a href="#akka.dispatch.MessageDispatcher.SCHEDULED" title="=&gt; Int">SCHEDULED</a>, <a href="#akka.dispatch.MessageDispatcher.RESCHEDULED" title="=&gt; Int">RESCHEDULED</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#akka.dispatch;MessageDispatcher.ifSensibleToDoSoThenScheduleShutdown" title="()Unit">ifSensibleToDoSoThenScheduleShutdown</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="#akka.dispatch.MessageDispatcher.RESCHEDULED" title="=&gt; Int">RESCHEDULED</a> ⇒
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="akka.dispatch;MessageDispatcher.scheduleShutdownAction">scheduleShutdownAction</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span class="comment">// IllegalStateException is thrown if scheduler has been shutdown</span>
    <span class="keyword">try</span> <a href="#akka.dispatch;MessageDispatcherConfigurator.prerequisites" title="=&gt; akka.dispatch.DispatcherPrerequisites">prerequisites</a>.<a href="Dispatchers.scala.html#akka.dispatch;DispatcherPrerequisites.scheduler" title="=&gt; akka.actor.Scheduler">scheduler</a>.<a href="../actor/Scheduler.scala.html#akka.actor;Scheduler.scheduleOnce(8318e51182)" title="(delay: scala.concurrent.duration.FiniteDuration, runnable: Runnable)(implicit executor: scala.concurrent.ExecutionContext)akka.actor.Cancellable">scheduleOnce</a><span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher.shutdownTimeout" title="=&gt; scala.concurrent.duration.FiniteDuration">shutdownTimeout</a>, <a href="#akka.dispatch;MessageDispatcher.shutdownAction" title="=&gt; Runnable">shutdownAction</a><span class="delimiter">)</span><span title="Unit" class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher.scheduleShutdownAction;$anon" title="scala.concurrent.ExecutionContext" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with scala.concurrent.ExecutionContext" id="akka.dispatch;MessageDispatcher.scheduleShutdownAction;$anon">ExecutionContext</a> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(runnable: Runnable)Unit" id="akka.dispatch;MessageDispatcher.scheduleShutdownAction;$anon.execute">execute</a><span class="delimiter">(</span><a title="Runnable" id="akka.dispatch;MessageDispatcher.scheduleShutdownAction;$anon.execute.runnable">runnable</a>: <span title="Runnable">Runnable</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.dispatch;MessageDispatcher.scheduleShutdownAction;$anon.execute.runnable" title="Runnable">runnable</a>.<span title="()Unit">run</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(t: Throwable)Unit" id="akka.dispatch;MessageDispatcher.scheduleShutdownAction;$anon.reportFailure">reportFailure</a><span class="delimiter">(</span><a title="Throwable" id="akka.dispatch;MessageDispatcher.scheduleShutdownAction;$anon.reportFailure.t">t</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.dispatch;MessageDispatcher" title="MessageDispatcher.this.type">MessageDispatcher</a>.<span class="keyword">this</span>.<a href="#akka.dispatch;MessageDispatcher.reportFailure" title="(t: Throwable)Unit">reportFailure</a><span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher.scheduleShutdownAction;$anon.reportFailure.t" title="Throwable">t</a><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> _: <span title="IllegalStateException">IllegalStateException</span> ⇒ <a href="#akka.dispatch;MessageDispatcher.shutdown" title="()Unit">shutdown</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="() =&gt; Unit" id="akka.dispatch;MessageDispatcher.taskCleanup">taskCleanup</a>: <span class="delimiter">(</span><span class="delimiter">)</span> ⇒ Unit = <span class="delimiter">(</span><span class="delimiter">)</span> ⇒ <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher.addInhabitants" title="(add: Long)Long">addInhabitants</a><span class="delimiter">(</span>-<span title="Long(-1L)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#akka.dispatch;MessageDispatcher.ifSensibleToDoSoThenScheduleShutdown" title="()Unit">ifSensibleToDoSoThenScheduleShutdown</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/**
   * If you override it, you must call it. But only ever once. See &quot;attach&quot; for only invocation.
   *
   * INTERNAL API
   */</span>
  <span class="keyword">protected</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(actor: akka.actor.ActorCell)Unit" id="akka.dispatch;MessageDispatcher.register">register</a><span class="delimiter">(</span><a title="akka.actor.ActorCell" id="akka.dispatch;MessageDispatcher.register.actor">actor</a>: <a href="../actor/ActorCell.scala.html#akka.actor;ActorCell" title="akka.actor.ActorCell">ActorCell</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="AnyVal" class="keyword">if</span> <span class="delimiter">(</span><span title="Boolean(false)">debug</span><span class="delimiter">)</span> <a href="#akka.dispatch.MessageDispatcher.actors" title="=&gt; akka.util.Index[akka.dispatch.MessageDispatcher,akka.actor.ActorRef]">actors</a>.<a href="../util/Index.scala.html#akka.util;Index.put" title="(key: akka.dispatch.MessageDispatcher, value: akka.actor.ActorRef)Boolean">put</a><span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher" title="akka.dispatch.MessageDispatcher" class="keyword">this</a>, <a href="#akka.dispatch;MessageDispatcher.register.actor" title="akka.actor.ActorCell">actor</a>.<a href="../actor/ActorCell.scala.html#akka.actor;ActorCell.self" title="=&gt; akka.actor.InternalActorRef">self</a><span class="delimiter">)</span>
    <a href="#akka.dispatch;MessageDispatcher.addInhabitants" title="(add: Long)Long">addInhabitants</a><span title="Unit" class="delimiter">(</span><span title="Long(1L)">+</span><span class="int">1</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * If you override it, you must call it. But only ever once. See &quot;detach&quot; for the only invocation
   *
   * INTERNAL API
   */</span>
  <span class="keyword">protected</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(actor: akka.actor.ActorCell)Unit" id="akka.dispatch;MessageDispatcher.unregister">unregister</a><span class="delimiter">(</span><a title="akka.actor.ActorCell" id="akka.dispatch;MessageDispatcher.unregister.actor">actor</a>: <a href="../actor/ActorCell.scala.html#akka.actor;ActorCell" title="akka.actor.ActorCell">ActorCell</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="AnyVal" class="keyword">if</span> <span class="delimiter">(</span><span title="Boolean(false)">debug</span><span class="delimiter">)</span> <a href="#akka.dispatch.MessageDispatcher.actors" title="=&gt; akka.util.Index[akka.dispatch.MessageDispatcher,akka.actor.ActorRef]">actors</a>.<a href="../util/Index.scala.html#akka.util;Index.remove(8d181fb718)" title="(key: akka.dispatch.MessageDispatcher, value: akka.actor.ActorRef)Boolean">remove</a><span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher" title="akka.dispatch.MessageDispatcher" class="keyword">this</a>, <a href="#akka.dispatch;MessageDispatcher.unregister.actor" title="akka.actor.ActorCell">actor</a>.<a href="../actor/ActorCell.scala.html#akka.actor;ActorCell.self" title="=&gt; akka.actor.InternalActorRef">self</a><span class="delimiter">)</span>
    <a href="#akka.dispatch;MessageDispatcher.addInhabitants" title="(add: Long)Long">addInhabitants</a><span class="delimiter">(</span>-<span title="Long(-1L)" class="int">1</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="akka.dispatch.Mailbox" id="akka.dispatch;MessageDispatcher.unregister.mailBox">mailBox</a> = <a href="#akka.dispatch;MessageDispatcher.unregister.actor" title="akka.actor.ActorCell">actor</a>.<a href="../actor/dungeon/Dispatch.scala.html#akka.actor.dungeon;Dispatch.swapMailbox" title="(newMailbox: akka.dispatch.Mailbox)akka.dispatch.Mailbox">swapMailbox</a><span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher.mailboxes" title="=&gt; akka.dispatch.Mailboxes">mailboxes</a>.<a href="Mailboxes.scala.html#akka.dispatch;Mailboxes.deadLetterMailbox" title="=&gt; akka.dispatch.Mailbox">deadLetterMailbox</a><span class="delimiter">)</span>
    <a href="#akka.dispatch;MessageDispatcher.unregister.mailBox" title="akka.dispatch.Mailbox">mailBox</a>.<a href="Mailbox.scala.html#akka.dispatch;Mailbox.becomeClosed" title="()Boolean">becomeClosed</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#akka.dispatch;MessageDispatcher.unregister.mailBox" title="akka.dispatch.Mailbox">mailBox</a>.<a href="Mailbox.scala.html#akka.dispatch;Mailbox.cleanUp" title="()Unit">cleanUp</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="shutdownAction extends Object with Runnable" id="akka.dispatch;MessageDispatcher.shutdownAction">shutdownAction</a> = <a href="#akka.dispatch;MessageDispatcher.shutdownAction;$anon" title="Runnable" class="keyword">new</a> <a title="anonymous class $anon extends Object with Runnable" id="akka.dispatch;MessageDispatcher.shutdownAction;$anon">Runnable</a> <span class="delimiter">{</span>
    @tailrec
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="()Unit" id="akka.dispatch;MessageDispatcher.shutdownAction;$anon.run">run</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#akka.dispatch;MessageDispatcher.shutdownSchedule" title="=&gt; Int">shutdownSchedule</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="#akka.dispatch.MessageDispatcher.SCHEDULED" title="=&gt; Int">SCHEDULED</a> ⇒
          <span class="keyword">try</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher.inhabitants" title="=&gt; Long">inhabitants</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#akka.dispatch;MessageDispatcher.shutdown" title="()Unit">shutdown</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="comment">//Warning, racy</span>
          <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.dispatch;MessageDispatcher.updateShutdownSchedule" title="(expect: Int, update: Int)Boolean">updateShutdownSchedule</a><span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher.shutdownSchedule" title="=&gt; Int">shutdownSchedule</a>, <a href="#akka.dispatch.MessageDispatcher.UNSCHEDULED" title="=&gt; Int">UNSCHEDULED</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.dispatch;MessageDispatcher.shutdownAction;$anon.run.while$1" title="Unit" class="delimiter">{</a><span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <a href="#akka.dispatch.MessageDispatcher.RESCHEDULED" title="=&gt; Int">RESCHEDULED</a> ⇒
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher.updateShutdownSchedule" title="(expect: Int, update: Int)Boolean">updateShutdownSchedule</a><span class="delimiter">(</span><a href="#akka.dispatch.MessageDispatcher.RESCHEDULED" title="=&gt; Int">RESCHEDULED</a>, <a href="#akka.dispatch.MessageDispatcher.SCHEDULED" title="=&gt; Int">SCHEDULED</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.dispatch;MessageDispatcher.scheduleShutdownAction" title="()Unit">scheduleShutdownAction</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#akka.dispatch;MessageDispatcher.shutdownAction;$anon.run" title="()Unit">run</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a href="#akka.dispatch.MessageDispatcher.UNSCHEDULED" title="=&gt; Int">UNSCHEDULED</a> ⇒
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * When the dispatcher no longer has any actors registered, how long will it wait until it shuts itself down,
   * defaulting to your akka configs &quot;akka.actor.default-dispatcher.shutdown-timeout&quot; or default specified in
   * reference.conf
   *
   * INTERNAL API
   */</span>
  <span class="keyword">protected</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">def</span> <a title="=&gt; scala.concurrent.duration.FiniteDuration" id="akka.dispatch;MessageDispatcher.shutdownTimeout">shutdownTimeout</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span>

  <span class="comment">/**
   * After the call to this method, the dispatcher mustn't begin any new message processing for the specified reference
   */</span>
  <span class="keyword">protected</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(actor: akka.actor.ActorCell)Unit" id="akka.dispatch;MessageDispatcher.suspend">suspend</a><span class="delimiter">(</span><a title="akka.actor.ActorCell" id="akka.dispatch;MessageDispatcher.suspend.actor">actor</a>: <a href="../actor/ActorCell.scala.html#akka.actor;ActorCell" title="akka.actor.ActorCell">ActorCell</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="akka.dispatch.Mailbox" id="akka.dispatch;MessageDispatcher.suspend.mbox">mbox</a> = <a href="#akka.dispatch;MessageDispatcher.suspend.actor" title="akka.actor.ActorCell">actor</a>.<a href="../actor/dungeon/Dispatch.scala.html#akka.actor.dungeon;Dispatch.mailbox" title="=&gt; akka.dispatch.Mailbox">mailbox</a>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher.suspend.mbox" title="akka.dispatch.Mailbox">mbox</a>.<a href="Mailbox.scala.html#akka.dispatch;Mailbox.actor" title="=&gt; akka.actor.ActorCell">actor</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#akka.dispatch;MessageDispatcher.suspend.actor" title="akka.actor.ActorCell">actor</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher.suspend.mbox" title="akka.dispatch.Mailbox">mbox</a>.<a href="Mailbox.scala.html#akka.dispatch;Mailbox.dispatcher" title="=&gt; akka.dispatch.MessageDispatcher">dispatcher</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#akka.dispatch;MessageDispatcher" title="akka.dispatch.MessageDispatcher" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#akka.dispatch;MessageDispatcher.suspend.mbox" title="akka.dispatch.Mailbox">mbox</a>.<a href="Mailbox.scala.html#akka.dispatch;Mailbox.suspend" title="()Boolean">suspend</a><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/*
   * After the call to this method, the dispatcher must begin any new message processing for the specified reference
   */</span>
  <span class="keyword">protected</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(actor: akka.actor.ActorCell)Unit" id="akka.dispatch;MessageDispatcher.resume">resume</a><span class="delimiter">(</span><a title="akka.actor.ActorCell" id="akka.dispatch;MessageDispatcher.resume.actor">actor</a>: <a href="../actor/ActorCell.scala.html#akka.actor;ActorCell" title="akka.actor.ActorCell">ActorCell</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="akka.dispatch.Mailbox" id="akka.dispatch;MessageDispatcher.resume.mbox">mbox</a> = <a href="#akka.dispatch;MessageDispatcher.resume.actor" title="akka.actor.ActorCell">actor</a>.<a href="../actor/dungeon/Dispatch.scala.html#akka.actor.dungeon;Dispatch.mailbox" title="=&gt; akka.dispatch.Mailbox">mailbox</a>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher.resume.mbox" title="akka.dispatch.Mailbox">mbox</a>.<a href="Mailbox.scala.html#akka.dispatch;Mailbox.actor" title="=&gt; akka.actor.ActorCell">actor</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#akka.dispatch;MessageDispatcher.resume.actor" title="akka.actor.ActorCell">actor</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher.resume.mbox" title="akka.dispatch.Mailbox">mbox</a>.<a href="Mailbox.scala.html#akka.dispatch;Mailbox.dispatcher" title="=&gt; akka.dispatch.MessageDispatcher">dispatcher</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#akka.dispatch;MessageDispatcher" title="akka.dispatch.MessageDispatcher" class="keyword">this</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#akka.dispatch;MessageDispatcher.resume.mbox" title="akka.dispatch.Mailbox">mbox</a>.<a href="Mailbox.scala.html#akka.dispatch;Mailbox.resume" title="()Boolean">resume</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#akka.dispatch;MessageDispatcher.registerForExecution" title="(mbox: akka.dispatch.Mailbox, hasMessageHint: Boolean, hasSystemMessageHint: Boolean)Boolean">registerForExecution</a><span title="Unit" class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcher.resume.mbox" title="akka.dispatch.Mailbox">mbox</a>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Will be called when the dispatcher is to queue an invocation for execution
   *
   * INTERNAL API
   */</span>
  <span class="keyword">protected</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(receiver: akka.actor.ActorCell, invocation: akka.dispatch.sysmsg.SystemMessage)Unit" id="akka.dispatch;MessageDispatcher.systemDispatch">systemDispatch</a><span class="delimiter">(</span><a title="akka.actor.ActorCell" id="akka.dispatch;MessageDispatcher.systemDispatch.receiver">receiver</a>: <a href="../actor/ActorCell.scala.html#akka.actor;ActorCell" title="akka.actor.ActorCell">ActorCell</a>, <a title="akka.dispatch.sysmsg.SystemMessage" id="akka.dispatch;MessageDispatcher.systemDispatch.invocation">invocation</a>: <a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;SystemMessage" title="akka.dispatch.sysmsg.SystemMessage">SystemMessage</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Will be called when the dispatcher is to queue an invocation for execution
   *
   * INTERNAL API
   */</span>
  <span class="keyword">protected</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(receiver: akka.actor.ActorCell, invocation: akka.dispatch.Envelope)Unit" id="akka.dispatch;MessageDispatcher.dispatch">dispatch</a><span class="delimiter">(</span><a title="akka.actor.ActorCell" id="akka.dispatch;MessageDispatcher.dispatch.receiver">receiver</a>: <a href="../actor/ActorCell.scala.html#akka.actor;ActorCell" title="akka.actor.ActorCell">ActorCell</a>, <a title="akka.dispatch.Envelope" id="akka.dispatch;MessageDispatcher.dispatch.invocation">invocation</a>: <a href="#akka.dispatch;Envelope" title="akka.dispatch.Envelope">Envelope</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Suggest to register the provided mailbox for execution
   *
   * INTERNAL API
   */</span>
  <span class="keyword">protected</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(mbox: akka.dispatch.Mailbox, hasMessageHint: Boolean, hasSystemMessageHint: Boolean)Boolean" id="akka.dispatch;MessageDispatcher.registerForExecution">registerForExecution</a><span class="delimiter">(</span><a title="akka.dispatch.Mailbox" id="akka.dispatch;MessageDispatcher.registerForExecution.mbox">mbox</a>: <a href="Mailbox.scala.html#akka.dispatch;Mailbox" title="akka.dispatch.Mailbox">Mailbox</a>, <a title="Boolean" id="akka.dispatch;MessageDispatcher.registerForExecution.hasMessageHint">hasMessageHint</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="akka.dispatch;MessageDispatcher.registerForExecution.hasSystemMessageHint">hasSystemMessageHint</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span>

  <span class="comment">// TODO check whether this should not actually be a property of the mailbox</span>
  <span class="comment">/**
   * INTERNAL API
   */</span>
  <span class="keyword">protected</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">def</span> <a title="=&gt; Int" id="akka.dispatch;MessageDispatcher.throughput">throughput</a>: <span title="Int">Int</span>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  <span class="keyword">protected</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">def</span> <a title="=&gt; scala.concurrent.duration.Duration" id="akka.dispatch;MessageDispatcher.throughputDeadlineTime">throughputDeadlineTime</a>: <span title="scala.concurrent.duration.Duration">Duration</span>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  @inline <span class="keyword">protected</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Boolean" id="akka.dispatch;MessageDispatcher.isThroughputDeadlineTimeDefined">isThroughputDeadlineTimeDefined</a> = <a href="#akka.dispatch;MessageDispatcher.throughputDeadlineTime" title="=&gt; scala.concurrent.duration.Duration">throughputDeadlineTime</a>.<span title="=&gt; Long">toMillis</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span>

  <span class="comment">/**
   * INTERNAL API
   */</span>
  <span class="keyword">protected</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(invocation: akka.dispatch.TaskInvocation)Unit" id="akka.dispatch;MessageDispatcher.executeTask">executeTask</a><span class="delimiter">(</span><a title="akka.dispatch.TaskInvocation" id="akka.dispatch;MessageDispatcher.executeTask.invocation">invocation</a>: <a href="#akka.dispatch.TaskInvocation.readResolve" title="akka.dispatch.TaskInvocation">TaskInvocation</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Called one time every time an actor is detached from this dispatcher and this dispatcher has no actors left attached
   * Must be idempotent
   *
   * INTERNAL API
   */</span>
  <span class="keyword">protected</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">def</span> <a title="()Unit" id="akka.dispatch;MessageDispatcher.shutdown">shutdown</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * An ExecutorServiceConfigurator is a class that given some prerequisites and a configuration can create instances of ExecutorService
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class ExecutorServiceConfigurator extends AnyRef with akka.dispatch.ExecutorServiceFactoryProvider" id="akka.dispatch;ExecutorServiceConfigurator">ExecutorServiceConfigurator</a><a href="#akka.dispatch;ExecutorServiceConfigurator" title="akka.dispatch.ExecutorServiceConfigurator" class="delimiter">(</a><a title="com.typesafe.config.Config" id="akka.dispatch;ExecutorServiceConfigurator.config">config</a>: <span title="com.typesafe.config.Config">Config</span>, <a title="akka.dispatch.DispatcherPrerequisites" id="akka.dispatch;ExecutorServiceConfigurator.prerequisites">prerequisites</a>: <a href="Dispatchers.scala.html#akka.dispatch;DispatcherPrerequisites" title="akka.dispatch.DispatcherPrerequisites">DispatcherPrerequisites</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="ThreadPoolBuilder.scala.html#akka.dispatch;ExecutorServiceFactoryProvider" title="akka.dispatch.ExecutorServiceFactoryProvider">ExecutorServiceFactoryProvider</a>

<span class="comment">/**
 * Base class to be used for hooking in new dispatchers into Dispatchers.
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class MessageDispatcherConfigurator extends AnyRef" id="akka.dispatch;MessageDispatcherConfigurator">MessageDispatcherConfigurator</a><a href="#akka.dispatch;MessageDispatcherConfigurator" title="akka.dispatch.MessageDispatcherConfigurator" class="delimiter">(</a><a title="com.typesafe.config.Config" id="akka.dispatch;MessageDispatcherConfigurator._config">_config</a>: <span title="com.typesafe.config.Config">Config</span>, <span class="keyword">val</span> <a title="akka.dispatch.DispatcherPrerequisites" id="akka.dispatch;MessageDispatcherConfigurator.prerequisites">prerequisites</a>: <a href="Dispatchers.scala.html#akka.dispatch;DispatcherPrerequisites" title="akka.dispatch.DispatcherPrerequisites">DispatcherPrerequisites</a><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="keyword">val</span> <a title="com.typesafe.config.Config" id="akka.dispatch;MessageDispatcherConfigurator.config">config</a>: <span title="com.typesafe.config.Config">Config</span> = <span title="akka.dispatch.CachingConfig" class="keyword">new</span> <a href="CachingConfig.scala.html#akka.dispatch;CachingConfig" title="akka.dispatch.CachingConfig">CachingConfig</a><span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcherConfigurator._config" title="com.typesafe.config.Config">_config</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns an instance of MessageDispatcher given the configuration.
   * Depending on the needs the implementation may return a new instance for
   * each invocation or return the same instance every time.
   */</span>
  <span class="keyword">def</span> <a title="()akka.dispatch.MessageDispatcher" id="akka.dispatch;MessageDispatcherConfigurator.dispatcher">dispatcher</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="#akka.dispatch;MessageDispatcher" title="akka.dispatch.MessageDispatcher">MessageDispatcher</a>

  <span class="keyword">def</span> <a title="()akka.dispatch.ExecutorServiceConfigurator" id="akka.dispatch;MessageDispatcherConfigurator.configureExecutor">configureExecutor</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="#akka.dispatch;ExecutorServiceConfigurator" title="akka.dispatch.ExecutorServiceConfigurator">ExecutorServiceConfigurator</a> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(executor: String)akka.dispatch.ExecutorServiceConfigurator" id="akka.dispatch;MessageDispatcherConfigurator.configureExecutor.configurator">configurator</a><span class="delimiter">(</span><a title="String" id="akka.dispatch;MessageDispatcherConfigurator.configureExecutor.configurator.executor">executor</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#akka.dispatch;ExecutorServiceConfigurator" title="akka.dispatch.ExecutorServiceConfigurator">ExecutorServiceConfigurator</a> = <a href="#akka.dispatch;MessageDispatcherConfigurator.configureExecutor.configurator.executor" title="String">executor</a> <span title="akka.dispatch.ExecutorServiceConfigurator" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span> | <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> | <span title="String(&quot;fork-join-executor&quot;)" class="string">&quot;fork-join-executor&quot;</span> ⇒ <span title="akka.dispatch.ForkJoinExecutorConfigurator" class="keyword">new</span> <a href="#akka.dispatch;ForkJoinExecutorConfigurator" title="akka.dispatch.ForkJoinExecutorConfigurator">ForkJoinExecutorConfigurator</a><span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcherConfigurator.config" title="=&gt; com.typesafe.config.Config">config</a>.<span title="(x$1: String)com.typesafe.config.Config">getConfig</span><span class="delimiter">(</span><span title="String(&quot;fork-join-executor&quot;)" class="string">&quot;fork-join-executor&quot;</span><span class="delimiter">)</span>, <a href="#akka.dispatch;MessageDispatcherConfigurator.prerequisites" title="=&gt; akka.dispatch.DispatcherPrerequisites">prerequisites</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="String(&quot;thread-pool-executor&quot;)" class="string">&quot;thread-pool-executor&quot;</span>           ⇒ <span title="akka.dispatch.ThreadPoolExecutorConfigurator" class="keyword">new</span> <a href="#akka.dispatch;ThreadPoolExecutorConfigurator" title="akka.dispatch.ThreadPoolExecutorConfigurator">ThreadPoolExecutorConfigurator</a><span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcherConfigurator.config" title="=&gt; com.typesafe.config.Config">config</a>.<span title="(x$1: String)com.typesafe.config.Config">getConfig</span><span class="delimiter">(</span><span title="String(&quot;thread-pool-executor&quot;)" class="string">&quot;thread-pool-executor&quot;</span><span class="delimiter">)</span>, <a href="#akka.dispatch;MessageDispatcherConfigurator.prerequisites" title="=&gt; akka.dispatch.DispatcherPrerequisites">prerequisites</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="String" id="akka.dispatch;MessageDispatcherConfigurator.configureExecutor.configurator.fqcn">fqcn</a> ⇒
        <span class="keyword">val</span> <a title="List[(Class[_ &gt;: akka.dispatch.DispatcherPrerequisites with com.typesafe.config.Config &lt;: Object], Object)]" id="akka.dispatch;MessageDispatcherConfigurator.configureExecutor.configurator.args">args</a> = <span title="(xs: (Class[_ &gt;: akka.dispatch.DispatcherPrerequisites with com.typesafe.config.Config &lt;: Object], Object)*)List[(Class[_ &gt;: akka.dispatch.DispatcherPrerequisites with com.typesafe.config.Config &lt;: Object], Object)]">List</span><span class="delimiter">(</span>
          classOf<span title="(x: Class[com.typesafe.config.Config])ArrowAssoc[Class[com.typesafe.config.Config]]" class="delimiter">[</span>Config<span class="delimiter">]</span> <span title="(y: com.typesafe.config.Config)(Class[com.typesafe.config.Config], com.typesafe.config.Config)">-&gt;</span> <a href="#akka.dispatch;MessageDispatcherConfigurator.config" title="=&gt; com.typesafe.config.Config">config</a>,
          classOf<span title="(x: Class[akka.dispatch.DispatcherPrerequisites])ArrowAssoc[Class[akka.dispatch.DispatcherPrerequisites]]" class="delimiter">[</span>DispatcherPrerequisites<span class="delimiter">]</span> <span title="(y: akka.dispatch.DispatcherPrerequisites)(Class[akka.dispatch.DispatcherPrerequisites], akka.dispatch.DispatcherPrerequisites)">-&gt;</span> <a href="#akka.dispatch;MessageDispatcherConfigurator.prerequisites" title="=&gt; akka.dispatch.DispatcherPrerequisites">prerequisites</a><span class="delimiter">)</span>
        <a href="#akka.dispatch;MessageDispatcherConfigurator.prerequisites" title="=&gt; akka.dispatch.DispatcherPrerequisites">prerequisites</a>.<a href="Dispatchers.scala.html#akka.dispatch;DispatcherPrerequisites.dynamicAccess" title="=&gt; akka.actor.DynamicAccess">dynamicAccess</a>.<a href="../actor/DynamicAccess.scala.html#akka.actor;DynamicAccess.createInstanceFor(b43a2b150b)" title="[T](fqcn: String, args: scala.collection.immutable.Seq[(Class[_], AnyRef)])(implicit evidence$3: scala.reflect.ClassTag[T])scala.util.Try[T]">createInstanceFor</a><span title="(fqcn: String, args: scala.collection.immutable.Seq[(Class[_], AnyRef)])(implicit evidence$3: scala.reflect.ClassTag[akka.dispatch.ExecutorServiceConfigurator])scala.util.Try[akka.dispatch.ExecutorServiceConfigurator]" class="delimiter">[</span><a href="#akka.dispatch;ExecutorServiceConfigurator" title="akka.dispatch.ExecutorServiceConfigurator">ExecutorServiceConfigurator</a><span class="delimiter">]</span><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[akka.dispatch.ExecutorServiceConfigurator]" class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcherConfigurator.configureExecutor.configurator.fqcn" title="String">fqcn</a>, <a href="#akka.dispatch;MessageDispatcherConfigurator.configureExecutor.configurator.args" title="List[(Class[_ &gt;: akka.dispatch.DispatcherPrerequisites with com.typesafe.config.Config &lt;: Object], Object)]">args</a><span class="delimiter">)</span>.<span title="(f: PartialFunction[Throwable,akka.dispatch.ExecutorServiceConfigurator])scala.util.Try[akka.dispatch.ExecutorServiceConfigurator]">recover</span><span class="delimiter">(</span><a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[Throwable,Nothing] with Serializable" id="akka.dispatch;MessageDispatcherConfigurator.configureExecutor.configurator;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
          <span class="keyword">case</span> <a title="Throwable" id="akka.dispatch;MessageDispatcherConfigurator.configureExecutor.configurator;$anonfun.isDefinedAt.exception">exception</a> ⇒ <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String, x$2: Throwable)IllegalArgumentException" class="keyword">new</span> <span title="IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span>
            <span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;Cannot instantiate ExecutorServiceConfigurator (&quot;executor = [%s]&quot;), defined in [%s],
                make sure it has an accessible constructor with a [%s,%s] signature&quot;&quot;&quot;</span><span class="delimiter">)</span>
              .<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcherConfigurator.configureExecutor.configurator.fqcn" title="String">fqcn</a>, <a href="#akka.dispatch;MessageDispatcherConfigurator.config" title="=&gt; com.typesafe.config.Config">config</a>.<span title="(x$1: String)String">getString</span><span class="delimiter">(</span><span title="String(&quot;id&quot;)" class="string">&quot;id&quot;</span><span class="delimiter">)</span>, classOf<span title="Class[com.typesafe.config.Config](classOf[com.typesafe.config.Config])" class="delimiter">[</span>Config<span class="delimiter">]</span>, classOf<span title="Class[akka.dispatch.DispatcherPrerequisites](classOf[akka.dispatch.DispatcherPrerequisites])" class="delimiter">[</span>DispatcherPrerequisites<span class="delimiter">]</span><span class="delimiter">)</span>, <a href="#akka.dispatch;MessageDispatcherConfigurator.configureExecutor.configurator;$anonfun.isDefinedAt.exception" title="Throwable">exception</a><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>.<span title="=&gt; akka.dispatch.ExecutorServiceConfigurator">get</span>
    <span class="delimiter">}</span>

    <a href="#akka.dispatch;MessageDispatcherConfigurator.config" title="=&gt; com.typesafe.config.Config">config</a>.<span title="(x$1: String)String">getString</span><span class="delimiter">(</span><span title="String(&quot;executor&quot;)" class="string">&quot;executor&quot;</span><span class="delimiter">)</span> <span title="akka.dispatch.ExecutorServiceConfigurator" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="String(&quot;default-executor&quot;)" class="string">&quot;default-executor&quot;</span> ⇒ <span title="akka.dispatch.DefaultExecutorServiceConfigurator" class="keyword">new</span> <a href="#akka.dispatch;DefaultExecutorServiceConfigurator" title="akka.dispatch.DefaultExecutorServiceConfigurator">DefaultExecutorServiceConfigurator</a><span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcherConfigurator.config" title="=&gt; com.typesafe.config.Config">config</a>.<span title="(x$1: String)com.typesafe.config.Config">getConfig</span><span class="delimiter">(</span><span title="String(&quot;default-executor&quot;)" class="string">&quot;default-executor&quot;</span><span class="delimiter">)</span>, <a href="#akka.dispatch;MessageDispatcherConfigurator.prerequisites" title="=&gt; akka.dispatch.DispatcherPrerequisites">prerequisites</a>, <a href="#akka.dispatch;MessageDispatcherConfigurator.configureExecutor.configurator" title="(executor: String)akka.dispatch.ExecutorServiceConfigurator">configurator</a><span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcherConfigurator.config" title="=&gt; com.typesafe.config.Config">config</a>.<span title="(x$1: String)String">getString</span><span class="delimiter">(</span><span title="String(&quot;default-executor.fallback&quot;)" class="string">&quot;default-executor.fallback&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="String" id="akka.dispatch;MessageDispatcherConfigurator.configureExecutor.other">other</a>              ⇒ <a href="#akka.dispatch;MessageDispatcherConfigurator.configureExecutor.configurator" title="(executor: String)akka.dispatch.ExecutorServiceConfigurator">configurator</a><span class="delimiter">(</span><a href="#akka.dispatch;MessageDispatcherConfigurator.configureExecutor.other" title="String">other</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span title="AnyRef" class="keyword">class</span> <a title="class ThreadPoolExecutorConfigurator extends akka.dispatch.ExecutorServiceConfigurator" id="akka.dispatch;ThreadPoolExecutorConfigurator">ThreadPoolExecutorConfigurator</a><a href="#akka.dispatch;ThreadPoolExecutorConfigurator" title="akka.dispatch.ThreadPoolExecutorConfigurator" class="delimiter">(</a><a title="com.typesafe.config.Config" id="akka.dispatch;ThreadPoolExecutorConfigurator.config">config</a>: <span title="com.typesafe.config.Config">Config</span>, <a title="akka.dispatch.DispatcherPrerequisites" id="akka.dispatch;ThreadPoolExecutorConfigurator.prerequisites">prerequisites</a>: <a href="Dispatchers.scala.html#akka.dispatch;DispatcherPrerequisites" title="akka.dispatch.DispatcherPrerequisites">DispatcherPrerequisites</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#akka.dispatch;ExecutorServiceConfigurator" title="akka.dispatch.ExecutorServiceConfigurator">ExecutorServiceConfigurator</a><span class="delimiter">(</span><a href="#akka.dispatch;ThreadPoolExecutorConfigurator.config" title="com.typesafe.config.Config">config</a>, <a href="#akka.dispatch;ThreadPoolExecutorConfigurator.prerequisites" title="akka.dispatch.DispatcherPrerequisites">prerequisites</a><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="keyword">val</span> <a title="akka.dispatch.ThreadPoolConfig" id="akka.dispatch;ThreadPoolExecutorConfigurator.threadPoolConfig">threadPoolConfig</a>: <a href="ThreadPoolBuilder.scala.html#akka.dispatch;ThreadPoolConfig" title="akka.dispatch.ThreadPoolConfig">ThreadPoolConfig</a> = <a href="#akka.dispatch;ThreadPoolExecutorConfigurator.createThreadPoolConfigBuilder" title="(config: com.typesafe.config.Config, prerequisites: akka.dispatch.DispatcherPrerequisites)akka.dispatch.ThreadPoolConfigBuilder">createThreadPoolConfigBuilder</a><span class="delimiter">(</span><a href="#akka.dispatch;ThreadPoolExecutorConfigurator.config" title="com.typesafe.config.Config">config</a>, <a href="#akka.dispatch;ThreadPoolExecutorConfigurator.prerequisites" title="akka.dispatch.DispatcherPrerequisites">prerequisites</a><span class="delimiter">)</span>.<a href="ThreadPoolBuilder.scala.html#akka.dispatch;ThreadPoolConfigBuilder.config" title="=&gt; akka.dispatch.ThreadPoolConfig">config</a>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(config: com.typesafe.config.Config, prerequisites: akka.dispatch.DispatcherPrerequisites)akka.dispatch.ThreadPoolConfigBuilder" id="akka.dispatch;ThreadPoolExecutorConfigurator.createThreadPoolConfigBuilder">createThreadPoolConfigBuilder</a><span class="delimiter">(</span><a title="com.typesafe.config.Config" id="akka.dispatch;ThreadPoolExecutorConfigurator.createThreadPoolConfigBuilder.config">config</a>: <span title="com.typesafe.config.Config">Config</span>, <a title="akka.dispatch.DispatcherPrerequisites" id="akka.dispatch;ThreadPoolExecutorConfigurator.createThreadPoolConfigBuilder.prerequisites">prerequisites</a>: <a href="Dispatchers.scala.html#akka.dispatch;DispatcherPrerequisites" title="akka.dispatch.DispatcherPrerequisites">DispatcherPrerequisites</a><span class="delimiter">)</span>: <a href="ThreadPoolBuilder.scala.html#akka.dispatch;ThreadPoolConfigBuilder" title="akka.dispatch.ThreadPoolConfigBuilder">ThreadPoolConfigBuilder</a> = <span class="delimiter">{</span>
    <span class="keyword">import</span> akka.util.<a href="../util/Helpers.scala.html#akka.util.Helpers" title="akka.util.Helpers.type">Helpers</a>.ConfigOps
    <a href="ThreadPoolBuilder.scala.html#akka.dispatch;ThreadPoolConfigBuilder" title="(config: akka.dispatch.ThreadPoolConfig)akka.dispatch.ThreadPoolConfigBuilder">ThreadPoolConfigBuilder</a><span class="delimiter">(</span><a href="ThreadPoolBuilder.scala.html#akka.dispatch;ThreadPoolConfig" title="(allowCorePoolTimeout: Boolean, corePoolSize: Int, maxPoolSize: Int, threadTimeout: scala.concurrent.duration.Duration, queueFactory: () =&gt; java.util.concurrent.BlockingQueue[Runnable], rejectionPolicy: java.util.concurrent.RejectedExecutionHandler)akka.dispatch.ThreadPoolConfig">ThreadPoolConfig</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      .<a href="ThreadPoolBuilder.scala.html#akka.dispatch;ThreadPoolConfigBuilder.setKeepAliveTime" title="(time: scala.concurrent.duration.Duration)akka.dispatch.ThreadPoolConfigBuilder">setKeepAliveTime</a><span class="delimiter">(</span><a href="../util/Helpers.scala.html#akka.util.Helpers.ConfigOps(7001b1cdb7)" title="implicit akka.util.Helpers.ConfigOps : (config: com.typesafe.config.Config)akka.util.Helpers.ConfigOps">config</a>.<a href="../util/Helpers.scala.html#akka.util.Helpers;ConfigOps.getMillisDuration" title="(path: String)scala.concurrent.duration.FiniteDuration">getMillisDuration</a><span class="delimiter">(</span><span title="String(&quot;keep-alive-time&quot;)" class="string">&quot;keep-alive-time&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      .<a href="ThreadPoolBuilder.scala.html#akka.dispatch;ThreadPoolConfigBuilder.setAllowCoreThreadTimeout" title="(allow: Boolean)akka.dispatch.ThreadPoolConfigBuilder">setAllowCoreThreadTimeout</a><span class="delimiter">(</span><a href="#akka.dispatch;ThreadPoolExecutorConfigurator.createThreadPoolConfigBuilder.config" title="com.typesafe.config.Config">config</a> <span title="(x$1: String)Boolean">getBoolean</span> <span title="String(&quot;allow-core-timeout&quot;)" class="string">&quot;allow-core-timeout&quot;</span><span class="delimiter">)</span>
      .<a href="ThreadPoolBuilder.scala.html#akka.dispatch;ThreadPoolConfigBuilder.setCorePoolSizeFromFactor" title="(min: Int, multiplier: Double, max: Int)akka.dispatch.ThreadPoolConfigBuilder">setCorePoolSizeFromFactor</a><span class="delimiter">(</span><a href="#akka.dispatch;ThreadPoolExecutorConfigurator.createThreadPoolConfigBuilder.config" title="com.typesafe.config.Config">config</a> <span title="(x$1: String)Int">getInt</span> <span title="String(&quot;core-pool-size-min&quot;)" class="string">&quot;core-pool-size-min&quot;</span>, <a href="#akka.dispatch;ThreadPoolExecutorConfigurator.createThreadPoolConfigBuilder.config" title="com.typesafe.config.Config">config</a> <span title="(x$1: String)Double">getDouble</span> <span title="String(&quot;core-pool-size-factor&quot;)" class="string">&quot;core-pool-size-factor&quot;</span>, <a href="#akka.dispatch;ThreadPoolExecutorConfigurator.createThreadPoolConfigBuilder.config" title="com.typesafe.config.Config">config</a> <span title="(x$1: String)Int">getInt</span> <span title="String(&quot;core-pool-size-max&quot;)" class="string">&quot;core-pool-size-max&quot;</span><span class="delimiter">)</span>
      .<a href="ThreadPoolBuilder.scala.html#akka.dispatch;ThreadPoolConfigBuilder.setMaxPoolSizeFromFactor" title="(min: Int, multiplier: Double, max: Int)akka.dispatch.ThreadPoolConfigBuilder">setMaxPoolSizeFromFactor</a><span class="delimiter">(</span><a href="#akka.dispatch;ThreadPoolExecutorConfigurator.createThreadPoolConfigBuilder.config" title="com.typesafe.config.Config">config</a> <span title="(x$1: String)Int">getInt</span> <span title="String(&quot;max-pool-size-min&quot;)" class="string">&quot;max-pool-size-min&quot;</span>, <a href="#akka.dispatch;ThreadPoolExecutorConfigurator.createThreadPoolConfigBuilder.config" title="com.typesafe.config.Config">config</a> <span title="(x$1: String)Double">getDouble</span> <span title="String(&quot;max-pool-size-factor&quot;)" class="string">&quot;max-pool-size-factor&quot;</span>, <a href="#akka.dispatch;ThreadPoolExecutorConfigurator.createThreadPoolConfigBuilder.config" title="com.typesafe.config.Config">config</a> <span title="(x$1: String)Int">getInt</span> <span title="String(&quot;max-pool-size-max&quot;)" class="string">&quot;max-pool-size-max&quot;</span><span class="delimiter">)</span>
      .<a href="ThreadPoolBuilder.scala.html#akka.dispatch;ThreadPoolConfigBuilder.configure" title="(fs: Option[akka.dispatch.ThreadPoolConfigBuilder =&gt; akka.dispatch.ThreadPoolConfigBuilder]*)akka.dispatch.ThreadPoolConfigBuilder">configure</a><span class="delimiter">(</span>
        <span title="(x: Int)Some[Int]">Some</span><span class="delimiter">(</span><a href="#akka.dispatch;ThreadPoolExecutorConfigurator.createThreadPoolConfigBuilder.config" title="com.typesafe.config.Config">config</a> <span title="(x$1: String)Int">getInt</span> <span title="String(&quot;task-queue-size&quot;)" class="string">&quot;task-queue-size&quot;</span><span class="delimiter">)</span> <span title="(f: Int =&gt; Option[akka.dispatch.ThreadPoolConfigBuilder =&gt; akka.dispatch.ThreadPoolConfigBuilder])Option[akka.dispatch.ThreadPoolConfigBuilder =&gt; akka.dispatch.ThreadPoolConfigBuilder]">flatMap</span> <a href="#akka.dispatch;ThreadPoolExecutorConfigurator.createThreadPoolConfigBuilder.$anonfun.x0$1" title="Option[akka.dispatch.ThreadPoolConfigBuilder =&gt; akka.dispatch.ThreadPoolConfigBuilder]" class="delimiter">{</a>
          <span class="keyword">case</span> <a title="Int" id="akka.dispatch;ThreadPoolExecutorConfigurator.createThreadPoolConfigBuilder.$anonfun.size">size</a> <span class="keyword">if</span> <a href="#akka.dispatch;ThreadPoolExecutorConfigurator.createThreadPoolConfigBuilder.$anonfun.size" title="Int">size</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span> ⇒
            <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="#akka.dispatch;ThreadPoolExecutorConfigurator.createThreadPoolConfigBuilder.config" title="com.typesafe.config.Config">config</a> <span title="(x$1: String)String">getString</span> <span title="String(&quot;task-queue-type&quot;)" class="string">&quot;task-queue-type&quot;</span><span class="delimiter">)</span> <span title="(f: String =&gt; (() =&gt; java.util.concurrent.BlockingQueue[Runnable]))Option[() =&gt; java.util.concurrent.BlockingQueue[Runnable]]">map</span> <a href="#akka.dispatch;ThreadPoolExecutorConfigurator.createThreadPoolConfigBuilder.$anonfun.$anonfun.x0$2" title="() =&gt; java.util.concurrent.BlockingQueue[Runnable]" class="delimiter">{</a>
              <span class="keyword">case</span> <span title="String(&quot;array&quot;)" class="string">&quot;array&quot;</span>       ⇒ <a href="ThreadPoolBuilder.scala.html#akka.dispatch.ThreadPoolConfig" title="akka.dispatch.ThreadPoolConfig.type">ThreadPoolConfig</a>.<a href="ThreadPoolBuilder.scala.html#akka.dispatch.ThreadPoolConfig.arrayBlockingQueue" title="(capacity: Int, fair: Boolean)() =&gt; java.util.concurrent.BlockingQueue[Runnable]">arrayBlockingQueue</a><span class="delimiter">(</span><a href="#akka.dispatch;ThreadPoolExecutorConfigurator.createThreadPoolConfigBuilder.$anonfun.size" title="Int">size</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="comment">//TODO config fairness?</span>
              <span class="keyword">case</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> | <span title="String(&quot;linked&quot;)" class="string">&quot;linked&quot;</span> ⇒ <a href="ThreadPoolBuilder.scala.html#akka.dispatch.ThreadPoolConfig" title="akka.dispatch.ThreadPoolConfig.type">ThreadPoolConfig</a>.<a href="ThreadPoolBuilder.scala.html#akka.dispatch.ThreadPoolConfig.linkedBlockingQueue(6566941035)" title="(capacity: Int)() =&gt; java.util.concurrent.BlockingQueue[Runnable]">linkedBlockingQueue</a><span class="delimiter">(</span><a href="#akka.dispatch;ThreadPoolExecutorConfigurator.createThreadPoolConfigBuilder.$anonfun.size" title="Int">size</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <a title="String" id="akka.dispatch;ThreadPoolExecutorConfigurator.createThreadPoolConfigBuilder.$anonfun.$anonfun.x">x</a>             ⇒ <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalArgumentException" class="keyword">new</span> <span title="IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;[%s] is not a valid task-queue-type [array|linked]!&quot;</span> <span title="(args: Any*)String">format</span> <a href="#akka.dispatch;ThreadPoolExecutorConfigurator.createThreadPoolConfigBuilder.$anonfun.$anonfun.x" title="String">x</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span title="(f: (() =&gt; java.util.concurrent.BlockingQueue[Runnable]) =&gt; (akka.dispatch.ThreadPoolConfigBuilder =&gt; akka.dispatch.ThreadPoolConfigBuilder))Option[akka.dispatch.ThreadPoolConfigBuilder =&gt; akka.dispatch.ThreadPoolConfigBuilder]">map</span> <span class="delimiter">{</span> <a title="() =&gt; java.util.concurrent.BlockingQueue[Runnable]" id="akka.dispatch;ThreadPoolExecutorConfigurator.createThreadPoolConfigBuilder.$anonfun.$anonfun.qf">qf</a> ⇒ <span class="delimiter">(</span>q: <a href="ThreadPoolBuilder.scala.html#akka.dispatch;ThreadPoolConfigBuilder" title="akka.dispatch.ThreadPoolConfigBuilder">ThreadPoolConfigBuilder</a><span class="delimiter">)</span> ⇒ <a href="#akka.dispatch;ThreadPoolExecutorConfigurator.createThreadPoolConfigBuilder.$anonfun.$anonfun.$anonfun.q" title="akka.dispatch.ThreadPoolConfigBuilder">q</a>.<a href="ThreadPoolBuilder.scala.html#akka.dispatch;ThreadPoolConfigBuilder.setQueueFactory" title="(newQueueFactory: () =&gt; java.util.concurrent.BlockingQueue[Runnable])akka.dispatch.ThreadPoolConfigBuilder">setQueueFactory</a><span class="delimiter">(</span><a href="#akka.dispatch;ThreadPoolExecutorConfigurator.createThreadPoolConfigBuilder.$anonfun.$anonfun.qf" title="() =&gt; java.util.concurrent.BlockingQueue[Runnable]">qf</a><span class="delimiter">)</span> <span class="delimiter">}</span>
          <span class="keyword">case</span> _ ⇒ <span title="None.type">None</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(id: String, threadFactory: java.util.concurrent.ThreadFactory)akka.dispatch.ExecutorServiceFactory" id="akka.dispatch;ThreadPoolExecutorConfigurator.createExecutorServiceFactory">createExecutorServiceFactory</a><span class="delimiter">(</span><a title="String" id="akka.dispatch;ThreadPoolExecutorConfigurator.createExecutorServiceFactory.id">id</a>: <span title="String">String</span>, <a title="java.util.concurrent.ThreadFactory" id="akka.dispatch;ThreadPoolExecutorConfigurator.createExecutorServiceFactory.threadFactory">threadFactory</a>: <span title="java.util.concurrent.ThreadFactory">ThreadFactory</span><span class="delimiter">)</span>: <a href="ThreadPoolBuilder.scala.html#akka.dispatch;ExecutorServiceFactory" title="akka.dispatch.ExecutorServiceFactory">ExecutorServiceFactory</a> =
    <a href="#akka.dispatch;ThreadPoolExecutorConfigurator.threadPoolConfig" title="=&gt; akka.dispatch.ThreadPoolConfig">threadPoolConfig</a>.<a href="ThreadPoolBuilder.scala.html#akka.dispatch;ThreadPoolConfig.createExecutorServiceFactory" title="(id: String, threadFactory: java.util.concurrent.ThreadFactory)akka.dispatch.ExecutorServiceFactory">createExecutorServiceFactory</a><span class="delimiter">(</span><a href="#akka.dispatch;ThreadPoolExecutorConfigurator.createExecutorServiceFactory.id" title="String">id</a>, <a href="#akka.dispatch;ThreadPoolExecutorConfigurator.createExecutorServiceFactory.threadFactory" title="java.util.concurrent.ThreadFactory">threadFactory</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="akka.dispatch.ForkJoinExecutorConfigurator.type" id="akka.dispatch.ForkJoinExecutorConfigurator">ForkJoinExecutorConfigurator</a> <a href="#akka.dispatch.ForkJoinExecutorConfigurator" title="akka.dispatch.ForkJoinExecutorConfigurator.type" class="delimiter">{</a>

  <span class="comment">/**
   * INTERNAL AKKA USAGE ONLY
   */</span>
  <span class="keyword">final</span> <span class="keyword">class</span> <a title="class AkkaForkJoinPool extends scala.concurrent.forkjoin.ForkJoinPool with akka.dispatch.LoadMetrics" id="akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinPool">AkkaForkJoinPool</a><a href="#akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinPool" title="akka.dispatch.ForkJoinExecutorConfigurator.AkkaForkJoinPool" class="delimiter">(</a><a title="Int" id="akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinPool.parallelism">parallelism</a>: <span title="Int">Int</span>,
                               <a title="scala.concurrent.forkjoin.ForkJoinPool.ForkJoinWorkerThreadFactory" id="akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinPool.threadFactory">threadFactory</a>: ForkJoinPool.<span title="scala.concurrent.forkjoin.ForkJoinPool.ForkJoinWorkerThreadFactory">ForkJoinWorkerThreadFactory</span>,
                               <a title="Thread.UncaughtExceptionHandler" id="akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinPool.unhandledExceptionHandler">unhandledExceptionHandler</a>: Thread.<span title="Thread.UncaughtExceptionHandler">UncaughtExceptionHandler</span><span class="delimiter">)</span>
    <span class="keyword">extends</span> <span title="scala.concurrent.forkjoin.ForkJoinPool">ForkJoinPool</span><span class="delimiter">(</span><a href="#akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinPool.parallelism" title="Int">parallelism</a>, <a href="#akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinPool.threadFactory" title="scala.concurrent.forkjoin.ForkJoinPool.ForkJoinWorkerThreadFactory">threadFactory</a>, <a href="#akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinPool.unhandledExceptionHandler" title="Thread.UncaughtExceptionHandler">unhandledExceptionHandler</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#akka.dispatch;LoadMetrics" title="akka.dispatch.LoadMetrics">LoadMetrics</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(r: Runnable)Unit" id="akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinPool.execute(037b51c5db)">execute</a><span class="delimiter">(</span><a title="Runnable" id="akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinPool.execute(037b51c5db).r">r</a>: <span title="Runnable">Runnable</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinPool.execute(037b51c5db).r" title="Runnable">r</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <span title="NullPointerException" class="keyword">new</span> <span title="NullPointerException">NullPointerException</span> <span class="keyword">else</span> <a href="#akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinPool" title="akka.dispatch.ForkJoinExecutorConfigurator.AkkaForkJoinPool" class="keyword">super</a>.<span title="(x$1: scala.concurrent.forkjoin.ForkJoinTask[_])Unit">execute</span><span class="delimiter">(</span><span title="akka.dispatch.ForkJoinExecutorConfigurator.AkkaForkJoinTask" class="keyword">new</span> <a href="#akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinTask" title="akka.dispatch.ForkJoinExecutorConfigurator.AkkaForkJoinTask">AkkaForkJoinTask</a><span class="delimiter">(</span><a href="#akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinPool.execute(037b51c5db).r" title="Runnable">r</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="()Boolean" id="akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinPool.atFullThrottle">atFullThrottle</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinPool" title="AkkaForkJoinPool.this.type" class="keyword">this</a>.<span title="()Int">getActiveThreadCount</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">&gt;=</span> <a href="#akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinPool" title="AkkaForkJoinPool.this.type" class="keyword">this</a>.<span title="()Int">getParallelism</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * INTERNAL AKKA USAGE ONLY
   */</span>
  @SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
  <span class="keyword">final</span> <span class="keyword">class</span> <a title="class AkkaForkJoinTask extends scala.concurrent.forkjoin.ForkJoinTask[Unit]" id="akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinTask">AkkaForkJoinTask</a><a href="#akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinTask" title="akka.dispatch.ForkJoinExecutorConfigurator.AkkaForkJoinTask" class="delimiter">(</a><a title="Runnable" id="akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinTask.runnable">runnable</a>: <span title="Runnable">Runnable</span><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="scala.concurrent.forkjoin.ForkJoinTask[Unit]">ForkJoinTask</span><span class="delimiter">[</span>Unit<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Unit" id="akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinTask.getRawResult">getRawResult</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(unit: Unit)Unit" id="akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinTask.setRawResult">setRawResult</a><span class="delimiter">(</span><a title="Unit" id="akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinTask.setRawResult.unit">unit</a>: <span title="Unit">Unit</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">final</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Boolean" id="akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinTask.exec">exec</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="keyword">try</span> <span class="delimiter">{</span> <a href="#akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinTask.runnable" title="Runnable">runnable</a>.<span title="()Unit">run</span><span class="delimiter">(</span><span class="delimiter">)</span>; <span title="Boolean(true)" class="keyword">true</span> <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Throwable" id="akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinTask.exec.anything">anything</a>: <span title="Throwable">Throwable</span> ⇒
        <span class="keyword">val</span> <a title="Thread" id="akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinTask.exec.t">t</a> = <span title="Thread.type">Thread</span>.<span title="()Thread">currentThread</span>
        <a href="#akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinTask.exec.t" title="Thread">t</a>.<span title="()java.lang.Thread.UncaughtExceptionHandler">getUncaughtExceptionHandler</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span> ⇒
          <span class="keyword">case</span> <a title="java.lang.Thread.UncaughtExceptionHandler" id="akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinTask.exec.some">some</a> ⇒ <a href="#akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinTask.exec.some" title="java.lang.Thread.UncaughtExceptionHandler">some</a>.<span title="(x$1: Thread, x$2: Throwable)Unit">uncaughtException</span><span class="delimiter">(</span><a href="#akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinTask.exec.t" title="Thread">t</a>, <a href="#akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinTask.exec.anything" title="Throwable">anything</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="Nothing" class="keyword">throw</span> <a href="#akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinTask.exec.anything" title="Throwable">anything</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span title="AnyRef" class="keyword">class</span> <a title="class ForkJoinExecutorConfigurator extends akka.dispatch.ExecutorServiceConfigurator" id="akka.dispatch;ForkJoinExecutorConfigurator">ForkJoinExecutorConfigurator</a><a href="#akka.dispatch;ForkJoinExecutorConfigurator" title="akka.dispatch.ForkJoinExecutorConfigurator" class="delimiter">(</a><a title="com.typesafe.config.Config" id="akka.dispatch;ForkJoinExecutorConfigurator.config">config</a>: <span title="com.typesafe.config.Config">Config</span>, <a title="akka.dispatch.DispatcherPrerequisites" id="akka.dispatch;ForkJoinExecutorConfigurator.prerequisites">prerequisites</a>: <a href="Dispatchers.scala.html#akka.dispatch;DispatcherPrerequisites" title="akka.dispatch.DispatcherPrerequisites">DispatcherPrerequisites</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#akka.dispatch;ExecutorServiceConfigurator" title="akka.dispatch.ExecutorServiceConfigurator">ExecutorServiceConfigurator</a><span class="delimiter">(</span><a href="#akka.dispatch;ForkJoinExecutorConfigurator.config" title="com.typesafe.config.Config">config</a>, <a href="#akka.dispatch;ForkJoinExecutorConfigurator.prerequisites" title="akka.dispatch.DispatcherPrerequisites">prerequisites</a><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="#akka.dispatch.ForkJoinExecutorConfigurator" title="akka.dispatch.ForkJoinExecutorConfigurator.type">ForkJoinExecutorConfigurator</a>._

  <span class="keyword">def</span> <a title="(t: java.util.concurrent.ThreadFactory)scala.concurrent.forkjoin.ForkJoinPool.ForkJoinWorkerThreadFactory" id="akka.dispatch;ForkJoinExecutorConfigurator.validate">validate</a><span class="delimiter">(</span><a title="java.util.concurrent.ThreadFactory" id="akka.dispatch;ForkJoinExecutorConfigurator.validate.t">t</a>: <span title="java.util.concurrent.ThreadFactory">ThreadFactory</span><span class="delimiter">)</span>: ForkJoinPool.<span title="scala.concurrent.forkjoin.ForkJoinPool.ForkJoinWorkerThreadFactory">ForkJoinWorkerThreadFactory</span> = <a href="#akka.dispatch;ForkJoinExecutorConfigurator.validate.t" title="java.util.concurrent.ThreadFactory">t</a> <span title="scala.concurrent.forkjoin.ForkJoinPool.ForkJoinWorkerThreadFactory" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="&lt;root&gt; extends java.util.concurrent.ThreadFactory with scala.concurrent.forkjoin.ForkJoinPool.ForkJoinWorkerThreadFactory" id="akka.dispatch;ForkJoinExecutorConfigurator.validate.correct">correct</a>: ForkJoinPool.<span title="scala.concurrent.forkjoin.ForkJoinPool.ForkJoinWorkerThreadFactory">ForkJoinWorkerThreadFactory</span> ⇒ <a href="#akka.dispatch;ForkJoinExecutorConfigurator.validate.correct" title="&lt;root&gt; extends java.util.concurrent.ThreadFactory with scala.concurrent.forkjoin.ForkJoinPool.ForkJoinWorkerThreadFactory">correct</a>
    <span class="keyword">case</span> <a title="java.util.concurrent.ThreadFactory" id="akka.dispatch;ForkJoinExecutorConfigurator.validate.x">x</a> ⇒ <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><span title="String(&quot;The prerequisites for the ForkJoinExecutorConfigurator is a ForkJoinPool.ForkJoinWorkerThreadFactory!&quot;)" class="string">&quot;The prerequisites for the ForkJoinExecutorConfigurator is a ForkJoinPool.ForkJoinWorkerThreadFactory!&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class ForkJoinExecutorServiceFactory extends AnyRef with akka.dispatch.ExecutorServiceFactory" id="akka.dispatch;ForkJoinExecutorConfigurator;ForkJoinExecutorServiceFactory">ForkJoinExecutorServiceFactory</a><a href="#akka.dispatch;ForkJoinExecutorConfigurator;ForkJoinExecutorServiceFactory" title="ForkJoinExecutorConfigurator.this.ForkJoinExecutorServiceFactory" class="delimiter">(</a><span class="keyword">val</span> <a title="scala.concurrent.forkjoin.ForkJoinPool.ForkJoinWorkerThreadFactory" id="akka.dispatch;ForkJoinExecutorConfigurator;ForkJoinExecutorServiceFactory.threadFactory">threadFactory</a>: ForkJoinPool.<span title="scala.concurrent.forkjoin.ForkJoinPool.ForkJoinWorkerThreadFactory">ForkJoinWorkerThreadFactory</span>,
                                       <span class="keyword">val</span> <a title="Int" id="akka.dispatch;ForkJoinExecutorConfigurator;ForkJoinExecutorServiceFactory.parallelism">parallelism</a>: <span title="Int">Int</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="ThreadPoolBuilder.scala.html#akka.dispatch;ExecutorServiceFactory" title="akka.dispatch.ExecutorServiceFactory">ExecutorServiceFactory</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; java.util.concurrent.ExecutorService" id="akka.dispatch;ForkJoinExecutorConfigurator;ForkJoinExecutorServiceFactory.createExecutorService">createExecutorService</a>: <span title="java.util.concurrent.ExecutorService">ExecutorService</span> = <span title="akka.dispatch.ForkJoinExecutorConfigurator.AkkaForkJoinPool" class="keyword">new</span> <a href="#akka.dispatch.ForkJoinExecutorConfigurator;AkkaForkJoinPool" title="akka.dispatch.ForkJoinExecutorConfigurator.AkkaForkJoinPool">AkkaForkJoinPool</a><span class="delimiter">(</span><a href="#akka.dispatch;ForkJoinExecutorConfigurator;ForkJoinExecutorServiceFactory.parallelism" title="=&gt; Int">parallelism</a>, <a href="#akka.dispatch;ForkJoinExecutorConfigurator;ForkJoinExecutorServiceFactory.threadFactory" title="=&gt; scala.concurrent.forkjoin.ForkJoinPool.ForkJoinWorkerThreadFactory">threadFactory</a>, <a href="ThreadPoolBuilder.scala.html#akka.dispatch.MonitorableThreadFactory" title="akka.dispatch.MonitorableThreadFactory.type">MonitorableThreadFactory</a>.<a href="ThreadPoolBuilder.scala.html#akka.dispatch.MonitorableThreadFactory.doNothing" title="=&gt; Thread.UncaughtExceptionHandler">doNothing</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(id: String, threadFactory: java.util.concurrent.ThreadFactory)akka.dispatch.ExecutorServiceFactory" id="akka.dispatch;ForkJoinExecutorConfigurator.createExecutorServiceFactory">createExecutorServiceFactory</a><span class="delimiter">(</span><a title="String" id="akka.dispatch;ForkJoinExecutorConfigurator.createExecutorServiceFactory.id">id</a>: <span title="String">String</span>, <a title="java.util.concurrent.ThreadFactory" id="akka.dispatch;ForkJoinExecutorConfigurator.createExecutorServiceFactory.threadFactory">threadFactory</a>: <span title="java.util.concurrent.ThreadFactory">ThreadFactory</span><span class="delimiter">)</span>: <a href="ThreadPoolBuilder.scala.html#akka.dispatch;ExecutorServiceFactory" title="akka.dispatch.ExecutorServiceFactory">ExecutorServiceFactory</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.util.concurrent.ThreadFactory" id="akka.dispatch;ForkJoinExecutorConfigurator.createExecutorServiceFactory.tf">tf</a> = <a href="#akka.dispatch;ForkJoinExecutorConfigurator.createExecutorServiceFactory.threadFactory" title="java.util.concurrent.ThreadFactory">threadFactory</a> <span title="java.util.concurrent.ThreadFactory" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="akka.dispatch.MonitorableThreadFactory" id="akka.dispatch;ForkJoinExecutorConfigurator.createExecutorServiceFactory.tf.m">m</a>: <a href="ThreadPoolBuilder.scala.html#akka.dispatch;MonitorableThreadFactory" title="akka.dispatch.MonitorableThreadFactory">MonitorableThreadFactory</a> ⇒
        <span class="comment">// add the dispatcher id to the thread names</span>
        <a href="#akka.dispatch;ForkJoinExecutorConfigurator.createExecutorServiceFactory.tf.m" title="akka.dispatch.MonitorableThreadFactory">m</a>.<a href="ThreadPoolBuilder.scala.html#akka.dispatch;MonitorableThreadFactory.withName" title="(newName: String)akka.dispatch.MonitorableThreadFactory">withName</a><span class="delimiter">(</span><a href="#akka.dispatch;ForkJoinExecutorConfigurator.createExecutorServiceFactory.tf.m" title="akka.dispatch.MonitorableThreadFactory">m</a>.<a href="ThreadPoolBuilder.scala.html#akka.dispatch;MonitorableThreadFactory.name" title="=&gt; String">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;-&quot;)" class="string">&quot;-&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#akka.dispatch;ForkJoinExecutorConfigurator.createExecutorServiceFactory.id" title="String">id</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="java.util.concurrent.ThreadFactory" id="akka.dispatch;ForkJoinExecutorConfigurator.createExecutorServiceFactory.tf.other">other</a> ⇒ <a href="#akka.dispatch;ForkJoinExecutorConfigurator.createExecutorServiceFactory.tf.other" title="java.util.concurrent.ThreadFactory">other</a>
    <span class="delimiter">}</span>
    <span title="ForkJoinExecutorConfigurator.this.ForkJoinExecutorServiceFactory" class="keyword">new</span> <a href="#akka.dispatch;ForkJoinExecutorConfigurator;ForkJoinExecutorServiceFactory" title="ForkJoinExecutorConfigurator.this.ForkJoinExecutorServiceFactory">ForkJoinExecutorServiceFactory</a><span class="delimiter">(</span>
      <a href="#akka.dispatch;ForkJoinExecutorConfigurator.validate" title="(t: java.util.concurrent.ThreadFactory)scala.concurrent.forkjoin.ForkJoinPool.ForkJoinWorkerThreadFactory">validate</a><span class="delimiter">(</span><a href="#akka.dispatch;ForkJoinExecutorConfigurator.createExecutorServiceFactory.tf" title="java.util.concurrent.ThreadFactory">tf</a><span class="delimiter">)</span>,
      <a href="ThreadPoolBuilder.scala.html#akka.dispatch.ThreadPoolConfig" title="akka.dispatch.ThreadPoolConfig.type">ThreadPoolConfig</a>.<a href="ThreadPoolBuilder.scala.html#akka.dispatch.ThreadPoolConfig.scaledPoolSize" title="(floor: Int, multiplier: Double, ceiling: Int)Int">scaledPoolSize</a><span class="delimiter">(</span>
        <a href="#akka.dispatch;ForkJoinExecutorConfigurator.config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String)Int">getInt</span><span class="delimiter">(</span><span title="String(&quot;parallelism-min&quot;)" class="string">&quot;parallelism-min&quot;</span><span class="delimiter">)</span>,
        <a href="#akka.dispatch;ForkJoinExecutorConfigurator.config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String)Double">getDouble</span><span class="delimiter">(</span><span title="String(&quot;parallelism-factor&quot;)" class="string">&quot;parallelism-factor&quot;</span><span class="delimiter">)</span>,
        <a href="#akka.dispatch;ForkJoinExecutorConfigurator.config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String)Int">getInt</span><span class="delimiter">(</span><span title="String(&quot;parallelism-max&quot;)" class="string">&quot;parallelism-max&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class DefaultExecutorServiceConfigurator extends akka.dispatch.ExecutorServiceConfigurator" id="akka.dispatch;DefaultExecutorServiceConfigurator">DefaultExecutorServiceConfigurator</a><a href="#akka.dispatch;DefaultExecutorServiceConfigurator" title="akka.dispatch.DefaultExecutorServiceConfigurator" class="delimiter">(</a><a title="com.typesafe.config.Config" id="akka.dispatch;DefaultExecutorServiceConfigurator.config">config</a>: <span title="com.typesafe.config.Config">Config</span>, <a title="akka.dispatch.DispatcherPrerequisites" id="akka.dispatch;DefaultExecutorServiceConfigurator.prerequisites">prerequisites</a>: <a href="Dispatchers.scala.html#akka.dispatch;DispatcherPrerequisites" title="akka.dispatch.DispatcherPrerequisites">DispatcherPrerequisites</a>, <a title="akka.dispatch.ExecutorServiceConfigurator" id="akka.dispatch;DefaultExecutorServiceConfigurator.fallback">fallback</a>: <a href="#akka.dispatch;ExecutorServiceConfigurator" title="akka.dispatch.ExecutorServiceConfigurator">ExecutorServiceConfigurator</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#akka.dispatch;ExecutorServiceConfigurator" title="akka.dispatch.ExecutorServiceConfigurator">ExecutorServiceConfigurator</a><span class="delimiter">(</span><a href="#akka.dispatch;DefaultExecutorServiceConfigurator.config" title="com.typesafe.config.Config">config</a>, <a href="#akka.dispatch;DefaultExecutorServiceConfigurator.prerequisites" title="akka.dispatch.DispatcherPrerequisites">prerequisites</a><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">val</span> <a title="akka.dispatch.ExecutorServiceFactoryProvider" id="akka.dispatch;DefaultExecutorServiceConfigurator.provider">provider</a>: <a href="ThreadPoolBuilder.scala.html#akka.dispatch;ExecutorServiceFactoryProvider" title="akka.dispatch.ExecutorServiceFactoryProvider">ExecutorServiceFactoryProvider</a> =
    <a href="#akka.dispatch;DefaultExecutorServiceConfigurator.prerequisites" title="akka.dispatch.DispatcherPrerequisites">prerequisites</a>.<a href="Dispatchers.scala.html#akka.dispatch;DispatcherPrerequisites.defaultExecutionContext" title="=&gt; Option[scala.concurrent.ExecutionContext]">defaultExecutionContext</a> <span title="akka.dispatch.ExecutorServiceFactoryProvider" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="scala.concurrent.ExecutionContext" id="akka.dispatch;DefaultExecutorServiceConfigurator.provider.ec">ec</a><span class="delimiter">)</span> ⇒
        <a href="#akka.dispatch;DefaultExecutorServiceConfigurator.prerequisites" title="akka.dispatch.DispatcherPrerequisites">prerequisites</a>.<a href="Dispatchers.scala.html#akka.dispatch;DispatcherPrerequisites.eventStream" title="=&gt; akka.event.EventStream">eventStream</a>.<a href="../event/EventBus.scala.html#akka.event;SubchannelClassification.publish(de973626dc)" title="(event: Object)Unit">publish</a><span class="delimiter">(</span><a href="../event/Logging.scala.html#akka.event.Logging;Debug" title="(logSource: String, logClass: Class[_], message: Any)akka.event.Logging.Debug">Debug</a><span class="delimiter">(</span><span title="String(&quot;DefaultExecutorServiceConfigurator&quot;)" class="string">&quot;DefaultExecutorServiceConfigurator&quot;</span>, <a href="#akka.dispatch;DefaultExecutorServiceConfigurator" title="DefaultExecutorServiceConfigurator.this.type" class="keyword">this</a>.<span title="()Class[_]">getClass</span>, <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Using passed in ExecutionContext as default executor for this ActorSystem. If you want to use a different executor, please specify one in akka.actor.default-dispatcher.default-executor.&quot;)" class="string">Using passed in ExecutionContext as default executor for this ActorSystem. If you want to use a different executor, please specify one in akka.actor.default-dispatcher.default-executor.&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <a href="#akka.dispatch;DefaultExecutorServiceConfigurator.provider;$anon" title="java.util.concurrent.AbstractExecutorService with akka.dispatch.ExecutorServiceFactory with akka.dispatch.ExecutorServiceFactoryProvider" class="keyword">new</a> <a title="anonymous class $anon extends java.util.concurrent.AbstractExecutorService with akka.dispatch.ExecutorServiceFactory with akka.dispatch.ExecutorServiceFactoryProvider" id="akka.dispatch;DefaultExecutorServiceConfigurator.provider;$anon">AbstractExecutorService</a> <span class="keyword">with</span> <a href="ThreadPoolBuilder.scala.html#akka.dispatch;ExecutorServiceFactory" title="akka.dispatch.ExecutorServiceFactory">ExecutorServiceFactory</a> <span class="keyword">with</span> <a href="ThreadPoolBuilder.scala.html#akka.dispatch;ExecutorServiceFactoryProvider" title="akka.dispatch.ExecutorServiceFactoryProvider">ExecutorServiceFactoryProvider</a> <span class="delimiter">{</span>
          <span class="keyword">def</span> <a title="(id: String, threadFactory: java.util.concurrent.ThreadFactory)akka.dispatch.ExecutorServiceFactory" id="akka.dispatch;DefaultExecutorServiceConfigurator.provider;$anon.createExecutorServiceFactory">createExecutorServiceFactory</a><span class="delimiter">(</span><a title="String" id="akka.dispatch;DefaultExecutorServiceConfigurator.provider;$anon.createExecutorServiceFactory.id">id</a>: <span title="String">String</span>, <a title="java.util.concurrent.ThreadFactory" id="akka.dispatch;DefaultExecutorServiceConfigurator.provider;$anon.createExecutorServiceFactory.threadFactory">threadFactory</a>: <span title="java.util.concurrent.ThreadFactory">ThreadFactory</span><span class="delimiter">)</span>: <a href="ThreadPoolBuilder.scala.html#akka.dispatch;ExecutorServiceFactory" title="akka.dispatch.ExecutorServiceFactory">ExecutorServiceFactory</a> = <a href="#akka.dispatch;DefaultExecutorServiceConfigurator.provider;$anon" title="java.util.concurrent.AbstractExecutorService with akka.dispatch.ExecutorServiceFactory with akka.dispatch.ExecutorServiceFactoryProvider" class="keyword">this</a>
          <span class="keyword">def</span> <a title="=&gt; java.util.concurrent.ExecutorService" id="akka.dispatch;DefaultExecutorServiceConfigurator.provider;$anon.createExecutorService">createExecutorService</a>: <span title="java.util.concurrent.ExecutorService">ExecutorService</span> = <a href="#akka.dispatch;DefaultExecutorServiceConfigurator.provider;$anon" title="java.util.concurrent.AbstractExecutorService with akka.dispatch.ExecutorServiceFactory with akka.dispatch.ExecutorServiceFactoryProvider" class="keyword">this</a>
          <span class="keyword">def</span> <a title="()Unit" id="akka.dispatch;DefaultExecutorServiceConfigurator.provider;$anon.shutdown">shutdown</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="()Boolean" id="akka.dispatch;DefaultExecutorServiceConfigurator.provider;$anon.isTerminated">isTerminated</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>
          <span class="keyword">def</span> <a title="(timeout: Long, unit: java.util.concurrent.TimeUnit)Boolean" id="akka.dispatch;DefaultExecutorServiceConfigurator.provider;$anon.awaitTermination">awaitTermination</a><span class="delimiter">(</span><a title="Long" id="akka.dispatch;DefaultExecutorServiceConfigurator.provider;$anon.awaitTermination.timeout">timeout</a>: <span title="Long">Long</span>, <a title="java.util.concurrent.TimeUnit" id="akka.dispatch;DefaultExecutorServiceConfigurator.provider;$anon.awaitTermination.unit">unit</a>: <span title="java.util.concurrent.TimeUnit">TimeUnit</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>
          <span class="keyword">def</span> <a title="()java.util.List[Runnable]" id="akka.dispatch;DefaultExecutorServiceConfigurator.provider;$anon.shutdownNow">shutdownNow</a><span class="delimiter">(</span><span class="delimiter">)</span>: ju.<span title="java.util.List[Runnable]">List</span><span class="delimiter">[</span>Runnable<span class="delimiter">]</span> = ju.<span title="java.util.Collections.type">Collections</span>.<span title="()java.util.List[Runnable]">emptyList</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="(command: Runnable)Unit" id="akka.dispatch;DefaultExecutorServiceConfigurator.provider;$anon.execute">execute</a><span class="delimiter">(</span><a title="Runnable" id="akka.dispatch;DefaultExecutorServiceConfigurator.provider;$anon.execute.command">command</a>: <span title="Runnable">Runnable</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.dispatch;DefaultExecutorServiceConfigurator.provider.ec" title="scala.concurrent.ExecutionContext">ec</a>.<span title="(runnable: Runnable)Unit">execute</span><span class="delimiter">(</span><a href="#akka.dispatch;DefaultExecutorServiceConfigurator.provider;$anon.execute.command" title="Runnable">command</a><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="()Boolean" id="akka.dispatch;DefaultExecutorServiceConfigurator.provider;$anon.isShutdown">isShutdown</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="None.type">None</span> ⇒ <a href="#akka.dispatch;DefaultExecutorServiceConfigurator.fallback" title="akka.dispatch.ExecutorServiceConfigurator">fallback</a>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(id: String, threadFactory: java.util.concurrent.ThreadFactory)akka.dispatch.ExecutorServiceFactory" id="akka.dispatch;DefaultExecutorServiceConfigurator.createExecutorServiceFactory">createExecutorServiceFactory</a><span class="delimiter">(</span><a title="String" id="akka.dispatch;DefaultExecutorServiceConfigurator.createExecutorServiceFactory.id">id</a>: <span title="String">String</span>, <a title="java.util.concurrent.ThreadFactory" id="akka.dispatch;DefaultExecutorServiceConfigurator.createExecutorServiceFactory.threadFactory">threadFactory</a>: <span title="java.util.concurrent.ThreadFactory">ThreadFactory</span><span class="delimiter">)</span>: <a href="ThreadPoolBuilder.scala.html#akka.dispatch;ExecutorServiceFactory" title="akka.dispatch.ExecutorServiceFactory">ExecutorServiceFactory</a> =
    <a href="#akka.dispatch;DefaultExecutorServiceConfigurator.provider" title="=&gt; akka.dispatch.ExecutorServiceFactoryProvider">provider</a>.<a href="ThreadPoolBuilder.scala.html#akka.dispatch;ExecutorServiceFactoryProvider.createExecutorServiceFactory" title="(id: String, threadFactory: java.util.concurrent.ThreadFactory)akka.dispatch.ExecutorServiceFactory">createExecutorServiceFactory</a><span class="delimiter">(</span><a href="#akka.dispatch;DefaultExecutorServiceConfigurator.createExecutorServiceFactory.id" title="String">id</a>, <a href="#akka.dispatch;DefaultExecutorServiceConfigurator.createExecutorServiceFactory.threadFactory" title="java.util.concurrent.ThreadFactory">threadFactory</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
