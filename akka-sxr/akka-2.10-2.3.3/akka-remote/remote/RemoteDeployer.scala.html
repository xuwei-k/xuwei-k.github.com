<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>akka-remote/remote/RemoteDeployer.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (C) 2009-2014 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
<span class="keyword">package</span> akka.remote

<span class="keyword">import</span> akka.actor._
<span class="keyword">import</span> akka.routing._
<span class="keyword">import</span> akka.remote.routing._
<span class="keyword">import</span> akka.ConfigurationException
<span class="keyword">import</span> akka.japi.<a href="../../akka-actor/japi/JavaAPI.scala.html#akka.japi.Util" title="akka.japi.Util.type">Util</a>.immutableSeq
<span class="keyword">import</span> com.typesafe.config._
<span class="keyword">import</span> akka.routing.Pool
<span class="keyword">import</span> akka.remote.routing.RemoteRouterConfig

@SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
<span class="keyword">case class</span> <a title="class RemoteScope extends AnyRef with akka.actor.Scope with Product with Serializable" id="akka.remote.RemoteScope.readResolve">RemoteScope</a><a href="#akka.remote.RemoteScope.readResolve" title="Product" class="delimiter">(</a><a title="akka.actor.Address" id="akka.remote;RemoteScope.node">node</a>: <a href="../../akka-actor/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../akka-actor/actor/Deployer.scala.html#akka.actor;Scope" title="akka.actor.Scope">Scope</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(other: akka.actor.Scope)akka.actor.Scope" id="akka.remote;RemoteScope.withFallback">withFallback</a><span class="delimiter">(</span><a title="akka.actor.Scope" id="akka.remote;RemoteScope.withFallback.other">other</a>: <a href="../../akka-actor/actor/Deployer.scala.html#akka.actor;Scope" title="akka.actor.Scope">Scope</a><span class="delimiter">)</span>: <a href="../../akka-actor/actor/Deployer.scala.html#akka.actor;Scope" title="akka.actor.Scope">Scope</a> = <a href="#akka.remote.RemoteScope.readResolve" title="akka.remote.RemoteScope" class="keyword">this</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
<span class="keyword">private</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">class</span> <a title="class RemoteDeployer extends akka.actor.Deployer" id="akka.remote;RemoteDeployer">RemoteDeployer</a><a href="#akka.remote;RemoteDeployer" title="akka.remote.RemoteDeployer" class="delimiter">(</a><a title="akka.actor.ActorSystem.Settings" id="akka.remote;RemoteDeployer._settings">_settings</a>: ActorSystem.<a href="../../akka-actor/actor/ActorSystem.scala.html#akka.actor.ActorSystem;Settings" title="akka.actor.ActorSystem.Settings">Settings</a>, <a title="akka.actor.DynamicAccess" id="akka.remote;RemoteDeployer._pm">_pm</a>: <a href="../../akka-actor/actor/DynamicAccess.scala.html#akka.actor;DynamicAccess" title="akka.actor.DynamicAccess">DynamicAccess</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../akka-actor/actor/Deployer.scala.html#akka.actor;Deployer" title="akka.actor.Deployer">Deployer</a><span class="delimiter">(</span><a href="#akka.remote;RemoteDeployer._settings" title="akka.actor.ActorSystem.Settings">_settings</a>, <a href="#akka.remote;RemoteDeployer._pm" title="akka.actor.DynamicAccess">_pm</a><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(path: String, config: com.typesafe.config.Config)Option[akka.actor.Deploy]" id="akka.remote;RemoteDeployer.parseConfig">parseConfig</a><span class="delimiter">(</span><a title="String" id="akka.remote;RemoteDeployer.parseConfig.path">path</a>: <span title="String">String</span>, <a title="com.typesafe.config.Config" id="akka.remote;RemoteDeployer.parseConfig.config">config</a>: <span title="com.typesafe.config.Config">Config</span><span class="delimiter">)</span>: <span title="Option[akka.actor.Deploy]">Option</span><span class="delimiter">[</span>Deploy<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">import</span> scala.collection.<span title="scala.collection.JavaConverters.type">JavaConverters</span>._

    <a href="#akka.remote;RemoteDeployer" title="akka.remote.RemoteDeployer" class="keyword">super</a>.<a href="../../akka-actor/actor/Deployer.scala.html#akka.actor;Deployer.parseConfig" title="(key: String, config: com.typesafe.config.Config)Option[akka.actor.Deploy]">parseConfig</a><span class="delimiter">(</span><a href="#akka.remote;RemoteDeployer.parseConfig.path" title="String">path</a>, <a href="#akka.remote;RemoteDeployer.parseConfig.config" title="com.typesafe.config.Config">config</a><span class="delimiter">)</span> <span title="Option[akka.actor.Deploy]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Some[akka.actor.Deploy]" id="akka.remote;RemoteDeployer.parseConfig.d">d</a> @ Some<span class="delimiter">(</span><a title="akka.actor.Deploy" id="akka.remote;RemoteDeployer.parseConfig.deploy">deploy</a><span class="delimiter">)</span> ⇒
        <a href="#akka.remote;RemoteDeployer.parseConfig.deploy" title="akka.actor.Deploy">deploy</a>.<a href="../../akka-actor/actor/Deployer.scala.html#akka.actor;Deploy.config" title="=&gt; com.typesafe.config.Config">config</a>.<span title="(x$1: String)String">getString</span><span class="delimiter">(</span><span title="String(&quot;remote&quot;)" class="string">&quot;remote&quot;</span><span class="delimiter">)</span> <span title="Option[akka.actor.Deploy]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../../akka-actor/actor/Address.scala.html#akka.actor.AddressFromURIString.unapply(3e8907038d)" title="(addr: String)Option[akka.actor.Address]">AddressFromURIString</a><span class="delimiter">(</span><span title="akka.actor.Address">r</span><span class="delimiter">)</span> ⇒ <span title="(x: akka.actor.Deploy)Some[akka.actor.Deploy]">Some</span><span class="delimiter">(</span><a href="#akka.remote;RemoteDeployer.parseConfig.deploy" title="akka.actor.Deploy">deploy</a>.<a href="../../akka-actor/actor/Deployer.scala.html#akka.actor;Deploy.copy$default$1" title="String" id="akka.remote;RemoteDeployer.parseConfig.x$7">copy</a><span class="delimiter">(</span>scope = <a href="#akka.remote.RemoteScope.readResolve" title="(node: akka.actor.Address)akka.remote.RemoteScope">RemoteScope</a><a title="akka.remote.RemoteScope" id="akka.remote;RemoteDeployer.parseConfig.x$2" class="delimiter">(</a><span title="akka.actor.Address">r</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="String" id="akka.remote;RemoteDeployer.parseConfig.str">str</a> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#akka.remote;RemoteDeployer.parseConfig.str" title="String">str</a>.<span title="()Boolean">isEmpty</span>     ⇒ <span title="Nothing" class="keyword">throw</span> <a href="../../akka-actor/AkkaException.scala.html#akka;ConfigurationException.<init>(3b0f220dea)" title="(msg: String)akka.ConfigurationException" class="keyword">new</a> <a href="../../akka-actor/AkkaException.scala.html#akka;ConfigurationException" title="akka.ConfigurationException">ConfigurationException</a><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;unparseable remote node name [&quot;)">unparseable remote node name [$</span><span class="delimiter">{</span><a href="#akka.remote;RemoteDeployer.parseConfig.str" title="String">str</a><span class="delimiter">}</span><span title="String(&quot;]&quot;)" class="string">]&quot;</span><span class="delimiter">)</span>
          <span class="keyword">case</span> _ ⇒
            <span class="keyword">val</span> <a title="scala.collection.immutable.Seq[akka.actor.Address]" id="akka.remote;RemoteDeployer.parseConfig.nodes">nodes</a> = <a href="../../akka-actor/japi/JavaAPI.scala.html#akka.japi.Util.immutableSeq(42d3e3f9ec)" title="(iterable: Iterable[String])scala.collection.immutable.Seq[String]">immutableSeq</a><span class="delimiter">(</span><a href="#akka.remote;RemoteDeployer.parseConfig.deploy" title="akka.actor.Deploy">deploy</a>.<a href="../../akka-actor/actor/Deployer.scala.html#akka.actor;Deploy.config" title="=&gt; com.typesafe.config.Config">config</a>.<span title="(x$1: String)java.util.List[String]">getStringList</span><span class="delimiter">(</span><span title="String(&quot;target.nodes&quot;)" class="string">&quot;target.nodes&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: String =&gt; akka.actor.Address)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Seq[String],akka.actor.Address,scala.collection.immutable.Seq[akka.actor.Address]])scala.collection.immutable.Seq[akka.actor.Address]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Seq.Coll,akka.actor.Address,scala.collection.immutable.Seq[akka.actor.Address]]" class="delimiter">(</span><a href="../../akka-actor/actor/Address.scala.html#akka.actor.AddressFromURIString.apply" title="(addr: String)akka.actor.Address">AddressFromURIString</a><span class="delimiter">(</span><a href="#akka.remote;RemoteDeployer.parseConfig.nodes.$anonfun.x$1" title="String">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Option[akka.actor.Deploy]" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.remote;RemoteDeployer.parseConfig.nodes" title="scala.collection.immutable.Seq[akka.actor.Address]">nodes</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="#akka.remote;RemoteDeployer.parseConfig.deploy" title="akka.actor.Deploy">deploy</a>.<a href="../../akka-actor/actor/Deployer.scala.html#akka.actor;Deploy.routerConfig" title="=&gt; akka.routing.RouterConfig">routerConfig</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../akka-actor/routing/RouterConfig.scala.html#akka.routing.NoRouter" title="akka.routing.NoRouter.type">NoRouter</a><span class="delimiter">)</span> <a href="#akka.remote;RemoteDeployer.parseConfig.d" title="Some[akka.actor.Deploy]">d</a>
            <span class="keyword">else</span> <a href="#akka.remote;RemoteDeployer.parseConfig.deploy" title="akka.actor.Deploy">deploy</a>.<a href="../../akka-actor/actor/Deployer.scala.html#akka.actor;Deploy.routerConfig" title="=&gt; akka.routing.RouterConfig">routerConfig</a> <span title="Option[akka.actor.Deploy]" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="akka.routing.Pool">r</span>: <a href="../../akka-actor/routing/RouterConfig.scala.html#akka.routing;Pool" title="akka.routing.Pool">Pool</a> ⇒ <span title="(x: akka.actor.Deploy)Some[akka.actor.Deploy]">Some</span><span class="delimiter">(</span><a href="#akka.remote;RemoteDeployer.parseConfig.deploy" title="akka.actor.Deploy">deploy</a>.<a href="../../akka-actor/actor/Deployer.scala.html#akka.actor;Deploy.copy$default$1" title="String" id="akka.remote;RemoteDeployer.parseConfig.x$13">copy</a><span class="delimiter">(</span>routerConfig = <a href="routing/RemoteRouterConfig.scala.html#akka.remote.routing;RemoteRouterConfig" title="(local: akka.routing.Pool, nodes: Iterable[akka.actor.Address])akka.remote.routing.RemoteRouterConfig">RemoteRouterConfig</a><a title="akka.remote.routing.RemoteRouterConfig" id="akka.remote;RemoteDeployer.parseConfig.x$8" class="delimiter">(</a><span title="akka.routing.Pool">r</span>, <a href="#akka.remote;RemoteDeployer.parseConfig.nodes" title="scala.collection.immutable.Seq[akka.actor.Address]">nodes</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> _       ⇒ <a href="#akka.remote;RemoteDeployer.parseConfig.d" title="Some[akka.actor.Deploy]">d</a>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="None.type">None</span> ⇒ <span title="None.type">None</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
