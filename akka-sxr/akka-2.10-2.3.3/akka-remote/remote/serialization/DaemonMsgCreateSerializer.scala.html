<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>akka-remote/remote/serialization/DaemonMsgCreateSerializer.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (C) 2009-2014 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>

<span class="keyword">package</span> akka.remote.serialization

<span class="keyword">import</span> akka.serialization.<span class="delimiter">{</span> Serializer, SerializationExtension <span class="delimiter">}</span>
<span class="keyword">import</span> java.io.Serializable
<span class="keyword">import</span> com.google.protobuf.ByteString
<span class="keyword">import</span> com.typesafe.config.<span class="delimiter">{</span> Config, ConfigFactory <span class="delimiter">}</span>
<span class="keyword">import</span> akka.actor.<span class="delimiter">{</span> Actor, ActorRef, Deploy, ExtendedActorSystem, NoScopeGiven, Props, Scope <span class="delimiter">}</span>
<span class="keyword">import</span> akka.remote.DaemonMsgCreate
<span class="keyword">import</span> akka.remote.<span title="akka.remote.WireFormats.type">WireFormats</span>.<span class="delimiter">{</span> DaemonMsgCreateData, DeployData, PropsData <span class="delimiter">}</span>
<span class="keyword">import</span> akka.routing.<span class="delimiter">{</span> NoRouter, RouterConfig <span class="delimiter">}</span>
<span class="keyword">import</span> scala.reflect.ClassTag
<span class="keyword">import</span> util.<span class="delimiter">{</span> Failure, Success <span class="delimiter">}</span>

<span class="comment">/**
 * Serializes akka's internal DaemonMsgCreate using protobuf
 * for the core structure of DaemonMsgCreate, Props and Deploy.
 * Serialization of contained RouterConfig, Config, and Scope
 * is done with configured serializer for those classes, by
 * default java.io.Serializable.
 *
 * INTERNAL API
 */</span>
<span class="keyword">private</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">class</span> <a title="class DaemonMsgCreateSerializer extends AnyRef with akka.serialization.Serializer" id="akka.remote.serialization;DaemonMsgCreateSerializer">DaemonMsgCreateSerializer</a><a href="#akka.remote.serialization;DaemonMsgCreateSerializer" title="akka.remote.serialization.DaemonMsgCreateSerializer" class="delimiter">(</a><span class="keyword">val</span> <a title="akka.actor.ExtendedActorSystem" id="akka.remote.serialization;DaemonMsgCreateSerializer.system">system</a>: <a href="../../../akka-actor/actor/ActorSystem.scala.html#akka.actor;ExtendedActorSystem" title="akka.actor.ExtendedActorSystem">ExtendedActorSystem</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../akka-actor/serialization/Serializer.scala.html#akka.serialization;Serializer" title="akka.serialization.Serializer">Serializer</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="ProtobufSerializer.scala.html#akka.remote.serialization.ProtobufSerializer" title="akka.remote.serialization.ProtobufSerializer.type">ProtobufSerializer</a>.serializeActorRef
  <span class="keyword">import</span> <a href="ProtobufSerializer.scala.html#akka.remote.serialization.ProtobufSerializer" title="akka.remote.serialization.ProtobufSerializer.type">ProtobufSerializer</a>.deserializeActorRef
  <span class="keyword">import</span> <a href="../../../akka-actor/actor/Deployer.scala.html#akka.actor.Deploy" title="akka.actor.Deploy.type">Deploy</a>.NoDispatcherGiven

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="akka.remote.serialization;DaemonMsgCreateSerializer.includeManifest">includeManifest</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>
  <span class="keyword">def</span> <a title="=&gt; Int" id="akka.remote.serialization;DaemonMsgCreateSerializer.identifier">identifier</a> = <span title="Int(3)" class="int">3</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="akka.serialization.Serialization" id="akka.remote.serialization;DaemonMsgCreateSerializer.serialization">serialization</a> = <a href="../../../akka-actor/actor/Extension.scala.html#akka.actor;ExtensionId.apply" title="(system: akka.actor.ActorSystem)akka.serialization.Serialization">SerializationExtension</a><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(obj: AnyRef)Array[Byte]" id="akka.remote.serialization;DaemonMsgCreateSerializer.toBinary">toBinary</a><span class="delimiter">(</span><a title="AnyRef" id="akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.obj">obj</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span> = <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.obj" title="AnyRef">obj</a> <span title="Array[Byte]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> DaemonMsgCreate<span class="delimiter">(</span><a title="akka.actor.Props" id="akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.props">props</a>, <a title="akka.actor.Deploy" id="akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.deploy">deploy</a>, <a title="String" id="akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.path">path</a>, <a title="akka.actor.ActorRef" id="akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.supervisor">supervisor</a><span class="delimiter">)</span> ⇒

      <span class="keyword">def</span> <a title="(d: akka.actor.Deploy)akka.remote.WireFormats.DeployData" id="akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.deployProto">deployProto</a><span class="delimiter">(</span><a title="akka.actor.Deploy" id="akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.deployProto.d">d</a>: <a href="../../../akka-actor/actor/Deployer.scala.html#akka.actor;Deploy" title="akka.actor.Deploy">Deploy</a><span class="delimiter">)</span>: <span title="akka.remote.WireFormats.DeployData">DeployData</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="akka.remote.WireFormats.DeployData.Builder" id="akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.deployProto.builder">builder</a> = <span title="akka.remote.WireFormats.DeployData.type">DeployData</span>.<span title="()akka.remote.WireFormats.DeployData.Builder">newBuilder</span>.<span title="(x$1: String)akka.remote.WireFormats.DeployData.Builder">setPath</span><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.deployProto.d" title="akka.actor.Deploy">d</a>.<a href="../../../akka-actor/actor/Deployer.scala.html#akka.actor;Deploy.path" title="=&gt; String">path</a><span class="delimiter">)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.deployProto.d" title="akka.actor.Deploy">d</a>.<a href="../../../akka-actor/actor/Deployer.scala.html#akka.actor;Deploy.config" title="=&gt; com.typesafe.config.Config">config</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="com.typesafe.config.ConfigFactory.type">ConfigFactory</span>.<span title="()com.typesafe.config.Config">empty</span><span class="delimiter">)</span>
          <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.deployProto.builder" title="akka.remote.WireFormats.DeployData.Builder">builder</a>.<span title="(x$1: com.google.protobuf.ByteString)akka.remote.WireFormats.DeployData.Builder">setConfig</span><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.serialize" title="(any: Any)com.google.protobuf.ByteString">serialize</a><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.deployProto.d" title="akka.actor.Deploy">d</a>.<a href="../../../akka-actor/actor/Deployer.scala.html#akka.actor;Deploy.config" title="=&gt; com.typesafe.config.Config">config</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.deployProto.d" title="akka.actor.Deploy">d</a>.<a href="../../../akka-actor/actor/Deployer.scala.html#akka.actor;Deploy.routerConfig" title="=&gt; akka.routing.RouterConfig">routerConfig</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../akka-actor/routing/RouterConfig.scala.html#akka.routing.NoRouter" title="akka.routing.NoRouter.type">NoRouter</a><span class="delimiter">)</span>
          <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.deployProto.builder" title="akka.remote.WireFormats.DeployData.Builder">builder</a>.<span title="(x$1: com.google.protobuf.ByteString)akka.remote.WireFormats.DeployData.Builder">setRouterConfig</span><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.serialize" title="(any: Any)com.google.protobuf.ByteString">serialize</a><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.deployProto.d" title="akka.actor.Deploy">d</a>.<a href="../../../akka-actor/actor/Deployer.scala.html#akka.actor;Deploy.routerConfig" title="=&gt; akka.routing.RouterConfig">routerConfig</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.deployProto.d" title="akka.actor.Deploy">d</a>.<a href="../../../akka-actor/actor/Deployer.scala.html#akka.actor;Deploy.scope" title="=&gt; akka.actor.Scope">scope</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../akka-actor/actor/Deployer.scala.html#akka.actor.NoScopeGiven" title="akka.actor.NoScopeGiven.type">NoScopeGiven</a><span class="delimiter">)</span>
          <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.deployProto.builder" title="akka.remote.WireFormats.DeployData.Builder">builder</a>.<span title="(x$1: com.google.protobuf.ByteString)akka.remote.WireFormats.DeployData.Builder">setScope</span><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.serialize" title="(any: Any)com.google.protobuf.ByteString">serialize</a><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.deployProto.d" title="akka.actor.Deploy">d</a>.<a href="../../../akka-actor/actor/Deployer.scala.html#akka.actor;Deploy.scope" title="=&gt; akka.actor.Scope">scope</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.deployProto.d" title="akka.actor.Deploy">d</a>.<a href="../../../akka-actor/actor/Deployer.scala.html#akka.actor;Deploy.dispatcher" title="=&gt; String">dispatcher</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="String(&quot;&quot;)">NoDispatcherGiven</span><span class="delimiter">)</span>
          <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.deployProto.builder" title="akka.remote.WireFormats.DeployData.Builder">builder</a>.<span title="(x$1: String)akka.remote.WireFormats.DeployData.Builder">setDispatcher</span><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.deployProto.d" title="akka.actor.Deploy">d</a>.<a href="../../../akka-actor/actor/Deployer.scala.html#akka.actor;Deploy.dispatcher" title="=&gt; String">dispatcher</a><span class="delimiter">)</span>
        <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.deployProto.builder" title="akka.remote.WireFormats.DeployData.Builder">builder</a>.<span title="()akka.remote.WireFormats.DeployData">build</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="=&gt; akka.remote.WireFormats.PropsData" id="akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.propsProto">propsProto</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="akka.remote.WireFormats.PropsData.Builder" id="akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.propsProto.builder">builder</a> = <span title="akka.remote.WireFormats.PropsData.type">PropsData</span>.<span title="()akka.remote.WireFormats.PropsData.Builder">newBuilder</span>
          .<span title="(x$1: String)akka.remote.WireFormats.PropsData.Builder">setClazz</span><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.props" title="akka.actor.Props">props</a>.<a href="../../../akka-actor/actor/Props.scala.html#akka.actor;Props.clazz" title="=&gt; Class[_]">clazz</a>.<span title="()String">getName</span><span class="delimiter">)</span>
          .<span title="(x$1: akka.remote.WireFormats.DeployData)akka.remote.WireFormats.PropsData.Builder">setDeploy</span><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.deployProto" title="(d: akka.actor.Deploy)akka.remote.WireFormats.DeployData">deployProto</a><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.props" title="akka.actor.Props">props</a>.<a href="../../../akka-actor/actor/Props.scala.html#akka.actor;Props.deploy" title="=&gt; akka.actor.Deploy">deploy</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.props" title="akka.actor.Props">props</a>.<a href="../../../akka-actor/actor/Props.scala.html#akka.actor;Props.args" title="=&gt; scala.collection.immutable.Seq[Any]">args</a> <span title="(f: Any =&gt; com.google.protobuf.ByteString)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Seq[Any],com.google.protobuf.ByteString,scala.collection.immutable.Seq[com.google.protobuf.ByteString]])scala.collection.immutable.Seq[com.google.protobuf.ByteString]">map</span> <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.serialize" title="(any: Any)com.google.protobuf.ByteString">serialize</a> <span title="(f: com.google.protobuf.ByteString =&gt; akka.remote.WireFormats.PropsData.Builder)Unit">foreach</span> <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.propsProto.builder" title="akka.remote.WireFormats.PropsData.Builder">builder</a>.<a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.propsProto.$anonfun.x$1" title="(x$1: com.google.protobuf.ByteString)akka.remote.WireFormats.PropsData.Builder">addArgs</a>
        <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.props" title="akka.actor.Props">props</a>.<a href="../../../akka-actor/actor/Props.scala.html#akka.actor;Props.args" title="=&gt; scala.collection.immutable.Seq[Any]">args</a> <span title="(f: Any =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Seq[Any],String,scala.collection.immutable.Seq[String]])scala.collection.immutable.Seq[String]">map</span> <span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.propsProto.$anonfun.x$1" title="Any">_</a>.<span title="()Class[_]">getClass</span>.<span title="()String">getName</span><span class="delimiter">)</span> <span title="(f: String =&gt; akka.remote.WireFormats.PropsData.Builder)Unit">foreach</span> <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.propsProto.builder" title="akka.remote.WireFormats.PropsData.Builder">builder</a>.<a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.propsProto.$anonfun.x$1" title="(x$1: String)akka.remote.WireFormats.PropsData.Builder">addClasses</a>
        <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.propsProto.builder" title="akka.remote.WireFormats.PropsData.Builder">builder</a>.<span title="()akka.remote.WireFormats.PropsData">build</span>
      <span class="delimiter">}</span>

      <span title="akka.remote.WireFormats.DaemonMsgCreateData.type">DaemonMsgCreateData</span>.<span title="()akka.remote.WireFormats.DaemonMsgCreateData.Builder">newBuilder</span>.
        <span title="(x$1: akka.remote.WireFormats.PropsData)akka.remote.WireFormats.DaemonMsgCreateData.Builder">setProps</span><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.propsProto" title="=&gt; akka.remote.WireFormats.PropsData">propsProto</a><span class="delimiter">)</span>.
        <span title="(x$1: akka.remote.WireFormats.DeployData)akka.remote.WireFormats.DaemonMsgCreateData.Builder">setDeploy</span><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.deployProto" title="(d: akka.actor.Deploy)akka.remote.WireFormats.DeployData">deployProto</a><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.deploy" title="akka.actor.Deploy">deploy</a><span class="delimiter">)</span><span class="delimiter">)</span>.
        <span title="(x$1: String)akka.remote.WireFormats.DaemonMsgCreateData.Builder">setPath</span><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.path" title="String">path</a><span class="delimiter">)</span>.
        <span title="(x$1: akka.remote.WireFormats.ActorRefData)akka.remote.WireFormats.DaemonMsgCreateData.Builder">setSupervisor</span><span class="delimiter">(</span><a href="ProtobufSerializer.scala.html#akka.remote.serialization.ProtobufSerializer.serializeActorRef" title="(ref: akka.actor.ActorRef)akka.remote.WireFormats.ActorRefData">serializeActorRef</a><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.supervisor" title="akka.actor.ActorRef">supervisor</a><span class="delimiter">)</span><span class="delimiter">)</span>.
        <span title="()akka.remote.WireFormats.DaemonMsgCreateData">build</span>.<span title="()Array[Byte]">toByteArray</span>

    <span class="keyword">case</span> _ ⇒
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalArgumentException" class="keyword">new</span> <span title="IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span>
        <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Can't serialize a non-DaemonMsgCreate message using DaemonMsgCreateSerializer [%s]&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.toBinary.obj" title="AnyRef">obj</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(bytes: Array[Byte], clazz: Option[Class[_]])AnyRef" id="akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab)">fromBinary</a><span class="delimiter">(</span><a title="Array[Byte]" id="akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).bytes">bytes</a>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span>, <a title="Option[Class[_]]" id="akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).clazz">clazz</a>: <span title="Option[Class[_]]">Option</span><span class="delimiter">[</span>Class<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="AnyRef">AnyRef</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="akka.remote.WireFormats.DaemonMsgCreateData" id="akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).proto">proto</a> = <span title="akka.remote.WireFormats.DaemonMsgCreateData.type">DaemonMsgCreateData</span>.<span title="(x$1: Array[Byte])akka.remote.WireFormats.DaemonMsgCreateData">parseFrom</span><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).bytes" title="Array[Byte]">bytes</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(protoDeploy: akka.remote.WireFormats.DeployData)akka.actor.Deploy" id="akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).deploy">deploy</a><span class="delimiter">(</span><a title="akka.remote.WireFormats.DeployData" id="akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).deploy.protoDeploy">protoDeploy</a>: <span title="akka.remote.WireFormats.DeployData">DeployData</span><span class="delimiter">)</span>: <a href="../../../akka-actor/actor/Deployer.scala.html#akka.actor;Deploy" title="akka.actor.Deploy">Deploy</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="com.typesafe.config.Config" id="akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).deploy.config">config</a> =
        <span title="com.typesafe.config.Config" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).deploy.protoDeploy" title="akka.remote.WireFormats.DeployData">protoDeploy</a>.<span title="()Boolean">hasConfig</span><span class="delimiter">)</span> <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.deserialize" title="(data: com.google.protobuf.ByteString, clazz: Class[com.typesafe.config.Config])(implicit evidence$1: scala.reflect.ClassTag[com.typesafe.config.Config])com.typesafe.config.Config">deserialize</a><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[com.typesafe.config.Config]" class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).deploy.protoDeploy" title="akka.remote.WireFormats.DeployData">protoDeploy</a>.<span title="()com.google.protobuf.ByteString">getConfig</span>, classOf<span title="Class[com.typesafe.config.Config](classOf[com.typesafe.config.Config])" class="delimiter">[</span>Config<span class="delimiter">]</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="com.typesafe.config.ConfigFactory.type">ConfigFactory</span>.<span title="()com.typesafe.config.Config">empty</span>
      <span class="keyword">val</span> <a title="akka.routing.RouterConfig" id="akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).deploy.routerConfig">routerConfig</a> =
        <span title="akka.routing.RouterConfig" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).deploy.protoDeploy" title="akka.remote.WireFormats.DeployData">protoDeploy</a>.<span title="()Boolean">hasRouterConfig</span><span class="delimiter">)</span> <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.deserialize" title="(data: com.google.protobuf.ByteString, clazz: Class[akka.routing.RouterConfig])(implicit evidence$1: scala.reflect.ClassTag[akka.routing.RouterConfig])akka.routing.RouterConfig">deserialize</a><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[akka.routing.RouterConfig]" class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).deploy.protoDeploy" title="akka.remote.WireFormats.DeployData">protoDeploy</a>.<span title="()com.google.protobuf.ByteString">getRouterConfig</span>, classOf<span title="Class[akka.routing.RouterConfig](classOf[akka.routing.RouterConfig])" class="delimiter">[</span>RouterConfig<span class="delimiter">]</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="../../../akka-actor/routing/RouterConfig.scala.html#akka.routing.NoRouter" title="akka.routing.NoRouter.type">NoRouter</a>
      <span class="keyword">val</span> <a title="akka.actor.Scope" id="akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).deploy.scope">scope</a> =
        <span title="akka.actor.Scope" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).deploy.protoDeploy" title="akka.remote.WireFormats.DeployData">protoDeploy</a>.<span title="()Boolean">hasScope</span><span class="delimiter">)</span> <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.deserialize" title="(data: com.google.protobuf.ByteString, clazz: Class[akka.actor.Scope])(implicit evidence$1: scala.reflect.ClassTag[akka.actor.Scope])akka.actor.Scope">deserialize</a><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[akka.actor.Scope]" class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).deploy.protoDeploy" title="akka.remote.WireFormats.DeployData">protoDeploy</a>.<span title="()com.google.protobuf.ByteString">getScope</span>, classOf<span title="Class[akka.actor.Scope](classOf[akka.actor.Scope])" class="delimiter">[</span>Scope<span class="delimiter">]</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="../../../akka-actor/actor/Deployer.scala.html#akka.actor.NoScopeGiven" title="akka.actor.NoScopeGiven.type">NoScopeGiven</a>
      <span class="keyword">val</span> <a title="String" id="akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).deploy.dispatcher">dispatcher</a> =
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).deploy.protoDeploy" title="akka.remote.WireFormats.DeployData">protoDeploy</a>.<span title="()Boolean">hasDispatcher</span><span class="delimiter">)</span> <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).deploy.protoDeploy" title="akka.remote.WireFormats.DeployData">protoDeploy</a>.<span title="()String">getDispatcher</span>
        <span class="keyword">else</span> <span title="String(&quot;&quot;)">NoDispatcherGiven</span>
      <a href="../../../akka-actor/actor/Deployer.scala.html#akka.actor;Deploy" title="(path: String, config: com.typesafe.config.Config, routerConfig: akka.routing.RouterConfig, scope: akka.actor.Scope, dispatcher: String, mailbox: String)akka.actor.Deploy">Deploy</a><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).deploy.protoDeploy" title="akka.remote.WireFormats.DeployData">protoDeploy</a>.<span title="()String">getPath</span>, <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).deploy.config" title="com.typesafe.config.Config">config</a>, <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).deploy.routerConfig" title="akka.routing.RouterConfig">routerConfig</a>, <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).deploy.scope" title="akka.actor.Scope">scope</a>, <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).deploy.dispatcher" title="String">dispatcher</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; akka.actor.Props" id="akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).props">props</a> = <span class="delimiter">{</span>
      <span class="keyword">import</span> scala.collection.<span title="scala.collection.JavaConverters.type">JavaConverters</span>._
      <span class="keyword">val</span> <a title="Class[_ &lt;: AnyRef]" id="akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).props.clazz">clazz</a> = <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a>.<a href="../../../akka-actor/actor/ActorSystem.scala.html#akka.actor;ExtendedActorSystem.dynamicAccess" title="=&gt; akka.actor.DynamicAccess">dynamicAccess</a>.<a href="../../../akka-actor/actor/DynamicAccess.scala.html#akka.actor;DynamicAccess.getClassFor" title="[T](fqcn: String)(implicit evidence$2: scala.reflect.ClassTag[T])scala.util.Try[Class[_ &lt;: T]]">getClassFor</a><span title="(fqcn: String)(implicit evidence$2: scala.reflect.ClassTag[AnyRef])scala.util.Try[Class[_ &lt;: AnyRef]]" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span><span title="=&gt; scala.reflect.ClassTag[AnyRef]" class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).proto" title="akka.remote.WireFormats.DaemonMsgCreateData">proto</a>.<span title="()akka.remote.WireFormats.PropsData">getProps</span>.<span title="()String">getClazz</span><span class="delimiter">)</span>.<span title="=&gt; Class[_ &lt;: AnyRef]">get</span>
      <span class="keyword">val</span> <a title="Vector[AnyRef]" id="akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).props.args">args</a>: <span title="Vector[AnyRef]">Vector</span><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span> = <span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).proto" title="akka.remote.WireFormats.DaemonMsgCreateData">proto</a>.<span title="()akka.remote.WireFormats.PropsData">getProps</span>.<span title="(l: java.util.List[com.google.protobuf.ByteString])scala.collection.convert.Decorators.AsScala[scala.collection.mutable.Buffer[com.google.protobuf.ByteString]]">getArgsList</span>.<span title="=&gt; scala.collection.mutable.Buffer[com.google.protobuf.ByteString]">asScala</span> <span title="(that: scala.collection.GenIterable[String])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.Buffer[com.google.protobuf.ByteString],(com.google.protobuf.ByteString, String),scala.collection.mutable.Buffer[(com.google.protobuf.ByteString, String)]])scala.collection.mutable.Buffer[(com.google.protobuf.ByteString, String)]">zip</span> <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).proto" title="akka.remote.WireFormats.DaemonMsgCreateData">proto</a>.<span title="()akka.remote.WireFormats.PropsData">getProps</span>.<span title="(l: java.util.List[String])scala.collection.convert.Decorators.AsScala[scala.collection.mutable.Buffer[String]]">getClassesList</span>.<span title="=&gt; scala.collection.mutable.Buffer[String]">asScala</span><span class="delimiter">)</span>
        .<span title="(f: ((com.google.protobuf.ByteString, String)) =&gt; AnyRef)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.Buffer[(com.google.protobuf.ByteString, String)],AnyRef,Vector[AnyRef]])Vector[AnyRef]">map</span><span class="delimiter">(</span><a title="(com.google.protobuf.ByteString, String)" id="akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).props.args.$anonfun.p">p</a> ⇒ <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.deserialize" title="(data: com.google.protobuf.ByteString, clazz: Class[_$3])(implicit evidence$1: scala.reflect.ClassTag[_$3])_$3">deserialize</a><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[_$3]" class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).props.args.$anonfun.p" title="(com.google.protobuf.ByteString, String)">p</a>.<span title="=&gt; com.google.protobuf.ByteString">_1</span>, <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a>.<a href="../../../akka-actor/actor/ActorSystem.scala.html#akka.actor;ExtendedActorSystem.dynamicAccess" title="=&gt; akka.actor.DynamicAccess">dynamicAccess</a>.<a href="../../../akka-actor/actor/DynamicAccess.scala.html#akka.actor;DynamicAccess.getClassFor" title="[T](fqcn: String)(implicit evidence$2: scala.reflect.ClassTag[T])scala.util.Try[Class[_ &lt;: T]]">getClassFor</a><span title="(fqcn: String)(implicit evidence$2: scala.reflect.ClassTag[AnyRef])scala.util.Try[Class[_ &lt;: AnyRef]]" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span><span title="=&gt; scala.reflect.ClassTag[AnyRef]" class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).props.args.$anonfun.p" title="(com.google.protobuf.ByteString, String)">p</a>.<span title="=&gt; String">_2</span><span class="delimiter">)</span>.<span title="=&gt; Class[_ &lt;: AnyRef]">get</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span>collection.<span title="(implicit b: scala.collection.generic.CanBuildFrom[Nothing,AnyRef,Vector[AnyRef]])scala.collection.generic.CanBuildFrom[scala.collection.mutable.Buffer[(com.google.protobuf.ByteString, String)],AnyRef,Vector[AnyRef]]">breakOut</span><span class="delimiter">)</span>
      <a href="../../../akka-actor/actor/Props.scala.html#akka.actor;Props" title="(deploy: akka.actor.Deploy, clazz: Class[_], args: scala.collection.immutable.Seq[Any])akka.actor.Props">Props</a><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).deploy" title="(protoDeploy: akka.remote.WireFormats.DeployData)akka.actor.Deploy">deploy</a><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).proto" title="akka.remote.WireFormats.DaemonMsgCreateData">proto</a>.<span title="()akka.remote.WireFormats.PropsData">getProps</span>.<span title="()akka.remote.WireFormats.DeployData">getDeploy</span><span class="delimiter">)</span>, <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).props.clazz" title="Class[_ &lt;: AnyRef]">clazz</a>, <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).props.args" title="Vector[AnyRef]">args</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="../RemoteDaemon.scala.html#akka.remote;DaemonMsgCreate" title="(props: akka.actor.Props, deploy: akka.actor.Deploy, path: String, supervisor: akka.actor.ActorRef)akka.remote.DaemonMsgCreate">DaemonMsgCreate</a><span class="delimiter">(</span>
      props = <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).props" title="=&gt; akka.actor.Props">props</a>,
      deploy = <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).deploy" title="(protoDeploy: akka.remote.WireFormats.DeployData)akka.actor.Deploy">deploy</a><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).proto" title="akka.remote.WireFormats.DaemonMsgCreateData">proto</a>.<span title="()akka.remote.WireFormats.DeployData">getDeploy</span><span class="delimiter">)</span>,
      path = <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).proto" title="akka.remote.WireFormats.DaemonMsgCreateData">proto</a>.<span title="()String">getPath</span>,
      supervisor = <a href="ProtobufSerializer.scala.html#akka.remote.serialization.ProtobufSerializer.deserializeActorRef" title="(system: akka.actor.ExtendedActorSystem, refProtocol: akka.remote.WireFormats.ActorRefData)akka.actor.ActorRef">deserializeActorRef</a><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a>, <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.fromBinary(8129ec8dab).proto" title="akka.remote.WireFormats.DaemonMsgCreateData">proto</a>.<span title="()akka.remote.WireFormats.ActorRefData">getSupervisor</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(any: Any)com.google.protobuf.ByteString" id="akka.remote.serialization;DaemonMsgCreateSerializer.serialize">serialize</a><span class="delimiter">(</span><a title="Any" id="akka.remote.serialization;DaemonMsgCreateSerializer.serialize.any">any</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="com.google.protobuf.ByteString">ByteString</span> = <span title="com.google.protobuf.ByteString.type">ByteString</span>.<span title="(x$1: Array[Byte])com.google.protobuf.ByteString">copyFrom</span><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.serialization" title="=&gt; akka.serialization.Serialization">serialization</a>.<a href="../../../akka-actor/serialization/Serialization.scala.html#akka.serialization;Serialization.serialize" title="(o: AnyRef)scala.util.Try[Array[Byte]]">serialize</a><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.serialize.any" title="Any">any</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span><span class="delimiter">)</span>.<span title="=&gt; Array[Byte]">get</span><span class="delimiter">)</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="[T](data: com.google.protobuf.ByteString, clazz: Class[T])(implicit evidence$1: scala.reflect.ClassTag[T])T" id="akka.remote.serialization;DaemonMsgCreateSerializer.deserialize">deserialize</a><span class="delimiter">[</span><a title="" id="akka.remote.serialization;DaemonMsgCreateSerializer.deserialize;T">T</a>: ClassTag<span class="delimiter">]</span><span class="delimiter">(</span><a title="com.google.protobuf.ByteString" id="akka.remote.serialization;DaemonMsgCreateSerializer.deserialize.data">data</a>: <span title="com.google.protobuf.ByteString">ByteString</span>, <a title="Class[T]" id="akka.remote.serialization;DaemonMsgCreateSerializer.deserialize.clazz">clazz</a>: <span title="Class[T]">Class</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.deserialize;T" title="T">T</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Array[Byte]" id="akka.remote.serialization;DaemonMsgCreateSerializer.deserialize.bytes">bytes</a> = <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.deserialize.data" title="com.google.protobuf.ByteString">data</a>.<span title="()Array[Byte]">toByteArray</span>
    <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.serialization" title="=&gt; akka.serialization.Serialization">serialization</a>.<a href="../../../akka-actor/serialization/Serialization.scala.html#akka.serialization;Serialization.deserialize(2392165273)" title="(bytes: Array[Byte], clazz: Class[T])scala.util.Try[T]">deserialize</a><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.deserialize.bytes" title="Array[Byte]">bytes</a>, <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.deserialize.clazz" title="Class[T]">clazz</a><span class="delimiter">)</span> <span title="T" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Success<span class="delimiter">(</span><span title="T">x</span>: <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.deserialize.evidence$1" title="(x: Any)Option[T]">T</a><span class="delimiter">)</span>  ⇒ <span title="T">x</span>
      <span class="keyword">case</span> Success<span class="delimiter">(</span><a title="T" id="akka.remote.serialization;DaemonMsgCreateSerializer.deserialize.other">other</a><span class="delimiter">)</span> ⇒ <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalArgumentException" class="keyword">new</span> <span title="IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Can't deserialize to [%s], got [%s]&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.deserialize.clazz" title="Class[T]">clazz</a>.<span title="()String">getName</span>, <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.deserialize.other" title="T">other</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> Failure<span class="delimiter">(</span><a title="Throwable" id="akka.remote.serialization;DaemonMsgCreateSerializer.deserialize.e">e</a><span class="delimiter">)</span> ⇒
        <span class="comment">// Fallback to the java serializer, because some interfaces don't implement java.io.Serializable,</span>
        <span class="comment">// but the impl instance does. This could be optimized by adding java serializers in reference.conf:</span>
        <span class="comment">// com.typesafe.config.Config</span>
        <span class="comment">// akka.routing.RouterConfig</span>
        <span class="comment">// akka.actor.Scope</span>
        <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.serialization" title="=&gt; akka.serialization.Serialization">serialization</a>.<a href="../../../akka-actor/serialization/Serialization.scala.html#akka.serialization;Serialization.deserialize(2392165273)" title="(bytes: Array[Byte], clazz: Class[java.io.Serializable])scala.util.Try[java.io.Serializable]">deserialize</a><span class="delimiter">(</span><a href="#akka.remote.serialization;DaemonMsgCreateSerializer.deserialize.bytes" title="Array[Byte]">bytes</a>, classOf<span title="Class[java.io.Serializable](classOf[java.io.Serializable])" class="delimiter">[</span>java.io.Serializable<span class="delimiter">]</span><span class="delimiter">)</span> <span title="T" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> Success<span class="delimiter">(</span><span title="T">x</span>: <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.deserialize.evidence$1" title="(x: Any)Option[T]">T</a><span class="delimiter">)</span> ⇒ <span title="T">x</span>
          <span class="keyword">case</span> _             ⇒ <span title="Nothing" class="keyword">throw</span> <a href="#akka.remote.serialization;DaemonMsgCreateSerializer.deserialize.e" title="Throwable">e</a> <span class="comment">// the first exception</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
