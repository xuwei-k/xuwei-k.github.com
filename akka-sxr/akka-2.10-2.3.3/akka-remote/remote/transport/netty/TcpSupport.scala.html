<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>akka-remote/remote/transport/netty/TcpSupport.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (C) 2009-2014 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
<span class="keyword">package</span> akka.remote.transport.netty

<span class="keyword">import</span> akka.actor.Address
<span class="keyword">import</span> akka.remote.transport.AssociationHandle
<span class="keyword">import</span> akka.remote.transport.<a href="../Transport.scala.html#akka.remote.transport.AssociationHandle" title="akka.remote.transport.AssociationHandle.type">AssociationHandle</a>.<span class="delimiter">{</span> HandleEvent, HandleEventListener, Disassociated, InboundPayload <span class="delimiter">}</span>
<span class="keyword">import</span> akka.remote.transport.<a href="../Transport.scala.html#akka.remote.transport.Transport" title="akka.remote.transport.Transport.type">Transport</a>.AssociationEventListener
<span class="keyword">import</span> akka.util.ByteString
<span class="keyword">import</span> java.net.InetSocketAddress
<span class="keyword">import</span> org.jboss.netty.buffer.<span class="delimiter">{</span> ChannelBuffers, ChannelBuffer <span class="delimiter">}</span>
<span class="keyword">import</span> org.jboss.netty.channel._
<span class="keyword">import</span> scala.concurrent.<span class="delimiter">{</span> Future, Promise <span class="delimiter">}</span>
<span class="keyword">import</span> scala.util.<span class="delimiter">{</span> Success, Failure <span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
<span class="keyword">private</span><span class="delimiter">[</span>remote<span class="delimiter">]</span> <span class="keyword">object</span> <a title="akka.remote.transport.netty.ChannelLocalActor.type" id="akka.remote.transport.netty.ChannelLocalActor">ChannelLocalActor</a> <a href="#akka.remote.transport.netty.ChannelLocalActor" title="akka.remote.transport.netty.ChannelLocalActor.type" class="keyword">extends</a> <span title="org.jboss.netty.channel.ChannelLocal[Option[akka.remote.transport.AssociationHandle.HandleEventListener]]">ChannelLocal</span><span class="delimiter">[</span>Option<span class="delimiter">[</span>HandleEventListener<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(channel: org.jboss.netty.channel.Channel)Option[akka.remote.transport.AssociationHandle.HandleEventListener]" id="akka.remote.transport.netty.ChannelLocalActor.initialValue">initialValue</a><span class="delimiter">(</span><a title="org.jboss.netty.channel.Channel" id="akka.remote.transport.netty.ChannelLocalActor.initialValue.channel">channel</a>: <span title="org.jboss.netty.channel.Channel">Channel</span><span class="delimiter">)</span>: <span title="Option[akka.remote.transport.AssociationHandle.HandleEventListener]">Option</span><span class="delimiter">[</span>HandleEventListener<span class="delimiter">]</span> = <span title="None.type">None</span>
  <span class="keyword">def</span> <a title="(channel: org.jboss.netty.channel.Channel, msg: akka.remote.transport.AssociationHandle.HandleEvent)Unit" id="akka.remote.transport.netty.ChannelLocalActor.notifyListener">notifyListener</a><span class="delimiter">(</span><a title="org.jboss.netty.channel.Channel" id="akka.remote.transport.netty.ChannelLocalActor.notifyListener.channel">channel</a>: <span title="org.jboss.netty.channel.Channel">Channel</span>, <a title="akka.remote.transport.AssociationHandle.HandleEvent" id="akka.remote.transport.netty.ChannelLocalActor.notifyListener.msg">msg</a>: <a href="../Transport.scala.html#akka.remote.transport.AssociationHandle;HandleEvent" title="akka.remote.transport.AssociationHandle.HandleEvent">HandleEvent</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span title="(x$1: org.jboss.netty.channel.Channel)Option[akka.remote.transport.AssociationHandle.HandleEventListener]">get</span><span class="delimiter">(</span><a href="#akka.remote.transport.netty.ChannelLocalActor.notifyListener.channel" title="org.jboss.netty.channel.Channel">channel</a><span class="delimiter">)</span> <span title="(f: akka.remote.transport.AssociationHandle.HandleEventListener =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a href="#akka.remote.transport.netty.ChannelLocalActor.notifyListener.$anonfun.x$1" title="akka.remote.transport.AssociationHandle.HandleEventListener">_</a> <a href="../Transport.scala.html#akka.remote.transport.AssociationHandle;HandleEventListener.notify(a3fa5b160e)" title="(ev: akka.remote.transport.AssociationHandle.HandleEvent)Unit">notify</a> <a href="#akka.remote.transport.netty.ChannelLocalActor.notifyListener.msg" title="akka.remote.transport.AssociationHandle.HandleEvent">msg</a> <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
<span class="keyword">private</span><span class="delimiter">[</span>remote<span class="delimiter">]</span> <span class="keyword">trait</span> <a title="trait TcpHandlers extends AnyRef with akka.remote.transport.netty.CommonHandlers" id="akka.remote.transport.netty;TcpHandlers">TcpHandlers</a> <span title="Unit" class="keyword">extends</span> <a href="NettyTransport.scala.html#akka.remote.transport.netty;CommonHandlers" title="akka.remote.transport.netty.CommonHandlers">CommonHandlers</a> <span class="delimiter">{</span>

  <span class="keyword">import</span> <a href="#akka.remote.transport.netty.ChannelLocalActor" title="akka.remote.transport.netty.ChannelLocalActor.type">ChannelLocalActor</a>._

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(channel: org.jboss.netty.channel.Channel, listener: akka.remote.transport.AssociationHandle.HandleEventListener, msg: org.jboss.netty.buffer.ChannelBuffer, remoteSocketAddress: java.net.InetSocketAddress)Unit" id="akka.remote.transport.netty;TcpHandlers.registerListener">registerListener</a><span class="delimiter">(</span><a title="org.jboss.netty.channel.Channel" id="akka.remote.transport.netty;TcpHandlers.registerListener.channel">channel</a>: <span title="org.jboss.netty.channel.Channel">Channel</span>,
                                <a title="akka.remote.transport.AssociationHandle.HandleEventListener" id="akka.remote.transport.netty;TcpHandlers.registerListener.listener">listener</a>: <a href="../Transport.scala.html#akka.remote.transport.AssociationHandle;HandleEventListener" title="akka.remote.transport.AssociationHandle.HandleEventListener">HandleEventListener</a>,
                                <a title="org.jboss.netty.buffer.ChannelBuffer" id="akka.remote.transport.netty;TcpHandlers.registerListener.msg">msg</a>: <span title="org.jboss.netty.buffer.ChannelBuffer">ChannelBuffer</span>,
                                <a title="java.net.InetSocketAddress" id="akka.remote.transport.netty;TcpHandlers.registerListener.remoteSocketAddress">remoteSocketAddress</a>: <span title="java.net.InetSocketAddress">InetSocketAddress</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.remote.transport.netty.ChannelLocalActor" title="akka.remote.transport.netty.ChannelLocalActor.type">ChannelLocalActor</a>.<span title="(x$1: org.jboss.netty.channel.Channel, x$2: Option[akka.remote.transport.AssociationHandle.HandleEventListener])Option[akka.remote.transport.AssociationHandle.HandleEventListener]">set</span><span title="Unit" class="delimiter">(</span><a href="#akka.remote.transport.netty;TcpHandlers.registerListener.channel" title="org.jboss.netty.channel.Channel">channel</a>, <span title="(x: akka.remote.transport.AssociationHandle.HandleEventListener)Some[akka.remote.transport.AssociationHandle.HandleEventListener]">Some</span><span class="delimiter">(</span><a href="#akka.remote.transport.netty;TcpHandlers.registerListener.listener" title="akka.remote.transport.AssociationHandle.HandleEventListener">listener</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(channel: org.jboss.netty.channel.Channel, localAddress: akka.actor.Address, remoteAddress: akka.actor.Address)akka.remote.transport.AssociationHandle" id="akka.remote.transport.netty;TcpHandlers.createHandle">createHandle</a><span class="delimiter">(</span><a title="org.jboss.netty.channel.Channel" id="akka.remote.transport.netty;TcpHandlers.createHandle.channel">channel</a>: <span title="org.jboss.netty.channel.Channel">Channel</span>, <a title="akka.actor.Address" id="akka.remote.transport.netty;TcpHandlers.createHandle.localAddress">localAddress</a>: <a href="../../../../akka-actor/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a>, <a title="akka.actor.Address" id="akka.remote.transport.netty;TcpHandlers.createHandle.remoteAddress">remoteAddress</a>: <a href="../../../../akka-actor/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a><span class="delimiter">)</span>: <a href="../Transport.scala.html#akka.remote.transport;AssociationHandle" title="akka.remote.transport.AssociationHandle">AssociationHandle</a> =
    <span title="akka.remote.transport.netty.TcpAssociationHandle" class="keyword">new</span> <a href="#akka.remote.transport.netty;TcpAssociationHandle" title="akka.remote.transport.netty.TcpAssociationHandle">TcpAssociationHandle</a><span class="delimiter">(</span><a href="#akka.remote.transport.netty;TcpHandlers.createHandle.localAddress" title="akka.actor.Address">localAddress</a>, <a href="#akka.remote.transport.netty;TcpHandlers.createHandle.remoteAddress" title="akka.actor.Address">remoteAddress</a>, <a href="NettyTransport.scala.html#akka.remote.transport.netty;CommonHandlers.transport" title="=&gt; akka.remote.transport.netty.NettyTransport">transport</a>, <a href="#akka.remote.transport.netty;TcpHandlers.createHandle.channel" title="org.jboss.netty.channel.Channel">channel</a><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(ctx: org.jboss.netty.channel.ChannelHandlerContext, e: org.jboss.netty.channel.ChannelStateEvent)Unit" id="akka.remote.transport.netty;TcpHandlers.onDisconnect">onDisconnect</a><span class="delimiter">(</span><a title="org.jboss.netty.channel.ChannelHandlerContext" id="akka.remote.transport.netty;TcpHandlers.onDisconnect.ctx">ctx</a>: <span title="org.jboss.netty.channel.ChannelHandlerContext">ChannelHandlerContext</span>, <a title="org.jboss.netty.channel.ChannelStateEvent" id="akka.remote.transport.netty;TcpHandlers.onDisconnect.e">e</a>: <span title="org.jboss.netty.channel.ChannelStateEvent">ChannelStateEvent</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#akka.remote.transport.netty.ChannelLocalActor.notifyListener" title="(channel: org.jboss.netty.channel.Channel, msg: akka.remote.transport.AssociationHandle.HandleEvent)Unit">notifyListener</a><span class="delimiter">(</span><a href="#akka.remote.transport.netty;TcpHandlers.onDisconnect.e" title="org.jboss.netty.channel.ChannelStateEvent">e</a>.<span title="()org.jboss.netty.channel.Channel">getChannel</span>, <a href="../Transport.scala.html#akka.remote.transport.AssociationHandle;Disassociated" title="(info: akka.remote.transport.AssociationHandle.DisassociateInfo)akka.remote.transport.AssociationHandle.Disassociated">Disassociated</a><span class="delimiter">(</span><a href="../Transport.scala.html#akka.remote.transport.AssociationHandle" title="akka.remote.transport.AssociationHandle.type">AssociationHandle</a>.<a href="../Transport.scala.html#akka.remote.transport.AssociationHandle.Unknown" title="akka.remote.transport.AssociationHandle.Unknown.type">Unknown</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(ctx: org.jboss.netty.channel.ChannelHandlerContext, e: org.jboss.netty.channel.MessageEvent)Unit" id="akka.remote.transport.netty;TcpHandlers.onMessage">onMessage</a><span class="delimiter">(</span><a title="org.jboss.netty.channel.ChannelHandlerContext" id="akka.remote.transport.netty;TcpHandlers.onMessage.ctx">ctx</a>: <span title="org.jboss.netty.channel.ChannelHandlerContext">ChannelHandlerContext</span>, <a title="org.jboss.netty.channel.MessageEvent" id="akka.remote.transport.netty;TcpHandlers.onMessage.e">e</a>: <span title="org.jboss.netty.channel.MessageEvent">MessageEvent</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Array[Byte]" id="akka.remote.transport.netty;TcpHandlers.onMessage.bytes">bytes</a>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span> = <a href="#akka.remote.transport.netty;TcpHandlers.onMessage.e" title="org.jboss.netty.channel.MessageEvent">e</a>.<span title="()Object">getMessage</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.jboss.netty.buffer.ChannelBuffer" class="delimiter">[</span><span title="org.jboss.netty.buffer.ChannelBuffer">ChannelBuffer</span><span class="delimiter">]</span>.<span title="()Array[Byte]">array</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.remote.transport.netty;TcpHandlers.onMessage.bytes" title="Array[Byte]">bytes</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#akka.remote.transport.netty.ChannelLocalActor.notifyListener" title="(channel: org.jboss.netty.channel.Channel, msg: akka.remote.transport.AssociationHandle.HandleEvent)Unit">notifyListener</a><span class="delimiter">(</span><a href="#akka.remote.transport.netty;TcpHandlers.onMessage.e" title="org.jboss.netty.channel.MessageEvent">e</a>.<span title="()org.jboss.netty.channel.Channel">getChannel</span>, <a href="../Transport.scala.html#akka.remote.transport.AssociationHandle;InboundPayload" title="(payload: akka.util.ByteString)akka.remote.transport.AssociationHandle.InboundPayload">InboundPayload</a><span class="delimiter">(</span><a href="../../../../akka-actor/util/ByteString.scala.html#akka.util.ByteString.apply(a619a7682d)" title="(bytes: Array[Byte])akka.util.ByteString">ByteString</a><span class="delimiter">(</span><a href="#akka.remote.transport.netty;TcpHandlers.onMessage.bytes" title="Array[Byte]">bytes</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(ctx: org.jboss.netty.channel.ChannelHandlerContext, e: org.jboss.netty.channel.ExceptionEvent)Unit" id="akka.remote.transport.netty;TcpHandlers.onException">onException</a><span class="delimiter">(</span><a title="org.jboss.netty.channel.ChannelHandlerContext" id="akka.remote.transport.netty;TcpHandlers.onException.ctx">ctx</a>: <span title="org.jboss.netty.channel.ChannelHandlerContext">ChannelHandlerContext</span>, <a title="org.jboss.netty.channel.ExceptionEvent" id="akka.remote.transport.netty;TcpHandlers.onException.e">e</a>: <span title="org.jboss.netty.channel.ExceptionEvent">ExceptionEvent</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#akka.remote.transport.netty.ChannelLocalActor.notifyListener" title="(channel: org.jboss.netty.channel.Channel, msg: akka.remote.transport.AssociationHandle.HandleEvent)Unit">notifyListener</a><span class="delimiter">(</span><a href="#akka.remote.transport.netty;TcpHandlers.onException.e" title="org.jboss.netty.channel.ExceptionEvent">e</a>.<span title="()org.jboss.netty.channel.Channel">getChannel</span>, <a href="../Transport.scala.html#akka.remote.transport.AssociationHandle;Disassociated" title="(info: akka.remote.transport.AssociationHandle.DisassociateInfo)akka.remote.transport.AssociationHandle.Disassociated">Disassociated</a><span class="delimiter">(</span><a href="../Transport.scala.html#akka.remote.transport.AssociationHandle" title="akka.remote.transport.AssociationHandle.type">AssociationHandle</a>.<a href="../Transport.scala.html#akka.remote.transport.AssociationHandle.Unknown" title="akka.remote.transport.AssociationHandle.Unknown.type">Unknown</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#akka.remote.transport.netty;TcpHandlers.onException.e" title="org.jboss.netty.channel.ExceptionEvent">e</a>.<span title="()org.jboss.netty.channel.Channel">getChannel</span>.<span title="()org.jboss.netty.channel.ChannelFuture">close</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span> <span class="comment">// No graceful close here</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
<span class="keyword">private</span><span class="delimiter">[</span>remote<span class="delimiter">]</span> <span class="keyword">class</span> <a title="class TcpServerHandler extends akka.remote.transport.netty.ServerHandler with akka.remote.transport.netty.TcpHandlers" id="akka.remote.transport.netty;TcpServerHandler">TcpServerHandler</a><a href="#akka.remote.transport.netty;TcpServerHandler" title="akka.remote.transport.netty.TcpServerHandler" class="delimiter">(</a><a title="akka.remote.transport.netty.NettyTransport" id="akka.remote.transport.netty;TcpServerHandler._transport">_transport</a>: <a href="NettyTransport.scala.html#akka.remote.transport.netty;NettyTransport" title="akka.remote.transport.netty.NettyTransport">NettyTransport</a>, <a title="scala.concurrent.Future[akka.remote.transport.Transport.AssociationEventListener]" id="akka.remote.transport.netty;TcpServerHandler._associationListenerFuture">_associationListenerFuture</a>: <span title="scala.concurrent.Future[akka.remote.transport.Transport.AssociationEventListener]">Future</span><span class="delimiter">[</span>AssociationEventListener<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="NettyTransport.scala.html#akka.remote.transport.netty;ServerHandler" title="akka.remote.transport.netty.ServerHandler">ServerHandler</a><span class="delimiter">(</span><a href="#akka.remote.transport.netty;TcpServerHandler._transport" title="akka.remote.transport.netty.NettyTransport">_transport</a>, <a href="#akka.remote.transport.netty;TcpServerHandler._associationListenerFuture" title="scala.concurrent.Future[akka.remote.transport.Transport.AssociationEventListener]">_associationListenerFuture</a><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#akka.remote.transport.netty;TcpHandlers" title="akka.remote.transport.netty.TcpHandlers">TcpHandlers</a> <span class="delimiter">{</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(ctx: org.jboss.netty.channel.ChannelHandlerContext, e: org.jboss.netty.channel.ChannelStateEvent)Unit" id="akka.remote.transport.netty;TcpServerHandler.onConnect">onConnect</a><span class="delimiter">(</span><a title="org.jboss.netty.channel.ChannelHandlerContext" id="akka.remote.transport.netty;TcpServerHandler.onConnect.ctx">ctx</a>: <span title="org.jboss.netty.channel.ChannelHandlerContext">ChannelHandlerContext</span>, <a title="org.jboss.netty.channel.ChannelStateEvent" id="akka.remote.transport.netty;TcpServerHandler.onConnect.e">e</a>: <span title="org.jboss.netty.channel.ChannelStateEvent">ChannelStateEvent</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="NettyTransport.scala.html#akka.remote.transport.netty;ServerHandler.initInbound" title="(channel: org.jboss.netty.channel.Channel, remoteSocketAddress: java.net.SocketAddress, msg: org.jboss.netty.buffer.ChannelBuffer)Unit">initInbound</a><span class="delimiter">(</span><a href="#akka.remote.transport.netty;TcpServerHandler.onConnect.e" title="org.jboss.netty.channel.ChannelStateEvent">e</a>.<span title="()org.jboss.netty.channel.Channel">getChannel</span>, <a href="#akka.remote.transport.netty;TcpServerHandler.onConnect.e" title="org.jboss.netty.channel.ChannelStateEvent">e</a>.<span title="()org.jboss.netty.channel.Channel">getChannel</span>.<span title="()java.net.SocketAddress">getRemoteAddress</span>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
<span class="keyword">private</span><span class="delimiter">[</span>remote<span class="delimiter">]</span> <span class="keyword">class</span> <a title="class TcpClientHandler extends akka.remote.transport.netty.ClientHandler with akka.remote.transport.netty.TcpHandlers" id="akka.remote.transport.netty;TcpClientHandler">TcpClientHandler</a><a href="#akka.remote.transport.netty;TcpClientHandler" title="akka.remote.transport.netty.TcpClientHandler" class="delimiter">(</a><a title="akka.remote.transport.netty.NettyTransport" id="akka.remote.transport.netty;TcpClientHandler._transport">_transport</a>: <a href="NettyTransport.scala.html#akka.remote.transport.netty;NettyTransport" title="akka.remote.transport.netty.NettyTransport">NettyTransport</a>, <a title="akka.actor.Address" id="akka.remote.transport.netty;TcpClientHandler.remoteAddress">remoteAddress</a>: <a href="../../../../akka-actor/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="NettyTransport.scala.html#akka.remote.transport.netty;ClientHandler" title="akka.remote.transport.netty.ClientHandler">ClientHandler</a><span class="delimiter">(</span><a href="#akka.remote.transport.netty;TcpClientHandler._transport" title="akka.remote.transport.netty.NettyTransport">_transport</a>, <a href="#akka.remote.transport.netty;TcpClientHandler.remoteAddress" title="akka.actor.Address">remoteAddress</a><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#akka.remote.transport.netty;TcpHandlers" title="akka.remote.transport.netty.TcpHandlers">TcpHandlers</a> <span class="delimiter">{</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(ctx: org.jboss.netty.channel.ChannelHandlerContext, e: org.jboss.netty.channel.ChannelStateEvent)Unit" id="akka.remote.transport.netty;TcpClientHandler.onConnect">onConnect</a><span class="delimiter">(</span><a title="org.jboss.netty.channel.ChannelHandlerContext" id="akka.remote.transport.netty;TcpClientHandler.onConnect.ctx">ctx</a>: <span title="org.jboss.netty.channel.ChannelHandlerContext">ChannelHandlerContext</span>, <a title="org.jboss.netty.channel.ChannelStateEvent" id="akka.remote.transport.netty;TcpClientHandler.onConnect.e">e</a>: <span title="org.jboss.netty.channel.ChannelStateEvent">ChannelStateEvent</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="NettyTransport.scala.html#akka.remote.transport.netty;ClientHandler.initOutbound" title="(channel: org.jboss.netty.channel.Channel, remoteSocketAddress: java.net.SocketAddress, msg: org.jboss.netty.buffer.ChannelBuffer)Unit">initOutbound</a><span class="delimiter">(</span><a href="#akka.remote.transport.netty;TcpClientHandler.onConnect.e" title="org.jboss.netty.channel.ChannelStateEvent">e</a>.<span title="()org.jboss.netty.channel.Channel">getChannel</span>, <a href="#akka.remote.transport.netty;TcpClientHandler.onConnect.e" title="org.jboss.netty.channel.ChannelStateEvent">e</a>.<span title="()org.jboss.netty.channel.Channel">getChannel</span>.<span title="()java.net.SocketAddress">getRemoteAddress</span>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
<span class="keyword">private</span><span class="delimiter">[</span>remote<span class="delimiter">]</span> <span class="keyword">class</span> <a title="class TcpAssociationHandle extends AnyRef with akka.remote.transport.AssociationHandle" id="akka.remote.transport.netty;TcpAssociationHandle">TcpAssociationHandle</a><a href="#akka.remote.transport.netty;TcpAssociationHandle" title="akka.remote.transport.netty.TcpAssociationHandle" class="delimiter">(</a><span class="keyword">val</span> <a title="akka.actor.Address" id="akka.remote.transport.netty;TcpAssociationHandle.localAddress">localAddress</a>: <a href="../../../../akka-actor/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a>,
                                           <span class="keyword">val</span> <a title="akka.actor.Address" id="akka.remote.transport.netty;TcpAssociationHandle.remoteAddress">remoteAddress</a>: <a href="../../../../akka-actor/actor/Address.scala.html#akka.actor;Address" title="akka.actor.Address">Address</a>,
                                           <span class="keyword">val</span> <a title="akka.remote.transport.netty.NettyTransport" id="akka.remote.transport.netty;TcpAssociationHandle.transport">transport</a>: <a href="NettyTransport.scala.html#akka.remote.transport.netty;NettyTransport" title="akka.remote.transport.netty.NettyTransport">NettyTransport</a>,
                                           <span class="keyword">private</span> <span class="keyword">val</span> <a title="org.jboss.netty.channel.Channel" id="akka.remote.transport.netty;TcpAssociationHandle.channel">channel</a>: <span title="org.jboss.netty.channel.Channel">Channel</span><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="../Transport.scala.html#akka.remote.transport;AssociationHandle" title="akka.remote.transport.AssociationHandle">AssociationHandle</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="#akka.remote.transport.netty;TcpAssociationHandle.transport" title="=&gt; akka.remote.transport.netty.NettyTransport">transport</a>.executionContext

  <span class="keyword">override</span> <span class="keyword">val</span> <a title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle.HandleEventListener]" id="akka.remote.transport.netty;TcpAssociationHandle.readHandlerPromise">readHandlerPromise</a>: <span title="scala.concurrent.Promise[akka.remote.transport.AssociationHandle.HandleEventListener]">Promise</span><span class="delimiter">[</span>HandleEventListener<span class="delimiter">]</span> = <span title="()scala.concurrent.Promise[akka.remote.transport.AssociationHandle.HandleEventListener]">Promise</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(payload: akka.util.ByteString)Boolean" id="akka.remote.transport.netty;TcpAssociationHandle.write">write</a><span class="delimiter">(</span><a title="akka.util.ByteString" id="akka.remote.transport.netty;TcpAssociationHandle.write.payload">payload</a>: <a href="../../../../akka-actor/util/ByteString.scala.html#akka.util;ByteString" title="akka.util.ByteString">ByteString</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.remote.transport.netty;TcpAssociationHandle.channel" title="=&gt; org.jboss.netty.channel.Channel">channel</a>.<span title="()Boolean">isWritable</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#akka.remote.transport.netty;TcpAssociationHandle.channel" title="=&gt; org.jboss.netty.channel.Channel">channel</a>.<span title="()Boolean">isOpen</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#akka.remote.transport.netty;TcpAssociationHandle.channel" title="=&gt; org.jboss.netty.channel.Channel">channel</a>.<span title="(x$1: Any)org.jboss.netty.channel.ChannelFuture">write</span><span class="delimiter">(</span><span title="org.jboss.netty.buffer.ChannelBuffers.type">ChannelBuffers</span>.<span title="(x$1: java.nio.ByteBuffer)org.jboss.netty.buffer.ChannelBuffer">wrappedBuffer</span><span class="delimiter">(</span><a href="#akka.remote.transport.netty;TcpAssociationHandle.write.payload" title="akka.util.ByteString">payload</a>.<a href="../../../../akka-actor/util/ByteString.scala.html#akka.util;ByteString.asByteBuffer" title="=&gt; java.nio.ByteBuffer">asByteBuffer</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="Boolean(true)" class="keyword">true</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Unit" id="akka.remote.transport.netty;TcpAssociationHandle.disassociate">disassociate</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="NettyTransport.scala.html#akka.remote.transport.netty.NettyTransport" title="akka.remote.transport.netty.NettyTransport.type">NettyTransport</a>.<a href="NettyTransport.scala.html#akka.remote.transport.netty.NettyTransport.gracefulClose" title="(channel: org.jboss.netty.channel.Channel)(implicit ec: scala.concurrent.ExecutionContext)Unit">gracefulClose</a><a href="NettyTransport.scala.html#akka.remote.transport.netty;NettyTransport.executionContext" title="=&gt; scala.concurrent.ExecutionContext" class="delimiter">(</a><a href="#akka.remote.transport.netty;TcpAssociationHandle.channel" title="=&gt; org.jboss.netty.channel.Channel">channel</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
