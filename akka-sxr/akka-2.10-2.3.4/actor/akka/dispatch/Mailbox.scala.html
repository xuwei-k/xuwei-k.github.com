<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>actor/akka/dispatch/Mailbox.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (C) 2009-2014 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
<span class="keyword">package</span> akka.dispatch

<span class="keyword">import</span> java.util.<span class="delimiter">{</span> Comparator, PriorityQueue, Queue, Deque <span class="delimiter">}</span>
<span class="keyword">import</span> java.util.concurrent._
<span class="keyword">import</span> akka.AkkaException
<span class="keyword">import</span> akka.dispatch.sysmsg._
<span class="keyword">import</span> akka.actor.<span class="delimiter">{</span> ActorCell, ActorRef, Cell, ActorSystem, InternalActorRef, DeadLetter <span class="delimiter">}</span>
<span class="keyword">import</span> akka.util.<span class="delimiter">{</span> Unsafe, BoundedBlockingQueue <span class="delimiter">}</span>
<span class="keyword">import</span> akka.util.<a href="../util/Helpers.scala.html#akka.util.Helpers" title="akka.util.Helpers.type">Helpers</a>.ConfigOps
<span class="keyword">import</span> akka.event.<a href="../event/Logging.scala.html#akka.event.Logging" title="akka.event.Logging.type">Logging</a>.Error
<span class="keyword">import</span> scala.concurrent.duration.Duration
<span class="keyword">import</span> scala.concurrent.duration.FiniteDuration
<span class="keyword">import</span> scala.annotation.tailrec
<span class="keyword">import</span> scala.util.control.NonFatal
<span class="keyword">import</span> com.typesafe.config.Config
<span class="comment">/**
 * INTERNAL API
 */</span>
<span class="keyword">private</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">object</span> <a title="akka.dispatch.Mailbox.type" id="akka.dispatch.Mailbox">Mailbox</a> <a href="#akka.dispatch.Mailbox" title="akka.dispatch.Mailbox.type" class="delimiter">{</a>

  <span class="keyword">type</span> <a title="Int" id="akka.dispatch.Mailbox;Status">Status</a> = <span title="Int">Int</span>

  <span class="comment">/*
   * The following assigned numbers CANNOT be changed without looking at the code which uses them!
   */</span>

  <span class="comment">// Primary status</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(0)" id="akka.dispatch.Mailbox.Open">Open</a> = <span title="Int(0)" class="int">0</span> <span class="comment">// _status is not initialized in AbstractMailbox, so default must be zero! Deliberately without type ascription to make it a compile-time constant</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(1)" id="akka.dispatch.Mailbox.Closed">Closed</a> = <span title="Int(1)" class="int">1</span> <span class="comment">// Deliberately without type ascription to make it a compile-time constant</span>
  <span class="comment">// Secondary status: Scheduled bit may be added to Open/Suspended</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(2)" id="akka.dispatch.Mailbox.Scheduled">Scheduled</a> = <span title="Int(2)" class="int">2</span> <span class="comment">// Deliberately without type ascription to make it a compile-time constant</span>
  <span class="comment">// Shifted by 2: the suspend count!</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(3)" id="akka.dispatch.Mailbox.shouldScheduleMask">shouldScheduleMask</a> = <span title="Int(3)" class="int">3</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int" id="akka.dispatch.Mailbox.shouldNotProcessMask">shouldNotProcessMask</a> = <span title="=&gt; Int">~</span><span title="Int(2)" class="int">2</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int" id="akka.dispatch.Mailbox.suspendMask">suspendMask</a> = <span title="=&gt; Int">~</span><span title="Int(3)" class="int">3</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(4)" id="akka.dispatch.Mailbox.suspendUnit">suspendUnit</a> = <span title="Int(4)" class="int">4</span>

  <span class="comment">// mailbox debugging helper using println (see below)</span>
  <span class="comment">// since this is a compile-time constant, scalac will elide code behind if (Mailbox.debug) (RK checked with 2.9.1)</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Boolean(false)" id="akka.dispatch.Mailbox.debug">debug</a> = <span title="Boolean(false)" class="keyword">false</span> <span class="comment">// Deliberately without type ascription to make it a compile-time constant</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Mailbox and InternalMailbox is separated in two classes because ActorCell is needed for implementation,
 * but can't be exposed to user defined mailbox subclasses.
 *
 * INTERNAL API
 */</span>
<span title="AnyRef" class="keyword">private</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Mailbox extends AnyRef with akka.dispatch.SystemMessageQueue with Runnable" id="akka.dispatch;Mailbox">Mailbox</a><a href="#akka.dispatch;Mailbox" title="akka.dispatch.Mailbox" class="delimiter">(</a><span class="keyword">val</span> <a title="akka.dispatch.MessageQueue" id="akka.dispatch;Mailbox.messageQueue">messageQueue</a>: <a href="#akka.dispatch;MessageQueue" title="akka.dispatch.MessageQueue">MessageQueue</a><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="#akka.dispatch;SystemMessageQueue" title="akka.dispatch.SystemMessageQueue">SystemMessageQueue</a> <span class="keyword">with</span> <span title="Runnable">Runnable</span> <span class="delimiter">{</span>

  <span class="keyword">import</span> <a href="#akka.dispatch.Mailbox" title="akka.dispatch.Mailbox.type">Mailbox</a>._

  <span class="comment">/*
   * This is needed for actually executing the mailbox, i.e. invoking the
   * ActorCell. There are situations (e.g. RepointableActorRef) where a Mailbox
   * is constructed but we know that we will not execute it, in which case this
   * will be null. It must be a var to support switching into an “active”
   * mailbox, should the owning ActorRef turn local.
   *
   * ANOTHER THING, IMPORTANT:
   *
   * actorCell.start() publishes actorCell &amp; self to the dispatcher, which
   * means that messages may be processed theoretically before self’s constructor
   * ends. The JMM guarantees visibility for final fields only after the end
   * of the constructor, so safe publication requires that THIS WRITE BELOW
   * stay as it is.
   */</span>
  @volatile
  <span class="keyword">var</span> <a title="akka.actor.ActorCell" id="akka.dispatch;Mailbox.actor_=">actor</a>: <a href="../actor/ActorCell.scala.html#akka.actor;ActorCell" title="akka.actor.ActorCell">ActorCell</a> = _
  <span class="keyword">def</span> <a title="(cell: akka.actor.ActorCell)Unit" id="akka.dispatch;Mailbox.setActor">setActor</a><span class="delimiter">(</span><a title="akka.actor.ActorCell" id="akka.dispatch;Mailbox.setActor.cell">cell</a>: <a href="../actor/ActorCell.scala.html#akka.actor;ActorCell" title="akka.actor.ActorCell">ActorCell</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.dispatch;Mailbox.actor_=" title="(x$1: akka.actor.ActorCell)Unit">actor</a> = <a href="#akka.dispatch;Mailbox.setActor.cell" title="akka.actor.ActorCell">cell</a>

  <span class="keyword">def</span> <a title="=&gt; akka.dispatch.MessageDispatcher" id="akka.dispatch;Mailbox.dispatcher">dispatcher</a>: <a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcher" title="akka.dispatch.MessageDispatcher">MessageDispatcher</a> = <a href="#akka.dispatch;Mailbox.actor_=" title="=&gt; akka.actor.ActorCell">actor</a>.<a href="../actor/ActorCell.scala.html#akka.actor;ActorCell.dispatcher" title="=&gt; akka.dispatch.MessageDispatcher">dispatcher</a>

  <span class="comment">/**
   * Try to enqueue the message to this queue, or throw an exception.
   */</span>
  <span class="keyword">def</span> <a title="(receiver: akka.actor.ActorRef, msg: akka.dispatch.Envelope)Unit" id="akka.dispatch;Mailbox.enqueue">enqueue</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.dispatch;Mailbox.enqueue.receiver">receiver</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="akka.dispatch.Envelope" id="akka.dispatch;Mailbox.enqueue.msg">msg</a>: <a href="AbstractDispatcher.scala.html#akka.dispatch;Envelope" title="akka.dispatch.Envelope">Envelope</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.dispatch;Mailbox.messageQueue" title="=&gt; akka.dispatch.MessageQueue">messageQueue</a>.<a href="#akka.dispatch;MessageQueue.enqueue" title="(receiver: akka.actor.ActorRef, handle: akka.dispatch.Envelope)Unit">enqueue</a><span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.enqueue.receiver" title="akka.actor.ActorRef">receiver</a>, <a href="#akka.dispatch;Mailbox.enqueue.msg" title="akka.dispatch.Envelope">msg</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Try to dequeue the next message from this queue, return null failing that.
   */</span>
  <span class="keyword">def</span> <a title="()akka.dispatch.Envelope" id="akka.dispatch;Mailbox.dequeue">dequeue</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="AbstractDispatcher.scala.html#akka.dispatch;Envelope" title="akka.dispatch.Envelope">Envelope</a> = <a href="#akka.dispatch;Mailbox.messageQueue" title="=&gt; akka.dispatch.MessageQueue">messageQueue</a>.<a href="#akka.dispatch;MessageQueue.dequeue" title="()akka.dispatch.Envelope">dequeue</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Indicates whether this queue is non-empty.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="akka.dispatch;Mailbox.hasMessages">hasMessages</a>: <span title="Boolean">Boolean</span> = <a href="#akka.dispatch;Mailbox.messageQueue" title="=&gt; akka.dispatch.MessageQueue">messageQueue</a>.<a href="#akka.dispatch;MessageQueue.hasMessages" title="=&gt; Boolean">hasMessages</a>

  <span class="comment">/**
   * Should return the current number of messages held in this queue; may
   * always return 0 if no other value is available efficiently. Do not use
   * this for testing for presence of messages, use `hasMessages` instead.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Int" id="akka.dispatch;Mailbox.numberOfMessages">numberOfMessages</a>: <span title="Int">Int</span> = <a href="#akka.dispatch;Mailbox.messageQueue" title="=&gt; akka.dispatch.MessageQueue">messageQueue</a>.<a href="#akka.dispatch;MessageQueue.numberOfMessages" title="=&gt; Int">numberOfMessages</a>

  @volatile
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="akka.dispatch.Mailbox.Status" id="akka.dispatch;Mailbox._statusDoNotCallMeDirectly_=">_statusDoNotCallMeDirectly</a>: <span title="akka.dispatch.Mailbox.Status">Status</span> = _ <span class="comment">//0 by default</span>

  @volatile
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="akka.dispatch.sysmsg.SystemMessage" id="akka.dispatch;Mailbox._systemQueueDoNotCallMeDirectly_=">_systemQueueDoNotCallMeDirectly</a>: <a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;SystemMessage" title="akka.dispatch.sysmsg.SystemMessage">SystemMessage</a> = _ <span class="comment">//null by default</span>

  @inline
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; akka.dispatch.Mailbox.Status" id="akka.dispatch;Mailbox.status">status</a>: Mailbox.<span title="akka.dispatch.Mailbox.Status">Status</span> = <a href="../util/Unsafe.java.html#akka.util.Unsafe" title="akka.util.Unsafe.type">Unsafe</a>.<a href="../util/Unsafe.java.html#akka.util.Unsafe.instance" title="sun.misc.Unsafe">instance</a>.<span title="(x$1: Any, x$2: Long)Int">getIntVolatile</span><span class="delimiter">(</span><a href="#akka.dispatch;Mailbox" title="akka.dispatch.Mailbox" class="keyword">this</a>, <a href="AbstractMailbox.java.html#akka.dispatch.AbstractMailbox" title="akka.dispatch.AbstractMailbox.type">AbstractMailbox</a>.<a href="AbstractMailbox.java.html#akka.dispatch.AbstractMailbox.mailboxStatusOffset" title="Long">mailboxStatusOffset</a><span class="delimiter">)</span>

  @inline
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="akka.dispatch;Mailbox.shouldProcessMessage">shouldProcessMessage</a>: <span title="Boolean">Boolean</span> = <span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.status" title="=&gt; akka.dispatch.Mailbox.Status">status</a> <span title="(x: Int)Int">&amp;</span> <a href="#akka.dispatch.Mailbox.shouldNotProcessMask" title="=&gt; Int">shouldNotProcessMask</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span>

  @inline
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; Int" id="akka.dispatch;Mailbox.suspendCount">suspendCount</a>: <span title="Int">Int</span> = <a href="#akka.dispatch;Mailbox.status" title="=&gt; akka.dispatch.Mailbox.Status">status</a> <span title="(x: Int)Int">/</span> <span title="Int(4)">suspendUnit</span>

  @inline
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="akka.dispatch;Mailbox.isSuspended">isSuspended</a>: <span title="Boolean">Boolean</span> = <span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.status" title="=&gt; akka.dispatch.Mailbox.Status">status</a> <span title="(x: Int)Int">&amp;</span> <a href="#akka.dispatch.Mailbox.suspendMask" title="=&gt; Int">suspendMask</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span>

  @inline
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="akka.dispatch;Mailbox.isClosed">isClosed</a>: <span title="Boolean">Boolean</span> = <a href="#akka.dispatch;Mailbox.status" title="=&gt; akka.dispatch.Mailbox.Status">status</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">Closed</span>

  @inline
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="akka.dispatch;Mailbox.isScheduled">isScheduled</a>: <span title="Boolean">Boolean</span> = <span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.status" title="=&gt; akka.dispatch.Mailbox.Status">status</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(2)">Scheduled</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span>

  @inline
  <span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(oldStatus: akka.dispatch.Mailbox.Status, newStatus: akka.dispatch.Mailbox.Status)Boolean" id="akka.dispatch;Mailbox.updateStatus">updateStatus</a><span class="delimiter">(</span><a title="akka.dispatch.Mailbox.Status" id="akka.dispatch;Mailbox.updateStatus.oldStatus">oldStatus</a>: <span title="akka.dispatch.Mailbox.Status">Status</span>, <a title="akka.dispatch.Mailbox.Status" id="akka.dispatch;Mailbox.updateStatus.newStatus">newStatus</a>: <span title="akka.dispatch.Mailbox.Status">Status</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <a href="../util/Unsafe.java.html#akka.util.Unsafe" title="akka.util.Unsafe.type">Unsafe</a>.<a href="../util/Unsafe.java.html#akka.util.Unsafe.instance" title="sun.misc.Unsafe">instance</a>.<span title="(x$1: Any, x$2: Long, x$3: Int, x$4: Int)Boolean">compareAndSwapInt</span><span class="delimiter">(</span><a href="#akka.dispatch;Mailbox" title="akka.dispatch.Mailbox" class="keyword">this</a>, <a href="AbstractMailbox.java.html#akka.dispatch.AbstractMailbox" title="akka.dispatch.AbstractMailbox.type">AbstractMailbox</a>.<a href="AbstractMailbox.java.html#akka.dispatch.AbstractMailbox.mailboxStatusOffset" title="Long">mailboxStatusOffset</a>, <a href="#akka.dispatch;Mailbox.updateStatus.oldStatus" title="akka.dispatch.Mailbox.Status">oldStatus</a>, <a href="#akka.dispatch;Mailbox.updateStatus.newStatus" title="akka.dispatch.Mailbox.Status">newStatus</a><span class="delimiter">)</span>

  @inline
  <span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(newStatus: akka.dispatch.Mailbox.Status)Unit" id="akka.dispatch;Mailbox.setStatus">setStatus</a><span class="delimiter">(</span><a title="akka.dispatch.Mailbox.Status" id="akka.dispatch;Mailbox.setStatus.newStatus">newStatus</a>: <span title="akka.dispatch.Mailbox.Status">Status</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="../util/Unsafe.java.html#akka.util.Unsafe" title="akka.util.Unsafe.type">Unsafe</a>.<a href="../util/Unsafe.java.html#akka.util.Unsafe.instance" title="sun.misc.Unsafe">instance</a>.<span title="(x$1: Any, x$2: Long, x$3: Int)Unit">putIntVolatile</span><span class="delimiter">(</span><a href="#akka.dispatch;Mailbox" title="akka.dispatch.Mailbox" class="keyword">this</a>, <a href="AbstractMailbox.java.html#akka.dispatch.AbstractMailbox" title="akka.dispatch.AbstractMailbox.type">AbstractMailbox</a>.<a href="AbstractMailbox.java.html#akka.dispatch.AbstractMailbox.mailboxStatusOffset" title="Long">mailboxStatusOffset</a>, <a href="#akka.dispatch;Mailbox.setStatus.newStatus" title="akka.dispatch.Mailbox.Status">newStatus</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Reduce the suspend count by one. Caller does not need to worry about whether
   * status was Scheduled or not.
   *
   * @return true if the suspend count reached zero
   */</span>
  @tailrec
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="()Boolean" id="akka.dispatch;Mailbox.resume">resume</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#akka.dispatch;Mailbox.status" title="=&gt; akka.dispatch.Mailbox.Status">status</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Int(1)">Closed</span> ⇒
      <a href="#akka.dispatch;Mailbox.setStatus" title="(newStatus: akka.dispatch.Mailbox.Status)Unit">setStatus</a><span class="delimiter">(</span><span title="Int(1)">Closed</span><span class="delimiter">)</span>; <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">case</span> <a title="akka.dispatch.Mailbox.Status" id="akka.dispatch;Mailbox.resume.s">s</a> ⇒
      <span class="keyword">val</span> <a title="akka.dispatch.Mailbox.Status" id="akka.dispatch;Mailbox.resume.next">next</a> = <span title="akka.dispatch.Mailbox.Status" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.resume.s" title="akka.dispatch.Mailbox.Status">s</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(4)">suspendUnit</span><span class="delimiter">)</span> <a href="#akka.dispatch;Mailbox.resume.s" title="akka.dispatch.Mailbox.Status">s</a> <span class="keyword">else</span> <a href="#akka.dispatch;Mailbox.resume.s" title="akka.dispatch.Mailbox.Status">s</a> <span title="(x: Int)Int">-</span> <span title="Int(4)">suspendUnit</span>
      <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.updateStatus" title="(oldStatus: akka.dispatch.Mailbox.Status, newStatus: akka.dispatch.Mailbox.Status)Boolean">updateStatus</a><span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.resume.s" title="akka.dispatch.Mailbox.Status">s</a>, <a href="#akka.dispatch;Mailbox.resume.next" title="akka.dispatch.Mailbox.Status">next</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.dispatch;Mailbox.resume.next" title="akka.dispatch.Mailbox.Status">next</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(4)">suspendUnit</span>
      <span class="keyword">else</span> <a href="#akka.dispatch;Mailbox.resume" title="()Boolean">resume</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Increment the suspend count by one. Caller does not need to worry about whether
   * status was Scheduled or not.
   *
   * @return true if the previous suspend count was zero
   */</span>
  @tailrec
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="()Boolean" id="akka.dispatch;Mailbox.suspend">suspend</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#akka.dispatch;Mailbox.status" title="=&gt; akka.dispatch.Mailbox.Status">status</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Int(1)">Closed</span> ⇒
      <a href="#akka.dispatch;Mailbox.setStatus" title="(newStatus: akka.dispatch.Mailbox.Status)Unit">setStatus</a><span class="delimiter">(</span><span title="Int(1)">Closed</span><span class="delimiter">)</span>; <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">case</span> <a title="akka.dispatch.Mailbox.Status" id="akka.dispatch;Mailbox.suspend.s">s</a> ⇒
      <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.updateStatus" title="(oldStatus: akka.dispatch.Mailbox.Status, newStatus: akka.dispatch.Mailbox.Status)Boolean">updateStatus</a><span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.suspend.s" title="akka.dispatch.Mailbox.Status">s</a>, <a href="#akka.dispatch;Mailbox.suspend.s" title="akka.dispatch.Mailbox.Status">s</a> <span title="(x: Int)Int">+</span> <span title="Int(4)">suspendUnit</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.dispatch;Mailbox.suspend.s" title="akka.dispatch.Mailbox.Status">s</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(4)">suspendUnit</span>
      <span class="keyword">else</span> <a href="#akka.dispatch;Mailbox.suspend" title="()Boolean">suspend</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * set new primary status Closed. Caller does not need to worry about whether
   * status was Scheduled or not.
   */</span>
  @tailrec
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="()Boolean" id="akka.dispatch;Mailbox.becomeClosed">becomeClosed</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#akka.dispatch;Mailbox.status" title="=&gt; akka.dispatch.Mailbox.Status">status</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Int(1)">Closed</span> ⇒
      <a href="#akka.dispatch;Mailbox.setStatus" title="(newStatus: akka.dispatch.Mailbox.Status)Unit">setStatus</a><span class="delimiter">(</span><span title="Int(1)">Closed</span><span class="delimiter">)</span>; <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">case</span> <a title="akka.dispatch.Mailbox.Status" id="akka.dispatch;Mailbox.becomeClosed.s">s</a> ⇒ <a href="#akka.dispatch;Mailbox.updateStatus" title="(oldStatus: akka.dispatch.Mailbox.Status, newStatus: akka.dispatch.Mailbox.Status)Boolean">updateStatus</a><span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.becomeClosed.s" title="akka.dispatch.Mailbox.Status">s</a>, <span title="Int(1)">Closed</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#akka.dispatch;Mailbox.becomeClosed" title="()Boolean">becomeClosed</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Set Scheduled status, keeping primary status as is.
   */</span>
  @tailrec
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="()Boolean" id="akka.dispatch;Mailbox.setAsScheduled">setAsScheduled</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="akka.dispatch.Mailbox.Status" id="akka.dispatch;Mailbox.setAsScheduled.s">s</a> = <a href="#akka.dispatch;Mailbox.status" title="=&gt; akka.dispatch.Mailbox.Status">status</a>
    <span class="comment">/*
     * Only try to add Scheduled bit if pure Open/Suspended, not Closed or with
     * Scheduled bit already set.
     */</span>
    <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.setAsScheduled.s" title="akka.dispatch.Mailbox.Status">s</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(3)">shouldScheduleMask</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)">Open</span><span class="delimiter">)</span> <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">else</span> <a href="#akka.dispatch;Mailbox.updateStatus" title="(oldStatus: akka.dispatch.Mailbox.Status, newStatus: akka.dispatch.Mailbox.Status)Boolean">updateStatus</a><span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.setAsScheduled.s" title="akka.dispatch.Mailbox.Status">s</a>, <a href="#akka.dispatch;Mailbox.setAsScheduled.s" title="akka.dispatch.Mailbox.Status">s</a> <span title="(x: Int)Int">|</span> <span title="Int(2)">Scheduled</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#akka.dispatch;Mailbox.setAsScheduled" title="()Boolean">setAsScheduled</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Reset Scheduled status, keeping primary status as is.
   */</span>
  @tailrec
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="()Boolean" id="akka.dispatch;Mailbox.setAsIdle">setAsIdle</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="akka.dispatch.Mailbox.Status" id="akka.dispatch;Mailbox.setAsIdle.s">s</a> = <a href="#akka.dispatch;Mailbox.status" title="=&gt; akka.dispatch.Mailbox.Status">status</a>
    <a href="#akka.dispatch;Mailbox.updateStatus" title="(oldStatus: akka.dispatch.Mailbox.Status, newStatus: akka.dispatch.Mailbox.Status)Boolean">updateStatus</a><span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.setAsIdle.s" title="akka.dispatch.Mailbox.Status">s</a>, <a href="#akka.dispatch;Mailbox.setAsIdle.s" title="akka.dispatch.Mailbox.Status">s</a> <span title="(x: Int)Int">&amp;</span> <span title="=&gt; Int">~</span><span title="Int(2)">Scheduled</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#akka.dispatch;Mailbox.setAsIdle" title="()Boolean">setAsIdle</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="comment">/*
   * AtomicReferenceFieldUpdater for system queue.
   */</span>
  <span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; akka.dispatch.sysmsg.LatestFirstSystemMessageList" id="akka.dispatch;Mailbox.systemQueueGet">systemQueueGet</a>: <a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;LatestFirstSystemMessageList" title="akka.dispatch.sysmsg.LatestFirstSystemMessageList">LatestFirstSystemMessageList</a> =
    <span class="comment">// Note: contrary how it looks, there is no allocation here, as SystemMessageList is a value class and as such</span>
    <span class="comment">// it just exists as a typed view during compile-time. The actual return type is still SystemMessage.</span>
    <span title="akka.dispatch.sysmsg.LatestFirstSystemMessageList" class="keyword">new</span> <a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;LatestFirstSystemMessageList" title="akka.dispatch.sysmsg.LatestFirstSystemMessageList">LatestFirstSystemMessageList</a><span class="delimiter">(</span><a href="../util/Unsafe.java.html#akka.util.Unsafe" title="akka.util.Unsafe.type">Unsafe</a>.<a href="../util/Unsafe.java.html#akka.util.Unsafe.instance" title="sun.misc.Unsafe">instance</a>.<span title="(x$1: Any, x$2: Long)Object">getObjectVolatile</span><span class="delimiter">(</span><a href="#akka.dispatch;Mailbox" title="akka.dispatch.Mailbox" class="keyword">this</a>, <a href="AbstractMailbox.java.html#akka.dispatch.AbstractMailbox" title="akka.dispatch.AbstractMailbox.type">AbstractMailbox</a>.<a href="AbstractMailbox.java.html#akka.dispatch.AbstractMailbox.systemMessageOffset" title="Long">systemMessageOffset</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="akka.dispatch.sysmsg.SystemMessage" class="delimiter">[</span><a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;SystemMessage" title="akka.dispatch.sysmsg.SystemMessage">SystemMessage</a><span class="delimiter">]</span><span class="delimiter">)</span>

  <span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(_old: akka.dispatch.sysmsg.LatestFirstSystemMessageList, _new: akka.dispatch.sysmsg.LatestFirstSystemMessageList)Boolean" id="akka.dispatch;Mailbox.systemQueuePut">systemQueuePut</a><span class="delimiter">(</span><a title="akka.dispatch.sysmsg.LatestFirstSystemMessageList" id="akka.dispatch;Mailbox.systemQueuePut._old">_old</a>: <a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;LatestFirstSystemMessageList" title="akka.dispatch.sysmsg.LatestFirstSystemMessageList">LatestFirstSystemMessageList</a>, <a title="akka.dispatch.sysmsg.LatestFirstSystemMessageList" id="akka.dispatch;Mailbox.systemQueuePut._new">_new</a>: <a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;LatestFirstSystemMessageList" title="akka.dispatch.sysmsg.LatestFirstSystemMessageList">LatestFirstSystemMessageList</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <span class="comment">// Note: calling .head is not actually existing on the bytecode level as the parameters _old and _new</span>
    <span class="comment">// are SystemMessage instances hidden during compile time behind the SystemMessageList value class.</span>
    <span class="comment">// Without calling .head the parameters would be boxed in SystemMessageList wrapper.</span>
    <a href="../util/Unsafe.java.html#akka.util.Unsafe" title="akka.util.Unsafe.type">Unsafe</a>.<a href="../util/Unsafe.java.html#akka.util.Unsafe.instance" title="sun.misc.Unsafe">instance</a>.<span title="(x$1: Any, x$2: Long, x$3: Any, x$4: Any)Boolean">compareAndSwapObject</span><span class="delimiter">(</span><a href="#akka.dispatch;Mailbox" title="akka.dispatch.Mailbox" class="keyword">this</a>, <a href="AbstractMailbox.java.html#akka.dispatch.AbstractMailbox" title="akka.dispatch.AbstractMailbox.type">AbstractMailbox</a>.<a href="AbstractMailbox.java.html#akka.dispatch.AbstractMailbox.systemMessageOffset" title="Long">systemMessageOffset</a>, <a href="#akka.dispatch;Mailbox.systemQueuePut._old" title="akka.dispatch.sysmsg.LatestFirstSystemMessageList">_old</a>.<a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;LatestFirstSystemMessageList.head" title="=&gt; akka.dispatch.sysmsg.SystemMessage">head</a>, <a href="#akka.dispatch;Mailbox.systemQueuePut._new" title="akka.dispatch.sysmsg.LatestFirstSystemMessageList">_new</a>.<a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;LatestFirstSystemMessageList.head" title="=&gt; akka.dispatch.sysmsg.SystemMessage">head</a><span class="delimiter">)</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(hasMessageHint: Boolean, hasSystemMessageHint: Boolean)Boolean" id="akka.dispatch;Mailbox.canBeScheduledForExecution">canBeScheduledForExecution</a><span class="delimiter">(</span><a title="Boolean" id="akka.dispatch;Mailbox.canBeScheduledForExecution.hasMessageHint">hasMessageHint</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="akka.dispatch;Mailbox.canBeScheduledForExecution.hasSystemMessageHint">hasSystemMessageHint</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#akka.dispatch;Mailbox.status" title="=&gt; akka.dispatch.Mailbox.Status">status</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Int(0)">Open</span> | <span title="Int(2)">Scheduled</span> ⇒ <a href="#akka.dispatch;Mailbox.canBeScheduledForExecution.hasMessageHint" title="Boolean">hasMessageHint</a> <span title="(x: Boolean)Boolean">||</span> <a href="#akka.dispatch;Mailbox.canBeScheduledForExecution.hasSystemMessageHint" title="Boolean">hasSystemMessageHint</a> <span title="(x: Boolean)Boolean">||</span> <a href="#akka.dispatch;SystemMessageQueue.hasSystemMessages" title="=&gt; Boolean">hasSystemMessages</a> <span title="(x: Boolean)Boolean">||</span> <a href="#akka.dispatch;Mailbox.hasMessages" title="=&gt; Boolean">hasMessages</a>
    <span class="keyword">case</span> <span title="Int(1)">Closed</span>           ⇒ <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">case</span> _                ⇒ <a href="#akka.dispatch;Mailbox.canBeScheduledForExecution.hasSystemMessageHint" title="Boolean">hasSystemMessageHint</a> <span title="(x: Boolean)Boolean">||</span> <a href="#akka.dispatch;SystemMessageQueue.hasSystemMessages" title="=&gt; Boolean">hasSystemMessages</a>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="()Unit" id="akka.dispatch;Mailbox.run">run</a> = <span class="delimiter">{</span>
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.dispatch;Mailbox.isClosed" title="=&gt; Boolean">isClosed</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">//Volatile read, needed here</span>
        <a href="#akka.dispatch;Mailbox.processAllSystemMessages" title="()Unit">processAllSystemMessages</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="comment">//First, deal with any system messages</span>
        <a href="#akka.dispatch;Mailbox.processMailbox" title="(left: Int, deadlineNs: Long)Unit">processMailbox</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="comment">//Then deal with messages</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
      <a href="#akka.dispatch;Mailbox.setAsIdle" title="()Boolean">setAsIdle</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="comment">//Volatile write, needed here</span>
      <a href="#akka.dispatch;Mailbox.dispatcher" title="=&gt; akka.dispatch.MessageDispatcher">dispatcher</a>.<a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcher.registerForExecution" title="(mbox: akka.dispatch.Mailbox, hasMessageHint: Boolean, hasSystemMessageHint: Boolean)Boolean">registerForExecution</a><span title="Unit" class="delimiter">(</span><a href="#akka.dispatch;Mailbox" title="akka.dispatch.Mailbox" class="keyword">this</a>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Process the messages in the mailbox
   */</span>
  @tailrec <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(left: Int, deadlineNs: Long)Unit" id="akka.dispatch;Mailbox.processMailbox">processMailbox</a><span class="delimiter">(</span>
    <a title="Int" id="akka.dispatch;Mailbox.processMailbox$default$1">left</a>: <span title="Int">Int</span> = java.lang.<span title="Math.type">Math</span>.<span title="(x$1: Int, x$2: Int)Int">max</span><span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.dispatcher" title="=&gt; akka.dispatch.MessageDispatcher">dispatcher</a>.<a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcher.throughput" title="=&gt; Int">throughput</a>, <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>,
    <a title="Long" id="akka.dispatch;Mailbox.processMailbox$default$2">deadlineNs</a>: <span title="Long">Long</span> = <span title="Long" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.dispatcher" title="=&gt; akka.dispatch.MessageDispatcher">dispatcher</a>.<a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcher.isThroughputDeadlineTimeDefined" title="=&gt; Boolean">isThroughputDeadlineTimeDefined</a> <span title="(x: Boolean)Boolean">==</span> <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> <span title="System.type">System</span>.<span title="()Long">nanoTime</span> <span title="(x: Long)Long">+</span> <a href="#akka.dispatch;Mailbox.dispatcher" title="=&gt; akka.dispatch.MessageDispatcher">dispatcher</a>.<a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcher.throughputDeadlineTime" title="=&gt; scala.concurrent.duration.Duration">throughputDeadlineTime</a>.<span title="=&gt; Long">toNanos</span> <span class="keyword">else</span> <span title="Long(0L)" class="long">0L</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.shouldProcessMessage" title="=&gt; Boolean">shouldProcessMessage</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="akka.dispatch.Envelope" id="akka.dispatch;Mailbox.processMailbox.next">next</a> = <a href="#akka.dispatch;Mailbox.dequeue" title="()akka.dispatch.Envelope">dequeue</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.processMailbox.next" title="akka.dispatch.Envelope">next</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span>Mailbox.<span title="Boolean(false)">debug</span><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.actor_=" title="=&gt; akka.actor.ActorCell">actor</a>.<a href="../actor/ActorCell.scala.html#akka.actor;ActorCell.self" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">self</a> <span title="(other: String)String">+</span> <span title="String(&quot; processing message &quot;)" class="string">&quot; processing message &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#akka.dispatch;Mailbox.processMailbox.next" title="akka.dispatch.Envelope">next</a><span class="delimiter">)</span>
        <a href="#akka.dispatch;Mailbox.actor_=" title="=&gt; akka.actor.ActorCell">actor</a> <a href="../actor/ActorCell.scala.html#akka.actor;ActorCell.invoke" title="(messageHandle: akka.dispatch.Envelope)Unit">invoke</a> <a href="#akka.dispatch;Mailbox.processMailbox.next" title="akka.dispatch.Envelope">next</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="Thread.type">Thread</span>.<span title="()Boolean">interrupted</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)InterruptedException" class="keyword">new</span> <span title="InterruptedException">InterruptedException</span><span class="delimiter">(</span><span title="String(&quot;Interrupted while processing actor messages&quot;)" class="string">&quot;Interrupted while processing actor messages&quot;</span><span class="delimiter">)</span>
        <a href="#akka.dispatch;Mailbox.processAllSystemMessages" title="()Unit">processAllSystemMessages</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.processMailbox$default$1" title="Int">left</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.dispatcher" title="=&gt; akka.dispatch.MessageDispatcher">dispatcher</a>.<a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcher.isThroughputDeadlineTimeDefined" title="=&gt; Boolean">isThroughputDeadlineTimeDefined</a> <span title="(x: Boolean)Boolean">==</span> <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><span title="System.type">System</span>.<span title="()Long">nanoTime</span> <span title="(x: Long)Long">-</span> <a href="#akka.dispatch;Mailbox.processMailbox$default$2" title="Long">deadlineNs</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#akka.dispatch;Mailbox.processMailbox" title="(left: Int, deadlineNs: Long)Unit">processMailbox</a><span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.processMailbox$default$1" title="Int">left</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span>, <a href="#akka.dispatch;Mailbox.processMailbox$default$2" title="Long">deadlineNs</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * Will at least try to process all queued system messages: in case of
   * failure simply drop and go on to the next, because there is nothing to
   * restart here (failure is in ActorCell somewhere …). In case the mailbox
   * becomes closed (because of processing a Terminate message), dump all
   * already dequeued message to deadLetters.
   */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="()Unit" id="akka.dispatch;Mailbox.processAllSystemMessages">processAllSystemMessages</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Throwable" id="akka.dispatch;Mailbox.processAllSystemMessages.interruption">interruption</a>: <span title="Throwable">Throwable</span> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">var</span> <a title="akka.dispatch.sysmsg.EarliestFirstSystemMessageList" id="akka.dispatch;Mailbox.processAllSystemMessages.messageList">messageList</a> = <a href="#akka.dispatch;SystemMessageQueue.systemDrain" title="(newContents: akka.dispatch.sysmsg.LatestFirstSystemMessageList)akka.dispatch.sysmsg.EarliestFirstSystemMessageList">systemDrain</a><span class="delimiter">(</span><a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg.SystemMessageList" title="akka.dispatch.sysmsg.SystemMessageList.type">SystemMessageList</a>.<a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg.SystemMessageList.LNil" title="=&gt; akka.dispatch.sysmsg.LatestFirstSystemMessageList">LNil</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.processAllSystemMessages.messageList" title="akka.dispatch.sysmsg.EarliestFirstSystemMessageList">messageList</a>.<a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;EarliestFirstSystemMessageList.nonEmpty" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#akka.dispatch;Mailbox.isClosed" title="=&gt; Boolean">isClosed</a><span class="delimiter">)</span> <a href="#akka.dispatch;Mailbox.processAllSystemMessages.while$1" title="()Unit" class="delimiter">{</a>
      <span class="keyword">val</span> <span title="akka.dispatch.sysmsg.SystemMessage">msg</span> = <a href="#akka.dispatch;Mailbox.processAllSystemMessages.messageList" title="akka.dispatch.sysmsg.EarliestFirstSystemMessageList">messageList</a>.<a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;EarliestFirstSystemMessageList.head" title="=&gt; akka.dispatch.sysmsg.SystemMessage">head</a>
      <a href="#akka.dispatch;Mailbox.processAllSystemMessages.messageList" title="akka.dispatch.sysmsg.EarliestFirstSystemMessageList">messageList</a> = <a href="#akka.dispatch;Mailbox.processAllSystemMessages.messageList" title="akka.dispatch.sysmsg.EarliestFirstSystemMessageList">messageList</a>.<a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;EarliestFirstSystemMessageList.tail" title="=&gt; akka.dispatch.sysmsg.EarliestFirstSystemMessageList">tail</a>
      <span title="akka.dispatch.sysmsg.SystemMessage">msg</span>.<a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;SystemMessage.unlink" title="()Unit">unlink</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="Boolean(false)">debug</span><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.actor_=" title="=&gt; akka.actor.ActorCell">actor</a>.<a href="../actor/ActorCell.scala.html#akka.actor;ActorCell.self" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">self</a> <span title="(other: String)String">+</span> <span title="String(&quot; processing system message &quot;)" class="string">&quot; processing system message &quot;</span> <span title="(x$1: Any)String">+</span> <span title="akka.dispatch.sysmsg.SystemMessage">msg</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; with &quot;)" class="string">&quot; with &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#akka.dispatch;Mailbox.actor_=" title="=&gt; akka.actor.ActorCell">actor</a>.<a href="../actor/dungeon/Children.scala.html#akka.actor.dungeon;Children.childrenRefs" title="=&gt; akka.actor.dungeon.ChildrenContainer">childrenRefs</a><span class="delimiter">)</span>
      <span class="comment">// we know here that systemInvoke ensures that only &quot;fatal&quot; exceptions get rethrown</span>
      <a href="#akka.dispatch;Mailbox.actor_=" title="=&gt; akka.actor.ActorCell">actor</a> <a href="../actor/ActorCell.scala.html#akka.actor;ActorCell.systemInvoke" title="(message: akka.dispatch.sysmsg.SystemMessage)Unit">systemInvoke</a> <span title="akka.dispatch.sysmsg.SystemMessage">msg</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="Thread.type">Thread</span>.<span title="()Boolean">interrupted</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#akka.dispatch;Mailbox.processAllSystemMessages.interruption" title="Throwable">interruption</a> = <span title="(x$1: String)InterruptedException" class="keyword">new</span> <span title="InterruptedException">InterruptedException</span><span class="delimiter">(</span><span title="String(&quot;Interrupted while processing system messages&quot;)" class="string">&quot;Interrupted while processing system messages&quot;</span><span class="delimiter">)</span>
      <span class="comment">// don’t ever execute normal message when system message present!</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.processAllSystemMessages.messageList" title="akka.dispatch.sysmsg.EarliestFirstSystemMessageList">messageList</a>.<a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;EarliestFirstSystemMessageList.isEmpty" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#akka.dispatch;Mailbox.isClosed" title="=&gt; Boolean">isClosed</a><span class="delimiter">)</span> <a href="#akka.dispatch;Mailbox.processAllSystemMessages.messageList" title="akka.dispatch.sysmsg.EarliestFirstSystemMessageList">messageList</a> = <a href="#akka.dispatch;SystemMessageQueue.systemDrain" title="(newContents: akka.dispatch.sysmsg.LatestFirstSystemMessageList)akka.dispatch.sysmsg.EarliestFirstSystemMessageList">systemDrain</a><span class="delimiter">(</span><a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg.SystemMessageList" title="akka.dispatch.sysmsg.SystemMessageList.type">SystemMessageList</a>.<a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg.SystemMessageList.LNil" title="=&gt; akka.dispatch.sysmsg.LatestFirstSystemMessageList">LNil</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="comment">/*
     * if we closed the mailbox, we must dump the remaining system messages
     * to deadLetters (this is essential for DeathWatch)
     */</span>
    <span class="keyword">val</span> <a title="akka.dispatch.Mailbox" id="akka.dispatch;Mailbox.processAllSystemMessages.dlm">dlm</a> = <a href="#akka.dispatch;Mailbox.actor_=" title="=&gt; akka.actor.ActorCell">actor</a>.<a href="../actor/ActorCell.scala.html#akka.actor;ActorCell.dispatcher" title="=&gt; akka.dispatch.MessageDispatcher">dispatcher</a>.<a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcher.mailboxes" title="=&gt; akka.dispatch.Mailboxes">mailboxes</a>.<a href="Mailboxes.scala.html#akka.dispatch;Mailboxes.deadLetterMailbox" title="=&gt; akka.dispatch.Mailbox">deadLetterMailbox</a>
    <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.processAllSystemMessages.messageList" title="akka.dispatch.sysmsg.EarliestFirstSystemMessageList">messageList</a>.<a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;EarliestFirstSystemMessageList.nonEmpty" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <a href="#akka.dispatch;Mailbox.processAllSystemMessages.while$2" title="()Unit" class="delimiter">{</a>
      <span class="keyword">val</span> <span title="akka.dispatch.sysmsg.SystemMessage">msg</span> = <a href="#akka.dispatch;Mailbox.processAllSystemMessages.messageList" title="akka.dispatch.sysmsg.EarliestFirstSystemMessageList">messageList</a>.<a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;EarliestFirstSystemMessageList.head" title="=&gt; akka.dispatch.sysmsg.SystemMessage">head</a>
      <a href="#akka.dispatch;Mailbox.processAllSystemMessages.messageList" title="akka.dispatch.sysmsg.EarliestFirstSystemMessageList">messageList</a> = <a href="#akka.dispatch;Mailbox.processAllSystemMessages.messageList" title="akka.dispatch.sysmsg.EarliestFirstSystemMessageList">messageList</a>.<a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;EarliestFirstSystemMessageList.tail" title="=&gt; akka.dispatch.sysmsg.EarliestFirstSystemMessageList">tail</a>
      <span title="akka.dispatch.sysmsg.SystemMessage">msg</span>.<a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;SystemMessage.unlink" title="()Unit">unlink</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">try</span> <a href="#akka.dispatch;Mailbox.processAllSystemMessages.dlm" title="akka.dispatch.Mailbox">dlm</a>.<a href="#akka.dispatch;SystemMessageQueue.systemEnqueue" title="(receiver: akka.actor.ActorRef, message: akka.dispatch.sysmsg.SystemMessage)Unit">systemEnqueue</a><span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.actor_=" title="=&gt; akka.actor.ActorCell">actor</a>.<a href="../actor/ActorCell.scala.html#akka.actor;ActorCell.self" title="=&gt; akka.actor.InternalActorRef">self</a>, <span title="akka.dispatch.sysmsg.SystemMessage">msg</span><span class="delimiter">)</span>
      <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="InterruptedException">e</span>: <span title="InterruptedException">InterruptedException</span> ⇒ <a href="#akka.dispatch;Mailbox.processAllSystemMessages.interruption" title="Throwable">interruption</a> = <span title="InterruptedException">e</span>
        <span class="keyword">case</span> <a href="#akka.dispatch;Mailbox.processAllSystemMessages.<unapply-selector>" title="(t: Throwable)Option[Throwable]">NonFatal</a><span class="delimiter">(</span><span title="Throwable">e</span><span class="delimiter">)</span> ⇒ <a href="#akka.dispatch;Mailbox.actor_=" title="=&gt; akka.actor.ActorCell">actor</a>.<a href="../actor/ActorCell.scala.html#akka.actor;ActorCell.system" title="=&gt; akka.actor.ActorSystemImpl">system</a>.<a href="../actor/ActorSystem.scala.html#akka.actor;ActorSystemImpl.eventStream" title="=&gt; akka.event.EventStream">eventStream</a>.<a href="../event/EventBus.scala.html#akka.event;SubchannelClassification.publish(de973626dc)" title="(event: Object)Unit">publish</a><span class="delimiter">(</span>
          <a href="../event/Logging.scala.html#akka.event.Logging;Error" title="(cause: Throwable, logSource: String, logClass: Class[_], message: Any)akka.event.Logging.Error">Error</a><span class="delimiter">(</span><span title="Throwable">e</span>, <a href="#akka.dispatch;Mailbox.actor_=" title="=&gt; akka.actor.ActorCell">actor</a>.<a href="../actor/ActorCell.scala.html#akka.actor;ActorCell.self" title="=&gt; akka.actor.InternalActorRef">self</a>.<a href="../actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a>.<span title="()String">toString</span>, <a href="#akka.dispatch;Mailbox" title="Mailbox.this.type" class="keyword">this</a>.<span title="()Class[_]">getClass</span>, <span title="String(&quot;error while enqueuing &quot;)" class="string">&quot;error while enqueuing &quot;</span> <span title="(x$1: Any)String">+</span> <span title="akka.dispatch.sysmsg.SystemMessage">msg</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; to deadLetters: &quot;)" class="string">&quot; to deadLetters: &quot;</span> <span title="(x$1: Any)String">+</span> <span title="Throwable">e</span>.<span title="()String">getMessage</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="comment">// if we got an interrupted exception while handling system messages, then rethrow it</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.processAllSystemMessages.interruption" title="Throwable">interruption</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Thread.type">Thread</span>.<span title="()Boolean">interrupted</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="comment">// clear interrupted flag before throwing according to java convention</span>
      <span title="Nothing" class="keyword">throw</span> <a href="#akka.dispatch;Mailbox.processAllSystemMessages.interruption" title="Throwable">interruption</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Overridable callback to clean up the mailbox,
   * called when an actor is unregistered.
   * By default it dequeues all system messages + messages and ships them to the owning actors' systems' DeadLetterMailbox
   */</span>
  <span class="keyword">protected</span><span class="delimiter">[</span>dispatch<span class="delimiter">]</span> <span class="keyword">def</span> <a title="()Unit" id="akka.dispatch;Mailbox.cleanUp">cleanUp</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.actor_=" title="=&gt; akka.actor.ActorCell">actor</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// actor is null for the deadLetterMailbox</span>
      <span class="keyword">val</span> <a title="akka.dispatch.Mailbox" id="akka.dispatch;Mailbox.cleanUp.dlm">dlm</a> = <a href="#akka.dispatch;Mailbox.actor_=" title="=&gt; akka.actor.ActorCell">actor</a>.<a href="../actor/ActorCell.scala.html#akka.actor;ActorCell.dispatcher" title="=&gt; akka.dispatch.MessageDispatcher">dispatcher</a>.<a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcher.mailboxes" title="=&gt; akka.dispatch.Mailboxes">mailboxes</a>.<a href="Mailboxes.scala.html#akka.dispatch;Mailboxes.deadLetterMailbox" title="=&gt; akka.dispatch.Mailbox">deadLetterMailbox</a>
      <span class="keyword">var</span> <a title="akka.dispatch.sysmsg.EarliestFirstSystemMessageList" id="akka.dispatch;Mailbox.cleanUp.messageList">messageList</a> = <a href="#akka.dispatch;SystemMessageQueue.systemDrain" title="(newContents: akka.dispatch.sysmsg.LatestFirstSystemMessageList)akka.dispatch.sysmsg.EarliestFirstSystemMessageList">systemDrain</a><span class="delimiter">(</span><span title="akka.dispatch.sysmsg.LatestFirstSystemMessageList" class="keyword">new</span> <a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;LatestFirstSystemMessageList" title="akka.dispatch.sysmsg.LatestFirstSystemMessageList">LatestFirstSystemMessageList</a><span class="delimiter">(</span><a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg.NoMessage" title="akka.dispatch.sysmsg.NoMessage.type">NoMessage</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.cleanUp.messageList" title="akka.dispatch.sysmsg.EarliestFirstSystemMessageList">messageList</a>.<a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;EarliestFirstSystemMessageList.nonEmpty" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <a href="#akka.dispatch;Mailbox.cleanUp.while$3" title="()Unit" class="delimiter">{</a>
        <span class="comment">// message must be “virgin” before being able to systemEnqueue again</span>
        <span class="keyword">val</span> <a title="akka.dispatch.sysmsg.SystemMessage" id="akka.dispatch;Mailbox.cleanUp.msg">msg</a> = <a href="#akka.dispatch;Mailbox.cleanUp.messageList" title="akka.dispatch.sysmsg.EarliestFirstSystemMessageList">messageList</a>.<a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;EarliestFirstSystemMessageList.head" title="=&gt; akka.dispatch.sysmsg.SystemMessage">head</a>
        <a href="#akka.dispatch;Mailbox.cleanUp.messageList" title="akka.dispatch.sysmsg.EarliestFirstSystemMessageList">messageList</a> = <a href="#akka.dispatch;Mailbox.cleanUp.messageList" title="akka.dispatch.sysmsg.EarliestFirstSystemMessageList">messageList</a>.<a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;EarliestFirstSystemMessageList.tail" title="=&gt; akka.dispatch.sysmsg.EarliestFirstSystemMessageList">tail</a>
        <a href="#akka.dispatch;Mailbox.cleanUp.msg" title="akka.dispatch.sysmsg.SystemMessage">msg</a>.<a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;SystemMessage.unlink" title="()Unit">unlink</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#akka.dispatch;Mailbox.cleanUp.dlm" title="akka.dispatch.Mailbox">dlm</a>.<a href="#akka.dispatch;SystemMessageQueue.systemEnqueue" title="(receiver: akka.actor.ActorRef, message: akka.dispatch.sysmsg.SystemMessage)Unit">systemEnqueue</a><span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.actor_=" title="=&gt; akka.actor.ActorCell">actor</a>.<a href="../actor/ActorCell.scala.html#akka.actor;ActorCell.self" title="=&gt; akka.actor.InternalActorRef">self</a>, <a href="#akka.dispatch;Mailbox.cleanUp.msg" title="akka.dispatch.sysmsg.SystemMessage">msg</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.messageQueue" title="=&gt; akka.dispatch.MessageQueue">messageQueue</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="comment">// needed for CallingThreadDispatcher, which never calls Mailbox.run()</span>
        <a href="#akka.dispatch;Mailbox.messageQueue" title="=&gt; akka.dispatch.MessageQueue">messageQueue</a>.<a href="#akka.dispatch;MessageQueue.cleanUp" title="(owner: akka.actor.ActorRef, deadLetters: akka.dispatch.MessageQueue)Unit">cleanUp</a><span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.actor_=" title="=&gt; akka.actor.ActorCell">actor</a>.<a href="../actor/ActorCell.scala.html#akka.actor;ActorCell.self" title="=&gt; akka.actor.InternalActorRef">self</a>, <a href="#akka.dispatch;Mailbox.actor_=" title="=&gt; akka.actor.ActorCell">actor</a>.<a href="../actor/ActorCell.scala.html#akka.actor;ActorCell.dispatcher" title="=&gt; akka.dispatch.MessageDispatcher">dispatcher</a>.<a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcher.mailboxes" title="=&gt; akka.dispatch.Mailboxes">mailboxes</a>.<a href="Mailboxes.scala.html#akka.dispatch;Mailboxes.deadLetterMailbox" title="=&gt; akka.dispatch.Mailbox">deadLetterMailbox</a>.<a href="#akka.dispatch;Mailbox.messageQueue" title="=&gt; akka.dispatch.MessageQueue">messageQueue</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * A MessageQueue is one of the core components in forming an Akka Mailbox.
 * The MessageQueue is where the normal messages that are sent to Actors will be enqueued (and subsequently dequeued)
 * It needs to at least support N producers and 1 consumer thread-safely.
 */</span>
<span class="keyword">trait</span> <a title="trait MessageQueue extends AnyRef" id="akka.dispatch;MessageQueue">MessageQueue</a> <span class="delimiter">{</span>
  <span class="comment">/**
   * Try to enqueue the message to this queue, or throw an exception.
   */</span>
  <span class="keyword">def</span> <a title="(receiver: akka.actor.ActorRef, handle: akka.dispatch.Envelope)Unit" id="akka.dispatch;MessageQueue.enqueue">enqueue</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.dispatch;MessageQueue.enqueue.receiver">receiver</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="akka.dispatch.Envelope" id="akka.dispatch;MessageQueue.enqueue.handle">handle</a>: <a href="AbstractDispatcher.scala.html#akka.dispatch;Envelope" title="akka.dispatch.Envelope">Envelope</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> <span class="comment">// NOTE: receiver is used only in two places, but cannot be removed</span>

  <span class="comment">/**
   * Try to dequeue the next message from this queue, return null failing that.
   */</span>
  <span class="keyword">def</span> <a title="()akka.dispatch.Envelope" id="akka.dispatch;MessageQueue.dequeue">dequeue</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="AbstractDispatcher.scala.html#akka.dispatch;Envelope" title="akka.dispatch.Envelope">Envelope</a>

  <span class="comment">/**
   * Should return the current number of messages held in this queue; may
   * always return 0 if no other value is available efficiently. Do not use
   * this for testing for presence of messages, use `hasMessages` instead.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Int" id="akka.dispatch;MessageQueue.numberOfMessages">numberOfMessages</a>: <span title="Int">Int</span>

  <span class="comment">/**
   * Indicates whether this queue is non-empty.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="akka.dispatch;MessageQueue.hasMessages">hasMessages</a>: <span title="Boolean">Boolean</span>

  <span class="comment">/**
   * Called when the mailbox this queue belongs to is disposed of. Normally it
   * is expected to transfer all remaining messages into the dead letter queue
   * which is passed in. The owner of this MessageQueue is passed in if
   * available (e.g. for creating DeadLetters()), “/deadletters” otherwise.
   */</span>
  <span class="keyword">def</span> <a title="(owner: akka.actor.ActorRef, deadLetters: akka.dispatch.MessageQueue)Unit" id="akka.dispatch;MessageQueue.cleanUp">cleanUp</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.dispatch;MessageQueue.cleanUp.owner">owner</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="akka.dispatch.MessageQueue" id="akka.dispatch;MessageQueue.cleanUp.deadLetters">deadLetters</a>: <a href="#akka.dispatch;MessageQueue" title="akka.dispatch.MessageQueue">MessageQueue</a><span class="delimiter">)</span>: <span title="Unit">Unit</span>
<span class="delimiter">}</span>

<span title="AnyRef" class="keyword">class</span> <a title="class NodeMessageQueue extends akka.dispatch.AbstractNodeQueue[akka.dispatch.Envelope] with akka.dispatch.MessageQueue with akka.dispatch.UnboundedMessageQueueSemantics" id="akka.dispatch;NodeMessageQueue">NodeMessageQueue</a> <a href="#akka.dispatch;NodeMessageQueue" title="akka.dispatch.NodeMessageQueue" class="keyword">extends</a> <a href="AbstractNodeQueue.java.html#akka.dispatch;AbstractNodeQueue" title="akka.dispatch.AbstractNodeQueue[akka.dispatch.Envelope]">AbstractNodeQueue</a><span class="delimiter">[</span>Envelope<span class="delimiter">]</span> <span class="keyword">with</span> <a href="#akka.dispatch;MessageQueue" title="akka.dispatch.MessageQueue">MessageQueue</a> <span class="keyword">with</span> <a href="#akka.dispatch;UnboundedMessageQueueSemantics" title="akka.dispatch.UnboundedMessageQueueSemantics">UnboundedMessageQueueSemantics</a> <span class="delimiter">{</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(receiver: akka.actor.ActorRef, handle: akka.dispatch.Envelope)Unit" id="akka.dispatch;NodeMessageQueue.enqueue">enqueue</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.dispatch;NodeMessageQueue.enqueue.receiver">receiver</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="akka.dispatch.Envelope" id="akka.dispatch;NodeMessageQueue.enqueue.handle">handle</a>: <a href="AbstractDispatcher.scala.html#akka.dispatch;Envelope" title="akka.dispatch.Envelope">Envelope</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="AbstractNodeQueue.java.html#akka.dispatch;AbstractNodeQueue.add" title="(value: akka.dispatch.Envelope)Unit">add</a><span class="delimiter">(</span><a href="#akka.dispatch;NodeMessageQueue.enqueue.handle" title="akka.dispatch.Envelope">handle</a><span class="delimiter">)</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="()akka.dispatch.Envelope" id="akka.dispatch;NodeMessageQueue.dequeue">dequeue</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="AbstractDispatcher.scala.html#akka.dispatch;Envelope" title="akka.dispatch.Envelope">Envelope</a> = <a href="AbstractNodeQueue.java.html#akka.dispatch;AbstractNodeQueue.poll" title="()akka.dispatch.Envelope">poll</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; Int" id="akka.dispatch;NodeMessageQueue.numberOfMessages">numberOfMessages</a>: <span title="Int">Int</span> = <a href="AbstractNodeQueue.java.html#akka.dispatch;AbstractNodeQueue.count" title="()Int">count</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="akka.dispatch;NodeMessageQueue.hasMessages">hasMessages</a>: <span title="Boolean">Boolean</span> = <span title="=&gt; Boolean">!</span><a href="AbstractNodeQueue.java.html#akka.dispatch;AbstractNodeQueue.isEmpty" title="()Boolean">isEmpty</a><span class="delimiter">(</span><span class="delimiter">)</span>

  @tailrec <span class="keyword">final</span> <span class="keyword">def</span> <a title="(owner: akka.actor.ActorRef, deadLetters: akka.dispatch.MessageQueue)Unit" id="akka.dispatch;NodeMessageQueue.cleanUp">cleanUp</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.dispatch;NodeMessageQueue.cleanUp.owner">owner</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="akka.dispatch.MessageQueue" id="akka.dispatch;NodeMessageQueue.cleanUp.deadLetters">deadLetters</a>: <a href="#akka.dispatch;MessageQueue" title="akka.dispatch.MessageQueue">MessageQueue</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="akka.dispatch.Envelope" id="akka.dispatch;NodeMessageQueue.cleanUp.envelope">envelope</a> = <a href="#akka.dispatch;NodeMessageQueue.dequeue" title="()akka.dispatch.Envelope">dequeue</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;NodeMessageQueue.cleanUp.envelope" title="akka.dispatch.Envelope">envelope</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#akka.dispatch;NodeMessageQueue.cleanUp.deadLetters" title="akka.dispatch.MessageQueue">deadLetters</a>.<a href="#akka.dispatch;MessageQueue.enqueue" title="(receiver: akka.actor.ActorRef, handle: akka.dispatch.Envelope)Unit">enqueue</a><span class="delimiter">(</span><a href="#akka.dispatch;NodeMessageQueue.cleanUp.owner" title="akka.actor.ActorRef">owner</a>, <a href="#akka.dispatch;NodeMessageQueue.cleanUp.envelope" title="akka.dispatch.Envelope">envelope</a><span class="delimiter">)</span>
      <a href="#akka.dispatch;NodeMessageQueue.cleanUp" title="(owner: akka.actor.ActorRef, deadLetters: akka.dispatch.MessageQueue)Unit">cleanUp</a><span class="delimiter">(</span><a href="#akka.dispatch;NodeMessageQueue.cleanUp.owner" title="akka.actor.ActorRef">owner</a>, <a href="#akka.dispatch;NodeMessageQueue.cleanUp.deadLetters" title="akka.dispatch.MessageQueue">deadLetters</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
<span class="keyword">private</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">trait</span> <a title="trait SystemMessageQueue extends AnyRef" id="akka.dispatch;SystemMessageQueue">SystemMessageQueue</a> <span class="delimiter">{</span>
  <span class="comment">/**
   * Enqueue a new system message, e.g. by prepending atomically as new head of a single-linked list.
   */</span>
  <span class="keyword">def</span> <a title="(receiver: akka.actor.ActorRef, message: akka.dispatch.sysmsg.SystemMessage)Unit" id="akka.dispatch;SystemMessageQueue.systemEnqueue">systemEnqueue</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.dispatch;SystemMessageQueue.systemEnqueue.receiver">receiver</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="akka.dispatch.sysmsg.SystemMessage" id="akka.dispatch;SystemMessageQueue.systemEnqueue.message">message</a>: <a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;SystemMessage" title="akka.dispatch.sysmsg.SystemMessage">SystemMessage</a><span class="delimiter">)</span>: <span title="Unit">Unit</span>

  <span class="comment">/**
   * Dequeue all messages from system queue and return them as single-linked list.
   */</span>
  <span class="keyword">def</span> <a title="(newContents: akka.dispatch.sysmsg.LatestFirstSystemMessageList)akka.dispatch.sysmsg.EarliestFirstSystemMessageList" id="akka.dispatch;SystemMessageQueue.systemDrain">systemDrain</a><span class="delimiter">(</span><a title="akka.dispatch.sysmsg.LatestFirstSystemMessageList" id="akka.dispatch;SystemMessageQueue.systemDrain.newContents">newContents</a>: <a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;LatestFirstSystemMessageList" title="akka.dispatch.sysmsg.LatestFirstSystemMessageList">LatestFirstSystemMessageList</a><span class="delimiter">)</span>: <a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;EarliestFirstSystemMessageList" title="akka.dispatch.sysmsg.EarliestFirstSystemMessageList">EarliestFirstSystemMessageList</a>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="akka.dispatch;SystemMessageQueue.hasSystemMessages">hasSystemMessages</a>: <span title="Boolean">Boolean</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API
 */</span>
<span title="AnyRef" class="keyword">private</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">trait</span> <a title="trait DefaultSystemMessageQueue extends AnyRef" id="akka.dispatch;DefaultSystemMessageQueue">DefaultSystemMessageQueue</a> <span title="Unit" class="delimiter">{</span> self: Mailbox ⇒

  @tailrec
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(receiver: akka.actor.ActorRef, message: akka.dispatch.sysmsg.SystemMessage)Unit" id="akka.dispatch;DefaultSystemMessageQueue.systemEnqueue">systemEnqueue</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.dispatch;DefaultSystemMessageQueue.systemEnqueue.receiver">receiver</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="akka.dispatch.sysmsg.SystemMessage" id="akka.dispatch;DefaultSystemMessageQueue.systemEnqueue.message">message</a>: <a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;SystemMessage" title="akka.dispatch.sysmsg.SystemMessage">SystemMessage</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#akka.dispatch;DefaultSystemMessageQueue.systemEnqueue.message" title="akka.dispatch.sysmsg.SystemMessage">message</a>.<a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;SystemMessage.unlinked" title="=&gt; Boolean">unlinked</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span>Mailbox.<span title="Boolean(false)">debug</span><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#akka.dispatch;DefaultSystemMessageQueue.systemEnqueue.receiver" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">receiver</a> <span title="(other: String)String">+</span> <span title="String(&quot; having enqueued &quot;)" class="string">&quot; having enqueued &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#akka.dispatch;DefaultSystemMessageQueue.systemEnqueue.message" title="akka.dispatch.sysmsg.SystemMessage">message</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="akka.dispatch.sysmsg.LatestFirstSystemMessageList" id="akka.dispatch;DefaultSystemMessageQueue.systemEnqueue.currentList">currentList</a> = <a href="#akka.dispatch;Mailbox.systemQueueGet" title="=&gt; akka.dispatch.sysmsg.LatestFirstSystemMessageList">systemQueueGet</a>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;DefaultSystemMessageQueue.systemEnqueue.currentList" title="akka.dispatch.sysmsg.LatestFirstSystemMessageList">currentList</a>.<a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;LatestFirstSystemMessageList.head" title="=&gt; akka.dispatch.sysmsg.SystemMessage">head</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg.NoMessage" title="akka.dispatch.sysmsg.NoMessage.type">NoMessage</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.actor_=" title="=&gt; akka.actor.ActorCell">actor</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#akka.dispatch;Mailbox.actor_=" title="=&gt; akka.actor.ActorCell">actor</a>.<a href="../actor/ActorCell.scala.html#akka.actor;ActorCell.dispatcher" title="=&gt; akka.dispatch.MessageDispatcher">dispatcher</a>.<a href="AbstractDispatcher.scala.html#akka.dispatch;MessageDispatcher.mailboxes" title="=&gt; akka.dispatch.Mailboxes">mailboxes</a>.<a href="Mailboxes.scala.html#akka.dispatch;Mailboxes.deadLetterMailbox" title="=&gt; akka.dispatch.Mailbox">deadLetterMailbox</a>.<a href="#akka.dispatch;SystemMessageQueue.systemEnqueue" title="(receiver: akka.actor.ActorRef, message: akka.dispatch.sysmsg.SystemMessage)Unit">systemEnqueue</a><span class="delimiter">(</span><a href="#akka.dispatch;DefaultSystemMessageQueue.systemEnqueue.receiver" title="akka.actor.ActorRef">receiver</a>, <a href="#akka.dispatch;DefaultSystemMessageQueue.systemEnqueue.message" title="akka.dispatch.sysmsg.SystemMessage">message</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.dispatch;Mailbox.systemQueuePut" title="(_old: akka.dispatch.sysmsg.LatestFirstSystemMessageList, _new: akka.dispatch.sysmsg.LatestFirstSystemMessageList)Boolean">systemQueuePut</a><span class="delimiter">(</span><a href="#akka.dispatch;DefaultSystemMessageQueue.systemEnqueue.currentList" title="akka.dispatch.sysmsg.LatestFirstSystemMessageList">currentList</a>, <a href="#akka.dispatch;DefaultSystemMessageQueue.systemEnqueue.message" title="akka.dispatch.sysmsg.SystemMessage">message</a> <a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;LatestFirstSystemMessageList.::" title="(msg: akka.dispatch.sysmsg.SystemMessage)akka.dispatch.sysmsg.LatestFirstSystemMessageList">::</a> <a href="#akka.dispatch;DefaultSystemMessageQueue.systemEnqueue.currentList" title="akka.dispatch.sysmsg.LatestFirstSystemMessageList">currentList</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#akka.dispatch;DefaultSystemMessageQueue.systemEnqueue.message" title="akka.dispatch.sysmsg.SystemMessage">message</a>.<a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;SystemMessage.unlink" title="()Unit">unlink</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#akka.dispatch;DefaultSystemMessageQueue.systemEnqueue" title="(receiver: akka.actor.ActorRef, message: akka.dispatch.sysmsg.SystemMessage)Unit">systemEnqueue</a><span class="delimiter">(</span><a href="#akka.dispatch;DefaultSystemMessageQueue.systemEnqueue.receiver" title="akka.actor.ActorRef">receiver</a>, <a href="#akka.dispatch;DefaultSystemMessageQueue.systemEnqueue.message" title="akka.dispatch.sysmsg.SystemMessage">message</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  @tailrec
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(newContents: akka.dispatch.sysmsg.LatestFirstSystemMessageList)akka.dispatch.sysmsg.EarliestFirstSystemMessageList" id="akka.dispatch;DefaultSystemMessageQueue.systemDrain">systemDrain</a><span class="delimiter">(</span><a title="akka.dispatch.sysmsg.LatestFirstSystemMessageList" id="akka.dispatch;DefaultSystemMessageQueue.systemDrain.newContents">newContents</a>: <a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;LatestFirstSystemMessageList" title="akka.dispatch.sysmsg.LatestFirstSystemMessageList">LatestFirstSystemMessageList</a><span class="delimiter">)</span>: <a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;EarliestFirstSystemMessageList" title="akka.dispatch.sysmsg.EarliestFirstSystemMessageList">EarliestFirstSystemMessageList</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="akka.dispatch.sysmsg.LatestFirstSystemMessageList" id="akka.dispatch;DefaultSystemMessageQueue.systemDrain.currentList">currentList</a> = <a href="#akka.dispatch;Mailbox.systemQueueGet" title="=&gt; akka.dispatch.sysmsg.LatestFirstSystemMessageList">systemQueueGet</a>
    <span title="akka.dispatch.sysmsg.EarliestFirstSystemMessageList" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;DefaultSystemMessageQueue.systemDrain.currentList" title="akka.dispatch.sysmsg.LatestFirstSystemMessageList">currentList</a>.<a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;LatestFirstSystemMessageList.head" title="=&gt; akka.dispatch.sysmsg.SystemMessage">head</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg.NoMessage" title="akka.dispatch.sysmsg.NoMessage.type">NoMessage</a><span class="delimiter">)</span> <span title="akka.dispatch.sysmsg.EarliestFirstSystemMessageList" class="keyword">new</span> <a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;EarliestFirstSystemMessageList" title="akka.dispatch.sysmsg.EarliestFirstSystemMessageList">EarliestFirstSystemMessageList</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="akka.dispatch.sysmsg.EarliestFirstSystemMessageList" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;Mailbox.systemQueuePut" title="(_old: akka.dispatch.sysmsg.LatestFirstSystemMessageList, _new: akka.dispatch.sysmsg.LatestFirstSystemMessageList)Boolean">systemQueuePut</a><span class="delimiter">(</span><a href="#akka.dispatch;DefaultSystemMessageQueue.systemDrain.currentList" title="akka.dispatch.sysmsg.LatestFirstSystemMessageList">currentList</a>, <a href="#akka.dispatch;DefaultSystemMessageQueue.systemDrain.newContents" title="akka.dispatch.sysmsg.LatestFirstSystemMessageList">newContents</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.dispatch;DefaultSystemMessageQueue.systemDrain.currentList" title="akka.dispatch.sysmsg.LatestFirstSystemMessageList">currentList</a>.<a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;LatestFirstSystemMessageList.reverse" title="=&gt; akka.dispatch.sysmsg.EarliestFirstSystemMessageList">reverse</a>
    <span class="keyword">else</span> <a href="#akka.dispatch;DefaultSystemMessageQueue.systemDrain" title="(newContents: akka.dispatch.sysmsg.LatestFirstSystemMessageList)akka.dispatch.sysmsg.EarliestFirstSystemMessageList">systemDrain</a><span class="delimiter">(</span><a href="#akka.dispatch;DefaultSystemMessageQueue.systemDrain.newContents" title="akka.dispatch.sysmsg.LatestFirstSystemMessageList">newContents</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="akka.dispatch;DefaultSystemMessageQueue.hasSystemMessages">hasSystemMessages</a>: <span title="Boolean">Boolean</span> = <a href="#akka.dispatch;Mailbox.systemQueueGet" title="=&gt; akka.dispatch.sysmsg.LatestFirstSystemMessageList">systemQueueGet</a>.<a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;LatestFirstSystemMessageList.head" title="=&gt; akka.dispatch.sysmsg.SystemMessage">head</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span> | <a href="sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg.NoMessage" title="akka.dispatch.sysmsg.NoMessage.type">NoMessage</a> ⇒ <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">case</span> _                ⇒ <span title="Boolean(true)" class="keyword">true</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * This is a marker trait for message queues which support multiple consumers,
 * as is required by the BalancingDispatcher.
 */</span>
<span title="AnyRef" class="keyword">trait</span> <a title="trait MultipleConsumerSemantics extends AnyRef" id="akka.dispatch;MultipleConsumerSemantics">MultipleConsumerSemantics</a>

<span class="comment">/**
 * A QueueBasedMessageQueue is a MessageQueue backed by a java.util.Queue.
 */</span>
<span title="AnyRef" class="keyword">trait</span> <a title="trait QueueBasedMessageQueue extends AnyRef with akka.dispatch.MessageQueue with akka.dispatch.MultipleConsumerSemantics" id="akka.dispatch;QueueBasedMessageQueue">QueueBasedMessageQueue</a> <span title="Unit" class="keyword">extends</span> <a href="#akka.dispatch;MessageQueue" title="akka.dispatch.MessageQueue">MessageQueue</a> <span class="keyword">with</span> <a href="#akka.dispatch;MultipleConsumerSemantics" title="akka.dispatch.MultipleConsumerSemantics">MultipleConsumerSemantics</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; java.util.Queue[akka.dispatch.Envelope]" id="akka.dispatch;QueueBasedMessageQueue.queue">queue</a>: <span title="java.util.Queue[akka.dispatch.Envelope]">Queue</span><span class="delimiter">[</span>Envelope<span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="=&gt; Int" id="akka.dispatch;QueueBasedMessageQueue.numberOfMessages">numberOfMessages</a> = <a href="#akka.dispatch;QueueBasedMessageQueue.queue" title="=&gt; java.util.Queue[akka.dispatch.Envelope]">queue</a>.<span title="()Int">size</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="akka.dispatch;QueueBasedMessageQueue.hasMessages">hasMessages</a> = <span title="=&gt; Boolean">!</span><a href="#akka.dispatch;QueueBasedMessageQueue.queue" title="=&gt; java.util.Queue[akka.dispatch.Envelope]">queue</a>.<span title="()Boolean">isEmpty</span>
  <span class="keyword">def</span> <a title="(owner: akka.actor.ActorRef, deadLetters: akka.dispatch.MessageQueue)Unit" id="akka.dispatch;QueueBasedMessageQueue.cleanUp">cleanUp</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.dispatch;QueueBasedMessageQueue.cleanUp.owner">owner</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="akka.dispatch.MessageQueue" id="akka.dispatch;QueueBasedMessageQueue.cleanUp.deadLetters">deadLetters</a>: <a href="#akka.dispatch;MessageQueue" title="akka.dispatch.MessageQueue">MessageQueue</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;QueueBasedMessageQueue.hasMessages" title="=&gt; Boolean">hasMessages</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="akka.dispatch.Envelope" id="akka.dispatch;QueueBasedMessageQueue.cleanUp.envelope">envelope</a> = <a href="#akka.dispatch;MessageQueue.dequeue" title="()akka.dispatch.Envelope">dequeue</a>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#akka.dispatch;QueueBasedMessageQueue.cleanUp.envelope" title="akka.dispatch.Envelope">envelope</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#akka.dispatch;QueueBasedMessageQueue.cleanUp.while$4" title="()Unit" class="delimiter">{</a>
        <a href="#akka.dispatch;QueueBasedMessageQueue.cleanUp.deadLetters" title="akka.dispatch.MessageQueue">deadLetters</a>.<a href="#akka.dispatch;MessageQueue.enqueue" title="(receiver: akka.actor.ActorRef, handle: akka.dispatch.Envelope)Unit">enqueue</a><span class="delimiter">(</span><a href="#akka.dispatch;QueueBasedMessageQueue.cleanUp.owner" title="akka.actor.ActorRef">owner</a>, <a href="#akka.dispatch;QueueBasedMessageQueue.cleanUp.envelope" title="akka.dispatch.Envelope">envelope</a><span class="delimiter">)</span>
        <a href="#akka.dispatch;QueueBasedMessageQueue.cleanUp.envelope" title="akka.dispatch.Envelope">envelope</a> = <a href="#akka.dispatch;MessageQueue.dequeue" title="()akka.dispatch.Envelope">dequeue</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * UnboundedMessageQueueSemantics adds unbounded semantics to a QueueBasedMessageQueue,
 * i.e. a non-blocking enqueue and dequeue.
 */</span>
<span class="keyword">trait</span> <a title="trait UnboundedMessageQueueSemantics extends AnyRef" id="akka.dispatch;UnboundedMessageQueueSemantics">UnboundedMessageQueueSemantics</a>

<span title="AnyRef" class="keyword">trait</span> <a title="trait UnboundedQueueBasedMessageQueue extends AnyRef with akka.dispatch.QueueBasedMessageQueue with akka.dispatch.UnboundedMessageQueueSemantics" id="akka.dispatch;UnboundedQueueBasedMessageQueue">UnboundedQueueBasedMessageQueue</a> <span title="Unit" class="keyword">extends</span> <a href="#akka.dispatch;QueueBasedMessageQueue" title="akka.dispatch.QueueBasedMessageQueue">QueueBasedMessageQueue</a> <span class="keyword">with</span> <a href="#akka.dispatch;UnboundedMessageQueueSemantics" title="akka.dispatch.UnboundedMessageQueueSemantics">UnboundedMessageQueueSemantics</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(receiver: akka.actor.ActorRef, handle: akka.dispatch.Envelope)Unit" id="akka.dispatch;UnboundedQueueBasedMessageQueue.enqueue">enqueue</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.dispatch;UnboundedQueueBasedMessageQueue.enqueue.receiver">receiver</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="akka.dispatch.Envelope" id="akka.dispatch;UnboundedQueueBasedMessageQueue.enqueue.handle">handle</a>: <a href="AbstractDispatcher.scala.html#akka.dispatch;Envelope" title="akka.dispatch.Envelope">Envelope</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.dispatch;QueueBasedMessageQueue.queue" title="=&gt; java.util.Queue[akka.dispatch.Envelope]">queue</a> <span title="(x$1: akka.dispatch.Envelope)Boolean">add</span> <a href="#akka.dispatch;UnboundedQueueBasedMessageQueue.enqueue.handle" title="akka.dispatch.Envelope">handle</a>
  <span class="keyword">def</span> <a title="()akka.dispatch.Envelope" id="akka.dispatch;UnboundedQueueBasedMessageQueue.dequeue">dequeue</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="AbstractDispatcher.scala.html#akka.dispatch;Envelope" title="akka.dispatch.Envelope">Envelope</a> = <a href="#akka.dispatch;QueueBasedMessageQueue.queue" title="=&gt; java.util.Queue[akka.dispatch.Envelope]">queue</a>.<span title="()akka.dispatch.Envelope">poll</span><span class="delimiter">(</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * BoundedMessageQueueSemantics adds bounded semantics to a QueueBasedMessageQueue,
 * i.e. blocking enqueue with timeout.
 */</span>
<span class="keyword">trait</span> <a title="trait BoundedMessageQueueSemantics extends AnyRef" id="akka.dispatch;BoundedMessageQueueSemantics">BoundedMessageQueueSemantics</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; scala.concurrent.duration.Duration" id="akka.dispatch;BoundedMessageQueueSemantics.pushTimeOut">pushTimeOut</a>: <span title="scala.concurrent.duration.Duration">Duration</span>
<span class="delimiter">}</span>

<span title="AnyRef" class="keyword">trait</span> <a title="trait BoundedQueueBasedMessageQueue extends AnyRef with akka.dispatch.QueueBasedMessageQueue with akka.dispatch.BoundedMessageQueueSemantics" id="akka.dispatch;BoundedQueueBasedMessageQueue">BoundedQueueBasedMessageQueue</a> <span title="Unit" class="keyword">extends</span> <a href="#akka.dispatch;QueueBasedMessageQueue" title="akka.dispatch.QueueBasedMessageQueue">QueueBasedMessageQueue</a> <span class="keyword">with</span> <a href="#akka.dispatch;BoundedMessageQueueSemantics" title="akka.dispatch.BoundedMessageQueueSemantics">BoundedMessageQueueSemantics</a> <span class="delimiter">{</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.util.concurrent.BlockingQueue[akka.dispatch.Envelope]" id="akka.dispatch;BoundedQueueBasedMessageQueue.queue">queue</a>: <span title="java.util.concurrent.BlockingQueue[akka.dispatch.Envelope]">BlockingQueue</span><span class="delimiter">[</span>Envelope<span class="delimiter">]</span>

  <span class="keyword">def</span> <a title="(receiver: akka.actor.ActorRef, handle: akka.dispatch.Envelope)Unit" id="akka.dispatch;BoundedQueueBasedMessageQueue.enqueue">enqueue</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.dispatch;BoundedQueueBasedMessageQueue.enqueue.receiver">receiver</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="akka.dispatch.Envelope" id="akka.dispatch;BoundedQueueBasedMessageQueue.enqueue.handle">handle</a>: <a href="AbstractDispatcher.scala.html#akka.dispatch;Envelope" title="akka.dispatch.Envelope">Envelope</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;BoundedMessageQueueSemantics.pushTimeOut" title="=&gt; scala.concurrent.duration.Duration">pushTimeOut</a>.<span title="=&gt; Long">length</span> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.dispatch;BoundedQueueBasedMessageQueue.queue" title="=&gt; java.util.concurrent.BlockingQueue[akka.dispatch.Envelope]">queue</a>.<span title="(x$1: akka.dispatch.Envelope, x$2: Long, x$3: java.util.concurrent.TimeUnit)Boolean">offer</span><span class="delimiter">(</span><a href="#akka.dispatch;BoundedQueueBasedMessageQueue.enqueue.handle" title="akka.dispatch.Envelope">handle</a>, <a href="#akka.dispatch;BoundedMessageQueueSemantics.pushTimeOut" title="=&gt; scala.concurrent.duration.Duration">pushTimeOut</a>.<span title="=&gt; Long">length</span>, <a href="#akka.dispatch;BoundedMessageQueueSemantics.pushTimeOut" title="=&gt; scala.concurrent.duration.Duration">pushTimeOut</a>.<span title="=&gt; scala.concurrent.duration.TimeUnit">unit</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#akka.dispatch;BoundedQueueBasedMessageQueue.enqueue.receiver" title="akka.actor.ActorRef">receiver</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="akka.actor.InternalActorRef" class="delimiter">[</span><a href="../actor/ActorRef.scala.html#akka.actor;InternalActorRef" title="akka.actor.InternalActorRef">InternalActorRef</a><span class="delimiter">]</span>.<a href="../actor/ActorRef.scala.html#akka.actor;InternalActorRef.provider" title="=&gt; akka.actor.ActorRefProvider">provider</a>.<a href="../actor/ActorRefProvider.scala.html#akka.actor;ActorRefProvider.deadLetters" title="=&gt; akka.actor.ActorRef">deadLetters</a>.<a href="../actor/ActorRef.scala.html#akka.actor;ActorRef.tell" title="(msg: Any, sender: akka.actor.ActorRef)Unit">tell</a><span class="delimiter">(</span>
          <a href="../actor/ActorRef.scala.html#akka.actor;DeadLetter" title="(message: Any, sender: akka.actor.ActorRef, recipient: akka.actor.ActorRef)akka.actor.DeadLetter">DeadLetter</a><span class="delimiter">(</span><a href="#akka.dispatch;BoundedQueueBasedMessageQueue.enqueue.handle" title="akka.dispatch.Envelope">handle</a>.<a href="AbstractDispatcher.scala.html#akka.dispatch;Envelope.message" title="=&gt; Any">message</a>, <a href="#akka.dispatch;BoundedQueueBasedMessageQueue.enqueue.handle" title="akka.dispatch.Envelope">handle</a>.<a href="AbstractDispatcher.scala.html#akka.dispatch;Envelope.sender" title="=&gt; akka.actor.ActorRef">sender</a>, <a href="#akka.dispatch;BoundedQueueBasedMessageQueue.enqueue.receiver" title="akka.actor.ActorRef">receiver</a><span class="delimiter">)</span>, <a href="#akka.dispatch;BoundedQueueBasedMessageQueue.enqueue.handle" title="akka.dispatch.Envelope">handle</a>.<a href="AbstractDispatcher.scala.html#akka.dispatch;Envelope.sender" title="=&gt; akka.actor.ActorRef">sender</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#akka.dispatch;BoundedQueueBasedMessageQueue.queue" title="=&gt; java.util.concurrent.BlockingQueue[akka.dispatch.Envelope]">queue</a> <span title="(x$1: akka.dispatch.Envelope)Unit">put</span> <a href="#akka.dispatch;BoundedQueueBasedMessageQueue.enqueue.handle" title="akka.dispatch.Envelope">handle</a>

  <span class="keyword">def</span> <a title="()akka.dispatch.Envelope" id="akka.dispatch;BoundedQueueBasedMessageQueue.dequeue">dequeue</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="AbstractDispatcher.scala.html#akka.dispatch;Envelope" title="akka.dispatch.Envelope">Envelope</a> = <a href="#akka.dispatch;BoundedQueueBasedMessageQueue.queue" title="=&gt; java.util.concurrent.BlockingQueue[akka.dispatch.Envelope]">queue</a>.<span title="()akka.dispatch.Envelope">poll</span><span class="delimiter">(</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * DequeBasedMessageQueue refines QueueBasedMessageQueue to be backed by a java.util.Deque.
 */</span>
<span class="keyword">trait</span> <a title="trait DequeBasedMessageQueueSemantics extends AnyRef" id="akka.dispatch;DequeBasedMessageQueueSemantics">DequeBasedMessageQueueSemantics</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(receiver: akka.actor.ActorRef, handle: akka.dispatch.Envelope)Unit" id="akka.dispatch;DequeBasedMessageQueueSemantics.enqueueFirst">enqueueFirst</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.dispatch;DequeBasedMessageQueueSemantics.enqueueFirst.receiver">receiver</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="akka.dispatch.Envelope" id="akka.dispatch;DequeBasedMessageQueueSemantics.enqueueFirst.handle">handle</a>: <a href="AbstractDispatcher.scala.html#akka.dispatch;Envelope" title="akka.dispatch.Envelope">Envelope</a><span class="delimiter">)</span>: <span title="Unit">Unit</span>
<span class="delimiter">}</span>

<span title="AnyRef" class="keyword">trait</span> <a title="trait UnboundedDequeBasedMessageQueueSemantics extends AnyRef with akka.dispatch.DequeBasedMessageQueueSemantics with akka.dispatch.UnboundedMessageQueueSemantics" id="akka.dispatch;UnboundedDequeBasedMessageQueueSemantics">UnboundedDequeBasedMessageQueueSemantics</a> <span class="keyword">extends</span> <a href="#akka.dispatch;DequeBasedMessageQueueSemantics" title="akka.dispatch.DequeBasedMessageQueueSemantics">DequeBasedMessageQueueSemantics</a> <span class="keyword">with</span> <a href="#akka.dispatch;UnboundedMessageQueueSemantics" title="akka.dispatch.UnboundedMessageQueueSemantics">UnboundedMessageQueueSemantics</a>

<span class="keyword">trait</span> <a title="trait BoundedDequeBasedMessageQueueSemantics extends AnyRef with akka.dispatch.DequeBasedMessageQueueSemantics with akka.dispatch.BoundedMessageQueueSemantics" id="akka.dispatch;BoundedDequeBasedMessageQueueSemantics">BoundedDequeBasedMessageQueueSemantics</a> <span class="keyword">extends</span> <a href="#akka.dispatch;DequeBasedMessageQueueSemantics" title="akka.dispatch.DequeBasedMessageQueueSemantics">DequeBasedMessageQueueSemantics</a> <span class="keyword">with</span> <a href="#akka.dispatch;BoundedMessageQueueSemantics" title="akka.dispatch.BoundedMessageQueueSemantics">BoundedMessageQueueSemantics</a>

<span class="keyword">trait</span> <a title="trait DequeBasedMessageQueue extends AnyRef with akka.dispatch.QueueBasedMessageQueue with akka.dispatch.DequeBasedMessageQueueSemantics" id="akka.dispatch;DequeBasedMessageQueue">DequeBasedMessageQueue</a> <span class="keyword">extends</span> <a href="#akka.dispatch;QueueBasedMessageQueue" title="akka.dispatch.QueueBasedMessageQueue">QueueBasedMessageQueue</a> <span class="keyword">with</span> <a href="#akka.dispatch;DequeBasedMessageQueueSemantics" title="akka.dispatch.DequeBasedMessageQueueSemantics">DequeBasedMessageQueueSemantics</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; java.util.Deque[akka.dispatch.Envelope]" id="akka.dispatch;DequeBasedMessageQueue.queue">queue</a>: <span title="java.util.Deque[akka.dispatch.Envelope]">Deque</span><span class="delimiter">[</span>Envelope<span class="delimiter">]</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * UnboundedDequeBasedMessageQueueSemantics adds unbounded semantics to a DequeBasedMessageQueue,
 * i.e. a non-blocking enqueue and dequeue.
 */</span>
<span class="keyword">trait</span> <a title="trait UnboundedDequeBasedMessageQueue extends AnyRef with akka.dispatch.DequeBasedMessageQueue with akka.dispatch.UnboundedDequeBasedMessageQueueSemantics" id="akka.dispatch;UnboundedDequeBasedMessageQueue">UnboundedDequeBasedMessageQueue</a> <span title="Unit" class="keyword">extends</span> <a href="#akka.dispatch;DequeBasedMessageQueue" title="akka.dispatch.DequeBasedMessageQueue">DequeBasedMessageQueue</a> <span class="keyword">with</span> <a href="#akka.dispatch;UnboundedDequeBasedMessageQueueSemantics" title="akka.dispatch.UnboundedDequeBasedMessageQueueSemantics">UnboundedDequeBasedMessageQueueSemantics</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(receiver: akka.actor.ActorRef, handle: akka.dispatch.Envelope)Unit" id="akka.dispatch;UnboundedDequeBasedMessageQueue.enqueue">enqueue</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.dispatch;UnboundedDequeBasedMessageQueue.enqueue.receiver">receiver</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="akka.dispatch.Envelope" id="akka.dispatch;UnboundedDequeBasedMessageQueue.enqueue.handle">handle</a>: <a href="AbstractDispatcher.scala.html#akka.dispatch;Envelope" title="akka.dispatch.Envelope">Envelope</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.dispatch;DequeBasedMessageQueue.queue" title="=&gt; java.util.Deque[akka.dispatch.Envelope]">queue</a> <span title="(x$1: akka.dispatch.Envelope)Boolean">add</span> <a href="#akka.dispatch;UnboundedDequeBasedMessageQueue.enqueue.handle" title="akka.dispatch.Envelope">handle</a>
  <span class="keyword">def</span> <a title="(receiver: akka.actor.ActorRef, handle: akka.dispatch.Envelope)Unit" id="akka.dispatch;UnboundedDequeBasedMessageQueue.enqueueFirst">enqueueFirst</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.dispatch;UnboundedDequeBasedMessageQueue.enqueueFirst.receiver">receiver</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="akka.dispatch.Envelope" id="akka.dispatch;UnboundedDequeBasedMessageQueue.enqueueFirst.handle">handle</a>: <a href="AbstractDispatcher.scala.html#akka.dispatch;Envelope" title="akka.dispatch.Envelope">Envelope</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.dispatch;DequeBasedMessageQueue.queue" title="=&gt; java.util.Deque[akka.dispatch.Envelope]">queue</a> <span title="(x$1: akka.dispatch.Envelope)Unit">addFirst</span> <a href="#akka.dispatch;UnboundedDequeBasedMessageQueue.enqueueFirst.handle" title="akka.dispatch.Envelope">handle</a>
  <span class="keyword">def</span> <a title="()akka.dispatch.Envelope" id="akka.dispatch;UnboundedDequeBasedMessageQueue.dequeue">dequeue</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="AbstractDispatcher.scala.html#akka.dispatch;Envelope" title="akka.dispatch.Envelope">Envelope</a> = <a href="#akka.dispatch;DequeBasedMessageQueue.queue" title="=&gt; java.util.Deque[akka.dispatch.Envelope]">queue</a>.<span title="()akka.dispatch.Envelope">poll</span><span class="delimiter">(</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * BoundedMessageQueueSemantics adds bounded semantics to a DequeBasedMessageQueue,
 * i.e. blocking enqueue with timeout.
 */</span>
<span class="keyword">trait</span> <a title="trait BoundedDequeBasedMessageQueue extends AnyRef with akka.dispatch.DequeBasedMessageQueue with akka.dispatch.BoundedDequeBasedMessageQueueSemantics" id="akka.dispatch;BoundedDequeBasedMessageQueue">BoundedDequeBasedMessageQueue</a> <span title="Unit" class="keyword">extends</span> <a href="#akka.dispatch;DequeBasedMessageQueue" title="akka.dispatch.DequeBasedMessageQueue">DequeBasedMessageQueue</a> <span class="keyword">with</span> <a href="#akka.dispatch;BoundedDequeBasedMessageQueueSemantics" title="akka.dispatch.BoundedDequeBasedMessageQueueSemantics">BoundedDequeBasedMessageQueueSemantics</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; scala.concurrent.duration.Duration" id="akka.dispatch;BoundedDequeBasedMessageQueue.pushTimeOut">pushTimeOut</a>: <span title="scala.concurrent.duration.Duration">Duration</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.util.concurrent.BlockingDeque[akka.dispatch.Envelope]" id="akka.dispatch;BoundedDequeBasedMessageQueue.queue">queue</a>: <span title="java.util.concurrent.BlockingDeque[akka.dispatch.Envelope]">BlockingDeque</span><span class="delimiter">[</span>Envelope<span class="delimiter">]</span>

  <span class="keyword">def</span> <a title="(receiver: akka.actor.ActorRef, handle: akka.dispatch.Envelope)Unit" id="akka.dispatch;BoundedDequeBasedMessageQueue.enqueue">enqueue</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.dispatch;BoundedDequeBasedMessageQueue.enqueue.receiver">receiver</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="akka.dispatch.Envelope" id="akka.dispatch;BoundedDequeBasedMessageQueue.enqueue.handle">handle</a>: <a href="AbstractDispatcher.scala.html#akka.dispatch;Envelope" title="akka.dispatch.Envelope">Envelope</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;BoundedDequeBasedMessageQueue.pushTimeOut" title="=&gt; scala.concurrent.duration.Duration">pushTimeOut</a>.<span title="=&gt; Long">length</span> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.dispatch;BoundedDequeBasedMessageQueue.queue" title="=&gt; java.util.concurrent.BlockingDeque[akka.dispatch.Envelope]">queue</a>.<span title="(x$1: akka.dispatch.Envelope, x$2: Long, x$3: java.util.concurrent.TimeUnit)Boolean">offer</span><span class="delimiter">(</span><a href="#akka.dispatch;BoundedDequeBasedMessageQueue.enqueue.handle" title="akka.dispatch.Envelope">handle</a>, <a href="#akka.dispatch;BoundedDequeBasedMessageQueue.pushTimeOut" title="=&gt; scala.concurrent.duration.Duration">pushTimeOut</a>.<span title="=&gt; Long">length</span>, <a href="#akka.dispatch;BoundedDequeBasedMessageQueue.pushTimeOut" title="=&gt; scala.concurrent.duration.Duration">pushTimeOut</a>.<span title="=&gt; scala.concurrent.duration.TimeUnit">unit</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#akka.dispatch;BoundedDequeBasedMessageQueue.enqueue.receiver" title="akka.actor.ActorRef">receiver</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="akka.actor.InternalActorRef" class="delimiter">[</span><a href="../actor/ActorRef.scala.html#akka.actor;InternalActorRef" title="akka.actor.InternalActorRef">InternalActorRef</a><span class="delimiter">]</span>.<a href="../actor/ActorRef.scala.html#akka.actor;InternalActorRef.provider" title="=&gt; akka.actor.ActorRefProvider">provider</a>.<a href="../actor/ActorRefProvider.scala.html#akka.actor;ActorRefProvider.deadLetters" title="=&gt; akka.actor.ActorRef">deadLetters</a>.<a href="../actor/ActorRef.scala.html#akka.actor;ActorRef.tell" title="(msg: Any, sender: akka.actor.ActorRef)Unit">tell</a><span class="delimiter">(</span>
          <a href="../actor/ActorRef.scala.html#akka.actor;DeadLetter" title="(message: Any, sender: akka.actor.ActorRef, recipient: akka.actor.ActorRef)akka.actor.DeadLetter">DeadLetter</a><span class="delimiter">(</span><a href="#akka.dispatch;BoundedDequeBasedMessageQueue.enqueue.handle" title="akka.dispatch.Envelope">handle</a>.<a href="AbstractDispatcher.scala.html#akka.dispatch;Envelope.message" title="=&gt; Any">message</a>, <a href="#akka.dispatch;BoundedDequeBasedMessageQueue.enqueue.handle" title="akka.dispatch.Envelope">handle</a>.<a href="AbstractDispatcher.scala.html#akka.dispatch;Envelope.sender" title="=&gt; akka.actor.ActorRef">sender</a>, <a href="#akka.dispatch;BoundedDequeBasedMessageQueue.enqueue.receiver" title="akka.actor.ActorRef">receiver</a><span class="delimiter">)</span>, <a href="#akka.dispatch;BoundedDequeBasedMessageQueue.enqueue.handle" title="akka.dispatch.Envelope">handle</a>.<a href="AbstractDispatcher.scala.html#akka.dispatch;Envelope.sender" title="=&gt; akka.actor.ActorRef">sender</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#akka.dispatch;BoundedDequeBasedMessageQueue.queue" title="=&gt; java.util.concurrent.BlockingDeque[akka.dispatch.Envelope]">queue</a> <span title="(x$1: akka.dispatch.Envelope)Unit">put</span> <a href="#akka.dispatch;BoundedDequeBasedMessageQueue.enqueue.handle" title="akka.dispatch.Envelope">handle</a>

  <span class="keyword">def</span> <a title="(receiver: akka.actor.ActorRef, handle: akka.dispatch.Envelope)Unit" id="akka.dispatch;BoundedDequeBasedMessageQueue.enqueueFirst">enqueueFirst</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.dispatch;BoundedDequeBasedMessageQueue.enqueueFirst.receiver">receiver</a>: <a href="../actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="akka.dispatch.Envelope" id="akka.dispatch;BoundedDequeBasedMessageQueue.enqueueFirst.handle">handle</a>: <a href="AbstractDispatcher.scala.html#akka.dispatch;Envelope" title="akka.dispatch.Envelope">Envelope</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;BoundedDequeBasedMessageQueue.pushTimeOut" title="=&gt; scala.concurrent.duration.Duration">pushTimeOut</a>.<span title="=&gt; Long">length</span> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.dispatch;BoundedDequeBasedMessageQueue.queue" title="=&gt; java.util.concurrent.BlockingDeque[akka.dispatch.Envelope]">queue</a>.<span title="(x$1: akka.dispatch.Envelope, x$2: Long, x$3: java.util.concurrent.TimeUnit)Boolean">offerFirst</span><span class="delimiter">(</span><a href="#akka.dispatch;BoundedDequeBasedMessageQueue.enqueueFirst.handle" title="akka.dispatch.Envelope">handle</a>, <a href="#akka.dispatch;BoundedDequeBasedMessageQueue.pushTimeOut" title="=&gt; scala.concurrent.duration.Duration">pushTimeOut</a>.<span title="=&gt; Long">length</span>, <a href="#akka.dispatch;BoundedDequeBasedMessageQueue.pushTimeOut" title="=&gt; scala.concurrent.duration.Duration">pushTimeOut</a>.<span title="=&gt; scala.concurrent.duration.TimeUnit">unit</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#akka.dispatch;BoundedDequeBasedMessageQueue.enqueueFirst.receiver" title="akka.actor.ActorRef">receiver</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="akka.actor.InternalActorRef" class="delimiter">[</span><a href="../actor/ActorRef.scala.html#akka.actor;InternalActorRef" title="akka.actor.InternalActorRef">InternalActorRef</a><span class="delimiter">]</span>.<a href="../actor/ActorRef.scala.html#akka.actor;InternalActorRef.provider" title="=&gt; akka.actor.ActorRefProvider">provider</a>.<a href="../actor/ActorRefProvider.scala.html#akka.actor;ActorRefProvider.deadLetters" title="=&gt; akka.actor.ActorRef">deadLetters</a>.<a href="../actor/ActorRef.scala.html#akka.actor;ActorRef.tell" title="(msg: Any, sender: akka.actor.ActorRef)Unit">tell</a><span class="delimiter">(</span>
          <a href="../actor/ActorRef.scala.html#akka.actor;DeadLetter" title="(message: Any, sender: akka.actor.ActorRef, recipient: akka.actor.ActorRef)akka.actor.DeadLetter">DeadLetter</a><span class="delimiter">(</span><a href="#akka.dispatch;BoundedDequeBasedMessageQueue.enqueueFirst.handle" title="akka.dispatch.Envelope">handle</a>.<a href="AbstractDispatcher.scala.html#akka.dispatch;Envelope.message" title="=&gt; Any">message</a>, <a href="#akka.dispatch;BoundedDequeBasedMessageQueue.enqueueFirst.handle" title="akka.dispatch.Envelope">handle</a>.<a href="AbstractDispatcher.scala.html#akka.dispatch;Envelope.sender" title="=&gt; akka.actor.ActorRef">sender</a>, <a href="#akka.dispatch;BoundedDequeBasedMessageQueue.enqueueFirst.receiver" title="akka.actor.ActorRef">receiver</a><span class="delimiter">)</span>, <a href="#akka.dispatch;BoundedDequeBasedMessageQueue.enqueueFirst.handle" title="akka.dispatch.Envelope">handle</a>.<a href="AbstractDispatcher.scala.html#akka.dispatch;Envelope.sender" title="=&gt; akka.actor.ActorRef">sender</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#akka.dispatch;BoundedDequeBasedMessageQueue.queue" title="=&gt; java.util.concurrent.BlockingDeque[akka.dispatch.Envelope]">queue</a> <span title="(x$1: akka.dispatch.Envelope)Unit">putFirst</span> <a href="#akka.dispatch;BoundedDequeBasedMessageQueue.enqueueFirst.handle" title="akka.dispatch.Envelope">handle</a>

  <span class="keyword">def</span> <a title="()akka.dispatch.Envelope" id="akka.dispatch;BoundedDequeBasedMessageQueue.dequeue">dequeue</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="AbstractDispatcher.scala.html#akka.dispatch;Envelope" title="akka.dispatch.Envelope">Envelope</a> = <a href="#akka.dispatch;BoundedDequeBasedMessageQueue.queue" title="=&gt; java.util.concurrent.BlockingDeque[akka.dispatch.Envelope]">queue</a>.<span title="()akka.dispatch.Envelope">poll</span><span class="delimiter">(</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * MailboxType is a factory to create MessageQueues for an optionally
 * provided ActorContext.
 *
 * &lt;b&gt;Possibly Important Notice&lt;/b&gt;
 *
 * When implementing a custom mailbox type, be aware that there is special
 * semantics attached to `system.actorOf()` in that sending to the returned
 * ActorRef may—for a short period of time—enqueue the messages first in a
 * dummy queue. Top-level actors are created in two steps, and only after the
 * guardian actor has performed that second step will all previously sent
 * messages be transferred from the dummy queue into the real mailbox.
 */</span>
<span class="keyword">trait</span> <a title="trait MailboxType extends AnyRef" id="akka.dispatch;MailboxType">MailboxType</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(owner: Option[akka.actor.ActorRef], system: Option[akka.actor.ActorSystem])akka.dispatch.MessageQueue" id="akka.dispatch;MailboxType.create">create</a><span class="delimiter">(</span><a title="Option[akka.actor.ActorRef]" id="akka.dispatch;MailboxType.create.owner">owner</a>: <span title="Option[akka.actor.ActorRef]">Option</span><span class="delimiter">[</span>ActorRef<span class="delimiter">]</span>, <a title="Option[akka.actor.ActorSystem]" id="akka.dispatch;MailboxType.create.system">system</a>: <span title="Option[akka.actor.ActorSystem]">Option</span><span class="delimiter">[</span>ActorSystem<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.dispatch;MessageQueue" title="akka.dispatch.MessageQueue">MessageQueue</a>
<span class="delimiter">}</span>

<span title="AnyRef" class="keyword">trait</span> <a title="trait ProducesMessageQueue[T &lt;: akka.dispatch.MessageQueue] extends AnyRef" id="akka.dispatch;ProducesMessageQueue">ProducesMessageQueue</a><span class="delimiter">[</span><a title=" &lt;: akka.dispatch.MessageQueue" id="akka.dispatch;ProducesMessageQueue;T">T</a> &lt;: MessageQueue<span class="delimiter">]</span>

<span class="comment">/**
 * UnboundedMailbox is the default unbounded MailboxType used by Akka Actors.
 */</span>
<span title="AnyRef" class="keyword">case class</span> <a title="class UnboundedMailbox extends AnyRef with akka.dispatch.MailboxType with akka.dispatch.ProducesMessageQueue[akka.dispatch.UnboundedMailbox.MessageQueue] with Product with Serializable" id="akka.dispatch;UnboundedMailbox">UnboundedMailbox</a><a href="#akka.dispatch;UnboundedMailbox" title="Product" class="delimiter">(</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#akka.dispatch;MailboxType" title="akka.dispatch.MailboxType">MailboxType</a> <span class="keyword">with</span> <a href="#akka.dispatch;ProducesMessageQueue" title="akka.dispatch.ProducesMessageQueue[akka.dispatch.UnboundedMailbox.MessageQueue]">ProducesMessageQueue</a><span class="delimiter">[</span>UnboundedMailbox.MessageQueue<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(settings: akka.actor.ActorSystem.Settings, config: com.typesafe.config.Config)akka.dispatch.UnboundedMailbox" id="akka.dispatch;UnboundedMailbox.<init>(836472e9c4)" class="keyword">this</a><span class="delimiter">(</span><a title="akka.actor.ActorSystem.Settings" id="akka.dispatch;UnboundedMailbox.<init>(836472e9c4).settings">settings</a>: ActorSystem.<a href="../actor/ActorSystem.scala.html#akka.actor.ActorSystem;Settings" title="akka.actor.ActorSystem.Settings">Settings</a>, <a title="com.typesafe.config.Config" id="akka.dispatch;UnboundedMailbox.<init>(836472e9c4).config">config</a>: <span title="com.typesafe.config.Config">Config</span><span class="delimiter">)</span> = <a href="#akka.dispatch;UnboundedMailbox" title="UnboundedMailbox.this.type" class="keyword">this</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">final</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="(owner: Option[akka.actor.ActorRef], system: Option[akka.actor.ActorSystem])akka.dispatch.MessageQueue" id="akka.dispatch;UnboundedMailbox.create">create</a><span class="delimiter">(</span><a title="Option[akka.actor.ActorRef]" id="akka.dispatch;UnboundedMailbox.create.owner">owner</a>: <span title="Option[akka.actor.ActorRef]">Option</span><span class="delimiter">[</span>ActorRef<span class="delimiter">]</span>, <a title="Option[akka.actor.ActorSystem]" id="akka.dispatch;UnboundedMailbox.create.system">system</a>: <span title="Option[akka.actor.ActorSystem]">Option</span><span class="delimiter">[</span>ActorSystem<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.dispatch;MessageQueue" title="akka.dispatch.MessageQueue">MessageQueue</a> =
    <span title="akka.dispatch.UnboundedMailbox.MessageQueue" class="keyword">new</span> <a href="#akka.dispatch.UnboundedMailbox.readResolve" title="akka.dispatch.UnboundedMailbox.type">UnboundedMailbox</a>.<a href="#akka.dispatch.UnboundedMailbox;MessageQueue" title="akka.dispatch.UnboundedMailbox.MessageQueue">MessageQueue</a>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="akka.dispatch.UnboundedMailbox.type" id="akka.dispatch.UnboundedMailbox.readResolve">UnboundedMailbox</a> <a href="#akka.dispatch.UnboundedMailbox.readResolve" title="akka.dispatch.UnboundedMailbox.type" class="delimiter">{</a>
  <span class="keyword">class</span> <a title="class MessageQueue extends java.util.concurrent.ConcurrentLinkedQueue[akka.dispatch.Envelope] with akka.dispatch.UnboundedQueueBasedMessageQueue" id="akka.dispatch.UnboundedMailbox;MessageQueue">MessageQueue</a> <a href="#akka.dispatch.UnboundedMailbox;MessageQueue" title="akka.dispatch.UnboundedMailbox.MessageQueue" class="keyword">extends</a> <span title="java.util.concurrent.ConcurrentLinkedQueue[akka.dispatch.Envelope]">ConcurrentLinkedQueue</span><span class="delimiter">[</span>Envelope<span class="delimiter">]</span> <span class="keyword">with</span> <a href="#akka.dispatch;UnboundedQueueBasedMessageQueue" title="akka.dispatch.UnboundedQueueBasedMessageQueue">UnboundedQueueBasedMessageQueue</a> <span class="delimiter">{</span>
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; java.util.Queue[akka.dispatch.Envelope]" id="akka.dispatch.UnboundedMailbox;MessageQueue.queue">queue</a>: <span title="java.util.Queue[akka.dispatch.Envelope]">Queue</span><span class="delimiter">[</span>Envelope<span class="delimiter">]</span> = <a href="#akka.dispatch.UnboundedMailbox;MessageQueue" title="akka.dispatch.UnboundedMailbox.MessageQueue" class="keyword">this</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * SingleConsumerOnlyUnboundedMailbox is a high-performance, multiple producer—single consumer, unbounded MailboxType,
 * the only drawback is that you can't have multiple consumers,
 * which rules out using it with BalancingPool (BalancingDispatcher) for instance.
 */</span>
<span title="AnyRef" class="keyword">case class</span> <a title="class SingleConsumerOnlyUnboundedMailbox extends AnyRef with akka.dispatch.MailboxType with akka.dispatch.ProducesMessageQueue[akka.dispatch.NodeMessageQueue] with Product with Serializable" id="akka.dispatch.SingleConsumerOnlyUnboundedMailbox.readResolve">SingleConsumerOnlyUnboundedMailbox</a><a href="#akka.dispatch.SingleConsumerOnlyUnboundedMailbox.readResolve" title="Product" class="delimiter">(</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#akka.dispatch;MailboxType" title="akka.dispatch.MailboxType">MailboxType</a> <span class="keyword">with</span> <a href="#akka.dispatch;ProducesMessageQueue" title="akka.dispatch.ProducesMessageQueue[akka.dispatch.NodeMessageQueue]">ProducesMessageQueue</a><span class="delimiter">[</span>NodeMessageQueue<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(settings: akka.actor.ActorSystem.Settings, config: com.typesafe.config.Config)akka.dispatch.SingleConsumerOnlyUnboundedMailbox" id="akka.dispatch;SingleConsumerOnlyUnboundedMailbox.<init>(d09f640bd0)" class="keyword">this</a><span class="delimiter">(</span><a title="akka.actor.ActorSystem.Settings" id="akka.dispatch;SingleConsumerOnlyUnboundedMailbox.<init>(d09f640bd0).settings">settings</a>: ActorSystem.<a href="../actor/ActorSystem.scala.html#akka.actor.ActorSystem;Settings" title="akka.actor.ActorSystem.Settings">Settings</a>, <a title="com.typesafe.config.Config" id="akka.dispatch;SingleConsumerOnlyUnboundedMailbox.<init>(d09f640bd0).config">config</a>: <span title="com.typesafe.config.Config">Config</span><span class="delimiter">)</span> = <a href="#akka.dispatch.SingleConsumerOnlyUnboundedMailbox.readResolve" title="SingleConsumerOnlyUnboundedMailbox.this.type" class="keyword">this</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">final</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="(owner: Option[akka.actor.ActorRef], system: Option[akka.actor.ActorSystem])akka.dispatch.MessageQueue" id="akka.dispatch;SingleConsumerOnlyUnboundedMailbox.create">create</a><span class="delimiter">(</span><a title="Option[akka.actor.ActorRef]" id="akka.dispatch;SingleConsumerOnlyUnboundedMailbox.create.owner">owner</a>: <span title="Option[akka.actor.ActorRef]">Option</span><span class="delimiter">[</span>ActorRef<span class="delimiter">]</span>, <a title="Option[akka.actor.ActorSystem]" id="akka.dispatch;SingleConsumerOnlyUnboundedMailbox.create.system">system</a>: <span title="Option[akka.actor.ActorSystem]">Option</span><span class="delimiter">[</span>ActorSystem<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.dispatch;MessageQueue" title="akka.dispatch.MessageQueue">MessageQueue</a> = <span title="akka.dispatch.NodeMessageQueue" class="keyword">new</span> <a href="#akka.dispatch;NodeMessageQueue" title="akka.dispatch.NodeMessageQueue">NodeMessageQueue</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * BoundedMailbox is the default bounded MailboxType used by Akka Actors.
 */</span>
<span class="keyword">case class</span> <a title="class BoundedMailbox extends AnyRef with akka.dispatch.MailboxType with akka.dispatch.ProducesMessageQueue[akka.dispatch.BoundedMailbox.MessageQueue] with Product with Serializable" id="akka.dispatch;BoundedMailbox">BoundedMailbox</a><a href="#akka.dispatch;BoundedMailbox" title="Product" class="delimiter">(</a><span class="keyword">val</span> <a title="Int" id="akka.dispatch;BoundedMailbox.capacity">capacity</a>: <span title="Int">Int</span>, <span class="keyword">val</span> <a title="scala.concurrent.duration.FiniteDuration" id="akka.dispatch;BoundedMailbox.pushTimeOut">pushTimeOut</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="#akka.dispatch;MailboxType" title="akka.dispatch.MailboxType">MailboxType</a> <span class="keyword">with</span> <a href="#akka.dispatch;ProducesMessageQueue" title="akka.dispatch.ProducesMessageQueue[akka.dispatch.BoundedMailbox.MessageQueue]">ProducesMessageQueue</a><span class="delimiter">[</span>BoundedMailbox.MessageQueue<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(settings: akka.actor.ActorSystem.Settings, config: com.typesafe.config.Config)akka.dispatch.BoundedMailbox" id="akka.dispatch;BoundedMailbox.<init>(2c07d19f03)" class="keyword">this</a><span class="delimiter">(</span><a title="akka.actor.ActorSystem.Settings" id="akka.dispatch;BoundedMailbox.<init>(2c07d19f03).settings">settings</a>: ActorSystem.<a href="../actor/ActorSystem.scala.html#akka.actor.ActorSystem;Settings" title="akka.actor.ActorSystem.Settings">Settings</a>, <a title="com.typesafe.config.Config" id="akka.dispatch;BoundedMailbox.<init>(2c07d19f03).config">config</a>: <span title="com.typesafe.config.Config">Config</span><span class="delimiter">)</span> = <a href="#akka.dispatch;BoundedMailbox" title="BoundedMailbox.this.type" class="keyword">this</a><span class="delimiter">(</span><a href="#akka.dispatch;BoundedMailbox.<init>(2c07d19f03).config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String)Int">getInt</span><span class="delimiter">(</span><span title="String(&quot;mailbox-capacity&quot;)" class="string">&quot;mailbox-capacity&quot;</span><span class="delimiter">)</span>,
    <a href="../util/Helpers.scala.html#akka.util.Helpers.ConfigOps(7001b1cdb7)" title="implicit akka.util.Helpers.ConfigOps : (config: com.typesafe.config.Config)akka.util.Helpers.ConfigOps">config</a>.<a href="../util/Helpers.scala.html#akka.util.Helpers;ConfigOps.getNanosDuration" title="(path: String)scala.concurrent.duration.FiniteDuration">getNanosDuration</a><span class="delimiter">(</span><span title="String(&quot;mailbox-push-timeout-time&quot;)" class="string">&quot;mailbox-push-timeout-time&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;BoundedMailbox.capacity" title="=&gt; Int">capacity</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalArgumentException" class="keyword">new</span> <span title="IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span><span title="String(&quot;The capacity for BoundedMailbox can not be negative&quot;)" class="string">&quot;The capacity for BoundedMailbox can not be negative&quot;</span><span class="delimiter">)</span>
  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;BoundedMailbox.pushTimeOut" title="=&gt; scala.concurrent.duration.FiniteDuration">pushTimeOut</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalArgumentException" class="keyword">new</span> <span title="IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span><span title="String(&quot;The push time-out for BoundedMailbox can not be null&quot;)" class="string">&quot;The push time-out for BoundedMailbox can not be null&quot;</span><span class="delimiter">)</span>

  <span class="keyword">final</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="(owner: Option[akka.actor.ActorRef], system: Option[akka.actor.ActorSystem])akka.dispatch.MessageQueue" id="akka.dispatch;BoundedMailbox.create">create</a><span class="delimiter">(</span><a title="Option[akka.actor.ActorRef]" id="akka.dispatch;BoundedMailbox.create.owner">owner</a>: <span title="Option[akka.actor.ActorRef]">Option</span><span class="delimiter">[</span>ActorRef<span class="delimiter">]</span>, <a title="Option[akka.actor.ActorSystem]" id="akka.dispatch;BoundedMailbox.create.system">system</a>: <span title="Option[akka.actor.ActorSystem]">Option</span><span class="delimiter">[</span>ActorSystem<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.dispatch;MessageQueue" title="akka.dispatch.MessageQueue">MessageQueue</a> =
    <span title="akka.dispatch.BoundedMailbox.MessageQueue" class="keyword">new</span> <a href="#akka.dispatch.BoundedMailbox.readResolve" title="akka.dispatch.BoundedMailbox.type">BoundedMailbox</a>.<a href="#akka.dispatch.BoundedMailbox;MessageQueue" title="akka.dispatch.BoundedMailbox.MessageQueue">MessageQueue</a><span class="delimiter">(</span><a href="#akka.dispatch;BoundedMailbox.capacity" title="=&gt; Int">capacity</a>, <a href="#akka.dispatch;BoundedMailbox.pushTimeOut" title="=&gt; scala.concurrent.duration.FiniteDuration">pushTimeOut</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="akka.dispatch.BoundedMailbox.type" id="akka.dispatch.BoundedMailbox.readResolve">BoundedMailbox</a> <a href="#akka.dispatch.BoundedMailbox.readResolve" title="akka.dispatch.BoundedMailbox.type" class="delimiter">{</a>
  <span class="keyword">class</span> <a title="class MessageQueue extends java.util.concurrent.LinkedBlockingQueue[akka.dispatch.Envelope] with akka.dispatch.BoundedQueueBasedMessageQueue" id="akka.dispatch.BoundedMailbox;MessageQueue">MessageQueue</a><a href="#akka.dispatch.BoundedMailbox;MessageQueue" title="akka.dispatch.BoundedMailbox.MessageQueue" class="delimiter">(</a><a title="Int" id="akka.dispatch.BoundedMailbox;MessageQueue.capacity">capacity</a>: <span title="Int">Int</span>, <span class="keyword">final</span> <span class="keyword">val</span> <a title="scala.concurrent.duration.FiniteDuration" id="akka.dispatch.BoundedMailbox;MessageQueue.pushTimeOut">pushTimeOut</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">)</span>
    <span class="keyword">extends</span> <span title="java.util.concurrent.LinkedBlockingQueue[akka.dispatch.Envelope]">LinkedBlockingQueue</span><span class="delimiter">[</span>Envelope<span class="delimiter">]</span><span class="delimiter">(</span><a href="#akka.dispatch.BoundedMailbox;MessageQueue.capacity" title="Int">capacity</a><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#akka.dispatch;BoundedQueueBasedMessageQueue" title="akka.dispatch.BoundedQueueBasedMessageQueue">BoundedQueueBasedMessageQueue</a> <span class="delimiter">{</span>
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; java.util.concurrent.BlockingQueue[akka.dispatch.Envelope]" id="akka.dispatch.BoundedMailbox;MessageQueue.queue">queue</a>: <span title="java.util.concurrent.BlockingQueue[akka.dispatch.Envelope]">BlockingQueue</span><span class="delimiter">[</span>Envelope<span class="delimiter">]</span> = <a href="#akka.dispatch.BoundedMailbox;MessageQueue" title="akka.dispatch.BoundedMailbox.MessageQueue" class="keyword">this</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * UnboundedPriorityMailbox is an unbounded mailbox that allows for prioritization of its contents.
 * Extend this class and provide the Comparator in the constructor.
 */</span>
<span title="AnyRef" class="keyword">class</span> <a title="class UnboundedPriorityMailbox extends AnyRef with akka.dispatch.MailboxType with akka.dispatch.ProducesMessageQueue[akka.dispatch.UnboundedPriorityMailbox.MessageQueue]" id="akka.dispatch;UnboundedPriorityMailbox">UnboundedPriorityMailbox</a><a href="#akka.dispatch;UnboundedPriorityMailbox" title="akka.dispatch.UnboundedPriorityMailbox" class="delimiter">(</a><span class="keyword">val</span> <a title="java.util.Comparator[akka.dispatch.Envelope]" id="akka.dispatch;UnboundedPriorityMailbox.cmp">cmp</a>: <span title="java.util.Comparator[akka.dispatch.Envelope]">Comparator</span><span class="delimiter">[</span>Envelope<span class="delimiter">]</span>, <span class="keyword">val</span> <a title="Int" id="akka.dispatch;UnboundedPriorityMailbox.initialCapacity">initialCapacity</a>: <span title="Int">Int</span><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="#akka.dispatch;MailboxType" title="akka.dispatch.MailboxType">MailboxType</a> <span class="keyword">with</span> <a href="#akka.dispatch;ProducesMessageQueue" title="akka.dispatch.ProducesMessageQueue[akka.dispatch.UnboundedPriorityMailbox.MessageQueue]">ProducesMessageQueue</a><span class="delimiter">[</span>UnboundedPriorityMailbox.MessageQueue<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(cmp: java.util.Comparator[akka.dispatch.Envelope])akka.dispatch.UnboundedPriorityMailbox" id="akka.dispatch;UnboundedPriorityMailbox.<init>(057ed67753)" class="keyword">this</a><span class="delimiter">(</span><a title="java.util.Comparator[akka.dispatch.Envelope]" id="akka.dispatch;UnboundedPriorityMailbox.<init>(057ed67753).cmp">cmp</a>: <span title="java.util.Comparator[akka.dispatch.Envelope]">Comparator</span><span class="delimiter">[</span>Envelope<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#akka.dispatch;UnboundedPriorityMailbox" title="UnboundedPriorityMailbox.this.type" class="keyword">this</a><span class="delimiter">(</span><a href="#akka.dispatch;UnboundedPriorityMailbox.<init>(057ed67753).cmp" title="java.util.Comparator[akka.dispatch.Envelope]">cmp</a>, <span title="Int(11)" class="int">11</span><span class="delimiter">)</span>
  <span class="keyword">final</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="(owner: Option[akka.actor.ActorRef], system: Option[akka.actor.ActorSystem])akka.dispatch.MessageQueue" id="akka.dispatch;UnboundedPriorityMailbox.create">create</a><span class="delimiter">(</span><a title="Option[akka.actor.ActorRef]" id="akka.dispatch;UnboundedPriorityMailbox.create.owner">owner</a>: <span title="Option[akka.actor.ActorRef]">Option</span><span class="delimiter">[</span>ActorRef<span class="delimiter">]</span>, <a title="Option[akka.actor.ActorSystem]" id="akka.dispatch;UnboundedPriorityMailbox.create.system">system</a>: <span title="Option[akka.actor.ActorSystem]">Option</span><span class="delimiter">[</span>ActorSystem<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.dispatch;MessageQueue" title="akka.dispatch.MessageQueue">MessageQueue</a> =
    <span title="akka.dispatch.UnboundedPriorityMailbox.MessageQueue" class="keyword">new</span> <a href="#akka.dispatch.UnboundedPriorityMailbox" title="akka.dispatch.UnboundedPriorityMailbox.type">UnboundedPriorityMailbox</a>.<a href="#akka.dispatch.UnboundedPriorityMailbox;MessageQueue" title="akka.dispatch.UnboundedPriorityMailbox.MessageQueue">MessageQueue</a><span class="delimiter">(</span><a href="#akka.dispatch;UnboundedPriorityMailbox.initialCapacity" title="=&gt; Int">initialCapacity</a>, <a href="#akka.dispatch;UnboundedPriorityMailbox.cmp" title="=&gt; java.util.Comparator[akka.dispatch.Envelope]">cmp</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="akka.dispatch.UnboundedPriorityMailbox.type" id="akka.dispatch.UnboundedPriorityMailbox">UnboundedPriorityMailbox</a> <a href="#akka.dispatch.UnboundedPriorityMailbox" title="akka.dispatch.UnboundedPriorityMailbox.type" class="delimiter">{</a>
  <span class="keyword">class</span> <a title="class MessageQueue extends java.util.concurrent.PriorityBlockingQueue[akka.dispatch.Envelope] with akka.dispatch.UnboundedQueueBasedMessageQueue" id="akka.dispatch.UnboundedPriorityMailbox;MessageQueue">MessageQueue</a><a href="#akka.dispatch.UnboundedPriorityMailbox;MessageQueue" title="akka.dispatch.UnboundedPriorityMailbox.MessageQueue" class="delimiter">(</a><a title="Int" id="akka.dispatch.UnboundedPriorityMailbox;MessageQueue.initialCapacity">initialCapacity</a>: <span title="Int">Int</span>, <a title="java.util.Comparator[akka.dispatch.Envelope]" id="akka.dispatch.UnboundedPriorityMailbox;MessageQueue.cmp">cmp</a>: <span title="java.util.Comparator[akka.dispatch.Envelope]">Comparator</span><span class="delimiter">[</span>Envelope<span class="delimiter">]</span><span class="delimiter">)</span>
    <span class="keyword">extends</span> <span title="java.util.concurrent.PriorityBlockingQueue[akka.dispatch.Envelope]">PriorityBlockingQueue</span><span class="delimiter">[</span>Envelope<span class="delimiter">]</span><span class="delimiter">(</span><a href="#akka.dispatch.UnboundedPriorityMailbox;MessageQueue.initialCapacity" title="Int">initialCapacity</a>, <a href="#akka.dispatch.UnboundedPriorityMailbox;MessageQueue.cmp" title="java.util.Comparator[akka.dispatch.Envelope]">cmp</a><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#akka.dispatch;UnboundedQueueBasedMessageQueue" title="akka.dispatch.UnboundedQueueBasedMessageQueue">UnboundedQueueBasedMessageQueue</a> <span class="delimiter">{</span>
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; java.util.Queue[akka.dispatch.Envelope]" id="akka.dispatch.UnboundedPriorityMailbox;MessageQueue.queue">queue</a>: <span title="java.util.Queue[akka.dispatch.Envelope]">Queue</span><span class="delimiter">[</span>Envelope<span class="delimiter">]</span> = <a href="#akka.dispatch.UnboundedPriorityMailbox;MessageQueue" title="akka.dispatch.UnboundedPriorityMailbox.MessageQueue" class="keyword">this</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * BoundedPriorityMailbox is a bounded mailbox that allows for prioritization of its contents.
 * Extend this class and provide the Comparator in the constructor.
 */</span>
<span title="AnyRef" class="keyword">class</span> <a title="class BoundedPriorityMailbox extends AnyRef with akka.dispatch.MailboxType with akka.dispatch.ProducesMessageQueue[akka.dispatch.BoundedPriorityMailbox.MessageQueue]" id="akka.dispatch;BoundedPriorityMailbox">BoundedPriorityMailbox</a><a href="#akka.dispatch;BoundedPriorityMailbox" title="akka.dispatch.BoundedPriorityMailbox" class="delimiter">(</a> <span class="keyword">final</span> <span class="keyword">val</span> <a title="java.util.Comparator[akka.dispatch.Envelope]" id="akka.dispatch;BoundedPriorityMailbox.cmp">cmp</a>: <span title="java.util.Comparator[akka.dispatch.Envelope]">Comparator</span><span class="delimiter">[</span>Envelope<span class="delimiter">]</span>, <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int" id="akka.dispatch;BoundedPriorityMailbox.capacity">capacity</a>: <span title="Int">Int</span>, <span class="keyword">final</span> <span class="keyword">val</span> <a title="scala.concurrent.duration.Duration" id="akka.dispatch;BoundedPriorityMailbox.pushTimeOut">pushTimeOut</a>: <span title="scala.concurrent.duration.Duration">Duration</span><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="#akka.dispatch;MailboxType" title="akka.dispatch.MailboxType">MailboxType</a> <span class="keyword">with</span> <a href="#akka.dispatch;ProducesMessageQueue" title="akka.dispatch.ProducesMessageQueue[akka.dispatch.BoundedPriorityMailbox.MessageQueue]">ProducesMessageQueue</a><span class="delimiter">[</span>BoundedPriorityMailbox.MessageQueue<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;BoundedPriorityMailbox.capacity" title="=&gt; Int">capacity</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalArgumentException" class="keyword">new</span> <span title="IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span><span title="String(&quot;The capacity for BoundedMailbox can not be negative&quot;)" class="string">&quot;The capacity for BoundedMailbox can not be negative&quot;</span><span class="delimiter">)</span>
  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;BoundedPriorityMailbox.pushTimeOut" title="=&gt; scala.concurrent.duration.Duration">pushTimeOut</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalArgumentException" class="keyword">new</span> <span title="IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span><span title="String(&quot;The push time-out for BoundedMailbox can not be null&quot;)" class="string">&quot;The push time-out for BoundedMailbox can not be null&quot;</span><span class="delimiter">)</span>

  <span class="keyword">final</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="(owner: Option[akka.actor.ActorRef], system: Option[akka.actor.ActorSystem])akka.dispatch.MessageQueue" id="akka.dispatch;BoundedPriorityMailbox.create">create</a><span class="delimiter">(</span><a title="Option[akka.actor.ActorRef]" id="akka.dispatch;BoundedPriorityMailbox.create.owner">owner</a>: <span title="Option[akka.actor.ActorRef]">Option</span><span class="delimiter">[</span>ActorRef<span class="delimiter">]</span>, <a title="Option[akka.actor.ActorSystem]" id="akka.dispatch;BoundedPriorityMailbox.create.system">system</a>: <span title="Option[akka.actor.ActorSystem]">Option</span><span class="delimiter">[</span>ActorSystem<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.dispatch;MessageQueue" title="akka.dispatch.MessageQueue">MessageQueue</a> =
    <span title="akka.dispatch.BoundedPriorityMailbox.MessageQueue" class="keyword">new</span> <a href="#akka.dispatch.BoundedPriorityMailbox" title="akka.dispatch.BoundedPriorityMailbox.type">BoundedPriorityMailbox</a>.<a href="#akka.dispatch.BoundedPriorityMailbox;MessageQueue" title="akka.dispatch.BoundedPriorityMailbox.MessageQueue">MessageQueue</a><span class="delimiter">(</span><a href="#akka.dispatch;BoundedPriorityMailbox.capacity" title="=&gt; Int">capacity</a>, <a href="#akka.dispatch;BoundedPriorityMailbox.cmp" title="=&gt; java.util.Comparator[akka.dispatch.Envelope]">cmp</a>, <a href="#akka.dispatch;BoundedPriorityMailbox.pushTimeOut" title="=&gt; scala.concurrent.duration.Duration">pushTimeOut</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="akka.dispatch.BoundedPriorityMailbox.type" id="akka.dispatch.BoundedPriorityMailbox">BoundedPriorityMailbox</a> <a href="#akka.dispatch.BoundedPriorityMailbox" title="akka.dispatch.BoundedPriorityMailbox.type" class="delimiter">{</a>
  <span class="keyword">class</span> <a title="class MessageQueue extends akka.util.BoundedBlockingQueue[akka.dispatch.Envelope] with akka.dispatch.BoundedQueueBasedMessageQueue" id="akka.dispatch.BoundedPriorityMailbox;MessageQueue">MessageQueue</a><a href="#akka.dispatch.BoundedPriorityMailbox;MessageQueue" title="akka.dispatch.BoundedPriorityMailbox.MessageQueue" class="delimiter">(</a><a title="Int" id="akka.dispatch.BoundedPriorityMailbox;MessageQueue.capacity">capacity</a>: <span title="Int">Int</span>, <a title="java.util.Comparator[akka.dispatch.Envelope]" id="akka.dispatch.BoundedPriorityMailbox;MessageQueue.cmp">cmp</a>: <span title="java.util.Comparator[akka.dispatch.Envelope]">Comparator</span><span class="delimiter">[</span>Envelope<span class="delimiter">]</span>, <span class="keyword">val</span> <a title="scala.concurrent.duration.Duration" id="akka.dispatch.BoundedPriorityMailbox;MessageQueue.pushTimeOut">pushTimeOut</a>: <span title="scala.concurrent.duration.Duration">Duration</span><span class="delimiter">)</span>
    <span class="keyword">extends</span> <a href="../util/BoundedBlockingQueue.scala.html#akka.util;BoundedBlockingQueue" title="akka.util.BoundedBlockingQueue[akka.dispatch.Envelope]">BoundedBlockingQueue</a><span class="delimiter">[</span>Envelope<span class="delimiter">]</span><span class="delimiter">(</span><a href="#akka.dispatch.BoundedPriorityMailbox;MessageQueue.capacity" title="Int">capacity</a>, <span title="(x$1: Int, x$2: java.util.Comparator[_ &gt;: akka.dispatch.Envelope])java.util.PriorityQueue[akka.dispatch.Envelope]" class="keyword">new</span> <span title="java.util.PriorityQueue[akka.dispatch.Envelope]">PriorityQueue</span><span class="delimiter">[</span>Envelope<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(11)" class="int">11</span>, <a href="#akka.dispatch.BoundedPriorityMailbox;MessageQueue.cmp" title="java.util.Comparator[akka.dispatch.Envelope]">cmp</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">with</span> <a href="#akka.dispatch;BoundedQueueBasedMessageQueue" title="akka.dispatch.BoundedQueueBasedMessageQueue">BoundedQueueBasedMessageQueue</a> <span class="delimiter">{</span>
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; java.util.concurrent.BlockingQueue[akka.dispatch.Envelope]" id="akka.dispatch.BoundedPriorityMailbox;MessageQueue.queue">queue</a>: <span title="java.util.concurrent.BlockingQueue[akka.dispatch.Envelope]">BlockingQueue</span><span class="delimiter">[</span>Envelope<span class="delimiter">]</span> = <a href="#akka.dispatch.BoundedPriorityMailbox;MessageQueue" title="akka.dispatch.BoundedPriorityMailbox.MessageQueue" class="keyword">this</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * UnboundedDequeBasedMailbox is an unbounded MailboxType, backed by a Deque.
 */</span>
<span title="AnyRef" class="keyword">case class</span> <a title="class UnboundedDequeBasedMailbox extends AnyRef with akka.dispatch.MailboxType with akka.dispatch.ProducesMessageQueue[akka.dispatch.UnboundedDequeBasedMailbox.MessageQueue] with Product with Serializable" id="akka.dispatch;UnboundedDequeBasedMailbox">UnboundedDequeBasedMailbox</a><a href="#akka.dispatch;UnboundedDequeBasedMailbox" title="Product" class="delimiter">(</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#akka.dispatch;MailboxType" title="akka.dispatch.MailboxType">MailboxType</a> <span class="keyword">with</span> <a href="#akka.dispatch;ProducesMessageQueue" title="akka.dispatch.ProducesMessageQueue[akka.dispatch.UnboundedDequeBasedMailbox.MessageQueue]">ProducesMessageQueue</a><span class="delimiter">[</span>UnboundedDequeBasedMailbox.MessageQueue<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(settings: akka.actor.ActorSystem.Settings, config: com.typesafe.config.Config)akka.dispatch.UnboundedDequeBasedMailbox" id="akka.dispatch;UnboundedDequeBasedMailbox.<init>(b4092c434b)" class="keyword">this</a><span class="delimiter">(</span><a title="akka.actor.ActorSystem.Settings" id="akka.dispatch;UnboundedDequeBasedMailbox.<init>(b4092c434b).settings">settings</a>: ActorSystem.<a href="../actor/ActorSystem.scala.html#akka.actor.ActorSystem;Settings" title="akka.actor.ActorSystem.Settings">Settings</a>, <a title="com.typesafe.config.Config" id="akka.dispatch;UnboundedDequeBasedMailbox.<init>(b4092c434b).config">config</a>: <span title="com.typesafe.config.Config">Config</span><span class="delimiter">)</span> = <a href="#akka.dispatch;UnboundedDequeBasedMailbox" title="UnboundedDequeBasedMailbox.this.type" class="keyword">this</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">final</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="(owner: Option[akka.actor.ActorRef], system: Option[akka.actor.ActorSystem])akka.dispatch.MessageQueue" id="akka.dispatch;UnboundedDequeBasedMailbox.create">create</a><span class="delimiter">(</span><a title="Option[akka.actor.ActorRef]" id="akka.dispatch;UnboundedDequeBasedMailbox.create.owner">owner</a>: <span title="Option[akka.actor.ActorRef]">Option</span><span class="delimiter">[</span>ActorRef<span class="delimiter">]</span>, <a title="Option[akka.actor.ActorSystem]" id="akka.dispatch;UnboundedDequeBasedMailbox.create.system">system</a>: <span title="Option[akka.actor.ActorSystem]">Option</span><span class="delimiter">[</span>ActorSystem<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.dispatch;MessageQueue" title="akka.dispatch.MessageQueue">MessageQueue</a> =
    <span title="akka.dispatch.UnboundedDequeBasedMailbox.MessageQueue" class="keyword">new</span> <a href="#akka.dispatch.UnboundedDequeBasedMailbox.readResolve" title="akka.dispatch.UnboundedDequeBasedMailbox.type">UnboundedDequeBasedMailbox</a>.<a href="#akka.dispatch.UnboundedDequeBasedMailbox;MessageQueue" title="akka.dispatch.UnboundedDequeBasedMailbox.MessageQueue">MessageQueue</a>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="akka.dispatch.UnboundedDequeBasedMailbox.type" id="akka.dispatch.UnboundedDequeBasedMailbox.readResolve">UnboundedDequeBasedMailbox</a> <a href="#akka.dispatch.UnboundedDequeBasedMailbox.readResolve" title="akka.dispatch.UnboundedDequeBasedMailbox.type" class="delimiter">{</a>
  <span class="keyword">class</span> <a title="class MessageQueue extends java.util.concurrent.LinkedBlockingDeque[akka.dispatch.Envelope] with akka.dispatch.UnboundedDequeBasedMessageQueue" id="akka.dispatch.UnboundedDequeBasedMailbox;MessageQueue">MessageQueue</a> <a href="#akka.dispatch.UnboundedDequeBasedMailbox;MessageQueue" title="akka.dispatch.UnboundedDequeBasedMailbox.MessageQueue" class="keyword">extends</a> <span title="java.util.concurrent.LinkedBlockingDeque[akka.dispatch.Envelope]">LinkedBlockingDeque</span><span class="delimiter">[</span>Envelope<span class="delimiter">]</span> <span class="keyword">with</span> <a href="#akka.dispatch;UnboundedDequeBasedMessageQueue" title="akka.dispatch.UnboundedDequeBasedMessageQueue">UnboundedDequeBasedMessageQueue</a> <span class="delimiter">{</span>
    <span class="keyword">final</span> <span class="keyword">val</span> <a title="akka.dispatch.UnboundedDequeBasedMailbox.MessageQueue" id="akka.dispatch.UnboundedDequeBasedMailbox;MessageQueue.queue">queue</a> = <a href="#akka.dispatch.UnboundedDequeBasedMailbox;MessageQueue" title="akka.dispatch.UnboundedDequeBasedMailbox.MessageQueue" class="keyword">this</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * BoundedDequeBasedMailbox is an bounded MailboxType, backed by a Deque.
 */</span>
<span title="AnyRef" class="keyword">case class</span> <a title="class BoundedDequeBasedMailbox extends AnyRef with akka.dispatch.MailboxType with akka.dispatch.ProducesMessageQueue[akka.dispatch.BoundedDequeBasedMailbox.MessageQueue] with Product with Serializable" id="akka.dispatch;BoundedDequeBasedMailbox">BoundedDequeBasedMailbox</a><a href="#akka.dispatch;BoundedDequeBasedMailbox" title="Product" class="delimiter">(</a> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int" id="akka.dispatch;BoundedDequeBasedMailbox.capacity">capacity</a>: <span title="Int">Int</span>, <span class="keyword">final</span> <span class="keyword">val</span> <a title="scala.concurrent.duration.FiniteDuration" id="akka.dispatch;BoundedDequeBasedMailbox.pushTimeOut">pushTimeOut</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="#akka.dispatch;MailboxType" title="akka.dispatch.MailboxType">MailboxType</a> <span class="keyword">with</span> <a href="#akka.dispatch;ProducesMessageQueue" title="akka.dispatch.ProducesMessageQueue[akka.dispatch.BoundedDequeBasedMailbox.MessageQueue]">ProducesMessageQueue</a><span class="delimiter">[</span>BoundedDequeBasedMailbox.MessageQueue<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(settings: akka.actor.ActorSystem.Settings, config: com.typesafe.config.Config)akka.dispatch.BoundedDequeBasedMailbox" id="akka.dispatch;BoundedDequeBasedMailbox.<init>(f01fe1d8b2)" class="keyword">this</a><span class="delimiter">(</span><a title="akka.actor.ActorSystem.Settings" id="akka.dispatch;BoundedDequeBasedMailbox.<init>(f01fe1d8b2).settings">settings</a>: ActorSystem.<a href="../actor/ActorSystem.scala.html#akka.actor.ActorSystem;Settings" title="akka.actor.ActorSystem.Settings">Settings</a>, <a title="com.typesafe.config.Config" id="akka.dispatch;BoundedDequeBasedMailbox.<init>(f01fe1d8b2).config">config</a>: <span title="com.typesafe.config.Config">Config</span><span class="delimiter">)</span> = <a href="#akka.dispatch;BoundedDequeBasedMailbox" title="BoundedDequeBasedMailbox.this.type" class="keyword">this</a><span class="delimiter">(</span><a href="#akka.dispatch;BoundedDequeBasedMailbox.<init>(f01fe1d8b2).config" title="com.typesafe.config.Config">config</a>.<span title="(x$1: String)Int">getInt</span><span class="delimiter">(</span><span title="String(&quot;mailbox-capacity&quot;)" class="string">&quot;mailbox-capacity&quot;</span><span class="delimiter">)</span>,
    <a href="../util/Helpers.scala.html#akka.util.Helpers.ConfigOps(7001b1cdb7)" title="implicit akka.util.Helpers.ConfigOps : (config: com.typesafe.config.Config)akka.util.Helpers.ConfigOps">config</a>.<a href="../util/Helpers.scala.html#akka.util.Helpers;ConfigOps.getNanosDuration" title="(path: String)scala.concurrent.duration.FiniteDuration">getNanosDuration</a><span class="delimiter">(</span><span title="String(&quot;mailbox-push-timeout-time&quot;)" class="string">&quot;mailbox-push-timeout-time&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;BoundedDequeBasedMailbox.capacity" title="=&gt; Int">capacity</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalArgumentException" class="keyword">new</span> <span title="IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span><span title="String(&quot;The capacity for BoundedDequeBasedMailbox can not be negative&quot;)" class="string">&quot;The capacity for BoundedDequeBasedMailbox can not be negative&quot;</span><span class="delimiter">)</span>
  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.dispatch;BoundedDequeBasedMailbox.pushTimeOut" title="=&gt; scala.concurrent.duration.FiniteDuration">pushTimeOut</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalArgumentException" class="keyword">new</span> <span title="IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span><span title="String(&quot;The push time-out for BoundedDequeBasedMailbox can not be null&quot;)" class="string">&quot;The push time-out for BoundedDequeBasedMailbox can not be null&quot;</span><span class="delimiter">)</span>

  <span class="keyword">final</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="(owner: Option[akka.actor.ActorRef], system: Option[akka.actor.ActorSystem])akka.dispatch.MessageQueue" id="akka.dispatch;BoundedDequeBasedMailbox.create">create</a><span class="delimiter">(</span><a title="Option[akka.actor.ActorRef]" id="akka.dispatch;BoundedDequeBasedMailbox.create.owner">owner</a>: <span title="Option[akka.actor.ActorRef]">Option</span><span class="delimiter">[</span>ActorRef<span class="delimiter">]</span>, <a title="Option[akka.actor.ActorSystem]" id="akka.dispatch;BoundedDequeBasedMailbox.create.system">system</a>: <span title="Option[akka.actor.ActorSystem]">Option</span><span class="delimiter">[</span>ActorSystem<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.dispatch;MessageQueue" title="akka.dispatch.MessageQueue">MessageQueue</a> =
    <span title="akka.dispatch.BoundedDequeBasedMailbox.MessageQueue" class="keyword">new</span> <a href="#akka.dispatch.BoundedDequeBasedMailbox.readResolve" title="akka.dispatch.BoundedDequeBasedMailbox.type">BoundedDequeBasedMailbox</a>.<a href="#akka.dispatch.BoundedDequeBasedMailbox;MessageQueue" title="akka.dispatch.BoundedDequeBasedMailbox.MessageQueue">MessageQueue</a><span class="delimiter">(</span><a href="#akka.dispatch;BoundedDequeBasedMailbox.capacity" title="=&gt; Int">capacity</a>, <a href="#akka.dispatch;BoundedDequeBasedMailbox.pushTimeOut" title="=&gt; scala.concurrent.duration.FiniteDuration">pushTimeOut</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="akka.dispatch.BoundedDequeBasedMailbox.type" id="akka.dispatch.BoundedDequeBasedMailbox.readResolve">BoundedDequeBasedMailbox</a> <a href="#akka.dispatch.BoundedDequeBasedMailbox.readResolve" title="akka.dispatch.BoundedDequeBasedMailbox.type" class="delimiter">{</a>
  <span class="keyword">class</span> <a title="class MessageQueue extends java.util.concurrent.LinkedBlockingDeque[akka.dispatch.Envelope] with akka.dispatch.BoundedDequeBasedMessageQueue" id="akka.dispatch.BoundedDequeBasedMailbox;MessageQueue">MessageQueue</a><a href="#akka.dispatch.BoundedDequeBasedMailbox;MessageQueue" title="akka.dispatch.BoundedDequeBasedMailbox.MessageQueue" class="delimiter">(</a><a title="Int" id="akka.dispatch.BoundedDequeBasedMailbox;MessageQueue.capacity">capacity</a>: <span title="Int">Int</span>, <span class="keyword">val</span> <a title="scala.concurrent.duration.FiniteDuration" id="akka.dispatch.BoundedDequeBasedMailbox;MessageQueue.pushTimeOut">pushTimeOut</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">)</span>
    <span class="keyword">extends</span> <span title="java.util.concurrent.LinkedBlockingDeque[akka.dispatch.Envelope]">LinkedBlockingDeque</span><span class="delimiter">[</span>Envelope<span class="delimiter">]</span><span class="delimiter">(</span><a href="#akka.dispatch.BoundedDequeBasedMailbox;MessageQueue.capacity" title="Int">capacity</a><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#akka.dispatch;BoundedDequeBasedMessageQueue" title="akka.dispatch.BoundedDequeBasedMessageQueue">BoundedDequeBasedMessageQueue</a> <span class="delimiter">{</span>
    <span class="keyword">final</span> <span class="keyword">val</span> <a title="akka.dispatch.BoundedDequeBasedMailbox.MessageQueue" id="akka.dispatch.BoundedDequeBasedMailbox;MessageQueue.queue">queue</a> = <a href="#akka.dispatch.BoundedDequeBasedMailbox;MessageQueue" title="akka.dispatch.BoundedDequeBasedMailbox.MessageQueue" class="keyword">this</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Trait to signal that an Actor requires a certain type of message queue semantics.
 *
 * The mailbox type will be looked up by mapping the type T via akka.actor.mailbox.requirements in the config,
 * to a mailbox configuration. If no mailbox is assigned on Props or in deployment config then this one will be used.
 *
 * The queue type of the created mailbox will be checked against the type T and actor creation will fail if it doesn't
 * fulfill the requirements.
 */</span>
<span title="AnyRef" class="keyword">trait</span> <a title="trait RequiresMessageQueue[T] extends AnyRef" id="akka.dispatch;RequiresMessageQueue">RequiresMessageQueue</a><span class="delimiter">[</span><a title="" id="akka.dispatch;RequiresMessageQueue;T">T</a><span class="delimiter">]</span>

        </pre>
    </body>
</html>
