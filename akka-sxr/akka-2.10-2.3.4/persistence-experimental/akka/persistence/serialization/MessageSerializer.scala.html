<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>persistence-experimental/akka/persistence/serialization/MessageSerializer.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (C) 2009-2014 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>

<span class="keyword">package</span> akka.persistence.serialization

<span class="keyword">import</span> scala.<span title="language.type">language</span>.existentials
<span class="keyword">import</span> com.google.protobuf._
<span class="keyword">import</span> akka.actor.<span class="delimiter">{</span> ActorPath, ExtendedActorSystem <span class="delimiter">}</span>
<span class="keyword">import</span> akka.japi.<a href="../../../../actor/akka/japi/JavaAPI.scala.html#akka.japi.Util" title="akka.japi.Util.type">Util</a>.immutableSeq
<span class="keyword">import</span> akka.persistence._
<span class="keyword">import</span> akka.persistence.serialization.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats" title="akka.persistence.serialization.MessageFormats.type">MessageFormats</a>._
<span class="keyword">import</span> akka.serialization._
<span class="keyword">import</span> akka.persistence.<a href="../AtLeastOnceDelivery.scala.html#akka.persistence.AtLeastOnceDelivery" title="akka.persistence.AtLeastOnceDelivery.type">AtLeastOnceDelivery</a>.<span class="delimiter">{</span> AtLeastOnceDeliverySnapshot ⇒ AtLeastOnceDeliverySnap <span class="delimiter">}</span>
<span class="keyword">import</span> akka.persistence.<a href="../AtLeastOnceDelivery.scala.html#akka.persistence.AtLeastOnceDelivery" title="akka.persistence.AtLeastOnceDelivery.type">AtLeastOnceDelivery</a>.UnconfirmedDelivery
<span class="keyword">import</span> scala.collection.immutable.VectorBuilder

<span class="comment">/**
 * Marker trait for all protobuf-serializable messages in `akka.persistence`.
 */</span>
<span class="keyword">trait</span> <a title="trait Message extends AnyRef with Serializable" id="akka.persistence.serialization;Message">Message</a> <span class="keyword">extends</span> <span title="Serializable">Serializable</span>

<span class="comment">/**
 * Protobuf serializer for [[PersistentBatch]], [[PersistentRepr]] and [[Deliver]] messages.
 */</span>
<span class="keyword">class</span> <a title="class MessageSerializer extends AnyRef with akka.serialization.Serializer" id="akka.persistence.serialization;MessageSerializer">MessageSerializer</a><a href="#akka.persistence.serialization;MessageSerializer" title="akka.persistence.serialization.MessageSerializer" class="delimiter">(</a><span class="keyword">val</span> <a title="akka.actor.ExtendedActorSystem" id="akka.persistence.serialization;MessageSerializer.system">system</a>: <a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ExtendedActorSystem" title="akka.actor.ExtendedActorSystem">ExtendedActorSystem</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../../actor/akka/serialization/Serializer.scala.html#akka.serialization;Serializer" title="akka.serialization.Serializer">Serializer</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="../Persistent.scala.html#akka.persistence.PersistentRepr" title="akka.persistence.PersistentRepr.type">PersistentRepr</a>.Undefined

  <span class="keyword">val</span> <a title="Class[akka.persistence.PersistentBatch]" id="akka.persistence.serialization;MessageSerializer.PersistentBatchClass">PersistentBatchClass</a> = classOf<span title="Class[akka.persistence.PersistentBatch](classOf[akka.persistence.PersistentBatch])" class="delimiter">[</span>PersistentBatch<span class="delimiter">]</span>
  <span class="keyword">val</span> <a title="Class[akka.persistence.PersistentRepr]" id="akka.persistence.serialization;MessageSerializer.PersistentReprClass">PersistentReprClass</a> = classOf<span title="Class[akka.persistence.PersistentRepr](classOf[akka.persistence.PersistentRepr])" class="delimiter">[</span>PersistentRepr<span class="delimiter">]</span>
  <span class="keyword">val</span> <a title="Class[akka.persistence.PersistentImpl]" id="akka.persistence.serialization;MessageSerializer.PersistentImplClass">PersistentImplClass</a> = classOf<span title="Class[akka.persistence.PersistentImpl](classOf[akka.persistence.PersistentImpl])" class="delimiter">[</span>PersistentImpl<span class="delimiter">]</span>
  <span class="keyword">val</span> <a title="Class[akka.persistence.ConfirmablePersistentImpl]" id="akka.persistence.serialization;MessageSerializer.ConfirmablePersistentImplClass">ConfirmablePersistentImplClass</a> = classOf<span title="Class[akka.persistence.ConfirmablePersistentImpl](classOf[akka.persistence.ConfirmablePersistentImpl])" class="delimiter">[</span>ConfirmablePersistentImpl<span class="delimiter">]</span>
  <span class="keyword">val</span> <a title="Class[akka.persistence.DeliveredByChannel]" id="akka.persistence.serialization;MessageSerializer.DeliveredByTransientChannelClass">DeliveredByTransientChannelClass</a> = classOf<span title="Class[akka.persistence.DeliveredByChannel](classOf[akka.persistence.DeliveredByChannel])" class="delimiter">[</span>DeliveredByChannel<span class="delimiter">]</span>
  <span class="keyword">val</span> <a title="Class[akka.persistence.DeliveredByPersistentChannel]" id="akka.persistence.serialization;MessageSerializer.DeliveredByPersistentChannelClass">DeliveredByPersistentChannelClass</a> = classOf<span title="Class[akka.persistence.DeliveredByPersistentChannel](classOf[akka.persistence.DeliveredByPersistentChannel])" class="delimiter">[</span>DeliveredByPersistentChannel<span class="delimiter">]</span>
  <span class="keyword">val</span> <a title="Class[akka.persistence.Deliver]" id="akka.persistence.serialization;MessageSerializer.DeliverClass">DeliverClass</a> = classOf<span title="Class[akka.persistence.Deliver](classOf[akka.persistence.Deliver])" class="delimiter">[</span>Deliver<span class="delimiter">]</span>
  <span class="keyword">val</span> <a title="Class[akka.persistence.AtLeastOnceDelivery.AtLeastOnceDeliverySnapshot]" id="akka.persistence.serialization;MessageSerializer.AtLeastOnceDeliverySnapshotClass">AtLeastOnceDeliverySnapshotClass</a> = classOf<span title="Class[akka.persistence.AtLeastOnceDelivery.AtLeastOnceDeliverySnapshot](classOf[akka.persistence.AtLeastOnceDelivery$$AtLeastOnceDeliverySnapshot])" class="delimiter">[</span>AtLeastOnceDeliverySnap<span class="delimiter">]</span>

  <span class="keyword">def</span> <a title="=&gt; Int" id="akka.persistence.serialization;MessageSerializer.identifier">identifier</a>: <span title="Int">Int</span> = <span title="Int(7)" class="int">7</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="akka.persistence.serialization;MessageSerializer.includeManifest">includeManifest</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span>

  <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Option[akka.serialization.Serialization.Information]" id="akka.persistence.serialization;MessageSerializer.transportInformation">transportInformation</a>: <span title="Option[akka.serialization.Serialization.Information]">Option</span><span class="delimiter">[</span>Serialization.Information<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="akka.actor.Address" id="akka.persistence.serialization;MessageSerializer.transportInformation.address">address</a> = <a href="#akka.persistence.serialization;MessageSerializer.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ExtendedActorSystem.provider" title="=&gt; akka.actor.ActorRefProvider">provider</a>.<a href="../../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefProvider.getDefaultAddress" title="=&gt; akka.actor.Address">getDefaultAddress</a>
    <span title="Option[akka.serialization.Serialization.Information]" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.transportInformation.address" title="akka.actor.Address">address</a>.<a href="../../../../actor/akka/actor/Address.scala.html#akka.actor;Address.hasLocalScope" title="=&gt; Boolean">hasLocalScope</a><span class="delimiter">)</span> <span title="None.type">None</span>
    <span class="keyword">else</span> <span title="(x: akka.serialization.Serialization.Information)Some[akka.serialization.Serialization.Information]">Some</span><span class="delimiter">(</span><a href="../../../../actor/akka/serialization/Serialization.scala.html#akka.serialization.Serialization" title="akka.serialization.Serialization.type">Serialization</a>.<a href="../../../../actor/akka/serialization/Serialization.scala.html#akka.serialization.Serialization;Information" title="(address: akka.actor.Address, system: akka.actor.ActorSystem)akka.serialization.Serialization.Information">Information</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.transportInformation.address" title="akka.actor.Address">address</a>, <a href="#akka.persistence.serialization;MessageSerializer.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Serializes [[PersistentBatch]], [[PersistentRepr]] and [[Deliver]] messages. Delegates
   * serialization of a persistent message's payload to a matching `akka.serialization.Serializer`.
   */</span>
  <span class="keyword">def</span> <a title="(o: AnyRef)Array[Byte]" id="akka.persistence.serialization;MessageSerializer.toBinary">toBinary</a><span class="delimiter">(</span><a title="AnyRef" id="akka.persistence.serialization;MessageSerializer.toBinary.o">o</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span> = <a href="#akka.persistence.serialization;MessageSerializer.toBinary.o" title="AnyRef">o</a> <span title="Array[Byte]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="akka.persistence.PersistentBatch" id="akka.persistence.serialization;MessageSerializer.toBinary.b">b</a>: <a href="../Persistent.scala.html#akka.persistence;PersistentBatch" title="akka.persistence.PersistentBatch">PersistentBatch</a>              ⇒ <a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBatchBuilder" title="(persistentBatch: akka.persistence.PersistentBatch)akka.persistence.serialization.MessageFormats.PersistentMessageBatch.Builder">persistentMessageBatchBuilder</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.toBinary.b" title="akka.persistence.PersistentBatch">b</a><span class="delimiter">)</span>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentMessageBatch;Builder.build" title="()akka.persistence.serialization.MessageFormats.PersistentMessageBatch">build</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="()Array[Byte]">toByteArray</span>
    <span class="keyword">case</span> <a title="akka.persistence.PersistentRepr" id="akka.persistence.serialization;MessageSerializer.toBinary.p">p</a>: <a href="../Persistent.scala.html#akka.persistence;PersistentRepr" title="akka.persistence.PersistentRepr">PersistentRepr</a>               ⇒ <a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBuilder" title="(persistent: akka.persistence.PersistentRepr)akka.persistence.serialization.MessageFormats.PersistentMessage.Builder">persistentMessageBuilder</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.toBinary.p" title="akka.persistence.PersistentRepr">p</a><span class="delimiter">)</span>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentMessage;Builder.build" title="()akka.persistence.serialization.MessageFormats.PersistentMessage">build</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="()Array[Byte]">toByteArray</span>
    <span class="keyword">case</span> <span title="akka.persistence.DeliveredByChannel">c</span>: <a href="../Channel.scala.html#akka.persistence;DeliveredByChannel" title="akka.persistence.DeliveredByChannel">DeliveredByChannel</a>           ⇒ <a href="#akka.persistence.serialization;MessageSerializer.deliveredMessageBuilder" title="(delivered: akka.persistence.Delivered)akka.persistence.serialization.MessageFormats.DeliveredMessage.Builder">deliveredMessageBuilder</a><span class="delimiter">(</span><span title="akka.persistence.DeliveredByChannel">c</span><span class="delimiter">)</span>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.DeliveredMessage;Builder.build" title="()akka.persistence.serialization.MessageFormats.DeliveredMessage">build</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="()Array[Byte]">toByteArray</span>
    <span class="keyword">case</span> <span title="akka.persistence.DeliveredByPersistentChannel">c</span>: <a href="../PersistentChannel.scala.html#akka.persistence;DeliveredByPersistentChannel" title="akka.persistence.DeliveredByPersistentChannel">DeliveredByPersistentChannel</a> ⇒ <a href="#akka.persistence.serialization;MessageSerializer.deliveredMessageBuilder" title="(delivered: akka.persistence.Delivered)akka.persistence.serialization.MessageFormats.DeliveredMessage.Builder">deliveredMessageBuilder</a><span class="delimiter">(</span><span title="akka.persistence.DeliveredByPersistentChannel">c</span><span class="delimiter">)</span>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.DeliveredMessage;Builder.build" title="()akka.persistence.serialization.MessageFormats.DeliveredMessage">build</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="()Array[Byte]">toByteArray</span>
    <span class="keyword">case</span> <a title="akka.persistence.Deliver" id="akka.persistence.serialization;MessageSerializer.toBinary.d">d</a>: <a href="../Channel.scala.html#akka.persistence;Deliver" title="akka.persistence.Deliver">Deliver</a>                      ⇒ <a href="#akka.persistence.serialization;MessageSerializer.deliverMessageBuilder" title="(deliver: akka.persistence.Deliver)akka.persistence.serialization.MessageFormats.DeliverMessage.Builder">deliverMessageBuilder</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.toBinary.d" title="akka.persistence.Deliver">d</a><span class="delimiter">)</span>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.DeliverMessage;Builder.build" title="()akka.persistence.serialization.MessageFormats.DeliverMessage">build</a>.<span title="()Array[Byte]">toByteArray</span>
    <span class="keyword">case</span> <a title="akka.persistence.AtLeastOnceDelivery.AtLeastOnceDeliverySnapshot" id="akka.persistence.serialization;MessageSerializer.toBinary.a">a</a>: <a href="../AtLeastOnceDelivery.scala.html#akka.persistence.AtLeastOnceDelivery;AtLeastOnceDeliverySnapshot" title="akka.persistence.AtLeastOnceDelivery.AtLeastOnceDeliverySnapshot">AtLeastOnceDeliverySnap</a>      ⇒ <a href="#akka.persistence.serialization;MessageSerializer.atLeastOnceDeliverySnapshotBuilder" title="(snap: akka.persistence.AtLeastOnceDelivery.AtLeastOnceDeliverySnapshot)akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.Builder">atLeastOnceDeliverySnapshotBuilder</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.toBinary.a" title="akka.persistence.AtLeastOnceDelivery.AtLeastOnceDeliverySnapshot">a</a><span class="delimiter">)</span>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot;Builder.build" title="()akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot">build</a>.<span title="()Array[Byte]">toByteArray</span>
    <span class="keyword">case</span> _                               ⇒ <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalArgumentException" class="keyword">new</span> <span title="IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Can\'t serialize object of type &quot;)">Can't serialize object of type $</span><span class="delimiter">{</span><a href="#akka.persistence.serialization;MessageSerializer.toBinary.o" title="AnyRef">o</a>.<span title="()Class[_]">getClass</span><span class="delimiter">}</span><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Deserializes [[PersistentBatch]], [[PersistentRepr]] and [[Deliver]] messages. Delegates
   * deserialization of a persistent message's payload to a matching `akka.serialization.Serializer`.
   */</span>
  <span class="keyword">def</span> <a title="(bytes: Array[Byte], manifest: Option[Class[_]])akka.persistence.serialization.Message" id="akka.persistence.serialization;MessageSerializer.fromBinary(ab885c0a9f)">fromBinary</a><span class="delimiter">(</span><a title="Array[Byte]" id="akka.persistence.serialization;MessageSerializer.fromBinary(ab885c0a9f).bytes">bytes</a>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span>, <a title="Option[Class[_]]" id="akka.persistence.serialization;MessageSerializer.fromBinary(ab885c0a9f).manifest">manifest</a>: <span title="Option[Class[_]]">Option</span><span class="delimiter">[</span>Class<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#akka.persistence.serialization;Message" title="akka.persistence.serialization.Message">Message</a> = <a href="#akka.persistence.serialization;MessageSerializer.fromBinary(ab885c0a9f).manifest" title="Option[Class[_]]">manifest</a> <span title="akka.persistence.serialization.Message" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="None.type">None</span> ⇒ <a href="#akka.persistence.serialization;MessageSerializer.persistent" title="(persistentMessage: akka.persistence.serialization.MessageFormats.PersistentMessage)akka.persistence.PersistentRepr">persistent</a><span class="delimiter">(</span><a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentMessage" title="akka.persistence.serialization.MessageFormats.PersistentMessage.type">PersistentMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentMessage.parseFrom(d60dfcbfdd)" title="(data: Array[Byte])akka.persistence.serialization.MessageFormats.PersistentMessage">parseFrom</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.fromBinary(ab885c0a9f).bytes" title="Array[Byte]">bytes</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="Class[_]" id="akka.persistence.serialization;MessageSerializer.fromBinary(ab885c0a9f).c">c</a><span class="delimiter">)</span> ⇒ <a href="#akka.persistence.serialization;MessageSerializer.fromBinary(ab885c0a9f).c" title="Class[_]">c</a> <span title="akka.persistence.serialization.Message" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#akka.persistence.serialization;MessageSerializer.PersistentImplClass" title="=&gt; Class[akka.persistence.PersistentImpl]">PersistentImplClass</a>               ⇒ <a href="#akka.persistence.serialization;MessageSerializer.persistent" title="(persistentMessage: akka.persistence.serialization.MessageFormats.PersistentMessage)akka.persistence.PersistentRepr">persistent</a><span class="delimiter">(</span><a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentMessage" title="akka.persistence.serialization.MessageFormats.PersistentMessage.type">PersistentMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentMessage.parseFrom(d60dfcbfdd)" title="(data: Array[Byte])akka.persistence.serialization.MessageFormats.PersistentMessage">parseFrom</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.fromBinary(ab885c0a9f).bytes" title="Array[Byte]">bytes</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="#akka.persistence.serialization;MessageSerializer.ConfirmablePersistentImplClass" title="=&gt; Class[akka.persistence.ConfirmablePersistentImpl]">ConfirmablePersistentImplClass</a>    ⇒ <a href="#akka.persistence.serialization;MessageSerializer.persistent" title="(persistentMessage: akka.persistence.serialization.MessageFormats.PersistentMessage)akka.persistence.PersistentRepr">persistent</a><span class="delimiter">(</span><a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentMessage" title="akka.persistence.serialization.MessageFormats.PersistentMessage.type">PersistentMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentMessage.parseFrom(d60dfcbfdd)" title="(data: Array[Byte])akka.persistence.serialization.MessageFormats.PersistentMessage">parseFrom</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.fromBinary(ab885c0a9f).bytes" title="Array[Byte]">bytes</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="#akka.persistence.serialization;MessageSerializer.PersistentReprClass" title="=&gt; Class[akka.persistence.PersistentRepr]">PersistentReprClass</a>               ⇒ <a href="#akka.persistence.serialization;MessageSerializer.persistent" title="(persistentMessage: akka.persistence.serialization.MessageFormats.PersistentMessage)akka.persistence.PersistentRepr">persistent</a><span class="delimiter">(</span><a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentMessage" title="akka.persistence.serialization.MessageFormats.PersistentMessage.type">PersistentMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentMessage.parseFrom(d60dfcbfdd)" title="(data: Array[Byte])akka.persistence.serialization.MessageFormats.PersistentMessage">parseFrom</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.fromBinary(ab885c0a9f).bytes" title="Array[Byte]">bytes</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="#akka.persistence.serialization;MessageSerializer.PersistentBatchClass" title="=&gt; Class[akka.persistence.PersistentBatch]">PersistentBatchClass</a>              ⇒ <a href="#akka.persistence.serialization;MessageSerializer.persistentBatch" title="(persistentMessageBatch: akka.persistence.serialization.MessageFormats.PersistentMessageBatch)akka.persistence.PersistentBatch">persistentBatch</a><span class="delimiter">(</span><a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentMessageBatch" title="akka.persistence.serialization.MessageFormats.PersistentMessageBatch.type">PersistentMessageBatch</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentMessageBatch.parseFrom(ca3ca5acb2)" title="(data: Array[Byte])akka.persistence.serialization.MessageFormats.PersistentMessageBatch">parseFrom</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.fromBinary(ab885c0a9f).bytes" title="Array[Byte]">bytes</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="#akka.persistence.serialization;MessageSerializer.DeliveredByTransientChannelClass" title="=&gt; Class[akka.persistence.DeliveredByChannel]">DeliveredByTransientChannelClass</a>  ⇒ <a href="#akka.persistence.serialization;MessageSerializer.delivered" title="(deliveredMessage: akka.persistence.serialization.MessageFormats.DeliveredMessage)akka.persistence.Delivered">delivered</a><span class="delimiter">(</span><a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.DeliveredMessage" title="akka.persistence.serialization.MessageFormats.DeliveredMessage.type">DeliveredMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.DeliveredMessage.parseFrom(bea0ed1517)" title="(data: Array[Byte])akka.persistence.serialization.MessageFormats.DeliveredMessage">parseFrom</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.fromBinary(ab885c0a9f).bytes" title="Array[Byte]">bytes</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="#akka.persistence.serialization;MessageSerializer.DeliveredByPersistentChannelClass" title="=&gt; Class[akka.persistence.DeliveredByPersistentChannel]">DeliveredByPersistentChannelClass</a> ⇒ <a href="#akka.persistence.serialization;MessageSerializer.delivered" title="(deliveredMessage: akka.persistence.serialization.MessageFormats.DeliveredMessage)akka.persistence.Delivered">delivered</a><span class="delimiter">(</span><a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.DeliveredMessage" title="akka.persistence.serialization.MessageFormats.DeliveredMessage.type">DeliveredMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.DeliveredMessage.parseFrom(bea0ed1517)" title="(data: Array[Byte])akka.persistence.serialization.MessageFormats.DeliveredMessage">parseFrom</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.fromBinary(ab885c0a9f).bytes" title="Array[Byte]">bytes</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="#akka.persistence.serialization;MessageSerializer.DeliverClass" title="=&gt; Class[akka.persistence.Deliver]">DeliverClass</a>                      ⇒ <a href="#akka.persistence.serialization;MessageSerializer.deliver" title="(deliverMessage: akka.persistence.serialization.MessageFormats.DeliverMessage)akka.persistence.Deliver">deliver</a><span class="delimiter">(</span><a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.DeliverMessage" title="akka.persistence.serialization.MessageFormats.DeliverMessage.type">DeliverMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.DeliverMessage.parseFrom(a57bdb1b21)" title="(data: Array[Byte])akka.persistence.serialization.MessageFormats.DeliverMessage">parseFrom</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.fromBinary(ab885c0a9f).bytes" title="Array[Byte]">bytes</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="#akka.persistence.serialization;MessageSerializer.AtLeastOnceDeliverySnapshotClass" title="=&gt; Class[akka.persistence.AtLeastOnceDelivery.AtLeastOnceDeliverySnapshot]">AtLeastOnceDeliverySnapshotClass</a>  ⇒ <a href="#akka.persistence.serialization;MessageSerializer.atLeastOnceDeliverySnapshot" title="(atLeastOnceDeliverySnapshot: akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot)akka.persistence.AtLeastOnceDelivery.AtLeastOnceDeliverySnapshot">atLeastOnceDeliverySnapshot</a><span class="delimiter">(</span><a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot" title="akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.type">AtLeastOnceDeliverySnapshot</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.parseFrom(ae29eae71b)" title="(data: Array[Byte])akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot">parseFrom</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.fromBinary(ab885c0a9f).bytes" title="Array[Byte]">bytes</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> _                                 ⇒ <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalArgumentException" class="keyword">new</span> <span title="IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Can\'t deserialize object of type &quot;)">Can't deserialize object of type $</span><span class="delimiter">{</span><a href="#akka.persistence.serialization;MessageSerializer.fromBinary(ab885c0a9f).c" title="Class[_]">c</a><span class="delimiter">}</span><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">//</span>
  <span class="comment">// toBinary helpers</span>
  <span class="comment">//</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(deliver: akka.persistence.Deliver)akka.persistence.serialization.MessageFormats.DeliverMessage.Builder" id="akka.persistence.serialization;MessageSerializer.deliverMessageBuilder">deliverMessageBuilder</a><span class="delimiter">(</span><a title="akka.persistence.Deliver" id="akka.persistence.serialization;MessageSerializer.deliverMessageBuilder.deliver">deliver</a>: <a href="../Channel.scala.html#akka.persistence;Deliver" title="akka.persistence.Deliver">Deliver</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="akka.persistence.serialization.MessageFormats.DeliverMessage.Builder" id="akka.persistence.serialization;MessageSerializer.deliverMessageBuilder.builder">builder</a> = <a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.DeliverMessage" title="akka.persistence.serialization.MessageFormats.DeliverMessage.type">DeliverMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.DeliverMessage.newBuilder(f27506ab26)" title="()akka.persistence.serialization.MessageFormats.DeliverMessage.Builder">newBuilder</a>
    <a href="#akka.persistence.serialization;MessageSerializer.deliverMessageBuilder.builder" title="akka.persistence.serialization.MessageFormats.DeliverMessage.Builder">builder</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.DeliverMessage;Builder.setPersistent(d7652971e2)" title="(builderForValue: akka.persistence.serialization.MessageFormats.PersistentMessage.Builder)akka.persistence.serialization.MessageFormats.DeliverMessage.Builder">setPersistent</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBuilder" title="(persistent: akka.persistence.PersistentRepr)akka.persistence.serialization.MessageFormats.PersistentMessage.Builder">persistentMessageBuilder</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.deliverMessageBuilder.deliver" title="akka.persistence.Deliver">deliver</a>.<a href="../Channel.scala.html#akka.persistence;Deliver.persistent" title="=&gt; akka.persistence.Persistent">persistent</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="akka.persistence.PersistentRepr" class="delimiter">[</span><a href="../Persistent.scala.html#akka.persistence;PersistentRepr" title="akka.persistence.PersistentRepr">PersistentRepr</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#akka.persistence.serialization;MessageSerializer.deliverMessageBuilder.builder" title="akka.persistence.serialization.MessageFormats.DeliverMessage.Builder">builder</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.DeliverMessage;Builder.setDestination" title="(value: String)akka.persistence.serialization.MessageFormats.DeliverMessage.Builder">setDestination</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.deliverMessageBuilder.deliver" title="akka.persistence.Deliver">deliver</a>.<a href="../Channel.scala.html#akka.persistence;Deliver.destination" title="=&gt; akka.actor.ActorPath">destination</a>.<span title="()String">toString</span><span class="delimiter">)</span>
    <a href="#akka.persistence.serialization;MessageSerializer.deliverMessageBuilder.builder" title="akka.persistence.serialization.MessageFormats.DeliverMessage.Builder">builder</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(snap: akka.persistence.AtLeastOnceDelivery.AtLeastOnceDeliverySnapshot)akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.Builder" id="akka.persistence.serialization;MessageSerializer.atLeastOnceDeliverySnapshotBuilder">atLeastOnceDeliverySnapshotBuilder</a><span class="delimiter">(</span><a title="akka.persistence.AtLeastOnceDelivery.AtLeastOnceDeliverySnapshot" id="akka.persistence.serialization;MessageSerializer.atLeastOnceDeliverySnapshotBuilder.snap">snap</a>: <a href="../AtLeastOnceDelivery.scala.html#akka.persistence.AtLeastOnceDelivery;AtLeastOnceDeliverySnapshot" title="akka.persistence.AtLeastOnceDelivery.AtLeastOnceDeliverySnapshot">AtLeastOnceDeliverySnap</a><span class="delimiter">)</span>: AtLeastOnceDeliverySnapshot.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot;Builder" title="akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.Builder">Builder</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.Builder" id="akka.persistence.serialization;MessageSerializer.atLeastOnceDeliverySnapshotBuilder.builder">builder</a> = <a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot" title="akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.type">AtLeastOnceDeliverySnapshot</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.newBuilder(48a8e71ffd)" title="()akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.Builder">newBuilder</a>
    <a href="#akka.persistence.serialization;MessageSerializer.atLeastOnceDeliverySnapshotBuilder.builder" title="akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.Builder">builder</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot;Builder.setCurrentDeliveryId" title="(value: Long)akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.Builder">setCurrentDeliveryId</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.atLeastOnceDeliverySnapshotBuilder.snap" title="akka.persistence.AtLeastOnceDelivery.AtLeastOnceDeliverySnapshot">snap</a>.<a href="../AtLeastOnceDelivery.scala.html#akka.persistence.AtLeastOnceDelivery;AtLeastOnceDeliverySnapshot.currentDeliveryId" title="=&gt; Long">currentDeliveryId</a><span class="delimiter">)</span>
    <a href="#akka.persistence.serialization;MessageSerializer.atLeastOnceDeliverySnapshotBuilder.snap" title="akka.persistence.AtLeastOnceDelivery.AtLeastOnceDeliverySnapshot">snap</a>.<a href="../AtLeastOnceDelivery.scala.html#akka.persistence.AtLeastOnceDelivery;AtLeastOnceDeliverySnapshot.unconfirmedDeliveries" title="=&gt; scala.collection.immutable.Seq[akka.persistence.AtLeastOnceDelivery.UnconfirmedDelivery]">unconfirmedDeliveries</a>.<span title="(f: akka.persistence.AtLeastOnceDelivery.UnconfirmedDelivery =&gt; akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.Builder)Unit">foreach</span> <span class="delimiter">{</span> <a title="akka.persistence.AtLeastOnceDelivery.UnconfirmedDelivery" id="akka.persistence.serialization;MessageSerializer.atLeastOnceDeliverySnapshotBuilder.$anonfun.unconfirmed">unconfirmed</a> ⇒
      <span class="keyword">val</span> <a title="akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.UnconfirmedDelivery.Builder" id="akka.persistence.serialization;MessageSerializer.atLeastOnceDeliverySnapshotBuilder.$anonfun.unconfirmedBuilder">unconfirmedBuilder</a> =
        <a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot" title="akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.type">AtLeastOnceDeliverySnapshot</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.UnconfirmedDelivery" title="akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.UnconfirmedDelivery.type">UnconfirmedDelivery</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.UnconfirmedDelivery.newBuilder(36fbe07975)" title="()akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.UnconfirmedDelivery.Builder">newBuilder</a>.
          <a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.UnconfirmedDelivery;Builder.setDeliveryId" title="(value: Long)akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.UnconfirmedDelivery.Builder">setDeliveryId</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.atLeastOnceDeliverySnapshotBuilder.$anonfun.unconfirmed" title="akka.persistence.AtLeastOnceDelivery.UnconfirmedDelivery">unconfirmed</a>.<a href="../AtLeastOnceDelivery.scala.html#akka.persistence.AtLeastOnceDelivery;UnconfirmedDelivery.deliveryId" title="=&gt; Long">deliveryId</a><span class="delimiter">)</span>.
          <a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.UnconfirmedDelivery;Builder.setDestination" title="(value: String)akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.UnconfirmedDelivery.Builder">setDestination</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.atLeastOnceDeliverySnapshotBuilder.$anonfun.unconfirmed" title="akka.persistence.AtLeastOnceDelivery.UnconfirmedDelivery">unconfirmed</a>.<a href="../AtLeastOnceDelivery.scala.html#akka.persistence.AtLeastOnceDelivery;UnconfirmedDelivery.destination" title="=&gt; akka.actor.ActorPath">destination</a>.<span title="()String">toString</span><span class="delimiter">)</span>.
          <a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.UnconfirmedDelivery;Builder.setPayload(95fa549459)" title="(builderForValue: akka.persistence.serialization.MessageFormats.PersistentPayload.Builder)akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.UnconfirmedDelivery.Builder">setPayload</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistentPayloadBuilder" title="(payload: AnyRef)akka.persistence.serialization.MessageFormats.PersistentPayload.Builder">persistentPayloadBuilder</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.atLeastOnceDeliverySnapshotBuilder.$anonfun.unconfirmed" title="akka.persistence.AtLeastOnceDelivery.UnconfirmedDelivery">unconfirmed</a>.<a href="../AtLeastOnceDelivery.scala.html#akka.persistence.AtLeastOnceDelivery;UnconfirmedDelivery.message" title="=&gt; Any">message</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#akka.persistence.serialization;MessageSerializer.atLeastOnceDeliverySnapshotBuilder.builder" title="akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.Builder">builder</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot;Builder.addUnconfirmedDeliveries(bef1235b9b)" title="(builderForValue: akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.UnconfirmedDelivery.Builder)akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.Builder">addUnconfirmedDeliveries</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.atLeastOnceDeliverySnapshotBuilder.$anonfun.unconfirmedBuilder" title="akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.UnconfirmedDelivery.Builder">unconfirmedBuilder</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#akka.persistence.serialization;MessageSerializer.atLeastOnceDeliverySnapshotBuilder.builder" title="akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.Builder">builder</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(atLeastOnceDeliverySnapshot: akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot)akka.persistence.AtLeastOnceDelivery.AtLeastOnceDeliverySnapshot" id="akka.persistence.serialization;MessageSerializer.atLeastOnceDeliverySnapshot">atLeastOnceDeliverySnapshot</a><span class="delimiter">(</span><a title="akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot" id="akka.persistence.serialization;MessageSerializer.atLeastOnceDeliverySnapshot.atLeastOnceDeliverySnapshot">atLeastOnceDeliverySnapshot</a>: <a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;AtLeastOnceDeliverySnapshot" title="akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot">AtLeastOnceDeliverySnapshot</a><span class="delimiter">)</span>: <a href="../AtLeastOnceDelivery.scala.html#akka.persistence.AtLeastOnceDelivery;AtLeastOnceDeliverySnapshot" title="akka.persistence.AtLeastOnceDelivery.AtLeastOnceDeliverySnapshot">AtLeastOnceDeliverySnap</a> = <span class="delimiter">{</span>
    <span class="keyword">import</span> scala.collection.<span title="scala.collection.JavaConverters.type">JavaConverters</span>._
    <span class="keyword">val</span> <a title="scala.collection.immutable.VectorBuilder[akka.persistence.AtLeastOnceDelivery.UnconfirmedDelivery]" id="akka.persistence.serialization;MessageSerializer.atLeastOnceDeliverySnapshot.unconfirmedDeliveries">unconfirmedDeliveries</a> = <span title="scala.collection.immutable.VectorBuilder[akka.persistence.AtLeastOnceDelivery.UnconfirmedDelivery]" class="keyword">new</span> <span title="scala.collection.immutable.VectorBuilder[akka.persistence.AtLeastOnceDelivery.UnconfirmedDelivery]">VectorBuilder</span><span class="delimiter">[</span>UnconfirmedDelivery<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#akka.persistence.serialization;MessageSerializer.atLeastOnceDeliverySnapshot.atLeastOnceDeliverySnapshot" title="akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot">atLeastOnceDeliverySnapshot</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;AtLeastOnceDeliverySnapshot.getUnconfirmedDeliveriesList" title="()java.util.List[akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.UnconfirmedDelivery]">getUnconfirmedDeliveriesList</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="()java.util.Iterator[akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.UnconfirmedDelivery]">iterator</span><span title="(i: java.util.Iterator[akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.UnconfirmedDelivery])scala.collection.convert.Decorators.AsScala[Iterator[akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.UnconfirmedDelivery]]" class="delimiter">(</span><span class="delimiter">)</span>.<span title="=&gt; Iterator[akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.UnconfirmedDelivery]">asScala</span> <span title="(f: akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.UnconfirmedDelivery =&gt; scala.collection.immutable.VectorBuilder[akka.persistence.AtLeastOnceDelivery.UnconfirmedDelivery])Unit">foreach</span> <span class="delimiter">{</span> <a title="akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.UnconfirmedDelivery" id="akka.persistence.serialization;MessageSerializer.atLeastOnceDeliverySnapshot.$anonfun.next">next</a> ⇒
      <a href="#akka.persistence.serialization;MessageSerializer.atLeastOnceDeliverySnapshot.unconfirmedDeliveries" title="scala.collection.immutable.VectorBuilder[akka.persistence.AtLeastOnceDelivery.UnconfirmedDelivery]">unconfirmedDeliveries</a> <span title="(elem: akka.persistence.AtLeastOnceDelivery.UnconfirmedDelivery)unconfirmedDeliveries.type">+=</span> <a href="../AtLeastOnceDelivery.scala.html#akka.persistence.AtLeastOnceDelivery;UnconfirmedDelivery" title="(deliveryId: Long, destination: akka.actor.ActorPath, message: Any)akka.persistence.AtLeastOnceDelivery.UnconfirmedDelivery">UnconfirmedDelivery</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.atLeastOnceDeliverySnapshot.$anonfun.next" title="akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.UnconfirmedDelivery">next</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot;UnconfirmedDelivery.getDeliveryId" title="()Long">getDeliveryId</a>, <a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor.ActorPath" title="akka.actor.ActorPath.type">ActorPath</a>.<a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor.ActorPath.fromString" title="(s: String)akka.actor.ActorPath">fromString</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.atLeastOnceDeliverySnapshot.$anonfun.next" title="akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.UnconfirmedDelivery">next</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot;UnconfirmedDelivery.getDestination" title="()String">getDestination</a><span class="delimiter">)</span>,
        <a href="#akka.persistence.serialization;MessageSerializer.payload" title="(persistentPayload: akka.persistence.serialization.MessageFormats.PersistentPayload)Any">payload</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.atLeastOnceDeliverySnapshot.$anonfun.next" title="akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot.UnconfirmedDelivery">next</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot;UnconfirmedDelivery.getPayload" title="()akka.persistence.serialization.MessageFormats.PersistentPayload">getPayload</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="../AtLeastOnceDelivery.scala.html#akka.persistence.AtLeastOnceDelivery;AtLeastOnceDeliverySnapshot" title="(currentDeliveryId: Long, unconfirmedDeliveries: scala.collection.immutable.Seq[akka.persistence.AtLeastOnceDelivery.UnconfirmedDelivery])akka.persistence.AtLeastOnceDelivery.AtLeastOnceDeliverySnapshot">AtLeastOnceDeliverySnap</a><span class="delimiter">(</span>
      <a href="#akka.persistence.serialization;MessageSerializer.atLeastOnceDeliverySnapshot.atLeastOnceDeliverySnapshot" title="akka.persistence.serialization.MessageFormats.AtLeastOnceDeliverySnapshot">atLeastOnceDeliverySnapshot</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;AtLeastOnceDeliverySnapshot.getCurrentDeliveryId" title="()Long">getCurrentDeliveryId</a>,
      <a href="#akka.persistence.serialization;MessageSerializer.atLeastOnceDeliverySnapshot.unconfirmedDeliveries" title="scala.collection.immutable.VectorBuilder[akka.persistence.AtLeastOnceDelivery.UnconfirmedDelivery]">unconfirmedDeliveries</a>.<span title="()scala.collection.immutable.Vector[akka.persistence.AtLeastOnceDelivery.UnconfirmedDelivery]">result</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(persistentBatch: akka.persistence.PersistentBatch)akka.persistence.serialization.MessageFormats.PersistentMessageBatch.Builder" id="akka.persistence.serialization;MessageSerializer.persistentMessageBatchBuilder">persistentMessageBatchBuilder</a><span class="delimiter">(</span><a title="akka.persistence.PersistentBatch" id="akka.persistence.serialization;MessageSerializer.persistentMessageBatchBuilder.persistentBatch">persistentBatch</a>: <a href="../Persistent.scala.html#akka.persistence;PersistentBatch" title="akka.persistence.PersistentBatch">PersistentBatch</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="akka.persistence.serialization.MessageFormats.PersistentMessageBatch.Builder" id="akka.persistence.serialization;MessageSerializer.persistentMessageBatchBuilder.builder">builder</a> = <a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentMessageBatch" title="akka.persistence.serialization.MessageFormats.PersistentMessageBatch.type">PersistentMessageBatch</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentMessageBatch.newBuilder(679a56b27b)" title="()akka.persistence.serialization.MessageFormats.PersistentMessageBatch.Builder">newBuilder</a>
    <a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBatchBuilder.persistentBatch" title="akka.persistence.PersistentBatch">persistentBatch</a>.<a href="../Persistent.scala.html#akka.persistence;PersistentBatch.batch" title="=&gt; scala.collection.immutable.Seq[akka.persistence.Resequenceable]">batch</a>.
      <span title="(p: akka.persistence.Resequenceable =&gt; Boolean)scala.collection.immutable.Seq[akka.persistence.Resequenceable]">filter</span><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBatchBuilder.$anonfun.x$1" title="akka.persistence.Resequenceable">_</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../Persistent.scala.html#akka.persistence;PersistentRepr" title="akka.persistence.PersistentRepr">PersistentRepr</a><span class="delimiter">]</span><span class="delimiter">)</span>.
      <span title="(f: akka.persistence.Resequenceable =&gt; akka.persistence.serialization.MessageFormats.PersistentMessageBatch.Builder)Unit">foreach</span><span class="delimiter">(</span><a title="akka.persistence.Resequenceable" id="akka.persistence.serialization;MessageSerializer.persistentMessageBatchBuilder.$anonfun.p">p</a> ⇒ <a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBatchBuilder.builder" title="akka.persistence.serialization.MessageFormats.PersistentMessageBatch.Builder">builder</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentMessageBatch;Builder.addBatch(9041b3edd5)" title="(builderForValue: akka.persistence.serialization.MessageFormats.PersistentMessage.Builder)akka.persistence.serialization.MessageFormats.PersistentMessageBatch.Builder">addBatch</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBuilder" title="(persistent: akka.persistence.PersistentRepr)akka.persistence.serialization.MessageFormats.PersistentMessage.Builder">persistentMessageBuilder</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBatchBuilder.$anonfun.p" title="akka.persistence.Resequenceable">p</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="akka.persistence.PersistentRepr" class="delimiter">[</span><a href="../Persistent.scala.html#akka.persistence;PersistentRepr" title="akka.persistence.PersistentRepr">PersistentRepr</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBatchBuilder.builder" title="akka.persistence.serialization.MessageFormats.PersistentMessageBatch.Builder">builder</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(persistent: akka.persistence.PersistentRepr)akka.persistence.serialization.MessageFormats.PersistentMessage.Builder" id="akka.persistence.serialization;MessageSerializer.persistentMessageBuilder">persistentMessageBuilder</a><span class="delimiter">(</span><a title="akka.persistence.PersistentRepr" id="akka.persistence.serialization;MessageSerializer.persistentMessageBuilder.persistent">persistent</a>: <a href="../Persistent.scala.html#akka.persistence;PersistentRepr" title="akka.persistence.PersistentRepr">PersistentRepr</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="akka.persistence.serialization.MessageFormats.PersistentMessage.Builder" id="akka.persistence.serialization;MessageSerializer.persistentMessageBuilder.builder">builder</a> = <a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentMessage" title="akka.persistence.serialization.MessageFormats.PersistentMessage.type">PersistentMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentMessage.newBuilder(2bd2a7900a)" title="()akka.persistence.serialization.MessageFormats.PersistentMessage.Builder">newBuilder</a>

    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBuilder.persistent" title="akka.persistence.PersistentRepr">persistent</a>.<a href="../Persistent.scala.html#akka.persistence;PersistentId.persistenceId" title="=&gt; String">persistenceId</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../Persistent.scala.html#akka.persistence.PersistentRepr.Undefined" title="=&gt; String">Undefined</a><span class="delimiter">)</span> <a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBuilder.builder" title="akka.persistence.serialization.MessageFormats.PersistentMessage.Builder">builder</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentMessage;Builder.setPersistenceId" title="(value: String)akka.persistence.serialization.MessageFormats.PersistentMessage.Builder">setPersistenceId</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBuilder.persistent" title="akka.persistence.PersistentRepr">persistent</a>.<a href="../Persistent.scala.html#akka.persistence;PersistentId.persistenceId" title="=&gt; String">persistenceId</a><span class="delimiter">)</span>
    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBuilder.persistent" title="akka.persistence.PersistentRepr">persistent</a>.<a href="../Persistent.scala.html#akka.persistence;PersistentRepr.confirmMessage" title="=&gt; akka.persistence.Delivered">confirmMessage</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBuilder.builder" title="akka.persistence.serialization.MessageFormats.PersistentMessage.Builder">builder</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentMessage;Builder.setConfirmMessage(5f5019da66)" title="(builderForValue: akka.persistence.serialization.MessageFormats.DeliveredMessage.Builder)akka.persistence.serialization.MessageFormats.PersistentMessage.Builder">setConfirmMessage</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.deliveredMessageBuilder" title="(delivered: akka.persistence.Delivered)akka.persistence.serialization.MessageFormats.DeliveredMessage.Builder">deliveredMessageBuilder</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBuilder.persistent" title="akka.persistence.PersistentRepr">persistent</a>.<a href="../Persistent.scala.html#akka.persistence;PersistentRepr.confirmMessage" title="=&gt; akka.persistence.Delivered">confirmMessage</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBuilder.persistent" title="akka.persistence.PersistentRepr">persistent</a>.<a href="../Persistent.scala.html#akka.persistence;PersistentRepr.confirmTarget" title="=&gt; akka.actor.ActorRef">confirmTarget</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBuilder.builder" title="akka.persistence.serialization.MessageFormats.PersistentMessage.Builder">builder</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentMessage;Builder.setConfirmTarget" title="(value: String)akka.persistence.serialization.MessageFormats.PersistentMessage.Builder">setConfirmTarget</a><span class="delimiter">(</span><a href="../../../../actor/akka/serialization/Serialization.scala.html#akka.serialization.Serialization" title="akka.serialization.Serialization.type">Serialization</a>.<a href="../../../../actor/akka/serialization/Serialization.scala.html#akka.serialization.Serialization.serializedActorPath" title="(actorRef: akka.actor.ActorRef)String">serializedActorPath</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBuilder.persistent" title="akka.persistence.PersistentRepr">persistent</a>.<a href="../Persistent.scala.html#akka.persistence;PersistentRepr.confirmTarget" title="=&gt; akka.actor.ActorRef">confirmTarget</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBuilder.persistent" title="akka.persistence.PersistentRepr">persistent</a>.<a href="../Persistent.scala.html#akka.persistence;PersistentRepr.sender" title="=&gt; akka.actor.ActorRef">sender</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBuilder.builder" title="akka.persistence.serialization.MessageFormats.PersistentMessage.Builder">builder</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentMessage;Builder.setSender" title="(value: String)akka.persistence.serialization.MessageFormats.PersistentMessage.Builder">setSender</a><span class="delimiter">(</span><a href="../../../../actor/akka/serialization/Serialization.scala.html#akka.serialization.Serialization" title="akka.serialization.Serialization.type">Serialization</a>.<a href="../../../../actor/akka/serialization/Serialization.scala.html#akka.serialization.Serialization.serializedActorPath" title="(actorRef: akka.actor.ActorRef)String">serializedActorPath</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBuilder.persistent" title="akka.persistence.PersistentRepr">persistent</a>.<a href="../Persistent.scala.html#akka.persistence;PersistentRepr.sender" title="=&gt; akka.actor.ActorRef">sender</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBuilder.persistent" title="akka.persistence.PersistentRepr">persistent</a>.<a href="../Persistent.scala.html#akka.persistence;PersistentRepr.confirms" title="=&gt; scala.collection.immutable.Seq[String]">confirms</a>.<span title="(f: String =&gt; akka.persistence.serialization.MessageFormats.PersistentMessage.Builder)Unit">foreach</span><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBuilder.builder" title="akka.persistence.serialization.MessageFormats.PersistentMessage.Builder">builder</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentMessage;Builder.addConfirms" title="(value: String)akka.persistence.serialization.MessageFormats.PersistentMessage.Builder">addConfirms</a><span class="delimiter">)</span>

    <a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBuilder.builder" title="akka.persistence.serialization.MessageFormats.PersistentMessage.Builder">builder</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentMessage;Builder.setPayload(f50777dcbd)" title="(builderForValue: akka.persistence.serialization.MessageFormats.PersistentPayload.Builder)akka.persistence.serialization.MessageFormats.PersistentMessage.Builder">setPayload</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistentPayloadBuilder" title="(payload: AnyRef)akka.persistence.serialization.MessageFormats.PersistentPayload.Builder">persistentPayloadBuilder</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBuilder.persistent" title="akka.persistence.PersistentRepr">persistent</a>.<a href="../Persistent.scala.html#akka.persistence;PersistentRepr.payload" title="=&gt; Any">payload</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBuilder.builder" title="akka.persistence.serialization.MessageFormats.PersistentMessage.Builder">builder</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentMessage;Builder.setSequenceNr" title="(value: Long)akka.persistence.serialization.MessageFormats.PersistentMessage.Builder">setSequenceNr</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBuilder.persistent" title="akka.persistence.PersistentRepr">persistent</a>.<a href="../Persistent.scala.html#akka.persistence;PersistentId.sequenceNr" title="=&gt; Long">sequenceNr</a><span class="delimiter">)</span>
    <a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBuilder.builder" title="akka.persistence.serialization.MessageFormats.PersistentMessage.Builder">builder</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentMessage;Builder.setDeleted" title="(value: Boolean)akka.persistence.serialization.MessageFormats.PersistentMessage.Builder">setDeleted</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBuilder.persistent" title="akka.persistence.PersistentRepr">persistent</a>.<a href="../Persistent.scala.html#akka.persistence;PersistentRepr.deleted" title="=&gt; Boolean">deleted</a><span class="delimiter">)</span>
    <a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBuilder.builder" title="akka.persistence.serialization.MessageFormats.PersistentMessage.Builder">builder</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentMessage;Builder.setRedeliveries" title="(value: Int)akka.persistence.serialization.MessageFormats.PersistentMessage.Builder">setRedeliveries</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBuilder.persistent" title="akka.persistence.PersistentRepr">persistent</a>.<a href="../Persistent.scala.html#akka.persistence;PersistentRepr.redeliveries" title="=&gt; Int">redeliveries</a><span class="delimiter">)</span>
    <a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBuilder.builder" title="akka.persistence.serialization.MessageFormats.PersistentMessage.Builder">builder</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentMessage;Builder.setConfirmable" title="(value: Boolean)akka.persistence.serialization.MessageFormats.PersistentMessage.Builder">setConfirmable</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBuilder.persistent" title="akka.persistence.PersistentRepr">persistent</a>.<a href="../Persistent.scala.html#akka.persistence;PersistentRepr.confirmable" title="=&gt; Boolean">confirmable</a><span class="delimiter">)</span>
    <a href="#akka.persistence.serialization;MessageSerializer.persistentMessageBuilder.builder" title="akka.persistence.serialization.MessageFormats.PersistentMessage.Builder">builder</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(payload: AnyRef)akka.persistence.serialization.MessageFormats.PersistentPayload.Builder" id="akka.persistence.serialization;MessageSerializer.persistentPayloadBuilder">persistentPayloadBuilder</a><span class="delimiter">(</span><a title="AnyRef" id="akka.persistence.serialization;MessageSerializer.persistentPayloadBuilder.payload">payload</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="()akka.persistence.serialization.MessageFormats.PersistentPayload.Builder" id="akka.persistence.serialization;MessageSerializer.persistentPayloadBuilder.payloadBuilder">payloadBuilder</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="akka.serialization.Serializer" id="akka.persistence.serialization;MessageSerializer.persistentPayloadBuilder.payloadBuilder.serializer">serializer</a> = <a href="../../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionId.apply" title="(system: akka.actor.ActorSystem)akka.serialization.Serialization">SerializationExtension</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a><span class="delimiter">)</span>.<a href="../../../../actor/akka/serialization/Serialization.scala.html#akka.serialization;Serialization.findSerializerFor" title="(o: AnyRef)akka.serialization.Serializer">findSerializerFor</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistentPayloadBuilder.payload" title="AnyRef">payload</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="akka.persistence.serialization.MessageFormats.PersistentPayload.Builder" id="akka.persistence.serialization;MessageSerializer.persistentPayloadBuilder.payloadBuilder.builder">builder</a> = <a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentPayload" title="akka.persistence.serialization.MessageFormats.PersistentPayload.type">PersistentPayload</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentPayload.newBuilder(e9c0b896eb)" title="()akka.persistence.serialization.MessageFormats.PersistentPayload.Builder">newBuilder</a><span class="delimiter">(</span><span class="delimiter">)</span>

      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistentPayloadBuilder.payloadBuilder.serializer" title="akka.serialization.Serializer">serializer</a>.<a href="../../../../actor/akka/serialization/Serializer.scala.html#akka.serialization;Serializer.includeManifest" title="=&gt; Boolean">includeManifest</a><span class="delimiter">)</span> <a href="#akka.persistence.serialization;MessageSerializer.persistentPayloadBuilder.payloadBuilder.builder" title="akka.persistence.serialization.MessageFormats.PersistentPayload.Builder">builder</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentPayload;Builder.setPayloadManifest" title="(value: com.google.protobuf.ByteString)akka.persistence.serialization.MessageFormats.PersistentPayload.Builder">setPayloadManifest</a><span class="delimiter">(</span><span title="com.google.protobuf.ByteString.type">ByteString</span>.<span title="(x$1: String)com.google.protobuf.ByteString">copyFromUtf8</span><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistentPayloadBuilder.payload" title="AnyRef">payload</a>.<span title="()Class[_]">getClass</span>.<span title="()String">getName</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#akka.persistence.serialization;MessageSerializer.persistentPayloadBuilder.payloadBuilder.builder" title="akka.persistence.serialization.MessageFormats.PersistentPayload.Builder">builder</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentPayload;Builder.setPayload" title="(value: com.google.protobuf.ByteString)akka.persistence.serialization.MessageFormats.PersistentPayload.Builder">setPayload</a><span class="delimiter">(</span><span title="com.google.protobuf.ByteString.type">ByteString</span>.<span title="(x$1: Array[Byte])com.google.protobuf.ByteString">copyFrom</span><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistentPayloadBuilder.payloadBuilder.serializer" title="akka.serialization.Serializer">serializer</a>.<a href="../../../../actor/akka/serialization/Serializer.scala.html#akka.serialization;Serializer.toBinary" title="(o: AnyRef)Array[Byte]">toBinary</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistentPayloadBuilder.payload" title="AnyRef">payload</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#akka.persistence.serialization;MessageSerializer.persistentPayloadBuilder.payloadBuilder.builder" title="akka.persistence.serialization.MessageFormats.PersistentPayload.Builder">builder</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.PersistentPayload;Builder.setSerializerId" title="(value: Int)akka.persistence.serialization.MessageFormats.PersistentPayload.Builder">setSerializerId</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistentPayloadBuilder.payloadBuilder.serializer" title="akka.serialization.Serializer">serializer</a>.<a href="../../../../actor/akka/serialization/Serializer.scala.html#akka.serialization;Serializer.identifier" title="=&gt; Int">identifier</a><span class="delimiter">)</span>
      <a href="#akka.persistence.serialization;MessageSerializer.persistentPayloadBuilder.payloadBuilder.builder" title="akka.persistence.serialization.MessageFormats.PersistentPayload.Builder">builder</a>
    <span class="delimiter">}</span>

    <span class="comment">// serialize actor references with full address information (defaultAddress) </span>
    <a href="#akka.persistence.serialization;MessageSerializer.transportInformation" title="=&gt; Option[akka.serialization.Serialization.Information]">transportInformation</a> <span title="akka.persistence.serialization.MessageFormats.PersistentPayload.Builder" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="akka.serialization.Serialization.Information" id="akka.persistence.serialization;MessageSerializer.persistentPayloadBuilder.ti">ti</a><span class="delimiter">)</span> ⇒ <a href="../../../../actor/akka/serialization/Serialization.scala.html#akka.serialization.Serialization" title="akka.serialization.Serialization.type">Serialization</a>.<a href="../../../../actor/akka/serialization/Serialization.scala.html#akka.serialization.Serialization.currentTransportInformation" title="=&gt; scala.util.DynamicVariable[akka.serialization.Serialization.Information]">currentTransportInformation</a>.<span title="(newval: akka.serialization.Serialization.Information)(thunk: =&gt; akka.persistence.serialization.MessageFormats.PersistentPayload.Builder)akka.persistence.serialization.MessageFormats.PersistentPayload.Builder">withValue</span><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistentPayloadBuilder.ti" title="akka.serialization.Serialization.Information">ti</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#akka.persistence.serialization;MessageSerializer.persistentPayloadBuilder.payloadBuilder" title="()akka.persistence.serialization.MessageFormats.PersistentPayload.Builder">payloadBuilder</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="None.type">None</span>     ⇒ <a href="#akka.persistence.serialization;MessageSerializer.persistentPayloadBuilder.payloadBuilder" title="()akka.persistence.serialization.MessageFormats.PersistentPayload.Builder">payloadBuilder</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(delivered: akka.persistence.Delivered)akka.persistence.serialization.MessageFormats.DeliveredMessage.Builder" id="akka.persistence.serialization;MessageSerializer.deliveredMessageBuilder">deliveredMessageBuilder</a><span class="delimiter">(</span><a title="akka.persistence.Delivered" id="akka.persistence.serialization;MessageSerializer.deliveredMessageBuilder.delivered">delivered</a>: <a href="../Channel.scala.html#akka.persistence;Delivered" title="akka.persistence.Delivered">Delivered</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="akka.persistence.serialization.MessageFormats.DeliveredMessage.Builder" id="akka.persistence.serialization;MessageSerializer.deliveredMessageBuilder.builder">builder</a> = <a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.DeliveredMessage" title="akka.persistence.serialization.MessageFormats.DeliveredMessage.type">DeliveredMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.DeliveredMessage.newBuilder(519fa8c5ff)" title="()akka.persistence.serialization.MessageFormats.DeliveredMessage.Builder">newBuilder</a>

    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.deliveredMessageBuilder.delivered" title="akka.persistence.Delivered">delivered</a>.<a href="../Channel.scala.html#akka.persistence;Delivered.channel" title="=&gt; akka.actor.ActorRef">channel</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#akka.persistence.serialization;MessageSerializer.deliveredMessageBuilder.builder" title="akka.persistence.serialization.MessageFormats.DeliveredMessage.Builder">builder</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.DeliveredMessage;Builder.setChannel" title="(value: String)akka.persistence.serialization.MessageFormats.DeliveredMessage.Builder">setChannel</a><span class="delimiter">(</span><a href="../../../../actor/akka/serialization/Serialization.scala.html#akka.serialization.Serialization" title="akka.serialization.Serialization.type">Serialization</a>.<a href="../../../../actor/akka/serialization/Serialization.scala.html#akka.serialization.Serialization.serializedActorPath" title="(actorRef: akka.actor.ActorRef)String">serializedActorPath</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.deliveredMessageBuilder.delivered" title="akka.persistence.Delivered">delivered</a>.<a href="../Channel.scala.html#akka.persistence;Delivered.channel" title="=&gt; akka.actor.ActorRef">channel</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="#akka.persistence.serialization;MessageSerializer.deliveredMessageBuilder.builder" title="akka.persistence.serialization.MessageFormats.DeliveredMessage.Builder">builder</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.DeliveredMessage;Builder.setChannelId" title="(value: String)akka.persistence.serialization.MessageFormats.DeliveredMessage.Builder">setChannelId</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.deliveredMessageBuilder.delivered" title="akka.persistence.Delivered">delivered</a>.<a href="../Channel.scala.html#akka.persistence;Delivered.channelId" title="=&gt; String">channelId</a><span class="delimiter">)</span>
    <a href="#akka.persistence.serialization;MessageSerializer.deliveredMessageBuilder.builder" title="akka.persistence.serialization.MessageFormats.DeliveredMessage.Builder">builder</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.DeliveredMessage;Builder.setPersistentSequenceNr" title="(value: Long)akka.persistence.serialization.MessageFormats.DeliveredMessage.Builder">setPersistentSequenceNr</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.deliveredMessageBuilder.delivered" title="akka.persistence.Delivered">delivered</a>.<a href="../Channel.scala.html#akka.persistence;Delivered.persistentSequenceNr" title="=&gt; Long">persistentSequenceNr</a><span class="delimiter">)</span>
    <a href="#akka.persistence.serialization;MessageSerializer.deliveredMessageBuilder.builder" title="akka.persistence.serialization.MessageFormats.DeliveredMessage.Builder">builder</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.DeliveredMessage;Builder.setDeliverySequenceNr" title="(value: Long)akka.persistence.serialization.MessageFormats.DeliveredMessage.Builder">setDeliverySequenceNr</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.deliveredMessageBuilder.delivered" title="akka.persistence.Delivered">delivered</a>.<a href="../Channel.scala.html#akka.persistence;Delivered.deliverySequenceNr" title="=&gt; Long">deliverySequenceNr</a><span class="delimiter">)</span>

    <a href="#akka.persistence.serialization;MessageSerializer.deliveredMessageBuilder.delivered" title="akka.persistence.Delivered">delivered</a> <span title="akka.persistence.serialization.MessageFormats.DeliveredMessage.Builder" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="akka.persistence.DeliveredByChannel" id="akka.persistence.serialization;MessageSerializer.deliveredMessageBuilder.c">c</a>: <a href="../Channel.scala.html#akka.persistence;DeliveredByChannel" title="akka.persistence.DeliveredByChannel">DeliveredByChannel</a> ⇒ <a href="#akka.persistence.serialization;MessageSerializer.deliveredMessageBuilder.builder" title="akka.persistence.serialization.MessageFormats.DeliveredMessage.Builder">builder</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats.DeliveredMessage;Builder.setPersistenceId" title="(value: String)akka.persistence.serialization.MessageFormats.DeliveredMessage.Builder">setPersistenceId</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.deliveredMessageBuilder.c" title="akka.persistence.DeliveredByChannel">c</a>.<a href="../Channel.scala.html#akka.persistence;DeliveredByChannel.persistenceId" title="=&gt; String">persistenceId</a><span class="delimiter">)</span>
      <span class="keyword">case</span> _                     ⇒ <a href="#akka.persistence.serialization;MessageSerializer.deliveredMessageBuilder.builder" title="akka.persistence.serialization.MessageFormats.DeliveredMessage.Builder">builder</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">//</span>
  <span class="comment">// fromBinary helpers</span>
  <span class="comment">//</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(deliverMessage: akka.persistence.serialization.MessageFormats.DeliverMessage)akka.persistence.Deliver" id="akka.persistence.serialization;MessageSerializer.deliver">deliver</a><span class="delimiter">(</span><a title="akka.persistence.serialization.MessageFormats.DeliverMessage" id="akka.persistence.serialization;MessageSerializer.deliver.deliverMessage">deliverMessage</a>: <a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;DeliverMessage" title="akka.persistence.serialization.MessageFormats.DeliverMessage">DeliverMessage</a><span class="delimiter">)</span>: <a href="../Channel.scala.html#akka.persistence;Deliver" title="akka.persistence.Deliver">Deliver</a> = <span class="delimiter">{</span>
    <a href="../Channel.scala.html#akka.persistence;Deliver" title="(persistent: akka.persistence.Persistent, destination: akka.actor.ActorPath)akka.persistence.Deliver">Deliver</a><span class="delimiter">(</span>
      <a href="#akka.persistence.serialization;MessageSerializer.persistent" title="(persistentMessage: akka.persistence.serialization.MessageFormats.PersistentMessage)akka.persistence.PersistentRepr">persistent</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.deliver.deliverMessage" title="akka.persistence.serialization.MessageFormats.DeliverMessage">deliverMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;DeliverMessage.getPersistent" title="()akka.persistence.serialization.MessageFormats.PersistentMessage">getPersistent</a><span class="delimiter">)</span>,
      <a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor.ActorPath" title="akka.actor.ActorPath.type">ActorPath</a>.<a href="../../../../actor/akka/actor/ActorPath.scala.html#akka.actor.ActorPath.fromString" title="(s: String)akka.actor.ActorPath">fromString</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.deliver.deliverMessage" title="akka.persistence.serialization.MessageFormats.DeliverMessage">deliverMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;DeliverMessage.getDestination" title="()String">getDestination</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(persistentMessageBatch: akka.persistence.serialization.MessageFormats.PersistentMessageBatch)akka.persistence.PersistentBatch" id="akka.persistence.serialization;MessageSerializer.persistentBatch">persistentBatch</a><span class="delimiter">(</span><a title="akka.persistence.serialization.MessageFormats.PersistentMessageBatch" id="akka.persistence.serialization;MessageSerializer.persistentBatch.persistentMessageBatch">persistentMessageBatch</a>: <a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;PersistentMessageBatch" title="akka.persistence.serialization.MessageFormats.PersistentMessageBatch">PersistentMessageBatch</a><span class="delimiter">)</span>: <a href="../Persistent.scala.html#akka.persistence;PersistentBatch" title="akka.persistence.PersistentBatch">PersistentBatch</a> =
    <a href="../Persistent.scala.html#akka.persistence;PersistentBatch" title="(batch: scala.collection.immutable.Seq[akka.persistence.Resequenceable])akka.persistence.PersistentBatch">PersistentBatch</a><span class="delimiter">(</span><a href="../../../../actor/akka/japi/JavaAPI.scala.html#akka.japi.Util.immutableSeq(42d3e3f9ec)" title="(iterable: Iterable[akka.persistence.serialization.MessageFormats.PersistentMessage])scala.collection.immutable.Seq[akka.persistence.serialization.MessageFormats.PersistentMessage]">immutableSeq</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistentBatch.persistentMessageBatch" title="akka.persistence.serialization.MessageFormats.PersistentMessageBatch">persistentMessageBatch</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;PersistentMessageBatch.getBatchList" title="()java.util.List[akka.persistence.serialization.MessageFormats.PersistentMessage]">getBatchList</a><span class="delimiter">)</span>.<span title="(f: akka.persistence.serialization.MessageFormats.PersistentMessage =&gt; akka.persistence.PersistentRepr)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Seq[akka.persistence.serialization.MessageFormats.PersistentMessage],akka.persistence.PersistentRepr,scala.collection.immutable.Seq[akka.persistence.Resequenceable]])scala.collection.immutable.Seq[akka.persistence.Resequenceable]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Seq.Coll,akka.persistence.PersistentRepr,scala.collection.immutable.Seq[akka.persistence.PersistentRepr]]" class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistent" title="(persistentMessage: akka.persistence.serialization.MessageFormats.PersistentMessage)akka.persistence.PersistentRepr">persistent</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(persistentMessage: akka.persistence.serialization.MessageFormats.PersistentMessage)akka.persistence.PersistentRepr" id="akka.persistence.serialization;MessageSerializer.persistent">persistent</a><span class="delimiter">(</span><a title="akka.persistence.serialization.MessageFormats.PersistentMessage" id="akka.persistence.serialization;MessageSerializer.persistent.persistentMessage">persistentMessage</a>: <a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;PersistentMessage" title="akka.persistence.serialization.MessageFormats.PersistentMessage">PersistentMessage</a><span class="delimiter">)</span>: <a href="../Persistent.scala.html#akka.persistence;PersistentRepr" title="akka.persistence.PersistentRepr">PersistentRepr</a> = <span class="delimiter">{</span>
    <a href="../Persistent.scala.html#akka.persistence.PersistentRepr.apply" title="(payload: Any, sequenceNr: Long, persistenceId: String, deleted: Boolean, redeliveries: Int, confirms: scala.collection.immutable.Seq[String], confirmable: Boolean, confirmMessage: akka.persistence.Delivered, confirmTarget: akka.actor.ActorRef, sender: akka.actor.ActorRef)akka.persistence.PersistentRepr with Product{def update(sequenceNr: Long,persistenceId: String,deleted: Boolean,redeliveries: Int,confirms: scala.collection.immutable.Seq[String],confirmMessage: akka.persistence.Delivered,confirmTarget: akka.actor.ActorRef,sender: akka.actor.ActorRef): akka.persistence.PersistentRepr with Product}">PersistentRepr</a><span class="delimiter">(</span>
      <a href="#akka.persistence.serialization;MessageSerializer.payload" title="(persistentPayload: akka.persistence.serialization.MessageFormats.PersistentPayload)Any">payload</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistent.persistentMessage" title="akka.persistence.serialization.MessageFormats.PersistentMessage">persistentMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;PersistentMessage.getPayload" title="()akka.persistence.serialization.MessageFormats.PersistentPayload">getPayload</a><span class="delimiter">)</span>,
      <a href="#akka.persistence.serialization;MessageSerializer.persistent.persistentMessage" title="akka.persistence.serialization.MessageFormats.PersistentMessage">persistentMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;PersistentMessage.getSequenceNr" title="()Long">getSequenceNr</a>,
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistent.persistentMessage" title="akka.persistence.serialization.MessageFormats.PersistentMessage">persistentMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;PersistentMessage.hasPersistenceId" title="()Boolean">hasPersistenceId</a><span class="delimiter">)</span> <a href="#akka.persistence.serialization;MessageSerializer.persistent.persistentMessage" title="akka.persistence.serialization.MessageFormats.PersistentMessage">persistentMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;PersistentMessage.getPersistenceId" title="()String">getPersistenceId</a> <span class="keyword">else</span> <a href="../Persistent.scala.html#akka.persistence.PersistentRepr.Undefined" title="=&gt; String">Undefined</a>,
      <a href="#akka.persistence.serialization;MessageSerializer.persistent.persistentMessage" title="akka.persistence.serialization.MessageFormats.PersistentMessage">persistentMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;PersistentMessage.getDeleted" title="()Boolean">getDeleted</a>,
      <a href="#akka.persistence.serialization;MessageSerializer.persistent.persistentMessage" title="akka.persistence.serialization.MessageFormats.PersistentMessage">persistentMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;PersistentMessage.getRedeliveries" title="()Int">getRedeliveries</a>,
      <a href="../../../../actor/akka/japi/JavaAPI.scala.html#akka.japi.Util.immutableSeq(42d3e3f9ec)" title="(iterable: Iterable[String])scala.collection.immutable.Seq[String]">immutableSeq</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistent.persistentMessage" title="akka.persistence.serialization.MessageFormats.PersistentMessage">persistentMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;PersistentMessage.getConfirmsList" title="()java.util.List[String]">getConfirmsList</a><span class="delimiter">)</span>,
      <a href="#akka.persistence.serialization;MessageSerializer.persistent.persistentMessage" title="akka.persistence.serialization.MessageFormats.PersistentMessage">persistentMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;PersistentMessage.getConfirmable" title="()Boolean">getConfirmable</a>,
      <span title="akka.persistence.Delivered" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistent.persistentMessage" title="akka.persistence.serialization.MessageFormats.PersistentMessage">persistentMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;PersistentMessage.hasConfirmMessage" title="()Boolean">hasConfirmMessage</a><span class="delimiter">)</span> <a href="#akka.persistence.serialization;MessageSerializer.delivered" title="(deliveredMessage: akka.persistence.serialization.MessageFormats.DeliveredMessage)akka.persistence.Delivered">delivered</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistent.persistentMessage" title="akka.persistence.serialization.MessageFormats.PersistentMessage">persistentMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;PersistentMessage.getConfirmMessage" title="()akka.persistence.serialization.MessageFormats.DeliveredMessage">getConfirmMessage</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span>,
      <span title="akka.actor.ActorRef" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistent.persistentMessage" title="akka.persistence.serialization.MessageFormats.PersistentMessage">persistentMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;PersistentMessage.hasConfirmTarget" title="()Boolean">hasConfirmTarget</a><span class="delimiter">)</span> <a href="#akka.persistence.serialization;MessageSerializer.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ExtendedActorSystem.provider" title="=&gt; akka.actor.ActorRefProvider">provider</a>.<a href="../../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefProvider.resolveActorRef(922575794b)" title="(path: String)akka.actor.ActorRef">resolveActorRef</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistent.persistentMessage" title="akka.persistence.serialization.MessageFormats.PersistentMessage">persistentMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;PersistentMessage.getConfirmTarget" title="()String">getConfirmTarget</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span>,
      <span title="akka.actor.ActorRef" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistent.persistentMessage" title="akka.persistence.serialization.MessageFormats.PersistentMessage">persistentMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;PersistentMessage.hasSender" title="()Boolean">hasSender</a><span class="delimiter">)</span> <a href="#akka.persistence.serialization;MessageSerializer.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ExtendedActorSystem.provider" title="=&gt; akka.actor.ActorRefProvider">provider</a>.<a href="../../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefProvider.resolveActorRef(922575794b)" title="(path: String)akka.actor.ActorRef">resolveActorRef</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.persistent.persistentMessage" title="akka.persistence.serialization.MessageFormats.PersistentMessage">persistentMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;PersistentMessage.getSender" title="()String">getSender</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(persistentPayload: akka.persistence.serialization.MessageFormats.PersistentPayload)Any" id="akka.persistence.serialization;MessageSerializer.payload">payload</a><span class="delimiter">(</span><a title="akka.persistence.serialization.MessageFormats.PersistentPayload" id="akka.persistence.serialization;MessageSerializer.payload.persistentPayload">persistentPayload</a>: <a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;PersistentPayload" title="akka.persistence.serialization.MessageFormats.PersistentPayload">PersistentPayload</a><span class="delimiter">)</span>: <span title="Any">Any</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Option[Class[_$3]] forSome { type _$3 &lt;: AnyRef }" id="akka.persistence.serialization;MessageSerializer.payload.payloadClass">payloadClass</a> = <span title="Option[Class[_$3]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.payload.persistentPayload" title="akka.persistence.serialization.MessageFormats.PersistentPayload">persistentPayload</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;PersistentPayload.hasPayloadManifest" title="()Boolean">hasPayloadManifest</a><span class="delimiter">)</span>
      <span title="(x: Class[_$3])Some[Class[_$3]]">Some</span><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ExtendedActorSystem.dynamicAccess" title="=&gt; akka.actor.DynamicAccess">dynamicAccess</a>.<a href="../../../../actor/akka/actor/DynamicAccess.scala.html#akka.actor;DynamicAccess.getClassFor" title="[T](fqcn: String)(implicit evidence$2: scala.reflect.ClassTag[T])scala.util.Try[Class[_ &lt;: T]]">getClassFor</a><span title="(fqcn: String)(implicit evidence$2: scala.reflect.ClassTag[AnyRef])scala.util.Try[Class[_ &lt;: AnyRef]]" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span><span title="=&gt; scala.reflect.ClassTag[AnyRef]" class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.payload.persistentPayload" title="akka.persistence.serialization.MessageFormats.PersistentPayload">persistentPayload</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;PersistentPayload.getPayloadManifest" title="()com.google.protobuf.ByteString">getPayloadManifest</a>.<span title="()String">toStringUtf8</span><span class="delimiter">)</span>.<span title="=&gt; Class[_ &lt;: AnyRef]">get</span><span class="delimiter">)</span> <span class="keyword">else</span> <span title="None.type">None</span>

    <a href="../../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionId.apply" title="(system: akka.actor.ActorSystem)akka.serialization.Serialization">SerializationExtension</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a><span class="delimiter">)</span>.<a href="../../../../actor/akka/serialization/Serialization.scala.html#akka.serialization;Serialization.deserialize(8b5ae426e3)" title="(bytes: Array[Byte], serializerId: Int, clazz: Option[Class[_ &lt;: _$3]])scala.util.Try[_$3]">deserialize</a><span class="delimiter">(</span>
      <a href="#akka.persistence.serialization;MessageSerializer.payload.persistentPayload" title="akka.persistence.serialization.MessageFormats.PersistentPayload">persistentPayload</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;PersistentPayload.getPayload" title="()com.google.protobuf.ByteString">getPayload</a>.<span title="()Array[Byte]">toByteArray</span>,
      <a href="#akka.persistence.serialization;MessageSerializer.payload.persistentPayload" title="akka.persistence.serialization.MessageFormats.PersistentPayload">persistentPayload</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;PersistentPayload.getSerializerId" title="()Int">getSerializerId</a>,
      <a href="#akka.persistence.serialization;MessageSerializer.payload.payloadClass" title="Option[Class[_$3]] forSome { type _$3 &lt;: AnyRef }">payloadClass</a><span class="delimiter">)</span>.<span title="=&gt; _$3">get</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(deliveredMessage: akka.persistence.serialization.MessageFormats.DeliveredMessage)akka.persistence.Delivered" id="akka.persistence.serialization;MessageSerializer.delivered">delivered</a><span class="delimiter">(</span><a title="akka.persistence.serialization.MessageFormats.DeliveredMessage" id="akka.persistence.serialization;MessageSerializer.delivered.deliveredMessage">deliveredMessage</a>: <a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;DeliveredMessage" title="akka.persistence.serialization.MessageFormats.DeliveredMessage">DeliveredMessage</a><span class="delimiter">)</span>: <a href="../Channel.scala.html#akka.persistence;Delivered" title="akka.persistence.Delivered">Delivered</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="akka.actor.ActorRef" id="akka.persistence.serialization;MessageSerializer.delivered.channel">channel</a> = <span title="akka.actor.ActorRef" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.delivered.deliveredMessage" title="akka.persistence.serialization.MessageFormats.DeliveredMessage">deliveredMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;DeliveredMessage.hasChannel" title="()Boolean">hasChannel</a><span class="delimiter">)</span> <a href="#akka.persistence.serialization;MessageSerializer.system" title="=&gt; akka.actor.ExtendedActorSystem">system</a>.<a href="../../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ExtendedActorSystem.provider" title="=&gt; akka.actor.ActorRefProvider">provider</a>.<a href="../../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefProvider.resolveActorRef(922575794b)" title="(path: String)akka.actor.ActorRef">resolveActorRef</a><span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.delivered.deliveredMessage" title="akka.persistence.serialization.MessageFormats.DeliveredMessage">deliveredMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;DeliveredMessage.getChannel" title="()String">getChannel</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span>

    <span title="akka.persistence.Delivered" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.persistence.serialization;MessageSerializer.delivered.deliveredMessage" title="akka.persistence.serialization.MessageFormats.DeliveredMessage">deliveredMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;DeliveredMessage.hasPersistenceId" title="()Boolean">hasPersistenceId</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../Channel.scala.html#akka.persistence;DeliveredByChannel" title="(persistenceId: String, channelId: String, persistentSequenceNr: Long, deliverySequenceNr: Long, channel: akka.actor.ActorRef)akka.persistence.DeliveredByChannel">DeliveredByChannel</a><span class="delimiter">(</span>
        <a href="#akka.persistence.serialization;MessageSerializer.delivered.deliveredMessage" title="akka.persistence.serialization.MessageFormats.DeliveredMessage">deliveredMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;DeliveredMessage.getPersistenceId" title="()String">getPersistenceId</a>,
        <a href="#akka.persistence.serialization;MessageSerializer.delivered.deliveredMessage" title="akka.persistence.serialization.MessageFormats.DeliveredMessage">deliveredMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;DeliveredMessage.getChannelId" title="()String">getChannelId</a>,
        <a href="#akka.persistence.serialization;MessageSerializer.delivered.deliveredMessage" title="akka.persistence.serialization.MessageFormats.DeliveredMessage">deliveredMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;DeliveredMessage.getPersistentSequenceNr" title="()Long">getPersistentSequenceNr</a>,
        <a href="#akka.persistence.serialization;MessageSerializer.delivered.deliveredMessage" title="akka.persistence.serialization.MessageFormats.DeliveredMessage">deliveredMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;DeliveredMessage.getDeliverySequenceNr" title="()Long">getDeliverySequenceNr</a>,
        <a href="#akka.persistence.serialization;MessageSerializer.delivered.channel" title="akka.actor.ActorRef">channel</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <a href="../PersistentChannel.scala.html#akka.persistence;DeliveredByPersistentChannel" title="(channelId: String, persistentSequenceNr: Long, deliverySequenceNr: Long, channel: akka.actor.ActorRef)akka.persistence.DeliveredByPersistentChannel">DeliveredByPersistentChannel</a><span class="delimiter">(</span>
        <a href="#akka.persistence.serialization;MessageSerializer.delivered.deliveredMessage" title="akka.persistence.serialization.MessageFormats.DeliveredMessage">deliveredMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;DeliveredMessage.getChannelId" title="()String">getChannelId</a>,
        <a href="#akka.persistence.serialization;MessageSerializer.delivered.deliveredMessage" title="akka.persistence.serialization.MessageFormats.DeliveredMessage">deliveredMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;DeliveredMessage.getPersistentSequenceNr" title="()Long">getPersistentSequenceNr</a>,
        <a href="#akka.persistence.serialization;MessageSerializer.delivered.deliveredMessage" title="akka.persistence.serialization.MessageFormats.DeliveredMessage">deliveredMessage</a>.<a href="MessageFormats.java.html#akka.persistence.serialization.MessageFormats;DeliveredMessage.getDeliverySequenceNr" title="()Long">getDeliverySequenceNr</a>,
        <a href="#akka.persistence.serialization;MessageSerializer.delivered.channel" title="akka.actor.ActorRef">channel</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
