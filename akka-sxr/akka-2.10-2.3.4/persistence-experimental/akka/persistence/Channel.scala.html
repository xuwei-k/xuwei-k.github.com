<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>persistence-experimental/akka/persistence/Channel.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (C) 2009-2014 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>

<span class="keyword">package</span> akka.persistence

<span class="keyword">import</span> java.lang.<span class="delimiter">{</span> Iterable â‡’ JIterable <span class="delimiter">}</span>

<span class="keyword">import</span> scala.collection.immutable
<span class="keyword">import</span> scala.collection.<span title="scala.collection.JavaConverters.type">JavaConverters</span>._
<span class="keyword">import</span> scala.concurrent.duration._
<span class="keyword">import</span> scala.<span title="language.type">language</span>.postfixOps

<span class="keyword">import</span> akka.actor._

<span class="keyword">import</span> akka.persistence.serialization.Message
<span class="keyword">import</span> akka.persistence.<a href="JournalProtocol.scala.html#akka.persistence.JournalProtocol" title="akka.persistence.JournalProtocol.type">JournalProtocol</a>._

<span class="comment">// TODO: remove Channel</span>

<span class="comment">/**
 * A [[Channel]] configuration object.
 *
 * @param redeliverMax Maximum number of redelivery attempts.
 * @param redeliverInterval Interval between redelivery attempts.
 * @param redeliverFailureListener Receiver of [[RedeliverFailure]] notifications which are sent when the number
 *                                 of redeliveries reaches `redeliverMax` for a sequence of messages. To enforce
 *                                 a redelivery of these messages, the listener has to restart the sending processor.
 *                                 Alternatively, it can also confirm these messages, preventing further redeliveries.
 */</span>
@SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
@deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed, see `akka.persistence.AtLeastOnceDelivery` instead.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
<span class="keyword">case class</span> <a title="class ChannelSettings extends AnyRef with Product with Serializable" id="akka.persistence;ChannelSettings">ChannelSettings</a><a href="#akka.persistence;ChannelSettings" title="Product" class="delimiter">(</a>
  <span class="keyword">val</span> <a title="Int" id="akka.persistence.ChannelSettings.apply$default$1">redeliverMax</a>: <span title="Int">Int</span> = <span title="Int(5)" class="int">5</span>,
  <span class="keyword">val</span> <a title="scala.concurrent.duration.FiniteDuration" id="akka.persistence.ChannelSettings.apply$default$2">redeliverInterval</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span> = <span title="implicit scala.concurrent.duration.package.DurationInt : (n: Int)concurrent.duration.DurationInt" class="int">5</span>.<span title="=&gt; scala.concurrent.duration.FiniteDuration">seconds</span>,
  <span class="keyword">val</span> <a title="Option[akka.actor.ActorRef]" id="akka.persistence.ChannelSettings.apply$default$3">redeliverFailureListener</a>: <span title="Option[akka.actor.ActorRef]">Option</span><span class="delimiter">[</span>ActorRef<span class="delimiter">]</span> = <span title="None.type">None</span><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="comment">/**
   * Java API.
   */</span>
  <span class="keyword">def</span> <a title="(redeliverMax: Int)akka.persistence.ChannelSettings" id="akka.persistence;ChannelSettings.withRedeliverMax">withRedeliverMax</a><span class="delimiter">(</span><a title="Int" id="akka.persistence;ChannelSettings.withRedeliverMax.redeliverMax">redeliverMax</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#akka.persistence;ChannelSettings" title="akka.persistence.ChannelSettings">ChannelSettings</a> =
    <a href="#akka.persistence;ChannelSettings" title="(redeliverMax: Int, redeliverInterval: scala.concurrent.duration.FiniteDuration, redeliverFailureListener: Option[akka.actor.ActorRef])akka.persistence.ChannelSettings">copy</a><span class="delimiter">(</span>redeliverMax = <a href="#akka.persistence;ChannelSettings.withRedeliverMax.redeliverMax" title="Int">redeliverMax</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Java API.
   */</span>
  <span class="keyword">def</span> <a title="(redeliverInterval: scala.concurrent.duration.FiniteDuration)akka.persistence.ChannelSettings" id="akka.persistence;ChannelSettings.withRedeliverInterval">withRedeliverInterval</a><span class="delimiter">(</span><a title="scala.concurrent.duration.FiniteDuration" id="akka.persistence;ChannelSettings.withRedeliverInterval.redeliverInterval">redeliverInterval</a>: <span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">)</span>: <a href="#akka.persistence;ChannelSettings" title="akka.persistence.ChannelSettings">ChannelSettings</a> =
    <a href="#akka.persistence.ChannelSettings.apply$default$1" title="Int" id="akka.persistence;ChannelSettings.withRedeliverInterval.x$7">copy</a><span class="delimiter">(</span>redeliverInterval = <a href="#akka.persistence;ChannelSettings.withRedeliverInterval.redeliverInterval" title="scala.concurrent.duration.FiniteDuration" id="akka.persistence;ChannelSettings.withRedeliverInterval.x$5">redeliverInterval</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Java API.
   */</span>
  <span class="keyword">def</span> <a title="(redeliverFailureListener: akka.actor.ActorRef)akka.persistence.ChannelSettings" id="akka.persistence;ChannelSettings.withRedeliverFailureListener">withRedeliverFailureListener</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.persistence;ChannelSettings.withRedeliverFailureListener.redeliverFailureListener">redeliverFailureListener</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: <a href="#akka.persistence;ChannelSettings" title="akka.persistence.ChannelSettings">ChannelSettings</a> =
    <a href="#akka.persistence.ChannelSettings.apply$default$1" title="Int" id="akka.persistence;ChannelSettings.withRedeliverFailureListener.x$10">copy</a><span class="delimiter">(</span>redeliverFailureListener = <span title="(x: akka.actor.ActorRef)Option[akka.actor.ActorRef]">Option</span><a title="Option[akka.actor.ActorRef]" id="akka.persistence;ChannelSettings.withRedeliverFailureListener.x$8" class="delimiter">(</a><a href="#akka.persistence;ChannelSettings.withRedeliverFailureListener.redeliverFailureListener" title="akka.actor.ActorRef">redeliverFailureListener</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

@deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed, see `akka.persistence.AtLeastOnceDelivery` instead.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
<span class="keyword">object</span> <a title="akka.persistence.ChannelSettings.type" id="akka.persistence.ChannelSettings.readResolve">ChannelSettings</a> <a href="#akka.persistence.ChannelSettings.readResolve" title="akka.persistence.ChannelSettings.type" class="delimiter">{</a>
  <span class="comment">/**
   * Java API.
   */</span>
  <span class="keyword">def</span> <a title="()akka.persistence.ChannelSettings" id="akka.persistence.ChannelSettings.create">create</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#akka.persistence.ChannelSettings.readResolve" title="akka.persistence.ChannelSettings.type">ChannelSettings</a>.<a href="#akka.persistence;ChannelSettings" title="(redeliverMax: Int, redeliverInterval: scala.concurrent.duration.FiniteDuration, redeliverFailureListener: Option[akka.actor.ActorRef])akka.persistence.ChannelSettings">apply</a><span class="delimiter">(</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * A channel is used by [[Processor]]s (and [[View]]s) for sending [[Persistent]] messages to destinations.
 * The main responsibility of a channel is to prevent redundant delivery of replayed messages to destinations
 * when a processor is recovered.
 *
 * A channel is instructed to deliver a persistent message to a destination with the [[Deliver]] command. A
 * destination is provided as `ActorPath` and messages are sent via that path's `ActorSelection`.
 *
 * {{{
 * class ForwardExample extends Processor {
 *   val destination = context.actorOf(Props[MyDestination])
 *   val channel = context.actorOf(Channel.props(), &quot;myChannel&quot;)
 *
 *   def receive = {
 *     case m @ Persistent(payload, _) =&gt;
 *       // forward modified message to destination
 *       channel forward Deliver(m.withPayload(s&quot;fw: ${payload}&quot;), destination.path)
 *   }
 * }
 * }}}
 *
 * To reply to the sender of a persistent message, the `sender` reference should be used as channel
 * destination.
 *
 * {{{
 * class ReplyExample extends Processor {
 *   val channel = context.actorOf(Channel.props(), &quot;myChannel&quot;)
 *
 *   def receive = {
 *     case m @ Persistent(payload, _) =&gt;
 *       // reply modified message to sender
 *       channel ! Deliver(m.withPayload(s&quot;re: ${payload}&quot;), sender.path)
 *   }
 * }
 * }}}
 *
 * Redundant delivery of messages to destinations is only prevented if the receipt of these messages
 * is explicitly confirmed. Therefore, persistent messages that are delivered via a channel are of type
 * [[ConfirmablePersistent]]. Their receipt can be confirmed by a destination by calling the `confirm()`
 * method on these messages.
 *
 * {{{
 * class MyDestination extends Actor {
 *   def receive = {
 *     case cp @ ConfirmablePersistent(payload, sequenceNr, redeliveries) =&gt; cp.confirm()
 *   }
 * }
 * }}}
 *
 * If a destination does not confirm the receipt of a `ConfirmablePersistent` message, it will be redelivered
 * by the channel according to the parameters in [[ChannelSettings]]. Redelivered messages have a `redeliveries`
 * value greater than zero.
 *
 * If the maximum number of redeliveries is reached for certain messages, they are removed from the channel and
 * a `redeliverFailureListener` (if specified, see [[ChannelSettings]]) is notified about these messages with a
 * [[RedeliverFailure]] message. Besides other application-specific tasks, this listener can restart the sending
 * processor to enforce a redelivery of these messages or confirm these messages to prevent further redeliveries.
 *
 * @see [[Deliver]]
 */</span>
@deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed, see `akka.persistence.AtLeastOnceDelivery` instead.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class Channel extends AnyRef with akka.actor.Actor" id="akka.persistence;Channel">Channel</a> <a href="#akka.persistence;Channel" title="akka.persistence.Channel" class="keyword">private</a><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="delimiter">(</span><a title="Option[String]" id="akka.persistence;Channel._channelId">_channelId</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="akka.persistence.ChannelSettings" id="akka.persistence;Channel.channelSettings">channelSettings</a>: <a href="#akka.persistence;ChannelSettings" title="akka.persistence.ChannelSettings">ChannelSettings</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor" title="akka.actor.Actor">Actor</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="#akka.persistence;Channel.channelSettings" title="akka.persistence.ChannelSettings">channelSettings</a>._

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="String" id="akka.persistence;Channel.id">id</a> = <a href="#akka.persistence;Channel._channelId" title="Option[String]">_channelId</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="String" id="akka.persistence;Channel.id.cid">cid</a><span class="delimiter">)</span> â‡’ <a href="#akka.persistence;Channel.id.cid" title="String">cid</a>
    <span class="keyword">case</span> <span title="None.type">None</span>      â‡’ <a href="../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionId.apply" title="(system: akka.actor.ActorSystem)akka.persistence.Persistence">Persistence</a><span class="delimiter">(</span><a href="../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a><span class="delimiter">)</span>.<a href="Persistence.scala.html#akka.persistence;Persistence.channelId" title="(channel: akka.actor.ActorRef)String">channelId</a><span class="delimiter">(</span><a href="../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="akka.actor.ActorRef" id="akka.persistence;Channel.journal">journal</a> = <a href="../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionId.apply" title="(system: akka.actor.ActorSystem)akka.persistence.Persistence">Persistence</a><span class="delimiter">(</span><a href="../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a><span class="delimiter">)</span>.<a href="Persistence.scala.html#akka.persistence;Persistence.confirmationBatchingJournalForChannel" title="(channelId: String)akka.actor.ActorRef">confirmationBatchingJournalForChannel</a><span class="delimiter">(</span><a href="#akka.persistence;Channel.id" title="=&gt; String">id</a><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="akka.actor.ActorRef" id="akka.persistence;Channel.delivery">delivery</a> = <a href="../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.actorOf(59f1e43182)" title="(props: akka.actor.Props)akka.actor.ActorRef">actorOf</a><span class="delimiter">(</span><a href="../../../actor/akka/actor/Props.scala.html#akka.actor.Props.apply(0870a176b3)" title="(clazz: Class[_], args: Any*)akka.actor.Props">Props</a><span class="delimiter">(</span>classOf<span title="Class[akka.persistence.ReliableDelivery](classOf[akka.persistence.ReliableDelivery])" class="delimiter">[</span>ReliableDelivery<span class="delimiter">]</span>, <a href="#akka.persistence;Channel.channelSettings" title="akka.persistence.ChannelSettings">channelSettings</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; PartialFunction[Any,Unit]" id="akka.persistence;Channel.receive">receive</a> = <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="akka.persistence;Channel.receive;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    <span class="keyword">case</span> <span title="akka.persistence.Deliver">d</span> @ Deliver<span class="delimiter">(</span><a title="akka.persistence.PersistentRepr" id="akka.persistence;Channel.receive;$anonfun.isDefinedAt.persistent">persistent</a>: <a href="Persistent.scala.html#akka.persistence;PersistentRepr" title="akka.persistence.PersistentRepr">PersistentRepr</a>, _<span class="delimiter">)</span> â‡’
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.persistence;Channel.receive;$anonfun.isDefinedAt.persistent" title="akka.persistence.PersistentRepr">persistent</a>.<a href="Persistent.scala.html#akka.persistence;PersistentRepr.confirms" title="=&gt; scala.collection.immutable.Seq[String]">confirms</a>.<span title="(elem: Any)Boolean">contains</span><span class="delimiter">(</span><a href="#akka.persistence;Channel.id" title="=&gt; String">id</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.persistence;Channel.delivery" title="=&gt; akka.actor.ActorRef">delivery</a> <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.forward" title="(message: Any)(implicit context: akka.actor.ActorContext)Unit">forward</a> <span title="akka.persistence.Deliver">d</span>.<a href="#akka.persistence;Deliver" title="(persistent: akka.persistence.Persistent, destination: akka.actor.ActorPath)akka.persistence.Deliver">copy</a><span class="delimiter">(</span><a href="#akka.persistence;Channel.prepareDelivery" title="(persistent: akka.persistence.PersistentRepr)akka.persistence.PersistentRepr">prepareDelivery</a><span class="delimiter">(</span><a href="#akka.persistence;Channel.receive;$anonfun.isDefinedAt.persistent" title="akka.persistence.PersistentRepr">persistent</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="akka.persistence.RedeliverFailure">d</span>: <a href="#akka.persistence.RedeliverFailure.readResolve" title="akka.persistence.RedeliverFailure">RedeliverFailure</a> â‡’ <a href="#akka.persistence.ChannelSettings.apply$default$3" title="=&gt; Option[akka.actor.ActorRef]">redeliverFailureListener</a>.<span title="(f: akka.actor.ActorRef =&gt; Unit)Unit">foreach</span><span title="Boolean(true)" class="delimiter">(</span><a href="../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">_</a> <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <span title="akka.persistence.RedeliverFailure">d</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="akka.persistence.Delivered">d</span>: <a href="#akka.persistence;Delivered" title="akka.persistence.Delivered">Delivered</a>        â‡’ <a href="#akka.persistence;Channel.delivery" title="=&gt; akka.actor.ActorRef">delivery</a> <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.forward" title="(message: Any)(implicit context: akka.actor.ActorContext)Unit">forward</a> <span title="akka.persistence.Delivered">d</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(persistent: akka.persistence.PersistentRepr)akka.persistence.PersistentRepr" id="akka.persistence;Channel.prepareDelivery">prepareDelivery</a><span class="delimiter">(</span><a title="akka.persistence.PersistentRepr" id="akka.persistence;Channel.prepareDelivery.persistent">persistent</a>: <a href="Persistent.scala.html#akka.persistence;PersistentRepr" title="akka.persistence.PersistentRepr">PersistentRepr</a><span class="delimiter">)</span>: <a href="Persistent.scala.html#akka.persistence;PersistentRepr" title="akka.persistence.PersistentRepr">PersistentRepr</a> =
    <a href="Persistent.scala.html#akka.persistence.ConfirmablePersistentImpl.apply(c7344d043d)" title="(persistent: akka.persistence.PersistentRepr, confirmMessage: akka.persistence.Delivered, confirmTarget: akka.actor.ActorRef)akka.persistence.ConfirmablePersistentImpl">ConfirmablePersistentImpl</a><span class="delimiter">(</span><a href="#akka.persistence;Channel.prepareDelivery.persistent" title="akka.persistence.PersistentRepr" id="akka.persistence;Channel.prepareDelivery.x$16">persistent</a>,
      confirmTarget = <a href="#akka.persistence;Channel.journal" title="akka.actor.ActorRef" id="akka.persistence;Channel.prepareDelivery.x$17">journal</a>,
      confirmMessage = <a href="#akka.persistence.DeliveredByChannel.<init>$default$4" title="Long" id="akka.persistence;Channel.prepareDelivery.x$18.x$15">DeliveredByChannel</a><a title="akka.persistence.DeliveredByChannel" id="akka.persistence;Channel.prepareDelivery.x$18" class="delimiter">(</a><a href="#akka.persistence;Channel.prepareDelivery.persistent" title="akka.persistence.PersistentRepr">persistent</a>.<a href="Persistent.scala.html#akka.persistence;PersistentId.persistenceId" title="String" id="akka.persistence;Channel.prepareDelivery.x$18.x$11">persistenceId</a>, <a href="#akka.persistence;Channel.id" title="String" id="akka.persistence;Channel.prepareDelivery.x$18.x$12">id</a>, <a href="#akka.persistence;Channel.prepareDelivery.persistent" title="akka.persistence.PersistentRepr">persistent</a>.<a href="Persistent.scala.html#akka.persistence;PersistentId.sequenceNr" title="Long" id="akka.persistence;Channel.prepareDelivery.x$18.x$13">sequenceNr</a>, channel = <a href="../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="akka.actor.ActorRef" id="akka.persistence;Channel.prepareDelivery.x$18.x$14">self</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

@deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed, see `akka.persistence.AtLeastOnceDelivery` instead.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
<span class="keyword">object</span> <a title="akka.persistence.Channel.type" id="akka.persistence.Channel">Channel</a> <a href="#akka.persistence.Channel" title="akka.persistence.Channel.type" class="delimiter">{</a>
  <span class="comment">/**
   * Returns a channel actor configuration object for creating a [[Channel]] with a
   * generated id and default [[ChannelSettings]].
   */</span>
  <span class="keyword">def</span> <a title="()akka.actor.Props" id="akka.persistence.Channel.props(e990b60154)">props</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../actor/akka/actor/Props.scala.html#akka.actor;Props" title="akka.actor.Props">Props</a> =
    <a href="#akka.persistence.Channel.props(549647bcff)" title="(channelSettings: akka.persistence.ChannelSettings)akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.persistence;ChannelSettings" title="(redeliverMax: Int, redeliverInterval: scala.concurrent.duration.FiniteDuration, redeliverFailureListener: Option[akka.actor.ActorRef])akka.persistence.ChannelSettings">ChannelSettings</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns a channel actor configuration object for creating a [[Channel]] with a
   * generated id and specified `channelSettings`.
   *
   * @param channelSettings channel configuration object.
   */</span>
  <span class="keyword">def</span> <a title="(channelSettings: akka.persistence.ChannelSettings)akka.actor.Props" id="akka.persistence.Channel.props(549647bcff)">props</a><span class="delimiter">(</span><a title="akka.persistence.ChannelSettings" id="akka.persistence.Channel.props(549647bcff).channelSettings">channelSettings</a>: <a href="#akka.persistence;ChannelSettings" title="akka.persistence.ChannelSettings">ChannelSettings</a><span class="delimiter">)</span>: <a href="../../../actor/akka/actor/Props.scala.html#akka.actor;Props" title="akka.actor.Props">Props</a> =
    <a href="../../../actor/akka/actor/Props.scala.html#akka.actor.Props.apply(0870a176b3)" title="(clazz: Class[_], args: Any*)akka.actor.Props">Props</a><span class="delimiter">(</span>classOf<span title="Class[akka.persistence.Channel](classOf[akka.persistence.Channel])" class="delimiter">[</span>Channel<span class="delimiter">]</span>, <span title="None.type">None</span>, <a href="#akka.persistence.Channel.props(549647bcff).channelSettings" title="akka.persistence.ChannelSettings">channelSettings</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns a channel actor configuration object for creating a [[Channel]] with the
   * specified id and default [[ChannelSettings]].
   *
   * @param channelId channel id.
   */</span>
  <span class="keyword">def</span> <a title="(channelId: String)akka.actor.Props" id="akka.persistence.Channel.props(39b4f22e6d)">props</a><span class="delimiter">(</span><a title="String" id="akka.persistence.Channel.props(39b4f22e6d).channelId">channelId</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../actor/akka/actor/Props.scala.html#akka.actor;Props" title="akka.actor.Props">Props</a> =
    <a href="#akka.persistence.Channel.props(198df19d11)" title="(channelId: String, channelSettings: akka.persistence.ChannelSettings)akka.actor.Props">props</a><span class="delimiter">(</span><a href="#akka.persistence.Channel.props(39b4f22e6d).channelId" title="String">channelId</a>, <a href="#akka.persistence;ChannelSettings" title="(redeliverMax: Int, redeliverInterval: scala.concurrent.duration.FiniteDuration, redeliverFailureListener: Option[akka.actor.ActorRef])akka.persistence.ChannelSettings">ChannelSettings</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns a channel actor configuration object for creating a [[Channel]] with the
   * specified id  and specified `channelSettings`.
   *
   * @param channelId channel id.
   * @param channelSettings channel configuration object.
   */</span>
  <span class="keyword">def</span> <a title="(channelId: String, channelSettings: akka.persistence.ChannelSettings)akka.actor.Props" id="akka.persistence.Channel.props(198df19d11)">props</a><span class="delimiter">(</span><a title="String" id="akka.persistence.Channel.props(198df19d11).channelId">channelId</a>: <span title="String">String</span>, <a title="akka.persistence.ChannelSettings" id="akka.persistence.Channel.props(198df19d11).channelSettings">channelSettings</a>: <a href="#akka.persistence;ChannelSettings" title="akka.persistence.ChannelSettings">ChannelSettings</a><span class="delimiter">)</span>: <a href="../../../actor/akka/actor/Props.scala.html#akka.actor;Props" title="akka.actor.Props">Props</a> =
    <a href="../../../actor/akka/actor/Props.scala.html#akka.actor.Props.apply(0870a176b3)" title="(clazz: Class[_], args: Any*)akka.actor.Props">Props</a><span class="delimiter">(</span>classOf<span title="Class[akka.persistence.Channel](classOf[akka.persistence.Channel])" class="delimiter">[</span>Channel<span class="delimiter">]</span>, <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="#akka.persistence.Channel.props(198df19d11).channelId" title="String">channelId</a><span class="delimiter">)</span>, <a href="#akka.persistence.Channel.props(198df19d11).channelSettings" title="akka.persistence.ChannelSettings">channelSettings</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Instructs a [[Channel]] or [[PersistentChannel]] to deliver a `persistent` message to
 * a `destination`.
 *
 * @param persistent persistent message.
 * @param destination persistent message destination.
 */</span>
@SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
@deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed, see `akka.persistence.AtLeastOnceDelivery` instead.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
<span class="keyword">case class</span> <a title="class Deliver extends AnyRef with akka.persistence.serialization.Message with Product with Serializable" id="akka.persistence;Deliver">Deliver</a><a href="#akka.persistence;Deliver" title="Product" class="delimiter">(</a><a title="akka.persistence.Persistent" id="akka.persistence;Deliver.persistent">persistent</a>: <a href="Persistent.scala.html#akka.persistence;Persistent" title="akka.persistence.Persistent">Persistent</a>, <a title="akka.actor.ActorPath" id="akka.persistence;Deliver.destination">destination</a>: <a href="../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath" title="akka.actor.ActorPath">ActorPath</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="serialization/MessageSerializer.scala.html#akka.persistence.serialization;Message" title="akka.persistence.serialization.Message">Message</a>

@deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed, see `akka.persistence.AtLeastOnceDelivery` instead.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
<span class="keyword">object</span> <a title="akka.persistence.Deliver.type" id="akka.persistence.Deliver.readResolve">Deliver</a> <a href="#akka.persistence.Deliver.readResolve" title="akka.persistence.Deliver.type" class="delimiter">{</a>
  <span class="comment">/**
   * Java API.
   */</span>
  <span class="keyword">def</span> <a title="(persistent: akka.persistence.Persistent, destination: akka.actor.ActorPath)akka.persistence.Deliver" id="akka.persistence.Deliver.create">create</a><span class="delimiter">(</span><a title="akka.persistence.Persistent" id="akka.persistence.Deliver.create.persistent">persistent</a>: <a href="Persistent.scala.html#akka.persistence;Persistent" title="akka.persistence.Persistent">Persistent</a>, <a title="akka.actor.ActorPath" id="akka.persistence.Deliver.create.destination">destination</a>: <a href="../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath" title="akka.actor.ActorPath">ActorPath</a><span class="delimiter">)</span> = <a href="#akka.persistence;Deliver" title="(persistent: akka.persistence.Persistent, destination: akka.actor.ActorPath)akka.persistence.Deliver">Deliver</a><span class="delimiter">(</span><a href="#akka.persistence.Deliver.create.persistent" title="akka.persistence.Persistent">persistent</a>, <a href="#akka.persistence.Deliver.create.destination" title="akka.actor.ActorPath">destination</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Plugin API: confirmation message generated by receivers of [[ConfirmablePersistent]] messages
 * by calling `ConfirmablePersistent.confirm()`.
 */</span>
@deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed, see `akka.persistence.AtLeastOnceDelivery` instead.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
<span class="keyword">trait</span> <a title="trait Delivered extends AnyRef with akka.persistence.serialization.Message" id="akka.persistence;Delivered">Delivered</a> <span class="keyword">extends</span> <a href="serialization/MessageSerializer.scala.html#akka.persistence.serialization;Message" title="akka.persistence.serialization.Message">Message</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="akka.persistence;Delivered.channelId">channelId</a>: <span title="String">String</span>
  <span class="keyword">def</span> <a title="=&gt; Long" id="akka.persistence;Delivered.persistentSequenceNr">persistentSequenceNr</a>: <span title="Long">Long</span>
  <span class="keyword">def</span> <a title="=&gt; Long" id="akka.persistence;Delivered.deliverySequenceNr">deliverySequenceNr</a>: <span title="Long">Long</span>
  <span class="keyword">def</span> <a title="=&gt; akka.actor.ActorRef" id="akka.persistence;Delivered.channel">channel</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>

  <span class="comment">/**
   * INTERNAL API.
   */</span>
  <span class="keyword">private</span><span class="delimiter">[</span>persistence<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(deliverySequenceNr: Long, channel: akka.actor.ActorRef)akka.persistence.Delivered" id="akka.persistence;Delivered.update">update</a><span class="delimiter">(</span><a title="Long" id="akka.persistence;Delivered.update$default$1">deliverySequenceNr</a>: <span title="Long">Long</span> = <a href="#akka.persistence;Delivered.update$default$1" title="Long">deliverySequenceNr</a>, <a title="akka.actor.ActorRef" id="akka.persistence;Delivered.update$default$2">channel</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a> = <a href="#akka.persistence;Delivered.update$default$2" title="akka.actor.ActorRef">channel</a><span class="delimiter">)</span>: <a href="#akka.persistence;Delivered" title="akka.persistence.Delivered">Delivered</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * Plugin API.
 */</span>
@deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed, see `akka.persistence.AtLeastOnceDelivery` instead.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
<span class="keyword">case class</span> <a title="class DeliveredByChannel extends AnyRef with akka.persistence.Delivered with akka.persistence.PersistentConfirmation with Product with Serializable" id="akka.persistence.DeliveredByChannel.readResolve">DeliveredByChannel</a><a href="#akka.persistence.DeliveredByChannel.readResolve" title="Product" class="delimiter">(</a>
  @deprecatedName<span class="delimiter">(</span><span class="symbol">'processorId</span><span class="delimiter">)</span> <a title="String" id="akka.persistence;DeliveredByChannel.persistenceId">persistenceId</a>: <span title="String">String</span>,
  <a title="String" id="akka.persistence;DeliveredByChannel.channelId">channelId</a>: <span title="String">String</span>,
  <a title="Long" id="akka.persistence;DeliveredByChannel.persistentSequenceNr">persistentSequenceNr</a>: <span title="Long">Long</span>,
  <a title="Long" id="akka.persistence.DeliveredByChannel.<init>$default$4">deliverySequenceNr</a>: <span title="Long">Long</span> = <span title="Long(0L)" class="long">0L</span>,
  <a title="akka.actor.ActorRef" id="akka.persistence.DeliveredByChannel.<init>$default$5">channel</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a> = <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#akka.persistence;Delivered" title="akka.persistence.Delivered">Delivered</a> <span class="keyword">with</span> <a href="Persistent.scala.html#akka.persistence;PersistentConfirmation" title="akka.persistence.PersistentConfirmation">PersistentConfirmation</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="=&gt; Long" id="akka.persistence;DeliveredByChannel.sequenceNr">sequenceNr</a>: <span title="Long">Long</span> = <a href="#akka.persistence;DeliveredByChannel.persistentSequenceNr" title="=&gt; Long">persistentSequenceNr</a>
  <span class="keyword">def</span> <a title="(deliverySequenceNr: Long, channel: akka.actor.ActorRef)akka.persistence.DeliveredByChannel" id="akka.persistence;DeliveredByChannel.update">update</a><span class="delimiter">(</span><a title="Long" id="akka.persistence;DeliveredByChannel.update.deliverySequenceNr">deliverySequenceNr</a>: <span title="Long">Long</span>, <a title="akka.actor.ActorRef" id="akka.persistence;DeliveredByChannel.update.channel">channel</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: <a href="#akka.persistence.DeliveredByChannel.readResolve" title="akka.persistence.DeliveredByChannel">DeliveredByChannel</a> =
    <a href="#akka.persistence;DeliveredByChannel.persistenceId" title="String" id="akka.persistence;DeliveredByChannel.update.x$23">copy</a><span class="delimiter">(</span>deliverySequenceNr = <a href="#akka.persistence;DeliveredByChannel.update.deliverySequenceNr" title="Long" id="akka.persistence;DeliveredByChannel.update.x$19">deliverySequenceNr</a>, channel = <a href="#akka.persistence;DeliveredByChannel.update.channel" title="akka.actor.ActorRef" id="akka.persistence;DeliveredByChannel.update.x$20">channel</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * INTERNAL API.
 */</span>
@deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed, see `akka.persistence.AtLeastOnceDelivery` instead.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
<span class="keyword">private</span><span class="delimiter">[</span>persistence<span class="delimiter">]</span> <span class="keyword">class</span> <a title="class DeliveredByChannelBatching extends AnyRef with akka.actor.Actor" id="akka.persistence;DeliveredByChannelBatching">DeliveredByChannelBatching</a><a href="#akka.persistence;DeliveredByChannelBatching" title="akka.persistence.DeliveredByChannelBatching" class="delimiter">(</a><a title="akka.actor.ActorRef" id="akka.persistence;DeliveredByChannelBatching.journal">journal</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="akka.persistence.PersistenceSettings" id="akka.persistence;DeliveredByChannelBatching.settings">settings</a>: <a href="Persistence.scala.html#akka.persistence;PersistenceSettings" title="akka.persistence.PersistenceSettings">PersistenceSettings</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor" title="akka.actor.Actor">Actor</a> <span class="delimiter">{</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Boolean" id="akka.persistence;DeliveredByChannelBatching.publish">publish</a> = <a href="#akka.persistence;DeliveredByChannelBatching.settings" title="akka.persistence.PersistenceSettings">settings</a>.<a href="Persistence.scala.html#akka.persistence;PersistenceSettings.internal" title="DeliveredByChannelBatching.this.settings.internal.type">internal</a>.<a href="Persistence.scala.html#akka.persistence;PersistenceSettings.internal.publishConfirmations" title="=&gt; Boolean">publishConfirmations</a>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="akka.persistence;DeliveredByChannelBatching.batchMax">batchMax</a> = <a href="#akka.persistence;DeliveredByChannelBatching.settings" title="akka.persistence.PersistenceSettings">settings</a>.<a href="Persistence.scala.html#akka.persistence;PersistenceSettings.journal" title="DeliveredByChannelBatching.this.settings.journal.type">journal</a>.<a href="Persistence.scala.html#akka.persistence;PersistenceSettings.journal.maxConfirmationBatchSize" title="=&gt; Int">maxConfirmationBatchSize</a>

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Boolean" id="akka.persistence;DeliveredByChannelBatching.batching_=">batching</a> = <span title="Boolean(false)" class="keyword">false</span>
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="scala.collection.immutable.Vector[akka.persistence.DeliveredByChannel]" id="akka.persistence;DeliveredByChannelBatching.batch_=">batch</a> = <span title="=&gt; collection.immutable.Vector.type">Vector</span>.<span title="[A]=&gt; scala.collection.immutable.Vector[A]">empty</span><span title="scala.collection.immutable.Vector[akka.persistence.DeliveredByChannel]" class="delimiter">[</span><a href="#akka.persistence.DeliveredByChannel.readResolve" title="akka.persistence.DeliveredByChannel">DeliveredByChannel</a><span class="delimiter">]</span>

  <span class="keyword">def</span> <a title="=&gt; PartialFunction[Any,Unit]" id="akka.persistence;DeliveredByChannelBatching.receive">receive</a> = <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="akka.persistence;DeliveredByChannelBatching.receive;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    <span class="keyword">case</span> WriteConfirmationsSuccess<span class="delimiter">(</span><a title="scala.collection.immutable.Seq[akka.persistence.PersistentConfirmation]" id="akka.persistence;DeliveredByChannelBatching.receive;$anonfun.isDefinedAt.confirmations">confirmations</a><span class="delimiter">)</span> â‡’
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.persistence;DeliveredByChannelBatching.batch_=" title="=&gt; scala.collection.immutable.Vector[akka.persistence.DeliveredByChannel]">batch</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#akka.persistence;DeliveredByChannelBatching.batching_=" title="(x$1: Boolean)Unit">batching</a> = <span title="Boolean(false)" class="keyword">false</span> <span class="keyword">else</span> <a href="#akka.persistence;DeliveredByChannelBatching.journalBatch" title="()Unit">journalBatch</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#akka.persistence;DeliveredByChannelBatching.receive;$anonfun.isDefinedAt.confirmations" title="scala.collection.immutable.Seq[akka.persistence.PersistentConfirmation]">confirmations</a>.<span title="(f: akka.persistence.PersistentConfirmation =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="akka.persistence.PersistentConfirmation" id="akka.persistence;DeliveredByChannelBatching.receive;$anonfun.applyOrElse.$anonfun.c">c</a> â‡’
        <span class="keyword">val</span> <a title="akka.persistence.DeliveredByChannel" id="akka.persistence;DeliveredByChannelBatching.receive;$anonfun.applyOrElse.$anonfun.dbc">dbc</a> = <a href="#akka.persistence;DeliveredByChannelBatching.receive;$anonfun.applyOrElse.$anonfun.c" title="akka.persistence.PersistentConfirmation">c</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="akka.persistence.DeliveredByChannel" class="delimiter">[</span><a href="#akka.persistence.DeliveredByChannel.readResolve" title="akka.persistence.DeliveredByChannel">DeliveredByChannel</a><span class="delimiter">]</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.persistence;DeliveredByChannelBatching.receive;$anonfun.applyOrElse.$anonfun.dbc" title="akka.persistence.DeliveredByChannel">dbc</a>.<a href="#akka.persistence.DeliveredByChannel.<init>$default$5" title="=&gt; akka.actor.ActorRef">channel</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#akka.persistence;DeliveredByChannelBatching.receive;$anonfun.applyOrElse.$anonfun.dbc" title="akka.persistence.DeliveredByChannel">dbc</a>.<a href="../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">channel</a> <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.persistence;DeliveredByChannelBatching.receive;$anonfun.applyOrElse.$anonfun.c" title="akka.persistence.PersistentConfirmation">c</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.persistence;DeliveredByChannelBatching.publish" title="=&gt; Boolean">publish</a><span class="delimiter">)</span> <a href="../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a>.<a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.eventStream" title="=&gt; akka.event.EventStream">eventStream</a>.<a href="../../../actor/akka/event/EventBus.scala.html#akka.event;SubchannelClassification.publish(de973626dc)" title="(event: Object)Unit">publish</a><span class="delimiter">(</span><a href="#akka.persistence;DeliveredByChannelBatching.receive;$anonfun.applyOrElse.$anonfun.c" title="akka.persistence.PersistentConfirmation">c</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="keyword">case</span> WriteConfirmationsFailure<span class="delimiter">(</span>_<span class="delimiter">)</span> â‡’
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.persistence;DeliveredByChannelBatching.batch_=" title="=&gt; scala.collection.immutable.Vector[akka.persistence.DeliveredByChannel]">batch</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#akka.persistence;DeliveredByChannelBatching.batching_=" title="(x$1: Boolean)Unit">batching</a> = <span title="Boolean(false)" class="keyword">false</span> <span class="keyword">else</span> <a href="#akka.persistence;DeliveredByChannelBatching.journalBatch" title="()Unit">journalBatch</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="akka.persistence.DeliveredByChannel" id="akka.persistence;DeliveredByChannelBatching.receive;$anonfun.isDefinedAt.d">d</a>: <a href="#akka.persistence.DeliveredByChannel.readResolve" title="akka.persistence.DeliveredByChannel">DeliveredByChannel</a> â‡’
      <a href="#akka.persistence;DeliveredByChannelBatching.addToBatch" title="(pc: akka.persistence.DeliveredByChannel)Unit">addToBatch</a><span class="delimiter">(</span><a href="#akka.persistence;DeliveredByChannelBatching.receive;$anonfun.isDefinedAt.d" title="akka.persistence.DeliveredByChannel">d</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.persistence;DeliveredByChannelBatching.batching_=" title="=&gt; Boolean">batching</a> <span title="(x: Boolean)Boolean">||</span> <a href="#akka.persistence;DeliveredByChannelBatching.maxBatchSizeReached" title="=&gt; Boolean">maxBatchSizeReached</a><span class="delimiter">)</span> <a href="#akka.persistence;DeliveredByChannelBatching.journalBatch" title="()Unit">journalBatch</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="Any" id="akka.persistence;DeliveredByChannelBatching.receive;$anonfun.isDefinedAt.m">m</a> â‡’ <a href="#akka.persistence;DeliveredByChannelBatching.journal" title="akka.actor.ActorRef">journal</a> <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.forward" title="(message: Any)(implicit context: akka.actor.ActorContext)Unit">forward</a> <a href="#akka.persistence;DeliveredByChannelBatching.receive;$anonfun.isDefinedAt.m" title="Any">m</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(pc: akka.persistence.DeliveredByChannel)Unit" id="akka.persistence;DeliveredByChannelBatching.addToBatch">addToBatch</a><span class="delimiter">(</span><a title="akka.persistence.DeliveredByChannel" id="akka.persistence;DeliveredByChannelBatching.addToBatch.pc">pc</a>: <a href="#akka.persistence.DeliveredByChannel.readResolve" title="akka.persistence.DeliveredByChannel">DeliveredByChannel</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#akka.persistence;DeliveredByChannelBatching.batch_=" title="(x$1: scala.collection.immutable.Vector[akka.persistence.DeliveredByChannel])Unit">batch</a> = <a href="#akka.persistence;DeliveredByChannelBatching.batch_=" title="=&gt; scala.collection.immutable.Vector[akka.persistence.DeliveredByChannel]">batch</a> <span title="(elem: akka.persistence.DeliveredByChannel)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Vector[akka.persistence.DeliveredByChannel],akka.persistence.DeliveredByChannel,scala.collection.immutable.Vector[akka.persistence.DeliveredByChannel]])scala.collection.immutable.Vector[akka.persistence.DeliveredByChannel]">:+</span> <a href="#akka.persistence;DeliveredByChannelBatching.addToBatch.pc" title="akka.persistence.DeliveredByChannel">pc</a>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="akka.persistence;DeliveredByChannelBatching.maxBatchSizeReached">maxBatchSizeReached</a>: <span title="Boolean">Boolean</span> =
    <a href="#akka.persistence;DeliveredByChannelBatching.batch_=" title="=&gt; scala.collection.immutable.Vector[akka.persistence.DeliveredByChannel]">batch</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&gt;=</span> <a href="#akka.persistence;DeliveredByChannelBatching.batchMax" title="=&gt; Int">batchMax</a>

  <span class="keyword">def</span> <a title="()Unit" id="akka.persistence;DeliveredByChannelBatching.journalBatch">journalBatch</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">journal</a> <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="JournalProtocol.scala.html#akka.persistence.JournalProtocol;WriteConfirmations" title="(confirmations: scala.collection.immutable.Seq[akka.persistence.PersistentConfirmation], requestor: akka.actor.ActorRef)akka.persistence.JournalProtocol.WriteConfirmations">WriteConfirmations</a><span class="delimiter">(</span><a href="#akka.persistence;DeliveredByChannelBatching.batch_=" title="=&gt; scala.collection.immutable.Vector[akka.persistence.DeliveredByChannel]">batch</a>, <a href="../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.self" title="=&gt; akka.actor.ActorRef">self</a><span class="delimiter">)</span>
    <a href="#akka.persistence;DeliveredByChannelBatching.batch_=" title="(x$1: scala.collection.immutable.Vector[akka.persistence.DeliveredByChannel])Unit">batch</a> = <span title="=&gt; collection.immutable.Vector.type">Vector</span>.<span title="scala.collection.immutable.Vector[Nothing]">empty</span>
    <a href="#akka.persistence;DeliveredByChannelBatching.batching_=" title="(x$1: Boolean)Unit">batching</a> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Notification message to inform channel listeners about messages that have reached the maximum
 * number of redeliveries.
 */</span>
@deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed, see `akka.persistence.AtLeastOnceDelivery` instead.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
<span class="keyword">case class</span> <a title="class RedeliverFailure extends AnyRef with Product with Serializable" id="akka.persistence.RedeliverFailure.readResolve">RedeliverFailure</a><a href="#akka.persistence.RedeliverFailure.readResolve" title="Product" class="delimiter">(</a><a title="scala.collection.immutable.Seq[akka.persistence.ConfirmablePersistent]" id="akka.persistence;RedeliverFailure.messages">messages</a>: immutable.<span title="scala.collection.immutable.Seq[akka.persistence.ConfirmablePersistent]">Seq</span><span class="delimiter">[</span>ConfirmablePersistent<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="comment">/**
   * Java API.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Iterable[akka.persistence.ConfirmablePersistent]" id="akka.persistence;RedeliverFailure.getMessages">getMessages</a>: <span title="Iterable[akka.persistence.ConfirmablePersistent]">JIterable</span><span class="delimiter">[</span>ConfirmablePersistent<span class="delimiter">]</span> = <a href="#akka.persistence;RedeliverFailure.messages" title="(b: Seq[akka.persistence.ConfirmablePersistent])scala.collection.convert.Decorators.AsJava[java.util.List[akka.persistence.ConfirmablePersistent]]">messages</a>.<span title="=&gt; java.util.List[akka.persistence.ConfirmablePersistent]">asJava</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Reliably deliver messages contained in [[Deliver]] requests to their destinations. Unconfirmed
 * messages are redelivered according to the parameters in [[ChannelSettings]].
 */</span>
@deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed, see `akka.persistence.AtLeastOnceDelivery` instead.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
<span class="keyword">private</span> <span class="keyword">class</span> <a title="class ReliableDelivery extends AnyRef with akka.actor.Actor" id="akka.persistence;ReliableDelivery">ReliableDelivery</a><a href="#akka.persistence;ReliableDelivery" title="akka.persistence.ReliableDelivery" class="delimiter">(</a><a title="akka.persistence.ChannelSettings" id="akka.persistence;ReliableDelivery.redeliverSettings">redeliverSettings</a>: <a href="#akka.persistence;ChannelSettings" title="akka.persistence.ChannelSettings">ChannelSettings</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor" title="akka.actor.Actor">Actor</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="#akka.persistence;ReliableDelivery.redeliverSettings" title="akka.persistence.ChannelSettings">redeliverSettings</a>._
  <span class="keyword">import</span> <a href="#akka.persistence.ReliableDelivery" title="akka.persistence.ReliableDelivery.type">ReliableDelivery</a>._

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="akka.actor.ActorRef" id="akka.persistence;ReliableDelivery.redelivery">redelivery</a> = <a href="../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.actorOf(59f1e43182)" title="(props: akka.actor.Props)akka.actor.ActorRef">actorOf</a><span class="delimiter">(</span><a href="../../../actor/akka/actor/Props.scala.html#akka.actor.Props.apply(0870a176b3)" title="(clazz: Class[_], args: Any*)akka.actor.Props">Props</a><span class="delimiter">(</span>classOf<span title="Class[akka.persistence.Redelivery](classOf[akka.persistence.Redelivery])" class="delimiter">[</span>Redelivery<span class="delimiter">]</span>, <a href="#akka.persistence;ReliableDelivery.redeliverSettings" title="akka.persistence.ChannelSettings">redeliverSettings</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="akka.persistence.ReliableDelivery.DeliveryAttempts" id="akka.persistence;ReliableDelivery.deliveryAttempts_=">deliveryAttempts</a>: <span title="akka.persistence.ReliableDelivery.DeliveryAttempts">DeliveryAttempts</span> = immutable.<span title="scala.collection.immutable.SortedMap.type">SortedMap</span>.<span title="(implicit ord: Ordering[Long])scala.collection.immutable.SortedMap[Long,Nothing]">empty</span>
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Long" id="akka.persistence;ReliableDelivery.deliverySequenceNr_=">deliverySequenceNr</a>: <span title="Long">Long</span> = <span title="Long(0L)" class="long">0L</span>

  <span class="keyword">def</span> <a title="=&gt; PartialFunction[Any,Unit]" id="akka.persistence;ReliableDelivery.receive">receive</a> = <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="akka.persistence;ReliableDelivery.receive;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    <span class="keyword">case</span> <span title="akka.persistence.Deliver">d</span> @ Deliver<span class="delimiter">(</span><a title="akka.persistence.ConfirmablePersistentImpl" id="akka.persistence;ReliableDelivery.receive;$anonfun.isDefinedAt.persistent">persistent</a>: <a href="Persistent.scala.html#akka.persistence;ConfirmablePersistentImpl" title="akka.persistence.ConfirmablePersistentImpl">ConfirmablePersistentImpl</a>, <a title="akka.actor.ActorPath" id="akka.persistence;ReliableDelivery.receive;$anonfun.isDefinedAt.destination">destination</a><span class="delimiter">)</span> â‡’
      <span class="keyword">val</span> <a title="Long" id="akka.persistence;ReliableDelivery.receive;$anonfun.applyOrElse.dsnr">dsnr</a> = <a href="#akka.persistence;ReliableDelivery.nextDeliverySequenceNr" title="()Long">nextDeliverySequenceNr</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Long" id="akka.persistence;ReliableDelivery.receive;$anonfun.applyOrElse.psnr">psnr</a> = <a href="#akka.persistence;ReliableDelivery.receive;$anonfun.isDefinedAt.persistent" title="akka.persistence.ConfirmablePersistentImpl">persistent</a>.<a href="Persistent.scala.html#akka.persistence;ConfirmablePersistentImpl.sequenceNr" title="=&gt; Long">sequenceNr</a>
      <span class="keyword">val</span> <a title="akka.persistence.Delivered" id="akka.persistence;ReliableDelivery.receive;$anonfun.applyOrElse.confirm">confirm</a> = <a href="#akka.persistence;ReliableDelivery.receive;$anonfun.isDefinedAt.persistent" title="akka.persistence.ConfirmablePersistentImpl">persistent</a>.<a href="Persistent.scala.html#akka.persistence;ConfirmablePersistentImpl.confirmMessage" title="=&gt; akka.persistence.Delivered">confirmMessage</a>.<a href="#akka.persistence;Delivered.update" title="(deliverySequenceNr: Long, channel: akka.actor.ActorRef)akka.persistence.Delivered">update</a><span class="delimiter">(</span>deliverySequenceNr = <a href="#akka.persistence;ReliableDelivery.receive;$anonfun.applyOrElse.dsnr" title="Long">dsnr</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="akka.persistence.ConfirmablePersistentImpl" id="akka.persistence;ReliableDelivery.receive;$anonfun.applyOrElse.updated">updated</a> = <a href="#akka.persistence;ReliableDelivery.receive;$anonfun.isDefinedAt.persistent" title="akka.persistence.ConfirmablePersistentImpl">persistent</a>.<a href="Persistent.scala.html#akka.persistence;PersistentRepr.update$default$2" title="String" id="akka.persistence;ReliableDelivery.receive;$anonfun.applyOrElse.updated.x$31">update</a><span class="delimiter">(</span>confirmMessage = <a href="#akka.persistence;ReliableDelivery.receive;$anonfun.applyOrElse.confirm" title="akka.persistence.Delivered" id="akka.persistence;ReliableDelivery.receive;$anonfun.applyOrElse.updated.x$24">confirm</a>, sequenceNr = <a title="Long" id="akka.persistence;ReliableDelivery.receive;$anonfun.applyOrElse.updated.x$25" class="keyword">if</a> <span class="delimiter">(</span><a href="#akka.persistence;ReliableDelivery.receive;$anonfun.applyOrElse.psnr" title="Long">psnr</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#akka.persistence;ReliableDelivery.receive;$anonfun.applyOrElse.dsnr" title="Long">dsnr</a> <span class="keyword">else</span> <a href="#akka.persistence;ReliableDelivery.receive;$anonfun.applyOrElse.psnr" title="Long">psnr</a><span class="delimiter">)</span>
      <a href="../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.actorSelection(e44b8bc960)" title="(path: akka.actor.ActorPath)akka.actor.ActorSelection">actorSelection</a><span class="delimiter">(</span><a href="#akka.persistence;ReliableDelivery.receive;$anonfun.isDefinedAt.destination" title="akka.actor.ActorPath">destination</a><span class="delimiter">)</span>.<a href="../../../actor/akka/actor/ActorSelection.scala.html#akka.actor;ActorSelection.tell" title="(msg: Any, sender: akka.actor.ActorRef)Unit">tell</a><span class="delimiter">(</span><a href="#akka.persistence;ReliableDelivery.receive;$anonfun.applyOrElse.updated" title="akka.persistence.ConfirmablePersistentImpl">updated</a>, <a href="../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">)</span>
      <a href="#akka.persistence;ReliableDelivery.deliveryAttempts_=" title="(x$1: akka.persistence.ReliableDelivery.DeliveryAttempts)Unit">deliveryAttempts</a> <span title="(kv: (Long, akka.persistence.ReliableDelivery.DeliveryAttempt))scala.collection.immutable.SortedMap[Long,akka.persistence.ReliableDelivery.DeliveryAttempt]">+=</span> <span class="delimiter">(</span><a href="#akka.persistence;ReliableDelivery.receive;$anonfun.applyOrElse.dsnr" title="(x: Long)ArrowAssoc[Long]">dsnr</a> <span title="(y: akka.persistence.ReliableDelivery.DeliveryAttempt)(Long, akka.persistence.ReliableDelivery.DeliveryAttempt)">-&gt;</span> <a href="#akka.persistence.ReliableDelivery.DeliveryAttempt.readResolve" title="(persistent: akka.persistence.ConfirmablePersistentImpl, destination: akka.actor.ActorPath, sender: akka.actor.ActorRef, timestamp: Long)akka.persistence.ReliableDelivery.DeliveryAttempt">DeliveryAttempt</a><span class="delimiter">(</span><a href="#akka.persistence;ReliableDelivery.receive;$anonfun.applyOrElse.updated" title="akka.persistence.ConfirmablePersistentImpl">updated</a>, <a href="#akka.persistence;ReliableDelivery.receive;$anonfun.isDefinedAt.destination" title="akka.actor.ActorPath">destination</a>, <a href="../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.sender" title="()akka.actor.ActorRef">sender</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="akka.persistence.Delivered">d</span>: <a href="#akka.persistence;Delivered" title="akka.persistence.Delivered">Delivered</a> â‡’
      <a href="#akka.persistence;ReliableDelivery.deliveryAttempts_=" title="(x$1: akka.persistence.ReliableDelivery.DeliveryAttempts)Unit">deliveryAttempts</a> <span title="(key: Long)scala.collection.immutable.SortedMap[Long,akka.persistence.ReliableDelivery.DeliveryAttempt]">-=</span> <span title="akka.persistence.Delivered">d</span>.<a href="#akka.persistence;Delivered.deliverySequenceNr" title="=&gt; Long">deliverySequenceNr</a>
      <a href="#akka.persistence;ReliableDelivery.redelivery" title="=&gt; akka.actor.ActorRef">redelivery</a> <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.forward" title="(message: Any)(implicit context: akka.actor.ActorContext)Unit">forward</a> <span title="akka.persistence.Delivered">d</span>
    <span class="keyword">case</span> <a href="#akka.persistence.ReliableDelivery.Redeliver.readResolve" title="akka.persistence.ReliableDelivery.Redeliver.type">Redeliver</a> â‡’
      <span class="keyword">val</span> <a title="Long" id="akka.persistence;ReliableDelivery.receive;$anonfun.applyOrElse.limit">limit</a> = <span title="System.type">System</span>.<span title="()Long">nanoTime</span> <span title="(x: Long)Long">-</span> <a href="#akka.persistence.ChannelSettings.apply$default$2" title="=&gt; scala.concurrent.duration.FiniteDuration">redeliverInterval</a>.<span title="=&gt; Long">toNanos</span>
      <span class="keyword">val</span> <a href="#akka.persistence;ReliableDelivery.receive;$anonfun.applyOrElse.older" title="(scala.collection.immutable.SortedMap[Long,akka.persistence.ReliableDelivery.DeliveryAttempt], scala.collection.immutable.SortedMap[Long,akka.persistence.ReliableDelivery.DeliveryAttempt])" class="delimiter">(</a><a href="#akka.persistence;ReliableDelivery.receive;$anonfun.applyOrElse.x$2" title="scala.collection.immutable.SortedMap[Long,akka.persistence.ReliableDelivery.DeliveryAttempt]" id="akka.persistence;ReliableDelivery.receive;$anonfun.applyOrElse.older">older</a>, <a href="#akka.persistence;ReliableDelivery.receive;$anonfun.applyOrElse.x$2" title="scala.collection.immutable.SortedMap[Long,akka.persistence.ReliableDelivery.DeliveryAttempt]" id="akka.persistence;ReliableDelivery.receive;$anonfun.applyOrElse.younger">younger</a><span class="delimiter">)</span> = <a href="#akka.persistence;ReliableDelivery.deliveryAttempts_=" title="=&gt; akka.persistence.ReliableDelivery.DeliveryAttempts">deliveryAttempts</a>.<span title="(p: ((Long, akka.persistence.ReliableDelivery.DeliveryAttempt)) =&gt; Boolean)(scala.collection.immutable.SortedMap[Long,akka.persistence.ReliableDelivery.DeliveryAttempt], scala.collection.immutable.SortedMap[Long,akka.persistence.ReliableDelivery.DeliveryAttempt])">span</span> <a href="#akka.persistence;ReliableDelivery.receive;$anonfun.applyOrElse.x$2.$anonfun.x0$1" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <span class="delimiter">(</span>_, <a title="akka.persistence.ReliableDelivery.DeliveryAttempt" id="akka.persistence;ReliableDelivery.receive;$anonfun.applyOrElse.x$2.$anonfun.a">a</a><span class="delimiter">)</span> â‡’ <a href="#akka.persistence;ReliableDelivery.receive;$anonfun.applyOrElse.x$2.$anonfun.a" title="akka.persistence.ReliableDelivery.DeliveryAttempt">a</a>.<a href="#akka.persistence.ReliableDelivery.DeliveryAttempt.<init>$default$4" title="=&gt; Long">timestamp</a> <span title="(x: Long)Boolean">&lt;</span> <a href="#akka.persistence;ReliableDelivery.receive;$anonfun.applyOrElse.limit" title="Long">limit</a> <span class="delimiter">}</span>
      <a href="../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">redelivery</a> <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.persistence.ReliableDelivery.Redeliver.readResolve" title="(attempts: akka.persistence.ReliableDelivery.DeliveryAttempts, redeliveryMax: Int)akka.persistence.ReliableDelivery.Redeliver">Redeliver</a><span class="delimiter">(</span><a href="#akka.persistence;ReliableDelivery.receive;$anonfun.applyOrElse.older" title="scala.collection.immutable.SortedMap[Long,akka.persistence.ReliableDelivery.DeliveryAttempt]">older</a>, <a href="#akka.persistence.ChannelSettings.apply$default$1" title="=&gt; Int">redeliverMax</a><span class="delimiter">)</span>
      <a href="#akka.persistence;ReliableDelivery.deliveryAttempts_=" title="(x$1: akka.persistence.ReliableDelivery.DeliveryAttempts)Unit">deliveryAttempts</a> = <a href="#akka.persistence;ReliableDelivery.receive;$anonfun.applyOrElse.younger" title="scala.collection.immutable.SortedMap[Long,akka.persistence.ReliableDelivery.DeliveryAttempt]">younger</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Long" id="akka.persistence;ReliableDelivery.nextDeliverySequenceNr">nextDeliverySequenceNr</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Long">Long</span> = <span class="delimiter">{</span>
    <a href="#akka.persistence;ReliableDelivery.deliverySequenceNr_=" title="(x$1: Long)Unit">deliverySequenceNr</a> <span title="(x: Int)Long">+=</span> <span title="Int(1)" class="int">1</span>
    <a href="#akka.persistence;ReliableDelivery.deliverySequenceNr_=" title="=&gt; Long">deliverySequenceNr</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

@deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed, see `akka.persistence.AtLeastOnceDelivery` instead.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
<span class="keyword">private</span> <span class="keyword">object</span> <a title="akka.persistence.ReliableDelivery.type" id="akka.persistence.ReliableDelivery">ReliableDelivery</a> <a href="#akka.persistence.ReliableDelivery" title="akka.persistence.ReliableDelivery.type" class="delimiter">{</a>
  <span class="keyword">type</span> <a title="scala.collection.immutable.SortedMap[Long,akka.persistence.ReliableDelivery.DeliveryAttempt]" id="akka.persistence.ReliableDelivery;DeliveryAttempts">DeliveryAttempts</a> = immutable.<span title="scala.collection.immutable.SortedMap[Long,akka.persistence.ReliableDelivery.DeliveryAttempt]">SortedMap</span><span class="delimiter">[</span>Long, DeliveryAttempt<span class="delimiter">]</span>
  <span class="keyword">type</span> <a title="Vector[akka.persistence.ConfirmablePersistentImpl]" id="akka.persistence.ReliableDelivery;FailedAttempts">FailedAttempts</a> = <span title="Vector[akka.persistence.ConfirmablePersistentImpl]">Vector</span><span class="delimiter">[</span>ConfirmablePersistentImpl<span class="delimiter">]</span>

  <span class="keyword">case class</span> <a title="class DeliveryAttempt extends AnyRef with Product with Serializable" id="akka.persistence.ReliableDelivery.DeliveryAttempt.readResolve">DeliveryAttempt</a><a href="#akka.persistence.ReliableDelivery.DeliveryAttempt.readResolve" title="Product" class="delimiter">(</a><a title="akka.persistence.ConfirmablePersistentImpl" id="akka.persistence.ReliableDelivery;DeliveryAttempt.persistent">persistent</a>: <a href="Persistent.scala.html#akka.persistence;ConfirmablePersistentImpl" title="akka.persistence.ConfirmablePersistentImpl">ConfirmablePersistentImpl</a>, <a title="akka.actor.ActorPath" id="akka.persistence.ReliableDelivery;DeliveryAttempt.destination">destination</a>: <a href="../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath" title="akka.actor.ActorPath">ActorPath</a>, <a title="akka.actor.ActorRef" id="akka.persistence.ReliableDelivery;DeliveryAttempt.sender">sender</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="Long" id="akka.persistence.ReliableDelivery.DeliveryAttempt.<init>$default$4">timestamp</a>: <span title="Long">Long</span> = <span title="System.type">System</span>.<span title="()Long">nanoTime</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; akka.persistence.ReliableDelivery.DeliveryAttempt" id="akka.persistence.ReliableDelivery;DeliveryAttempt.incrementRedeliveryCount">incrementRedeliveryCount</a> =
      <a href="#akka.persistence.ReliableDelivery.DeliveryAttempt.readResolve" title="(persistent: akka.persistence.ConfirmablePersistentImpl, destination: akka.actor.ActorPath, sender: akka.actor.ActorRef, timestamp: Long)akka.persistence.ReliableDelivery.DeliveryAttempt">copy</a><span class="delimiter">(</span><a href="#akka.persistence.ReliableDelivery;DeliveryAttempt.persistent" title="=&gt; akka.persistence.ConfirmablePersistentImpl">persistent</a>.<a href="Persistent.scala.html#akka.persistence;PersistentRepr.update$default$1" title="Long" id="akka.persistence.ReliableDelivery;DeliveryAttempt.incrementRedeliveryCount.x$39">update</a><span class="delimiter">(</span>redeliveries = <a href="#akka.persistence.ReliableDelivery;DeliveryAttempt.persistent" title="=&gt; akka.persistence.ConfirmablePersistentImpl">persistent</a>.<a href="Persistent.scala.html#akka.persistence;ConfirmablePersistentImpl.redeliveries" title="=&gt; Int">redeliveries</a> <a title="Int" id="akka.persistence.ReliableDelivery;DeliveryAttempt.incrementRedeliveryCount.x$32">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">case class</span> <a title="class Redeliver extends AnyRef with Product with Serializable" id="akka.persistence.ReliableDelivery.Redeliver.readResolve">Redeliver</a><a href="#akka.persistence.ReliableDelivery.Redeliver.readResolve" title="Product" class="delimiter">(</a><a title="akka.persistence.ReliableDelivery.DeliveryAttempts" id="akka.persistence.ReliableDelivery;Redeliver.attempts">attempts</a>: <span title="akka.persistence.ReliableDelivery.DeliveryAttempts">DeliveryAttempts</span>, <a title="Int" id="akka.persistence.ReliableDelivery;Redeliver.redeliveryMax">redeliveryMax</a>: <span title="Int">Int</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Redelivery process used by [[ReliableDelivery]].
 */</span>
@deprecated<span class="delimiter">(</span><span class="string">&quot;Channel will be removed, see `akka.persistence.AtLeastOnceDelivery` instead.&quot;</span>, since = <span class="string">&quot;2.3.4&quot;</span><span class="delimiter">)</span>
<span class="keyword">private</span> <span class="keyword">class</span> <a title="class Redelivery extends AnyRef with akka.actor.Actor" id="akka.persistence;Redelivery">Redelivery</a><a href="#akka.persistence;Redelivery" title="akka.persistence.Redelivery" class="delimiter">(</a><a title="akka.persistence.ChannelSettings" id="akka.persistence;Redelivery.redeliverSettings">redeliverSettings</a>: <a href="#akka.persistence;ChannelSettings" title="akka.persistence.ChannelSettings">ChannelSettings</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor" title="akka.actor.Actor">Actor</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.dispatcher
  <span class="keyword">import</span> <a href="#akka.persistence;Redelivery.redeliverSettings" title="akka.persistence.ChannelSettings">redeliverSettings</a>._
  <span class="keyword">import</span> <a href="#akka.persistence.ReliableDelivery" title="akka.persistence.ReliableDelivery.type">ReliableDelivery</a>._

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="akka.persistence.ReliableDelivery.DeliveryAttempts" id="akka.persistence;Redelivery.redeliveryAttempts_=">redeliveryAttempts</a>: <span title="akka.persistence.ReliableDelivery.DeliveryAttempts">DeliveryAttempts</span> = immutable.<span title="scala.collection.immutable.SortedMap.type">SortedMap</span>.<span title="(implicit ord: Ordering[Long])scala.collection.immutable.SortedMap[Long,Nothing]">empty</span>
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="akka.actor.Cancellable" id="akka.persistence;Redelivery.redeliverySchedule_=">redeliverySchedule</a>: <a href="../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Cancellable" title="akka.actor.Cancellable">Cancellable</a> = _

  <span class="keyword">def</span> <a title="=&gt; PartialFunction[Any,Unit]" id="akka.persistence;Redelivery.receive">receive</a> = <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="akka.persistence;Redelivery.receive;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    <span class="keyword">case</span> Redeliver<span class="delimiter">(</span><a title="akka.persistence.ReliableDelivery.DeliveryAttempts" id="akka.persistence;Redelivery.receive;$anonfun.isDefinedAt.as">as</a>, <a title="Int" id="akka.persistence;Redelivery.receive;$anonfun.isDefinedAt.max">max</a><span class="delimiter">)</span> â‡’
      <span class="keyword">val</span> <a href="#akka.persistence;Redelivery.receive;$anonfun.applyOrElse.attempts" title="(akka.persistence.ReliableDelivery.DeliveryAttempts, akka.persistence.ReliableDelivery.FailedAttempts)" class="delimiter">(</a><a href="#akka.persistence;Redelivery.receive;$anonfun.applyOrElse.x$3" title="akka.persistence.ReliableDelivery.DeliveryAttempts" id="akka.persistence;Redelivery.receive;$anonfun.applyOrElse.attempts">attempts</a>, <a href="#akka.persistence;Redelivery.receive;$anonfun.applyOrElse.x$3" title="akka.persistence.ReliableDelivery.FailedAttempts" id="akka.persistence;Redelivery.receive;$anonfun.applyOrElse.failed">failed</a><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#akka.persistence;Redelivery.redeliveryAttempts_=" title="=&gt; akka.persistence.ReliableDelivery.DeliveryAttempts">redeliveryAttempts</a> <span title="(xs: scala.collection.GenTraversableOnce[(Long, akka.persistence.ReliableDelivery.DeliveryAttempt)])scala.collection.immutable.SortedMap[Long,akka.persistence.ReliableDelivery.DeliveryAttempt]">++</span> <a href="#akka.persistence;Redelivery.receive;$anonfun.isDefinedAt.as" title="akka.persistence.ReliableDelivery.DeliveryAttempts">as</a><span class="delimiter">)</span>.<span title="[B](z: B)(op: (B, (Long, akka.persistence.ReliableDelivery.DeliveryAttempt)) =&gt; B)B">foldLeft</span><span title="(z: (akka.persistence.ReliableDelivery.DeliveryAttempts, akka.persistence.ReliableDelivery.FailedAttempts))(op: ((akka.persistence.ReliableDelivery.DeliveryAttempts, akka.persistence.ReliableDelivery.FailedAttempts), (Long, akka.persistence.ReliableDelivery.DeliveryAttempt)) =&gt; (akka.persistence.ReliableDelivery.DeliveryAttempts, akka.persistence.ReliableDelivery.FailedAttempts))(akka.persistence.ReliableDelivery.DeliveryAttempts, akka.persistence.ReliableDelivery.FailedAttempts)" class="delimiter">[</span><span title="(akka.persistence.ReliableDelivery.DeliveryAttempts, akka.persistence.ReliableDelivery.FailedAttempts)" class="delimiter">(</span>DeliveryAttempts, FailedAttempts<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="(_1: scala.collection.immutable.SortedMap[Long,Nothing], _2: scala.collection.immutable.Vector[Nothing])(scala.collection.immutable.SortedMap[Long,Nothing], scala.collection.immutable.Vector[Nothing])" class="delimiter">(</span>immutable.<span title="scala.collection.immutable.SortedMap.type">SortedMap</span>.<span title="(implicit ord: Ordering[Long])scala.collection.immutable.SortedMap[Long,Nothing]">empty</span>, <span title="=&gt; collection.immutable.Vector.type">Vector</span>.<span title="scala.collection.immutable.Vector[Nothing]">empty</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.persistence;Redelivery.receive;$anonfun.applyOrElse.x$3.$anonfun.x0$2" title="(akka.persistence.ReliableDelivery.DeliveryAttempts, akka.persistence.ReliableDelivery.FailedAttempts)" class="delimiter">{</a>
        <span class="keyword">case</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="akka.persistence.ReliableDelivery.DeliveryAttempts" id="akka.persistence;Redelivery.receive;$anonfun.applyOrElse.x$3.$anonfun.attempts">attempts</a>, <a title="akka.persistence.ReliableDelivery.FailedAttempts" id="akka.persistence;Redelivery.receive;$anonfun.applyOrElse.x$3.$anonfun.failed">failed</a><span class="delimiter">)</span>, <span class="delimiter">(</span><a title="Long" id="akka.persistence;Redelivery.receive;$anonfun.applyOrElse.x$3.$anonfun.k">k</a>, <a title="akka.persistence.ReliableDelivery.DeliveryAttempt" id="akka.persistence;Redelivery.receive;$anonfun.applyOrElse.x$3.$anonfun.attempt">attempt</a><span class="delimiter">)</span><span class="delimiter">)</span> â‡’
          <span class="keyword">val</span> <a title="akka.persistence.ConfirmablePersistentImpl" id="akka.persistence;Redelivery.receive;$anonfun.applyOrElse.x$3.$anonfun.persistent">persistent</a> = <a href="#akka.persistence;Redelivery.receive;$anonfun.applyOrElse.x$3.$anonfun.attempt" title="akka.persistence.ReliableDelivery.DeliveryAttempt">attempt</a>.<a href="#akka.persistence.ReliableDelivery;DeliveryAttempt.persistent" title="=&gt; akka.persistence.ConfirmablePersistentImpl">persistent</a>
          <span title="(akka.persistence.ReliableDelivery.DeliveryAttempts, akka.persistence.ReliableDelivery.FailedAttempts)" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.persistence;Redelivery.receive;$anonfun.applyOrElse.x$3.$anonfun.persistent" title="akka.persistence.ConfirmablePersistentImpl">persistent</a>.<a href="Persistent.scala.html#akka.persistence;ConfirmablePersistentImpl.redeliveries" title="=&gt; Int">redeliveries</a> <span title="(x: Int)Boolean">&gt;=</span> <a href="#akka.persistence.ChannelSettings.apply$default$1" title="=&gt; Int">redeliverMax</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="(_1: akka.persistence.ReliableDelivery.DeliveryAttempts, _2: akka.persistence.ReliableDelivery.FailedAttempts)(akka.persistence.ReliableDelivery.DeliveryAttempts, akka.persistence.ReliableDelivery.FailedAttempts)" class="delimiter">(</span><a href="#akka.persistence;Redelivery.receive;$anonfun.applyOrElse.x$3.$anonfun.attempts" title="akka.persistence.ReliableDelivery.DeliveryAttempts">attempts</a>, <a href="#akka.persistence;Redelivery.receive;$anonfun.applyOrElse.x$3.$anonfun.failed" title="akka.persistence.ReliableDelivery.FailedAttempts">failed</a> <span title="(elem: akka.persistence.ConfirmablePersistentImpl)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Vector[akka.persistence.ConfirmablePersistentImpl],akka.persistence.ConfirmablePersistentImpl,akka.persistence.ReliableDelivery.FailedAttempts])akka.persistence.ReliableDelivery.FailedAttempts">:+</span> <a href="#akka.persistence;Redelivery.receive;$anonfun.applyOrElse.x$3.$anonfun.persistent" title="akka.persistence.ConfirmablePersistentImpl">persistent</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="akka.persistence.ReliableDelivery.DeliveryAttempt" id="akka.persistence;Redelivery.receive;$anonfun.applyOrElse.x$3.$anonfun.updated">updated</a> = <a href="#akka.persistence;Redelivery.receive;$anonfun.applyOrElse.x$3.$anonfun.attempt" title="akka.persistence.ReliableDelivery.DeliveryAttempt">attempt</a>.<a href="#akka.persistence.ReliableDelivery;DeliveryAttempt.incrementRedeliveryCount" title="=&gt; akka.persistence.ReliableDelivery.DeliveryAttempt">incrementRedeliveryCount</a>
            <a href="../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefFactory.actorSelection(e44b8bc960)" title="(path: akka.actor.ActorPath)akka.actor.ActorSelection">actorSelection</a><span class="delimiter">(</span><a href="#akka.persistence;Redelivery.receive;$anonfun.applyOrElse.x$3.$anonfun.updated" title="akka.persistence.ReliableDelivery.DeliveryAttempt">updated</a>.<a href="#akka.persistence.ReliableDelivery;DeliveryAttempt.destination" title="=&gt; akka.actor.ActorPath">destination</a><span class="delimiter">)</span>.<a href="../../../actor/akka/actor/ActorSelection.scala.html#akka.actor;ActorSelection.tell" title="(msg: Any, sender: akka.actor.ActorRef)Unit">tell</a><span class="delimiter">(</span><a href="#akka.persistence;Redelivery.receive;$anonfun.applyOrElse.x$3.$anonfun.updated" title="akka.persistence.ReliableDelivery.DeliveryAttempt">updated</a>.<a href="#akka.persistence.ReliableDelivery;DeliveryAttempt.persistent" title="=&gt; akka.persistence.ConfirmablePersistentImpl">persistent</a>, <a href="#akka.persistence;Redelivery.receive;$anonfun.applyOrElse.x$3.$anonfun.updated" title="akka.persistence.ReliableDelivery.DeliveryAttempt">updated</a>.<a href="#akka.persistence.ReliableDelivery;DeliveryAttempt.sender" title="=&gt; akka.actor.ActorRef">sender</a><span class="delimiter">)</span>
            <span title="(_1: scala.collection.immutable.SortedMap[Long,akka.persistence.ReliableDelivery.DeliveryAttempt], _2: akka.persistence.ReliableDelivery.FailedAttempts)(scala.collection.immutable.SortedMap[Long,akka.persistence.ReliableDelivery.DeliveryAttempt], akka.persistence.ReliableDelivery.FailedAttempts)" class="delimiter">(</span><a href="#akka.persistence;Redelivery.receive;$anonfun.applyOrElse.x$3.$anonfun.attempts" title="akka.persistence.ReliableDelivery.DeliveryAttempts">attempts</a>.<span title="(key: Long, value: akka.persistence.ReliableDelivery.DeliveryAttempt)scala.collection.immutable.SortedMap[Long,akka.persistence.ReliableDelivery.DeliveryAttempt]">updated</span><span class="delimiter">(</span><a href="#akka.persistence;Redelivery.receive;$anonfun.applyOrElse.x$3.$anonfun.k" title="Long">k</a>, <a href="#akka.persistence;Redelivery.receive;$anonfun.applyOrElse.x$3.$anonfun.updated" title="akka.persistence.ReliableDelivery.DeliveryAttempt">updated</a><span class="delimiter">)</span>, <a href="#akka.persistence;Redelivery.receive;$anonfun.applyOrElse.x$3.$anonfun.failed" title="akka.persistence.ReliableDelivery.FailedAttempts">failed</a><span class="delimiter">)</span>

          <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#akka.persistence;Redelivery.redeliveryAttempts_=" title="(x$1: akka.persistence.ReliableDelivery.DeliveryAttempts)Unit">redeliveryAttempts</a> = <a href="#akka.persistence;Redelivery.receive;$anonfun.applyOrElse.attempts" title="akka.persistence.ReliableDelivery.DeliveryAttempts">attempts</a>
      <a href="#akka.persistence;Redelivery.scheduleRedelivery" title="()Unit">scheduleRedelivery</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#akka.persistence;Redelivery.receive;$anonfun.applyOrElse.failed" title="akka.persistence.ReliableDelivery.FailedAttempts">failed</a>.<span title="=&gt; Option[akka.persistence.ConfirmablePersistentImpl]">headOption</span>.<span title="(f: akka.persistence.ConfirmablePersistentImpl =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#akka.persistence;Redelivery.receive;$anonfun.applyOrElse.$anonfun.x$4" title="akka.persistence.ConfirmablePersistentImpl">_</a>.<a href="Persistent.scala.html#akka.persistence;ConfirmablePersistentImpl.confirmMessage" title="=&gt; akka.persistence.Delivered">confirmMessage</a>.<a href="../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">channel</a> <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#akka.persistence.RedeliverFailure.readResolve" title="(messages: scala.collection.immutable.Seq[akka.persistence.ConfirmablePersistent])akka.persistence.RedeliverFailure">RedeliverFailure</a><span class="delimiter">(</span><a href="#akka.persistence;Redelivery.receive;$anonfun.applyOrElse.failed" title="akka.persistence.ReliableDelivery.FailedAttempts">failed</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="akka.persistence.Delivered" id="akka.persistence;Redelivery.receive;$anonfun.isDefinedAt.c">c</a>: <a href="#akka.persistence;Delivered" title="akka.persistence.Delivered">Delivered</a> â‡’
      <a href="#akka.persistence;Redelivery.redeliveryAttempts_=" title="(x$1: akka.persistence.ReliableDelivery.DeliveryAttempts)Unit">redeliveryAttempts</a> <span title="(key: Long)scala.collection.immutable.SortedMap[Long,akka.persistence.ReliableDelivery.DeliveryAttempt]">-=</span> <a href="#akka.persistence;Redelivery.receive;$anonfun.isDefinedAt.c" title="akka.persistence.Delivered">c</a>.<a href="#akka.persistence;Delivered.deliverySequenceNr" title="=&gt; Long">deliverySequenceNr</a>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Unit" id="akka.persistence;Redelivery.preStart">preStart</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#akka.persistence;Redelivery.scheduleRedelivery" title="()Unit">scheduleRedelivery</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Unit" id="akka.persistence;Redelivery.postStop">postStop</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#akka.persistence;Redelivery.redeliverySchedule_=" title="=&gt; akka.actor.Cancellable">redeliverySchedule</a>.<a href="../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Cancellable.cancel" title="()Boolean">cancel</a><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="akka.persistence;Redelivery.scheduleRedelivery">scheduleRedelivery</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#akka.persistence;Redelivery.redeliverySchedule_=" title="(x$1: akka.actor.Cancellable)Unit">redeliverySchedule</a> = <a href="../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.system" title="=&gt; akka.actor.ActorSystem">system</a>.<a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystem.scheduler" title="=&gt; akka.actor.Scheduler">scheduler</a>.<a href="../../../actor/akka/actor/Scheduler.scala.html#akka.actor;Scheduler.scheduleOnce(a2d55b51db)" title="(delay: scala.concurrent.duration.FiniteDuration, receiver: akka.actor.ActorRef, message: Any)(implicit executor: scala.concurrent.ExecutionContext, implicit sender: akka.actor.ActorRef)akka.actor.Cancellable">scheduleOnce</a><a href="../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.dispatcher" title="=&gt; scala.concurrent.ExecutionContextExecutor" class="delimiter">(</a><a href="#akka.persistence.ChannelSettings.apply$default$2" title="=&gt; scala.concurrent.duration.FiniteDuration">redeliverInterval</a>, <a href="../../../actor/akka/actor/Actor.scala.html#akka.actor;Actor.context" title="=&gt; akka.actor.ActorContext">context</a>.<a href="../../../actor/akka/actor/ActorCell.scala.html#akka.actor;ActorContext.parent" title="=&gt; akka.actor.ActorRef">parent</a>, <a href="#akka.persistence.ReliableDelivery.Redeliver.readResolve" title="akka.persistence.ReliableDelivery.Redeliver.type">Redeliver</a><span class="delimiter">)</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>
