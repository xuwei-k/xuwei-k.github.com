<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>remote/akka/remote/RemoteDaemon.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (C) 2009-2014 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>

<span class="keyword">package</span> akka.remote

<span class="keyword">import</span> scala.annotation.tailrec
<span class="keyword">import</span> scala.util.control.NonFatal
<span class="keyword">import</span> akka.actor.<span class="delimiter">{</span> VirtualPathContainer, Terminated, Deploy, Props, Nobody, LocalActorRef, InternalActorRef, Address, ActorSystemImpl, ActorRef, ActorPathExtractor, ActorPath, Actor, AddressTerminated <span class="delimiter">}</span>
<span class="keyword">import</span> akka.event.LoggingAdapter
<span class="keyword">import</span> akka.dispatch.sysmsg.<span class="delimiter">{</span> DeathWatchNotification, SystemMessage, Watch <span class="delimiter">}</span>
<span class="keyword">import</span> akka.actor.ActorRefWithCell
<span class="keyword">import</span> akka.actor.ActorRefScope
<span class="keyword">import</span> akka.util.Switch
<span class="keyword">import</span> akka.actor.RootActorPath
<span class="keyword">import</span> akka.actor.ActorSelectionMessage
<span class="keyword">import</span> akka.actor.SelectParent
<span class="keyword">import</span> akka.actor.SelectChildName
<span class="keyword">import</span> akka.actor.SelectChildPattern
<span class="keyword">import</span> akka.actor.Identify
<span class="keyword">import</span> akka.actor.ActorIdentity
<span class="keyword">import</span> akka.actor.EmptyLocalActorRef
<span class="keyword">import</span> akka.event.AddressTerminatedTopic
<span class="keyword">import</span> java.util.concurrent.ConcurrentHashMap
<span class="keyword">import</span> akka.dispatch.sysmsg.Unwatch

<span class="comment">/**
 * INTERNAL API
 */</span>
<span class="keyword">private</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait DaemonMsg extends AnyRef" id="akka.remote;DaemonMsg">DaemonMsg</a>

<span class="comment">/**
 * INTERNAL API
 */</span>
@SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
<span class="keyword">private</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">case class</span> <a title="class DaemonMsgCreate extends AnyRef with akka.remote.DaemonMsg with Product with Serializable" id="akka.remote.DaemonMsgCreate.readResolve">DaemonMsgCreate</a><a href="#akka.remote.DaemonMsgCreate.readResolve" title="Product" class="delimiter">(</a><a title="akka.actor.Props" id="akka.remote;DaemonMsgCreate.props">props</a>: <a href="../../../actor/akka/actor/Props.scala.html#akka.actor;Props" title="akka.actor.Props">Props</a>, <a title="akka.actor.Deploy" id="akka.remote;DaemonMsgCreate.deploy">deploy</a>: <a href="../../../actor/akka/actor/Deployer.scala.html#akka.actor;Deploy" title="akka.actor.Deploy">Deploy</a>, <a title="String" id="akka.remote;DaemonMsgCreate.path">path</a>: <span title="String">String</span>, <a title="akka.actor.ActorRef" id="akka.remote;DaemonMsgCreate.supervisor">supervisor</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#akka.remote;DaemonMsg" title="akka.remote.DaemonMsg">DaemonMsg</a>

<span class="comment">/**
 * INTERNAL API
 *
 * Internal system &quot;daemon&quot; actor for remote internal communication.
 *
 * It acts as the brain of the remote that responds to system remote events (messages) and undertakes action.
 */</span>
<span class="keyword">private</span><span class="delimiter">[</span>akka<span class="delimiter">]</span> <span class="keyword">class</span> <a title="class RemoteSystemDaemon extends akka.actor.VirtualPathContainer" id="akka.remote;RemoteSystemDaemon">RemoteSystemDaemon</a><a href="#akka.remote;RemoteSystemDaemon" title="akka.remote.RemoteSystemDaemon" class="delimiter">(</a>
  <a title="akka.actor.ActorSystemImpl" id="akka.remote;RemoteSystemDaemon.system">system</a>: <a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystemImpl" title="akka.actor.ActorSystemImpl">ActorSystemImpl</a>,
  <a title="akka.actor.ActorPath" id="akka.remote;RemoteSystemDaemon._path">_path</a>: <a href="../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath" title="akka.actor.ActorPath">ActorPath</a>,
  <a title="akka.actor.InternalActorRef" id="akka.remote;RemoteSystemDaemon._parent">_parent</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;InternalActorRef" title="akka.actor.InternalActorRef">InternalActorRef</a>,
  <a title="akka.actor.ActorRef" id="akka.remote;RemoteSystemDaemon.terminator">terminator</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>,
  <a title="akka.event.LoggingAdapter" id="akka.remote;RemoteSystemDaemon._log">_log</a>: <a href="../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter" title="akka.event.LoggingAdapter">LoggingAdapter</a>,
  <span class="keyword">val</span> <a title="Boolean" id="akka.remote;RemoteSystemDaemon.untrustedMode">untrustedMode</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;VirtualPathContainer" title="akka.actor.VirtualPathContainer">VirtualPathContainer</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.system" title="akka.actor.ActorSystemImpl">system</a>.<a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystemImpl.provider" title="=&gt; akka.actor.ActorRefProvider">provider</a>, <a href="#akka.remote;RemoteSystemDaemon._path" title="akka.actor.ActorPath">_path</a>, <a href="#akka.remote;RemoteSystemDaemon._parent" title="akka.actor.InternalActorRef">_parent</a>, <a href="#akka.remote;RemoteSystemDaemon._log" title="akka.event.LoggingAdapter">_log</a><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="keyword">import</span> akka.actor.<a href="../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor.SystemGuardian" title="akka.actor.SystemGuardian.type">SystemGuardian</a>._

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="akka.util.Switch" id="akka.remote;RemoteSystemDaemon.terminating">terminating</a> = <span title="akka.util.Switch" class="keyword">new</span> <a href="../../../actor/akka/util/LockUtil.scala.html#akka.util;Switch" title="akka.util.Switch">Switch</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

  <a href="../../../actor/akka/actor/Extension.scala.html#akka.actor;ExtensionId.apply" title="(system: akka.actor.ActorSystem)akka.event.AddressTerminatedTopic">AddressTerminatedTopic</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.system" title="akka.actor.ActorSystemImpl">system</a><span class="delimiter">)</span>.<a href="../../../actor/akka/event/AddressTerminatedTopic.scala.html#akka.event;AddressTerminatedTopic.subscribe" title="(subscriber: akka.actor.ActorRef)Unit">subscribe</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon" title="akka.remote.RemoteSystemDaemon" class="keyword">this</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="java.util.concurrent.ConcurrentHashMap[akka.actor.ActorRef,Set[akka.actor.ActorRef]]" id="akka.remote;RemoteSystemDaemon.parent2children">parent2children</a> = <span title="java.util.concurrent.ConcurrentHashMap[akka.actor.ActorRef,Set[akka.actor.ActorRef]]" class="keyword">new</span> <span title="java.util.concurrent.ConcurrentHashMap[akka.actor.ActorRef,Set[akka.actor.ActorRef]]">ConcurrentHashMap</span><span class="delimiter">[</span>ActorRef, Set<span class="delimiter">[</span>ActorRef<span class="delimiter">]</span><span class="delimiter">]</span>

  @tailrec <span class="keyword">private</span> <span class="keyword">def</span> <a title="(parent: akka.actor.ActorRef, child: akka.actor.ActorRef)Boolean" id="akka.remote;RemoteSystemDaemon.addChildParentNeedsWatch">addChildParentNeedsWatch</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.remote;RemoteSystemDaemon.addChildParentNeedsWatch.parent">parent</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="akka.actor.ActorRef" id="akka.remote;RemoteSystemDaemon.addChildParentNeedsWatch.child">child</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <a href="#akka.remote;RemoteSystemDaemon.parent2children" title="=&gt; java.util.concurrent.ConcurrentHashMap[akka.actor.ActorRef,Set[akka.actor.ActorRef]]">parent2children</a>.<span title="(x$1: Any)Set[akka.actor.ActorRef]">get</span><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.addChildParentNeedsWatch.parent" title="akka.actor.ActorRef">parent</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span> ⇒
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.parent2children" title="=&gt; java.util.concurrent.ConcurrentHashMap[akka.actor.ActorRef,Set[akka.actor.ActorRef]]">parent2children</a>.<span title="(x$1: akka.actor.ActorRef, x$2: Set[akka.actor.ActorRef])Set[akka.actor.ActorRef]">putIfAbsent</span><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.addChildParentNeedsWatch.parent" title="akka.actor.ActorRef">parent</a>, <span title="(elems: akka.actor.ActorRef*)scala.collection.immutable.Set[akka.actor.ActorRef]">Set</span><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.addChildParentNeedsWatch.child" title="akka.actor.ActorRef">child</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">else</span> <a href="#akka.remote;RemoteSystemDaemon.addChildParentNeedsWatch" title="(parent: akka.actor.ActorRef, child: akka.actor.ActorRef)Boolean">addChildParentNeedsWatch</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.addChildParentNeedsWatch.parent" title="akka.actor.ActorRef">parent</a>, <a href="#akka.remote;RemoteSystemDaemon.addChildParentNeedsWatch.child" title="akka.actor.ActorRef">child</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Set[akka.actor.ActorRef]" id="akka.remote;RemoteSystemDaemon.addChildParentNeedsWatch.children">children</a> ⇒
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.parent2children" title="=&gt; java.util.concurrent.ConcurrentHashMap[akka.actor.ActorRef,Set[akka.actor.ActorRef]]">parent2children</a>.<span title="(x$1: akka.actor.ActorRef, x$2: Set[akka.actor.ActorRef], x$3: Set[akka.actor.ActorRef])Boolean">replace</span><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.addChildParentNeedsWatch.parent" title="akka.actor.ActorRef">parent</a>, <a href="#akka.remote;RemoteSystemDaemon.addChildParentNeedsWatch.children" title="Set[akka.actor.ActorRef]">children</a>, <a href="#akka.remote;RemoteSystemDaemon.addChildParentNeedsWatch.children" title="Set[akka.actor.ActorRef]">children</a> <span title="(elem: akka.actor.ActorRef)scala.collection.immutable.Set[akka.actor.ActorRef]">+</span> <a href="#akka.remote;RemoteSystemDaemon.addChildParentNeedsWatch.child" title="akka.actor.ActorRef">child</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">else</span> <a href="#akka.remote;RemoteSystemDaemon.addChildParentNeedsWatch" title="(parent: akka.actor.ActorRef, child: akka.actor.ActorRef)Boolean">addChildParentNeedsWatch</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.addChildParentNeedsWatch.parent" title="akka.actor.ActorRef">parent</a>, <a href="#akka.remote;RemoteSystemDaemon.addChildParentNeedsWatch.child" title="akka.actor.ActorRef">child</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  @tailrec <span class="keyword">private</span> <span class="keyword">def</span> <a title="(parent: akka.actor.ActorRef, child: akka.actor.ActorRef)Boolean" id="akka.remote;RemoteSystemDaemon.removeChildParentNeedsUnwatch">removeChildParentNeedsUnwatch</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.remote;RemoteSystemDaemon.removeChildParentNeedsUnwatch.parent">parent</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a>, <a title="akka.actor.ActorRef" id="akka.remote;RemoteSystemDaemon.removeChildParentNeedsUnwatch.child">child</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <a href="#akka.remote;RemoteSystemDaemon.parent2children" title="=&gt; java.util.concurrent.ConcurrentHashMap[akka.actor.ActorRef,Set[akka.actor.ActorRef]]">parent2children</a>.<span title="(x$1: Any)Set[akka.actor.ActorRef]">get</span><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.removeChildParentNeedsUnwatch.parent" title="akka.actor.ActorRef">parent</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span> ⇒ <span title="Boolean(false)" class="keyword">false</span> <span class="comment">// no-op</span>
      <span class="keyword">case</span> <a title="Set[akka.actor.ActorRef]" id="akka.remote;RemoteSystemDaemon.removeChildParentNeedsUnwatch.children">children</a> ⇒
        <span class="keyword">val</span> <a title="scala.collection.immutable.Set[akka.actor.ActorRef]" id="akka.remote;RemoteSystemDaemon.removeChildParentNeedsUnwatch.next">next</a> = <a href="#akka.remote;RemoteSystemDaemon.removeChildParentNeedsUnwatch.children" title="Set[akka.actor.ActorRef]">children</a> <span title="(elem: akka.actor.ActorRef)scala.collection.immutable.Set[akka.actor.ActorRef]">-</span> <a href="#akka.remote;RemoteSystemDaemon.removeChildParentNeedsUnwatch.child" title="akka.actor.ActorRef">child</a>
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.removeChildParentNeedsUnwatch.next" title="scala.collection.immutable.Set[akka.actor.ActorRef]">next</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.remote;RemoteSystemDaemon.parent2children" title="=&gt; java.util.concurrent.ConcurrentHashMap[akka.actor.ActorRef,Set[akka.actor.ActorRef]]">parent2children</a>.<span title="(x$1: Any, x$2: Any)Boolean">remove</span><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.removeChildParentNeedsUnwatch.parent" title="akka.actor.ActorRef">parent</a>, <a href="#akka.remote;RemoteSystemDaemon.removeChildParentNeedsUnwatch.children" title="Set[akka.actor.ActorRef]">children</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.remote;RemoteSystemDaemon.removeChildParentNeedsUnwatch" title="(parent: akka.actor.ActorRef, child: akka.actor.ActorRef)Boolean">removeChildParentNeedsUnwatch</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.removeChildParentNeedsUnwatch.parent" title="akka.actor.ActorRef">parent</a>, <a href="#akka.remote;RemoteSystemDaemon.removeChildParentNeedsUnwatch.child" title="akka.actor.ActorRef">child</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Boolean(true)" class="keyword">true</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#akka.remote;RemoteSystemDaemon.parent2children" title="=&gt; java.util.concurrent.ConcurrentHashMap[akka.actor.ActorRef,Set[akka.actor.ActorRef]]">parent2children</a>.<span title="(x$1: akka.actor.ActorRef, x$2: Set[akka.actor.ActorRef], x$3: Set[akka.actor.ActorRef])Boolean">replace</span><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.removeChildParentNeedsUnwatch.parent" title="akka.actor.ActorRef">parent</a>, <a href="#akka.remote;RemoteSystemDaemon.removeChildParentNeedsUnwatch.children" title="Set[akka.actor.ActorRef]">children</a>, <a href="#akka.remote;RemoteSystemDaemon.removeChildParentNeedsUnwatch.next" title="scala.collection.immutable.Set[akka.actor.ActorRef]">next</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.remote;RemoteSystemDaemon.removeChildParentNeedsUnwatch" title="(parent: akka.actor.ActorRef, child: akka.actor.ActorRef)Boolean">removeChildParentNeedsUnwatch</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.removeChildParentNeedsUnwatch.parent" title="akka.actor.ActorRef">parent</a>, <a href="#akka.remote;RemoteSystemDaemon.removeChildParentNeedsUnwatch.child" title="akka.actor.ActorRef">child</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Find the longest matching path which we know about and return that ref
   * (or ask that ref to continue searching if elements are left).
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(names: Iterator[String])akka.actor.InternalActorRef" id="akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092)">getChild</a><span class="delimiter">(</span><a title="Iterator[String]" id="akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).names">names</a>: <span title="Iterator[String]">Iterator</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;InternalActorRef" title="akka.actor.InternalActorRef">InternalActorRef</a> = <span class="delimiter">{</span>

    @tailrec
    <span class="keyword">def</span> <a title="(s: String, n: Int)(akka.actor.InternalActorRef, Int)" id="akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).rec">rec</a><span class="delimiter">(</span><a title="String" id="akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).rec.s">s</a>: <span title="String">String</span>, <a title="Int" id="akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).rec.n">n</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="(akka.actor.InternalActorRef, Int)" class="delimiter">(</span>InternalActorRef, Int<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">import</span> akka.actor.<a href="../../../actor/akka/actor/ActorCell.scala.html#akka.actor.ActorCell" title="akka.actor.ActorCell.type">ActorCell</a>._
      <span class="keyword">val</span> <a href="#akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).rec.childName" title="(String, Int)" class="delimiter">(</a><a href="#akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).rec.x$1" title="String" id="akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).rec.childName">childName</a>, <a href="#akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).rec.x$1" title="Int" id="akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).rec.uid">uid</a><span class="delimiter">)</span> = <a href="../../../actor/akka/actor/ActorCell.scala.html#akka.actor.ActorCell.splitNameAndUid" title="(name: String)(String, Int)">splitNameAndUid</a><span title="(String, Int) @unchecked" class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).rec.s" title="String">s</a><span class="delimiter">)</span>
      <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;VirtualPathContainer.getChild(c9e15f1b24)" title="(name: String)akka.actor.InternalActorRef">getChild</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).rec.childName" title="String">childName</a><span class="delimiter">)</span> <span title="(akka.actor.InternalActorRef, Int)" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span> ⇒
          <span class="keyword">val</span> <a title="Int" id="akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).rec.last">last</a> = <a href="#akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).rec.s" title="String">s</a>.<span title="(x$1: Int)Int">lastIndexOf</span><span class="delimiter">(</span><span title="Int(47)" class="char">'/'</span><span class="delimiter">)</span>
          <span title="(akka.actor.InternalActorRef, Int)" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).rec.last" title="Int">last</a> <span title="(x: Int)Boolean">==</span> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <span title="(_1: akka.actor.Nobody.type, _2: Int)(akka.actor.Nobody.type, Int)" class="delimiter">(</span><a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor.Nobody" title="akka.actor.Nobody.type">Nobody</a>, <a href="#akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).rec.n" title="Int">n</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).rec" title="(s: String, n: Int)(akka.actor.InternalActorRef, Int)">rec</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).rec.s" title="String">s</a>.<span title="(x$1: Int, x$2: Int)String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).rec.last" title="Int">last</a><span class="delimiter">)</span>, <a href="#akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).rec.n" title="Int">n</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="akka.actor.InternalActorRef">ref</span> <span class="keyword">if</span> <a href="#akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).rec.uid" title="Int">uid</a> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)">undefinedUid</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).rec.uid" title="Int">uid</a> <span title="(x: Int)Boolean">!=</span> <span title="akka.actor.InternalActorRef">ref</span>.<a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a>.<a href="../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath.uid" title="=&gt; Int">uid</a> ⇒ <span title="(_1: akka.actor.Nobody.type, _2: Int)(akka.actor.Nobody.type, Int)" class="delimiter">(</span><a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor.Nobody" title="akka.actor.Nobody.type">Nobody</a>, <a href="#akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).rec.n" title="Int">n</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="akka.actor.InternalActorRef">ref</span> ⇒ <span title="(_1: akka.actor.InternalActorRef, _2: Int)(akka.actor.InternalActorRef, Int)" class="delimiter">(</span><span title="akka.actor.InternalActorRef">ref</span>, <a href="#akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).rec.n" title="Int">n</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="scala.collection.immutable.Vector[String]" id="akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).full">full</a> = <span title="(elems: Nothing*)scala.collection.immutable.Vector[Nothing]">Vector</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Vector[Nothing],String,scala.collection.immutable.Vector[String]])scala.collection.immutable.Vector[String]">++</span> <a href="#akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).names" title="Iterator[String]">names</a>
    <a href="#akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).rec" title="(s: String, n: Int)(akka.actor.InternalActorRef, Int)">rec</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).full" title="scala.collection.immutable.Vector[String]">full</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="akka.actor.InternalActorRef" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor.Nobody" title="akka.actor.Nobody.type">Nobody</a>, _<span class="delimiter">)</span> ⇒ <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor.Nobody" title="akka.actor.Nobody.type">Nobody</a>
      <span class="keyword">case</span> <span class="delimiter">(</span><span title="akka.actor.InternalActorRef">ref</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>    ⇒ <span title="akka.actor.InternalActorRef">ref</span>
      <span class="keyword">case</span> <span class="delimiter">(</span><span title="akka.actor.InternalActorRef">ref</span>, <a title="Int" id="akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).n">n</a><span class="delimiter">)</span>    ⇒ <span title="akka.actor.InternalActorRef">ref</span>.<a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;InternalActorRef.getChild" title="(name: Iterator[String])akka.actor.InternalActorRef">getChild</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).full" title="scala.collection.immutable.Vector[String]">full</a>.<span title="(n: Int)scala.collection.immutable.Vector[String]">takeRight</span><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092).n" title="Int">n</a><span class="delimiter">)</span>.<span title="=&gt; scala.collection.immutable.VectorIterator[String]">iterator</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(message: akka.dispatch.sysmsg.SystemMessage)Unit" id="akka.remote;RemoteSystemDaemon.sendSystemMessage">sendSystemMessage</a><span class="delimiter">(</span><a title="akka.dispatch.sysmsg.SystemMessage" id="akka.remote;RemoteSystemDaemon.sendSystemMessage.message">message</a>: <a href="../../../actor/akka/dispatch/sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;SystemMessage" title="akka.dispatch.sysmsg.SystemMessage">SystemMessage</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.remote;RemoteSystemDaemon.sendSystemMessage.message" title="akka.dispatch.sysmsg.SystemMessage">message</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> DeathWatchNotification<span class="delimiter">(</span><a title="RemoteSystemDaemon extends akka.actor.ActorRefWithCell with akka.actor.ActorRefScope" id="akka.remote;RemoteSystemDaemon.sendSystemMessage.child">child</a>: <a href="#akka.remote;RemoteSystemDaemon;<refinement>" title="RemoteSystemDaemon extends akka.actor.ActorRefWithCell with akka.actor.ActorRefScope">ActorRefWithCell</a> <span class="keyword">with</span> ActorRefScope, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#akka.remote;RemoteSystemDaemon.sendSystemMessage.child" title="RemoteSystemDaemon extends akka.actor.ActorRefWithCell with akka.actor.ActorRefScope">child</a>.<a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRefScope.isLocal" title="=&gt; Boolean">isLocal</a> ⇒
      <a href="#akka.remote;RemoteSystemDaemon.terminating" title="=&gt; akka.util.Switch">terminating</a>.<a href="../../../actor/akka/util/LockUtil.scala.html#akka.util;Switch.locked" title="(code: =&gt; Unit)Unit">locked</a> <span class="delimiter">{</span>
        <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;VirtualPathContainer.removeChild(3ed5dd3053)" title="(name: String, ref: akka.actor.ActorRef)Unit">removeChild</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.sendSystemMessage.child" title="RemoteSystemDaemon extends akka.actor.ActorRefWithCell with akka.actor.ActorRefScope">child</a>.<a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a>.<a href="../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath.elements" title="=&gt; scala.collection.immutable.Iterable[String]">elements</a>.<span title="(n: Int)scala.collection.immutable.Iterable[String]">drop</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span>, <a href="#akka.remote;RemoteSystemDaemon.sendSystemMessage.child" title="RemoteSystemDaemon extends akka.actor.ActorRefWithCell with akka.actor.ActorRefScope">child</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <span title="akka.actor.InternalActorRef">parent</span> = <a href="#akka.remote;RemoteSystemDaemon.sendSystemMessage.child" title="RemoteSystemDaemon extends akka.actor.ActorRefWithCell with akka.actor.ActorRefScope">child</a>.<a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;InternalActorRef.getParent" title="=&gt; akka.actor.InternalActorRef">getParent</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.removeChildParentNeedsUnwatch" title="(parent: akka.actor.ActorRef, child: akka.actor.ActorRef)Boolean">removeChildParentNeedsUnwatch</a><span class="delimiter">(</span><span title="akka.actor.InternalActorRef">parent</span>, <a href="#akka.remote;RemoteSystemDaemon.sendSystemMessage.child" title="RemoteSystemDaemon extends akka.actor.ActorRefWithCell with akka.actor.ActorRefScope">child</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="akka.actor.InternalActorRef">parent</span>.<a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;InternalActorRef.sendSystemMessage" title="(message: akka.dispatch.sysmsg.SystemMessage)Unit">sendSystemMessage</a><span class="delimiter">(</span><a href="../../../actor/akka/dispatch/sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;Unwatch" title="(watchee: akka.actor.ActorRef, watcher: akka.actor.ActorRef)akka.dispatch.sysmsg.Unwatch">Unwatch</a><span class="delimiter">(</span><span title="akka.actor.InternalActorRef">parent</span>, <a href="#akka.remote;RemoteSystemDaemon" title="akka.remote.RemoteSystemDaemon" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#akka.remote;RemoteSystemDaemon.terminationHookDoneWhenNoChildren" title="()Unit">terminationHookDoneWhenNoChildren</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="keyword">case</span> DeathWatchNotification<span class="delimiter">(</span><span title="RemoteSystemDaemon extends akka.actor.ActorRef with akka.actor.ActorRefScope">parent</span>: <a href="#akka.remote;RemoteSystemDaemon;<refinement>" title="RemoteSystemDaemon extends akka.actor.ActorRef with akka.actor.ActorRefScope">ActorRef</a> <span class="keyword">with</span> ActorRefScope, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><span title="RemoteSystemDaemon extends akka.actor.ActorRef with akka.actor.ActorRefScope">parent</span>.<a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRefScope.isLocal" title="=&gt; Boolean">isLocal</a> ⇒
      <a href="#akka.remote;RemoteSystemDaemon.terminating" title="=&gt; akka.util.Switch">terminating</a>.<a href="../../../actor/akka/util/LockUtil.scala.html#akka.util;Switch.locked" title="(code: =&gt; Unit)Unit">locked</a> <span class="delimiter">{</span>
        <a href="#akka.remote;RemoteSystemDaemon.parent2children" title="=&gt; java.util.concurrent.ConcurrentHashMap[akka.actor.ActorRef,Set[akka.actor.ActorRef]]">parent2children</a>.<span title="(x$1: Any)Set[akka.actor.ActorRef]">remove</span><span class="delimiter">(</span><span title="RemoteSystemDaemon extends akka.actor.ActorRef with akka.actor.ActorRefScope">parent</span><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span> ⇒
          <span class="keyword">case</span> <a title="Set[akka.actor.ActorRef]" id="akka.remote;RemoteSystemDaemon.sendSystemMessage.children">children</a> ⇒
            <span class="keyword">for</span> <span class="delimiter">(</span><a title="akka.actor.ActorRef" id="akka.remote;RemoteSystemDaemon.sendSystemMessage.$anonfun.c">c</a> ← <a href="#akka.remote;RemoteSystemDaemon.sendSystemMessage.children" title="(f: akka.actor.ActorRef =&gt; Unit)Unit">children</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#akka.remote;RemoteSystemDaemon.system" title="akka.actor.ActorSystemImpl">system</a>.<a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystemImpl.stop" title="(actor: akka.actor.ActorRef)Unit">stop</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.sendSystemMessage.$anonfun.c" title="akka.actor.ActorRef">c</a><span class="delimiter">)</span>
              <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;VirtualPathContainer.removeChild(3ed5dd3053)" title="(name: String, ref: akka.actor.ActorRef)Unit">removeChild</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.sendSystemMessage.$anonfun.c" title="akka.actor.ActorRef">c</a>.<a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a>.<a href="../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath.elements" title="=&gt; scala.collection.immutable.Iterable[String]">elements</a>.<span title="(n: Int)scala.collection.immutable.Iterable[String]">drop</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span>, <a href="#akka.remote;RemoteSystemDaemon.sendSystemMessage.$anonfun.c" title="akka.actor.ActorRef">c</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#akka.remote;RemoteSystemDaemon.terminationHookDoneWhenNoChildren" title="()Unit">terminationHookDoneWhenNoChildren</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="keyword">case</span> _ ⇒ <a href="#akka.remote;RemoteSystemDaemon" title="akka.remote.RemoteSystemDaemon" class="keyword">super</a>.<a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;MinimalActorRef.sendSystemMessage" title="(message: akka.dispatch.sysmsg.SystemMessage)Unit">sendSystemMessage</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.sendSystemMessage.message" title="akka.dispatch.sysmsg.SystemMessage">message</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(msg: Any)(implicit sender: akka.actor.ActorRef)Unit" id="akka.remote;RemoteSystemDaemon.!">!</a><span class="delimiter">(</span><a title="Any" id="akka.remote;RemoteSystemDaemon.!$default$2.msg">msg</a>: <span title="Any">Any</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="akka.actor.ActorRef" id="akka.remote;RemoteSystemDaemon.!$default$2">sender</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef" title="akka.actor.ActorRef">ActorRef</a> = <a href="../../../actor/akka/actor/Actor.scala.html#akka.actor.Actor" title="akka.actor.Actor.type">Actor</a>.<a href="../../../actor/akka/actor/Actor.scala.html#akka.actor.Actor.noSender" title="=&gt; akka.actor.ActorRef">noSender</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="keyword">try</span> <a href="#akka.remote;RemoteSystemDaemon.!$default$2.msg" title="Any">msg</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="akka.remote.DaemonMsg" id="akka.remote;RemoteSystemDaemon.!.message">message</a>: <a href="#akka.remote;DaemonMsg" title="akka.remote.DaemonMsg">DaemonMsg</a> ⇒
      <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;VirtualPathContainer.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.debug(2f488eb77c)" title="(template: String, arg1: Any, arg2: Any)Unit">debug</a><span class="delimiter">(</span><span title="String(&quot;Received command [{}] to RemoteSystemDaemon on [{}]&quot;)" class="string">&quot;Received command [{}] to RemoteSystemDaemon on [{}]&quot;</span>, <a href="#akka.remote;RemoteSystemDaemon.!.message" title="akka.remote.DaemonMsg">message</a>, <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;VirtualPathContainer.path" title="=&gt; akka.actor.ActorPath">path</a>.<a href="../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath.address" title="=&gt; akka.actor.Address">address</a><span class="delimiter">)</span>
      <a href="#akka.remote;RemoteSystemDaemon.!.message" title="akka.remote.DaemonMsg">message</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> DaemonMsgCreate<span class="delimiter">(</span>_, _, <span title="String">path</span>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#akka.remote;RemoteSystemDaemon.untrustedMode" title="=&gt; Boolean">untrustedMode</a> ⇒ <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;VirtualPathContainer.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.debug(dc73c33c91)" title="(template: String, arg1: Any)Unit">debug</a><span class="delimiter">(</span><span title="String(&quot;does not accept deployments (untrusted) for [{}]&quot;)" class="string">&quot;does not accept deployments (untrusted) for [{}]&quot;</span>, <span title="String">path</span><span class="delimiter">)</span>
        <span class="keyword">case</span> DaemonMsgCreate<span class="delimiter">(</span><a title="akka.actor.Props" id="akka.remote;RemoteSystemDaemon.!.props">props</a>, <a title="akka.actor.Deploy" id="akka.remote;RemoteSystemDaemon.!.deploy">deploy</a>, <span title="String">path</span>, <a title="akka.actor.ActorRef" id="akka.remote;RemoteSystemDaemon.!.supervisor">supervisor</a><span class="delimiter">)</span> ⇒
          <span title="String">path</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../../../actor/akka/actor/Address.scala.html#akka.actor.ActorPathExtractor.unapply" title="(addr: String)Option[(akka.actor.Address, scala.collection.immutable.Iterable[String])]">ActorPathExtractor</a><span class="delimiter">(</span><span title="akka.actor.Address">address</span>, <a title="scala.collection.immutable.Iterable[String]" id="akka.remote;RemoteSystemDaemon.!.elems">elems</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#akka.remote;RemoteSystemDaemon.!.elems" title="scala.collection.immutable.Iterable[String]">elems</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#akka.remote;RemoteSystemDaemon.!.elems" title="scala.collection.immutable.Iterable[String]">elems</a>.<span title="=&gt; String">head</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="String(&quot;remote&quot;)" class="string">&quot;remote&quot;</span> ⇒
              <span class="comment">// TODO RK currently the extracted “address” is just ignored, is that okay?</span>
              <span class="comment">// TODO RK canonicalize path so as not to duplicate it always #1446</span>
              <span class="keyword">val</span> <a title="scala.collection.immutable.Iterable[String]" id="akka.remote;RemoteSystemDaemon.!.subpath">subpath</a> = <a href="#akka.remote;RemoteSystemDaemon.!.elems" title="scala.collection.immutable.Iterable[String]">elems</a>.<span title="(n: Int)scala.collection.immutable.Iterable[String]">drop</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="akka.actor.ActorPath" id="akka.remote;RemoteSystemDaemon.!.p">p</a> = <a href="#akka.remote;RemoteSystemDaemon" title="RemoteSystemDaemon.this.type" class="keyword">this</a>.<a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;VirtualPathContainer.path" title="=&gt; akka.actor.ActorPath">path</a> <a href="../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath./(214d397cb8)" title="(child: Iterable[String])akka.actor.ActorPath">/</a> <a href="#akka.remote;RemoteSystemDaemon.!.subpath" title="scala.collection.immutable.Iterable[String]">subpath</a>
              <span class="keyword">val</span> <a title="String" id="akka.remote;RemoteSystemDaemon.!.childName">childName</a> = <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="String" id="akka.remote;RemoteSystemDaemon.!.childName.s">s</a> = <a href="#akka.remote;RemoteSystemDaemon.!.subpath" title="scala.collection.immutable.Iterable[String]">subpath</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Int" id="akka.remote;RemoteSystemDaemon.!.childName.i">i</a> = <a href="#akka.remote;RemoteSystemDaemon.!.childName.s" title="String">s</a>.<span title="(x$1: Int)Int">indexOf</span><span class="delimiter">(</span><span title="Int(35)" class="char">'#'</span><span class="delimiter">)</span>
                <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.!.childName.i" title="Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#akka.remote;RemoteSystemDaemon.!.childName.s" title="String">s</a>
                <span class="keyword">else</span> <a href="#akka.remote;RemoteSystemDaemon.!.childName.s" title="String">s</a>.<span title="(x$1: Int, x$2: Int)String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#akka.remote;RemoteSystemDaemon.!.childName.i" title="Int">i</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <span class="keyword">val</span> <a title="Boolean" id="akka.remote;RemoteSystemDaemon.!.isTerminating">isTerminating</a> = <span title="=&gt; Boolean">!</span><a href="#akka.remote;RemoteSystemDaemon.terminating" title="=&gt; akka.util.Switch">terminating</a>.<a href="../../../actor/akka/util/LockUtil.scala.html#akka.util;Switch.whileOff" title="(action: =&gt; Unit)Boolean">whileOff</a> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="akka.actor.InternalActorRef" id="akka.remote;RemoteSystemDaemon.!.isTerminating.parent">parent</a> = <a href="#akka.remote;RemoteSystemDaemon.!.supervisor" title="akka.actor.ActorRef">supervisor</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="akka.actor.InternalActorRef" class="delimiter">[</span><a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;InternalActorRef" title="akka.actor.InternalActorRef">InternalActorRef</a><span class="delimiter">]</span>
                <span class="keyword">val</span> <a title="akka.actor.InternalActorRef" id="akka.remote;RemoteSystemDaemon.!.isTerminating.actor">actor</a> = <a href="#akka.remote;RemoteSystemDaemon.system" title="akka.actor.ActorSystemImpl">system</a>.<a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystemImpl.provider" title="=&gt; akka.actor.ActorRefProvider">provider</a>.<a href="../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor;ActorRefProvider.actorOf" title="(system: akka.actor.ActorSystemImpl, props: akka.actor.Props, supervisor: akka.actor.InternalActorRef, path: akka.actor.ActorPath, systemService: Boolean, deploy: Option[akka.actor.Deploy], lookupDeploy: Boolean, async: Boolean)akka.actor.InternalActorRef">actorOf</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.system" title="akka.actor.ActorSystemImpl">system</a>, <a href="#akka.remote;RemoteSystemDaemon.!.props" title="akka.actor.Props">props</a>, <a href="#akka.remote;RemoteSystemDaemon.!.isTerminating.parent" title="akka.actor.InternalActorRef">parent</a>,
                  <a href="#akka.remote;RemoteSystemDaemon.!.p" title="akka.actor.ActorPath">p</a>, systemService = <span title="Boolean(false)" class="keyword">false</span>, <span title="(x: akka.actor.Deploy)Some[akka.actor.Deploy]">Some</span><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.!.deploy" title="akka.actor.Deploy">deploy</a><span class="delimiter">)</span>, lookupDeploy = <span title="Boolean(true)" class="keyword">true</span>, async = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;VirtualPathContainer.addChild" title="(name: String, ref: akka.actor.InternalActorRef)Unit">addChild</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.!.childName" title="String">childName</a>, <a href="#akka.remote;RemoteSystemDaemon.!.isTerminating.actor" title="akka.actor.InternalActorRef">actor</a><span class="delimiter">)</span>
                <a href="#akka.remote;RemoteSystemDaemon.!.isTerminating.actor" title="akka.actor.InternalActorRef">actor</a>.<a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;InternalActorRef.sendSystemMessage" title="(message: akka.dispatch.sysmsg.SystemMessage)Unit">sendSystemMessage</a><span class="delimiter">(</span><a href="../../../actor/akka/dispatch/sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;Watch" title="(watchee: akka.actor.InternalActorRef, watcher: akka.actor.InternalActorRef)akka.dispatch.sysmsg.Watch">Watch</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.!.isTerminating.actor" title="akka.actor.InternalActorRef">actor</a>, <a href="#akka.remote;RemoteSystemDaemon" title="akka.remote.RemoteSystemDaemon" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#akka.remote;RemoteSystemDaemon.!.isTerminating.actor" title="akka.actor.InternalActorRef">actor</a>.<a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;InternalActorRef.start" title="()Unit">start</a><span class="delimiter">(</span><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.addChildParentNeedsWatch" title="(parent: akka.actor.ActorRef, child: akka.actor.ActorRef)Boolean">addChildParentNeedsWatch</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.!.isTerminating.parent" title="akka.actor.InternalActorRef">parent</a>, <a href="#akka.remote;RemoteSystemDaemon.!.isTerminating.actor" title="akka.actor.InternalActorRef">actor</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#akka.remote;RemoteSystemDaemon.!.isTerminating.parent" title="akka.actor.InternalActorRef">parent</a>.<a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;InternalActorRef.sendSystemMessage" title="(message: akka.dispatch.sysmsg.SystemMessage)Unit">sendSystemMessage</a><span class="delimiter">(</span><a href="../../../actor/akka/dispatch/sysmsg/SystemMessage.scala.html#akka.dispatch.sysmsg;Watch" title="(watchee: akka.actor.InternalActorRef, watcher: akka.actor.InternalActorRef)akka.dispatch.sysmsg.Watch">Watch</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.!.isTerminating.parent" title="akka.actor.InternalActorRef">parent</a>, <a href="#akka.remote;RemoteSystemDaemon" title="akka.remote.RemoteSystemDaemon" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.!.isTerminating" title="Boolean">isTerminating</a><span class="delimiter">)</span> <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;VirtualPathContainer.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.error(2f488eb77c)" title="(template: String, arg1: Any, arg2: Any)Unit">error</a><span class="delimiter">(</span><span title="String(&quot;Skipping [{}] to RemoteSystemDaemon on [{}] while terminating&quot;)" class="string">&quot;Skipping [{}] to RemoteSystemDaemon on [{}] while terminating&quot;</span>, <a href="#akka.remote;RemoteSystemDaemon.!.message" title="akka.remote.DaemonMsg">message</a>, <a href="#akka.remote;RemoteSystemDaemon.!.p" title="akka.actor.ActorPath">p</a>.<a href="../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath.address" title="=&gt; akka.actor.Address">address</a><span class="delimiter">)</span>
            <span class="keyword">case</span> _ ⇒
              <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;VirtualPathContainer.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.debug(dc73c33c91)" title="(template: String, arg1: Any)Unit">debug</a><span class="delimiter">(</span><span title="String(&quot;remote path does not match path from message [{}]&quot;)" class="string">&quot;remote path does not match path from message [{}]&quot;</span>, <a href="#akka.remote;RemoteSystemDaemon.!.message" title="akka.remote.DaemonMsg">message</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="keyword">case</span> <a title="akka.actor.ActorSelectionMessage" id="akka.remote;RemoteSystemDaemon.!.sel">sel</a>: <a href="../../../actor/akka/actor/ActorSelection.scala.html#akka.actor;ActorSelectionMessage" title="akka.actor.ActorSelectionMessage">ActorSelectionMessage</a> ⇒
      <span class="keyword">val</span> <a href="#akka.remote;RemoteSystemDaemon.!.concatenatedChildNames" title="(List[String], Any)" class="delimiter">(</a><a href="#akka.remote;RemoteSystemDaemon.!.x$4" title="List[String]" id="akka.remote;RemoteSystemDaemon.!.concatenatedChildNames">concatenatedChildNames</a>, <a href="#akka.remote;RemoteSystemDaemon.!.x$4" title="Any" id="akka.remote;RemoteSystemDaemon.!.m">m</a><span class="delimiter">)</span> = <span title="(List[String], Any) @unchecked" class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Iterator[akka.actor.SelectionPathElement]" id="akka.remote;RemoteSystemDaemon.!.x$4.iter">iter</a> = <a href="#akka.remote;RemoteSystemDaemon.!.sel" title="akka.actor.ActorSelectionMessage">sel</a>.<a href="../../../actor/akka/actor/ActorSelection.scala.html#akka.actor;ActorSelectionMessage.elements" title="=&gt; scala.collection.immutable.Iterable[akka.actor.SelectionPathElement]">elements</a>.<span title="=&gt; Iterator[akka.actor.SelectionPathElement]">iterator</span>
        <span class="comment">// find child elements, and the message to send, which is a remaining ActorSelectionMessage</span>
        <span class="comment">// in case of SelectChildPattern, otherwise the the actual message of the selection</span>
        @tailrec <span class="keyword">def</span> <a title="(acc: List[String])(List[String], Any)" id="akka.remote;RemoteSystemDaemon.!.x$4.rec">rec</a><span class="delimiter">(</span><a title="List[String]" id="akka.remote;RemoteSystemDaemon.!.x$4.rec.acc">acc</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="(List[String], Any)" class="delimiter">(</span>List<span class="delimiter">[</span>String<span class="delimiter">]</span>, Any<span class="delimiter">)</span> =
          <span title="(List[String], Any)" class="keyword">if</span> <span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.!.x$4.iter" title="Iterator[akka.actor.SelectionPathElement]">iter</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
            <span title="(_1: List[String], _2: Any)(List[String], Any)" class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.!.x$4.rec.acc" title="List[String]">acc</a>.<span title="=&gt; List[String]">reverse</span>, <a href="#akka.remote;RemoteSystemDaemon.!.sel" title="akka.actor.ActorSelectionMessage">sel</a>.<a href="../../../actor/akka/actor/ActorSelection.scala.html#akka.actor;ActorSelectionMessage.msg" title="=&gt; Any">msg</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#akka.remote;RemoteSystemDaemon.!.x$4.iter" title="Iterator[akka.actor.SelectionPathElement]">iter</a>.<span title="()akka.actor.SelectionPathElement">next</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(List[String], Any)" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> SelectChildName<span class="delimiter">(</span><a title="String" id="akka.remote;RemoteSystemDaemon.!.x$4.rec.name">name</a><span class="delimiter">)</span>       ⇒ <a href="#akka.remote;RemoteSystemDaemon.!.x$4.rec" title="(acc: List[String])(List[String], Any)">rec</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.!.x$4.rec.name" title="String">name</a> <a href="#akka.remote;RemoteSystemDaemon.!.x$4.rec.x$2" title="(x: String)List[String]">::</a> <a href="#akka.remote;RemoteSystemDaemon.!.x$4.rec.acc" title="List[String]">acc</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <a href="../../../actor/akka/actor/ActorSelection.scala.html#akka.actor.SelectParent" title="akka.actor.SelectParent.type">SelectParent</a> <span class="keyword">if</span> <a href="#akka.remote;RemoteSystemDaemon.!.x$4.rec.acc" title="List[String]">acc</a>.<span title="=&gt; Boolean">isEmpty</span> ⇒ <a href="#akka.remote;RemoteSystemDaemon.!.x$4.rec" title="(acc: List[String])(List[String], Any)">rec</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.!.x$4.rec.acc" title="List[String]">acc</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <a href="../../../actor/akka/actor/ActorSelection.scala.html#akka.actor.SelectParent" title="akka.actor.SelectParent.type">SelectParent</a>                ⇒ <a href="#akka.remote;RemoteSystemDaemon.!.x$4.rec" title="(acc: List[String])(List[String], Any)">rec</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.!.x$4.rec.acc" title="List[String]">acc</a>.<span title="=&gt; List[String]">tail</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <a title="akka.actor.SelectChildPattern" id="akka.remote;RemoteSystemDaemon.!.x$4.rec.pat">pat</a>: <a href="../../../actor/akka/actor/ActorSelection.scala.html#akka.actor;SelectChildPattern" title="akka.actor.SelectChildPattern">SelectChildPattern</a>     ⇒ <span title="(_1: List[String], _2: akka.actor.ActorSelectionMessage)(List[String], akka.actor.ActorSelectionMessage)" class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.!.x$4.rec.acc" title="List[String]">acc</a>.<span title="=&gt; List[String]">reverse</span>, <a href="#akka.remote;RemoteSystemDaemon.!.sel" title="akka.actor.ActorSelectionMessage">sel</a>.<a href="../../../actor/akka/actor/ActorSelection.scala.html#akka.actor;ActorSelectionMessage.copy$default$1" title="Any" id="akka.remote;RemoteSystemDaemon.!.x$4.rec.x$8">copy</a><span class="delimiter">(</span>elements = <a href="#akka.remote;RemoteSystemDaemon.!.x$4.rec.pat" title="akka.actor.SelectChildPattern">pat</a> <a href="#akka.remote;RemoteSystemDaemon.!.x$4.rec.x$6.x$3" title="scala.collection.immutable.Iterable[akka.actor.SelectionPathElement]" id="akka.remote;RemoteSystemDaemon.!.x$4.rec.x$6">+:</a> <a href="#akka.remote;RemoteSystemDaemon.!.x$4.iter" title="Iterator[akka.actor.SelectionPathElement]">iter</a>.<span title="=&gt; Vector[akka.actor.SelectionPathElement]">toVector</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <a href="#akka.remote;RemoteSystemDaemon.!.x$4.rec" title="(acc: List[String])(List[String], Any)">rec</a><span class="delimiter">(</span><span title="scala.collection.immutable.Nil.type">Nil</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#akka.remote;RemoteSystemDaemon.getChild(ccd3a1a092)" title="(names: Iterator[String])akka.actor.InternalActorRef">getChild</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.!.concatenatedChildNames" title="List[String]">concatenatedChildNames</a>.<span title="=&gt; Iterator[String]">iterator</span><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor.Nobody" title="akka.actor.Nobody.type">Nobody</a> ⇒
          <span class="keyword">val</span> <a title="akka.actor.EmptyLocalActorRef" id="akka.remote;RemoteSystemDaemon.!.emptyRef">emptyRef</a> = <span title="akka.actor.EmptyLocalActorRef" class="keyword">new</span> <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;EmptyLocalActorRef" title="akka.actor.EmptyLocalActorRef">EmptyLocalActorRef</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.system" title="akka.actor.ActorSystemImpl">system</a>.<a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystemImpl.provider" title="=&gt; akka.actor.ActorRefProvider">provider</a>, <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;VirtualPathContainer.path" title="=&gt; akka.actor.ActorPath">path</a> <a href="../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath./(214d397cb8)" title="(child: Iterable[String])akka.actor.ActorPath">/</a> <a href="#akka.remote;RemoteSystemDaemon.!.sel" title="akka.actor.ActorSelectionMessage">sel</a>.<a href="../../../actor/akka/actor/ActorSelection.scala.html#akka.actor;ActorSelectionMessage.elements" title="=&gt; scala.collection.immutable.Iterable[akka.actor.SelectionPathElement]">elements</a>.<span title="(f: akka.actor.SelectionPathElement =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Iterable[akka.actor.SelectionPathElement],String,scala.collection.immutable.Iterable[String]])scala.collection.immutable.Iterable[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Iterable.Coll,String,scala.collection.immutable.Iterable[String]]" class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.!.emptyRef.$anonfun.x$5" title="akka.actor.SelectionPathElement">_</a>.<span title="()String">toString</span><span class="delimiter">)</span>,
            <a href="#akka.remote;RemoteSystemDaemon.system" title="akka.actor.ActorSystemImpl">system</a>.<a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystemImpl.eventStream" title="=&gt; akka.event.EventStream">eventStream</a><span class="delimiter">)</span>
          <a href="#akka.remote;RemoteSystemDaemon.!.emptyRef" title="akka.actor.EmptyLocalActorRef">emptyRef</a>.<a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.tell" title="(msg: Any, sender: akka.actor.ActorRef)Unit">tell</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.!.sel" title="akka.actor.ActorSelectionMessage">sel</a>, <a href="#akka.remote;RemoteSystemDaemon.!$default$2" title="akka.actor.ActorRef">sender</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="akka.actor.InternalActorRef" id="akka.remote;RemoteSystemDaemon.!.child">child</a> ⇒
          <a href="#akka.remote;RemoteSystemDaemon.!.child" title="akka.actor.InternalActorRef">child</a>.<a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.tell" title="(msg: Any, sender: akka.actor.ActorRef)Unit">tell</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.!.m" title="Any">m</a>, <a href="#akka.remote;RemoteSystemDaemon.!$default$2" title="akka.actor.ActorRef">sender</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="keyword">case</span> Identify<span class="delimiter">(</span><a title="Any" id="akka.remote;RemoteSystemDaemon.!.messageId">messageId</a><span class="delimiter">)</span> ⇒ <a href="../../../actor/akka/actor/package.scala.html#akka.actor.package.actorRef2Scala" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">sender</a> <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ScalaActorRef.!" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="../../../actor/akka/actor/Actor.scala.html#akka.actor;ActorIdentity" title="(correlationId: Any, ref: Option[akka.actor.ActorRef])akka.actor.ActorIdentity">ActorIdentity</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.!.messageId" title="Any">messageId</a>, <span title="(x: akka.remote.RemoteSystemDaemon)Some[akka.remote.RemoteSystemDaemon]">Some</span><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon" title="akka.remote.RemoteSystemDaemon" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">case</span> <a href="../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor.SystemGuardian.TerminationHook" title="akka.actor.SystemGuardian.TerminationHook.type">TerminationHook</a> ⇒
      <a href="#akka.remote;RemoteSystemDaemon.terminating" title="=&gt; akka.util.Switch">terminating</a>.<a href="../../../actor/akka/util/LockUtil.scala.html#akka.util;Switch.switchOn(90a7991fc8)" title="(action: =&gt; Unit)Boolean">switchOn</a> <span title="Unit" class="delimiter">{</span>
        <a href="#akka.remote;RemoteSystemDaemon.terminationHookDoneWhenNoChildren" title="()Unit">terminationHookDoneWhenNoChildren</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;VirtualPathContainer.foreachChild" title="(f: akka.actor.ActorRef =&gt; Unit)Unit">foreachChild</a> <span class="delimiter">{</span> <a href="#akka.remote;RemoteSystemDaemon.system" title="akka.actor.ActorSystemImpl">system</a>.<a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystemImpl.stop" title="(actor: akka.actor.ActorRef)Unit">stop</a> <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="keyword">case</span> AddressTerminated<span class="delimiter">(</span><span title="akka.actor.Address">address</span><span class="delimiter">)</span> ⇒
      <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;VirtualPathContainer.foreachChild" title="(f: akka.actor.ActorRef =&gt; Unit)Unit">foreachChild</a> <a href="#akka.remote;RemoteSystemDaemon.!.$anonfun.x0$1" title="Unit" class="delimiter">{</a>
        <span class="keyword">case</span> <a title="akka.actor.InternalActorRef" id="akka.remote;RemoteSystemDaemon.!.$anonfun.a">a</a>: <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;InternalActorRef" title="akka.actor.InternalActorRef">InternalActorRef</a> <span class="keyword">if</span> <a href="#akka.remote;RemoteSystemDaemon.!.$anonfun.a" title="akka.actor.InternalActorRef">a</a>.<a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;InternalActorRef.getParent" title="=&gt; akka.actor.InternalActorRef">getParent</a>.<a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.path" title="=&gt; akka.actor.ActorPath">path</a>.<a href="../../../actor/akka/actor/ActorPath.scala.html#akka.actor;ActorPath.address" title="=&gt; akka.actor.Address">address</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="akka.actor.Address">address</span> ⇒ <a href="#akka.remote;RemoteSystemDaemon.system" title="akka.actor.ActorSystemImpl">system</a>.<a href="../../../actor/akka/actor/ActorSystem.scala.html#akka.actor;ActorSystemImpl.stop" title="(actor: akka.actor.ActorRef)Unit">stop</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.!.$anonfun.a" title="akka.actor.InternalActorRef">a</a><span class="delimiter">)</span>
        <span class="keyword">case</span> _ ⇒ <span class="comment">// skip, this child doesn't belong to the terminated address</span>
      <span class="delimiter">}</span>

    <span class="keyword">case</span> <a title="Any" id="akka.remote;RemoteSystemDaemon.!.unknown">unknown</a> ⇒ <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;VirtualPathContainer.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.warning(2f488eb77c)" title="(template: String, arg1: Any, arg2: Any)Unit">warning</a><span class="delimiter">(</span><span title="String(&quot;Unknown message [{}] received by [{}]&quot;)" class="string">&quot;Unknown message [{}] received by [{}]&quot;</span>, <a href="#akka.remote;RemoteSystemDaemon.!.unknown" title="Any">unknown</a>, <a href="#akka.remote;RemoteSystemDaemon" title="akka.remote.RemoteSystemDaemon" class="keyword">this</a><span class="delimiter">)</span>

  <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="#akka.remote;RemoteSystemDaemon.!.<unapply-selector>" title="(t: Throwable)Option[Throwable]">NonFatal</a><span class="delimiter">(</span><a title="Throwable" id="akka.remote;RemoteSystemDaemon.!.e">e</a><span class="delimiter">)</span> ⇒ <a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;VirtualPathContainer.log" title="=&gt; akka.event.LoggingAdapter">log</a>.<a href="../../../actor/akka/event/Logging.scala.html#akka.event;LoggingAdapter.error(41f64575e3)" title="(cause: Throwable, template: String, arg1: Any, arg2: Any)Unit">error</a><span class="delimiter">(</span><a href="#akka.remote;RemoteSystemDaemon.!.e" title="Throwable">e</a>, <span title="String(&quot;exception while processing remote command [{}] from [{}]&quot;)" class="string">&quot;exception while processing remote command [{}] from [{}]&quot;</span>, <a href="#akka.remote;RemoteSystemDaemon.!$default$2.msg" title="Any">msg</a>, <a href="#akka.remote;RemoteSystemDaemon.!$default$2" title="akka.actor.ActorRef">sender</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="()Unit" id="akka.remote;RemoteSystemDaemon.terminationHookDoneWhenNoChildren">terminationHookDoneWhenNoChildren</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#akka.remote;RemoteSystemDaemon.terminating" title="=&gt; akka.util.Switch">terminating</a>.<a href="../../../actor/akka/util/LockUtil.scala.html#akka.util;Switch.whileOn" title="(action: =&gt; Unit)Boolean">whileOn</a> <span title="Unit" class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;VirtualPathContainer.hasChildren" title="=&gt; Boolean">hasChildren</a><span class="delimiter">)</span> <a href="#akka.remote;RemoteSystemDaemon.terminator" title="akka.actor.ActorRef">terminator</a>.<a href="../../../actor/akka/actor/ActorRef.scala.html#akka.actor;ActorRef.tell" title="(msg: Any, sender: akka.actor.ActorRef)Unit">tell</a><span class="delimiter">(</span><a href="../../../actor/akka/actor/ActorRefProvider.scala.html#akka.actor.SystemGuardian.TerminationHookDone" title="akka.actor.SystemGuardian.TerminationHookDone.type">TerminationHookDone</a>, <a href="#akka.remote;RemoteSystemDaemon" title="akka.remote.RemoteSystemDaemon" class="keyword">this</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>
