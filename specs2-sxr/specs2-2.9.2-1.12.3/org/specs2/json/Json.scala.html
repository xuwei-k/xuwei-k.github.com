<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>org/specs2/json/Json.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> org.specs2
<span class="keyword">package</span> json

<span class="keyword">import</span> util.parsing.json._
<span class="keyword">import</span> util.matching.Regex
<span class="keyword">import</span> text.<a href="../text/Regexes.scala.html#13287" title="object org.specs2.text.Regexes">Regexes</a>._
<span class="keyword">import</span> text.<a href="../text/NullString.scala.html#13264" title="object org.specs2.text.NotNullStrings">NotNullStrings</a>._

<span class="comment">/**
 * This trait provides utility functions for Json objects
 */</span>
<span class="keyword">private</span><span class="delimiter">[</span>specs2<span class="delimiter">]</span>
<span class="keyword">trait</span> <a title="trait Json extends java.lang.Object with ScalaObject" id="10557">Json</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="comment">/**
   * The string has to be parsed by a brand new parser each time
   * otherwise it will not be thread (see issue #70)
   * @return Some(json) if the string is parsable as a JSON document
   */</span>
  <span class="keyword">def</span> <a title="(s: String)Option[scala.util.parsing.json.JSONType]" id="62346">parse</a><span class="delimiter">(</span><a title="String" id="157458">s</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[scala.util.parsing.json.JSONType]">Option</span><span class="delimiter">[</span>JSONType<span class="delimiter">]</span> =
    <a href="#157464" title="scala.util.parsing.json.Parser{def parseRaw(input: String): Option[scala.util.parsing.json.JSONType]}" class="keyword">new</a> <a title="anonymous class $anon extends scala.util.parsing.json.Parser" id="157464">Parser</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(input: String)Option[scala.util.parsing.json.JSONType]" id="157834">parseRaw</a><span class="delimiter">(</span><a title="String" id="158276">input</a> : <span title="String">String</span><span class="delimiter">)</span> : <span title="Option[scala.util.parsing.json.JSONType]">Option</span><span class="delimiter">[</span>JSONType<span class="delimiter">]</span> =
      <a href="#157464" title="(p: this.Parser[Product with Serializable with scala.util.parsing.json.JSONType])this.Parser[Product with Serializable with scala.util.parsing.json.JSONType]">phrase</a><span title="(in: this.Input)this.ParseResult[Product with Serializable with scala.util.parsing.json.JSONType]" class="delimiter">(</span><a href="#157464" title="=&gt; this.Parser[Product with Serializable with scala.util.parsing.json.JSONType]">root</a><span class="delimiter">)</span><span class="delimiter">(</span><span title="(in: String)this.lexical.Scanner" class="keyword">new</span> <a href="#157464" title="=&gt; scala.util.parsing.json.Lexer">lexical</a>.<span title="this.lexical.Scanner">Scanner</span><span class="delimiter">(</span><a href="#158276" title="String">input</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Option[scala.util.parsing.json.JSONType]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Some[Product with Serializable with scala.util.parsing.json.JSONType]">Success</span><span class="delimiter">(</span><a title="Parser extends Product with Serializable with scala.util.parsing.json.JSONType" id="158794">result</a>, _<span class="delimiter">)</span> =&gt; <span title="(x: Product with Serializable with scala.util.parsing.json.JSONType)Some[Product with Serializable with scala.util.parsing.json.JSONType]">Some</span><span class="delimiter">(</span><a href="#158794" title="Parser extends Product with Serializable with scala.util.parsing.json.JSONType">result</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span>
      <span class="delimiter">}</span>
  <span class="delimiter">}</span>.<a href="#157834" title="(input: String)Option[scala.util.parsing.json.JSONType]">parseRaw</a><span class="delimiter">(</span><a href="#157458" title="String">s</a><span class="delimiter">)</span>

  <span class="comment">/**
   * @return the list of pairs in the json document where the value is a terminal type
   */</span>
  <span class="keyword">def</span> <a title="(json: scala.util.parsing.json.JSONType)Seq[(Any, Any)]" id="62347">terminalPairs</a><span class="delimiter">(</span><a title="scala.util.parsing.json.JSONType" id="158798">json</a>: <span title="scala.util.parsing.json.JSONType">JSONType</span><span class="delimiter">)</span>: <span title="Seq[(Any, Any)]">Seq</span><span class="delimiter">[</span><span class="delimiter">(</span>Any, Any<span class="delimiter">)</span><span class="delimiter">]</span> = <a href="#10557" title="Json.this.type">collect</a><a href="#158806" title="Any =&gt; Seq[Nothing]" id="158909" class="delimiter">(</a><a href="#158798" title="scala.util.parsing.json.JSONType" id="158843">json</a><span class="delimiter">)</span><span class="delimiter">(</span>keyedValues = <a href="#158875" title="(Any, Any) =&gt; Seq[(Any, Any)]" id="158906" class="delimiter">{</a>
    <span class="keyword">case</span> <span title="Seq[(Any, Any)]" class="delimiter">(</span><a title="Any" id="158885">key</a>, <a title="Any" id="158886">value</a><span class="delimiter">)</span> =&gt; <span title="(elems: (Any, Any)*)Seq[(Any, Any)]">Seq</span><span class="delimiter">(</span><span title="(_1: Any, _2: Any)(Any, Any)" class="delimiter">(</span><a href="#158885" title="Any">key</a>,<a href="#158886" title="Any">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="scala.collection.immutable.Nil.type" id="158896">other</a>        =&gt; <span title="object Nil">Nil</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/**
   * @return the list of values in the json document where the value is a terminal type
   */</span>
  <span class="keyword">def</span> <a title="(json: scala.util.parsing.json.JSONType)Seq[Any]" id="62348">terminalValues</a><span class="delimiter">(</span><a title="scala.util.parsing.json.JSONType" id="158910">json</a>: <span title="scala.util.parsing.json.JSONType">JSONType</span><span class="delimiter">)</span>: <span title="Seq[Any]">Seq</span><span class="delimiter">[</span>Any<span class="delimiter">]</span> = <a href="#10557" title="Json.this.type">collect</a><a href="#158806" title="Any =&gt; Seq[Nothing]" id="158968" class="delimiter">(</a><a href="#158910" title="scala.util.parsing.json.JSONType" id="158933">json</a><span class="delimiter">)</span><span class="delimiter">(</span>keyedValues = <a href="#158937" title="(Any, Any) =&gt; Seq[Any]" id="158965" class="delimiter">{</a>
    <span class="keyword">case</span> <span title="Seq[Any]" class="delimiter">(</span><a title="Any" id="158947">key</a>, <a title="Any" id="158948">value</a><span class="delimiter">)</span> =&gt; <span title="(elems: Any*)Seq[Any]">Seq</span><span class="delimiter">(</span><a href="#158948" title="Any">value</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="Seq[(Any, Any)]" id="158952">other</a>        =&gt; <span title="(elems: (Any, Any)*)Seq[(Any, Any)]">Seq</span><span class="delimiter">(</span><a href="#158952" title="(Any, Any)">other</a><span class="delimiter">)</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/**
   * @return all the JSON objects or values that are addressed by a key in the document.
   *         if there is only one it is returned directly, otherwise the elements are put in a JSONArray
   */</span>
  <span class="keyword">def</span> <a title="(key: String, json: scala.util.parsing.json.JSONType)Option[scala.util.parsing.json.JSONType]" id="62349">findDeep</a><span class="delimiter">(</span><a title="String" id="158969">key</a>: <span title="String">String</span>, <a title="scala.util.parsing.json.JSONType" id="158970">json</a>: <span title="scala.util.parsing.json.JSONType">JSONType</span><span class="delimiter">)</span>: <span title="Option[scala.util.parsing.json.JSONType]">Option</span><span class="delimiter">[</span>JSONType<span class="delimiter">]</span> = <a href="#62352" title="(json: scala.util.parsing.json.JSONType, targetKey: Any =&gt; Boolean)Option[scala.util.parsing.json.JSONType]">findDeep</a><span class="delimiter">(</span><a href="#158970" title="scala.util.parsing.json.JSONType">json</a>, <span class="delimiter">(</span>k: <span title="Any">Any</span><span class="delimiter">)</span> =&gt; <a href="#158993" title="Any">k</a> <span title="(x$1: Any)Boolean">==</span> <a href="#158969" title="String">key</a><span class="delimiter">)</span>
  <span class="comment">/**
   * @return findDeep with a Regex
   */</span>
  <span class="keyword">def</span> <a title="(key: scala.util.matching.Regex, json: scala.util.parsing.json.JSONType)Option[scala.util.parsing.json.JSONType]" id="62350">findDeep</a><span class="delimiter">(</span><a title="scala.util.matching.Regex" id="158989">key</a>: <span title="scala.util.matching.Regex">Regex</span>, <a title="scala.util.parsing.json.JSONType" id="158990">json</a>: <span title="scala.util.parsing.json.JSONType">JSONType</span><span class="delimiter">)</span>: <span title="Option[scala.util.parsing.json.JSONType]">Option</span><span class="delimiter">[</span>JSONType<span class="delimiter">]</span> = <a href="#62352" title="(json: scala.util.parsing.json.JSONType, targetKey: Any =&gt; Boolean)Option[scala.util.parsing.json.JSONType]">findDeep</a><span class="delimiter">(</span><a href="#158990" title="scala.util.parsing.json.JSONType">json</a>, <span class="delimiter">(</span>k: <span title="Any">Any</span><span class="delimiter">)</span> =&gt; <a href="../text/Regexes.scala.html#36495" title="implicit org.specs2.text.Regexes.regexMatch : (r: scala.util.matching.Regex)org.specs2.text.Regexes.RegexMatch">key</a> <a href="../text/Regexes.scala.html#159006" title="(s: String)Boolean">matches</a> <a href="#158999" title="Any">k</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span>
  <span class="comment">/**
   * @return findDeep with a Regex or a String
   */</span>
  <span class="keyword">def</span> <a title="(key: Any, json: scala.util.parsing.json.JSONType)Option[scala.util.parsing.json.JSONType]" id="62351">findDeep</a><span class="delimiter">(</span><a title="Any" id="158979">key</a>: <span title="Any">Any</span>, <a title="scala.util.parsing.json.JSONType" id="158980">json</a>: <span title="scala.util.parsing.json.JSONType">JSONType</span><span class="delimiter">)</span>: <span title="Option[scala.util.parsing.json.JSONType]">Option</span><span class="delimiter">[</span>JSONType<span class="delimiter">]</span> = <a href="#158979" title="Any">key</a> <span title="Option[scala.util.parsing.json.JSONType]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="Option[scala.util.parsing.json.JSONType]" id="159012">k</a>: <span title="scala.util.matching.Regex">Regex</span> =&gt; <a href="#62350" title="(key: scala.util.matching.Regex, json: scala.util.parsing.json.JSONType)Option[scala.util.parsing.json.JSONType]">findDeep</a><span class="delimiter">(</span><a href="#159012" title="scala.util.matching.Regex">k</a>, <a href="#158980" title="scala.util.parsing.json.JSONType">json</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="Option[scala.util.parsing.json.JSONType]" id="159019">other</a>    =&gt; <a href="#62349" title="(key: String, json: scala.util.parsing.json.JSONType)Option[scala.util.parsing.json.JSONType]">findDeep</a><span class="delimiter">(</span><a href="../text/NullString.scala.html#39777" title="implicit org.specs2.text.NotNullStrings.anyToNotNull : (a: Any)org.specs2.text.NotNullStrings.NotNullAny">other</a>.<a href="../text/NullString.scala.html#63326" title="=&gt; String">notNull</a>, <a href="#158980" title="scala.util.parsing.json.JSONType">json</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * @return findDeep with a key equality function
   */</span>
  <span class="keyword">def</span> <a title="(json: scala.util.parsing.json.JSONType, targetKey: Any =&gt; Boolean)Option[scala.util.parsing.json.JSONType]" id="62352">findDeep</a><span class="delimiter">(</span><a title="scala.util.parsing.json.JSONType" id="158976">json</a>: <span title="scala.util.parsing.json.JSONType">JSONType</span>, <a title="Any =&gt; Boolean" id="158977">targetKey</a>: Any =&gt; Boolean<span class="delimiter">)</span>: <span title="Option[scala.util.parsing.json.JSONType]">Option</span><span class="delimiter">[</span>JSONType<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Seq[Any]" id="159028">seq</a> = <a href="#10557" title="Json.this.type">collect</a><a href="#158806" title="Any =&gt; Seq[Nothing]" id="159101" class="delimiter">(</a><a href="#158976" title="scala.util.parsing.json.JSONType" id="159050">json</a><span class="delimiter">)</span><span class="delimiter">(</span> keyedValues = <a href="#159054" title="(Any, Any) =&gt; Seq[Any]" id="159098" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="Seq[Any]" class="delimiter">(</span><a title="Any" id="159064">k</a>, <a title="Any" id="159065">v</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#158977" title="(v1: Any)Boolean">targetKey</a><span class="delimiter">(</span><a href="#159064" title="Any">k</a><span class="delimiter">)</span> =&gt; <span title="(elems: Any*)Seq[Any]">Seq</span><span class="delimiter">(</span><a href="#159065" title="Any">v</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="scala.collection.immutable.Nil.type" id="159070">other</a>                =&gt; <span title="object Nil">Nil</span>
    <span class="delimiter">}</span>, keyedObjects = <a href="#159074" title="(Any, Any) =&gt; Seq[Any]" id="159099" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="Seq[Any]" class="delimiter">(</span><a title="Any" id="159084">k</a>, <a title="Any" id="159085">o</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#158977" title="(v1: Any)Boolean">targetKey</a><span class="delimiter">(</span><a href="#159084" title="Any">k</a><span class="delimiter">)</span> =&gt; <span title="(elems: Any*)Seq[Any]">Seq</span><span class="delimiter">(</span><a href="#159085" title="Any">o</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="scala.collection.immutable.Nil.type" id="159089">other</a>                =&gt; <span title="object Nil">Nil</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>
    <a href="#159028" title="Seq[Any]">seq</a> <span title="Option[scala.util.parsing.json.JSONType]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="None.type">Nil</span>                   =&gt; <span title="object None">None</span>
      <span class="keyword">case</span> <span title="Some[scala.util.parsing.json.JSONType]" class="delimiter">(</span><a title="scala.util.parsing.json.JSONType" id="159106">o</a>: <span title="scala.util.parsing.json.JSONType">JSONType</span><span class="delimiter">)</span> :: <span title="object Nil">Nil</span>  =&gt; <span title="(x: scala.util.parsing.json.JSONType)Some[scala.util.parsing.json.JSONType]">Some</span><span class="delimiter">(</span><a href="#159106" title="scala.util.parsing.json.JSONType">o</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Some[scala.util.parsing.json.JSONArray]" id="159110">other</a>                 =&gt; <span title="(x: scala.util.parsing.json.JSONArray)Some[scala.util.parsing.json.JSONArray]">Some</span><span class="delimiter">(</span><span title="(list: List[Any])scala.util.parsing.json.JSONArray">JSONArray</span><span class="delimiter">(</span><a href="#159028" title="Seq[Any]">seq</a>.<span title="=&gt; List[Any]">toList</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * @return the JSON object that's addressed by a key if the document is a Map
   */</span>
  <span class="keyword">def</span> <a title="(key: String, json: scala.util.parsing.json.JSONType)Option[scala.util.parsing.json.JSONType]" id="62353">find</a><span class="delimiter">(</span><a title="String" id="159141">key</a>: <span title="String">String</span>, <a title="scala.util.parsing.json.JSONType" id="159142">json</a>: <span title="scala.util.parsing.json.JSONType">JSONType</span><span class="delimiter">)</span>: <span title="Option[scala.util.parsing.json.JSONType]">Option</span><span class="delimiter">[</span>JSONType<span class="delimiter">]</span> = <a href="#159142" title="scala.util.parsing.json.JSONType">json</a> <span title="Option[scala.util.parsing.json.JSONType]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Option[scala.util.parsing.json.JSONType]">JSONObject</span><span class="delimiter">(</span><a title="Map[String,Any]" id="159169">map</a><span class="delimiter">)</span> =&gt; <a href="#159169" title="Map[String,Any]">map</a>.<span title="(key: String)Option[Any]">get</span><span class="delimiter">(</span><a href="#159141" title="String">key</a><span class="delimiter">)</span> <span title="(f: Any =&gt; scala.util.parsing.json.JSONType)Option[scala.util.parsing.json.JSONType]">map</span> <a href="#159176" title="scala.util.parsing.json.JSONType" class="delimiter">{</a> <span class="keyword">case</span> <span title="scala.util.parsing.json.JSONType" class="delimiter">(</span><a title="scala.util.parsing.json.JSONType" id="159177">o</a>: <span title="scala.util.parsing.json.JSONType">JSONType</span><span class="delimiter">)</span> =&gt; <a href="#159177" title="scala.util.parsing.json.JSONType">o</a> <span class="delimiter">}</span>
    <span class="keyword">case</span> <a title="None.type" id="159179">other</a>           =&gt; <span title="object None">None</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * @return the JSON object that's addressed by a key if the document is a Map, and the key matches a regular expression
   */</span>
  <span class="keyword">def</span> <a title="(keyRegex: scala.util.matching.Regex, json: scala.util.parsing.json.JSONType)Option[scala.util.parsing.json.JSONType]" id="62354">find</a><span class="delimiter">(</span><a title="scala.util.matching.Regex" id="159180">keyRegex</a>: <span title="scala.util.matching.Regex">Regex</span>, <a title="scala.util.parsing.json.JSONType" id="159181">json</a>: <span title="scala.util.parsing.json.JSONType">JSONType</span><span class="delimiter">)</span>: <span title="Option[scala.util.parsing.json.JSONType]">Option</span><span class="delimiter">[</span>JSONType<span class="delimiter">]</span> = <a href="#159181" title="scala.util.parsing.json.JSONType">json</a> <span title="Option[scala.util.parsing.json.JSONType]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Option[scala.util.parsing.json.JSONType]">JSONObject</span><span class="delimiter">(</span><a title="Map[String,Any]" id="159183">map</a><span class="delimiter">)</span> =&gt; <a href="#159183" title="Map[String,Any]">map</a>.<span title="=&gt; Iterator[(String, Any)]">iterator</span>.<span title="=&gt; Seq[(String, Any)]">toSeq</span>.<span title="(pf: PartialFunction[(String, Any),Any])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[(String, Any)],Any,Seq[Any]])Seq[Any]">collect</span> <a href="#159204" title="Any" class="delimiter">{</a> <span class="keyword">case</span> <span title="Any" class="delimiter">(</span><a title="String" id="159207">k</a>, <a title="Any" id="159208">v</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../text/Regexes.scala.html#36495" title="implicit org.specs2.text.Regexes.regexMatch : (r: scala.util.matching.Regex)org.specs2.text.Regexes.RegexMatch">keyRegex</a> <a href="../text/Regexes.scala.html#159006" title="(s: String)Boolean">matches</a> <a href="#159207" title="String">k</a> =&gt; <a href="#159208" title="Any">v</a> <span class="delimiter">}</span>.<span title="=&gt; Option[Any]">headOption</span> <span title="(f: Any =&gt; scala.util.parsing.json.JSONType)Option[scala.util.parsing.json.JSONType]">map</span> <a href="#159233" title="scala.util.parsing.json.JSONType" class="delimiter">{</a> <span class="keyword">case</span> <span title="scala.util.parsing.json.JSONType" class="delimiter">(</span><a title="scala.util.parsing.json.JSONType" id="159234">o</a>: <span title="scala.util.parsing.json.JSONType">JSONType</span><span class="delimiter">)</span> =&gt; <a href="#159234" title="scala.util.parsing.json.JSONType">o</a> <span class="delimiter">}</span>
    <span class="keyword">case</span> <a title="None.type" id="159236">other</a>           =&gt; <span title="object None">None</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * @return find with a Regex or a String
   */</span>
  <span class="keyword">def</span> <a title="(key: Any, json: scala.util.parsing.json.JSONType)Option[scala.util.parsing.json.JSONType]" id="62355">find</a><span class="delimiter">(</span><a title="Any" id="159237">key</a>: <span title="Any">Any</span>, <a title="scala.util.parsing.json.JSONType" id="159238">json</a>: <span title="scala.util.parsing.json.JSONType">JSONType</span><span class="delimiter">)</span>: <span title="Option[scala.util.parsing.json.JSONType]">Option</span><span class="delimiter">[</span>JSONType<span class="delimiter">]</span> = <a href="#159237" title="Any">key</a> <span title="Option[scala.util.parsing.json.JSONType]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="Option[scala.util.parsing.json.JSONType]" id="159240">k</a>: <span title="scala.util.matching.Regex">Regex</span> =&gt; <a href="#62354" title="(keyRegex: scala.util.matching.Regex, json: scala.util.parsing.json.JSONType)Option[scala.util.parsing.json.JSONType]">find</a><span class="delimiter">(</span><a href="#159240" title="scala.util.matching.Regex">k</a>, <a href="#159238" title="scala.util.parsing.json.JSONType">json</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="Option[scala.util.parsing.json.JSONType]" id="159247">other</a>    =&gt; <a href="#62353" title="(key: String, json: scala.util.parsing.json.JSONType)Option[scala.util.parsing.json.JSONType]">find</a><span class="delimiter">(</span><a href="../text/NullString.scala.html#39777" title="implicit org.specs2.text.NotNullStrings.anyToNotNull : (a: Any)org.specs2.text.NotNullStrings.NotNullAny">other</a>.<a href="../text/NullString.scala.html#63326" title="=&gt; String">notNull</a>, <a href="#159238" title="scala.util.parsing.json.JSONType">json</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * generic collect operation to iterate through the JSON tree and get values and objects
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[T](json: scala.util.parsing.json.JSONType)(values: Any =&gt; Seq[T], objects: scala.util.parsing.json.JSONType =&gt; Seq[T], keyedValues: (Any, Any) =&gt; Seq[T], keyedObjects: (Any, Any) =&gt; Seq[T])Seq[T]" id="62356">collect</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="158808">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.util.parsing.json.JSONType" id="158844">json</a>: <span title="scala.util.parsing.json.JSONType">JSONType</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="Any =&gt; Seq[T]" id="158806">values</a>: Any =&gt; Seq<span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#62359" title="Any =&gt; Seq[Nothing]">vs</a>,
                                         <a title="scala.util.parsing.json.JSONType =&gt; Seq[T]" id="158809">objects</a>: JSONType =&gt; Seq<span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#62362" title="scala.util.parsing.json.JSONType =&gt; Seq[Nothing]">os</a>,
                                         <a title="(Any, Any) =&gt; Seq[T]" id="158812">keyedValues</a>: <span class="delimiter">(</span>Any, Any<span class="delimiter">)</span>  =&gt; Seq<span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#62365" title="(Any, Any) =&gt; Seq[Nothing]">kvs</a>,
                                         <a title="(Any, Any) =&gt; Seq[T]" id="158815">keyedObjects</a>: <span class="delimiter">(</span>Any, Any<span class="delimiter">)</span> =&gt; Seq<span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#62365" title="(Any, Any) =&gt; Seq[Nothing]">kvs</a><span class="delimiter">)</span>: <span title="Seq[T]">Seq</span><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#158844" title="scala.util.parsing.json.JSONType">json</a> <span title="Seq[T]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Seq[T]">JSONObject</span><span class="delimiter">(</span><a title="Map[String,Any]" id="159260">map</a><span class="delimiter">)</span> =&gt; <a href="#159260" title="Map[String,Any]">map</a>.<span title="=&gt; List[(String, Any)]">toList</span>.<span title="(f: ((String, Any)) =&gt; scala.collection.GenTraversableOnce[T])(implicit bf: scala.collection.generic.CanBuildFrom[List[(String, Any)],T,Seq[T]])Seq[T]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,T,List[T]]" class="delimiter">{</span> <a title="(String, Any)" id="159291">v</a> =&gt; <a href="#159291" title="(String, Any)">v</a> <span title="Seq[T]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Seq[T]" class="delimiter">(</span><a title="String" id="159294">k</a>, <span class="delimiter">(</span><a title="scala.util.parsing.json.JSONType" id="159295">o</a>: <span title="scala.util.parsing.json.JSONType">JSONType</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#158809" title="(v1: scala.util.parsing.json.JSONType)Seq[T]">objects</a><span class="delimiter">(</span><a href="#159295" title="scala.util.parsing.json.JSONType">o</a><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[T])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[T],T,Seq[T]])Seq[T]">++</span> <a href="#158815" title="(v1: Any, v2: Any)Seq[T]">keyedObjects</a><span class="delimiter">(</span><a href="#159294" title="String">k</a>, <a href="#159295" title="scala.util.parsing.json.JSONType">o</a><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[T])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[T],T,Seq[T]])Seq[T]">++</span> <a href="#62356" title="(json: scala.util.parsing.json.JSONType)(values: Any =&gt; Seq[T], objects: scala.util.parsing.json.JSONType =&gt; Seq[T], keyedValues: (Any, Any) =&gt; Seq[T], keyedObjects: (Any, Any) =&gt; Seq[T])Seq[T]">collect</a><span class="delimiter">(</span><a href="#159295" title="scala.util.parsing.json.JSONType">o</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#158806" title="Any =&gt; Seq[T]">values</a>, <a href="#158809" title="scala.util.parsing.json.JSONType =&gt; Seq[T]">objects</a>, <a href="#158812" title="(Any, Any) =&gt; Seq[T]">keyedValues</a>, <a href="#158815" title="(Any, Any) =&gt; Seq[T]">keyedObjects</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Seq[T]" class="delimiter">(</span><a title="String" id="159410">k</a>, <a title="Any" id="159411">v</a><span class="delimiter">)</span>             =&gt; <a href="#158806" title="(v1: Any)Seq[T]">values</a><span class="delimiter">(</span><a href="#159411" title="Any">v</a><span class="delimiter">)</span>  <span title="(that: scala.collection.GenTraversableOnce[T])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[T],T,Seq[T]])Seq[T]">++</span> <a href="#158812" title="(v1: Any, v2: Any)Seq[T]">keyedValues</a><span class="delimiter">(</span><a href="#159410" title="String">k</a>, <a href="#159411" title="Any">v</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">case</span> <span title="Seq[T]">JSONArray</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="scala.util.parsing.json.JSONType" id="159492">o</a>: <span title="scala.util.parsing.json.JSONType">JSONType</span><span class="delimiter">)</span> :: <a title="List[Any]" id="159493">rest</a><span class="delimiter">)</span> =&gt; <a href="#158809" title="(v1: scala.util.parsing.json.JSONType)Seq[T]">objects</a><span class="delimiter">(</span><a href="#159492" title="scala.util.parsing.json.JSONType">o</a><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[T])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[T],T,Seq[T]])Seq[T]">++</span>
                                             <a href="#62356" title="(json: scala.util.parsing.json.JSONType)(values: Any =&gt; Seq[T], objects: scala.util.parsing.json.JSONType =&gt; Seq[T], keyedValues: (Any, Any) =&gt; Seq[T], keyedObjects: (Any, Any) =&gt; Seq[T])Seq[T]">collect</a><span class="delimiter">(</span><a href="#159492" title="scala.util.parsing.json.JSONType">o</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#158806" title="Any =&gt; Seq[T]">values</a>, <a href="#158809" title="scala.util.parsing.json.JSONType =&gt; Seq[T]">objects</a>, <a href="#158812" title="(Any, Any) =&gt; Seq[T]">keyedValues</a>, <a href="#158815" title="(Any, Any) =&gt; Seq[T]">keyedObjects</a><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[T])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[T],T,Seq[T]])Seq[T]">++</span>
                                             <a href="#62356" title="(json: scala.util.parsing.json.JSONType)(values: Any =&gt; Seq[T], objects: scala.util.parsing.json.JSONType =&gt; Seq[T], keyedValues: (Any, Any) =&gt; Seq[T], keyedObjects: (Any, Any) =&gt; Seq[T])Seq[T]">collect</a><span class="delimiter">(</span><span title="(list: List[Any])scala.util.parsing.json.JSONArray">JSONArray</span><span class="delimiter">(</span><a href="#159493" title="List[Any]">rest</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#158806" title="Any =&gt; Seq[T]">values</a>, <a href="#158809" title="scala.util.parsing.json.JSONType =&gt; Seq[T]">objects</a>, <a href="#158812" title="(Any, Any) =&gt; Seq[T]">keyedValues</a>, <a href="#158815" title="(Any, Any) =&gt; Seq[T]">keyedObjects</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Seq[T]">JSONArray</span><span class="delimiter">(</span><a title="Any" id="159627">other</a> :: <a title="List[Any]" id="159628">rest</a><span class="delimiter">)</span>         =&gt; <a href="#158806" title="(v1: Any)Seq[T]">values</a><span class="delimiter">(</span><a href="#159627" title="Any">other</a><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[T])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[T],T,Seq[T]])Seq[T]">++</span>
                                             <a href="#62356" title="(json: scala.util.parsing.json.JSONType)(values: Any =&gt; Seq[T], objects: scala.util.parsing.json.JSONType =&gt; Seq[T], keyedValues: (Any, Any) =&gt; Seq[T], keyedObjects: (Any, Any) =&gt; Seq[T])Seq[T]">collect</a><span class="delimiter">(</span><span title="(list: List[Any])scala.util.parsing.json.JSONArray">JSONArray</span><span class="delimiter">(</span><a href="#159628" title="List[Any]">rest</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#158806" title="Any =&gt; Seq[T]">values</a>, <a href="#158809" title="scala.util.parsing.json.JSONType =&gt; Seq[T]">objects</a>, <a href="#158812" title="(Any, Any) =&gt; Seq[T]">keyedValues</a>, <a href="#158815" title="(Any, Any) =&gt; Seq[T]">keyedObjects</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">JSONArray</span><span class="delimiter">(</span><span title="object Nil">Nil</span><span class="delimiter">)</span>                   =&gt; <span title="object Nil">Nil</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[T]=&gt; Any =&gt; Seq[T]" id="62359">vs</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="62361">T</a><span class="delimiter">]</span>  = <span class="delimiter">(</span>a: <span title="Any">Any</span><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span><span title="object Nil">Nil</span>:<span title="Seq[T]">Seq</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[T]=&gt; scala.util.parsing.json.JSONType =&gt; Seq[T]" id="62362">os</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="62364">T</a><span class="delimiter">]</span>  = <span class="delimiter">(</span>a: <span title="scala.util.parsing.json.JSONType">JSONType</span><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span><span title="object Nil">Nil</span>:<span title="Seq[T]">Seq</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[T]=&gt; (Any, Any) =&gt; Seq[T]" id="62365">kvs</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="62367">T</a><span class="delimiter">]</span> = <span class="delimiter">(</span>k: <span title="Any">Any</span>, v: <span title="Any">Any</span><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span><span title="object Nil">Nil</span>:<span title="Seq[T]">Seq</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>
<span class="delimiter">}</span>
<span class="keyword">private</span><span class="delimiter">[</span>specs2<span class="delimiter">]</span>
<span class="keyword">object</span> <a title="object org.specs2.json.Json" id="10558">Json</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10557" title="org.specs2.json.Json">Jso</a>n
        </pre>
    </body>
</html>