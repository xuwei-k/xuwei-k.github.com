<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>org/specs2/xml/Nodex.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> org.specs2
<span class="keyword">package</span> xml

<span class="keyword">import</span> scala.xml._

<span class="comment">/**
 * Extension methods for NodeSeqs and Nodes
 */</span>
<span class="keyword">private</span><span class="delimiter">[</span>specs2<span class="delimiter">]</span>
<span class="keyword">trait</span> <a title="trait Nodex extends java.lang.Object with ScalaObject" id="13372">Nodex</a> <span title="ScalaObject" class="delimiter">{</span> outer =&gt;
  <span class="comment">/** extend a NodeSeq */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit org.specs2.xml.Nodex.extendNodeSeq : (ns: scala.xml.NodeSeq)Nodex.this.ExtendedNodeSeq" id="62833">extendNodeSeq</a><span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="127433">ns</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span>: <a href="#62834" title="Nodex.this.ExtendedNodeSeq">ExtendedNodeSeq</a> = <span title="Nodex.this.ExtendedNodeSeq" class="keyword">new</span> <a href="#62834" title="Nodex.this.ExtendedNodeSeq">ExtendedNodeSeq</a><span class="delimiter">(</span><a href="#127433" title="scala.xml.NodeSeq">ns</a><span class="delimiter">)</span>
  <span class="comment">/**
   * This class adds more methods to the NodeSeq class
   */</span>
  <span class="keyword">class</span> <a title="class ExtendedNodeSeq extends java.lang.Object with ScalaObject" id="62834">ExtendedNodeSeq</a><a href="#62834" title="ScalaObject" class="delimiter">(</a><a title="scala.xml.NodeSeq" id="437428">ns</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(n: scala.xml.NodeSeq)Boolean" id="129295">==/</a><span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="437431">n</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="NodeFunctions.scala.html#13366" title="object org.specs2.xml.NodeFunctions">NodeFunctions</a>.<a href="NodeFunctions.scala.html#62852" title="(node: scala.xml.NodeSeq, n: scala.xml.NodeSeq)Boolean">isEqualIgnoringSpace</a><span class="delimiter">(</span><a href="#437428" title="scala.xml.NodeSeq">ns</a>, <a href="#437431" title="scala.xml.NodeSeq">n</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(n: scala.xml.NodeSeq)Boolean" id="129296">isEqualIgnoringSpace</a><span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="437435">n</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="NodeFunctions.scala.html#13366" title="object org.specs2.xml.NodeFunctions">NodeFunctions</a>.<a href="NodeFunctions.scala.html#62852" title="(node: scala.xml.NodeSeq, n: scala.xml.NodeSeq)Boolean">isEqualIgnoringSpace</a><span class="delimiter">(</span><a href="#437428" title="scala.xml.NodeSeq">ns</a>, <a href="#437435" title="scala.xml.NodeSeq">n</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(n: scala.xml.NodeSeq)Boolean" id="129297">isEqualIgnoringSpaceOrdered</a><span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="437439">n</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="NodeFunctions.scala.html#13366" title="object org.specs2.xml.NodeFunctions">NodeFunctions</a>.<a href="NodeFunctions.scala.html#62851" title="(node: scala.xml.NodeSeq, n: scala.xml.NodeSeq)Boolean">isEqualIgnoringSpaceOrdered</a><span class="delimiter">(</span><a href="#437428" title="scala.xml.NodeSeq">ns</a>, <a href="#437439" title="scala.xml.NodeSeq">n</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(condition: scala.xml.Node =&gt; Boolean, recurse: scala.xml.Node =&gt; Boolean)scala.xml.NodeSeq" id="129298">filterNodes</a><span class="delimiter">(</span><a title="scala.xml.Node =&gt; Boolean" id="147633">condition</a>: Node =&gt; Boolean, <a title="scala.xml.Node =&gt; Boolean" id="147637">recurse</a>: Node =&gt; Boolean = <span class="delimiter">(</span>e: <span title="scala.xml.Node">Node</span><span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> = <a href="NodeFunctions.scala.html#13366" title="object org.specs2.xml.NodeFunctions">NodeFunctions</a>.<a href="NodeFunctions.scala.html#62856" title="(nodes: scala.xml.NodeSeq, condition: scala.xml.Node =&gt; Boolean, recurse: scala.xml.Node =&gt; Boolean)scala.xml.NodeSeq">filter</a><span class="delimiter">(</span><a href="#437428" title="scala.xml.NodeSeq">ns</a>, <a href="#147633" title="scala.xml.Node =&gt; Boolean">condition</a>, <a href="#147637" title="scala.xml.Node =&gt; Boolean">recurse</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit org.specs2.xml.Nodex.extendNode : (n: scala.xml.Node)Nodex.this.ExtendedNode" id="62835">extendNode</a><span class="delimiter">(</span><a title="scala.xml.Node" id="127400">n</a>: <span title="scala.xml.Node">Node</span><span class="delimiter">)</span>: <a href="#62836" title="Nodex.this.ExtendedNode">ExtendedNode</a> = <span title="Nodex.this.ExtendedNode" class="keyword">new</span> <a href="#62836" title="Nodex.this.ExtendedNode">ExtendedNode</a><span class="delimiter">(</span><a href="#127400" title="scala.xml.Node">n</a><span class="delimiter">)</span>
  <span class="comment">/**
   * This class adds more methods to the Node class
   */</span>
  <span class="keyword">class</span> <a title="class ExtendedNode extends java.lang.Object with ScalaObject" id="62836">ExtendedNode</a><a href="#62836" title="ScalaObject" class="delimiter">(</a><a title="scala.xml.Node" id="437447">n</a>: <span title="scala.xml.Node">Node</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="comment">/**
     * @return true if the Node represents some empty text (containing spaces or newlines)
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="129290">isSpaceNode</a>: <span title="Boolean">Boolean</span> = <a href="NodeFunctions.scala.html#13366" title="object org.specs2.xml.NodeFunctions">NodeFunctions</a>.<a href="NodeFunctions.scala.html#62849" title="(n1: scala.xml.Node)Boolean">isSpaceNode</a><span class="delimiter">(</span><a href="#437447" title="scala.xml.Node">n</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(other: scala.xml.Node, attributes: List[String], attributeValues: Map[String,String], exactMatch: Boolean, textTest: String =&gt; Boolean)Boolean" id="129291">matchNode</a><span class="delimiter">(</span><a title="scala.xml.Node" id="259978">other</a>: <span title="scala.xml.Node">Node</span>,
                  <a title="List[String]" id="259985">attributes</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="object Nil">Nil</span>,
                  <a title="Map[String,String]" id="259986">attributeValues</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <span title="(elems: (String, Nothing)*)scala.collection.immutable.Map[String,Nothing]">Map</span><span class="delimiter">(</span><span class="delimiter">)</span>,
                  <a title="Boolean" id="259987">exactMatch</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>,
                  <a title="String =&gt; Boolean" id="259988">textTest</a>: String =&gt; Boolean = <span class="delimiter">(</span>s:<span title="String">String</span><span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> =
      <a href="NodeFunctions.scala.html#13366" title="object org.specs2.xml.NodeFunctions">NodeFunctions</a>.<a href="NodeFunctions.scala.html#62855" title="(node: scala.xml.Node, other: scala.xml.Node, attributes: List[String], attributeValues: Map[String,String], exactMatch: Boolean, textTest: String =&gt; Boolean)Boolean">matchNode</a><span class="delimiter">(</span><a href="#437447" title="scala.xml.Node">n</a>, <a href="#259978" title="scala.xml.Node">other</a>, <a href="#259985" title="List[String]">attributes</a>, <a href="#259986" title="Map[String,String]">attributeValues</a>, <a href="#259987" title="Boolean">exactMatch</a>, <a href="#259988" title="String =&gt; Boolean">textTest</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit org.specs2.xml.Nodex.reducable : (ns: Seq[scala.xml.NodeSeq])Nodex.this.Reducable" id="62837">reducable</a><span class="delimiter">(</span><a title="Seq[scala.xml.NodeSeq]" id="127392">ns</a>: <span title="Seq[scala.xml.NodeSeq]">Seq</span><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="Nodex.this.Reducable" class="keyword">new</span> <a href="#62838" title="Nodex.this.Reducable">Reducable</a><span class="delimiter">(</span><a href="#127392" title="Seq[scala.xml.NodeSeq]">ns</a><span class="delimiter">)</span>
  <span class="keyword">class</span> <a title="class Reducable extends java.lang.Object with ScalaObject" id="62838">Reducable</a><a href="#62838" title="ScalaObject" class="delimiter">(</a><a title="Seq[scala.xml.NodeSeq]" id="127399">ns</a>: <span title="Seq[scala.xml.NodeSeq]">Seq</span><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; scala.xml.NodeSeq" id="127398">reduceNodes</a> = <a href="#127399" title="Seq[scala.xml.NodeSeq]">ns</a>.<span title="(z: scala.xml.NodeSeq)(op: (scala.xml.NodeSeq, scala.xml.NodeSeq) =&gt; scala.xml.NodeSeq)scala.xml.NodeSeq">foldLeft</span><span class="delimiter">(</span><span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; scala.xml.NodeSeq">Empty</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="128058">res</a>, <a title="scala.xml.NodeSeq" id="128059">cur</a><span class="delimiter">)</span> =&gt; <a href="#128058" title="scala.xml.NodeSeq">res</a> <span title="(that: scala.collection.GenTraversableOnce[scala.xml.Node])(implicit bf: scala.collection.generic.CanBuildFrom[scala.xml.NodeSeq,scala.xml.Node,scala.xml.NodeSeq])scala.xml.NodeSeq">++</span> <a href="#128059" title="scala.xml.NodeSeq">cur</a> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * reduce a sequence of T's with a function transforming T's to NodeSeq
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[T](ns: Seq[T])Nodex.this.AnyReducable[T]" id="62839">anyReducable</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="62841">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Seq[T]" id="127362">ns</a>: <span title="Seq[T]">Seq</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="Nodex.this.AnyReducable[T]" class="keyword">new</span> <a href="#62842" title="Nodex.this.AnyReducable[T]">AnyReducable</a><span class="delimiter">(</span><a href="#127362" title="Seq[T]">ns</a><span class="delimiter">)</span>
  <span class="keyword">class</span> <a title="class AnyReducable[T] extends java.lang.Object with ScalaObject" id="62842">AnyReducable</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="62843">T</a><span class="delimiter">]</span><a href="#62842" title="ScalaObject" class="delimiter">(</a><a title="Seq[T]" id="127370">ns</a>: <span title="Seq[T]">Seq</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(f: T =&gt; scala.xml.NodeSeq)scala.xml.NodeSeq" id="127368">reduceNodes</a><span class="delimiter">(</span><a title="T =&gt; scala.xml.NodeSeq" id="127985">f</a>: T =&gt; NodeSeq<span class="delimiter">)</span> = <a href="#127370" title="Seq[T]">ns</a>.<span title="(z: scala.xml.NodeSeq)(op: (scala.xml.NodeSeq, T) =&gt; scala.xml.NodeSeq)scala.xml.NodeSeq">foldLeft</span><span class="delimiter">(</span><span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; scala.xml.NodeSeq">Empty</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="128000">res</a>, <a title="T" id="128001">cur</a><span class="delimiter">)</span> =&gt; <a href="#128000" title="scala.xml.NodeSeq">res</a> <span title="(that: scala.collection.GenTraversableOnce[scala.xml.Node])(implicit bf: scala.collection.generic.CanBuildFrom[scala.xml.NodeSeq,scala.xml.Node,scala.xml.NodeSeq])scala.xml.NodeSeq">++</span> <a href="#127985" title="(v1: T)scala.xml.NodeSeq">f</a><span class="delimiter">(</span><a href="#128001" title="T">cur</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * this implicit definition adds an 'unless' method to a NodeSeq so that it is only evaluated if a condition is true.
   * Otherwise NodeSeq.Empty is returned
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit org.specs2.xml.Nodex.unless : (ns: =&gt; scala.xml.NodeSeq)Nodex.this.UnlessEmpty" id="62844">unless</a><span class="delimiter">(</span><a title="=&gt; scala.xml.NodeSeq" id="127360">ns</a>: =&gt;NodeSeq<span class="delimiter">)</span>: <a href="#62845" title="Nodex.this.UnlessEmpty">UnlessEmpty</a> = <span title="Nodex.this.UnlessEmpty" class="keyword">new</span> <a href="#62845" title="Nodex.this.UnlessEmpty">UnlessEmpty</a><span class="delimiter">(</span><a href="#127360" title="=&gt; scala.xml.NodeSeq">ns</a><span class="delimiter">)</span>
  <span class="keyword">class</span> <a title="class UnlessEmpty extends java.lang.Object with ScalaObject" id="62845">UnlessEmpty</a><a href="#62845" title="ScalaObject" class="delimiter">(</a><a title="=&gt; scala.xml.NodeSeq" id="437476">ns</a>: =&gt;NodeSeq<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(b: Boolean)scala.xml.NodeSeq" id="127447">unless</a><span class="delimiter">(</span><a title="Boolean" id="130094">b</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <span title="scala.xml.NodeSeq" class="keyword">if</span> <span class="delimiter">(</span><a href="#130094" title="Boolean">b</a><span class="delimiter">)</span> <span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; scala.xml.NodeSeq">Empty</span> <span class="keyword">else</span> <a href="#437476" title="=&gt; scala.xml.NodeSeq">ns</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * @return an unprefixed attribute from pair
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit org.specs2.xml.Nodex.pairToUnprefixedAttribute : (pair: (Any, Any))scala.xml.UnprefixedAttribute" id="62846">pairToUnprefixedAttribute</a><span class="delimiter">(</span><a title="(Any, Any)" id="127085">pair</a>: <span title="(Any, Any)">Tuple2</span><span class="delimiter">[</span>Any, Any<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="(key: String, value: String, next: scala.xml.MetaData)scala.xml.UnprefixedAttribute" class="keyword">new</span> <span title="scala.xml.UnprefixedAttribute">UnprefixedAttribute</span><span class="delimiter">(</span><a href="#127085" title="(Any, Any)">pair</a>.<span title="=&gt; Any">_1</span>.<span title="()java.lang.String">toString</span>, <a href="#127085" title="(Any, Any)">pair</a>.<span title="=&gt; Any">_2</span>.<span title="()java.lang.String">toString</span>, <span title="object scala.xml.Null">Null</span><span class="delimiter">)</span>

<span class="delimiter">}</span>
<span class="keyword">private</span><span class="delimiter">[</span>specs2<span class="delimiter">]</span>
<span class="keyword">object</span> <a title="object org.specs2.xml.Nodex" id="13373">Nodex</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#13372" title="org.specs2.xml.Nodex">Nodex</a>

        </pre>
    </body>
</html>