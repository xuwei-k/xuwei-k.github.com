<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>org/specs2/text/AnsiColors.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> org.specs2
<span class="keyword">package</span> text

<span class="comment">/**
 * This trait provides AnsiColors codes for the OutputReporter
 * @see http://en.wikipedia.org/wiki/ANSI_escape_code
 */</span>
<span class="keyword">trait</span> <a title="trait AnsiColors extends java.lang.Object with ScalaObject" id="13144">AnsiColors</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.lang.String" id="162926">black</a>   = <span title="java.lang.String(&quot;\033[30m&quot;)" class="string">&quot;\033[30m&quot;</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.lang.String" id="162928">red</a>     = <span title="java.lang.String(&quot;\033[31m&quot;)" class="string">&quot;\033[31m&quot;</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.lang.String" id="162930">green</a>   = <span title="java.lang.String(&quot;\033[32m&quot;)" class="string">&quot;\033[32m&quot;</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.lang.String" id="162932">yellow</a>  = <span title="java.lang.String(&quot;\033[33m&quot;)" class="string">&quot;\033[33m&quot;</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.lang.String" id="162934">blue</a>    = <span title="java.lang.String(&quot;\033[34m&quot;)" class="string">&quot;\033[34m&quot;</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.lang.String" id="162936">magenta</a> = <span title="java.lang.String(&quot;\033[35m&quot;)" class="string">&quot;\033[35m&quot;</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.lang.String" id="162938">cyan</a>    = <span title="java.lang.String(&quot;\033[36m&quot;)" class="string">&quot;\033[36m&quot;</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.lang.String" id="162940">white</a>   = <span title="java.lang.String(&quot;\033[37m&quot;)" class="string">&quot;\033[37m&quot;</span>
    
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.lang.String" id="162942">reset</a>   = <span title="java.lang.String(&quot;\033[0m&quot;)" class="string">&quot;\033[0m&quot;</span>
    
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Seq[java.lang.String]" id="162944">all</a> = <span title="(elems: java.lang.String*)Seq[java.lang.String]">Seq</span><span class="delimiter">(</span><a href="#162925" title="=&gt; java.lang.String">black</a>, <a href="#162927" title="=&gt; java.lang.String">red</a>, <a href="#162929" title="=&gt; java.lang.String">green</a>, <a href="#162931" title="=&gt; java.lang.String">yellow</a>, <a href="#162933" title="=&gt; java.lang.String">blue</a>, <a href="#162935" title="=&gt; java.lang.String">magenta</a>, <a href="#162937" title="=&gt; java.lang.String">cyan</a>, <a href="#162939" title="=&gt; java.lang.String">white</a>, <a href="#162941" title="=&gt; java.lang.String">reset</a><span class="delimiter">)</span>

  <span class="comment">/** @return a string with no color codes */</span>
  <span class="keyword">def</span> <a title="(s: String, doIt: Boolean)String" id="162945">removeColors</a><span class="delimiter">(</span><a title="String" id="313496">s</a>: <span title="String">String</span>, <a title="Boolean" id="313499">doIt</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
	  <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#313499" title="Boolean">doIt</a><span class="delimiter">)</span> <a href="#162943" title="=&gt; Seq[java.lang.String]">all</a>.<span title="(z: String)(op: (String, java.lang.String) =&gt; String)String">foldLeft</span> <span class="delimiter">(</span><a href="#313496" title="String">s</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="String" id="414355">res</a>, <a title="java.lang.String" id="414356">cur</a><span class="delimiter">)</span> =&gt; <a href="#414355" title="String">res</a>.<span title="(x$1: java.lang.CharSequence, x$2: java.lang.CharSequence)java.lang.String">replace</span><span class="delimiter">(</span><a href="#414356" title="java.lang.String">cur</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span class="delimiter">}</span>
	  <span class="keyword">else</span>	    <a href="#313496" title="String">s</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * @return a colored string (if args.color == true)
   * color markers are inserted at the beginning and end of each line so that newlines are preserved
   */</span>
  <span class="keyword">def</span> <a title="(s: String, color: String, doIt: Boolean)String" id="162946">color</a><span class="delimiter">(</span><a title="String" id="414361">s</a>: <span title="String">String</span>, <a title="String" id="414362">color</a>: <span title="String">String</span>, <a title="Boolean" id="414366">doIt</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#414366" title="Boolean">doIt</a><span class="delimiter">)</span> <span class="delimiter">{</span>
		  <span class="keyword">val</span> <a title="Array[java.lang.String]" id="414367">colored</a> = <a href="#414361" title="String">s</a>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>.<span title="(p: java.lang.String =&gt; Boolean)Array[java.lang.String]">filter</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><a href="#414547" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">_</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>.<span title="(f: java.lang.String =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[Array[java.lang.String],java.lang.String,Array[java.lang.String]])Array[java.lang.String]">map</span><span title="(implicit m: scala.reflect.ClassManifest[java.lang.String])scala.collection.generic.CanBuildFrom[Array[_],java.lang.String,Array[java.lang.String]]" class="delimiter">(</span><a href="#414362" title="String">color</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#415056" title="java.lang.String">_</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#162941" title="=&gt; java.lang.String">reset</a><span class="delimiter">)</span>
			<span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#414361" title="String">s</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#414361" title="String">s</a>.<span title="(x$1: java.lang.String)Boolean">endsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#414367" title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">colored</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>
			<span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#414361" title="String">s</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>                <a href="#414367" title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">colored</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>  
			<span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#414361" title="String">s</a>.<span title="(x$1: java.lang.String)Boolean">endsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>                  <a href="#414367" title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">colored</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>  
			<span class="keyword">else</span>                                        <a href="#414367" title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">colored</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>  
		<span class="delimiter">}</span>
    <span class="keyword">else</span>      <a href="#162945" title="(s: String, doIt: Boolean)String">removeColors</a><span class="delimiter">(</span><a href="#414361" title="String">s</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="162947">toString</a> = <a href="#162943" title="=&gt; Seq[java.lang.String]">all</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;AnsiColors(&quot;)" class="string">&quot;AnsiColors(&quot;</span>,<span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>,<span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
<span class="delimiter">}</span>
<span class="keyword">object</span> <a title="object org.specs2.text.AnsiColors" id="13145">AnsiColors</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#13144" title="org.specs2.text.AnsiColors">AnsiColors</a>


        </pre>
    </body>
</html>