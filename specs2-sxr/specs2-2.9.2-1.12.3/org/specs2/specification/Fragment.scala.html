<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>org/specs2/specification/Fragment.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> org.specs2
<span class="keyword">package</span> specification

<span class="keyword">import</span> control._
<span class="keyword">import</span> <a href="../control/Exceptions.scala.html#9922" title="object org.specs2.control.Exceptions">Exceptions</a>._
<span class="keyword">import</span> <a href="../control/LazyParameter.scala.html#9955" title="object org.specs2.control.LazyParameters">LazyParameters</a>._
<span class="keyword">import</span> main.Arguments
<span class="keyword">import</span> execute._
<span class="keyword">import</span> text._
<span class="keyword">import</span> <a href="../text/Regexes.scala.html#13287" title="object org.specs2.text.Regexes">Regexes</a>._
<span class="keyword">import</span> org.specs2.internal.scalaz.Monoid
<span class="keyword">import</span> io.Location
<span class="keyword">import</span> scala.Either
<span class="keyword">import</span> data.<span class="delimiter">{</span>SeparatedTags, IncludedExcluded<span class="delimiter">}</span>

<span class="comment">/**
 * A Fragment is a piece of a specification. It can be a piece of text, an action or
 * an Example
 */</span>
<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait Fragment extends java.lang.Object with ScalaObject" id="12773">Fragment</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">val</span> <a title="org.specs2.io.Location" id="36501">location</a>: <a href="../io/Location.scala.html#10510" title="org.specs2.io.Location">Location</a> = <span title="org.specs2.io.Location" class="keyword">new</span> <a href="../io/Location.scala.html#10510" title="org.specs2.io.Location">Location</a>
  <span class="keyword">def</span> <a title="(s: String)Boolean" id="36503">matches</a><span class="delimiter">(</span><a title="String" id="298733">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <span title="Boolean(true)" class="keyword">true</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Start of a specification.
 *
 * This fragment keeps 2 important pieces of information:
 *
 *  - the name of the specification (which is derived from the specification class or from a user-defined title)
 *    That name stores a unique id for the specification
 *  - the arguments for that specification
 */</span>
case <span class="keyword">class</span> <a title="class SpecStart extends java.lang.Object with org.specs2.specification.Fragment with ScalaObject with Product with Serializable" id="351775">SpecStart</a><a href="#351775" title="ScalaObject" class="delimiter">(</a><a title="org.specs2.specification.SpecName" id="301844">specName</a>: <a href="SpecName.scala.html#13075" title="org.specs2.specification.SpecName">SpecName</a>, <a title="org.specs2.main.Arguments" id="301845">arguments</a>: <a href="../main/Arguments.scala.html#10577" title="org.specs2.main.Arguments">Arguments</a> = <a href="../main/Arguments.scala.html#119528" title="(implicit arguments: String*)org.specs2.main.Arguments">Arguments</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a title="org.specs2.specification.Linked" id="301846">linked</a>: <a href="Fragments.scala.html#12822" title="org.specs2.specification.Linked">Linked</a> = <a href="Fragments.scala.html#286834" title="(link: Option[org.specs2.specification.HtmlLink], seeOnly: Boolean, hidden: Boolean)org.specs2.specification.Linked">Linked</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#12773" title="org.specs2.specification.Fragment">Fragment</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="=&gt; String" id="51002">name</a> = <a href="#301844" title="=&gt; org.specs2.specification.SpecName">specName</a>.<a href="SpecName.scala.html#51071" title="=&gt; String">name</a>
  <span class="keyword">def</span> <a title="=&gt; String" id="51003">title</a> = <a href="#301844" title="=&gt; org.specs2.specification.SpecName">specName</a>.<a href="SpecName.scala.html#51070" title="=&gt; String">title</a>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(s: String)Boolean" id="51004">matches</a><span class="delimiter">(</span><a title="String" id="351026">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#51002" title="=&gt; String">name</a> <span title="(x$1: java.lang.String)Boolean">matches</span> <a href="#351026" title="String">s</a>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="51005">toString</a> = <span title="java.lang.String(&quot;SpecStart(&quot;)" class="string">&quot;SpecStart(&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#51003" title="=&gt; String">title</a><span title="(x$1: Any)java.lang.String">+</span><a href="#51006" title="=&gt; java.lang.String">linkToString</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="51006">linkToString</a> = <a href="#301846" title="=&gt; org.specs2.specification.Linked">linked</a>.<a href="Fragments.scala.html#51104" title="=&gt; java.lang.String">linkToString</a>

  <span class="comment">/** the new arguments take precedence over the old ones */</span>
  <span class="keyword">def</span> <a title="(args: org.specs2.main.Arguments)org.specs2.specification.SpecStart" id="51007">withArgs</a><span class="delimiter">(</span><a title="org.specs2.main.Arguments" id="297284">args</a>: <a href="../main/Arguments.scala.html#10577" title="org.specs2.main.Arguments">Arguments</a><span class="delimiter">)</span> = <a href="#301844" title="org.specs2.specification.SpecName" id="297302">copy</a><span class="delimiter">(</span>arguments = <a href="#297284" title="org.specs2.main.Arguments" id="297300">args</a><span class="delimiter">)</span>
  <span class="comment">/** the new arguments take override the old ones where defined */</span>
  <span class="keyword">def</span> <a title="(args: org.specs2.main.Arguments)org.specs2.specification.SpecStart" id="51008">overrideArgs</a><span class="delimiter">(</span><a title="org.specs2.main.Arguments" id="351032">args</a>: <a href="../main/Arguments.scala.html#10577" title="org.specs2.main.Arguments">Arguments</a><span class="delimiter">)</span> = <a href="#301844" title="org.specs2.specification.SpecName" id="351037">copy</a><span class="delimiter">(</span>arguments = <a href="#301845" title="=&gt; org.specs2.main.Arguments">arguments</a>.<a href="../main/Arguments.scala.html#36594" title="(other: org.specs2.main.Arguments)org.specs2.main.Arguments">overrideWith</a><a title="org.specs2.main.Arguments" id="351035" class="delimiter">(</a><a href="#351032" title="org.specs2.main.Arguments">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
  
  <span class="comment">/** @return true if this spec starts only contains a link referencing another specification */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="51009">isSeeOnlyLink</a> = <a href="#301846" title="=&gt; org.specs2.specification.Linked">linked</a>.<a href="Fragments.scala.html#51096" title="=&gt; Boolean">isSeeOnlyLink</a>
  <span class="comment">/** @return true if this spec starts only contains a link including another specification */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="51010">isIncludeLink</a> = <a href="#301846" title="=&gt; org.specs2.specification.Linked">linked</a>.<a href="Fragments.scala.html#51097" title="=&gt; Boolean">isIncludeLink</a>
  <span class="comment">/** @return true if this spec starts only contains a link to another specification */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="51011">isLink</a>        = <a href="#301846" title="=&gt; org.specs2.specification.Linked">linked</a>.<a href="Fragments.scala.html#51098" title="=&gt; Boolean">isLink</a>
  <span class="comment">/** @return true if this spec must not be displayed */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="51012">hidden</a>        = <a href="#301846" title="=&gt; org.specs2.specification.Linked">linked</a>.<a href="Fragments.scala.html#51093" title="=&gt; Boolean">hidden</a>
  <span class="comment">/** @return the html link if any */</span>
  <span class="keyword">def</span> <a title="=&gt; Option[org.specs2.specification.HtmlLink]" id="51013">link</a>          = <a href="#301846" title="=&gt; org.specs2.specification.Linked">linked</a>.<a href="Fragments.scala.html#51089" title="=&gt; Option[org.specs2.specification.HtmlLink]">link</a>
  <span class="comment">/** The name of the specification can be overriden with a user defined title */</span>
  <span class="keyword">def</span> <a title="(n: org.specs2.specification.SpecName)org.specs2.specification.SpecStart" id="51014">withName</a><span class="delimiter">(</span><a title="org.specs2.specification.SpecName" id="351038">n</a>: <a href="SpecName.scala.html#13075" title="org.specs2.specification.SpecName">SpecName</a><span class="delimiter">)</span> = <a href="#351775" title="(specName: org.specs2.specification.SpecName, arguments: org.specs2.main.Arguments, linked: org.specs2.specification.Linked)org.specs2.specification.SpecStart">copy</a><span class="delimiter">(</span>specName = <a href="#301844" title="=&gt; org.specs2.specification.SpecName">specName</a>.<a href="SpecName.scala.html#51083" title="(n: org.specs2.specification.SpecName)org.specs2.specification.SpecName">overrideWith</a><span class="delimiter">(</span><a href="#351038" title="org.specs2.specification.SpecName">n</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="comment">/** @return a non-linked start*/</span>
  <span class="keyword">def</span> <a title="=&gt; org.specs2.specification.SpecStart" id="51015">unlink</a> = <a href="#351775" title="(specName: org.specs2.specification.SpecName, arguments: org.specs2.main.Arguments, linked: org.specs2.specification.Linked)org.specs2.specification.SpecStart">SpecStart</a><span class="delimiter">(</span><a href="#301844" title="=&gt; org.specs2.specification.SpecName">specName</a>, <a href="#301845" title="=&gt; org.specs2.main.Arguments">arguments</a><span class="delimiter">)</span>
  <span class="comment">/** set the url for the generated documentation */</span>
  <span class="keyword">def</span> <a title="(url: String)org.specs2.specification.SpecStart" id="51016">urlIs</a><span class="delimiter">(</span><a title="String" id="351046">url</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#301845" title="org.specs2.main.Arguments" id="351077">copy</a><span class="delimiter">(</span>specName = <a href="#301844" title="=&gt; org.specs2.specification.SpecName">specName</a>.<a href="SpecName.scala.html#51084" title="(u: String)org.specs2.specification.SpecName">urlIs</a><a title="org.specs2.specification.SpecName" id="351075" class="delimiter">(</a><a href="#351046" title="String">url</a><span class="delimiter">)</span>, linked = <a href="#301846" title="=&gt; org.specs2.specification.Linked">linked</a>.<a href="Fragments.scala.html#51099" title="(url: String)org.specs2.specification.Linked">urlIs</a><a title="org.specs2.specification.Linked" id="351076" class="delimiter">(</a><a href="#351046" title="String">url</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="comment">/** set the base directory for the generated documentation */</span>
  <span class="keyword">def</span> <a title="(dir: String)org.specs2.specification.SpecStart" id="51017">baseDirIs</a><span class="delimiter">(</span><a title="String" id="351078">dir</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#301845" title="org.specs2.main.Arguments" id="351095">copy</a><span class="delimiter">(</span>specName = <a href="#301844" title="=&gt; org.specs2.specification.SpecName">specName</a>.<a href="SpecName.scala.html#51085" title="(dir: String)org.specs2.specification.SpecName">baseDirIs</a><a title="org.specs2.specification.SpecName" id="351093" class="delimiter">(</a><a href="#351078" title="String">dir</a><span class="delimiter">)</span>, linked = <a href="#301846" title="=&gt; org.specs2.specification.Linked">linked</a>.<a href="Fragments.scala.html#51100" title="(dir: String)org.specs2.specification.Linked">baseDirIs</a><a title="org.specs2.specification.Linked" id="351094" class="delimiter">(</a><a href="#351078" title="String">dir</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * End of a specification.
 *
 * This marks the end of the Specification and must have the same name as the corresponding SpecStart.
 *
 * There is a Boolean flag on a SpecEnd indicating if the whole specification was just executed as a link (for an index page for example)
 * In this case we must not store statistics for this specification (see Storing.scala)
 */</span>
case <span class="keyword">class</span> <a title="class SpecEnd extends java.lang.Object with org.specs2.specification.Fragment with ScalaObject with Product with Serializable" id="351743">SpecEnd</a><a href="#351743" title="ScalaObject" class="delimiter">(</a><a title="org.specs2.specification.SpecName" id="350469">specName</a>: <a href="SpecName.scala.html#13075" title="org.specs2.specification.SpecName">SpecName</a>, <a title="Boolean" id="350470">isSeeOnlyLink</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#12773" title="org.specs2.specification.Fragment">Fragment</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="51140">name</a> = <a href="#350469" title="=&gt; org.specs2.specification.SpecName">specName</a>.<a href="SpecName.scala.html#51071" title="=&gt; String">name</a>
  <span class="keyword">def</span> <a title="=&gt; String" id="51141">title</a> = <a href="#350469" title="=&gt; org.specs2.specification.SpecName">specName</a>.<a href="SpecName.scala.html#51070" title="=&gt; String">title</a>
  <span class="keyword">def</span> <a title="(s: Boolean)org.specs2.specification.SpecEnd" id="51142">seeOnlyLinkIs</a><span class="delimiter">(</span><a title="Boolean" id="328128">s</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <a href="#350469" title="org.specs2.specification.SpecName" id="328140">copy</a><span class="delimiter">(</span>isSeeOnlyLink = <a href="#328128" title="Boolean" id="328139">s</a><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(s: String)Boolean" id="51143">matches</a><span class="delimiter">(</span><a title="String" id="351125">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="../text/Regexes.scala.html#36491" title="implicit org.specs2.text.Regexes.regexed : (s: String)org.specs2.text.Regexes.Regexed">name</a>.<a href="../text/Regexes.scala.html#194195" title="(p: String, enclosing: String)Boolean">matchesSafely</a><span class="delimiter">(</span><a href="#351125" title="String">s</a>, <span title="java.lang.String(&quot;.*&quot;)" class="string">&quot;.*&quot;</span><span class="delimiter">)</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="51144">toString</a> = <span title="java.lang.String(&quot;SpecEnd(&quot;)" class="string">&quot;SpecEnd(&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#51141" title="=&gt; String">title</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Free text, describing the system to specify
 */</span>
case <span class="keyword">class</span> <a title="class Text extends java.lang.Object with org.specs2.specification.Fragment with ScalaObject with Product with Serializable" id="351737">Text</a><a href="#351737" title="ScalaObject" class="delimiter">(</a><a title="String" id="286710">t</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#12773" title="org.specs2.specification.Fragment">Fragment</a> <span class="delimiter">{</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(s: String)Boolean" id="286707">matches</a><span class="delimiter">(</span><a title="String" id="351159">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#286710" title="=&gt; String">t</a>.<span title="(x$1: java.lang.String)Boolean">matches</span><span class="delimiter">(</span><a href="#351159" title="String">s</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * A Example is:
 *
 * - a description: some text, with possibly some markup annotations for rendering code fragments (used in AutoExamples)
 * - a body: some executable code returning a Result
 */</span>
case <span class="keyword">class</span> <a title="class Example extends java.lang.Object with org.specs2.specification.Fragment with org.specs2.execute.Executable with org.specs2.execute.Isolable with ScalaObject with Product with Serializable" id="45580">Example</a> <a href="#45580" title="ScalaObject" class="keyword">private</a><span class="delimiter">[</span>specification<span class="delimiter">]</span> <span class="delimiter">(</span><a title="org.specs2.text.MarkupString" id="298750">desc</a>: <a href="../text/MarkupString.scala.html#13242" title="org.specs2.text.MarkupString">MarkupString</a> = <a href="../text/MarkupString.scala.html#297417" title="(text: String)org.specs2.text.NoMarkup">NoMarkup</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>, <a title="() =&gt; org.specs2.execute.Result" id="298751">body</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Result<span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#12773" title="org.specs2.specification.Fragment">Fragment</a> <span class="keyword">with</span> <a href="../execute/Executable.scala.html#10097" title="org.specs2.execute.Executable">Executable</a> <span class="keyword">with</span> <a href="../execute/Isolable.scala.html#10101" title="org.specs2.execute.Isolable">Isolable</a> <span class="delimiter">{</span> outer =&gt;
  <span class="keyword">val</span> <a title="Boolean" id="36512">isolable</a> = <span title="Boolean(true)" class="keyword">true</span>

  <span class="comment">/** internal specs2 variable to keep track of how an Example has been created */</span>
  <span class="keyword">private</span><span class="delimiter">[</span>specs2<span class="delimiter">]</span> <span class="keyword">val</span> <a title="Option[org.specs2.specification.CreationPath]" id="36514">creationPath</a>: <span title="Option[org.specs2.specification.CreationPath]">Option</span><span class="delimiter">[</span>CreationPath<span class="delimiter">]</span> = <span title="object None">None</span>

  <span class="keyword">def</span> <a title="=&gt; org.specs2.execute.Result" id="36516">execute</a> = <a href="#298751" title="()org.specs2.execute.Result">body</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/**
   * match the description of an example with a regular expression.
   *
   * If the regexp doesn't compile, it is used literally by quoting it. However this regexp is usually passed as the
   * Arguments.ex value, it is enclosed with '.*' characters, so they are removed and added back before quotation
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(s: String)Boolean" id="36517">matches</a><span class="delimiter">(</span><a title="String" id="298731">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#298750" title="=&gt; org.specs2.text.MarkupString">desc</a>.<a href="../text/Regexes.scala.html#36491" title="implicit org.specs2.text.Regexes.regexed : (s: String)org.specs2.text.Regexes.Regexed">toString</a>.<a href="../text/Regexes.scala.html#194195" title="(p: String, enclosing: String)Boolean">matchesSafely</a><span class="delimiter">(</span><a href="#298731" title="String">s</a>, enclosing = <span title="java.lang.String(&quot;.*&quot;)" class="string">&quot;.*&quot;</span><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="36518">toString</a> = <span title="java.lang.String(&quot;Example(&quot;)" class="string">&quot;Example(&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#298750" title="=&gt; org.specs2.text.MarkupString">desc</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(f: org.specs2.execute.Result =&gt; org.specs2.execute.Result)org.specs2.specification.Example" id="36519">map</a><span class="delimiter">(</span><a title="org.specs2.execute.Result =&gt; org.specs2.execute.Result" id="298745">f</a>: Result =&gt; Result<span class="delimiter">)</span> = <a href="#298756" title="(markup: org.specs2.text.MarkupString, body: =&gt; org.specs2.execute.Result)(implicit evidence$2: org.specs2.execute.AsResult[org.specs2.execute.Result])org.specs2.specification.Example">Example</a><a href="../execute/Result.scala.html#45820" title="org.specs2.execute.AsResult[org.specs2.execute.Result]" class="delimiter">(</a><a href="#298750" title="=&gt; org.specs2.text.MarkupString">desc</a>, <a href="#298745" title="(v1: org.specs2.execute.Result)org.specs2.execute.Result">f</a><span class="delimiter">(</span><a href="#298751" title="()org.specs2.execute.Result">body</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(a: Any)Boolean" id="36520">equals</a><span class="delimiter">(</span><a title="Any" id="298876">a</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#298876" title="Any">a</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Boolean" id="298879">e</a>: <a href="#45580" title="org.specs2.specification.Example">Example</a> =&gt; <a href="#298750" title="=&gt; org.specs2.text.MarkupString">desc</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#298879" title="org.specs2.specification.Example">e</a>.<a href="#298750" title="=&gt; org.specs2.text.MarkupString">desc</a>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span>          =&gt; <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** this fragment can not be executed in a separate specification */</span>
  <span class="keyword">def</span> <a title="=&gt; org.specs2.specification.Example" id="36521">global</a> = <a href="#351193" title="org.specs2.specification.Example{}" class="keyword">new</a> <a href="#45580" title="anonymous class $anon extends org.specs2.specification.Example" id="351193">Example</a><span class="delimiter">(</span><a href="#298750" title="=&gt; org.specs2.text.MarkupString">desc</a>, <a href="#298751" title="=&gt; () =&gt; org.specs2.execute.Result">body</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="Boolean" id="351195">isolable</a>     = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="Option[org.specs2.specification.CreationPath]" id="351197">creationPath</a> = <a href="#45580" title="Example.this.type">outer</a>.<a href="#36514" title="=&gt; Option[org.specs2.specification.CreationPath]">creationPath</a>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="org.specs2.io.Location" id="351199">location</a>     = <a href="#45580" title="Example.this.type">outer</a>.<a href="#36501" title="=&gt; org.specs2.io.Location">location</a>
  <span class="delimiter">}</span>

  <span class="comment">/** set a creation path, if not already set, on this example to possibly isolate it during its execution */</span>
  <span class="keyword">private</span><span class="delimiter">[</span>specs2<span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="(path: org.specs2.specification.CreationPath)org.specs2.specification.Example" id="36522">creationPathIs</a><span class="delimiter">(</span><a title="org.specs2.specification.CreationPath" id="287003">path</a>: <a href="SpecificationNavigation.scala.html#13088" title="org.specs2.specification.CreationPath">CreationPath</a><span class="delimiter">)</span> = <a href="#287006" title="org.specs2.specification.Example{}" class="keyword">new</a> <a href="#45580" title="anonymous class $anon extends org.specs2.specification.Example" id="287006">Example</a><span class="delimiter">(</span><a href="#298750" title="=&gt; org.specs2.text.MarkupString">desc</a>, <a href="#298751" title="=&gt; () =&gt; org.specs2.execute.Result">body</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="Option[org.specs2.specification.CreationPath]" id="287008">creationPath</a> = <span title="Option[org.specs2.specification.CreationPath]" class="keyword">if</span> <span class="delimiter">(</span><a href="#45580" title="Example.this.type">outer</a>.<a href="#36514" title="=&gt; Option[org.specs2.specification.CreationPath]">creationPath</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <a href="#45580" title="Example.this.type">outer</a>.<a href="#36514" title="=&gt; Option[org.specs2.specification.CreationPath]">creationPath</a> <span class="keyword">else</span> <span title="(x: org.specs2.specification.CreationPath)Some[org.specs2.specification.CreationPath]">Some</span><span class="delimiter">(</span><a href="#287003" title="org.specs2.specification.CreationPath">path</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="Boolean" id="287010">isolable</a>     = <a href="#45580" title="Example.this.type">outer</a>.<a href="#36512" title="=&gt; Boolean">isolable</a>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="org.specs2.io.Location" id="287012">location</a>     = <a href="#45580" title="Example.this.type">outer</a>.<a href="#36501" title="=&gt; org.specs2.io.Location">location</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

case <span class="keyword">object</span> <a href="#351242" title="object org.specs2.specification.Example" id="351247">Example</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[T](desc: String, body: =&gt; T)(implicit evidence$1: org.specs2.execute.AsResult[T])org.specs2.specification.Example" id="298772">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="45576">T</a> : AsResult<span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="298770">desc</a>: <span title="String">String</span>, <a title="=&gt; T" id="298771">body</a>: =&gt;T<span class="delimiter">)</span> = <span title="org.specs2.specification.Example" class="keyword">new</span> <a href="#45580" title="org.specs2.specification.Example">Example</a><span class="delimiter">(</span><a href="../text/MarkupString.scala.html#297417" title="(text: String)org.specs2.text.NoMarkup">NoMarkup</a><span class="delimiter">(</span><a href="#298770" title="String">desc</a><span class="delimiter">)</span>, <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="../execute/Result.scala.html#45824" title="(r: =&gt; T)(implicit evidence$1: org.specs2.execute.AsResult[T])org.specs2.execute.Result">AsResult</a><a href="#298772" title="org.specs2.execute.AsResult[T]" class="delimiter">(</a><a href="#298771" title="=&gt; T">body</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[T](markup: org.specs2.text.MarkupString, body: =&gt; T)(implicit evidence$2: org.specs2.execute.AsResult[T])org.specs2.specification.Example" id="298756">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="45579">T</a> : AsResult<span class="delimiter">]</span><span class="delimiter">(</span><a title="org.specs2.text.MarkupString" id="298754">markup</a>: <a href="../text/MarkupString.scala.html#13242" title="org.specs2.text.MarkupString">MarkupString</a>, <a title="=&gt; T" id="298755">body</a>: =&gt;T<span class="delimiter">)</span> = <span title="org.specs2.specification.Example" class="keyword">new</span> <a href="#45580" title="org.specs2.specification.Example">Example</a><span class="delimiter">(</span><a href="#298754" title="org.specs2.text.MarkupString">markup</a>, <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="../execute/Result.scala.html#45824" title="(r: =&gt; T)(implicit evidence$1: org.specs2.execute.AsResult[T])org.specs2.execute.Result">AsResult</a><a href="#298756" title="org.specs2.execute.AsResult[T]" class="delimiter">(</a><a href="#298755" title="=&gt; T">body</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * An Step creates a fragment that will either return an
 * Error Result if there is an exception or a Success.
 *
 * It is usually used to do some initialisation or cleanup before or after all
 * the Fragments.
 *
 * Note that a Step fragment will not be reported in the output.
 *
 * @see the ContextSpec specification
 *
 */</span>
case <span class="keyword">class</span> <a title="class Step extends java.lang.Object with org.specs2.specification.Fragment with org.specs2.execute.Executable with org.specs2.execute.Isolable with ScalaObject with Product with Serializable" id="284930">Step</a> <a href="#284930" title="ScalaObject" class="delimiter">(</a><a title="org.specs2.control.LazyParameter[org.specs2.execute.Result]" id="285011">step</a>: <a href="../control/LazyParameter.scala.html#9957" title="org.specs2.control.LazyParameter[org.specs2.execute.Result]">LazyParameter</a><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <a href="../control/LazyParameter.scala.html#36486" title="(value: =&gt; org.specs2.execute.Success)org.specs2.control.LazyParameter[org.specs2.execute.Success]">lazyfy</a><span class="delimiter">(</span><a href="../execute/Result.scala.html#119277" title="(m: String, exp: String)org.specs2.execute.Success">Success</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a title="Boolean" id="285012">stopOnFail</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#12773" title="org.specs2.specification.Fragment">Fragment</a> <span class="keyword">with</span> <a href="../execute/Executable.scala.html#10097" title="org.specs2.execute.Executable">Executable</a> <span class="keyword">with</span> <a href="../execute/Isolable.scala.html#10101" title="org.specs2.execute.Isolable">Isolable</a> <span class="delimiter">{</span>
  <span class="keyword">val</span> <a title="Boolean" id="284938">isolable</a> = <span title="Boolean(true)" class="keyword">true</span>

  <span class="keyword">def</span> <a title="=&gt; org.specs2.execute.Result" id="284940">execute</a> = <a href="#285011" title="=&gt; org.specs2.control.LazyParameter[org.specs2.execute.Result]">step</a>.<a href="../control/LazyParameter.scala.html#63122" title="=&gt; org.specs2.execute.Result">value</a>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="284941">toString</a> = <span title="java.lang.String(&quot;Step&quot;)" class="string">&quot;Step&quot;</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(f: org.specs2.execute.Result =&gt; org.specs2.execute.Result)org.specs2.specification.Step" id="284942">map</a><span class="delimiter">(</span><a title="org.specs2.execute.Result =&gt; org.specs2.execute.Result" id="351263">f</a>: Result =&gt; Result<span class="delimiter">)</span> = <a href="#284926" title="(r: =&gt; org.specs2.control.LazyParameter[org.specs2.execute.Result])org.specs2.specification.Step">Step</a><span class="delimiter">(</span><a href="#285011" title="=&gt; org.specs2.control.LazyParameter[org.specs2.execute.Result]">step</a> <a href="../control/LazyParameter.scala.html#63126" title="(f: org.specs2.execute.Result =&gt; org.specs2.execute.Result)org.specs2.control.LazyParameter[org.specs2.execute.Result]">map</a> <a href="#351263" title="org.specs2.execute.Result =&gt; org.specs2.execute.Result">f</a><span class="delimiter">)</span>

  <span class="comment">/** this fragment can not be executed in a separate specification */</span>
  <span class="keyword">def</span> <a title="=&gt; org.specs2.specification.Step" id="284943">global</a> = <a href="#351290" title="org.specs2.specification.Step{}" class="keyword">new</a> <a href="#284930" title="anonymous class $anon extends org.specs2.specification.Step" id="351290">Step</a><span class="delimiter">(</span><a href="#285011" title="=&gt; org.specs2.control.LazyParameter[org.specs2.execute.Result]">step</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="Boolean" id="351292">isolable</a> = <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  <span class="comment">// we must override the case class equality to avoid evaluating the step</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(any: Any)Boolean" id="284944">equals</a><span class="delimiter">(</span><a title="Any" id="351300">any</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#351300" title="Any">any</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="Boolean" id="351303">s</a>: <a href="#284930" title="org.specs2.specification.Step">Step</a> =&gt; <a href="#351303" title="org.specs2.specification.Step">s</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#284930" title="org.specs2.specification.Step" class="keyword">this</a>
    <span class="keyword">case</span> <span title="Boolean(false)">_</span>       =&gt; <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>
  <span class="comment">// we must override the case class hashCode to avoid evaluating the step</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Int" id="284945">hashCode</a> = <a href="#284930" title="org.specs2.specification.Step" class="keyword">super</a>.<span title="()Int">hashCode</span>
<span class="delimiter">}</span>

case <span class="keyword">object</span> <a href="#351379" title="object org.specs2.specification.Step" id="351384">Step</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="comment">/** create a Step object from either a previous result, or a value to evaluate */</span>
  <span class="keyword">def</span> <a title="[T](r: =&gt; Either[org.specs2.execute.Result,T])org.specs2.specification.Step" id="284920">fromEither</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="284922">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; Either[org.specs2.execute.Result,T]" id="285030">r</a>: =&gt;Either<span class="delimiter">[</span>Result, T<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#285012" title="org.specs2.specification.Step" class="keyword">new</a> <a href="#284930" title="org.specs2.specification.Step">Step</a><span class="delimiter">(</span><a href="#284923" title="(r: =&gt; Either[org.specs2.execute.Result,T])org.specs2.control.LazyParameter[org.specs2.execute.Result]">either</a><span class="delimiter">(</span><a href="#285030" title="=&gt; Either[org.specs2.execute.Result,T]">r</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">private</span><span class="delimiter">[</span>specs2<span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="[T](r: =&gt; Either[org.specs2.execute.Result,T])org.specs2.control.LazyParameter[org.specs2.execute.Result]" id="284923">either</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="284925">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; Either[org.specs2.execute.Result,T]" id="284948">r</a>: =&gt;Either<span class="delimiter">[</span>Result, T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../control/LazyParameter.scala.html#9957" title="org.specs2.control.LazyParameter[org.specs2.execute.Result]">LazyParameter</a><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <a href="../control/LazyParameter.scala.html#36486" title="(value: =&gt; org.specs2.execute.Result)org.specs2.control.LazyParameter[org.specs2.execute.Result]">lazyfy</a> <span class="delimiter">{</span>
    <a href="#284948" title="=&gt; Either[org.specs2.execute.Result,T]">r</a> <span title="org.specs2.execute.Result" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="org.specs2.execute.Result">Left</span><span class="delimiter">(</span><a title="org.specs2.execute.Result" id="351331">l</a><span class="delimiter">)</span>               =&gt; <a href="#351331" title="org.specs2.execute.Result">l</a>
      <span class="keyword">case</span> <span title="org.specs2.execute.Result">Right</span><span class="delimiter">(</span><a title="org.specs2.execute.Result" id="351333">result</a>: <a href="../execute/Result.scala.html#10121" title="org.specs2.execute.Result">Result</a><span class="delimiter">)</span> =&gt; <a href="#351333" title="org.specs2.execute.Result">result</a>
      <span class="keyword">case</span> <span title="org.specs2.execute.Success">Right</span><span class="delimiter">(</span><a title="T" id="351335">other</a><span class="delimiter">)</span>          =&gt; <a href="../execute/Result.scala.html#119277" title="(m: String, exp: String)org.specs2.execute.Success">Success</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="comment">/** create a Step object from any value */</span>
  <span class="keyword">def</span> <a title="[T](r: =&gt; T)org.specs2.specification.Step" id="284926">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="284928">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="285027">r</a>: =&gt;T<span class="delimiter">)</span> = <a href="#284920" title="(r: =&gt; Either[org.specs2.execute.Result,T])org.specs2.specification.Step">fromEither</a><span class="delimiter">(</span><a href="../control/Exceptions.scala.html#15383" title="(a: =&gt; T)(implicit f: Exception =&gt; org.specs2.execute.Error)Either[org.specs2.execute.Error,T]">trye</a><span class="delimiter">(</span><a href="#285027" title="=&gt; T">r</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../execute/Result.scala.html#64116" title="(e: Exception)org.specs2.execute.Error">Error</a><span class="delimiter">(</span><a href="#285049" title="Exception">_</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="comment">/** create a Step object from a stopOnFail value */</span>
  <span class="keyword">def</span> <a title="(stopOnFail: Boolean)org.specs2.specification.Step" id="284929">apply</a><span class="delimiter">(</span><a title="Boolean" id="285016">stopOnFail</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <a href="#285011" title="org.specs2.control.LazyParameter[org.specs2.execute.Result]" id="285026" class="keyword">new</a> <a href="#351384" title="object org.specs2.specification.Step">Step</a><span class="delimiter">(</span>stopOnFail = <a href="#285016" title="Boolean" id="285025">stopOnFail</a><span class="delimiter">)</span>
<span class="delimiter">}</span>
<span class="comment">/**
 * An Action is similar to a Step but can be executed concurrently with other examples.
 *
 * It is only reported in case of a failure
 */</span>
case <span class="keyword">class</span> <a title="class Action extends java.lang.Object with org.specs2.specification.Fragment with org.specs2.execute.Executable with org.specs2.execute.Isolable with ScalaObject with Product with Serializable" id="284887">Action</a> <a href="#284887" title="ScalaObject" class="delimiter">(</a><a title="org.specs2.control.LazyParameter[org.specs2.execute.Result]" id="284908">action</a>: <a href="../control/LazyParameter.scala.html#9957" title="org.specs2.control.LazyParameter[org.specs2.execute.Result]">LazyParameter</a><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <a href="../control/LazyParameter.scala.html#36486" title="(value: =&gt; org.specs2.execute.Success)org.specs2.control.LazyParameter[org.specs2.execute.Success]">lazyfy</a><span class="delimiter">(</span><a href="../execute/Result.scala.html#119277" title="(m: String, exp: String)org.specs2.execute.Success">Success</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#12773" title="org.specs2.specification.Fragment">Fragment</a> <span class="keyword">with</span> <a href="../execute/Executable.scala.html#10097" title="org.specs2.execute.Executable">Executable</a> <span class="keyword">with</span> <a href="../execute/Isolable.scala.html#10101" title="org.specs2.execute.Isolable">Isolable</a> <span class="delimiter">{</span> outer =&gt;
  <span class="keyword">val</span> <a title="Boolean" id="284893">isolable</a> = <span title="Boolean(true)" class="keyword">true</span>

  <span class="comment">/** internal specs2 variable to keep track of how an Example has been created */</span>
  <span class="keyword">private</span><span class="delimiter">[</span>specs2<span class="delimiter">]</span> <span class="keyword">val</span> <a title="Option[org.specs2.specification.CreationPath]" id="284895">creationPath</a>: <span title="Option[org.specs2.specification.CreationPath]">Option</span><span class="delimiter">[</span>CreationPath<span class="delimiter">]</span> = <span title="object None">None</span>

  <span class="keyword">def</span> <a title="=&gt; org.specs2.execute.Result" id="284897">execute</a> = <a href="#284908" title="=&gt; org.specs2.control.LazyParameter[org.specs2.execute.Result]">action</a>.<a href="../control/LazyParameter.scala.html#63122" title="=&gt; org.specs2.execute.Result">value</a>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="284898">toString</a> = <span title="java.lang.String(&quot;Action&quot;)" class="string">&quot;Action&quot;</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(f: org.specs2.execute.Result =&gt; org.specs2.execute.Result)org.specs2.specification.Action" id="284899">map</a><span class="delimiter">(</span><a title="org.specs2.execute.Result =&gt; org.specs2.execute.Result" id="298829">f</a>: Result =&gt; Result<span class="delimiter">)</span> = <a href="#284887" title="(action: org.specs2.control.LazyParameter[org.specs2.execute.Result])org.specs2.specification.Action">Action</a><span class="delimiter">(</span><a href="#284908" title="=&gt; org.specs2.control.LazyParameter[org.specs2.execute.Result]">action</a> <a href="../control/LazyParameter.scala.html#63126" title="(f: org.specs2.execute.Result =&gt; org.specs2.execute.Result)org.specs2.control.LazyParameter[org.specs2.execute.Result]">map</a> <a href="#298829" title="org.specs2.execute.Result =&gt; org.specs2.execute.Result">f</a><span class="delimiter">)</span>

  <span class="comment">/** this fragment can not be executed in a separate specification */</span>
  <span class="keyword">def</span> <a title="=&gt; org.specs2.specification.Action" id="284900">global</a> = <a href="#351402" title="org.specs2.specification.Action{}" class="keyword">new</a> <a href="#284887" title="anonymous class $anon extends org.specs2.specification.Action" id="351402">Action</a><span class="delimiter">(</span><a href="#284908" title="=&gt; org.specs2.control.LazyParameter[org.specs2.execute.Result]">action</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="Boolean" id="351404">isolable</a> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="Option[org.specs2.specification.CreationPath]" id="351406">creationPath</a> = <a href="#284887" title="Action.this.type">outer</a>.<a href="#284895" title="=&gt; Option[org.specs2.specification.CreationPath]">creationPath</a>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="org.specs2.io.Location" id="351408">location</a>     = <a href="#284887" title="Action.this.type">outer</a>.<a href="#36501" title="=&gt; org.specs2.io.Location">location</a>
  <span class="delimiter">}</span>

  <span class="comment">/** set a creation path, if not already set, on this action to possibly isolate it during its execution */</span>
  <span class="keyword">private</span><span class="delimiter">[</span>specs2<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(path: org.specs2.specification.CreationPath)org.specs2.specification.Action" id="284901">creationPathIs</a><span class="delimiter">(</span><a title="org.specs2.specification.CreationPath" id="287055">path</a>: <a href="SpecificationNavigation.scala.html#13088" title="org.specs2.specification.CreationPath">CreationPath</a><span class="delimiter">)</span> = <a href="#287058" title="org.specs2.specification.Action{}" class="keyword">new</a> <a href="#284887" title="anonymous class $anon extends org.specs2.specification.Action" id="287058">Action</a><span class="delimiter">(</span><a href="#284908" title="=&gt; org.specs2.control.LazyParameter[org.specs2.execute.Result]">action</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="Option[org.specs2.specification.CreationPath]" id="287060">creationPath</a> = <span title="Option[org.specs2.specification.CreationPath]" class="keyword">if</span> <span class="delimiter">(</span><a href="#284887" title="Action.this.type">outer</a>.<a href="#284895" title="=&gt; Option[org.specs2.specification.CreationPath]">creationPath</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <a href="#284887" title="Action.this.type">outer</a>.<a href="#284895" title="=&gt; Option[org.specs2.specification.CreationPath]">creationPath</a> <span class="keyword">else</span> <span title="(x: org.specs2.specification.CreationPath)Some[org.specs2.specification.CreationPath]">Some</span><span class="delimiter">(</span><a href="#287055" title="org.specs2.specification.CreationPath">path</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="Boolean" id="287062">isolable</a>     = <a href="#284887" title="Action.this.type">outer</a>.<a href="#284893" title="=&gt; Boolean">isolable</a>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="org.specs2.io.Location" id="287064">location</a>     = <a href="#284887" title="Action.this.type">outer</a>.<a href="#36501" title="=&gt; org.specs2.io.Location">location</a>
  <span class="delimiter">}</span>

  <span class="comment">// we must override the case class equality to avoid evaluating the action</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(any: Any)Boolean" id="284902">equals</a><span class="delimiter">(</span><a title="Any" id="351420">any</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#351420" title="Any">any</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="Boolean" id="351423">a</a>: <a href="#284887" title="org.specs2.specification.Action">Action</a> =&gt; <a href="#351423" title="org.specs2.specification.Action">a</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#284887" title="org.specs2.specification.Action" class="keyword">this</a>
    <span class="keyword">case</span> <span title="Boolean(false)">_</span>         =&gt; <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  <span class="comment">// we must override the case class hashCode to avoid evaluating the action</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Int" id="284903">hashCode</a> = <a href="#284887" title="org.specs2.specification.Action" class="keyword">super</a>.<span title="()Int">hashCode</span>
<span class="delimiter">}</span>

case <span class="keyword">object</span> <a href="#351476" title="object org.specs2.specification.Action" id="351481">Action</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="comment">/** create an Action object from any value */</span>
  <span class="keyword">def</span> <a title="[T](r: =&gt; T)org.specs2.specification.Action" id="284881">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="284883">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="284911">r</a>: =&gt;T<span class="delimiter">)</span> = <a href="#284884" title="(r: =&gt; Either[org.specs2.execute.Result,T])org.specs2.specification.Action">fromEither</a><span class="delimiter">(</span><a href="../control/Exceptions.scala.html#15383" title="(a: =&gt; T)(implicit f: Exception =&gt; org.specs2.execute.Error)Either[org.specs2.execute.Error,T]">trye</a><span class="delimiter">(</span><a href="#284911" title="=&gt; T">r</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../execute/Result.scala.html#64116" title="(e: Exception)org.specs2.execute.Error">Error</a><span class="delimiter">(</span><a href="#284965" title="Exception">_</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="comment">/** create an Action object from either a previous result, or a value to evaluate */</span>
  <span class="keyword">def</span> <a title="[T](r: =&gt; Either[org.specs2.execute.Result,T])org.specs2.specification.Action" id="284884">fromEither</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="284886">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; Either[org.specs2.execute.Result,T]" id="284914">r</a>: =&gt;Either<span class="delimiter">[</span>Result, T<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="org.specs2.specification.Action" class="keyword">new</span> <a href="#284887" title="org.specs2.specification.Action">Action</a><span class="delimiter">(</span><a href="#351384" title="object org.specs2.specification.Step">Step</a>.<a href="#284923" title="(r: =&gt; Either[org.specs2.execute.Result,T])org.specs2.control.LazyParameter[org.specs2.execute.Result]">either</a><span class="delimiter">(</span><a href="#284914" title="=&gt; Either[org.specs2.execute.Result,T]">r</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Those standard Fragments are used to format the specification text:
 *  - End() can be used to &quot;reset&quot; the indentation of text
 *  - Br() can be used to insert a newline
 *  - Tab() can be used to increment the indentation level
 *  - Backtab() can be used to decrement the indentation level
 */</span>
<span class="keyword">private</span><span class="delimiter">[</span>specs2<span class="delimiter">]</span>
<span class="keyword">object</span> <a title="object org.specs2.specification.StandardFragments" id="12792">StandardFragments</a> <span title="ScalaObject" class="delimiter">{</span>
  case <span class="keyword">class</span> <a title="class End extends java.lang.Object with org.specs2.specification.Fragment with ScalaObject with Product with Serializable" id="351578">End</a><a href="#351578" title="ScalaObject" class="delimiter">(</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#12773" title="org.specs2.specification.Fragment">Fragment</a>
  case <span class="keyword">class</span> <a title="class Br extends java.lang.Object with org.specs2.specification.Fragment with ScalaObject with Product with Serializable" id="351574">Br</a><a href="#351574" title="ScalaObject" class="delimiter">(</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#12773" title="org.specs2.specification.Fragment">Fragment</a>
  case <span class="keyword">class</span> <a title="class Tab extends java.lang.Object with org.specs2.specification.Fragment with ScalaObject with Product with Serializable" id="351570">Tab</a><a href="#351570" title="ScalaObject" class="delimiter">(</a><a title="Int" id="282823">n</a>: <span title="Int">Int</span> = <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#12773" title="org.specs2.specification.Fragment">Fragment</a>
  case <span class="keyword">class</span> <a title="class Backtab extends java.lang.Object with org.specs2.specification.Fragment with ScalaObject with Product with Serializable" id="351564">Backtab</a><a href="#351564" title="ScalaObject" class="delimiter">(</a><a title="Int" id="282709">n</a>: <span title="Int">Int</span> = <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#12773" title="org.specs2.specification.Fragment">Fragment</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * Those fragments are used to tag other fragments in a specification\
 */</span>
<span class="keyword">object</span> <a title="object org.specs2.specification.TagsFragments" id="12794">TagsFragments</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">trait</span> <a title="trait TaggingFragment extends java.lang.Object with org.specs2.specification.Fragment with ScalaObject" id="288067">TaggingFragment</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12773" title="org.specs2.specification.Fragment">Fragment</a> <span class="delimiter">{</span>
    <span class="comment">/** tagging names */</span>
    <span class="keyword">def</span> <a title="=&gt; Seq[String]" id="288105">names</a>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span>
    <span class="comment">/** @return true if the fragment tagged with this must be kept */</span>
    <span class="keyword">def</span> <a title="(args: org.specs2.main.Arguments)Boolean" id="288106">keep</a><span class="delimiter">(</span><a title="org.specs2.main.Arguments" id="321234">args</a>: <a href="../main/Arguments.scala.html#10577" title="org.specs2.main.Arguments">Arguments</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="../data/IncludedExcluded.scala.html#98943" title="(included: String, excluded: String, orSeparator: String, andSeparator: String)org.specs2.data.SeparatedTags">SeparatedTags</a><span class="delimiter">(</span><a href="#321234" title="org.specs2.main.Arguments">args</a>.<a href="../main/Arguments.scala.html#36564" title="=&gt; String">include</a>, <a href="#321234" title="org.specs2.main.Arguments">args</a>.<a href="../main/Arguments.scala.html#36565" title="=&gt; String">exclude</a><span class="delimiter">)</span>.<a href="../data/IncludedExcluded.scala.html#91761" title="(t: Seq[String])Boolean">keep</a><span class="delimiter">(</span><a href="#288105" title="=&gt; Seq[String]">names</a><span class="delimiter">)</span>
    <span class="comment">/** @return true if this tagging fragment is a section */</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="288107">isSection</a>: <span title="Boolean">Boolean</span>
    <span class="comment">/** @return true if this fragment has no names */</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="288108">isEmpty</a> = <a href="#288105" title="=&gt; Seq[String]">names</a>.<span title="=&gt; Boolean">isEmpty</span>
  <span class="delimiter">}</span>
  <span class="comment">/** tags the next fragment */</span>
  case <span class="keyword">class</span> <a title="class Tag extends java.lang.Object with org.specs2.specification.TagsFragments.TaggingFragment with ScalaObject with Product with Serializable" id="351733">Tag</a><a href="#351733" title="ScalaObject" class="delimiter">(</a><a title="String*" id="288121">names</a>: <span title="String*">String</span>*<span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#288067" title="org.specs2.specification.TagsFragments.TaggingFragment">TaggingFragment</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="288117">isSection</a> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="288118">toString</a> = <a href="#288121" title="=&gt; String*">names</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Tag(&quot;)" class="string">&quot;Tag(&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(o: Any)Boolean" id="288119">equals</a><span class="delimiter">(</span><a title="Any" id="351600">o</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#351600" title="Any">o</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Boolean" id="351603">t</a> @ Tag<span class="delimiter">(</span>_*<span class="delimiter">)</span>      =&gt; <a href="#288121" title="=&gt; String*">names</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#351603" title="org.specs2.specification.TagsFragments.Tag">t</a>.<a href="#288121" title="=&gt; String*">names</a>
        <span class="keyword">case</span> <a title="Boolean" id="351608">t</a> @ TaggedAs<span class="delimiter">(</span>_*<span class="delimiter">)</span> =&gt; <a href="#288121" title="=&gt; String*">names</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#351608" title="org.specs2.specification.TagsFragments.TaggedAs">t</a>.<a href="#288318" title="=&gt; String*">names</a>
        <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="comment">/** tags the previous fragment */</span>
  case <span class="keyword">class</span> <a title="class TaggedAs extends java.lang.Object with org.specs2.specification.TagsFragments.TaggingFragment with ScalaObject with Product with Serializable" id="351729">TaggedAs</a><a href="#351729" title="ScalaObject" class="delimiter">(</a><a title="String*" id="288318">names</a>: <span title="String*">String</span>*<span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#288067" title="org.specs2.specification.TagsFragments.TaggingFragment">TaggingFragment</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="288314">isSection</a> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="288315">toString</a> = <a href="#288318" title="=&gt; String*">names</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;TaggedAs(&quot;)" class="string">&quot;TaggedAs(&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(o: Any)Boolean" id="288316">equals</a><span class="delimiter">(</span><a title="Any" id="351632">o</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#351632" title="Any">o</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Boolean" id="351635">t</a> @ Tag<span class="delimiter">(</span>_*<span class="delimiter">)</span>      =&gt; <a href="#288318" title="=&gt; String*">names</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#351635" title="org.specs2.specification.TagsFragments.Tag">t</a>.<a href="#288121" title="=&gt; String*">names</a>
        <span class="keyword">case</span> <a title="Boolean" id="351640">t</a> @ TaggedAs<span class="delimiter">(</span>_*<span class="delimiter">)</span> =&gt; <a href="#288318" title="=&gt; String*">names</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#351640" title="org.specs2.specification.TagsFragments.TaggedAs">t</a>.<a href="#288318" title="=&gt; String*">names</a>
        <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="comment">/** the previous fragment starts a section */</span>
  case <span class="keyword">class</span> <a title="class AsSection extends java.lang.Object with org.specs2.specification.TagsFragments.TaggingFragment with ScalaObject with Product with Serializable" id="351725">AsSection</a><a href="#351725" title="ScalaObject" class="delimiter">(</a><a title="String*" id="288349">names</a>: <span title="String*">String</span>*<span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#288067" title="org.specs2.specification.TagsFragments.TaggingFragment">TaggingFragment</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="288345">isSection</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="288346">toString</a> = <a href="#288349" title="=&gt; String*">names</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;AsSection(&quot;)" class="string">&quot;AsSection(&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(o: Any)Boolean" id="288347">equals</a><span class="delimiter">(</span><a title="Any" id="351664">o</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#351664" title="Any">o</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Boolean" id="351667">s</a> @ AsSection<span class="delimiter">(</span>_*<span class="delimiter">)</span> =&gt; <a href="#288349" title="=&gt; String*">names</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#351667" title="org.specs2.specification.TagsFragments.AsSection">s</a>.<a href="#288349" title="=&gt; String*">names</a>
        <span class="keyword">case</span> <a title="Boolean" id="351672">s</a> @ Section<span class="delimiter">(</span>_*<span class="delimiter">)</span>   =&gt; <a href="#288349" title="=&gt; String*">names</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#351672" title="org.specs2.specification.TagsFragments.Section">s</a>.<a href="#288262" title="=&gt; String*">names</a>
        <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="comment">/** the next fragment starts a section */</span>
  case <span class="keyword">class</span> <a title="class Section extends java.lang.Object with org.specs2.specification.TagsFragments.TaggingFragment with ScalaObject with Product with Serializable" id="351721">Section</a><a href="#351721" title="ScalaObject" class="delimiter">(</a><a title="String*" id="288262">names</a>: <span title="String*">String</span>*<span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#288067" title="org.specs2.specification.TagsFragments.TaggingFragment">TaggingFragment</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="288258">isSection</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="288259">toString</a> = <a href="#288262" title="=&gt; String*">names</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Section(&quot;)" class="string">&quot;Section(&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(o: Any)Boolean" id="288260">equals</a><span class="delimiter">(</span><a title="Any" id="351696">o</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#351696" title="Any">o</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Boolean" id="351699">s</a> @ AsSection<span class="delimiter">(</span>_*<span class="delimiter">)</span> =&gt; <a href="#288262" title="=&gt; String*">names</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#351699" title="org.specs2.specification.TagsFragments.AsSection">s</a>.<a href="#288349" title="=&gt; String*">names</a>
        <span class="keyword">case</span> <a title="Boolean" id="351704">s</a> @ Section<span class="delimiter">(</span>_*<span class="delimiter">)</span>   =&gt; <a href="#288262" title="=&gt; String*">names</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#351704" title="org.specs2.specification.TagsFragments.Section">s</a>.<a href="#288262" title="=&gt; String*">names</a>
        <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * define a very coarse Monoid for TaggingFragments where appending 2 TaggingFragments returns a Tag object
   * with both list of tags
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; java.lang.Object with org.specs2.internal.scalaz.Monoid[org.specs2.specification.TagsFragments.TaggingFragment]{val zero: org.specs2.specification.TagsFragments.Tag; def append(t1: org.specs2.specification.TagsFragments.TaggingFragment,t2: =&gt; org.specs2.specification.TagsFragments.TaggingFragment): org.specs2.specification.TagsFragments.Tag}" id="288080">TaggingFragmentsAreMonoid</a> = <a href="#288140" title="java.lang.Object with org.specs2.internal.scalaz.Monoid[org.specs2.specification.TagsFragments.TaggingFragment]{}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with org.specs2.internal.scalaz.Monoid[org.specs2.specification.TagsFragments.TaggingFragment]" id="288140">Monoid</a><span class="delimiter">[</span>TaggingFragment<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="org.specs2.specification.TagsFragments.Tag" id="288142">zero</a> = <a href="#351733" title="(names: String*)org.specs2.specification.TagsFragments.Tag">Tag</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(t1: org.specs2.specification.TagsFragments.TaggingFragment, t2: =&gt; org.specs2.specification.TagsFragments.TaggingFragment)org.specs2.specification.TagsFragments.Tag" id="288144">append</a><span class="delimiter">(</span><a title="org.specs2.specification.TagsFragments.TaggingFragment" id="288146">t1</a>: <a href="#288067" title="org.specs2.specification.TagsFragments.TaggingFragment">TaggingFragment</a>, <a title="=&gt; org.specs2.specification.TagsFragments.TaggingFragment" id="288147">t2</a>: =&gt;TaggingFragment<span class="delimiter">)</span> = <a href="#351733" title="(names: String*)org.specs2.specification.TagsFragments.Tag">Tag</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="#288146" title="org.specs2.specification.TagsFragments.TaggingFragment">t1</a>.<a href="#288105" title="=&gt; Seq[String]">names</a> <span title="(that: scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[String],String,Seq[String]])Seq[String]">++</span> <a href="#288147" title="=&gt; org.specs2.specification.TagsFragments.TaggingFragment">t2</a>.<a href="#288105" title="=&gt; Seq[String]">names</a><span class="delimiter">)</span>:_*<span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** @return true if the object is a TaggingFragment */</span>
  <span class="keyword">def</span> <a title="(f: org.specs2.specification.Fragment)Boolean" id="288081">isTag</a><span class="delimiter">(</span><a title="org.specs2.specification.Fragment" id="321229">f</a>: <a href="#12773" title="org.specs2.specification.Fragment">Fragment</a><span class="delimiter">)</span> = <a href="#321229" title="org.specs2.specification.Fragment">f</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="Boolean(true)" id="321232">t</a>: <a href="#288067" title="org.specs2.specification.TagsFragments.TaggingFragment">TaggingFragment</a> =&gt; <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">case</span> <a title="Boolean(false)" id="321233">other</a>              =&gt; <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>