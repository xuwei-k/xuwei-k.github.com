<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>org/specs2/reporter/JUnitDescriptions.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> org.specs2
<span class="keyword">package</span> reporter

<span class="keyword">import</span> _root_.org.junit.runner._
<span class="keyword">import</span> org.specs2.data.<a href="../data/Trees.scala.html#10059" title="object org.specs2.data.Trees">Trees</a>._
<span class="keyword">import</span> org.specs2.internal.scalaz._
<span class="keyword">import</span> org.specs2.internal.scalaz.<span title="object org.specs2.internal.scalaz.Scalaz">Scalaz</span>._
<span class="keyword">import</span> org.specs2.internal.scalaz.<span title="object org.specs2.internal.scalaz.Traverse">Traverse</span>._
<span class="keyword">import</span> main.Arguments
<span class="keyword">import</span> specification._
<span class="keyword">import</span> control.<span class="delimiter">{</span>ExecutionOrigin, Stacktraces<span class="delimiter">}</span>

<span class="comment">/**
 * The JUnit descriptions class transforms a list of fragments
 * to:
 * 
 * - a Description object having children Descriptions. It is used by the JUnitRunner
 *   to display the suites and tests to execute
 * - a Map of Fragments to execute, or executed fragments, indexed by Description: Description -&gt; Fragment
 * 
 * The Description object creation works by using the Levels reducer to build a Tree[Description].
 * That Tree is then folded bottom-up to create the necessary associations between the 
 * Description objects. 
 * 
 */</span>
<span class="keyword">private</span><span class="delimiter">[</span>specs2<span class="delimiter">]</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class JUnitDescriptions[F] extends java.lang.Object with org.specs2.reporter.JUnitDescriptionMaker[F] with ScalaObject" id="12108">JUnitDescriptions</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="12109">F</a><span class="delimiter">]</span><a href="#12108" title="ScalaObject" class="delimiter">(</a><a title="String" id="310965">className</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="org.specs2.internal.scalaz.Reducer[F,org.specs2.reporter.Levels[F]]" id="310966">reducer</a>: <span title="org.specs2.internal.scalaz.Reducer[F,org.specs2.reporter.Levels[F]]">Reducer</span><span class="delimiter">[</span>F, Levels<span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#12110" title="org.specs2.reporter.JUnitDescriptionMaker[F]">JUnitDescriptionMaker</a><span class="delimiter">[</span>F<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="Levels.scala.html#12174" title="object org.specs2.reporter.Levels">Levels</a>._

  <span class="comment">/**
   * @return fragment that must be used as the root description if the specification is empty
   */</span>
  <span class="keyword">def</span> <a title="(className: String)F" id="310700">initialFragment</a><span class="delimiter">(</span><a title="String" id="310711">className</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#12109" title="F">F</a>

  <span class="keyword">private</span> <span class="keyword">implicit</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="(F, org.junit.runner.Description)" id="310702">initial</a> = <a href="#310700" title="(className: String)F">initialFragment</a><span title="(x: F)ArrowAssoc[F]" class="delimiter">(</span><a href="#310965" title="String">className</a><span class="delimiter">)</span> <span title="(y: org.junit.runner.Description)(F, org.junit.runner.Description)">-&gt;</span> <a href="#310706" title="=&gt; org.junit.runner.Description">specificationDescription</a>
  <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="F =&gt; org.junit.runner.Description" id="310704">defaultDescription</a> = <span class="delimiter">(</span>f: <a href="#12109" title="F">F</a><span class="delimiter">)</span> =&gt; <span title="object org.junit.runner.Description">Description</span>.<span title="(x$1: java.lang.String, x$2: &lt;repeated...&gt;[java.lang.annotation.Annotation])org.junit.runner.Description">createSuiteDescription</span><span class="delimiter">(</span><span title="java.lang.String(&quot;fragment not found:&quot;)" class="string">&quot;fragment not found:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#310958" title="F">f</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(fs: Seq[F])(implicit args: org.specs2.main.Arguments)org.specs2.reporter.DescriptionAndExamples[F]" id="310705">foldAll</a><span class="delimiter">(</span><a title="Seq[F]" id="310967">fs</a>: <span title="Seq[F]">Seq</span><span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="org.specs2.main.Arguments" id="310968">args</a>: <a href="../main/Arguments.scala.html#10577" title="org.specs2.main.Arguments">Arguments</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="org.specs2.reporter.Levels[F]" id="310971">leveledFragments</a> = <a href="Levels.scala.html#12174" title="object org.specs2.reporter.Levels">Levels</a>.<a href="Levels.scala.html#295276" title="(fs: Seq[F])(implicit reducer: org.specs2.internal.scalaz.Reducer[F,org.specs2.reporter.Levels[F]])org.specs2.reporter.Levels[F]">foldAll</a><a href="#310966" title="org.specs2.internal.scalaz.Reducer[F,org.specs2.reporter.Levels[F]]" class="delimiter">(</a><a href="#310967" title="Seq[F]">fs</a><span class="delimiter">)</span>

    <span title="org.specs2.reporter.DescriptionAndExamples[F]" class="keyword">if</span> <span class="delimiter">(</span><a href="#310971" title="org.specs2.reporter.Levels[F]">leveledFragments</a>.<a href="Levels.scala.html#295292" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
      <a href="#312764" title="(description: org.junit.runner.Description, descriptions: Map[F,org.junit.runner.Description])org.specs2.reporter.DescriptionAndExamples[F]">DescriptionAndExamples</a><span class="delimiter">(</span><a href="#310706" title="=&gt; org.junit.runner.Description">specificationDescription</a>, <span title="(elems: (F, org.junit.runner.Description)*)scala.collection.immutable.Map[F,org.junit.runner.Description]">Map</span><span class="delimiter">(</span><a href="#310701" title="=&gt; (F, org.junit.runner.Description)">initial</a><span class="delimiter">)</span>.<span title="(d: F =&gt; org.junit.runner.Description)scala.collection.immutable.Map[F,org.junit.runner.Description]">withDefault</span><span class="delimiter">(</span><a href="#310703" title="=&gt; F =&gt; org.junit.runner.Description">defaultDescription</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.specs2.internal.scalaz.Tree[(F, org.junit.runner.Description)]" id="312243">descriptionTree</a> = <a href="#310971" title="org.specs2.reporter.Levels[F]">leveledFragments</a>.<a href="Levels.scala.html#295301" title="[S](m: (F, Seq[S], Int) =&gt; Option[S])org.specs2.internal.scalaz.Tree[S]">toTree</a><span title="(m: (F, Seq[(F, org.junit.runner.Description)], Int) =&gt; Option[(F, org.junit.runner.Description)])org.specs2.internal.scalaz.Tree[(F, org.junit.runner.Description)]" class="delimiter">[</span><span title="(F, org.junit.runner.Description)">DescribedFragment</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#310684" title="(className: String)(F, Seq[(F, org.junit.runner.Description)], Int) =&gt; Option[(F, org.junit.runner.Description)]">mapper</a><span class="delimiter">(</span><a href="#310965" title="String">className</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="org.specs2.internal.scalaz.Tree[(F, org.junit.runner.Description)] =&gt; Option[(F, org.junit.runner.Description)]" id="312244">removeDanglingText</a> = <span class="delimiter">(</span>t: <span title="org.specs2.internal.scalaz.Tree[(F, org.junit.runner.Description)]">Tree</span><span class="delimiter">[</span>DescribedFragment<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
        <a href="#312264" title="org.specs2.internal.scalaz.Tree[(F, org.junit.runner.Description)]">t</a>.<span title="=&gt; (F, org.junit.runner.Description)">rootLabel</span>  <span title="Option[(F, org.junit.runner.Description)]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Option[(F, org.junit.runner.Description)]" class="delimiter">(</span>Text<span class="delimiter">(</span>_<span class="delimiter">)</span>, <a title="org.junit.runner.Description" id="312267">desc</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#312264" title="org.specs2.internal.scalaz.Tree[(F, org.junit.runner.Description)]">t</a>.<span title="=&gt; Stream[org.specs2.internal.scalaz.Tree[(F, org.junit.runner.Description)]]">subForest</span>.<span title="=&gt; Boolean">isEmpty</span>  =&gt; <span class="delimiter">(</span><span title="object None">None</span>:<span title="Option[(F, org.junit.runner.Description)]">Option</span><span class="delimiter">[</span>DescribedFragment<span class="delimiter">]</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Some[(F, org.junit.runner.Description)]" id="312277">other</a>                                   =&gt; <span title="(x: (F, org.junit.runner.Description))Some[(F, org.junit.runner.Description)]">Some</span><span class="delimiter">(</span><a href="#312264" title="org.specs2.internal.scalaz.Tree[(F, org.junit.runner.Description)]">t</a>.<span title="=&gt; (F, org.junit.runner.Description)">rootLabel</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="org.specs2.internal.scalaz.Tree[(F, org.junit.runner.Description)]" id="312245">prunedDescriptionTree</a> = <a href="../data/Trees.scala.html#103849" title="(t: org.specs2.internal.scalaz.Tree[(F, org.junit.runner.Description)])org.specs2.data.Trees.Treex[(F, org.junit.runner.Description)]">descriptionTree</a>.<a href="../data/Trees.scala.html#103921" title="(f: org.specs2.internal.scalaz.Tree[(F, org.junit.runner.Description)] =&gt; Option[(F, org.junit.runner.Description)])(implicit initial: (F, org.junit.runner.Description))org.specs2.internal.scalaz.Tree[(F, org.junit.runner.Description)]">prune</a><a href="#310701" title="=&gt; (F, org.junit.runner.Description)" class="delimiter">(</a><a href="#312244" title="org.specs2.internal.scalaz.Tree[(F, org.junit.runner.Description)] =&gt; Option[(F, org.junit.runner.Description)]">removeDanglingText</a><span class="delimiter">)</span>
      <a href="#312764" title="(description: org.junit.runner.Description, descriptions: Map[F,org.junit.runner.Description])org.specs2.reporter.DescriptionAndExamples[F]">DescriptionAndExamples</a><span class="delimiter">(</span><a href="#310685" title="(descriptionTree: org.specs2.internal.scalaz.Tree[(F, org.junit.runner.Description)])(implicit args: org.specs2.main.Arguments)org.junit.runner.Description">asOneDescription</a><a href="#310968" title="org.specs2.main.Arguments" class="delimiter">(</a><a href="#312245" title="org.specs2.internal.scalaz.Tree[(F, org.junit.runner.Description)]">prunedDescriptionTree</a><span class="delimiter">)</span>, <span title="(elems: (F, org.junit.runner.Description)*)scala.collection.immutable.Map[F,org.junit.runner.Description]">Map</span><span class="delimiter">(</span><a href="#312245" title="org.specs2.internal.scalaz.Tree[(F, org.junit.runner.Description)]">prunedDescriptionTree</a>.<span title="=&gt; Stream[(F, org.junit.runner.Description)]">flatten</span>.<span title="=&gt; scala.collection.immutable.Seq[(F, org.junit.runner.Description)]">toSeq</span>:_*<span class="delimiter">)</span>.<span title="(d: F =&gt; org.junit.runner.Description)scala.collection.immutable.Map[F,org.junit.runner.Description]">withDefault</span><span class="delimiter">(</span><a href="#310703" title="=&gt; F =&gt; org.junit.runner.Description">defaultDescription</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.junit.runner.Description" id="310707">specificationDescription</a> = <a href="#310689" title="(className: String, suiteName: String, testName: String, label: String)org.junit.runner.Description">createDescription</a><span class="delimiter">(</span><a href="#310965" title="String">className</a>, <a href="#310965" title="String">className</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">private</span><span class="delimiter">[</span>specs2<span class="delimiter">]</span>
<span class="keyword">trait</span> <a title="trait JUnitDescriptionMaker[F] extends java.lang.Object with org.specs2.control.ExecutionOrigin with ScalaObject" id="12110">JUnitDescriptionMaker</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="12111">F</a><span class="delimiter">]</span> <span title="ScalaObject" class="keyword">extends</span> <a href="../control/ExecutionOrigin.scala.html#9927" title="org.specs2.control.ExecutionOrigin">ExecutionOrigin</a> <span class="delimiter">{</span>
  <span class="keyword">type</span> <a title="(F, org.junit.runner.Description)" id="310683">DescribedFragment</a> = <span title="(F, org.junit.runner.Description)" class="delimiter">(</span>F, Description<span class="delimiter">)</span>
  <span class="comment">/**
   * This function is used to map each node in a Tree[Fragment] to a pair of 
   * (Description, Fragment)
   * 
   * The Int argument is the numeric label of the current TreeNode being mapped.
   * It is used to create a unique description of the example to executed which is required
   * by JUnit
   */</span>
  <span class="keyword">def</span> <a title="(className: String)(F, Seq[(F, org.junit.runner.Description)], Int) =&gt; Option[(F, org.junit.runner.Description)]" id="310684">mapper</a><span class="delimiter">(</span><a title="String" id="312250">className</a>: <span title="String">String</span><span class="delimiter">)</span>: <span class="delimiter">(</span>F, Seq<span class="delimiter">[</span>DescribedFragment<span class="delimiter">]</span>, Int<span class="delimiter">)</span> =&gt; Option<span class="delimiter">[</span>DescribedFragment<span class="delimiter">]</span>
  <span class="comment">/**
   * @return a Description with parent-child relationships to other Description objects
   *         from a Tree[Description]
   */</span>
  <span class="keyword">def</span> <a title="(descriptionTree: org.specs2.internal.scalaz.Tree[(F, org.junit.runner.Description)])(implicit args: org.specs2.main.Arguments)org.junit.runner.Description" id="310685">asOneDescription</a><span class="delimiter">(</span><a title="org.specs2.internal.scalaz.Tree[(F, org.junit.runner.Description)]" id="312664">descriptionTree</a>: <span title="org.specs2.internal.scalaz.Tree[(F, org.junit.runner.Description)]">Tree</span><span class="delimiter">[</span>DescribedFragment<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="org.specs2.main.Arguments" id="312351">args</a>: <a href="../main/Arguments.scala.html#10577" title="org.specs2.main.Arguments">Arguments</a> = <a href="../main/Arguments.scala.html#119528" title="(implicit arguments: String*)org.specs2.main.Arguments">Arguments</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>: <span title="org.junit.runner.Description">Description</span> = <span class="delimiter">{</span>
    <span title="org.junit.runner.Description" class="keyword">if</span> <span class="delimiter">(</span><a href="#312351" title="org.specs2.main.Arguments">args</a>.<a href="../main/Arguments.scala.html#36584" title="=&gt; Boolean">noindent</a><span class="delimiter">)</span>
      <a href="#312664" title="org.specs2.internal.scalaz.Tree[(F, org.junit.runner.Description)]">descriptionTree</a>.<span title="=&gt; Stream[(F, org.junit.runner.Description)]">flatten</span>.<span title="(n: Int)scala.collection.immutable.Stream[(F, org.junit.runner.Description)]">drop</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="(z: (F, org.junit.runner.Description))(op: ((F, org.junit.runner.Description), (F, org.junit.runner.Description)) =&gt; (F, org.junit.runner.Description))(F, org.junit.runner.Description)">foldLeft</span><span class="delimiter">(</span><a href="#312664" title="org.specs2.internal.scalaz.Tree[(F, org.junit.runner.Description)]">descriptionTree</a>.<span title="=&gt; (F, org.junit.runner.Description)">rootLabel</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#310688" title="=&gt; ((F, org.junit.runner.Description), (F, org.junit.runner.Description)) =&gt; (F, org.junit.runner.Description)">flattenChildren</a><span class="delimiter">)</span>.<span title="=&gt; org.junit.runner.Description">_2</span>
    <span class="keyword">else</span>
      <a href="../data/Trees.scala.html#103849" title="(t: org.specs2.internal.scalaz.Tree[(F, org.junit.runner.Description)])org.specs2.data.Trees.Treex[(F, org.junit.runner.Description)]">descriptionTree</a>.<a href="../data/Trees.scala.html#103915" title="(f: ((F, org.junit.runner.Description), Stream[(F, org.junit.runner.Description)]) =&gt; (F, org.junit.runner.Description))org.specs2.internal.scalaz.Tree[(F, org.junit.runner.Description)]">bottomUp</a><span class="delimiter">(</span><a href="#310686" title="=&gt; ((F, org.junit.runner.Description), Stream[(F, org.junit.runner.Description)]) =&gt; (F, org.junit.runner.Description)">addChildren</a><span class="delimiter">)</span>.<span title="=&gt; (F, org.junit.runner.Description)">rootLabel</span>.<span title="=&gt; org.junit.runner.Description">_2</span>
  <span class="delimiter">}</span>
  <span class="comment">/** 
   * unfolding function attaching children descriptions their parent
   */</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="((F, org.junit.runner.Description), Stream[(F, org.junit.runner.Description)]) =&gt; (F, org.junit.runner.Description)" id="310686">addChildren</a> = <span class="delimiter">(</span>desc: <span title="(F, org.junit.runner.Description)" class="delimiter">(</span>F, Description<span class="delimiter">)</span>, children: <span title="Stream[(F, org.junit.runner.Description)]">Stream</span><span class="delimiter">[</span>DescribedFragment<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
    <a href="#312386" title="Stream[(F, org.junit.runner.Description)]">children</a>.<span title="(f: ((F, org.junit.runner.Description)) =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="(F, org.junit.runner.Description)" id="312409">child</a> =&gt; <a href="#312385" title="(F, org.junit.runner.Description)">desc</a>.<span title="=&gt; org.junit.runner.Description">_2</span>.<span title="(x$1: org.junit.runner.Description)Unit">addChild</span><span class="delimiter">(</span><a href="#312409" title="(F, org.junit.runner.Description)">child</a>.<span title="=&gt; org.junit.runner.Description">_2</span><span class="delimiter">)</span> <span class="delimiter">}</span>
    <a href="#312385" title="(F, org.junit.runner.Description)">desc</a>
  <span class="delimiter">}</span>
  <span class="comment">/**
   * unfolding function attaching children descriptions the root
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; ((F, org.junit.runner.Description), (F, org.junit.runner.Description)) =&gt; (F, org.junit.runner.Description)" id="310688">flattenChildren</a> = <span class="delimiter">(</span>result: <span title="(F, org.junit.runner.Description)">DescribedFragment</span>, current: <span title="(F, org.junit.runner.Description)">DescribedFragment</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
    <a href="#312456" title="(F, org.junit.runner.Description)">result</a>.<span title="=&gt; org.junit.runner.Description">_2</span>.<span title="(x$1: org.junit.runner.Description)Unit">addChild</span><span class="delimiter">(</span><a href="#312457" title="(F, org.junit.runner.Description)">current</a>.<span title="=&gt; org.junit.runner.Description">_2</span><span class="delimiter">)</span>
    <a href="#312456" title="(F, org.junit.runner.Description)">result</a>
  <span class="delimiter">}</span>
  <span class="comment">/** @return a sanitized description */</span>
  <span class="keyword">def</span> <a title="(className: String, suiteName: String, testName: String, label: String)org.junit.runner.Description" id="310689">createDescription</a><span class="delimiter">(</span><a title="String" id="310764">className</a>: <span title="String">String</span>, <a title="String" id="310770">suiteName</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <a title="String" id="310771">testName</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <a title="String" id="310772">label</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="String" id="310773">origin</a> =
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../control/ExecutionOrigin.scala.html#94935" title="=&gt; Boolean">isExecutedFromAnIDE</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#310772" title="String">label</a>.<span title="()Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#310772" title="String">label</a>
      <span class="keyword">else</span> <a href="#310764" title="String">className</a>

    <span class="keyword">val</span> <a title="String" id="310774">desc</a>=
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#310771" title="String">testName</a>.<span title="()Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">(</span><span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#310770" title="String">suiteName</a>.<span title="()Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#310764" title="String">className</a> <span class="keyword">else</span> <a href="#310770" title="String">suiteName</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#310693" title="(s: String)java.lang.String">sanitize</a><span class="delimiter">(</span><a href="#310771" title="String">testName</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#310773" title="String">origin</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
    
    <span title="object org.junit.runner.Description">Description</span>.<span title="(x$1: java.lang.String, x$2: &lt;repeated...&gt;[java.lang.annotation.Annotation])org.junit.runner.Description">createSuiteDescription</span><span class="delimiter">(</span><a href="#310774" title="String">desc</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">import</span> text.<a href="../text/Trim.scala.html#13329" title="object org.specs2.text.Trim">Trim</a>._

  <span class="comment">/** @return a seq containing the path of an example without the root name */</span>
  <span class="keyword">def</span> <a title="(parentNodes: Seq[(F, org.junit.runner.Description)])Seq[java.lang.String]" id="310691">parentPath</a><span class="delimiter">(</span><a title="Seq[(F, org.junit.runner.Description)]" id="312508">parentNodes</a>: <span title="Seq[(F, org.junit.runner.Description)]">Seq</span><span class="delimiter">[</span>DescribedFragment<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#312508" title="Seq[(F, org.junit.runner.Description)]">parentNodes</a>.<span title="(n: Int)Seq[(F, org.junit.runner.Description)]">drop</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="(f: ((F, org.junit.runner.Description)) =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[(F, org.junit.runner.Description)],java.lang.String,Seq[java.lang.String]])Seq[java.lang.String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,java.lang.String,Seq[java.lang.String]]" class="delimiter">(</span><a href="#312532" title="(F, org.junit.runner.Description)">_</a>.<span title="=&gt; org.junit.runner.Description">_2</span>.<span title="()java.lang.String">getDisplayName</span><span class="delimiter">)</span>

  <span class="comment">/** @return a test name with no newlines */</span>
  <span class="keyword">def</span> <a title="(s: String, parentNodes: Seq[String])String" id="310692">testName</a><span class="delimiter">(</span><a title="String" id="312552">s</a>: <span title="String">String</span>, <a title="Seq[String]" id="312555">parentNodes</a>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="(elems: Nothing*)Seq[Nothing]">Seq</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <span class="delimiter">(</span><span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#312555" title="Seq[String]">parentNodes</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="../control/ExecutionOrigin.scala.html#94935" title="=&gt; Boolean">isExecutedFromAnIDE</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <a href="#312555" title="Seq[String]">parentNodes</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;::&quot;)" class="string">&quot;::&quot;</span>, <span title="java.lang.String(&quot;::&quot;)" class="string">&quot;::&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span>
    <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../control/ExecutionOrigin.scala.html#94935" title="=&gt; Boolean">isExecutedFromAnIDE</a><span class="delimiter">)</span> <a href="../text/Trim.scala.html#310781" title="(s: String)org.specs2.text.Trim.Trimmed">Trimmed</a><span class="delimiter">(</span><a href="#312552" title="String">s</a><span class="delimiter">)</span>.<a href="../text/Trim.scala.html#51565" title="=&gt; String">removeNewLines</a> <span class="keyword">else</span> <a href="../text/Trim.scala.html#310781" title="(s: String)org.specs2.text.Trim.Trimmed">Trimmed</a><span class="delimiter">(</span><a href="#312552" title="String">s</a><span class="delimiter">)</span>.<a href="../text/Trim.scala.html#51564" title="=&gt; String">trimNewLines</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>


  <span class="comment">/** @return replace () with [] because it cause display issues in JUnit plugins */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: String)java.lang.String" id="310693">sanitize</a><span class="delimiter">(</span><a title="String" id="310775">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.lang.String" id="310778">trimmed</a> = <a href="../text/Trim.scala.html#310781" title="(s: String)org.specs2.text.Trim.Trimmed">Trimmed</a><span class="delimiter">(</span><a href="#310775" title="String">s</a><span class="delimiter">)</span>.<a href="../text/Trim.scala.html#51569" title="(pairs: (String, String)*)java.lang.String">trimReplace</a><span class="delimiter">(</span><span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;(&quot;</span> <span title="(y: java.lang.String)(java.lang.String, java.lang.String)">-&gt;</span> <span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span>,  <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;)&quot;</span> <span title="(y: java.lang.String)(java.lang.String, java.lang.String)">-&gt;</span> <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span>
    <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#310778" title="java.lang.String">trimmed</a>.<span title="()Boolean">isEmpty</span><span class="delimiter">)</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>
    <span class="keyword">else</span> <a href="#310778" title="java.lang.String">trimmed</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>
<span class="comment">/**
 * Utility class grouping the total description + map of each fragment to its description
 */</span>
case <span class="keyword">class</span> <a title="class DescriptionAndExamples[T] extends java.lang.Object with ScalaObject with Product with Serializable" id="312764">DescriptionAndExamples</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="312195">T</a><span class="delimiter">]</span><a href="#312764" title="ScalaObject" class="delimiter">(</a><a title="org.junit.runner.Description" id="312209">description</a>: <span title="org.junit.runner.Description">Description</span>, <a title="Map[T,org.junit.runner.Description]" id="312210">descriptions</a>: <span title="Map[T,org.junit.runner.Description]">Map</span><span class="delimiter">[</span>T, Description<span class="delimiter">]</span><span class="delimiter">)</span>

        </pre>
    </body>
</html>