<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>org/specs2/reporter/HtmlPrinter.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> org.specs2
<span class="keyword">package</span> reporter

<span class="keyword">import</span> org.specs2.internal.scalaz.<span class="delimiter">{</span>Tree, Reducer, Scalaz<span class="delimiter">}</span>
<span class="keyword">import</span>  <span title="object org.specs2.internal.scalaz.Scalaz">Scalaz</span>._
<span class="keyword">import</span> collection.<a href="../collection/Iterablex.scala.html#9887" title="object org.specs2.collection.Iterablex">Iterablex</a>._
<span class="keyword">import</span> html._
<span class="keyword">import</span> xml.<a href="../xml/Nodex.scala.html#13373" title="object org.specs2.xml.Nodex">Nodex</a>._
<span class="keyword">import</span> data.<a href="../data/Trees.scala.html#10059" title="object org.specs2.data.Trees">Trees</a>._
<span class="keyword">import</span> data.<a href="../data/Tuples.scala.html#10065" title="object org.specs2.data.Tuples">Tuples</a>._
<span class="keyword">import</span> <a href="../html/TableOfContents.scala.html#10442" title="object org.specs2.html.TableOfContents">TableOfContents</a>._
<span class="keyword">import</span> main.Arguments
<span class="keyword">import</span> specification._
<span class="keyword">import</span> <a href="Statistics.scala.html#12338" title="object org.specs2.reporter.Statistics">Statistics</a>._
<span class="keyword">import</span> <a href="Levels.scala.html#12174" title="object org.specs2.reporter.Levels">Levels</a>._
<span class="keyword">import</span> <a href="SpecsArguments.scala.html#12312" title="object org.specs2.reporter.SpecsArguments">SpecsArguments</a>._
<span class="keyword">import</span> scala.xml.NodeSeq
<span class="keyword">import</span> io.<a href="../io/Paths.scala.html#10546" title="object org.specs2.io.Paths">Paths</a>._

<span class="comment">/**
 * The Html printer is used to create an Html report of an executed specification.
 * 
 * To do this, it uses a reducer to prepare print blocks with:
 * 
 * - the text to print
 * - the indentation level
 * - the statistics
 * - the current arguments to use
 *
 */</span>
<span class="keyword">trait</span> <a title="trait HtmlPrinter extends java.lang.Object with ScalaObject" id="12040">HtmlPrinter</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="comment">/**
   * print a sequence of executed fragments for a given specification class into a html file
   * the name of the html file is the full class name
   */</span>
  <span class="keyword">def</span> <a title="(spec: org.specs2.specification.ExecutedSpecification)(implicit args: org.specs2.main.Arguments)Seq[org.specs2.reporter.HtmlFile]" id="299677">print</a><span class="delimiter">(</span><a title="org.specs2.specification.ExecutedSpecification" id="299902">spec</a>: <a href="../specification/ExecutedSpecification.scala.html#12725" title="org.specs2.specification.ExecutedSpecification">ExecutedSpecification</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="org.specs2.main.Arguments" id="299903">args</a>: <a href="../main/Arguments.scala.html#10577" title="org.specs2.main.Arguments">Arguments</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="delimiter">(</span><a href="#299678" title="(spec: org.specs2.specification.ExecutedSpecification)org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]">createHtmlLinesFiles</a><span title="(x: =&gt; org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile])org.specs2.internal.scalaz.Identity[org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]]" class="delimiter">(</span><a href="#299902" title="org.specs2.specification.ExecutedSpecification">spec</a><span class="delimiter">)</span> <span title="(f: org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile] =&gt; Seq[org.specs2.reporter.HtmlLinesFile])Seq[org.specs2.reporter.HtmlLinesFile]">|&gt;</span> <a href="#299681" title="(implicit args: org.specs2.main.Arguments)org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile] =&gt; Seq[org.specs2.reporter.HtmlLinesFile]">addToc</a><span class="delimiter">)</span>.<span title="(f: org.specs2.reporter.HtmlLinesFile =&gt; org.specs2.reporter.HtmlFile)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[org.specs2.reporter.HtmlLinesFile],org.specs2.reporter.HtmlFile,Seq[org.specs2.reporter.HtmlFile]])Seq[org.specs2.reporter.HtmlFile]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,org.specs2.reporter.HtmlFile,Seq[org.specs2.reporter.HtmlFile]]" class="delimiter">(</span><a href="#299679" title="(output: =&gt; org.specs2.reporter.HtmlReportOutput)org.specs2.reporter.HtmlLinesFile =&gt; org.specs2.reporter.HtmlFile">printHtml</a><span class="delimiter">(</span><a href="#299680" title="=&gt; org.specs2.reporter.HtmlReportOutput">output</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * map the executed fragments to HtmlLines and sort them by destination file, one file per specification
   *
   * @return a Tree of HtmlLinesFile where the root is the parent specification and children are the included specifications
   */</span>
  <span class="keyword">def</span> <a title="(spec: org.specs2.specification.ExecutedSpecification)org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]" id="299678">createHtmlLinesFiles</a><span class="delimiter">(</span><a title="org.specs2.specification.ExecutedSpecification" id="299906">spec</a>: <a href="../specification/ExecutedSpecification.scala.html#12725" title="org.specs2.specification.ExecutedSpecification">ExecutedSpecification</a><span class="delimiter">)</span>: <span title="org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]">Tree</span><span class="delimiter">[</span>HtmlLinesFile<span class="delimiter">]</span> =
    <a href="#299682" title="(spec: org.specs2.specification.ExecutedSpecification)Seq[org.specs2.reporter.HtmlLine]">reduce</a><span title="(x: =&gt; Seq[org.specs2.reporter.HtmlLine])org.specs2.internal.scalaz.Identity[Seq[org.specs2.reporter.HtmlLine]]" class="delimiter">(</span><a href="#299906" title="org.specs2.specification.ExecutedSpecification">spec</a><span class="delimiter">)</span> <span title="(f: Seq[org.specs2.reporter.HtmlLine] =&gt; org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile])org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]">|&gt;</span> <a href="#299683" title="(specName: org.specs2.specification.SpecName, arguments: org.specs2.main.Arguments, parentLink: org.specs2.specification.HtmlLink)Seq[org.specs2.reporter.HtmlLine] =&gt; org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]">sortByFile</a><span class="delimiter">(</span><a href="#299906" title="org.specs2.specification.ExecutedSpecification">spec</a>.<a href="../specification/ExecutedSpecification.scala.html#294380" title="=&gt; org.specs2.specification.SpecName">name</a>, <a href="#299906" title="org.specs2.specification.ExecutedSpecification">spec</a>.<a href="../specification/ExecutedSpecification.scala.html#294395" title="=&gt; org.specs2.main.Arguments">arguments</a>, parentLink = <a href="../specification/HtmlLink.scala.html#301897" title="(name: org.specs2.specification.SpecName, beforeText: String, linkText: String, afterText: String, tip: String)org.specs2.specification.SpecHtmlLink">HtmlLink</a><span class="delimiter">(</span><a href="#299906" title="org.specs2.specification.ExecutedSpecification">spec</a>.<a href="../specification/ExecutedSpecification.scala.html#294380" title="=&gt; org.specs2.specification.SpecName">name</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <a href="#299906" title="org.specs2.specification.ExecutedSpecification">spec</a>.<a href="../specification/ExecutedSpecification.scala.html#294380" title="=&gt; org.specs2.specification.SpecName">name</a>.<a href="../specification/SpecName.scala.html#51071" title="=&gt; String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * a function printing html lines to a file given:
   *
   * - the list of lines to print
   * - an output object responsible for printing each HtmlLine as xhtml
   */</span>
  <span class="keyword">def</span> <a title="(output: =&gt; org.specs2.reporter.HtmlReportOutput)org.specs2.reporter.HtmlLinesFile =&gt; org.specs2.reporter.HtmlFile" id="299679">printHtml</a><span class="delimiter">(</span><a title="=&gt; org.specs2.reporter.HtmlReportOutput" id="300630">output</a>: =&gt;HtmlReportOutput<span class="delimiter">)</span>: HtmlLinesFile =&gt; HtmlFile = <span class="delimiter">(</span>file: <a href="HtmlLinesFile.scala.html#12000" title="org.specs2.reporter.HtmlLinesFile">HtmlLinesFile</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
    <a href="#306497" title="(url: String, xml: scala.xml.NodeSeq)org.specs2.reporter.HtmlFile">HtmlFile</a><span class="delimiter">(</span><a href="#304563" title="org.specs2.reporter.HtmlLinesFile">file</a>.<a href="HtmlLinesFile.scala.html#300537" title="=&gt; org.specs2.specification.HtmlLink">link</a>.<a href="../specification/HtmlLink.scala.html#285173" title="=&gt; String">url</a>, <a href="#304563" title="org.specs2.reporter.HtmlLinesFile">file</a>.<a href="HtmlLinesFile.scala.html#300546" title="(out: =&gt; org.specs2.reporter.HtmlReportOutput)org.specs2.reporter.HtmlReportOutput">print</a><span class="delimiter">(</span><a href="#300630" title="=&gt; org.specs2.reporter.HtmlReportOutput">output</a><span class="delimiter">)</span>.<a href="HtmlReportOutput.scala.html#301018" title="=&gt; scala.xml.NodeSeq">xml</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** @return a new HtmlReportOutput object creating html elements */</span>
  <span class="keyword">def</span> <a title="=&gt; org.specs2.reporter.HtmlReportOutput" id="299680">output</a>: <a href="HtmlReportOutput.scala.html#12056" title="org.specs2.reporter.HtmlReportOutput">HtmlReportOutput</a> = <a href="HtmlResultOutput.scala.html#304636" title="org.specs2.reporter.HtmlResultOutput" class="keyword">new</a> <a href="HtmlResultOutput.scala.html#12077" title="org.specs2.reporter.HtmlResultOutput">HtmlResultOutput</a>

  <span class="comment">/**
   * @return add a toc to each HtmlFile where relevant
   */</span>
  <span class="keyword">def</span> <a title="(implicit args: org.specs2.main.Arguments)org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile] =&gt; Seq[org.specs2.reporter.HtmlLinesFile]" id="299681">addToc</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="org.specs2.main.Arguments" id="300605">args</a>: <a href="../main/Arguments.scala.html#10577" title="org.specs2.main.Arguments">Arguments</a><span class="delimiter">)</span>: Tree<span class="delimiter">[</span>HtmlLinesFile<span class="delimiter">]</span> =&gt; Seq<span class="delimiter">[</span>HtmlLinesFile<span class="delimiter">]</span> = <span class="delimiter">(</span>htmlFiles: <span title="org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]">Tree</span><span class="delimiter">[</span>HtmlLinesFile<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="org.specs2.reporter.HtmlLinesFile" id="304647">root</a> = <a href="#304646" title="org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]">htmlFiles</a>.<span title="=&gt; org.specs2.reporter.HtmlLinesFile">rootLabel</span>
    <span class="keyword">def</span> <a title="(tree: org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile])scala.xml.NodeSeq" id="304648">tocItems</a><span class="delimiter">(</span><a title="org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]" id="304649">tree</a>: <span title="org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]">Tree</span><span class="delimiter">[</span>HtmlLinesFile<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scala.xml.NodeSeq">NodeSeq</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.specs2.reporter.HtmlLinesFile" id="304650">current</a> = <a href="#304649" title="org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]">tree</a>.<span title="=&gt; org.specs2.reporter.HtmlLinesFile">rootLabel</span>
      <a href="../html/TableOfContents.scala.html#149348" title="(body: scala.xml.NodeSeq, rootUrl: String, url: String, id: org.specs2.html.package.SpecId, subTocs: Map[org.specs2.html.package.SpecId,scala.xml.NodeSeq])scala.xml.NodeSeq">tocItemList</a><span class="delimiter">(</span>body    = <a href="#304650" title="org.specs2.reporter.HtmlLinesFile">current</a>.<a href="HtmlLinesFile.scala.html#300547" title="(out: org.specs2.reporter.HtmlReportOutput)org.specs2.reporter.HtmlReportOutput">printLines</a><span class="delimiter">(</span><a href="#299680" title="=&gt; org.specs2.reporter.HtmlReportOutput">output</a><span class="delimiter">)</span>.<a href="HtmlReportOutput.scala.html#301018" title="=&gt; scala.xml.NodeSeq">xml</a>,
                  rootUrl = <a href="#304647" title="org.specs2.reporter.HtmlLinesFile">root</a>.<a href="HtmlLinesFile.scala.html#300537" title="=&gt; org.specs2.specification.HtmlLink">link</a>.<a href="../specification/HtmlLink.scala.html#285173" title="=&gt; String">url</a>,
                  url     = <a href="#304650" title="org.specs2.reporter.HtmlLinesFile">current</a>.<a href="HtmlLinesFile.scala.html#300537" title="=&gt; org.specs2.specification.HtmlLink">link</a>.<a href="../specification/HtmlLink.scala.html#285173" title="=&gt; String">url</a>,
                  id      = <a href="#304650" title="org.specs2.reporter.HtmlLinesFile">current</a>.<a href="HtmlLinesFile.scala.html#300551" title="=&gt; org.specs2.html.package.SpecId">specId</a>,
                  subTocs = <span title="(elems: (org.specs2.html.package.SpecId, scala.xml.NodeSeq)*)scala.collection.immutable.Map[org.specs2.html.package.SpecId,scala.xml.NodeSeq]">Map</span><span class="delimiter">(</span><a href="#304649" title="org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]">tree</a>.<span title="=&gt; Stream[org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]]">subForest</span>.<span title="(f: org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile] =&gt; (org.specs2.html.package.SpecId, scala.xml.NodeSeq))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]],(org.specs2.html.package.SpecId, scala.xml.NodeSeq),scala.collection.immutable.Stream[(org.specs2.html.package.SpecId, scala.xml.NodeSeq)]])scala.collection.immutable.Stream[(org.specs2.html.package.SpecId, scala.xml.NodeSeq)]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream.Coll,(org.specs2.html.package.SpecId, scala.xml.NodeSeq),scala.collection.immutable.Stream[(org.specs2.html.package.SpecId, scala.xml.NodeSeq)]]" class="delimiter">(</span><a title="org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]" id="304796">subSpec</a> =&gt; <span title="(_1: org.specs2.html.package.SpecId, _2: scala.xml.NodeSeq)(org.specs2.html.package.SpecId, scala.xml.NodeSeq)" class="delimiter">(</span><a href="#304796" title="org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]">subSpec</a>.<span title="=&gt; org.specs2.reporter.HtmlLinesFile">rootLabel</span>.<a href="HtmlLinesFile.scala.html#300551" title="=&gt; org.specs2.html.package.SpecId">specId</a>, <a href="#304648" title="(tree: org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile])scala.xml.NodeSeq">tocItems</a><span class="delimiter">(</span><a href="#304796" title="org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]">subSpec</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>:_*<span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="comment">// add a toc only where a parent file defines it</span>
    <span class="comment">// and propagate the same toc to the children</span>
    <span title="Seq[org.specs2.reporter.HtmlLinesFile]" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#300605" title="org.specs2.main.Arguments">args</a> <a href="../main/Arguments.scala.html#36593" title="(other: org.specs2.main.Arguments)org.specs2.main.Arguments">&lt;|</a> <a href="#304647" title="org.specs2.reporter.HtmlLinesFile">root</a>.<a href="HtmlLinesFile.scala.html#300535" title="=&gt; org.specs2.main.Arguments">args</a><span class="delimiter">)</span>.<a href="../main/Arguments.scala.html#36558" title="=&gt; org.specs2.main.Report">report</a>.<a href="../main/Arguments.scala.html#159829" title="=&gt; Boolean">hasToc</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.specs2.reporter.TreeToc" id="304845">rootToc</a> = <a href="#306493" title="(rootCode: org.specs2.html.package.SpecId, toc: scala.xml.NodeSeq)org.specs2.reporter.TreeToc">TreeToc</a><span class="delimiter">(</span><a href="#304647" title="org.specs2.reporter.HtmlLinesFile">root</a>.<a href="HtmlLinesFile.scala.html#300551" title="=&gt; org.specs2.html.package.SpecId">specId</a>, <a href="#304648" title="(tree: org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile])scala.xml.NodeSeq">tocItems</a><span class="delimiter">(</span><a href="#304646" title="org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]">htmlFiles</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#304647" title="org.specs2.reporter.HtmlLinesFile">root</a>.<a href="HtmlLinesFile.scala.html#301278" title="org.specs2.specification.SpecName" id="304854">copy</a><span class="delimiter">(</span>toc = <a href="#304845" title="org.specs2.reporter.TreeToc" id="304849">rootToc</a><span class="delimiter">)</span> <a href="#304848" title="(elem: org.specs2.reporter.HtmlLinesFile)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Seq[org.specs2.reporter.HtmlLinesFile],org.specs2.reporter.HtmlLinesFile,Seq[org.specs2.reporter.HtmlLinesFile]])Seq[org.specs2.reporter.HtmlLinesFile]">+:</a> <a href="#304646" title="org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]">htmlFiles</a>.<span title="=&gt; Stream[org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]]">subForest</span>.<span title="(f: org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile] =&gt; scala.collection.GenTraversableOnce[org.specs2.reporter.HtmlLinesFile])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]],org.specs2.reporter.HtmlLinesFile,scala.collection.immutable.Stream[org.specs2.reporter.HtmlLinesFile]])scala.collection.immutable.Stream[org.specs2.reporter.HtmlLinesFile]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream.Coll,org.specs2.reporter.HtmlLinesFile,scala.collection.immutable.Stream[org.specs2.reporter.HtmlLinesFile]]" class="delimiter">(</span><a href="#304880" title="org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]">_</a>.<span title="=&gt; Stream[org.specs2.reporter.HtmlLinesFile]">flatten</span><span class="delimiter">)</span>.<span title="(f: org.specs2.reporter.HtmlLinesFile =&gt; org.specs2.reporter.HtmlLinesFile)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[org.specs2.reporter.HtmlLinesFile],org.specs2.reporter.HtmlLinesFile,scala.collection.immutable.Stream[org.specs2.reporter.HtmlLinesFile]])scala.collection.immutable.Stream[org.specs2.reporter.HtmlLinesFile]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream.Coll,org.specs2.reporter.HtmlLinesFile,scala.collection.immutable.Stream[org.specs2.reporter.HtmlLinesFile]]" class="delimiter">(</span><a href="#304947" title="org.specs2.reporter.HtmlLinesFile">_</a>.<a href="HtmlLinesFile.scala.html#301278" title="org.specs2.specification.SpecName" id="304953">copy</a><span class="delimiter">(</span>toc = <a href="#304845" title="org.specs2.reporter.TreeToc" id="304948">rootToc</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; scala.collection.immutable.Seq[org.specs2.reporter.HtmlLinesFile]">toSeq</span>
    <span class="delimiter">}</span>
    <span class="keyword">else</span>
      <a href="#304647" title="org.specs2.reporter.HtmlLinesFile">root</a> <a href="#305067" title="(elem: org.specs2.reporter.HtmlLinesFile)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Seq[org.specs2.reporter.HtmlLinesFile],org.specs2.reporter.HtmlLinesFile,Seq[org.specs2.reporter.HtmlLinesFile]])Seq[org.specs2.reporter.HtmlLinesFile]">+:</a> <a href="#304646" title="org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]">htmlFiles</a>.<span title="=&gt; Stream[org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]]">subForest</span>.<span title="(f: org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile] =&gt; scala.collection.GenTraversableOnce[org.specs2.reporter.HtmlLinesFile])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]],org.specs2.reporter.HtmlLinesFile,scala.collection.immutable.Stream[org.specs2.reporter.HtmlLinesFile]])scala.collection.immutable.Stream[org.specs2.reporter.HtmlLinesFile]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream.Coll,org.specs2.reporter.HtmlLinesFile,scala.collection.immutable.Stream[org.specs2.reporter.HtmlLinesFile]]" class="delimiter">(</span><a href="#299681" title="(implicit args: org.specs2.main.Arguments)org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile] =&gt; Seq[org.specs2.reporter.HtmlLinesFile]">addToc</a><span class="delimiter">)</span>.<span title="=&gt; scala.collection.immutable.Seq[org.specs2.reporter.HtmlLinesFile]">toSeq</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Organize the fragments into blocks of html lines to print, grouping all the fragments found after a link
   * into a single block that will be reported on a different html page
   *
   * This works by using a List of HtmlLines as a stack where the head of the list is the current block of lines
   *
   * @return the HtmlLines to print
   */</span>
  <span class="keyword">def</span> <a title="(spec: org.specs2.specification.ExecutedSpecification)Seq[org.specs2.reporter.HtmlLine]" id="299682">reduce</a><span class="delimiter">(</span><a title="org.specs2.specification.ExecutedSpecification" id="304071">spec</a>: <a href="../specification/ExecutedSpecification.scala.html#12725" title="org.specs2.specification.ExecutedSpecification">ExecutedSpecification</a><span class="delimiter">)</span>: <span title="Seq[org.specs2.reporter.HtmlLine]">Seq</span><span class="delimiter">[</span>HtmlLine<span class="delimiter">]</span> = <a href="#299684" title="(results: (((Seq[org.specs2.reporter.HtmlLine], org.specs2.reporter.Statistics.SpecStats), org.specs2.reporter.Levels[org.specs2.specification.ExecutedFragment]), org.specs2.reporter.SpecsArguments[org.specs2.specification.ExecutedFragment]))Seq[org.specs2.reporter.HtmlLine]">flatten</a><span class="delimiter">(</span><a href="#304071" title="org.specs2.specification.ExecutedSpecification">spec</a>.<a href="../collection/Iterablex.scala.html#48522" title="(xs: scala.collection.GenIterable[org.specs2.specification.ExecutedFragment])org.specs2.collection.Iterablex.ExtendedIterable[org.specs2.specification.ExecutedFragment]">fragments</a>.<a href="../collection/Iterablex.scala.html#92549" title="(reducer: org.specs2.internal.scalaz.Reducer[org.specs2.specification.ExecutedFragment,(((Seq[org.specs2.reporter.HtmlLine], org.specs2.reporter.Statistics.SpecStats), org.specs2.reporter.Levels[org.specs2.specification.ExecutedFragment]), org.specs2.reporter.SpecsArguments[org.specs2.specification.ExecutedFragment])])(((Seq[org.specs2.reporter.HtmlLine], org.specs2.reporter.Statistics.SpecStats), org.specs2.reporter.Levels[org.specs2.specification.ExecutedFragment]), org.specs2.reporter.SpecsArguments[org.specs2.specification.ExecutedFragment])">reduceWith</a><span class="delimiter">(</span><a href="#299685" title="=&gt; org.specs2.internal.scalaz.Reducer[org.specs2.specification.ExecutedFragment,(((Seq[org.specs2.reporter.HtmlLine], org.specs2.reporter.Statistics.SpecStats), org.specs2.reporter.Levels[org.specs2.specification.ExecutedFragment]), org.specs2.reporter.SpecsArguments[org.specs2.specification.ExecutedFragment])]">reducer</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Sort HtmlLines into a Tree of HtmlLinesFile object where the tree represents the tree of included specifications
   *
   * The goal is to create a file per included specification and to use the Tree of files to create a table of contents for the root specification
   */</span>
  <span class="keyword">def</span> <a title="(specName: org.specs2.specification.SpecName, arguments: org.specs2.main.Arguments, parentLink: org.specs2.specification.HtmlLink)Seq[org.specs2.reporter.HtmlLine] =&gt; org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]" id="299683">sortByFile</a><span class="delimiter">(</span><a title="org.specs2.specification.SpecName" id="304157">specName</a>: <a href="../specification/SpecName.scala.html#13075" title="org.specs2.specification.SpecName">SpecName</a>, <a title="org.specs2.main.Arguments" id="304158">arguments</a>: <a href="../main/Arguments.scala.html#10577" title="org.specs2.main.Arguments">Arguments</a>, <a title="org.specs2.specification.HtmlLink" id="304159">parentLink</a>: <a href="../specification/HtmlLink.scala.html#12854" title="org.specs2.specification.HtmlLink">HtmlLink</a><span class="delimiter">)</span> = <span class="delimiter">(</span>lines: <span title="Seq[org.specs2.reporter.HtmlLine]">Seq</span><span class="delimiter">[</span>HtmlLine<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.specs2.reporter.HtmlLinesFile" id="304165">start</a> = <a href="HtmlLinesFile.scala.html#300526" title="(specName: org.specs2.specification.SpecName, args: org.specs2.main.Arguments, link: org.specs2.specification.HtmlLink, lines: Seq[org.specs2.reporter.HtmlLine], parent: Option[org.specs2.reporter.HtmlLinesFile], toc: org.specs2.reporter.TreeToc)org.specs2.reporter.HtmlLinesFile">HtmlLinesFile</a><span class="delimiter">(</span><a href="#304157" title="org.specs2.specification.SpecName">specName</a>, <a href="#304158" title="org.specs2.main.Arguments">arguments</a>, <a href="#304159" title="org.specs2.specification.HtmlLink">parentLink</a><span class="delimiter">)</span>
    <a href="#304163" title="Seq[org.specs2.reporter.HtmlLine]">lines</a>.<span title="(z: org.specs2.internal.scalaz.TreeLoc[org.specs2.reporter.HtmlLinesFile])(op: (org.specs2.internal.scalaz.TreeLoc[org.specs2.reporter.HtmlLinesFile], org.specs2.reporter.HtmlLine) =&gt; org.specs2.internal.scalaz.TreeLoc[org.specs2.reporter.HtmlLinesFile])org.specs2.internal.scalaz.TreeLoc[org.specs2.reporter.HtmlLinesFile]">foldLeft</span> <span class="delimiter">(</span><span title="(root: =&gt; org.specs2.reporter.HtmlLinesFile)org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]">leaf</span><span class="delimiter">(</span><a href="#304164" title="=&gt; org.specs2.reporter.HtmlLinesFile">start</a><span class="delimiter">)</span>.<span title="=&gt; org.specs2.internal.scalaz.TreeLoc[org.specs2.reporter.HtmlLinesFile]">loc</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="org.specs2.internal.scalaz.TreeLoc[org.specs2.reporter.HtmlLinesFile]" id="304187">res</a>, <a title="org.specs2.reporter.HtmlLine" id="304188">cur</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">val</span> <a title="org.specs2.internal.scalaz.TreeLoc[org.specs2.reporter.HtmlLinesFile]" id="304189">updated</a> = <a href="../data/Trees.scala.html#103888" title="(t: org.specs2.internal.scalaz.TreeLoc[org.specs2.reporter.HtmlLinesFile])org.specs2.data.Trees.TreeLocx[org.specs2.reporter.HtmlLinesFile]">res</a>.<a href="../data/Trees.scala.html#108953" title="(f: org.specs2.reporter.HtmlLinesFile =&gt; org.specs2.reporter.HtmlLinesFile)org.specs2.internal.scalaz.TreeLoc[org.specs2.reporter.HtmlLinesFile]">updateLabel</a><span class="delimiter">(</span><a href="#304238" title="org.specs2.reporter.HtmlLinesFile">_</a>.<a href="HtmlLinesFile.scala.html#300548" title="(line: org.specs2.reporter.HtmlLine)org.specs2.reporter.HtmlLinesFile">add</a><span class="delimiter">(</span><a href="#304188" title="org.specs2.reporter.HtmlLine">cur</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="comment">// html lines for an included specification are placed into HtmlSpecStart and HtmlSpecEnd fragments</span>
      <a href="#304188" title="org.specs2.reporter.HtmlLine">cur</a> <span title="org.specs2.internal.scalaz.TreeLoc[org.specs2.reporter.HtmlLinesFile]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="org.specs2.internal.scalaz.TreeLoc[org.specs2.reporter.HtmlLinesFile]" id="304239">start</a> @ HtmlSpecStart<span class="delimiter">(</span><a title="org.specs2.specification.ExecutedSpecStart" id="304240">s</a>, <a title="org.specs2.specification.Stats" id="304241">st</a>, <a title="Int" id="304242">l</a>, <a title="org.specs2.main.Arguments" id="304243">a</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#304239" title="org.specs2.reporter.HtmlSpecStart">start</a>.<a href="HtmlLinesFile.scala.html#301713" title="=&gt; Boolean">isIncludeLink</a> =&gt;
          <a href="#304189" title="org.specs2.internal.scalaz.TreeLoc[org.specs2.reporter.HtmlLinesFile]">updated</a>.<span title="(t: org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile])org.specs2.internal.scalaz.TreeLoc[org.specs2.reporter.HtmlLinesFile]">insertDownLast</span><span class="delimiter">(</span><span title="(root: =&gt; org.specs2.reporter.HtmlLinesFile)org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]">leaf</span><span class="delimiter">(</span><a href="HtmlLinesFile.scala.html#300526" title="(specName: org.specs2.specification.SpecName, args: org.specs2.main.Arguments, link: org.specs2.specification.HtmlLink, lines: Seq[org.specs2.reporter.HtmlLine], parent: Option[org.specs2.reporter.HtmlLinesFile], toc: org.specs2.reporter.TreeToc)org.specs2.reporter.HtmlLinesFile">HtmlLinesFile</a><span class="delimiter">(</span><a href="#304240" title="org.specs2.specification.ExecutedSpecStart">s</a>.<a href="../specification/ExecutedFragment.scala.html#297265" title="=&gt; org.specs2.specification.SpecName">specName</a>, <a href="#304240" title="org.specs2.specification.ExecutedSpecStart">s</a>.<a href="../specification/ExecutedFragment.scala.html#297268" title="=&gt; org.specs2.main.Arguments">args</a>, <a href="#304239" title="org.specs2.reporter.HtmlSpecStart">start</a>.<a href="HtmlLinesFile.scala.html#301715" title="=&gt; Option[org.specs2.specification.HtmlLink]">link</a>.<span title="(default: =&gt; org.specs2.specification.HtmlLink)org.specs2.specification.HtmlLink">getOrElse</span><span class="delimiter">(</span><a href="#304159" title="org.specs2.specification.HtmlLink">parentLink</a><span class="delimiter">)</span>, <span title="(xs: org.specs2.reporter.HtmlSpecStart*)List[org.specs2.reporter.HtmlSpecStart]">List</span><span class="delimiter">(</span><a href="#304239" title="org.specs2.reporter.HtmlSpecStart">start</a>.<a href="HtmlLinesFile.scala.html#301717" title="=&gt; org.specs2.reporter.HtmlSpecStart">unlink</a><span class="delimiter">)</span>, <span title="(x: org.specs2.reporter.HtmlLinesFile)Some[org.specs2.reporter.HtmlLinesFile]">Some</span><span class="delimiter">(</span><a href="#304189" title="org.specs2.internal.scalaz.TreeLoc[org.specs2.reporter.HtmlLinesFile]">updated</a>.<span title="=&gt; org.specs2.reporter.HtmlLinesFile">getLabel</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="org.specs2.internal.scalaz.TreeLoc[org.specs2.reporter.HtmlLinesFile]">HtmlSpecEnd</span><span class="delimiter">(</span><a title="org.specs2.specification.ExecutedSpecEnd" id="304270">e</a>, _, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#304270" title="org.specs2.specification.ExecutedSpecEnd">e</a>.<a href="../specification/ExecutedFragment.scala.html#297353" title="=&gt; org.specs2.specification.SpecName">specName</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#304187" title="org.specs2.internal.scalaz.TreeLoc[org.specs2.reporter.HtmlLinesFile]">res</a>.<span title="=&gt; org.specs2.reporter.HtmlLinesFile">getLabel</span>.<a href="HtmlLinesFile.scala.html#300533" title="=&gt; org.specs2.specification.SpecName">specName</a> =&gt; <a href="../data/Trees.scala.html#103888" title="(t: org.specs2.internal.scalaz.TreeLoc[org.specs2.reporter.HtmlLinesFile])org.specs2.data.Trees.TreeLocx[org.specs2.reporter.HtmlLinesFile]">updated</a>.<a href="../data/Trees.scala.html#108952" title="=&gt; org.specs2.internal.scalaz.TreeLoc[org.specs2.reporter.HtmlLinesFile]">getParent</a>
        <span class="keyword">case</span> <a title="org.specs2.internal.scalaz.TreeLoc[org.specs2.reporter.HtmlLinesFile]" id="304316">other</a>                                                          =&gt; <a href="#304189" title="org.specs2.internal.scalaz.TreeLoc[org.specs2.reporter.HtmlLinesFile]">updated</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>.<span title="=&gt; org.specs2.internal.scalaz.TreeLoc[org.specs2.reporter.HtmlLinesFile]">root</span>.<span title="=&gt; org.specs2.internal.scalaz.Tree[org.specs2.reporter.HtmlLinesFile]">tree</span>
  <span class="delimiter">}</span>

  <span class="comment">/** flatten the results of the reduction to a seq of Html lines */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(results: (((Seq[org.specs2.reporter.HtmlLine], org.specs2.reporter.Statistics.SpecStats), org.specs2.reporter.Levels[org.specs2.specification.ExecutedFragment]), org.specs2.reporter.SpecsArguments[org.specs2.specification.ExecutedFragment]))Seq[org.specs2.reporter.HtmlLine]" id="299684">flatten</a><span class="delimiter">(</span><a title="(((Seq[org.specs2.reporter.HtmlLine], org.specs2.reporter.Statistics.SpecStats), org.specs2.reporter.Levels[org.specs2.specification.ExecutedFragment]), org.specs2.reporter.SpecsArguments[org.specs2.specification.ExecutedFragment])" id="305181">results</a>: <span title="(((Seq[org.specs2.reporter.HtmlLine], org.specs2.reporter.Statistics.SpecStats), org.specs2.reporter.Levels[org.specs2.specification.ExecutedFragment]), org.specs2.reporter.SpecsArguments[org.specs2.specification.ExecutedFragment])" class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">(</span>Seq<span class="delimiter">[</span>HtmlLine<span class="delimiter">]</span>, SpecStats<span class="delimiter">)</span>, Levels<span class="delimiter">[</span>ExecutedFragment<span class="delimiter">]</span><span class="delimiter">)</span>, SpecsArguments<span class="delimiter">[</span>ExecutedFragment<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>: <span title="Seq[org.specs2.reporter.HtmlLine]">Seq</span><span class="delimiter">[</span>HtmlLine<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a href="#305237" title="(Seq[org.specs2.reporter.HtmlLine], org.specs2.reporter.Statistics.SpecStats, org.specs2.reporter.Levels[org.specs2.specification.ExecutedFragment], org.specs2.reporter.SpecsArguments[org.specs2.specification.ExecutedFragment])" class="delimiter">(</a><a href="#305236" title="Seq[org.specs2.reporter.HtmlLine]" id="305237">prints</a>, <a href="#305236" title="org.specs2.reporter.Statistics.SpecStats" id="305238">stats</a>, <a href="#305236" title="org.specs2.reporter.Levels[org.specs2.specification.ExecutedFragment]" id="305239">levels</a>, <a href="#305236" title="org.specs2.reporter.SpecsArguments[org.specs2.specification.ExecutedFragment]" id="305240">args</a><span class="delimiter">)</span> = <a href="../data/Tuples.scala.html#109577" title="(t: (((Seq[org.specs2.reporter.HtmlLine], org.specs2.reporter.Statistics.SpecStats), org.specs2.reporter.Levels[org.specs2.specification.ExecutedFragment]), org.specs2.reporter.SpecsArguments[org.specs2.specification.ExecutedFragment]))org.specs2.data.Tuples.FlattenedTuple4[Seq[org.specs2.reporter.HtmlLine],org.specs2.reporter.Statistics.SpecStats,org.specs2.reporter.Levels[org.specs2.specification.ExecutedFragment],org.specs2.reporter.SpecsArguments[org.specs2.specification.ExecutedFragment]]">results</a>.<a href="../data/Tuples.scala.html#109744" title="=&gt; (Seq[org.specs2.reporter.HtmlLine], org.specs2.reporter.Statistics.SpecStats, org.specs2.reporter.Levels[org.specs2.specification.ExecutedFragment], org.specs2.reporter.SpecsArguments[org.specs2.specification.ExecutedFragment])">flatten</a>
    <span class="delimiter">(</span><a href="#305237" title="Seq[org.specs2.reporter.HtmlLine]">prints</a> <span title="(that: scala.collection.GenIterable[org.specs2.specification.Stats])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[org.specs2.reporter.HtmlLine],(org.specs2.reporter.HtmlLine, org.specs2.specification.Stats),Seq[(org.specs2.reporter.HtmlLine, org.specs2.specification.Stats)]])Seq[(org.specs2.reporter.HtmlLine, org.specs2.specification.Stats)]">zip</span> <a href="#305238" title="org.specs2.reporter.Statistics.SpecStats">stats</a>.<a href="Statistics.scala.html#295841" title="=&gt; Seq[org.specs2.specification.Stats]">stats</a> <span title="(that: scala.collection.GenIterable[org.specs2.reporter.Level[org.specs2.specification.ExecutedFragment]])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[(org.specs2.reporter.HtmlLine, org.specs2.specification.Stats)],((org.specs2.reporter.HtmlLine, org.specs2.specification.Stats), org.specs2.reporter.Level[org.specs2.specification.ExecutedFragment]),Seq[((org.specs2.reporter.HtmlLine, org.specs2.specification.Stats), org.specs2.reporter.Level[org.specs2.specification.ExecutedFragment])]])Seq[((org.specs2.reporter.HtmlLine, org.specs2.specification.Stats), org.specs2.reporter.Level[org.specs2.specification.ExecutedFragment])]">zip</span> <a href="#305239" title="org.specs2.reporter.Levels[org.specs2.specification.ExecutedFragment]">levels</a>.<a href="Levels.scala.html#295296" title="=&gt; Seq[org.specs2.reporter.Level[org.specs2.specification.ExecutedFragment]]">levels</a> <span title="(that: scala.collection.GenIterable[org.specs2.main.Arguments])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[((org.specs2.reporter.HtmlLine, org.specs2.specification.Stats), org.specs2.reporter.Level[org.specs2.specification.ExecutedFragment])],(((org.specs2.reporter.HtmlLine, org.specs2.specification.Stats), org.specs2.reporter.Level[org.specs2.specification.ExecutedFragment]), org.specs2.main.Arguments),Seq[(((org.specs2.reporter.HtmlLine, org.specs2.specification.Stats), org.specs2.reporter.Level[org.specs2.specification.ExecutedFragment]), org.specs2.main.Arguments)]])Seq[(((org.specs2.reporter.HtmlLine, org.specs2.specification.Stats), org.specs2.reporter.Level[org.specs2.specification.ExecutedFragment]), org.specs2.main.Arguments)]">zip</span> <a href="#305240" title="org.specs2.reporter.SpecsArguments[org.specs2.specification.ExecutedFragment]">args</a>.<a href="SpecsArguments.scala.html#294496" title="=&gt; Seq[org.specs2.main.Arguments]">nestedArguments</a><span class="delimiter">)</span> <span title="(f: ((((org.specs2.reporter.HtmlLine, org.specs2.specification.Stats), org.specs2.reporter.Level[org.specs2.specification.ExecutedFragment]), org.specs2.main.Arguments)) =&gt; org.specs2.reporter.HtmlLine)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[(((org.specs2.reporter.HtmlLine, org.specs2.specification.Stats), org.specs2.reporter.Level[org.specs2.specification.ExecutedFragment]), org.specs2.main.Arguments)],org.specs2.reporter.HtmlLine,Seq[org.specs2.reporter.HtmlLine]])Seq[org.specs2.reporter.HtmlLine]">map</span> <a href="#305849" title="org.specs2.reporter.HtmlLine" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="org.specs2.reporter.HtmlLine" class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="org.specs2.reporter.HtmlLine" id="305856">t</a>, <a title="org.specs2.specification.Stats" id="305857">s</a><span class="delimiter">)</span>, <a title="org.specs2.reporter.Level[org.specs2.specification.ExecutedFragment]" id="305858">l</a><span class="delimiter">)</span>, <a title="org.specs2.main.Arguments" id="305859">a</a><span class="delimiter">)</span> =&gt; <a href="#305856" title="org.specs2.reporter.HtmlLine">t</a>.<a href="HtmlLinesFile.scala.html#300995" title="(stats: org.specs2.specification.Stats, level: Int, args: org.specs2.main.Arguments)org.specs2.reporter.HtmlLine">set</a><span class="delimiter">(</span><a href="#305857" title="org.specs2.specification.Stats">s</a>, <a href="#305858" title="org.specs2.reporter.Level[org.specs2.specification.ExecutedFragment]">l</a>.<a href="Levels.scala.html#300157" title="=&gt; Int">level</a>, <a href="#305859" title="org.specs2.main.Arguments">a</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>  
  
  <span class="keyword">private</span>  <span class="keyword">val</span> <a title="org.specs2.internal.scalaz.Reducer[org.specs2.specification.ExecutedFragment,(((Seq[org.specs2.reporter.HtmlLine], org.specs2.reporter.Statistics.SpecStats), org.specs2.reporter.Levels[org.specs2.specification.ExecutedFragment]), org.specs2.reporter.SpecsArguments[org.specs2.specification.ExecutedFragment])]" id="299685">reducer</a> = 
    <a href="#299687" title="object HtmlPrinter.this.HtmlReducer">HtmlReducer</a> <span title="(r: org.specs2.internal.scalaz.Reducer[org.specs2.specification.ExecutedFragment,org.specs2.reporter.Statistics.SpecStats])org.specs2.internal.scalaz.Reducer[org.specs2.specification.ExecutedFragment,(Seq[org.specs2.reporter.HtmlLine], org.specs2.reporter.Statistics.SpecStats)]">&amp;&amp;&amp;</span> 
    <a href="Statistics.scala.html#295737" title="object org.specs2.reporter.Statistics.StatsReducer">StatsReducer</a> <span title="(r: org.specs2.internal.scalaz.Reducer[org.specs2.specification.ExecutedFragment,org.specs2.reporter.Levels[org.specs2.specification.ExecutedFragment]])org.specs2.internal.scalaz.Reducer[org.specs2.specification.ExecutedFragment,((Seq[org.specs2.reporter.HtmlLine], org.specs2.reporter.Statistics.SpecStats), org.specs2.reporter.Levels[org.specs2.specification.ExecutedFragment])]">&amp;&amp;&amp;</span>
    <a href="Levels.scala.html#295279" title="object org.specs2.reporter.Levels.LevelsReducer">LevelsReducer</a>  <span title="(r: org.specs2.internal.scalaz.Reducer[org.specs2.specification.ExecutedFragment,org.specs2.reporter.SpecsArguments[org.specs2.specification.ExecutedFragment]])org.specs2.internal.scalaz.Reducer[org.specs2.specification.ExecutedFragment,(((Seq[org.specs2.reporter.HtmlLine], org.specs2.reporter.Statistics.SpecStats), org.specs2.reporter.Levels[org.specs2.specification.ExecutedFragment]), org.specs2.reporter.SpecsArguments[org.specs2.specification.ExecutedFragment])]">&amp;&amp;&amp;</span>
    <a href="SpecsArguments.scala.html#294486" title="object org.specs2.reporter.SpecsArguments.SpecsArgumentsReducer">SpecsArgumentsReducer</a>

  <span class="keyword">implicit</span> <span class="keyword">object</span> <a title="object HtmlPrinter.this.HtmlReducer" id="299687">HtmlReducer</a> <span title="ScalaObject" class="keyword">extends</span> <span title="org.specs2.internal.scalaz.Reducer[org.specs2.specification.ExecutedFragment,Seq[org.specs2.reporter.HtmlLine]]">Reducer</span><span class="delimiter">[</span>ExecutedFragment, Seq<span class="delimiter">[</span>HtmlLine<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">implicit</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="implicit org.specs2.reporter.HtmlPrinter.HtmlReducer.unit : (fragment: org.specs2.specification.ExecutedFragment)Seq[Product with Serializable with org.specs2.reporter.HtmlLine{def set(stats: org.specs2.specification.Stats,level: Int,args: org.specs2.main.Arguments): Product with Serializable with org.specs2.reporter.HtmlLine}]" id="300671">unit</a><span class="delimiter">(</span><a title="org.specs2.specification.ExecutedFragment" id="306197">fragment</a>: <a href="../specification/ExecutedFragment.scala.html#12676" title="org.specs2.specification.ExecutedFragment">ExecutedFragment</a><span class="delimiter">)</span> = <span title="(elems: Product with Serializable with org.specs2.reporter.HtmlLine{def set(stats: org.specs2.specification.Stats,level: Int,args: org.specs2.main.Arguments): Product with Serializable with org.specs2.reporter.HtmlLine}*)Seq[Product with Serializable with org.specs2.reporter.HtmlLine{def set(stats: org.specs2.specification.Stats,level: Int,args: org.specs2.main.Arguments): Product with Serializable with org.specs2.reporter.HtmlLine}]">Seq</span><span class="delimiter">(</span><a href="#300672" title="(fragment: org.specs2.specification.ExecutedFragment)Product with Serializable with org.specs2.reporter.HtmlLine{def set(stats: org.specs2.specification.Stats,level: Int,args: org.specs2.main.Arguments): Product with Serializable with org.specs2.reporter.HtmlLine}">print</a><span class="delimiter">(</span><a href="#306197" title="org.specs2.specification.ExecutedFragment">fragment</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="comment">/** print an ExecutedFragment and its associated statistics */</span>
    <span class="keyword">def</span> <a title="(fragment: org.specs2.specification.ExecutedFragment)Product with Serializable with org.specs2.reporter.HtmlLine{def set(stats: org.specs2.specification.Stats,level: Int,args: org.specs2.main.Arguments): Product with Serializable with org.specs2.reporter.HtmlLine}" id="300672">print</a><span class="delimiter">(</span><a title="org.specs2.specification.ExecutedFragment" id="306203">fragment</a>: <a href="../specification/ExecutedFragment.scala.html#12676" title="org.specs2.specification.ExecutedFragment">ExecutedFragment</a><span class="delimiter">)</span> = <a href="#306203" title="org.specs2.specification.ExecutedFragment">fragment</a> <span title="&lt;none&gt; extends Product with Serializable with org.specs2.reporter.HtmlLine" class="keyword">match</span> <span class="delimiter">{</span> 
      <span class="keyword">case</span> <a title="org.specs2.reporter.HtmlSpecStart" id="306206">start</a> @ ExecutedSpecStart<span class="delimiter">(</span>_,_,_<span class="delimiter">)</span>       =&gt; <a href="HtmlLinesFile.scala.html#301733" title="(start: org.specs2.specification.ExecutedSpecStart, stats: org.specs2.specification.Stats, level: Int, args: org.specs2.main.Arguments)org.specs2.reporter.HtmlSpecStart">HtmlSpecStart</a><span class="delimiter">(</span><a href="#306206" title="org.specs2.specification.ExecutedSpecStart">start</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="org.specs2.reporter.HtmlResult" id="306211">result</a> @ ExecutedResult<span class="delimiter">(</span>_,_,_,_,_<span class="delimiter">)</span>     =&gt; <a href="HtmlLinesFile.scala.html#302529" title="(r: org.specs2.specification.ExecutedResult, stats: org.specs2.specification.Stats, level: Int, args: org.specs2.main.Arguments)org.specs2.reporter.HtmlResult">HtmlResult</a><span class="delimiter">(</span><a href="#306211" title="org.specs2.specification.ExecutedResult">result</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="org.specs2.reporter.HtmlText" id="306216">text</a> @ ExecutedText<span class="delimiter">(</span><a title="String" id="306243">s</a>, _<span class="delimiter">)</span>              =&gt; <a href="HtmlLinesFile.scala.html#302108" title="(t: org.specs2.specification.ExecutedText, stats: org.specs2.specification.Stats, level: Int, args: org.specs2.main.Arguments)org.specs2.reporter.HtmlText">HtmlText</a><span class="delimiter">(</span><a href="#306216" title="org.specs2.specification.ExecutedText">text</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="org.specs2.reporter.HtmlBr" id="306248">par</a> @ ExecutedBr<span class="delimiter">(</span>_<span class="delimiter">)</span>                    =&gt; <a href="HtmlLinesFile.scala.html#302322" title="(stats: org.specs2.specification.Stats, level: Int, args: org.specs2.main.Arguments)org.specs2.reporter.HtmlBr">HtmlBr</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="org.specs2.reporter.HtmlSpecEnd" id="306271">end</a> @ ExecutedSpecEnd<span class="delimiter">(</span>_,_,<a title="org.specs2.specification.Stats" id="306272">s</a><span class="delimiter">)</span>           =&gt; <a href="HtmlLinesFile.scala.html#303138" title="(end: org.specs2.specification.ExecutedSpecEnd, stats: org.specs2.specification.Stats, level: Int, args: org.specs2.main.Arguments)org.specs2.reporter.HtmlSpecEnd">HtmlSpecEnd</a><span class="delimiter">(</span><a href="#306271" title="org.specs2.specification.ExecutedSpecEnd">end</a>, <a href="#306272" title="org.specs2.specification.Stats">s</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="org.specs2.reporter.HtmlOther" id="306277">fragment</a>                               =&gt; <a href="HtmlLinesFile.scala.html#303378" title="(fragment: org.specs2.specification.ExecutedFragment, stats: org.specs2.specification.Stats, level: Int, args: org.specs2.main.Arguments)org.specs2.reporter.HtmlOther">HtmlOther</a><span class="delimiter">(</span><a href="#306277" title="org.specs2.specification.ExecutedFragment">fragment</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="class HtmlFile extends java.lang.Object with ScalaObject with Product with Serializable" id="306497">HtmlFile</a><a href="#306497" title="ScalaObject" class="delimiter">(</a><a title="String" id="304564">url</a>: <span title="String">String</span>, <a title="scala.xml.NodeSeq" id="304565">xml</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="300642">nonEmpty</a> = <a href="#304565" title="=&gt; scala.xml.NodeSeq">xml</a>.<span title="=&gt; Boolean">nonEmpty</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Table of contents, represented as a NodeSeq
 */</span>
case <span class="keyword">class</span> <a title="class TreeToc extends java.lang.Object with ScalaObject with Product with Serializable" id="306493">TreeToc</a><a href="#306493" title="ScalaObject" class="delimiter">(</a><a title="org.specs2.html.package.SpecId" id="301003">rootCode</a>: <a href="../data/TaggedTypes.scala.html#300998" title="org.specs2.html.package.SpecId">SpecId</a>, <a title="scala.xml.NodeSeq" id="301004">toc</a>: <span title="scala.xml.NodeSeq">NodeSeq</span> = <span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; scala.xml.NodeSeq">Empty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="comment">/** @return a &quot;tree&quot; div to be used with jstree, focusing on the current section */</span>
  <span class="keyword">def</span> <a title="=&gt; org.specs2.html.package.SpecId =&gt; scala.xml.NodeSeq" id="300975">toTree</a> = <span class="delimiter">(</span>currentCode: <a href="../data/TaggedTypes.scala.html#300998" title="org.specs2.html.package.SpecId">SpecId</a><span class="delimiter">)</span> =&gt;
    &lt;<a href="../xml/Nodex.scala.html#62844" title="implicit org.specs2.xml.Nodex.unless : (ns: =&gt; scala.xml.NodeSeq)org.specs2.xml.Nodex.UnlessEmpty" id="301165">div</a> id=<span title="scala.xml.Text" class="string">&quot;tree&quot;</span>&gt;
      &lt;<a title="scala.xml.Elem" id="301166">ul</a>&gt;<span class="delimiter">{</span><a href="#301004" title="=&gt; scala.xml.NodeSeq">toc</a><span class="delimiter">}</span>&lt;/ul&gt;
      &lt;<a title="scala.xml.Elem" id="301167">script</a>&gt;<span class="delimiter">{</span><span title="java.lang.String(&quot;$(function () {\011$(\'#tree\').jstree({\'core\':{\'initially_open\':[\'&quot;)" class="string">&quot;&quot;&quot;$(function () {	$('#tree').jstree({'core':{'initially_open':['&quot;&quot;&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#301003" title="=&gt; org.specs2.html.package.SpecId">rootCode</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\',\'&quot;)" class="string">&quot;','&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#301154" title="org.specs2.html.package.SpecId">currentCode</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\'], \'animation\':200}, \'plugins\':[\'themes\', \'html_data\']}); });&quot;)" class="string">&quot;&quot;&quot;'], 'animation':200}, 'plugins':['themes', 'html_data']}); });&quot;&quot;&quot;</span><span class="delimiter">}</span>&lt;/script&gt;
    &lt;/div&gt; <a href="../xml/Nodex.scala.html#127447" title="(b: Boolean)scala.xml.NodeSeq">unless</a> <a href="#301004" title="=&gt; scala.xml.NodeSeq">toc</a>.<span title="=&gt; Boolean">isEmpty</span>

<span class="delimiter">}</span>
        </pre>
    </body>
</html>