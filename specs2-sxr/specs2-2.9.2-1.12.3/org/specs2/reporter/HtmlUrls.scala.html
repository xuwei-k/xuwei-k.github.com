<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>org/specs2/reporter/HtmlUrls.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> org.specs2
<span class="keyword">package</span> reporter

<span class="keyword">import</span> io.FileSystem
<span class="keyword">import</span> scala.xml.NodeSeq
<span class="keyword">import</span> java.net.<span class="delimiter">{</span>HttpURLConnection, URL<span class="delimiter">}</span>
<span class="keyword">import</span> internal.scalaz.Scalaz
<span class="keyword">import</span> <span title="object org.specs2.internal.scalaz.Scalaz">Scalaz</span>._
<span class="keyword">import</span> control.<a href="../control/Exceptions.scala.html#9922" title="object org.specs2.control.Exceptions">Exceptions</a>._
<span class="keyword">import</span> io.<a href="../io/Paths.scala.html#10546" title="object org.specs2.io.Paths">Paths</a>._
<span class="keyword">import</span> text.<a href="../text/Trim.scala.html#13329" title="object org.specs2.text.Trim">Trim</a>._
<span class="keyword">import</span> html.<a href="../html/Htmlx.scala.html#10423" title="object org.specs2.html.Htmlx">Htmlx</a>._
<span class="keyword">import</span> execute.<span class="delimiter">{</span>Success, Failure, Result<span class="delimiter">}</span>
<span class="keyword">import</span> <a href="../execute/Result.scala.html#10122" title="object org.specs2.execute.Result">Result</a>.ResultFailureMonoid

<span class="keyword">private</span><span class="delimiter">[</span>specs2<span class="delimiter">]</span>
<span class="keyword">trait</span> <a title="trait HtmlUrls extends java.lang.Object with org.specs2.io.FileSystem with ScalaObject" id="12094">HtmlUrls</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../io/FileSystem.scala.html#10481" title="org.specs2.io.FileSystem">FileSystem</a> <span class="delimiter">{</span>

  <span class="comment">/**
   * check all the urls referenced in &lt;a href=&quot;...&quot;/&gt; nodes of a html document having a given filePath.
   *
   * @return a Result, Success or Failure summarizing all checks. In the case of a Failure, only the failure messages are kept
   */</span>
  <span class="keyword">def</span> <a title="(html: scala.xml.NodeSeq, others: Map[String,scala.xml.NodeSeq], rootPath: String, filePath: String)org.specs2.execute.Result" id="300752">check</a><span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="300828">html</a>: <span title="scala.xml.NodeSeq">NodeSeq</span>, <a title="Map[String,scala.xml.NodeSeq]" id="300833">others</a>: <span title="Map[String,scala.xml.NodeSeq]">Map</span><span class="delimiter">[</span>String, NodeSeq<span class="delimiter">]</span> = <span title="(elems: (String, Nothing)*)scala.collection.immutable.Map[String,Nothing]">Map</span><span class="delimiter">(</span><span class="delimiter">)</span>, <a title="String" id="300834">rootPath</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span>, <a title="String" id="300835">filePath</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>: <a href="../execute/Result.scala.html#10121" title="org.specs2.execute.Result">Result</a> =
    <a href="../html/Htmlx.scala.html#146270" title="(ns: scala.xml.NodeSeq, filePath: String)Seq[String]">urls</a><span title="(l: Seq[String])org.specs2.internal.scalaz.MA[Seq,String]" class="delimiter">(</span><a href="#300828" title="scala.xml.NodeSeq">html</a>, <a href="#300835" title="String">filePath</a><span class="delimiter">)</span>.<span title="(f: String =&gt; org.specs2.execute.Result)(implicit r: org.specs2.internal.scalaz.Foldable[Seq], implicit m: org.specs2.internal.scalaz.Monoid[org.specs2.execute.Result])org.specs2.execute.Result">foldMap</span><a href="../execute/Result.scala.html#45843" title="org.specs2.internal.scalaz.Foldable[Seq]" class="delimiter">(</a><a href="#300755" title="(url: String, html: scala.xml.NodeSeq, others: Map[String,scala.xml.NodeSeq], rootPath: String)org.specs2.execute.Result">isAliveResult</a><span class="delimiter">(</span><a href="#309698" title="String">_</a>, <a href="#300828" title="scala.xml.NodeSeq">html</a>, <a href="#300833" title="Map[String,scala.xml.NodeSeq]">others</a>, <a href="#300834" title="String">rootPath</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../execute/Result.scala.html#34847" title="(f: String =&gt; String)org.specs2.execute.Result">mapMessage</a><span class="delimiter">(</span><a href="#309743" title="String">_</a>.<span title="(x$1: java.lang.CharSequence, x$2: java.lang.CharSequence)java.lang.String">replace</span><span class="delimiter">(</span><span title="java.lang.String(&quot;; &quot;)" class="string">&quot;; &quot;</span>, <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**@return true if it is possible to connect to this url through http or locally */</span>
  <span class="keyword">def</span> <a title="(url: String, html: scala.xml.NodeSeq, others: Map[String,scala.xml.NodeSeq], rootPath: String)Boolean" id="300753">isAlive</a><span class="delimiter">(</span><a title="String" id="309748">url</a>: <span title="String">String</span>, <a title="scala.xml.NodeSeq" id="309753">html</a>: <span title="scala.xml.NodeSeq">NodeSeq</span> = <span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; scala.xml.NodeSeq">Empty</span>, <a title="Map[String,scala.xml.NodeSeq]" id="309754">others</a>: <span title="Map[String,scala.xml.NodeSeq]">Map</span><span class="delimiter">[</span>String, NodeSeq<span class="delimiter">]</span> = <span title="(elems: (String, Nothing)*)scala.collection.immutable.Map[String,Nothing]">Map</span><span class="delimiter">(</span><span class="delimiter">)</span>, <a title="String" id="309755">rootPath</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <a href="#300755" title="(url: String, html: scala.xml.NodeSeq, others: Map[String,scala.xml.NodeSeq], rootPath: String)org.specs2.execute.Result">isAliveResult</a><span class="delimiter">(</span><a href="#309748" title="String">url</a>, <a href="#309753" title="scala.xml.NodeSeq">html</a>, <a href="#309754" title="Map[String,scala.xml.NodeSeq]">others</a>, <a href="#309755" title="String">rootPath</a><span class="delimiter">)</span>.<a href="../execute/Result.scala.html#34852" title="=&gt; Boolean">isSuccess</a>

  <span class="comment">/**@return true if the url cannot be accessed through http or on the file system */</span>
  <span class="keyword">def</span> <a title="(url: String, html: scala.xml.NodeSeq, others: Map[String,scala.xml.NodeSeq], root: String)Boolean" id="300754">isDead</a><span class="delimiter">(</span><a title="String" id="309760">url</a>: <span title="String">String</span>, <a title="scala.xml.NodeSeq" id="309766">html</a>: <span title="scala.xml.NodeSeq">NodeSeq</span> = <span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; scala.xml.NodeSeq">Empty</span>, <a title="Map[String,scala.xml.NodeSeq]" id="309767">others</a>: <span title="Map[String,scala.xml.NodeSeq]">Map</span><span class="delimiter">[</span>String, NodeSeq<span class="delimiter">]</span> = <span title="(elems: (String, Nothing)*)scala.collection.immutable.Map[String,Nothing]">Map</span><span class="delimiter">(</span><span class="delimiter">)</span>, <a title="String" id="309768">root</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span> =
    <span title="=&gt; Boolean">!</span><a href="#300753" title="(url: String, html: scala.xml.NodeSeq, others: Map[String,scala.xml.NodeSeq], rootPath: String)Boolean">isAlive</a><span class="delimiter">(</span><a href="#309760" title="String">url</a>, <a href="#309766" title="scala.xml.NodeSeq">html</a>, <a href="#309767" title="Map[String,scala.xml.NodeSeq]">others</a>, <a href="#309768" title="String">root</a><span class="delimiter">)</span>

  <span class="comment">/**@return a Success if the url can be accessed, a Failure otherwise */</span>
  <span class="keyword">def</span> <a title="(url: String, html: scala.xml.NodeSeq, others: Map[String,scala.xml.NodeSeq], rootPath: String)org.specs2.execute.Result" id="300755">isAliveResult</a><span class="delimiter">(</span><a title="String" id="309699">url</a>: <span title="String">String</span>, <a title="scala.xml.NodeSeq" id="309700">html</a>: <span title="scala.xml.NodeSeq">NodeSeq</span>, <a title="Map[String,scala.xml.NodeSeq]" id="309704">others</a>: <span title="Map[String,scala.xml.NodeSeq]">Map</span><span class="delimiter">[</span>String, NodeSeq<span class="delimiter">]</span> = <span title="(elems: (String, Nothing)*)scala.collection.immutable.Map[String,Nothing]">Map</span><span class="delimiter">(</span><span class="delimiter">)</span>, <a title="String" id="309705">rootPath</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>: <a href="../execute/Result.scala.html#10121" title="org.specs2.execute.Result">Result</a> =
    <span title="org.specs2.execute.Result" class="keyword">if</span> <span class="delimiter">(</span><a href="#309699" title="String">url</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;http&quot;)" class="string">&quot;http&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#300756" title="(url: String)org.specs2.execute.Result">isAliveHttpResult</a><span class="delimiter">(</span><a href="#309699" title="String">url</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="org.specs2.execute.Result" class="keyword">if</span> <span class="delimiter">(</span><a href="#309699" title="String">url</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;#&quot;)" class="string">&quot;#&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#300758" title="(url: String, html: scala.xml.NodeSeq)org.specs2.execute.Result">isAliveAnchorResult</a><span class="delimiter">(</span><a href="#309699" title="String">url</a>, <a href="#309700" title="scala.xml.NodeSeq">html</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="org.specs2.execute.Result" class="keyword">if</span> <span class="delimiter">(</span><a href="#309699" title="String">url</a>.<span title="(x$1: java.lang.CharSequence)Boolean">contains</span><span class="delimiter">(</span><span title="java.lang.String(&quot;#&quot;)" class="string">&quot;#&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#300759" title="(url: String, others: Map[String,scala.xml.NodeSeq], rootPath: String)org.specs2.execute.Result">isAliveAnchorInFileResult</a><span class="delimiter">(</span><a href="#309699" title="String">url</a>, <a href="#309704" title="Map[String,scala.xml.NodeSeq]">others</a>, <a href="#309705" title="String">rootPath</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#300757" title="(url: String, others: Map[String,scala.xml.NodeSeq], rootPath: String)org.specs2.execute.Result">isAliveFileResult</a><span class="delimiter">(</span><a href="#309699" title="String">url</a>, <a href="#309704" title="Map[String,scala.xml.NodeSeq]">others</a>, <a href="#309705" title="String">rootPath</a><span class="delimiter">)</span>


  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(url: String)org.specs2.execute.Result" id="300756">isAliveHttpResult</a><span class="delimiter">(</span><a title="String" id="309779">url</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#300760" title="(url: String, condition: Boolean)org.specs2.execute.Result">aliveResult</a><span class="delimiter">(</span><a href="#309779" title="String">url</a>, <a href="#300761" title="(url: String)Boolean">isAliveHttp</a><span class="delimiter">(</span><a href="#309779" title="String">url</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(url: String, others: Map[String,scala.xml.NodeSeq], rootPath: String)org.specs2.execute.Result" id="300757">isAliveFileResult</a><span class="delimiter">(</span><a title="String" id="310593">url</a>: <span title="String">String</span>,
                                  <a title="Map[String,scala.xml.NodeSeq]" id="310594">others</a>: <span title="Map[String,scala.xml.NodeSeq]">Map</span><span class="delimiter">[</span>String, NodeSeq<span class="delimiter">]</span>,
                                  <a title="String" id="310595">rootPath</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#300760" title="(url: String, condition: Boolean)org.specs2.execute.Result">aliveResult</a><span class="delimiter">(</span><a href="../io/Paths.scala.html#51223" title="implicit org.specs2.io.Paths.toPath : (s: String)org.specs2.io.Path">rootPath</a>.<a href="../io/Paths.scala.html#146537" title="=&gt; String">dirPath</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#310593" title="String">url</a>, <a href="#300762" title="(url: String, others: Map[String,scala.xml.NodeSeq], root: String)Boolean">isAliveFile</a><span class="delimiter">(</span><a href="#310593" title="String">url</a>, <a href="#310594" title="Map[String,scala.xml.NodeSeq]">others</a>, <a href="#310595" title="String">rootPath</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(url: String, html: scala.xml.NodeSeq)org.specs2.execute.Result" id="300758">isAliveAnchorResult</a><span class="delimiter">(</span><a title="String" id="310077">url</a>: <span title="String">String</span>, <a title="scala.xml.NodeSeq" id="310078">html</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span> = <a href="#300760" title="(url: String, condition: Boolean)org.specs2.execute.Result">aliveResult</a><span class="delimiter">(</span><a href="#310077" title="String">url</a>, <a href="#300763" title="(url: String, html: scala.xml.NodeSeq)Boolean">isAliveAnchor</a><span class="delimiter">(</span><a href="#310077" title="String">url</a>, <a href="#310078" title="scala.xml.NodeSeq">html</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(url: String, others: Map[String,scala.xml.NodeSeq], rootPath: String)org.specs2.execute.Result" id="300759">isAliveAnchorInFileResult</a><span class="delimiter">(</span><a title="String" id="310366">url</a>: <span title="String">String</span>,
                                          <a title="Map[String,scala.xml.NodeSeq]" id="310367">others</a>: <span title="Map[String,scala.xml.NodeSeq]">Map</span><span class="delimiter">[</span>String, NodeSeq<span class="delimiter">]</span>,
                                          <a title="String" id="310368">rootPath</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#300760" title="(url: String, condition: Boolean)org.specs2.execute.Result">aliveResult</a><span class="delimiter">(</span><a href="#310366" title="String">url</a>, <a href="#300765" title="(url: String, others: Map[String,scala.xml.NodeSeq], root: String)Boolean">isAliveAnchorInFile</a><span class="delimiter">(</span><a href="#310366" title="String">url</a>, <a href="#310367" title="Map[String,scala.xml.NodeSeq]">others</a>, <a href="#310368" title="String">rootPath</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(url: String, condition: Boolean)org.specs2.execute.Result" id="300760">aliveResult</a><span class="delimiter">(</span><a title="String" id="309782">url</a>: <span title="String">String</span>, <a title="Boolean" id="309783">condition</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="../execute/Result.scala.html#10121" title="org.specs2.execute.Result">Result</a> =
    <span title="org.specs2.execute.Result" class="keyword">if</span> <span class="delimiter">(</span><a href="#309783" title="Boolean">condition</a><span class="delimiter">)</span> <a href="../execute/Result.scala.html#119277" title="(m: String, exp: String)org.specs2.execute.Success">Success</a><span class="delimiter">(</span><a href="#309782" title="String">url</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is alive&quot;)" class="string">&quot; is alive&quot;</span><span class="delimiter">)</span>
    <span class="keyword">else</span>           <a href="../execute/Result.scala.html#66178" title="(m: String, e: String, stackTrace: List[java.lang.StackTraceElement], details: org.specs2.execute.Details)org.specs2.execute.Failure">Failure</a><span class="delimiter">(</span><a href="#309782" title="String">url</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is dead&quot;)" class="string">&quot; is dead&quot;</span><span class="delimiter">)</span>

  <span class="comment">/**
   * @return true if the url can be accessed through http
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(url: String)Boolean" id="300761">isAliveHttp</a><span class="delimiter">(</span><a title="String" id="309785">url</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="../control/Exceptions.scala.html#15357" title="(a: =&gt; Boolean)(implicit f: Exception =&gt; Unit)Option[Boolean]">tryo</a> <a href="../control/Exceptions.scala.html#15354" title="(t: Any)Unit" class="delimiter">{</a>
      <span class="keyword">val</span> <a title="java.net.HttpURLConnection" id="309790">huc</a> = <span title="(x$1: java.lang.String)java.net.URL" class="keyword">new</span> <span title="java.net.URL">URL</span><span class="delimiter">(</span><a href="#309785" title="String">url</a><span class="delimiter">)</span>.<span title="()java.net.URLConnection">openConnection</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="java.net.HttpURLConnection" class="delimiter">[</span><span title="java.net.HttpURLConnection">HttpURLConnection</span><span class="delimiter">]</span>
      <a href="#309790" title="java.net.HttpURLConnection">huc</a>.<span title="()Unit">connect</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#309790" title="java.net.HttpURLConnection">huc</a>.<span title="()Int">getResponseCode</span> <span title="(x: Int)Boolean">==</span> HttpURLConnection.<span title="Int(200)">HTTP_OK</span>
    <span class="delimiter">}</span> <span title="(default: =&gt; Boolean)Boolean">getOrElse</span> <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  <span class="comment">/**@return true if the url can be accessed on the file system */</span>
  <span class="keyword">def</span> <a title="(url: String, others: Map[String,scala.xml.NodeSeq], root: String)Boolean" id="300762">isAliveFile</a><span class="delimiter">(</span><a title="String" id="310399">url</a>: <span title="String">String</span>, <a title="Map[String,scala.xml.NodeSeq]" id="310400">others</a>: <span title="Map[String,scala.xml.NodeSeq]">Map</span><span class="delimiter">[</span>String, NodeSeq<span class="delimiter">]</span>, <a title="String" id="310401">root</a>: <span title="String">String</span><span class="delimiter">)</span> =
    <a href="#310400" title="Map[String,scala.xml.NodeSeq]">others</a>.<span title="=&gt; Iterable[String]">keys</span>.<span title="(p: String =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a title="String" id="310411">o</a> =&gt; <a href="../io/Paths.scala.html#51223" title="implicit org.specs2.io.Paths.toPath : (s: String)org.specs2.io.Path">o</a>.<a href="../io/Paths.scala.html#146545" title="(o: String)Boolean">samePathAs</a><span class="delimiter">(</span><a href="#310399" title="String">url</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="../io/FileWriter.scala.html#52582" title="(path: String)Boolean">exists</a><span class="delimiter">(</span><a href="../io/Paths.scala.html#51223" title="implicit org.specs2.io.Paths.toPath : (s: String)org.specs2.io.Path">root</a>.<a href="../io/Paths.scala.html#146537" title="=&gt; String">dirPath</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#310399" title="String">url</a><span class="delimiter">)</span>

  <span class="comment">/**@return true if the url is an anchor in the document */</span>
  <span class="keyword">def</span> <a title="(url: String, html: scala.xml.NodeSeq)Boolean" id="300763">isAliveAnchor</a><span class="delimiter">(</span><a title="String" id="310117">url</a>: <span title="String">String</span>, <a title="scala.xml.NodeSeq" id="310118">html</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#310118" title="scala.xml.NodeSeq">html</a> <span title="(that: String)scala.xml.NodeSeq">\\</span> <span title="java.lang.String(&quot;a&quot;)" class="string">&quot;a&quot;</span><span class="delimiter">)</span>.<span title="(f: scala.xml.Node =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[scala.xml.NodeSeq,String,scala.collection.immutable.Seq[String]])scala.collection.immutable.Seq[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Seq.Coll,String,scala.collection.immutable.Seq[String]]" class="delimiter">(</span><a title="scala.xml.Node" id="310140">a</a> =&gt; <a href="#310140" title="scala.xml.Node">a</a>.<span title="(key: String)Option[Seq[scala.xml.Node]]">attribute</span><span title="(xo: Option[Seq[scala.xml.Node]])Iterable[Seq[scala.xml.Node]]" class="delimiter">(</span><span title="java.lang.String(&quot;name&quot;)" class="string">&quot;name&quot;</span><span class="delimiter">)</span>.<span title="=&gt; String">mkString</span><span class="delimiter">)</span>.<span title="(p: String =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#310331" title="String">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../text/Trim.scala.html#34293" title="implicit org.specs2.text.Trim.trimmed : (s: String)org.specs2.text.Trim.Trimmed">url</a>.<a href="../text/Trim.scala.html#51567" title="(exp: String)String">removeFirst</a><span class="delimiter">(</span><span title="java.lang.String(&quot;#&quot;)" class="string">&quot;#&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * This method is used when the html file can't be parsed
   * @return true if the url is an anchor in a String document
   */</span>
  <span class="keyword">def</span> <a title="(url: String, html: String)Boolean" id="300764">isAliveAnchor</a><span class="delimiter">(</span><a title="String" id="310085">url</a>: <span title="String">String</span>, <a title="String" id="310086">html</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#310086" title="String">html</a>.<span title="(x$1: java.lang.CharSequence)Boolean">contains</span><span class="delimiter">(</span><span title="java.lang.String(&quot;name=\&quot;&quot;)" class="string">&quot;name=\&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../text/Trim.scala.html#34293" title="implicit org.specs2.text.Trim.trimmed : (s: String)org.specs2.text.Trim.Trimmed">url</a>.<a href="../text/Trim.scala.html#51567" title="(exp: String)String">removeFirst</a><span class="delimiter">(</span><span title="java.lang.String(&quot;#&quot;)" class="string">&quot;#&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\&quot;&quot;)" class="string">&quot;\&quot;&quot;</span><span class="delimiter">)</span>

  <span class="comment">/**
   * look for the anchor in another file to be written to disk by specs2 or a static file already generated
   * @return true if the url is found
   */</span>
  <span class="keyword">def</span> <a title="(url: String, others: Map[String,scala.xml.NodeSeq], root: String)Boolean" id="300765">isAliveAnchorInFile</a><span class="delimiter">(</span><a title="String" id="310371">url</a>: <span title="String">String</span>, <a title="Map[String,scala.xml.NodeSeq]" id="310372">others</a>: <span title="Map[String,scala.xml.NodeSeq]">Map</span><span class="delimiter">[</span>String, NodeSeq<span class="delimiter">]</span>, <a title="String" id="310373">root</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a href="#310377" title="(java.lang.String, java.lang.String)" class="delimiter">(</a><a href="#310376" title="java.lang.String" id="310377">file</a>, <a href="#310376" title="java.lang.String" id="310378">anchor</a><span class="delimiter">)</span> = <span title="(_1: java.lang.String, _2: java.lang.String)(java.lang.String, java.lang.String)" class="delimiter">(</span><a href="#310371" title="String">url</a>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span title="(i: Int)java.lang.String" class="delimiter">(</span><span title="java.lang.String(&quot;#&quot;)" class="string">&quot;#&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>, <a href="#310371" title="String">url</a>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span title="(i: Int)java.lang.String" class="delimiter">(</span><span title="java.lang.String(&quot;#&quot;)" class="string">&quot;#&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#300762" title="(url: String, others: Map[String,scala.xml.NodeSeq], root: String)Boolean">isAliveFile</a><span class="delimiter">(</span><a href="#310377" title="java.lang.String">file</a>, <a href="#310372" title="Map[String,scala.xml.NodeSeq]">others</a>, <a href="#310373" title="String">root</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
      <span class="delimiter">(</span><a href="#300763" title="(url: String, html: scala.xml.NodeSeq)Boolean">isAliveAnchor</a><span class="delimiter">(</span><a href="#310378" title="java.lang.String">anchor</a>, <a href="#310372" title="Map[String,scala.xml.NodeSeq]">others</a>.<span title="(p: ((String, scala.xml.NodeSeq)) =&gt; Boolean)Option[(String, scala.xml.NodeSeq)]">find</span> <a href="#310481" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="String" id="310484">k</a>, <a title="scala.xml.NodeSeq" id="310485">v</a><span class="delimiter">)</span> =&gt; <a href="../io/Paths.scala.html#51223" title="implicit org.specs2.io.Paths.toPath : (s: String)org.specs2.io.Path">k</a>.<a href="../io/Paths.scala.html#146545" title="(o: String)Boolean">samePathAs</a><span class="delimiter">(</span><a href="#310377" title="java.lang.String">file</a><span class="delimiter">)</span> <span class="delimiter">}</span>.<span title="(f: ((String, scala.xml.NodeSeq)) =&gt; scala.xml.NodeSeq)Option[scala.xml.NodeSeq]">map</span><span class="delimiter">(</span><a href="#310518" title="(String, scala.xml.NodeSeq)">_</a>.<span title="=&gt; scala.xml.NodeSeq">_2</span><span class="delimiter">)</span>.<span title="(default: =&gt; scala.xml.NodeSeq)scala.xml.NodeSeq">getOrElse</span><span class="delimiter">(</span><span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; scala.xml.NodeSeq">Empty</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
        <a href="#300763" title="(url: String, html: scala.xml.NodeSeq)Boolean">isAliveAnchor</a><span class="delimiter">(</span><a href="#310378" title="java.lang.String">anchor</a>, <a href="../io/FileReader.scala.html#52490" title="(filePath: String, report: (Exception, String) =&gt; Unit, sourceErrors: Boolean)scala.xml.NodeSeq">loadXhtmlFile</a><span class="delimiter">(</span><a href="../io/Paths.scala.html#51223" title="implicit org.specs2.io.Paths.toPath : (s: String)org.specs2.io.Path">root</a>.<a href="../io/Paths.scala.html#146537" title="=&gt; String">dirPath</a><span title="(x$1: Any)java.lang.String">+</span><a href="#310377" title="java.lang.String">file</a>, <a href="../io/FileReader.scala.html#52492" title="=&gt; (Exception, String) =&gt; Unit">silentLoadXhtmlFileReport</a>, sourceErrors = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
        <a href="#300764" title="(url: String, html: String)Boolean">isAliveAnchor</a><span class="delimiter">(</span><a href="#310378" title="java.lang.String">anchor</a>, <a href="../io/FileReader.scala.html#52487" title="(path: String)String">readFile</a><span class="delimiter">(</span><a href="../io/Paths.scala.html#51223" title="implicit org.specs2.io.Paths.toPath : (s: String)org.specs2.io.Path">root</a>.<a href="../io/Paths.scala.html#146537" title="=&gt; String">dirPath</a><span title="(x$1: Any)java.lang.String">+</span><a href="#310377" title="java.lang.String">file</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">private</span><span class="delimiter">[</span>specs2<span class="delimiter">]</span>
<span class="keyword">object</span> <a title="object org.specs2.reporter.HtmlUrls" id="12095">HtmlUrls</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12094" title="org.specs2.reporter.HtmlUrls">HtmlUrl</a>s
        </pre>
    </body>
</html>