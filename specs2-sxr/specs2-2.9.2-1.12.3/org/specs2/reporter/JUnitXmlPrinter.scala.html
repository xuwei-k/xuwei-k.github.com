<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>org/specs2/reporter/JUnitXmlPrinter.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> org.specs2
<span class="keyword">package</span> reporter

<span class="keyword">import</span> java.io.Writer
<span class="keyword">import</span> java.net.InetAddress
<span class="keyword">import</span> scala.xml.<span class="delimiter">{</span>XML, NodeSeq<span class="delimiter">}</span>
<span class="keyword">import</span> org.junit.runner.Description
<span class="keyword">import</span> scala.collection.<span title="object scala.collection.JavaConversions">JavaConversions</span>._
<span class="keyword">import</span> control.<a href="../control/Exceptions.scala.html#9922" title="object org.specs2.control.Exceptions">Exceptions</a>._
<span class="keyword">import</span> xml.<a href="../xml/Nodex.scala.html#13373" title="object org.specs2.xml.Nodex">Nodex</a>._
<span class="keyword">import</span> execute._
<span class="keyword">import</span> main.Arguments
<span class="keyword">import</span> io.Location
<span class="keyword">import</span> specification._


<span class="comment">/**
 * The JUnitXml printer is used to create a JUnit xml report of an executed specification.
 *
 * To do this, it uses a reducer to prepare print blocks with:
 *
 * - the text to print
 * - the statistics
 * - the current arguments to use
 *
 */</span>
<span class="keyword">trait</span> <a title="trait JUnitXmlPrinter extends java.lang.Object with ScalaObject" id="12158">JUnitXmlPrinter</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="comment">/**
   * create a TestSuite object containing all the examples
   */</span>
  <span class="keyword">def</span> <a title="(name: org.specs2.specification.SpecName, fs: Seq[org.specs2.specification.ExecutedFragment])(implicit args: org.specs2.main.Arguments)JUnitXmlPrinter.this.TestSuite" id="299736">testSuite</a><span class="delimiter">(</span><a title="org.specs2.specification.SpecName" id="314071">name</a>: <a href="../specification/SpecName.scala.html#13075" title="org.specs2.specification.SpecName">SpecName</a>, <a title="Seq[org.specs2.specification.ExecutedFragment]" id="314072">fs</a>: <span title="Seq[org.specs2.specification.ExecutedFragment]">Seq</span><span class="delimiter">[</span>ExecutedFragment<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="org.specs2.main.Arguments" id="314073">args</a>: <a href="../main/Arguments.scala.html#10577" title="org.specs2.main.Arguments">Arguments</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="comment">/** extract the root Description object and the examples to execute */</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> DescriptionAndExamples<a href="#314079" title="(org.junit.runner.Description, Map[org.specs2.specification.ExecutedFragment,org.junit.runner.Description])" class="delimiter">(</a><a href="#314076" title="org.junit.runner.Description" id="314079">desc</a>, <a href="#314076" title="Map[org.specs2.specification.ExecutedFragment,org.junit.runner.Description]" id="314081">executions</a><span class="delimiter">)</span> = <a href="#299737" title="(name: org.specs2.specification.SpecName)(implicit args: org.specs2.main.Arguments)org.specs2.reporter.JUnitDescriptions[org.specs2.specification.ExecutedFragment]{def initialFragment(className: String): org.specs2.specification.ExecutedText}">descriptions</a><a href="#314073" title="org.specs2.main.Arguments" class="delimiter">(</a><a href="#314071" title="org.specs2.specification.SpecName">name</a><span class="delimiter">)</span>.<a href="JUnitDescriptions.scala.html#310705" title="(fs: Seq[org.specs2.specification.ExecutedFragment])(implicit args: org.specs2.main.Arguments)org.specs2.reporter.DescriptionAndExamples[org.specs2.specification.ExecutedFragment]">foldAll</a><a href="#314073" title="org.specs2.main.Arguments" class="delimiter">(</a><a href="#314072" title="Seq[org.specs2.specification.ExecutedFragment]">fs</a><span class="delimiter">)</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.specs2.specification.Stats" id="314083">statistics</a>: <a href="../specification/Stats.scala.html#13108" title="org.specs2.specification.Stats">Stats</a> = <a href="#314072" title="Seq[org.specs2.specification.ExecutedFragment]">fs</a>.<span title="=&gt; Option[org.specs2.specification.ExecutedFragment]">headOption</span> <span title="org.specs2.specification.Stats" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="org.specs2.specification.Stats">Some</span><span class="delimiter">(</span><a title="org.specs2.specification.ExecutedSpecStart" id="314217">s</a> @ ExecutedSpecStart<span class="delimiter">(</span>_,_,_<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#314217" title="org.specs2.specification.ExecutedSpecStart">s</a>.<a href="../specification/ExecutedFragment.scala.html#297256" title="=&gt; org.specs2.specification.Stats">stats</a>
      <span class="keyword">case</span> <span title="org.specs2.specification.Stats">_</span>                                  =&gt; <a href="../specification/Stats.scala.html#295780" title="(examples: Int, successes: Int, expectations: Int, failures: Int, errors: Int, pending: Int, skipped: Int, trend: Option[org.specs2.specification.Stats], timer: org.specs2.time.SimpleTimer)org.specs2.specification.Stats">Stats</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="JUnitXmlPrinter.this.TestSuite" id="314085">start</a> = <a href="#314226" title="(description: org.junit.runner.Description, className: String, errors: Int, failures: Int, skipped: Int, time: Long, tests: Seq[JUnitXmlPrinter.this.TestCase])(implicit args: org.specs2.main.Arguments)JUnitXmlPrinter.this.TestSuite">TestSuite</a><a href="#314073" title="org.specs2.main.Arguments" class="delimiter">(</a><a href="#314078" title="=&gt; org.junit.runner.Description">desc</a>, <a href="#314071" title="org.specs2.specification.SpecName">name</a>.<a href="../specification/SpecName.scala.html#51073" title="=&gt; String">javaClassName</a>, <a href="#314082" title="=&gt; org.specs2.specification.Stats">statistics</a>.<a href="../specification/Stats.scala.html#295798" title="=&gt; Int">errors</a>, <a href="#314082" title="=&gt; org.specs2.specification.Stats">statistics</a>.<a href="../specification/Stats.scala.html#295796" title="=&gt; Int">failures</a>, <a href="#314082" title="=&gt; org.specs2.specification.Stats">statistics</a>.<a href="../specification/Stats.scala.html#295802" title="=&gt; Int">skipped</a>, <a href="#314082" title="=&gt; org.specs2.specification.Stats">statistics</a>.<a href="../specification/Stats.scala.html#295806" title="=&gt; org.specs2.time.SimpleTimer">timer</a>.<a href="../time/Timer.scala.html#296439" title="=&gt; Long">totalMillis</a><span class="delimiter">)</span>

    <a href="#314080" title="=&gt; Map[org.specs2.specification.ExecutedFragment,org.junit.runner.Description]">executions</a>.<span title="(z: JUnitXmlPrinter.this.TestSuite)(op: (JUnitXmlPrinter.this.TestSuite, (org.specs2.specification.ExecutedFragment, org.junit.runner.Description)) =&gt; JUnitXmlPrinter.this.TestSuite)JUnitXmlPrinter.this.TestSuite">foldLeft</span><span class="delimiter">(</span><a href="#314084" title="=&gt; JUnitXmlPrinter.this.TestSuite">start</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="JUnitXmlPrinter.this.TestSuite" id="314417">suite</a>, <a title="(org.specs2.specification.ExecutedFragment, org.junit.runner.Description)" id="314418">de</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">val</span> <a href="#314420" title="(org.specs2.specification.ExecutedFragment, org.junit.runner.Description)" class="delimiter">(</a><a href="#314419" title="org.specs2.specification.ExecutedFragment" id="314420">f</a>, <a href="#314419" title="org.junit.runner.Description" id="314421">d</a><span class="delimiter">)</span> = <a href="#314418" title="(org.specs2.specification.ExecutedFragment, org.junit.runner.Description)">de</a>
      <span title="JUnitXmlPrinter.this.TestSuite" class="keyword">if</span> <span class="delimiter">(</span><a href="#314421" title="org.junit.runner.Description">d</a>.<span title="()Boolean">isTest</span><span class="delimiter">)</span> <a href="#314417" title="JUnitXmlPrinter.this.TestSuite">suite</a>.<a href="#314251" title="(t: JUnitXmlPrinter.this.TestCase)JUnitXmlPrinter.this.TestSuite">addTest</a><span class="delimiter">(</span><a href="#314529" title="(desc: org.junit.runner.Description, fragment: org.specs2.specification.ExecutedFragment)(implicit args: org.specs2.main.Arguments)JUnitXmlPrinter.this.TestCase">TestCase</a><a href="#314073" title="org.specs2.main.Arguments" class="delimiter">(</a><a href="#314421" title="org.junit.runner.Description">d</a>, <a href="#314420" title="org.specs2.specification.ExecutedFragment">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span>          <a href="#314417" title="JUnitXmlPrinter.this.TestSuite">suite</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** fold object used to create descriptions */</span>
  <span class="keyword">def</span> <a title="(name: org.specs2.specification.SpecName)(implicit args: org.specs2.main.Arguments)org.specs2.reporter.JUnitDescriptions[org.specs2.specification.ExecutedFragment]{def initialFragment(className: String): org.specs2.specification.ExecutedText}" id="299737">descriptions</a><span class="delimiter">(</span><a title="org.specs2.specification.SpecName" id="314086">name</a>: <a href="../specification/SpecName.scala.html#13075" title="org.specs2.specification.SpecName">SpecName</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="org.specs2.main.Arguments" id="314087">args</a>: <a href="../main/Arguments.scala.html#10577" title="org.specs2.main.Arguments">Arguments</a><span class="delimiter">)</span> = <a href="#314090" title="org.specs2.reporter.JUnitDescriptions[org.specs2.specification.ExecutedFragment]" class="keyword">new</a> <a title="anonymous class $anon extends org.specs2.reporter.JUnitDescriptions[org.specs2.specification.ExecutedFragment]" id="314090">JUnitDescriptions</a><span class="delimiter">[</span>ExecutedFragment<span class="delimiter">]</span><span class="delimiter">(</span><a href="#314086" title="org.specs2.specification.SpecName">name</a>.<a href="../specification/SpecName.scala.html#51073" title="=&gt; String">javaClassName</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(className: String)org.specs2.specification.ExecutedText" id="314092">initialFragment</a><span class="delimiter">(</span><a title="String" id="314094">className</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="../specification/ExecutedFragment.scala.html#297106" title="(text: String, location: org.specs2.io.Location)org.specs2.specification.ExecutedText">ExecutedText</a><span class="delimiter">(</span><a href="#314094" title="String">className</a>, <span title="org.specs2.io.Location" class="keyword">new</span> <a href="../io/Location.scala.html#10510" title="org.specs2.io.Location">Location</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="comment">/**
     * This function is used to map each node in a Tree[Fragment] to a pair of
     * (Description, Fragment)
     *
     * The Int argument is the numeric label of the current TreeNode being mapped.
     * It is used to create a unique description of the example to executed which is required
     * by JUnit
     */</span>
    <span class="keyword">def</span> <a title="(className: String)(org.specs2.specification.ExecutedFragment, Seq[(org.specs2.specification.ExecutedFragment, org.junit.runner.Description)], Int) =&gt; Option[(org.specs2.specification.ExecutedFragment, org.junit.runner.Description)]" id="314093">mapper</a><span class="delimiter">(</span><a title="String" id="314099">className</a>: <span title="String">String</span><span class="delimiter">)</span>: <span class="delimiter">(</span>ExecutedFragment, Seq<span class="delimiter">[</span>DescribedFragment<span class="delimiter">]</span>, Int<span class="delimiter">)</span> =&gt; Option<span class="delimiter">[</span>DescribedFragment<span class="delimiter">]</span> =
      <span class="delimiter">(</span>f: <a href="../specification/ExecutedFragment.scala.html#12676" title="org.specs2.specification.ExecutedFragment">ExecutedFragment</a>, parentNodes: <span title="Seq[(org.specs2.specification.ExecutedFragment, org.junit.runner.Description)]">Seq</span><span class="delimiter">[</span>DescribedFragment<span class="delimiter">]</span>, nodeLabel: <span title="Int">Int</span><span class="delimiter">)</span> =&gt; <a href="#314107" title="org.specs2.specification.ExecutedFragment">f</a> <span title="Option[(org.specs2.specification.ExecutedFragment, org.junit.runner.Description)]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Some[(org.specs2.specification.ExecutedFragment, org.junit.runner.Description)]" id="314110">s</a> @ ExecutedSpecStart<span class="delimiter">(</span>_,_,_<span class="delimiter">)</span>  =&gt; <span title="(x: (org.specs2.specification.ExecutedFragment, org.junit.runner.Description))Some[(org.specs2.specification.ExecutedFragment, org.junit.runner.Description)]">Some</span><span class="delimiter">(</span><a href="#314107" title="(x: org.specs2.specification.ExecutedFragment)ArrowAssoc[org.specs2.specification.ExecutedFragment]">f</a> <span title="(y: org.junit.runner.Description)(org.specs2.specification.ExecutedFragment, org.junit.runner.Description)">-&gt;</span> <a href="JUnitDescriptions.scala.html#310689" title="(className: String, suiteName: String, testName: String, label: String)org.junit.runner.Description">createDescription</a><span class="delimiter">(</span><a href="#314099" title="String">className</a>, suiteName=<a href="JUnitDescriptions.scala.html#310692" title="(s: String, parentNodes: Seq[String])String">testName</a><span class="delimiter">(</span><a href="#314110" title="org.specs2.specification.ExecutedSpecStart">s</a>.<a href="../specification/ExecutedFragment.scala.html#297266" title="=&gt; String">name</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Some[(org.specs2.specification.ExecutedFragment, org.junit.runner.Description)]">ExecutedText</span><span class="delimiter">(</span><a title="String" id="314133">t</a>, _<span class="delimiter">)</span>            =&gt; <span title="(x: (org.specs2.specification.ExecutedFragment, org.junit.runner.Description))Some[(org.specs2.specification.ExecutedFragment, org.junit.runner.Description)]">Some</span><span class="delimiter">(</span><a href="#314107" title="(x: org.specs2.specification.ExecutedFragment)ArrowAssoc[org.specs2.specification.ExecutedFragment]">f</a> <span title="(y: org.junit.runner.Description)(org.specs2.specification.ExecutedFragment, org.junit.runner.Description)">-&gt;</span> <a href="JUnitDescriptions.scala.html#310689" title="(className: String, suiteName: String, testName: String, label: String)org.junit.runner.Description">createDescription</a><span class="delimiter">(</span><a href="#314099" title="String">className</a>, suiteName=<a href="JUnitDescriptions.scala.html#310692" title="(s: String, parentNodes: Seq[String])String">testName</a><span class="delimiter">(</span><a href="#314133" title="String">t</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Some[(org.specs2.specification.ExecutedFragment, org.junit.runner.Description)]" id="314153">r</a> @ ExecutedResult<span class="delimiter">(</span>_,_,_,_,_<span class="delimiter">)</span> =&gt; <span title="(x: (org.specs2.specification.ExecutedFragment, org.junit.runner.Description))Some[(org.specs2.specification.ExecutedFragment, org.junit.runner.Description)]">Some</span><span class="delimiter">(</span><a href="#314107" title="(x: org.specs2.specification.ExecutedFragment)ArrowAssoc[org.specs2.specification.ExecutedFragment]">f</a> <span title="(y: org.junit.runner.Description)(org.specs2.specification.ExecutedFragment, org.junit.runner.Description)">-&gt;</span> <a href="JUnitDescriptions.scala.html#310770" title="String" id="314176">createDescription</a><span class="delimiter">(</span><a href="#314099" title="String" id="314173">className</a>, label=<a href="#314109" title="Int">nodeLabel</a>.<a title="java.lang.String" id="314174">toString</a>, testName=<a href="JUnitDescriptions.scala.html#310692" title="(s: String, parentNodes: Seq[String])String">testName</a><a title="String" id="314175" class="delimiter">(</a><a href="#314153" title="org.specs2.specification.ExecutedResult">r</a>.<a href="../specification/ExecutedFragment.scala.html#296837" title="(implicit args: org.specs2.main.Arguments)org.specs2.text.MarkupString">text</a>.<span title="()java.lang.String">toString</span>, <a href="JUnitDescriptions.scala.html#310691" title="(parentNodes: Seq[(org.specs2.specification.ExecutedFragment, org.junit.runner.Description)])Seq[java.lang.String]">parentPath</a><span class="delimiter">(</span><a href="#314108" title="Seq[(org.specs2.specification.ExecutedFragment, org.junit.runner.Description)]">parentNodes</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="None.type" id="314179">other</a>                         =&gt; <span title="object None">None</span>
      <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(t: Long)String" id="299738">formatTime</a><span class="delimiter">(</span><a title="Long" id="314833">t</a>: <span title="Long">Long</span><span class="delimiter">)</span> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%.3f&quot;</span> <span title="(args: Any*)String">format</span> <span class="delimiter">(</span><a href="#314833" title="Long">t</a> <span title="(x: Double)Double">/</span> <span title="Double(1000.0)" class="double">1000.0</span><span class="delimiter">)</span>

  case <span class="keyword">class</span> <a title="class TestSuite extends java.lang.Object with ScalaObject with Product with Serializable" id="314226">TestSuite</a><a href="#314226" title="ScalaObject" class="delimiter">(</a><a title="org.junit.runner.Description" id="314257">description</a>: <span title="org.junit.runner.Description">Description</span>, <a title="String" id="314258">className</a>: <span title="String">String</span>, <a title="Int" id="314259">errors</a>: <span title="Int">Int</span>, <a title="Int" id="314260">failures</a>: <span title="Int">Int</span>, <a title="Int" id="314261">skipped</a>: <span title="Int">Int</span>, <a title="Long" id="314262">time</a>: <span title="Long">Long</span> = <span title="Long(0L)" class="int">0</span>, <a title="Seq[JUnitXmlPrinter.this.TestCase]" id="314263">tests</a>: <span title="Seq[JUnitXmlPrinter.this.TestCase]">Seq</span><span class="delimiter">[</span>TestCase<span class="delimiter">]</span> = <span title="(elems: Nothing*)Seq[Nothing]">Seq</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="org.specs2.main.Arguments" id="314264">args</a>: <a href="../main/Arguments.scala.html#10577" title="org.specs2.main.Arguments">Arguments</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(t: JUnitXmlPrinter.this.TestCase)JUnitXmlPrinter.this.TestSuite" id="314251">addTest</a><span class="delimiter">(</span><a title="JUnitXmlPrinter.this.TestCase" id="314432">t</a>: <a href="#314529" title="JUnitXmlPrinter.this.TestCase">TestCase</a><span class="delimiter">)</span> = <a href="#314257" title="org.junit.runner.Description" id="314550">copy</a><a href="#314264" title="org.specs2.main.Arguments" class="delimiter">(</a>tests = <a href="#314263" title="=&gt; Seq[JUnitXmlPrinter.this.TestCase]">tests</a> <a title="Seq[JUnitXmlPrinter.this.TestCase]" id="314544">:+</a> <a href="#314432" title="JUnitXmlPrinter.this.TestCase">t</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(out: java.io.Writer)Unit" id="314252">flush</a><span class="delimiter">(</span><a title="java.io.Writer" id="314560">out</a>: <span title="java.io.Writer">Writer</span><span class="delimiter">)</span> = <span title="object scala.xml.XML">XML</span>.<span title="(w: java.io.Writer, node: scala.xml.Node, enc: String, xmlDecl: Boolean, doctype: scala.xml.dtd.DocType)Unit">write</span><span class="delimiter">(</span><a href="#314560" title="java.io.Writer">out</a>, <a href="#314253" title="=&gt; scala.xml.Elem">xml</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; scala.xml.Elem" id="314253">xml</a> =
      &lt;<a title="scala.xml.MetaData" id="314942">testsuite</a> hostname=<span class="delimiter">{</span><a href="../control/Exceptions.scala.html#15357" title="(a: =&gt; java.lang.String)(implicit f: Exception =&gt; Unit)Option[java.lang.String]">tryo</a><a href="../control/Exceptions.scala.html#15354" title="(t: Any)Unit" class="delimiter">(</a><span title="object java.net.InetAddress">InetAddress</span>.<span title="()java.net.InetAddress">getLocalHost</span>.<span title="()java.lang.String">getHostName</span><span class="delimiter">)</span>.<span title="(default: =&gt; java.lang.String)java.lang.String">getOrElse</span><span class="delimiter">(</span><span title="java.lang.String(&quot;no host detected&quot;)" class="string">&quot;no host detected&quot;</span><span class="delimiter">)</span><span class="delimiter">}</span>
                 name=<span class="delimiter">{</span><a href="#314258" title="=&gt; String">className</a><span class="delimiter">}</span>
                 tests=<span class="delimiter">{</span><a href="#314263" title="=&gt; Seq[JUnitXmlPrinter.this.TestCase]">tests</a>.<span title="=&gt; Int">size</span>.<span title="()java.lang.String">toString</span><span class="delimiter">}</span>
                 errors=<span class="delimiter">{</span><a href="#314259" title="=&gt; Int">errors</a>.<span title="()java.lang.String">toString</span><span class="delimiter">}</span>
                 failures=<span class="delimiter">{</span><a href="#314260" title="=&gt; Int">failures</a>.<span title="()java.lang.String">toString</span><span class="delimiter">}</span>
                 skipped=<span class="delimiter">{</span><a href="#314261" title="=&gt; Int">skipped</a>.<span title="()java.lang.String">toString</span><span class="delimiter">}</span>
                 time=<span class="delimiter">{</span><a href="#299738" title="(t: Long)String">formatTime</a><span class="delimiter">(</span><a href="#314262" title="=&gt; Long">time</a><span class="delimiter">)</span><span class="delimiter">}</span>&gt;
        <span class="delimiter">{</span><a href="#314254" title="=&gt; scala.xml.Elem">properties</a><span class="delimiter">}</span>
        <span class="delimiter">{</span><a href="#314263" title="=&gt; Seq[JUnitXmlPrinter.this.TestCase]">tests</a>.<span title="(f: JUnitXmlPrinter.this.TestCase =&gt; scala.xml.Elem)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[JUnitXmlPrinter.this.TestCase],scala.xml.Elem,Seq[scala.xml.Elem]])Seq[scala.xml.Elem]">map</span><a href="../xml/Nodex.scala.html#62837" title="implicit org.specs2.xml.Nodex.reducable : (ns: Seq[scala.xml.NodeSeq])org.specs2.xml.Nodex.Reducable" class="delimiter">(</a><a href="#315353" title="JUnitXmlPrinter.this.TestCase">_</a>.<a href="#314516" title="=&gt; scala.xml.Elem">xml</a><span class="delimiter">)</span>.<a href="../xml/Nodex.scala.html#127398" title="=&gt; scala.xml.NodeSeq">reduceNodes</a><span class="delimiter">}</span>
        &lt;<a title="scala.xml.Elem" id="315493">system</a>-out&gt;&lt;!<span class="delimiter">[</span>CDATA<span class="delimiter">[</span><span title="scala.xml.Text" class="delimiter">]</span><span class="delimiter">]</span>&gt;&lt;/system-out&gt;
        &lt;<a title="scala.xml.Elem" id="315494">system</a>-err&gt;&lt;!<span class="delimiter">[</span>CDATA<span class="delimiter">[</span><span title="scala.xml.Text" class="delimiter">]</span><span class="delimiter">]</span>&gt;&lt;/system-err&gt;
      &lt;/testsuite&gt;

    <span class="keyword">def</span> <a title="=&gt; scala.xml.Elem" id="314254">properties</a> =
      &lt;<a title="scala.xml.Elem" id="314946">properties</a>&gt;
      <span class="delimiter">{</span><span title="object java.lang.System">System</span>.<span title="()java.util.Properties">getProperties</span>.<span title="(s: java.util.Set[java.util.Map.Entry[java.lang.Object,java.lang.Object]])scala.collection.mutable.Set[java.util.Map.Entry[java.lang.Object,java.lang.Object]]">entrySet</span>.<span title="=&gt; Seq[java.util.Map.Entry[java.lang.Object,java.lang.Object]]">toSeq</span>.<span title="(f: java.util.Map.Entry[java.lang.Object,java.lang.Object] =&gt; scala.xml.Elem)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[java.util.Map.Entry[java.lang.Object,java.lang.Object]],scala.xml.Elem,Seq[scala.xml.Elem]])Seq[scala.xml.Elem]">map</span><a href="../xml/Nodex.scala.html#62837" title="implicit org.specs2.xml.Nodex.reducable : (ns: Seq[scala.xml.NodeSeq])org.specs2.xml.Nodex.Reducable" class="delimiter">(</a><a title="java.util.Map.Entry[java.lang.Object,java.lang.Object]" id="315251">p</a> =&gt; &lt;<a title="scala.xml.MetaData" id="315252">property</a> name=<span class="delimiter">{</span><a href="#315251" title="java.util.Map.Entry[java.lang.Object,java.lang.Object]">p</a>.<span title="()java.lang.Object">getKey</span>.<span title="()java.lang.String">toString</span><span class="delimiter">}</span> value=<span class="delimiter">{</span><a href="#315251" title="java.util.Map.Entry[java.lang.Object,java.lang.Object]">p</a>.<span title="()java.lang.Object">getValue</span>.<span title="()java.lang.String">toString</span><span class="delimiter">}</span>/&gt;<span class="delimiter">)</span>.<a href="../xml/Nodex.scala.html#127398" title="=&gt; scala.xml.NodeSeq">reduceNodes</a><span class="delimiter">}</span>
      &lt;/properties&gt;
  <span class="delimiter">}</span>

  case <span class="keyword">class</span> <a title="class TestCase extends java.lang.Object with ScalaObject with Product with Serializable" id="314529">TestCase</a><a href="#314529" title="ScalaObject" class="delimiter">(</a><a title="org.junit.runner.Description" id="314551">desc</a>: <span title="org.junit.runner.Description">Description</span>, <a title="org.specs2.specification.ExecutedFragment" id="314552">fragment</a>: <a href="../specification/ExecutedFragment.scala.html#12676" title="org.specs2.specification.ExecutedFragment">ExecutedFragment</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="org.specs2.main.Arguments" id="314553">args</a>: <a href="../main/Arguments.scala.html#10577" title="org.specs2.main.Arguments">Arguments</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; scala.xml.Elem" id="314516">xml</a> =
      &lt;<a title="scala.xml.MetaData" id="315375">testcase</a> name=<span class="delimiter">{</span><a href="#314551" title="=&gt; org.junit.runner.Description">desc</a>.<span title="()java.lang.String">getMethodName</span><span class="delimiter">}</span> classname=<span class="delimiter">{</span><a href="#314551" title="=&gt; org.junit.runner.Description">desc</a>.<span title="()java.lang.String">getClassName</span><span class="delimiter">}</span> time=<span class="delimiter">{</span><a href="#299738" title="(t: Long)String">formatTime</a><span class="delimiter">(</span><a href="#314517" title="=&gt; Long">time</a><span class="delimiter">)</span><span class="delimiter">}</span>&gt;
        <span class="delimiter">{</span><a href="#314518" title="=&gt; scala.xml.NodeSeq">testError</a><span class="delimiter">}</span><span class="delimiter">{</span><a href="#314519" title="=&gt; scala.xml.NodeSeq">testFailure</a><span class="delimiter">}</span><span class="delimiter">{</span><a href="#314520" title="=&gt; scala.xml.NodeSeq">testSkipped</a><span class="delimiter">}</span>
      &lt;/testcase&gt;

    <span class="keyword">def</span> <a title="=&gt; Long" id="314517">time</a> = <a href="#314552" title="=&gt; org.specs2.specification.ExecutedFragment">fragment</a> <span title="Long" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Long">ExecutedResult</span><span class="delimiter">(</span>_,_,<a title="org.specs2.time.SimpleTimer" id="315369">t</a>,_,_<span class="delimiter">)</span> =&gt; <a href="#315369" title="org.specs2.time.SimpleTimer">t</a>.<a href="../time/Timer.scala.html#296439" title="=&gt; Long">totalMillis</a>
      <span class="keyword">case</span> <a title="Int(0)" id="315370">other</a>                     =&gt; <span title="Long(0L)" class="int">0</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; scala.xml.NodeSeq" id="314518">testError</a> = <a href="#314552" title="=&gt; org.specs2.specification.ExecutedFragment">fragment</a> <span title="scala.xml.NodeSeq" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scala.xml.Elem">ExecutedResult</span><span class="delimiter">(</span>_,<a title="org.specs2.execute.Error" id="315379">er</a> @ Error<span class="delimiter">(</span><a title="String" id="315380">m</a>, <a title="Exception" id="315381">e</a><span class="delimiter">)</span>,_,_,_<span class="delimiter">)</span> =&gt; &lt;<a title="scala.xml.MetaData" id="315393">error</a> message=<span class="delimiter">{</span><a href="#315380" title="String">m</a><span class="delimiter">}</span>
                                                            <span class="keyword">type</span>=<span class="delimiter">{</span><a href="#315381" title="Exception">e</a>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.String">getName</span><span class="delimiter">}</span>&gt;<span class="delimiter">{</span><a href="#314553" title="org.specs2.main.Arguments">args</a>.<a href="../control/StackTraceFilter.scala.html#96448" title="(e: Seq[java.lang.StackTraceElement])Seq[java.lang.StackTraceElement]">traceFilter</a><span class="delimiter">(</span><a href="#315379" title="org.specs2.execute.Error">er</a>.<a href="../execute/Result.scala.html#64132" title="=&gt; List[java.lang.StackTraceElement]">stackTrace</a><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span><span class="delimiter">}</span>&lt;/error&gt;
      <span class="keyword">case</span> <a title="scala.xml.NodeSeq" id="315409">other</a>                                  =&gt; <span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; scala.xml.NodeSeq">Empty</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; scala.xml.NodeSeq" id="314519">testFailure</a> = <a href="#314552" title="=&gt; org.specs2.specification.ExecutedFragment">fragment</a> <span title="scala.xml.NodeSeq" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scala.xml.Elem">ExecutedResult</span><span class="delimiter">(</span>_,<a title="org.specs2.execute.Failure" id="315413">f</a> @ Failure<span class="delimiter">(</span><a title="String" id="315414">m</a>, <a title="String" id="315415">e</a>, <a title="List[java.lang.StackTraceElement]" id="315416">st</a>, <a title="org.specs2.execute.Details" id="315417">d</a><span class="delimiter">)</span>,_,_,_<span class="delimiter">)</span> =&gt; &lt;<a title="scala.xml.MetaData" id="315430">failure</a> message=<span class="delimiter">{</span><a href="#315414" title="String">m</a><span class="delimiter">}</span>
                                                                      <span class="keyword">type</span>=<span class="delimiter">{</span><a href="#315413" title="org.specs2.execute.Failure">f</a>.<a href="../execute/Result.scala.html#63965" title="=&gt; Exception">exception</a>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.String">getName</span><span class="delimiter">}</span>&gt;<span class="delimiter">{</span><a href="#314553" title="org.specs2.main.Arguments">args</a>.<a href="../control/StackTraceFilter.scala.html#96448" title="(e: Seq[java.lang.StackTraceElement])Seq[java.lang.StackTraceElement]">traceFilter</a><span class="delimiter">(</span><a href="#315416" title="List[java.lang.StackTraceElement]">st</a><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span><span class="delimiter">}</span>&lt;/failure&gt;
      <span class="keyword">case</span> <a title="scala.xml.NodeSeq" id="315446">other</a>                                           =&gt; <span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; scala.xml.NodeSeq">Empty</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; scala.xml.NodeSeq" id="314520">testSkipped</a> = <a href="#314552" title="=&gt; org.specs2.specification.ExecutedFragment">fragment</a> <span title="scala.xml.NodeSeq" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scala.xml.Elem">ExecutedResult</span><span class="delimiter">(</span>_, Skipped<span class="delimiter">(</span><a title="String" id="315450">m</a>, <a title="String" id="315451">e</a><span class="delimiter">)</span>,_,_,_<span class="delimiter">)</span> =&gt; &lt;<span title="scala.xml.Elem">skipped</span>/&gt;
      <span class="keyword">case</span> <a title="scala.xml.NodeSeq" id="315452">other</a>                                  =&gt; <span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; scala.xml.NodeSeq">Empty</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>