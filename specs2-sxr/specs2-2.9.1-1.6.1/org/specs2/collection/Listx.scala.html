<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>org/specs2/collection/Listx.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> org.specs2
<span class="keyword">package</span> collection

<span class="keyword">import</span> matcher.<a href="../matcher/MustExpectable.scala.html#10363" title="object org.specs2.matcher.MustExpectable">MustExpectable</a>._
<span class="keyword">import</span> scala.collection.immutable.<span title="object List">List</span>._

<span class="comment">/**
 * This trait provides additional methods on Lists and nested Lists
 */</span>
<span class="keyword">private</span><span class="delimiter">[</span>specs2<span class="delimiter">]</span>
<span class="keyword">trait</span> <a title="trait Listx extends java.lang.Object with ScalaObject" id="9538">Listx</a> <span title="ScalaObject" class="delimiter">{</span> outer =&gt;

  <span class="comment">/** @return an extension for a nested list */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[T](list: List[List[T]])Listx.this.ExtendedNestedList[T]" id="57841">extendNestedList</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="57843">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[List[T]]" id="61257">list</a>: <span title="List[List[T]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#57844" title="Listx.this.ExtendedNestedList[T]">ExtendedNestedList</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span title="Listx.this.ExtendedNestedList[T]" class="keyword">new</span> <a href="#57844" title="Listx.this.ExtendedNestedList[T]">ExtendedNestedList</a><span class="delimiter">(</span><a href="#61257" title="List[List[T]]">list</a><span class="delimiter">)</span>
  <span class="comment">/**
   * Additional methods for nested lists
   */</span>
  <span class="keyword">class</span> <a title="class ExtendedNestedList[T] extends java.lang.Object with ScalaObject" id="57844">ExtendedNestedList</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="57845">T</a><span class="delimiter">]</span><a href="#57844" title="ScalaObject" class="delimiter">(</a><a title="List[List[T]]" id="64898">list</a>: <span title="List[List[T]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; List[List[T]]" id="63382">safeTranspose</a> = <a href="#9538" title="Listx.this.type">outer</a>.<a href="#57851" title="(xs: List[List[T]])List[List[T]]">transpose</a><span class="delimiter">(</span><a href="#64898" title="List[List[T]]">list</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="comment">/** @return an extension for a list */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[T](list: List[T])Listx.this.ExtendedList[T]" id="57846">extendList</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="57848">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[T]" id="61250">list</a>: <span title="List[T]">List</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#57849" title="Listx.this.ExtendedList[T]">ExtendedList</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span title="Listx.this.ExtendedList[T]" class="keyword">new</span> <a href="#57849" title="Listx.this.ExtendedList[T]">ExtendedList</a><span class="delimiter">(</span><a href="#61250" title="List[T]">list</a><span class="delimiter">)</span>
  <span class="comment">/**
   * Additional methods for lists
   */</span>
  <span class="keyword">class</span> <a title="class ExtendedList[T] extends java.lang.Object with ScalaObject" id="57849">ExtendedList</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="57850">T</a><span class="delimiter">]</span><a href="#57849" title="ScalaObject" class="delimiter">(</a><a title="List[T]" id="64957">list</a>: <span title="List[T]">List</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="comment">/**
     * remove the first element satisfying the predicate
     * @return a list minus the first element satisfying the predicate
     */</span>
    <span class="keyword">def</span> <a title="(predicate: T =&gt; Boolean)List[T]" id="63377">removeFirst</a><span class="delimiter">(</span><a title="T =&gt; Boolean" id="63490">predicate</a>: T =&gt; Boolean<span class="delimiter">)</span>: <span title="List[T]">List</span><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#64985" title="(List[T], List[T])" class="delimiter">(</a><a href="#64984" title="List[T]" id="64985">withoutElement</a>, <a href="#64984" title="List[T]" id="64986">startWithElement</a><span class="delimiter">)</span> = <a href="#64957" title="List[T]">list</a> <span title="(p: T =&gt; Boolean)(List[T], List[T])">span</span> <span class="delimiter">(</span><a title="T" id="64992">x</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#63490" title="(v1: T)Boolean">predicate</a><span class="delimiter">(</span><a href="#64992" title="T">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#64985" title="List[T]">withoutElement</a> <span title="(that: scala.collection.GenTraversableOnce[T])(implicit bf: scala.collection.generic.CanBuildFrom[List[T],T,List[T]])List[T]">++</span> <a href="#64986" title="List[T]">startWithElement</a>.<span title="(n: Int)List[T]">drop</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="comment">/**
     * @return a randomly mixed list
     */</span>
    <span class="keyword">def</span> <a title="=&gt; List[T]" id="63378">scramble</a> = <a href="#64957" title="List[T]">list</a>.<span title="(lt: (T, T) =&gt; Boolean)List[T]">sortWith</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="T" id="65064">a</a>, <a title="T" id="65065">b</a><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span><span title="java.util.Random" class="keyword">new</span> java.util.<span title="java.util.Random">Random</span><span class="delimiter">)</span>.<span title="(x$1: Int)Int">nextInt</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="comment">/**
   * This methods works like the transpose method defined on Traversable
   * but it doesn't fail when the input is not formatted like a regular matrix
   * 
   *  List(List(&quot;a&quot;,  &quot;bb&quot;, &quot;ccc&quot;),
   *       List(&quot;dd&quot;, &quot;e&quot;,  &quot;fff&quot;)) =&gt;
   *  List(List(&quot;a&quot;,  &quot;dd&quot;),
   *       List(&quot;e&quot;,  &quot;bb&quot;)
   *       List(&quot;ccc&quot;,  &quot;fff&quot;))
   */</span>
  <span class="keyword">def</span> <a title="[T](xs: List[List[T]])List[List[T]]" id="57851">transpose</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="57853">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[List[T]]" id="64928">xs</a>: <span title="List[List[T]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[List[T]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[List[T]]" id="65095">filtered</a> = <a href="#64928" title="List[List[T]]">xs</a>.<span title="(p: List[T] =&gt; Boolean)List[List[T]]">filter</span><span class="delimiter">(</span><a href="#65099" title="List[T]">_</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
    <span title="List[List[T]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#65095" title="List[List[T]]">filtered</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="object Nil">Nil</span>
    <span class="keyword">else</span> <a href="#65095" title="List[List[T]]">filtered</a>.<span title="(f: List[T] =&gt; T)(implicit bf: scala.collection.generic.CanBuildFrom[List[List[T]],T,List[T]])List[T]">map</span><span title="scala.collection.generic.CanBuildFrom[collection.immutable.List.Coll,T,List[T]]" class="delimiter">(</span><a href="#65117" title="List[T]">_</a>.<span title="=&gt; T">head</span><span class="delimiter">)</span> <a href="#65100" title="(x: List[T])List[List[T]]">::</a> <a href="#57851" title="(xs: List[List[T]])List[List[T]]">transpose</a><span class="delimiter">(</span><a href="#65095" title="List[List[T]]">filtered</a>.<span title="(f: List[T] =&gt; List[T])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[T]],List[T],List[List[T]]])List[List[T]]">map</span><span title="scala.collection.generic.CanBuildFrom[collection.immutable.List.Coll,List[T],List[List[T]]]" class="delimiter">(</span><a href="#65164" title="List[T]">_</a>.<span title="=&gt; List[T]">tail</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>
<span class="keyword">private</span><span class="delimiter">[</span>specs2<span class="delimiter">]</span>
<span class="keyword">object</span> <a title="object org.specs2.collection.Listx" id="9539">Listx</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9538" title="org.specs2.collection.Listx">List</a>x
        </pre>
    </body>
</html>