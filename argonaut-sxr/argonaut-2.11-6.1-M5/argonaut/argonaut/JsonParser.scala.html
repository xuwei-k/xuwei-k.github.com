<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>argonaut/argonaut/JsonParser.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
package argonaut

import scala.annotation._
import scalaz._
import <span title="scalaz.Scalaz.type">Scalaz</span>._
import <a href="Json.scala.html#argonaut.Json" title="argonaut.Json.type">Json</a>._
import java.lang.StringBuilder
import scala.collection.mutable.Builder

object <a title="argonaut.JsonParser.type" id="argonaut.JsonParser">JsonParser</a> <a href="#argonaut.JsonParser" title="argonaut.JsonParser.type" class="delimiter">{</a>
  private<span class="delimiter">[</span>this<span class="delimiter">]</span> final type <a title="String" id="argonaut.JsonParser;TokenSource">TokenSource</a> = <span title="String">String</span>

  private<span class="delimiter">[</span>this<span class="delimiter">]</span> val <a title="scalaz.\/[String,Nothing]" id="argonaut.JsonParser.unexpectedTermination">unexpectedTermination</a> = <span title="(a: String)scalaz.syntax.EitherOps[String]" class="string">&quot;JSON terminates unexpectedly.&quot;</span>.<span title="scalaz.\/[String,Nothing]">left</span>

  private<span class="delimiter">[</span>this<span class="delimiter">]</span> case class <a title="class JsonObjectBuilder extends AnyRef with Product with Serializable" id="argonaut.JsonParser.JsonObjectBuilder.readResolve">JsonObjectBuilder</a><a href="#argonaut.JsonParser.JsonObjectBuilder.readResolve" title="Product" class="delimiter">(</a>
    var <a title="scala.collection.mutable.Builder[(argonaut.Json.JsonField, argonaut.Json),Map[argonaut.Json.JsonField,argonaut.Json]]" id="argonaut.JsonParser.JsonObjectBuilder.apply$default$1">fieldsMapBuilder</a>: <span title="scala.collection.mutable.Builder[(argonaut.Json.JsonField, argonaut.Json),Map[argonaut.Json.JsonField,argonaut.Json]]">Builder</span><span class="delimiter">[</span><span class="delimiter">(</span>JsonField, Json<span class="delimiter">)</span>, Map<span class="delimiter">[</span>JsonField, Json<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.mutable.Builder[(argonaut.Json.JsonField, argonaut.Json),scala.collection.immutable.Map[argonaut.Json.JsonField,argonaut.Json]]">newBuilder</span>,
    var <a title="scala.collection.mutable.Builder[argonaut.Json.JsonField,Vector[argonaut.Json.JsonField]]" id="argonaut.JsonParser.JsonObjectBuilder.apply$default$2">orderedFieldsBuilder</a>: <span title="scala.collection.mutable.Builder[argonaut.Json.JsonField,Vector[argonaut.Json.JsonField]]">Builder</span><span class="delimiter">[</span>JsonField, Vector<span class="delimiter">[</span>JsonField<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="=&gt; collection.immutable.Vector.type">Vector</span>.<span title="scala.collection.mutable.Builder[argonaut.Json.JsonField,scala.collection.immutable.Vector[argonaut.Json.JsonField]]">newBuilder</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    private<span class="delimiter">[</span>this<span class="delimiter">]</span> var <a title="Boolean" id="argonaut.JsonParser;JsonObjectBuilder.isEmpty">isEmpty</a>: <span title="Boolean">Boolean</span> = true

    def <a title="(key: argonaut.Json.JsonField, value: argonaut.Json)argonaut.JsonParser.JsonObjectBuilder" id="argonaut.JsonParser;JsonObjectBuilder.add">add</a><span class="delimiter">(</span><a title="argonaut.Json.JsonField" id="argonaut.JsonParser;JsonObjectBuilder.add.key">key</a>: <span title="argonaut.Json.JsonField">JsonField</span>, <a title="argonaut.Json" id="argonaut.JsonParser;JsonObjectBuilder.add.value">value</a>: <a href="Json.scala.html#argonaut;Json" title="argonaut.Json">Json</a><span class="delimiter">)</span>: <a href="#argonaut.JsonParser.JsonObjectBuilder.readResolve" title="argonaut.JsonParser.JsonObjectBuilder">JsonObjectBuilder</a> = <span class="delimiter">{</span>
      <a href="#argonaut.JsonParser;JsonObjectBuilder.isEmpty" title="Boolean">isEmpty</a> = false
      <a href="#argonaut.JsonParser.JsonObjectBuilder.apply$default$1" title="=&gt; scala.collection.mutable.Builder[(argonaut.Json.JsonField, argonaut.Json),Map[argonaut.Json.JsonField,argonaut.Json]]">fieldsMapBuilder</a> <span title="(elem: (String, argonaut.Json))scala.collection.mutable.Builder[(argonaut.Json.JsonField, argonaut.Json),Map[argonaut.Json.JsonField,argonaut.Json]]">+=</span> <span class="delimiter">(</span><span title="(_1: argonaut.Json.JsonField, _2: argonaut.Json)(argonaut.Json.JsonField, argonaut.Json)" class="delimiter">(</span><a href="#argonaut.JsonParser;JsonObjectBuilder.add.key" title="argonaut.Json.JsonField">key</a>, <a href="#argonaut.JsonParser;JsonObjectBuilder.add.value" title="argonaut.Json">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#argonaut.JsonParser.JsonObjectBuilder.apply$default$2" title="=&gt; scala.collection.mutable.Builder[argonaut.Json.JsonField,Vector[argonaut.Json.JsonField]]">orderedFieldsBuilder</a> <span title="(elem: String)scala.collection.mutable.Builder[argonaut.Json.JsonField,Vector[argonaut.Json.JsonField]]">+=</span> <a href="#argonaut.JsonParser;JsonObjectBuilder.add.key" title="argonaut.Json.JsonField">key</a>
      this
    <span class="delimiter">}</span>

    def <a title="()argonaut.Json" id="argonaut.JsonParser;JsonObjectBuilder.build">build</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="Json.scala.html#argonaut;Json" title="argonaut.Json">Json</a> = <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="#argonaut.JsonParser;JsonObjectBuilder.isEmpty" title="Boolean">isEmpty</a><span class="delimiter">)</span> <a href="Json.scala.html#argonaut;Jsons.jEmptyObject" title="=&gt; argonaut.Json">jEmptyObject</a>
      else <a href="Json.scala.html#argonaut;Jsons.jObject" title="(v1: argonaut.JsonObject)argonaut.Json">jObject</a><span class="delimiter">(</span><a href="JsonObject.scala.html#argonaut;JsonObjectInstance" title="(fieldsMap: Map[argonaut.Json.JsonField,argonaut.Json], orderedFields: Vector[argonaut.Json.JsonField])argonaut.JsonObjectInstance">JsonObjectInstance</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.JsonObjectBuilder.apply$default$1" title="=&gt; scala.collection.mutable.Builder[(argonaut.Json.JsonField, argonaut.Json),Map[argonaut.Json.JsonField,argonaut.Json]]">fieldsMapBuilder</a>.<span title="()Map[argonaut.Json.JsonField,argonaut.Json]">result</span><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#argonaut.JsonParser.JsonObjectBuilder.apply$default$2" title="=&gt; scala.collection.mutable.Builder[argonaut.Json.JsonField,Vector[argonaut.Json.JsonField]]">orderedFieldsBuilder</a>.<span title="()Vector[argonaut.Json.JsonField]">result</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  @inline
  private<span class="delimiter">[</span>this<span class="delimiter">]</span> final def <a title="(string: String, position: Int, limit: Int)String" id="argonaut.JsonParser.excerpt">excerpt</a><span class="delimiter">(</span><a title="String" id="argonaut.JsonParser.excerpt.string">string</a>: <span title="String">String</span>, <a title="Int" id="argonaut.JsonParser.excerpt.position">position</a>: <span title="Int">Int</span>, <a title="Int" id="argonaut.JsonParser.excerpt$default$3">limit</a>: <span title="Int">Int</span> = <span title="Int(50)" class="int">50</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    val <a title="String" id="argonaut.JsonParser.excerpt.remaining">remaining</a> = <a href="#argonaut.JsonParser.excerpt.string" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">string</a>.<span title="(n: Int)String">drop</span><span class="delimiter">(</span><a href="#argonaut.JsonParser.excerpt.position" title="Int">position</a><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#argonaut.JsonParser.excerpt.remaining" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">remaining</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&gt;</span> <a href="#argonaut.JsonParser.excerpt$default$3" title="Int">limit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#argonaut.JsonParser.excerpt.remaining" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">remaining</a>.<span title="(n: Int)String">take</span><span class="delimiter">(</span><a href="#argonaut.JsonParser.excerpt$default$3" title="Int">limit</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;...&quot;)" class="string">&quot;...&quot;</span>
    <span class="delimiter">}</span> else <span class="delimiter">{</span>
      <a href="#argonaut.JsonParser.excerpt.remaining" title="String">remaining</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  final def <a title="(json: String)scalaz.\/[String,argonaut.Json]" id="argonaut.JsonParser.parse">parse</a><span class="delimiter">(</span><a title="String" id="argonaut.JsonParser.parse.json">json</a>: <span title="String">String</span><span class="delimiter">)</span>: String <span title="scalaz.\/[String,argonaut.Json]">\/</span> Json = <span class="delimiter">{</span>
    val <a title="Int" id="argonaut.JsonParser.parse.jsonLength">jsonLength</a> = <a href="#argonaut.JsonParser.parse.json" title="String">json</a>.<span title="()Int">length</span>

    @tailrec
    def <a title="(from: Int)Boolean" id="argonaut.JsonParser.parse.validSuffixContent">validSuffixContent</a><span class="delimiter">(</span><a title="Int" id="argonaut.JsonParser.parse.validSuffixContent.from">from</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="#argonaut.JsonParser.parse.validSuffixContent.from" title="Int">from</a> <span title="(x: Int)Boolean">&gt;=</span> <a href="#argonaut.JsonParser.parse.jsonLength" title="Int">jsonLength</a><span class="delimiter">)</span> true
      else <a href="#argonaut.JsonParser.parse.json" title="(index: Int)Char">json</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.parse.validSuffixContent.from" title="Int">from</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
        case <span title="Char(' ')" class="char">' '</span> | <span title="Char('\r')" class="char">'\r'</span> | <span title="Char('\n')" class="char">'\n'</span> | <span title="Char('\t')" class="char">'\t'</span> =&gt; <a href="#argonaut.JsonParser.parse.validSuffixContent" title="(from: Int)Boolean">validSuffixContent</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.parse.validSuffixContent.from" title="Int">from</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        case _ =&gt; false
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    def <a title="(result: (Int, argonaut.Json))scalaz.\/[String,argonaut.Json]" id="argonaut.JsonParser.parse.parseResult">parseResult</a><span class="delimiter">(</span><a title="(Int, argonaut.Json)" id="argonaut.JsonParser.parse.parseResult.result">result</a>: <span title="(Int, argonaut.Json)" class="delimiter">(</span>Int, Json<span class="delimiter">)</span><span class="delimiter">)</span>: String <span title="scalaz.\/[String,argonaut.Json]">\/</span> Json = <span class="delimiter">{</span>
      <a href="#argonaut.JsonParser.parse.parseResult.result" title="(Int, argonaut.Json)">result</a> match <span class="delimiter">{</span>
        case <span class="delimiter">(</span><a href="#argonaut.JsonParser.parse.jsonLength" title="Int">`jsonLength`</a>, <span title="argonaut.Json">jsonInstance</span><span class="delimiter">)</span> =&gt; <span title="(b: argonaut.Json)scalaz.\/-[argonaut.Json]">\/-</span><span class="delimiter">(</span><span title="argonaut.Json">jsonInstance</span><span class="delimiter">)</span>
        case <span class="delimiter">(</span><span title="Int">remainder</span>, <span title="argonaut.Json">jsonInstance</span><span class="delimiter">)</span> if <span class="delimiter">(</span><a href="#argonaut.JsonParser.parse.validSuffixContent" title="(from: Int)Boolean">validSuffixContent</a><span class="delimiter">(</span><span title="Int">remainder</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="(b: argonaut.Json)scalaz.\/-[argonaut.Json]">\/-</span><span class="delimiter">(</span><span title="argonaut.Json">jsonInstance</span><span class="delimiter">)</span>
        case <span class="delimiter">(</span><span title="Int">remainder</span>, _<span class="delimiter">)</span> =&gt; <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;JSON contains invalid suffix content: %s&quot;</span>.<span title="(args: Any*)String">format</span><span title="(a: String)scalaz.syntax.EitherOps[String]" class="delimiter">(</span><a href="#argonaut.JsonParser.excerpt" title="(string: String, position: Int, limit: Int)String">excerpt</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.parse.json" title="String">json</a>, <span title="Int">remainder</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="scalaz.\/[String,Nothing]">left</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <a href="#argonaut.JsonParser.expectValue" title="(stream: argonaut.JsonParser.TokenSource, position: Int)scalaz.\/[String,(Int, argonaut.Json)]">expectValue</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.parse.json" title="String">json</a>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<span title="(g: ((Int, argonaut.Json)) =&gt; scalaz.\/[String,argonaut.Json])scalaz.\/[String,argonaut.Json]">flatMap</span><span class="delimiter">(</span><a href="#argonaut.JsonParser.parse.parseResult" title="(result: (Int, argonaut.Json))scalaz.\/[String,argonaut.Json]">parseResult</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  @tailrec
  @inline
  private<span class="delimiter">[</span>this<span class="delimiter">]</span> final def <a title="(stream: argonaut.JsonParser.TokenSource, position: Int, token: Char, failMessage: String)scalaz.\/[String,Int]" id="argonaut.JsonParser.expectedSpacerToken">expectedSpacerToken</a><span class="delimiter">(</span><a title="argonaut.JsonParser.TokenSource" id="argonaut.JsonParser.expectedSpacerToken.stream">stream</a>: <span title="argonaut.JsonParser.TokenSource">TokenSource</span>, <a title="Int" id="argonaut.JsonParser.expectedSpacerToken.position">position</a>: <span title="Int">Int</span>, <a title="Char" id="argonaut.JsonParser.expectedSpacerToken.token">token</a>: <span title="Char">Char</span>, <a title="String" id="argonaut.JsonParser.expectedSpacerToken.failMessage">failMessage</a>: <span title="String">String</span><span class="delimiter">)</span>: String <span title="scalaz.\/[String,Int]">\/</span> Int = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#argonaut.JsonParser.expectedSpacerToken.position" title="Int">position</a> <span title="(x: Int)Boolean">&gt;=</span> <a href="#argonaut.JsonParser.expectedSpacerToken.stream" title="argonaut.JsonParser.TokenSource">stream</a>.<span title="()Int">length</span><span class="delimiter">)</span> <a href="#argonaut.JsonParser.unexpectedTermination" title="scalaz.\/[String,Nothing]">unexpectedTermination</a>
    else <a href="#argonaut.JsonParser.expectedSpacerToken.stream" title="(index: Int)Char">stream</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectedSpacerToken.position" title="Int">position</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case <a href="#argonaut.JsonParser.expectedSpacerToken.token" title="Char">`token`</a> =&gt; <span title="(b: Int)scalaz.\/-[Int]">\/-</span><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectedSpacerToken.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      case <span title="Char(' ')" class="char">' '</span> | <span title="Char('\r')" class="char">'\r'</span> | <span title="Char('\n')" class="char">'\n'</span> | <span title="Char('\t')" class="char">'\t'</span> =&gt; <a href="#argonaut.JsonParser.expectedSpacerToken" title="(stream: argonaut.JsonParser.TokenSource, position: Int, token: Char, failMessage: String)scalaz.\/[String,Int]">expectedSpacerToken</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectedSpacerToken.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.expectedSpacerToken.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="#argonaut.JsonParser.expectedSpacerToken.token" title="Char">token</a>, <a href="#argonaut.JsonParser.expectedSpacerToken.failMessage" title="String">failMessage</a><span class="delimiter">)</span>
      case _ =&gt; <span title="(a: String)scalaz.-\/[String]">-\/</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s but found: %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectedSpacerToken.failMessage" title="String">failMessage</a>, <a href="#argonaut.JsonParser.excerpt" title="(string: String, position: Int, limit: Int)String">excerpt</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectedSpacerToken.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.expectedSpacerToken.position" title="Int">position</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  @inline
  private<span class="delimiter">[</span>this<span class="delimiter">]</span> final def <a title="(stream: argonaut.JsonParser.TokenSource, position: Int)scalaz.\/[String,Int]" id="argonaut.JsonParser.expectStringBounds">expectStringBounds</a><span class="delimiter">(</span><a title="argonaut.JsonParser.TokenSource" id="argonaut.JsonParser.expectStringBounds.stream">stream</a>: <span title="argonaut.JsonParser.TokenSource">TokenSource</span>, <a title="Int" id="argonaut.JsonParser.expectStringBounds.position">position</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <a href="#argonaut.JsonParser.expectedSpacerToken" title="(stream: argonaut.JsonParser.TokenSource, position: Int, token: Char, failMessage: String)scalaz.\/[String,Int]">expectedSpacerToken</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectStringBounds.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.expectStringBounds.position" title="Int">position</a>, <span title="Char('\&quot;')" class="char">'&quot;'</span>, <span title="String(&quot;Expected string bounds&quot;)" class="string">&quot;Expected string bounds&quot;</span><span class="delimiter">)</span>

  @inline
  private<span class="delimiter">[</span>this<span class="delimiter">]</span> final def <a title="(stream: argonaut.JsonParser.TokenSource, position: Int)scalaz.\/[String,Int]" id="argonaut.JsonParser.expectEntrySeparator">expectEntrySeparator</a><span class="delimiter">(</span><a title="argonaut.JsonParser.TokenSource" id="argonaut.JsonParser.expectEntrySeparator.stream">stream</a>: <span title="argonaut.JsonParser.TokenSource">TokenSource</span>, <a title="Int" id="argonaut.JsonParser.expectEntrySeparator.position">position</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <a href="#argonaut.JsonParser.expectedSpacerToken" title="(stream: argonaut.JsonParser.TokenSource, position: Int, token: Char, failMessage: String)scalaz.\/[String,Int]">expectedSpacerToken</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectEntrySeparator.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.expectEntrySeparator.position" title="Int">position</a>, <span title="Char(',')" class="char">','</span>, <span title="String(&quot;Expected entry separator token&quot;)" class="string">&quot;Expected entry separator token&quot;</span><span class="delimiter">)</span>

  @inline
  private<span class="delimiter">[</span>this<span class="delimiter">]</span> final def <a title="(stream: argonaut.JsonParser.TokenSource, position: Int)scalaz.\/[String,Int]" id="argonaut.JsonParser.expectFieldSeparator">expectFieldSeparator</a><span class="delimiter">(</span><a title="argonaut.JsonParser.TokenSource" id="argonaut.JsonParser.expectFieldSeparator.stream">stream</a>: <span title="argonaut.JsonParser.TokenSource">TokenSource</span>, <a title="Int" id="argonaut.JsonParser.expectFieldSeparator.position">position</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <a href="#argonaut.JsonParser.expectedSpacerToken" title="(stream: argonaut.JsonParser.TokenSource, position: Int, token: Char, failMessage: String)scalaz.\/[String,Int]">expectedSpacerToken</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectFieldSeparator.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.expectFieldSeparator.position" title="Int">position</a>, <span title="Char(':')" class="char">':'</span>, <span title="String(&quot;Expected field separator token&quot;)" class="string">&quot;Expected field separator token&quot;</span><span class="delimiter">)</span>

  @tailrec
  private<span class="delimiter">[</span>this<span class="delimiter">]</span> final def <a title="(stream: argonaut.JsonParser.TokenSource, position: Int, first: Boolean, fields: argonaut.JsonParser.JsonObjectBuilder)scalaz.\/[String,(Int, argonaut.Json)]" id="argonaut.JsonParser.expectObject">expectObject</a><span class="delimiter">(</span><a title="argonaut.JsonParser.TokenSource" id="argonaut.JsonParser.expectObject.stream">stream</a>: <span title="argonaut.JsonParser.TokenSource">TokenSource</span>, <a title="Int" id="argonaut.JsonParser.expectObject.position">position</a>: <span title="Int">Int</span>, <a title="Boolean" id="argonaut.JsonParser.expectObject$default$3">first</a>: <span title="Boolean">Boolean</span> = true, <a title="argonaut.JsonParser.JsonObjectBuilder" id="argonaut.JsonParser.expectObject$default$4">fields</a>: <a href="#argonaut.JsonParser.JsonObjectBuilder.readResolve" title="argonaut.JsonParser.JsonObjectBuilder">JsonObjectBuilder</a> = new <a href="#argonaut.JsonParser.JsonObjectBuilder.readResolve" title="argonaut.JsonParser.JsonObjectBuilder">JsonObjectBuilder</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>: String <span title="scalaz.\/[String,(Int, argonaut.Json)]">\/</span> <span class="delimiter">(</span>Int, Json<span class="delimiter">)</span> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#argonaut.JsonParser.expectObject.position" title="Int">position</a> <span title="(x: Int)Boolean">&gt;=</span> <a href="#argonaut.JsonParser.expectObject.stream" title="argonaut.JsonParser.TokenSource">stream</a>.<span title="()Int">length</span><span class="delimiter">)</span> <a href="#argonaut.JsonParser.unexpectedTermination" title="scalaz.\/[String,Nothing]">unexpectedTermination</a>
    else <a href="#argonaut.JsonParser.expectObject.stream" title="(index: Int)Char">stream</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectObject.position" title="Int">position</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case <span title="Char('}')" class="char">'}'</span> =&gt; <span title="(b: (Int, argonaut.Json))scalaz.\/-[(Int, argonaut.Json)]">\/-</span><span class="delimiter">(</span><span title="(_1: Int, _2: argonaut.Json)(Int, argonaut.Json)" class="delimiter">(</span><a href="#argonaut.JsonParser.expectObject.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="#argonaut.JsonParser.expectObject$default$4" title="argonaut.JsonParser.JsonObjectBuilder">fields</a>.<a href="#argonaut.JsonParser;JsonObjectBuilder.build" title="()argonaut.Json">build</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      case <span title="Char(' ')" class="char">' '</span> | <span title="Char('\r')" class="char">'\r'</span> | <span title="Char('\n')" class="char">'\n'</span> | <span title="Char('\t')" class="char">'\t'</span> =&gt; <a href="#argonaut.JsonParser.expectObject" title="(stream: argonaut.JsonParser.TokenSource, position: Int, first: Boolean, fields: argonaut.JsonParser.JsonObjectBuilder)scalaz.\/[String,(Int, argonaut.Json)]">expectObject</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectObject.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.expectObject.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="#argonaut.JsonParser.expectObject$default$3" title="Boolean">first</a>, <a href="#argonaut.JsonParser.expectObject$default$4" title="argonaut.JsonParser.JsonObjectBuilder">fields</a><span class="delimiter">)</span>
      case _ =&gt; <span class="delimiter">{</span>
        val <a title="scalaz.\/[String,(Int, argonaut.JsonParser.JsonObjectBuilder)]" id="argonaut.JsonParser.expectObject.next">next</a> = for <span class="delimiter">{</span>
          <a title="Int" id="argonaut.JsonParser.expectObject.next.$anonfun.afterEntrySeparator">afterEntrySeparator</a> &lt;- if <span class="delimiter">(</span><a href="#argonaut.JsonParser.expectObject$default$3" title="Boolean">first</a><span class="delimiter">)</span> <span title="(b: Int)scalaz.\/-[Int]">\/-</span><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectObject.position" title="Int">position</a><span class="delimiter">)</span> else <a href="#argonaut.JsonParser.expectEntrySeparator" title="(stream: argonaut.JsonParser.TokenSource, position: Int)scalaz.\/[String,Int]">expectEntrySeparator</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectObject.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.expectObject.position" title="Int">position</a><span class="delimiter">)</span>
          <a title="(Int, String)" id="argonaut.JsonParser.expectObject.next.$anonfun.$anonfun.streamAndKey">streamAndKey</a> &lt;- <a href="#argonaut.JsonParser.expectString" title="(stream: argonaut.JsonParser.TokenSource, position: Int)scalaz.\/[String,(Int, String)]">expectString</a><span title="(g: ((Int, String)) =&gt; scalaz.\/[String,(Int, argonaut.JsonParser.JsonObjectBuilder)])scalaz.\/[String,(Int, argonaut.JsonParser.JsonObjectBuilder)]" class="delimiter">(</span><a href="#argonaut.JsonParser.expectObject.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.expectObject.next.$anonfun.afterEntrySeparator" title="Int">afterEntrySeparator</a><span class="delimiter">)</span>
          <a title="Int" id="argonaut.JsonParser.expectObject.next.$anonfun.$anonfun.$anonfun.afterFieldSeparator">afterFieldSeparator</a> &lt;- <a href="#argonaut.JsonParser.expectFieldSeparator" title="(stream: argonaut.JsonParser.TokenSource, position: Int)scalaz.\/[String,Int]">expectFieldSeparator</a><span title="(g: Int =&gt; scalaz.\/[String,(Int, argonaut.JsonParser.JsonObjectBuilder)])scalaz.\/[String,(Int, argonaut.JsonParser.JsonObjectBuilder)]" class="delimiter">(</span><a href="#argonaut.JsonParser.expectObject.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.expectObject.next.$anonfun.$anonfun.streamAndKey" title="(Int, String)">streamAndKey</a>.<span title="=&gt; Int">_1</span><span class="delimiter">)</span>
          <a title="(Int, argonaut.Json)" id="argonaut.JsonParser.expectObject.next.$anonfun.$anonfun.$anonfun.$anonfun.streamAndValue">streamAndValue</a> &lt;- <a href="#argonaut.JsonParser.expectValue" title="(stream: argonaut.JsonParser.TokenSource, position: Int)scalaz.\/[String,(Int, argonaut.Json)]">expectValue</a><span title="(g: ((Int, argonaut.Json)) =&gt; (Int, argonaut.JsonParser.JsonObjectBuilder))scalaz.\/[String,(Int, argonaut.JsonParser.JsonObjectBuilder)]" class="delimiter">(</span><a href="#argonaut.JsonParser.expectObject.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.expectObject.next.$anonfun.$anonfun.$anonfun.afterFieldSeparator" title="Int">afterFieldSeparator</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> yield <span title="(_1: Int, _2: argonaut.JsonParser.JsonObjectBuilder)(Int, argonaut.JsonParser.JsonObjectBuilder)" class="delimiter">(</span><a href="#argonaut.JsonParser.expectObject.next.$anonfun.$anonfun.$anonfun.$anonfun.streamAndValue" title="(Int, argonaut.Json)">streamAndValue</a>.<span title="=&gt; Int">_1</span>, <a href="#argonaut.JsonParser.expectObject$default$4" title="argonaut.JsonParser.JsonObjectBuilder">fields</a>.<a href="#argonaut.JsonParser;JsonObjectBuilder.add" title="(key: argonaut.Json.JsonField, value: argonaut.Json)argonaut.JsonParser.JsonObjectBuilder">add</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectObject.next.$anonfun.$anonfun.streamAndKey" title="(Int, String)">streamAndKey</a>.<span title="=&gt; String">_2</span>, <a href="#argonaut.JsonParser.expectObject.next.$anonfun.$anonfun.$anonfun.$anonfun.streamAndValue" title="(Int, argonaut.Json)">streamAndValue</a>.<span title="=&gt; argonaut.Json">_2</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#argonaut.JsonParser.expectObject.next" title="scalaz.\/[String,(Int, argonaut.JsonParser.JsonObjectBuilder)]">next</a> match <span class="delimiter">{</span>
          case \/-<span class="delimiter">(</span><span class="delimiter">(</span><a title="Int" id="argonaut.JsonParser.expectObject.newPosition">newPosition</a>, <a title="argonaut.JsonParser.JsonObjectBuilder" id="argonaut.JsonParser.expectObject.newFields">newFields</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#argonaut.JsonParser.expectObject" title="(stream: argonaut.JsonParser.TokenSource, position: Int, first: Boolean, fields: argonaut.JsonParser.JsonObjectBuilder)scalaz.\/[String,(Int, argonaut.Json)]">expectObject</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectObject.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.expectObject.newPosition" title="Int">newPosition</a>, false, <a href="#argonaut.JsonParser.expectObject.newFields" title="argonaut.JsonParser.JsonObjectBuilder">newFields</a><span class="delimiter">)</span>
          case -\/<span class="delimiter">(</span><a title="String" id="argonaut.JsonParser.expectObject.failure">failure</a><span class="delimiter">)</span> =&gt; <a href="#argonaut.JsonParser.expectObject.failure" title="(a: String)scalaz.syntax.EitherOps[String]">failure</a>.<span title="scalaz.\/[String,Nothing]">left</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">// Note the mutable collection type in the parameters.</span>
  @tailrec
  private<span class="delimiter">[</span>this<span class="delimiter">]</span> final def <a title="(stream: argonaut.JsonParser.TokenSource, position: Int, first: Boolean, fields: scala.collection.mutable.Builder[argonaut.Json,List[argonaut.Json]])scalaz.\/[String,(Int, argonaut.Json)]" id="argonaut.JsonParser.expectArray">expectArray</a><span class="delimiter">(</span><a title="argonaut.JsonParser.TokenSource" id="argonaut.JsonParser.expectArray.stream">stream</a>: <span title="argonaut.JsonParser.TokenSource">TokenSource</span>, <a title="Int" id="argonaut.JsonParser.expectArray.position">position</a>: <span title="Int">Int</span>, <a title="Boolean" id="argonaut.JsonParser.expectArray$default$3">first</a>: <span title="Boolean">Boolean</span> = true, <a title="scala.collection.mutable.Builder[argonaut.Json,List[argonaut.Json]]" id="argonaut.JsonParser.expectArray$default$4">fields</a>: <span title="scala.collection.mutable.Builder[argonaut.Json,List[argonaut.Json]]">Builder</span><span class="delimiter">[</span>Json, List<span class="delimiter">[</span>Json<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="scala.collection.immutable.List.type">List</span>.<span title="scala.collection.mutable.Builder[argonaut.Json,List[argonaut.Json]]">newBuilder</span><span class="delimiter">)</span>: String <span title="scalaz.\/[String,(Int, argonaut.Json)]">\/</span> <span class="delimiter">(</span>Int, Json<span class="delimiter">)</span> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#argonaut.JsonParser.expectArray.position" title="Int">position</a> <span title="(x: Int)Boolean">&gt;=</span> <a href="#argonaut.JsonParser.expectArray.stream" title="argonaut.JsonParser.TokenSource">stream</a>.<span title="()Int">length</span><span class="delimiter">)</span> <a href="#argonaut.JsonParser.unexpectedTermination" title="scalaz.\/[String,Nothing]">unexpectedTermination</a>
    else <a href="#argonaut.JsonParser.expectArray.stream" title="(index: Int)Char">stream</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectArray.position" title="Int">position</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case <span title="Char(']')" class="char">']'</span> =&gt; <span title="(b: (Int, argonaut.Json))scalaz.\/-[(Int, argonaut.Json)]">\/-</span><span class="delimiter">(</span><span title="(_1: Int, _2: argonaut.Json)(Int, argonaut.Json)" class="delimiter">(</span><a href="#argonaut.JsonParser.expectArray.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="Json.scala.html#argonaut;Jsons.jArray" title="(v1: argonaut.Json.JsonArray)argonaut.Json">jArray</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectArray$default$4" title="scala.collection.mutable.Builder[argonaut.Json,List[argonaut.Json]]">fields</a>.<span title="()List[argonaut.Json]">result</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      case <span title="Char(' ')" class="char">' '</span> | <span title="Char('\r')" class="char">'\r'</span> | <span title="Char('\n')" class="char">'\n'</span> | <span title="Char('\t')" class="char">'\t'</span> =&gt; <a href="#argonaut.JsonParser.expectArray" title="(stream: argonaut.JsonParser.TokenSource, position: Int, first: Boolean, fields: scala.collection.mutable.Builder[argonaut.Json,List[argonaut.Json]])scalaz.\/[String,(Int, argonaut.Json)]">expectArray</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectArray.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.expectArray.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="#argonaut.JsonParser.expectArray$default$3" title="Boolean">first</a>, <a href="#argonaut.JsonParser.expectArray$default$4" title="scala.collection.mutable.Builder[argonaut.Json,List[argonaut.Json]]">fields</a><span class="delimiter">)</span>
      case _ =&gt; <span class="delimiter">{</span>
        val <a title="scalaz.\/[String,(Int, scala.collection.mutable.Builder[argonaut.Json,List[argonaut.Json]])]" id="argonaut.JsonParser.expectArray.next">next</a> = for <span class="delimiter">{</span>
          <a title="Int" id="argonaut.JsonParser.expectArray.next.$anonfun.afterEntrySeparator">afterEntrySeparator</a> &lt;- if <span class="delimiter">(</span><a href="#argonaut.JsonParser.expectArray$default$3" title="Boolean">first</a><span class="delimiter">)</span> <span title="(b: Int)scalaz.\/-[Int]">\/-</span><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectArray.position" title="Int">position</a><span class="delimiter">)</span> else <a href="#argonaut.JsonParser.expectEntrySeparator" title="(stream: argonaut.JsonParser.TokenSource, position: Int)scalaz.\/[String,Int]">expectEntrySeparator</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectArray.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.expectArray.position" title="Int">position</a><span class="delimiter">)</span>
          <a title="(Int, argonaut.Json)" id="argonaut.JsonParser.expectArray.next.$anonfun.$anonfun.streamAndValue">streamAndValue</a> &lt;- <a href="#argonaut.JsonParser.expectValue" title="(stream: argonaut.JsonParser.TokenSource, position: Int)scalaz.\/[String,(Int, argonaut.Json)]">expectValue</a><span title="(g: ((Int, argonaut.Json)) =&gt; (Int, scala.collection.mutable.Builder[argonaut.Json,List[argonaut.Json]]))scalaz.\/[String,(Int, scala.collection.mutable.Builder[argonaut.Json,List[argonaut.Json]])]" class="delimiter">(</span><a href="#argonaut.JsonParser.expectArray.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.expectArray.next.$anonfun.afterEntrySeparator" title="Int">afterEntrySeparator</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> yield <span title="(_1: Int, _2: scala.collection.mutable.Builder[argonaut.Json,List[argonaut.Json]])(Int, scala.collection.mutable.Builder[argonaut.Json,List[argonaut.Json]])" class="delimiter">(</span><a href="#argonaut.JsonParser.expectArray.next.$anonfun.$anonfun.streamAndValue" title="(Int, argonaut.Json)">streamAndValue</a>.<span title="=&gt; Int">_1</span>, <a href="#argonaut.JsonParser.expectArray$default$4" title="scala.collection.mutable.Builder[argonaut.Json,List[argonaut.Json]]">fields</a> <span title="(elem: argonaut.Json)fields.type">+=</span> <a href="#argonaut.JsonParser.expectArray.next.$anonfun.$anonfun.streamAndValue" title="(Int, argonaut.Json)">streamAndValue</a>.<span title="=&gt; argonaut.Json">_2</span><span class="delimiter">)</span>
        <a href="#argonaut.JsonParser.expectArray.next" title="scalaz.\/[String,(Int, scala.collection.mutable.Builder[argonaut.Json,List[argonaut.Json]])]">next</a> match <span class="delimiter">{</span>
          case \/-<span class="delimiter">(</span><span class="delimiter">(</span><a title="Int" id="argonaut.JsonParser.expectArray.newPosition">newPosition</a>, <a title="scala.collection.mutable.Builder[argonaut.Json,List[argonaut.Json]]" id="argonaut.JsonParser.expectArray.newFields">newFields</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#argonaut.JsonParser.expectArray" title="(stream: argonaut.JsonParser.TokenSource, position: Int, first: Boolean, fields: scala.collection.mutable.Builder[argonaut.Json,List[argonaut.Json]])scalaz.\/[String,(Int, argonaut.Json)]">expectArray</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectArray.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.expectArray.newPosition" title="Int">newPosition</a>, false, <a href="#argonaut.JsonParser.expectArray.newFields" title="scala.collection.mutable.Builder[argonaut.Json,List[argonaut.Json]]">newFields</a><span class="delimiter">)</span>
          case -\/<span class="delimiter">(</span><a title="String" id="argonaut.JsonParser.expectArray.failure">failure</a><span class="delimiter">)</span> =&gt; <a href="#argonaut.JsonParser.expectArray.failure" title="(a: String)scalaz.syntax.EitherOps[String]">failure</a>.<span title="scalaz.\/[String,Nothing]">left</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  @tailrec
  private<span class="delimiter">[</span>this<span class="delimiter">]</span> final def <a title="(stream: argonaut.JsonParser.TokenSource, position: Int)scalaz.\/[String,(Int, argonaut.Json)]" id="argonaut.JsonParser.expectValue">expectValue</a><span class="delimiter">(</span><a title="argonaut.JsonParser.TokenSource" id="argonaut.JsonParser.expectValue.stream">stream</a>: <span title="argonaut.JsonParser.TokenSource">TokenSource</span>, <a title="Int" id="argonaut.JsonParser.expectValue.position">position</a>: <span title="Int">Int</span><span class="delimiter">)</span>: String <span title="scalaz.\/[String,(Int, argonaut.Json)]">\/</span> <span class="delimiter">(</span>Int, Json<span class="delimiter">)</span> = <span class="delimiter">{</span>

    @tailrec
    def <a title="(index: Int)Int" id="argonaut.JsonParser.expectValue.safeNumberIndex">safeNumberIndex</a><span class="delimiter">(</span><a title="Int" id="argonaut.JsonParser.expectValue.safeNumberIndex.index">index</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="#argonaut.JsonParser.expectValue.safeNumberIndex.index" title="Int">index</a> <span title="(x: Int)Boolean">&gt;=</span> <a href="#argonaut.JsonParser.expectValue.stream" title="argonaut.JsonParser.TokenSource">stream</a>.<span title="()Int">length</span><span class="delimiter">)</span> <a href="#argonaut.JsonParser.expectValue.stream" title="argonaut.JsonParser.TokenSource">stream</a>.<span title="()Int">length</span>
      else <span class="delimiter">{</span>
        val <a title="Char" id="argonaut.JsonParser.expectValue.safeNumberIndex.char">char</a> = <a href="#argonaut.JsonParser.expectValue.stream" title="(index: Int)Char">stream</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectValue.safeNumberIndex.index" title="Int">index</a><span class="delimiter">)</span>
        if <span class="delimiter">(</span><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectValue.safeNumberIndex.char" title="Char">char</a> <span title="(x: Char)Boolean">&gt;=</span> <span title="Char('0')" class="char">'0'</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#argonaut.JsonParser.expectValue.safeNumberIndex.char" title="Char">char</a> <span title="(x: Char)Boolean">&lt;=</span> <span title="Char('9')" class="char">'9'</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#argonaut.JsonParser.expectValue.safeNumberIndex.char" title="Char">char</a> <span title="(x: Char)Boolean">==</span> <span title="Char('+')" class="char">'+'</span> <span title="(x: Boolean)Boolean">||</span> <a href="#argonaut.JsonParser.expectValue.safeNumberIndex.char" title="Char">char</a> <span title="(x: Char)Boolean">==</span> <span title="Char('-')" class="char">'-'</span> <span title="(x: Boolean)Boolean">||</span> <a href="#argonaut.JsonParser.expectValue.safeNumberIndex.char" title="Char">char</a> <span title="(x: Char)Boolean">==</span> <span title="Char('e')" class="char">'e'</span> <span title="(x: Boolean)Boolean">||</span> <a href="#argonaut.JsonParser.expectValue.safeNumberIndex.char" title="Char">char</a> <span title="(x: Char)Boolean">==</span> <span title="Char('E')" class="char">'E'</span> <span title="(x: Boolean)Boolean">||</span> <a href="#argonaut.JsonParser.expectValue.safeNumberIndex.char" title="Char">char</a> <span title="(x: Char)Boolean">==</span> <span title="Char('.')" class="char">'.'</span><span class="delimiter">)</span> <a href="#argonaut.JsonParser.expectValue.safeNumberIndex" title="(index: Int)Int">safeNumberIndex</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectValue.safeNumberIndex.index" title="Int">index</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        else <a href="#argonaut.JsonParser.expectValue.safeNumberIndex.index" title="Int">index</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    if <span class="delimiter">(</span><a href="#argonaut.JsonParser.expectValue.position" title="Int">position</a> <span title="(x: Int)Boolean">&gt;=</span> <a href="#argonaut.JsonParser.expectValue.stream" title="argonaut.JsonParser.TokenSource">stream</a>.<span title="()Int">length</span><span class="delimiter">)</span> <a href="#argonaut.JsonParser.unexpectedTermination" title="scalaz.\/[String,Nothing]">unexpectedTermination</a>
    else <a href="#argonaut.JsonParser.expectValue.stream" title="(index: Int)Char">stream</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectValue.position" title="Int">position</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case <span title="Char('[')" class="char">'['</span> =&gt; <a href="#argonaut.JsonParser.expectArray" title="(stream: argonaut.JsonParser.TokenSource, position: Int, first: Boolean, fields: scala.collection.mutable.Builder[argonaut.Json,List[argonaut.Json]])scalaz.\/[String,(Int, argonaut.Json)]">expectArray</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectValue.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.expectValue.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      case <span title="Char('{')" class="char">'{'</span> =&gt; <a href="#argonaut.JsonParser.expectObject" title="(stream: argonaut.JsonParser.TokenSource, position: Int, first: Boolean, fields: argonaut.JsonParser.JsonObjectBuilder)scalaz.\/[String,(Int, argonaut.Json)]">expectObject</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectValue.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.expectValue.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      case <span title="Char('\&quot;')" class="char">'&quot;'</span> =&gt; <a href="#argonaut.JsonParser.expectStringNoStartBounds" title="(stream: argonaut.JsonParser.TokenSource, position: Int)scalaz.\/[String,(Int, String)]">expectStringNoStartBounds</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectValue.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.expectValue.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="(g: ((Int, String)) =&gt; (Int, argonaut.Json))scalaz.\/[String,(Int, argonaut.Json)]">map</span><span class="delimiter">(</span><a title="(Int, String)" id="argonaut.JsonParser.expectValue.$anonfun.pair">pair</a> =&gt; <span title="(_1: Int, _2: argonaut.Json)(Int, argonaut.Json)" class="delimiter">(</span><a href="#argonaut.JsonParser.expectValue.$anonfun.pair" title="(Int, String)">pair</a>.<span title="=&gt; Int">_1</span>, <a href="Json.scala.html#argonaut;Jsons.jString" title="(v1: argonaut.Json.JsonString)argonaut.Json">jString</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectValue.$anonfun.pair" title="(Int, String)">pair</a>.<span title="=&gt; String">_2</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      case <span title="Char('t')" class="char">'t'</span> if <a href="#argonaut.JsonParser.expectValue.stream" title="argonaut.JsonParser.TokenSource">stream</a>.<span title="(x$1: String, x$2: Int)Boolean">startsWith</span><span class="delimiter">(</span><span title="String(&quot;true&quot;)" class="string">&quot;true&quot;</span>, <a href="#argonaut.JsonParser.expectValue.position" title="Int">position</a><span class="delimiter">)</span> =&gt; <span title="(b: (Int, argonaut.Json))scalaz.\/-[(Int, argonaut.Json)]">\/-</span><span class="delimiter">(</span><span title="(_1: Int, _2: argonaut.Json)(Int, argonaut.Json)" class="delimiter">(</span><a href="#argonaut.JsonParser.expectValue.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(4)" class="int">4</span>, <a href="Json.scala.html#argonaut;Jsons.jTrue" title="=&gt; argonaut.Json">jTrue</a><span class="delimiter">)</span><span class="delimiter">)</span>
      case <span title="Char('f')" class="char">'f'</span> if <a href="#argonaut.JsonParser.expectValue.stream" title="argonaut.JsonParser.TokenSource">stream</a>.<span title="(x$1: String, x$2: Int)Boolean">startsWith</span><span class="delimiter">(</span><span title="String(&quot;false&quot;)" class="string">&quot;false&quot;</span>, <a href="#argonaut.JsonParser.expectValue.position" title="Int">position</a><span class="delimiter">)</span> =&gt; <span title="(b: (Int, argonaut.Json))scalaz.\/-[(Int, argonaut.Json)]">\/-</span><span class="delimiter">(</span><span title="(_1: Int, _2: argonaut.Json)(Int, argonaut.Json)" class="delimiter">(</span><a href="#argonaut.JsonParser.expectValue.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(5)" class="int">5</span>, <a href="Json.scala.html#argonaut;Jsons.jFalse" title="=&gt; argonaut.Json">jFalse</a><span class="delimiter">)</span><span class="delimiter">)</span>
      case <span title="Char('n')" class="char">'n'</span> if <a href="#argonaut.JsonParser.expectValue.stream" title="argonaut.JsonParser.TokenSource">stream</a>.<span title="(x$1: String, x$2: Int)Boolean">startsWith</span><span class="delimiter">(</span><span title="String(&quot;null&quot;)" class="string">&quot;null&quot;</span>, <a href="#argonaut.JsonParser.expectValue.position" title="Int">position</a><span class="delimiter">)</span> =&gt; <span title="(b: (Int, argonaut.Json))scalaz.\/-[(Int, argonaut.Json)]">\/-</span><span class="delimiter">(</span><span title="(_1: Int, _2: argonaut.Json)(Int, argonaut.Json)" class="delimiter">(</span><a href="#argonaut.JsonParser.expectValue.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(4)" class="int">4</span>, <a href="Json.scala.html#argonaut;Jsons.jNull" title="=&gt; argonaut.Json">jNull</a><span class="delimiter">)</span><span class="delimiter">)</span>
      case <span title="Char(' ')" class="char">' '</span> | <span title="Char('\r')" class="char">'\r'</span> | <span title="Char('\n')" class="char">'\n'</span> | <span title="Char('\t')" class="char">'\t'</span> =&gt; <a href="#argonaut.JsonParser.expectValue" title="(stream: argonaut.JsonParser.TokenSource, position: Int)scalaz.\/[String,(Int, argonaut.Json)]">expectValue</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectValue.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.expectValue.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      case _ =&gt; <span class="delimiter">{</span>
        val <a title="Int" id="argonaut.JsonParser.expectValue.numberEndIndex">numberEndIndex</a> = <a href="#argonaut.JsonParser.expectValue.safeNumberIndex" title="(index: Int)Int">safeNumberIndex</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectValue.position" title="Int">position</a><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="#argonaut.JsonParser.expectValue.numberEndIndex" title="Int">numberEndIndex</a> <span title="(x: Int)Boolean">==</span> <a href="#argonaut.JsonParser.expectValue.position" title="Int">position</a><span class="delimiter">)</span> <a href="#argonaut.JsonParser.unexpectedContent" title="(stream: argonaut.JsonParser.TokenSource, position: Int)scalaz.\/[String,Nothing]">unexpectedContent</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectValue.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.expectValue.position" title="Int">position</a><span class="delimiter">)</span>
        else <span class="delimiter">{</span>
          val <a title="String" id="argonaut.JsonParser.expectValue.numberAsString">numberAsString</a> = <a href="#argonaut.JsonParser.expectValue.stream" title="argonaut.JsonParser.TokenSource">stream</a>.<span title="(x$1: Int, x$2: Int)String">substring</span><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectValue.position" title="Int">position</a>, <a href="#argonaut.JsonParser.expectValue.numberEndIndex" title="Int">numberEndIndex</a><span class="delimiter">)</span>
          <a href="JsonNumber.scala.html#argonaut.JsonNumber" title="argonaut.JsonNumber.type">JsonNumber</a>.<a href="JsonNumber.scala.html#argonaut.JsonNumber.fromString" title="(value: String)Option[argonaut.JsonNumber]">fromString</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.expectValue.numberAsString" title="String">numberAsString</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
            case Some<span class="delimiter">(</span><a title="argonaut.JsonNumber" id="argonaut.JsonParser.expectValue.jn">jn</a><span class="delimiter">)</span> =&gt; <span title="(b: (Int, argonaut.Json))scalaz.\/-[(Int, argonaut.Json)]">\/-</span><span class="delimiter">(</span><span title="(_1: Int, _2: argonaut.Json)(Int, argonaut.Json)" class="delimiter">(</span><a href="#argonaut.JsonParser.expectValue.numberEndIndex" title="Int">numberEndIndex</a>, <a href="#argonaut.JsonParser.expectValue.jn" title="argonaut.JsonNumber">jn</a>.<a href="JsonNumber.scala.html#argonaut;JsonNumber.asJsonOrNull" title="=&gt; argonaut.Json">asJsonOrNull</a><span class="delimiter">)</span><span class="delimiter">)</span>
            case <span title="None.type">None</span> =&gt; <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Value [%s] cannot be parsed into a number.&quot;</span>.<span title="(args: Any*)String">format</span><span title="(a: String)scalaz.syntax.EitherOps[String]" class="delimiter">(</span><a href="#argonaut.JsonParser.expectValue.numberAsString" title="String">numberAsString</a><span class="delimiter">)</span>.<span title="scalaz.\/[String,Nothing]">left</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  @inline
  private<span class="delimiter">[</span>this<span class="delimiter">]</span> final def <a title="(stream: argonaut.JsonParser.TokenSource, position: Int)scalaz.\/[String,(Int, String)]" id="argonaut.JsonParser.expectString">expectString</a><span class="delimiter">(</span><a title="argonaut.JsonParser.TokenSource" id="argonaut.JsonParser.expectString.stream">stream</a>: <span title="argonaut.JsonParser.TokenSource">TokenSource</span>, <a title="Int" id="argonaut.JsonParser.expectString.position">position</a>: <span title="Int">Int</span><span class="delimiter">)</span>: String <span title="scalaz.\/[String,(Int, String)]">\/</span> <span class="delimiter">(</span>Int, String<span class="delimiter">)</span> = <span class="delimiter">{</span>
    for <span class="delimiter">{</span>
      <a title="Int" id="argonaut.JsonParser.expectString.$anonfun.afterOpen">afterOpen</a> &lt;- <a href="#argonaut.JsonParser.expectStringBounds" title="(stream: argonaut.JsonParser.TokenSource, position: Int)scalaz.\/[String,Int]">expectStringBounds</a><span title="(g: Int =&gt; scalaz.\/[String,(Int, String)])scalaz.\/[String,(Int, String)]" class="delimiter">(</span><a href="#argonaut.JsonParser.expectString.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.expectString.position" title="Int">position</a><span class="delimiter">)</span>
      <a title="(Int, String)" id="argonaut.JsonParser.expectString.$anonfun.$anonfun.afterString">afterString</a> &lt;- <a href="#argonaut.JsonParser.expectStringNoStartBounds" title="(stream: argonaut.JsonParser.TokenSource, position: Int)scalaz.\/[String,(Int, String)]">expectStringNoStartBounds</a><span title="(g: ((Int, String)) =&gt; (Int, String))scalaz.\/[String,(Int, String)]" class="delimiter">(</span><a href="#argonaut.JsonParser.expectString.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.expectString.$anonfun.afterOpen" title="Int">afterOpen</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> yield <a href="#argonaut.JsonParser.expectString.$anonfun.$anonfun.afterString" title="(Int, String)">afterString</a>
  <span class="delimiter">}</span>

  @inline
  private<span class="delimiter">[</span>this<span class="delimiter">]</span> final def <a title="[T](stream: argonaut.JsonParser.TokenSource, position: Int)scalaz.\/[String,T]" id="argonaut.JsonParser.unexpectedContent">unexpectedContent</a><span class="delimiter">[</span><a title="" id="argonaut.JsonParser.unexpectedContent;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="argonaut.JsonParser.TokenSource" id="argonaut.JsonParser.unexpectedContent.stream">stream</a>: <span title="argonaut.JsonParser.TokenSource">TokenSource</span>, <a title="Int" id="argonaut.JsonParser.unexpectedContent.position">position</a>: <span title="Int">Int</span><span class="delimiter">)</span>: String <span title="scalaz.\/[String,T]">\/</span> T = <span class="delimiter">{</span>
    <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Unexpected content found: %s&quot;</span>.<span title="(args: Any*)String">format</span><span title="(a: String)scalaz.syntax.EitherOps[String]" class="delimiter">(</span><a href="#argonaut.JsonParser.excerpt" title="(string: String, position: Int, limit: Int)String">excerpt</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.unexpectedContent.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.unexpectedContent.position" title="Int">position</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="[B]=&gt; scalaz.\/[String,B]">left</span><span title="scalaz.\/[String,T]" class="delimiter">[</span><a href="#argonaut.JsonParser.unexpectedContent;T" title="T">T</a><span class="delimiter">]</span>
  <span class="delimiter">}</span>

  <span class="comment">// Note the mutable collection type in the parameters.</span>
  @tailrec
  private<span class="delimiter">[</span>this<span class="delimiter">]</span> final def <a title="(stream: argonaut.JsonParser.TokenSource, position: Int, workingString: StringBuilder)scalaz.\/[String,(Int, StringBuilder)]" id="argonaut.JsonParser.collectStringParts">collectStringParts</a><span class="delimiter">(</span><a title="argonaut.JsonParser.TokenSource" id="argonaut.JsonParser.collectStringParts.stream">stream</a>: <span title="argonaut.JsonParser.TokenSource">TokenSource</span>, <a title="Int" id="argonaut.JsonParser.collectStringParts.position">position</a>: <span title="Int">Int</span>, <a title="StringBuilder" id="argonaut.JsonParser.collectStringParts$default$3">workingString</a>: <span title="StringBuilder">StringBuilder</span> = new <span title="StringBuilder">StringBuilder</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>: String <span title="scalaz.\/[String,(Int, StringBuilder)]">\/</span> <span class="delimiter">(</span>Int, StringBuilder<span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="Int" id="argonaut.JsonParser.collectStringParts.streamLength">streamLength</a> = <a href="#argonaut.JsonParser.collectStringParts.stream" title="argonaut.JsonParser.TokenSource">stream</a>.<span title="()Int">length</span>

    @tailrec
    @inline
    def <a title="(from: Int, unicodeShift: Int)Boolean" id="argonaut.JsonParser.collectStringParts.checkUnicode">checkUnicode</a><span class="delimiter">(</span><a title="Int" id="argonaut.JsonParser.collectStringParts.checkUnicode.from">from</a>: <span title="Int">Int</span>, <a title="Int" id="argonaut.JsonParser.collectStringParts.checkUnicode$default$2">unicodeShift</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.checkUnicode$default$2" title="Int">unicodeShift</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(4)" class="int">4</span><span class="delimiter">)</span> true
      else <span class="delimiter">{</span>
        val <a title="Char" id="argonaut.JsonParser.collectStringParts.checkUnicode.char">char</a> = <a href="#argonaut.JsonParser.collectStringParts.stream" title="(index: Int)Char">stream</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.checkUnicode.from" title="Int">from</a> <span title="(x: Int)Int">+</span> <a href="#argonaut.JsonParser.collectStringParts.checkUnicode$default$2" title="Int">unicodeShift</a><span class="delimiter">)</span>
        if <span class="delimiter">(</span><span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.checkUnicode.char" title="Char">char</a> <span title="(x: Char)Boolean">&gt;=</span> <span title="Char('a')" class="char">'a'</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#argonaut.JsonParser.collectStringParts.checkUnicode.char" title="Char">char</a> <span title="(x: Char)Boolean">&lt;=</span> <span title="Char('f')" class="char">'f'</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.checkUnicode.char" title="Char">char</a> <span title="(x: Char)Boolean">&gt;=</span> <span title="Char('A')" class="char">'A'</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#argonaut.JsonParser.collectStringParts.checkUnicode.char" title="Char">char</a> <span title="(x: Char)Boolean">&lt;=</span> <span title="Char('F')" class="char">'F'</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.checkUnicode.char" title="Char">char</a> <span title="(x: Char)Boolean">&gt;=</span> <span title="Char('0')" class="char">'0'</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#argonaut.JsonParser.collectStringParts.checkUnicode.char" title="Char">char</a> <span title="(x: Char)Boolean">&lt;=</span> <span title="Char('9')" class="char">'9'</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#argonaut.JsonParser.collectStringParts.checkUnicode" title="(from: Int, unicodeShift: Int)Boolean">checkUnicode</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.checkUnicode.from" title="Int">from</a>, <a href="#argonaut.JsonParser.collectStringParts.checkUnicode$default$2" title="Int">unicodeShift</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        else false
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    @tailrec
    @inline
    def <a title="(index: Int)Int" id="argonaut.JsonParser.collectStringParts.safeNormalCharIndex">safeNormalCharIndex</a><span class="delimiter">(</span><a title="Int" id="argonaut.JsonParser.collectStringParts.safeNormalCharIndex.index">index</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.safeNormalCharIndex.index" title="Int">index</a> <span title="(x: Int)Boolean">&gt;=</span> <a href="#argonaut.JsonParser.collectStringParts.streamLength" title="Int">streamLength</a><span class="delimiter">)</span> <a href="#argonaut.JsonParser.collectStringParts.streamLength" title="Int">streamLength</a>
      else <span class="delimiter">{</span>
        val <a title="Char" id="argonaut.JsonParser.collectStringParts.safeNormalCharIndex.char">char</a> = <a href="#argonaut.JsonParser.collectStringParts.stream" title="(index: Int)Char">stream</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.safeNormalCharIndex.index" title="Int">index</a><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.safeNormalCharIndex.char" title="Char">char</a> <span title="(x: Char)Boolean">==</span> <span title="Char('\&quot;')" class="char">'&quot;'</span> <span title="(x: Boolean)Boolean">||</span> <a href="#argonaut.JsonParser.collectStringParts.safeNormalCharIndex.char" title="Char">char</a> <span title="(x: Char)Boolean">==</span> <span title="Char('\\')" class="char">'\\'</span><span class="delimiter">)</span> <a href="#argonaut.JsonParser.collectStringParts.safeNormalCharIndex.index" title="Int">index</a>
        else <a href="#argonaut.JsonParser.collectStringParts.safeNormalCharIndex" title="(index: Int)Int">safeNormalCharIndex</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.safeNormalCharIndex.index" title="Int">index</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    if <span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.position" title="Int">position</a> <span title="(x: Int)Boolean">&gt;=</span> <a href="#argonaut.JsonParser.collectStringParts.streamLength" title="Int">streamLength</a><span class="delimiter">)</span> <a href="#argonaut.JsonParser.unexpectedTermination" title="scalaz.\/[String,Nothing]">unexpectedTermination</a>
    else <a href="#argonaut.JsonParser.collectStringParts.stream" title="(index: Int)Char">stream</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.position" title="Int">position</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case <span title="Char('\&quot;')" class="char">'&quot;'</span> =&gt; <span title="(b: (Int, StringBuilder))scalaz.\/-[(Int, StringBuilder)]">\/-</span><span class="delimiter">(</span><span title="(_1: Int, _2: StringBuilder)(Int, StringBuilder)" class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="#argonaut.JsonParser.collectStringParts$default$3" title="StringBuilder">workingString</a><span class="delimiter">)</span><span class="delimiter">)</span>
      case <span title="Char('\\')" class="char">'\\'</span> =&gt; <span class="delimiter">{</span>
        if <span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(2)" class="int">2</span> <span title="(x: Int)Boolean">&lt;</span> <a href="#argonaut.JsonParser.collectStringParts.streamLength" title="Int">streamLength</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#argonaut.JsonParser.collectStringParts.stream" title="(index: Int)Char">stream</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
            case <span title="Char('u')" class="char">'u'</span> if <span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(6)" class="int">6</span> <span title="(x: Int)Boolean">&lt;</span> <a href="#argonaut.JsonParser.collectStringParts.streamLength" title="Int">streamLength</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#argonaut.JsonParser.collectStringParts.checkUnicode" title="(from: Int, unicodeShift: Int)Boolean">checkUnicode</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
              <a href="#argonaut.JsonParser.collectStringParts" title="(stream: argonaut.JsonParser.TokenSource, position: Int, workingString: StringBuilder)scalaz.\/[String,(Int, StringBuilder)]">collectStringParts</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.collectStringParts.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(6)" class="int">6</span>, <a href="#argonaut.JsonParser.collectStringParts$default$3" title="StringBuilder">workingString</a>.<span title="(x$1: Int)StringBuilder">appendCodePoint</span><span class="delimiter">(</span><span title="Integer.type">Integer</span>.<span title="(x$1: String, x$2: Int)Int">parseInt</span><span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.stream" title="argonaut.JsonParser.TokenSource">stream</a>.<span title="(x$1: Int, x$2: Int)String">substring</span><span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(2)" class="int">2</span>, <a href="#argonaut.JsonParser.collectStringParts.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(6)" class="int">6</span><span class="delimiter">)</span>, <span title="Int(16)" class="int">16</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            case <span title="Char('u')" class="char">'u'</span> =&gt; <a href="#argonaut.JsonParser.unexpectedContent" title="(stream: argonaut.JsonParser.TokenSource, position: Int)scalaz.\/[String,Nothing]">unexpectedContent</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.collectStringParts.position" title="Int">position</a><span class="delimiter">)</span>
            case <span title="Char('r')" class="char">'r'</span> =&gt; <a href="#argonaut.JsonParser.collectStringParts" title="(stream: argonaut.JsonParser.TokenSource, position: Int, workingString: StringBuilder)scalaz.\/[String,(Int, StringBuilder)]">collectStringParts</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.collectStringParts.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(2)" class="int">2</span>, <a href="#argonaut.JsonParser.collectStringParts$default$3" title="StringBuilder">workingString</a>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;\r&quot;)" class="string">&quot;\r&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
            case <span title="Char('n')" class="char">'n'</span> =&gt; <a href="#argonaut.JsonParser.collectStringParts" title="(stream: argonaut.JsonParser.TokenSource, position: Int, workingString: StringBuilder)scalaz.\/[String,(Int, StringBuilder)]">collectStringParts</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.collectStringParts.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(2)" class="int">2</span>, <a href="#argonaut.JsonParser.collectStringParts$default$3" title="StringBuilder">workingString</a>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
            case <span title="Char('t')" class="char">'t'</span> =&gt; <a href="#argonaut.JsonParser.collectStringParts" title="(stream: argonaut.JsonParser.TokenSource, position: Int, workingString: StringBuilder)scalaz.\/[String,(Int, StringBuilder)]">collectStringParts</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.collectStringParts.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(2)" class="int">2</span>, <a href="#argonaut.JsonParser.collectStringParts$default$3" title="StringBuilder">workingString</a>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;\t&quot;)" class="string">&quot;\t&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
            case <span title="Char('b')" class="char">'b'</span> =&gt; <a href="#argonaut.JsonParser.collectStringParts" title="(stream: argonaut.JsonParser.TokenSource, position: Int, workingString: StringBuilder)scalaz.\/[String,(Int, StringBuilder)]">collectStringParts</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.collectStringParts.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(2)" class="int">2</span>, <a href="#argonaut.JsonParser.collectStringParts$default$3" title="StringBuilder">workingString</a>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;\b&quot;)" class="string">&quot;\b&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
            case <span title="Char('f')" class="char">'f'</span> =&gt; <a href="#argonaut.JsonParser.collectStringParts" title="(stream: argonaut.JsonParser.TokenSource, position: Int, workingString: StringBuilder)scalaz.\/[String,(Int, StringBuilder)]">collectStringParts</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.collectStringParts.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(2)" class="int">2</span>, <a href="#argonaut.JsonParser.collectStringParts$default$3" title="StringBuilder">workingString</a>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;\f&quot;)" class="string">&quot;\f&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
            case <span title="Char('\\')" class="char">'\\'</span> =&gt; <a href="#argonaut.JsonParser.collectStringParts" title="(stream: argonaut.JsonParser.TokenSource, position: Int, workingString: StringBuilder)scalaz.\/[String,(Int, StringBuilder)]">collectStringParts</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.collectStringParts.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(2)" class="int">2</span>, <a href="#argonaut.JsonParser.collectStringParts$default$3" title="StringBuilder">workingString</a>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;\\&quot;)" class="string">&quot;&quot;&quot;\&quot;&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
            case <span title="Char('/')" class="char">'/'</span> =&gt; <a href="#argonaut.JsonParser.collectStringParts" title="(stream: argonaut.JsonParser.TokenSource, position: Int, workingString: StringBuilder)scalaz.\/[String,(Int, StringBuilder)]">collectStringParts</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.collectStringParts.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(2)" class="int">2</span>, <a href="#argonaut.JsonParser.collectStringParts$default$3" title="StringBuilder">workingString</a>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;/&quot;)" class="string">&quot;&quot;&quot;/&quot;&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
            case <span title="Char('\&quot;')" class="char">'&quot;'</span> =&gt; <a href="#argonaut.JsonParser.collectStringParts" title="(stream: argonaut.JsonParser.TokenSource, position: Int, workingString: StringBuilder)scalaz.\/[String,(Int, StringBuilder)]">collectStringParts</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.collectStringParts.position" title="Int">position</a> <span title="(x: Int)Int">+</span> <span title="Int(2)" class="int">2</span>, <a href="#argonaut.JsonParser.collectStringParts$default$3" title="StringBuilder">workingString</a>.<span title="(x$1: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;\&quot;&quot;)" class="string">&quot;\&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
            case _ =&gt; <a href="#argonaut.JsonParser.unexpectedContent" title="(stream: argonaut.JsonParser.TokenSource, position: Int)scalaz.\/[String,Nothing]">unexpectedContent</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.collectStringParts.position" title="Int">position</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> else <a href="#argonaut.JsonParser.unexpectedContent" title="(stream: argonaut.JsonParser.TokenSource, position: Int)scalaz.\/[String,Nothing]">unexpectedContent</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.collectStringParts.position" title="Int">position</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      case <a title="Char" id="argonaut.JsonParser.collectStringParts.other">other</a> =&gt; <span class="delimiter">{</span>
        val <a title="Int" id="argonaut.JsonParser.collectStringParts.normalCharEnd">normalCharEnd</a> = <a href="#argonaut.JsonParser.collectStringParts.safeNormalCharIndex" title="(index: Int)Int">safeNormalCharIndex</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.position" title="Int">position</a><span class="delimiter">)</span>
        <a href="#argonaut.JsonParser.collectStringParts" title="(stream: argonaut.JsonParser.TokenSource, position: Int, workingString: StringBuilder)scalaz.\/[String,(Int, StringBuilder)]">collectStringParts</a><span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.collectStringParts.normalCharEnd" title="Int">normalCharEnd</a>, <a href="#argonaut.JsonParser.collectStringParts$default$3" title="StringBuilder">workingString</a>.<span title="(x$1: CharSequence, x$2: Int, x$3: Int)StringBuilder">append</span><span class="delimiter">(</span><a href="#argonaut.JsonParser.collectStringParts.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.collectStringParts.position" title="Int">position</a>, <a href="#argonaut.JsonParser.collectStringParts.normalCharEnd" title="Int">normalCharEnd</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  @inline
  private<span class="delimiter">[</span>this<span class="delimiter">]</span> final def <a title="(stream: argonaut.JsonParser.TokenSource, position: Int)scalaz.\/[String,(Int, String)]" id="argonaut.JsonParser.expectStringNoStartBounds">expectStringNoStartBounds</a><span class="delimiter">(</span><a title="argonaut.JsonParser.TokenSource" id="argonaut.JsonParser.expectStringNoStartBounds.stream">stream</a>: <span title="argonaut.JsonParser.TokenSource">TokenSource</span>, <a title="Int" id="argonaut.JsonParser.expectStringNoStartBounds.position">position</a>: <span title="Int">Int</span><span class="delimiter">)</span>: String <span title="scalaz.\/[String,(Int, String)]">\/</span> <span class="delimiter">(</span>Int, String<span class="delimiter">)</span> = <span class="delimiter">{</span>
    for <span class="delimiter">{</span>
      <a title="(Int, StringBuilder)" id="argonaut.JsonParser.expectStringNoStartBounds.$anonfun.elements">elements</a> &lt;- <a href="#argonaut.JsonParser.collectStringParts" title="(stream: argonaut.JsonParser.TokenSource, position: Int, workingString: StringBuilder)scalaz.\/[String,(Int, StringBuilder)]">collectStringParts</a><span title="(g: ((Int, StringBuilder)) =&gt; (Int, String))scalaz.\/[String,(Int, String)]" class="delimiter">(</span><a href="#argonaut.JsonParser.expectStringNoStartBounds.stream" title="argonaut.JsonParser.TokenSource">stream</a>, <a href="#argonaut.JsonParser.expectStringNoStartBounds.position" title="Int">position</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> yield <span title="(_1: Int, _2: String)(Int, String)" class="delimiter">(</span><a href="#argonaut.JsonParser.expectStringNoStartBounds.$anonfun.elements" title="(Int, StringBuilder)">elements</a>.<span title="=&gt; Int">_1</span>, <a href="#argonaut.JsonParser.expectStringNoStartBounds.$anonfun.elements" title="(Int, StringBuilder)">elements</a>.<span title="=&gt; StringBuilder">_2</span>.<span title="()String">toString</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
