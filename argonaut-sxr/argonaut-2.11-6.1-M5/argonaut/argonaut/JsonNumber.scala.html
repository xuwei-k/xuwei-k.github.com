<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>argonaut/argonaut/JsonNumber.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
package argonaut

import java.math.MathContext
import scalaz.Equal
import scalaz.<span title="scalaz.Scalaz.type">Scalaz</span>._
import monocle.function._
import monocle.std._

<span class="comment">/**
 * JSON numbers with optimization by cases.
 * Note: Javascript numbers are 64-bit decimals.
 */</span>
sealed abstract class <a title="class JsonNumber extends AnyRef" id="argonaut;JsonNumber">JsonNumber</a> <a href="#argonaut;JsonNumber" title="argonaut.JsonNumber" class="delimiter">{</a>
  import <a href="Json.scala.html#argonaut.Json" title="argonaut.Json.type">Json</a>._

  <span class="comment">/**
   * Returns this number as a `BigDecimal`.
   */</span>
  def <a title="=&gt; BigDecimal" id="argonaut;JsonNumber.toBigDecimal">toBigDecimal</a>: <span title="BigDecimal">BigDecimal</span>

  <span class="comment">/**
   * Converts this number to the best `Double` approximation to this number.
   * Anything over `Double.MaxValue` gets rounded to `Double.PositiveInfinity`
   * and anything below `Double.MinValue` gets rounded to
   * `Double.NegativeInfinitey`.
   */</span>
  def <a title="=&gt; Double" id="argonaut;JsonNumber.toDouble">toDouble</a>: <span title="Double">Double</span>

  <span class="comment">/**
   * Converts this number to the best `Float` approximation to this number.
   * Anything over `Float.MaxValue` gets rounded to `Float.PositiveInfinity`
   * and anything below `Float.MinValue` gets rounded to
   * `Float.NegativeInfinitey`.
   */</span>
  def <a title="=&gt; Float" id="argonaut;JsonNumber.toFloat">toFloat</a>: <span title="Float">Float</span> = <a href="#argonaut;JsonNumber.toDouble" title="=&gt; Double">toDouble</a>.<span title="=&gt; Float">toFloat</span>

  <span class="comment">/**
   * Returns this number as a `BigInt`, only if this number is an integer.
   */</span>
  def <a title="=&gt; Option[BigInt]" id="argonaut;JsonNumber.toBigInt">toBigInt</a>: <span title="Option[BigInt]">Option</span><span class="delimiter">[</span>BigInt<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="BigDecimal" id="argonaut;JsonNumber.toBigInt.n">n</a> = <a href="#argonaut;JsonNumber.toBigDecimal" title="=&gt; BigDecimal">toBigDecimal</a>
    if <span class="delimiter">(</span><a href="#argonaut;JsonNumber.toBigInt.n" title="BigDecimal">n</a>.<span title="()Boolean">isWhole</span><span class="delimiter">)</span> <span title="(x: scala.math.BigInt)Some[scala.math.BigInt]">Some</span><span class="delimiter">(</span><a href="#argonaut;JsonNumber.toBigInt.n" title="BigDecimal">n</a>.<span title="()scala.math.BigInt">toBigInt</span><span class="delimiter">)</span>
    else <span title="None.type">None</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns this number as a `Long`, only if this number is a valid `Long`.
   */</span>
  def <a title="=&gt; Option[Long]" id="argonaut;JsonNumber.toLong">toLong</a>: <span title="Option[Long]">Option</span><span class="delimiter">[</span>Long<span class="delimiter">]</span>

  <span class="comment">/**
   * Returns this number as a `Int`, only if this number is a valid `Int`.
   */</span>
  def <a title="=&gt; Option[Int]" id="argonaut;JsonNumber.toInt">toInt</a>: <span title="Option[Int]">Option</span><span class="delimiter">[</span>Int<span class="delimiter">]</span> = <a href="#argonaut;JsonNumber.toLong" title="=&gt; Option[Long]">toLong</a> <span title="(f: Long =&gt; Option[Int])Option[Int]">flatMap</span> <span class="delimiter">{</span> <a title="Long" id="argonaut;JsonNumber.toInt.$anonfun.n">n</a> =&gt;
    val <a title="Int" id="argonaut;JsonNumber.toInt.$anonfun.m">m</a> = <a href="#argonaut;JsonNumber.toInt.$anonfun.n" title="Long">n</a>.<span title="=&gt; Int">toInt</span>
    if <span class="delimiter">(</span><a href="#argonaut;JsonNumber.toInt.$anonfun.n" title="Long">n</a> <span title="(x: Int)Boolean">==</span> <a href="#argonaut;JsonNumber.toInt.$anonfun.m" title="Int">m</a><span class="delimiter">)</span> <span title="(x: Int)Some[Int]">Some</span><span class="delimiter">(</span><a href="#argonaut;JsonNumber.toInt.$anonfun.m" title="Int">m</a><span class="delimiter">)</span> else <span title="None.type">None</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns this number as a `Short`, only if this number is a valid `Short`.
   */</span>
  def <a title="=&gt; Option[Short]" id="argonaut;JsonNumber.toShort">toShort</a>: <span title="Option[Short]">Option</span><span class="delimiter">[</span>Short<span class="delimiter">]</span> = <a href="#argonaut;JsonNumber.toLong" title="=&gt; Option[Long]">toLong</a> <span title="(f: Long =&gt; Option[Short])Option[Short]">flatMap</span> <span class="delimiter">{</span> <a title="Long" id="argonaut;JsonNumber.toShort.$anonfun.n">n</a> =&gt;
    val <a title="Short" id="argonaut;JsonNumber.toShort.$anonfun.m">m</a> = <a href="#argonaut;JsonNumber.toShort.$anonfun.n" title="Long">n</a>.<span title="=&gt; Short">toShort</span>
    if <span class="delimiter">(</span><a href="#argonaut;JsonNumber.toShort.$anonfun.n" title="Long">n</a> <span title="(x: Short)Boolean">==</span> <a href="#argonaut;JsonNumber.toShort.$anonfun.m" title="Short">m</a><span class="delimiter">)</span> <span title="(x: Short)Some[Short]">Some</span><span class="delimiter">(</span><a href="#argonaut;JsonNumber.toShort.$anonfun.m" title="Short">m</a><span class="delimiter">)</span> else <span title="None.type">None</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns this number as a `Byte`, only if this number is a valid `Byte`.
   */</span>
  def <a title="=&gt; Option[Byte]" id="argonaut;JsonNumber.toByte">toByte</a>: <span title="Option[Byte]">Option</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span> = <a href="#argonaut;JsonNumber.toLong" title="=&gt; Option[Long]">toLong</a> <span title="(f: Long =&gt; Option[Byte])Option[Byte]">flatMap</span> <span class="delimiter">{</span> <a title="Long" id="argonaut;JsonNumber.toByte.$anonfun.n">n</a> =&gt;
    val <a title="Byte" id="argonaut;JsonNumber.toByte.$anonfun.m">m</a> = <a href="#argonaut;JsonNumber.toByte.$anonfun.n" title="Long">n</a>.<span title="=&gt; Byte">toByte</span>
    if <span class="delimiter">(</span><a href="#argonaut;JsonNumber.toByte.$anonfun.n" title="Long">n</a> <span title="(x: Byte)Boolean">==</span> <a href="#argonaut;JsonNumber.toByte.$anonfun.m" title="Byte">m</a><span class="delimiter">)</span> <span title="(x: Byte)Some[Byte]">Some</span><span class="delimiter">(</span><a href="#argonaut;JsonNumber.toByte.$anonfun.m" title="Byte">m</a><span class="delimiter">)</span> else <span title="None.type">None</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Truncates the number to a BigInt. Truncation means that we round the real
   * number towards 0 to the closest BigInt.
   */</span>
  def <a title="=&gt; BigInt" id="argonaut;JsonNumber.truncateToBigInt">truncateToBigInt</a>: <span title="BigInt">BigInt</span> =  <a href="#argonaut;JsonNumber.toBigDecimal" title="=&gt; BigDecimal">toBigDecimal</a>.<span title="()scala.math.BigInt">toBigInt</span>

  <span class="comment">/**
   * Truncates the number to a Long. Truncation means that we round the real
   * number towards 0 to the closest, valid Long. So, if the number is 1e99,
   * then this will return `Long.MaxValue`.
   */</span>
  def <a title="=&gt; Long" id="argonaut;JsonNumber.truncateToLong">truncateToLong</a>: <span title="Long">Long</span>

  <span class="comment">/**
   * Truncates the number to a Int. Truncation means that we round the real
   * number towards 0 to the closest, valid Int. So, if the number is 1e99,
   * then this will return `Int.MaxValue`.
   */</span>
  def <a title="=&gt; Int" id="argonaut;JsonNumber.truncateToInt">truncateToInt</a>: <span title="Int">Int</span> = <a href="#argonaut;JsonNumber.toDouble" title="=&gt; Double">toDouble</a>.<span title="=&gt; Int">toInt</span>

  <span class="comment">/**
   * Truncates the number to a Short. Truncation means that we round the real
   * number towards 0 to the closest, valid Short. So, if the number is 1e99,
   * then this will return `Short.MaxValue`.
   */</span>
  def <a title="=&gt; Short" id="argonaut;JsonNumber.truncateToShort">truncateToShort</a>: <span title="Short">Short</span> = <span class="delimiter">{</span>
    val <a title="Int" id="argonaut;JsonNumber.truncateToShort.n">n</a> = <a href="#argonaut;JsonNumber.truncateToInt" title="=&gt; Int">truncateToInt</a>
    if <span class="delimiter">(</span><a href="#argonaut;JsonNumber.truncateToShort.n" title="Int">n</a> <span title="(x: Short)Boolean">&gt;</span> Short.<span title="Short(32767)">MaxValue</span><span class="delimiter">)</span> Short.<span title="Short(32767)">MaxValue</span>
    else if <span class="delimiter">(</span><a href="#argonaut;JsonNumber.truncateToShort.n" title="Int">n</a> <span title="(x: Short)Boolean">&lt;</span> Short.<span title="Short(-32768)">MinValue</span><span class="delimiter">)</span> Short.<span title="Short(-32768)">MinValue</span>
    else <a href="#argonaut;JsonNumber.truncateToShort.n" title="Int">n</a>.<span title="=&gt; Short">toShort</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Truncates the number to a Byte. Truncation means that we round the real
   * number towards 0 to the closest, valid Byte. So, if the number is 1e99,
   * then this will return `Byte.MaxValue`.
   */</span>
  def <a title="=&gt; Byte" id="argonaut;JsonNumber.truncateToByte">truncateToByte</a>: <span title="Byte">Byte</span> = <span class="delimiter">{</span>
    val <a title="Int" id="argonaut;JsonNumber.truncateToByte.n">n</a> = <a href="#argonaut;JsonNumber.truncateToInt" title="=&gt; Int">truncateToInt</a>
    if <span class="delimiter">(</span><a href="#argonaut;JsonNumber.truncateToByte.n" title="Int">n</a> <span title="(x: Byte)Boolean">&gt;</span> Byte.<span title="Byte(127)">MaxValue</span><span class="delimiter">)</span> Byte.<span title="Byte(127)">MaxValue</span>
    else if <span class="delimiter">(</span><a href="#argonaut;JsonNumber.truncateToByte.n" title="Int">n</a> <span title="(x: Byte)Boolean">&lt;</span> Byte.<span title="Byte(-128)">MinValue</span><span class="delimiter">)</span> Byte.<span title="Byte(-128)">MinValue</span>
    else <a href="#argonaut;JsonNumber.truncateToByte.n" title="Int">n</a>.<span title="=&gt; Byte">toByte</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns `true` iff this number wraps a `Double` and it is `NaN`.
   */</span>
  def <a title="=&gt; Boolean" id="argonaut;JsonNumber.isNaN">isNaN</a>: <span title="Boolean">Boolean</span> = false

  <span class="comment">/**
   * Returns `true` iff this number wraps a `Double` and it is
   * `PositiveInfinity` or `NegativeInfinitey`.
   */</span>
  def <a title="=&gt; Boolean" id="argonaut;JsonNumber.isInfinity">isInfinity</a>: <span title="Boolean">Boolean</span> = false

  <span class="comment">/**
   * Returns true if this is a valid real number (ie. `!(isNaN || isInfinity)`).
   */</span>
  def <a title="=&gt; Boolean" id="argonaut;JsonNumber.isReal">isReal</a>: <span title="Boolean">Boolean</span> = <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#argonaut;JsonNumber.isNaN" title="=&gt; Boolean">isNaN</a> <span title="(x: Boolean)Boolean">||</span> <a href="#argonaut;JsonNumber.isInfinity" title="=&gt; Boolean">isInfinity</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Construct a JSON value that is a number.
   *
   * Note: NaN, +Infinity and -Infinity are not valid json.
   */</span>
  def <a title="=&gt; Option[argonaut.Json]" id="argonaut;JsonNumber.asJson">asJson</a>: <span title="Option[argonaut.Json]">Option</span><span class="delimiter">[</span>Json<span class="delimiter">]</span> =
    <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#argonaut;JsonNumber.isNaN" title="=&gt; Boolean">isNaN</a> <span title="implicit scalaz.syntax.std.ToBooleanOps.ToBooleanOpsFromBoolean : (a: Boolean)scalaz.syntax.std.BooleanOps">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#argonaut;JsonNumber.isInfinity" title="=&gt; Boolean">isInfinity</a><span class="delimiter">)</span>.<span title="(a: =&gt; argonaut.JNumber)Option[argonaut.JNumber]">option</span><span class="delimiter">(</span><a href="Json.scala.html#argonaut;JNumber" title="(n: argonaut.JsonNumber)argonaut.JNumber">JNumber</a><span class="delimiter">(</span>this<span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Construct a JSON value that is a number. Transforming
   * NaN, +Infinity and -Infinity to jNull. This matches
   * the behaviour of most browsers, but is a lossy operation
   * as you can no longer distinguish between NaN and Infinity.
   */</span>
  def <a title="=&gt; argonaut.Json" id="argonaut;JsonNumber.asJsonOrNull">asJsonOrNull</a>: <a href="Json.scala.html#argonaut;Json" title="argonaut.Json">Json</a> =
    <a href="#argonaut;JsonNumber.asJson" title="=&gt; Option[argonaut.Json]">asJson</a>.<span title="(default: =&gt; argonaut.Json)argonaut.Json">getOrElse</span><span class="delimiter">(</span><a href="Json.scala.html#argonaut;Jsons.jNull" title="=&gt; argonaut.Json">jNull</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Construct a JSON value that is a number. Transforming
   * NaN, +Infinity and -Infinity to their string implementations.
   *
   * This is an argonaut specific transformation that allows all
   * doubles to be encoded without losing information, but aware
   * interoperability is unlikely without custom handling of
   * these values. See also `jNumber` and `jNumberOrNull`.
   */</span>
  def <a title="=&gt; argonaut.Json" id="argonaut;JsonNumber.asJsonOrString">asJsonOrString</a>: <a href="Json.scala.html#argonaut;Json" title="argonaut.Json">Json</a> =
    <a href="#argonaut;JsonNumber.asJson" title="=&gt; Option[argonaut.Json]">asJson</a>.<span title="(default: =&gt; argonaut.Json)argonaut.Json">getOrElse</span><span class="delimiter">(</span><a href="Json.scala.html#argonaut;Jsons.jString" title="(v1: argonaut.Json.JsonString)argonaut.Json">jString</a><span class="delimiter">(</span><a href="#argonaut;JsonNumber" title="()String">toString</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">// Force this `JsonNumber` into a `JsonDecimal` by using the underlying</span>
  <span class="comment">// numbers toString. Isn't safe is `isReal` is `false.</span>
  private def <a title="=&gt; argonaut.JsonDecimal" id="argonaut;JsonNumber.toJsonDecimal">toJsonDecimal</a>: <a href="#argonaut.JsonDecimal.readResolve" title="argonaut.JsonDecimal">JsonDecimal</a> = this match <span class="delimiter">{</span>
    case <span title="argonaut.JsonDecimal">n</span> @ JsonDecimal<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <span title="argonaut.JsonDecimal">n</span>
    case JsonBigDecimal<span class="delimiter">(</span><span title="BigDecimal">n</span><span class="delimiter">)</span> =&gt; <a href="#argonaut.JsonDecimal.readResolve" title="(value: String)argonaut.JsonDecimal">JsonDecimal</a><span class="delimiter">(</span><span title="BigDecimal">n</span>.<span title="()String">toString</span><span class="delimiter">)</span>
    case JsonLong<span class="delimiter">(</span><span title="Long">n</span><span class="delimiter">)</span> =&gt; <a href="#argonaut.JsonDecimal.readResolve" title="(value: String)argonaut.JsonDecimal">JsonDecimal</a><span class="delimiter">(</span><span title="Long">n</span>.<span title="()String">toString</span><span class="delimiter">)</span>
    case JsonDouble<span class="delimiter">(</span><span title="Double">n</span><span class="delimiter">)</span> =&gt; <a href="#argonaut.JsonDecimal.readResolve" title="(value: String)argonaut.JsonDecimal">JsonDecimal</a><span class="delimiter">(</span><span title="Double">n</span>.<span title="()String">toString</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  override def <a title="()Int" id="argonaut;JsonNumber.hashCode">hashCode</a>: <span title="Int">Int</span> =
    if <span class="delimiter">(</span><a href="#argonaut;JsonNumber.isReal" title="=&gt; Boolean">isReal</a><span class="delimiter">)</span> <a href="#argonaut;JsonNumber.toJsonDecimal" title="=&gt; argonaut.JsonDecimal">toJsonDecimal</a>.<a href="#argonaut;JsonDecimal.normalized" title="=&gt; (BigInt, BigDecimal)">normalized</a>.<span title="()Int">hashCode</span>
    else <a href="#argonaut;JsonNumber.toDouble" title="=&gt; Double">toDouble</a>.<span title="()Int">hashCode</span>

  override def <a title="(that: Any)Boolean" id="argonaut;JsonNumber.equals">equals</a><span class="delimiter">(</span><span title="Any">that</span>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span title="Any">that</span> match <span class="delimiter">{</span>
    case <span class="delimiter">(</span><span title="argonaut.JsonNumber">that</span>: <a href="#argonaut;JsonNumber" title="argonaut.JsonNumber">JsonNumber</a><span class="delimiter">)</span> =&gt;
      if <span class="delimiter">(</span>this.<a href="#argonaut;JsonNumber.isReal" title="=&gt; Boolean">isReal</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="argonaut.JsonNumber">that</span>.<a href="#argonaut;JsonNumber.isReal" title="=&gt; Boolean">isReal</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="(_1: argonaut.JsonNumber, _2: argonaut.JsonNumber)(argonaut.JsonNumber, argonaut.JsonNumber)" class="delimiter">(</span>this, <span title="argonaut.JsonNumber">that</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
          case <span class="delimiter">(</span><span title="argonaut.JsonDecimal">a</span> @ JsonDecimal<span class="delimiter">(</span>_<span class="delimiter">)</span>, <span title="argonaut.JsonNumber">b</span><span class="delimiter">)</span> =&gt; <span title="argonaut.JsonDecimal">a</span>.<a href="#argonaut;JsonDecimal.normalized" title="=&gt; (BigInt, BigDecimal)">normalized</a> <span title="(x$1: Any)Boolean">==</span> <span title="argonaut.JsonNumber">b</span>.<a href="#argonaut;JsonNumber.toJsonDecimal" title="=&gt; argonaut.JsonDecimal">toJsonDecimal</a>.<a href="#argonaut;JsonDecimal.normalized" title="=&gt; (BigInt, BigDecimal)">normalized</a>
          case <span class="delimiter">(</span><span title="argonaut.JsonNumber">a</span>, <span title="argonaut.JsonDecimal">b</span> @ JsonDecimal<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="argonaut.JsonNumber">a</span>.<a href="#argonaut;JsonNumber.toJsonDecimal" title="=&gt; argonaut.JsonDecimal">toJsonDecimal</a>.<a href="#argonaut;JsonDecimal.normalized" title="=&gt; (BigInt, BigDecimal)">normalized</a> <span title="(x$1: Any)Boolean">==</span> <span title="argonaut.JsonDecimal">b</span>.<a href="#argonaut;JsonDecimal.normalized" title="=&gt; (BigInt, BigDecimal)">normalized</a>
          case <span class="delimiter">(</span>JsonLong<span class="delimiter">(</span><span title="Long">x</span><span class="delimiter">)</span>, JsonLong<span class="delimiter">(</span><span title="Long">y</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="Long">x</span> <span title="(x: Long)Boolean">==</span> <span title="Long">y</span>
          case <span class="delimiter">(</span>JsonDouble<span class="delimiter">(</span><span title="Double">x</span><span class="delimiter">)</span>, JsonLong<span class="delimiter">(</span><span title="Long">y</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="Double">x</span> <span title="(x: Long)Boolean">==</span> <span title="Long">y</span>
          case <span class="delimiter">(</span>JsonLong<span class="delimiter">(</span><span title="Long">x</span><span class="delimiter">)</span>, JsonDouble<span class="delimiter">(</span><span title="Double">y</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="Double">y</span> <span title="(x: Long)Boolean">==</span> <span title="Long">x</span>
          case <span class="delimiter">(</span>JsonDouble<span class="delimiter">(</span><span title="Double">x</span><span class="delimiter">)</span>, JsonDouble<span class="delimiter">(</span><span title="Double">y</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="Double">x</span> <span title="(x: Double)Boolean">==</span> <span title="Double">y</span>
          case <span class="delimiter">(</span><span title="argonaut.JsonNumber">a</span>, <span title="argonaut.JsonNumber">b</span><span class="delimiter">)</span> =&gt; <span title="argonaut.JsonNumber">a</span>.<a href="#argonaut;JsonNumber.toBigDecimal" title="=&gt; BigDecimal">toBigDecimal</a> <span title="(x$1: Any)Boolean">==</span> <span title="argonaut.JsonNumber">b</span>.<a href="#argonaut;JsonNumber.toBigDecimal" title="=&gt; BigDecimal">toBigDecimal</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> else <span class="delimiter">{</span>
        this.<a href="#argonaut;JsonNumber.toDouble" title="=&gt; Double">toDouble</a> <span title="(x: Double)Boolean">==</span> <span title="argonaut.JsonNumber">that</span>.<a href="#argonaut;JsonNumber.toDouble" title="=&gt; Double">toDouble</a>
      <span class="delimiter">}</span>

    case _ =&gt;
      false
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * A JsonDecimal represents and valid JSON number as a String. Unfortunately,
 * there is no type in the Scala standard library which can represent all valid
 * JSON decimal numbers, since the exponent may be larger than an `Int`. Such
 * a number can still be round tripped (parser to printer). We lazily parse the
 * string to a `BigDecimal` or a `Double` on demand.
 */</span>
case class <a title="class JsonDecimal extends argonaut.JsonNumber with Product with Serializable" id="argonaut.JsonDecimal.readResolve">JsonDecimal</a> private<span class="delimiter">[</span>argonaut<span class="delimiter">]</span> <span class="delimiter">(</span><a title="String" id="argonaut;JsonDecimal.value">value</a>: <span title="String">String</span><span class="delimiter">)</span> extends <a href="#argonaut;JsonNumber" title="argonaut.JsonNumber">JsonNumber</a> <span class="delimiter">{</span>
  lazy val <a title="BigDecimal" id="argonaut;JsonDecimal.toBigDecimal">toBigDecimal</a>: <span title="BigDecimal">BigDecimal</span> = <span title="(x: String, mc: java.math.MathContext)scala.math.BigDecimal">BigDecimal</span><span class="delimiter">(</span><a href="#argonaut;JsonDecimal.value" title="=&gt; String">value</a>, <span title="java.math.MathContext.type">MathContext</span>.<span title="java.math.MathContext">UNLIMITED</span><span class="delimiter">)</span>
  lazy val <a title="Double" id="argonaut;JsonDecimal.toDouble">toDouble</a>: <span title="Double">Double</span> = <a href="#argonaut;JsonDecimal.value" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">value</a>.<span title="=&gt; Double">toDouble</span>

  def <a title="=&gt; Option[Long]" id="argonaut;JsonDecimal.toLong">toLong</a>: <span title="Option[Long]">Option</span><span class="delimiter">[</span>Long<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="BigDecimal" id="argonaut;JsonDecimal.toLong.n">n</a> = <a href="#argonaut;JsonDecimal.toBigDecimal" title="=&gt; BigDecimal">toBigDecimal</a>
    if <span class="delimiter">(</span><a href="#argonaut;JsonDecimal.toLong.n" title="BigDecimal">n</a>.<span title="=&gt; Boolean">isValidLong</span><span class="delimiter">)</span> <span title="(x: Long)Some[Long]">Some</span><span class="delimiter">(</span><a href="#argonaut;JsonDecimal.toLong.n" title="BigDecimal">n</a>.<span title="=&gt; Long">toLong</span><span class="delimiter">)</span>
    else <span title="None.type">None</span>
  <span class="delimiter">}</span>

  def <a title="=&gt; Long" id="argonaut;JsonDecimal.truncateToLong">truncateToLong</a>: <span title="Long">Long</span> = <span class="delimiter">{</span>
    val <a title="BigDecimal" id="argonaut;JsonDecimal.truncateToLong.n">n</a> = <a href="#argonaut;JsonDecimal.toBigDecimal" title="=&gt; BigDecimal">toBigDecimal</a>
    if <span class="delimiter">(</span><a href="#argonaut;JsonDecimal.truncateToLong.n" title="BigDecimal">n</a> <span title="(that: scala.math.BigDecimal)Boolean">&gt;=</span> Long.<span title="implicit scala.math.BigDecimal.long2bigDecimal : (l: Long)scala.math.BigDecimal">MaxValue</span><span class="delimiter">)</span> Long.<span title="Long(9223372036854775807L)">MaxValue</span>
    else if <span class="delimiter">(</span><a href="#argonaut;JsonDecimal.truncateToLong.n" title="BigDecimal">n</a> <span title="(that: scala.math.BigDecimal)Boolean">&lt;=</span> Long.<span title="implicit scala.math.BigDecimal.long2bigDecimal : (l: Long)scala.math.BigDecimal">MinValue</span><span class="delimiter">)</span> Long.<span title="Long(-9223372036854775808L)">MinValue</span>
    else <a href="#argonaut;JsonDecimal.truncateToLong.n" title="BigDecimal">n</a>.<span title="=&gt; Long">toLong</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a *normalized* version of this Decimal number. Since BigDecimal
   * cannot represent all valid JSON value exactly, due to the exponent being
   * limited to an `Int`, this method let's us get a normalized number that
   * can be used to compare for equality.
   *
   * The 1st value (BigInt) is the exponent used to scale the 2nd value
   * (BigDecimal) back to the original value represented by this number.  The
   * 2nd BigDecimal will always either be 0 or a number with exactly 1 decimal
   * digit to the right of the decimal point.  If the 2nd value is 0, then the
   * exponent will always be 0 as well.
   */</span>
  def <a title="=&gt; (BigInt, BigDecimal)" id="argonaut;JsonDecimal.normalized">normalized</a>: <span title="(BigInt, BigDecimal)" class="delimiter">(</span>BigInt, BigDecimal<span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a href="#argonaut.JsonNumber" title="argonaut.JsonNumber.type">JsonNumber</a>.<a href="#argonaut.JsonNumber.JsonNumberRegex" title="(s: CharSequence)Option[List[String]]">JsonNumberRegex</a><a href="#argonaut;JsonDecimal.normalized.negative" title="(String, String, String, String)" class="delimiter">(</a><a href="#argonaut;JsonDecimal.normalized.x$1" title="String" id="argonaut;JsonDecimal.normalized.negative">negative</a>, <a href="#argonaut;JsonDecimal.normalized.x$1" title="String" id="argonaut;JsonDecimal.normalized.intStr">intStr</a>, <a href="#argonaut;JsonDecimal.normalized.x$1" title="String" id="argonaut;JsonDecimal.normalized.decStr">decStr</a>, <a href="#argonaut;JsonDecimal.normalized.x$1" title="String" id="argonaut;JsonDecimal.normalized.expStr">expStr</a><span class="delimiter">)</span> = <a href="#argonaut;JsonDecimal.value" title="=&gt; String">value</a>

    def <a title="(i: Int)Option[Int]" id="argonaut;JsonDecimal.normalized.decScale">decScale</a><span class="delimiter">(</span><a title="Int" id="argonaut;JsonDecimal.normalized.decScale.i">i</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Option[Int]">Option</span><span class="delimiter">[</span>Int<span class="delimiter">]</span> =
      if <span class="delimiter">(</span><a href="#argonaut;JsonDecimal.normalized.decScale.i" title="Int">i</a> <span title="(x: Int)Boolean">&gt;=</span> <a href="#argonaut;JsonDecimal.normalized.decStr" title="String">decStr</a>.<span title="()Int">length</span><span class="delimiter">)</span> <span title="None.type">None</span>
      else if <span class="delimiter">(</span><a href="#argonaut;JsonDecimal.normalized.decStr" title="(index: Int)Char">decStr</a><span class="delimiter">(</span><a href="#argonaut;JsonDecimal.normalized.decScale.i" title="Int">i</a><span class="delimiter">)</span> <span title="(x: Char)Boolean">==</span> <span title="Char('0')" class="char">'0'</span><span class="delimiter">)</span> <a href="#argonaut;JsonDecimal.normalized.decScale" title="(i: Int)Option[Int]">decScale</a><span class="delimiter">(</span><a href="#argonaut;JsonDecimal.normalized.decScale.i" title="Int">i</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      else <span title="(x: Int)Some[Int]">Some</span><span class="delimiter">(</span><span title="=&gt; Int">-</span> <a href="#argonaut;JsonDecimal.normalized.decScale.i" title="Int">i</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

    val <a title="Option[Int]" id="argonaut;JsonDecimal.normalized.rescale">rescale</a> =
      if <span class="delimiter">(</span><a href="#argonaut;JsonDecimal.normalized.intStr" title="String">intStr</a> <span title="(x$1: Any)Boolean">!=</span> <span title="String(&quot;0&quot;)" class="string">&quot;0&quot;</span><span class="delimiter">)</span> <span title="(x: Int)Some[Int]">Some</span><span class="delimiter">(</span><a href="#argonaut;JsonDecimal.normalized.intStr" title="String">intStr</a>.<span title="()Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      else if <span class="delimiter">(</span><a href="#argonaut;JsonDecimal.normalized.decStr" title="String">decStr</a> <span title="(x$1: Any)Boolean">!=</span> null<span class="delimiter">)</span> <a href="#argonaut;JsonDecimal.normalized.decScale" title="(i: Int)Option[Int]">decScale</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
      else <span title="None.type">None</span>

    val <a title="scala.math.BigInt" id="argonaut;JsonDecimal.normalized.unscaledExponent">unscaledExponent</a> = <span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><a href="#argonaut;JsonDecimal.normalized.expStr" title="String">expStr</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case Some<span class="delimiter">(</span><span title="String">exp</span><span class="delimiter">)</span> if <span title="String">exp</span>.<span title="(x$1: String)Boolean">startsWith</span><span class="delimiter">(</span><span title="String(&quot;+&quot;)" class="string">&quot;+&quot;</span><span class="delimiter">)</span> =&gt; <span title="(x: String)scala.math.BigInt">BigInt</span><span class="delimiter">(</span><span title="String">exp</span>.<span title="(x$1: Int)String">substring</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
      case Some<span class="delimiter">(</span><span title="String">exp</span><span class="delimiter">)</span> =&gt; <span title="(x: String)scala.math.BigInt">BigInt</span><span class="delimiter">(</span><span title="String">exp</span><span class="delimiter">)</span>
      case <span title="None.type">None</span> =&gt; <span title="(i: Int)scala.math.BigInt">BigInt</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#argonaut;JsonDecimal.normalized.rescale" title="Option[Int]">rescale</a> match <span class="delimiter">{</span>
      case Some<span class="delimiter">(</span><a title="Int" id="argonaut;JsonDecimal.normalized.shift">shift</a><span class="delimiter">)</span> =&gt;
        val <a title="scala.math.BigDecimal" id="argonaut;JsonDecimal.normalized.unscaledValue">unscaledValue</a> =
          if <span class="delimiter">(</span><a href="#argonaut;JsonDecimal.normalized.decStr" title="String">decStr</a> <span title="(x$1: Any)Boolean">==</span> null<span class="delimiter">)</span> <span title="(x: String, mc: java.math.MathContext)scala.math.BigDecimal">BigDecimal</span><span class="delimiter">(</span><a href="#argonaut;JsonDecimal.normalized.intStr" title="String">intStr</a>, <span title="java.math.MathContext.type">MathContext</span>.<span title="java.math.MathContext">UNLIMITED</span><span class="delimiter">)</span>
          else <span title="(x: String, mc: java.math.MathContext)scala.math.BigDecimal">BigDecimal</span><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;&quot;)">$</span><a href="#argonaut;JsonDecimal.normalized.intStr" title="String">intStr</a><span title="String(&quot;.&quot;)">.$</span><a href="#argonaut;JsonDecimal.normalized.decStr" title="String">decStr</a><span title="String(&quot;&quot;)" class="string">&quot;</span>, <span title="java.math.MathContext.type">MathContext</span>.<span title="java.math.MathContext">UNLIMITED</span><span class="delimiter">)</span>
        val <a title="scala.math.BigDecimal" id="argonaut;JsonDecimal.normalized.scaledValue">scaledValue</a> = <span title="(bd: java.math.BigDecimal)scala.math.BigDecimal">BigDecimal</span><span class="delimiter">(</span><a href="#argonaut;JsonDecimal.normalized.unscaledValue" title="scala.math.BigDecimal">unscaledValue</a>.<span title="=&gt; java.math.BigDecimal">bigDecimal</span>.<span title="(x$1: Int)java.math.BigDecimal">movePointLeft</span><span class="delimiter">(</span><a href="#argonaut;JsonDecimal.normalized.shift" title="Int">shift</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="(_1: scala.math.BigInt, _2: BigDecimal)(scala.math.BigInt, BigDecimal)" class="delimiter">(</span><a href="#argonaut;JsonDecimal.normalized.unscaledExponent" title="scala.math.BigInt">unscaledExponent</a> <span title="(that: scala.math.BigInt)scala.math.BigInt">+</span> <a href="#argonaut;JsonDecimal.normalized.shift" title="implicit scala.math.BigInt.int2bigInt : (i: Int)scala.math.BigInt">shift</a>, if <span class="delimiter">(</span><a href="#argonaut;JsonDecimal.normalized.negative" title="String">negative</a> <span title="(x$1: Any)Boolean">!=</span> null<span class="delimiter">)</span> <span title="=&gt; scala.math.BigDecimal">-</span><a href="#argonaut;JsonDecimal.normalized.scaledValue" title="scala.math.BigDecimal">scaledValue</a> else <a href="#argonaut;JsonDecimal.normalized.scaledValue" title="scala.math.BigDecimal">scaledValue</a><span class="delimiter">)</span>

      case <span title="None.type">None</span> =&gt;
        <span title="(_1: scala.math.BigInt, _2: scala.math.BigDecimal)(scala.math.BigInt, scala.math.BigDecimal)" class="delimiter">(</span><span title="(i: Int)scala.math.BigInt">BigInt</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>, <span title="(i: Int)scala.math.BigDecimal">BigDecimal</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

case class <a title="class JsonBigDecimal extends argonaut.JsonNumber with Product with Serializable" id="argonaut.JsonBigDecimal.readResolve">JsonBigDecimal</a><span title="Product" class="delimiter">(</span><a title="BigDecimal" id="argonaut;JsonBigDecimal.value">value</a>: <span title="BigDecimal">BigDecimal</span><span class="delimiter">)</span> extends <a href="#argonaut;JsonNumber" title="argonaut.JsonNumber">JsonNumber</a> <span class="delimiter">{</span>
  def <a title="=&gt; BigDecimal" id="argonaut;JsonBigDecimal.toBigDecimal">toBigDecimal</a> = <a href="#argonaut;JsonBigDecimal.value" title="=&gt; BigDecimal">value</a>

  def <a title="=&gt; Double" id="argonaut;JsonBigDecimal.toDouble">toDouble</a> = <a href="#argonaut;JsonBigDecimal.value" title="=&gt; BigDecimal">value</a>.<span title="=&gt; Double">toDouble</span>

  def <a title="=&gt; Option[Long]" id="argonaut;JsonBigDecimal.toLong">toLong</a>: <span title="Option[Long]">Option</span><span class="delimiter">[</span>Long<span class="delimiter">]</span> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#argonaut;JsonBigDecimal.value" title="=&gt; BigDecimal">value</a>.<span title="=&gt; Boolean">isValidLong</span><span class="delimiter">)</span> <span title="(x: Long)Some[Long]">Some</span><span class="delimiter">(</span><a href="#argonaut;JsonBigDecimal.value" title="=&gt; BigDecimal">value</a>.<span title="=&gt; Long">toLong</span><span class="delimiter">)</span>
    else <span title="None.type">None</span>
  <span class="delimiter">}</span>

  def <a title="=&gt; Long" id="argonaut;JsonBigDecimal.truncateToLong">truncateToLong</a>: <span title="Long">Long</span> =
    if <span class="delimiter">(</span><a href="#argonaut;JsonBigDecimal.value" title="=&gt; BigDecimal">value</a> <span title="(that: scala.math.BigDecimal)Boolean">&gt;</span> Long.<span title="implicit scala.math.BigDecimal.long2bigDecimal : (l: Long)scala.math.BigDecimal">MaxValue</span><span class="delimiter">)</span> Long.<span title="Long(9223372036854775807L)">MaxValue</span>
    else if <span class="delimiter">(</span><a href="#argonaut;JsonBigDecimal.value" title="=&gt; BigDecimal">value</a> <span title="(that: scala.math.BigDecimal)Boolean">&lt;</span> Long.<span title="implicit scala.math.BigDecimal.long2bigDecimal : (l: Long)scala.math.BigDecimal">MinValue</span><span class="delimiter">)</span> Long.<span title="Long(-9223372036854775808L)">MinValue</span>
    else <a href="#argonaut;JsonBigDecimal.value" title="=&gt; BigDecimal">value</a>.<span title="=&gt; Long">toLong</span>
<span class="delimiter">}</span>

case class <a title="class JsonLong extends argonaut.JsonNumber with Product with Serializable" id="argonaut.JsonLong.readResolve">JsonLong</a><span title="Product" class="delimiter">(</span><a title="Long" id="argonaut;JsonLong.value">value</a>: <span title="Long">Long</span><span class="delimiter">)</span> extends <a href="#argonaut;JsonNumber" title="argonaut.JsonNumber">JsonNumber</a> <span class="delimiter">{</span>
  def <a title="=&gt; scala.math.BigDecimal" id="argonaut;JsonLong.toBigDecimal">toBigDecimal</a> = <span title="(l: Long)scala.math.BigDecimal">BigDecimal</span><span class="delimiter">(</span><a href="#argonaut;JsonLong.value" title="=&gt; Long">value</a><span class="delimiter">)</span>
  def <a title="=&gt; Double" id="argonaut;JsonLong.toDouble">toDouble</a> = <a href="#argonaut;JsonLong.value" title="=&gt; Long">value</a>.<span title="=&gt; Double">toDouble</span>
  def <a title="=&gt; Option[Long]" id="argonaut;JsonLong.toLong">toLong</a>: <span title="Option[Long]">Option</span><span class="delimiter">[</span>Long<span class="delimiter">]</span> = <span title="(x: Long)Some[Long]">Some</span><span class="delimiter">(</span><a href="#argonaut;JsonLong.value" title="=&gt; Long">value</a><span class="delimiter">)</span>
  def <a title="=&gt; Long" id="argonaut;JsonLong.truncateToLong">truncateToLong</a>: <span title="Long">Long</span> = <a href="#argonaut;JsonLong.value" title="=&gt; Long">value</a>
<span class="delimiter">}</span>

case class <a title="class JsonDouble extends argonaut.JsonNumber with Product with Serializable" id="argonaut.JsonDouble.readResolve">JsonDouble</a><span title="Product" class="delimiter">(</span><a title="Double" id="argonaut;JsonDouble.value">value</a>: <span title="Double">Double</span><span class="delimiter">)</span> extends <a href="#argonaut;JsonNumber" title="argonaut.JsonNumber">JsonNumber</a> <span class="delimiter">{</span>
  def <a title="=&gt; scala.math.BigDecimal" id="argonaut;JsonDouble.toBigDecimal">toBigDecimal</a> = <span title="(d: Double)scala.math.BigDecimal">BigDecimal</span><span class="delimiter">(</span><a href="#argonaut;JsonDouble.value" title="=&gt; Double">value</a><span class="delimiter">)</span>
  def <a title="=&gt; Double" id="argonaut;JsonDouble.toDouble">toDouble</a> = <a href="#argonaut;JsonDouble.value" title="=&gt; Double">value</a>
  def <a title="=&gt; Option[Long]" id="argonaut;JsonDouble.toLong">toLong</a>: <span title="Option[Long]">Option</span><span class="delimiter">[</span>Long<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="Long" id="argonaut;JsonDouble.toLong.n">n</a> = <a href="#argonaut;JsonDouble.value" title="=&gt; Double">value</a>.<span title="=&gt; Long">toLong</span>
    if <span class="delimiter">(</span><a href="#argonaut;JsonDouble.toLong.n" title="Long">n</a>.<span title="=&gt; Double">toDouble</span> <span title="(x: Double)Boolean">==</span> <a href="#argonaut;JsonDouble.value" title="=&gt; Double">value</a><span class="delimiter">)</span> <span title="(x: Long)Some[Long]">Some</span><span class="delimiter">(</span><a href="#argonaut;JsonDouble.toLong.n" title="Long">n</a><span class="delimiter">)</span>
    else <span title="None.type">None</span>
  <span class="delimiter">}</span>
  def <a title="=&gt; Long" id="argonaut;JsonDouble.truncateToLong">truncateToLong</a>: <span title="Long">Long</span> = <a href="#argonaut;JsonDouble.value" title="=&gt; Double">value</a>.<span title="=&gt; Long">toLong</span>
  override def <a title="=&gt; Boolean" id="argonaut;JsonDouble.isNaN">isNaN</a> = <a href="#argonaut;JsonDouble.value" title="implicit scala.Predef.double2Double : (x: Double)Double">value</a>.<span title="()Boolean">isNaN</span>
  override def <a title="=&gt; Boolean" id="argonaut;JsonDouble.isInfinity">isInfinity</a> = <a href="#argonaut;JsonDouble.value" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble">value</a>.<span title="=&gt; Boolean">isInfinity</span>
<span class="delimiter">}</span>

object <a title="argonaut.JsonNumber.type" id="argonaut.JsonNumber">JsonNumber</a> <a href="#argonaut.JsonNumber" title="argonaut.JsonNumber.type" class="delimiter">{</a>
  implicit val <a title="scalaz.Equal[argonaut.JsonNumber]" id="argonaut.JsonNumber.JsonNumberEqual">JsonNumberEqual</a>: <span title="scalaz.Equal[argonaut.JsonNumber]">Equal</span><span class="delimiter">[</span>JsonNumber<span class="delimiter">]</span> = new <a title="&lt;$anon: scalaz.Equal[argonaut.JsonNumber]&gt; extends AnyRef with scalaz.Equal[argonaut.JsonNumber]" id="argonaut.JsonNumber.JsonNumberEqual;$anon">Equal</a><span class="delimiter">[</span>JsonNumber<span class="delimiter">]</span> <span class="delimiter">{</span>
    def <a title="(a: argonaut.JsonNumber, b: argonaut.JsonNumber)Boolean" id="argonaut.JsonNumber.JsonNumberEqual;$anon.equal">equal</a><span class="delimiter">(</span><a title="argonaut.JsonNumber" id="argonaut.JsonNumber.JsonNumberEqual;$anon.equal.a">a</a>: <a href="#argonaut;JsonNumber" title="argonaut.JsonNumber">JsonNumber</a>, <a title="argonaut.JsonNumber" id="argonaut.JsonNumber.JsonNumberEqual;$anon.equal.b">b</a>: <a href="#argonaut;JsonNumber" title="argonaut.JsonNumber">JsonNumber</a><span class="delimiter">)</span> = <a href="#argonaut.JsonNumber.JsonNumberEqual;$anon.equal.a" title="argonaut.JsonNumber">a</a> <span title="(x$1: Any)Boolean">==</span> <a href="#argonaut.JsonNumber.JsonNumberEqual;$anon.equal.b" title="argonaut.JsonNumber">b</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a `JsonNumber` whose value is the valid JSON number in `value`.
   * This value is **not** verified to be a valid JSON string. It is assumed
   * that `value` is a valid JSON number, according to the JSON specification.
   * If the value is invalid then the results are undefined. This is provided
   * for use in places like a Jawn parser facade, which provides its own
   * verification of JSON numbers.
   */</span>
  def <a title="(value: String)argonaut.JsonNumber" id="argonaut.JsonNumber.unsafeDecimal">unsafeDecimal</a><span class="delimiter">(</span><a title="String" id="argonaut.JsonNumber.unsafeDecimal.value">value</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#argonaut;JsonNumber" title="argonaut.JsonNumber">JsonNumber</a> = <a href="#argonaut.JsonDecimal.readResolve" title="(value: String)argonaut.JsonDecimal">JsonDecimal</a><span class="delimiter">(</span><a href="#argonaut.JsonNumber.unsafeDecimal.value" title="String">value</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Parses a JSON number from a string. A String is valid if it conforms to
   * the grammar in the JSON specification (RFC 4627 -
   * http://www.ietf.org/rfc/rfc4627.txt), section 2.4. If it is valid, then
   * the number is returned in a `Some`. Otherwise the number is invalid and
   * `None` is returned.
   *
   * @param value a JSON number encoded as a string
   * @return a JSON number if the string is valid
   */</span>
  def <a title="(value: String)Option[argonaut.JsonNumber]" id="argonaut.JsonNumber.fromString">fromString</a><span class="delimiter">(</span><a title="String" id="argonaut.JsonNumber.fromString.value">value</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[argonaut.JsonNumber]">Option</span><span class="delimiter">[</span>JsonNumber<span class="delimiter">]</span> = <span class="delimiter">{</span>

    <span class="comment">// Span over [0-9]*</span>
    def <a title="(index: Int)Int" id="argonaut.JsonNumber.fromString.digits">digits</a><span class="delimiter">(</span><a title="Int" id="argonaut.JsonNumber.fromString.digits.index">index</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.digits.index" title="Int">index</a> <span title="(x: Int)Boolean">&gt;=</span> <a href="#argonaut.JsonNumber.fromString.value" title="String">value</a>.<span title="()Int">length</span><span class="delimiter">)</span> <a href="#argonaut.JsonNumber.fromString.value" title="String">value</a>.<span title="()Int">length</span>
      else <span class="delimiter">{</span>
        val <a title="Char" id="argonaut.JsonNumber.fromString.digits.char">char</a> = <a href="#argonaut.JsonNumber.fromString.value" title="(index: Int)Char">value</a><span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.digits.index" title="Int">index</a><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.digits.char" title="Char">char</a> <span title="(x: Char)Boolean">&gt;=</span> <span title="Char('0')" class="char">'0'</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#argonaut.JsonNumber.fromString.digits.char" title="Char">char</a> <span title="(x: Char)Boolean">&lt;=</span> <span title="Char('9')" class="char">'9'</span><span class="delimiter">)</span> <a href="#argonaut.JsonNumber.fromString.digits" title="(index: Int)Int">digits</a><span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.digits.index" title="Int">index</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        else <a href="#argonaut.JsonNumber.fromString.digits.index" title="Int">index</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">// Verify [0-9]+</span>
    def <a title="(index: Int)Int" id="argonaut.JsonNumber.fromString.digits1">digits1</a><span class="delimiter">(</span><a title="Int" id="argonaut.JsonNumber.fromString.digits1.index">index</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
      val <a title="Int" id="argonaut.JsonNumber.fromString.digits1.end">end</a> = <a href="#argonaut.JsonNumber.fromString.digits" title="(index: Int)Int">digits</a><span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.digits1.index" title="Int">index</a><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.digits1.end" title="Int">end</a> <span title="(x: Int)Boolean">==</span> <a href="#argonaut.JsonNumber.fromString.digits1.index" title="Int">index</a><span class="delimiter">)</span> -<span title="Int(-1)" class="int">1</span>
      else <a href="#argonaut.JsonNumber.fromString.digits1.end" title="Int">end</a>
    <span class="delimiter">}</span>

    <span class="comment">// Verify 0 | [1-9][0-9]*</span>
    def <a title="(index: Int)Int" id="argonaut.JsonNumber.fromString.natural">natural</a><span class="delimiter">(</span><a title="Int" id="argonaut.JsonNumber.fromString.natural.index">index</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.natural.index" title="Int">index</a> <span title="(x: Int)Boolean">&gt;=</span> <a href="#argonaut.JsonNumber.fromString.value" title="String">value</a>.<span title="()Int">length</span><span class="delimiter">)</span> -<span title="Int(-1)" class="int">1</span>
      else <span class="delimiter">{</span>
        val <a title="Char" id="argonaut.JsonNumber.fromString.natural.char">char</a> = <a href="#argonaut.JsonNumber.fromString.value" title="(index: Int)Char">value</a><span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.natural.index" title="Int">index</a><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.natural.char" title="Char">char</a> <span title="(x: Char)Boolean">==</span> <span title="Char('0')" class="char">'0'</span><span class="delimiter">)</span> <a href="#argonaut.JsonNumber.fromString.natural.index" title="Int">index</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>
        else if <span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.natural.char" title="Char">char</a> <span title="(x: Char)Boolean">&gt;=</span> <span title="Char('1')" class="char">'1'</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#argonaut.JsonNumber.fromString.natural.char" title="Char">char</a> <span title="(x: Char)Boolean">&lt;=</span> <span title="Char('9')" class="char">'9'</span><span class="delimiter">)</span> <a href="#argonaut.JsonNumber.fromString.digits" title="(index: Int)Int">digits</a><span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.natural.index" title="Int">index</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        else <a href="#argonaut.JsonNumber.fromString.natural.index" title="Int">index</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">// Verify -?(0 | [1-9][0-9]*)</span>
    def <a title="(index: Int)Int" id="argonaut.JsonNumber.fromString.integer">integer</a><span class="delimiter">(</span><a title="Int" id="argonaut.JsonNumber.fromString.integer.index">index</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.integer.index" title="Int">index</a> <span title="(x: Int)Boolean">&gt;=</span> <a href="#argonaut.JsonNumber.fromString.value" title="String">value</a>.<span title="()Int">length</span><span class="delimiter">)</span> -<span title="Int(-1)" class="int">1</span>
      else if <span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.value" title="(index: Int)Char">value</a><span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.integer.index" title="Int">index</a><span class="delimiter">)</span> <span title="(x: Char)Boolean">==</span> <span title="Char('-')" class="char">'-'</span><span class="delimiter">)</span> <a href="#argonaut.JsonNumber.fromString.natural" title="(index: Int)Int">natural</a><span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.integer.index" title="Int">index</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      else <a href="#argonaut.JsonNumber.fromString.natural" title="(index: Int)Int">natural</a><span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.integer.index" title="Int">index</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">// Span .[0-9]+</span>
    def <a title="(index: Int)Int" id="argonaut.JsonNumber.fromString.decimal">decimal</a><span class="delimiter">(</span><a title="Int" id="argonaut.JsonNumber.fromString.decimal.index">index</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.decimal.index" title="Int">index</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">||</span> <a href="#argonaut.JsonNumber.fromString.decimal.index" title="Int">index</a> <span title="(x: Int)Boolean">&gt;=</span> <a href="#argonaut.JsonNumber.fromString.value" title="String">value</a>.<span title="()Int">length</span><span class="delimiter">)</span> <a href="#argonaut.JsonNumber.fromString.decimal.index" title="Int">index</a>
      else if <span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.value" title="(index: Int)Char">value</a><span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.decimal.index" title="Int">index</a><span class="delimiter">)</span> <span title="(x: Char)Boolean">==</span> <span title="Char('.')" class="char">'.'</span><span class="delimiter">)</span> <a href="#argonaut.JsonNumber.fromString.digits1" title="(index: Int)Int">digits1</a><span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.decimal.index" title="Int">index</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      else <a href="#argonaut.JsonNumber.fromString.decimal.index" title="Int">index</a>
    <span class="delimiter">}</span>

    <span class="comment">// Span e[-+]?[0-9]+</span>
    def <a title="(index: Int)Int" id="argonaut.JsonNumber.fromString.exponent">exponent</a><span class="delimiter">(</span><a title="Int" id="argonaut.JsonNumber.fromString.exponent.index">index</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.exponent.index" title="Int">index</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">||</span> <a href="#argonaut.JsonNumber.fromString.exponent.index" title="Int">index</a> <span title="(x: Int)Boolean">&gt;=</span> <a href="#argonaut.JsonNumber.fromString.value" title="String">value</a>.<span title="()Int">length</span><span class="delimiter">)</span> <a href="#argonaut.JsonNumber.fromString.exponent.index" title="Int">index</a>
      else <span class="delimiter">{</span>
        val <a title="Char" id="argonaut.JsonNumber.fromString.exponent.e">e</a> = <a href="#argonaut.JsonNumber.fromString.value" title="(index: Int)Char">value</a><span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.exponent.index" title="Int">index</a><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.exponent.e" title="Char">e</a> <span title="(x: Char)Boolean">==</span> <span title="Char('e')" class="char">'e'</span> <span title="(x: Boolean)Boolean">||</span> <a href="#argonaut.JsonNumber.fromString.exponent.e" title="Char">e</a> <span title="(x: Char)Boolean">==</span> <span title="Char('E')" class="char">'E'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          val index0 = <a href="#argonaut.JsonNumber.fromString.exponent.index" title="Int">index</a> <a title="Int" id="argonaut.JsonNumber.fromString.exponent.index0">+</a> <span title="Int(1)" class="int">1</span>
          if <span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.exponent.index0" title="Int">index0</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#argonaut.JsonNumber.fromString.value" title="String">value</a>.<span title="()Int">length</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            val <a title="Char" id="argonaut.JsonNumber.fromString.exponent.sign">sign</a> = <a href="#argonaut.JsonNumber.fromString.value" title="(index: Int)Char">value</a><span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.exponent.index0" title="Int">index0</a><span class="delimiter">)</span>
            if <span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.exponent.sign" title="Char">sign</a> <span title="(x: Char)Boolean">==</span> <span title="Char('+')" class="char">'+'</span> <span title="(x: Boolean)Boolean">||</span> <a href="#argonaut.JsonNumber.fromString.exponent.sign" title="Char">sign</a> <span title="(x: Char)Boolean">==</span> <span title="Char('-')" class="char">'-'</span><span class="delimiter">)</span> <a href="#argonaut.JsonNumber.fromString.digits1" title="(index: Int)Int">digits1</a><span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.exponent.index0" title="Int">index0</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            else <a href="#argonaut.JsonNumber.fromString.digits1" title="(index: Int)Int">digits1</a><span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.exponent.index0" title="Int">index0</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> else <span class="delimiter">{</span>
            -<span title="Int(-1)" class="int">1</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> else <span class="delimiter">{</span>
          -<span title="Int(-1)" class="int">1</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    val <a title="Int" id="argonaut.JsonNumber.fromString.intIndex">intIndex</a> = <a href="#argonaut.JsonNumber.fromString.integer" title="(index: Int)Int">integer</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
    val <a title="Int" id="argonaut.JsonNumber.fromString.decIndex">decIndex</a> = <a href="#argonaut.JsonNumber.fromString.decimal" title="(index: Int)Int">decimal</a><span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.intIndex" title="Int">intIndex</a><span class="delimiter">)</span>
    val <a title="Int" id="argonaut.JsonNumber.fromString.expIndex">expIndex</a> = <a href="#argonaut.JsonNumber.fromString.exponent" title="(index: Int)Int">exponent</a><span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.decIndex" title="Int">decIndex</a><span class="delimiter">)</span>

    val invalid =
      <span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.expIndex" title="Int">expIndex</a> <span title="(x: Int)Boolean">!=</span> <a href="#argonaut.JsonNumber.fromString.value" title="String">value</a>.<span title="()Int">length</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
      <span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.intIndex" title="Int">intIndex</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
      <span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.intIndex" title="Int">intIndex</a> <span title="(x: Int)Boolean">==</span> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <a title="Boolean" id="argonaut.JsonNumber.fromString.invalid">||</a>
      <span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.decIndex" title="Int">decIndex</a> <span title="(x: Int)Boolean">==</span> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span>

    <span class="comment">// Assuming the number is an integer, does it fit in a Long?</span>
    def <a title="=&gt; Boolean" id="argonaut.JsonNumber.fromString.isLong">isLong</a>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      val <a title="String" id="argonaut.JsonNumber.fromString.isLong.upperBound">upperBound</a> = if <span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.value" title="(index: Int)Char">value</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x: Char)Boolean">==</span> <span title="Char('-')" class="char">'-'</span><span class="delimiter">)</span> <a href="#argonaut.JsonNumber.MinLongString" title="=&gt; String">MinLongString</a> else <a href="#argonaut.JsonNumber.MaxLongString" title="=&gt; String">MaxLongString</a>
      <span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.value" title="String">value</a>.<span title="()Int">length</span> <span title="(x: Int)Boolean">&lt;</span> <a href="#argonaut.JsonNumber.fromString.isLong.upperBound" title="String">upperBound</a>.<span title="()Int">length</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
        <span class="delimiter">(</span><span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.value" title="String">value</a>.<span title="()Int">length</span> <span title="(x: Int)Boolean">==</span> <a href="#argonaut.JsonNumber.fromString.isLong.upperBound" title="String">upperBound</a>.<span title="()Int">length</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="#argonaut.JsonNumber.fromString.value" title="String">value</a>.<span title="(x$1: String)Int">compareTo</span><span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.isLong.upperBound" title="String">upperBound</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">&lt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    if <span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.invalid" title="Boolean">invalid</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="None.type">None</span>
    <span class="delimiter">}</span> else if <span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.intIndex" title="Int">intIndex</a> <span title="(x: Int)Boolean">==</span> <a href="#argonaut.JsonNumber.fromString.expIndex" title="Int">expIndex</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#argonaut.JsonNumber.fromString.isLong" title="=&gt; Boolean">isLong</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="(x: argonaut.JsonLong)Some[argonaut.JsonLong]">Some</span><span class="delimiter">(</span><a href="#argonaut.JsonLong.readResolve" title="(value: Long)argonaut.JsonLong">JsonLong</a><span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.value" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">value</a>.<span title="=&gt; Long">toLong</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> else <span class="delimiter">{</span>
      <span title="(x: argonaut.JsonDecimal)Some[argonaut.JsonDecimal]">Some</span><span class="delimiter">(</span><a href="#argonaut.JsonDecimal.readResolve" title="(value: String)argonaut.JsonDecimal">JsonDecimal</a><span class="delimiter">(</span><a href="#argonaut.JsonNumber.fromString.value" title="String">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  private val <a title="String" id="argonaut.JsonNumber.MaxLongString">MaxLongString</a> = Long.<span title="Long(9223372036854775807L)">MaxValue</span>.<span title="()String">toString</span>
  private val <a title="String" id="argonaut.JsonNumber.MinLongString">MinLongString</a> = Long.<span title="Long(-9223372036854775808L)">MinValue</span>.<span title="()String">toString</span>

  <span class="comment">/**
   * A regular expression that can match a valid JSON number. This has 4 match
   * groups:
   *
   *  1. The optional negative sign.
   *  2. The integer part.
   *  3. The fractional part without the leading period.
   *  4. The exponent part without the leading 'e', but with an optional leading '+' or '-'.
   *
   * The negative sign, fractional part and exponent part are optional matches
   * and may be `null`.
   */</span>
  val <a title="scala.util.matching.Regex" id="argonaut.JsonNumber.JsonNumberRegex">JsonNumberRegex</a> = 
    <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;(-)?((?:[1-9][0-9]*|0))(?:\.([0-9]+))?(?:[eE]([-+]?[0-9]+))?&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
