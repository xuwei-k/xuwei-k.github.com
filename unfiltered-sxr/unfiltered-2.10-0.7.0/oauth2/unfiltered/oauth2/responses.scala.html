<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>oauth2/unfiltered/oauth2/responses.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> unfiltered.oauth2

/**
 * @see [[http://tools.ietf.org/html/draft-ietf-oauth-v2-20#section-4.1.2]]
 * For example, the authorization server redirects the user-agent by
 *  sending the following HTTP response:
 *
 *     HTTP/1.1 302 Found
 *     Location: https://client.example.com/cb?code=SplxlOBeZQQYbYS6WxSbIA
 *               &amp;state=xyz
 */
<span class="keyword">trait</span> <a title="trait OAuthResponse extends AnyRef" id="11921">OAuthResponse</a>
<span title="AnyRef" class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait AuthorizationResponse extends AnyRef with unfiltered.oauth2.OAuthResponse" id="11567">AuthorizationResponse</a> <span class="keyword">extends</span> <a href="#11921" title="unfiltered.oauth2.OAuthResponse">OAuthResponse</a>
<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait AccessResponse extends AnyRef with unfiltered.oauth2.OAuthResponse" id="11525">AccessResponse</a> <span class="keyword">extends</span> <a href="#11921" title="unfiltered.oauth2.OAuthResponse">OAuthResponse</a>

/**
 * @see [[http://tools.ietf.org/html/draft-ietf-oauth-v2-20#section-4.1.2]]
 */
<span class="keyword">case class</span> <a title="class AuthorizationCodeResponse extends AnyRef with unfiltered.oauth2.AuthorizationResponse with Product with Serializable" id="92759">AuthorizationCodeResponse</a><a href="#92759" title="Product" class="delimiter">(</a>
  <a title="String" id="81557">code</a>: <span title="String">String</span>,
  <a title="Option[String]" id="81558">state</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span>
<span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11567" title="unfiltered.oauth2.AuthorizationResponse">AuthorizationResponse</a>

/**
 * @see [[http://tools.ietf.org/html/draft-ietf-oauth-v2-20#section-4.1.4]]
 * @see [[http://tools.ietf.org/html/draft-ietf-oauth-v2-20#section-4.2.2]]
 * @see [[http://tools.ietf.org/html/draft-ietf-oauth-v2-20#section-5.1]]
 *
 * For example:
 *
 *     HTTP/1.1 200 OK
 *     Content-Type: application/json;charset=UTF-8
 *     Cache-Control: no-store
 *     Pragma: no-cache
 *     {
 *       &quot;access_token&quot;:&quot;2YotnFZFEjr1zCsicMWpAA&quot;,
 *       &quot;token_type&quot;:&quot;example&quot;,
 *       &quot;expires_in&quot;:3600,
 *       &quot;refresh_token&quot;:&quot;tGzv3JOkF0XG5Qx2TlKWIA&quot;,
 *       &quot;example_parameter&quot;:&quot;example_value&quot;
 *     }
 */
<span class="keyword">case class</span> <a title="class AccessTokenResponse extends AnyRef with unfiltered.oauth2.AccessResponse with unfiltered.oauth2.AuthorizationResponse with Product with Serializable" id="92755">AccessTokenResponse</a><a href="#92755" title="Product" class="delimiter">(</a>
  <a title="String" id="85447">accessToken</a>: <span title="String">String</span>,
  <a title="Option[String]" id="85448">tokenType</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span>,
  <a title="Option[Int]" id="85449">expiresIn</a>: <span title="Option[Int]">Option</span><span class="delimiter">[</span>Int<span class="delimiter">]</span>,
  <a title="Option[String]" id="85450">refreshToken</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span>,
  <a title="Seq[String]" id="85451">scope</a>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span>,
  <a title="Option[String]" id="85452">state</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span>,
  <a title="Iterable[(String, String)]" id="85453">extras</a>: <span title="Iterable[(String, String)]">Iterable</span><span class="delimiter">[</span><span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span>
<span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11525" title="unfiltered.oauth2.AccessResponse">AccessResponse</a> <span class="keyword">with</span> <a href="#11567" title="unfiltered.oauth2.AuthorizationResponse">AuthorizationResponse</a>

/**
 * @see [[http://tools.ietf.org/html/draft-ietf-oauth-v2-20#section-4.2.2]]
 */
<span class="keyword">case class</span> <a title="class ImplicitAccessTokenResponse extends AnyRef with unfiltered.oauth2.AuthorizationResponse with Product with Serializable" id="92808">ImplicitAccessTokenResponse</a><a href="#92808" title="Product" class="delimiter">(</a>
  <a title="String" id="85159">accessToken</a>: <span title="String">String</span>,
  <a title="Option[String]" id="85160">tokenType</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span>,
  <a title="Option[Int]" id="85161">expiresIn</a>: <span title="Option[Int]">Option</span><span class="delimiter">[</span>Int<span class="delimiter">]</span>,
  <a title="Seq[String]" id="85162">scope</a>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span>,
  <a title="Option[String]" id="85163">state</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span>,
  <a title="Iterable[(String, String)]" id="85164">extras</a>: <span title="Iterable[(String, String)]">Iterable</span><span class="delimiter">[</span><span class="delimiter">(</span>String,String<span class="delimiter">)</span><span class="delimiter">]</span>
<span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11567" title="unfiltered.oauth2.AuthorizationResponse">AuthorizationResponse</a>

<span class="keyword">case class</span> <a title="class AuthorizedPass extends AnyRef with unfiltered.oauth2.OAuthResponse with Product with Serializable" id="92794">AuthorizedPass</a><a href="#92794" title="Product" class="delimiter">(</a>
  <a title="String" id="92767">owner</a>: <span title="String">String</span>,
  <a title="Seq[String]" id="92768">scope</a>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span>
<span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11921" title="unfiltered.oauth2.OAuthResponse">OAuthResponse</a>

<span class="keyword">case class</span> <a title="class ServiceResponse extends AnyRef with unfiltered.oauth2.AuthorizationResponse with Product with Serializable" id="92812">ServiceResponse</a><a href="#92812" title="Product" class="delimiter">(</a>
  <a title="unfiltered.response.ResponseFunction[Any]" id="81454">handler</a>: unfiltered.response.<a href="../../../unfiltered/unfiltered/unfiltered/response/functions.scala.html#9439" title="unfiltered.response.ResponseFunction[Any]">ResponseFunction</a><span class="delimiter">[</span>Any<span class="delimiter">]</span>
<span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11567" title="unfiltered.oauth2.AuthorizationResponse">AuthorizationResponse</a>

/**
 * @see [[http://tools.ietf.org/html/draft-ietf-oauth-v2-20#section-4.1.2.1]]
 *
 * For example, the authorization server redirects the user-agent by
 * sending the following HTTP response:
 *
 *  HTTP/1.1 302 Found
 *  Location: https://client.example.com/cb?error=access_denied&amp;state=xyz
 *
 * Or, another example:
 *
 *  HTTP/1.1 400 Bad Request
 *  Content-Type: application/json;charset=UTF-8
 *  Cache-Control: no-store
 *  Pragma: no-cache
 *  {
 *    &quot;error&quot;:&quot;invalid_request&quot;
 *  }
 *
 */
<span class="keyword">case class</span> <a title="class ErrorResponse extends AnyRef with unfiltered.oauth2.AuthorizationResponse with unfiltered.oauth2.AccessResponse with Product with Serializable" id="92804">ErrorResponse</a><a href="#92804" title="Product" class="delimiter">(</a>
  <a title="String" id="81496">error</a>: <span title="String">String</span>,
  <a title="String" id="81497">desc</a>: <span title="String">String</span>,
  <a title="Option[String]" id="87141">uri</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="None.type">None</span>,
  <a title="Option[String]" id="87142">state</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="None.type">None</span>
<span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11567" title="unfiltered.oauth2.AuthorizationResponse">AuthorizationResponse</a> <span class="keyword">with</span> <a href="#11525" title="unfiltered.oauth2.AccessResponse">AccessResponse</a>


<span class="keyword">trait</span> <a title="trait Formatting extends AnyRef" id="11843">Formatting</a> <span title="Unit" class="delimiter">{</span>
  <span class="keyword">import</span> java.net.URLEncoder

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: String)String" id="85722">enc</a><span class="delimiter">(</span><a title="String" id="87174">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <span title="java.net.URLEncoder.type">URLEncoder</span>.<span title="(x$1: String, x$2: String)String">encode</span><span class="delimiter">(</span><a href="#87174" title="String">s</a>, <span title="String(&quot;utf-8&quot;)" class="string">&quot;utf-8&quot;</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(kvs: Iterable[(String, String)])String" id="85723">qstr</a><span class="delimiter">(</span><a title="Iterable[(String, String)]" id="87149">kvs</a>: <span title="Iterable[(String, String)]">Iterable</span><span class="delimiter">[</span><span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#87149" title="Iterable[(String, String)]">kvs</a> <span title="(f: ((String, String)) =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[(String, String)],String,Iterable[String]])Iterable[String]">map</span> <span class="delimiter">{</span> <a href="#87166" title="(String, String)">_</a> <span class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span class="delimiter">(</span><a href="#125111" title="String" id="87169">k</a>, <a href="#125111" title="String" id="87170">v</a><span class="delimiter">)</span> =&gt; <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s=%s&quot;</span> <a href="#125113" title="(x: String)String">format</a><span class="delimiter">(</span><a href="#85722" title="(s: String)String">enc</a><span class="delimiter">(</span><a href="#87169" title="String">k</a><span class="delimiter">)</span>, <a href="#85722" title="(s: String)String">enc</a><span class="delimiter">(</span><a href="#87170" title="String">v</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span> <span class="delimiter">}</span> <span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;&amp;&quot;)" class="string">&quot;&amp;&quot;</span><span class="delimiter">)</span>

  // todo: use an actual json encoder
  <span class="keyword">def</span> <a title="(kvs: Iterable[(String, String)])unfiltered.response.ResponseFunction[Any]" id="85724">Json</a><span class="delimiter">(</span><a title="Iterable[(String, String)]" id="85940">kvs</a>: <span title="Iterable[(String, String)]">Iterable</span><span class="delimiter">[</span><span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> =
    unfiltered.response.<a href="../../../unfiltered/unfiltered/unfiltered/response/writers.scala.html#54423" title="(content: String)unfiltered.response.ResponseString">ResponseString</a><span class="delimiter">(</span><a href="#85940" title="Iterable[(String, String)]">kvs</a> <span title="(f: ((String, String)) =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[(String, String)],String,Iterable[String]])Iterable[String]">map</span> <span class="delimiter">{</span> <a href="#85958" title="(String, String)">_</a> <span class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span class="delimiter">(</span><a href="#125117" title="String" id="85961">k</a>, <a href="#125117" title="String" id="85962">v</a><span class="delimiter">)</span> =&gt; <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;\&quot;%s\&quot;:\&quot;%s\&quot;&quot;</span>.<span title="(args: Any*)String">format</span><a href="#125119" title="(x: String)String" class="delimiter">(</a><a href="#85961" title="String">k</a>,<a href="#85962" title="String">v</a><span class="delimiter">)</span> <span class="delimiter">}</span> <span class="delimiter">}</span> <span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span>
      <span title="String(&quot;{&quot;)" class="string">&quot;{&quot;</span>,<span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span>,<span title="String(&quot;}&quot;)" class="string">&quot;}&quot;</span>
    <span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../unfiltered/unfiltered/unfiltered/response/functions.scala.html#22177" title="(that: unfiltered.response.ResponseFunction[Any])unfiltered.response.ResponseFunction[Any]">~&gt;</a> unfiltered.response.<a href="../../../unfiltered/unfiltered/unfiltered/response/types.scala.html#9143" title="unfiltered.response.JsonContent.type">JsonContent</a>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>