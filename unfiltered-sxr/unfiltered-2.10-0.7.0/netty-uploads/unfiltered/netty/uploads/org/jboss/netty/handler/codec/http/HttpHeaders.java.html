<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>netty-uploads/unfiltered/netty/uploads/org/jboss/netty/handler/codec/http/HttpHeaders.java</title>
        <script type="text/javascript" src="../../../../../../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/*
 * Copyright 2011 The Netty Project
 *
 * The Netty Project licenses this file to you under the Apache License,
 * version 2.0 (the &quot;License&quot;); you may not use this file except in compliance
 * with the License. You may obtain a copy of the License at:
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations
 * under the License.
 *
 * Repackaged for use with netty 3.x
 */
<span class="keyword">package</span> org.jboss.netty.handler.codec.http;

<span class="keyword">import</span> java.text.ParseException;
<span class="keyword">import</span> java.util.Calendar;
<span class="keyword">import</span> java.util.Date;
<span class="keyword">import</span> java.util.LinkedList;
<span class="keyword">import</span> java.util.List;
<span class="keyword">import</span> java.util.Map;
<span class="keyword">import</span> java.util.Set;
<span class="keyword">import</span> java.util.TreeSet;

<span class="keyword">import</span> org.jboss.netty.util.internal.CaseIgnoringComparator;

/**
 * Provides the constants for the standard HTTP header names and values and
 * commonly used utility methods that accesses an {@link HttpMessage}.
 * @apiviz.landmark
 * @apiviz.stereotype static
 */
public <span class="keyword">class</span> <a title="org.jboss.netty.handler.codec.http.HttpHeaders.type" id="10208">HttpHeaders</a> <span class="delimiter">{</span>

    /**
     * Standard HTTP header names.
     * @apiviz.stereotype static
     */
    public static <span class="keyword">final</span> <span class="keyword">class</span> <a title="org.jboss.netty.handler.codec.http.HttpHeaders.Names.type" id="59690">Names</a> <span class="delimiter">{</span>
        /**
         * {@code &quot;Accept&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71113">ACCEPT</a> = <span class="string">&quot;Accept&quot;</span>;
        /**
         * {@code &quot;Accept-Charset&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71114">ACCEPT_CHARSET</a> = <span class="string">&quot;Accept-Charset&quot;</span>;
        /**
         * {@code &quot;Accept-Encoding&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71115">ACCEPT_ENCODING</a> = <span class="string">&quot;Accept-Encoding&quot;</span>;
        /**
         * {@code &quot;Accept-Language&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71116">ACCEPT_LANGUAGE</a> = <span class="string">&quot;Accept-Language&quot;</span>;
        /**
         * {@code &quot;Accept-Ranges&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71117">ACCEPT_RANGES</a> = <span class="string">&quot;Accept-Ranges&quot;</span>;
        /**
         * {@code &quot;Accept-Patch&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71118">ACCEPT_PATCH</a> = <span class="string">&quot;Accept-Patch&quot;</span>;
        /**
         * {@code &quot;Age&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71119">AGE</a> = <span class="string">&quot;Age&quot;</span>;
        /**
         * {@code &quot;Allow&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71120">ALLOW</a> = <span class="string">&quot;Allow&quot;</span>;
        /**
         * {@code &quot;Authorization&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71121">AUTHORIZATION</a> = <span class="string">&quot;Authorization&quot;</span>;
        /**
         * {@code &quot;Cache-Control&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71122">CACHE_CONTROL</a> = <span class="string">&quot;Cache-Control&quot;</span>;
        /**
         * {@code &quot;Connection&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71123">CONNECTION</a> = <span class="string">&quot;Connection&quot;</span>;
        /**
         * {@code &quot;Content-Base&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71124">CONTENT_BASE</a> = <span class="string">&quot;Content-Base&quot;</span>;
        /**
         * {@code &quot;Content-Encoding&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71125">CONTENT_ENCODING</a> = <span class="string">&quot;Content-Encoding&quot;</span>;
        /**
         * {@code &quot;Content-Language&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71126">CONTENT_LANGUAGE</a> = <span class="string">&quot;Content-Language&quot;</span>;
        /**
         * {@code &quot;Content-Length&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71127">CONTENT_LENGTH</a> = <span class="string">&quot;Content-Length&quot;</span>;
        /**
         * {@code &quot;Content-Location&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71128">CONTENT_LOCATION</a> = <span class="string">&quot;Content-Location&quot;</span>;
        /**
         * {@code &quot;Content-Transfer-Encoding&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71129">CONTENT_TRANSFER_ENCODING</a> = <span class="string">&quot;Content-Transfer-Encoding&quot;</span>;
        /**
         * {@code &quot;Content-MD5&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71130">CONTENT_MD5</a> = <span class="string">&quot;Content-MD5&quot;</span>;
        /**
         * {@code &quot;Content-Range&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71131">CONTENT_RANGE</a> = <span class="string">&quot;Content-Range&quot;</span>;
        /**
         * {@code &quot;Content-Type&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71132">CONTENT_TYPE</a> = <span class="string">&quot;Content-Type&quot;</span>;
        /**
         * {@code &quot;Cookie&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71133">COOKIE</a> = <span class="string">&quot;Cookie&quot;</span>;
        /**
         * {@code &quot;Date&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71134">DATE</a> = <span class="string">&quot;Date&quot;</span>;
        /**
         * {@code &quot;ETag&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71135">ETAG</a> = <span class="string">&quot;ETag&quot;</span>;
        /**
         * {@code &quot;Expect&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71136">EXPECT</a> = <span class="string">&quot;Expect&quot;</span>;
        /**
         * {@code &quot;Expires&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71137">EXPIRES</a> = <span class="string">&quot;Expires&quot;</span>;
        /**
         * {@code &quot;From&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71138">FROM</a> = <span class="string">&quot;From&quot;</span>;
        /**
         * {@code &quot;Host&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71139">HOST</a> = <span class="string">&quot;Host&quot;</span>;
        /**
         * {@code &quot;If-Match&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71140">IF_MATCH</a> = <span class="string">&quot;If-Match&quot;</span>;
        /**
         * {@code &quot;If-Modified-Since&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71141">IF_MODIFIED_SINCE</a> = <span class="string">&quot;If-Modified-Since&quot;</span>;
        /**
         * {@code &quot;If-None-Match&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71142">IF_NONE_MATCH</a> = <span class="string">&quot;If-None-Match&quot;</span>;
        /**
         * {@code &quot;If-Range&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71143">IF_RANGE</a> = <span class="string">&quot;If-Range&quot;</span>;
        /**
         * {@code &quot;If-Unmodified-Since&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71144">IF_UNMODIFIED_SINCE</a> = <span class="string">&quot;If-Unmodified-Since&quot;</span>;
        /**
         * {@code &quot;Last-Modified&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71145">LAST_MODIFIED</a> = <span class="string">&quot;Last-Modified&quot;</span>;
        /**
         * {@code &quot;Location&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71146">LOCATION</a> = <span class="string">&quot;Location&quot;</span>;
        /**
         * {@code &quot;Max-Forwards&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71147">MAX_FORWARDS</a> = <span class="string">&quot;Max-Forwards&quot;</span>;
        /**
         * {@code &quot;Origin&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71148">ORIGIN</a> = <span class="string">&quot;Origin&quot;</span>;
        /**
         * {@code &quot;Pragma&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71149">PRAGMA</a> = <span class="string">&quot;Pragma&quot;</span>;
        /**
         * {@code &quot;Proxy-Authenticate&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71150">PROXY_AUTHENTICATE</a> = <span class="string">&quot;Proxy-Authenticate&quot;</span>;
        /**
         * {@code &quot;Proxy-Authorization&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71151">PROXY_AUTHORIZATION</a> = <span class="string">&quot;Proxy-Authorization&quot;</span>;
        /**
         * {@code &quot;Range&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71152">RANGE</a> = <span class="string">&quot;Range&quot;</span>;
        /**
         * {@code &quot;Referer&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71153">REFERER</a> = <span class="string">&quot;Referer&quot;</span>;
        /**
         * {@code &quot;Retry-After&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71154">RETRY_AFTER</a> = <span class="string">&quot;Retry-After&quot;</span>;
        /**
         * {@code &quot;Sec-WebSocket-Key1&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71155">SEC_WEBSOCKET_KEY1</a> = <span class="string">&quot;Sec-WebSocket-Key1&quot;</span>;
        /**
         * {@code &quot;Sec-WebSocket-Key2&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71156">SEC_WEBSOCKET_KEY2</a> = <span class="string">&quot;Sec-WebSocket-Key2&quot;</span>;
        /**
         * {@code &quot;Sec-WebSocket-Location&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71157">SEC_WEBSOCKET_LOCATION</a> = <span class="string">&quot;Sec-WebSocket-Location&quot;</span>;
        /**
         * {@code &quot;Sec-WebSocket-Origin&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71158">SEC_WEBSOCKET_ORIGIN</a> = <span class="string">&quot;Sec-WebSocket-Origin&quot;</span>;
        /**
         * {@code &quot;Sec-WebSocket-Protocol&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71159">SEC_WEBSOCKET_PROTOCOL</a> = <span class="string">&quot;Sec-WebSocket-Protocol&quot;</span>;
        /**
         * {@code &quot;Sec-WebSocket-Version&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71160">SEC_WEBSOCKET_VERSION</a> = <span class="string">&quot;Sec-WebSocket-Version&quot;</span>;
        /**
         * {@code &quot;Sec-WebSocket-Key&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71161">SEC_WEBSOCKET_KEY</a> = <span class="string">&quot;Sec-WebSocket-Key&quot;</span>;
        /**
         * {@code &quot;Sec-WebSocket-Accept&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71162">SEC_WEBSOCKET_ACCEPT</a> = <span class="string">&quot;Sec-WebSocket-Accept&quot;</span>;
        /**
         * {@code &quot;Server&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71163">SERVER</a> = <span class="string">&quot;Server&quot;</span>;
        /**
         * {@code &quot;Set-Cookie&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71164">SET_COOKIE</a> = <span class="string">&quot;Set-Cookie&quot;</span>;
        /**
         * {@code &quot;Set-Cookie2&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71165">SET_COOKIE2</a> = <span class="string">&quot;Set-Cookie2&quot;</span>;
        /**
         * {@code &quot;TE&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71166">TE</a> = <span class="string">&quot;TE&quot;</span>;
        /**
         * {@code &quot;Trailer&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71167">TRAILER</a> = <span class="string">&quot;Trailer&quot;</span>;
        /**
         * {@code &quot;Transfer-Encoding&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71168">TRANSFER_ENCODING</a> = <span class="string">&quot;Transfer-Encoding&quot;</span>;
        /**
         * {@code &quot;Upgrade&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71169">UPGRADE</a> = <span class="string">&quot;Upgrade&quot;</span>;
        /**
         * {@code &quot;User-Agent&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71170">USER_AGENT</a> = <span class="string">&quot;User-Agent&quot;</span>;
        /**
         * {@code &quot;Vary&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71171">VARY</a> = <span class="string">&quot;Vary&quot;</span>;
        /**
         * {@code &quot;Via&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71172">VIA</a> = <span class="string">&quot;Via&quot;</span>;
        /**
         * {@code &quot;Warning&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71173">WARNING</a> = <span class="string">&quot;Warning&quot;</span>;
        /**
         * {@code &quot;WebSocket-Location&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71174">WEBSOCKET_LOCATION</a> = <span class="string">&quot;WebSocket-Location&quot;</span>;
        /**
         * {@code &quot;WebSocket-Origin&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71175">WEBSOCKET_ORIGIN</a> = <span class="string">&quot;WebSocket-Origin&quot;</span>;
        /**
         * {@code &quot;WebSocket-Protocol&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71176">WEBSOCKET_PROTOCOL</a> = <span class="string">&quot;WebSocket-Protocol&quot;</span>;
        /**
         * {@code &quot;WWW-Authenticate&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="71177">WWW_AUTHENTICATE</a> = <span class="string">&quot;WWW-Authenticate&quot;</span>;

        <span class="keyword">private</span> Names<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /**
     * Standard HTTP header values.
     * @apiviz.stereotype static
     */
    public static <span class="keyword">final</span> <span class="keyword">class</span> <a title="org.jboss.netty.handler.codec.http.HttpHeaders.Values.type" id="59693">Values</a> <span class="delimiter">{</span>
        /**
         * {@code &quot;application/x-www-form-urlencoded&quot;}
         */
         public static <span class="keyword">final</span> String <a title="String" id="127280">APPLICATION_X_WWW_FORM_URLENCODED</a> =
             <span class="string">&quot;application/x-www-form-urlencoded&quot;</span>;
        /**
         * {@code &quot;base64&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127281">BASE64</a> = <span class="string">&quot;base64&quot;</span>;
        /**
         * {@code &quot;binary&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127282">BINARY</a> = <span class="string">&quot;binary&quot;</span>;
        /**
         * {@code &quot;boundary&quot;}
         */
        static <span class="keyword">final</span> String <a title="String" id="127283">BOUNDARY</a> = <span class="string">&quot;boundary&quot;</span>;
        /**
         * {@code &quot;bytes&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127284">BYTES</a> = <span class="string">&quot;bytes&quot;</span>;
        /**
         * {@code &quot;charset&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127285">CHARSET</a> = <span class="string">&quot;charset&quot;</span>;
        /**
         * {@code &quot;chunked&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127286">CHUNKED</a> = <span class="string">&quot;chunked&quot;</span>;
        /**
         * {@code &quot;close&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127287">CLOSE</a> = <span class="string">&quot;close&quot;</span>;
        /**
         * {@code &quot;compress&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127288">COMPRESS</a> = <span class="string">&quot;compress&quot;</span>;
        /**
         * {@code &quot;100-continue&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127289">CONTINUE</a> =  <span class="string">&quot;100-continue&quot;</span>;
        /**
         * {@code &quot;deflate&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127290">DEFLATE</a> = <span class="string">&quot;deflate&quot;</span>;
        /**
         * {@code &quot;gzip&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127291">GZIP</a> = <span class="string">&quot;gzip&quot;</span>;
        /**
         * {@code &quot;identity&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127292">IDENTITY</a> = <span class="string">&quot;identity&quot;</span>;
        /**
         * {@code &quot;keep-alive&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127293">KEEP_ALIVE</a> = <span class="string">&quot;keep-alive&quot;</span>;
        /**
         * {@code &quot;max-age&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127294">MAX_AGE</a> = <span class="string">&quot;max-age&quot;</span>;
        /**
         * {@code &quot;max-stale&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127295">MAX_STALE</a> = <span class="string">&quot;max-stale&quot;</span>;
        /**
         * {@code &quot;min-fresh&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127296">MIN_FRESH</a> = <span class="string">&quot;min-fresh&quot;</span>;
        /**
         * {@code &quot;multipart/form-data&quot;}
         */
        static <span class="keyword">final</span> String <a title="String" id="127297">MULTIPART_FORM_DATA</a> = <span class="string">&quot;multipart/form-data&quot;</span>;
        /**
         * {@code &quot;must-revalidate&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127298">MUST_REVALIDATE</a> = <span class="string">&quot;must-revalidate&quot;</span>;
        /**
         * {@code &quot;no-cache&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127299">NO_CACHE</a> = <span class="string">&quot;no-cache&quot;</span>;
        /**
         * {@code &quot;no-store&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127300">NO_STORE</a> = <span class="string">&quot;no-store&quot;</span>;
        /**
         * {@code &quot;no-transform&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127301">NO_TRANSFORM</a> = <span class="string">&quot;no-transform&quot;</span>;
        /**
         * {@code &quot;none&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127302">NONE</a> = <span class="string">&quot;none&quot;</span>;
        /**
         * {@code &quot;only-if-cached&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127303">ONLY_IF_CACHED</a> = <span class="string">&quot;only-if-cached&quot;</span>;
        /**
         * {@code &quot;private&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127304">PRIVATE</a> = <span class="string">&quot;private&quot;</span>;
        /**
         * {@code &quot;proxy-revalidate&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127305">PROXY_REVALIDATE</a> = <span class="string">&quot;proxy-revalidate&quot;</span>;
        /**
         * {@code &quot;public&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127306">PUBLIC</a> = <span class="string">&quot;public&quot;</span>;
        /**
         * {@code &quot;quoted-printable&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127307">QUOTED_PRINTABLE</a> = <span class="string">&quot;quoted-printable&quot;</span>;
        /**
         * {@code &quot;s-maxage&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127308">S_MAXAGE</a> = <span class="string">&quot;s-maxage&quot;</span>;
        /**
         * {@code &quot;trailers&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127309">TRAILERS</a> = <span class="string">&quot;trailers&quot;</span>;
        /**
         * {@code &quot;Upgrade&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127310">UPGRADE</a> = <span class="string">&quot;Upgrade&quot;</span>;
        /**
         * {@code &quot;WebSocket&quot;}
         */
        public static <span class="keyword">final</span> String <a title="String" id="127311">WEBSOCKET</a> = <span class="string">&quot;WebSocket&quot;</span>;

        <span class="keyword">private</span> Values<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>


    /**
     * Returns {@code true} if and only if the connection can remain open and
     * thus 'kept alive'.  This methods respects the value of the
     * {@code &quot;Connection&quot;} header first and then the return value of
     * {@link HttpVersion#isKeepAliveDefault()}.
     */
    public static boolean <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage)Boolean" id="59694">isKeepAlive</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="59734">message</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        String connection = message.getHeader<span class="delimiter">(</span>Names.CONNECTION<span class="delimiter">)</span>;
        <span class="keyword">if</span> <span class="delimiter">(</span>Values.CLOSE.equalsIgnoreCase<span class="delimiter">(</span>connection<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> <span class="keyword">false</span>;
        <span class="delimiter">}</span>

        <span class="keyword">if</span> <span class="delimiter">(</span>message.getProtocolVersion<span class="delimiter">(</span><span class="delimiter">)</span>.isKeepAliveDefault<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> !Values.CLOSE.equalsIgnoreCase<span class="delimiter">(</span>connection<span class="delimiter">)</span>;
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> Values.KEEP_ALIVE.equalsIgnoreCase<span class="delimiter">(</span>connection<span class="delimiter">)</span>;
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /**
     * Sets the value of the {@code &quot;Connection&quot;} header depending on the
     * protocol version of the specified message.  This method sets or removes
     * the {@code &quot;Connection&quot;} header depending on what the default keep alive
     * mode of the message's protocol version is, as specified by
     * {@link HttpVersion#isKeepAliveDefault()}.
     * &lt;ul&gt;
     * &lt;li&gt;If the connection is kept alive by default:
     *     &lt;ul&gt;
     *     &lt;li&gt;set to {@code &quot;close&quot;} if {@code keepAlive} is {@code false}.&lt;/li&gt;
     *     &lt;li&gt;remove otherwise.&lt;/li&gt;
     *     &lt;/ul&gt;&lt;/li&gt;
     * &lt;li&gt;If the connection is closed by default:
     *     &lt;ul&gt;
     *     &lt;li&gt;set to {@code &quot;keep-alive&quot;} if {@code keepAlive} is {@code true}.&lt;/li&gt;
     *     &lt;li&gt;remove otherwise.&lt;/li&gt;
     *     &lt;/ul&gt;&lt;/li&gt;
     * &lt;/ul&gt;
     */
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, keepAlive: Boolean)Unit" id="59695">setKeepAlive</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127312">message</a>, boolean <a title="Boolean" id="127313">keepAlive</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>message.getProtocolVersion<span class="delimiter">(</span><span class="delimiter">)</span>.isKeepAliveDefault<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">if</span> <span class="delimiter">(</span>keepAlive<span class="delimiter">)</span> <span class="delimiter">{</span>
                message.removeHeader<span class="delimiter">(</span>Names.CONNECTION<span class="delimiter">)</span>;
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                message.setHeader<span class="delimiter">(</span>Names.CONNECTION, Values.CLOSE<span class="delimiter">)</span>;
            <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">if</span> <span class="delimiter">(</span>keepAlive<span class="delimiter">)</span> <span class="delimiter">{</span>
                message.setHeader<span class="delimiter">(</span>Names.CONNECTION, Values.KEEP_ALIVE<span class="delimiter">)</span>;
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                message.removeHeader<span class="delimiter">(</span>Names.CONNECTION<span class="delimiter">)</span>;
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /**
     * Returns the header value with the specified header name.  If there are
     * more than one header value for the specified header name, the first
     * value is returned.
     *
     * @return the header value or {@code null} if there is no such header
     */
    public static String <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: String)String" id="59696">getHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127314">message</a>, String <a title="String" id="127315">name</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> message.getHeader<span class="delimiter">(</span>name<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    /**
     * Returns the header value with the specified header name.  If there are
     * more than one header value for the specified header name, the first
     * value is returned.
     *
     * @return the header value or the {@code defaultValue} if there is no such
     *         header
     */
    public static String <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: String, defaultValue: String)String" id="59697">getHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127316">message</a>, String <a title="String" id="127317">name</a>, String <a title="String" id="127318">defaultValue</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        String value = message.getHeader<span class="delimiter">(</span>name<span class="delimiter">)</span>;
        <span class="keyword">if</span> <span class="delimiter">(</span>value == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> defaultValue;
        <span class="delimiter">}</span>
        <span class="keyword">return</span> value;
    <span class="delimiter">}</span>

    /**
     * Sets a new header with the specified name and value.  If there is an
     * existing header with the same name, the existing header is removed.
     * If the specified value is not a {@link String}, it is converted into a
     * {@link String} by {@link Object#toString()}, except for {@link Date}
     * and {@link Calendar} which are formatted to the date format defined in
     * &lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3.1&quot;&gt;RFC2616&lt;/a&gt;.
     */
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: String, value: Any)Unit" id="59698">setHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127319">message</a>, String <a title="String" id="127320">name</a>, Object <a title="Any" id="127321">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        message.setHeader<span class="delimiter">(</span>name, value<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    /**
     * Sets a new header with the specified name and values.  If there is an
     * existing header with the same name, the existing header is removed.
     * This method can be represented approximately as the following code:
     * &lt;pre&gt;
     * removeHeader(message, name);
     * for (Object v: values) {
     *     if (v == null) {
     *         break;
     *     }
     *     addHeader(message, name, v);
     * }
     * &lt;/pre&gt;
     */
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: String, values: Iterable[_])Unit" id="59699">setHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127322">message</a>, String <a title="String" id="127323">name</a>, Iterable&lt;?&gt; <a title="Iterable[_]" id="127324">values</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        message.setHeader<span class="delimiter">(</span>name, values<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    /**
     * Adds a new header with the specified name and value.
     * If the specified value is not a {@link String}, it is converted into a
     * {@link String} by {@link Object#toString()}, except for {@link Date}
     * and {@link Calendar} which are formatted to the date format defined in
     * &lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3.1&quot;&gt;RFC2616&lt;/a&gt;.
     */
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: String, value: Any)Unit" id="59700">addHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127327">message</a>, String <a title="String" id="127328">name</a>, Object <a title="Any" id="127329">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        message.addHeader<span class="delimiter">(</span>name, value<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    /**
     * Removes the header with the specified name.
     */
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: String)Unit" id="59701">removeHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127330">message</a>, String <a title="String" id="127331">name</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        message.removeHeader<span class="delimiter">(</span>name<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    /**
     * Removes all headers from the specified message.
     */
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage)Unit" id="59702">clearHeaders</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127332">message</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        message.clearHeaders<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    /**
     * Returns the integer header value with the specified header name.  If
     * there are more than one header value for the specified header name, the
     * first value is returned.
     *
     * @return the header value
     * @throws NumberFormatException
     *         if there is no such header or the header value is not a number
     */
    public static int <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: String)Int" id="59703">getIntHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127333">message</a>, String <a title="String" id="127334">name</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        String value = getHeader<span class="delimiter">(</span>message, name<span class="delimiter">)</span>;
        <span class="keyword">if</span> <span class="delimiter">(</span>value == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> NumberFormatException<span class="delimiter">(</span><span class="string">&quot;header not found: &quot;</span> + name<span class="delimiter">)</span>;
        <span class="delimiter">}</span>
        <span class="keyword">return</span> Integer.parseInt<span class="delimiter">(</span>value<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    /**
     * Returns the integer header value with the specified header name.  If
     * there are more than one header value for the specified header name, the
     * first value is returned.
     *
     * @return the header value or the {@code defaultValue} if there is no such
     *         header or the header value is not a number
     */
    public static int <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: String, defaultValue: Int)Int" id="59704">getIntHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127335">message</a>, String <a title="String" id="127336">name</a>, int <a title="Int" id="127337">defaultValue</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        String value = getHeader<span class="delimiter">(</span>message, name<span class="delimiter">)</span>;
        <span class="keyword">if</span> <span class="delimiter">(</span>value == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> defaultValue;
        <span class="delimiter">}</span>

        <span class="keyword">try</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> Integer.parseInt<span class="delimiter">(</span>value<span class="delimiter">)</span>;
        <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">(</span>NumberFormatException e<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> defaultValue;
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /**
     * Sets a new integer header with the specified name and value.  If there
     * is an existing header with the same name, the existing header is removed.
     */
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: String, value: Int)Unit" id="59705">setIntHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127338">message</a>, String <a title="String" id="127339">name</a>, int <a title="Int" id="127340">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        message.setHeader<span class="delimiter">(</span>name, value<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    /**
     * Sets a new integer header with the specified name and values.  If there
     * is an existing header with the same name, the existing header is removed.
     */
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: String, values: Iterable[Integer])Unit" id="59706">setIntHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127341">message</a>, String <a title="String" id="127342">name</a>, Iterable&lt;Integer&gt; <a title="Iterable[Integer]" id="127343">values</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        message.setHeader<span class="delimiter">(</span>name, values<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    /**
     * Adds a new integer header with the specified name and value.
     */
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: String, value: Int)Unit" id="59707">addIntHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127344">message</a>, String <a title="String" id="127345">name</a>, int <a title="Int" id="127346">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        message.addHeader<span class="delimiter">(</span>name, value<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    /**
     * Returns the date header value with the specified header name.  If
     * there are more than one header value for the specified header name, the
     * first value is returned.
     *
     * @return the header value
     * @throws ParseException
     *         if there is no such header or the header value is not a formatted date
     */
    public static Date <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: String)java.util.Date" id="59708">getDateHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127347">message</a>, String <a title="String" id="127348">name</a><span class="delimiter">)</span> throws ParseException <span class="delimiter">{</span>
        String value = getHeader<span class="delimiter">(</span>message, name<span class="delimiter">)</span>;
        <span class="keyword">if</span> <span class="delimiter">(</span>value == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> ParseException<span class="delimiter">(</span><span class="string">&quot;header not found: &quot;</span> + name, <span class="int">0</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span>
        <span class="keyword">return</span> <span class="keyword">new</span> HttpHeaderDateFormat<span class="delimiter">(</span><span class="delimiter">)</span>.parse<span class="delimiter">(</span>value<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    /**
     * Returns the date header value with the specified header name.  If
     * there are more than one header value for the specified header name, the
     * first value is returned.
     *
     * @return the header value or the {@code defaultValue} if there is no such
     *         header or the header value is not a formatted date
     */
    public static Date <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: String, defaultValue: java.util.Date)java.util.Date" id="59709">getDateHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127349">message</a>, String <a title="String" id="127350">name</a>, Date <a title="java.util.Date" id="127351">defaultValue</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">final</span> String value = getHeader<span class="delimiter">(</span>message, name<span class="delimiter">)</span>;
        <span class="keyword">if</span> <span class="delimiter">(</span>value == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> defaultValue;
        <span class="delimiter">}</span>

        <span class="keyword">try</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> <span class="keyword">new</span> HttpHeaderDateFormat<span class="delimiter">(</span><span class="delimiter">)</span>.parse<span class="delimiter">(</span>value<span class="delimiter">)</span>;
        <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">(</span>ParseException e<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> defaultValue;
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /**
     * Sets a new date header with the specified name and value.  If there
     * is an existing header with the same name, the existing header is removed.
     * The specified value is formatted as defined in
     * &lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3.1&quot;&gt;RFC2616&lt;/a&gt;
     */
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: String, value: java.util.Date)Unit" id="59710">setDateHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127352">message</a>, String <a title="String" id="127353">name</a>, Date <a title="java.util.Date" id="127354">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>value != <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            message.setHeader<span class="delimiter">(</span>name, <span class="keyword">new</span> HttpHeaderDateFormat<span class="delimiter">(</span><span class="delimiter">)</span>.format<span class="delimiter">(</span>value<span class="delimiter">)</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            message.setHeader<span class="delimiter">(</span>name, <span class="keyword">null</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span>

    <span class="delimiter">}</span>

    /**
     * Sets a new date header with the specified name and values.  If there
     * is an existing header with the same name, the existing header is removed.
     * The specified values are formatted as defined in
     * &lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3.1&quot;&gt;RFC2616&lt;/a&gt;
     */
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: String, values: Iterable[java.util.Date])Unit" id="59711">setDateHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127355">message</a>, String <a title="String" id="127356">name</a>, Iterable&lt;Date&gt; <a title="Iterable[java.util.Date]" id="127357">values</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        message.setHeader<span class="delimiter">(</span>name, values<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    /**
     * Adds a new date header with the specified name and value.  The specified
     * value is formatted as defined in &lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3.1&quot;&gt;RFC2616&lt;/a&gt;
     */
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: String, value: java.util.Date)Unit" id="59712">addDateHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127358">message</a>, String <a title="String" id="127359">name</a>, Date <a title="java.util.Date" id="127360">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        message.addHeader<span class="delimiter">(</span>name, value<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    /**
     * Returns the length of the content.  Please note that this value is
     * not retrieved from {@link HttpMessage#getContent()} but from the
     * {@code &quot;Content-Length&quot;} header, and thus they are independent from each
     * other.
     *
     * @return the content length
     *
     * @throws NumberFormatException
     *         if the message does not have the {@code &quot;Content-Length&quot;} header
     *         or its value is not a number
     */
    public static long <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage)Long" id="59713">getContentLength</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127361">message</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        String value = getHeader<span class="delimiter">(</span>message, Names.CONTENT_LENGTH<span class="delimiter">)</span>;
        <span class="keyword">if</span> <span class="delimiter">(</span>value != <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> Long.parseLong<span class="delimiter">(</span>value<span class="delimiter">)</span>;
        <span class="delimiter">}</span>

        // We know the content length if it's a Web Socket message even if
        // Content-Length header is missing.
        long webSocketContentLength = getWebSocketContentLength<span class="delimiter">(</span>message<span class="delimiter">)</span>;
        <span class="keyword">if</span> <span class="delimiter">(</span>webSocketContentLength &gt;= <span class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> webSocketContentLength;
        <span class="delimiter">}</span>

        // Otherwise we don't.
        <span class="keyword">throw</span> <span class="keyword">new</span> NumberFormatException<span class="delimiter">(</span><span class="string">&quot;header not found: &quot;</span> + Names.CONTENT_LENGTH<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    /**
     * Returns the length of the content.  Please note that this value is
     * not retrieved from {@link HttpMessage#getContent()} but from the
     * {@code &quot;Content-Length&quot;} header, and thus they are independent from each
     * other.
     *
     * @return the content length or {@code defaultValue} if this message does
     *         not have the {@code &quot;Content-Length&quot;} header or its value is not
     *         a number
     */
    public static long <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, defaultValue: Long)Long" id="59714">getContentLength</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127362">message</a>, long <a title="Long" id="127363">defaultValue</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        String contentLength = message.getHeader<span class="delimiter">(</span>Names.CONTENT_LENGTH<span class="delimiter">)</span>;
        <span class="keyword">if</span> <span class="delimiter">(</span>contentLength != <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">try</span> <span class="delimiter">{</span>
                <span class="keyword">return</span> Long.parseLong<span class="delimiter">(</span>contentLength<span class="delimiter">)</span>;
            <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">(</span>NumberFormatException e<span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">return</span> defaultValue;
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        // We know the content length if it's a Web Socket message even if
        // Content-Length header is missing.
        long webSocketContentLength = getWebSocketContentLength<span class="delimiter">(</span>message<span class="delimiter">)</span>;
        <span class="keyword">if</span> <span class="delimiter">(</span>webSocketContentLength &gt;= <span class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> webSocketContentLength;
        <span class="delimiter">}</span>

        // Otherwise we don't.
        <span class="keyword">return</span> defaultValue;
    <span class="delimiter">}</span>

    /**
     * Returns the content length of the specified web socket message.  If the
     * specified message is not a web socket message, {@code -1} is returned.
     */
    <span class="keyword">private</span> static int <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage)Int" id="59715">getWebSocketContentLength</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127364">message</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        // WebSockset messages have constant content-lengths.
        <span class="keyword">if</span> <span class="delimiter">(</span>message instanceof HttpRequest<span class="delimiter">)</span> <span class="delimiter">{</span>
            HttpRequest req = <span class="delimiter">(</span>HttpRequest<span class="delimiter">)</span> message;
            <span class="keyword">if</span> <span class="delimiter">(</span>HttpMethod.GET.equals<span class="delimiter">(</span>req.getMethod<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> &amp;&amp;
                req.containsHeader<span class="delimiter">(</span>Names.SEC_WEBSOCKET_KEY1<span class="delimiter">)</span> &amp;&amp;
                req.containsHeader<span class="delimiter">(</span>Names.SEC_WEBSOCKET_KEY2<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">return</span> <span class="int">8</span>;
            <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="keyword">if</span> <span class="delimiter">(</span>message instanceof HttpResponse<span class="delimiter">)</span> <span class="delimiter">{</span>
            HttpResponse res = <span class="delimiter">(</span>HttpResponse<span class="delimiter">)</span> message;
            <span class="keyword">if</span> <span class="delimiter">(</span>res.getStatus<span class="delimiter">(</span><span class="delimiter">)</span>.getCode<span class="delimiter">(</span><span class="delimiter">)</span> == <span class="int">101</span> &amp;&amp;
                res.containsHeader<span class="delimiter">(</span>Names.SEC_WEBSOCKET_ORIGIN<span class="delimiter">)</span> &amp;&amp;
                res.containsHeader<span class="delimiter">(</span>Names.SEC_WEBSOCKET_LOCATION<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">return</span> <span class="int">16</span>;
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        // Not a web socket message
        <span class="keyword">return</span> -<span class="int">1</span>;
    <span class="delimiter">}</span>

    /**
     * Sets the {@code &quot;Content-Length&quot;} header.
     */
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, length: Long)Unit" id="59716">setContentLength</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="68028">message</a>, long <a title="Long" id="68029">length</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        message.setHeader<span class="delimiter">(</span>Names.CONTENT_LENGTH, length<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    /**
     * Returns the value of the {@code &quot;Host&quot;} header.
     */
    public static String <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage)String" id="59717">getHost</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127365">message</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> message.getHeader<span class="delimiter">(</span>Names.HOST<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    /**
     * Returns the value of the {@code &quot;Host&quot;} header.  If there is no such
     * header, the {@code defaultValue} is returned.
     */
    public static String <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, defaultValue: String)String" id="59718">getHost</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127366">message</a>, String <a title="String" id="127367">defaultValue</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> getHeader<span class="delimiter">(</span>message, Names.HOST, defaultValue<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    /**
     * Sets the {@code &quot;Host&quot;} header.
     */
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, value: String)Unit" id="59719">setHost</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127368">message</a>, String <a title="String" id="127369">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        message.setHeader<span class="delimiter">(</span>Names.HOST, value<span class="delimiter">)</span>;
    <span class="delimiter">}</span>


    /**
     * Returns the value of the {@code &quot;Date&quot;} header.
     *
     * @throws ParseException
     *         if there is no such header or the header value is not a formatted date
     */
    public static Date <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage)java.util.Date" id="59720">getDate</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127370">message</a><span class="delimiter">)</span> throws ParseException <span class="delimiter">{</span>
        <span class="keyword">return</span> getDateHeader<span class="delimiter">(</span>message, Names.DATE<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    /**
     * Returns the value of the {@code &quot;Date&quot;} header. If there is no such
     * header or the header is not a formatted date, the {@code defaultValue}
     * is returned.
     */
    public static Date <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, defaultValue: java.util.Date)java.util.Date" id="59721">getDate</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127371">message</a>, Date <a title="java.util.Date" id="127372">defaultValue</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> getDateHeader<span class="delimiter">(</span>message, Names.DATE, defaultValue<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    /**
     * Sets the {@code &quot;Date&quot;} header.
     */
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, value: java.util.Date)Unit" id="59722">setDate</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127373">message</a>, Date <a title="java.util.Date" id="127374">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>value != <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            message.setHeader<span class="delimiter">(</span>Names.DATE, <span class="keyword">new</span> HttpHeaderDateFormat<span class="delimiter">(</span><span class="delimiter">)</span>.format<span class="delimiter">(</span>value<span class="delimiter">)</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            message.setHeader<span class="delimiter">(</span>Names.DATE, <span class="keyword">null</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /**
     * Returns {@code true} if and only if the specified message contains the
     * {@code &quot;Expect: 100-continue&quot;} header.
     */
    public static boolean <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage)Boolean" id="59723">is100ContinueExpected</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127375">message</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        // Expect: 100-continue is for requests only.
        <span class="keyword">if</span> <span class="delimiter">(</span>!<span class="delimiter">(</span>message instanceof HttpRequest<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> <span class="keyword">false</span>;
        <span class="delimiter">}</span>

        // It works only on HTTP/1.1 or later.
        <span class="keyword">if</span> <span class="delimiter">(</span>message.getProtocolVersion<span class="delimiter">(</span><span class="delimiter">)</span>.compareTo<span class="delimiter">(</span>HttpVersion.HTTP_1_1<span class="delimiter">)</span> &lt; <span class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> <span class="keyword">false</span>;
        <span class="delimiter">}</span>

        // In most cases, there will be one or zero 'Expect' header.
        String value = message.getHeader<span class="delimiter">(</span>Names.EXPECT<span class="delimiter">)</span>;
        <span class="keyword">if</span> <span class="delimiter">(</span>value == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> <span class="keyword">false</span>;
        <span class="delimiter">}</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>Values.CONTINUE.equalsIgnoreCase<span class="delimiter">(</span>value<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> <span class="keyword">true</span>;
        <span class="delimiter">}</span>

        // Multiple 'Expect' headers.  Search through them.
        <span class="keyword">for</span> <span class="delimiter">(</span>String v: message.getHeaders<span class="delimiter">(</span>Names.EXPECT<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">if</span> <span class="delimiter">(</span>Values.CONTINUE.equalsIgnoreCase<span class="delimiter">(</span>v<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">return</span> <span class="keyword">true</span>;
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">return</span> <span class="keyword">false</span>;
    <span class="delimiter">}</span>

    /**
     * Sets the {@code &quot;Expect: 100-continue&quot;} header to the specified message.
     * If there is any existing {@code &quot;Expect&quot;} header, they are replaced with
     * the new one.
     */
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage)Unit" id="59724">set100ContinueExpected</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127376">message</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        set100ContinueExpected<span class="delimiter">(</span>message, <span class="keyword">true</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    /**
     * Sets or removes the {@code &quot;Expect: 100-continue&quot;} header to / from the
     * specified message.  If the specified {@code value} is {@code true},
     * the {@code &quot;Expect: 100-continue&quot;} header is set and all other previous
     * {@code &quot;Expect&quot;} headers are removed.  Otherwise, all {@code &quot;Expect&quot;}
     * headers are removed completely.
     */
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, set: Boolean)Unit" id="59725">set100ContinueExpected</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="127377">message</a>, boolean <a title="Boolean" id="127378">set</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>set<span class="delimiter">)</span> <span class="delimiter">{</span>
            message.setHeader<span class="delimiter">(</span>Names.EXPECT, Values.CONTINUE<span class="delimiter">)</span>;
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            message.removeHeader<span class="delimiter">(</span>Names.EXPECT<span class="delimiter">)</span>;
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> static <span class="keyword">final</span> int <a title="Int" id="59726">BUCKET_SIZE</a> = <span class="int">17</span>;

    <span class="keyword">private</span> static int <a title="(name: String)Int" id="59727">hash</a><span class="delimiter">(</span>String <a title="String" id="127379">name</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        int h = <span class="int">0</span>;
        <span class="keyword">for</span> <span class="delimiter">(</span>int i = name.length<span class="delimiter">(</span><span class="delimiter">)</span> - <span class="int">1</span>; i &gt;= <span class="int">0</span>; i --<span class="delimiter">)</span> <span class="delimiter">{</span>
            char c = name.charAt<span class="delimiter">(</span>i<span class="delimiter">)</span>;
            <span class="keyword">if</span> <span class="delimiter">(</span>c &gt;= <span class="char">'A'</span> &amp;&amp; c &lt;= <span class="char">'Z'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                c += <span class="int">32</span>;
            <span class="delimiter">}</span>
            h = <span class="int">31</span> * h + c;
        <span class="delimiter">}</span>

        <span class="keyword">if</span> <span class="delimiter">(</span>h &gt; <span class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> h;
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="keyword">if</span> <span class="delimiter">(</span>h == Integer.MIN_VALUE<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> Integer.MAX_VALUE;
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> -h;
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> static boolean <a title="(name1: String, name2: String)Boolean" id="59728">eq</a><span class="delimiter">(</span>String <a title="String" id="127380">name1</a>, String <a title="String" id="127381">name2</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        int nameLen = name1.length<span class="delimiter">(</span><span class="delimiter">)</span>;
        <span class="keyword">if</span> <span class="delimiter">(</span>nameLen != name2.length<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> <span class="keyword">false</span>;
        <span class="delimiter">}</span>

        <span class="keyword">for</span> <span class="delimiter">(</span>int i = nameLen - <span class="int">1</span>; i &gt;= <span class="int">0</span>; i --<span class="delimiter">)</span> <span class="delimiter">{</span>
            char c1 = name1.charAt<span class="delimiter">(</span>i<span class="delimiter">)</span>;
            char c2 = name2.charAt<span class="delimiter">(</span>i<span class="delimiter">)</span>;
            <span class="keyword">if</span> <span class="delimiter">(</span>c1 != c2<span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">if</span> <span class="delimiter">(</span>c1 &gt;= <span class="char">'A'</span> &amp;&amp; c1 &lt;= <span class="char">'Z'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    c1 += <span class="int">32</span>;
                <span class="delimiter">}</span>
                <span class="keyword">if</span> <span class="delimiter">(</span>c2 &gt;= <span class="char">'A'</span> &amp;&amp; c2 &lt;= <span class="char">'Z'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    c2 += <span class="int">32</span>;
                <span class="delimiter">}</span>
                <span class="keyword">if</span> <span class="delimiter">(</span>c1 != c2<span class="delimiter">)</span> <span class="delimiter">{</span>
                    <span class="keyword">return</span> <span class="keyword">false</span>;
                <span class="delimiter">}</span>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">return</span> <span class="keyword">true</span>;
    <span class="delimiter">}</span>

    <span class="keyword">private</span> static int <a title="(hash: Int)Int" id="59729">index</a><span class="delimiter">(</span>int <a title="Int" id="127382">hash</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> hash % BUCKET_SIZE;
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">final</span> Entry<span class="delimiter">[</span><span class="delimiter">]</span> entries = <span class="keyword">new</span> Entry<span class="delimiter">[</span>BUCKET_SIZE<span class="delimiter">]</span>;
    <span class="keyword">private</span> <span class="keyword">final</span> Entry head = <span class="keyword">new</span> Entry<span class="delimiter">(</span>-<span class="int">1</span>, <span class="keyword">null</span>, <span class="keyword">null</span><span class="delimiter">)</span>;

    HttpHeaders<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        head.before = head.after = head;
    <span class="delimiter">}</span>

    void validateHeaderName<span class="delimiter">(</span>String name<span class="delimiter">)</span> <span class="delimiter">{</span>
        HttpCodecUtil.validateHeaderName<span class="delimiter">(</span>name<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    void addHeader<span class="delimiter">(</span><span class="keyword">final</span> String name, <span class="keyword">final</span> Object value<span class="delimiter">)</span> <span class="delimiter">{</span>
        validateHeaderName<span class="delimiter">(</span>name<span class="delimiter">)</span>;
        String strVal = toString<span class="delimiter">(</span>value<span class="delimiter">)</span>;
        HttpCodecUtil.validateHeaderValue<span class="delimiter">(</span>strVal<span class="delimiter">)</span>;
        int h = hash<span class="delimiter">(</span>name<span class="delimiter">)</span>;
        int i = index<span class="delimiter">(</span>h<span class="delimiter">)</span>;
        addHeader0<span class="delimiter">(</span>h, i, name, strVal<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="keyword">private</span> void addHeader0<span class="delimiter">(</span>int h, int i, <span class="keyword">final</span> String name, <span class="keyword">final</span> String value<span class="delimiter">)</span> <span class="delimiter">{</span>
        // Update the hash table.
        Entry e = entries<span class="delimiter">[</span>i<span class="delimiter">]</span>;
        Entry newEntry;
        entries<span class="delimiter">[</span>i<span class="delimiter">]</span> = newEntry = <span class="keyword">new</span> Entry<span class="delimiter">(</span>h, name, value<span class="delimiter">)</span>;
        newEntry.next = e;

        // Update the linked list.
        newEntry.addBefore<span class="delimiter">(</span>head<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    void removeHeader<span class="delimiter">(</span><span class="keyword">final</span> String name<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>name == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException<span class="delimiter">(</span><span class="string">&quot;name&quot;</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span>
        int h = hash<span class="delimiter">(</span>name<span class="delimiter">)</span>;
        int i = index<span class="delimiter">(</span>h<span class="delimiter">)</span>;
        removeHeader0<span class="delimiter">(</span>h, i, name<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="keyword">private</span> void removeHeader0<span class="delimiter">(</span>int h, int i, String name<span class="delimiter">)</span> <span class="delimiter">{</span>
        Entry e = entries<span class="delimiter">[</span>i<span class="delimiter">]</span>;
        <span class="keyword">if</span> <span class="delimiter">(</span>e == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span>;
        <span class="delimiter">}</span>

        <span class="keyword">for</span> <span class="delimiter">(</span>;;<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">if</span> <span class="delimiter">(</span>e.hash == h &amp;&amp; eq<span class="delimiter">(</span>name, e.key<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                e.remove<span class="delimiter">(</span><span class="delimiter">)</span>;
                Entry next = e.next;
                <span class="keyword">if</span> <span class="delimiter">(</span>next != <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    entries<span class="delimiter">[</span>i<span class="delimiter">]</span> = next;
                    e = next;
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                    entries<span class="delimiter">[</span>i<span class="delimiter">]</span> = <span class="keyword">null</span>;
                    <span class="keyword">return</span>;
                <span class="delimiter">}</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                break;
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">for</span> <span class="delimiter">(</span>;;<span class="delimiter">)</span> <span class="delimiter">{</span>
            Entry next = e.next;
            <span class="keyword">if</span> <span class="delimiter">(</span>next == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                break;
            <span class="delimiter">}</span>
            <span class="keyword">if</span> <span class="delimiter">(</span>next.hash == h &amp;&amp; eq<span class="delimiter">(</span>name, next.key<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                e.next = next.next;
                next.remove<span class="delimiter">(</span><span class="delimiter">)</span>;
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                e = next;
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    void setHeader<span class="delimiter">(</span><span class="keyword">final</span> String name, <span class="keyword">final</span> Object value<span class="delimiter">)</span> <span class="delimiter">{</span>
        validateHeaderName<span class="delimiter">(</span>name<span class="delimiter">)</span>;
        String strVal = toString<span class="delimiter">(</span>value<span class="delimiter">)</span>;
        HttpCodecUtil.validateHeaderValue<span class="delimiter">(</span>strVal<span class="delimiter">)</span>;
        int h = hash<span class="delimiter">(</span>name<span class="delimiter">)</span>;
        int i = index<span class="delimiter">(</span>h<span class="delimiter">)</span>;
        removeHeader0<span class="delimiter">(</span>h, i, name<span class="delimiter">)</span>;
        addHeader0<span class="delimiter">(</span>h, i, name, strVal<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    void setHeader<span class="delimiter">(</span><span class="keyword">final</span> String name, <span class="keyword">final</span> Iterable&lt;?&gt; values<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>values == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException<span class="delimiter">(</span><span class="string">&quot;values&quot;</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span>

        validateHeaderName<span class="delimiter">(</span>name<span class="delimiter">)</span>;

        int h = hash<span class="delimiter">(</span>name<span class="delimiter">)</span>;
        int i = index<span class="delimiter">(</span>h<span class="delimiter">)</span>;

        removeHeader0<span class="delimiter">(</span>h, i, name<span class="delimiter">)</span>;
        <span class="keyword">for</span> <span class="delimiter">(</span>Object v: values<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">if</span> <span class="delimiter">(</span>v == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                break;
            <span class="delimiter">}</span>
            String strVal = toString<span class="delimiter">(</span>v<span class="delimiter">)</span>;
            HttpCodecUtil.validateHeaderValue<span class="delimiter">(</span>strVal<span class="delimiter">)</span>;
            addHeader0<span class="delimiter">(</span>h, i, name, strVal<span class="delimiter">)</span>;
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    void clearHeaders<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span>int i = <span class="int">0</span>; i &lt; entries.length; i ++<span class="delimiter">)</span> <span class="delimiter">{</span>
            entries<span class="delimiter">[</span>i<span class="delimiter">]</span> = <span class="keyword">null</span>;
        <span class="delimiter">}</span>
        head.before = head.after = head;
    <span class="delimiter">}</span>

    String getHeader<span class="delimiter">(</span><span class="keyword">final</span> String name<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>name == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException<span class="delimiter">(</span><span class="string">&quot;name&quot;</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span>

        int h = hash<span class="delimiter">(</span>name<span class="delimiter">)</span>;
        int i = index<span class="delimiter">(</span>h<span class="delimiter">)</span>;
        Entry e = entries<span class="delimiter">[</span>i<span class="delimiter">]</span>;
        <span class="keyword">while</span> <span class="delimiter">(</span>e != <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">if</span> <span class="delimiter">(</span>e.hash == h &amp;&amp; eq<span class="delimiter">(</span>name, e.key<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">return</span> e.value;
            <span class="delimiter">}</span>

            e = e.next;
        <span class="delimiter">}</span>
        <span class="keyword">return</span> <span class="keyword">null</span>;
    <span class="delimiter">}</span>

    List&lt;String&gt; getHeaders<span class="delimiter">(</span><span class="keyword">final</span> String name<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>name == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException<span class="delimiter">(</span><span class="string">&quot;name&quot;</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span>

        LinkedList&lt;String&gt; values = <span class="keyword">new</span> LinkedList&lt;String&gt;<span class="delimiter">(</span><span class="delimiter">)</span>;

        int h = hash<span class="delimiter">(</span>name<span class="delimiter">)</span>;
        int i = index<span class="delimiter">(</span>h<span class="delimiter">)</span>;
        Entry e = entries<span class="delimiter">[</span>i<span class="delimiter">]</span>;
        <span class="keyword">while</span> <span class="delimiter">(</span>e != <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">if</span> <span class="delimiter">(</span>e.hash == h &amp;&amp; eq<span class="delimiter">(</span>name, e.key<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                values.addFirst<span class="delimiter">(</span>e.value<span class="delimiter">)</span>;
            <span class="delimiter">}</span>
            e = e.next;
        <span class="delimiter">}</span>
        <span class="keyword">return</span> values;
    <span class="delimiter">}</span>

    List&lt;Map.Entry&lt;String, String&gt;&gt; getHeaders<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        List&lt;Map.Entry&lt;String, String&gt;&gt; all =
            <span class="keyword">new</span> LinkedList&lt;Map.Entry&lt;String, String&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span>;

        Entry e = head.after;
        <span class="keyword">while</span> <span class="delimiter">(</span>e != head<span class="delimiter">)</span> <span class="delimiter">{</span>
            all.add<span class="delimiter">(</span>e<span class="delimiter">)</span>;
            e = e.after;
        <span class="delimiter">}</span>
        <span class="keyword">return</span> all;
    <span class="delimiter">}</span>

    boolean containsHeader<span class="delimiter">(</span>String name<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> getHeader<span class="delimiter">(</span>name<span class="delimiter">)</span> != <span class="keyword">null</span>;
    <span class="delimiter">}</span>

    Set&lt;String&gt; getHeaderNames<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        Set&lt;String&gt; names =
            <span class="keyword">new</span> TreeSet&lt;String&gt;<span class="delimiter">(</span>CaseIgnoringComparator.INSTANCE<span class="delimiter">)</span>;

        Entry e = head.after;
        <span class="keyword">while</span> <span class="delimiter">(</span>e != head<span class="delimiter">)</span> <span class="delimiter">{</span>
            names.add<span class="delimiter">(</span>e.key<span class="delimiter">)</span>;
            e = e.after;
        <span class="delimiter">}</span>
        <span class="keyword">return</span> names;
    <span class="delimiter">}</span>

    <span class="keyword">private</span> static String <a title="(value: Any)String" id="59730">toString</a><span class="delimiter">(</span>Object <a title="Any" id="127383">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>value == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> <span class="keyword">null</span>;
        <span class="delimiter">}</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>value instanceof String<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> <span class="delimiter">(</span>String<span class="delimiter">)</span> value;
        <span class="delimiter">}</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>value instanceof Number<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> value.toString<span class="delimiter">(</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>value instanceof Date<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> <span class="keyword">new</span> HttpHeaderDateFormat<span class="delimiter">(</span><span class="delimiter">)</span>.format<span class="delimiter">(</span><span class="delimiter">(</span>Date<span class="delimiter">)</span> value<span class="delimiter">)</span>;
        <span class="delimiter">}</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>value instanceof Calendar<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> <span class="keyword">new</span> HttpHeaderDateFormat<span class="delimiter">(</span><span class="delimiter">)</span>.format<span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">(</span>Calendar<span class="delimiter">)</span> value<span class="delimiter">)</span>.getTime<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span>
        <span class="keyword">return</span> value.toString<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="keyword">private</span> static <span class="keyword">final</span> <span class="keyword">class</span> <a title="org.jboss.netty.handler.codec.http.HttpHeaders.Entry.type" id="59733">Entry</a> implements Map.Entry&lt;String, String&gt; <span class="delimiter">{</span>
        <span class="keyword">final</span> int hash;
        <span class="keyword">final</span> String key;
        String value;
        Entry next;
        Entry before, after;

        Entry<span class="delimiter">(</span>int hash, String key, String value<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">this</span>.hash = hash;
            <span class="keyword">this</span>.key = key;
            <span class="keyword">this</span>.value = value;
        <span class="delimiter">}</span>

        void remove<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            before.after = after;
            after.before = before;
        <span class="delimiter">}</span>

        void addBefore<span class="delimiter">(</span>Entry e<span class="delimiter">)</span> <span class="delimiter">{</span>
            after  = e;
            before = e.before;
            before.after = <span class="keyword">this</span>;
            after.before = <span class="keyword">this</span>;
        <span class="delimiter">}</span>

        @Override
        public String getKey<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> key;
        <span class="delimiter">}</span>

        @Override
        public String getValue<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> value;
        <span class="delimiter">}</span>

        @Override
        public String setValue<span class="delimiter">(</span>String value<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">if</span> <span class="delimiter">(</span>value == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException<span class="delimiter">(</span><span class="string">&quot;value&quot;</span><span class="delimiter">)</span>;
            <span class="delimiter">}</span>
            HttpCodecUtil.validateHeaderValue<span class="delimiter">(</span>value<span class="delimiter">)</span>;
            String oldValue = <span class="keyword">this</span>.value;
            <span class="keyword">this</span>.value = value;
            <span class="keyword">return</span> oldValue;
        <span class="delimiter">}</span>

        @Override
        public String toString<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> key + <span class="string">&quot;=&quot;</span> + value;
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>