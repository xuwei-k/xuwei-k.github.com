<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>mac/unfiltered/mac/mac.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> unfiltered.mac

<span class="keyword">import</span> unfiltered.request._
<span class="keyword">import</span> unfiltered.response._

<span class="keyword">object</span> <a title="unfiltered.mac.Mac.type" id="9679">Mac</a> <a href="#9680" title="unfiltered.mac.Mac.type" class="keyword">extends</a> <a href="#9750" title="unfiltered.mac.Signing">Signing</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; unfiltered.response.ResponseFunction[Any]" id="54818">challenge</a>: <a href="../../../unfiltered/unfiltered/unfiltered/response/functions.scala.html#9439" title="unfiltered.response.ResponseFunction[Any]">ResponseFunction</a><span class="delimiter">[</span>Any<span class="delimiter">]</span> = <a href="#54819" title="(err: Option[String])unfiltered.response.ResponseFunction[Any]">challenge</a><span class="delimiter">(</span><span title="None.type">None</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(err: Option[String])unfiltered.response.ResponseFunction[Any]" id="54819">challenge</a><span class="delimiter">(</span><a title="Option[String]" id="54827">err</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="../../../unfiltered/unfiltered/unfiltered/response/statuses.scala.html#9590" title="unfiltered.response.Unauthorized.type">Unauthorized</a> <a href="../../../unfiltered/unfiltered/unfiltered/response/functions.scala.html#22177" title="(that: unfiltered.response.ResponseFunction[Any])unfiltered.response.ResponseFunction[Any]">~&gt;</a> <a href="../../../unfiltered/unfiltered/unfiltered/response/headers.scala.html#54841" title="(value: String*)unfiltered.response.ResponseHeader">WWWAuthenticate</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s%s&quot;</span> <span title="(args: Any*)String">format</span><span class="delimiter">(</span><span title="String(&quot;MAC&quot;)" class="string">&quot;MAC&quot;</span>, <a href="#54827" title="Option[String]">err</a> <span class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> Some<a href="#121821" title="Any" class="delimiter">(</a><a href="#121822" title="String" id="54871">e</a><span class="delimiter">)</span> =&gt; <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot; error=&quot;%s&quot;&quot;&quot;&quot;</span> <a href="#121824" title="(x: Any)Any">format</a> <a href="#54871" title="String">e</a>
    <span class="keyword">case</span> _ =&gt; <a href="#121824" title="(x: Any)Any" class="string">&quot;&quot;</a>
  <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

/** MAC Authorization extractor
 *  See also http://tools.ietf.org/html/draft-ietf-oauth-v2-http-mac-00 */
<span class="keyword">object</span> <a title="unfiltered.mac.MacAuthorization.type" id="9724">MacAuthorization</a> <a href="#9725" title="unfiltered.mac.MacAuthorization.type" class="delimiter">{</a>
  <span class="keyword">val</span> <a title="String" id="54886">Id</a> = <span title="String(&quot;id&quot;)" class="string">&quot;id&quot;</span>
  <span class="keyword">val</span> <a title="String" id="54888">Nonce</a> = <span title="String(&quot;nonce&quot;)" class="string">&quot;nonce&quot;</span>
  <span class="keyword">val</span> <a title="String" id="54890">BodyHash</a> = <span title="String(&quot;bodyhash&quot;)" class="string">&quot;bodyhash&quot;</span>
  <span class="keyword">val</span> <a title="String" id="54892">Ext</a> = <span title="String(&quot;ext&quot;)" class="string">&quot;ext&quot;</span>
  <span class="keyword">val</span> <a title="String" id="54894">MacKey</a> = <span title="String(&quot;mac&quot;)" class="string">&quot;mac&quot;</span>

  <span class="keyword">object</span> <a title="unfiltered.mac.MacAuthorization.MacHeader.type" id="54896">MacHeader</a> <a href="#54897" title="unfiltered.mac.MacAuthorization.MacHeader.type" class="delimiter">{</a>
    <span class="keyword">import</span> <a href="../../../unfiltered/unfiltered/unfiltered/request/params.scala.html#7910" title="unfiltered.request.QParams.type">QParams</a>._
    <span class="keyword">val</span> <a title="scala.util.matching.Regex" id="54904">NonceFormat</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;^(\d+)[:](\S+)$&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>
    <span class="keyword">val</span> <a title="scala.util.matching.Regex" id="54906">KeyVal</a> = <span title="String(&quot;(\\w+)=\&quot;([\\w|=|:|\\/|.|%|-|+]+)\&quot; &quot;)" class="string">&quot;&quot;&quot;(\w+)=&quot;([\w|=|:|\/|.|%|-|+]+)&quot; &quot;&quot;&quot;</span>.<span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">trim</span>.<span title="=&gt; scala.util.matching.Regex">r</span>
    <span class="keyword">val</span> <a title="List[String]" id="54908">keys</a> = <a href="#54886" title="=&gt; String">Id</a> <a href="#55232" title="(x: String)List[String]">::</a> <a href="#54888" title="=&gt; String">Nonce</a> <a href="#55233" title="(x: String)List[String]">::</a> <a href="#54890" title="=&gt; String">BodyHash</a> <a href="#55234" title="(x: String)List[String]">::</a> <a href="#54892" title="=&gt; String">Ext</a> <a href="#55235" title="(x: String)List[String]">::</a> <a href="#54894" title="=&gt; String">MacKey</a> <a href="#55236" title="(x: String)List[String]">::</a> <span title="scala.collection.immutable.Nil.type">Nil</span>
    <span class="keyword">val</span> <a title="String" id="54910">headerSpace</a> = <span class="string">&quot;MAC&quot;</span> <span title="String(&quot;MAC &quot;)">+</span> <span class="string">&quot; &quot;</span>

    <span class="keyword">def</span> <a title="(hvals: List[String])Option[(String, String, Option[String], Option[String], String)]" id="54912">unapply</a><span class="delimiter">(</span><a title="List[String]" id="55256">hvals</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#55256" title="List[String]">hvals</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#121860" title="String" id="55321">x</a> <a href="#121859" title="Option[(String, String, Option[String], Option[String], String)]">::</a> xs <span class="keyword">if</span> <a href="#55321" title="String">x</a> <span title="(x$1: String)Boolean">startsWith</span> <a href="#54910" title="=&gt; String">headerSpace</a> =&gt;
        <span class="keyword">val</span> <a title="scala.collection.immutable.Map[String,Seq[String]]" id="55325">map</a> = <span title="(elems: (String, Seq[String])*)scala.collection.immutable.Map[String,Seq[String]]">Map</span><span class="delimiter">(</span><a href="#55256" title="List[String]">hvals</a> <span title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">map</span> <span class="delimiter">{</span> <a href="#55346" title="String">_</a>.<span title="(x$1: CharSequence, x$2: CharSequence)String">replace</span><span class="delimiter">(</span><a href="#54910" title="=&gt; String">headerSpace</a>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span class="delimiter">}</span> <span title="(f: String =&gt; scala.collection.GenTraversableOnce[(String, Seq[String])])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],(String, Seq[String]),List[(String, Seq[String])]])List[(String, Seq[String])]">flatMap</span> <a href="#55452" title="String" class="delimiter">{</a>
          <span class="keyword">case</span> <a href="#54906" title="(target: Any)Option[List[String]]">KeyVal</a><span class="delimiter">(</span><a title="String" id="55454">k</a>, <a title="String" id="55455">v</a><span class="delimiter">)</span> <span class="keyword">if</span><span class="delimiter">(</span><a href="#54908" title="=&gt; List[String]">keys</a>.<span title="(elem: Any)Boolean">contains</span><span class="delimiter">(</span><a href="#55454" title="String">k</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="(elems: (String, Seq[String])*)Seq[(String, Seq[String])]">Seq</span><a href="#121834" title="(x: Seq[(String, Seq[String])])Seq[(String, Seq[String])]" class="delimiter">(</a><span class="delimiter">(</span><a href="#55454" title="(x: String)ArrowAssoc[String]">k</a> <span title="(y: Seq[String])(String, Seq[String])">-&gt;</span> <span title="(elems: String*)Seq[String]">Seq</span><span class="delimiter">(</span><a href="#55455" title="String">v</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> e =&gt;
            <a href="#121834" title="(x: Seq[(String, Seq[String])])Seq[(String, Seq[String])]">Nil</a>
        <span class="delimiter">}</span>: _*<span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="unfiltered.request.QParams.QueryM[String,unfiltered.request.QParams.QueryResult[String,Some[(String, String, Option[String], Option[String], String)]]]" id="55326">expect</a> = <span class="keyword">for</span> <span class="delimiter">{</span>
          <a title="Option[String]" id="55591">id</a> &lt;- <a href="../../../unfiltered/unfiltered/unfiltered/request/params.scala.html#54951" title="(key: String)unfiltered.request.QParams.QueryM[String,Option[String]]">lookup</a><span class="delimiter">(</span><a href="#54886" title="=&gt; String">Id</a><span class="delimiter">)</span> <a href="../../../unfiltered/unfiltered/unfiltered/request/params.scala.html#55531" title="(f: Option[String] =&gt; unfiltered.request.QParams.Report[String,String])unfiltered.request.QParams.QueryM[String,Option[String]]">is</a> <a href="../../../unfiltered/unfiltered/unfiltered/request/params.scala.html#55003" title="(e: String)Option[String] =&gt; unfiltered.request.QParams.Report[String,String]">nonempty</a><span class="delimiter">(</span><span title="String(&quot;id is empty&quot;)" class="string">&quot;id is empty&quot;</span><span class="delimiter">)</span> <a href="../../../unfiltered/unfiltered/unfiltered/request/params.scala.html#55522" title="(f: Option[String] =&gt; unfiltered.request.QParams.QueryM[String,unfiltered.request.QParams.QueryResult[String,Some[(String, String, Option[String], Option[String], String)]]])unfiltered.request.QParams.QueryM[String,unfiltered.request.QParams.QueryResult[String,Some[(String, String, Option[String], Option[String], String)]]]">is</a> <a href="../../../unfiltered/unfiltered/unfiltered/request/params.scala.html#54959" title="(err: String)Option[String] =&gt; unfiltered.request.QParams.Report[String,String]">required</a><span class="delimiter">(</span><span title="String(&quot;id is required&quot;)" class="string">&quot;id is required&quot;</span><span class="delimiter">)</span>
          <a title="Option[String]" id="55629">nonce</a> &lt;- <a href="../../../unfiltered/unfiltered/unfiltered/request/params.scala.html#54951" title="(key: String)unfiltered.request.QParams.QueryM[String,Option[String]]">lookup</a><span class="delimiter">(</span><a href="#54888" title="=&gt; String">Nonce</a><span class="delimiter">)</span> <a href="../../../unfiltered/unfiltered/unfiltered/request/params.scala.html#55531" title="(f: Option[String] =&gt; unfiltered.request.QParams.Report[String,String])unfiltered.request.QParams.QueryM[String,Option[String]]">is</a> <a href="../../../unfiltered/unfiltered/unfiltered/request/params.scala.html#55003" title="(e: String)Option[String] =&gt; unfiltered.request.QParams.Report[String,String]">nonempty</a><span class="delimiter">(</span><span title="String(&quot;nonce is empty&quot;)" class="string">&quot;nonce is empty&quot;</span><span class="delimiter">)</span> <a href="../../../unfiltered/unfiltered/unfiltered/request/params.scala.html#55531" title="(f: Option[String] =&gt; unfiltered.request.QParams.Report[String,String])unfiltered.request.QParams.QueryM[String,Option[String]]">is</a> <a href="../../../unfiltered/unfiltered/unfiltered/request/params.scala.html#54959" title="(err: String)Option[String] =&gt; unfiltered.request.QParams.Report[String,String]">required</a><span class="delimiter">(</span><span title="String(&quot;nonce is required&quot;)" class="string">&quot;nonce is required&quot;</span><span class="delimiter">)</span> <a href="../../../unfiltered/unfiltered/unfiltered/request/params.scala.html#55522" title="(f: Option[String] =&gt; unfiltered.request.QParams.QueryM[String,unfiltered.request.QParams.QueryResult[String,Some[(String, String, Option[String], Option[String], String)]]])unfiltered.request.QParams.QueryM[String,unfiltered.request.QParams.QueryResult[String,Some[(String, String, Option[String], Option[String], String)]]]">is</a>
            <a href="../../../unfiltered/unfiltered/unfiltered/request/params.scala.html#54976" title="(p: String =&gt; Boolean, err: String =&gt; String)Option[String] =&gt; unfiltered.request.QParams.Report[String,String]">pred</a><span class="delimiter">(</span><span class="delimiter">{</span><a href="#54904" title="=&gt; scala.util.matching.Regex">NonceFormat</a>.<span title="(source: CharSequence)Option[String]">findFirstIn</span><span class="delimiter">(</span><a href="#55620" title="String">_</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">}</span>, <a href="#55622" title="String">_</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; is an invalid format&quot;)" class="string">&quot; is an invalid format&quot;</span><span class="delimiter">)</span>
          <a title="Option[Option[String]]" id="55646">bodyhash</a> &lt;- <a href="../../../unfiltered/unfiltered/unfiltered/request/params.scala.html#54951" title="(key: String)unfiltered.request.QParams.QueryM[String,Option[String]]">lookup</a><span class="delimiter">(</span><a href="#54890" title="=&gt; String">BodyHash</a><span class="delimiter">)</span> <a href="../../../unfiltered/unfiltered/unfiltered/request/params.scala.html#55522" title="(f: Option[Option[String]] =&gt; unfiltered.request.QParams.QueryM[String,unfiltered.request.QParams.QueryResult[String,Some[(String, String, Option[String], Option[String], String)]]])unfiltered.request.QParams.QueryM[String,unfiltered.request.QParams.QueryResult[String,Some[(String, String, Option[String], Option[String], String)]]]">is</a> <a href="../../../unfiltered/unfiltered/unfiltered/request/params.scala.html#54964" title="[E, A](xs: Option[A])unfiltered.request.QParams.Report[E,Option[A]]">optional</a><a href="#55638" title="(xs: Option[String])unfiltered.request.QParams.Report[String,Option[String]]" class="delimiter">[</a><span title="String">String</span>, <span title="String">String</span><span class="delimiter">]</span>
          <a title="Option[Option[String]]" id="55660">ext</a> &lt;- <a href="../../../unfiltered/unfiltered/unfiltered/request/params.scala.html#54951" title="(key: String)unfiltered.request.QParams.QueryM[String,Option[String]]">lookup</a><span class="delimiter">(</span><a href="#54892" title="=&gt; String">Ext</a><span class="delimiter">)</span> <a href="../../../unfiltered/unfiltered/unfiltered/request/params.scala.html#55522" title="(f: Option[Option[String]] =&gt; unfiltered.request.QParams.QueryM[String,unfiltered.request.QParams.QueryResult[String,Some[(String, String, Option[String], Option[String], String)]]])unfiltered.request.QParams.QueryM[String,unfiltered.request.QParams.QueryResult[String,Some[(String, String, Option[String], Option[String], String)]]]">is</a> <a href="../../../unfiltered/unfiltered/unfiltered/request/params.scala.html#54964" title="[E, A](xs: Option[A])unfiltered.request.QParams.Report[E,Option[A]]">optional</a><a href="#55653" title="(xs: Option[String])unfiltered.request.QParams.Report[String,Option[String]]" class="delimiter">[</a><span title="String">String</span>, <span title="String">String</span><span class="delimiter">]</span>
          <a title="Option[String]" id="55685">mac</a> &lt;- <a href="../../../unfiltered/unfiltered/unfiltered/request/params.scala.html#54951" title="(key: String)unfiltered.request.QParams.QueryM[String,Option[String]]">lookup</a><span class="delimiter">(</span><a href="#54894" title="=&gt; String">MacKey</a><span class="delimiter">)</span> <a href="../../../unfiltered/unfiltered/unfiltered/request/params.scala.html#55531" title="(f: Option[String] =&gt; unfiltered.request.QParams.Report[String,String])unfiltered.request.QParams.QueryM[String,Option[String]]">is</a> <a href="../../../unfiltered/unfiltered/unfiltered/request/params.scala.html#55003" title="(e: String)Option[String] =&gt; unfiltered.request.QParams.Report[String,String]">nonempty</a><span class="delimiter">(</span><span title="String(&quot;mac is nempty&quot;)" class="string">&quot;mac is nempty&quot;</span><span class="delimiter">)</span> <a href="../../../unfiltered/unfiltered/unfiltered/request/params.scala.html#55528" title="(f: Option[String] =&gt; Some[(String, String, Option[String], Option[String], String)])unfiltered.request.QParams.QueryM[String,unfiltered.request.QParams.QueryResult[String,Some[(String, String, Option[String], Option[String], String)]]]">is</a> <a href="../../../unfiltered/unfiltered/unfiltered/request/params.scala.html#54959" title="(err: String)Option[String] =&gt; unfiltered.request.QParams.Report[String,String]">required</a><span class="delimiter">(</span><span title="String(&quot;mac is required&quot;)" class="string">&quot;mac is required&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
          <span title="(x: (String, String, Option[String], Option[String], String))Some[(String, String, Option[String], Option[String], String)]">Some</span><span title="(_1: String, _2: String, _3: Option[String], _4: Option[String], _5: String)(String, String, Option[String], Option[String], String)" class="delimiter">(</span><a href="#55591" title="Option[String]">id</a>.<span title="=&gt; String">get</span>, <a href="#55629" title="Option[String]">nonce</a>.<span title="=&gt; String">get</span>, <a href="#55646" title="Option[Option[String]]">bodyhash</a>.<span title="=&gt; Option[String]">get</span>, <a href="#55660" title="Option[Option[String]]">ext</a>.<span title="=&gt; Option[String]">get</span>, <a href="#55685" title="Option[String]">mac</a>.<span title="=&gt; String">get</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="../../../unfiltered/unfiltered/unfiltered/request/params.scala.html#55534" title="(params: unfiltered.request.Params.Map)unfiltered.request.QParams.QueryResult[String,Some[(String, String, Option[String], Option[String], String)]]">expect</a><a href="../../../unfiltered/unfiltered/unfiltered/request/params.scala.html#54941" title="(r: unfiltered.request.QParams.QueryResult[String,Some[(String, String, Option[String], Option[String], String)]])unfiltered.request.QParams.QueryResultX[String,Some[(String, String, Option[String], Option[String], String)]]" class="delimiter">(</a><a href="#55325" title="scala.collection.immutable.Map[String,Seq[String]]">map</a><span class="delimiter">)</span> <a href="../../../unfiltered/unfiltered/unfiltered/request/params.scala.html#55858" title="(handler: unfiltered.request.QParams.Log[String] =&gt; Option[(String, String, Option[String], Option[String], String)])Option[(String, String, Option[String], Option[String], String)]">orFail</a> <span class="delimiter">{</span> <a title="unfiltered.request.QParams.Log[String]" id="55959">f</a> =&gt;
          <span title="None.type">None</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> _ =&gt; <a href="#121862" title="(x: Option[(String, String, Option[String], Option[String], String)])Option[(String, String, Option[String], Option[String], String)]">None</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** @return (id, nonce, Option[bodyhash], Option[ext], mac)*/
  <span class="keyword">def</span> <a title="[T](r: unfiltered.request.HttpRequest[T])Option[(String, String, Option[String], Option[String], String)]" id="54898">unapply</a><span class="delimiter">[</span><a title="" id="54900">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="unfiltered.request.HttpRequest[T]" id="55971">r</a>: <a href="../../../unfiltered/unfiltered/unfiltered/request/HttpRequest.scala.html#7615" title="unfiltered.request.HttpRequest[T]">HttpRequest</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#55971" title="unfiltered.request.HttpRequest[T]">r</a> <span class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../../../unfiltered/unfiltered/unfiltered/request/headers.scala.html#17608" title="(req: unfiltered.request.HttpRequest[T])Option[String]">Authorization</a><span class="delimiter">(</span><a title="String" id="55979">value</a><span class="delimiter">)</span> =&gt;
      <a href="#55979" title="String">value</a>.<span title="(x$1: String)Array[String]">split</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span>.<a href="#121884" title="(x: Option[(String, String, Option[String], Option[String], String)])Option[(String, String, Option[String], Option[String], String)]">toList</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="#54912" title="(hvals: List[String])Option[(String, String, Option[String], Option[String], String)]">MacHeader</a><span class="delimiter">(</span><a title="String" id="56054">id</a>, <a title="String" id="56055">nonce</a>, <a title="Option[String]" id="56056">bodyhash</a>, <a title="Option[String]" id="56057">ext</a>, <a title="String" id="56058">mac</a><span class="delimiter">)</span> =&gt;
          <span title="(x: (String, String, Option[String], Option[String], String))Some[(String, String, Option[String], Option[String], String)]">Some</span><a href="#121870" title="(x: Option[(String, String, Option[String], Option[String], String)])Option[(String, String, Option[String], Option[String], String)]" class="delimiter">(</a><a href="#56054" title="String">id</a>, <a href="#56055" title="String">nonce</a>, <a href="#56056" title="Option[String]">bodyhash</a>, <a href="#56057" title="Option[String]">ext</a>, <a href="#56058" title="String">mac</a><span class="delimiter">)</span>
        <span class="keyword">case</span> p =&gt; <a href="#121870" title="(x: Option[(String, String, Option[String], Option[String], String)])Option[(String, String, Option[String], Option[String], String)]">None</a>
      <span class="delimiter">}</span>
    <span class="keyword">case</span> _ =&gt; <a href="#121884" title="(x: Option[(String, String, Option[String], Option[String], String)])Option[(String, String, Option[String], Option[String], String)]">None</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

/** MAC request signing as defined by
 *  http://tools.ietf.org/html/draft-hammer-oauth-v2-mac-token-05
 *  The MAC protocol defines
 *  1. MAC key identifier (access token value)
 *  2. MAC key (access token secret)
 *  3. MAC algorithm - one of (&quot;hmac-sha-1&quot; or &quot;hmac-sha-256&quot;)
 *  4. Issue time - time when credentials were issued to calculate the age
 */
<span title="AnyRef" class="keyword">trait</span> <a title="trait Signing extends AnyRef" id="9750">Signing</a> <span title="Unit" class="delimiter">{</span>
  <span class="keyword">import</span> org.apache.commons.codec.binary.<span title="org.apache.commons.codec.binary.Base64.type">Base64</span>.encodeBase64

  <span class="keyword">val</span> <a title="String" id="54795">HmacSha1</a> = <span title="String(&quot;HmacSHA1&quot;)" class="string">&quot;HmacSHA1&quot;</span>
  <span class="keyword">val</span> <a title="String" id="54797">HmacSha256</a> = <span title="String(&quot;HmacSHA256&quot;)" class="string">&quot;HmacSHA256&quot;</span>
  <span class="keyword">val</span> <a title="String" id="54799">charset</a> = <span title="String(&quot;UTF8&quot;)" class="string">&quot;UTF8&quot;</span>
  <span class="keyword">val</span> <a title="scala.collection.immutable.Map[String,String]" id="54801">MacAlgorithms</a> = <span title="(elems: (String, String)*)scala.collection.immutable.Map[String,String]">Map</span><span class="delimiter">(</span><span title="(x: String)ArrowAssoc[String]" class="string">&quot;hmac-sha-1&quot;</span> <span title="(y: String)(String, String)">-&gt;</span> <a href="#54795" title="=&gt; String">HmacSha1</a>, <span title="(x: String)ArrowAssoc[String]" class="string">&quot;hmac-sha-256&quot;</span> <span title="(y: String)(String, String)">-&gt;</span> <a href="#54797" title="=&gt; String">HmacSha256</a><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.immutable.Map[String,String]" id="54803">JAlgorithms</a> = <span title="(elems: (String, String)*)scala.collection.immutable.Map[String,String]">Map</span><span class="delimiter">(</span><a href="#54795" title="(x: String)ArrowAssoc[String]">HmacSha1</a> <span title="(y: String)(String, String)">-&gt;</span> <span title="String(&quot;SHA-1&quot;)" class="string">&quot;SHA-1&quot;</span>, <a href="#54797" title="(x: String)ArrowAssoc[String]">HmacSha256</a> <span title="(y: String)(String, String)">-&gt;</span> <span title="String(&quot;SHA-256&quot;)" class="string">&quot;SHA-256&quot;</span><span class="delimiter">)</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit unfiltered.mac.Signing.s2b : (s: String)Array[Byte]" id="54805">s2b</a><span class="delimiter">(</span><a title="String" id="56321">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#56321" title="String">s</a>.<span title="(x$1: String)Array[Byte]">getBytes</span><span class="delimiter">(</span><a href="#54799" title="=&gt; String">charset</a><span class="delimiter">)</span>

  /** @return Either[String error, String hashed value] */
  <span class="keyword">def</span> <a title="(data: Array[Byte])(algo: String)Product with Serializable with scala.util.Either[String,Array[Byte]]" id="54806">hash</a><span class="delimiter">(</span><a title="Array[Byte]" id="56326">data</a>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="String" id="56327">algo</a>: <span title="String">String</span><span class="delimiter">)</span> =
    <a href="#54803" title="=&gt; scala.collection.immutable.Map[String,String]">JAlgorithms</a>.<span title="(key: String)Option[String]">get</span><span title="scala extends Product with Serializable with scala.util.Either[String,Array[Byte]]" class="delimiter">(</span><a href="#56327" title="String">algo</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Some<a href="#121890" title="scala extends Product with Serializable with scala.util.Either[String,Array[Byte]]" class="delimiter">(</a><a href="#121891" title="String" id="56331">h</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="java.security.MessageDigest" id="56332">msg</a> = java.security.<span title="java.security.MessageDigest.type">MessageDigest</span>.<span title="(x$1: String)java.security.MessageDigest">getInstance</span><span class="delimiter">(</span><a href="#56331" title="String">h</a><span class="delimiter">)</span>
        <a href="#56332" title="java.security.MessageDigest">msg</a>.<span title="(x$1: Array[Byte])Unit">update</span><span class="delimiter">(</span><a href="#56326" title="Array[Byte]">data</a><span class="delimiter">)</span>
        <span title="(b: Array[Byte])scala.util.Right[Nothing,Array[Byte]]">Right</span><span class="delimiter">(</span><a href="#56332" title="java.security.MessageDigest">msg</a>.<span title="()Array[Byte]">digest</span><span class="delimiter">)</span>
      <span class="keyword">case</span> unsup =&gt; <span title="(a: String)scala.util.Left[String,Nothing]">Left</span><a href="#121893" title="(x: Product with Serializable with scala.util.Either[String,Array[Byte]])Product with Serializable with scala.util.Either[String,Array[Byte]]" class="delimiter">(</a><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;unsupported algorithm %s&quot;</span> <span title="(args: Any*)String">format</span> <a href="#121890" title="Option[String]">unsup</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  /** @return Either[String error, String hashed value] */
  <span class="keyword">def</span> <a title="(alg: String, key: String)(body: String)Product with Serializable with scala.util.Either[String,String]" id="54807">macHash</a><span class="delimiter">(</span><a title="String" id="56633">alg</a>: <span title="String">String</span>, <a title="String" id="56634">key</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="String" id="56635">body</a>: <span title="String">String</span><span class="delimiter">)</span> =
    <span title="&lt;root&gt; extends Product with Serializable with scala.util.Either[String,String]" class="keyword">if</span><span class="delimiter">(</span><a href="#54801" title="=&gt; scala.collection.immutable.Map[String,String]">MacAlgorithms</a>.<span title="(key: String)Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#56633" title="String">alg</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
       <span class="keyword">val</span> <a title="String" id="56639">macAlg</a> = <a href="#54801" title="(key: String)String">MacAlgorithms</a><span class="delimiter">(</span><a href="#56633" title="String">alg</a><span class="delimiter">)</span>
       <span class="keyword">val</span> <a title="javax.crypto.Mac" id="56640">mac</a> = javax.crypto.<span title="javax.crypto.Mac.type">Mac</span>.<span title="(x$1: String)javax.crypto.Mac">getInstance</span><span class="delimiter">(</span><a href="#56639" title="String">macAlg</a><span class="delimiter">)</span>
       <a href="#56640" title="javax.crypto.Mac">mac</a>.<span title="(x$1: java.security.Key)Unit">init</span><span class="delimiter">(</span><span title="javax.crypto.spec.SecretKeySpec" class="keyword">new</span> javax.crypto.spec.<span title="javax.crypto.spec.SecretKeySpec">SecretKeySpec</span><span class="delimiter">(</span><a href="#54805" title="implicit unfiltered.mac.Signing.s2b : (s: String)Array[Byte]">key</a>, <a href="#56639" title="String">macAlg</a><span class="delimiter">)</span><span class="delimiter">)</span>
       <span title="(b: String)scala.util.Right[Nothing,String]">Right</span><span class="delimiter">(</span><span title="(x$1: Array[Byte], x$2: String)String" class="keyword">new</span> <span title="String">String</span><span class="delimiter">(</span><span title="(x$1: Array[Byte])Array[Byte]">encodeBase64</span><span class="delimiter">(</span><a href="#56640" title="javax.crypto.Mac">mac</a>.<span title="(x$1: Array[Byte])Array[Byte]">doFinal</span><span class="delimiter">(</span><a href="#54805" title="implicit unfiltered.mac.Signing.s2b : (s: String)Array[Byte]">body</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#54799" title="=&gt; String">charset</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">else</span> <span title="(a: String)scala.util.Left[String,Nothing]">Left</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;unsupported mac algorithm %s&quot;</span> <span title="(args: Any*)String">format</span> <a href="#56633" title="String">alg</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(body: Array[Byte])(alg: String)Product with Serializable with scala.util.Either[String,String]" id="54808">bodyhash</a><span class="delimiter">(</span><a title="Array[Byte]" id="57068">body</a>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="String" id="57069">alg</a>: <span title="String">String</span><span class="delimiter">)</span> =
     <a href="#54806" title="(data: Array[Byte])(algo: String)Product with Serializable with scala.util.Either[String,Array[Byte]]">hash</a><span class="delimiter">(</span><a href="#57068" title="Array[Byte]">body</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#57069" title="String">alg</a><span class="delimiter">)</span>.<span title="(fa: String =&gt; Product with Serializable with scala.util.Either[String,String], fb: Array[Byte] =&gt; Product with Serializable with scala.util.Either[String,String])Product with Serializable with scala.util.Either[String,String]">fold</span><span class="delimiter">(</span><span class="delimiter">{</span> <span title="(a: String)scala.util.Left[String,Nothing]">Left</span><span class="delimiter">(</span><a href="#57076" title="String">_</a><span class="delimiter">)</span> <span class="delimiter">}</span>, <span class="delimiter">{</span> <a title="Array[Byte]" id="57082">h</a> =&gt; <span title="(b: String)scala.util.Right[Nothing,String]">Right</span><span class="delimiter">(</span><span title="(x$1: Array[Byte], x$2: String)String" class="keyword">new</span> <span title="String">String</span><span class="delimiter">(</span><span title="(x$1: Array[Byte])Array[Byte]">encodeBase64</span><span class="delimiter">(</span><a href="#57082" title="Array[Byte]">h</a><span class="delimiter">)</span>, <a href="#54799" title="=&gt; String">charset</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span>

  /** @return signed request for a given key, request, and algorithm */
  <span class="keyword">def</span> <a title="[T](r: unfiltered.request.HttpRequest[T], nonce: String, ext: Option[String], bodyHash: Option[String], key: String, alg: String)Either[String,String]" id="54809">sign</a><span class="delimiter">[</span><a title="" id="54811">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="unfiltered.request.HttpRequest[T]" id="57106">r</a>: <a href="../../../unfiltered/unfiltered/unfiltered/request/HttpRequest.scala.html#7615" title="unfiltered.request.HttpRequest[T]">HttpRequest</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="String" id="57107">nonce</a>: <span title="String">String</span>, <a title="Option[String]" id="57108">ext</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span>,
              <a title="Option[String]" id="57109">bodyHash</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="String" id="57110">key</a>: <span title="String">String</span>, <a title="String" id="57111">alg</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Either[String,String]">Either</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> =
    <a href="#54813" title="(r: unfiltered.request.HttpRequest[T], alg: String, nonce: String, ext: Option[String], bodyHash: Option[String])Either[String,String]">requestString</a><span class="delimiter">(</span><a href="#57106" title="unfiltered.request.HttpRequest[T]">r</a>, <a href="#57111" title="String">alg</a>, <a href="#57107" title="String">nonce</a>, <a href="#57108" title="Option[String]">ext</a>, <a href="#57109" title="Option[String]">bodyHash</a><span class="delimiter">)</span>.<span title="(fa: String =&gt; Either[String,String], fb: String =&gt; Either[String,String])Either[String,String]">fold</span><span class="delimiter">(</span><span class="delimiter">{</span> <span title="(a: String)scala.util.Left[String,Nothing]">Left</span><span class="delimiter">(</span><a href="#57162" title="String">_</a><span class="delimiter">)</span> <span class="delimiter">}</span>, <span class="delimiter">{</span> <a title="String" id="57168">rstr</a> =&gt;
       <a href="#54812" title="(key: String, request: String, alg: String)Either[String,String]">sign</a><span class="delimiter">(</span><a href="#57110" title="String">key</a>, <a href="#57168" title="String">rstr</a>, <a href="#57111" title="String">alg</a><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>

  /** @return Either[String error, String mac signed req] */
  <span class="keyword">def</span> <a title="(key: String, request: String, alg: String)Either[String,String]" id="54812">sign</a><span class="delimiter">(</span><a title="String" id="57173">key</a>: <span title="String">String</span>, <a title="String" id="57174">request</a>: <span title="String">String</span>, <a title="String" id="57175">alg</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Either[String,String]">Either</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> =
    <a href="#54807" title="(alg: String, key: String)(body: String)Product with Serializable with scala.util.Either[String,String]">macHash</a><span class="delimiter">(</span><a href="#57175" title="String">alg</a>, <a href="#57173" title="String">key</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#57174" title="String">request</a><span class="delimiter">)</span>

  /** calculates the normalized the request string from a request */
  <span class="keyword">def</span> <a title="[T](r: unfiltered.request.HttpRequest[T], alg: String, nonce: String, ext: Option[String], bodyHash: Option[String])Either[String,String]" id="54813">requestString</a><span class="delimiter">[</span><a title="" id="54815">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="unfiltered.request.HttpRequest[T]" id="57129">r</a>: <a href="../../../unfiltered/unfiltered/unfiltered/request/HttpRequest.scala.html#7615" title="unfiltered.request.HttpRequest[T]">HttpRequest</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="String" id="57130">alg</a>: <span title="String">String</span>,
                       <a title="String" id="57131">nonce</a>: <span title="String">String</span>, <a title="Option[String]" id="57132">ext</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="Option[String]" id="57133">bodyHash</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>:
                         <span title="Either[String,String]">Either</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> =
    <a href="#54801" title="=&gt; scala.collection.immutable.Map[String,String]">MacAlgorithms</a>.<span title="(key: String)Option[String]">get</span><a href="#121926" title="(x: Either[String,String])Either[String,String]" class="delimiter">(</a><a href="#57130" title="String">alg</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#121921" title="Either[String,String]">None</a> =&gt; <span title="(a: String)scala.util.Left[String,Nothing]">Left</span><a href="#121926" title="(x: Either[String,String])Either[String,String]" class="delimiter">(</a><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;unsupported mac algorithm %s&quot;</span> <span title="(args: Any*)String">format</span> <a href="#57130" title="String">alg</a><span class="delimiter">)</span>
      <span class="keyword">case</span> Some<a href="#121921" title="Either[String,String]" class="delimiter">(</a><a href="#121923" title="String" id="57196">macAlg</a><span class="delimiter">)</span> =&gt;
        <a href="#121926" title="(x: Either[String,String])Either[String,String]">r</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../../../unfiltered/unfiltered/unfiltered/request/headers.scala.html#57250" title="(req: unfiltered.request.HttpRequest[T])Option[(String, Int)]">HostPort</a><span title="=&gt; unfiltered.request.HttpRequest[T]" class="delimiter">(</span><a title="String" id="57261">hostname</a>, <a title="Int" id="57262">port</a><span class="delimiter">)</span> <a href="../../../unfiltered/unfiltered/unfiltered/request/utils.scala.html#57198" title="(a: unfiltered.request.HttpRequest[T])Some[(unfiltered.request.HttpRequest[T], unfiltered.request.HttpRequest[T])]">&amp;</a> <a title="unfiltered.request.HttpRequest[T]" id="57263">r</a> =&gt;
            <a href="#121911" title="(x: Either[String,String])Either[String,String]">bodyHash</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> Some<a href="#121898" title="Either[String,String]" class="delimiter">(</a>bh<span class="delimiter">)</span> =&gt; // calculate bodyhash
                 <span class="keyword">val</span> <a title="Array[Byte]" id="57266">body</a> = <a href="../../../unfiltered/unfiltered/unfiltered/request/readers.scala.html#7376" title="unfiltered.request.Body.type">Body</a>.<a href="../../../unfiltered/unfiltered/unfiltered/request/readers.scala.html#53838" title="(req: unfiltered.request.HttpRequest[T])Array[Byte]">bytes</a><span class="delimiter">(</span><a href="#57263" title="unfiltered.request.HttpRequest[T]">r</a><span class="delimiter">)</span>
                 <a href="#54808" title="(body: Array[Byte])(alg: String)Product with Serializable with scala.util.Either[String,String]">bodyhash</a><span class="delimiter">(</span><a href="#57266" title="Array[Byte]">body</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#57196" title="String">macAlg</a><span class="delimiter">)</span>.<span title="(fa: String =&gt; Product with Serializable with scala.util.Either[String,String], fb: String =&gt; Product with Serializable with scala.util.Either[String,String])Product with Serializable with scala.util.Either[String,String]">fold</span><span class="delimiter">(</span><span class="delimiter">{</span> <span title="(a: String)scala.util.Left[String,Nothing]">Left</span><span class="delimiter">(</span><a href="#57303" title="String">_</a><span class="delimiter">)</span> <span class="delimiter">}</span>, <span class="delimiter">{</span> <a title="String" id="57309">bhash</a> =&gt;
                   <span title="(b: String)scala.util.Right[Nothing,String]">Right</span><span class="delimiter">(</span><a href="#54816" title="(nonce: String, method: String, uri: String, hostname: String, port: Int, bodyhash: String, ext: String)String">requestString</a><span class="delimiter">(</span><a href="#57131" title="String">nonce</a>, <a href="#57263" title="unfiltered.request.HttpRequest[T]">r</a>.<a href="../../../unfiltered/unfiltered/unfiltered/request/HttpRequest.scala.html#12733" title="=&gt; String">method</a>, <a href="#57263" title="unfiltered.request.HttpRequest[T]">r</a>.<a href="../../../unfiltered/unfiltered/unfiltered/request/HttpRequest.scala.html#12734" title="=&gt; String">uri</a>,
                                    <a href="#57261" title="String">hostname</a>, <a href="#57262" title="Int">port</a>,
                                    <a href="#57309" title="String">bhash</a>,
                                    <a href="#57132" title="Option[String]">ext</a>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                 <span class="delimiter">}</span><span class="delimiter">)</span>
              <span class="keyword">case</span> _ =&gt; // don't calculate bodyhash
                <span title="(b: String)scala.util.Right[Nothing,String]">Right</span><a href="#121901" title="(x: Either[String,String])Either[String,String]" class="delimiter">(</a><a href="#54816" title="(nonce: String, method: String, uri: String, hostname: String, port: Int, bodyhash: String, ext: String)String">requestString</a><span class="delimiter">(</span><a href="#57131" title="String">nonce</a>, <a href="#57263" title="unfiltered.request.HttpRequest[T]">r</a>.<a href="../../../unfiltered/unfiltered/unfiltered/request/HttpRequest.scala.html#12733" title="=&gt; String">method</a>, <a href="#57263" title="unfiltered.request.HttpRequest[T]">r</a>.<a href="../../../unfiltered/unfiltered/unfiltered/request/HttpRequest.scala.html#12734" title="=&gt; String">uri</a>,
                                   <a href="#57261" title="String">hostname</a>, <a href="#57262" title="Int">port</a>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <a href="#57132" title="Option[String]">ext</a>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
       <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  /** calculates the normalized request string from parts of a request */
  <span class="keyword">def</span> <a title="(nonce: String, method: String, uri: String, hostname: String, port: Int, bodyhash: String, ext: String)String" id="54816">requestString</a><span class="delimiter">(</span><a title="String" id="57122">nonce</a>: <span title="String">String</span>, <a title="String" id="57123">method</a>: <span title="String">String</span>, <a title="String" id="57124">uri</a>: <span title="String">String</span>, <a title="String" id="57125">hostname</a>: <span title="String">String</span>,
                    <a title="Int" id="57126">port</a>: <span title="Int">Int</span>, <a title="String" id="57127">bodyhash</a>: <span title="String">String</span>, <a title="String" id="57128">ext</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> =
                      <a href="#57122" title="String">nonce</a> <a href="#57359" title="(x: Any)List[Any]">::</a> <a href="#57123" title="String">method</a> <a href="#57360" title="(x: Any)List[Any]">::</a> <a href="#57124" title="String">uri</a> <a href="#57361" title="(x: Any)List[Any]">::</a> <a href="#57125" title="String">hostname</a> <a href="#57362" title="(x: Any)List[Any]">::</a> <a href="#57126" title="Int">port</a> <a href="#57363" title="(x: Any)List[Any]">::</a>
                      <a href="#57127" title="String">bodyhash</a> <a href="#57364" title="(x: String)List[String]">::</a> <a href="#57128" title="String">ext</a> <a href="#57365" title="(x: String)List[String]">::</a> <span title="scala.collection.immutable.Nil.type">Nil</span> <span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>,<span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span>,<span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>