<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>anorm/anorm/MayErr.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright (C) 2009-2013 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
<span class="keyword">package</span> anorm

<span class="keyword">case class</span> <a href="#anorm;MayErr.productElement.x$1" title="class MayErr[+E, +A] extends AnyRef with Product with Serializable" id="anorm;MayErr">MayErr</a><span class="delimiter">[</span>+<a title="" id="anorm;MayErr;E">E</a>, +<a title="" id="anorm;MayErr;A">A</a><span class="delimiter">]</span><a href="#anorm;MayErr" title="Product" class="delimiter">(</a><a title="Either[E,A]" id="anorm;MayErr.toEither">toEither</a>: <span title="Either[E,A]">Either</span><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="comment">/** Deprecated in upper versions */</span>
  <span class="keyword">val</span> <a title="Either[E,A]" id="anorm;MayErr.e">e</a> = <a href="#anorm;MayErr.toEither" title="=&gt; Either[E,A]">toEither</a>

  <span class="keyword">def</span> <a title="[B, EE &gt;: E](f: A =&gt; anorm.MayErr[EE,B])anorm.MayErr[EE,B]" id="anorm;MayErr.flatMap">flatMap</a><span class="delimiter">[</span><a title="" id="anorm;MayErr.flatMap;B">B</a>, <a title=" &gt;: E" id="anorm;MayErr.flatMap;EE">EE</a> &gt;: E<span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; anorm.MayErr[EE,B]" id="anorm;MayErr.flatMap.f">f</a>: A =&gt; MayErr<span class="delimiter">[</span>EE, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#anorm;MayErr" title="anorm.MayErr[EE,B]">MayErr</a><span class="delimiter">[</span>EE, B<span class="delimiter">]</span> =
    <a href="#anorm;MayErr" title="(toEither: Either[EE,B])anorm.MayErr[EE,B]">MayErr</a><span class="delimiter">(</span><a href="#anorm;MayErr.toEither" title="=&gt; Either[E,A]">toEither</a>.<span title="=&gt; scala.util.Either.RightProjection[E,A]">right</span>.<span title="(f: A =&gt; scala.util.Either[EE,B])scala.util.Either[EE,B]">flatMap</span><span class="delimiter">(</span><a title="A" id="anorm;MayErr.flatMap.$anonfun.a">a</a> =&gt; <a href="#anorm;MayErr.flatMap.f" title="(v1: A)anorm.MayErr[EE,B]">f</a><span class="delimiter">(</span><a href="#anorm;MayErr.flatMap.$anonfun.a" title="A">a</a><span class="delimiter">)</span>.<a href="#anorm;MayErr.toEither" title="=&gt; Either[EE,B]">toEither</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[B](f: A =&gt; B)anorm.MayErr[E,B]" id="anorm;MayErr.map">map</a><span class="delimiter">[</span><a title="" id="anorm;MayErr.map;B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; B" id="anorm;MayErr.map.f">f</a>: A =&gt; B<span class="delimiter">)</span>: <a href="#anorm;MayErr" title="anorm.MayErr[E,B]">MayErr</a><span class="delimiter">[</span>E, B<span class="delimiter">]</span> = <a href="#anorm;MayErr" title="(toEither: Either[E,B])anorm.MayErr[E,B]">MayErr</a><span class="delimiter">(</span><a href="#anorm;MayErr.toEither" title="=&gt; Either[E,A]">toEither</a>.<span title="=&gt; scala.util.Either.RightProjection[E,A]">right</span>.<span title="(f: A =&gt; B)Serializable with Product with scala.util.Either[E,B]">map</span><span class="delimiter">(</span><a href="#anorm;MayErr.map.f" title="A =&gt; B">f</a><span class="delimiter">)</span><span class="delimiter">)</span>

  @deprecated<span class="delimiter">(</span>
    message = <span class="string">&quot;Use `filter` on `toEither.right`.&quot;</span>, since = <span class="string">&quot;2.3.0&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[EE &gt;: E](p: A =&gt; Boolean, error: EE)anorm.MayErr[EE,A]" id="anorm;MayErr.filter">filter</a><span class="delimiter">[</span><a title=" &gt;: E" id="anorm;MayErr.filter;EE">EE</a> &gt;: E<span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; Boolean" id="anorm;MayErr.filter.p">p</a>: A =&gt; Boolean, <a title="EE" id="anorm;MayErr.filter.error">error</a>: <a href="#anorm;MayErr.filter;EE" title="EE">EE</a><span class="delimiter">)</span>: <a href="#anorm;MayErr" title="anorm.MayErr[EE,A]">MayErr</a><span class="delimiter">[</span>EE, A<span class="delimiter">]</span> =
    <a href="#anorm;MayErr" title="(toEither: Either[EE,A])anorm.MayErr[EE,A]">MayErr</a><span class="delimiter">(</span><a href="#anorm;MayErr.toEither" title="=&gt; Either[E,A]">toEither</a>.<span title="=&gt; scala.util.Either.RightProjection[E,A]">right</span>.<span title="(p: A =&gt; Boolean)Option[scala.util.Either[Nothing,A]]">filter</span><span class="delimiter">(</span><a href="#anorm;MayErr.filter.p" title="A =&gt; Boolean">p</a><span class="delimiter">)</span>.<span title="(default: =&gt; scala.util.Either[EE,A])scala.util.Either[EE,A]">getOrElse</span><span class="delimiter">(</span><span title="(a: EE)scala.util.Left[EE,Nothing]">Left</span><span class="delimiter">(</span><a href="#anorm;MayErr.filter.error" title="EE">error</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  @deprecated<span class="delimiter">(</span>since = <span class="string">&quot;2.3.0&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="()Option[A]" id="anorm;MayErr.toOptionLoggingError">toOptionLoggingError</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Option[A]">Option</span><span class="delimiter">[</span>A<span class="delimiter">]</span> =
    <a href="#anorm;MayErr.toEither" title="=&gt; Either[E,A]">toEither</a>.<span title="=&gt; scala.util.Either.LeftProjection[E,A]">left</span>.<span title="(f: E =&gt; E)Serializable with Product with scala.util.Either[E,A]">map</span><span class="delimiter">(</span><a title="E" id="anorm;MayErr.toOptionLoggingError.$anonfun.m">m</a> =&gt; <span class="delimiter">{</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#anorm;MayErr.toOptionLoggingError.$anonfun.m" title="E">m</a>.<span title="()String">toString</span><span class="delimiter">)</span>; <a href="#anorm;MayErr.toOptionLoggingError.$anonfun.m" title="E">m</a> <span class="delimiter">}</span><span class="delimiter">)</span>.<span title="=&gt; scala.util.Either.RightProjection[E,A]">right</span>.<span title="=&gt; Option[A]">toOption</span>

  <span class="comment">/**
   * Applies `f` if this is a failure or `s` if this is a successful value.
   *
   * @param f the function to apply on failure
   * @param s the function to apply on successful `A` value
   * @return the results of applying appropriate function
   */</span>
  <span class="keyword">def</span> <a title="[B](f: E =&gt; B, s: A =&gt; B)B" id="anorm;MayErr.fold">fold</a><span class="delimiter">[</span><a title="" id="anorm;MayErr.fold;B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="E =&gt; B" id="anorm;MayErr.fold.f">f</a>: E =&gt; B, <a title="A =&gt; B" id="anorm;MayErr.fold.s">s</a>: A =&gt; B<span class="delimiter">)</span>: <a href="#anorm;MayErr.fold;B" title="B">B</a> = <a href="#anorm;MayErr.toEither" title="=&gt; Either[E,A]">toEither</a>.<span title="(fa: E =&gt; B, fb: A =&gt; B)B">fold</span><span class="delimiter">(</span><a href="#anorm;MayErr.fold.f" title="E =&gt; B">f</a>, <a href="#anorm;MayErr.fold.s" title="A =&gt; B">s</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; A" id="anorm;MayErr.get">get</a> = <a href="#anorm;MayErr.toEither" title="=&gt; Either[E,A]">toEither</a>.<span title="(fa: E =&gt; A, fb: A =&gt; A)A">fold</span><span class="delimiter">(</span><a title="E" id="anorm;MayErr.get.$anonfun.e">e</a> =&gt;
    <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)RuntimeException" class="keyword">new</span> <span title="RuntimeException">RuntimeException</span><span class="delimiter">(</span><a href="#anorm;MayErr.toEither" title="=&gt; Either[E,A]">toEither</a>.<span title="()String">toString</span><span class="delimiter">)</span>, <a title="A" id="anorm;MayErr.get.$anonfun.a">a</a> =&gt; <a href="#anorm;MayErr.get.$anonfun.a" title="A">a</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="comment">// TODO Remove (make it more explicit)</span>
<span class="keyword">object</span> <a title="anorm.MayErr.type" id="anorm.MayErr.readResolve">MayErr</a> <a href="#anorm.MayErr.readResolve" title="anorm.MayErr.type" class="delimiter">{</a>
  <span class="keyword">import</span> scala.<span title="language.type">language</span>.implicitConversions
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[E, EE &gt;: E, A, AA &gt;: A](e: Either[E,A])anorm.MayErr[EE,AA]" id="anorm.MayErr.eitherToError">eitherToError</a><span class="delimiter">[</span><a title="" id="anorm.MayErr.eitherToError;E">E</a>, <a title=" &gt;: E" id="anorm.MayErr.eitherToError;EE">EE</a> &gt;: E, <a title="" id="anorm.MayErr.eitherToError;A">A</a>, <a title=" &gt;: A" id="anorm.MayErr.eitherToError;AA">AA</a> &gt;: A<span class="delimiter">]</span><span class="delimiter">(</span><a title="Either[E,A]" id="anorm.MayErr.eitherToError.e">e</a>: <span title="Either[E,A]">Either</span><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#anorm;MayErr" title="anorm.MayErr[EE,AA]">MayErr</a><span class="delimiter">[</span>EE, AA<span class="delimiter">]</span> = <a href="#anorm;MayErr" title="[E, A](toEither: Either[E,A])anorm.MayErr[E,A]">MayErr</a><span title="(toEither: Either[E,A])anorm.MayErr[E,A]" class="delimiter">[</span><a href="#anorm.MayErr.eitherToError;E" title="E">E</a>, <a href="#anorm.MayErr.eitherToError;A" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#anorm.MayErr.eitherToError.e" title="Either[E,A]">e</a><span class="delimiter">)</span>

  <span class="comment">/** Deprecated in upper versions */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[E, EE &gt;: E, A, AA &gt;: A](e: anorm.MayErr[E,A])Either[EE,AA]" id="anorm.MayErr.errorToEither">errorToEither</a><span class="delimiter">[</span><a title="" id="anorm.MayErr.errorToEither;E">E</a>, <a title=" &gt;: E" id="anorm.MayErr.errorToEither;EE">EE</a> &gt;: E, <a title="" id="anorm.MayErr.errorToEither;A">A</a>, <a title=" &gt;: A" id="anorm.MayErr.errorToEither;AA">AA</a> &gt;: A<span class="delimiter">]</span><span class="delimiter">(</span><a title="anorm.MayErr[E,A]" id="anorm.MayErr.errorToEither.e">e</a>: <a href="#anorm;MayErr" title="anorm.MayErr[E,A]">MayErr</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Either[EE,AA]">Either</span><span class="delimiter">[</span>EE, AA<span class="delimiter">]</span> = <a href="#anorm.MayErr.errorToEither.e" title="anorm.MayErr[E,A]">e</a>.<a href="#anorm;MayErr.toEither" title="=&gt; Either[E,A]">toEither</a>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
