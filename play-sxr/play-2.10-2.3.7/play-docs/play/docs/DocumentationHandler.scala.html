<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>play-docs/play/docs/DocumentationHandler.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright (C) 2009-2013 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
<span class="keyword">package</span> play.docs

<span class="keyword">import</span> play.api.mvc._
<span class="keyword">import</span> play.api.http.Status
<span class="keyword">import</span> play.api.http.HeaderNames
<span class="keyword">import</span> play.api.libs.iteratee.Enumerator
<span class="keyword">import</span> play.api.libs.iteratee.Enumeratee
<span class="keyword">import</span> play.core.<span class="delimiter">{</span> PlayVersion, BuildDocHandler <span class="delimiter">}</span>
<span class="keyword">import</span> play.doc.<span class="delimiter">{</span> FileRepository, PlayDoc, RenderedPage <span class="delimiter">}</span>
<span class="keyword">import</span> org.apache.commons.io.IOUtils

<span class="comment">/**
 * Used by the DocumentationApplication class to handle requests for Play documentation.
 * Documentation is located in the given repository - either a JAR file or directly from
 * the filesystem.
 */</span>
<span class="keyword">class</span> <a title="class DocumentationHandler extends Object with play.core.BuildDocHandler" id="play.docs;DocumentationHandler">DocumentationHandler</a><a href="#play.docs;DocumentationHandler" title="play.docs.DocumentationHandler" class="delimiter">(</a><a title="play.doc.FileRepository" id="play.docs;DocumentationHandler.repo">repo</a>: <span title="play.doc.FileRepository">FileRepository</span>, <a title="play.doc.FileRepository" id="play.docs;DocumentationHandler.apiRepo">apiRepo</a>: <span title="play.doc.FileRepository">FileRepository</span><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="play.core.BuildDocHandler">BuildDocHandler</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(repo: play.doc.FileRepository)play.docs.DocumentationHandler" id="play.docs;DocumentationHandler.<init>(f6cbe4b482)" class="keyword">this</a><span class="delimiter">(</span><a title="play.doc.FileRepository" id="play.docs;DocumentationHandler.<init>(f6cbe4b482).repo">repo</a>: <span title="play.doc.FileRepository">FileRepository</span><span class="delimiter">)</span> = <a href="#play.docs;DocumentationHandler" title="DocumentationHandler.this.type" class="keyword">this</a><span class="delimiter">(</span><a href="#play.docs;DocumentationHandler.<init>(f6cbe4b482).repo" title="play.doc.FileRepository">repo</a>, <a href="#play.docs;DocumentationHandler.<init>(f6cbe4b482).repo" title="play.doc.FileRepository">repo</a><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="play.doc.PlayDoc" id="play.docs;DocumentationHandler.markdownRenderer">markdownRenderer</a> = <span title="play.doc.PlayDoc" class="keyword">new</span> <span title="play.doc.PlayDoc">PlayDoc</span><span class="delimiter">(</span><a href="#play.docs;DocumentationHandler.repo" title="play.doc.FileRepository">repo</a>, <a href="#play.docs;DocumentationHandler.repo" title="play.doc.FileRepository">repo</a>, <span title="String(&quot;resources&quot;)" class="string">&quot;resources&quot;</span>, <span title="play.core.PlayVersion.type">PlayVersion</span>.<span title="=&gt; String">current</span><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="String =&gt; String" id="play.docs;DocumentationHandler.locator">locator</a>: String =&gt; String = <span title="play.docs.Memoise[String,String]" class="keyword">new</span> <a href="#play.docs;Memoise" title="play.docs.Memoise[String,String]">Memoise</a><span class="delimiter">(</span><a title="String" id="play.docs;DocumentationHandler.locator.$anonfun.name">name</a> =&gt;
    <a href="#play.docs;DocumentationHandler.repo" title="play.doc.FileRepository">repo</a>.<span title="(name: String)Option[String]">findFileWithName</span><span class="delimiter">(</span><a href="#play.docs;DocumentationHandler.locator.$anonfun.name" title="String">name</a><span class="delimiter">)</span>.<span title="(alternative: =&gt; Option[String])Option[String]">orElse</span><span class="delimiter">(</span><a href="#play.docs;DocumentationHandler.apiRepo" title="play.doc.FileRepository">apiRepo</a>.<span title="(name: String)Option[String]">findFileWithName</span><span class="delimiter">(</span><a href="#play.docs;DocumentationHandler.locator.$anonfun.name" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><a href="#play.docs;DocumentationHandler.locator.$anonfun.name" title="String">name</a><span class="delimiter">)</span>
  <span class="delimiter">)</span>

  <span class="comment">// Method without Scala types. Required by BuildDocHandler to allow communication</span>
  <span class="comment">// between code compiled by different versions of Scala</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(request: AnyRef)AnyRef" id="play.docs;DocumentationHandler.maybeHandleDocRequest(af46fe57c6)">maybeHandleDocRequest</a><span class="delimiter">(</span><a title="AnyRef" id="play.docs;DocumentationHandler.maybeHandleDocRequest(af46fe57c6).request">request</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span>: <span title="AnyRef">AnyRef</span> = <span class="delimiter">{</span>
    <a href="#play.docs;DocumentationHandler" title="DocumentationHandler.this.type" class="keyword">this</a>.<a href="#play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf)" title="(request: play.api.mvc.RequestHeader)Option[play.api.mvc.Result]">maybeHandleDocRequest</a><span class="delimiter">(</span><a href="#play.docs;DocumentationHandler.maybeHandleDocRequest(af46fe57c6).request" title="AnyRef">request</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="play.api.mvc.RequestHeader" class="delimiter">[</span><a href="../../../play/play/api/mvc/Http.scala.html#play.api.mvc;RequestHeader" title="play.api.mvc.RequestHeader">RequestHeader</a><span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Handle the given request if it is a request for documentation content.
   */</span>
  <span class="keyword">def</span> <a title="(request: play.api.mvc.RequestHeader)Option[play.api.mvc.Result]" id="play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf)">maybeHandleDocRequest</a><span class="delimiter">(</span><a title="play.api.mvc.RequestHeader" id="play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).request">request</a>: <a href="../../../play/play/api/mvc/Http.scala.html#play.api.mvc;RequestHeader" title="play.api.mvc.RequestHeader">RequestHeader</a><span class="delimiter">)</span>: <span title="Option[play.api.mvc.Result]">Option</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <span class="delimiter">{</span>

    <span class="comment">// Assumes caller consumes result, closing entry</span>
    <span class="keyword">def</span> <a title="(repo: play.doc.FileRepository, path: String)Option[play.api.mvc.Result]" id="play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).sendFileInline">sendFileInline</a><span class="delimiter">(</span><a title="play.doc.FileRepository" id="play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).sendFileInline.repo">repo</a>: <span title="play.doc.FileRepository">FileRepository</span>, <a title="String" id="play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).sendFileInline.path">path</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[play.api.mvc.Result]">Option</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">import</span> play.api.libs.concurrent.<a href="../../../play/play/api/libs/concurrent/Execution.scala.html#play.api.libs.concurrent.Execution" title="play.api.libs.concurrent.Execution.type">Execution</a>.<a href="../../../play/play/api/libs/concurrent/Execution.scala.html#play.api.libs.concurrent.Execution.Implicits" title="play.api.libs.concurrent.Execution.Implicits.type">Implicits</a>.defaultContext
      <a href="#play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).sendFileInline.repo" title="play.doc.FileRepository">repo</a>.<span title="(path: String)(handler: play.doc.FileHandle =&gt; play.api.mvc.Result)Option[play.api.mvc.Result]">handleFile</span><span class="delimiter">(</span><a href="#play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).sendFileInline.path" title="String">path</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="play.doc.FileHandle" id="play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).sendFileInline.$anonfun.handle">handle</a> =&gt;
        <a href="../../../play/play/api/mvc/Results.scala.html#play.api.mvc;Result" title="(header: play.api.mvc.ResponseHeader, body: play.api.libs.iteratee.Enumerator[Array[Byte]], connection: play.api.mvc.HttpConnection.Connection)play.api.mvc.Result">Result</a><span class="delimiter">(</span>
          <a href="../../../play/play/api/mvc/Results.scala.html#play.api.mvc.ResponseHeader.apply" title="(status: Int, headers: Map[String,String])play.api.mvc.ResponseHeader">ResponseHeader</a><span class="delimiter">(</span><a href="../../../play/play/api/http/StandardValues.scala.html#play.api.http.Status" title="play.api.http.Status.type">Status</a>.<a href="../../../play/play/api/http/StandardValues.scala.html#play.api.http;Status.OK" title="=&gt; Int">OK</a>, <span title="(elems: (String, String)*)scala.collection.immutable.Map[String,String]">Map</span><span class="delimiter">(</span>
            <a href="../../../play/play/api/http/StandardValues.scala.html#play.api.http.HeaderNames" title="play.api.http.HeaderNames.type">HeaderNames</a>.<a href="../../../play/play/api/http/StandardValues.scala.html#play.api.http;HeaderNames.CONTENT_LENGTH" title="(x: String)ArrowAssoc[String]">CONTENT_LENGTH</a> <span title="(y: String)(String, String)">-&gt;</span> <a href="#play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).sendFileInline.$anonfun.handle" title="play.doc.FileHandle">handle</a>.<span title="=&gt; Long">size</span>.<span title="()String">toString</span>,
            <a href="../../../play/play/api/http/StandardValues.scala.html#play.api.http.HeaderNames" title="play.api.http.HeaderNames.type">HeaderNames</a>.<a href="../../../play/play/api/http/StandardValues.scala.html#play.api.http;HeaderNames.CONTENT_TYPE" title="(x: String)ArrowAssoc[String]">CONTENT_TYPE</a> <span title="(y: String)(String, String)">-&gt;</span> play.api.libs.<a href="../../../play/play/api/libs/MimeTypes.scala.html#play.api.libs.MimeTypes" title="play.api.libs.MimeTypes.type">MimeTypes</a>.<a href="../../../play/play/api/libs/MimeTypes.scala.html#play.api.libs.MimeTypes.forFileName" title="(name: String)Option[String]">forFileName</a><span class="delimiter">(</span><a href="#play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).sendFileInline.$anonfun.handle" title="play.doc.FileHandle">handle</a>.<span title="=&gt; String">name</span><span class="delimiter">)</span>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span>play.api.http.<a href="../../../play/play/api/http/StandardValues.scala.html#play.api.http.ContentTypes" title="play.api.http.ContentTypes.type">ContentTypes</a>.<a href="../../../play/play/api/http/StandardValues.scala.html#play.api.http;ContentTypes.BINARY" title="=&gt; String">BINARY</a><span class="delimiter">)</span>
          <span class="delimiter">)</span><span class="delimiter">)</span>,
          <a href="../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee.Enumerator" title="play.api.libs.iteratee.Enumerator.type">Enumerator</a>.<a href="../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee.Enumerator.fromStream" title="(input: java.io.InputStream, chunkSize: Int)(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Enumerator[Array[Byte]]">fromStream</a><a href="../../../play/play/api/libs/concurrent/Execution.scala.html#play.api.libs.concurrent.Execution.Implicits.defaultContext" title="=&gt; scala.concurrent.ExecutionContext" class="delimiter">(</a><a href="#play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).sendFileInline.$anonfun.handle" title="play.doc.FileHandle">handle</a>.<span title="=&gt; java.io.InputStream">is</span><span class="delimiter">)</span> <a href="../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee;Enumerator.&>" title="(enumeratee: play.api.libs.iteratee.Enumeratee[Array[Byte],Array[Byte]])play.api.libs.iteratee.Enumerator[Array[Byte]]">&amp;&gt;</a> <a href="../../../play-iteratees/play/api/libs/iteratee/Enumeratee.scala.html#play.api.libs.iteratee.Enumeratee" title="play.api.libs.iteratee.Enumeratee.type">Enumeratee</a>.<a href="../../../play-iteratees/play/api/libs/iteratee/Enumeratee.scala.html#play.api.libs.iteratee.Enumeratee.onIterateeDone" title="(action: () =&gt; Unit)(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Enumeratee[Array[Byte],Array[Byte]]">onIterateeDone</a><a href="../../../play/play/api/libs/concurrent/Execution.scala.html#play.api.libs.concurrent.Execution.Implicits.defaultContext" title="=&gt; scala.concurrent.ExecutionContext" class="delimiter">(</a><a href="#play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).sendFileInline.$anonfun.handle" title="play.doc.FileHandle">handle</a>.<span title="=&gt; () =&gt; Unit">close</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">import</span> play.api.mvc.<a href="../../../play/play/api/mvc/Results.scala.html#play.api.mvc.Results" title="play.api.mvc.Results.type">Results</a>._

    <span class="keyword">val</span> <a title="scala.util.matching.Regex" id="play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).documentation">documentation</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;/@documentation/?&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>
    <span class="keyword">val</span> <a title="scala.util.matching.Regex" id="play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).book">book</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;/@documentation/Book&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>
    <span class="keyword">val</span> <a title="scala.util.matching.Regex" id="play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).apiDoc">apiDoc</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;/@documentation/api/(.*)&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>
    <span class="keyword">val</span> <a title="scala.util.matching.Regex" id="play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).wikiResource">wikiResource</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;/@documentation/resources/(.*)&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>
    <span class="keyword">val</span> <a title="scala.util.matching.Regex" id="play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).wikiPage">wikiPage</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;/@documentation/([^/]*)&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>

    <a href="#play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).request" title="play.api.mvc.RequestHeader">request</a>.<a href="../../../play/play/api/mvc/Http.scala.html#play.api.mvc;RequestHeader.path" title="=&gt; String">path</a> <span title="Option[play.api.mvc.Result]" class="keyword">match</span> <span class="delimiter">{</span>

      <span class="keyword">case</span> <a href="#play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).documentation" title="(target: Any)Option[List[String]]">documentation</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>

        <span title="(x: play.api.mvc.Result)Some[play.api.mvc.Result]">Some</span> <span class="delimiter">{</span>
          <a href="../../../play/play/api/mvc/Results.scala.html#play.api.mvc;Results.Redirect(9f73d12c5d)" title="(url: String, queryString: Map[String,Seq[String]], status: Int)play.api.mvc.Result">Redirect</a><span class="delimiter">(</span><span title="String(&quot;/@documentation/Home&quot;)" class="string">&quot;/@documentation/Home&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      <span class="delimiter">}</span>

      <span class="keyword">case</span> <a href="#play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).book" title="(target: Any)Option[List[String]]">book</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>

        <span title="(x: play.api.mvc.Result)Some[play.api.mvc.Result]">Some</span> <span class="delimiter">{</span>
          <a href="#play.docs;DocumentationHandler.repo" title="play.doc.FileRepository">repo</a>.<span title="(path: String)(loader: java.io.InputStream =&gt; play.api.mvc.Result)Option[play.api.mvc.Result]">loadFile</span><span class="delimiter">(</span><span title="String(&quot;manual/book/Book&quot;)" class="string">&quot;manual/book/Book&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.InputStream" id="play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).$anonfun.is">is</a> =&gt;
            <span class="keyword">val</span> <a title="Seq[String]" id="play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).$anonfun.lines">lines</a> = <span title="org.apache.commons.io.IOUtils.type">IOUtils</span>.<span title="(x$1: java.io.InputStream)String">toString</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</span><a href="#play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).$anonfun.is" title="java.io.InputStream">is</a><span class="delimiter">)</span>.<span title="(separator: Char)Array[String]">split</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="Char('\n')" class="char">'\n'</span><span class="delimiter">)</span>.<span title="=&gt; Seq[String]">toSeq</span>.<span title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[String],String,Seq[String]])Seq[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,String,Seq[String]]" class="delimiter">(</span><a href="#play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).$anonfun.lines.$anonfun.x$1" title="String">_</a>.<span title="()String">trim</span><span class="delimiter">)</span>
            <a href="../../../play/play/api/mvc/Results.scala.html#play.api.mvc;Results;Status.apply" title="(content: play.twirl.api.HtmlFormat.Appendable)(implicit writeable: play.api.http.Writeable[play.twirl.api.HtmlFormat.Appendable])play.api.mvc.Result">Ok</a><a href="../../../play/play/api/http/Writeable.scala.html#play.api.http;LowPriorityWriteables.writeableOf_Content" title="(implicit codec: play.api.mvc.Codec, implicit ct: play.api.http.ContentTypeOf[play.twirl.api.HtmlFormat.Appendable])play.api.http.Writeable[play.twirl.api.HtmlFormat.Appendable]" class="delimiter">(</a>views.html.play20.<span title="(pages: Seq[String])play.twirl.api.HtmlFormat.Appendable">book</span><span class="delimiter">(</span><a href="#play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).$anonfun.lines" title="Seq[String]">lines</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>.<span title="(default: =&gt; play.api.mvc.Result)play.api.mvc.Result">getOrElse</span><span class="delimiter">(</span><a href="../../../play/play/api/mvc/Results.scala.html#play.api.mvc;Results;Status.apply" title="(content: String)(implicit writeable: play.api.http.Writeable[String])play.api.mvc.Result">NotFound</a><a href="../../../play/play/api/http/Writeable.scala.html#play.api.http;DefaultWriteables.wString" title="implicit play.api.http.DefaultWriteables.wString : (implicit codec: play.api.mvc.Codec)play.api.http.Writeable[String]" class="delimiter">(</a><span title="String(&quot;Resource not found [Book]&quot;)" class="string">&quot;Resource not found [Book]&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      <span class="delimiter">}</span>

      <span class="keyword">case</span> <a href="#play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).apiDoc" title="(target: Any)Option[List[String]]">apiDoc</a><span class="delimiter">(</span><span title="String">page</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>

        <span title="(x: play.api.mvc.Result)Some[play.api.mvc.Result]">Some</span> <span class="delimiter">{</span>
          <a href="#play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).sendFileInline" title="(repo: play.doc.FileRepository, path: String)Option[play.api.mvc.Result]">sendFileInline</a><span class="delimiter">(</span><a href="#play.docs;DocumentationHandler.apiRepo" title="play.doc.FileRepository">apiRepo</a>, <span title="String(&quot;api/&quot;)" class="string">&quot;api/&quot;</span> <span title="(x$1: Any)String">+</span> <span title="String">page</span><span class="delimiter">)</span>.<span title="(default: =&gt; play.api.mvc.Result)play.api.mvc.Result">getOrElse</span><span class="delimiter">(</span><a href="../../../play/play/api/mvc/Results.scala.html#play.api.mvc;Results;Status.apply" title="(content: play.twirl.api.HtmlFormat.Appendable)(implicit writeable: play.api.http.Writeable[play.twirl.api.HtmlFormat.Appendable])play.api.mvc.Result">NotFound</a><a href="../../../play/play/api/http/Writeable.scala.html#play.api.http;LowPriorityWriteables.writeableOf_Content" title="(implicit codec: play.api.mvc.Codec, implicit ct: play.api.http.ContentTypeOf[play.twirl.api.HtmlFormat.Appendable])play.api.http.Writeable[play.twirl.api.HtmlFormat.Appendable]" class="delimiter">(</a>views.html.play20.<span title="(title: String, main: Option[String], sidebar: Option[String], locate: String =&gt; String)play.twirl.api.HtmlFormat.Appendable">manual</span><span class="delimiter">(</span><span title="String">page</span>, <span title="None.type">None</span>, <span title="None.type">None</span>, <a href="#play.docs;DocumentationHandler.locator" title="=&gt; String =&gt; String">locator</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      <span class="delimiter">}</span>

      <span class="keyword">case</span> <a href="#play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).wikiResource" title="(target: Any)Option[List[String]]">wikiResource</a><span class="delimiter">(</span><a title="String" id="play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).path">path</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>

        <span title="(x: play.api.mvc.Result)Some[play.api.mvc.Result]">Some</span> <span class="delimiter">{</span>
          <a href="#play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).sendFileInline" title="(repo: play.doc.FileRepository, path: String)Option[play.api.mvc.Result]">sendFileInline</a><span class="delimiter">(</span><a href="#play.docs;DocumentationHandler.repo" title="play.doc.FileRepository">repo</a>, <a href="#play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).path" title="String">path</a><span class="delimiter">)</span>.<span title="(alternative: =&gt; Option[play.api.mvc.Result])Option[play.api.mvc.Result]">orElse</span><span class="delimiter">(</span><a href="#play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).sendFileInline" title="(repo: play.doc.FileRepository, path: String)Option[play.api.mvc.Result]">sendFileInline</a><span class="delimiter">(</span><a href="#play.docs;DocumentationHandler.apiRepo" title="play.doc.FileRepository">apiRepo</a>, <a href="#play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).path" title="String">path</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; play.api.mvc.Result)play.api.mvc.Result">getOrElse</span><span class="delimiter">(</span><a href="../../../play/play/api/mvc/Results.scala.html#play.api.mvc;Results;Status.apply" title="(content: String)(implicit writeable: play.api.http.Writeable[String])play.api.mvc.Result">NotFound</a><a href="../../../play/play/api/http/Writeable.scala.html#play.api.http;DefaultWriteables.wString" title="implicit play.api.http.DefaultWriteables.wString : (implicit codec: play.api.mvc.Codec)play.api.http.Writeable[String]" class="delimiter">(</a><span title="String(&quot;Resource not found [&quot;)" class="string">&quot;Resource not found [&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).path" title="String">path</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      <span class="delimiter">}</span>

      <span class="keyword">case</span> <a href="#play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).wikiPage" title="(target: Any)Option[List[String]]">wikiPage</a><span class="delimiter">(</span><span title="String">page</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>

        <span title="(x: play.api.mvc.Result)Some[play.api.mvc.Result]">Some</span> <span class="delimiter">{</span>
          <a href="#play.docs;DocumentationHandler.markdownRenderer" title="=&gt; play.doc.PlayDoc">markdownRenderer</a>.<span title="(page: String)Option[play.doc.RenderedPage]">renderPage</span><span class="delimiter">(</span><span title="String">page</span><span class="delimiter">)</span> <span title="play.api.mvc.Result" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="None.type">None</span> =&gt; <a href="../../../play/play/api/mvc/Results.scala.html#play.api.mvc;Results;Status.apply" title="(content: play.twirl.api.HtmlFormat.Appendable)(implicit writeable: play.api.http.Writeable[play.twirl.api.HtmlFormat.Appendable])play.api.mvc.Result">NotFound</a><a href="../../../play/play/api/http/Writeable.scala.html#play.api.http;LowPriorityWriteables.writeableOf_Content" title="(implicit codec: play.api.mvc.Codec, implicit ct: play.api.http.ContentTypeOf[play.twirl.api.HtmlFormat.Appendable])play.api.http.Writeable[play.twirl.api.HtmlFormat.Appendable]" class="delimiter">(</a>views.html.play20.<span title="(title: String, main: Option[String], sidebar: Option[String], locate: String =&gt; String)play.twirl.api.HtmlFormat.Appendable">manual</span><span class="delimiter">(</span><span title="String">page</span>, <span title="None.type">None</span>, <span title="None.type">None</span>, <a href="#play.docs;DocumentationHandler.locator" title="=&gt; String =&gt; String">locator</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> Some<span class="delimiter">(</span>RenderedPage<span class="delimiter">(</span><span title="String">mainPage</span>, <span title="None.type">None</span>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="../../../play/play/api/mvc/Results.scala.html#play.api.mvc;Results;Status.apply" title="(content: play.twirl.api.HtmlFormat.Appendable)(implicit writeable: play.api.http.Writeable[play.twirl.api.HtmlFormat.Appendable])play.api.mvc.Result">Ok</a><a href="../../../play/play/api/http/Writeable.scala.html#play.api.http;LowPriorityWriteables.writeableOf_Content" title="(implicit codec: play.api.mvc.Codec, implicit ct: play.api.http.ContentTypeOf[play.twirl.api.HtmlFormat.Appendable])play.api.http.Writeable[play.twirl.api.HtmlFormat.Appendable]" class="delimiter">(</a>views.html.play20.<span title="(title: String, main: Option[String], sidebar: Option[String], locate: String =&gt; String)play.twirl.api.HtmlFormat.Appendable">manual</span><span class="delimiter">(</span><span title="String">page</span>, <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><span title="String">mainPage</span><span class="delimiter">)</span>, <span title="None.type">None</span>, <a href="#play.docs;DocumentationHandler.locator" title="=&gt; String =&gt; String">locator</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> Some<span class="delimiter">(</span>RenderedPage<span class="delimiter">(</span><span title="String">mainPage</span>, Some<span class="delimiter">(</span><a title="String" id="play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).sidebar">sidebar</a><span class="delimiter">)</span>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="../../../play/play/api/mvc/Results.scala.html#play.api.mvc;Results;Status.apply" title="(content: play.twirl.api.HtmlFormat.Appendable)(implicit writeable: play.api.http.Writeable[play.twirl.api.HtmlFormat.Appendable])play.api.mvc.Result">Ok</a><a href="../../../play/play/api/http/Writeable.scala.html#play.api.http;LowPriorityWriteables.writeableOf_Content" title="(implicit codec: play.api.mvc.Codec, implicit ct: play.api.http.ContentTypeOf[play.twirl.api.HtmlFormat.Appendable])play.api.http.Writeable[play.twirl.api.HtmlFormat.Appendable]" class="delimiter">(</a>views.html.play20.<span title="(title: String, main: Option[String], sidebar: Option[String], locate: String =&gt; String)play.twirl.api.HtmlFormat.Appendable">manual</span><span class="delimiter">(</span><span title="String">page</span>, <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><span title="String">mainPage</span><span class="delimiter">)</span>, <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="#play.docs;DocumentationHandler.maybeHandleDocRequest(b6d0c7b9cf).sidebar" title="String">sidebar</a><span class="delimiter">)</span>, <a href="#play.docs;DocumentationHandler.locator" title="=&gt; String =&gt; String">locator</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">case</span> _ =&gt; <span title="None.type">None</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Memoise a function.
 */</span>
<span class="keyword">class</span> <a title="class Memoise[-T, +R] extends AnyRef with T =&gt; R" id="play.docs;Memoise">Memoise</a><span class="delimiter">[</span>-<a title="" id="play.docs;Memoise;T">T</a>, +<a title="" id="play.docs;Memoise;R">R</a><span class="delimiter">]</span><a href="#play.docs;Memoise" title="play.docs.Memoise[T,R]" class="delimiter">(</a><a title="T =&gt; R" id="play.docs;Memoise.f">f</a>: T =&gt; R<span class="delimiter">)</span> <span class="keyword">extends</span> <span class="delimiter">(</span>T =&gt; R<span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[T,R]" id="play.docs;Memoise.cache">cache</a> = scala.collection.mutable.<span title="scala.collection.mutable.Map.type">Map</span>.<span title="[A, B]=&gt; scala.collection.mutable.Map[A,B]">empty</span><span title="scala.collection.mutable.Map[T,R]" class="delimiter">[</span><a href="#play.docs;Memoise;T" title="T">T</a>, <a href="#play.docs;Memoise;R" title="R">R</a><span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="(v: T)R" id="play.docs;Memoise.apply">apply</a><span class="delimiter">(</span><a title="T" id="play.docs;Memoise.apply.v">v</a>: <a href="#play.docs;Memoise;T" title="T">T</a><span class="delimiter">)</span>: <a href="#play.docs;Memoise;R" title="R">R</a> = <a href="#play.docs;Memoise" title="(x$1: R)R">synchronized</a> <span class="delimiter">{</span> <a href="#play.docs;Memoise.cache" title="scala.collection.mutable.Map[T,R]">cache</a>.<span title="(key: T, op: =&gt; R)R">getOrElseUpdate</span><span class="delimiter">(</span><a href="#play.docs;Memoise.apply.v" title="T">v</a>, <a href="#play.docs;Memoise.f" title="(v1: T)R">f</a><span class="delimiter">(</span><a href="#play.docs;Memoise.apply.v" title="T">v</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
