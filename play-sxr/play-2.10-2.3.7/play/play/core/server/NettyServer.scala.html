<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>play/play/core/server/NettyServer.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright (C) 2009-2013 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
<span class="keyword">package</span> play.core.server

<span class="keyword">import</span> org.jboss.netty.channel._
<span class="keyword">import</span> org.jboss.netty.bootstrap._
<span class="keyword">import</span> org.jboss.netty.channel.<span title="org.jboss.netty.channel.Channels.type">Channels</span>._
<span class="keyword">import</span> org.jboss.netty.handler.codec.http._
<span class="keyword">import</span> org.jboss.netty.channel.group._
<span class="keyword">import</span> org.jboss.netty.handler.ssl._

<span class="keyword">import</span> java.net.InetSocketAddress
<span class="keyword">import</span> javax.net.ssl._
<span class="keyword">import</span> java.util.concurrent._

<span class="keyword">import</span> play.core._
<span class="keyword">import</span> play.api._
<span class="keyword">import</span> play.core.server.netty._

<span class="keyword">import</span> java.security.cert.X509Certificate
<span class="keyword">import</span> scala.util.control.NonFatal
<span class="keyword">import</span> com.typesafe.netty.http.pipelining.HttpPipeliningHandler
<span class="keyword">import</span> play.server.SSLEngineProvider

<span class="comment">/**
 * provides a stopable Server
 */</span>
<span class="keyword">trait</span> <a title="trait ServerWithStop extends AnyRef" id="play.core.server;ServerWithStop">ServerWithStop</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="()Unit" id="play.core.server;ServerWithStop.stop">stop</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span>
  <span class="keyword">def</span> <a title="=&gt; java.net.InetSocketAddress" id="play.core.server;ServerWithStop.mainAddress">mainAddress</a>: <span title="java.net.InetSocketAddress">InetSocketAddress</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * creates a Server implementation based Netty
 */</span>
<span title="AnyRef" class="keyword">class</span> <a title="class NettyServer extends AnyRef with play.core.server.Server with play.core.server.ServerWithStop" id="play.core.server;NettyServer">NettyServer</a><a href="#play.core.server;NettyServer" title="play.core.server.NettyServer" class="delimiter">(</a><a title="play.core.ApplicationProvider" id="play.core.server;NettyServer.appProvider">appProvider</a>: <a href="../system/ApplicationProvider.scala.html#play.core;ApplicationProvider" title="play.core.ApplicationProvider">ApplicationProvider</a>, <a title="Option[Int]" id="play.core.server;NettyServer.port">port</a>: <span title="Option[Int]">Option</span><span class="delimiter">[</span>Int<span class="delimiter">]</span>, <a title="Option[Int]" id="play.core.server.NettyServer.<init>$default$3">sslPort</a>: <span title="Option[Int]">Option</span><span class="delimiter">[</span>Int<span class="delimiter">]</span> = <span title="None.type">None</span>, <a title="String" id="play.core.server.NettyServer.<init>$default$4">address</a>: <span title="String">String</span> = <span title="String(&quot;0.0.0.0&quot;)" class="string">&quot;0.0.0.0&quot;</span>, <span class="keyword">val</span> <a title="play.api.Mode.Mode" id="play.core.server.NettyServer.<init>$default$5">mode</a>: Mode.<span title="play.api.Mode.Mode">Mode</span> = <a href="../../api/Play.scala.html#play.api.Mode" title="play.api.Mode.type">Mode</a>.<a href="../../api/Play.scala.html#play.api.Mode.Prod" title="=&gt; play.api.Mode.Value">Prod</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="Server.scala.html#play.core.server;Server" title="play.core.server.Server">Server</a> <span class="keyword">with</span> <a href="#play.core.server;ServerWithStop" title="play.core.server.ServerWithStop">ServerWithStop</a> <span class="delimiter">{</span>

  <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#play.core.server;NettyServer.port" title="Option[Int]">port</a>.<span title="=&gt; Boolean">isDefined</span> <span title="(x: Boolean)Boolean">||</span> <a href="#play.core.server.NettyServer.<init>$default$3" title="Option[Int]">sslPort</a>.<span title="=&gt; Boolean">isDefined</span>, <span title="String(&quot;Neither http.port nor https.port is specified&quot;)" class="string">&quot;Neither http.port nor https.port is specified&quot;</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="String" id="play.core.server;NettyServer.NettyOptionPrefix">NettyOptionPrefix</a> = <span title="String(&quot;http.netty.option.&quot;)" class="string">&quot;http.netty.option.&quot;</span>

  <span class="keyword">def</span> <a title="=&gt; play.core.ApplicationProvider" id="play.core.server;NettyServer.applicationProvider">applicationProvider</a> = <a href="#play.core.server;NettyServer.appProvider" title="play.core.ApplicationProvider">appProvider</a>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; org.jboss.netty.bootstrap.ServerBootstrap" id="play.core.server;NettyServer.newBootstrap">newBootstrap</a>: <span title="org.jboss.netty.bootstrap.ServerBootstrap">ServerBootstrap</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="org.jboss.netty.bootstrap.ServerBootstrap" id="play.core.server;NettyServer.newBootstrap.serverBootstrap">serverBootstrap</a> = <span title="(x$1: org.jboss.netty.channel.ChannelFactory)org.jboss.netty.bootstrap.ServerBootstrap" class="keyword">new</span> <span title="org.jboss.netty.bootstrap.ServerBootstrap">ServerBootstrap</span><span class="delimiter">(</span>
      <span title="(x$1: java.util.concurrent.Executor, x$2: java.util.concurrent.Executor)org.jboss.netty.channel.socket.nio.NioServerSocketChannelFactory" class="keyword">new</span> org.jboss.netty.channel.socket.nio.<span title="org.jboss.netty.channel.socket.nio.NioServerSocketChannelFactory">NioServerSocketChannelFactory</span><span class="delimiter">(</span>
        <span title="java.util.concurrent.Executors.type">Executors</span>.<span title="(x$1: java.util.concurrent.ThreadFactory)java.util.concurrent.ExecutorService">newCachedThreadPool</span><span class="delimiter">(</span><a href="../system/NamedThreadFactory.scala.html#play.core;NamedThreadFactory" title="(name: String)play.core.NamedThreadFactory">NamedThreadFactory</a><span class="delimiter">(</span><span title="String(&quot;netty-boss&quot;)" class="string">&quot;netty-boss&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>,
        <span title="java.util.concurrent.Executors.type">Executors</span>.<span title="(x$1: java.util.concurrent.ThreadFactory)java.util.concurrent.ExecutorService">newCachedThreadPool</span><span class="delimiter">(</span><a href="../system/NamedThreadFactory.scala.html#play.core;NamedThreadFactory" title="(name: String)play.core.NamedThreadFactory">NamedThreadFactory</a><span class="delimiter">(</span><span title="String(&quot;netty-worker&quot;)" class="string">&quot;netty-worker&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">import</span> scala.collection.<span title="scala.collection.JavaConversions.type">JavaConversions</span>._
    <span class="comment">// Find all properties that start with http.netty.option</span>

    <span title="System.type">System</span>.<span title="()java.util.Properties">getProperties</span>.<span title="()java.util.Set[String]">stringPropertyNames</span><span title="(s: java.util.Set[String])scala.collection.mutable.Set[String]" class="delimiter">(</span><span class="delimiter">)</span>.<span title="(f: String =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="String" id="play.core.server;NettyServer.newBootstrap.$anonfun.prop">prop</a> =&gt;
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.core.server;NettyServer.newBootstrap.$anonfun.prop" title="String">prop</a>.<span title="(x$1: String)Boolean">startsWith</span><span class="delimiter">(</span><a href="#play.core.server;NettyServer.NettyOptionPrefix" title="=&gt; String">NettyOptionPrefix</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>

        <span class="keyword">val</span> <a title="Any" id="play.core.server;NettyServer.newBootstrap.$anonfun.value">value</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="String" id="play.core.server;NettyServer.newBootstrap.$anonfun.value.v">v</a> = <span title="System.type">System</span>.<span title="(x$1: String)String">getProperty</span><span class="delimiter">(</span><a href="#play.core.server;NettyServer.newBootstrap.$anonfun.prop" title="String">prop</a><span class="delimiter">)</span>
          <span class="comment">// Check if it's boolean</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.core.server;NettyServer.newBootstrap.$anonfun.value.v" title="String">v</a>.<span title="(x$1: String)Boolean">equalsIgnoreCase</span><span class="delimiter">(</span><span title="String(&quot;true&quot;)" class="string">&quot;true&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#play.core.server;NettyServer.newBootstrap.$anonfun.value.v" title="String">v</a>.<span title="(x$1: String)Boolean">equalsIgnoreCase</span><span class="delimiter">(</span><span title="String(&quot;false&quot;)" class="string">&quot;false&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            java.lang.<span title="Boolean.type">Boolean</span>.<span title="(x$1: String)Boolean">parseBoolean</span><span class="delimiter">(</span><a href="#play.core.server;NettyServer.newBootstrap.$anonfun.value.v" title="String">v</a><span class="delimiter">)</span>
            <span class="comment">// Check if it's null (unsetting an option)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.core.server;NettyServer.newBootstrap.$anonfun.value.v" title="String">v</a>.<span title="(x$1: String)Boolean">equalsIgnoreCase</span><span class="delimiter">(</span><span title="String(&quot;null&quot;)" class="string">&quot;null&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Null(null)" class="keyword">null</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="comment">// Check if it's an int</span>
            <span class="keyword">try</span> <span class="delimiter">{</span>
              <a href="#play.core.server;NettyServer.newBootstrap.$anonfun.value.v" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">v</a>.<span title="=&gt; Int">toInt</span>
            <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
              <span class="comment">// Fallback to returning as a string</span>
              <span class="keyword">case</span> <a title="NumberFormatException" id="play.core.server;NettyServer.newBootstrap.$anonfun.value.e">e</a>: <span title="NumberFormatException">NumberFormatException</span> =&gt; <a href="#play.core.server;NettyServer.newBootstrap.$anonfun.value.v" title="String">v</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="String" id="play.core.server;NettyServer.newBootstrap.$anonfun.name">name</a> = <a href="#play.core.server;NettyServer.newBootstrap.$anonfun.prop" title="String">prop</a>.<span title="(x$1: Int)String">substring</span><span class="delimiter">(</span><a href="#play.core.server;NettyServer.NettyOptionPrefix" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">NettyOptionPrefix</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>

        <a href="#play.core.server;NettyServer.newBootstrap.serverBootstrap" title="org.jboss.netty.bootstrap.ServerBootstrap">serverBootstrap</a>.<span title="(x$1: String, x$2: Any)Unit">setOption</span><span class="delimiter">(</span><a href="#play.core.server;NettyServer.newBootstrap.$anonfun.name" title="String">name</a>, <a href="#play.core.server;NettyServer.newBootstrap.$anonfun.value" title="Any">value</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <a href="#play.core.server;NettyServer.newBootstrap.serverBootstrap" title="org.jboss.netty.bootstrap.ServerBootstrap">serverBootstrap</a>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class PlayPipelineFactory extends Object with org.jboss.netty.channel.ChannelPipelineFactory" id="play.core.server;NettyServer.PlayPipelineFactory">PlayPipelineFactory</a><a href="#play.core.server;NettyServer.PlayPipelineFactory" title="NettyServer.this.PlayPipelineFactory" class="delimiter">(</a><a title="Boolean" id="play.core.server;NettyServer.PlayPipelineFactory.<init>$default$1">secure</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="org.jboss.netty.channel.ChannelPipelineFactory">ChannelPipelineFactory</span> <span class="delimiter">{</span>

    <span class="keyword">def</span> <a title="()org.jboss.netty.channel.ChannelPipeline" id="play.core.server;NettyServer;PlayPipelineFactory.getPipeline">getPipeline</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.jboss.netty.channel.ChannelPipeline" id="play.core.server;NettyServer;PlayPipelineFactory.getPipeline.newPipeline">newPipeline</a> = <span title="()org.jboss.netty.channel.ChannelPipeline">pipeline</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.core.server;NettyServer.PlayPipelineFactory.<init>$default$1" title="Boolean">secure</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#play.core.server;NettyServer;PlayPipelineFactory.sslEngineProvider" title="=&gt; Option[play.server.SSLEngineProvider]">sslEngineProvider</a>.<span title="(f: play.server.SSLEngineProvider =&gt; Unit)Option[Unit]">map</span> <span class="delimiter">{</span> <a title="play.server.SSLEngineProvider" id="play.core.server;NettyServer;PlayPipelineFactory.getPipeline.$anonfun.sslEngineProvider">sslEngineProvider</a> =&gt;
          <span class="keyword">val</span> <a title="javax.net.ssl.SSLEngine" id="play.core.server;NettyServer;PlayPipelineFactory.getPipeline.$anonfun.sslEngine">sslEngine</a> = <a href="#play.core.server;NettyServer;PlayPipelineFactory.getPipeline.$anonfun.sslEngineProvider" title="play.server.SSLEngineProvider">sslEngineProvider</a>.<a href="../../server/SSLEngineProvider.java.html#play.server;SSLEngineProvider.createSSLEngine" title="()javax.net.ssl.SSLEngine">createSSLEngine</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#play.core.server;NettyServer;PlayPipelineFactory.getPipeline.$anonfun.sslEngine" title="javax.net.ssl.SSLEngine">sslEngine</a>.<span title="(x$1: Boolean)Unit">setUseClientMode</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          <a href="#play.core.server;NettyServer;PlayPipelineFactory.getPipeline.newPipeline" title="org.jboss.netty.channel.ChannelPipeline">newPipeline</a>.<span title="(x$1: String, x$2: org.jboss.netty.channel.ChannelHandler)Unit">addLast</span><span class="delimiter">(</span><span title="String(&quot;ssl&quot;)" class="string">&quot;ssl&quot;</span>, <span title="org.jboss.netty.handler.ssl.SslHandler" class="keyword">new</span> <span title="org.jboss.netty.handler.ssl.SslHandler">SslHandler</span><span class="delimiter">(</span><a href="#play.core.server;NettyServer;PlayPipelineFactory.getPipeline.$anonfun.sslEngine" title="javax.net.ssl.SSLEngine">sslEngine</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Int" id="play.core.server;NettyServer;PlayPipelineFactory.getPipeline.maxInitialLineLength">maxInitialLineLength</a> = <span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><span title="System.type">System</span>.<span title="(x$1: String)String">getProperty</span><span class="delimiter">(</span><span title="String(&quot;http.netty.maxInitialLineLength&quot;)" class="string">&quot;http.netty.maxInitialLineLength&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: String =&gt; Int)Option[Int]">map</span><span class="delimiter">(</span><span title="Integer.type">Integer</span>.<span title="(x$1: String)Int">parseInt</span><span class="delimiter">(</span><a href="#play.core.server;NettyServer;PlayPipelineFactory.getPipeline.maxInitialLineLength.$anonfun.x$1" title="String">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; Int)Int">getOrElse</span><span class="delimiter">(</span><span title="Int(4096)" class="int">4096</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Int" id="play.core.server;NettyServer;PlayPipelineFactory.getPipeline.maxHeaderSize">maxHeaderSize</a> = <span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><span title="System.type">System</span>.<span title="(x$1: String)String">getProperty</span><span class="delimiter">(</span><span title="String(&quot;http.netty.maxHeaderSize&quot;)" class="string">&quot;http.netty.maxHeaderSize&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: String =&gt; Int)Option[Int]">map</span><span class="delimiter">(</span><span title="Integer.type">Integer</span>.<span title="(x$1: String)Int">parseInt</span><span class="delimiter">(</span><a href="#play.core.server;NettyServer;PlayPipelineFactory.getPipeline.maxHeaderSize.$anonfun.x$2" title="String">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; Int)Int">getOrElse</span><span class="delimiter">(</span><span title="Int(8192)" class="int">8192</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Int" id="play.core.server;NettyServer;PlayPipelineFactory.getPipeline.maxChunkSize">maxChunkSize</a> = <span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><span title="System.type">System</span>.<span title="(x$1: String)String">getProperty</span><span class="delimiter">(</span><span title="String(&quot;http.netty.maxChunkSize&quot;)" class="string">&quot;http.netty.maxChunkSize&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: String =&gt; Int)Option[Int]">map</span><span class="delimiter">(</span><span title="Integer.type">Integer</span>.<span title="(x$1: String)Int">parseInt</span><span class="delimiter">(</span><a href="#play.core.server;NettyServer;PlayPipelineFactory.getPipeline.maxChunkSize.$anonfun.x$3" title="String">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; Int)Int">getOrElse</span><span class="delimiter">(</span><span title="Int(8192)" class="int">8192</span><span class="delimiter">)</span>
      <a href="#play.core.server;NettyServer;PlayPipelineFactory.getPipeline.newPipeline" title="org.jboss.netty.channel.ChannelPipeline">newPipeline</a>.<span title="(x$1: String, x$2: org.jboss.netty.channel.ChannelHandler)Unit">addLast</span><span class="delimiter">(</span><span title="String(&quot;decoder&quot;)" class="string">&quot;decoder&quot;</span>, <span title="(x$1: Int, x$2: Int, x$3: Int)org.jboss.netty.handler.codec.http.HttpRequestDecoder" class="keyword">new</span> <span title="org.jboss.netty.handler.codec.http.HttpRequestDecoder">HttpRequestDecoder</span><span class="delimiter">(</span><a href="#play.core.server;NettyServer;PlayPipelineFactory.getPipeline.maxInitialLineLength" title="Int">maxInitialLineLength</a>, <a href="#play.core.server;NettyServer;PlayPipelineFactory.getPipeline.maxHeaderSize" title="Int">maxHeaderSize</a>, <a href="#play.core.server;NettyServer;PlayPipelineFactory.getPipeline.maxChunkSize" title="Int">maxChunkSize</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#play.core.server;NettyServer;PlayPipelineFactory.getPipeline.newPipeline" title="org.jboss.netty.channel.ChannelPipeline">newPipeline</a>.<span title="(x$1: String, x$2: org.jboss.netty.channel.ChannelHandler)Unit">addLast</span><span class="delimiter">(</span><span title="String(&quot;encoder&quot;)" class="string">&quot;encoder&quot;</span>, <span title="org.jboss.netty.handler.codec.http.HttpResponseEncoder" class="keyword">new</span> <span title="org.jboss.netty.handler.codec.http.HttpResponseEncoder">HttpResponseEncoder</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#play.core.server;NettyServer;PlayPipelineFactory.getPipeline.newPipeline" title="org.jboss.netty.channel.ChannelPipeline">newPipeline</a>.<span title="(x$1: String, x$2: org.jboss.netty.channel.ChannelHandler)Unit">addLast</span><span class="delimiter">(</span><span title="String(&quot;decompressor&quot;)" class="string">&quot;decompressor&quot;</span>, <span title="org.jboss.netty.handler.codec.http.HttpContentDecompressor" class="keyword">new</span> <span title="org.jboss.netty.handler.codec.http.HttpContentDecompressor">HttpContentDecompressor</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#play.core.server;NettyServer;PlayPipelineFactory.getPipeline.newPipeline" title="org.jboss.netty.channel.ChannelPipeline">newPipeline</a>.<span title="(x$1: String, x$2: org.jboss.netty.channel.ChannelHandler)Unit">addLast</span><span class="delimiter">(</span><span title="String(&quot;http-pipelining&quot;)" class="string">&quot;http-pipelining&quot;</span>, <span title="com.typesafe.netty.http.pipelining.HttpPipeliningHandler" class="keyword">new</span> <span title="com.typesafe.netty.http.pipelining.HttpPipeliningHandler">HttpPipeliningHandler</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#play.core.server;NettyServer;PlayPipelineFactory.getPipeline.newPipeline" title="org.jboss.netty.channel.ChannelPipeline">newPipeline</a>.<span title="(x$1: String, x$2: org.jboss.netty.channel.ChannelHandler)Unit">addLast</span><span class="delimiter">(</span><span title="String(&quot;handler&quot;)" class="string">&quot;handler&quot;</span>, <a href="#play.core.server;NettyServer.defaultUpStreamHandler" title="=&gt; play.core.server.netty.PlayDefaultUpstreamHandler">defaultUpStreamHandler</a><span class="delimiter">)</span>
      <a href="#play.core.server;NettyServer;PlayPipelineFactory.getPipeline.newPipeline" title="org.jboss.netty.channel.ChannelPipeline">newPipeline</a>
    <span class="delimiter">}</span>

    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Option[play.server.SSLEngineProvider]" id="play.core.server;NettyServer;PlayPipelineFactory.sslEngineProvider">sslEngineProvider</a>: <span title="Option[play.server.SSLEngineProvider]">Option</span><span class="delimiter">[</span>SSLEngineProvider<span class="delimiter">]</span> = <span class="comment">//the sslContext should be reused on each connection</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span title="(x: play.server.SSLEngineProvider)Some[play.server.SSLEngineProvider]">Some</span><span class="delimiter">(</span><a href="ServerSSLEngine.scala.html#play.core.server.ServerSSLEngine" title="play.core.server.ServerSSLEngine.type">ServerSSLEngine</a>.<a href="ServerSSLEngine.scala.html#play.core.server.ServerSSLEngine.createSSLEngineProvider" title="(applicationProvider: play.core.ApplicationProvider)play.server.SSLEngineProvider">createSSLEngineProvider</a><span class="delimiter">(</span><a href="#play.core.server;NettyServer.applicationProvider" title="=&gt; play.core.ApplicationProvider">applicationProvider</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="#play.core.server;NettyServer;PlayPipelineFactory.sslEngineProvider.<unapply-selector>" title="(t: Throwable)Option[Throwable]">NonFatal</a><span class="delimiter">(</span><a title="Throwable" id="play.core.server;NettyServer;PlayPipelineFactory.sslEngineProvider.e">e</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
          <a href="../../api/Play.scala.html#play.api.Play" title="play.api.Play.type">Play</a>.<a href="../../api/Play.scala.html#play.api.Play.logger" title="=&gt; play.api.Logger">logger</a>.<a href="../../api/Logger.scala.html#play.api;LoggerLike.error(804ef4765b)" title="(message: =&gt; String, error: =&gt; Throwable)Unit">error</a><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;cannot load SSL context&quot;)" class="string">cannot load SSL context&quot;</span>, <a href="#play.core.server;NettyServer;PlayPipelineFactory.sslEngineProvider.e" title="Throwable">e</a><span class="delimiter">)</span>
          <span title="None.type">None</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

  <span class="delimiter">}</span>

  <span class="comment">// Keep a reference on all opened channels (useful to close everything properly, especially in DEV mode)</span>
  <span class="keyword">val</span> <a title="org.jboss.netty.channel.group.DefaultChannelGroup" id="play.core.server;NettyServer.allChannels">allChannels</a> = <span title="org.jboss.netty.channel.group.DefaultChannelGroup" class="keyword">new</span> <span title="org.jboss.netty.channel.group.DefaultChannelGroup">DefaultChannelGroup</span>

  <span class="comment">// Our upStream handler is stateless. Let's use this instance for every new connection</span>
  <span class="keyword">val</span> <a title="play.core.server.netty.PlayDefaultUpstreamHandler" id="play.core.server;NettyServer.defaultUpStreamHandler">defaultUpStreamHandler</a> = <span title="play.core.server.netty.PlayDefaultUpstreamHandler" class="keyword">new</span> <a href="netty/PlayDefaultUpstreamHandler.scala.html#play.core.server.netty;PlayDefaultUpstreamHandler" title="play.core.server.netty.PlayDefaultUpstreamHandler">PlayDefaultUpstreamHandler</a><span class="delimiter">(</span><a href="#play.core.server;NettyServer" title="play.core.server.NettyServer" class="keyword">this</a>, <a href="#play.core.server;NettyServer.allChannels" title="=&gt; org.jboss.netty.channel.group.DefaultChannelGroup">allChannels</a><span class="delimiter">)</span>

  <span class="comment">// The HTTP server channel</span>
  <span class="keyword">val</span> <a title="Option[(org.jboss.netty.bootstrap.ServerBootstrap, org.jboss.netty.channel.Channel)]" id="play.core.server;NettyServer.HTTP">HTTP</a> = <a href="#play.core.server;NettyServer.port" title="Option[Int]">port</a>.<span title="(f: Int =&gt; (org.jboss.netty.bootstrap.ServerBootstrap, org.jboss.netty.channel.Channel))Option[(org.jboss.netty.bootstrap.ServerBootstrap, org.jboss.netty.channel.Channel)]">map</span> <span class="delimiter">{</span> <a title="Int" id="play.core.server;NettyServer.HTTP.$anonfun.port">port</a> =&gt;
    <span class="keyword">val</span> <a title="org.jboss.netty.bootstrap.ServerBootstrap" id="play.core.server;NettyServer.HTTP.$anonfun.bootstrap">bootstrap</a> = <a href="#play.core.server;NettyServer.newBootstrap" title="=&gt; org.jboss.netty.bootstrap.ServerBootstrap">newBootstrap</a>
    <a href="#play.core.server;NettyServer.HTTP.$anonfun.bootstrap" title="org.jboss.netty.bootstrap.ServerBootstrap">bootstrap</a>.<span title="(x$1: org.jboss.netty.channel.ChannelPipelineFactory)Unit">setPipelineFactory</span><span class="delimiter">(</span><a href="#play.core.server;NettyServer.PlayPipelineFactory.<init>$default$1" title="NettyServer.this.PlayPipelineFactory" class="keyword">new</a> <a href="#play.core.server;NettyServer.PlayPipelineFactory" title="NettyServer.this.PlayPipelineFactory">PlayPipelineFactory</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.jboss.netty.channel.Channel" id="play.core.server;NettyServer.HTTP.$anonfun.channel">channel</a> = <a href="#play.core.server;NettyServer.HTTP.$anonfun.bootstrap" title="org.jboss.netty.bootstrap.ServerBootstrap">bootstrap</a>.<span title="(x$1: java.net.SocketAddress)org.jboss.netty.channel.Channel">bind</span><span class="delimiter">(</span><span title="(x$1: String, x$2: Int)java.net.InetSocketAddress" class="keyword">new</span> <span title="java.net.InetSocketAddress">InetSocketAddress</span><span class="delimiter">(</span><a href="#play.core.server.NettyServer.<init>$default$4" title="String">address</a>, <a href="#play.core.server;NettyServer.HTTP.$anonfun.port" title="Int">port</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#play.core.server;NettyServer.allChannels" title="=&gt; org.jboss.netty.channel.group.DefaultChannelGroup">allChannels</a>.<span title="(x$1: org.jboss.netty.channel.Channel)Boolean">add</span><span class="delimiter">(</span><a href="#play.core.server;NettyServer.HTTP.$anonfun.channel" title="org.jboss.netty.channel.Channel">channel</a><span class="delimiter">)</span>
    <span title="(_1: org.jboss.netty.bootstrap.ServerBootstrap, _2: org.jboss.netty.channel.Channel)(org.jboss.netty.bootstrap.ServerBootstrap, org.jboss.netty.channel.Channel)" class="delimiter">(</span><a href="#play.core.server;NettyServer.HTTP.$anonfun.bootstrap" title="org.jboss.netty.bootstrap.ServerBootstrap">bootstrap</a>, <a href="#play.core.server;NettyServer.HTTP.$anonfun.channel" title="org.jboss.netty.channel.Channel">channel</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">// Maybe the HTTPS server channel</span>
  <span class="keyword">val</span> <a title="Option[(org.jboss.netty.bootstrap.ServerBootstrap, org.jboss.netty.channel.Channel)]" id="play.core.server;NettyServer.HTTPS">HTTPS</a> = <a href="#play.core.server.NettyServer.<init>$default$3" title="Option[Int]">sslPort</a>.<span title="(f: Int =&gt; (org.jboss.netty.bootstrap.ServerBootstrap, org.jboss.netty.channel.Channel))Option[(org.jboss.netty.bootstrap.ServerBootstrap, org.jboss.netty.channel.Channel)]">map</span> <span class="delimiter">{</span> <a title="Int" id="play.core.server;NettyServer.HTTPS.$anonfun.port">port</a> =&gt;
    <span class="keyword">val</span> <a title="org.jboss.netty.bootstrap.ServerBootstrap" id="play.core.server;NettyServer.HTTPS.$anonfun.bootstrap">bootstrap</a> = <a href="#play.core.server;NettyServer.newBootstrap" title="=&gt; org.jboss.netty.bootstrap.ServerBootstrap">newBootstrap</a>
    <a href="#play.core.server;NettyServer.HTTPS.$anonfun.bootstrap" title="org.jboss.netty.bootstrap.ServerBootstrap">bootstrap</a>.<span title="(x$1: org.jboss.netty.channel.ChannelPipelineFactory)Unit">setPipelineFactory</span><span class="delimiter">(</span><span title="NettyServer.this.PlayPipelineFactory" class="keyword">new</span> <a href="#play.core.server;NettyServer.PlayPipelineFactory" title="NettyServer.this.PlayPipelineFactory">PlayPipelineFactory</a><span class="delimiter">(</span>secure = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.jboss.netty.channel.Channel" id="play.core.server;NettyServer.HTTPS.$anonfun.channel">channel</a> = <a href="#play.core.server;NettyServer.HTTPS.$anonfun.bootstrap" title="org.jboss.netty.bootstrap.ServerBootstrap">bootstrap</a>.<span title="(x$1: java.net.SocketAddress)org.jboss.netty.channel.Channel">bind</span><span class="delimiter">(</span><span title="(x$1: String, x$2: Int)java.net.InetSocketAddress" class="keyword">new</span> <span title="java.net.InetSocketAddress">InetSocketAddress</span><span class="delimiter">(</span><a href="#play.core.server.NettyServer.<init>$default$4" title="String">address</a>, <a href="#play.core.server;NettyServer.HTTPS.$anonfun.port" title="Int">port</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#play.core.server;NettyServer.allChannels" title="=&gt; org.jboss.netty.channel.group.DefaultChannelGroup">allChannels</a>.<span title="(x$1: org.jboss.netty.channel.Channel)Boolean">add</span><span class="delimiter">(</span><a href="#play.core.server;NettyServer.HTTPS.$anonfun.channel" title="org.jboss.netty.channel.Channel">channel</a><span class="delimiter">)</span>
    <span title="(_1: org.jboss.netty.bootstrap.ServerBootstrap, _2: org.jboss.netty.channel.Channel)(org.jboss.netty.bootstrap.ServerBootstrap, org.jboss.netty.channel.Channel)" class="delimiter">(</span><a href="#play.core.server;NettyServer.HTTPS.$anonfun.bootstrap" title="org.jboss.netty.bootstrap.ServerBootstrap">bootstrap</a>, <a href="#play.core.server;NettyServer.HTTPS.$anonfun.channel" title="org.jboss.netty.channel.Channel">channel</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <a href="#play.core.server.NettyServer.<init>$default$5" title="=&gt; play.api.Mode.Mode">mode</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../../api/Play.scala.html#play.api.Mode" title="play.api.Mode.type">Mode</a>.<a href="../../api/Play.scala.html#play.api.Mode.Test" title="=&gt; play.api.Mode.Value">Test</a> =&gt;
    <span class="keyword">case</span> _ =&gt; <span class="delimiter">{</span>
      <a href="#play.core.server;NettyServer.HTTP" title="=&gt; Option[(org.jboss.netty.bootstrap.ServerBootstrap, org.jboss.netty.channel.Channel)]">HTTP</a>.<span title="(f: ((org.jboss.netty.bootstrap.ServerBootstrap, org.jboss.netty.channel.Channel)) =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="(org.jboss.netty.bootstrap.ServerBootstrap, org.jboss.netty.channel.Channel)" id="play.core.server;NettyServer.<local NettyServer>.$anonfun.http">http</a> =&gt;
        <a href="../../api/Play.scala.html#play.api.Play" title="play.api.Play.type">Play</a>.<a href="../../api/Play.scala.html#play.api.Play.logger" title="=&gt; play.api.Logger">logger</a>.<a href="../../api/Logger.scala.html#play.api;LoggerLike.info(83d3728a3c)" title="(message: =&gt; String)Unit">info</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Listening for HTTP on %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#play.core.server;NettyServer.<local NettyServer>.$anonfun.http" title="(org.jboss.netty.bootstrap.ServerBootstrap, org.jboss.netty.channel.Channel)">http</a>.<span title="=&gt; org.jboss.netty.channel.Channel">_2</span>.<span title="()java.net.SocketAddress">getLocalAddress</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#play.core.server;NettyServer.HTTPS" title="=&gt; Option[(org.jboss.netty.bootstrap.ServerBootstrap, org.jboss.netty.channel.Channel)]">HTTPS</a>.<span title="(f: ((org.jboss.netty.bootstrap.ServerBootstrap, org.jboss.netty.channel.Channel)) =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="(org.jboss.netty.bootstrap.ServerBootstrap, org.jboss.netty.channel.Channel)" id="play.core.server;NettyServer.<local NettyServer>.$anonfun.https">https</a> =&gt;
        <a href="../../api/Play.scala.html#play.api.Play" title="play.api.Play.type">Play</a>.<a href="../../api/Play.scala.html#play.api.Play.logger" title="=&gt; play.api.Logger">logger</a>.<a href="../../api/Logger.scala.html#play.api;LoggerLike.info(83d3728a3c)" title="(message: =&gt; String)Unit">info</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Listening for HTTPS on port %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#play.core.server;NettyServer.<local NettyServer>.$anonfun.https" title="(org.jboss.netty.bootstrap.ServerBootstrap, org.jboss.netty.channel.Channel)">https</a>.<span title="=&gt; org.jboss.netty.channel.Channel">_2</span>.<span title="()java.net.SocketAddress">getLocalAddress</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Unit" id="play.core.server;NettyServer.stop">stop</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>

    <span class="keyword">try</span> <span class="delimiter">{</span>
      <a href="../../api/Play.scala.html#play.api.Play" title="play.api.Play.type">Play</a>.<a href="../../api/Play.scala.html#play.api.Play.stop" title="()Unit">stop</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#play.core.server;NettyServer.stop.<unapply-selector>" title="(t: Throwable)Option[Throwable]">NonFatal</a><span class="delimiter">(</span><span title="Throwable">e</span><span class="delimiter">)</span> =&gt; <a href="../../api/Play.scala.html#play.api.Play" title="play.api.Play.type">Play</a>.<a href="../../api/Play.scala.html#play.api.Play.logger" title="=&gt; play.api.Logger">logger</a>.<a href="../../api/Logger.scala.html#play.api;LoggerLike.error(804ef4765b)" title="(message: =&gt; String, error: =&gt; Throwable)Unit">error</a><span class="delimiter">(</span><span title="String(&quot;Error while stopping the application&quot;)" class="string">&quot;Error while stopping the application&quot;</span>, <span title="Throwable">e</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">try</span> <span class="delimiter">{</span>
      <a href="#play.core.server;NettyServer" title="play.core.server.NettyServer" class="keyword">super</a>.<a href="Server.scala.html#play.core.server;Server.stop" title="()Unit">stop</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#play.core.server;NettyServer.stop.<unapply-selector>" title="(t: Throwable)Option[Throwable]">NonFatal</a><span class="delimiter">(</span><span title="Throwable">e</span><span class="delimiter">)</span> =&gt; <a href="../../api/Play.scala.html#play.api.Play" title="play.api.Play.type">Play</a>.<a href="../../api/Play.scala.html#play.api.Play.logger" title="=&gt; play.api.Logger">logger</a>.<a href="../../api/Logger.scala.html#play.api;LoggerLike.error(804ef4765b)" title="(message: =&gt; String, error: =&gt; Throwable)Unit">error</a><span class="delimiter">(</span><span title="String(&quot;Error while stopping logger&quot;)" class="string">&quot;Error while stopping logger&quot;</span>, <span title="Throwable">e</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="#play.core.server.NettyServer.<init>$default$5" title="=&gt; play.api.Mode.Mode">mode</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="../../api/Play.scala.html#play.api.Mode" title="play.api.Mode.type">Mode</a>.<a href="../../api/Play.scala.html#play.api.Mode.Test" title="=&gt; play.api.Mode.Value">Test</a> =&gt;
      <span class="keyword">case</span> _ =&gt; <a href="../../api/Play.scala.html#play.api.Play" title="play.api.Play.type">Play</a>.<a href="../../api/Play.scala.html#play.api.Play.logger" title="=&gt; play.api.Logger">logger</a>.<a href="../../api/Logger.scala.html#play.api;LoggerLike.info(83d3728a3c)" title="(message: =&gt; String)Unit">info</a><span class="delimiter">(</span><span title="String(&quot;Stopping server...&quot;)" class="string">&quot;Stopping server...&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">// First, close all opened sockets</span>
    <a href="#play.core.server;NettyServer.allChannels" title="=&gt; org.jboss.netty.channel.group.DefaultChannelGroup">allChannels</a>.<span title="()org.jboss.netty.channel.group.ChannelGroupFuture">close</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="()org.jboss.netty.channel.group.ChannelGroupFuture">awaitUninterruptibly</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="comment">// Release the HTTP server</span>
    <a href="#play.core.server;NettyServer.HTTP" title="=&gt; Option[(org.jboss.netty.bootstrap.ServerBootstrap, org.jboss.netty.channel.Channel)]">HTTP</a>.<span title="(f: ((org.jboss.netty.bootstrap.ServerBootstrap, org.jboss.netty.channel.Channel)) =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#play.core.server;NettyServer.stop.$anonfun.x$4" title="(org.jboss.netty.bootstrap.ServerBootstrap, org.jboss.netty.channel.Channel)">_</a>.<span title="=&gt; org.jboss.netty.bootstrap.ServerBootstrap">_1</span>.<span title="()Unit">releaseExternalResources</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">// Release the HTTPS server if needed</span>
    <a href="#play.core.server;NettyServer.HTTPS" title="=&gt; Option[(org.jboss.netty.bootstrap.ServerBootstrap, org.jboss.netty.channel.Channel)]">HTTPS</a>.<span title="(f: ((org.jboss.netty.bootstrap.ServerBootstrap, org.jboss.netty.channel.Channel)) =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#play.core.server;NettyServer.stop.$anonfun.x$5" title="(org.jboss.netty.bootstrap.ServerBootstrap, org.jboss.netty.channel.Channel)">_</a>.<span title="=&gt; org.jboss.netty.bootstrap.ServerBootstrap">_1</span>.<span title="()Unit">releaseExternalResources</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="#play.core.server.NettyServer.<init>$default$5" title="=&gt; play.api.Mode.Mode">mode</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="../../api/Play.scala.html#play.api.Mode" title="play.api.Mode.type">Mode</a>.<a href="../../api/Play.scala.html#play.api.Mode.Dev" title="=&gt; play.api.Mode.Value">Dev</a> =&gt;
        <a href="../system/Invoker.scala.html#play.core.Invoker" title="play.core.Invoker.type">Invoker</a>.<a href="../system/Invoker.scala.html#play.core.Invoker.lazySystem" title="=&gt; play.core.ClosableLazy[akka.actor.ActorSystem]">lazySystem</a>.<a href="../system/ClosableLazy.scala.html#play.core;ClosableLazy.close" title="()Unit">close</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="../system/Execution.scala.html#play.core.Execution" title="play.core.Execution.type">Execution</a>.<a href="../system/Execution.scala.html#play.core.Execution.lazyContext" title="=&gt; play.core.ClosableLazy[scala.concurrent.ExecutionContext]">lazyContext</a>.<a href="../system/ClosableLazy.scala.html#play.core;ClosableLazy.close" title="()Unit">close</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">case</span> _ =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.net.InetSocketAddress" id="play.core.server;NettyServer.mainAddress">mainAddress</a> = <span class="delimiter">{</span>
    <span title="java.net.InetSocketAddress" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.core.server;NettyServer.HTTP" title="=&gt; Option[(org.jboss.netty.bootstrap.ServerBootstrap, org.jboss.netty.channel.Channel)]">HTTP</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#play.core.server;NettyServer.HTTP" title="=&gt; Option[(org.jboss.netty.bootstrap.ServerBootstrap, org.jboss.netty.channel.Channel)]">HTTP</a>.<span title="=&gt; (org.jboss.netty.bootstrap.ServerBootstrap, org.jboss.netty.channel.Channel)">get</span>.<span title="=&gt; org.jboss.netty.channel.Channel">_2</span>.<span title="()java.net.SocketAddress">getLocalAddress</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="java.net.InetSocketAddress" class="delimiter">[</span><span title="java.net.InetSocketAddress">InetSocketAddress</span><span class="delimiter">]</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <a href="#play.core.server;NettyServer.HTTPS" title="=&gt; Option[(org.jboss.netty.bootstrap.ServerBootstrap, org.jboss.netty.channel.Channel)]">HTTPS</a>.<span title="=&gt; (org.jboss.netty.bootstrap.ServerBootstrap, org.jboss.netty.channel.Channel)">get</span>.<span title="=&gt; org.jboss.netty.channel.Channel">_2</span>.<span title="()java.net.SocketAddress">getLocalAddress</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="java.net.InetSocketAddress" class="delimiter">[</span><span title="java.net.InetSocketAddress">InetSocketAddress</span><span class="delimiter">]</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="play.core.server.noCATrustManager.type" id="play.core.server.noCATrustManager">noCATrustManager</a> <a href="#play.core.server.noCATrustManager" title="play.core.server.noCATrustManager.type" class="keyword">extends</a> <span title="javax.net.ssl.X509TrustManager">X509TrustManager</span> <span class="delimiter">{</span>
  <span class="keyword">val</span> <a title="Array[java.security.cert.X509Certificate]" id="play.core.server.noCATrustManager.nullArray">nullArray</a> = <span title="[T](xs: T*)(implicit evidence$2: scala.reflect.ClassTag[T])Array[T]">Array</span><span title="(xs: java.security.cert.X509Certificate*)(implicit evidence$2: scala.reflect.ClassTag[java.security.cert.X509Certificate])Array[java.security.cert.X509Certificate]" class="delimiter">[</span><span title="java.security.cert.X509Certificate">X509Certificate</span><span class="delimiter">]</span><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[java.security.cert.X509Certificate]" class="delimiter">(</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(x509Certificates: Array[java.security.cert.X509Certificate], s: String)Unit" id="play.core.server.noCATrustManager.checkClientTrusted">checkClientTrusted</a><span class="delimiter">(</span><a title="Array[java.security.cert.X509Certificate]" id="play.core.server.noCATrustManager.checkClientTrusted.x509Certificates">x509Certificates</a>: <span title="Array[java.security.cert.X509Certificate]">Array</span><span class="delimiter">[</span>X509Certificate<span class="delimiter">]</span>, <a title="String" id="play.core.server.noCATrustManager.checkClientTrusted.s">s</a>: <span title="String">String</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(x509Certificates: Array[java.security.cert.X509Certificate], s: String)Unit" id="play.core.server.noCATrustManager.checkServerTrusted">checkServerTrusted</a><span class="delimiter">(</span><a title="Array[java.security.cert.X509Certificate]" id="play.core.server.noCATrustManager.checkServerTrusted.x509Certificates">x509Certificates</a>: <span title="Array[java.security.cert.X509Certificate]">Array</span><span class="delimiter">[</span>X509Certificate<span class="delimiter">]</span>, <a title="String" id="play.core.server.noCATrustManager.checkServerTrusted.s">s</a>: <span title="String">String</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="()Array[java.security.cert.X509Certificate]" id="play.core.server.noCATrustManager.getAcceptedIssuers">getAcceptedIssuers</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#play.core.server.noCATrustManager.nullArray" title="=&gt; Array[java.security.cert.X509Certificate]">nullArray</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * bootstraps Play application with a NettyServer backened
 */</span>
<span class="keyword">object</span> <a title="play.core.server.NettyServer.type" id="play.core.server.NettyServer">NettyServer</a> <a href="#play.core.server.NettyServer" title="play.core.server.NettyServer.type" class="delimiter">{</a>

  <span class="keyword">import</span> java.io._

  <span class="comment">/**
   * creates a NettyServer based on the application represented by applicationPath
   * @param applicationPath path to application
   */</span>
  <span class="keyword">def</span> <a title="(applicationPath: java.io.File)Option[play.core.server.NettyServer]" id="play.core.server.NettyServer.createServer">createServer</a><span class="delimiter">(</span><a title="java.io.File" id="play.core.server.NettyServer.createServer.applicationPath">applicationPath</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Option[play.core.server.NettyServer]">Option</span><span class="delimiter">[</span>NettyServer<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// Manage RUNNING_PID file</span>
    java.lang.management.<span title="java.lang.management.ManagementFactory.type">ManagementFactory</span>.<span title="()java.lang.management.RuntimeMXBean">getRuntimeMXBean</span>.<span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">getName</span>.<span title="(separator: Char)Array[String]">split</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="Char('@')" class="char">'@'</span><span class="delimiter">)</span>.<span title="=&gt; Option[String]">headOption</span>.<span title="(f: String =&gt; Unit)Option[Unit]">map</span> <span class="delimiter">{</span> <a title="String" id="play.core.server.NettyServer.createServer.$anonfun.pid">pid</a> =&gt;
      <span class="keyword">val</span> <a title="java.io.File" id="play.core.server.NettyServer.createServer.$anonfun.pidFile">pidFile</a> = <span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><span title="System.type">System</span>.<span title="(x$1: String)String">getProperty</span><span class="delimiter">(</span><span title="String(&quot;pidfile.path&quot;)" class="string">&quot;pidfile.path&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: String =&gt; java.io.File)Option[java.io.File]">map</span><span class="delimiter">(</span><span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#play.core.server.NettyServer.createServer.$anonfun.pidFile.$anonfun.x$6" title="String">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; java.io.File)java.io.File">getOrElse</span><span class="delimiter">(</span><span title="(x$1: String, x$2: String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#play.core.server.NettyServer.createServer.applicationPath" title="java.io.File">applicationPath</a>.<span title="()String">getAbsolutePath</span>, <span title="String(&quot;RUNNING_PID&quot;)" class="string">&quot;RUNNING_PID&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="comment">// The Logger is not initialized yet, we print the Process ID on STDOUT</span>
      <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;Play server process ID is &quot;)" class="string">&quot;Play server process ID is &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#play.core.server.NettyServer.createServer.$anonfun.pid" title="String">pid</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.core.server.NettyServer.createServer.$anonfun.pidFile" title="java.io.File">pidFile</a>.<span title="()String">getAbsolutePath</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="String(&quot;/dev/null&quot;)" class="string">&quot;/dev/null&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.core.server.NettyServer.createServer.$anonfun.pidFile" title="java.io.File">pidFile</a>.<span title="()Boolean">exists</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;This application is already running (Or delete &quot;)" class="string">&quot;This application is already running (Or delete &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#play.core.server.NettyServer.createServer.$anonfun.pidFile" title="java.io.File">pidFile</a>.<span title="()String">getAbsolutePath</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; file).&quot;)" class="string">&quot; file).&quot;</span><span class="delimiter">)</span>
          <span title="System.type">System</span>.<span title="(x$1: Int)Unit">exit</span><span class="delimiter">(</span>-<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span title="(x$1: java.io.File)java.io.FileOutputStream" class="keyword">new</span> <span title="java.io.FileOutputStream">FileOutputStream</span><span class="delimiter">(</span><a href="#play.core.server.NettyServer.createServer.$anonfun.pidFile" title="java.io.File">pidFile</a><span class="delimiter">)</span>.<span title="(x$1: Array[Byte])Unit">write</span><span class="delimiter">(</span><a href="#play.core.server.NettyServer.createServer.$anonfun.pid" title="String">pid</a>.<span title="()Array[Byte]">getBytes</span><span class="delimiter">)</span>
        <span title="Runtime.type">Runtime</span>.<span title="()Runtime">getRuntime</span>.<span title="(x$1: Thread)Unit">addShutdownHook</span><span class="delimiter">(</span><a href="#play.core.server.NettyServer.createServer.$anonfun;$anon" title="Thread" class="keyword">new</a> <a title="anonymous class $anon extends Thread" id="play.core.server.NettyServer.createServer.$anonfun;$anon">Thread</a> <span class="delimiter">{</span>
          <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Unit" id="play.core.server.NettyServer.createServer.$anonfun;$anon.run">run</a> <span class="delimiter">{</span>
            <a href="#play.core.server.NettyServer.createServer.$anonfun.pidFile" title="java.io.File">pidFile</a>.<span title="()Boolean">delete</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">try</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="play.core.server.NettyServer" id="play.core.server.NettyServer.createServer.server">server</a> = <a href="#play.core.server.NettyServer.<init>$default$5" title="play.core.server.NettyServer" class="keyword">new</a> <a href="#play.core.server;NettyServer" title="play.core.server.NettyServer">NettyServer</a><span class="delimiter">(</span>
        <span title="play.core.StaticApplication" class="keyword">new</span> <a href="../system/ApplicationProvider.scala.html#play.core;StaticApplication" title="play.core.StaticApplication">StaticApplication</a><span class="delimiter">(</span><a href="#play.core.server.NettyServer.createServer.applicationPath" title="java.io.File">applicationPath</a><span class="delimiter">)</span>,
        <span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><span title="System.type">System</span>.<span title="(x$1: String)String">getProperty</span><span class="delimiter">(</span><span title="String(&quot;http.port&quot;)" class="string">&quot;http.port&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(ifEmpty: =&gt; Option[Int])(f: String =&gt; Option[Int])Option[Int]">fold</span><span class="delimiter">(</span><span title="(x: Int)Option[Int]">Option</span><span class="delimiter">(</span><span title="Int(9000)" class="int">9000</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="String" id="play.core.server.NettyServer.createServer.server.$anonfun.p">p</a> =&gt; <span title="Option[Int]" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.core.server.NettyServer.createServer.server.$anonfun.p" title="String">p</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="String(&quot;disabled&quot;)" class="string">&quot;disabled&quot;</span><span class="delimiter">)</span> <span title="Option.type">Option</span>.<span title="[A]=&gt; Option[A]">empty</span><span title="Option[Int]" class="delimiter">[</span><span title="Int">Int</span><span class="delimiter">]</span> <span class="keyword">else</span> <span title="(x: Int)Option[Int]">Option</span><span class="delimiter">(</span><span title="Integer.type">Integer</span>.<span title="(x$1: String)Int">parseInt</span><span class="delimiter">(</span><a href="#play.core.server.NettyServer.createServer.server.$anonfun.p" title="String">p</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
        <span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><span title="System.type">System</span>.<span title="(x$1: String)String">getProperty</span><span class="delimiter">(</span><span title="String(&quot;https.port&quot;)" class="string">&quot;https.port&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: String =&gt; Int)Option[Int]">map</span><span class="delimiter">(</span><span title="Integer.type">Integer</span>.<span title="(x$1: String)Int">parseInt</span><span class="delimiter">(</span><a href="#play.core.server.NettyServer.createServer.server.$anonfun.x$7" title="String">_</a><span class="delimiter">)</span><span class="delimiter">)</span>,
        <span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><span title="System.type">System</span>.<span title="(x$1: String)String">getProperty</span><span class="delimiter">(</span><span title="String(&quot;http.address&quot;)" class="string">&quot;http.address&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="String(&quot;0.0.0.0&quot;)" class="string">&quot;0.0.0.0&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>

      <span title="Runtime.type">Runtime</span>.<span title="()Runtime">getRuntime</span>.<span title="(x$1: Thread)Unit">addShutdownHook</span><span class="delimiter">(</span><a href="#play.core.server.NettyServer.createServer;$anon" title="Thread" class="keyword">new</a> <a title="anonymous class $anon extends Thread" id="play.core.server.NettyServer.createServer;$anon">Thread</a> <span class="delimiter">{</span>
        <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Unit" id="play.core.server.NettyServer.createServer;$anon.run">run</a> <span class="delimiter">{</span>
          <a href="#play.core.server.NettyServer.createServer.server" title="play.core.server.NettyServer">server</a>.<a href="#play.core.server;NettyServer.stop" title="()Unit">stop</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>

      <span title="(x: play.core.server.NettyServer)Some[play.core.server.NettyServer]">Some</span><span class="delimiter">(</span><a href="#play.core.server.NettyServer.createServer.server" title="play.core.server.NettyServer">server</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#play.core.server.NettyServer.createServer.<unapply-selector>" title="(t: Throwable)Option[Throwable]">NonFatal</a><span class="delimiter">(</span><a title="Throwable" id="play.core.server.NettyServer.createServer.e">e</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
        <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;Oops, cannot start the server.&quot;)" class="string">&quot;Oops, cannot start the server.&quot;</span><span class="delimiter">)</span>
        <a href="#play.core.server.NettyServer.createServer.e" title="Throwable">e</a>.<span title="()Unit">printStackTrace</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span title="None.type">None</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * attempts to create a NettyServer based on either
   * passed in argument or `user.dir` System property or current directory
   * @param args
   */</span>
  <span class="keyword">def</span> <a title="(args: Array[String])Unit" id="play.core.server.NettyServer.main">main</a><span class="delimiter">(</span><a title="Array[String]" id="play.core.server.NettyServer.main.args">args</a>: <span title="Array[String]">Array</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#play.core.server.NettyServer.main.args" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">args</a>.<span title="=&gt; Option[String]">headOption</span>
      .<span title="(alternative: =&gt; Option[String])Option[String]">orElse</span><span class="delimiter">(</span><span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><span title="System.type">System</span>.<span title="(x$1: String)String">getProperty</span><span class="delimiter">(</span><span title="String(&quot;user.dir&quot;)" class="string">&quot;user.dir&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      .<span title="(f: String =&gt; Any)Option[Any]">map</span> <span class="delimiter">{</span> <a title="String" id="play.core.server.NettyServer.main.$anonfun.applicationPath">applicationPath</a> =&gt;
        <span class="keyword">val</span> <a title="java.io.File" id="play.core.server.NettyServer.main.$anonfun.applicationFile">applicationFile</a> = <span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#play.core.server.NettyServer.main.$anonfun.applicationPath" title="String">applicationPath</a><span class="delimiter">)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#play.core.server.NettyServer.main.$anonfun.applicationFile" title="java.io.File">applicationFile</a>.<span title="()Boolean">exists</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#play.core.server.NettyServer.main.$anonfun.applicationFile" title="java.io.File">applicationFile</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;Bad application path: &quot;)" class="string">&quot;Bad application path: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#play.core.server.NettyServer.main.$anonfun.applicationPath" title="String">applicationPath</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#play.core.server.NettyServer.createServer" title="(applicationPath: java.io.File)Option[play.core.server.NettyServer]">createServer</a><span class="delimiter">(</span><a href="#play.core.server.NettyServer.main.$anonfun.applicationFile" title="java.io.File">applicationFile</a><span class="delimiter">)</span>.<span title="(default: =&gt; Any)Any">getOrElse</span><span class="delimiter">(</span><span title="System.type">System</span>.<span title="(x$1: Int)Unit">exit</span><span class="delimiter">(</span>-<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>.<span title="(default: =&gt; Any)Any">getOrElse</span> <span title="Unit" class="delimiter">{</span>
        <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;No application path supplied&quot;)" class="string">&quot;No application path supplied&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Provides an HTTPS-only NettyServer for the dev environment.
   *
   * &lt;p&gt;This method uses simple Java types so that it can be used with reflection by code
   * compiled with different versions of Scala.
   */</span>
  <span class="keyword">def</span> <a title="(buildLink: play.core.BuildLink, buildDocHandler: play.core.BuildDocHandler, httpsPort: Int)play.core.server.NettyServer" id="play.core.server.NettyServer.mainDevOnlyHttpsMode">mainDevOnlyHttpsMode</a><span class="delimiter">(</span><a title="play.core.BuildLink" id="play.core.server.NettyServer.mainDevOnlyHttpsMode.buildLink">buildLink</a>: <span title="play.core.BuildLink">BuildLink</span>, <a title="play.core.BuildDocHandler" id="play.core.server.NettyServer.mainDevOnlyHttpsMode.buildDocHandler">buildDocHandler</a>: <span title="play.core.BuildDocHandler">BuildDocHandler</span>, <a title="Int" id="play.core.server.NettyServer.mainDevOnlyHttpsMode.httpsPort">httpsPort</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#play.core.server;NettyServer" title="play.core.server.NettyServer">NettyServer</a> = <span class="delimiter">{</span>
    <a href="#play.core.server.NettyServer.mainDev" title="(buildLink: play.core.BuildLink, buildDocHandler: play.core.BuildDocHandler, httpPort: Option[Int], httpsPort: Option[Int])play.core.server.NettyServer">mainDev</a><span class="delimiter">(</span><a href="#play.core.server.NettyServer.mainDevOnlyHttpsMode.buildLink" title="play.core.BuildLink">buildLink</a>, <a href="#play.core.server.NettyServer.mainDevOnlyHttpsMode.buildDocHandler" title="play.core.BuildDocHandler">buildDocHandler</a>, <span title="None.type">None</span>, <span title="(x: Int)Some[Int]">Some</span><span class="delimiter">(</span><a href="#play.core.server.NettyServer.mainDevOnlyHttpsMode.httpsPort" title="Int">httpsPort</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Provides an HTTP NettyServer for the dev environment
   *
   * &lt;p&gt;This method uses simple Java types so that it can be used with reflection by code
   * compiled with different versions of Scala.
   */</span>
  <span class="keyword">def</span> <a title="(buildLink: play.core.BuildLink, buildDocHandler: play.core.BuildDocHandler, httpPort: Int)play.core.server.NettyServer" id="play.core.server.NettyServer.mainDevHttpMode">mainDevHttpMode</a><span class="delimiter">(</span><a title="play.core.BuildLink" id="play.core.server.NettyServer.mainDevHttpMode.buildLink">buildLink</a>: <span title="play.core.BuildLink">BuildLink</span>, <a title="play.core.BuildDocHandler" id="play.core.server.NettyServer.mainDevHttpMode.buildDocHandler">buildDocHandler</a>: <span title="play.core.BuildDocHandler">BuildDocHandler</span>, <a title="Int" id="play.core.server.NettyServer.mainDevHttpMode.httpPort">httpPort</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#play.core.server;NettyServer" title="play.core.server.NettyServer">NettyServer</a> = <span class="delimiter">{</span>
    <a href="#play.core.server.NettyServer.mainDev" title="(buildLink: play.core.BuildLink, buildDocHandler: play.core.BuildDocHandler, httpPort: Option[Int], httpsPort: Option[Int])play.core.server.NettyServer">mainDev</a><span class="delimiter">(</span><a href="#play.core.server.NettyServer.mainDevHttpMode.buildLink" title="play.core.BuildLink">buildLink</a>, <a href="#play.core.server.NettyServer.mainDevHttpMode.buildDocHandler" title="play.core.BuildDocHandler">buildDocHandler</a>, <span title="(x: Int)Some[Int]">Some</span><span class="delimiter">(</span><a href="#play.core.server.NettyServer.mainDevHttpMode.httpPort" title="Int">httpPort</a><span class="delimiter">)</span>, <span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><span title="System.type">System</span>.<span title="(x$1: String)String">getProperty</span><span class="delimiter">(</span><span title="String(&quot;https.port&quot;)" class="string">&quot;https.port&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: String =&gt; Int)Option[Int]">map</span><span class="delimiter">(</span><span title="Integer.type">Integer</span>.<span title="(x$1: String)Int">parseInt</span><span class="delimiter">(</span><a href="#play.core.server.NettyServer.mainDevHttpMode.$anonfun.x$8" title="String">_</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(buildLink: play.core.BuildLink, buildDocHandler: play.core.BuildDocHandler, httpPort: Option[Int], httpsPort: Option[Int])play.core.server.NettyServer" id="play.core.server.NettyServer.mainDev">mainDev</a><span class="delimiter">(</span><a title="play.core.BuildLink" id="play.core.server.NettyServer.mainDev.buildLink">buildLink</a>: <span title="play.core.BuildLink">BuildLink</span>, <a title="play.core.BuildDocHandler" id="play.core.server.NettyServer.mainDev.buildDocHandler">buildDocHandler</a>: <span title="play.core.BuildDocHandler">BuildDocHandler</span>, <a title="Option[Int]" id="play.core.server.NettyServer.mainDev.httpPort">httpPort</a>: <span title="Option[Int]">Option</span><span class="delimiter">[</span>Int<span class="delimiter">]</span>, <a title="Option[Int]" id="play.core.server.NettyServer.mainDev.httpsPort">httpsPort</a>: <span title="Option[Int]">Option</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#play.core.server;NettyServer" title="play.core.server.NettyServer">NettyServer</a> = <span class="delimiter">{</span>
    play.utils.<a href="../../utils/Threads.scala.html#play.utils.Threads" title="play.utils.Threads.type">Threads</a>.<a href="../../utils/Threads.scala.html#play.utils.Threads.withContextClassLoader" title="(classloader: ClassLoader)(b: =&gt; play.core.server.NettyServer)play.core.server.NettyServer">withContextClassLoader</a><span class="delimiter">(</span><span class="keyword">this</span>.<span title="()Class[_]">getClass</span>.<span title="()ClassLoader">getClassLoader</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="play.core.ReloadableApplication" id="play.core.server.NettyServer.mainDev.appProvider">appProvider</a> = <span title="play.core.ReloadableApplication" class="keyword">new</span> <a href="../system/ApplicationProvider.scala.html#play.core;ReloadableApplication" title="play.core.ReloadableApplication">ReloadableApplication</a><span class="delimiter">(</span><a href="#play.core.server.NettyServer.mainDev.buildLink" title="play.core.BuildLink">buildLink</a>, <a href="#play.core.server.NettyServer.mainDev.buildDocHandler" title="play.core.BuildDocHandler">buildDocHandler</a><span class="delimiter">)</span>
        <a href="#play.core.server.NettyServer.<init>$default$4" title="String" id="play.core.server.NettyServer.mainDev.x$13" class="keyword">new</a> <a href="#play.core.server.NettyServer" title="play.core.server.NettyServer.type">NettyServer</a><span class="delimiter">(</span><a href="#play.core.server.NettyServer.mainDev.appProvider" title="play.core.ReloadableApplication" id="play.core.server.NettyServer.mainDev.x$9">appProvider</a>, <a href="#play.core.server.NettyServer.mainDev.httpPort" title="Option[Int] @scala.reflect.internal.annotations.uncheckedBounds" id="play.core.server.NettyServer.mainDev.x$10">httpPort</a>,
          <a href="#play.core.server.NettyServer.mainDev.httpsPort" title="Option[Int] @scala.reflect.internal.annotations.uncheckedBounds" id="play.core.server.NettyServer.mainDev.x$11">httpsPort</a>,
          mode = <a href="../../api/Play.scala.html#play.api.Mode" title="play.api.Mode.type">Mode</a>.<a href="../../api/Play.scala.html#play.api.Mode.Dev" title="play.api.Mode.Value" id="play.core.server.NettyServer.mainDev.x$12">Dev</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="ExceptionInInitializerError" id="play.core.server.NettyServer.mainDev.e">e</a>: <span title="ExceptionInInitializerError">ExceptionInInitializerError</span> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#play.core.server.NettyServer.mainDev.e" title="ExceptionInInitializerError">e</a>.<span title="()Throwable">getCause</span>
      <span class="delimiter">}</span>

    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>
