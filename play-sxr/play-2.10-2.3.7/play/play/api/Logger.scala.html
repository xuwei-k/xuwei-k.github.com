<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>play/play/api/Logger.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright (C) 2009-2013 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
<span class="keyword">package</span> play.api

<span class="keyword">import</span> org.slf4j.<span class="delimiter">{</span> LoggerFactory, Logger =&gt; Slf4jLogger <span class="delimiter">}</span>
<span class="keyword">import</span> scala.util.control.NonFatal

<span class="comment">/**
 * Typical logger interface.
 */</span>
<span class="keyword">trait</span> <a title="trait LoggerLike extends AnyRef" id="play.api;LoggerLike">LoggerLike</a> <span title="Unit" class="delimiter">{</span>

  <span class="comment">/**
   * The underlying SLF4J Logger.
   */</span>
  <span class="keyword">val</span> <a title="=&gt; org.slf4j.Logger" id="play.api;LoggerLike.logger">logger</a>: <span title="org.slf4j.Logger">Slf4jLogger</span>

  <span class="comment">/**
   * The underlying SLF4J Logger.
   */</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.slf4j.Logger" id="play.api;LoggerLike.underlyingLogger">underlyingLogger</a> = <a href="#play.api;LoggerLike.logger" title="=&gt; org.slf4j.Logger">logger</a>

  <span class="comment">/**
   * `true` if the logger instance is enabled for the `TRACE` level.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="play.api;LoggerLike.isTraceEnabled">isTraceEnabled</a> = <a href="#play.api;LoggerLike.logger" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isTraceEnabled</span>

  <span class="comment">/**
   * `true` if the logger instance is enabled for the `DEBUG` level.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="play.api;LoggerLike.isDebugEnabled">isDebugEnabled</a> = <a href="#play.api;LoggerLike.logger" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isDebugEnabled</span>

  <span class="comment">/**
   * `true` if the logger instance is enabled for the `INFO` level.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="play.api;LoggerLike.isInfoEnabled">isInfoEnabled</a> = <a href="#play.api;LoggerLike.logger" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isInfoEnabled</span>

  <span class="comment">/**
   * `true` if the logger instance is enabled for the `WARN` level.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="play.api;LoggerLike.isWarnEnabled">isWarnEnabled</a> = <a href="#play.api;LoggerLike.logger" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isWarnEnabled</span>

  <span class="comment">/**
   * `true` if the logger instance is enabled for the `ERROR` level.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="play.api;LoggerLike.isErrorEnabled">isErrorEnabled</a> = <a href="#play.api;LoggerLike.logger" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isErrorEnabled</span>

  <span class="comment">/**
   * Logs a message with the `TRACE` level.
   *
   * @param message the message to log
   */</span>
  <span class="keyword">def</span> <a title="(message: =&gt; String)Unit" id="play.api;LoggerLike.trace(83d3728a3c)">trace</a><span class="delimiter">(</span><a title="=&gt; String" id="play.api;LoggerLike.trace(83d3728a3c).message">message</a>: =&gt; String<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.api;LoggerLike.logger" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isTraceEnabled</span><span class="delimiter">)</span> <a href="#play.api;LoggerLike.logger" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: String)Unit">trace</span><span class="delimiter">(</span><a href="#play.api;LoggerLike.trace(83d3728a3c).message" title="=&gt; String">message</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Logs a message with the `TRACE` level.
   *
   * @param message the message to log
   * @param error the associated exception
   */</span>
  <span class="keyword">def</span> <a title="(message: =&gt; String, error: =&gt; Throwable)Unit" id="play.api;LoggerLike.trace(804ef4765b)">trace</a><span class="delimiter">(</span><a title="=&gt; String" id="play.api;LoggerLike.trace(804ef4765b).message">message</a>: =&gt; String, <a title="=&gt; Throwable" id="play.api;LoggerLike.trace(804ef4765b).error">error</a>: =&gt; Throwable<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.api;LoggerLike.logger" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isTraceEnabled</span><span class="delimiter">)</span> <a href="#play.api;LoggerLike.logger" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: String, x$2: Throwable)Unit">trace</span><span class="delimiter">(</span><a href="#play.api;LoggerLike.trace(804ef4765b).message" title="=&gt; String">message</a>, <a href="#play.api;LoggerLike.trace(804ef4765b).error" title="=&gt; Throwable">error</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Logs a message with the `DEBUG` level.
   *
   * @param message the message to log
   */</span>
  <span class="keyword">def</span> <a title="(message: =&gt; String)Unit" id="play.api;LoggerLike.debug(83d3728a3c)">debug</a><span class="delimiter">(</span><a title="=&gt; String" id="play.api;LoggerLike.debug(83d3728a3c).message">message</a>: =&gt; String<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.api;LoggerLike.logger" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isDebugEnabled</span><span class="delimiter">)</span> <a href="#play.api;LoggerLike.logger" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: String)Unit">debug</span><span class="delimiter">(</span><a href="#play.api;LoggerLike.debug(83d3728a3c).message" title="=&gt; String">message</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Logs a message with the `DEBUG` level.
   *
   * @param message the message to log
   * @param error the associated exception
   */</span>
  <span class="keyword">def</span> <a title="(message: =&gt; String, error: =&gt; Throwable)Unit" id="play.api;LoggerLike.debug(804ef4765b)">debug</a><span class="delimiter">(</span><a title="=&gt; String" id="play.api;LoggerLike.debug(804ef4765b).message">message</a>: =&gt; String, <a title="=&gt; Throwable" id="play.api;LoggerLike.debug(804ef4765b).error">error</a>: =&gt; Throwable<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.api;LoggerLike.logger" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isDebugEnabled</span><span class="delimiter">)</span> <a href="#play.api;LoggerLike.logger" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: String, x$2: Throwable)Unit">debug</span><span class="delimiter">(</span><a href="#play.api;LoggerLike.debug(804ef4765b).message" title="=&gt; String">message</a>, <a href="#play.api;LoggerLike.debug(804ef4765b).error" title="=&gt; Throwable">error</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Logs a message with the `INFO` level.
   *
   * @param message the message to log
   */</span>
  <span class="keyword">def</span> <a title="(message: =&gt; String)Unit" id="play.api;LoggerLike.info(83d3728a3c)">info</a><span class="delimiter">(</span><a title="=&gt; String" id="play.api;LoggerLike.info(83d3728a3c).message">message</a>: =&gt; String<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.api;LoggerLike.logger" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isInfoEnabled</span><span class="delimiter">)</span> <a href="#play.api;LoggerLike.logger" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: String)Unit">info</span><span class="delimiter">(</span><a href="#play.api;LoggerLike.info(83d3728a3c).message" title="=&gt; String">message</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Logs a message with the `INFO` level.
   *
   * @param message the message to log
   * @param error the associated exception
   */</span>
  <span class="keyword">def</span> <a title="(message: =&gt; String, error: =&gt; Throwable)Unit" id="play.api;LoggerLike.info(804ef4765b)">info</a><span class="delimiter">(</span><a title="=&gt; String" id="play.api;LoggerLike.info(804ef4765b).message">message</a>: =&gt; String, <a title="=&gt; Throwable" id="play.api;LoggerLike.info(804ef4765b).error">error</a>: =&gt; Throwable<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.api;LoggerLike.logger" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isInfoEnabled</span><span class="delimiter">)</span> <a href="#play.api;LoggerLike.logger" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: String, x$2: Throwable)Unit">info</span><span class="delimiter">(</span><a href="#play.api;LoggerLike.info(804ef4765b).message" title="=&gt; String">message</a>, <a href="#play.api;LoggerLike.info(804ef4765b).error" title="=&gt; Throwable">error</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Logs a message with the `WARN` level.
   *
   * @param message the message to log
   */</span>
  <span class="keyword">def</span> <a title="(message: =&gt; String)Unit" id="play.api;LoggerLike.warn(83d3728a3c)">warn</a><span class="delimiter">(</span><a title="=&gt; String" id="play.api;LoggerLike.warn(83d3728a3c).message">message</a>: =&gt; String<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.api;LoggerLike.logger" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isWarnEnabled</span><span class="delimiter">)</span> <a href="#play.api;LoggerLike.logger" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: String)Unit">warn</span><span class="delimiter">(</span><a href="#play.api;LoggerLike.warn(83d3728a3c).message" title="=&gt; String">message</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Logs a message with the `WARN` level.
   *
   * @param message the message to log
   * @param error the associated exception
   */</span>
  <span class="keyword">def</span> <a title="(message: =&gt; String, error: =&gt; Throwable)Unit" id="play.api;LoggerLike.warn(804ef4765b)">warn</a><span class="delimiter">(</span><a title="=&gt; String" id="play.api;LoggerLike.warn(804ef4765b).message">message</a>: =&gt; String, <a title="=&gt; Throwable" id="play.api;LoggerLike.warn(804ef4765b).error">error</a>: =&gt; Throwable<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.api;LoggerLike.logger" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isWarnEnabled</span><span class="delimiter">)</span> <a href="#play.api;LoggerLike.logger" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: String, x$2: Throwable)Unit">warn</span><span class="delimiter">(</span><a href="#play.api;LoggerLike.warn(804ef4765b).message" title="=&gt; String">message</a>, <a href="#play.api;LoggerLike.warn(804ef4765b).error" title="=&gt; Throwable">error</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Logs a message with the `ERROR` level.
   *
   * @param message the message to log
   */</span>
  <span class="keyword">def</span> <a title="(message: =&gt; String)Unit" id="play.api;LoggerLike.error(83d3728a3c)">error</a><span class="delimiter">(</span><a title="=&gt; String" id="play.api;LoggerLike.error(83d3728a3c).message">message</a>: =&gt; String<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.api;LoggerLike.logger" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isErrorEnabled</span><span class="delimiter">)</span> <a href="#play.api;LoggerLike.logger" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: String)Unit">error</span><span class="delimiter">(</span><a href="#play.api;LoggerLike.error(83d3728a3c).message" title="=&gt; String">message</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Logs a message with the `ERROR` level.
   *
   * @param message the message to log
   * @param error the associated exception
   */</span>
  <span class="keyword">def</span> <a title="(message: =&gt; String, error: =&gt; Throwable)Unit" id="play.api;LoggerLike.error(804ef4765b)">error</a><span class="delimiter">(</span><a title="=&gt; String" id="play.api;LoggerLike.error(804ef4765b).message">message</a>: =&gt; String, <a title="=&gt; Throwable" id="play.api;LoggerLike.error(804ef4765b).error">error</a>: =&gt; Throwable<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.api;LoggerLike.logger" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isErrorEnabled</span><span class="delimiter">)</span> <a href="#play.api;LoggerLike.logger" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: String, x$2: Throwable)Unit">error</span><span class="delimiter">(</span><a href="#play.api;LoggerLike.error(804ef4765b).message" title="=&gt; String">message</a>, <a href="#play.api;LoggerLike.error(804ef4765b).error" title="=&gt; Throwable">error</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * A Play logger.
 *
 * @param logger the underlying SL4FJ logger
 */</span>
<span title="AnyRef" class="keyword">class</span> <a title="class Logger extends AnyRef with play.api.LoggerLike" id="play.api;Logger">Logger</a><a href="#play.api;Logger" title="play.api.Logger" class="delimiter">(</a><span class="keyword">val</span> <a title="org.slf4j.Logger" id="play.api;Logger.logger">logger</a>: <span title="org.slf4j.Logger">Slf4jLogger</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#play.api;LoggerLike" title="play.api.LoggerLike">LoggerLike</a>

<span class="comment">/**
 * High-level API for logging operations.
 *
 * For example, logging with the default application logger:
 * {{{
 * Logger.info(&quot;Hello!&quot;)
 * }}}
 *
 * Logging with a custom logger:
 * {{{
 * Logger(&quot;my.logger&quot;).info(&quot;Hello!&quot;)
 * }}}
 *
 */</span>
<span class="keyword">object</span> <a title="play.api.Logger.type" id="play.api.Logger">Logger</a> <a href="#play.api.Logger" title="play.api.Logger.type" class="keyword">extends</a> <a href="#play.api;LoggerLike" title="play.api.LoggerLike">LoggerLike</a> <span class="delimiter">{</span>

  <span class="comment">/**
   * Initialize the Logger in a brut way.
   */</span>
  <span class="keyword">def</span> <a title="(home: java.io.File)Unit" id="play.api.Logger.init">init</a><span class="delimiter">(</span><a title="java.io.File" id="play.api.Logger.init.home">home</a>: java.io.<span title="java.io.File">File</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#play.api.Logger" title="play.api.Logger.type">Logger</a>.<a href="#play.api.Logger.configure" title="(properties: Map[String,String], levels: Map[String,ch.qos.logback.classic.Level], mode: play.api.Mode.Value)Unit">configure</a><span class="delimiter">(</span>
      <span title="(elems: (String, String)*)scala.collection.immutable.Map[String,String]">Map</span><span class="delimiter">(</span><span title="(x: String)ArrowAssoc[String]" class="string">&quot;application.home&quot;</span> <span title="(y: String)(String, String)">-&gt;</span> <a href="#play.api.Logger.init.home" title="java.io.File">home</a>.<span title="()String">getAbsolutePath</span><span class="delimiter">)</span>,
      <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[String,Nothing]">empty</span>,
      <a href="Play.scala.html#play.api.Mode" title="play.api.Mode.type">Mode</a>.<a href="Play.scala.html#play.api.Mode.Test" title="=&gt; play.api.Mode.Value">Test</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The 'application' logger.
   */</span>
  <span class="keyword">val</span> <a title="org.slf4j.Logger" id="play.api.Logger.logger">logger</a> = <span title="org.slf4j.LoggerFactory.type">LoggerFactory</span>.<span title="(x$1: String)org.slf4j.Logger">getLogger</span><span class="delimiter">(</span><span title="String(&quot;application&quot;)" class="string">&quot;application&quot;</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Obtains a logger instance.
   *
   * @param name the name of the logger
   * @return a logger
   */</span>
  <span class="keyword">def</span> <a title="(name: String)play.api.Logger" id="play.api.Logger.apply(c877c33b49)">apply</a><span class="delimiter">(</span><a title="String" id="play.api.Logger.apply(c877c33b49).name">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#play.api;Logger" title="play.api.Logger">Logger</a> = <span title="play.api.Logger" class="keyword">new</span> <a href="#play.api;Logger" title="play.api.Logger">Logger</a><span class="delimiter">(</span><span title="org.slf4j.LoggerFactory.type">LoggerFactory</span>.<span title="(x$1: String)org.slf4j.Logger">getLogger</span><span class="delimiter">(</span><a href="#play.api.Logger.apply(c877c33b49).name" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Obtains a logger instance.
   *
   * @param clazz a class whose name will be used as logger name
   * @return a logger
   */</span>
  <span class="keyword">def</span> <a title="[T](clazz: Class[T])play.api.Logger" id="play.api.Logger.apply(1f619881c1)">apply</a><span class="delimiter">[</span><a title="" id="play.api.Logger.apply(1f619881c1);T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Class[T]" id="play.api.Logger.apply(1f619881c1).clazz">clazz</a>: <span title="Class[T]">Class</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#play.api;Logger" title="play.api.Logger">Logger</a> = <span title="play.api.Logger" class="keyword">new</span> <a href="#play.api;Logger" title="play.api.Logger">Logger</a><span class="delimiter">(</span><span title="org.slf4j.LoggerFactory.type">LoggerFactory</span>.<span title="(x$1: Class[_])org.slf4j.Logger">getLogger</span><span class="delimiter">(</span><a href="#play.api.Logger.apply(1f619881c1).clazz" title="Class[T]">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Reconfigures the underlying logback infrastructure.
   *
   * @param properties these properties will be added to the logger context (for example `application.home`)
   * @param levels the log levels
   * @param mode the application mode
   * @see http://logback.qos.ch/
   */</span>
  <span class="keyword">def</span> <a title="(properties: Map[String,String], levels: Map[String,ch.qos.logback.classic.Level], mode: play.api.Mode.Value)Unit" id="play.api.Logger.configure">configure</a><span class="delimiter">(</span><a title="Map[String,String]" id="play.api.Logger.configure$default$1">properties</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[String,Nothing]">empty</span>, <a title="Map[String,ch.qos.logback.classic.Level]" id="play.api.Logger.configure$default$2">levels</a>: <span title="Map[String,ch.qos.logback.classic.Level]">Map</span><span class="delimiter">[</span>String, ch.qos.logback.classic.Level<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[String,Nothing]">empty</span>, <a title="play.api.Mode.Value" id="play.api.Logger.configure.mode">mode</a>: Mode.<span title="play.api.Mode.Value">Value</span><span class="delimiter">)</span> <span class="delimiter">{</span>

    <span class="comment">// Redirect JUL -&gt; SL4FJ</span>
    <span class="delimiter">{</span>
      <span class="keyword">import</span> org.slf4j.bridge._
      <span class="keyword">import</span> java.util.logging._

      <span title="(x: java.util.logging.Logger)Option[java.util.logging.Logger]">Option</span><span class="delimiter">(</span>java.util.logging.<span title="java.util.logging.Logger.type">Logger</span>.<span title="(x$1: String)java.util.logging.Logger">getLogger</span><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: java.util.logging.Logger =&gt; Unit)Option[Unit]">map</span> <span class="delimiter">{</span> <a title="java.util.logging.Logger" id="play.api.Logger.configure.$anonfun.root">root</a> =&gt;
        <a href="#play.api.Logger.configure.$anonfun.root" title="java.util.logging.Logger">root</a>.<span title="(x$1: java.util.logging.Level)Unit">setLevel</span><span class="delimiter">(</span><span title="java.util.logging.Level.type">Level</span>.<span title="java.util.logging.Level">FINEST</span><span class="delimiter">)</span>
        <a href="#play.api.Logger.configure.$anonfun.root" title="java.util.logging.Logger">root</a>.<span title="(xs: Array[java.util.logging.Handler])scala.collection.mutable.ArrayOps[java.util.logging.Handler]">getHandlers</span>.<span title="(f: java.util.logging.Handler =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#play.api.Logger.configure.$anonfun.root" title="java.util.logging.Logger">root</a>.<span title="(x$1: java.util.logging.Handler)Unit">removeHandler</span><span class="delimiter">(</span><a href="#play.api.Logger.configure.$anonfun.$anonfun.x$1" title="java.util.logging.Handler">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span title="org.slf4j.bridge.SLF4JBridgeHandler.type">SLF4JBridgeHandler</span>.<span title="()Unit">install</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">// Configure logback</span>
    <span class="delimiter">{</span>
      <span class="keyword">import</span> org.slf4j._

      <span class="keyword">import</span> ch.qos.logback.classic.joran._
      <span class="keyword">import</span> ch.qos.logback.core.util._
      <span class="keyword">import</span> ch.qos.logback.classic._

      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="ch.qos.logback.classic.LoggerContext" id="play.api.Logger.configure.ctx">ctx</a> = <span title="org.slf4j.LoggerFactory.type">LoggerFactory</span>.<span title="()org.slf4j.ILoggerFactory">getILoggerFactory</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.qos.logback.classic.LoggerContext" class="delimiter">[</span><span title="ch.qos.logback.classic.LoggerContext">LoggerContext</span><span class="delimiter">]</span>
        <span class="keyword">val</span> <a title="ch.qos.logback.classic.joran.JoranConfigurator" id="play.api.Logger.configure.configurator">configurator</a> = <span title="ch.qos.logback.classic.joran.JoranConfigurator" class="keyword">new</span> <span title="ch.qos.logback.classic.joran.JoranConfigurator">JoranConfigurator</span>
        <a href="#play.api.Logger.configure.configurator" title="ch.qos.logback.classic.joran.JoranConfigurator">configurator</a>.<span title="(x$1: ch.qos.logback.core.Context)Unit">setContext</span><span class="delimiter">(</span><a href="#play.api.Logger.configure.ctx" title="ch.qos.logback.classic.LoggerContext">ctx</a><span class="delimiter">)</span>
        <a href="#play.api.Logger.configure.ctx" title="ch.qos.logback.classic.LoggerContext">ctx</a>.<span title="()Unit">reset</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#play.api.Logger.configure$default$1" title="Map[String,String]">properties</a>.<span title="(f: ((String, String)) =&gt; Unit)Unit">foreach</span> <a href="#play.api.Logger.configure.$anonfun.x0$1" title="Unit" class="delimiter">{</a>
          <span class="keyword">case</span> <span class="delimiter">(</span><a title="String" id="play.api.Logger.configure.$anonfun.name">name</a>, <a title="String" id="play.api.Logger.configure.$anonfun.value">value</a><span class="delimiter">)</span> =&gt; <a href="#play.api.Logger.configure.ctx" title="ch.qos.logback.classic.LoggerContext">ctx</a>.<span title="(x$1: String, x$2: String)Unit">putProperty</span><span class="delimiter">(</span><a href="#play.api.Logger.configure.$anonfun.name" title="String">name</a>, <a href="#play.api.Logger.configure.$anonfun.value" title="String">value</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">try</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Option[java.net.URL]" id="play.api.Logger.configure.configResource">configResource</a> =
            <span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><span title="System.type">System</span>.<span title="(x$1: String)String">getProperty</span><span class="delimiter">(</span><span title="String(&quot;logger.resource&quot;)" class="string">&quot;logger.resource&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
              .<span title="(f: String =&gt; String)Option[String]">map</span><span class="delimiter">(</span><a title="String" id="play.api.Logger.configure.configResource.$anonfun.s">s</a> =&gt; <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.api.Logger.configure.configResource.$anonfun.s" title="String">s</a>.<span title="(x$1: String)Boolean">startsWith</span><span class="delimiter">(</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#play.api.Logger.configure.configResource.$anonfun.s" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">s</a>.<span title="(n: Int)String">drop</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#play.api.Logger.configure.configResource.$anonfun.s" title="String">s</a><span class="delimiter">)</span>
              .<span title="(f: String =&gt; java.net.URL)Option[java.net.URL]">map</span><span class="delimiter">(</span><a title="String" id="play.api.Logger.configure.configResource.$anonfun.r">r</a> =&gt; <span title="(x: java.net.URL)Option[java.net.URL]">Option</span><span class="delimiter">(</span><span class="keyword">this</span>.<span title="()Class[_]">getClass</span>.<span title="()ClassLoader">getClassLoader</span>.<span title="(x$1: String)java.net.URL">getResource</span><span class="delimiter">(</span><a href="#play.api.Logger.configure.configResource.$anonfun.r" title="String">r</a><span class="delimiter">)</span><span class="delimiter">)</span>
                .<span title="(default: =&gt; java.net.URL)java.net.URL">getOrElse</span><span class="delimiter">(</span><span title="(x$1: String)java.net.URL" class="keyword">new</span> java.net.<span title="java.net.URL">URL</span><span class="delimiter">(</span><span title="String(&quot;file:///&quot;)" class="string">&quot;file:///&quot;</span> <span title="(x$1: Any)String">+</span> <span title="System.type">System</span>.<span title="(x$1: String)String">getProperty</span><span class="delimiter">(</span><span title="String(&quot;logger.resource&quot;)" class="string">&quot;logger.resource&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">)</span>.<span title="(alternative: =&gt; Option[java.net.URL])Option[java.net.URL]">orElse</span> <span class="delimiter">{</span>
                <span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><span title="System.type">System</span>.<span title="(x$1: String)String">getProperty</span><span class="delimiter">(</span><span title="String(&quot;logger.file&quot;)" class="string">&quot;logger.file&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: String =&gt; java.net.URL)Option[java.net.URL]">map</span><span class="delimiter">(</span><span title="java.io.File" class="keyword">new</span> java.io.<span title="java.io.File">File</span><span class="delimiter">(</span><a href="#play.api.Logger.configure.configResource.$anonfun.x$2" title="String">_</a><span class="delimiter">)</span>.<span title="()java.net.URI">toURI</span>.<span title="()java.net.URL">toURL</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>.<span title="(alternative: =&gt; Option[java.net.URL])Option[java.net.URL]">orElse</span> <span class="delimiter">{</span>
                <span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><span title="System.type">System</span>.<span title="(x$1: String)String">getProperty</span><span class="delimiter">(</span><span title="String(&quot;logger.url&quot;)" class="string">&quot;logger.url&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: String =&gt; java.net.URL)Option[java.net.URL]">map</span><span class="delimiter">(</span><span title="(x$1: String)java.net.URL" class="keyword">new</span> java.net.<span title="java.net.URL">URL</span><span class="delimiter">(</span><a href="#play.api.Logger.configure.configResource.$anonfun.x$3" title="String">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>.<span title="(alternative: =&gt; Option[java.net.URL])Option[java.net.URL]">orElse</span> <span class="delimiter">{</span>
                <span title="(x: java.net.URL)Option[java.net.URL]">Option</span><span class="delimiter">(</span><span class="keyword">this</span>.<span title="()Class[_]">getClass</span>.<span title="()ClassLoader">getClassLoader</span>.<span title="(x$1: String)java.net.URL">getResource</span><span class="delimiter">(</span><span title="String(&quot;application-logger.xml&quot;)" class="string">&quot;application-logger.xml&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
                  .<span title="(alternative: =&gt; Option[java.net.URL])Option[java.net.URL]">orElse</span><span class="delimiter">(</span><span title="(x: java.net.URL)Option[java.net.URL]">Option</span><span class="delimiter">(</span><span class="keyword">this</span>.<span title="()Class[_]">getClass</span>.<span title="()ClassLoader">getClassLoader</span>.<span title="(x$1: String)java.net.URL">getResource</span><span class="delimiter">(</span><span title="String(&quot;logger.xml&quot;)" class="string">&quot;logger.xml&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                  .<span title="(alternative: =&gt; Option[java.net.URL])Option[java.net.URL]">orElse</span><span class="delimiter">(</span><span title="(x: java.net.URL)Option[java.net.URL]">Option</span><span class="delimiter">(</span><span class="keyword">this</span>.<span title="()Class[_]">getClass</span>.<span title="()ClassLoader">getClassLoader</span>.<span title="(x$1: String)java.net.URL">getResource</span><span class="delimiter">(</span><span title="String(&quot;logback.xml&quot;)" class="string">&quot;logback.xml&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>

          <a href="#play.api.Logger.configure.configResource" title="Option[java.net.URL]">configResource</a>.<span title="(f: java.net.URL =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="java.net.URL" id="play.api.Logger.configure.$anonfun.url">url</a> =&gt; <a href="#play.api.Logger.configure.configurator" title="ch.qos.logback.classic.joran.JoranConfigurator">configurator</a>.<span title="(x$1: java.net.URL)Unit">doConfigure</span><span class="delimiter">(</span><a href="#play.api.Logger.configure.$anonfun.url" title="java.net.URL">url</a><span class="delimiter">)</span> <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="#play.api.Logger.configure.<unapply-selector>" title="(t: Throwable)Option[Throwable]">NonFatal</a><span class="delimiter">(</span><a title="Throwable" id="play.api.Logger.configure.e">e</a><span class="delimiter">)</span> =&gt; <a href="#play.api.Logger.configure.e" title="Throwable">e</a>.<span title="()Unit">printStackTrace</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="#play.api.Logger.configure$default$2" title="Map[String,ch.qos.logback.classic.Level]">levels</a>.<span title="(f: ((String, ch.qos.logback.classic.Level)) =&gt; Unit)Unit">foreach</span> <a href="#play.api.Logger.configure.$anonfun.x0$2" title="Unit" class="delimiter">{</a>
          <span class="keyword">case</span> <span class="delimiter">(</span><a title="String" id="play.api.Logger.configure.$anonfun.logger">logger</a>, <a title="ch.qos.logback.classic.Level" id="play.api.Logger.configure.$anonfun.level">level</a><span class="delimiter">)</span> =&gt; <a href="#play.api.Logger.configure.ctx" title="ch.qos.logback.classic.LoggerContext">ctx</a>.<span title="(x$1: String)ch.qos.logback.classic.Logger">getLogger</span><span class="delimiter">(</span><a href="#play.api.Logger.configure.$anonfun.logger" title="String">logger</a><span class="delimiter">)</span>.<span title="(x$1: ch.qos.logback.classic.Level)Unit">setLevel</span><span class="delimiter">(</span><a href="#play.api.Logger.configure.$anonfun.level" title="ch.qos.logback.classic.Level">level</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="ch.qos.logback.core.util.StatusPrinter.type">StatusPrinter</span>.<span title="(x$1: ch.qos.logback.core.Context)Unit">printIfErrorsOccured</span><span class="delimiter">(</span><a href="#play.api.Logger.configure.ctx" title="ch.qos.logback.classic.LoggerContext">ctx</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="#play.api.Logger.configure.<unapply-selector>" title="(t: Throwable)Option[Throwable]">NonFatal</a><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
      <span class="delimiter">}</span>

    <span class="delimiter">}</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * Shutdown the logger infrastructure.
   */</span>
  <span class="keyword">def</span> <a title="()Unit" id="play.api.Logger.shutdown">shutdown</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">import</span> ch.qos.logback.classic._

    <span class="keyword">val</span> <a title="ch.qos.logback.classic.LoggerContext" id="play.api.Logger.shutdown.ctx">ctx</a> = <span title="org.slf4j.LoggerFactory.type">LoggerFactory</span>.<span title="()org.slf4j.ILoggerFactory">getILoggerFactory</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.qos.logback.classic.LoggerContext" class="delimiter">[</span><span title="ch.qos.logback.classic.LoggerContext">LoggerContext</span><span class="delimiter">]</span>
    <a href="#play.api.Logger.shutdown.ctx" title="ch.qos.logback.classic.LoggerContext">ctx</a>.<span title="()Unit">stop</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">import</span> ch.qos.logback.classic._
  <span class="keyword">import</span> ch.qos.logback.classic.spi._
  <span class="keyword">import</span> ch.qos.logback.classic.pattern._

  <span class="comment">/**
   * A logback converter generating colored, lower-case level names.
   *
   * Used for example as:
   * {{{
   * %coloredLevel %logger{15} - %message%n%xException{5}
   * }}}
   */</span>
  <span class="keyword">class</span> <a title="class ColoredLevel extends ch.qos.logback.classic.pattern.ClassicConverter" id="play.api.Logger;ColoredLevel">ColoredLevel</a> <a href="#play.api.Logger;ColoredLevel" title="play.api.Logger.ColoredLevel" class="keyword">extends</a> <span title="ch.qos.logback.classic.pattern.ClassicConverter">ClassicConverter</span> <span class="delimiter">{</span>

    <span class="keyword">import</span> play.utils.Colors

    <span class="keyword">def</span> <a title="(event: ch.qos.logback.classic.spi.ILoggingEvent)String" id="play.api.Logger;ColoredLevel.convert">convert</a><span class="delimiter">(</span><a title="ch.qos.logback.classic.spi.ILoggingEvent" id="play.api.Logger;ColoredLevel.convert.event">event</a>: <span title="ch.qos.logback.classic.spi.ILoggingEvent">ILoggingEvent</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
      <a href="#play.api.Logger;ColoredLevel.convert.event" title="ch.qos.logback.classic.spi.ILoggingEvent">event</a>.<span title="()ch.qos.logback.classic.Level">getLevel</span> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="ch.qos.logback.classic.Level.type">Level</span>.<span title="ch.qos.logback.classic.Level">TRACE</span> =&gt; <span title="String(&quot;[&quot;)" class="string">&quot;[&quot;</span> <span title="(x$1: Any)String">+</span> <a href="../utils/Colors.scala.html#play.utils.Colors" title="play.utils.Colors.type">Colors</a>.<a href="../utils/Colors.scala.html#play.utils.Colors.blue" title="(str: String)String">blue</a><span class="delimiter">(</span><span title="String(&quot;trace&quot;)" class="string">&quot;trace&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;]&quot;)" class="string">&quot;]&quot;</span>
        <span class="keyword">case</span> <span title="ch.qos.logback.classic.Level.type">Level</span>.<span title="ch.qos.logback.classic.Level">DEBUG</span> =&gt; <span title="String(&quot;[&quot;)" class="string">&quot;[&quot;</span> <span title="(x$1: Any)String">+</span> <a href="../utils/Colors.scala.html#play.utils.Colors" title="play.utils.Colors.type">Colors</a>.<a href="../utils/Colors.scala.html#play.utils.Colors.cyan" title="(str: String)String">cyan</a><span class="delimiter">(</span><span title="String(&quot;debug&quot;)" class="string">&quot;debug&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;]&quot;)" class="string">&quot;]&quot;</span>
        <span class="keyword">case</span> <span title="ch.qos.logback.classic.Level.type">Level</span>.<span title="ch.qos.logback.classic.Level">INFO</span> =&gt; <span title="String(&quot;[&quot;)" class="string">&quot;[&quot;</span> <span title="(x$1: Any)String">+</span> <a href="../utils/Colors.scala.html#play.utils.Colors" title="play.utils.Colors.type">Colors</a>.<a href="../utils/Colors.scala.html#play.utils.Colors.white" title="(str: String)String">white</a><span class="delimiter">(</span><span title="String(&quot;info&quot;)" class="string">&quot;info&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;]&quot;)" class="string">&quot;]&quot;</span>
        <span class="keyword">case</span> <span title="ch.qos.logback.classic.Level.type">Level</span>.<span title="ch.qos.logback.classic.Level">WARN</span> =&gt; <span title="String(&quot;[&quot;)" class="string">&quot;[&quot;</span> <span title="(x$1: Any)String">+</span> <a href="../utils/Colors.scala.html#play.utils.Colors" title="play.utils.Colors.type">Colors</a>.<a href="../utils/Colors.scala.html#play.utils.Colors.yellow" title="(str: String)String">yellow</a><span class="delimiter">(</span><span title="String(&quot;warn&quot;)" class="string">&quot;warn&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;]&quot;)" class="string">&quot;]&quot;</span>
        <span class="keyword">case</span> <span title="ch.qos.logback.classic.Level.type">Level</span>.<span title="ch.qos.logback.classic.Level">ERROR</span> =&gt; <span title="String(&quot;[&quot;)" class="string">&quot;[&quot;</span> <span title="(x$1: Any)String">+</span> <a href="../utils/Colors.scala.html#play.utils.Colors" title="play.utils.Colors.type">Colors</a>.<a href="../utils/Colors.scala.html#play.utils.Colors.red" title="(str: String)String">red</a><span class="delimiter">(</span><span title="String(&quot;error&quot;)" class="string">&quot;error&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;]&quot;)" class="string">&quot;]&quot;</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span>

<span class="delimiter">}</span>


        </pre>
    </body>
</html>
