<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>play/play/api/mvc/Action.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright (C) 2009-2013 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
<span class="keyword">package</span> play.api.mvc

<span class="keyword">import</span> play.api.libs.iteratee._
<span class="keyword">import</span> play.api._
<span class="keyword">import</span> play.core.<a href="../../core/router/Router.scala.html#play.core.Router" title="play.core.Router.type">Router</a>.<span class="delimiter">{</span> HandlerInvoker, HandlerInvokerFactory <span class="delimiter">}</span>
<span class="keyword">import</span> scala.concurrent._
<span class="keyword">import</span> scala.<span title="language.type">language</span>.higherKinds

<span class="comment">/**
 * An Handler handles a request. Play understands several types of handlers,
 * for example `EssentialAction`s and `WebSocket`s.
 *
 * The `Handler` used to handle the request is controlled by `GlobalSetting`s's
 * `onRequestReceived` method. The default implementation of
 * `onRequestReceived` delegates to `onRouteRequest` which calls the default
 * `Router`.
 */</span>
<span class="keyword">trait</span> <a title="trait Handler extends AnyRef" id="play.api.mvc;Handler">Handler</a>

<span class="comment">/**
 * A handler that is able to tag requests. Usually mixed in to other handlers.
 */</span>
<span title="AnyRef" class="keyword">trait</span> <a title="trait RequestTaggingHandler extends AnyRef with play.api.mvc.Handler" id="play.api.mvc;RequestTaggingHandler">RequestTaggingHandler</a> <span class="keyword">extends</span> <a href="#play.api.mvc;Handler" title="play.api.mvc.Handler">Handler</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(request: play.api.mvc.RequestHeader)play.api.mvc.RequestHeader" id="play.api.mvc;RequestTaggingHandler.tagRequest">tagRequest</a><span class="delimiter">(</span><a title="play.api.mvc.RequestHeader" id="play.api.mvc;RequestTaggingHandler.tagRequest.request">request</a>: <a href="Http.scala.html#play.api.mvc;RequestHeader" title="play.api.mvc.RequestHeader">RequestHeader</a><span class="delimiter">)</span>: <a href="Http.scala.html#play.api.mvc;RequestHeader" title="play.api.mvc.RequestHeader">RequestHeader</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * Reference to a Handler, useful for contructing handlers from Java code.
 */</span>
<span class="keyword">class</span> <a title="class HandlerRef[T] extends Object with play.mvc.HandlerRef" id="play.api.mvc;HandlerRef">HandlerRef</a><span class="delimiter">[</span><a title="" id="play.api.mvc;HandlerRef;T">T</a><span class="delimiter">]</span><a href="#play.api.mvc;HandlerRef" title="play.api.mvc.HandlerRef[T]" class="delimiter">(</a><a title="=&gt; T" id="play.api.mvc;HandlerRef.call">call</a>: =&gt; T, <a title="play.core.Router.HandlerDef" id="play.api.mvc;HandlerRef.handlerDef">handlerDef</a>: play.core.Router.<a href="../../core/router/Router.scala.html#play.core.Router;HandlerDef" title="play.core.Router.HandlerDef">HandlerDef</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="play.core.Router.HandlerInvokerFactory[T]" id="play.api.mvc;HandlerRef.hif">hif</a>: play.core.Router.<a href="../../core/router/Router.scala.html#play.core.Router;HandlerInvokerFactory" title="play.core.Router.HandlerInvokerFactory[T]">HandlerInvokerFactory</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> play.mvc.<a href="../../mvc/HandlerRef.java.html#play.mvc;HandlerRef" title="play.mvc.HandlerRef">HandlerRef</a> <span class="delimiter">{</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="play.core.Router.HandlerInvoker[T]" id="play.api.mvc;HandlerRef.invoker">invoker</a>: <a href="../../core/router/Router.scala.html#play.core.Router;HandlerInvoker" title="play.core.Router.HandlerInvoker[T]">HandlerInvoker</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#play.api.mvc;HandlerRef.hif" title="play.core.Router.HandlerInvokerFactory[T]">hif</a>.<a href="../../core/router/Router.scala.html#play.core.Router;HandlerInvokerFactory.createInvoker" title="(fakeCall: =&gt; T, handlerDef: play.core.Router.HandlerDef)play.core.Router.HandlerInvoker[T]">createInvoker</a><span class="delimiter">(</span><a href="#play.api.mvc;HandlerRef.call" title="=&gt; T">call</a>, <a href="#play.api.mvc;HandlerRef.handlerDef" title="play.core.Router.HandlerDef">handlerDef</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Retrieve a real handler behind this ref.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; play.api.mvc.Handler" id="play.api.mvc;HandlerRef.handler">handler</a>: play.api.mvc.<a href="#play.api.mvc;Handler" title="play.api.mvc.Handler">Handler</a> = <span class="delimiter">{</span>
    <a href="#play.api.mvc;HandlerRef.invoker" title="=&gt; play.core.Router.HandlerInvoker[T]">invoker</a>.<a href="../../core/router/Router.scala.html#play.core.Router;HandlerInvoker.call" title="(call: =&gt; T)play.api.mvc.Handler">call</a><span class="delimiter">(</span><a href="#play.api.mvc;HandlerRef.call" title="=&gt; T">call</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * String representation of this Handler.
   */</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="String" id="play.api.mvc;HandlerRef.sym">sym</a> = <span class="delimiter">{</span>
    <a href="#play.api.mvc;HandlerRef.handlerDef" title="play.core.Router.HandlerDef">handlerDef</a>.<a href="../../core/router/Router.scala.html#play.core.Router;HandlerDef.controller" title="=&gt; String">controller</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#play.api.mvc;HandlerRef.handlerDef" title="play.core.Router.HandlerDef">handlerDef</a>.<a href="../../core/router/Router.scala.html#play.core.Router;HandlerDef.method" title="=&gt; String">method</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#play.api.mvc;HandlerRef.handlerDef" title="play.core.Router.HandlerDef">handlerDef</a>.<a href="../../core/router/Router.scala.html#play.core.Router;HandlerDef.parameterTypes" title="=&gt; Seq[Class[_]]">parameterTypes</a>.<span title="(f: Class[_] =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[Class[_]],String,Seq[String]])Seq[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,String,Seq[String]]" class="delimiter">(</span><a href="#play.api.mvc;HandlerRef.sym.$anonfun.x$1" title="Class[_]">_</a>.<span title="()String">getName</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="play.api.mvc;HandlerRef.toString">toString</a> = <span class="delimiter">{</span>
    <span title="String(&quot;HandlerRef[&quot;)" class="string">&quot;HandlerRef[&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#play.api.mvc;HandlerRef.sym" title="=&gt; String">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)]&quot;)" class="string">&quot;)]&quot;</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * An `EssentialAction` underlies every `Action`. Given a `RequestHeader`, an
 * `EssentialAction` consumes the request body (an `Array[Byte]`) and returns
 * a `Result`.
 *
 * An `EssentialAction` is a `Handler`, which means it is one of the objects
 * that Play uses to handle requests.
 */</span>
<span class="keyword">trait</span> <a title="trait EssentialAction extends AnyRef with play.api.mvc.RequestHeader =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],play.api.mvc.Result] with play.api.mvc.Handler" id="play.api.mvc;EssentialAction">EssentialAction</a> <span title="Unit" class="keyword">extends</span> <span class="delimiter">(</span>RequestHeader =&gt; Iteratee<span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, Result<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#play.api.mvc;Handler" title="play.api.mvc.Handler">Handler</a> <span class="delimiter">{</span>

  <span class="comment">/**
   * Returns itself, for better support in the routes file.
   *
   * @return itself
   */</span>
  <span class="keyword">def</span> <a title="()play.api.mvc.EssentialAction" id="play.api.mvc;EssentialAction.apply(e72f48f01b)">apply</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#play.api.mvc;EssentialAction" title="play.api.mvc.EssentialAction" class="keyword">this</a>

<span class="delimiter">}</span>

<span class="comment">/**
 * Helper for creating `EssentialAction`s.
 */</span>
<span class="keyword">object</span> <a title="play.api.mvc.EssentialAction.type" id="play.api.mvc.EssentialAction">EssentialAction</a> <a href="#play.api.mvc.EssentialAction" title="play.api.mvc.EssentialAction.type" class="delimiter">{</a>

  <span class="keyword">def</span> <a title="(f: play.api.mvc.RequestHeader =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],play.api.mvc.Result])play.api.mvc.EssentialAction" id="play.api.mvc.EssentialAction.apply">apply</a><span class="delimiter">(</span><a title="play.api.mvc.RequestHeader =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],play.api.mvc.Result]" id="play.api.mvc.EssentialAction.apply.f">f</a>: RequestHeader =&gt; Iteratee<span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, Result<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#play.api.mvc;EssentialAction" title="play.api.mvc.EssentialAction">EssentialAction</a> = <a href="#play.api.mvc.EssentialAction.apply;$anon" title="play.api.mvc.EssentialAction" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.api.mvc.EssentialAction" id="play.api.mvc.EssentialAction.apply;$anon">EssentialAction</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(rh: play.api.mvc.RequestHeader)play.api.libs.iteratee.Iteratee[Array[Byte],play.api.mvc.Result]" id="play.api.mvc.EssentialAction.apply;$anon.apply(22e3d8054d)">apply</a><span class="delimiter">(</span><a title="play.api.mvc.RequestHeader" id="play.api.mvc.EssentialAction.apply;$anon.apply(22e3d8054d).rh">rh</a>: <a href="Http.scala.html#play.api.mvc;RequestHeader" title="play.api.mvc.RequestHeader">RequestHeader</a><span class="delimiter">)</span> = <a href="#play.api.mvc.EssentialAction.apply.f" title="(v1: play.api.mvc.RequestHeader)play.api.libs.iteratee.Iteratee[Array[Byte],play.api.mvc.Result]">f</a><span class="delimiter">(</span><a href="#play.api.mvc.EssentialAction.apply;$anon.apply(22e3d8054d).rh" title="play.api.mvc.RequestHeader">rh</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * An action is essentially a (Request[A] =&gt; Result) function that
 * handles a request and generates a result to be sent to the client.
 *
 * For example,
 * {{{
 * val echo = Action { request =&gt;
 *   Ok(&quot;Got request [&quot; + request + &quot;]&quot;)
 * }
 * }}}
 *
 * @tparam A the type of the request body
 */</span>
<span title="AnyRef" class="keyword">trait</span> <a title="trait Action[A] extends AnyRef with play.api.mvc.EssentialAction" id="play.api.mvc;Action">Action</a><span class="delimiter">[</span><a title="" id="play.api.mvc;Action;A">A</a><span class="delimiter">]</span> <span title="Unit" class="keyword">extends</span> <a href="#play.api.mvc;EssentialAction" title="play.api.mvc.EssentialAction">EssentialAction</a> <span class="delimiter">{</span>

  <span class="comment">/**
   * Type of the request body.
   */</span>
  <span class="keyword">type</span> <a title="A" id="play.api.mvc;Action;BODY_CONTENT">BODY_CONTENT</a> = <a href="#play.api.mvc;Action;A" title="A">A</a>

  <span class="comment">/**
   * Body parser associated with this action.
   *
   * @see BodyParser
   */</span>
  <span class="keyword">def</span> <a title="=&gt; play.api.mvc.BodyParser[A]" id="play.api.mvc;Action.parser">parser</a>: <a href="#play.api.mvc;BodyParser" title="play.api.mvc.BodyParser[A]">BodyParser</a><span class="delimiter">[</span>A<span class="delimiter">]</span>

  <span class="comment">/**
   * Invokes this action.
   *
   * @param request the incoming HTTP request
   * @return the result to be sent to the client
   */</span>
  <span class="keyword">def</span> <a title="(request: play.api.mvc.Request[A])scala.concurrent.Future[play.api.mvc.Result]" id="play.api.mvc;Action.apply(39cb8018cf)">apply</a><span class="delimiter">(</span><a title="play.api.mvc.Request[A]" id="play.api.mvc;Action.apply(39cb8018cf).request">request</a>: <a href="Http.scala.html#play.api.mvc;Request" title="play.api.mvc.Request[A]">Request</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scala.concurrent.Future[play.api.mvc.Result]">Future</span><span class="delimiter">[</span>Result<span class="delimiter">]</span>

  <span class="keyword">def</span> <a title="(rh: play.api.mvc.RequestHeader)play.api.libs.iteratee.Iteratee[Array[Byte],play.api.mvc.Result]" id="play.api.mvc;Action.apply(22e3d8054d)">apply</a><span class="delimiter">(</span><a title="play.api.mvc.RequestHeader" id="play.api.mvc;Action.apply(22e3d8054d).rh">rh</a>: <a href="Http.scala.html#play.api.mvc;RequestHeader" title="play.api.mvc.RequestHeader">RequestHeader</a><span class="delimiter">)</span>: <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[Array[Byte],play.api.mvc.Result]">Iteratee</a><span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, Result<span class="delimiter">]</span> = <a href="#play.api.mvc;Action.parser" title="(v1: play.api.mvc.RequestHeader)play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,A]]">parser</a><span class="delimiter">(</span><a href="#play.api.mvc;Action.apply(22e3d8054d).rh" title="play.api.mvc.RequestHeader">rh</a><span class="delimiter">)</span>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.mapM" title="(f: Either[play.api.mvc.Result,A] =&gt; scala.concurrent.Future[play.api.mvc.Result])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[Array[Byte],play.api.mvc.Result]">mapM</a> <a href="#play.api.mvc;Action.apply(22e3d8054d).$anonfun.x0$1" title="scala.concurrent.Future[play.api.mvc.Result]" class="delimiter">{</a>
    <span class="keyword">case</span> Left<span class="delimiter">(</span><a title="play.api.mvc.Result" id="play.api.mvc;Action.apply(22e3d8054d).$anonfun.r">r</a><span class="delimiter">)</span> =&gt;
      <a href="../Play.scala.html#play.api.Play" title="play.api.Play.type">Play</a>.<a href="../Play.scala.html#play.api.Play.logger" title="=&gt; play.api.Logger">logger</a>.<a href="../Logger.scala.html#play.api;LoggerLike.trace(83d3728a3c)" title="(message: =&gt; String)Unit">trace</a><span class="delimiter">(</span><span title="String(&quot;Got direct result from the BodyParser: &quot;)" class="string">&quot;Got direct result from the BodyParser: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#play.api.mvc;Action.apply(22e3d8054d).$anonfun.r" title="play.api.mvc.Result">r</a><span class="delimiter">)</span>
      <span title="scala.concurrent.Future.type">Future</span>.<span title="(result: play.api.mvc.Result)scala.concurrent.Future[play.api.mvc.Result]">successful</span><span class="delimiter">(</span><a href="#play.api.mvc;Action.apply(22e3d8054d).$anonfun.r" title="play.api.mvc.Result">r</a><span class="delimiter">)</span>
    <span class="keyword">case</span> Right<span class="delimiter">(</span><a title="A" id="play.api.mvc;Action.apply(22e3d8054d).$anonfun.a">a</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">val</span> <a title="apply extends AnyRef with play.api.mvc.Request[A]" id="play.api.mvc;Action.apply(22e3d8054d).$anonfun.request">request</a> = <a href="Http.scala.html#play.api.mvc.Request.apply" title="(rh: play.api.mvc.RequestHeader, a: A)play.api.mvc.Request[A]{lazy val remoteAddress: String; lazy val secure: Boolean; def username: None.type; val body: A}">Request</a><span class="delimiter">(</span><a href="#play.api.mvc;Action.apply(22e3d8054d).rh" title="play.api.mvc.RequestHeader">rh</a>, <a href="#play.api.mvc;Action.apply(22e3d8054d).$anonfun.a" title="A">a</a><span class="delimiter">)</span>
      <a href="../Play.scala.html#play.api.Play" title="play.api.Play.type">Play</a>.<a href="../Play.scala.html#play.api.Play.logger" title="=&gt; play.api.Logger">logger</a>.<a href="../Logger.scala.html#play.api;LoggerLike.trace(83d3728a3c)" title="(message: =&gt; String)Unit">trace</a><span class="delimiter">(</span><span title="String(&quot;Invoking action with request: &quot;)" class="string">&quot;Invoking action with request: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#play.api.mvc;Action.apply(22e3d8054d).$anonfun.request" title="apply extends AnyRef with play.api.mvc.Request[A]">request</a><span class="delimiter">)</span>
      <a href="../Play.scala.html#play.api.Play" title="play.api.Play.type">Play</a>.<a href="../Play.scala.html#play.api.Play.maybeApplication" title="=&gt; Option[play.api.Application]">maybeApplication</a>.<span title="(f: play.api.Application =&gt; scala.concurrent.Future[play.api.mvc.Result])Option[scala.concurrent.Future[play.api.mvc.Result]]">map</span> <span class="delimiter">{</span> <a title="play.api.Application" id="play.api.mvc;Action.apply(22e3d8054d).$anonfun.$anonfun.app">app</a> =&gt;
        play.utils.<a href="../../utils/Threads.scala.html#play.utils.Threads" title="play.utils.Threads.type">Threads</a>.<a href="../../utils/Threads.scala.html#play.utils.Threads.withContextClassLoader" title="(classloader: ClassLoader)(b: =&gt; scala.concurrent.Future[play.api.mvc.Result])scala.concurrent.Future[play.api.mvc.Result]">withContextClassLoader</a><span class="delimiter">(</span><a href="#play.api.mvc;Action.apply(22e3d8054d).$anonfun.$anonfun.app" title="play.api.Application">app</a>.<a href="../Application.scala.html#play.api;Application.classloader" title="=&gt; ClassLoader">classloader</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#play.api.mvc;Action.apply(39cb8018cf)" title="(request: play.api.mvc.Request[A])scala.concurrent.Future[play.api.mvc.Result]">apply</a><span class="delimiter">(</span><a href="#play.api.mvc;Action.apply(22e3d8054d).$anonfun.request" title="apply extends AnyRef with play.api.mvc.Request[A]">request</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>.<span title="(default: =&gt; scala.concurrent.Future[play.api.mvc.Result])scala.concurrent.Future[play.api.mvc.Result]">getOrElse</span> <span class="delimiter">{</span>
        <a href="#play.api.mvc;Action.apply(39cb8018cf)" title="(request: play.api.mvc.Request[A])scala.concurrent.Future[play.api.mvc.Result]">apply</a><span class="delimiter">(</span><a href="#play.api.mvc;Action.apply(22e3d8054d).$anonfun.request" title="apply extends AnyRef with play.api.mvc.Request[A]">request</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
  <span class="delimiter">}</span><span class="delimiter">(</span><a href="#play.api.mvc;Action.executionContext" title="=&gt; scala.concurrent.ExecutionContext">executionContext</a><span class="delimiter">)</span>

  <span class="comment">/**
   * The execution context to run this action in
   *
   * @return The execution context to run the action in
   */</span>
  <span class="keyword">def</span> <a title="=&gt; scala.concurrent.ExecutionContext" id="play.api.mvc;Action.executionContext">executionContext</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span> = play.api.libs.concurrent.<a href="../libs/concurrent/Execution.scala.html#play.api.libs.concurrent.Execution" title="play.api.libs.concurrent.Execution.type">Execution</a>.<a href="../libs/concurrent/Execution.scala.html#play.api.libs.concurrent.Execution.defaultContext" title="=&gt; scala.concurrent.ExecutionContext">defaultContext</a>

  <span class="comment">/**
   * Returns itself, for better support in the routes file.
   *
   * @return itself
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()play.api.mvc.Action[A]" id="play.api.mvc;Action.apply(c462c12a54)">apply</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="#play.api.mvc;Action" title="play.api.mvc.Action[A]">Action</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#play.api.mvc;Action" title="play.api.mvc.Action[A]" class="keyword">this</a>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="play.api.mvc;Action.toString">toString</a> = <span class="delimiter">{</span>
    <span title="String(&quot;Action(parser=&quot;)" class="string">&quot;Action(parser=&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#play.api.mvc;Action.parser" title="=&gt; play.api.mvc.BodyParser[A]">parser</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * A body parser parses the HTTP request body content.
 *
 * @tparam A the body content type
 */</span>
<span class="keyword">trait</span> <a title="trait BodyParser[+A] extends AnyRef with play.api.mvc.RequestHeader =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,A]]" id="play.api.mvc;BodyParser">BodyParser</a><span class="delimiter">[</span>+<a title="" id="play.api.mvc;BodyParser;A">A</a><span class="delimiter">]</span> <span title="Unit" class="keyword">extends</span> <span title="play.api.mvc.RequestHeader =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,A]]">Function1</span><span class="delimiter">[</span>RequestHeader, Iteratee<span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, Either<span class="delimiter">[</span>Result, A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
  self =&gt;

  <span class="comment">/**
   * Uses the provided function to transform the BodyParser's computed result
   * when the request body has been parsed.
   *
   * @param f a function for transforming the computed result
   * @param ec The context to execute the supplied function with.
   *        The context is prepared on the calling thread.
   * @return the transformed body parser
   * @see [[play.api.libs.iteratee.Iteratee#map]]
   */</span>
  <span class="keyword">def</span> <a title="[B](f: A =&gt; B)(implicit ec: scala.concurrent.ExecutionContext)play.api.mvc.BodyParser[B]" id="play.api.mvc;BodyParser.map">map</a><span class="delimiter">[</span><a title="" id="play.api.mvc;BodyParser.map;B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; B" id="play.api.mvc;BodyParser.map.f">f</a>: A =&gt; B<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.concurrent.ExecutionContext" id="play.api.mvc;BodyParser.map.ec">ec</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span><span class="delimiter">)</span>: <a href="#play.api.mvc;BodyParser" title="play.api.mvc.BodyParser[B]">BodyParser</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// prepare execution context as body parser object may cross thread boundary</span>
    <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scala.concurrent.ExecutionContext" id="play.api.mvc;BodyParser.map.pec">pec</a> = <a href="#play.api.mvc;BodyParser.map.ec" title="scala.concurrent.ExecutionContext">ec</a>.<span title="()scala.concurrent.ExecutionContext">prepare</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#play.api.mvc;BodyParser.map;$anon" title="play.api.mvc.BodyParser[B]" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.api.mvc.BodyParser[B]" id="play.api.mvc;BodyParser.map;$anon">BodyParser</a><span class="delimiter">[</span>B<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(request: play.api.mvc.RequestHeader)play.api.libs.iteratee.Iteratee[Array[Byte],Serializable with Product with scala.util.Either[play.api.mvc.Result,B]]" id="play.api.mvc;BodyParser.map;$anon.apply">apply</a><span class="delimiter">(</span><a title="play.api.mvc.RequestHeader" id="play.api.mvc;BodyParser.map;$anon.apply.request">request</a>: <a href="Http.scala.html#play.api.mvc;RequestHeader" title="play.api.mvc.RequestHeader">RequestHeader</a><span class="delimiter">)</span> =
        <a href="#play.api.mvc;BodyParser" title="(v1: play.api.mvc.RequestHeader)play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,A]]">self</a><span class="delimiter">(</span><a href="#play.api.mvc;BodyParser.map;$anon.apply.request" title="play.api.mvc.RequestHeader">request</a><span class="delimiter">)</span>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.map" title="(f: Either[play.api.mvc.Result,A] =&gt; Serializable with Product with scala.util.Either[play.api.mvc.Result,B])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[Array[Byte],Serializable with Product with scala.util.Either[play.api.mvc.Result,B]]">map</a> <span class="delimiter">{</span> <a href="#play.api.mvc;BodyParser.map;$anon.apply.$anonfun.x$2" title="Either[play.api.mvc.Result,A]">_</a>.<span title="=&gt; scala.util.Either.RightProjection[play.api.mvc.Result,A]">right</span>.<span title="(f: A =&gt; B)Serializable with Product with scala.util.Either[play.api.mvc.Result,B]">map</span><span class="delimiter">(</span><a href="#play.api.mvc;BodyParser.map.f" title="A =&gt; B">f</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">(</span><a href="#play.api.mvc;BodyParser.map.pec" title="scala.concurrent.ExecutionContext">pec</a><span class="delimiter">)</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="play.api.mvc;BodyParser.map;$anon.toString">toString</a> = <a href="#play.api.mvc;BodyParser" title="BodyParser.this.type">self</a>.<span title="()String">toString</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Like map but allows the map function to execute asynchronously.
   *
   * @param f the async function to map the result of the body parser
   * @param ec The context to execute the supplied function with.
   *        The context prepared on the calling thread.
   * @return the transformed body parser
   * @see [[map]]
   * @see [[play.api.libs.iteratee.Iteratee#mapM]]
   */</span>
  <span class="keyword">def</span> <a title="[B](f: A =&gt; scala.concurrent.Future[B])(implicit ec: scala.concurrent.ExecutionContext)play.api.mvc.BodyParser[B]" id="play.api.mvc;BodyParser.mapM">mapM</a><span class="delimiter">[</span><a title="" id="play.api.mvc;BodyParser.mapM;B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; scala.concurrent.Future[B]" id="play.api.mvc;BodyParser.mapM.f">f</a>: A =&gt; Future<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.concurrent.ExecutionContext" id="play.api.mvc;BodyParser.mapM.ec">ec</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span><span class="delimiter">)</span>: <a href="#play.api.mvc;BodyParser" title="play.api.mvc.BodyParser[B]">BodyParser</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// prepare execution context as body parser object may cross thread boundary</span>
    <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scala.concurrent.ExecutionContext" id="play.api.mvc;BodyParser.mapM.pec">pec</a> = <a href="#play.api.mvc;BodyParser.mapM.ec" title="scala.concurrent.ExecutionContext">ec</a>.<span title="()scala.concurrent.ExecutionContext">prepare</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#play.api.mvc;BodyParser.mapM;$anon" title="play.api.mvc.BodyParser[B]" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.api.mvc.BodyParser[B]" id="play.api.mvc;BodyParser.mapM;$anon">BodyParser</a><span class="delimiter">[</span>B<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(request: play.api.mvc.RequestHeader)play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]]" id="play.api.mvc;BodyParser.mapM;$anon.apply">apply</a><span class="delimiter">(</span><a title="play.api.mvc.RequestHeader" id="play.api.mvc;BodyParser.mapM;$anon.apply.request">request</a>: <a href="Http.scala.html#play.api.mvc;RequestHeader" title="play.api.mvc.RequestHeader">RequestHeader</a><span class="delimiter">)</span> = <a href="#play.api.mvc;BodyParser" title="(v1: play.api.mvc.RequestHeader)play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,A]]">self</a><span class="delimiter">(</span><a href="#play.api.mvc;BodyParser.mapM;$anon.apply.request" title="play.api.mvc.RequestHeader">request</a><span class="delimiter">)</span>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.mapM" title="(f: Either[play.api.mvc.Result,A] =&gt; scala.concurrent.Future[Either[play.api.mvc.Result,B]])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]]">mapM</a> <a href="#play.api.mvc;BodyParser.mapM;$anon.apply.$anonfun.x0$2" title="scala.concurrent.Future[Either[play.api.mvc.Result,B]]" class="delimiter">{</a>
        <span class="keyword">case</span> Right<span class="delimiter">(</span><a title="A" id="play.api.mvc;BodyParser.mapM;$anon.apply.$anonfun.a">a</a><span class="delimiter">)</span> =&gt;
          <span class="comment">// safe to execute `Right.apply` in same thread</span>
          <a href="#play.api.mvc;BodyParser.mapM.f" title="(v1: A)scala.concurrent.Future[B]">f</a><span class="delimiter">(</span><a href="#play.api.mvc;BodyParser.mapM;$anon.apply.$anonfun.a" title="A">a</a><span class="delimiter">)</span>.<span title="(f: B =&gt; scala.util.Right[Nothing,B])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[scala.util.Right[Nothing,B]]">map</span><span class="delimiter">(</span><span title="=&gt; util.Right.type">Right</span>.<a href="#play.api.mvc;BodyParser.mapM;$anon.apply.$anonfun.$anonfun.b" title="(b: B)scala.util.Right[Nothing,B]">apply</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../../play-iteratees/play/api/libs/iteratee/Execution.scala.html#play.api.libs.iteratee.Execution" title="play.api.libs.iteratee.Execution.type">Execution</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Execution.scala.html#play.api.libs.iteratee.Execution.trampoline" title="play.api.libs.iteratee.Execution.trampoline.type">trampoline</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Either[play.api.mvc.Result,A]" id="play.api.mvc;BodyParser.mapM;$anon.apply.$anonfun.left">left</a> =&gt;
          <span title="scala.concurrent.Future.type">Future</span>.<span title="(result: Either[play.api.mvc.Result,B])scala.concurrent.Future[Either[play.api.mvc.Result,B]]">successful</span><span class="delimiter">(</span><a href="#play.api.mvc;BodyParser.mapM;$anon.apply.$anonfun.left" title="Either[play.api.mvc.Result,A]">left</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Either[play.api.mvc.Result,B]" class="delimiter">[</span><span title="Either[play.api.mvc.Result,B]">Either</span><span class="delimiter">[</span>Result, B<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">(</span><a href="#play.api.mvc;BodyParser.mapM.pec" title="scala.concurrent.ExecutionContext">pec</a><span class="delimiter">)</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="play.api.mvc;BodyParser.mapM;$anon.toString">toString</a> = <a href="#play.api.mvc;BodyParser" title="BodyParser.this.type">self</a>.<span title="()String">toString</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Uses the provided function to transform the BodyParserâ€™s computed result
   * into another BodyParser to continue with.
   *
   * On Done of the Iteratee produced by this BodyParser, the result is passed
   * to the provided function, and the resulting BodyParser is given the same
   * RequestHeader and the Iteratee produced is used to continue consuming
   * input.
   *
   * @param f the function to produce a new body parser from the result of this body parser
   * @param ec The context to execute the supplied function with.
   *        The context is prepared on the calling thread.
   * @return the transformed body parser
   * @see [[play.api.libs.iteratee.Iteratee#flatMap]]
   */</span>
  <span class="keyword">def</span> <a title="[B](f: A =&gt; play.api.mvc.BodyParser[B])(implicit ec: scala.concurrent.ExecutionContext)play.api.mvc.BodyParser[B]" id="play.api.mvc;BodyParser.flatMap">flatMap</a><span class="delimiter">[</span><a title="" id="play.api.mvc;BodyParser.flatMap;B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; play.api.mvc.BodyParser[B]" id="play.api.mvc;BodyParser.flatMap.f">f</a>: A =&gt; BodyParser<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.concurrent.ExecutionContext" id="play.api.mvc;BodyParser.flatMap.ec">ec</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span><span class="delimiter">)</span>: <a href="#play.api.mvc;BodyParser" title="play.api.mvc.BodyParser[B]">BodyParser</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// prepare execution context as body parser object may cross thread boundary</span>
    <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scala.concurrent.ExecutionContext" id="play.api.mvc;BodyParser.flatMap.pec">pec</a> = <a href="#play.api.mvc;BodyParser.flatMap.ec" title="scala.concurrent.ExecutionContext">ec</a>.<span title="()scala.concurrent.ExecutionContext">prepare</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#play.api.mvc;BodyParser.flatMap;$anon" title="play.api.mvc.BodyParser[B]" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.api.mvc.BodyParser[B]" id="play.api.mvc;BodyParser.flatMap;$anon">BodyParser</a><span class="delimiter">[</span>B<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(request: play.api.mvc.RequestHeader)play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]]" id="play.api.mvc;BodyParser.flatMap;$anon.apply">apply</a><span class="delimiter">(</span><a title="play.api.mvc.RequestHeader" id="play.api.mvc;BodyParser.flatMap;$anon.apply.request">request</a>: <a href="Http.scala.html#play.api.mvc;RequestHeader" title="play.api.mvc.RequestHeader">RequestHeader</a><span class="delimiter">)</span> = <a href="#play.api.mvc;BodyParser" title="(v1: play.api.mvc.RequestHeader)play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,A]]">self</a><span class="delimiter">(</span><a href="#play.api.mvc;BodyParser.flatMap;$anon.apply.request" title="play.api.mvc.RequestHeader">request</a><span class="delimiter">)</span>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.flatMap" title="(f: Either[play.api.mvc.Result,A] =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]]">flatMap</a> <a href="#play.api.mvc;BodyParser.flatMap;$anon.apply.$anonfun.x0$3" title="play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]]" class="delimiter">{</a>
        <span class="keyword">case</span> Left<span class="delimiter">(</span><a title="play.api.mvc.Result" id="play.api.mvc;BodyParser.flatMap;$anon.apply.$anonfun.e">e</a><span class="delimiter">)</span> =&gt; <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: scala.util.Left[play.api.mvc.Result,Nothing], e: play.api.libs.iteratee.Input[Array[Byte]])play.api.libs.iteratee.Iteratee[Array[Byte],scala.util.Left[play.api.mvc.Result,Nothing]]">Done</a><span class="delimiter">(</span><span title="(a: play.api.mvc.Result)scala.util.Left[play.api.mvc.Result,Nothing]">Left</span><span class="delimiter">(</span><a href="#play.api.mvc;BodyParser.flatMap;$anon.apply.$anonfun.e" title="play.api.mvc.Result">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> Right<span class="delimiter">(</span><a title="A" id="play.api.mvc;BodyParser.flatMap;$anon.apply.$anonfun.a">a</a><span class="delimiter">)</span> =&gt; <a href="#play.api.mvc;BodyParser.flatMap.f" title="(v1: A)play.api.mvc.BodyParser[B]">f</a><span title="(v1: play.api.mvc.RequestHeader)play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]]" class="delimiter">(</span><a href="#play.api.mvc;BodyParser.flatMap;$anon.apply.$anonfun.a" title="A">a</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#play.api.mvc;BodyParser.flatMap;$anon.apply.request" title="play.api.mvc.RequestHeader">request</a><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">(</span><a href="#play.api.mvc;BodyParser.flatMap.pec" title="scala.concurrent.ExecutionContext">pec</a><span class="delimiter">)</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="play.api.mvc;BodyParser.flatMap;$anon.toString">toString</a> = <a href="#play.api.mvc;BodyParser" title="BodyParser.this.type">self</a>.<span title="()String">toString</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Like flatMap but allows the flatMap function to execute asynchronously.
   *
   * @param f the async function to produce a new body parser from the result of this body parser
   * @param ec The context to execute the supplied function with.
   *        The context is prepared on the calling thread.
   * @return the transformed body parser
   * @see [[flatMap]]
   * @see [[play.api.libs.iteratee.Iteratee#flatMapM]]
   */</span>
  <span class="keyword">def</span> <a title="[B](f: A =&gt; scala.concurrent.Future[play.api.mvc.BodyParser[B]])(implicit ec: scala.concurrent.ExecutionContext)play.api.mvc.BodyParser[B]" id="play.api.mvc;BodyParser.flatMapM">flatMapM</a><span class="delimiter">[</span><a title="" id="play.api.mvc;BodyParser.flatMapM;B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; scala.concurrent.Future[play.api.mvc.BodyParser[B]]" id="play.api.mvc;BodyParser.flatMapM.f">f</a>: A =&gt; Future<span class="delimiter">[</span>BodyParser<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.concurrent.ExecutionContext" id="play.api.mvc;BodyParser.flatMapM.ec">ec</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span><span class="delimiter">)</span>: <a href="#play.api.mvc;BodyParser" title="play.api.mvc.BodyParser[B]">BodyParser</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// prepare execution context as body parser object may cross thread boundary</span>
    <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scala.concurrent.ExecutionContext" id="play.api.mvc;BodyParser.flatMapM.pec">pec</a> = <a href="#play.api.mvc;BodyParser.flatMapM.ec" title="scala.concurrent.ExecutionContext">ec</a>.<span title="()scala.concurrent.ExecutionContext">prepare</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#play.api.mvc;BodyParser.flatMapM;$anon" title="play.api.mvc.BodyParser[B]" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.api.mvc.BodyParser[B]" id="play.api.mvc;BodyParser.flatMapM;$anon">BodyParser</a><span class="delimiter">[</span>B<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(request: play.api.mvc.RequestHeader)play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]]" id="play.api.mvc;BodyParser.flatMapM;$anon.apply">apply</a><span class="delimiter">(</span><a title="play.api.mvc.RequestHeader" id="play.api.mvc;BodyParser.flatMapM;$anon.apply.request">request</a>: <a href="Http.scala.html#play.api.mvc;RequestHeader" title="play.api.mvc.RequestHeader">RequestHeader</a><span class="delimiter">)</span> = <a href="#play.api.mvc;BodyParser" title="(v1: play.api.mvc.RequestHeader)play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,A]]">self</a><span class="delimiter">(</span><a href="#play.api.mvc;BodyParser.flatMapM;$anon.apply.request" title="play.api.mvc.RequestHeader">request</a><span class="delimiter">)</span>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.flatMapM" title="(f: Either[play.api.mvc.Result,A] =&gt; scala.concurrent.Future[play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]]])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]]">flatMapM</a> <a href="#play.api.mvc;BodyParser.flatMapM;$anon.apply.$anonfun.x0$4" title="scala.concurrent.Future[play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]]]" class="delimiter">{</a>
        <span class="keyword">case</span> Right<span class="delimiter">(</span><a title="A" id="play.api.mvc;BodyParser.flatMapM;$anon.apply.$anonfun.a">a</a><span class="delimiter">)</span> =&gt;
          <a href="#play.api.mvc;BodyParser.flatMapM.f" title="(v1: A)scala.concurrent.Future[play.api.mvc.BodyParser[B]]">f</a><span class="delimiter">(</span><a href="#play.api.mvc;BodyParser.flatMapM;$anon.apply.$anonfun.a" title="A">a</a><span class="delimiter">)</span>.<span title="(f: play.api.mvc.BodyParser[B] =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]]]">map</span> <span class="delimiter">{</span> <a href="#play.api.mvc;BodyParser.flatMapM;$anon.apply.$anonfun.$anonfun.x$3" title="play.api.mvc.BodyParser[B]">_</a>.<span title="(v1: play.api.mvc.RequestHeader)play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]]">apply</span><span class="delimiter">(</span><a href="#play.api.mvc;BodyParser.flatMapM;$anon.apply.request" title="play.api.mvc.RequestHeader">request</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">(</span><a href="#play.api.mvc;BodyParser.flatMapM.pec" title="scala.concurrent.ExecutionContext">pec</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Either[play.api.mvc.Result,A]" id="play.api.mvc;BodyParser.flatMapM;$anon.apply.$anonfun.left">left</a> =&gt;
          <span title="scala.concurrent.Future.type">Future</span>.<span title="(result: play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]])scala.concurrent.Future[play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]]]">successful</span> <span class="delimiter">{</span>
            <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="[E, A](a: A, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,A]">Done</a><a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Done.apply$default$2" title="(a: Either[play.api.mvc.Result,B], e: play.api.libs.iteratee.Input[Array[Byte]])play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]]" class="delimiter">[</a><span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span>, <span title="Either[play.api.mvc.Result,B]">Either</span><span class="delimiter">[</span>Result, B<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#play.api.mvc;BodyParser.flatMapM;$anon.apply.$anonfun.left" title="Either[play.api.mvc.Result,A]">left</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Either[play.api.mvc.Result,B]" class="delimiter">[</span><span title="Either[play.api.mvc.Result,B]">Either</span><span class="delimiter">[</span>Result, B<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">(</span><a href="#play.api.mvc;BodyParser.flatMapM.pec" title="scala.concurrent.ExecutionContext">pec</a><span class="delimiter">)</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="play.api.mvc;BodyParser.flatMapM;$anon.toString">toString</a> = <a href="#play.api.mvc;BodyParser" title="BodyParser.this.type">self</a>.<span title="()String">toString</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Uses the provided function to validate the BodyParser's computed result
   * when the request body has been parsed.
   *
   * The provided function can produce either a direct result, which will short
   * circuit any further Action, or a value of type B.
   *
   * Example:
   * {{{
   *   def validateJson[A : Reads] = parse.json.validate(
   *     _.validate[A].asEither.left.map(e =&gt; BadRequest(JsError.toFlatJson(e)))
   *   )
   * }}}
   *
   * @param f the function to validate the computed result of this body parser
   * @param ec The context to execute the supplied function with.
   *        The context is prepared on the calling thread.
   * @return the transformed body parser
   */</span>
  <span class="keyword">def</span> <a title="[B](f: A =&gt; Either[play.api.mvc.Result,B])(implicit ec: scala.concurrent.ExecutionContext)play.api.mvc.BodyParser[B]" id="play.api.mvc;BodyParser.validate">validate</a><span class="delimiter">[</span><a title="" id="play.api.mvc;BodyParser.validate;B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; Either[play.api.mvc.Result,B]" id="play.api.mvc;BodyParser.validate.f">f</a>: A =&gt; Either<span class="delimiter">[</span>Result, B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.concurrent.ExecutionContext" id="play.api.mvc;BodyParser.validate.ec">ec</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span><span class="delimiter">)</span>: <a href="#play.api.mvc;BodyParser" title="play.api.mvc.BodyParser[B]">BodyParser</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// prepare execution context as body parser object may cross thread boundary</span>
    <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scala.concurrent.ExecutionContext" id="play.api.mvc;BodyParser.validate.pec">pec</a> = <a href="#play.api.mvc;BodyParser.validate.ec" title="scala.concurrent.ExecutionContext">ec</a>.<span title="()scala.concurrent.ExecutionContext">prepare</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#play.api.mvc;BodyParser.validate;$anon" title="play.api.mvc.BodyParser[B]" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.api.mvc.BodyParser[B]" id="play.api.mvc;BodyParser.validate;$anon">BodyParser</a><span class="delimiter">[</span>B<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(request: play.api.mvc.RequestHeader)play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]]" id="play.api.mvc;BodyParser.validate;$anon.apply">apply</a><span class="delimiter">(</span><a title="play.api.mvc.RequestHeader" id="play.api.mvc;BodyParser.validate;$anon.apply.request">request</a>: <a href="Http.scala.html#play.api.mvc;RequestHeader" title="play.api.mvc.RequestHeader">RequestHeader</a><span class="delimiter">)</span> = <a href="#play.api.mvc;BodyParser" title="(v1: play.api.mvc.RequestHeader)play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,A]]">self</a><span class="delimiter">(</span><a href="#play.api.mvc;BodyParser.validate;$anon.apply.request" title="play.api.mvc.RequestHeader">request</a><span class="delimiter">)</span>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.flatMap" title="(f: Either[play.api.mvc.Result,A] =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]]">flatMap</a> <a href="#play.api.mvc;BodyParser.validate;$anon.apply.$anonfun.x0$5" title="play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]]" class="delimiter">{</a>
        <span class="keyword">case</span> Left<span class="delimiter">(</span><a title="play.api.mvc.Result" id="play.api.mvc;BodyParser.validate;$anon.apply.$anonfun.e">e</a><span class="delimiter">)</span> =&gt; <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: scala.util.Left[play.api.mvc.Result,Nothing], e: play.api.libs.iteratee.Input[Array[Byte]])play.api.libs.iteratee.Iteratee[Array[Byte],scala.util.Left[play.api.mvc.Result,Nothing]]">Done</a><span class="delimiter">(</span><span title="(a: play.api.mvc.Result)scala.util.Left[play.api.mvc.Result,Nothing]">Left</span><span class="delimiter">(</span><a href="#play.api.mvc;BodyParser.validate;$anon.apply.$anonfun.e" title="play.api.mvc.Result">e</a><span class="delimiter">)</span>, <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.Empty" title="play.api.libs.iteratee.Input.Empty.type">Empty</a><span class="delimiter">)</span>
        <span class="keyword">case</span> Right<span class="delimiter">(</span><a title="A" id="play.api.mvc;BodyParser.validate;$anon.apply.$anonfun.a">a</a><span class="delimiter">)</span> =&gt; <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: Either[play.api.mvc.Result,B], e: play.api.libs.iteratee.Input[Array[Byte]])play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]]">Done</a><span class="delimiter">(</span><a href="#play.api.mvc;BodyParser.validate.f" title="(v1: A)Either[play.api.mvc.Result,B]">f</a><span class="delimiter">(</span><a href="#play.api.mvc;BodyParser.validate;$anon.apply.$anonfun.a" title="A">a</a><span class="delimiter">)</span>, <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.Empty" title="play.api.libs.iteratee.Input.Empty.type">Empty</a><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">(</span><a href="#play.api.mvc;BodyParser.validate.pec" title="scala.concurrent.ExecutionContext">pec</a><span class="delimiter">)</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="play.api.mvc;BodyParser.validate;$anon.toString">toString</a> = <a href="#play.api.mvc;BodyParser" title="BodyParser.this.type">self</a>.<span title="()String">toString</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Like validate but allows the validate function to execute asynchronously.
   *
   * @param f the async function to validate the computed result of this body parser
   * @param ec The context to execute the supplied function with.
   *        The context is prepared on the calling thread.
   * @return the transformed body parser
   * @see [[validate]]
   */</span>
  <span class="keyword">def</span> <a title="[B](f: A =&gt; scala.concurrent.Future[Either[play.api.mvc.Result,B]])(implicit ec: scala.concurrent.ExecutionContext)play.api.mvc.BodyParser[B]" id="play.api.mvc;BodyParser.validateM">validateM</a><span class="delimiter">[</span><a title="" id="play.api.mvc;BodyParser.validateM;B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; scala.concurrent.Future[Either[play.api.mvc.Result,B]]" id="play.api.mvc;BodyParser.validateM.f">f</a>: A =&gt; Future<span class="delimiter">[</span>Either<span class="delimiter">[</span>Result, B<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.concurrent.ExecutionContext" id="play.api.mvc;BodyParser.validateM.ec">ec</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span><span class="delimiter">)</span>: <a href="#play.api.mvc;BodyParser" title="play.api.mvc.BodyParser[B]">BodyParser</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// prepare execution context as body parser object may cross thread boundary</span>
    <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scala.concurrent.ExecutionContext" id="play.api.mvc;BodyParser.validateM.pec">pec</a> = <a href="#play.api.mvc;BodyParser.validateM.ec" title="scala.concurrent.ExecutionContext">ec</a>.<span title="()scala.concurrent.ExecutionContext">prepare</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#play.api.mvc;BodyParser.validateM;$anon" title="play.api.mvc.BodyParser[B]" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.api.mvc.BodyParser[B]" id="play.api.mvc;BodyParser.validateM;$anon">BodyParser</a><span class="delimiter">[</span>B<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(request: play.api.mvc.RequestHeader)play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]]" id="play.api.mvc;BodyParser.validateM;$anon.apply">apply</a><span class="delimiter">(</span><a title="play.api.mvc.RequestHeader" id="play.api.mvc;BodyParser.validateM;$anon.apply.request">request</a>: <a href="Http.scala.html#play.api.mvc;RequestHeader" title="play.api.mvc.RequestHeader">RequestHeader</a><span class="delimiter">)</span> = <a href="#play.api.mvc;BodyParser" title="(v1: play.api.mvc.RequestHeader)play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,A]]">self</a><span class="delimiter">(</span><a href="#play.api.mvc;BodyParser.validateM;$anon.apply.request" title="play.api.mvc.RequestHeader">request</a><span class="delimiter">)</span>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.flatMapM" title="(f: Either[play.api.mvc.Result,A] =&gt; scala.concurrent.Future[play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]]])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]]">flatMapM</a> <a href="#play.api.mvc;BodyParser.validateM;$anon.apply.$anonfun.x0$6" title="scala.concurrent.Future[play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]]]" class="delimiter">{</a>
        <span class="keyword">case</span> Right<span class="delimiter">(</span><a title="A" id="play.api.mvc;BodyParser.validateM;$anon.apply.$anonfun.a">a</a><span class="delimiter">)</span> =&gt;
          <span class="comment">// safe to execute `Done.apply` in same thread</span>
          <a href="#play.api.mvc;BodyParser.validateM.f" title="(v1: A)scala.concurrent.Future[Either[play.api.mvc.Result,B]]">f</a><span class="delimiter">(</span><a href="#play.api.mvc;BodyParser.validateM;$anon.apply.$anonfun.a" title="A">a</a><span class="delimiter">)</span>.<span title="(f: Either[play.api.mvc.Result,B] =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]]]">map</span><span class="delimiter">(</span><a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Done" title="play.api.libs.iteratee.Done.type">Done</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="[E, A](a: A, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,A]">apply</a><a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Done.apply$default$2" title="(a: Either[play.api.mvc.Result,B], e: play.api.libs.iteratee.Input[Array[Byte]])play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]]" class="delimiter">[</a><span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span>, <span title="Either[play.api.mvc.Result,B]">Either</span><span class="delimiter">[</span>Result, B<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#play.api.mvc;BodyParser.validateM;$anon.apply.$anonfun.$anonfun.x$4" title="Either[play.api.mvc.Result,B]">_</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../../play-iteratees/play/api/libs/iteratee/Execution.scala.html#play.api.libs.iteratee.Execution" title="play.api.libs.iteratee.Execution.type">Execution</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Execution.scala.html#play.api.libs.iteratee.Execution.trampoline" title="play.api.libs.iteratee.Execution.trampoline.type">trampoline</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Either[play.api.mvc.Result,A]" id="play.api.mvc;BodyParser.validateM;$anon.apply.$anonfun.left">left</a> =&gt;
          <span title="scala.concurrent.Future.type">Future</span>.<span title="(result: play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]])scala.concurrent.Future[play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]]]">successful</span> <span class="delimiter">{</span>
            <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="[E, A](a: A, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,A]">Done</a><a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Done.apply$default$2" title="(a: Either[play.api.mvc.Result,B], e: play.api.libs.iteratee.Input[Array[Byte]])play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,B]]" class="delimiter">[</a><span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span>, <span title="Either[play.api.mvc.Result,B]">Either</span><span class="delimiter">[</span>Result, B<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#play.api.mvc;BodyParser.validateM;$anon.apply.$anonfun.left" title="Either[play.api.mvc.Result,A]">left</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Either[play.api.mvc.Result,B]" class="delimiter">[</span><span title="Either[play.api.mvc.Result,B]">Either</span><span class="delimiter">[</span>Result, B<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">(</span><a href="#play.api.mvc;BodyParser.validateM.pec" title="scala.concurrent.ExecutionContext">pec</a><span class="delimiter">)</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="play.api.mvc;BodyParser.validateM;$anon.toString">toString</a> = <a href="#play.api.mvc;BodyParser" title="BodyParser.this.type">self</a>.<span title="()String">toString</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Helper object to construct `BodyParser` values.
 */</span>
<span class="keyword">object</span> <a title="play.api.mvc.BodyParser.type" id="play.api.mvc.BodyParser">BodyParser</a> <a href="#play.api.mvc.BodyParser" title="play.api.mvc.BodyParser.type" class="delimiter">{</a>

  <span class="comment">/**
   * Create an anonymous BodyParser
   *
   * Example:
   * {{{
   * val bodySize = BodyParser { request =&gt;
   *   Iteratee.fold(0) { (state, chunk) =&gt; state + chunk.size } map(size =&gt; Right(size))
   * }
   * }}}
   */</span>
  <span class="keyword">def</span> <a title="[T](f: play.api.mvc.RequestHeader =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,T]])play.api.mvc.BodyParser[T]" id="play.api.mvc.BodyParser.apply(999df595a3)">apply</a><span class="delimiter">[</span><a title="" id="play.api.mvc.BodyParser.apply(999df595a3);T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.mvc.RequestHeader =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,T]]" id="play.api.mvc.BodyParser.apply(999df595a3).f">f</a>: RequestHeader =&gt; Iteratee<span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, Either<span class="delimiter">[</span>Result, T<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#play.api.mvc;BodyParser" title="play.api.mvc.BodyParser[T]">BodyParser</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#play.api.mvc.BodyParser.apply(96af8f9cb1)" title="(debugName: String)(f: play.api.mvc.RequestHeader =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,T]])play.api.mvc.BodyParser[T]">apply</a><span class="delimiter">(</span><span title="String(&quot;(no name)&quot;)" class="string">&quot;(no name)&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#play.api.mvc.BodyParser.apply(999df595a3).f" title="play.api.mvc.RequestHeader =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,T]]">f</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Create a BodyParser
   *
   * Example:
   * {{{
   * val bodySize = BodyParser(&quot;Body size&quot;) { request =&gt;
   *   Iteratee.fold(0) { (state, chunk) =&gt; state + chunk.size } map(size =&gt; Right(size))
   * }
   * }}}
   */</span>
  <span class="keyword">def</span> <a title="[T](debugName: String)(f: play.api.mvc.RequestHeader =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,T]])play.api.mvc.BodyParser[T]" id="play.api.mvc.BodyParser.apply(96af8f9cb1)">apply</a><span class="delimiter">[</span><a title="" id="play.api.mvc.BodyParser.apply(96af8f9cb1);T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="play.api.mvc.BodyParser.apply(96af8f9cb1).debugName">debugName</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="play.api.mvc.RequestHeader =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,T]]" id="play.api.mvc.BodyParser.apply(96af8f9cb1).f">f</a>: RequestHeader =&gt; Iteratee<span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, Either<span class="delimiter">[</span>Result, T<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#play.api.mvc;BodyParser" title="play.api.mvc.BodyParser[T]">BodyParser</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#play.api.mvc.BodyParser.apply(96af8f9cb1);$anon" title="play.api.mvc.BodyParser[T]" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.api.mvc.BodyParser[T]" id="play.api.mvc.BodyParser.apply(96af8f9cb1);$anon">BodyParser</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(rh: play.api.mvc.RequestHeader)play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,T]]" id="play.api.mvc.BodyParser.apply(96af8f9cb1);$anon.apply">apply</a><span class="delimiter">(</span><a title="play.api.mvc.RequestHeader" id="play.api.mvc.BodyParser.apply(96af8f9cb1);$anon.apply.rh">rh</a>: <a href="Http.scala.html#play.api.mvc;RequestHeader" title="play.api.mvc.RequestHeader">RequestHeader</a><span class="delimiter">)</span> = <a href="#play.api.mvc.BodyParser.apply(96af8f9cb1).f" title="(v1: play.api.mvc.RequestHeader)play.api.libs.iteratee.Iteratee[Array[Byte],Either[play.api.mvc.Result,T]]">f</a><span class="delimiter">(</span><a href="#play.api.mvc.BodyParser.apply(96af8f9cb1);$anon.apply.rh" title="play.api.mvc.RequestHeader">rh</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="play.api.mvc.BodyParser.apply(96af8f9cb1);$anon.toString">toString</a> = <span title="String(&quot;BodyParser(&quot;)" class="string">&quot;BodyParser(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#play.api.mvc.BodyParser.apply(96af8f9cb1).debugName" title="String">debugName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * A builder for generic Actions that generalizes over the type of requests.
 * An ActionFunction[R,P] may be chained onto an existing ActionBuilder[R] to produce a new ActionBuilder[P] using andThen.
 * The critical (abstract) function is invokeBlock.
 * Most users will want to use ActionBuilder instead.
 *
 * @tparam R the type of the request on which this is invoked (input)
 * @tparam P the parameter type which blocks executed by this builder take (output)
 */</span>
<span title="AnyRef" class="keyword">trait</span> <a title="trait ActionFunction[-R[_], +P[_]] extends AnyRef" id="play.api.mvc;ActionFunction">ActionFunction</a><span class="delimiter">[</span>-<a title="[_]" id="play.api.mvc;ActionFunction;R">R</a><span class="delimiter">[</span><a title="" id="play.api.mvc;ActionFunction;R;_">_</a><span class="delimiter">]</span>, +<a title="[_]" id="play.api.mvc;ActionFunction;P">P</a><span class="delimiter">[</span><a title="" id="play.api.mvc;ActionFunction;P;_">_</a><span class="delimiter">]</span><span class="delimiter">]</span> <span title="Unit" class="delimiter">{</span>
  self =&gt;

  <span class="comment">/**
   * Invoke the block.  This is the main method that an ActionBuilder has to implement, at this stage it can wrap it in
   * any other actions, modify the request object or potentially use a different class to represent the request.
   *
   * @param request The request
   * @param block The block of code to invoke
   * @return A future of the result
   */</span>
  <span class="keyword">def</span> <a title="[A](request: R[A], block: P[A] =&gt; scala.concurrent.Future[play.api.mvc.Result])scala.concurrent.Future[play.api.mvc.Result]" id="play.api.mvc;ActionFunction.invokeBlock">invokeBlock</a><span class="delimiter">[</span><a title="" id="play.api.mvc;ActionFunction.invokeBlock;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="R[A]" id="play.api.mvc;ActionFunction.invokeBlock.request">request</a>: <a href="#play.api.mvc;ActionFunction;R" title="R[A]">R</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="P[A] =&gt; scala.concurrent.Future[play.api.mvc.Result]" id="play.api.mvc;ActionFunction.invokeBlock.block">block</a>: P<span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt; Future<span class="delimiter">[</span>Result<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scala.concurrent.Future[play.api.mvc.Result]">Future</span><span class="delimiter">[</span>Result<span class="delimiter">]</span>

  <span class="comment">/**
   * Get the execution context to run the request in.  Override this if you want a custom execution context
   *
   * @return The execution context
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; scala.concurrent.ExecutionContext" id="play.api.mvc;ActionFunction.executionContext">executionContext</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span> = play.api.libs.concurrent.<a href="../libs/concurrent/Execution.scala.html#play.api.libs.concurrent.Execution" title="play.api.libs.concurrent.Execution.type">Execution</a>.<a href="../libs/concurrent/Execution.scala.html#play.api.libs.concurrent.Execution.defaultContext" title="=&gt; scala.concurrent.ExecutionContext">defaultContext</a>

  <span class="comment">/**
   * Compose this ActionFunction with another, with this one applied first.
   *
   * @param other ActionFunction with which to compose
   * @return The new ActionFunction
   */</span>
  <span class="keyword">def</span> <a title="[Q[_]](other: play.api.mvc.ActionFunction[P,Q])play.api.mvc.ActionFunction[R,Q]" id="play.api.mvc;ActionFunction.andThen">andThen</a><span class="delimiter">[</span><a title="[_]" id="play.api.mvc;ActionFunction.andThen;Q">Q</a><span class="delimiter">[</span><a title="" id="play.api.mvc;ActionFunction.andThen;Q;_">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.mvc.ActionFunction[P,Q]" id="play.api.mvc;ActionFunction.andThen.other">other</a>: <a href="#play.api.mvc;ActionFunction" title="play.api.mvc.ActionFunction[P,Q]">ActionFunction</a><span class="delimiter">[</span>P, Q<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#play.api.mvc;ActionFunction" title="play.api.mvc.ActionFunction[R,Q]">ActionFunction</a><span class="delimiter">[</span>R, Q<span class="delimiter">]</span> = <a href="#play.api.mvc;ActionFunction.andThen;$anon" title="play.api.mvc.ActionFunction[R,Q]" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.api.mvc.ActionFunction[R,Q]" id="play.api.mvc;ActionFunction.andThen;$anon">ActionFunction</a><span class="delimiter">[</span>R, Q<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[A](request: R[A], block: Q[A] =&gt; scala.concurrent.Future[play.api.mvc.Result])scala.concurrent.Future[play.api.mvc.Result]" id="play.api.mvc;ActionFunction.andThen;$anon.invokeBlock">invokeBlock</a><span class="delimiter">[</span><a title="" id="play.api.mvc;ActionFunction.andThen;$anon.invokeBlock;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="R[A]" id="play.api.mvc;ActionFunction.andThen;$anon.invokeBlock.request">request</a>: <a href="#play.api.mvc;ActionFunction;R" title="R[A]">R</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Q[A] =&gt; scala.concurrent.Future[play.api.mvc.Result]" id="play.api.mvc;ActionFunction.andThen;$anon.invokeBlock.block">block</a>: Q<span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt; Future<span class="delimiter">[</span>Result<span class="delimiter">]</span><span class="delimiter">)</span> =
      <a href="#play.api.mvc;ActionFunction" title="ActionFunction.this.type">self</a>.<a href="#play.api.mvc;ActionFunction.invokeBlock" title="[A](request: R[A], block: P[A] =&gt; scala.concurrent.Future[play.api.mvc.Result])scala.concurrent.Future[play.api.mvc.Result]">invokeBlock</a><span title="(request: R[A], block: P[A] =&gt; scala.concurrent.Future[play.api.mvc.Result])scala.concurrent.Future[play.api.mvc.Result]" class="delimiter">[</span><a href="#play.api.mvc;ActionFunction.andThen;$anon.invokeBlock;A" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#play.api.mvc;ActionFunction.andThen;$anon.invokeBlock.request" title="R[A]">request</a>, <a href="#play.api.mvc;ActionFunction.andThen.other" title="play.api.mvc.ActionFunction[P,Q]">other</a>.<a href="#play.api.mvc;ActionFunction.invokeBlock" title="[A](request: P[A], block: Q[A] =&gt; scala.concurrent.Future[play.api.mvc.Result])scala.concurrent.Future[play.api.mvc.Result]">invokeBlock</a><span title="(request: P[A], block: Q[A] =&gt; scala.concurrent.Future[play.api.mvc.Result])scala.concurrent.Future[play.api.mvc.Result]" class="delimiter">[</span><a href="#play.api.mvc;ActionFunction.andThen;$anon.invokeBlock;A" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#play.api.mvc;ActionFunction.andThen;$anon.invokeBlock.$anonfun.x$5" title="P[A]">_</a>, <a href="#play.api.mvc;ActionFunction.andThen;$anon.invokeBlock.block" title="Q[A] =&gt; scala.concurrent.Future[play.api.mvc.Result]">block</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Compose another ActionFunction with this one, with this one applied last.
   *
   * @param other ActionFunction with which to compose
   * @return The new ActionFunction
   */</span>
  <span class="keyword">def</span> <a title="[Q[_]](other: play.api.mvc.ActionFunction[Q,R])play.api.mvc.ActionFunction[Q,P]" id="play.api.mvc;ActionFunction.compose(460e6a9789)">compose</a><span class="delimiter">[</span><a title="[_]" id="play.api.mvc;ActionFunction.compose(460e6a9789);Q">Q</a><span class="delimiter">[</span><a title="" id="play.api.mvc;ActionFunction.compose(460e6a9789);Q;_">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.mvc.ActionFunction[Q,R]" id="play.api.mvc;ActionFunction.compose(460e6a9789).other">other</a>: <a href="#play.api.mvc;ActionFunction" title="play.api.mvc.ActionFunction[Q,R]">ActionFunction</a><span class="delimiter">[</span>Q, R<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#play.api.mvc;ActionFunction" title="play.api.mvc.ActionFunction[Q,P]">ActionFunction</a><span class="delimiter">[</span>Q, P<span class="delimiter">]</span> =
    <a href="#play.api.mvc;ActionFunction.compose(460e6a9789).other" title="play.api.mvc.ActionFunction[Q,R]">other</a>.<a href="#play.api.mvc;ActionFunction.andThen" title="(other: play.api.mvc.ActionFunction[R,P])play.api.mvc.ActionFunction[Q,P]">andThen</a><span class="delimiter">(</span><a href="#play.api.mvc;ActionFunction" title="play.api.mvc.ActionFunction[R,P]" class="keyword">this</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(other: play.api.mvc.ActionBuilder[R])play.api.mvc.ActionBuilder[P]" id="play.api.mvc;ActionFunction.compose(be1b74e3d7)">compose</a><span class="delimiter">(</span><a title="play.api.mvc.ActionBuilder[R]" id="play.api.mvc;ActionFunction.compose(be1b74e3d7).other">other</a>: <a href="#play.api.mvc;ActionBuilder" title="play.api.mvc.ActionBuilder[R]">ActionBuilder</a><span class="delimiter">[</span>R<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#play.api.mvc;ActionBuilder" title="play.api.mvc.ActionBuilder[P]">ActionBuilder</a><span class="delimiter">[</span>P<span class="delimiter">]</span> =
    <a href="#play.api.mvc;ActionFunction.compose(be1b74e3d7).other" title="play.api.mvc.ActionBuilder[R]">other</a>.<a href="#play.api.mvc;ActionBuilder.andThen" title="(other: play.api.mvc.ActionFunction[R,P])play.api.mvc.ActionBuilder[P]">andThen</a><span class="delimiter">(</span><a href="#play.api.mvc;ActionFunction" title="play.api.mvc.ActionFunction[R,P]" class="keyword">this</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * Provides helpers for creating `Action` values.
 */</span>
<span title="AnyRef" class="keyword">trait</span> <a title="trait ActionBuilder[+R[_]] extends AnyRef with play.api.mvc.ActionFunction[play.api.mvc.Request,R]" id="play.api.mvc;ActionBuilder">ActionBuilder</a><span class="delimiter">[</span>+<a title="[_]" id="play.api.mvc;ActionBuilder;R">R</a><span class="delimiter">[</span><a title="" id="play.api.mvc;ActionBuilder;R;_">_</a><span class="delimiter">]</span><span class="delimiter">]</span> <span title="Unit" class="keyword">extends</span> <a href="#play.api.mvc;ActionFunction" title="play.api.mvc.ActionFunction[play.api.mvc.Request,R]">ActionFunction</a><span class="delimiter">[</span>Request, R<span class="delimiter">]</span> <span class="delimiter">{</span>
  self =&gt;

  <span class="comment">/**
   * Constructs an `Action`.
   *
   * For example:
   * {{{
   * val echo = Action(parse.anyContent) { request =&gt;
   *   Ok(&quot;Got request [&quot; + request + &quot;]&quot;)
   * }
   * }}}
   *
   * @tparam A the type of the request body
   * @param bodyParser the `BodyParser` to use to parse the request body
   * @param block the action code
   * @return an action
   */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](bodyParser: play.api.mvc.BodyParser[A])(block: R[A] =&gt; play.api.mvc.Result)play.api.mvc.Action[A]" id="play.api.mvc;ActionBuilder.apply(2e86963631)">apply</a><span class="delimiter">[</span><a title="" id="play.api.mvc;ActionBuilder.apply(2e86963631);A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.mvc.BodyParser[A]" id="play.api.mvc;ActionBuilder.apply(2e86963631).bodyParser">bodyParser</a>: <a href="#play.api.mvc;BodyParser" title="play.api.mvc.BodyParser[A]">BodyParser</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="R[A] =&gt; play.api.mvc.Result" id="play.api.mvc;ActionBuilder.apply(2e86963631).block">block</a>: R<span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt; Result<span class="delimiter">)</span>: <a href="#play.api.mvc;Action" title="play.api.mvc.Action[A]">Action</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#play.api.mvc;ActionBuilder.async(60ee6e0b70)" title="(bodyParser: play.api.mvc.BodyParser[A])(block: R[A] =&gt; scala.concurrent.Future[play.api.mvc.Result])play.api.mvc.Action[A]">async</a><span class="delimiter">(</span><a href="#play.api.mvc;ActionBuilder.apply(2e86963631).bodyParser" title="play.api.mvc.BodyParser[A]">bodyParser</a><span class="delimiter">)</span> <span class="delimiter">{</span> req: <a href="#play.api.mvc;ActionBuilder;R" title="R[A]">R</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt;
    <span title="scala.concurrent.Future.type">Future</span>.<span title="(result: play.api.mvc.Result)scala.concurrent.Future[play.api.mvc.Result]">successful</span><span class="delimiter">(</span><a href="#play.api.mvc;ActionBuilder.apply(2e86963631).block" title="(v1: R[A])play.api.mvc.Result">block</a><span class="delimiter">(</span><a href="#play.api.mvc;ActionBuilder.apply(2e86963631).$anonfun.req" title="R[A]">req</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Constructs an `Action` with default content.
   *
   * For example:
   * {{{
   * val echo = Action { request =&gt;
   *   Ok(&quot;Got request [&quot; + request + &quot;]&quot;)
   * }
   * }}}
   *
   * @param block the action code
   * @return an action
   */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(block: R[play.api.mvc.AnyContent] =&gt; play.api.mvc.Result)play.api.mvc.Action[play.api.mvc.AnyContent]" id="play.api.mvc;ActionBuilder.apply(b32dcdc84c)">apply</a><span class="delimiter">(</span><a title="R[play.api.mvc.AnyContent] =&gt; play.api.mvc.Result" id="play.api.mvc;ActionBuilder.apply(b32dcdc84c).block">block</a>: R<span class="delimiter">[</span>AnyContent<span class="delimiter">]</span> =&gt; Result<span class="delimiter">)</span>: <a href="#play.api.mvc;Action" title="play.api.mvc.Action[play.api.mvc.AnyContent]">Action</a><span class="delimiter">[</span>AnyContent<span class="delimiter">]</span> = <a href="#play.api.mvc;ActionBuilder.apply(2e86963631)" title="(bodyParser: play.api.mvc.BodyParser[play.api.mvc.AnyContent])(block: R[play.api.mvc.AnyContent] =&gt; play.api.mvc.Result)play.api.mvc.Action[play.api.mvc.AnyContent]">apply</a><span class="delimiter">(</span><a href="ContentTypes.scala.html#play.api.mvc.BodyParsers" title="play.api.mvc.BodyParsers.type">BodyParsers</a>.<a href="ContentTypes.scala.html#play.api.mvc;BodyParsers.parse" title="play.api.mvc.BodyParsers.parse.type">parse</a>.<a href="ContentTypes.scala.html#play.api.mvc;BodyParsers.parse.anyContent" title="=&gt; play.api.mvc.BodyParser[play.api.mvc.AnyContent]">anyContent</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#play.api.mvc;ActionBuilder.apply(b32dcdc84c).block" title="R[play.api.mvc.AnyContent] =&gt; play.api.mvc.Result">block</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Constructs an `Action` with default content, and no request parameter.
   *
   * For example:
   * {{{
   * val hello = Action {
   *   Ok(&quot;Hello!&quot;)
   * }
   * }}}
   *
   * @param block the action code
   * @return an action
   */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(block: =&gt; play.api.mvc.Result)play.api.mvc.Action[play.api.mvc.AnyContent]" id="play.api.mvc;ActionBuilder.apply(6e91564c4b)">apply</a><span class="delimiter">(</span><a title="=&gt; play.api.mvc.Result" id="play.api.mvc;ActionBuilder.apply(6e91564c4b).block">block</a>: =&gt; Result<span class="delimiter">)</span>: <a href="#play.api.mvc;Action" title="play.api.mvc.Action[play.api.mvc.AnyContent]">Action</a><span class="delimiter">[</span>AnyContent<span class="delimiter">]</span> = <a href="#play.api.mvc;ActionBuilder.apply(b32dcdc84c)" title="(block: R[play.api.mvc.AnyContent] =&gt; play.api.mvc.Result)play.api.mvc.Action[play.api.mvc.AnyContent]">apply</a><span class="delimiter">(</span><a title="R[play.api.mvc.AnyContent]" id="play.api.mvc;ActionBuilder.apply(6e91564c4b).$anonfun.x$6">_</a> =&gt; <a href="#play.api.mvc;ActionBuilder.apply(6e91564c4b).block" title="=&gt; play.api.mvc.Result">block</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Constructs an `Action` that returns a future of a result, with default content, and no request parameter.
   *
   * For example:
   * {{{
   * val hello = Action.async {
   *   WS.url(&quot;http://www.playframework.com&quot;).get().map { r =&gt;
   *     if (r.status == 200) Ok(&quot;The website is up&quot;) else NotFound(&quot;The website is down&quot;)
   *   }
   * }
   * }}}
   *
   * @param block the action code
   * @return an action
   */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(block: =&gt; scala.concurrent.Future[play.api.mvc.Result])play.api.mvc.Action[play.api.mvc.AnyContent]" id="play.api.mvc;ActionBuilder.async(844314afd2)">async</a><span class="delimiter">(</span><a title="=&gt; scala.concurrent.Future[play.api.mvc.Result]" id="play.api.mvc;ActionBuilder.async(844314afd2).block">block</a>: =&gt; Future<span class="delimiter">[</span>Result<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#play.api.mvc;Action" title="play.api.mvc.Action[play.api.mvc.AnyContent]">Action</a><span class="delimiter">[</span>AnyContent<span class="delimiter">]</span> = <a href="#play.api.mvc;ActionBuilder.async(f309a5941b)" title="(block: R[play.api.mvc.AnyContent] =&gt; scala.concurrent.Future[play.api.mvc.Result])play.api.mvc.Action[play.api.mvc.AnyContent]">async</a><span class="delimiter">(</span><a title="R[play.api.mvc.AnyContent]" id="play.api.mvc;ActionBuilder.async(844314afd2).$anonfun.x$7">_</a> =&gt; <a href="#play.api.mvc;ActionBuilder.async(844314afd2).block" title="=&gt; scala.concurrent.Future[play.api.mvc.Result]">block</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Constructs an `Action` that returns a future of a result, with default content.
   *
   * For example:
   * {{{
   * val hello = Action.async { request =&gt;
   *   WS.url(request.getQueryString(&quot;url&quot;).get).get().map { r =&gt;
   *     if (r.status == 200) Ok(&quot;The website is up&quot;) else NotFound(&quot;The website is down&quot;)
   *   }
   * }
   * }}}
   *
   * @param block the action code
   * @return an action
   */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(block: R[play.api.mvc.AnyContent] =&gt; scala.concurrent.Future[play.api.mvc.Result])play.api.mvc.Action[play.api.mvc.AnyContent]" id="play.api.mvc;ActionBuilder.async(f309a5941b)">async</a><span class="delimiter">(</span><a title="R[play.api.mvc.AnyContent] =&gt; scala.concurrent.Future[play.api.mvc.Result]" id="play.api.mvc;ActionBuilder.async(f309a5941b).block">block</a>: R<span class="delimiter">[</span>AnyContent<span class="delimiter">]</span> =&gt; Future<span class="delimiter">[</span>Result<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#play.api.mvc;Action" title="play.api.mvc.Action[play.api.mvc.AnyContent]">Action</a><span class="delimiter">[</span>AnyContent<span class="delimiter">]</span> = <a href="#play.api.mvc;ActionBuilder.async(60ee6e0b70)" title="(bodyParser: play.api.mvc.BodyParser[play.api.mvc.AnyContent])(block: R[play.api.mvc.AnyContent] =&gt; scala.concurrent.Future[play.api.mvc.Result])play.api.mvc.Action[play.api.mvc.AnyContent]">async</a><span class="delimiter">(</span><a href="ContentTypes.scala.html#play.api.mvc.BodyParsers" title="play.api.mvc.BodyParsers.type">BodyParsers</a>.<a href="ContentTypes.scala.html#play.api.mvc;BodyParsers.parse" title="play.api.mvc.BodyParsers.parse.type">parse</a>.<a href="ContentTypes.scala.html#play.api.mvc;BodyParsers.parse.anyContent" title="=&gt; play.api.mvc.BodyParser[play.api.mvc.AnyContent]">anyContent</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#play.api.mvc;ActionBuilder.async(f309a5941b).block" title="R[play.api.mvc.AnyContent] =&gt; scala.concurrent.Future[play.api.mvc.Result]">block</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Constructs an `Action` that returns a future of a result, with default content.
   *
   * For example:
   * {{{
   * val hello = Action.async { request =&gt;
   *   WS.url(request.getQueryString(&quot;url&quot;).get).get().map { r =&gt;
   *     if (r.status == 200) Ok(&quot;The website is up&quot;) else NotFound(&quot;The website is down&quot;)
   *   }
   * }
   * }}}
   *
   * @param block the action code
   * @return an action
   */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](bodyParser: play.api.mvc.BodyParser[A])(block: R[A] =&gt; scala.concurrent.Future[play.api.mvc.Result])play.api.mvc.Action[A]" id="play.api.mvc;ActionBuilder.async(60ee6e0b70)">async</a><span class="delimiter">[</span><a title="" id="play.api.mvc;ActionBuilder.async(60ee6e0b70);A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.mvc.BodyParser[A]" id="play.api.mvc;ActionBuilder.async(60ee6e0b70).bodyParser">bodyParser</a>: <a href="#play.api.mvc;BodyParser" title="play.api.mvc.BodyParser[A]">BodyParser</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="R[A] =&gt; scala.concurrent.Future[play.api.mvc.Result]" id="play.api.mvc;ActionBuilder.async(60ee6e0b70).block">block</a>: R<span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt; Future<span class="delimiter">[</span>Result<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#play.api.mvc;Action" title="play.api.mvc.Action[A]">Action</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#play.api.mvc;ActionBuilder.composeAction" title="(action: play.api.mvc.Action[A])play.api.mvc.Action[A]">composeAction</a><span class="delimiter">(</span><a href="#play.api.mvc;ActionBuilder.async(60ee6e0b70);$anon" title="play.api.mvc.Action[A]" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.api.mvc.Action[A]" id="play.api.mvc;ActionBuilder.async(60ee6e0b70);$anon">Action</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; play.api.mvc.BodyParser[A]" id="play.api.mvc;ActionBuilder.async(60ee6e0b70);$anon.parser">parser</a> = <a href="#play.api.mvc;ActionBuilder.composeParser" title="(bodyParser: play.api.mvc.BodyParser[A])play.api.mvc.BodyParser[A]">composeParser</a><span class="delimiter">(</span><a href="#play.api.mvc;ActionBuilder.async(60ee6e0b70).bodyParser" title="play.api.mvc.BodyParser[A]">bodyParser</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(request: play.api.mvc.Request[A])scala.concurrent.Future[play.api.mvc.Result]" id="play.api.mvc;ActionBuilder.async(60ee6e0b70);$anon.apply(39cb8018cf)">apply</a><span class="delimiter">(</span><a title="play.api.mvc.Request[A]" id="play.api.mvc;ActionBuilder.async(60ee6e0b70);$anon.apply(39cb8018cf).request">request</a>: <a href="Http.scala.html#play.api.mvc;Request" title="play.api.mvc.Request[A]">Request</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="keyword">try</span> <span class="delimiter">{</span>
      <a href="#play.api.mvc;ActionFunction.invokeBlock" title="(request: play.api.mvc.Request[A], block: R[A] =&gt; scala.concurrent.Future[play.api.mvc.Result])scala.concurrent.Future[play.api.mvc.Result]">invokeBlock</a><span class="delimiter">(</span><a href="#play.api.mvc;ActionBuilder.async(60ee6e0b70);$anon.apply(39cb8018cf).request" title="play.api.mvc.Request[A]">request</a>, <a href="#play.api.mvc;ActionBuilder.async(60ee6e0b70).block" title="R[A] =&gt; scala.concurrent.Future[play.api.mvc.Result]">block</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
      <span class="comment">// NotImplementedError is not caught by NonFatal, wrap it</span>
      <span class="keyword">case</span> <span title="NotImplementedError">e</span>: <span title="NotImplementedError">NotImplementedError</span> =&gt; <span title="Nothing" class="keyword">throw</span> <span title="(x$1: Throwable)RuntimeException" class="keyword">new</span> <span title="RuntimeException">RuntimeException</span><span class="delimiter">(</span><span title="NotImplementedError">e</span><span class="delimiter">)</span>
      <span class="comment">// LinkageError is similarly harmless in Play Framework, since automatic reloading could easily trigger it</span>
      <span class="keyword">case</span> <span title="LinkageError">e</span>: <span title="LinkageError">LinkageError</span> =&gt; <span title="Nothing" class="keyword">throw</span> <span title="(x$1: Throwable)RuntimeException" class="keyword">new</span> <span title="RuntimeException">RuntimeException</span><span class="delimiter">(</span><span title="LinkageError">e</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.concurrent.ExecutionContext" id="play.api.mvc;ActionBuilder.async(60ee6e0b70);$anon.executionContext">executionContext</a> = <a href="#play.api.mvc;ActionBuilder" title="ActionBuilder.this.type">ActionBuilder</a>.<span class="keyword">this</span>.<a href="#play.api.mvc;ActionFunction.executionContext" title="=&gt; scala.concurrent.ExecutionContext">executionContext</a>
  <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Compose the parser.  This allows the action builder to potentially intercept requests before they are parsed.
   *
   * @param bodyParser The body parser to compose
   * @return The composed body parser
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="[A](bodyParser: play.api.mvc.BodyParser[A])play.api.mvc.BodyParser[A]" id="play.api.mvc;ActionBuilder.composeParser">composeParser</a><span class="delimiter">[</span><a title="" id="play.api.mvc;ActionBuilder.composeParser;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.mvc.BodyParser[A]" id="play.api.mvc;ActionBuilder.composeParser.bodyParser">bodyParser</a>: <a href="#play.api.mvc;BodyParser" title="play.api.mvc.BodyParser[A]">BodyParser</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#play.api.mvc;BodyParser" title="play.api.mvc.BodyParser[A]">BodyParser</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#play.api.mvc;ActionBuilder.composeParser.bodyParser" title="play.api.mvc.BodyParser[A]">bodyParser</a>

  <span class="comment">/**
   * Compose the action with other actions.  This allows mixing in of various actions together.
   *
   * @param action The action to compose
   * @return The composed action
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="[A](action: play.api.mvc.Action[A])play.api.mvc.Action[A]" id="play.api.mvc;ActionBuilder.composeAction">composeAction</a><span class="delimiter">[</span><a title="" id="play.api.mvc;ActionBuilder.composeAction;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.mvc.Action[A]" id="play.api.mvc;ActionBuilder.composeAction.action">action</a>: <a href="#play.api.mvc;Action" title="play.api.mvc.Action[A]">Action</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#play.api.mvc;Action" title="play.api.mvc.Action[A]">Action</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#play.api.mvc;ActionBuilder.composeAction.action" title="play.api.mvc.Action[A]">action</a>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="[Q[_]](other: play.api.mvc.ActionFunction[R,Q])play.api.mvc.ActionBuilder[Q]" id="play.api.mvc;ActionBuilder.andThen">andThen</a><span class="delimiter">[</span><a title="[_]" id="play.api.mvc;ActionBuilder.andThen;Q">Q</a><span class="delimiter">[</span><a title="" id="play.api.mvc;ActionBuilder.andThen;Q;_">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.mvc.ActionFunction[R,Q]" id="play.api.mvc;ActionBuilder.andThen.other">other</a>: <a href="#play.api.mvc;ActionFunction" title="play.api.mvc.ActionFunction[R,Q]">ActionFunction</a><span class="delimiter">[</span>R, Q<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#play.api.mvc;ActionBuilder" title="play.api.mvc.ActionBuilder[Q]">ActionBuilder</a><span class="delimiter">[</span>Q<span class="delimiter">]</span> = <a href="#play.api.mvc;ActionBuilder.andThen;$anon" title="play.api.mvc.ActionBuilder[Q]" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.api.mvc.ActionBuilder[Q]" id="play.api.mvc;ActionBuilder.andThen;$anon">ActionBuilder</a><span class="delimiter">[</span>Q<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[A](request: play.api.mvc.Request[A], block: Q[A] =&gt; scala.concurrent.Future[play.api.mvc.Result])scala.concurrent.Future[play.api.mvc.Result]" id="play.api.mvc;ActionBuilder.andThen;$anon.invokeBlock">invokeBlock</a><span class="delimiter">[</span><a title="" id="play.api.mvc;ActionBuilder.andThen;$anon.invokeBlock;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.mvc.Request[A]" id="play.api.mvc;ActionBuilder.andThen;$anon.invokeBlock.request">request</a>: <a href="Http.scala.html#play.api.mvc;Request" title="play.api.mvc.Request[A]">Request</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Q[A] =&gt; scala.concurrent.Future[play.api.mvc.Result]" id="play.api.mvc;ActionBuilder.andThen;$anon.invokeBlock.block">block</a>: Q<span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt; Future<span class="delimiter">[</span>Result<span class="delimiter">]</span><span class="delimiter">)</span> =
      <a href="#play.api.mvc;ActionBuilder" title="ActionBuilder.this.type">self</a>.<a href="#play.api.mvc;ActionFunction.invokeBlock" title="[A](request: play.api.mvc.Request[A], block: R[A] =&gt; scala.concurrent.Future[play.api.mvc.Result])scala.concurrent.Future[play.api.mvc.Result]">invokeBlock</a><span title="(request: play.api.mvc.Request[A], block: R[A] =&gt; scala.concurrent.Future[play.api.mvc.Result])scala.concurrent.Future[play.api.mvc.Result]" class="delimiter">[</span><a href="#play.api.mvc;ActionBuilder.andThen;$anon.invokeBlock;A" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#play.api.mvc;ActionBuilder.andThen;$anon.invokeBlock.request" title="play.api.mvc.Request[A]">request</a>, <a href="#play.api.mvc;ActionBuilder.andThen.other" title="play.api.mvc.ActionFunction[R,Q]">other</a>.<a href="#play.api.mvc;ActionFunction.invokeBlock" title="[A](request: R[A], block: Q[A] =&gt; scala.concurrent.Future[play.api.mvc.Result])scala.concurrent.Future[play.api.mvc.Result]">invokeBlock</a><span title="(request: R[A], block: Q[A] =&gt; scala.concurrent.Future[play.api.mvc.Result])scala.concurrent.Future[play.api.mvc.Result]" class="delimiter">[</span><a href="#play.api.mvc;ActionBuilder.andThen;$anon.invokeBlock;A" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#play.api.mvc;ActionBuilder.andThen;$anon.invokeBlock.$anonfun.x$8" title="R[A]">_</a>, <a href="#play.api.mvc;ActionBuilder.andThen;$anon.invokeBlock.block" title="Q[A] =&gt; scala.concurrent.Future[play.api.mvc.Result]">block</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="[A](bodyParser: play.api.mvc.BodyParser[A])play.api.mvc.BodyParser[A]" id="play.api.mvc;ActionBuilder.andThen;$anon.composeParser">composeParser</a><span class="delimiter">[</span><a title="" id="play.api.mvc;ActionBuilder.andThen;$anon.composeParser;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.mvc.BodyParser[A]" id="play.api.mvc;ActionBuilder.andThen;$anon.composeParser.bodyParser">bodyParser</a>: <a href="#play.api.mvc;BodyParser" title="play.api.mvc.BodyParser[A]">BodyParser</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#play.api.mvc;BodyParser" title="play.api.mvc.BodyParser[A]">BodyParser</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#play.api.mvc;ActionBuilder" title="ActionBuilder.this.type">self</a>.<a href="#play.api.mvc;ActionBuilder.composeParser" title="(bodyParser: play.api.mvc.BodyParser[A])play.api.mvc.BodyParser[A]">composeParser</a><span class="delimiter">(</span><a href="#play.api.mvc;ActionBuilder.andThen;$anon.composeParser.bodyParser" title="play.api.mvc.BodyParser[A]">bodyParser</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="[A](action: play.api.mvc.Action[A])play.api.mvc.Action[A]" id="play.api.mvc;ActionBuilder.andThen;$anon.composeAction">composeAction</a><span class="delimiter">[</span><a title="" id="play.api.mvc;ActionBuilder.andThen;$anon.composeAction;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.mvc.Action[A]" id="play.api.mvc;ActionBuilder.andThen;$anon.composeAction.action">action</a>: <a href="#play.api.mvc;Action" title="play.api.mvc.Action[A]">Action</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#play.api.mvc;Action" title="play.api.mvc.Action[A]">Action</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#play.api.mvc;ActionBuilder" title="ActionBuilder.this.type">self</a>.<a href="#play.api.mvc;ActionBuilder.composeAction" title="(action: play.api.mvc.Action[A])play.api.mvc.Action[A]">composeAction</a><span class="delimiter">(</span><a href="#play.api.mvc;ActionBuilder.andThen;$anon.composeAction.action" title="play.api.mvc.Action[A]">action</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Helper object to create `Action` values.
 */</span>
<span class="keyword">object</span> <a title="play.api.mvc.Action.type" id="play.api.mvc.Action">Action</a> <a href="#play.api.mvc.Action" title="play.api.mvc.Action.type" class="keyword">extends</a> <a href="#play.api.mvc;ActionBuilder" title="play.api.mvc.ActionBuilder[play.api.mvc.Request]">ActionBuilder</a><span class="delimiter">[</span>Request<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[A](request: play.api.mvc.Request[A], block: play.api.mvc.Request[A] =&gt; scala.concurrent.Future[play.api.mvc.Result])scala.concurrent.Future[play.api.mvc.Result]" id="play.api.mvc.Action.invokeBlock">invokeBlock</a><span class="delimiter">[</span><a title="" id="play.api.mvc.Action.invokeBlock;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.mvc.Request[A]" id="play.api.mvc.Action.invokeBlock.request">request</a>: <a href="Http.scala.html#play.api.mvc;Request" title="play.api.mvc.Request[A]">Request</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="play.api.mvc.Request[A] =&gt; scala.concurrent.Future[play.api.mvc.Result]" id="play.api.mvc.Action.invokeBlock.block">block</a>: <span class="delimiter">(</span>Request<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Future<span class="delimiter">[</span>Result<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#play.api.mvc.Action.invokeBlock.block" title="(v1: play.api.mvc.Request[A])scala.concurrent.Future[play.api.mvc.Result]">block</a><span class="delimiter">(</span><a href="#play.api.mvc.Action.invokeBlock.request" title="play.api.mvc.Request[A]">request</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/* NOTE: the following are all example uses of ActionFunction, each subtly
 * different but useful in different ways. They may not all be necessary. */</span>

<span class="comment">/**
 * A simple kind of ActionFunction which, given a request (of type R), may
 * either immediately produce a Result (for example, an error), or call
 * its Action block with a parameter (of type P).
 * The critical (abstract) function is refine.
 */</span>
<span class="keyword">trait</span> <a title="trait ActionRefiner[-R[_], +P[_]] extends AnyRef with play.api.mvc.ActionFunction[R,P]" id="play.api.mvc;ActionRefiner">ActionRefiner</a><span class="delimiter">[</span>-<a title="[_]" id="play.api.mvc;ActionRefiner;R">R</a><span class="delimiter">[</span><a title="" id="play.api.mvc;ActionRefiner;R;_">_</a><span class="delimiter">]</span>, +<a title="[_]" id="play.api.mvc;ActionRefiner;P">P</a><span class="delimiter">[</span><a title="" id="play.api.mvc;ActionRefiner;P;_">_</a><span class="delimiter">]</span><span class="delimiter">]</span> <span title="Unit" class="keyword">extends</span> <a href="#play.api.mvc;ActionFunction" title="play.api.mvc.ActionFunction[R,P]">ActionFunction</a><span class="delimiter">[</span>R, P<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="comment">/**
   * Determine how to process a request.  This is the main method than an ActionRefiner has to implement.
   * It can decide to immediately intercept the request and return a Result (Left), or continue processing with a new parameter of type P (Right).
   *
   * @param request the input request
   * @return Either a result or a new parameter to pass to the Action block
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="[A](request: R[A])scala.concurrent.Future[Either[play.api.mvc.Result,P[A]]]" id="play.api.mvc;ActionRefiner.refine">refine</a><span class="delimiter">[</span><a title="" id="play.api.mvc;ActionRefiner.refine;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="R[A]" id="play.api.mvc;ActionRefiner.refine.request">request</a>: <a href="#play.api.mvc;ActionRefiner;R" title="R[A]">R</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scala.concurrent.Future[Either[play.api.mvc.Result,P[A]]]">Future</span><span class="delimiter">[</span>Either<span class="delimiter">[</span>Result, P<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](request: R[A], block: P[A] =&gt; scala.concurrent.Future[play.api.mvc.Result])scala.concurrent.Future[play.api.mvc.Result]" id="play.api.mvc;ActionRefiner.invokeBlock">invokeBlock</a><span class="delimiter">[</span><a title="" id="play.api.mvc;ActionRefiner.invokeBlock;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="R[A]" id="play.api.mvc;ActionRefiner.invokeBlock.request">request</a>: <a href="#play.api.mvc;ActionRefiner;R" title="R[A]">R</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="P[A] =&gt; scala.concurrent.Future[play.api.mvc.Result]" id="play.api.mvc;ActionRefiner.invokeBlock.block">block</a>: P<span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt; Future<span class="delimiter">[</span>Result<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#play.api.mvc;ActionRefiner.refine" title="(request: R[A])scala.concurrent.Future[Either[play.api.mvc.Result,P[A]]]">refine</a><span class="delimiter">(</span><a href="#play.api.mvc;ActionRefiner.invokeBlock.request" title="R[A]">request</a><span class="delimiter">)</span>.<span title="(f: Either[play.api.mvc.Result,P[A]] =&gt; scala.concurrent.Future[play.api.mvc.Result])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[play.api.mvc.Result]">flatMap</span><span class="delimiter">(</span><a href="#play.api.mvc;ActionRefiner.invokeBlock.$anonfun.x$9" title="Either[play.api.mvc.Result,P[A]]">_</a>.<span title="(fa: play.api.mvc.Result =&gt; scala.concurrent.Future[play.api.mvc.Result], fb: P[A] =&gt; scala.concurrent.Future[play.api.mvc.Result])scala.concurrent.Future[play.api.mvc.Result]">fold</span><span class="delimiter">(</span><span title="scala.concurrent.Future.type">Future</span>.<a href="#play.api.mvc;ActionRefiner.invokeBlock.$anonfun.$anonfun.result" title="(result: play.api.mvc.Result)scala.concurrent.Future[play.api.mvc.Result]">successful</a> _, <a href="#play.api.mvc;ActionRefiner.invokeBlock.block" title="P[A] =&gt; scala.concurrent.Future[play.api.mvc.Result]">block</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#play.api.mvc;ActionFunction.executionContext" title="=&gt; scala.concurrent.ExecutionContext">executionContext</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * A simple kind of ActionRefiner which, given a request (of type R),
 * unconditionally transforms it to a new parameter type (P) to be passed to
 * its Action block.  The critical (abstract) function is transform.
 */</span>
<span class="keyword">trait</span> <a title="trait ActionTransformer[-R[_], +P[_]] extends AnyRef with play.api.mvc.ActionRefiner[R,P]" id="play.api.mvc;ActionTransformer">ActionTransformer</a><span class="delimiter">[</span>-<a title="[_]" id="play.api.mvc;ActionTransformer;R">R</a><span class="delimiter">[</span><a title="" id="play.api.mvc;ActionTransformer;R;_">_</a><span class="delimiter">]</span>, +<a title="[_]" id="play.api.mvc;ActionTransformer;P">P</a><span class="delimiter">[</span><a title="" id="play.api.mvc;ActionTransformer;P;_">_</a><span class="delimiter">]</span><span class="delimiter">]</span> <span title="Unit" class="keyword">extends</span> <a href="#play.api.mvc;ActionRefiner" title="play.api.mvc.ActionRefiner[R,P]">ActionRefiner</a><span class="delimiter">[</span>R, P<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="comment">/**
   * Augment or transform an existing request.  This is the main method that an ActionTransformer has to implement.
   *
   * @param request the input request
   * @return The new parameter to pass to the Action block
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="[A](request: R[A])scala.concurrent.Future[P[A]]" id="play.api.mvc;ActionTransformer.transform">transform</a><span class="delimiter">[</span><a title="" id="play.api.mvc;ActionTransformer.transform;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="R[A]" id="play.api.mvc;ActionTransformer.transform.request">request</a>: <a href="#play.api.mvc;ActionTransformer;R" title="R[A]">R</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scala.concurrent.Future[P[A]]">Future</span><span class="delimiter">[</span>P<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](request: R[A])scala.concurrent.Future[scala.util.Right[Nothing,P[A]]]" id="play.api.mvc;ActionTransformer.refine">refine</a><span class="delimiter">[</span><a title="" id="play.api.mvc;ActionTransformer.refine;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="R[A]" id="play.api.mvc;ActionTransformer.refine.request">request</a>: <a href="#play.api.mvc;ActionTransformer;R" title="R[A]">R</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#play.api.mvc;ActionTransformer.transform" title="(request: R[A])scala.concurrent.Future[P[A]]">transform</a><span class="delimiter">(</span><a href="#play.api.mvc;ActionTransformer.refine.request" title="R[A]">request</a><span class="delimiter">)</span>.<span title="(f: P[A] =&gt; scala.util.Right[Nothing,P[A]])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[scala.util.Right[Nothing,P[A]]]">map</span><span class="delimiter">(</span><span title="(b: P[A])scala.util.Right[Nothing,P[A]]">Right</span><span class="delimiter">(</span><a href="#play.api.mvc;ActionTransformer.refine.$anonfun.x$10" title="P[A]">_</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#play.api.mvc;ActionFunction.executionContext" title="=&gt; scala.concurrent.ExecutionContext">executionContext</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * A simple kind of ActionRefiner which, given a request (of type R), may
 * either immediately produce a Result (for example, an error), or
 * continue its Action block with the same request.
 * The critical (abstract) function is filter.
 */</span>
<span class="keyword">trait</span> <a title="trait ActionFilter[R[_]] extends AnyRef with play.api.mvc.ActionRefiner[R,R]" id="play.api.mvc;ActionFilter">ActionFilter</a><span class="delimiter">[</span><a title="[_]" id="play.api.mvc;ActionFilter;R">R</a><span class="delimiter">[</span><a title="" id="play.api.mvc;ActionFilter;R;_">_</a><span class="delimiter">]</span><span class="delimiter">]</span> <span title="Unit" class="keyword">extends</span> <a href="#play.api.mvc;ActionRefiner" title="play.api.mvc.ActionRefiner[R,R]">ActionRefiner</a><span class="delimiter">[</span>R, R<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="comment">/**
   * Determine whether to process a request.  This is the main method than an ActionFilter has to implement.
   * It can decide to immediately intercept the request and return a Result (Some), or continue processing (None).
   *
   * @param request the input request
   * @return An optional Result with which to abort the request
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="[A](request: R[A])scala.concurrent.Future[Option[play.api.mvc.Result]]" id="play.api.mvc;ActionFilter.filter">filter</a><span class="delimiter">[</span><a title="" id="play.api.mvc;ActionFilter.filter;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="R[A]" id="play.api.mvc;ActionFilter.filter.request">request</a>: <a href="#play.api.mvc;ActionFilter;R" title="R[A]">R</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scala.concurrent.Future[Option[play.api.mvc.Result]]">Future</span><span class="delimiter">[</span>Option<span class="delimiter">[</span>Result<span class="delimiter">]</span><span class="delimiter">]</span>

  <span class="keyword">final</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="[A](request: R[A])scala.concurrent.Future[Serializable with Product with scala.util.Either[play.api.mvc.Result,R[A]]]" id="play.api.mvc;ActionFilter.refine">refine</a><span class="delimiter">[</span><a title="" id="play.api.mvc;ActionFilter.refine;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="R[A]" id="play.api.mvc;ActionFilter.refine.request">request</a>: <a href="#play.api.mvc;ActionFilter;R" title="R[A]">R</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#play.api.mvc;ActionFilter.filter" title="(request: R[A])scala.concurrent.Future[Option[play.api.mvc.Result]]">filter</a><span class="delimiter">(</span><a href="#play.api.mvc;ActionFilter.refine.request" title="R[A]">request</a><span class="delimiter">)</span>.<span title="(f: Option[play.api.mvc.Result] =&gt; Serializable with Product with scala.util.Either[play.api.mvc.Result,R[A]])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[Serializable with Product with scala.util.Either[play.api.mvc.Result,R[A]]]">map</span><span class="delimiter">(</span><a href="#play.api.mvc;ActionFilter.refine.$anonfun.x$11" title="Option[play.api.mvc.Result]">_</a>.<span title="(right: =&gt; R[A])Serializable with Product with scala.util.Either[play.api.mvc.Result,R[A]]">toLeft</span><span class="delimiter">(</span><a href="#play.api.mvc;ActionFilter.refine.request" title="R[A]">request</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#play.api.mvc;ActionFunction.executionContext" title="=&gt; scala.concurrent.ExecutionContext">executionContext</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
