<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>play/play/api/Routes.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright (C) 2009-2013 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
<span class="keyword">package</span> play.api <span class="delimiter">{</span>

  <span class="keyword">import</span> play.api.templates.JavaScript

  <span class="comment">/**
   * Helper utilities related to `Router`.
   */</span>
  <span class="keyword">object</span> <a title="play.api.Routes.type" id="play.api.Routes">Routes</a> <a href="#play.api.Routes" title="play.api.Routes.type" class="delimiter">{</a>

    <span class="comment">// -- TAGS</span>

    <span class="keyword">val</span> <a title="String" id="play.api.Routes.ROUTE_VERB">ROUTE_VERB</a> = <span title="String(&quot;ROUTE_VERB&quot;)" class="string">&quot;ROUTE_VERB&quot;</span>
    <span class="keyword">val</span> <a title="String" id="play.api.Routes.ROUTE_PATTERN">ROUTE_PATTERN</a> = <span title="String(&quot;ROUTE_PATTERN&quot;)" class="string">&quot;ROUTE_PATTERN&quot;</span>
    <span class="keyword">val</span> <a title="String" id="play.api.Routes.ROUTE_CONTROLLER">ROUTE_CONTROLLER</a> = <span title="String(&quot;ROUTE_CONTROLLER&quot;)" class="string">&quot;ROUTE_CONTROLLER&quot;</span>
    <span class="keyword">val</span> <a title="String" id="play.api.Routes.ROUTE_ACTION_METHOD">ROUTE_ACTION_METHOD</a> = <span title="String(&quot;ROUTE_ACTION_METHOD&quot;)" class="string">&quot;ROUTE_ACTION_METHOD&quot;</span>
    <span class="keyword">val</span> <a title="String" id="play.api.Routes.ROUTE_COMMENTS">ROUTE_COMMENTS</a> = <span title="String(&quot;ROUTE_COMMENTS&quot;)" class="string">&quot;ROUTE_COMMENTS&quot;</span>

    <span class="comment">// --</span>

    <span class="keyword">import</span> play.core.<a href="../core/router/Router.scala.html#play.core.Router" title="play.core.Router.type">Router</a>._
    <span class="keyword">import</span> play.api.mvc.RequestHeader

    <span class="comment">/**
     * Generates a JavaScript router.
     *
     * For example:
     * {{{
     * Routes.javascriptRouter(&quot;MyRouter&quot;)(
     *   controllers.routes.javascript.Application.index,
     *   controllers.routes.javascript.Application.list,
     *   controllers.routes.javascript.Application.create
     * )
     * }}}
     *
     * And then you can use the JavaScript router as:
     * {{{
     * var routeToHome = MyRouter.controllers.Application.index()
     * }}}
     *
     * @param name the JavaScript object name
     * @param routes the routes to include in this JavaScript router
     * @return the JavaScript code
     */</span>
    <span class="keyword">def</span> <a title="(name: String, ajaxMethod: Option[String])(routes: play.core.Router.JavascriptReverseRoute*)(implicit request: play.api.mvc.RequestHeader)play.api.templates.JavaScript" id="play.api.Routes.javascriptRouter(1483ed920c)">javascriptRouter</a><span class="delimiter">(</span><a title="String" id="play.api.Routes.javascriptRouter$default$1">name</a>: <span title="String">String</span> = <span title="String(&quot;Router&quot;)" class="string">&quot;Router&quot;</span>, <a title="Option[String]" id="play.api.Routes.javascriptRouter$default$2">ajaxMethod</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><span title="String(&quot;jQuery.ajax&quot;)" class="string">&quot;jQuery.ajax&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="play.core.Router.JavascriptReverseRoute*" id="play.api.Routes.javascriptRouter(1483ed920c).routes">routes</a>: <span title="play.core.Router.JavascriptReverseRoute*">JavascriptReverseRoute</span>*<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="play.api.mvc.RequestHeader" id="play.api.Routes.javascriptRouter(1483ed920c).request">request</a>: <a href="mvc/Http.scala.html#play.api.mvc;RequestHeader" title="play.api.mvc.RequestHeader">RequestHeader</a><span class="delimiter">)</span>: <span title="play.api.templates.JavaScript">JavaScript</span> = <span class="delimiter">{</span>
      <a href="#play.api.Routes.javascriptRouter(9772cab2ac)" title="(name: String, ajaxMethod: Option[String], host: String, routes: play.core.Router.JavascriptReverseRoute*)play.api.templates.JavaScript">javascriptRouter</a><span class="delimiter">(</span><a href="#play.api.Routes.javascriptRouter$default$1" title="String">name</a>, <a href="#play.api.Routes.javascriptRouter$default$2" title="Option[String]">ajaxMethod</a>, <a href="#play.api.Routes.javascriptRouter(1483ed920c).request" title="play.api.mvc.RequestHeader">request</a>.<a href="mvc/Http.scala.html#play.api.mvc;RequestHeader.host" title="=&gt; String">host</a>, <a href="#play.api.Routes.javascriptRouter(1483ed920c).routes" title="play.core.Router.JavascriptReverseRoute*">routes</a>: _*<span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="Seq[String]" id="play.api.Routes.jsReservedWords">jsReservedWords</a> = <span title="(elems: String*)Seq[String]">Seq</span><span class="delimiter">(</span><span title="String(&quot;break&quot;)" class="string">&quot;break&quot;</span>, <span title="String(&quot;case&quot;)" class="string">&quot;case&quot;</span>, <span title="String(&quot;catch&quot;)" class="string">&quot;catch&quot;</span>, <span title="String(&quot;continue&quot;)" class="string">&quot;continue&quot;</span>, <span title="String(&quot;debugger&quot;)" class="string">&quot;debugger&quot;</span>,
      <span title="String(&quot;default&quot;)" class="string">&quot;default&quot;</span>, <span title="String(&quot;delete&quot;)" class="string">&quot;delete&quot;</span>, <span title="String(&quot;do&quot;)" class="string">&quot;do&quot;</span>, <span title="String(&quot;else&quot;)" class="string">&quot;else&quot;</span>, <span title="String(&quot;finally&quot;)" class="string">&quot;finally&quot;</span>, <span title="String(&quot;for&quot;)" class="string">&quot;for&quot;</span>, <span title="String(&quot;function&quot;)" class="string">&quot;function&quot;</span>, <span title="String(&quot;if&quot;)" class="string">&quot;if&quot;</span>,
      <span title="String(&quot;in&quot;)" class="string">&quot;in&quot;</span>, <span title="String(&quot;instanceof&quot;)" class="string">&quot;instanceof&quot;</span>, <span title="String(&quot;new&quot;)" class="string">&quot;new&quot;</span>, <span title="String(&quot;return&quot;)" class="string">&quot;return&quot;</span>, <span title="String(&quot;switch&quot;)" class="string">&quot;switch&quot;</span>, <span title="String(&quot;this&quot;)" class="string">&quot;this&quot;</span>, <span title="String(&quot;throw&quot;)" class="string">&quot;throw&quot;</span>, <span title="String(&quot;try&quot;)" class="string">&quot;try&quot;</span>,
      <span title="String(&quot;typeof&quot;)" class="string">&quot;typeof&quot;</span>, <span title="String(&quot;var&quot;)" class="string">&quot;var&quot;</span>, <span title="String(&quot;void&quot;)" class="string">&quot;void&quot;</span>, <span title="String(&quot;while&quot;)" class="string">&quot;while&quot;</span>, <span title="String(&quot;with&quot;)" class="string">&quot;with&quot;</span><span class="delimiter">)</span>

    <span class="comment">// TODO: This JS needs to be re-written as it isn't easily maintained.</span>
    <span class="keyword">def</span> <a title="(name: String, ajaxMethod: Option[String], host: String, routes: play.core.Router.JavascriptReverseRoute*)play.api.templates.JavaScript" id="play.api.Routes.javascriptRouter(9772cab2ac)">javascriptRouter</a><span class="delimiter">(</span><a title="String" id="play.api.Routes.javascriptRouter(9772cab2ac).name">name</a>: <span title="String">String</span>, <a title="Option[String]" id="play.api.Routes.javascriptRouter(9772cab2ac).ajaxMethod">ajaxMethod</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="String" id="play.api.Routes.javascriptRouter(9772cab2ac).host">host</a>: <span title="String">String</span>, <a title="play.core.Router.JavascriptReverseRoute*" id="play.api.Routes.javascriptRouter(9772cab2ac).routes">routes</a>: <span title="play.core.Router.JavascriptReverseRoute*">JavascriptReverseRoute</span>*<span class="delimiter">)</span>: <span title="play.api.templates.JavaScript">JavaScript</span> = <a href="templates/package.scala.html#play.api.templates.package.JavaScript" title="(text: String)play.twirl.api.JavaScript">JavaScript</a> <span class="delimiter">{</span>
      <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;|var %s = {}; (function(_root){
             |var _nS = function(c,f,b){var e=c.split(f||&quot;.&quot;),g=b||_root,d,a;for(d=0,a=e.length;d&lt;a;d++){g=g[e[d]]=g[e[d]]||{}}return g}
             |var _qS = function(items){var qs = ''; for(var i=0;i&lt;items.length;i++) {if(items[i]) qs += (qs ? '&amp;' : '') + items[i]}; return qs ? ('?' + qs) : ''}
             |var _s = function(p,s){return p+((s===true||(s&amp;&amp;s.secure))?'s':'')+'://'}
             |var _wA = function(r){return {%s method:r.method,type:r.method,url:r.url,absoluteURL: function(s){return _s('http',s)+'%s'+r.url},webSocketURL: function(s){return _s('ws',s)+'%s'+r.url}}}
             |%s
             |})(%s)
          &quot;&quot;&quot;</span>.<span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">stripMargin</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
        <a href="#play.api.Routes.javascriptRouter(9772cab2ac).name" title="String">name</a>,
        <a href="#play.api.Routes.javascriptRouter(9772cab2ac).ajaxMethod" title="Option[String]">ajaxMethod</a>.<span title="(f: String =&gt; String)Option[String]">map</span><span class="delimiter">(</span><span title="String(&quot;ajax:function(c){c=c||{};c.url=r.url;c.type=r.method;return &quot;)" class="string">&quot;ajax:function(c){c=c||{};c.url=r.url;c.type=r.method;return &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#play.api.Routes.javascriptRouter(9772cab2ac).$anonfun.x$1" title="String">_</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;(c)},&quot;)" class="string">&quot;(c)},&quot;</span><span class="delimiter">)</span>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>,
        <a href="#play.api.Routes.javascriptRouter(9772cab2ac).host" title="String">host</a>,
        <a href="#play.api.Routes.javascriptRouter(9772cab2ac).host" title="String">host</a>,
        <a href="#play.api.Routes.javascriptRouter(9772cab2ac).routes" title="play.core.Router.JavascriptReverseRoute*">routes</a>.<span title="(f: play.core.Router.JavascriptReverseRoute =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[play.core.Router.JavascriptReverseRoute],String,Seq[String]])Seq[String]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,String,Seq[String]]" class="delimiter">{</span> <a title="play.core.Router.JavascriptReverseRoute" id="play.api.Routes.javascriptRouter(9772cab2ac).$anonfun.route">route</a> =&gt;
          <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;_nS('%s'); _root.%s = %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
            <a href="#play.api.Routes.javascriptRouter(9772cab2ac).$anonfun.route" title="play.core.Router.JavascriptReverseRoute">route</a>.<a href="../core/router/Router.scala.html#play.core.Router;JavascriptReverseRoute.name" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">name</a>.<span title="(separator: Char)Array[String]">split</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="Char('.')" class="char">'.'</span><span class="delimiter">)</span>.<span title="(n: Int)Array[String]">dropRight</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>,
            <a href="#play.api.Routes.javascriptRouter(9772cab2ac).$anonfun.route" title="play.core.Router.JavascriptReverseRoute">route</a>.<a href="../core/router/Router.scala.html#play.core.Router;JavascriptReverseRoute.name" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">name</a>.<span title="(separator: Char)Array[String]">split</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="Char('.')" class="char">'.'</span><span class="delimiter">)</span>.<span title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Array[String],String,Array[String]])Array[String]">map</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><a title="String" id="play.api.Routes.javascriptRouter(9772cab2ac).$anonfun.$anonfun.name">name</a> =&gt; <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.api.Routes.jsReservedWords" title="=&gt; Seq[String]">jsReservedWords</a>.<span title="(elem: Any)Boolean">contains</span><span class="delimiter">(</span><a href="#play.api.Routes.javascriptRouter(9772cab2ac).$anonfun.$anonfun.name" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span title="String(&quot;[\'&quot;)" class="string">&quot;['&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#play.api.Routes.javascriptRouter(9772cab2ac).$anonfun.$anonfun.name" title="String">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\']&quot;)" class="string">&quot;']&quot;</span> <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#play.api.Routes.javascriptRouter(9772cab2ac).$anonfun.$anonfun.name" title="String">name</a> <span class="delimiter">}</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>.<span title="=&gt; String">tail</span>,
            <a href="#play.api.Routes.javascriptRouter(9772cab2ac).$anonfun.route" title="play.core.Router.JavascriptReverseRoute">route</a>.<a href="../core/router/Router.scala.html#play.core.Router;JavascriptReverseRoute.f" title="=&gt; String">f</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>,
        <a href="#play.api.Routes.javascriptRouter(9772cab2ac).name" title="String">name</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span>

<span title="AnyRef" class="delimiter">}</span>

        </pre>
    </body>
</html>
