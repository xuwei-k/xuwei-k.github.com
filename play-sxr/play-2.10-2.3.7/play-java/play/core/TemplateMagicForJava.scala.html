<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>play-java/play/core/TemplateMagicForJava.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright (C) 2009-2013 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
<span class="keyword">package</span> play.core.j

<span class="keyword">import</span> play.api.mvc._

<span class="keyword">import</span> scala.util.control.NonFatal

<span class="comment">/** Defines a magic helper for Play templates in a Java context. */</span>
<span class="keyword">object</span> <a title="play.core.j.PlayMagicForJava.type" id="play.core.j.PlayMagicForJava">PlayMagicForJava</a> <a href="#play.core.j.PlayMagicForJava" title="play.core.j.PlayMagicForJava.type" class="delimiter">{</a>

  <span class="keyword">import</span> scala.collection.<span title="scala.collection.JavaConverters.type">JavaConverters</span>._
  <span class="keyword">import</span> scala.<span title="language.type">language</span>.implicitConversions

  <span class="comment">/** Transforms a Play Java `Option` to a proper Scala `Option`. */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[T](x: play.libs.F.Option[T])Option[T]" id="play.core.j.PlayMagicForJava.javaOptionToScala">javaOptionToScala</a><span class="delimiter">[</span><a title="" id="play.core.j.PlayMagicForJava.javaOptionToScala;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><span title="play.libs.F.Option[T]">x</span>: play.libs.F.<a href="../../../play/play/libs/F.java.html#play.libs.F;Option" title="play.libs.F.Option[T]">Option</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[T]">Option</span><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span title="play.libs.F.Option[T]">x</span> <span title="Option[T]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="play.libs.F.Some[_]">x</span>: play.libs.F.<a href="../../../play/play/libs/F.java.html#play.libs.F;Some" title="play.libs.F.Some[_]">Some</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <span title="(x: _)Some[_]">Some</span><span class="delimiter">(</span><span title="play.libs.F.Some[_]">x</span>.<a href="../../../play/play/libs/F.java.html#play.libs.F;Some.get" title="()_">get</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="play.libs.F.None[_]">x</span>: play.libs.F.<a href="../../../play/play/libs/F.java.html#play.libs.F;None" title="play.libs.F.None[_]">None</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <span title="None.type">None</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; play.api.i18n.Lang" id="play.core.j.PlayMagicForJava.implicitJavaLang">implicitJavaLang</a>: play.api.i18n.<a href="../../../play/play/api/i18n/Messages.scala.html#play.api.i18n;Lang" title="play.api.i18n.Lang">Lang</a> = <span class="delimiter">{</span>
    <span class="keyword">try</span> <span class="delimiter">{</span>
      play.mvc.<a href="../../../play/play/mvc/Http.java.html#play.mvc.Http" title="play.mvc.Http.type">Http</a>.<a href="../../../play/play/mvc/Http.java.html#play.mvc.Http.Context" title="play.mvc.Http.Context.type">Context</a>.<a href="../../../play/play/mvc/Http.java.html#play.mvc.Http.Context.Implicit" title="play.mvc.Http.Context.Implicit.type">Implicit</a>.<a href="../../../play/play/mvc/Http.java.html#play.mvc.Http.Context.Implicit.lang" title="()play.i18n.Lang">lang</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="play.api.i18n.Lang" class="delimiter">[</span>play.api.i18n.<a href="../../../play/play/api/i18n/Messages.scala.html#play.api.i18n;Lang" title="play.api.i18n.Lang">Lang</a><span class="delimiter">]</span>
    <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#play.core.j.PlayMagicForJava.implicitJavaLang.<unapply-selector>" title="(t: Throwable)Option[Throwable]">NonFatal</a><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; play.api.i18n.<a href="../../../play/play/api/i18n/Messages.scala.html#play.api.i18n.Lang" title="play.api.i18n.Lang.type">Lang</a>.<a href="../../../play/play/api/i18n/Messages.scala.html#play.api.i18n.Lang.defaultLang" title="=&gt; play.api.i18n.Lang">defaultLang</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Implicit conversion of a Play Java form `Field` to a proper Scala form `Field`.
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit play.core.j.PlayMagicForJava.javaFieldtoScalaField : (jField: play.data.Form.Field)play.api.data.Field" id="play.core.j.PlayMagicForJava.javaFieldtoScalaField">javaFieldtoScalaField</a><span class="delimiter">(</span><a title="play.data.Form.Field" id="play.core.j.PlayMagicForJava.javaFieldtoScalaField.jField">jField</a>: play.data.Form.<a href="../data/Form.java.html#play.data.Form;Field" title="play.data.Form.Field">Field</a><span class="delimiter">)</span>: play.api.data.<a href="../../../play/play/api/data/Form.scala.html#play.api.data;Field" title="play.api.data.Field">Field</a> = <span class="delimiter">{</span>

    <a href="#play.core.j.PlayMagicForJava.javaFieldtoScalaField;$anon" title="play.api.data.Field{}" class="keyword">new</a> <a title="anonymous class $anon extends play.api.data.Field" id="play.core.j.PlayMagicForJava.javaFieldtoScalaField;$anon">play</a>.api.data.<a href="../../../play/play/api/data/Form.scala.html#play.api.data;Field" title="play.api.data.Field">Field</a><span class="delimiter">(</span>
      <span title="Null(null)" class="keyword">null</span>,
      <a href="#play.core.j.PlayMagicForJava.javaFieldtoScalaField.jField" title="play.data.Form.Field">jField</a>.<a href="../data/Form.java.html#play.data.Form;Field.name(612e557918)" title="()String">name</a>,
      <a href="#play.core.j.PlayMagicForJava.javaFieldtoScalaField.jField" title="play.data.Form.Field">jField</a>.<a href="../data/Form.java.html#play.data.Form;Field.constraints(3de4bfeeaf)" title="(l: java.util.List[play.libs.F.Tuple[String,java.util.List[Object]]])scala.collection.convert.Decorators.AsScala[scala.collection.mutable.Buffer[play.libs.F.Tuple[String,java.util.List[Object]]]]">constraints</a>.<span title="=&gt; scala.collection.mutable.Buffer[play.libs.F.Tuple[String,java.util.List[Object]]]">asScala</span>.<span title="(f: play.libs.F.Tuple[String,java.util.List[Object]] =&gt; (String, scala.collection.mutable.Buffer[Object]))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.Buffer[play.libs.F.Tuple[String,java.util.List[Object]]],(String, scala.collection.mutable.Buffer[Object]),Seq[(String, Seq[Any])]])Seq[(String, Seq[Any])]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.mutable.Buffer.Coll,(String, scala.collection.mutable.Buffer[Object]),scala.collection.mutable.Buffer[(String, scala.collection.mutable.Buffer[Object])]]" class="delimiter">{</span> <a title="play.libs.F.Tuple[String,java.util.List[Object]]" id="play.core.j.PlayMagicForJava.javaFieldtoScalaField;$anon.$anonfun.jT">jT</a> =&gt;
        <a href="#play.core.j.PlayMagicForJava.javaFieldtoScalaField;$anon.$anonfun.jT" title="play.libs.F.Tuple[String,java.util.List[Object]]">jT</a>.<a href="../../../play/play/libs/F.java.html#play.libs.F;Tuple._1" title="(x: String)ArrowAssoc[String]">_1</a> <span title="(y: scala.collection.mutable.Buffer[Object])(String, scala.collection.mutable.Buffer[Object])">-&gt;</span> <a href="#play.core.j.PlayMagicForJava.javaFieldtoScalaField;$anon.$anonfun.jT" title="play.libs.F.Tuple[String,java.util.List[Object]]">jT</a>.<a href="../../../play/play/libs/F.java.html#play.libs.F;Tuple._2" title="(l: java.util.List[Object])scala.collection.convert.Decorators.AsScala[scala.collection.mutable.Buffer[Object]]">_2</a>.<span title="=&gt; scala.collection.mutable.Buffer[Object]">asScala</span>
      <span class="delimiter">}</span>,
      <span title="(x: play.libs.F.Tuple[String,java.util.List[Object]])Option[play.libs.F.Tuple[String,java.util.List[Object]]]">Option</span><span class="delimiter">(</span><a href="#play.core.j.PlayMagicForJava.javaFieldtoScalaField.jField" title="play.data.Form.Field">jField</a>.<a href="../data/Form.java.html#play.data.Form;Field.format(1fb4eb2267)" title="()play.libs.F.Tuple[String,java.util.List[Object]]">format</a><span class="delimiter">)</span>.<span title="(f: play.libs.F.Tuple[String,java.util.List[Object]] =&gt; (String, scala.collection.mutable.Buffer[Object]))Option[(String, scala.collection.mutable.Buffer[Object])]">map</span><span class="delimiter">(</span><a title="play.libs.F.Tuple[String,java.util.List[Object]]" id="play.core.j.PlayMagicForJava.javaFieldtoScalaField;$anon.$anonfun.f">f</a> =&gt; <a href="#play.core.j.PlayMagicForJava.javaFieldtoScalaField;$anon.$anonfun.f" title="play.libs.F.Tuple[String,java.util.List[Object]]">f</a>.<a href="../../../play/play/libs/F.java.html#play.libs.F;Tuple._1" title="(x: String)ArrowAssoc[String]">_1</a> <span title="(y: scala.collection.mutable.Buffer[Object])(String, scala.collection.mutable.Buffer[Object])">-&gt;</span> <a href="#play.core.j.PlayMagicForJava.javaFieldtoScalaField;$anon.$anonfun.f" title="play.libs.F.Tuple[String,java.util.List[Object]]">f</a>.<a href="../../../play/play/libs/F.java.html#play.libs.F;Tuple._2" title="(l: java.util.List[Object])scala.collection.convert.Decorators.AsScala[scala.collection.mutable.Buffer[Object]]">_2</a>.<span title="=&gt; scala.collection.mutable.Buffer[Object]">asScala</span><span class="delimiter">)</span>,
      <a href="#play.core.j.PlayMagicForJava.javaFieldtoScalaField.jField" title="play.data.Form.Field">jField</a>.<a href="../data/Form.java.html#play.data.Form;Field.errors(c565ee48c6)" title="(l: java.util.List[play.data.validation.ValidationError])scala.collection.convert.Decorators.AsScala[scala.collection.mutable.Buffer[play.data.validation.ValidationError]]">errors</a>.<span title="=&gt; scala.collection.mutable.Buffer[play.data.validation.ValidationError]">asScala</span>.<span title="(f: play.data.validation.ValidationError =&gt; play.api.data.FormError)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.Buffer[play.data.validation.ValidationError],play.api.data.FormError,Seq[play.api.data.FormError]])Seq[play.api.data.FormError]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.mutable.Buffer.Coll,play.api.data.FormError,scala.collection.mutable.Buffer[play.api.data.FormError]]" class="delimiter">{</span> <a title="play.data.validation.ValidationError" id="play.core.j.PlayMagicForJava.javaFieldtoScalaField;$anon.$anonfun.jE">jE</a> =&gt;
        play.api.data.<a href="../../../play/play/api/data/Form.scala.html#play.api.data;FormError" title="(key: String, messages: Seq[String], args: Seq[Any])play.api.data.FormError">FormError</a><span class="delimiter">(</span>
          <a href="#play.core.j.PlayMagicForJava.javaFieldtoScalaField;$anon.$anonfun.jE" title="play.data.validation.ValidationError">jE</a>.<a href="../data/validation/ValidationError.java.html#play.data.validation;ValidationError.key(612e557918)" title="()String">key</a>,
          <a href="#play.core.j.PlayMagicForJava.javaFieldtoScalaField;$anon.$anonfun.jE" title="play.data.validation.ValidationError">jE</a>.<a href="../data/validation/ValidationError.java.html#play.data.validation;ValidationError.messages(82948d4e31)" title="(l: java.util.List[String])scala.collection.convert.Decorators.AsScala[scala.collection.mutable.Buffer[String]]">messages</a>.<span title="=&gt; scala.collection.mutable.Buffer[String]">asScala</span>,
          <a href="#play.core.j.PlayMagicForJava.javaFieldtoScalaField;$anon.$anonfun.jE" title="play.data.validation.ValidationError">jE</a>.<a href="../data/validation/ValidationError.java.html#play.data.validation;ValidationError.arguments(fa865e835f)" title="(l: java.util.List[Object])scala.collection.convert.Decorators.AsScala[scala.collection.mutable.Buffer[Object]]">arguments</a>.<span title="=&gt; scala.collection.mutable.Buffer[Object]">asScala</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>,
      <span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><a href="#play.core.j.PlayMagicForJava.javaFieldtoScalaField.jField" title="play.data.Form.Field">jField</a>.<a href="../data/Form.java.html#play.data.Form;Field.value(612e557918)" title="()String">value</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(key: String)play.api.data.Field" id="play.core.j.PlayMagicForJava.javaFieldtoScalaField;$anon.apply">apply</a><span class="delimiter">(</span><a title="String" id="play.core.j.PlayMagicForJava.javaFieldtoScalaField;$anon.apply.key">key</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#play.core.j.PlayMagicForJava.javaFieldtoScalaField" title="implicit play.core.j.PlayMagicForJava.javaFieldtoScalaField : (jField: play.data.Form.Field)play.api.data.Field">javaFieldtoScalaField</a><span class="delimiter">(</span><a href="#play.core.j.PlayMagicForJava.javaFieldtoScalaField.jField" title="play.data.Form.Field">jField</a>.<a href="../data/Form.java.html#play.data.Form;Field.sub" title="(key: String)play.data.Form.Field">sub</a><span class="delimiter">(</span><a href="#play.core.j.PlayMagicForJava.javaFieldtoScalaField;$anon.apply.key" title="String">key</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">override</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Seq[Int]" id="play.core.j.PlayMagicForJava.javaFieldtoScalaField;$anon.indexes">indexes</a> = <a href="#play.core.j.PlayMagicForJava.javaFieldtoScalaField.jField" title="play.data.Form.Field">jField</a>.<a href="../data/Form.java.html#play.data.Form;Field.indexes" title="(l: java.util.List[Integer])scala.collection.convert.Decorators.AsScala[scala.collection.mutable.Buffer[Integer]]">indexes</a>.<span title="=&gt; scala.collection.mutable.Buffer[Integer]">asScala</span>.<span title="=&gt; Seq[Integer]">toSeq</span>.<span title="(f: Integer =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[Integer],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Int,Seq[Int]]" class="delimiter">(</span><a href="#play.core.j.PlayMagicForJava.javaFieldtoScalaField;$anon.indexes.$anonfun.x$1" title="implicit scala.Predef.Integer2int : (x: Integer)Int">_</a>.<span title="=&gt; Int">toInt</span><span class="delimiter">)</span>

    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; play.api.mvc.RequestHeader" id="play.core.j.PlayMagicForJava.requestHeader">requestHeader</a>: play.api.mvc.<a href="../../../play/play/api/mvc/Http.scala.html#play.api.mvc;RequestHeader" title="play.api.mvc.RequestHeader">RequestHeader</a> = <span class="delimiter">{</span>
    play.mvc.<a href="../../../play/play/mvc/Http.java.html#play.mvc.Http" title="play.mvc.Http.type">Http</a>.<a href="../../../play/play/mvc/Http.java.html#play.mvc.Http.Context" title="play.mvc.Http.Context.type">Context</a>.<a href="../../../play/play/mvc/Http.java.html#play.mvc.Http.Context.Implicit" title="play.mvc.Http.Context.Implicit.type">Implicit</a>.<a href="../../../play/play/mvc/Http.java.html#play.mvc.Http.Context.Implicit.ctx" title="()play.mvc.Http.Context">ctx</a>.<a href="../../../play/play/mvc/Http.java.html#play.mvc.Http;Context._requestHeader" title="()play.api.mvc.RequestHeader">_requestHeader</a>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>
