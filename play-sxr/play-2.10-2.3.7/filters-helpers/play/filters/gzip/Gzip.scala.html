<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>filters-helpers/play/filters/gzip/Gzip.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright (C) 2009-2013 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
<span class="keyword">package</span> play.filters.gzip

<span class="keyword">import</span> play.api.libs.iteratee._
<span class="keyword">import</span> play.api.libs.iteratee.<a href="../../../../play-iteratees/play/api/libs/iteratee/Enumeratee.scala.html#play.api.libs.iteratee.Enumeratee" title="play.api.libs.iteratee.Enumeratee.type">Enumeratee</a>.CheckDone
<span class="keyword">import</span> java.util.zip._
<span class="keyword">import</span> play.api.libs.concurrent.<a href="../../../../play/play/api/libs/concurrent/Execution.scala.html#play.api.libs.concurrent.Execution" title="play.api.libs.concurrent.Execution.type">Execution</a>.<a href="../../../../play/play/api/libs/concurrent/Execution.scala.html#play.api.libs.concurrent.Execution.Implicits" title="play.api.libs.concurrent.Execution.Implicits.type">Implicits</a>._

<span class="comment">/**
 * Enumeratees for dealing with gzip streams
 */</span>
<span class="keyword">object</span> <a title="play.filters.gzip.Gzip.type" id="play.filters.gzip.Gzip">Gzip</a> <a href="#play.filters.gzip.Gzip" title="play.filters.gzip.Gzip.type" class="delimiter">{</a>
  <span class="keyword">private</span> <span class="keyword">type</span> <a title="Array[Byte]" id="play.filters.gzip.Gzip;Bytes">Bytes</a> = <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span>
  <span class="keyword">private</span> <span class="keyword">type</span> <a title="play.api.libs.iteratee.Enumeratee.CheckDone[play.filters.gzip.Gzip.Bytes,play.filters.gzip.Gzip.Bytes]" id="play.filters.gzip.Gzip;CheckDoneBytes">CheckDoneBytes</a> = <a href="../../../../play-iteratees/play/api/libs/iteratee/Enumeratee.scala.html#play.api.libs.iteratee.Enumeratee;CheckDone" title="play.api.libs.iteratee.Enumeratee.CheckDone[play.filters.gzip.Gzip.Bytes,play.filters.gzip.Gzip.Bytes]">CheckDone</a><span class="delimiter">[</span>Bytes, Bytes<span class="delimiter">]</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="play.filters.gzip.Gzip.GzipMagic">GzipMagic</a> = <span title="Int(35615)" class="int">0x8b1f</span>
  <span class="comment">// Gzip flags</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="play.filters.gzip.Gzip.HeaderCrc">HeaderCrc</a> = <span title="Int(2)" class="int">2</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="play.filters.gzip.Gzip.ExtraField">ExtraField</a> = <span title="Int(4)" class="int">4</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="play.filters.gzip.Gzip.FileName">FileName</a> = <span title="Int(8)" class="int">8</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="play.filters.gzip.Gzip.FileComment">FileComment</a> = <span title="Int(16)" class="int">16</span>

  <span class="comment">/**
   * Create a gzip enumeratee.
   *
   * This enumeratee is not purely functional, it uses the high performance native deflate implementation provided by
   * Java, which is stateful.  However, this state is created each time the enumeratee is applied, so it is fine to
   * reuse the enumeratee returned by this function.
   *
   * @param bufferSize The size of the output buffer
   */</span>
  <span class="keyword">def</span> <a title="(bufferSize: Int)play.api.libs.iteratee.Enumeratee[Array[Byte],Array[Byte]]" id="play.filters.gzip.Gzip.gzip">gzip</a><span class="delimiter">(</span><a title="Int" id="play.filters.gzip.Gzip.gzip$default$1">bufferSize</a>: <span title="Int">Int</span> = <span title="Int(512)" class="int">512</span><span class="delimiter">)</span>: <a href="../../../../play-iteratees/play/api/libs/iteratee/Enumeratee.scala.html#play.api.libs.iteratee;Enumeratee" title="play.api.libs.iteratee.Enumeratee[Array[Byte],Array[Byte]]">Enumeratee</a><span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>

    <span class="comment">/*
     * State consists of 4 parts, a deflater (high performance native zlib implementation), a crc32 calculator, required
     * by gzip to be at the end of the stream, a buffer in which we accumulate the compressed bytes, and the current
     * position of that buffer.
     */</span>
    <span class="keyword">class</span> <a title="class State extends AnyRef" id="play.filters.gzip.Gzip.gzip;State">State</a> <a href="#play.filters.gzip.Gzip.gzip;State" title="State" class="delimiter">{</a>
      <span class="keyword">val</span> <a title="java.util.zip.Deflater" id="play.filters.gzip.Gzip.gzip;State.deflater">deflater</a> = <span title="java.util.zip.Deflater" class="keyword">new</span> <span title="java.util.zip.Deflater">Deflater</span><span class="delimiter">(</span>Deflater.<span title="Int(-1)">DEFAULT_COMPRESSION</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="java.util.zip.CRC32" id="play.filters.gzip.Gzip.gzip;State.crc">crc</a> = <span title="java.util.zip.CRC32" class="keyword">new</span> <span title="java.util.zip.CRC32">CRC32</span>
      @volatile <span class="keyword">var</span> <a title="Array[Byte]" id="play.filters.gzip.Gzip.gzip;State.buffer_=">buffer</a> = <span title="Array[Byte]" class="keyword">new</span> <a href="#play.filters.gzip.Gzip;Bytes" title="Array[Byte]">Bytes</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip$default$1" title="Int">bufferSize</a><span class="delimiter">)</span>
      @volatile <span class="keyword">var</span> <a title="Int" id="play.filters.gzip.Gzip.gzip;State.pos_=">pos</a> = <span title="Int(0)" class="int">0</span>

      <span class="keyword">def</span> <a title="()Unit" id="play.filters.gzip.Gzip.gzip;State.reset">reset</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#play.filters.gzip.Gzip.gzip;State.pos_=" title="(x$1: Int)Unit">pos</a> = <span title="Int(0)" class="int">0</span>
        <a href="#play.filters.gzip.Gzip.gzip;State.buffer_=" title="(x$1: Array[Byte])Unit">buffer</a> = <span title="Array[Byte]" class="keyword">new</span> <a href="#play.filters.gzip.Gzip;Bytes" title="Array[Byte]">Bytes</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip$default$1" title="Int">bufferSize</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <a href="#play.filters.gzip.Gzip.gzip;$anon" title="play.filters.gzip.Gzip.CheckDoneBytes{}" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.filters.gzip.Gzip.CheckDoneBytes" id="play.filters.gzip.Gzip.gzip;$anon">CheckDoneBytes</a> <span class="delimiter">{</span>

      <span class="keyword">def</span> <a title="[A](state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]" id="play.filters.gzip.Gzip.gzip;$anon.step">step</a><span class="delimiter">[</span><a title="" id="play.filters.gzip.Gzip.gzip;$anon.step;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="State" id="play.filters.gzip.Gzip.gzip;$anon.step.state">state</a>: <a href="#play.filters.gzip.Gzip.gzip;State" title="State">State</a>, <a title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]" id="play.filters.gzip.Gzip.gzip;$anon.step.k">k</a>: <span title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">K</span><span class="delimiter">[</span>Bytes, A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">K</span><span class="delimiter">[</span>Bytes, Iteratee<span class="delimiter">[</span>Bytes, A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#play.filters.gzip.Gzip.gzip;$anon.step.$anonfun.x0$2" title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]" class="delimiter">{</a>
        <span class="keyword">case</span> <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.EOF" title="play.api.libs.iteratee.Input.EOF.type">EOF</a> =&gt; <span class="delimiter">{</span>
          <a href="#play.filters.gzip.Gzip.gzip;$anon.step.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.deflater" title="=&gt; java.util.zip.Deflater">deflater</a>.<span title="()Unit">finish</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished" title="(state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">deflateUntilFinished</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.step.state" title="State">state</a>, <a href="#play.filters.gzip.Gzip.gzip;$anon.step.k" title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">k</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">case</span> Input.El<span class="delimiter">(</span><a title="play.filters.gzip.Gzip.Bytes" id="play.filters.gzip.Gzip.gzip;$anon.step.$anonfun.bytes">bytes</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
          <a href="#play.filters.gzip.Gzip.gzip;$anon.step.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.crc" title="=&gt; java.util.zip.CRC32">crc</a>.<span title="(x$1: Array[Byte])Unit">update</span><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.step.$anonfun.bytes" title="play.filters.gzip.Gzip.Bytes">bytes</a><span class="delimiter">)</span>
          <a href="#play.filters.gzip.Gzip.gzip;$anon.step.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.deflater" title="=&gt; java.util.zip.Deflater">deflater</a>.<span title="(x$1: Array[Byte])Unit">setInput</span><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.step.$anonfun.bytes" title="play.filters.gzip.Gzip.Bytes">bytes</a><span class="delimiter">)</span>
          <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput" title="(state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">deflateUntilNeedsInput</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.step.state" title="State">state</a>, <a href="#play.filters.gzip.Gzip.gzip;$anon.step.k" title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">k</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">case</span> <a title="play.api.libs.iteratee.Input.Empty.type" id="play.filters.gzip.Gzip.gzip;$anon.step.$anonfun.in">in</a> @ <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.Empty" title="play.api.libs.iteratee.Input.Empty.type">Empty</a> =&gt; <a href="#play.filters.gzip.Gzip.gzip;$anon.feedEmpty" title="(state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">feedEmpty</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.step.state" title="State">state</a>, <a href="#play.filters.gzip.Gzip.gzip;$anon.step.k" title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">k</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="[A](k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]" id="play.filters.gzip.Gzip.gzip;$anon.continue">continue</a><span class="delimiter">[</span><a title="" id="play.filters.gzip.Gzip.gzip;$anon.continue;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]" id="play.filters.gzip.Gzip.gzip;$anon.continue.k">k</a>: <span title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">K</span><span class="delimiter">[</span>Bytes, A<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#play.filters.gzip.Gzip.gzip;$anon.feedHeader" title="(k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">feedHeader</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.continue.k" title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">k</a><span class="delimiter">)</span>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.pureFlatFold" title="(folder: play.api.libs.iteratee.Step[play.filters.gzip.Gzip.Bytes,A] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">pureFlatFold</a> <a href="#play.filters.gzip.Gzip.gzip;$anon.continue.$anonfun.x0$1" title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]" class="delimiter">{</a>
          <span class="keyword">case</span> Step.Cont<span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]" id="play.filters.gzip.Gzip.gzip;$anon.continue.$anonfun.k2">k2</a><span class="delimiter">)</span> =&gt; <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">Cont</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.step" title="(state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">step</a><span class="delimiter">(</span><span title="State" class="keyword">new</span> <a href="#play.filters.gzip.Gzip.gzip;State" title="State">State</a>, <a href="#play.filters.gzip.Gzip.gzip;$anon.continue.$anonfun.k2" title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">k2</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="play.api.libs.iteratee.Step[play.filters.gzip.Gzip.Bytes,A]" id="play.filters.gzip.Gzip.gzip;$anon.continue.$anonfun.step">step</a> =&gt; <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A], e: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">Done</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.continue.$anonfun.step" title="play.api.libs.iteratee.Step[play.filters.gzip.Gzip.Bytes,A]">step</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Step.it" title="=&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">it</a>, <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.Empty" title="play.api.libs.iteratee.Input.Empty.type">Empty</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="[A](state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]" id="play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput">deflateUntilNeedsInput</a><span class="delimiter">[</span><a title="" id="play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="State" id="play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput.state">state</a>: <a href="#play.filters.gzip.Gzip.gzip;State" title="State">State</a>, <a title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]" id="play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput.k">k</a>: <span title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">K</span><span class="delimiter">[</span>Bytes, A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">Iteratee</a><span class="delimiter">[</span>Bytes, Iteratee<span class="delimiter">[</span>Bytes, A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="comment">// Deflate some bytes</span>
        <span class="keyword">val</span> <a title="Int" id="play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput.numBytes">numBytes</a> = <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.deflater" title="=&gt; java.util.zip.Deflater">deflater</a>.<span title="(x$1: Array[Byte], x$2: Int, x$3: Int)Int">deflate</span><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.buffer_=" title="=&gt; Array[Byte]">buffer</a>, <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.pos_=" title="=&gt; Int">pos</a>, <a href="#play.filters.gzip.Gzip.gzip$default$1" title="Int">bufferSize</a> <span title="(x: Int)Int">-</span> <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.pos_=" title="=&gt; Int">pos</a><span class="delimiter">)</span>
        <span title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput.numBytes" title="Int">numBytes</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.deflater" title="=&gt; java.util.zip.Deflater">deflater</a>.<span title="()Boolean">needsInput</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// Deflater needs more input, so continue</span>
            <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">Cont</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.step" title="(state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">step</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput.state" title="State">state</a>, <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput.k" title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">k</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput" title="(state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">deflateUntilNeedsInput</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput.state" title="State">state</a>, <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput.k" title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">k</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.pos_=" title="(x$1: Int)Unit">pos</a> <span title="(x: Int)Int">+=</span> <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput.numBytes" title="Int">numBytes</a>
          <span title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.pos_=" title="=&gt; Int">pos</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#play.filters.gzip.Gzip.gzip$default$1" title="Int">bufferSize</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput" title="(state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">deflateUntilNeedsInput</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput.state" title="State">state</a>, <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput.k" title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">k</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="comment">// We've filled our buffer, feed it into the k function</span>
            <span class="keyword">val</span> <a title="Array[Byte]" id="play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput.buffer">buffer</a> = <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.buffer_=" title="=&gt; Array[Byte]">buffer</a>
            <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.reset" title="()Unit">reset</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput;$anon" title="play.filters.gzip.Gzip.CheckDoneBytes" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.filters.gzip.Gzip.CheckDoneBytes" id="play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput;$anon">CheckDoneBytes</a> <span class="delimiter">{</span>
              <span class="keyword">def</span> <a title="[B](k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]]" id="play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput;$anon.continue">continue</a><span class="delimiter">[</span><a title="" id="play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput;$anon.continue;B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]" id="play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput;$anon.continue.k">k</a>: <span title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]">K</span><span class="delimiter">[</span>Bytes, B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput" title="(state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]]">deflateUntilNeedsInput</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput.state" title="State">state</a>, <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput;$anon.continue.k" title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]">k</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <a href="../../../../play-iteratees/play/api/libs/iteratee/Enumeratee.scala.html#play.api.libs.iteratee;Enumeratee.&>" title="(inner: play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">&amp;&gt;</a> <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput.k" title="(v1: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">k</a><span class="delimiter">(</span><a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input;El" title="(e: Array[Byte])play.api.libs.iteratee.Input.El[Array[Byte]]">El</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilNeedsInput.buffer" title="Array[Byte]">buffer</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="[A](state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]" id="play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished">deflateUntilFinished</a><span class="delimiter">[</span><a title="" id="play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="State" id="play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished.state">state</a>: <a href="#play.filters.gzip.Gzip.gzip;State" title="State">State</a>, <a title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]" id="play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished.k">k</a>: <span title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">K</span><span class="delimiter">[</span>Bytes, A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">Iteratee</a><span class="delimiter">[</span>Bytes, Iteratee<span class="delimiter">[</span>Bytes, A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Int" id="play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished.numBytes">numBytes</a> = <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.deflater" title="=&gt; java.util.zip.Deflater">deflater</a>.<span title="(x$1: Array[Byte], x$2: Int, x$3: Int)Int">deflate</span><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.buffer_=" title="=&gt; Array[Byte]">buffer</a>, <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.pos_=" title="=&gt; Int">pos</a>, <a href="#play.filters.gzip.Gzip.gzip$default$1" title="Int">bufferSize</a> <span title="(x: Int)Int">-</span> <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.pos_=" title="=&gt; Int">pos</a><span class="delimiter">)</span>
        <span title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished.numBytes" title="Int">numBytes</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.deflater" title="=&gt; java.util.zip.Deflater">deflater</a>.<span title="()Boolean">finished</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// Deflater is finished, send the trailer</span>
            <a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer" title="(state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">feedTrailer</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished.state" title="State">state</a>, <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished.k" title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">k</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished" title="(state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">deflateUntilFinished</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished.state" title="State">state</a>, <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished.k" title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">k</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.pos_=" title="(x$1: Int)Unit">pos</a> <span title="(x: Int)Int">+=</span> <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished.numBytes" title="Int">numBytes</a>
          <span title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.pos_=" title="=&gt; Int">pos</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#play.filters.gzip.Gzip.gzip$default$1" title="Int">bufferSize</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished" title="(state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">deflateUntilFinished</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished.state" title="State">state</a>, <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished.k" title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">k</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Array[Byte]" id="play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished.buffer">buffer</a> = <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.buffer_=" title="=&gt; Array[Byte]">buffer</a>
            <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.reset" title="()Unit">reset</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished;$anon" title="play.filters.gzip.Gzip.CheckDoneBytes" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.filters.gzip.Gzip.CheckDoneBytes" id="play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished;$anon">CheckDoneBytes</a> <span class="delimiter">{</span>
              <span class="keyword">def</span> <a title="[B](k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]]" id="play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished;$anon.continue">continue</a><span class="delimiter">[</span><a title="" id="play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished;$anon.continue;B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]" id="play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished;$anon.continue.k">k</a>: <span title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]">K</span><span class="delimiter">[</span>Bytes, B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished" title="(state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]]">deflateUntilFinished</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished.state" title="State">state</a>, <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished;$anon.continue.k" title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]">k</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <a href="../../../../play-iteratees/play/api/libs/iteratee/Enumeratee.scala.html#play.api.libs.iteratee;Enumeratee.&>" title="(inner: play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">&amp;&gt;</a> <a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished.k" title="(v1: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">k</a><span class="delimiter">(</span><a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input;El" title="(e: Array[Byte])play.api.libs.iteratee.Input.El[Array[Byte]]">El</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.deflateUntilFinished.buffer" title="Array[Byte]">buffer</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="[A](state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]" id="play.filters.gzip.Gzip.gzip;$anon.feedEmpty">feedEmpty</a><span class="delimiter">[</span><a title="" id="play.filters.gzip.Gzip.gzip;$anon.feedEmpty;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="State" id="play.filters.gzip.Gzip.gzip;$anon.feedEmpty.state">state</a>: <a href="#play.filters.gzip.Gzip.gzip;State" title="State">State</a>, <a title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]" id="play.filters.gzip.Gzip.gzip;$anon.feedEmpty.k">k</a>: <span title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">K</span><span class="delimiter">[</span>Bytes, A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#play.filters.gzip.Gzip.gzip;$anon.feedEmpty;$anon" title="play.filters.gzip.Gzip.CheckDoneBytes" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.filters.gzip.Gzip.CheckDoneBytes" id="play.filters.gzip.Gzip.gzip;$anon.feedEmpty;$anon">CheckDoneBytes</a> <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="[B](k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]]" id="play.filters.gzip.Gzip.gzip;$anon.feedEmpty;$anon.continue">continue</a><span class="delimiter">[</span><a title="" id="play.filters.gzip.Gzip.gzip;$anon.feedEmpty;$anon.continue;B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]" id="play.filters.gzip.Gzip.gzip;$anon.feedEmpty;$anon.continue.k">k</a>: <span title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]">K</span><span class="delimiter">[</span>Bytes, B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]]">Cont</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.step" title="(state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B])play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]]">step</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.feedEmpty.state" title="State">state</a>, <a href="#play.filters.gzip.Gzip.gzip;$anon.feedEmpty;$anon.continue.k" title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]">k</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <a href="../../../../play-iteratees/play/api/libs/iteratee/Enumeratee.scala.html#play.api.libs.iteratee;Enumeratee.&>" title="(inner: play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">&amp;&gt;</a> <a href="#play.filters.gzip.Gzip.gzip;$anon.feedEmpty.k" title="(v1: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">k</a><span class="delimiter">(</span><a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.Empty" title="play.api.libs.iteratee.Input.Empty.type">Empty</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="[A](k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]" id="play.filters.gzip.Gzip.gzip;$anon.feedHeader">feedHeader</a><span class="delimiter">[</span><a title="" id="play.filters.gzip.Gzip.gzip;$anon.feedHeader;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]" id="play.filters.gzip.Gzip.gzip;$anon.feedHeader.k">k</a>: <span title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">K</span><span class="delimiter">[</span>Bytes, A<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="comment">// First need to write the Gzip header</span>
        <span class="keyword">val</span> <a title="Byte" id="play.filters.gzip.Gzip.gzip;$anon.feedHeader.zero">zero</a> = <span title="Int(0)" class="int">0</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Byte" class="delimiter">[</span><span title="Byte">Byte</span><span class="delimiter">]</span>
        <span class="keyword">val</span> <a title="Array[Byte]" id="play.filters.gzip.Gzip.gzip;$anon.feedHeader.header">header</a> = <span title="(x: Byte, xs: Byte*)Array[Byte]">Array</span><span class="delimiter">(</span>
          <a href="#play.filters.gzip.Gzip.GzipMagic" title="=&gt; Int">GzipMagic</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Byte" class="delimiter">[</span><span title="Byte">Byte</span><span class="delimiter">]</span>, <span class="comment">// Magic number (2 bytes)</span>
          <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.GzipMagic" title="=&gt; Int">GzipMagic</a> <span title="(x: Int)Int">&gt;&gt;</span> <span title="Int(8)" class="int">8</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Byte" class="delimiter">[</span><span title="Byte">Byte</span><span class="delimiter">]</span>,
          Deflater.<span title="Int(8)">DEFLATED</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Byte" class="delimiter">[</span><span title="Byte">Byte</span><span class="delimiter">]</span>, <span class="comment">// Compression method</span>
          <a href="#play.filters.gzip.Gzip.gzip;$anon.feedHeader.zero" title="Byte">zero</a>, <span class="comment">// Flags</span>
          <a href="#play.filters.gzip.Gzip.gzip;$anon.feedHeader.zero" title="Byte">zero</a>, <span class="comment">// Modification time (4 bytes)</span>
          <a href="#play.filters.gzip.Gzip.gzip;$anon.feedHeader.zero" title="Byte">zero</a>,
          <a href="#play.filters.gzip.Gzip.gzip;$anon.feedHeader.zero" title="Byte">zero</a>,
          <a href="#play.filters.gzip.Gzip.gzip;$anon.feedHeader.zero" title="Byte">zero</a>,
          <a href="#play.filters.gzip.Gzip.gzip;$anon.feedHeader.zero" title="Byte">zero</a>, <span class="comment">// Extra flags</span>
          <a href="#play.filters.gzip.Gzip.gzip;$anon.feedHeader.zero" title="Byte">zero</a> <span class="comment">// Operating system</span>
        <span class="delimiter">)</span>
        <a href="#play.filters.gzip.Gzip.gzip;$anon.feedHeader.k" title="(v1: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">k</a><span class="delimiter">(</span><a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input;El" title="(e: Array[Byte])play.api.libs.iteratee.Input.El[Array[Byte]]">El</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.feedHeader.header" title="Array[Byte]">header</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="[A](state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]" id="play.filters.gzip.Gzip.gzip;$anon.feedTrailer">feedTrailer</a><span class="delimiter">[</span><a title="" id="play.filters.gzip.Gzip.gzip;$anon.feedTrailer;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="State" id="play.filters.gzip.Gzip.gzip;$anon.feedTrailer.state">state</a>: <a href="#play.filters.gzip.Gzip.gzip;State" title="State">State</a>, <a title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]" id="play.filters.gzip.Gzip.gzip;$anon.feedTrailer.k">k</a>: <span title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">K</span><span class="delimiter">[</span>Bytes, A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">Iteratee</a><span class="delimiter">[</span>Bytes, Iteratee<span class="delimiter">[</span>Bytes, A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(buffer: play.filters.gzip.Gzip.Bytes, pos: Int)Unit" id="play.filters.gzip.Gzip.gzip;$anon.feedTrailer.writeTrailer">writeTrailer</a><span class="delimiter">(</span><a title="play.filters.gzip.Gzip.Bytes" id="play.filters.gzip.Gzip.gzip;$anon.feedTrailer.writeTrailer.buffer">buffer</a>: <span title="play.filters.gzip.Gzip.Bytes">Bytes</span>, <a title="Int" id="play.filters.gzip.Gzip.gzip;$anon.feedTrailer.writeTrailer.pos">pos</a>: <span title="Int">Int</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Long" id="play.filters.gzip.Gzip.gzip;$anon.feedTrailer.writeTrailer.crc">crc</a> = <a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.crc" title="=&gt; java.util.zip.CRC32">crc</a>.<span title="()Long">getValue</span>
          <span class="keyword">val</span> <a title="Int" id="play.filters.gzip.Gzip.gzip;$anon.feedTrailer.writeTrailer.length">length</a> = <a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.deflater" title="=&gt; java.util.zip.Deflater">deflater</a>.<span title="()Int">getTotalIn</span>
          <a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.deflater" title="=&gt; java.util.zip.Deflater">deflater</a>.<span title="()Unit">end</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="comment">// CRC followed by length, little endian</span>
          <a href="#play.filters.gzip.Gzip.intToLittleEndian" title="(i: Int, out: play.filters.gzip.Gzip.Bytes, offset: Int)play.filters.gzip.Gzip.Bytes">intToLittleEndian</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.writeTrailer.crc" title="Long">crc</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Int" class="delimiter">[</span><span title="Int">Int</span><span class="delimiter">]</span>, <a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.writeTrailer.buffer" title="play.filters.gzip.Gzip.Bytes">buffer</a>, <a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.writeTrailer.pos" title="Int">pos</a><span class="delimiter">)</span>
          <a href="#play.filters.gzip.Gzip.intToLittleEndian" title="(i: Int, out: play.filters.gzip.Gzip.Bytes, offset: Int)play.filters.gzip.Gzip.Bytes">intToLittleEndian</a><span title="Unit" class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.writeTrailer.length" title="Int">length</a>, <a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.writeTrailer.buffer" title="play.filters.gzip.Gzip.Bytes">buffer</a>, <a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.writeTrailer.pos" title="Int">pos</a> <span title="(x: Int)Int">+</span> <span title="Int(4)" class="int">4</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="comment">// Try to just append to the existing buffer if there's enough room</span>
        <span class="keyword">val</span> <a title="Seq[Array[Byte]]" id="play.filters.gzip.Gzip.gzip;$anon.feedTrailer.finalIn">finalIn</a> = <span title="Seq[Array[Byte]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.pos_=" title="=&gt; Int">pos</a> <span title="(x: Int)Int">+</span> <span title="Int(8)" class="int">8</span> <span title="(x: Int)Boolean">&lt;=</span> <a href="#play.filters.gzip.Gzip.gzip$default$1" title="Int">bufferSize</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.writeTrailer" title="(buffer: play.filters.gzip.Gzip.Bytes, pos: Int)Unit">writeTrailer</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.buffer_=" title="=&gt; Array[Byte]">buffer</a>, <a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.pos_=" title="=&gt; Int">pos</a><span class="delimiter">)</span>
          <a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.pos_=" title="(x$1: Int)Unit">pos</a> = <a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.pos_=" title="=&gt; Int">pos</a> <span title="(x: Int)Int">+</span> <span title="Int(8)" class="int">8</span>
          <span class="keyword">val</span> <span title="Array[Byte]">buffer</span> = <span title="Array[Byte]" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.pos_=" title="=&gt; Int">pos</a> <span title="(x: Int)Boolean">==</span> <a href="#play.filters.gzip.Gzip.gzip$default$1" title="Int">bufferSize</a><span class="delimiter">)</span> <a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.buffer_=" title="=&gt; Array[Byte]">buffer</a> <span class="keyword">else</span> <a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.buffer_=" title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]">buffer</a>.<span title="(n: Int)Array[Byte]">take</span><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.pos_=" title="=&gt; Int">pos</a><span class="delimiter">)</span>
          <span title="(elems: Array[Byte]*)Seq[Array[Byte]]">Seq</span><span class="delimiter">(</span><span title="Array[Byte]">buffer</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="comment">// Create a new buffer for the trailer</span>
          <span class="keyword">val</span> <span title="Array[Byte]">buffer</span> = <span title="Array[Byte]" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.pos_=" title="=&gt; Int">pos</a> <span title="(x: Int)Boolean">==</span> <a href="#play.filters.gzip.Gzip.gzip$default$1" title="Int">bufferSize</a><span class="delimiter">)</span> <a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.buffer_=" title="=&gt; Array[Byte]">buffer</a> <span class="keyword">else</span> <a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.buffer_=" title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]">buffer</a>.<span title="(n: Int)Array[Byte]">take</span><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gzip;State.pos_=" title="=&gt; Int">pos</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Array[Byte]" id="play.filters.gzip.Gzip.gzip;$anon.feedTrailer.finalIn.trailer">trailer</a> = <span title="Array[Byte]" class="keyword">new</span> <a href="#play.filters.gzip.Gzip;Bytes" title="Array[Byte]">Bytes</a><span class="delimiter">(</span><span title="Int(8)" class="int">8</span><span class="delimiter">)</span>
          <a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.writeTrailer" title="(buffer: play.filters.gzip.Gzip.Bytes, pos: Int)Unit">writeTrailer</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.finalIn.trailer" title="Array[Byte]">trailer</a>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
          <span title="(elems: Array[Byte]*)Seq[Array[Byte]]">Seq</span><span class="delimiter">(</span><span title="Array[Byte]">buffer</span>, <a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.finalIn.trailer" title="Array[Byte]">trailer</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Iteratee" title="play.api.libs.iteratee.Iteratee.type">Iteratee</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Iteratee.flatten" title="(i: scala.concurrent.Future[play.api.libs.iteratee.Iteratee[Array[Byte],A]])play.api.libs.iteratee.Iteratee[Array[Byte],A]">flatten</a><span class="delimiter">(</span><a href="../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee.Enumerator" title="play.api.libs.iteratee.Enumerator.type">Enumerator</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee.Enumerator.enumerate" title="(traversable: TraversableOnce[Array[Byte]])(implicit ctx: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Enumerator[Array[Byte]]">enumerate</a><a href="../../../../play/play/api/libs/concurrent/Execution.scala.html#play.api.libs.concurrent.Execution.Implicits.defaultContext" title="=&gt; scala.concurrent.ExecutionContext" class="delimiter">(</a><a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.finalIn" title="Seq[Array[Byte]]">finalIn</a><span class="delimiter">)</span> <a href="../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee;Enumerator.>>>" title="(e: play.api.libs.iteratee.Enumerator[Array[Byte]])play.api.libs.iteratee.Enumerator[Array[Byte]]">&gt;&gt;&gt;</a> <a href="../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee.Enumerator" title="play.api.libs.iteratee.Enumerator.type">Enumerator</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee.Enumerator.eof" title="enumInput extends AnyRef with play.api.libs.iteratee.Enumerator[Array[Byte]]">eof</a> <a href="../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee;Enumerator.|>>" title="(i: play.api.libs.iteratee.Iteratee[Array[Byte],A])scala.concurrent.Future[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">|&gt;&gt;</a> <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">Cont</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.k" title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">k</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.map" title="(f: A =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[Array[Byte],play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">map</a><a href="../../../../play/play/api/libs/concurrent/Execution.scala.html#play.api.libs.concurrent.Execution.Implicits.defaultContext" title="=&gt; scala.concurrent.ExecutionContext" class="delimiter">(</a><a title="A" id="play.filters.gzip.Gzip.gzip;$anon.feedTrailer.$anonfun.it">it</a> =&gt; <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: A, e: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">Done</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gzip;$anon.feedTrailer.$anonfun.it" title="A">it</a>, <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.EOF" title="play.api.libs.iteratee.Input.EOF.type">EOF</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Create a gunzip enumeratee.
   *
   * This enumeratee is not purely functional, it uses the high performance native deflate implementation provided by
   * Java, which is stateful.  However, this state is created each time the enumeratee is applied, so it is fine to
   * reuse the enumeratee returned by this function.
   *
   * @param bufferSize The size of the output buffer
   */</span>
  <span class="keyword">def</span> <a title="(bufferSize: Int)play.api.libs.iteratee.Enumeratee[Array[Byte],Array[Byte]]" id="play.filters.gzip.Gzip.gunzip">gunzip</a><span class="delimiter">(</span><a title="Int" id="play.filters.gzip.Gzip.gunzip$default$1">bufferSize</a>: <span title="Int">Int</span> = <span title="Int(512)" class="int">512</span><span class="delimiter">)</span>: <a href="../../../../play-iteratees/play/api/libs/iteratee/Enumeratee.scala.html#play.api.libs.iteratee;Enumeratee" title="play.api.libs.iteratee.Enumeratee[Array[Byte],Array[Byte]]">Enumeratee</a><span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>

    <span class="comment">/*
     * State consists of 4 parts, an inflater (high performance native zlib implementation), a crc32 calculator, required
     * by gzip to be at the end of the stream, a buffer in which we accumulate the compressed bytes, and the current
     * position of that buffer.
     */</span>
    <span class="keyword">class</span> <a title="class State extends AnyRef" id="play.filters.gzip.Gzip.gunzip;State">State</a> <a href="#play.filters.gzip.Gzip.gunzip;State" title="State" class="delimiter">{</a>
      <span class="keyword">val</span> <a title="java.util.zip.Inflater" id="play.filters.gzip.Gzip.gunzip;State.inflater">inflater</a> = <span title="java.util.zip.Inflater" class="keyword">new</span> <span title="java.util.zip.Inflater">Inflater</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="java.util.zip.CRC32" id="play.filters.gzip.Gzip.gunzip;State.crc">crc</a> = <span title="java.util.zip.CRC32" class="keyword">new</span> <span title="java.util.zip.CRC32">CRC32</span>
      @volatile <span class="keyword">var</span> <a title="Array[Byte]" id="play.filters.gzip.Gzip.gunzip;State.buffer_=">buffer</a> = <span title="Array[Byte]" class="keyword">new</span> <a href="#play.filters.gzip.Gzip;Bytes" title="Array[Byte]">Bytes</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip$default$1" title="Int">bufferSize</a><span class="delimiter">)</span>
      @volatile <span class="keyword">var</span> <a title="Int" id="play.filters.gzip.Gzip.gunzip;State.pos_=">pos</a> = <span title="Int(0)" class="int">0</span>

      <span class="keyword">def</span> <a title="()Unit" id="play.filters.gzip.Gzip.gunzip;State.reset">reset</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#play.filters.gzip.Gzip.gunzip;State.pos_=" title="(x$1: Int)Unit">pos</a> = <span title="Int(0)" class="int">0</span>
        <a href="#play.filters.gzip.Gzip.gunzip;State.buffer_=" title="(x$1: Array[Byte])Unit">buffer</a> = <span title="Array[Byte]" class="keyword">new</span> <a href="#play.filters.gzip.Gzip;Bytes" title="Array[Byte]">Bytes</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip$default$1" title="Int">bufferSize</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">case class</span> <a title="class Header extends AnyRef with Product with Serializable" id="play.filters.gzip.Gzip.gunzip;Header.readResolve">Header</a><a href="#play.filters.gzip.Gzip.gunzip;Header.readResolve" title="Product" class="delimiter">(</a><a title="Short" id="play.filters.gzip.Gzip.gunzip;Header.magic">magic</a>: <span title="Short">Short</span>, <a title="Byte" id="play.filters.gzip.Gzip.gunzip;Header.compressionMethod">compressionMethod</a>: <span title="Byte">Byte</span>, <a title="Byte" id="play.filters.gzip.Gzip.gunzip;Header.flags">flags</a>: <span title="Byte">Byte</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="play.filters.gzip.Gzip.gunzip;Header.hasCrc">hasCrc</a> = <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;Header.flags" title="=&gt; Byte">flags</a> <span title="(x: Int)Int">&amp;</span> <a href="#play.filters.gzip.Gzip.HeaderCrc" title="=&gt; Int">HeaderCrc</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <a href="#play.filters.gzip.Gzip.HeaderCrc" title="=&gt; Int">HeaderCrc</a>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="play.filters.gzip.Gzip.gunzip;Header.hasExtraField">hasExtraField</a> = <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;Header.flags" title="=&gt; Byte">flags</a> <span title="(x: Int)Int">&amp;</span> <a href="#play.filters.gzip.Gzip.ExtraField" title="=&gt; Int">ExtraField</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <a href="#play.filters.gzip.Gzip.ExtraField" title="=&gt; Int">ExtraField</a>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="play.filters.gzip.Gzip.gunzip;Header.hasFilename">hasFilename</a> = <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;Header.flags" title="=&gt; Byte">flags</a> <span title="(x: Int)Int">&amp;</span> <a href="#play.filters.gzip.Gzip.FileName" title="=&gt; Int">FileName</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <a href="#play.filters.gzip.Gzip.FileName" title="=&gt; Int">FileName</a>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="play.filters.gzip.Gzip.gunzip;Header.hasComment">hasComment</a> = <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;Header.flags" title="=&gt; Byte">flags</a> <span title="(x: Int)Int">&amp;</span> <a href="#play.filters.gzip.Gzip.FileComment" title="=&gt; Int">FileComment</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <a href="#play.filters.gzip.Gzip.FileComment" title="=&gt; Int">FileComment</a>
    <span class="delimiter">}</span>

    <a href="#play.filters.gzip.Gzip.gunzip;$anon" title="play.filters.gzip.Gzip.CheckDoneBytes{}" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.filters.gzip.Gzip.CheckDoneBytes" id="play.filters.gzip.Gzip.gunzip;$anon">CheckDoneBytes</a> <span class="delimiter">{</span>

      <span class="keyword">def</span> <a title="[A](state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]" id="play.filters.gzip.Gzip.gunzip;$anon.step">step</a><span class="delimiter">[</span><a title="" id="play.filters.gzip.Gzip.gunzip;$anon.step;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="State" id="play.filters.gzip.Gzip.gunzip;$anon.step.state">state</a>: <a href="#play.filters.gzip.Gzip.gunzip;State" title="State">State</a>, <a title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]" id="play.filters.gzip.Gzip.gunzip;$anon.step.k">k</a>: <span title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">K</span><span class="delimiter">[</span>Bytes, A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">K</span><span class="delimiter">[</span>Bytes, Iteratee<span class="delimiter">[</span>Bytes, A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#play.filters.gzip.Gzip.gunzip;$anon.step.$anonfun.x0$3" title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]" class="delimiter">{</a>
        <span class="keyword">case</span> <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.EOF" title="play.api.libs.iteratee.Input.EOF.type">EOF</a> =&gt; <span class="delimiter">{</span>
          <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Error.apply" title="(msg: String, e: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Nothing]">Error</a><span class="delimiter">(</span><span title="String(&quot;Premature end of gzip stream&quot;)" class="string">&quot;Premature end of gzip stream&quot;</span>, <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.EOF" title="play.api.libs.iteratee.Input.EOF.type">EOF</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">case</span> Input.El<span class="delimiter">(</span><a title="play.filters.gzip.Gzip.Bytes" id="play.filters.gzip.Gzip.gunzip;$anon.step.$anonfun.bytes">bytes</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
          <a href="#play.filters.gzip.Gzip.gunzip;$anon.step.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gunzip;State.inflater" title="=&gt; java.util.zip.Inflater">inflater</a>.<span title="(x$1: Array[Byte])Unit">setInput</span><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.step.$anonfun.bytes" title="play.filters.gzip.Gzip.Bytes">bytes</a><span class="delimiter">)</span>
          <a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput" title="(state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A], input: play.filters.gzip.Gzip.Bytes)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">inflateUntilNeedsInput</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.step.state" title="State">state</a>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.step.k" title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">k</a>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.step.$anonfun.bytes" title="play.filters.gzip.Gzip.Bytes">bytes</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">case</span> <a title="play.api.libs.iteratee.Input.Empty.type" id="play.filters.gzip.Gzip.gunzip;$anon.step.$anonfun.in">in</a> @ <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.Empty" title="play.api.libs.iteratee.Input.Empty.type">Empty</a> =&gt; <a href="#play.filters.gzip.Gzip.gunzip;$anon.feedEmpty" title="(state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">feedEmpty</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.step.state" title="State">state</a>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.step.k" title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">k</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="[A](k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]" id="play.filters.gzip.Gzip.gunzip;$anon.continue">continue</a><span class="delimiter">[</span><a title="" id="play.filters.gzip.Gzip.gunzip;$anon.continue;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]" id="play.filters.gzip.Gzip.gunzip;$anon.continue.k">k</a>: <span title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">K</span><span class="delimiter">[</span>Bytes, A<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">{</span>
          <a title="State" id="play.filters.gzip.Gzip.gunzip;$anon.continue.$anonfun.state">state</a> &lt;- <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.flatMap" title="(f: State =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">readHeader</a>
          <a title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]" id="play.filters.gzip.Gzip.gunzip;$anon.continue.$anonfun.$anonfun.step">step</a> &lt;- <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">Cont</a><a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.map" title="(f: play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]" class="delimiter">(</a><a href="#play.filters.gzip.Gzip.gunzip;$anon.step" title="(state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">step</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.continue.$anonfun.state" title="State">state</a>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.continue.k" title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">k</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.continue.$anonfun.$anonfun.step" title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">step</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(bytes: play.filters.gzip.Gzip.Bytes)Product with Serializable with play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes]" id="play.filters.gzip.Gzip.gunzip;$anon.maybeEmpty">maybeEmpty</a><span class="delimiter">(</span><a title="play.filters.gzip.Gzip.Bytes" id="play.filters.gzip.Gzip.gunzip;$anon.maybeEmpty.bytes">bytes</a>: <span title="play.filters.gzip.Gzip.Bytes">Bytes</span><span class="delimiter">)</span> = <span title="play extends Product with Serializable with play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes]" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.maybeEmpty.bytes" title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]">bytes</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.Empty" title="play.api.libs.iteratee.Input.Empty.type">Empty</a> <span class="keyword">else</span> <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input;El" title="(e: play.filters.gzip.Gzip.Bytes)play.api.libs.iteratee.Input.El[play.filters.gzip.Gzip.Bytes]">El</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.maybeEmpty.bytes" title="play.filters.gzip.Gzip.Bytes">bytes</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="[A](state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A], input: play.filters.gzip.Gzip.Bytes)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]" id="play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput">inflateUntilNeedsInput</a><span class="delimiter">[</span><a title="" id="play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="State" id="play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.state">state</a>: <a href="#play.filters.gzip.Gzip.gunzip;State" title="State">State</a>, <a title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]" id="play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.k">k</a>: <span title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">K</span><span class="delimiter">[</span>Bytes, A<span class="delimiter">]</span>, <a title="play.filters.gzip.Gzip.Bytes" id="play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.input">input</a>: <span title="play.filters.gzip.Gzip.Bytes">Bytes</span><span class="delimiter">)</span>: <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">Iteratee</a><span class="delimiter">[</span>Bytes, Iteratee<span class="delimiter">[</span>Bytes, A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="comment">// Inflate some bytes</span>
        <span class="keyword">val</span> <a title="Int" id="play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.numBytes">numBytes</a> = <a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gunzip;State.inflater" title="=&gt; java.util.zip.Inflater">inflater</a>.<span title="(x$1: Array[Byte], x$2: Int, x$3: Int)Int">inflate</span><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gunzip;State.buffer_=" title="=&gt; Array[Byte]">buffer</a>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gunzip;State.pos_=" title="=&gt; Int">pos</a>, <a href="#play.filters.gzip.Gzip.gunzip$default$1" title="Int">bufferSize</a> <span title="(x: Int)Int">-</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gunzip;State.pos_=" title="=&gt; Int">pos</a><span class="delimiter">)</span>
        <span title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.numBytes" title="Int">numBytes</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gunzip;State.inflater" title="=&gt; java.util.zip.Inflater">inflater</a>.<span title="()Boolean">finished</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// Feed the current buffer</span>
            <span class="keyword">val</span> <span title="Array[Byte]">buffer</span> = <span title="Array[Byte]" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gunzip;State.buffer_=" title="=&gt; Array[Byte]">buffer</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&gt;</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gunzip;State.pos_=" title="=&gt; Int">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gunzip;State.buffer_=" title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]">buffer</a>.<span title="(n: Int)Array[Byte]">take</span><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gunzip;State.pos_=" title="=&gt; Int">pos</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gunzip;State.buffer_=" title="=&gt; Array[Byte]">buffer</a>
            <span class="delimiter">}</span>
            <a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gunzip;State.crc" title="=&gt; java.util.zip.CRC32">crc</a>.<span title="(x$1: Array[Byte])Unit">update</span><span class="delimiter">(</span><span title="Array[Byte]">buffer</span><span class="delimiter">)</span>
            <span title="play.filters.gzip.Gzip.CheckDoneBytes" class="keyword">new</span> <span title="anonymous class $anon extends AnyRef with play.filters.gzip.Gzip.CheckDoneBytes">CheckDoneBytes</span> <span class="delimiter">{</span>
              <span class="keyword">def</span> <span title="[B](k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]]">continue</span><span class="delimiter">[</span><span title="">B</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]">k</span>: <span title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]">K</span><span class="delimiter">[</span>Bytes, B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#play.filters.gzip.Gzip.gunzip;$anon.finish" title="(state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B], input: play.filters.gzip.Gzip.Bytes)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]]">finish</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.state" title="State">state</a>, <span title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]">k</span>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.input" title="play.filters.gzip.Gzip.Bytes">input</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <a href="../../../../play-iteratees/play/api/libs/iteratee/Enumeratee.scala.html#play.api.libs.iteratee;Enumeratee.&>" title="(inner: play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">&amp;&gt;</a> <a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.k" title="(v1: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">k</a><span class="delimiter">(</span><a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input;El" title="(e: Array[Byte])play.api.libs.iteratee.Input.El[Array[Byte]]">El</a><span class="delimiter">(</span><span title="Array[Byte]">buffer</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gunzip;State.inflater" title="=&gt; java.util.zip.Inflater">inflater</a>.<span title="()Boolean">needsInput</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// Inflater needs more input, so continue</span>
            <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">Cont</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.step" title="(state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">step</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.state" title="State">state</a>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.k" title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">k</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput" title="(state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A], input: play.filters.gzip.Gzip.Bytes)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">inflateUntilNeedsInput</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.state" title="State">state</a>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.k" title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">k</a>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.input" title="play.filters.gzip.Gzip.Bytes">input</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gunzip;State.pos_=" title="(x$1: Int)Unit">pos</a> <span title="(x: Int)Int">+=</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.numBytes" title="Int">numBytes</a>
          <span title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gunzip;State.pos_=" title="=&gt; Int">pos</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#play.filters.gzip.Gzip.gunzip$default$1" title="Int">bufferSize</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput" title="(state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A], input: play.filters.gzip.Gzip.Bytes)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">inflateUntilNeedsInput</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.state" title="State">state</a>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.k" title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">k</a>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.input" title="play.filters.gzip.Gzip.Bytes">input</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="comment">// We've filled our buffer, feed it into the k function</span>
            <span class="keyword">val</span> <span title="Array[Byte]">buffer</span> = <a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gunzip;State.buffer_=" title="=&gt; Array[Byte]">buffer</a>
            <a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gunzip;State.crc" title="=&gt; java.util.zip.CRC32">crc</a>.<span title="(x$1: Array[Byte])Unit">update</span><span class="delimiter">(</span><span title="Array[Byte]">buffer</span><span class="delimiter">)</span>
            <a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gunzip;State.reset" title="()Unit">reset</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="play.filters.gzip.Gzip.CheckDoneBytes" class="keyword">new</span> <span title="anonymous class $anon extends AnyRef with play.filters.gzip.Gzip.CheckDoneBytes">CheckDoneBytes</span> <span class="delimiter">{</span>
              <span class="keyword">def</span> <span title="[B](k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]]">continue</span><span class="delimiter">[</span><span title="">B</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]">k</span>: <span title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]">K</span><span class="delimiter">[</span>Bytes, B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput" title="(state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B], input: play.filters.gzip.Gzip.Bytes)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]]">inflateUntilNeedsInput</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.state" title="State">state</a>, <span title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]">k</span>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.input" title="play.filters.gzip.Gzip.Bytes">input</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <a href="../../../../play-iteratees/play/api/libs/iteratee/Enumeratee.scala.html#play.api.libs.iteratee;Enumeratee.&>" title="(inner: play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">&amp;&gt;</a> <a href="#play.filters.gzip.Gzip.gunzip;$anon.inflateUntilNeedsInput.k" title="(v1: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">k</a><span class="delimiter">(</span><a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input;El" title="(e: Array[Byte])play.api.libs.iteratee.Input.El[Array[Byte]]">El</a><span class="delimiter">(</span><span title="Array[Byte]">buffer</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="[A](state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]" id="play.filters.gzip.Gzip.gunzip;$anon.feedEmpty">feedEmpty</a><span class="delimiter">[</span><a title="" id="play.filters.gzip.Gzip.gunzip;$anon.feedEmpty;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="State" id="play.filters.gzip.Gzip.gunzip;$anon.feedEmpty.state">state</a>: <a href="#play.filters.gzip.Gzip.gunzip;State" title="State">State</a>, <a title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]" id="play.filters.gzip.Gzip.gunzip;$anon.feedEmpty.k">k</a>: <span title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">K</span><span class="delimiter">[</span>Bytes, A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#play.filters.gzip.Gzip.gunzip;$anon.feedEmpty;$anon" title="play.filters.gzip.Gzip.CheckDoneBytes" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.filters.gzip.Gzip.CheckDoneBytes" id="play.filters.gzip.Gzip.gunzip;$anon.feedEmpty;$anon">CheckDoneBytes</a> <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="[B](k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]]" id="play.filters.gzip.Gzip.gunzip;$anon.feedEmpty;$anon.continue">continue</a><span class="delimiter">[</span><a title="" id="play.filters.gzip.Gzip.gunzip;$anon.feedEmpty;$anon.continue;B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]" id="play.filters.gzip.Gzip.gunzip;$anon.feedEmpty;$anon.continue.k">k</a>: <span title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]">K</span><span class="delimiter">[</span>Bytes, B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]]">Cont</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.step" title="(state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B])play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]]">step</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.feedEmpty.state" title="State">state</a>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.feedEmpty;$anon.continue.k" title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,B]">k</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <a href="../../../../play-iteratees/play/api/libs/iteratee/Enumeratee.scala.html#play.api.libs.iteratee;Enumeratee.&>" title="(inner: play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">&amp;&gt;</a> <a href="#play.filters.gzip.Gzip.gunzip;$anon.feedEmpty.k" title="(v1: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">k</a><span class="delimiter">(</span><a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.Empty" title="play.api.libs.iteratee.Input.Empty.type">Empty</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="[A](a: A)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]" id="play.filters.gzip.Gzip.gunzip;$anon.done">done</a><span class="delimiter">[</span><a title="" id="play.filters.gzip.Gzip.gunzip;$anon.done$default$1;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="play.filters.gzip.Gzip.gunzip;$anon.done$default$1">a</a>: <a href="#play.filters.gzip.Gzip.gunzip;$anon.done$default$1;A" title="A">A</a> = <span title="Unit.type">Unit</span><span class="delimiter">)</span>: <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">Iteratee</a><span class="delimiter">[</span>Bytes, A<span class="delimiter">]</span> = <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="[E, A](a: A, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,A]">Done</a><a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Done.apply$default$2" title="(a: A, e: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]" class="delimiter">[</a><span title="play.filters.gzip.Gzip.Bytes">Bytes</span>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.done$default$1;A" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.done$default$1" title="A">a</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="[A](state: State, k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A], input: play.filters.gzip.Gzip.Bytes)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]" id="play.filters.gzip.Gzip.gunzip;$anon.finish">finish</a><span class="delimiter">[</span><a title="" id="play.filters.gzip.Gzip.gunzip;$anon.finish;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="State" id="play.filters.gzip.Gzip.gunzip;$anon.finish.state">state</a>: <a href="#play.filters.gzip.Gzip.gunzip;State" title="State">State</a>, <a title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]" id="play.filters.gzip.Gzip.gunzip;$anon.finish.k">k</a>: <span title="play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">K</span><span class="delimiter">[</span>Bytes, A<span class="delimiter">]</span>, <a title="play.filters.gzip.Gzip.Bytes" id="play.filters.gzip.Gzip.gunzip;$anon.finish.input">input</a>: <span title="play.filters.gzip.Gzip.Bytes">Bytes</span><span class="delimiter">)</span>: <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">Iteratee</a><span class="delimiter">[</span>Bytes, Iteratee<span class="delimiter">[</span>Bytes, A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="comment">// Get the left over bytes from the inflater</span>
        <span class="keyword">val</span> <a title="play.api.libs.iteratee.Iteratee[Array[Byte],Unit.type]" id="play.filters.gzip.Gzip.gunzip;$anon.finish.leftOver">leftOver</a> = <span title="play.api.libs.iteratee.Iteratee[Array[Byte],Unit.type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.finish.input" title="play.filters.gzip.Gzip.Bytes">input</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&gt;</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.finish.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gunzip;State.inflater" title="=&gt; java.util.zip.Inflater">inflater</a>.<span title="()Int">getRemaining</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: Unit.type, e: play.api.libs.iteratee.Input[Array[Byte]])play.api.libs.iteratee.Iteratee[Array[Byte],Unit.type]">Done</a><span class="delimiter">(</span><span title="Unit.type">Unit</span>, <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input;El" title="(e: Array[Byte])play.api.libs.iteratee.Input.El[Array[Byte]]">El</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.finish.input" title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]">input</a>.<span title="(n: Int)Array[Byte]">takeRight</span><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.finish.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gunzip;State.inflater" title="=&gt; java.util.zip.Inflater">inflater</a>.<span title="()Int">getRemaining</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#play.filters.gzip.Gzip.gunzip;$anon.done" title="(a: Unit.type)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit.type]">done</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="comment">// Read the trailer, before sending an EOF</span>
        <span class="keyword">for</span> <span class="delimiter">{</span>
          <a title="Unit.type" id="play.filters.gzip.Gzip.gunzip;$anon.finish.$anonfun._">_</a> &lt;- <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.flatMap" title="(f: Unit.type =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[Array[Byte],play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">leftOver</a>
          <a title="Unit" id="play.filters.gzip.Gzip.gunzip;$anon.finish.$anonfun.$anonfun._">_</a> &lt;- <a href="#play.filters.gzip.Gzip.gunzip;$anon.readTrailer" title="(state: State)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit]">readTrailer</a><a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.flatMap" title="(f: Unit =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]" class="delimiter">(</a><a href="#play.filters.gzip.Gzip.gunzip;$anon.finish.state" title="State">state</a><span class="delimiter">)</span>
          <a title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]" id="play.filters.gzip.Gzip.gunzip;$anon.finish.$anonfun.$anonfun.$anonfun.done">done</a> &lt;- <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A], e: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]">Done</a><a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.map" title="(f: play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]]" class="delimiter">(</a><a href="#play.filters.gzip.Gzip.gunzip;$anon.finish.k" title="(v1: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">k</a><span class="delimiter">(</span><a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.EOF" title="play.api.libs.iteratee.Input.EOF.type">EOF</a><span class="delimiter">)</span>, <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.EOF" title="play.api.libs.iteratee.Input.EOF.type">EOF</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.finish.$anonfun.$anonfun.$anonfun.done" title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,A]">done</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="=&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,State]" id="play.filters.gzip.Gzip.gunzip;$anon.readHeader">readHeader</a>: <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,State]">Iteratee</a><span class="delimiter">[</span>Bytes, State<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="comment">// Parse header</span>
        <span class="keyword">val</span> <a title="java.util.zip.CRC32" id="play.filters.gzip.Gzip.gunzip;$anon.readHeader.crc">crc</a> = <span title="java.util.zip.CRC32" class="keyword">new</span> <span title="java.util.zip.CRC32">CRC32</span>
        <span class="keyword">for</span> <span class="delimiter">{</span>
          <a title="play.filters.gzip.Gzip.Bytes" id="play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.headerBytes">headerBytes</a> &lt;- <a href="#play.filters.gzip.Gzip.gunzip;$anon.take" title="(n: Int, error: String, crc: java.util.zip.CRC32, bytes: play.filters.gzip.Gzip.Bytes)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.filters.gzip.Gzip.Bytes]">take</a><a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.flatMap" title="(f: play.filters.gzip.Gzip.Bytes =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,State])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,State]" class="delimiter">(</a><span title="Int(10)" class="int">10</span>, <span title="String(&quot;Not enough bytes for gzip file&quot;)" class="string">&quot;Not enough bytes for gzip file&quot;</span>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.readHeader.crc" title="java.util.zip.CRC32">crc</a><span class="delimiter">)</span>
          <a title="Header" id="play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.$anonfun.header">header</a> &lt;- <a href="#play.filters.gzip.Gzip.gunzip;$anon.done" title="(a: Header)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Header]">done</a><a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.flatMap" title="(f: Header =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,State])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,State]" class="delimiter">(</a><a href="#play.filters.gzip.Gzip.gunzip;Header.readResolve" title="(magic: Short, compressionMethod: Byte, flags: Byte)Header">Header</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.littleEndianToShort" title="(bytes: play.filters.gzip.Gzip.Bytes, offset: Int)Short">littleEndianToShort</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.headerBytes" title="play.filters.gzip.Gzip.Bytes">headerBytes</a><span class="delimiter">)</span>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.headerBytes" title="(i: Int)Byte">headerBytes</a><span class="delimiter">(</span><span title="Int(2)" class="int">2</span><span class="delimiter">)</span>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.headerBytes" title="(i: Int)Byte">headerBytes</a><span class="delimiter">(</span><span title="Int(3)" class="int">3</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a title="Unit.type" id="play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.$anonfun.$anonfun._">_</a> &lt;- <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.flatMap" title="(f: Unit.type =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,State])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,State]" class="keyword">if</a> <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.$anonfun.header" title="Header">header</a>.<a href="#play.filters.gzip.Gzip.gunzip;Header.magic" title="=&gt; Short">magic</a> <span title="(x: Short)Boolean">!=</span> <a href="#play.filters.gzip.Gzip.GzipMagic" title="=&gt; Int">GzipMagic</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Short" class="delimiter">[</span><span title="Short">Short</span><span class="delimiter">]</span><span class="delimiter">)</span> <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Error.apply" title="(msg: String, e: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Nothing]">Error</a><span class="delimiter">(</span><span title="String(&quot;Not a gzip file, found header&quot;)" class="string">&quot;Not a gzip file, found header&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.headerBytes" title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]">headerBytes</a>.<span title="(n: Int)Array[Byte]">take</span><span title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]" class="delimiter">(</span><span title="Int(2)" class="int">2</span><span class="delimiter">)</span>.<span title="(f: Byte =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Array[Byte],String,Array[String]])Array[String]">map</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><a title="Byte" id="play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.$anonfun.$anonfun.b">b</a> =&gt; <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%02X&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.$anonfun.$anonfun.b" title="Byte">b</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>, <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input;El" title="(e: play.filters.gzip.Gzip.Bytes)play.api.libs.iteratee.Input.El[play.filters.gzip.Gzip.Bytes]">El</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.headerBytes" title="play.filters.gzip.Gzip.Bytes">headerBytes</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.done" title="(a: Unit.type)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit.type]">done</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a title="Unit.type" id="play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.$anonfun.$anonfun.$anonfun._">_</a> &lt;- <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.flatMap" title="(f: Unit.type =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,State])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,State]" class="keyword">if</a> <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.$anonfun.header" title="Header">header</a>.<a href="#play.filters.gzip.Gzip.gunzip;Header.compressionMethod" title="=&gt; Byte">compressionMethod</a> <span title="(x: Int)Boolean">!=</span> Deflater.<span title="Int(8)">DEFLATED</span><span class="delimiter">)</span> <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Error.apply" title="(msg: String, e: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Nothing]">Error</a><span class="delimiter">(</span><span title="String(&quot;Unsupported compression method&quot;)" class="string">&quot;Unsupported compression method&quot;</span>, <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input;El" title="(e: play.filters.gzip.Gzip.Bytes)play.api.libs.iteratee.Input.El[play.filters.gzip.Gzip.Bytes]">El</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.headerBytes" title="play.filters.gzip.Gzip.Bytes">headerBytes</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.done" title="(a: Unit.type)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit.type]">done</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a title="Int" id="play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.efLength">efLength</a> &lt;- <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.flatMap" title="(f: Int =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,State])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,State]" class="keyword">if</a> <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.$anonfun.header" title="Header">header</a>.<a href="#play.filters.gzip.Gzip.gunzip;Header.hasExtraField" title="=&gt; Boolean">hasExtraField</a><span class="delimiter">)</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.readShort" title="(crc: java.util.zip.CRC32)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Int]">readShort</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.readHeader.crc" title="java.util.zip.CRC32">crc</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.done" title="(a: Int)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Int]">done</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
          <a title="Any" id="play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun._">_</a> &lt;- <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.flatMap" title="(f: Any =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,State])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,State]" class="keyword">if</a> <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.$anonfun.header" title="Header">header</a>.<a href="#play.filters.gzip.Gzip.gunzip;Header.hasExtraField" title="=&gt; Boolean">hasExtraField</a><span class="delimiter">)</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.drop" title="(n: Int, error: String, crc: java.util.zip.CRC32)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit]">drop</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.efLength" title="Int">efLength</a>, <span title="String(&quot;Not enough bytes for extra field&quot;)" class="string">&quot;Not enough bytes for extra field&quot;</span>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.readHeader.crc" title="java.util.zip.CRC32">crc</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.done" title="(a: Unit.type)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit.type]">done</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a title="Any" id="play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun._">_</a> &lt;- <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.flatMap" title="(f: Any =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,State])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,State]" class="keyword">if</a> <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.$anonfun.header" title="Header">header</a>.<a href="#play.filters.gzip.Gzip.gunzip;Header.hasFilename" title="=&gt; Boolean">hasFilename</a><span class="delimiter">)</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.dropWhile" title="(p: Byte =&gt; Boolean, error: String, crc: java.util.zip.CRC32)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit]">dropWhile</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.x$1" title="Byte">_</a> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0x00</span>, <span title="String(&quot;EOF found in middle of file name&quot;)" class="string">&quot;EOF found in middle of file name&quot;</span>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.readHeader.crc" title="java.util.zip.CRC32">crc</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.done" title="(a: Unit.type)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit.type]">done</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a title="Any" id="play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun._">_</a> &lt;- <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.flatMap" title="(f: Any =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,State])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,State]" class="keyword">if</a> <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.$anonfun.header" title="Header">header</a>.<a href="#play.filters.gzip.Gzip.gunzip;Header.hasComment" title="=&gt; Boolean">hasComment</a><span class="delimiter">)</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.dropWhile" title="(p: Byte =&gt; Boolean, error: String, crc: java.util.zip.CRC32)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit]">dropWhile</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.x$2" title="Byte">_</a> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0x00</span>, <span title="String(&quot;EOF found in middle of comment&quot;)" class="string">&quot;EOF found in middle of comment&quot;</span>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.readHeader.crc" title="java.util.zip.CRC32">crc</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.done" title="(a: Unit.type)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit.type]">done</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a title="Int" id="play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.headerCrc">headerCrc</a> &lt;- <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.flatMap" title="(f: Int =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,State])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,State]" class="keyword">if</a> <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.$anonfun.header" title="Header">header</a>.<a href="#play.filters.gzip.Gzip.gunzip;Header.hasCrc" title="=&gt; Boolean">hasCrc</a><span class="delimiter">)</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.readShort" title="(crc: java.util.zip.CRC32)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Int]">readShort</a><span class="delimiter">(</span><span title="java.util.zip.CRC32" class="keyword">new</span> <span title="java.util.zip.CRC32">CRC32</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.done" title="(a: Int)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Int]">done</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
          <a title="Unit.type" id="play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun._">_</a> &lt;- <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.map" title="(f: Unit.type =&gt; State)(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,State]" class="keyword">if</a> <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.$anonfun.header" title="Header">header</a>.<a href="#play.filters.gzip.Gzip.gunzip;Header.hasCrc" title="=&gt; Boolean">hasCrc</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.readHeader.crc" title="java.util.zip.CRC32">crc</a>.<span title="()Long">getValue</span> <span title="(x: Int)Long">&amp;</span> <span title="Int(65535)" class="int">0xffff</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.readHeader.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.$anonfun.headerCrc" title="Int">headerCrc</a><span class="delimiter">)</span> <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Error.apply" title="[E](msg: String, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Nothing]">Error</a><span title="(msg: String, e: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Nothing]" class="delimiter">[</span><span title="play.filters.gzip.Gzip.Bytes">Bytes</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="String(&quot;Header CRC failed&quot;)" class="string">&quot;Header CRC failed&quot;</span>, <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.Empty" title="play.api.libs.iteratee.Input.Empty.type">Empty</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.done" title="(a: Unit.type)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit.type]">done</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">yield</span> <span title="State" class="keyword">new</span> <a href="#play.filters.gzip.Gzip.gunzip;State" title="State">State</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">/**
       * Read and validate the trailer.  Returns a done iteratee if the trailer is valid, or error if not.
       */</span>
      <span class="keyword">def</span> <a title="(state: State)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit]" id="play.filters.gzip.Gzip.gunzip;$anon.readTrailer">readTrailer</a><span class="delimiter">(</span><a title="State" id="play.filters.gzip.Gzip.gunzip;$anon.readTrailer.state">state</a>: <a href="#play.filters.gzip.Gzip.gunzip;State" title="State">State</a><span class="delimiter">)</span>: <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit]">Iteratee</a><span class="delimiter">[</span>Bytes, Unit<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="java.util.zip.CRC32" id="play.filters.gzip.Gzip.gunzip;$anon.readTrailer.dummy">dummy</a> = <span title="java.util.zip.CRC32" class="keyword">new</span> <span title="java.util.zip.CRC32">CRC32</span>
        <span class="keyword">for</span> <span class="delimiter">{</span>
          <a title="Int" id="play.filters.gzip.Gzip.gunzip;$anon.readTrailer.$anonfun.crc">crc</a> &lt;- <a href="#play.filters.gzip.Gzip.gunzip;$anon.readInt" title="(error: String, crc: java.util.zip.CRC32)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Int]">readInt</a><a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.flatMap" title="(f: Int =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit]" class="delimiter">(</a><span title="String(&quot;Premature EOF before gzip CRC&quot;)" class="string">&quot;Premature EOF before gzip CRC&quot;</span>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.readTrailer.dummy" title="java.util.zip.CRC32">dummy</a><span class="delimiter">)</span>
          <a title="Unit.type" id="play.filters.gzip.Gzip.gunzip;$anon.readTrailer.$anonfun.$anonfun._">_</a> &lt;- <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.flatMap" title="(f: Unit.type =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit]" class="keyword">if</a> <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.readTrailer.$anonfun.crc" title="Int">crc</a> <span title="(x: Int)Boolean">!=</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.readTrailer.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gunzip;State.crc" title="=&gt; java.util.zip.CRC32">crc</a>.<span title="()Long">getValue</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Int" class="delimiter">[</span><span title="Int">Int</span><span class="delimiter">]</span><span class="delimiter">)</span> <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Error.apply" title="(msg: String, e: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Nothing]">Error</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;CRC failed, was %X, expected %X&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.readTrailer.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gunzip;State.crc" title="=&gt; java.util.zip.CRC32">crc</a>.<span title="()Long">getValue</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Int" class="delimiter">[</span><span title="Int">Int</span><span class="delimiter">]</span>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.readTrailer.$anonfun.crc" title="Int">crc</a><span class="delimiter">)</span>, <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input;El" title="(e: play.filters.gzip.Gzip.Bytes)play.api.libs.iteratee.Input.El[play.filters.gzip.Gzip.Bytes]">El</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.intToLittleEndian" title="(i: Int, out: play.filters.gzip.Gzip.Bytes, offset: Int)play.filters.gzip.Gzip.Bytes">intToLittleEndian</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.readTrailer.$anonfun.crc" title="Int">crc</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.done" title="(a: Unit.type)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit.type]">done</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a title="Int" id="play.filters.gzip.Gzip.gunzip;$anon.readTrailer.$anonfun.$anonfun.$anonfun.length">length</a> &lt;- <a href="#play.filters.gzip.Gzip.gunzip;$anon.readInt" title="(error: String, crc: java.util.zip.CRC32)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Int]">readInt</a><a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.flatMap" title="(f: Int =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit]" class="delimiter">(</a><span title="String(&quot;Premature EOF before gzip total length&quot;)" class="string">&quot;Premature EOF before gzip total length&quot;</span>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.readTrailer.dummy" title="java.util.zip.CRC32">dummy</a><span class="delimiter">)</span>
          <a title="Unit.type" id="play.filters.gzip.Gzip.gunzip;$anon.readTrailer.$anonfun.$anonfun.$anonfun.$anonfun._">_</a> &lt;- <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.map" title="(f: Unit.type =&gt; Unit)(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit]" class="keyword">if</a> <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.readTrailer.$anonfun.$anonfun.$anonfun.length" title="Int">length</a> <span title="(x: Int)Boolean">!=</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.readTrailer.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gunzip;State.inflater" title="=&gt; java.util.zip.Inflater">inflater</a>.<span title="()Int">getTotalOut</span><span class="delimiter">)</span> <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Error.apply" title="(msg: String, e: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Nothing]">Error</a><span class="delimiter">(</span><span title="String(&quot;Length check failed&quot;)" class="string">&quot;Length check failed&quot;</span>, <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input;El" title="(e: play.filters.gzip.Gzip.Bytes)play.api.libs.iteratee.Input.El[play.filters.gzip.Gzip.Bytes]">El</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.intToLittleEndian" title="(i: Int, out: play.filters.gzip.Gzip.Bytes, offset: Int)play.filters.gzip.Gzip.Bytes">intToLittleEndian</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.readTrailer.$anonfun.$anonfun.$anonfun.length" title="Int">length</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.done" title="(a: Unit.type)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit.type]">done</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
          <a href="#play.filters.gzip.Gzip.gunzip;$anon.readTrailer.state" title="State">state</a>.<a href="#play.filters.gzip.Gzip.gunzip;State.inflater" title="=&gt; java.util.zip.Inflater">inflater</a>.<span title="()Unit">end</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#play.filters.gzip.Gzip.gunzip;$anon.done" title="(a: Unit.type)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit.type]">done</a><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(crc: java.util.zip.CRC32)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Int]" id="play.filters.gzip.Gzip.gunzip;$anon.readShort">readShort</a><span class="delimiter">(</span><a title="java.util.zip.CRC32" id="play.filters.gzip.Gzip.gunzip;$anon.readShort.crc">crc</a>: <span title="java.util.zip.CRC32">CRC32</span><span class="delimiter">)</span>: <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Int]">Iteratee</a><span class="delimiter">[</span>Bytes, Int<span class="delimiter">]</span> = <span class="keyword">for</span> <span class="delimiter">{</span>
        <a title="play.filters.gzip.Gzip.Bytes" id="play.filters.gzip.Gzip.gunzip;$anon.readShort.$anonfun.bytes">bytes</a> &lt;- <a href="#play.filters.gzip.Gzip.gunzip;$anon.take" title="(n: Int, error: String, crc: java.util.zip.CRC32, bytes: play.filters.gzip.Gzip.Bytes)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.filters.gzip.Gzip.Bytes]">take</a><a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.map" title="(f: play.filters.gzip.Gzip.Bytes =&gt; Int)(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Int]" class="delimiter">(</a><span title="Int(2)" class="int">2</span>, <span title="String(&quot;Not enough bytes for extra field length&quot;)" class="string">&quot;Not enough bytes for extra field length&quot;</span>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.readShort.crc" title="java.util.zip.CRC32">crc</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
        <a href="#play.filters.gzip.Gzip.littleEndianToShort" title="(bytes: play.filters.gzip.Gzip.Bytes, offset: Int)Short">littleEndianToShort</a><span title="=&gt; Int" class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.readShort.$anonfun.bytes" title="play.filters.gzip.Gzip.Bytes">bytes</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(error: String, crc: java.util.zip.CRC32)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Int]" id="play.filters.gzip.Gzip.gunzip;$anon.readInt">readInt</a><span class="delimiter">(</span><a title="String" id="play.filters.gzip.Gzip.gunzip;$anon.readInt.error">error</a>: <span title="String">String</span>, <a title="java.util.zip.CRC32" id="play.filters.gzip.Gzip.gunzip;$anon.readInt.crc">crc</a>: <span title="java.util.zip.CRC32">CRC32</span><span class="delimiter">)</span>: <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Int]">Iteratee</a><span class="delimiter">[</span>Bytes, Int<span class="delimiter">]</span> = <span class="keyword">for</span> <span class="delimiter">{</span>
        <a title="play.filters.gzip.Gzip.Bytes" id="play.filters.gzip.Gzip.gunzip;$anon.readInt.$anonfun.bytes">bytes</a> &lt;- <a href="#play.filters.gzip.Gzip.gunzip;$anon.take" title="(n: Int, error: String, crc: java.util.zip.CRC32, bytes: play.filters.gzip.Gzip.Bytes)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.filters.gzip.Gzip.Bytes]">take</a><a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.map" title="(f: play.filters.gzip.Gzip.Bytes =&gt; Int)(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Int]" class="delimiter">(</a><span title="Int(4)" class="int">4</span>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.readInt.error" title="String">error</a>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.readInt.crc" title="java.util.zip.CRC32">crc</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
        <a href="#play.filters.gzip.Gzip.littleEndianToInt" title="(bytes: play.filters.gzip.Gzip.Bytes, offset: Int)Int">littleEndianToInt</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.readInt.$anonfun.bytes" title="play.filters.gzip.Gzip.Bytes">bytes</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(n: Int, error: String, crc: java.util.zip.CRC32, bytes: play.filters.gzip.Gzip.Bytes)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.filters.gzip.Gzip.Bytes]" id="play.filters.gzip.Gzip.gunzip;$anon.take">take</a><span class="delimiter">(</span><a title="Int" id="play.filters.gzip.Gzip.gunzip;$anon.take.n">n</a>: <span title="Int">Int</span>, <a title="String" id="play.filters.gzip.Gzip.gunzip;$anon.take.error">error</a>: <span title="String">String</span>, <a title="java.util.zip.CRC32" id="play.filters.gzip.Gzip.gunzip;$anon.take.crc">crc</a>: <span title="java.util.zip.CRC32">CRC32</span>, <a title="play.filters.gzip.Gzip.Bytes" id="play.filters.gzip.Gzip.gunzip;$anon.take$default$4">bytes</a>: <span title="play.filters.gzip.Gzip.Bytes">Bytes</span> = <span title="Array[Byte]" class="keyword">new</span> <a href="#play.filters.gzip.Gzip;Bytes" title="Array[Byte]">Bytes</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>: <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.filters.gzip.Gzip.Bytes]">Iteratee</a><span class="delimiter">[</span>Bytes, Bytes<span class="delimiter">]</span> = <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.filters.gzip.Gzip.Bytes])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.filters.gzip.Gzip.Bytes]">Cont</a> <a href="#play.filters.gzip.Gzip.gunzip;$anon.take.$anonfun.x0$4" title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.filters.gzip.Gzip.Bytes]" class="delimiter">{</a>
        <span class="keyword">case</span> <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.EOF" title="play.api.libs.iteratee.Input.EOF.type">EOF</a> =&gt; <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Error.apply" title="(msg: String, e: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Nothing]">Error</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.take.error" title="String">error</a>, <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.EOF" title="play.api.libs.iteratee.Input.EOF.type">EOF</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.Empty" title="play.api.libs.iteratee.Input.Empty.type">Empty</a> =&gt; <a href="#play.filters.gzip.Gzip.gunzip;$anon.take" title="(n: Int, error: String, crc: java.util.zip.CRC32, bytes: play.filters.gzip.Gzip.Bytes)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.filters.gzip.Gzip.Bytes]">take</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.take.n" title="Int">n</a>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.take.error" title="String">error</a>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.take.crc" title="java.util.zip.CRC32">crc</a>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.take$default$4" title="play.filters.gzip.Gzip.Bytes">bytes</a><span class="delimiter">)</span>
        <span class="keyword">case</span> Input.El<span class="delimiter">(</span><a title="play.filters.gzip.Gzip.Bytes" id="play.filters.gzip.Gzip.gunzip;$anon.take.$anonfun.b">b</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="(Array[Byte], Array[Byte])" id="play.filters.gzip.Gzip.gunzip;$anon.take.$anonfun.splitted">splitted</a> = <a href="#play.filters.gzip.Gzip.gunzip;$anon.take.$anonfun.b" title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]">b</a>.<span title="(n: Int)(Array[Byte], Array[Byte])">splitAt</span><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.take.n" title="Int">n</a><span class="delimiter">)</span>
          <a href="#play.filters.gzip.Gzip.gunzip;$anon.take.crc" title="java.util.zip.CRC32">crc</a>.<span title="(x$1: Array[Byte])Unit">update</span><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.take.$anonfun.splitted" title="(Array[Byte], Array[Byte])">splitted</a>.<span title="=&gt; Array[Byte]">_1</span><span class="delimiter">)</span>
          <a href="#play.filters.gzip.Gzip.gunzip;$anon.take.$anonfun.splitted" title="(Array[Byte], Array[Byte])">splitted</a> <span title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.filters.gzip.Gzip.Bytes]" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span class="delimiter">(</span><a title="Array[Byte]" id="play.filters.gzip.Gzip.gunzip;$anon.take.$anonfun.needed">needed</a>, <a title="Array[Byte]" id="play.filters.gzip.Gzip.gunzip;$anon.take.$anonfun.left">left</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.take.$anonfun.needed" title="Array[Byte]">needed</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.take.n" title="Int">n</a> =&gt; <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: play.filters.gzip.Gzip.Bytes, e: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.filters.gzip.Gzip.Bytes]">Done</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.take$default$4" title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]">bytes</a> <span title="(that: scala.collection.GenTraversableOnce[Byte])(implicit bf: scala.collection.generic.CanBuildFrom[Array[Byte],Byte,play.filters.gzip.Gzip.Bytes])play.filters.gzip.Gzip.Bytes">++</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.take.$anonfun.needed" title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]">needed</a>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.maybeEmpty" title="(bytes: play.filters.gzip.Gzip.Bytes)Product with Serializable with play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes]">maybeEmpty</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.take.$anonfun.left" title="Array[Byte]">left</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span class="delimiter">(</span><a title="Array[Byte]" id="play.filters.gzip.Gzip.gunzip;$anon.take.$anonfun.partial">partial</a>, _<span class="delimiter">)</span> =&gt; <a href="#play.filters.gzip.Gzip.gunzip;$anon.take" title="(n: Int, error: String, crc: java.util.zip.CRC32, bytes: play.filters.gzip.Gzip.Bytes)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,play.filters.gzip.Gzip.Bytes]">take</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.take.n" title="Int">n</a> <span title="(x: Int)Int">-</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.take.$anonfun.partial" title="Array[Byte]">partial</a>.<span title="=&gt; Int">length</span>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.take.error" title="String">error</a>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.take.crc" title="java.util.zip.CRC32">crc</a>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.take$default$4" title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]">bytes</a> <span title="(that: scala.collection.GenTraversableOnce[Byte])(implicit bf: scala.collection.generic.CanBuildFrom[Array[Byte],Byte,play.filters.gzip.Gzip.Bytes])play.filters.gzip.Gzip.Bytes">++</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.take.$anonfun.partial" title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]">partial</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(n: Int, error: String, crc: java.util.zip.CRC32)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit]" id="play.filters.gzip.Gzip.gunzip;$anon.drop">drop</a><span class="delimiter">(</span><a title="Int" id="play.filters.gzip.Gzip.gunzip;$anon.drop.n">n</a>: <span title="Int">Int</span>, <a title="String" id="play.filters.gzip.Gzip.gunzip;$anon.drop.error">error</a>: <span title="String">String</span>, <a title="java.util.zip.CRC32" id="play.filters.gzip.Gzip.gunzip;$anon.drop.crc">crc</a>: <span title="java.util.zip.CRC32">CRC32</span><span class="delimiter">)</span>: <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit]">Iteratee</a><span class="delimiter">[</span>Bytes, Unit<span class="delimiter">]</span> = <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit]">Cont</a> <a href="#play.filters.gzip.Gzip.gunzip;$anon.drop.$anonfun.x0$5" title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit]" class="delimiter">{</a>
        <span class="keyword">case</span> <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.EOF" title="play.api.libs.iteratee.Input.EOF.type">EOF</a> =&gt; <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Error.apply" title="(msg: String, e: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Nothing]">Error</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.drop.error" title="String">error</a>, <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.EOF" title="play.api.libs.iteratee.Input.EOF.type">EOF</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.Empty" title="play.api.libs.iteratee.Input.Empty.type">Empty</a> =&gt; <a href="#play.filters.gzip.Gzip.gunzip;$anon.drop" title="(n: Int, error: String, crc: java.util.zip.CRC32)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit]">drop</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.drop.n" title="Int">n</a>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.drop.error" title="String">error</a>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.drop.crc" title="java.util.zip.CRC32">crc</a><span class="delimiter">)</span>
        <span class="keyword">case</span> Input.El<span class="delimiter">(</span><a title="play.filters.gzip.Gzip.Bytes" id="play.filters.gzip.Gzip.gunzip;$anon.drop.$anonfun.b">b</a><span class="delimiter">)</span> =&gt; <span title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit]" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.drop.$anonfun.b" title="play.filters.gzip.Gzip.Bytes">b</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&gt;=</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.drop.n" title="Int">n</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="(Array[Byte], Array[Byte])" id="play.filters.gzip.Gzip.gunzip;$anon.drop.$anonfun.splitted">splitted</a> = <a href="#play.filters.gzip.Gzip.gunzip;$anon.drop.$anonfun.b" title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]">b</a>.<span title="(n: Int)(Array[Byte], Array[Byte])">splitAt</span><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.drop.n" title="Int">n</a><span class="delimiter">)</span>
          <a href="#play.filters.gzip.Gzip.gunzip;$anon.drop.crc" title="java.util.zip.CRC32">crc</a>.<span title="(x$1: Array[Byte])Unit">update</span><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.drop.$anonfun.splitted" title="(Array[Byte], Array[Byte])">splitted</a>.<span title="=&gt; Array[Byte]">_1</span><span class="delimiter">)</span>
          <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: Unit, e: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit]">Done</a><span class="delimiter">(</span><span title="Unit.type">Unit</span>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.maybeEmpty" title="(bytes: play.filters.gzip.Gzip.Bytes)Product with Serializable with play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes]">maybeEmpty</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.drop.$anonfun.splitted" title="(Array[Byte], Array[Byte])">splitted</a>.<span title="=&gt; Array[Byte]">_2</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#play.filters.gzip.Gzip.gunzip;$anon.drop.crc" title="java.util.zip.CRC32">crc</a>.<span title="(x$1: Array[Byte])Unit">update</span><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.drop.$anonfun.b" title="play.filters.gzip.Gzip.Bytes">b</a><span class="delimiter">)</span>
          <a href="#play.filters.gzip.Gzip.gunzip;$anon.drop" title="(n: Int, error: String, crc: java.util.zip.CRC32)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit]">drop</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.drop.$anonfun.b" title="play.filters.gzip.Gzip.Bytes">b</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.drop.n" title="Int">n</a>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.drop.error" title="String">error</a>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.drop.crc" title="java.util.zip.CRC32">crc</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(p: Byte =&gt; Boolean, error: String, crc: java.util.zip.CRC32)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit]" id="play.filters.gzip.Gzip.gunzip;$anon.dropWhile">dropWhile</a><span class="delimiter">(</span><a title="Byte =&gt; Boolean" id="play.filters.gzip.Gzip.gunzip;$anon.dropWhile.p">p</a>: Byte =&gt; Boolean, <a title="String" id="play.filters.gzip.Gzip.gunzip;$anon.dropWhile.error">error</a>: <span title="String">String</span>, <a title="java.util.zip.CRC32" id="play.filters.gzip.Gzip.gunzip;$anon.dropWhile.crc">crc</a>: <span title="java.util.zip.CRC32">CRC32</span><span class="delimiter">)</span>: <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit]">Iteratee</a><span class="delimiter">[</span>Bytes, Unit<span class="delimiter">]</span> = <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes] =&gt; play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit]">Cont</a> <a href="#play.filters.gzip.Gzip.gunzip;$anon.dropWhile.$anonfun.x0$6" title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit]" class="delimiter">{</a>
        <span class="keyword">case</span> <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.EOF" title="play.api.libs.iteratee.Input.EOF.type">EOF</a> =&gt; <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Error.apply" title="(msg: String, e: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Nothing]">Error</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.dropWhile.error" title="String">error</a>, <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.EOF" title="play.api.libs.iteratee.Input.EOF.type">EOF</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.Empty" title="play.api.libs.iteratee.Input.Empty.type">Empty</a> =&gt; <a href="#play.filters.gzip.Gzip.gunzip;$anon.dropWhile" title="(p: Byte =&gt; Boolean, error: String, crc: java.util.zip.CRC32)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit]">dropWhile</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.dropWhile.p" title="Byte =&gt; Boolean">p</a>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.dropWhile.error" title="String">error</a>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.dropWhile.crc" title="java.util.zip.CRC32">crc</a><span class="delimiter">)</span>
        <span class="keyword">case</span> Input.El<span class="delimiter">(</span><a title="play.filters.gzip.Gzip.Bytes" id="play.filters.gzip.Gzip.gunzip;$anon.dropWhile.$anonfun.b">b</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Array[Byte]" id="play.filters.gzip.Gzip.gunzip;$anon.dropWhile.$anonfun.dropped">dropped</a> = <a href="#play.filters.gzip.Gzip.gunzip;$anon.dropWhile.$anonfun.b" title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]">b</a>.<span title="(p: Byte =&gt; Boolean)Array[Byte]">dropWhile</span><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.dropWhile.p" title="Byte =&gt; Boolean">p</a><span class="delimiter">)</span>
          <a href="#play.filters.gzip.Gzip.gunzip;$anon.dropWhile.crc" title="java.util.zip.CRC32">crc</a>.<span title="(x$1: Array[Byte], x$2: Int, x$3: Int)Unit">update</span><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.dropWhile.$anonfun.b" title="play.filters.gzip.Gzip.Bytes">b</a>, <span title="Int(0)" class="int">0</span>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.dropWhile.$anonfun.b" title="play.filters.gzip.Gzip.Bytes">b</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.dropWhile.$anonfun.dropped" title="Array[Byte]">dropped</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
          <a href="#play.filters.gzip.Gzip.gunzip;$anon.dropWhile.$anonfun.dropped" title="Array[Byte]">dropped</a> <span title="play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit]" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Array[Byte]" id="play.filters.gzip.Gzip.gunzip;$anon.dropWhile.$anonfun.all">all</a> <span class="keyword">if</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.dropWhile.$anonfun.all" title="Array[Byte]">all</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <a href="#play.filters.gzip.Gzip.gunzip;$anon.dropWhile.$anonfun.b" title="play.filters.gzip.Gzip.Bytes">b</a>.<span title="=&gt; Int">length</span> =&gt; <a href="#play.filters.gzip.Gzip.gunzip;$anon.dropWhile" title="(p: Byte =&gt; Boolean, error: String, crc: java.util.zip.CRC32)play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit]">dropWhile</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.gunzip;$anon.dropWhile.p" title="Byte =&gt; Boolean">p</a>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.dropWhile.error" title="String">error</a>, <a href="#play.filters.gzip.Gzip.gunzip;$anon.dropWhile.crc" title="java.util.zip.CRC32">crc</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Array[Byte]">left</span> <span class="keyword">if</span> <span title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]">left</span>.<span title="=&gt; Boolean">isEmpty</span> =&gt; <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: Unit, e: play.api.libs.iteratee.Input[play.filters.gzip.Gzip.Bytes])play.api.libs.iteratee.Iteratee[play.filters.gzip.Gzip.Bytes,Unit]">Done</a><span class="delimiter">(</span><span title="Unit.type">Unit</span>, <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.Empty" title="play.api.libs.iteratee.Input.Empty.type">Empty</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Array[Byte]">left</span> =&gt; <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: Unit, e: play.api.libs.iteratee.Input[Array[Byte]])play.api.libs.iteratee.Iteratee[Array[Byte],Unit]">Done</a><span class="delimiter">(</span><span title="Unit.type">Unit</span>, <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input;El" title="(e: Array[Byte])play.api.libs.iteratee.Input.El[Array[Byte]]">El</a><span class="delimiter">(</span><span title="Array[Byte]">left</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(i: Int, out: play.filters.gzip.Gzip.Bytes, offset: Int)play.filters.gzip.Gzip.Bytes" id="play.filters.gzip.Gzip.intToLittleEndian">intToLittleEndian</a><span class="delimiter">(</span><a title="Int" id="play.filters.gzip.Gzip.intToLittleEndian.i">i</a>: <span title="Int">Int</span>, <a title="play.filters.gzip.Gzip.Bytes" id="play.filters.gzip.Gzip.intToLittleEndian$default$2">out</a>: <span title="play.filters.gzip.Gzip.Bytes">Bytes</span> = <span title="Array[Byte]" class="keyword">new</span> <a href="#play.filters.gzip.Gzip;Bytes" title="Array[Byte]">Bytes</a><span class="delimiter">(</span><span title="Int(4)" class="int">4</span><span class="delimiter">)</span>, <a title="Int" id="play.filters.gzip.Gzip.intToLittleEndian$default$3">offset</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>: <span title="play.filters.gzip.Gzip.Bytes">Bytes</span> = <span class="delimiter">{</span>
    <a href="#play.filters.gzip.Gzip.intToLittleEndian$default$2" title="(i: Int, x: Byte)Unit">out</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.intToLittleEndian$default$3" title="Int">offset</a><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.intToLittleEndian.i" title="Int">i</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(255)" class="int">0xff</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Byte" class="delimiter">[</span><span title="Byte">Byte</span><span class="delimiter">]</span>
    <a href="#play.filters.gzip.Gzip.intToLittleEndian$default$2" title="(i: Int, x: Byte)Unit">out</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.intToLittleEndian$default$3" title="Int">offset</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.intToLittleEndian.i" title="Int">i</a> <span title="(x: Int)Int">&gt;&gt;</span> <span title="Int(8)" class="int">8</span> <span title="(x: Int)Int">&amp;</span> <span title="Int(255)" class="int">0xff</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Byte" class="delimiter">[</span><span title="Byte">Byte</span><span class="delimiter">]</span>
    <a href="#play.filters.gzip.Gzip.intToLittleEndian$default$2" title="(i: Int, x: Byte)Unit">out</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.intToLittleEndian$default$3" title="Int">offset</a> <span title="(x: Int)Int">+</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.intToLittleEndian.i" title="Int">i</a> <span title="(x: Int)Int">&gt;&gt;</span> <span title="Int(16)" class="int">16</span> <span title="(x: Int)Int">&amp;</span> <span title="Int(255)" class="int">0xff</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Byte" class="delimiter">[</span><span title="Byte">Byte</span><span class="delimiter">]</span>
    <a href="#play.filters.gzip.Gzip.intToLittleEndian$default$2" title="(i: Int, x: Byte)Unit">out</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.intToLittleEndian$default$3" title="Int">offset</a> <span title="(x: Int)Int">+</span> <span title="Int(3)" class="int">3</span><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.intToLittleEndian.i" title="Int">i</a> <span title="(x: Int)Int">&gt;&gt;</span> <span title="Int(24)" class="int">24</span> <span title="(x: Int)Int">&amp;</span> <span title="Int(255)" class="int">0xff</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Byte" class="delimiter">[</span><span title="Byte">Byte</span><span class="delimiter">]</span>
    <a href="#play.filters.gzip.Gzip.intToLittleEndian$default$2" title="play.filters.gzip.Gzip.Bytes">out</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(bytes: play.filters.gzip.Gzip.Bytes, offset: Int)Short" id="play.filters.gzip.Gzip.littleEndianToShort">littleEndianToShort</a><span class="delimiter">(</span><a title="play.filters.gzip.Gzip.Bytes" id="play.filters.gzip.Gzip.littleEndianToShort.bytes">bytes</a>: <span title="play.filters.gzip.Gzip.Bytes">Bytes</span>, <a title="Int" id="play.filters.gzip.Gzip.littleEndianToShort$default$2">offset</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>: <span title="Short">Short</span> = <span class="delimiter">{</span>
    <span class="delimiter">(</span><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.littleEndianToShort.bytes" title="(i: Int)Byte">bytes</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.littleEndianToShort$default$2" title="Int">offset</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Int)Int">&amp;</span> <span title="Int(255)" class="int">0xff</span><span class="delimiter">)</span> <span title="(x: Int)Int">&lt;&lt;</span> <span title="Int(8)" class="int">8</span> <span title="(x: Int)Int">|</span> <a href="#play.filters.gzip.Gzip.littleEndianToShort.bytes" title="(i: Int)Byte">bytes</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.littleEndianToShort$default$2" title="Int">offset</a><span class="delimiter">)</span> <span title="(x: Int)Int">&amp;</span> <span title="Int(255)" class="int">0xff</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Short" class="delimiter">[</span><span title="Short">Short</span><span class="delimiter">]</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(bytes: play.filters.gzip.Gzip.Bytes, offset: Int)Int" id="play.filters.gzip.Gzip.littleEndianToInt">littleEndianToInt</a><span class="delimiter">(</span><a title="play.filters.gzip.Gzip.Bytes" id="play.filters.gzip.Gzip.littleEndianToInt.bytes">bytes</a>: <span title="play.filters.gzip.Gzip.Bytes">Bytes</span>, <a title="Int" id="play.filters.gzip.Gzip.littleEndianToInt$default$2">offset</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
    <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.littleEndianToInt.bytes" title="(i: Int)Byte">bytes</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.littleEndianToInt$default$2" title="Int">offset</a> <span title="(x: Int)Int">+</span> <span title="Int(3)" class="int">3</span><span class="delimiter">)</span> <span title="(x: Int)Int">&amp;</span> <span title="Int(255)" class="int">0xff</span><span class="delimiter">)</span> <span title="(x: Int)Int">&lt;&lt;</span> <span title="Int(24)" class="int">24</span> <span title="(x: Int)Int">|</span>
      <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.littleEndianToInt.bytes" title="(i: Int)Byte">bytes</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.littleEndianToInt$default$2" title="Int">offset</a> <span title="(x: Int)Int">+</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <span title="(x: Int)Int">&amp;</span> <span title="Int(255)" class="int">0xff</span><span class="delimiter">)</span> <span title="(x: Int)Int">&lt;&lt;</span> <span title="Int(16)" class="int">16</span> <span title="(x: Int)Int">|</span>
      <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.littleEndianToInt.bytes" title="(i: Int)Byte">bytes</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.littleEndianToInt$default$2" title="Int">offset</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Int)Int">&amp;</span> <span title="Int(255)" class="int">0xff</span><span class="delimiter">)</span> <span title="(x: Int)Int">&lt;&lt;</span> <span title="Int(8)" class="int">8</span> <span title="(x: Int)Int">|</span>
      <span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.littleEndianToInt.bytes" title="(i: Int)Byte">bytes</a><span class="delimiter">(</span><a href="#play.filters.gzip.Gzip.littleEndianToInt$default$2" title="Int">offset</a><span class="delimiter">)</span> <span title="(x: Int)Int">&amp;</span> <span title="Int(255)" class="int">0xff</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>
