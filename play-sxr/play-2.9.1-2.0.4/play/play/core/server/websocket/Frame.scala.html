<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>play/play/core/server/websocket/Frame.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> play.core.server.websocket

<span class="keyword">import</span> org.jboss.netty.buffer.ChannelBuffer
<span class="keyword">import</span> org.jboss.netty.channel.Channel
<span class="keyword">import</span> java.nio.charset.Charset
<span class="keyword">import</span> org.jboss.netty.util.CharsetUtil
<span class="keyword">import</span> org.jboss.netty.handler.codec.http.websocketx.WebSocketFrame
<span class="keyword">import</span> org.jboss.netty.handler.codec.http.websocketx.TextWebSocketFrame
<span class="keyword">import</span> org.jboss.netty.handler.codec.http.websocketx.BinaryWebSocketFrame

case <span class="keyword">class</span> <a title="class FrameFormatter[A] extends java.lang.Object with play.api.mvc.WebSocket.FrameFormatter[A] with ScalaObject with Product with Serializable" id="331134">FrameFormatter</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="242322">A</a><span class="delimiter">]</span><a href="#331134" title="ScalaObject" class="delimiter">(</a><a title="A =&gt; org.jboss.netty.handler.codec.http.websocketx.WebSocketFrame" id="242339">toFrame</a>: A =&gt; WebSocketFrame, <a title="PartialFunction[org.jboss.netty.handler.codec.http.websocketx.WebSocketFrame,A]" id="242340">fromFrame</a>: <span title="PartialFunction[org.jboss.netty.handler.codec.http.websocketx.WebSocketFrame,A]">PartialFunction</span><span class="delimiter">[</span>WebSocketFrame, A<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> play.api.mvc.WebSocket.<a href="../../../api/mvc/WebSocket.scala.html#242212" title="play.api.mvc.WebSocket.FrameFormatter[A]">FrameFormatter</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="[B](fba: B =&gt; A, fab: A =&gt; B)play.core.server.websocket.FrameFormatter[B]" id="242330">transform</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="242332">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="B =&gt; A" id="331038">fba</a>: B =&gt; A, <a title="A =&gt; B" id="331039">fab</a>: A =&gt; B<span class="delimiter">)</span>: <a href="#331134" title="play.core.server.websocket.FrameFormatter[B]">FrameFormatter</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#331134" title="[A](toFrame: A =&gt; org.jboss.netty.handler.codec.http.websocketx.WebSocketFrame, fromFrame: PartialFunction[org.jboss.netty.handler.codec.http.websocketx.WebSocketFrame,A])play.core.server.websocket.FrameFormatter[A]">FrameFormatter</a><span title="(toFrame: B =&gt; org.jboss.netty.handler.codec.http.websocketx.WebSocketFrame, fromFrame: PartialFunction[org.jboss.netty.handler.codec.http.websocketx.WebSocketFrame,B])play.core.server.websocket.FrameFormatter[B]" class="delimiter">[</span><a href="#242332" title="B">B</a><span class="delimiter">]</span><span class="delimiter">(</span>
      <a href="#242339" title="=&gt; A =&gt; org.jboss.netty.handler.codec.http.websocketx.WebSocketFrame">toFrame</a>.<span title="(g: B =&gt; A)B =&gt; org.jboss.netty.handler.codec.http.websocketx.WebSocketFrame">compose</span><span class="delimiter">(</span><a href="#331038" title="B =&gt; A">fba</a><span class="delimiter">)</span>,
      <a href="#242340" title="=&gt; PartialFunction[org.jboss.netty.handler.codec.http.websocketx.WebSocketFrame,A]">fromFrame</a>.<span title="(k: A =&gt; B)PartialFunction[org.jboss.netty.handler.codec.http.websocketx.WebSocketFrame,B]">andThen</span><span class="delimiter">(</span><a href="#331039" title="A =&gt; B">fab</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object play.core.server.websocket.Frames" id="20919">Frames</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="keyword">val</span> <a title="play.core.server.websocket.FrameFormatter[String]" id="242312">textFrame</a> = <a href="#331134" title="[A](toFrame: A =&gt; org.jboss.netty.handler.codec.http.websocketx.WebSocketFrame, fromFrame: PartialFunction[org.jboss.netty.handler.codec.http.websocketx.WebSocketFrame,A])play.core.server.websocket.FrameFormatter[A]">FrameFormatter</a><span title="(toFrame: String =&gt; org.jboss.netty.handler.codec.http.websocketx.WebSocketFrame, fromFrame: PartialFunction[org.jboss.netty.handler.codec.http.websocketx.WebSocketFrame,String])play.core.server.websocket.FrameFormatter[String]" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span><span class="delimiter">(</span>
    <a title="String" id="242453">str</a> =&gt; <span title="(x$1: Boolean, x$2: Int, x$3: java.lang.String)org.jboss.netty.handler.codec.http.websocketx.TextWebSocketFrame" class="keyword">new</span> <span title="org.jboss.netty.handler.codec.http.websocketx.TextWebSocketFrame">TextWebSocketFrame</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <span title="Int(0)" class="int">0</span>, <a href="#242453" title="String">str</a><span class="delimiter">)</span>,
    <a href="#242846" title="String" class="delimiter">{</a> <span class="keyword">case</span> <a title="java.lang.String" id="242847">frame</a>: <span title="org.jboss.netty.handler.codec.http.websocketx.TextWebSocketFrame">TextWebSocketFrame</span> =&gt; <a href="#242847" title="org.jboss.netty.handler.codec.http.websocketx.TextWebSocketFrame">frame</a>.<span title="()java.lang.String">getText</span> <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="play.core.server.websocket.FrameFormatter[Array[Byte]]" id="242314">binaryFrame</a> = <a href="#331134" title="[A](toFrame: A =&gt; org.jboss.netty.handler.codec.http.websocketx.WebSocketFrame, fromFrame: PartialFunction[org.jboss.netty.handler.codec.http.websocketx.WebSocketFrame,A])play.core.server.websocket.FrameFormatter[A]">FrameFormatter</a><span title="(toFrame: Array[Byte] =&gt; org.jboss.netty.handler.codec.http.websocketx.WebSocketFrame, fromFrame: PartialFunction[org.jboss.netty.handler.codec.http.websocketx.WebSocketFrame,Array[Byte]])play.core.server.websocket.FrameFormatter[Array[Byte]]" class="delimiter">[</span><span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span>
    <a title="Array[Byte]" id="242851">bytes</a> =&gt; <span title="(x$1: Boolean, x$2: Int, x$3: org.jboss.netty.buffer.ChannelBuffer)org.jboss.netty.handler.codec.http.websocketx.BinaryWebSocketFrame" class="keyword">new</span> <span title="org.jboss.netty.handler.codec.http.websocketx.BinaryWebSocketFrame">BinaryWebSocketFrame</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <span title="Int(0)" class="int">0</span>, org.jboss.netty.buffer.<span title="object org.jboss.netty.buffer.ChannelBuffers">ChannelBuffers</span>.<span title="(x$1: Array[Byte])org.jboss.netty.buffer.ChannelBuffer">wrappedBuffer</span><span class="delimiter">(</span><a href="#242851" title="Array[Byte]">bytes</a><span class="delimiter">)</span><span class="delimiter">)</span>,
    <a href="#243058" title="Array[Byte]" class="delimiter">{</a> <span class="keyword">case</span> <a title="Array[Byte]" id="243059">frame</a>: <span title="org.jboss.netty.handler.codec.http.websocketx.BinaryWebSocketFrame">BinaryWebSocketFrame</span> =&gt; <a href="#243059" title="org.jboss.netty.handler.codec.http.websocketx.BinaryWebSocketFrame">frame</a>.<span title="()org.jboss.netty.buffer.ChannelBuffer">getBinaryData</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="()Array[Byte]">array</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="play.core.server.websocket.FrameFormatter[Either[String,Array[Byte]]]" id="242316">mixedFrame</a> = <a href="#331134" title="[A](toFrame: A =&gt; org.jboss.netty.handler.codec.http.websocketx.WebSocketFrame, fromFrame: PartialFunction[org.jboss.netty.handler.codec.http.websocketx.WebSocketFrame,A])play.core.server.websocket.FrameFormatter[A]">FrameFormatter</a><span title="(toFrame: Either[String,Array[Byte]] =&gt; org.jboss.netty.handler.codec.http.websocketx.WebSocketFrame, fromFrame: PartialFunction[org.jboss.netty.handler.codec.http.websocketx.WebSocketFrame,Either[String,Array[Byte]]])play.core.server.websocket.FrameFormatter[Either[String,Array[Byte]]]" class="delimiter">[</span><span title="Either[String,Array[Byte]]">Either</span><span class="delimiter">[</span>String, Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span>
    <a title="Either[String,Array[Byte]]" id="243063">stringOrBytes</a> =&gt; <span class="delimiter">{</span>
      <a href="#243063" title="Either[String,Array[Byte]]">stringOrBytes</a>.<span title="(fa: String =&gt; org.jboss.netty.handler.codec.http.websocketx.WebSocketFrame, fb: Array[Byte] =&gt; org.jboss.netty.handler.codec.http.websocketx.WebSocketFrame)org.jboss.netty.handler.codec.http.websocketx.WebSocketFrame">fold</span><span class="delimiter">(</span>
        <a title="String" id="243070">str</a> =&gt; <span title="(x$1: Boolean, x$2: Int, x$3: java.lang.String)org.jboss.netty.handler.codec.http.websocketx.TextWebSocketFrame" class="keyword">new</span> <span title="org.jboss.netty.handler.codec.http.websocketx.TextWebSocketFrame">TextWebSocketFrame</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <span title="Int(0)" class="int">0</span>, <a href="#243070" title="String">str</a><span class="delimiter">)</span>,
        <a title="Array[Byte]" id="243076">bytes</a> =&gt; <span title="(x$1: Boolean, x$2: Int, x$3: org.jboss.netty.buffer.ChannelBuffer)org.jboss.netty.handler.codec.http.websocketx.BinaryWebSocketFrame" class="keyword">new</span> <span title="org.jboss.netty.handler.codec.http.websocketx.BinaryWebSocketFrame">BinaryWebSocketFrame</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <span title="Int(0)" class="int">0</span>, org.jboss.netty.buffer.<span title="object org.jboss.netty.buffer.ChannelBuffers">ChannelBuffers</span>.<span title="(x$1: Array[Byte])org.jboss.netty.buffer.ChannelBuffer">wrappedBuffer</span><span class="delimiter">(</span><a href="#243076" title="Array[Byte]">bytes</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>,
    <a href="#243098" title="Either[String,Array[Byte]]" class="delimiter">{</a>
      <span class="keyword">case</span> <a title="Left[java.lang.String,Nothing]" id="243099">frame</a>: <span title="org.jboss.netty.handler.codec.http.websocketx.TextWebSocketFrame">TextWebSocketFrame</span> =&gt; <span title="(a: java.lang.String)Left[java.lang.String,Nothing]">Left</span><span class="delimiter">(</span><a href="#243099" title="org.jboss.netty.handler.codec.http.websocketx.TextWebSocketFrame">frame</a>.<span title="()java.lang.String">getText</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Right[Nothing,Array[Byte]]" id="243104">frame</a>: <span title="org.jboss.netty.handler.codec.http.websocketx.BinaryWebSocketFrame">BinaryWebSocketFrame</span> =&gt; <span title="(b: Array[Byte])Right[Nothing,Array[Byte]]">Right</span><span class="delimiter">(</span><a href="#243104" title="org.jboss.netty.handler.codec.http.websocketx.BinaryWebSocketFrame">frame</a>.<span title="()org.jboss.netty.buffer.ChannelBuffer">getBinaryData</span>.<span title="()Array[Byte]">array</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">)</span>

<span class="delimiter">}</span>


        </pre>
    </body>
</html>