<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>play/play/api/mvc/Http.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> play.api.mvc <span class="delimiter">{</span>

  <span class="keyword">import</span> play.api._
  <span class="keyword">import</span> play.api.libs.iteratee._
  <span class="keyword">import</span> play.api.libs.Crypto

  <span class="keyword">import</span> scala.annotation._

  <span class="comment">/**
   * The HTTP request header. Note that it doesnâ€™t contain the request body yet.
   */</span>
  @implicitNotFound<span class="delimiter">(</span><span class="string">&quot;Cannot find any HTTP Request Header here&quot;</span><span class="delimiter">)</span>
  <span class="keyword">trait</span> <a title="trait RequestHeader extends java.lang.Object with ScalaObject" id="16454">RequestHeader</a> <span title="ScalaObject" class="delimiter">{</span>

    <span class="comment">/**
     * The complete request URI, containing both path and query string.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="65473">uri</a>: <span title="String">String</span>

    <span class="comment">/**
     * The URI path.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="65474">path</a>: <span title="String">String</span>

    <span class="comment">/**
     * The HTTP method.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="65475">method</a>: <span title="String">String</span>

    <span class="comment">/**
     * The parsed query string.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Map[String,Seq[String]]" id="65476">queryString</a>: <span title="Map[String,Seq[String]]">Map</span><span class="delimiter">[</span>String, Seq<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span>

    <span class="comment">/**
     * The HTTP headers.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; play.api.mvc.Headers" id="65477">headers</a>: <a href="#16427" title="play.api.mvc.Headers">Headers</a>

    <span class="comment">/**
     * The client IP address.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="65478">remoteAddress</a>: <span title="String">String</span>

    <span class="comment">/**
     * The HTTP host (domain, optionally port)
     */</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="String" id="65480">host</a>: <span title="String">String</span> = <a href="#65477" title="=&gt; play.api.mvc.Headers">headers</a>.<a href="#65225" title="(key: String)Option[String]">get</a><span class="delimiter">(</span>play.api.http.<a href="../http/StandardValues.scala.html#12746" title="object play.api.http.HeaderNames">HeaderNames</a>.<a href="../http/StandardValues.scala.html#66108" title="=&gt; java.lang.String">HOST</a><span class="delimiter">)</span>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>

    <span class="comment">/**
     * The HTTP domain
     */</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="String" id="65482">domain</a>: <span title="String">String</span> = <a href="#65479" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">host</a>.<span title="(separator: Char)Array[String]">split</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="Char(\':\')" class="char">':'</span><span class="delimiter">)</span>.<span title="=&gt; String">head</span>

    <span class="comment">/**
     * The Request Langs, extracted from the Accept-Language header.
     */</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Seq[play.api.i18n.Lang]" id="65484">acceptLanguages</a>: <span title="Seq[play.api.i18n.Lang]">Seq</span><span class="delimiter">[</span>play.api.i18n.Lang<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#65477" title="=&gt; play.api.mvc.Headers">headers</a>.<a href="#65225" title="(key: String)Option[String]">get</a><span class="delimiter">(</span>play.api.http.<a href="../http/StandardValues.scala.html#12746" title="object play.api.http.HeaderNames">HeaderNames</a>.<a href="../http/StandardValues.scala.html#66064" title="=&gt; java.lang.String">ACCEPT_LANGUAGE</a><span class="delimiter">)</span>.<span title="(f: String =&gt; Seq[play.api.i18n.Lang])Option[Seq[play.api.i18n.Lang]]">map</span> <span class="delimiter">{</span> <a title="String" id="229816">acceptLanguage</a> =&gt;
          <a href="#229816" title="String">acceptLanguage</a>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span>.<span title="(f: java.lang.String =&gt; play.api.i18n.Lang)(implicit bf: scala.collection.generic.CanBuildFrom[Array[java.lang.String],play.api.i18n.Lang,Array[play.api.i18n.Lang]])Array[play.api.i18n.Lang]">map</span><span title="(xs: Array[play.api.i18n.Lang])scala.collection.mutable.ArrayOps[play.api.i18n.Lang]" class="delimiter">(</span><a title="java.lang.String" id="230264">l</a> =&gt; play.api.i18n.<a href="../i18n/Messages.scala.html#101197" title="(code: String)play.api.i18n.Lang">Lang</a><span class="delimiter">(</span><a href="#230264" title="java.lang.String">l</a>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><span title="java.lang.String(&quot;;&quot;)" class="string">&quot;;&quot;</span><span class="delimiter">)</span>.<span title="=&gt; java.lang.String">head</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Seq[play.api.i18n.Lang]">toSeq</span>
        <span class="delimiter">}</span>.<span title="(default: =&gt; Seq[play.api.i18n.Lang])Seq[play.api.i18n.Lang]">getOrElse</span><span class="delimiter">(</span><span title="object Nil">Nil</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="scala.collection.immutable.Nil.type" id="230653">e</a> =&gt; <a href="#230653" title="java.lang.Throwable">e</a>.<span title="()Unit">printStackTrace</span><span class="delimiter">(</span><span class="delimiter">)</span>; <span title="object Nil">Nil</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * @return The media types set in the request Accept header, not sorted in any particular order.
     */</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Seq[String]" id="65486">accept</a>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">{</span>
        <a title="String" id="230768">acceptHeader</a> &lt;- <a href="#65477" title="=&gt; play.api.mvc.Headers">headers</a>.<a href="#65225" title="(key: String)Option[String]">get</a><span title="(xo: Option[String])Iterable[String]" class="delimiter">(</span>play.api.http.<a href="../http/StandardValues.scala.html#12746" title="object play.api.http.HeaderNames">HeaderNames</a>.<a href="../http/StandardValues.scala.html#66058" title="=&gt; java.lang.String">ACCEPT</a><span class="delimiter">)</span>.<span title="(f: String =&gt; scala.collection.GenTraversableOnce[java.lang.String])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[String],java.lang.String,Seq[String]])Seq[String]">toSeq</span>
        <a title="java.lang.String" id="231216">value</a> &lt;- <a href="#230768" title="String">acceptHeader</a>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span title="(f: java.lang.String =&gt; scala.collection.GenTraversableOnce[java.lang.String])(implicit bf: scala.collection.generic.CanBuildFrom[Array[java.lang.String],java.lang.String,Array[java.lang.String]])Array[java.lang.String]" class="delimiter">(</span><span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span>
        <a title="java.lang.String" id="231286">contentType</a> &lt;- <a href="#231216" title="java.lang.String">value</a>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><span title="java.lang.String(&quot;;&quot;)" class="string">&quot;;&quot;</span><span class="delimiter">)</span>.<span title="(f: java.lang.String =&gt; java.lang.String)Option[java.lang.String]">headOption</span>
      <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#231286" title="java.lang.String">contentType</a>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Check if this request accepts a given media type.
     * @returns true if `mediaType` matches the Accept header, otherwise false
     */</span>
    <span class="keyword">def</span> <a title="(mediaType: String)Boolean" id="65487">accepts</a><span class="delimiter">(</span><a title="String" id="231424">mediaType</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <a href="#65485" title="=&gt; Seq[String]">accept</a>.<span title="(elem: Any)Boolean">contains</span><span class="delimiter">(</span><a href="#231424" title="String">mediaType</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#65485" title="=&gt; Seq[String]">accept</a>.<span title="(elem: Any)Boolean">contains</span><span class="delimiter">(</span><span title="java.lang.String(&quot;*/*&quot;)" class="string">&quot;*/*&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#65485" title="=&gt; Seq[String]">accept</a>.<span title="(elem: Any)Boolean">contains</span><span class="delimiter">(</span><a href="#231424" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">mediaType</a>.<span title="(p: Char =&gt; Boolean)String">takeWhile</span><span class="delimiter">(</span><a href="#231658" title="Char">_</a> <span title="(x: Char)Boolean">!=</span> <span title="Char(\'/\')" class="char">'/'</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;/*&quot;)" class="string">&quot;/*&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * The HTTP cookies.
     */</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="play.api.mvc.Cookies" id="65489">cookies</a>: <a href="#16412" title="play.api.mvc.Cookies">Cookies</a> = <a href="#66183" title="(header: Option[String])java.lang.Object with play.api.mvc.Cookies{lazy val cookies: Map[String,play.api.mvc.Cookie]}">Cookies</a><span class="delimiter">(</span><a href="#65477" title="=&gt; play.api.mvc.Headers">headers</a>.<a href="#65225" title="(key: String)Option[String]">get</a><span class="delimiter">(</span>play.api.http.<a href="../http/StandardValues.scala.html#12746" title="object play.api.http.HeaderNames">HeaderNames</a>.<a href="../http/StandardValues.scala.html#66096" title="=&gt; java.lang.String">COOKIE</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/**
     * Parses the `Session` cookie and returns the `Session` data.
     */</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="play.api.mvc.Session" id="65491">session</a>: <a href="#66554" title="play.api.mvc.Session">Session</a> = <a href="#235641" title="object play.api.mvc.Session">Session</a>.<a href="#66382" title="(cookie: Option[play.api.mvc.Cookie])play.api.mvc.Session">decodeFromCookie</a><span class="delimiter">(</span><a href="#65488" title="=&gt; play.api.mvc.Cookies">cookies</a>.<a href="#78537" title="(name: String)Option[play.api.mvc.Cookie]">get</a><span class="delimiter">(</span><a href="#235641" title="object play.api.mvc.Session">Session</a>.<a href="#66540" title="=&gt; String">COOKIE_NAME</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/**
     * Parses the `Flash` cookie and returns the `Flash` data.
     */</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="play.api.mvc.Flash" id="65493">flash</a>: <a href="#66392" title="play.api.mvc.Flash">Flash</a> = <a href="#235791" title="object play.api.mvc.Flash">Flash</a>.<a href="#66382" title="(cookie: Option[play.api.mvc.Cookie])play.api.mvc.Flash">decodeFromCookie</a><span class="delimiter">(</span><a href="#65488" title="=&gt; play.api.mvc.Cookies">cookies</a>.<a href="#78537" title="(name: String)Option[play.api.mvc.Cookie]">get</a><span class="delimiter">(</span><a href="#235791" title="object play.api.mvc.Flash">Flash</a>.<a href="#66386" title="=&gt; java.lang.String">COOKIE_NAME</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/**
     * Returns the raw query string.
     */</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="String" id="65495">rawQueryString</a>: <span title="String">String</span> = <a href="#65473" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">uri</a>.<span title="(separator: Char)Array[String]">split</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="Char(\'?\')" class="char">'?'</span><span class="delimiter">)</span>.<span title="(n: Int)Array[String]">drop</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;?&quot;)" class="string">&quot;?&quot;</span><span class="delimiter">)</span>

    <span class="comment">/**
     * Returns the value of the Content-Type header (without the ;charset= part if exists)
     */</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Option[String]" id="65497">contentType</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#65477" title="=&gt; play.api.mvc.Headers">headers</a>.<a href="#65225" title="(key: String)Option[String]">get</a><span class="delimiter">(</span>play.api.http.<a href="../http/StandardValues.scala.html#12746" title="object play.api.http.HeaderNames">HeaderNames</a>.<a href="../http/StandardValues.scala.html#66094" title="=&gt; java.lang.String">CONTENT_TYPE</a><span class="delimiter">)</span>.<span title="(f: String =&gt; Option[String])Option[String]">flatMap</span><span class="delimiter">(</span><a href="#231927" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">_</a>.<span title="(separator: Char)Array[String]">split</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="Char(\';\')" class="char">';'</span><span class="delimiter">)</span>.<span title="=&gt; Option[String]">headOption</span><span class="delimiter">)</span>.<span title="(f: String =&gt; java.lang.String)Option[java.lang.String]">map</span><span class="delimiter">(</span><a href="#232019" title="String">_</a>.<span title="()java.lang.String">toLowerCase</span><span class="delimiter">)</span>

    <span class="comment">/**
     * Returns the charset of the request for text-based body
     */</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Option[String]" id="65499">charset</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#65477" title="=&gt; play.api.mvc.Headers">headers</a>.<a href="#65225" title="(key: String)Option[String]">get</a><span class="delimiter">(</span>play.api.http.<a href="../http/StandardValues.scala.html#12746" title="object play.api.http.HeaderNames">HeaderNames</a>.<a href="../http/StandardValues.scala.html#66094" title="=&gt; java.lang.String">CONTENT_TYPE</a><span class="delimiter">)</span>.<span title="(f: String =&gt; Option[String])Option[String]">flatMap</span><span class="delimiter">(</span><a href="#232026" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">_</a>.<span title="(separator: Char)Array[String]">split</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="Char(\';\')" class="char">';'</span><span class="delimiter">)</span>.<span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">tail</span>.<span title="=&gt; Option[String]">headOption</span><span class="delimiter">)</span>.<span title="(f: String =&gt; java.lang.String)Option[java.lang.String]">map</span><span class="delimiter">(</span><a href="#232220" title="String">_</a>.<span title="()java.lang.String">toLowerCase</span>.<span title="()java.lang.String">trim</span><span class="delimiter">)</span>.<span title="(p: java.lang.String =&gt; Boolean)Option[java.lang.String]">filter</span><span class="delimiter">(</span><a href="#232226" title="java.lang.String">_</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;charset=&quot;)" class="string">&quot;charset=&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: java.lang.String =&gt; Option[String])Option[String]">flatMap</span><span class="delimiter">(</span><a href="#232233" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">_</a>.<span title="(separator: Char)Array[String]">split</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="Char(\'=\')" class="char">'='</span><span class="delimiter">)</span>.<span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">tail</span>.<span title="=&gt; Option[String]">headOption</span><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="65500">toString</a> = <span class="delimiter">{</span>
      <a href="#65475" title="=&gt; String">method</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#65473" title="=&gt; String">uri</a>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * The complete HTTP request.
   *
   * @tparam A the body content type.
   */</span>
  @implicitNotFound<span class="delimiter">(</span><span class="string">&quot;Cannot find any HTTP Request here&quot;</span><span class="delimiter">)</span>
  <span class="keyword">trait</span> <a title="trait Request[+A] extends java.lang.Object with play.api.mvc.RequestHeader with ScalaObject" id="16352">Request</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="17088">A</a><span class="delimiter">]</span> <span title="ScalaObject" class="keyword">extends</span> <a href="#16454" title="play.api.mvc.RequestHeader">RequestHeader</a> <span class="delimiter">{</span>
    self =&gt;

    <span class="comment">/**
     * The body content.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; A" id="65503">body</a>: <a href="#17088" title="A">A</a>

    <span class="comment">/**
     * Transform the request body.
     */</span>
    <span class="keyword">def</span> <a title="[B](f: A =&gt; B)play.api.mvc.Request[B]" id="65504">map</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="65506">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; B" id="232424">f</a>: A =&gt; B<span class="delimiter">)</span>: <a href="#16352" title="play.api.mvc.Request[B]">Request</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#232427" title="java.lang.Object with play.api.mvc.Request[B]{}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with play.api.mvc.Request[B]" id="232427">Request</a><span class="delimiter">[</span>B<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; String" id="232431">uri</a> = <a href="#16352" title="Request.this.type">self</a>.<a href="#65473" title="=&gt; String">uri</a>
      <span class="keyword">def</span> <a title="=&gt; String" id="232432">path</a> = <a href="#16352" title="Request.this.type">self</a>.<a href="#65474" title="=&gt; String">path</a>
      <span class="keyword">def</span> <a title="=&gt; String" id="232433">method</a> = <a href="#16352" title="Request.this.type">self</a>.<a href="#65475" title="=&gt; String">method</a>
      <span class="keyword">def</span> <a title="=&gt; Map[String,Seq[String]]" id="232434">queryString</a> = <a href="#16352" title="Request.this.type">self</a>.<a href="#65476" title="=&gt; Map[String,Seq[String]]">queryString</a>
      <span class="keyword">def</span> <a title="=&gt; play.api.mvc.Headers" id="232435">headers</a> = <a href="#16352" title="Request.this.type">self</a>.<a href="#65477" title="=&gt; play.api.mvc.Headers">headers</a>
      <span class="keyword">def</span> <a title="=&gt; String" id="232436">remoteAddress</a> = <a href="#16352" title="Request.this.type">self</a>.<a href="#65478" title="=&gt; String">remoteAddress</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="B" id="232438">body</a> = <a href="#232424" title="(v1: A)B">f</a><span class="delimiter">(</span><a href="#16352" title="Request.this.type">self</a>.<a href="#65503" title="=&gt; A">body</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * Wrap an existing request. Useful to extend a request.
   */</span>
  <span class="keyword">class</span> <a title="class WrappedRequest[A] extends java.lang.Object with play.api.mvc.Request[A] with ScalaObject" id="16556">WrappedRequest</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="17089">A</a><span class="delimiter">]</span><a href="#16556" title="ScalaObject" class="delimiter">(</a><a title="play.api.mvc.Request[A]" id="232472">request</a>: <a href="#16352" title="play.api.mvc.Request[A]">Request</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#16352" title="play.api.mvc.Request[A]">Request</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; A" id="232463">body</a> = <a href="#232472" title="play.api.mvc.Request[A]">request</a>.<a href="#65503" title="=&gt; A">body</a>
    <span class="keyword">def</span> <a title="=&gt; play.api.mvc.Headers" id="232464">headers</a> = <a href="#232472" title="play.api.mvc.Request[A]">request</a>.<a href="#65477" title="=&gt; play.api.mvc.Headers">headers</a>
    <span class="keyword">def</span> <a title="=&gt; Map[String,Seq[String]]" id="232465">queryString</a> = <a href="#232472" title="play.api.mvc.Request[A]">request</a>.<a href="#65476" title="=&gt; Map[String,Seq[String]]">queryString</a>
    <span class="keyword">def</span> <a title="=&gt; String" id="232466">path</a> = <a href="#232472" title="play.api.mvc.Request[A]">request</a>.<a href="#65474" title="=&gt; String">path</a>
    <span class="keyword">def</span> <a title="=&gt; String" id="232467">uri</a> = <a href="#232472" title="play.api.mvc.Request[A]">request</a>.<a href="#65473" title="=&gt; String">uri</a>
    <span class="keyword">def</span> <a title="=&gt; String" id="232468">method</a> = <a href="#232472" title="play.api.mvc.Request[A]">request</a>.<a href="#65475" title="=&gt; String">method</a>
    <span class="keyword">def</span> <a title="=&gt; String" id="232469">remoteAddress</a> = <a href="#232472" title="play.api.mvc.Request[A]">request</a>.<a href="#65478" title="=&gt; String">remoteAddress</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The HTTP response.
   */</span>
  @implicitNotFound<span class="delimiter">(</span><span class="string">&quot;Cannot find any HTTP Response here&quot;</span><span class="delimiter">)</span>
  <span class="keyword">trait</span> <a title="trait Response extends java.lang.Object" id="16676">Response</a> <span title="java.lang.Object" class="delimiter">{</span>

    <span class="comment">/**
     * Handles a result.
     *
     * Depending on the result type, it will be sent synchronously or asynchronously.
     */</span>
    <span class="keyword">def</span> <a title="(result: play.api.mvc.Result)Unit" id="232494">handle</a><span class="delimiter">(</span><a title="play.api.mvc.Result" id="232496">result</a>: <a href="Results.scala.html#15977" title="play.api.mvc.Result">Result</a><span class="delimiter">)</span>: <span title="Unit">Unit</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * Defines a `Call`, which describes an HTTP request and can be used to create links or fill redirect data.
   *
   * These values are usually generated by the reverse router.
   *
   * @param method the request HTTP method
   * @param url the request URL
   */</span>
  case <span class="keyword">class</span> <a title="class Call extends play.mvc.Call with ScalaObject with Product with Serializable" id="236311">Call</a><a href="#236311" title="ScalaObject" class="delimiter">(</a><a title="String" id="236306">method</a>: <span title="String">String</span>, <a title="String" id="236307">url</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> play.mvc.<a href="../../mvc/Call.java.html#21703" title="play.mvc.Call">Call</a> <span class="delimiter">{</span>

    <span class="comment">/**
     * Transform this call to an absolute URL.
     */</span>
    <span class="keyword">def</span> <a title="(secure: Boolean)(implicit request: play.api.mvc.RequestHeader)java.lang.String" id="104662">absoluteURL</a><span class="delimiter">(</span><a title="Boolean" id="232513">secure</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="play.api.mvc.RequestHeader" id="232503">request</a>: <a href="#16454" title="play.api.mvc.RequestHeader">RequestHeader</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="java.lang.String(&quot;http&quot;)" class="string">&quot;http&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#232513" title="Boolean">secure</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;s&quot;)" class="string">&quot;s&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;://&quot;)" class="string">&quot;://&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#232503" title="play.api.mvc.RequestHeader">request</a>.<a href="#65479" title="=&gt; String">host</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#236311" title="Call.this.type" class="keyword">this</a>.<a href="#236307" title="=&gt; String">url</a>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Transform this call to an WebSocket URL.
     */</span>
    <span class="keyword">def</span> <a title="(secure: Boolean)(implicit request: play.api.mvc.RequestHeader)java.lang.String" id="104663">webSocketURL</a><span class="delimiter">(</span><a title="Boolean" id="232523">secure</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="play.api.mvc.RequestHeader" id="232515">request</a>: <a href="#16454" title="play.api.mvc.RequestHeader">RequestHeader</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="java.lang.String(&quot;ws&quot;)" class="string">&quot;ws&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#232523" title="Boolean">secure</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;s&quot;)" class="string">&quot;s&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;://&quot;)" class="string">&quot;://&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#232515" title="play.api.mvc.RequestHeader">request</a>.<a href="#65479" title="=&gt; String">host</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#236311" title="Call.this.type" class="keyword">this</a>.<a href="#236307" title="=&gt; String">url</a>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="104664">toString</a> = <a href="#236307" title="=&gt; String">url</a>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * The HTTP headers set.
   */</span>
  <span class="keyword">trait</span> <a title="trait Headers extends java.lang.Object with ScalaObject" id="16427">Headers</a> <span title="ScalaObject" class="delimiter">{</span>

    <span class="comment">/**
     * Optionally returns the first header value associated with a key.
     */</span>
    <span class="keyword">def</span> <a title="(key: String)Option[String]" id="65225">get</a><span class="delimiter">(</span><a title="String" id="66336">key</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#65227" title="(key: String)Seq[String]">getAll</a><span class="delimiter">(</span><a href="#66336" title="String">key</a><span class="delimiter">)</span>.<span title="=&gt; Option[String]">headOption</span>

    <span class="comment">/**
     * Retrieves the first header value which is associated with the given key.
     */</span>
    <span class="keyword">def</span> <a title="(key: String)String" id="65226">apply</a><span class="delimiter">(</span><a title="String" id="232592">key</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#65225" title="(key: String)Option[String]">get</a><span class="delimiter">(</span><a href="#232592" title="String">key</a><span class="delimiter">)</span>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span>scala.sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Header doesn\'t exist&quot;)" class="string">&quot;Header doesn't exist&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/**
     * Retrieve all header values associated with the given key.
     */</span>
    <span class="keyword">def</span> <a title="(key: String)Seq[String]" id="65227">getAll</a><span class="delimiter">(</span><a title="String" id="65401">key</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span>

    <span class="comment">/**
     * Retrieve all header keys
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Set[String]" id="65228">keys</a>: <span title="Set[String]">Set</span><span class="delimiter">[</span>String<span class="delimiter">]</span>

    <span class="comment">/**
     * Transform the Headers to a Map
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Map[String,Seq[String]]" id="65229">toMap</a>: <span title="Map[String,Seq[String]]">Map</span><span class="delimiter">[</span>String, Seq<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#65228" title="=&gt; Set[String]">keys</a>.<span title="(f: String =&gt; (String, Seq[String]))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set[String],(String, Seq[String]),scala.collection.immutable.Set[(String, Seq[String])]])scala.collection.immutable.Set[(String, Seq[String])]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set.Coll,(String, Seq[String]),scala.collection.immutable.Set[(String, Seq[String])]]" class="delimiter">{</span> <a title="String" id="232628">headerKey</a> =&gt;
      <span title="(_1: String, _2: Seq[String])(String, Seq[String])" class="delimiter">(</span><a href="#232628" title="String">headerKey</a>, <a href="#65227" title="(key: String)Seq[String]">getAll</a><span class="delimiter">(</span><a href="#232628" title="String">headerKey</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>.<span title="(implicit ev: &lt;:&lt;[(String, Seq[String]),(String, Seq[String])])scala.collection.immutable.Map[String,Seq[String]]">toMap</span>

    <span class="comment">/**
     * Transform the Headers to a Map by ignoring multiple values.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Map[String,String]" id="65230">toSimpleMap</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <a href="#65228" title="=&gt; Set[String]">keys</a>.<span title="(f: String =&gt; (String, String))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set[String],(String, String),scala.collection.immutable.Set[(String, String)]])scala.collection.immutable.Set[(String, String)]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set.Coll,(String, String),scala.collection.immutable.Set[(String, String)]]" class="delimiter">{</span> <a title="String" id="232708">headerKey</a> =&gt;
      <span title="(_1: String, _2: String)(String, String)" class="delimiter">(</span><a href="#232708" title="String">headerKey</a>, <a href="#65226" title="(key: String)String">apply</a><span class="delimiter">(</span><a href="#232708" title="String">headerKey</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>.<span title="(implicit ev: &lt;:&lt;[(String, String),(String, String)])scala.collection.immutable.Map[String,String]">toMap</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * Trait that should be extended by the Cookie helpers.
   */</span>
  <span class="keyword">trait</span> <a title="trait CookieBaker[T &lt;: AnyRef] extends java.lang.Object with ScalaObject" id="16670">CookieBaker</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: AnyRef" id="17090">T</a> &lt;: AnyRef<span class="delimiter">]</span> <span title="ScalaObject" class="delimiter">{</span>

    <span class="comment">/**
     * The cookie name.
     */</span>
    <span class="keyword">val</span> <a title="=&gt; String" id="66369">COOKIE_NAME</a>: <span title="String">String</span>

    <span class="comment">/**
     * Default cookie, returned in case of error or if missing in the HTTP headers.
     */</span>
    <span class="keyword">val</span> <a title="=&gt; T" id="66370">emptyCookie</a>: <a href="#17090" title="T">T</a>

    <span class="comment">/**
     * `true` if the Cookie is signed. Defaults to false.
     */</span>
    <span class="keyword">val</span> <a title="Boolean" id="66371">isSigned</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="comment">/**
     * `true` if the Cookie should have the httpOnly flag, disabling access from Javascript. Defaults to true.
     */</span>
    <span class="keyword">val</span> <a title="Boolean" id="66373">httpOnly</a> = <span title="Boolean(true)" class="keyword">true</span>

    <span class="comment">/**
     * The cookie expiration date in seconds, `-1` for a transient cookie
     *      */</span>
    <span class="keyword">val</span> <a title="Int" id="66375">maxAge</a> = -<span title="Int(-1)" class="int">1</span>

    <span class="comment">/**
     * `true` if the Cookie should have the secure flag, restricting usage to https. Defaults to false.
     */</span>
    <span class="keyword">val</span> <a title="Boolean" id="66377">secure</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="comment">/**
     * Encodes the data as a `String`.
     */</span>
    <span class="keyword">def</span> <a title="(data: Map[String,String])String" id="66379">encode</a><span class="delimiter">(</span><a title="Map[String,String]" id="232760">data</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.lang.String" id="232762">encoded</a> = java.net.<span title="object java.net.URLEncoder">URLEncoder</span>.<span title="(x$1: java.lang.String, x$2: java.lang.String)java.lang.String">encode</span><span class="delimiter">(</span><a href="#232760" title="Map[String,String]">data</a>.<span title="(p: (String, String) =&gt; Boolean)scala.collection.immutable.Map[String,String]">filterNot</span><span class="delimiter">(</span><a href="#232769" title="(String, String)">_</a>.<span title="=&gt; String">_1</span>.<span title="(x$1: java.lang.CharSequence)Boolean">contains</span><span class="delimiter">(</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: (String, String) =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[String,String],java.lang.String,scala.collection.immutable.Iterable[java.lang.String]])scala.collection.immutable.Iterable[java.lang.String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Iterable.Coll,java.lang.String,scala.collection.immutable.Iterable[java.lang.String]]" class="delimiter">(</span><a title="(String, String)" id="232789">d</a> =&gt; <a href="#232789" title="(String, String)">d</a>.<span title="=&gt; String">_1</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#232789" title="(String, String)">d</a>.<span title="=&gt; String">_2</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\00&quot;)" class="string">&quot;\u0000&quot;</span><span class="delimiter">)</span>, <span title="java.lang.String(&quot;UTF-8&quot;)" class="string">&quot;UTF-8&quot;</span><span class="delimiter">)</span>
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#66371" title="=&gt; Boolean">isSigned</a><span class="delimiter">)</span>
        <a href="../libs/Crypto.scala.html#13109" title="object play.api.libs.Crypto">Crypto</a>.<a href="../libs/Crypto.scala.html#170114" title="(message: String)String">sign</a><span class="delimiter">(</span><a href="#232762" title="java.lang.String">encoded</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;-&quot;)" class="string">&quot;-&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#232762" title="java.lang.String">encoded</a>
      <span class="keyword">else</span>
        <a href="#232762" title="java.lang.String">encoded</a>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Decodes from an encoded `String`.
     */</span>
    <span class="keyword">def</span> <a title="(data: String)Map[String,String]" id="66380">decode</a><span class="delimiter">(</span><a title="String" id="232828">data</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <span class="delimiter">{</span>

      <span class="keyword">def</span> <a title="(data: String)scala.collection.immutable.Map[java.lang.String,String]" id="232830">urldecode</a><span class="delimiter">(</span><a title="String" id="232832">data</a>: <span title="String">String</span><span class="delimiter">)</span> = java.net.<span title="object java.net.URLDecoder">URLDecoder</span>.<span title="(x$1: java.lang.String, x$2: java.lang.String)java.lang.String">decode</span><span class="delimiter">(</span><a href="#232832" title="String">data</a>, <span title="java.lang.String(&quot;UTF-8&quot;)" class="string">&quot;UTF-8&quot;</span><span class="delimiter">)</span>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><span title="java.lang.String(&quot;\00&quot;)" class="string">&quot;\u0000&quot;</span><span class="delimiter">)</span>.<span title="(f: java.lang.String =&gt; Array[java.lang.String])(implicit bf: scala.collection.generic.CanBuildFrom[Array[java.lang.String],Array[java.lang.String],Array[Array[java.lang.String]]])Array[Array[java.lang.String]]">map</span><span title="(xs: Array[Array[java.lang.String]])scala.collection.mutable.ArrayOps[Array[java.lang.String]]" class="delimiter">(</span><a href="#233282" title="java.lang.String">_</a>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span class="delimiter">(</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: Array[java.lang.String] =&gt; (java.lang.String, String))(implicit bf: scala.collection.generic.CanBuildFrom[Array[Array[java.lang.String]],(java.lang.String, String),Array[(java.lang.String, String)]])Array[(java.lang.String, String)]">map</span><span title="(xs: Array[(java.lang.String, String)])scala.collection.mutable.ArrayOps[(java.lang.String, String)]" class="delimiter">(</span><a title="Array[java.lang.String]" id="233765">p</a> =&gt; <a href="#233765" title="(i: Int)java.lang.String">p</a><span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(y: String)(java.lang.String, String)">-&gt;</span> <a href="#233765" title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">p</a>.<span title="(n: Int)Array[java.lang.String]">drop</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(implicit ev: &lt;:&lt;[(java.lang.String, String),(java.lang.String, String)])scala.collection.immutable.Map[java.lang.String,String]">toMap</span>

      <span class="comment">// Do not change this unless you understand the security issues behind timing attacks.</span>
      <span class="comment">// This method intentionally runs in constant time if the two strings have the same length.</span>
      <span class="comment">// If it didn't, it would be vulnerable to a timing attack.</span>
      <span class="keyword">def</span> <a title="(a: String, b: String)Boolean" id="232831">safeEquals</a><span class="delimiter">(</span><a title="String" id="234306">a</a>: <span title="String">String</span>, <a title="String" id="234307">b</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#234306" title="String">a</a>.<span title="()Int">length</span> <span title="(x: Int)Boolean">!=</span> <a href="#234307" title="String">b</a>.<span title="()Int">length</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Int" id="234313">equal</a> = <span title="Int(0)" class="int">0</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="235072">i</a> &lt;- <span title="object Array">Array</span>.<span title="(start: Int, end: Int)Array[Int]">range</span><span title="(f: Int =&gt; Unit)Unit" class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#234306" title="String">a</a>.<span title="()Int">length</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#234313" title="Int">equal</a> <span title="(x: Int)Int">|=</span> <a href="#234306" title="(index: Int)Char">a</a><span class="delimiter">(</span><a href="#235072" title="Int">i</a><span class="delimiter">)</span> <span title="(x: Char)Int">^</span> <a href="#234307" title="(index: Int)Char">b</a><span class="delimiter">(</span><a href="#235072" title="Int">i</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#234313" title="Int">equal</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span title="Map[String,String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#66371" title="=&gt; Boolean">isSigned</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Array[java.lang.String]" id="235133">splitted</a> = <a href="#232828" title="String">data</a>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span class="delimiter">(</span><span title="java.lang.String(&quot;-&quot;)" class="string">&quot;-&quot;</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="String" id="235134">message</a> = <a href="#235133" title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">splitted</a>.<span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">tail</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;-&quot;)" class="string">&quot;-&quot;</span><span class="delimiter">)</span>
          <span title="Map[String,String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#232831" title="(a: String, b: String)Boolean">safeEquals</a><span class="delimiter">(</span><a href="#235133" title="(i: Int)java.lang.String">splitted</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>, <a href="../libs/Crypto.scala.html#13109" title="object play.api.libs.Crypto">Crypto</a>.<a href="../libs/Crypto.scala.html#170114" title="(message: String)String">sign</a><span class="delimiter">(</span><a href="#235134" title="String">message</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#232830" title="(data: String)scala.collection.immutable.Map[java.lang.String,String]">urldecode</a><span class="delimiter">(</span><a href="#235134" title="String">message</a><span class="delimiter">)</span>
          <span class="keyword">else</span>
            <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="[A, B]=&gt; scala.collection.immutable.Map[A,B]">empty</span><span title="scala.collection.immutable.Map[String,String]" class="delimiter">[</span><span title="String">String</span>, <span title="String">String</span><span class="delimiter">]</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#232830" title="(data: String)scala.collection.immutable.Map[java.lang.String,String]">urldecode</a><span class="delimiter">(</span><a href="#232828" title="String">data</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="comment">// fail gracefully is the session cookie is corrupted</span>
        <span class="keyword">case</span> <span title="scala.collection.immutable.Map[String,String]">_</span> =&gt; <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="[A, B]=&gt; scala.collection.immutable.Map[A,B]">empty</span><span title="scala.collection.immutable.Map[String,String]" class="delimiter">[</span><span title="String">String</span>, <span title="String">String</span><span class="delimiter">]</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Encodes the data as a `Cookie`.
     */</span>
    <span class="keyword">def</span> <a title="(data: T)play.api.mvc.Cookie" id="66381">encodeAsCookie</a><span class="delimiter">(</span><a title="T" id="66404">data</a>: <a href="#17090" title="T">T</a><span class="delimiter">)</span>: <a href="#236335" title="play.api.mvc.Cookie">Cookie</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="235398">cookie</a> = <a href="#66379" title="(data: Map[String,String])String">encode</a><span class="delimiter">(</span><a href="#66384" title="(cookie: T)Map[String,String]">serialize</a><span class="delimiter">(</span><a href="#66404" title="T">data</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#236335" title="(name: String, value: String, maxAge: Int, path: String, domain: Option[String], secure: Boolean, httpOnly: Boolean)play.api.mvc.Cookie">Cookie</a><span class="delimiter">(</span><a href="#66369" title="=&gt; String">COOKIE_NAME</a>, <a href="#235398" title="String">cookie</a>, <a href="#66375" title="=&gt; Int">maxAge</a>, <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span>, <span title="object None">None</span>, <a href="#66377" title="=&gt; Boolean">secure</a>, <a href="#66373" title="=&gt; Boolean">httpOnly</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Decodes the data from a `Cookie`.
     */</span>
    <span class="keyword">def</span> <a title="(cookie: Option[play.api.mvc.Cookie])T" id="66382">decodeFromCookie</a><span class="delimiter">(</span><a title="Option[play.api.mvc.Cookie]" id="78632">cookie</a>: <span title="Option[play.api.mvc.Cookie]">Option</span><span class="delimiter">[</span>Cookie<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#17090" title="T">T</a> = <span class="delimiter">{</span>
      <a href="#78632" title="Option[play.api.mvc.Cookie]">cookie</a>.<span title="(p: play.api.mvc.Cookie =&gt; Boolean)Option[play.api.mvc.Cookie]">filter</span><span class="delimiter">(</span><a href="#235443" title="play.api.mvc.Cookie">_</a>.<a href="#235414" title="=&gt; String">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#66369" title="=&gt; String">COOKIE_NAME</a><span class="delimiter">)</span>.<span title="(f: play.api.mvc.Cookie =&gt; T)Option[T]">map</span><span class="delimiter">(</span><a title="play.api.mvc.Cookie" id="235452">c</a> =&gt; <a href="#66383" title="(data: Map[String,String])T">deserialize</a><span class="delimiter">(</span><a href="#66380" title="(data: String)Map[String,String]">decode</a><span class="delimiter">(</span><a href="#235452" title="play.api.mvc.Cookie">c</a>.<a href="#235415" title="=&gt; String">value</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; T)T">getOrElse</span><span class="delimiter">(</span><a href="#66370" title="=&gt; T">emptyCookie</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Builds the cookie object from the given data map.
     *
     * @param data the data map to build the cookie object
     * @return a new cookie object
     */</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(data: Map[String,String])T" id="66383">deserialize</a><span class="delimiter">(</span><a title="Map[String,String]" id="235453">data</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#17090" title="T">T</a>

    <span class="comment">/**
     * Converts the given cookie object into a data map.
     *
     * @param cookie the cookie object to serialize into a map
     * @return a new `Map` storing the key-value pairs for the given cookie
     */</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(cookie: T)Map[String,String]" id="66384">serialize</a><span class="delimiter">(</span><a title="T" id="235399">cookie</a>: <a href="#17090" title="T">T</a><span class="delimiter">)</span>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * HTTP Session.
   *
   * Session data are encoded into an HTTP cookie, and can only contain simple `String` values.
   */</span>
  case <span class="keyword">class</span> <a title="class Session extends java.lang.Object with ScalaObject with Product with Serializable" id="66554">Session</a><a href="#66554" title="ScalaObject" class="delimiter">(</a><a title="Map[String,String]" id="235638">data</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="[A, B]=&gt; scala.collection.immutable.Map[A,B]">empty</span><span title="scala.collection.immutable.Map[String,String]" class="delimiter">[</span><span title="String">String</span>, <span title="String">String</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>

    <span class="comment">/**
     * Optionally returns the session value associated with a key.
     */</span>
    <span class="keyword">def</span> <a title="(key: String)Option[String]" id="66559">get</a><span class="delimiter">(</span><a title="String" id="235463">key</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#235638" title="=&gt; Map[String,String]">data</a>.<span title="(key: String)Option[String]">get</span><span class="delimiter">(</span><a href="#235463" title="String">key</a><span class="delimiter">)</span>

    <span class="comment">/**
     * Returns `true` if this session is empty.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="66560">isEmpty</a>: <span title="Boolean">Boolean</span> = <a href="#235638" title="=&gt; Map[String,String]">data</a>.<span title="=&gt; Boolean">isEmpty</span>

    <span class="comment">/**
     * Adds a value to the session, and returns a new session.
     *
     * For example:
     * {{{
     * session + (&quot;username&quot; -&gt; &quot;bob&quot;)
     * }}}
     *
     * @param kv the key-value pair to add
     * @return the modified session
     */</span>
    <span class="keyword">def</span> <a title="(kv: (String, String))play.api.mvc.Session" id="66561">+</a><span class="delimiter">(</span><a title="(String, String)" id="235470">kv</a>: <span title="(String, String)" class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#66554" title="(data: Map[String,String])play.api.mvc.Session">copy</a><span class="delimiter">(</span><a href="#235638" title="=&gt; Map[String,String]">data</a> <span title="(kv: (String, String))scala.collection.immutable.Map[String,String]">+</span> <a href="#235470" title="(String, String)">kv</a><span class="delimiter">)</span>

    <span class="comment">/**
     * Removes any value from the session.
     *
     * For example:
     * {{{
     * session - &quot;username&quot;
     * }}}
     *
     * @param key the key to remove
     * @return the modified session
     */</span>
    <span class="keyword">def</span> <a title="(key: String)play.api.mvc.Session" id="66562">-</a><span class="delimiter">(</span><a title="String" id="235529">key</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#66554" title="(data: Map[String,String])play.api.mvc.Session">copy</a><span class="delimiter">(</span><a href="#235638" title="=&gt; Map[String,String]">data</a> <span title="(key: String)scala.collection.immutable.Map[String,String]">-</span> <a href="#235529" title="String">key</a><span class="delimiter">)</span>

    <span class="comment">/**
     * Retrieves the session value which is associated with the given key.
     */</span>
    <span class="keyword">def</span> <a title="(key: String)String" id="66563">apply</a><span class="delimiter">(</span><a title="String" id="235540">key</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#235638" title="(key: String)String">data</a><span class="delimiter">(</span><a href="#235540" title="String">key</a><span class="delimiter">)</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * Helper utilities to manage the Session cookie.
   */</span>
  <span class="keyword">object</span> <a title="object play.api.mvc.Session" id="235641">Session</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#16670" title="play.api.mvc.CookieBaker[play.api.mvc.Session]">CookieBaker</a><span class="delimiter">[</span>Session<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="String" id="66540">COOKIE_NAME</a> = <a href="../Play.scala.html#10608" title="object play.api.Play">Play</a>.<a href="../Play.scala.html#72745" title="=&gt; Option[play.api.Application]">maybeApplication</a>.<span title="(f: play.api.Application =&gt; Option[String])Option[String]">flatMap</span><span class="delimiter">(</span><a href="#78642" title="play.api.Application">_</a>.<a href="../Application.scala.html#68060" title="play.api.Configuration" id="78647">configuration</a>.<a href="../Configuration.scala.html#78646" title="Option[Set[String]]" id="78651">getString</a><span class="delimiter">(</span><a title="java.lang.String(&quot;session.cookieName&quot;)" id="78650" class="string">&quot;session.cookieName&quot;</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="java.lang.String(&quot;PLAY_SESSION&quot;)" class="string">&quot;PLAY_SESSION&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="play.api.mvc.Session" id="66542">emptyCookie</a> = <a href="#235638" title="play.api.mvc.Session" class="keyword">new</a> <a href="#66554" title="play.api.mvc.Session">Session</a>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="Boolean" id="66544">isSigned</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="Boolean" id="66546">secure</a> = <a href="../Play.scala.html#10608" title="object play.api.Play">Play</a>.<a href="../Play.scala.html#72745" title="=&gt; Option[play.api.Application]">maybeApplication</a>.<span title="(f: play.api.Application =&gt; Option[Boolean])Option[Boolean]">flatMap</span><span class="delimiter">(</span><a href="#235602" title="play.api.Application">_</a>.<a href="../Application.scala.html#68060" title="=&gt; play.api.Configuration">configuration</a>.<a href="../Configuration.scala.html#68340" title="(path: String)Option[Boolean]">getBoolean</a><span class="delimiter">(</span><span title="java.lang.String(&quot;session.secure&quot;)" class="string">&quot;session.secure&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; Boolean)Boolean">getOrElse</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="Int" id="66548">maxAge</a> = <a href="../Play.scala.html#10608" title="object play.api.Play">Play</a>.<a href="../Play.scala.html#72745" title="=&gt; Option[play.api.Application]">maybeApplication</a>.<span title="(f: play.api.Application =&gt; Option[Int])Option[Int]">flatMap</span><span class="delimiter">(</span><a href="#235612" title="play.api.Application">_</a>.<a href="../Application.scala.html#68060" title="=&gt; play.api.Configuration">configuration</a>.<a href="../Configuration.scala.html#68339" title="(path: String)Option[Int]">getInt</a><span class="delimiter">(</span><span title="java.lang.String(&quot;session.maxAge&quot;)" class="string">&quot;session.maxAge&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; Int)Int">getOrElse</span><span class="delimiter">(</span>-<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="Boolean" id="66550">httpOnly</a> = <a href="../Play.scala.html#10608" title="object play.api.Play">Play</a>.<a href="../Play.scala.html#72745" title="=&gt; Option[play.api.Application]">maybeApplication</a>.<span title="(f: play.api.Application =&gt; Option[Boolean])Option[Boolean]">flatMap</span><span class="delimiter">(</span><a href="#235622" title="play.api.Application">_</a>.<a href="../Application.scala.html#68060" title="=&gt; play.api.Configuration">configuration</a>.<a href="../Configuration.scala.html#68340" title="(path: String)Option[Boolean]">getBoolean</a><span class="delimiter">(</span><span title="java.lang.String(&quot;session.httpOnly&quot;)" class="string">&quot;session.httpOnly&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; Boolean)Boolean">getOrElse</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(data: Map[String,String])play.api.mvc.Session" id="66552">deserialize</a><span class="delimiter">(</span><a title="Map[String,String]" id="235629">data</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="play.api.mvc.Session" class="keyword">new</span> <a href="#66554" title="play.api.mvc.Session">Session</a><span class="delimiter">(</span><a href="#235629" title="Map[String,String]">data</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(session: play.api.mvc.Session)Map[String,String]" id="66553">serialize</a><span class="delimiter">(</span><a title="play.api.mvc.Session" id="235632">session</a>: <a href="#66554" title="play.api.mvc.Session">Session</a><span class="delimiter">)</span> = <a href="#235632" title="play.api.mvc.Session">session</a>.<a href="#235638" title="=&gt; Map[String,String]">data</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * HTTP Flash scope.
   *
   * Flash data are encoded into an HTTP cookie, and can only contain simple `String` values.
   */</span>
  case <span class="keyword">class</span> <a title="class Flash extends java.lang.Object with ScalaObject with Product with Serializable" id="66392">Flash</a><a href="#66392" title="ScalaObject" class="delimiter">(</a><a title="Map[String,String]" id="235788">data</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="[A, B]=&gt; scala.collection.immutable.Map[A,B]">empty</span><span title="scala.collection.immutable.Map[String,String]" class="delimiter">[</span><span title="String">String</span>, <span title="String">String</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>

    <span class="comment">/**
     * Optionally returns the flash value associated with a key.
     */</span>
    <span class="keyword">def</span> <a title="(key: String)Option[String]" id="66397">get</a><span class="delimiter">(</span><a title="String" id="235644">key</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#235788" title="=&gt; Map[String,String]">data</a>.<span title="(key: String)Option[String]">get</span><span class="delimiter">(</span><a href="#235644" title="String">key</a><span class="delimiter">)</span>

    <span class="comment">/**
     * Returns `true` if this flash scope is empty.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="66398">isEmpty</a>: <span title="Boolean">Boolean</span> = <a href="#235788" title="=&gt; Map[String,String]">data</a>.<span title="=&gt; Boolean">isEmpty</span>

    <span class="comment">/**
     * Adds a value to the flash scope, and returns a new flash scope.
     *
     * For example:
     * {{{
     * flash + (&quot;success&quot; -&gt; &quot;Done!&quot;)
     * }}}
     *
     * @param kv the key-value pair to add
     * @return the modified flash scope
     */</span>
    <span class="keyword">def</span> <a title="(kv: (String, String))play.api.mvc.Flash" id="66399">+</a><span class="delimiter">(</span><a title="(String, String)" id="235651">kv</a>: <span title="(String, String)" class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#66392" title="(data: Map[String,String])play.api.mvc.Flash">copy</a><span class="delimiter">(</span><a href="#235788" title="=&gt; Map[String,String]">data</a> <span title="(kv: (String, String))scala.collection.immutable.Map[String,String]">+</span> <a href="#235651" title="(String, String)">kv</a><span class="delimiter">)</span>

    <span class="comment">/**
     * Removes a value from the flash scope.
     *
     * For example:
     * {{{
     * flash - &quot;success&quot;
     * }}}
     *
     * @param key the key to remove
     * @return the modified flash scope
     */</span>
    <span class="keyword">def</span> <a title="(key: String)play.api.mvc.Flash" id="66400">-</a><span class="delimiter">(</span><a title="String" id="235710">key</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#66392" title="(data: Map[String,String])play.api.mvc.Flash">copy</a><span class="delimiter">(</span><a href="#235788" title="=&gt; Map[String,String]">data</a> <span title="(key: String)scala.collection.immutable.Map[String,String]">-</span> <a href="#235710" title="String">key</a><span class="delimiter">)</span>

    <span class="comment">/**
     * Retrieves the flash value that is associated with the given key.
     */</span>
    <span class="keyword">def</span> <a title="(key: String)String" id="66401">apply</a><span class="delimiter">(</span><a title="String" id="235721">key</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#235788" title="(key: String)String">data</a><span class="delimiter">(</span><a href="#235721" title="String">key</a><span class="delimiter">)</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * Helper utilities to manage the Flash cookie.
   */</span>
  <span class="keyword">object</span> <a title="object play.api.mvc.Flash" id="235791">Flash</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#16670" title="play.api.mvc.CookieBaker[play.api.mvc.Flash]">CookieBaker</a><span class="delimiter">[</span>Flash<span class="delimiter">]</span> <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="java.lang.String" id="66386">COOKIE_NAME</a> = <span title="java.lang.String(&quot;PLAY_FLASH&quot;)" class="string">&quot;PLAY_FLASH&quot;</span>
    <span class="keyword">val</span> <a title="play.api.mvc.Flash" id="66388">emptyCookie</a> = <a href="#235788" title="play.api.mvc.Flash" class="keyword">new</a> <a href="#66392" title="play.api.mvc.Flash">Flash</a>

    <span class="keyword">def</span> <a title="(data: Map[String,String])play.api.mvc.Flash" id="66390">deserialize</a><span class="delimiter">(</span><a title="Map[String,String]" id="235779">data</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="play.api.mvc.Flash" class="keyword">new</span> <a href="#66392" title="play.api.mvc.Flash">Flash</a><span class="delimiter">(</span><a href="#235779" title="Map[String,String]">data</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(flash: play.api.mvc.Flash)Map[String,String]" id="66391">serialize</a><span class="delimiter">(</span><a title="play.api.mvc.Flash" id="235782">flash</a>: <a href="#66392" title="play.api.mvc.Flash">Flash</a><span class="delimiter">)</span> = <a href="#235782" title="play.api.mvc.Flash">flash</a>.<a href="#235788" title="=&gt; Map[String,String]">data</a>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * An HTTP cookie.
   *
   * @param name the cookie name
   * @param value the cookie value
   * @param maxAge the cookie expiration date in seconds, `-1` for a transient cookie, or `0` for a cookie that expires now
   * @param path the cookie path, defaulting to the root path `/`
   * @param domain the cookie domain
   * @param secure whether this cookie is secured, sent only for HTTPS requests
   * @param httpOnly whether this cookie is HTTP only, i.e. not accessible from client-side JavaScipt code
   */</span>
  case <span class="keyword">class</span> <a title="class Cookie extends java.lang.Object with ScalaObject with Product with Serializable" id="236335">Cookie</a><a href="#236335" title="ScalaObject" class="delimiter">(</a><a title="String" id="235414">name</a>: <span title="String">String</span>, <a title="String" id="235415">value</a>: <span title="String">String</span>, <a title="Int" id="235416">maxAge</a>: <span title="Int">Int</span> = -<span title="Int(-1)" class="int">1</span>, <a title="String" id="235417">path</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span>, <a title="Option[String]" id="235418">domain</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="object None">None</span>, <a title="Boolean" id="235419">secure</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>, <a title="Boolean" id="235420">httpOnly</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

  <span class="comment">/**
   * The HTTP cookies set.
   */</span>
  <span class="keyword">trait</span> <a title="trait Cookies extends java.lang.Object with ScalaObject" id="16412">Cookies</a> <span title="ScalaObject" class="delimiter">{</span>

    <span class="comment">/**
     * Optionally returns the cookie associated with a key.
     */</span>
    <span class="keyword">def</span> <a title="(name: String)Option[play.api.mvc.Cookie]" id="78537">get</a><span class="delimiter">(</span><a title="String" id="78550">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[play.api.mvc.Cookie]">Option</span><span class="delimiter">[</span>Cookie<span class="delimiter">]</span>

    <span class="comment">/**
     * Retrieves the cookie that is associated with the given key.
     */</span>
    <span class="keyword">def</span> <a title="(name: String)play.api.mvc.Cookie" id="78538">apply</a><span class="delimiter">(</span><a title="String" id="235935">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#236335" title="play.api.mvc.Cookie">Cookie</a> = <a href="#78537" title="(name: String)Option[play.api.mvc.Cookie]">get</a><span class="delimiter">(</span><a href="#235935" title="String">name</a><span class="delimiter">)</span>.<span title="(default: =&gt; play.api.mvc.Cookie)play.api.mvc.Cookie">getOrElse</span><span class="delimiter">(</span>scala.sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cookie doesn\'t exist&quot;)" class="string">&quot;Cookie doesn't exist&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * Helper utilities to encode Cookies.
   */</span>
  <span class="keyword">object</span> <a title="object play.api.mvc.Cookies" id="16413">Cookies</a> <span title="ScalaObject" class="delimiter">{</span>

    <span class="keyword">import</span> scala.collection.<span title="object scala.collection.JavaConverters">JavaConverters</span>._

    <span class="comment">// We use netty here but just as an API to handle cookies encoding</span>
    <span class="keyword">import</span> org.jboss.netty.handler.codec.http.<span class="delimiter">{</span> CookieEncoder, CookieDecoder, DefaultCookie <span class="delimiter">}</span>

    <span class="comment">/**
     * Extract cookies from the Set-Cookie header.
     */</span>
    <span class="keyword">def</span> <a title="(header: Option[String])java.lang.Object with play.api.mvc.Cookies{lazy val cookies: Map[String,play.api.mvc.Cookie]}" id="66183">apply</a><span class="delimiter">(</span><a title="Option[String]" id="78539">header</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#78542" title="java.lang.Object with play.api.mvc.Cookies{lazy val cookies: Map[String,play.api.mvc.Cookie]}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with play.api.mvc.Cookies" id="78542">Cookies</a> <span class="delimiter">{</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Map[String,play.api.mvc.Cookie]" id="78545">cookies</a>: <span title="Map[String,play.api.mvc.Cookie]">Map</span><span class="delimiter">[</span>String, Cookie<span class="delimiter">]</span> = <a href="#78539" title="Option[String]">header</a>.<span title="(f: String =&gt; Seq[play.api.mvc.Cookie])Option[Seq[play.api.mvc.Cookie]]">map</span><span class="delimiter">(</span><a href="#16413" title="object play.api.mvc.Cookies">Cookies</a>.<a href="#66185" title="(cookieHeader: String)Seq[play.api.mvc.Cookie]">decode</a><span class="delimiter">(</span><a href="#78564" title="String">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; Seq[play.api.mvc.Cookie])Seq[play.api.mvc.Cookie]">getOrElse</span><span class="delimiter">(</span><span title="object Seq">Seq</span>.<span title="Seq[Nothing]">empty</span><span class="delimiter">)</span>.<span title="(f: play.api.mvc.Cookie =&gt; String)scala.collection.immutable.Map[String,Seq[play.api.mvc.Cookie]]">groupBy</span><span class="delimiter">(</span><a href="#78591" title="play.api.mvc.Cookie">_</a>.<a href="#235414" title="=&gt; String">name</a><span class="delimiter">)</span>.<span title="(f: Seq[play.api.mvc.Cookie] =&gt; play.api.mvc.Cookie)scala.collection.immutable.Map[String,play.api.mvc.Cookie]">mapValues</span><span class="delimiter">(</span><a href="#78615" title="Seq[play.api.mvc.Cookie]">_</a>.<span title="=&gt; play.api.mvc.Cookie">head</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(name: String)Option[play.api.mvc.Cookie]" id="78546">get</a><span class="delimiter">(</span><a title="String" id="78548">name</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#78544" title="=&gt; Map[String,play.api.mvc.Cookie]">cookies</a>.<span title="(key: String)Option[play.api.mvc.Cookie]">get</span><span class="delimiter">(</span><a href="#78548" title="String">name</a><span class="delimiter">)</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="78547">toString</a> = <a href="#78544" title="=&gt; Map[String,play.api.mvc.Cookie]">cookies</a>.<span title="()String">toString</span>

    <span class="delimiter">}</span>

    <span class="comment">/**
     * Encodes cookies as a proper HTTP header.
     *
     * @param cookies the Cookies to encode
     * @param discard discard these cookies as well
     * @return a valid Set-Cookie header value
     */</span>
    <span class="keyword">def</span> <a title="(cookies: Seq[play.api.mvc.Cookie], discard: Seq[String])String" id="66184">encode</a><span class="delimiter">(</span><a title="Seq[play.api.mvc.Cookie]" id="235943">cookies</a>: <span title="Seq[play.api.mvc.Cookie]">Seq</span><span class="delimiter">[</span>Cookie<span class="delimiter">]</span>, <a title="Seq[String]" id="235946">discard</a>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="object Nil">Nil</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.jboss.netty.handler.codec.http.CookieEncoder" id="235947">encoder</a> = <span title="org.jboss.netty.handler.codec.http.CookieEncoder" class="keyword">new</span> <span title="org.jboss.netty.handler.codec.http.CookieEncoder">CookieEncoder</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
      <a href="#235943" title="Seq[play.api.mvc.Cookie]">cookies</a>.<span title="(f: play.api.mvc.Cookie =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="play.api.mvc.Cookie" id="235972">c</a> =&gt;
        <a href="#235947" title="org.jboss.netty.handler.codec.http.CookieEncoder">encoder</a>.<span title="(x$1: org.jboss.netty.handler.codec.http.Cookie)Unit">addCookie</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="org.jboss.netty.handler.codec.http.DefaultCookie" id="236015">nc</a> = <span title="org.jboss.netty.handler.codec.http.DefaultCookie" class="keyword">new</span> <span title="org.jboss.netty.handler.codec.http.DefaultCookie">DefaultCookie</span><span class="delimiter">(</span><a href="#235972" title="play.api.mvc.Cookie">c</a>.<a href="#235414" title="=&gt; String">name</a>, <a href="#235972" title="play.api.mvc.Cookie">c</a>.<a href="#235415" title="=&gt; String">value</a><span class="delimiter">)</span>
          <a href="#236015" title="org.jboss.netty.handler.codec.http.DefaultCookie">nc</a>.<span title="(x$1: Int)Unit">setMaxAge</span><span class="delimiter">(</span><a href="#235972" title="play.api.mvc.Cookie">c</a>.<a href="#235416" title="=&gt; Int">maxAge</a><span class="delimiter">)</span>
          <a href="#236015" title="org.jboss.netty.handler.codec.http.DefaultCookie">nc</a>.<span title="(x$1: java.lang.String)Unit">setPath</span><span class="delimiter">(</span><a href="#235972" title="play.api.mvc.Cookie">c</a>.<a href="#235417" title="=&gt; String">path</a><span class="delimiter">)</span>
          <a href="#235972" title="play.api.mvc.Cookie">c</a>.<a href="#235418" title="=&gt; Option[String]">domain</a>.<span title="(f: String =&gt; Unit)Option[Unit]">map</span><span class="delimiter">(</span><a href="#236015" title="org.jboss.netty.handler.codec.http.DefaultCookie">nc</a>.<span title="(x$1: java.lang.String)Unit">setDomain</span><span class="delimiter">(</span><a href="#236072" title="String">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#236015" title="org.jboss.netty.handler.codec.http.DefaultCookie">nc</a>.<span title="(x$1: Boolean)Unit">setSecure</span><span class="delimiter">(</span><a href="#235972" title="play.api.mvc.Cookie">c</a>.<a href="#235419" title="=&gt; Boolean">secure</a><span class="delimiter">)</span>
          <a href="#236015" title="org.jboss.netty.handler.codec.http.DefaultCookie">nc</a>.<span title="(x$1: Boolean)Unit">setHttpOnly</span><span class="delimiter">(</span><a href="#235972" title="play.api.mvc.Cookie">c</a>.<a href="#235420" title="=&gt; Boolean">httpOnly</a><span class="delimiter">)</span>
          <a href="#236015" title="org.jboss.netty.handler.codec.http.DefaultCookie">nc</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#235946" title="Seq[String]">discard</a>.<span title="(f: String =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="String" id="236091">n</a> =&gt;
        <a href="#235947" title="org.jboss.netty.handler.codec.http.CookieEncoder">encoder</a>.<span title="(x$1: org.jboss.netty.handler.codec.http.Cookie)Unit">addCookie</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="org.jboss.netty.handler.codec.http.DefaultCookie" id="236094">nc</a> = <span title="org.jboss.netty.handler.codec.http.DefaultCookie" class="keyword">new</span> <span title="org.jboss.netty.handler.codec.http.DefaultCookie">DefaultCookie</span><span class="delimiter">(</span><a href="#236091" title="String">n</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
          <a href="#236094" title="org.jboss.netty.handler.codec.http.DefaultCookie">nc</a>.<span title="(x$1: Int)Unit">setMaxAge</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
          <a href="#236094" title="org.jboss.netty.handler.codec.http.DefaultCookie">nc</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#235947" title="org.jboss.netty.handler.codec.http.CookieEncoder">encoder</a>.<span title="()java.lang.String">encode</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Decodes a Set-Cookie header value as a proper cookie set.
     *
     * @param cookieHeader the Set-Cookie header value
     * @return decoded cookies
     */</span>
    <span class="keyword">def</span> <a title="(cookieHeader: String)Seq[play.api.mvc.Cookie]" id="66185">decode</a><span class="delimiter">(</span><a title="String" id="78565">cookieHeader</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Seq[play.api.mvc.Cookie]">Seq</span><span class="delimiter">[</span>Cookie<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span title="org.jboss.netty.handler.codec.http.CookieDecoder" class="keyword">new</span> <span title="org.jboss.netty.handler.codec.http.CookieDecoder">CookieDecoder</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: java.lang.String)java.util.Set[org.jboss.netty.handler.codec.http.Cookie]">decode</span><span title="(s: java.util.Set[org.jboss.netty.handler.codec.http.Cookie])collection.JavaConverters.AsScala[scala.collection.mutable.Set[org.jboss.netty.handler.codec.http.Cookie]]" class="delimiter">(</span><a href="#78565" title="String">cookieHeader</a><span class="delimiter">)</span>.<span title="=&gt; scala.collection.mutable.Set[org.jboss.netty.handler.codec.http.Cookie]">asScala</span>.<span title="(f: org.jboss.netty.handler.codec.http.Cookie =&gt; play.api.mvc.Cookie)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.Set[org.jboss.netty.handler.codec.http.Cookie],play.api.mvc.Cookie,scala.collection.mutable.Set[play.api.mvc.Cookie]])scala.collection.mutable.Set[play.api.mvc.Cookie]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.mutable.Set.Coll,play.api.mvc.Cookie,scala.collection.mutable.Set[play.api.mvc.Cookie]]" class="delimiter">{</span> <a title="org.jboss.netty.handler.codec.http.Cookie" id="236171">c</a> =&gt;
        <a href="#236335" title="(name: String, value: String, maxAge: Int, path: String, domain: Option[String], secure: Boolean, httpOnly: Boolean)play.api.mvc.Cookie">Cookie</a><span class="delimiter">(</span><a href="#236171" title="org.jboss.netty.handler.codec.http.Cookie">c</a>.<span title="()java.lang.String">getName</span>, <a href="#236171" title="org.jboss.netty.handler.codec.http.Cookie">c</a>.<span title="()java.lang.String">getValue</span>, <a href="#236171" title="org.jboss.netty.handler.codec.http.Cookie">c</a>.<span title="()Int">getMaxAge</span>, <span title="(x: java.lang.String)Option[java.lang.String]">Option</span><span class="delimiter">(</span><a href="#236171" title="org.jboss.netty.handler.codec.http.Cookie">c</a>.<span title="()java.lang.String">getPath</span><span class="delimiter">)</span>.<span title="(default: =&gt; java.lang.String)java.lang.String">getOrElse</span><span class="delimiter">(</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span>, <span title="(x: java.lang.String)Option[java.lang.String]">Option</span><span class="delimiter">(</span><a href="#236171" title="org.jboss.netty.handler.codec.http.Cookie">c</a>.<span title="()java.lang.String">getDomain</span><span class="delimiter">)</span>, <a href="#236171" title="org.jboss.netty.handler.codec.http.Cookie">c</a>.<span title="()Boolean">isSecure</span>, <a href="#236171" title="org.jboss.netty.handler.codec.http.Cookie">c</a>.<span title="()Boolean">isHttpOnly</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<span title="=&gt; Seq[play.api.mvc.Cookie]">toSeq</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Merges an existing Set-Cookie header with new cookie values
     *
     * @param cookieHeader the existing Set-Cookie header value
     * @param cookies the new cookies to encode
     * @param discard discard these cookies as well
     * @return a valid Set-Cookie header value
     */</span>
    <span class="keyword">def</span> <a title="(cookieHeader: String, cookies: Seq[play.api.mvc.Cookie], discard: Seq[String])String" id="66186">merge</a><span class="delimiter">(</span><a title="String" id="66187">cookieHeader</a>: <span title="String">String</span>, <a title="Seq[play.api.mvc.Cookie]" id="66188">cookies</a>: <span title="Seq[play.api.mvc.Cookie]">Seq</span><span class="delimiter">[</span>Cookie<span class="delimiter">]</span>, <a title="Seq[String]" id="66333">discard</a>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="object Nil">Nil</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
      <a href="#66184" title="(cookies: Seq[play.api.mvc.Cookie], discard: Seq[String])String">encode</a><span class="delimiter">(</span><a href="#66188" title="Seq[play.api.mvc.Cookie]">cookies</a> <span title="(that: scala.collection.GenTraversableOnce[play.api.mvc.Cookie])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[play.api.mvc.Cookie],play.api.mvc.Cookie,Seq[play.api.mvc.Cookie]])Seq[play.api.mvc.Cookie]">++</span> <a href="#66185" title="(cookieHeader: String)Seq[play.api.mvc.Cookie]">decode</a><span class="delimiter">(</span><a href="#66187" title="String">cookieHeader</a><span class="delimiter">)</span>, <a href="#66333" title="Seq[String]">discard</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>