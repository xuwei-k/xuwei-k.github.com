<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>play/play/api/Application.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> play.api

<span class="keyword">import</span> play.core._
<span class="keyword">import</span> play.utils._

<span class="keyword">import</span> play.api.mvc._

<span class="keyword">import</span> java.io._

<span class="keyword">import</span> scala.collection.<span title="object scala.collection.JavaConverters">JavaConverters</span>._

<span class="keyword">import</span> annotation.implicitNotFound

<span class="comment">/**
 * A Play application.
 *
 * Application creation is handled by the framework engine.
 *
 * If you need to create an ad-hoc application,
 * for example in case of unit testing, you can easily achieve this using:
 * {{{
 * val application = Application(new File(&quot;.&quot;), this.getClass.getClassloader, None, Play.Mode.Dev)
 * }}}
 *
 * This will create an application using the current classloader.
 *
 * @param path the absolute path hosting this application, mainly used by the `getFile(path)` helper method
 * @param classloader the application's classloader
 * @param sources the `SourceMapper` used to retrieve source code displayed in error pages
 * @param mode `Dev` or `Prod`, passed as information for the user code
 */</span>
@implicitNotFound<span class="delimiter">(</span>msg = <span class="string">&quot;You do not have an implicit Application in scope. If you want to bring the current running Application into context, just add import play.api.Play.current&quot;</span><span class="delimiter">)</span>
<span class="keyword">class</span> <a title="class Application extends java.lang.Object with ScalaObject" id="10388">Application</a><a href="#10388" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="java.io.File" id="68138">path</a>: <span title="java.io.File">File</span>, <span class="keyword">val</span> <a title="java.lang.ClassLoader" id="68139">classloader</a>: <span title="java.lang.ClassLoader">ClassLoader</span>, <span class="keyword">val</span> <a title="Option[play.core.SourceMapper]" id="68140">sources</a>: <span title="Option[play.core.SourceMapper]">Option</span><span class="delimiter">[</span>SourceMapper<span class="delimiter">]</span>, <span class="keyword">val</span> <a title="play.api.Mode.Mode" id="68141">mode</a>: Mode.<span title="play.api.Mode.Mode">Mode</span><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="play.api.Configuration" id="68048">initialConfiguration</a> = <a href="../core/utils/Threads.scala.html#21014" title="object play.utils.Threads">Threads</a>.<a href="../core/utils/Threads.scala.html#81698" title="(classloader: java.lang.ClassLoader)(b: =&gt; play.api.Configuration)play.api.Configuration">withContextClassLoader</a><span class="delimiter">(</span><a href="#68139" title="=&gt; java.lang.ClassLoader">classloader</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="Configuration.scala.html#10662" title="object play.api.Configuration">Configuration</a>.<a href="Configuration.scala.html#68353" title="(appPath: java.io.File, mode: play.api.Mode.Mode)play.api.Configuration">load</a><span class="delimiter">(</span><a href="#68138" title="=&gt; java.io.File">path</a>, <a href="#68141" title="=&gt; play.api.Mode.Mode">mode</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">// -- Global stuff</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="String" id="68050">globalClass</a> = <a href="#68048" title="=&gt; play.api.Configuration">initialConfiguration</a>.<a href="Configuration.scala.html#68338" title="(path: String, validValues: Option[Set[String]])Option[String]">getString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;global&quot;)" class="string">&quot;global&quot;</span><span class="delimiter">)</span>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Global&quot;)" class="string">&quot;Global&quot;</span><span class="delimiter">)</span>

  <span class="keyword">lazy</span> <span class="keyword">private</span> <span class="keyword">val</span> <a title="Option[play.GlobalSettings]" id="68053">javaGlobal</a>: <span title="Option[play.GlobalSettings]">Option</span><span class="delimiter">[</span>play.GlobalSettings<span class="delimiter">]</span> = <span class="keyword">try</span> <span class="delimiter">{</span>
    <span title="(x: play.GlobalSettings)Option[play.GlobalSettings]">Option</span><span class="delimiter">(</span><a href="#68139" title="=&gt; java.lang.ClassLoader">classloader</a>.<span title="(x$1: java.lang.String)java.lang.Class[_]">loadClass</span><span class="delimiter">(</span><a href="#68050" title="=&gt; String">globalClass</a><span class="delimiter">)</span>.<span title="()?0">newInstance</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="play.GlobalSettings" class="delimiter">[</span>play.<a href="../GlobalSettings.java.html#10216" title="play.GlobalSettings">GlobalSettings</a><span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="None.type" id="82084">e</a>: <span title="java.lang.InstantiationException">InstantiationException</span> =&gt; <span title="object None">None</span>
    <span class="keyword">case</span> <a title="None.type" id="82088">e</a>: <span title="java.lang.ClassNotFoundException">ClassNotFoundException</span> =&gt; <span title="object None">None</span>
    <span class="keyword">case</span> <a title="Nothing" id="82097">e</a> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#82097" title="java.lang.Throwable">e</a>
  <span class="delimiter">}</span>

  <span class="keyword">lazy</span> <span class="keyword">private</span> <span class="keyword">val</span> <a title="play.api.GlobalSettings" id="68055">scalaGlobal</a>: <a href="Global.scala.html#10460" title="play.api.GlobalSettings">GlobalSettings</a> = <span class="keyword">try</span> <span class="delimiter">{</span>
    <a href="#68139" title="=&gt; java.lang.ClassLoader">classloader</a>.<span title="(x$1: java.lang.String)java.lang.Class[_]">loadClass</span><span class="delimiter">(</span><a href="#68050" title="=&gt; String">globalClass</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>.<span title="(x$1: java.lang.String)java.lang.reflect.Field">getDeclaredField</span><span class="delimiter">(</span><span title="java.lang.String(&quot;MODULE$&quot;)" class="string">&quot;MODULE$&quot;</span><span class="delimiter">)</span>.<span title="(x$1: Any)java.lang.Object">get</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="play.api.GlobalSettings" class="delimiter">[</span><a href="Global.scala.html#10460" title="play.api.GlobalSettings">GlobalSettings</a><span class="delimiter">]</span>
  <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="play.api.DefaultGlobal.type" id="82100">e</a>: <span title="java.lang.ClassNotFoundException">ClassNotFoundException</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#68048" title="=&gt; play.api.Configuration">initialConfiguration</a>.<a href="Configuration.scala.html#68338" title="(path: String, validValues: Option[Set[String]])Option[String]">getString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;application.global&quot;)" class="string">&quot;application.global&quot;</span><span class="delimiter">)</span>.<span title="=&gt; Boolean">isDefined</span> =&gt; <a href="Global.scala.html#10416" title="object play.api.DefaultGlobal">DefaultGlobal</a>
    <span class="keyword">case</span> <a title="Nothing" id="82102">e</a> <span class="keyword">if</span> <a href="#68048" title="=&gt; play.api.Configuration">initialConfiguration</a>.<a href="Configuration.scala.html#68338" title="(path: String, validValues: Option[Set[String]])Option[String]">getString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;application.global&quot;)" class="string">&quot;application.global&quot;</span><span class="delimiter">)</span>.<span title="=&gt; Boolean">isDefined</span> =&gt; <span class="delimiter">{</span>
      <span title="Nothing" class="keyword">throw</span> <a href="#68048" title="=&gt; play.api.Configuration">initialConfiguration</a>.<a href="Configuration.scala.html#68346" title="(path: String, message: String, e: Option[Throwable])play.api.PlayException">reportError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;application.global&quot;)" class="string">&quot;application.global&quot;</span>, <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Cannot init the Global object (%s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#82102" title="java.lang.Throwable">e</a>.<span title="()java.lang.String">getMessage</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">case</span> <a title="Nothing" id="82115">e</a> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#82115" title="java.lang.Throwable">e</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The global settings object used by this application.
   *
   * @see play.api.GlobalSettings
   */</span>
  <span class="keyword">val</span> <a title="play.api.GlobalSettings" id="68056">global</a>: <a href="Global.scala.html#10460" title="play.api.GlobalSettings">GlobalSettings</a> = <a href="../core/utils/Threads.scala.html#21014" title="object play.utils.Threads">Threads</a>.<a href="../core/utils/Threads.scala.html#81698" title="(classloader: java.lang.ClassLoader)(b: =&gt; play.api.GlobalSettings)play.api.GlobalSettings">withContextClassLoader</a><span class="delimiter">(</span><a href="#68139" title="=&gt; java.lang.ClassLoader">classloader</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <a href="#68052" title="=&gt; Option[play.GlobalSettings]">javaGlobal</a>.<span title="(f: play.GlobalSettings =&gt; play.core.j.JavaGlobalSettingsAdapter)Option[play.core.j.JavaGlobalSettingsAdapter]">map</span><span class="delimiter">(</span><span title="play.core.j.JavaGlobalSettingsAdapter" class="keyword">new</span> j.<a href="../core/j/JavaGlobalSettingsAdapter.scala.html#19924" title="play.core.j.JavaGlobalSettingsAdapter">JavaGlobalSettingsAdapter</a><span class="delimiter">(</span><a href="#82124" title="play.GlobalSettings">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; play.api.GlobalSettings)play.api.GlobalSettings">getOrElse</span><span class="delimiter">(</span><a href="#68054" title="=&gt; play.api.GlobalSettings">scalaGlobal</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Nothing" id="82143">e</a>: <a href="Exceptions.scala.html#10664" title="play.api.PlayException">PlayException</a> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#82143" title="play.api.PlayException">e</a>
      <span class="keyword">case</span> <a title="Nothing" id="82144">e</a> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="Exceptions.scala.html#81987" title="(title: String, description: String, cause: Option[Throwable])play.api.PlayException">PlayException</a><span class="delimiter">(</span>
        <span title="java.lang.String(&quot;Cannot init the Global object&quot;)" class="string">&quot;Cannot init the Global object&quot;</span>,
        <a href="#82144" title="java.lang.Throwable">e</a>.<span title="()java.lang.String">getMessage</span>,
        <span title="(x: java.lang.Throwable)Some[java.lang.Throwable]">Some</span><span class="delimiter">(</span><a href="#82144" title="java.lang.Throwable">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="play.api.Configuration" id="68058">fullConfiguration</a> = <a href="#68048" title="=&gt; play.api.Configuration">initialConfiguration</a> <a href="Configuration.scala.html#68334" title="(other: play.api.Configuration)play.api.Configuration">++</a> <a href="#68056" title="=&gt; play.api.GlobalSettings">global</a>.<a href="Global.scala.html#82023" title="=&gt; play.api.Configuration">configuration</a>

  <span class="comment">/**
   * The configuration used by this application.
   *
   * @see play.api.Configuration
   */</span>
  <span class="keyword">def</span> <a title="=&gt; play.api.Configuration" id="68060">configuration</a>: <a href="Configuration.scala.html#10661" title="play.api.Configuration">Configuration</a> = <a href="#68058" title="=&gt; play.api.Configuration">fullConfiguration</a>

  <span class="comment">/**
   * The router used by this application (if defined).
   */</span>
  <span class="keyword">val</span> <a title="Option[play.core.Router.Routes]" id="68061">routes</a>: <span title="Option[play.core.Router.Routes]">Option</span><span class="delimiter">[</span>Router.Routes<span class="delimiter">]</span> = <span class="keyword">try</span> <span class="delimiter">{</span>
    <span title="(x: play.core.Router.Routes)Some[play.core.Router.Routes]">Some</span><span class="delimiter">(</span><a href="#68139" title="=&gt; java.lang.ClassLoader">classloader</a>.<span title="(x$1: java.lang.String)java.lang.Class[_]">loadClass</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Routes$&quot;)" class="string">&quot;Routes$&quot;</span><span class="delimiter">)</span>.<span title="(x$1: java.lang.String)java.lang.reflect.Field">getDeclaredField</span><span class="delimiter">(</span><span title="java.lang.String(&quot;MODULE$&quot;)" class="string">&quot;MODULE$&quot;</span><span class="delimiter">)</span>.<span title="(x$1: Any)java.lang.Object">get</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="play.core.Router.Routes" class="delimiter">[</span>Router.<a href="../core/router/Router.scala.html#78744" title="play.core.Router.Routes">Routes</a><span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="None.type" id="82160">e</a>: <span title="java.lang.ClassNotFoundException">ClassNotFoundException</span> =&gt; <span title="object None">None</span>
    <span class="keyword">case</span> <a title="Nothing" id="82161">e</a> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#82161" title="java.lang.Throwable">e</a>
  <span class="delimiter">}</span>

  <span class="comment">// Reconfigure logger</span>
  <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="Some[scala.collection.immutable.Set[java.lang.String]]" id="82162">validValues</a> = <span title="(x: scala.collection.immutable.Set[java.lang.String])Some[scala.collection.immutable.Set[java.lang.String]]">Some</span><span class="delimiter">(</span><span title="(elems: java.lang.String*)scala.collection.immutable.Set[java.lang.String]">Set</span><span class="delimiter">(</span><span title="java.lang.String(&quot;TRACE&quot;)" class="string">&quot;TRACE&quot;</span>, <span title="java.lang.String(&quot;DEBUG&quot;)" class="string">&quot;DEBUG&quot;</span>, <span title="java.lang.String(&quot;INFO&quot;)" class="string">&quot;INFO&quot;</span>, <span title="java.lang.String(&quot;WARN&quot;)" class="string">&quot;WARN&quot;</span>, <span title="java.lang.String(&quot;ERROR&quot;)" class="string">&quot;ERROR&quot;</span>, <span title="java.lang.String(&quot;OFF&quot;)" class="string">&quot;OFF&quot;</span>, <span title="java.lang.String(&quot;INHERITED&quot;)" class="string">&quot;INHERITED&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="String =&gt; ch.qos.logback.classic.Level" id="82163">setLevel</a> = <span class="delimiter">(</span>level: <span title="String">String</span><span class="delimiter">)</span> =&gt; <a href="#82254" title="String">level</a> <span title="ch.qos.logback.classic.Level" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Null(null)" class="string">&quot;INHERITED&quot;</span> =&gt; <span title="Null(null)" class="keyword">null</span>
      <span class="keyword">case</span> <a title="ch.qos.logback.classic.Level" id="82255">level</a> =&gt; ch.qos.logback.classic.<span title="object ch.qos.logback.classic.Level">Level</span>.<span title="(x$1: java.lang.String)ch.qos.logback.classic.Level">toLevel</span><span class="delimiter">(</span><a href="#82255" title="String">level</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="Logger.scala.html#10653" title="object play.api.Logger">Logger</a>.<a href="Logger.scala.html#82400" title="(properties: Map[String,String], levels: Map[String,ch.qos.logback.classic.Level], mode: play.api.Mode.Value)Unit">configure</a><span class="delimiter">(</span>
      <span title="(elems: (java.lang.String, java.lang.String)*)scala.collection.immutable.Map[java.lang.String,java.lang.String]">Map</span><span class="delimiter">(</span><span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;application.home&quot;</span> <span title="(y: java.lang.String)(java.lang.String, java.lang.String)">-&gt;</span> <a href="#68138" title="=&gt; java.io.File">path</a>.<span title="()java.lang.String">getAbsolutePath</span><span class="delimiter">)</span>,
      <a href="#68060" title="=&gt; play.api.Configuration">configuration</a>.<a href="Configuration.scala.html#68343" title="(path: String)Option[play.api.Configuration]">getConfig</a><span class="delimiter">(</span><span title="java.lang.String(&quot;logger&quot;)" class="string">&quot;logger&quot;</span><span class="delimiter">)</span>.<span title="(f: play.api.Configuration =&gt; scala.collection.immutable.Map[java.lang.String,ch.qos.logback.classic.Level])Option[scala.collection.immutable.Map[java.lang.String,ch.qos.logback.classic.Level]]">map</span> <span class="delimiter">{</span> <a title="play.api.Configuration" id="82438">loggerConfig</a> =&gt;
        <a href="#82438" title="play.api.Configuration">loggerConfig</a>.<a href="Configuration.scala.html#68344" title="=&gt; Set[String]">keys</a>.<span title="(f: String =&gt; (java.lang.String, ch.qos.logback.classic.Level))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set[String],(java.lang.String, ch.qos.logback.classic.Level),scala.collection.immutable.Set[(java.lang.String, ch.qos.logback.classic.Level)]])scala.collection.immutable.Set[(java.lang.String, ch.qos.logback.classic.Level)]">map</span> <a href="#82493" title="(java.lang.String, ch.qos.logback.classic.Level)" class="delimiter">{</a>
          <span class="keyword">case</span> <span title="(java.lang.String, Null)" class="string">&quot;resource&quot;</span> | <span title="java.lang.String(&quot;file&quot;)" class="string">&quot;file&quot;</span> | <span title="java.lang.String(&quot;url&quot;)" class="string">&quot;url&quot;</span> =&gt; <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;&quot;</span> <span title="(y: Null)(java.lang.String, Null)">-&gt;</span> <span title="Null(null)" class="keyword">null</span>
          <span class="keyword">case</span> <span title="(java.lang.String, ch.qos.logback.classic.Level)">key</span> @ <span class="string">&quot;root&quot;</span> =&gt; <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;ROOT&quot;</span> <span title="(y: ch.qos.logback.classic.Level)(java.lang.String, ch.qos.logback.classic.Level)">-&gt;</span> <a href="#82438" title="play.api.Configuration">loggerConfig</a>.<a href="Configuration.scala.html#68338" title="(path: String, validValues: Option[Set[String]])Option[String]">getString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;root&quot;)">key</span>, <a href="#82162" title="Some[scala.collection.immutable.Set[java.lang.String]]">validValues</a><span class="delimiter">)</span>.<span title="(f: String =&gt; ch.qos.logback.classic.Level)Option[ch.qos.logback.classic.Level]">map</span><span class="delimiter">(</span><a href="#82163" title="String =&gt; ch.qos.logback.classic.Level">setLevel</a><span class="delimiter">)</span>.<span title="=&gt; ch.qos.logback.classic.Level">get</span>
          <span class="keyword">case</span> <a title="(String, ch.qos.logback.classic.Level)" id="82531">key</a> =&gt; <a href="#82531" title="(x: String)ArrowAssoc[String]">key</a> <span title="(y: ch.qos.logback.classic.Level)(String, ch.qos.logback.classic.Level)">-&gt;</span> <a href="#82438" title="play.api.Configuration">loggerConfig</a>.<a href="Configuration.scala.html#68338" title="(path: String, validValues: Option[Set[String]])Option[String]">getString</a><span class="delimiter">(</span><a href="#82531" title="String">key</a>, <a href="#82162" title="Some[scala.collection.immutable.Set[java.lang.String]]">validValues</a><span class="delimiter">)</span>.<span title="(f: String =&gt; ch.qos.logback.classic.Level)Option[ch.qos.logback.classic.Level]">map</span><span class="delimiter">(</span><a href="#82163" title="String =&gt; ch.qos.logback.classic.Level">setLevel</a><span class="delimiter">)</span>.<span title="=&gt; ch.qos.logback.classic.Level">get</span>
        <span class="delimiter">}</span>.<span title="(implicit ev: &lt;:&lt;[(java.lang.String, ch.qos.logback.classic.Level),(java.lang.String, ch.qos.logback.classic.Level)])scala.collection.immutable.Map[java.lang.String,ch.qos.logback.classic.Level]">toMap</span>
      <span class="delimiter">}</span>.<span title="(default: =&gt; scala.collection.immutable.Map[java.lang.String,ch.qos.logback.classic.Level])scala.collection.immutable.Map[java.lang.String,ch.qos.logback.classic.Level]">getOrElse</span><span class="delimiter">(</span><span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[String,Nothing]">empty</span><span class="delimiter">)</span>,
      <a href="#68141" title="=&gt; play.api.Mode.Mode">mode</a><span class="delimiter">)</span>

  <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span>api<span class="delimiter">]</span> <span class="keyword">def</span> <a title="=&gt; Seq[String]" id="68063">pluginClasses</a>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>

    <span class="keyword">import</span> scalax.file._
    <span class="keyword">import</span> scalax.io.<span title="object scalax.io.JavaConverters">JavaConverters</span>._
    <span class="keyword">import</span> scala.collection.<span title="object scala.collection.JavaConverters">JavaConverters</span>._

    <span class="keyword">val</span> <a title="scala.util.matching.Regex" id="82982">PluginDeclaration</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;([0-9_]+):(.*)&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>

    <span class="keyword">val</span> <a title="List[java.net.URL]" id="82983">pluginFiles</a> = <a href="#68139" title="=&gt; java.lang.ClassLoader">classloader</a>.<span title="(x$1: java.lang.String)java.util.Enumeration[java.net.URL]">getResources</span><span title="(i: java.util.Enumeration[java.net.URL])collection.JavaConverters.AsScala[Iterator[java.net.URL]]" class="delimiter">(</span><span title="java.lang.String(&quot;play.plugins&quot;)" class="string">&quot;play.plugins&quot;</span><span class="delimiter">)</span>.<span title="=&gt; Iterator[java.net.URL]">asScala</span>.<span title="=&gt; List[java.net.URL]">toList</span> <span title="(that: scala.collection.GenTraversableOnce[java.net.URL])(implicit bf: scala.collection.generic.CanBuildFrom[List[java.net.URL],java.net.URL,List[java.net.URL]])List[java.net.URL]">++</span> <a href="#68139" title="=&gt; java.lang.ClassLoader">classloader</a>.<span title="(x$1: java.lang.String)java.util.Enumeration[java.net.URL]">getResources</span><span title="(i: java.util.Enumeration[java.net.URL])collection.JavaConverters.AsScala[Iterator[java.net.URL]]" class="delimiter">(</span><span title="java.lang.String(&quot;conf/play.plugins&quot;)" class="string">&quot;conf/play.plugins&quot;</span><span class="delimiter">)</span>.<span title="=&gt; Iterator[java.net.URL]">asScala</span>.<span title="=&gt; List[java.net.URL]">toList</span>

    <a href="#82983" title="List[java.net.URL]">pluginFiles</a>.<span title="=&gt; List[java.net.URL]">distinct</span>.<span title="(f: java.net.URL =&gt; Array[(Int, String)])(implicit bf: scala.collection.generic.CanBuildFrom[List[java.net.URL],Array[(Int, String)],List[Array[(Int, String)]]])List[Array[(Int, String)]]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Array[(Int, String)],List[Array[(Int, String)]]]" class="delimiter">{</span> <a title="java.net.URL" id="83210">plugins</a> =&gt;
      <span class="delimiter">(</span><a href="#83210" title="(src: java.net.URL)(implicit converter: scalax.io.JavaConverters.AsInputConverter[java.net.URL])scalax.io.JavaConverters.AsInput">plugins</a>.<a title="scalax.io.Input" id="83249">asInput</a>.<a href="#83249" title="scalax.io.Codec" id="83250">slurpString</a>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>.<span title="(f: java.lang.String =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[Array[java.lang.String],java.lang.String,Array[java.lang.String]])Array[java.lang.String]">map</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><a href="#83698" title="java.lang.String">_</a>.<span title="()java.lang.String">trim</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(p: java.lang.String =&gt; Boolean)Array[java.lang.String]">filterNot</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><a href="#83909" title="java.lang.String">_</a>.<span title="()Boolean">isEmpty</span><span class="delimiter">)</span>.<span title="(f: java.lang.String =&gt; (Int, String))(implicit bf: scala.collection.generic.CanBuildFrom[Array[java.lang.String],(Int, String),Array[(Int, String)]])Array[(Int, String)]">map</span> <a href="#84355" title="(Int, String)" class="delimiter">{</a>
        <span class="keyword">case</span> <a href="#82982" title="(Int, String)">PluginDeclaration</a><span class="delimiter">(</span><a title="String" id="84357">priority</a>, <a title="String" id="84358">className</a><span class="delimiter">)</span> =&gt; <span title="(_1: Int, _2: String)(Int, String)" class="delimiter">(</span><a href="#84357" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">priority</a>.<span title="=&gt; Int">toInt</span>, <a href="#84358" title="String">className</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>.<a href="#84491" title="(implicit asTraversable: Array[(Int, String)] =&gt; scala.collection.TraversableOnce[(Int, String)])List[(Int, String)]">flatten</a>.<span title="(f: (Int, String) =&gt; Int)(implicit ord: scala.math.Ordering[Int])List[(Int, String)]">sortBy</span><span title="object scala.math.Ordering.Int" class="delimiter">(</span><a href="#84508" title="(Int, String)">_</a>.<span title="=&gt; Int">_1</span><span class="delimiter">)</span>.<span title="(f: (Int, String) =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Int, String)],String,Seq[String]])Seq[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</span><a href="#84893" title="(Int, String)">_</a>.<span title="=&gt; String">_2</span><span class="delimiter">)</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * The plugins list used by this application.
   *
   * Plugin classes must extend play.api.Plugin and are automatically discovered
   * by searching for all play.plugins files in the classpath.
   *
   * A play.plugins file contains a list of plugin classes to be loaded, and sorted by priority:
   *
   * {{{
   * 100:play.api.i18n.MessagesPlugin
   * 200:play.api.db.DBPlugin
   * 250:play.api.cache.BasicCachePlugin
   * 300:play.db.ebean.EbeanPlugin
   * 400:play.db.jpa.JPAPlugin
   * 500:play.api.db.evolutions.EvolutionsPlugin
   * 1000:play.api.libs.akka.AkkaPlugin
   * 10000:play.api.GlobalPlugin
   * }}}
   *
   * @see play.api.Plugin
   */</span>
  <span class="keyword">val</span> <a title="Seq[play.api.Plugin]" id="68064">plugins</a>: <span title="Seq[play.api.Plugin]">Seq</span><span class="delimiter">[</span>Plugin<span class="delimiter">]</span> = <a href="../core/utils/Threads.scala.html#21014" title="object play.utils.Threads">Threads</a>.<a href="../core/utils/Threads.scala.html#81698" title="(classloader: java.lang.ClassLoader)(b: =&gt; Seq[play.api.Plugin])Seq[play.api.Plugin]">withContextClassLoader</a><span class="delimiter">(</span><a href="#68139" title="=&gt; java.lang.ClassLoader">classloader</a><span class="delimiter">)</span> <span class="delimiter">{</span>

    <a href="#68063" title="=&gt; Seq[String]">pluginClasses</a>.<span title="(f: String =&gt; Option[play.api.Plugin])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[String],Option[play.api.Plugin],Seq[Option[play.api.Plugin]]])Seq[Option[play.api.Plugin]]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Option[play.api.Plugin],Seq[Option[play.api.Plugin]]]" class="delimiter">{</span> <a title="String" id="84953">className</a> =&gt;
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="play.api.Plugin" id="84954">plugin</a> = <a href="#68139" title="=&gt; java.lang.ClassLoader">classloader</a>.<span title="(x$1: java.lang.String)java.lang.Class[_]">loadClass</span><span class="delimiter">(</span><a href="#84953" title="String">className</a><span class="delimiter">)</span>.<span title="(x$1: &lt;repeated...&gt;[java.lang.Class[_]])java.lang.reflect.Constructor[?0]">getConstructor</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[play.api.Application](classOf[play.api.Application])" class="delimiter">[</span>Application<span class="delimiter">]</span><span class="delimiter">)</span>.<span title="(x$1: &lt;repeated...&gt;[java.lang.Object])?0">newInstance</span><span class="delimiter">(</span><a href="#10388" title="play.api.Application" class="keyword">this</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="play.api.Plugin" class="delimiter">[</span><a href="Plugins.scala.html#10469" title="play.api.Plugin">Plugin</a><span class="delimiter">]</span>
        <span title="Option[play.api.Plugin]" class="keyword">if</span> <span class="delimiter">(</span><a href="#84954" title="play.api.Plugin">plugin</a>.<a href="Plugins.scala.html#85025" title="=&gt; Boolean">enabled</a><span class="delimiter">)</span> <span title="(x: play.api.Plugin)Some[play.api.Plugin]">Some</span><span class="delimiter">(</span><a href="#84954" title="play.api.Plugin">plugin</a><span class="delimiter">)</span> <span class="keyword">else</span> <span class="delimiter">{</span> <a href="Logger.scala.html#82396" title="(name: String)play.api.Logger">Logger</a><span class="delimiter">(</span><span title="java.lang.String(&quot;play&quot;)" class="string">&quot;play&quot;</span><span class="delimiter">)</span>.<a href="Logger.scala.html#82384" title="(message: =&gt; String)Unit">debug</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Plugin [&quot;)" class="string">&quot;Plugin [&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#84953" title="String">className</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;] is disabled&quot;)" class="string">&quot;] is disabled&quot;</span><span class="delimiter">)</span>; <span title="object None">None</span> <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Option[play.api.Plugin]" id="85070">e</a>: java.lang.<span title="java.lang.NoSuchMethodException">NoSuchMethodException</span> =&gt; <span class="delimiter">{</span>
          <span class="keyword">try</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="play.api.Plugin" id="85074">plugin</a> = <a href="#68139" title="=&gt; java.lang.ClassLoader">classloader</a>.<span title="(x$1: java.lang.String)java.lang.Class[_]">loadClass</span><span class="delimiter">(</span><a href="#84953" title="String">className</a><span class="delimiter">)</span>.<span title="(x$1: &lt;repeated...&gt;[java.lang.Class[_]])java.lang.reflect.Constructor[?0]">getConstructor</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[play.Application](classOf[play.Application])" class="delimiter">[</span>play.Application<span class="delimiter">]</span><span class="delimiter">)</span>.<span title="(x$1: &lt;repeated...&gt;[java.lang.Object])?0">newInstance</span><span class="delimiter">(</span><span title="play.Application" class="keyword">new</span> play.<a href="../Application.java.html#10207" title="play.Application">Application</a><span class="delimiter">(</span><a href="#10388" title="play.api.Application" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="play.api.Plugin" class="delimiter">[</span><a href="Plugins.scala.html#10469" title="play.api.Plugin">Plugin</a><span class="delimiter">]</span>
            <span title="Option[play.api.Plugin]" class="keyword">if</span> <span class="delimiter">(</span><a href="#85074" title="play.api.Plugin">plugin</a>.<a href="Plugins.scala.html#85025" title="=&gt; Boolean">enabled</a><span class="delimiter">)</span> <span title="(x: play.api.Plugin)Some[play.api.Plugin]">Some</span><span class="delimiter">(</span><a href="#85074" title="play.api.Plugin">plugin</a><span class="delimiter">)</span> <span class="keyword">else</span> <span class="delimiter">{</span> <a href="Logger.scala.html#82396" title="(name: String)play.api.Logger">Logger</a><span class="delimiter">(</span><span title="java.lang.String(&quot;play&quot;)" class="string">&quot;play&quot;</span><span class="delimiter">)</span>.<a href="Logger.scala.html#82388" title="(message: =&gt; String)Unit">warn</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Plugin [&quot;)" class="string">&quot;Plugin [&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#84953" title="String">className</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;] is disabled&quot;)" class="string">&quot;] is disabled&quot;</span><span class="delimiter">)</span>; <span title="object None">None</span> <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Nothing" id="85127">e</a>: <a href="Exceptions.scala.html#10664" title="play.api.PlayException">PlayException</a> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#85127" title="play.api.PlayException">e</a>
            <span class="keyword">case</span> <a title="Nothing" id="85128">e</a> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="Exceptions.scala.html#81987" title="(title: String, description: String, cause: Option[Throwable])play.api.PlayException">PlayException</a><span class="delimiter">(</span>
              <span title="java.lang.String(&quot;Cannot load plugin&quot;)" class="string">&quot;Cannot load plugin&quot;</span>,
              <span title="java.lang.String(&quot;Plugin [&quot;)" class="string">&quot;Plugin [&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#84953" title="String">className</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;] cannot been instantiated.&quot;)" class="string">&quot;] cannot been instantiated.&quot;</span>,
              <span title="(x: java.lang.Throwable)Some[java.lang.Throwable]">Some</span><span class="delimiter">(</span><a href="#85128" title="java.lang.Throwable">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">case</span> <a title="Nothing" id="85132">e</a>: <a href="Exceptions.scala.html#10664" title="play.api.PlayException">PlayException</a> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#85132" title="play.api.PlayException">e</a>
        <span class="keyword">case</span> <a title="Nothing" id="85133">e</a> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="Exceptions.scala.html#81987" title="(title: String, description: String, cause: Option[Throwable])play.api.PlayException">PlayException</a><span class="delimiter">(</span>
          <span title="java.lang.String(&quot;Cannot load plugin&quot;)" class="string">&quot;Cannot load plugin&quot;</span>,
          <span title="java.lang.String(&quot;Plugin [&quot;)" class="string">&quot;Plugin [&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#84953" title="String">className</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;] cannot been instantiated.&quot;)" class="string">&quot;] cannot been instantiated.&quot;</span>,
          <span title="(x: java.lang.Throwable)Some[java.lang.Throwable]">Some</span><span class="delimiter">(</span><a href="#85133" title="java.lang.Throwable">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>.<a href="#85190" title="(implicit asTraversable: Option[play.api.Plugin] =&gt; scala.collection.TraversableOnce[play.api.Plugin])Seq[play.api.Plugin]">flatten</a>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * Retrieves a plugin of type `T`.
   *
   * For example, to retrieve the DBPlugin instance:
   * {{{
   * val dbPlugin = application.plugin[DBPlugin].map(_.api).getOrElse(sys.error(&quot;problem with the plugin&quot;))
   * }}}
   *
   * @tparam T the plugin type
   * @return The plugin instance used by this application.
   * @throws Error if no plugins of type T are loaded by this application.
   */</span>
  <span class="keyword">def</span> <a title="[T](implicit m: Manifest[T])Option[T]" id="68066">plugin</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="68068">T</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Manifest[T]" id="85196">m</a>: <span title="Manifest[T]">Manifest</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[T]">Option</span><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#68069" title="(pluginClass: Class[_$1])Option[_$1]">plugin</a><span class="delimiter">(</span><a href="#85196" title="Manifest[T]">m</a>.<span title="=&gt; java.lang.Class[_]">erasure</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Option[T]" class="delimiter">[</span><span title="Option[T]">Option</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>

  <span class="comment">/**
   * Retrieves a plugin of type `T`.
   *
   * For example, retrieving the DBPlugin instance:
   * {{{
   * val dbPlugin = application.plugin(classOf[DBPlugin])
   * }}}
   *
   * @tparam T the plugin type
   * @param  pluginClass the pluginâ€™s class
   * @return the plugin instance, wrapped in an option, used by this application
   * @throws Error if no plugins of type `T` are loaded by this application
   */</span>
  <span class="keyword">def</span> <a title="[T](pluginClass: Class[T])Option[T]" id="68069">plugin</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="68071">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Class[T]" id="85203">pluginClass</a>: <span title="Class[T]">Class</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[T]">Option</span><span class="delimiter">[</span>T<span class="delimiter">]</span> =
    <a href="#68064" title="=&gt; Seq[play.api.Plugin]">plugins</a>.<span title="(p: play.api.Plugin =&gt; Boolean)Option[play.api.Plugin]">find</span><span class="delimiter">(</span><a title="play.api.Plugin" id="85225">p</a> =&gt; <a href="#85203" title="Class[T]">pluginClass</a>.<span title="(x$1: java.lang.Class[_])Boolean">isAssignableFrom</span><span class="delimiter">(</span><a href="#85225" title="play.api.Plugin">p</a>.<span title="()java.lang.Class[_]">getClass</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: play.api.Plugin =&gt; T)Option[T]">map</span><span class="delimiter">(</span><a href="#85233" title="play.api.Plugin">_</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="T" class="delimiter">[</span><a href="#68071" title="T">T</a><span class="delimiter">]</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Retrieves a file relative to the application root path.
   *
   * For example, to retrieve a configuration file:
   * {{{
   * val myConf = application.getFile(&quot;conf/myConf.yml&quot;)
   * }}}
   *
   * @param relativePath relative path of the file to fetch
   * @return a file instance; it is not guaranteed that the file exists
   */</span>
  <span class="keyword">def</span> <a title="(relativePath: String)java.io.File" id="68072">getFile</a><span class="delimiter">(</span><a title="String" id="85235">relativePath</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="java.io.File">File</span> = <span title="(x$1: java.io.File, x$2: java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#68138" title="=&gt; java.io.File">path</a>, <a href="#85235" title="String">relativePath</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Retrieves a file relative to the application root path.
   * This method returns an Option[File], using None if the file was not found.
   *
   * For example, to retrieve a configuration file:
   * {{{
   * val myConf = application.getExistingFile(&quot;conf/myConf.yml&quot;)
   * }}}
   *
   * @param relativePath the relative path of the file to fetch
   * @return an existing file
   */</span>
  <span class="keyword">def</span> <a title="(relativePath: String)Option[java.io.File]" id="68073">getExistingFile</a><span class="delimiter">(</span><a title="String" id="85241">relativePath</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[java.io.File]">Option</span><span class="delimiter">[</span>File<span class="delimiter">]</span> = <span title="(x: java.io.File)Option[java.io.File]">Option</span><span class="delimiter">(</span><a href="#68072" title="(relativePath: String)java.io.File">getFile</a><span class="delimiter">(</span><a href="#85241" title="String">relativePath</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(p: java.io.File =&gt; Boolean)Option[java.io.File]">filter</span><span class="delimiter">(</span><a href="#85248" title="java.io.File">_</a>.<span title="()Boolean">exists</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Scans the application classloader to retrieve all types annotated with a specific annotation.
   *
   * This method is useful for some plugins, for example the EBean plugin will automatically detect all types
   * annotated with `@javax.persistance.Entity`, using:
   * {{{
   * val entities = application.getTypesAnnotatedWith(&quot;models&quot;, classOf[javax.persistance.Entity])
   * }}}
   *
   * Note that it is better to specify a very specific package to avoid expensive searches.
   *
   * @tparam T the annotation type
   * @param packageName the root package to scan
   * @param annotation the annotation class
   * @return a set of types names specifying the condition
   */</span>
  <span class="keyword">def</span> <a title="[T &lt;: java.lang.annotation.Annotation](packageName: String, annotation: Class[T])Set[String]" id="68074">getTypesAnnotatedWith</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: java.lang.annotation.Annotation" id="68076">T</a> &lt;: java.lang.annotation.Annotation<span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="85249">packageName</a>: <span title="String">String</span>, <a title="Class[T]" id="85250">annotation</a>: <span title="Class[T]">Class</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Set[String]">Set</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">import</span> org.reflections._
    <span title="org.reflections.Reflections" class="keyword">new</span> <span title="org.reflections.Reflections">Reflections</span><span class="delimiter">(</span>
      <span title="org.reflections.util.ConfigurationBuilder" class="keyword">new</span> util.<span title="org.reflections.util.ConfigurationBuilder">ConfigurationBuilder</span><span class="delimiter">(</span><span class="delimiter">)</span>
        .<span title="(x$1: java.util.Collection[java.net.URL])org.reflections.util.ConfigurationBuilder">addUrls</span><span class="delimiter">(</span>util.<span title="object org.reflections.util.ClasspathHelper">ClasspathHelper</span>.<span title="(x$1: java.lang.String, x$2: &lt;repeated...&gt;[java.lang.ClassLoader])java.util.Set[java.net.URL]">forPackage</span><span class="delimiter">(</span><a href="#85249" title="String">packageName</a>, <a href="#68139" title="=&gt; java.lang.ClassLoader">classloader</a><span class="delimiter">)</span><span class="delimiter">)</span>
        .<span title="(x$1: &lt;repeated...&gt;[org.reflections.scanners.Scanner])org.reflections.util.ConfigurationBuilder">setScanners</span><span class="delimiter">(</span><span title="org.reflections.scanners.TypeAnnotationsScanner" class="keyword">new</span> scanners.<span title="org.reflections.scanners.TypeAnnotationsScanner">TypeAnnotationsScanner</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="()org.reflections.Store">getStore</span>.<span title="(x$1: java.lang.String)java.util.Set[java.lang.String]">getTypesAnnotatedWith</span><span title="(s: java.util.Set[java.lang.String])collection.JavaConverters.AsScala[scala.collection.mutable.Set[java.lang.String]]" class="delimiter">(</span><a href="#85250" title="Class[T]">annotation</a>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>.<span title="=&gt; scala.collection.mutable.Set[java.lang.String]">asScala</span>.<span title="scala.collection.immutable.Set[java.lang.String]">toSet</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Scans the application classloader to retrieve a resource.
   *
   * For example, to retrieve a configuration file:
   * {{{
   * val maybeConf = application.resource(&quot;conf/logger.xml&quot;)
   * }}}
   *
   * @param name the absolute name of the resource (from the classpath root)
   * @return the resource URL, if found
   */</span>
  <span class="keyword">def</span> <a title="(name: String)Option[java.net.URL]" id="68077">resource</a><span class="delimiter">(</span><a title="String" id="89187">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[java.net.URL]">Option</span><span class="delimiter">[</span>java.net.URL<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="(x: java.net.URL)Option[java.net.URL]">Option</span><span class="delimiter">(</span><a href="#68139" title="=&gt; java.lang.ClassLoader">classloader</a>.<span title="(x$1: java.lang.String)java.net.URL">getResource</span><span class="delimiter">(</span><span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><a href="#89187" title="String">name</a><span class="delimiter">)</span>.<span title="(f: String =&gt; String)Option[String]">map</span> <a href="#89198" title="String" class="delimiter">{</a>
      <span class="keyword">case</span> <a title="String" id="89199">s</a> <span class="keyword">if</span> <a href="#89199" title="String">s</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span> =&gt; <a href="#89199" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">s</a>.<span title="(n: Int)String">drop</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="String" id="89311">s</a> =&gt; <a href="#89311" title="String">s</a>
    <span class="delimiter">}</span>.<span title="=&gt; String">get</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Scans the application classloader to retrieve a resourceâ€™s contents as a stream.
   *
   * For example, to retrieve a configuration file:
   * {{{
   * val maybeConf = application.resourceAsStream(&quot;conf/logger.xml&quot;)
   * }}}
   *
   * @param name the absolute name of the resource (from the classpath root)
   * @return a stream, if found
   */</span>
  <span class="keyword">def</span> <a title="(name: String)Option[java.io.InputStream]" id="68078">resourceAsStream</a><span class="delimiter">(</span><a title="String" id="89314">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[java.io.InputStream]">Option</span><span class="delimiter">[</span>InputStream<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="(x: java.io.InputStream)Option[java.io.InputStream]">Option</span><span class="delimiter">(</span><a href="#68139" title="=&gt; java.lang.ClassLoader">classloader</a>.<span title="(x$1: java.lang.String)java.io.InputStream">getResourceAsStream</span><span class="delimiter">(</span><span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><a href="#89314" title="String">name</a><span class="delimiter">)</span>.<span title="(f: String =&gt; String)Option[String]">map</span> <a href="#89324" title="String" class="delimiter">{</a>
      <span class="keyword">case</span> <a title="String" id="89325">s</a> <span class="keyword">if</span> <a href="#89325" title="String">s</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span> =&gt; <a href="#89325" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">s</a>.<span title="(n: Int)String">drop</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="String" id="89437">s</a> =&gt; <a href="#89437" title="String">s</a>
    <span class="delimiter">}</span>.<span title="=&gt; String">get</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>