<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>anorm/Utils.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> anorm

case <span class="keyword">class</span> <a title="class MayErr[+E, +A] extends java.lang.Object with ScalaObject with Product with Serializable" id="25074">MayErr</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="25077">E</a>, +<a title="&gt;: Nothing &lt;: Any" id="25078">A</a><span class="delimiter">]</span><a href="#25074" title="ScalaObject" class="delimiter">(</a><a title="Either[E,A]" id="56606">e</a>: <span title="Either[E,A]">Either</span><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="[B, EE &gt;: E](f: A =&gt; anorm.MayErr[EE,B])anorm.MayErr[EE,B]" id="25095">flatMap</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="25098">B</a>, <a title="&gt;: E &lt;: Any" id="25099">EE</a> &gt;: E<span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; anorm.MayErr[EE,B]" id="44722">f</a>: A =&gt; MayErr<span class="delimiter">[</span>EE, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#25074" title="anorm.MayErr[EE,B]">MayErr</a><span class="delimiter">[</span>EE, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#25074" title="(e: Either[EE,B])anorm.MayErr[EE,B]">MayErr</a><span class="delimiter">(</span><a href="#56606" title="=&gt; Either[E,A]">e</a>.<span title="=&gt; Either.RightProjection[E,A]">right</span>.<span title="(f: A =&gt; Either[EE,B])Either[EE,B]">flatMap</span><span class="delimiter">(</span><a title="A" id="56620">a</a> =&gt; <a href="#44722" title="(v1: A)anorm.MayErr[EE,B]">f</a><span class="delimiter">(</span><a href="#56620" title="A">a</a><span class="delimiter">)</span>.<a href="#56606" title="=&gt; Either[EE,B]">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[B](f: A =&gt; B)anorm.MayErr[E,B]" id="25100">map</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="25102">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; B" id="39846">f</a>: A =&gt; B<span class="delimiter">)</span>: <a href="#25074" title="anorm.MayErr[E,B]">MayErr</a><span class="delimiter">[</span>E, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#25074" title="(e: Either[E,B])anorm.MayErr[E,B]">MayErr</a><span class="delimiter">(</span><a href="#56606" title="=&gt; Either[E,A]">e</a>.<span title="=&gt; Either.RightProjection[E,A]">right</span>.<span title="(f: A =&gt; B)Product with Either[E,B] with Serializable">map</span><span class="delimiter">(</span><a href="#39846" title="A =&gt; B">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[EE &gt;: E](p: A =&gt; Boolean, error: EE)anorm.MayErr[EE,A]" id="25103">filter</a><span class="delimiter">[</span><a title="&gt;: E &lt;: Any" id="25105">EE</a> &gt;: E<span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; Boolean" id="56638">p</a>: A =&gt; Boolean, <a title="EE" id="56639">error</a>: <a href="#25105" title="EE">EE</a><span class="delimiter">)</span>: <a href="#25074" title="anorm.MayErr[EE,A]">MayErr</a><span class="delimiter">[</span>EE, A<span class="delimiter">]</span> = <a href="#25074" title="(e: Either[EE,A])anorm.MayErr[EE,A]">MayErr</a><span class="delimiter">(</span><a href="#56606" title="=&gt; Either[E,A]">e</a>.<span title="=&gt; Either.RightProjection[E,A]">right</span>.<span title="(p: A =&gt; Boolean)Option[Either[Nothing,A]]">filter</span><span class="delimiter">(</span><a href="#56638" title="A =&gt; Boolean">p</a><span class="delimiter">)</span>.<span title="(default: =&gt; Either[EE,A])Either[EE,A]">getOrElse</span><span class="delimiter">(</span><span title="(a: EE)Left[EE,Nothing]">Left</span><span class="delimiter">(</span><a href="#56639" title="EE">error</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="()Option[A]" id="25106">toOptionLoggingError</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Option[A]">Option</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#56606" title="=&gt; Either[E,A]">e</a>.<span title="=&gt; Either.LeftProjection[E,A]">left</span>.<span title="(f: E =&gt; E)Product with Either[E,A] with Serializable">map</span><span class="delimiter">(</span><a title="E" id="56679">m</a> =&gt; <span class="delimiter">{</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#56679" title="E">m</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span>; <a href="#56679" title="E">m</a> <span class="delimiter">}</span><span class="delimiter">)</span>.<span title="=&gt; Either.RightProjection[E,A]">right</span>.<span title="=&gt; Option[A]">toOption</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; A" id="25107">get</a> = <a href="#56606" title="=&gt; Either[E,A]">e</a>.<span title="(fa: E =&gt; A, fb: A =&gt; A)A">fold</span><span class="delimiter">(</span><a title="E" id="45189">e</a> =&gt; <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.RuntimeException" class="keyword">new</span> <span title="java.lang.RuntimeException">RuntimeException</span><span class="delimiter">(</span><a href="#45189" title="E">e</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span>, <a title="A" id="45195">a</a> =&gt; <a href="#45195" title="A">a</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object anorm.MayErr" id="56736">MayErr</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[E, EE &gt;: E, A, AA &gt;: A](e: Either[E,A])anorm.MayErr[EE,AA]" id="25056">eitherToError</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="25061">E</a>, <a title="&gt;: E &lt;: Any" id="25062">EE</a> &gt;: E, <a title="&gt;: Nothing &lt;: Any" id="25063">A</a>, <a title="&gt;: A &lt;: Any" id="25064">AA</a> &gt;: A<span class="delimiter">]</span><span class="delimiter">(</span><a title="Either[E,A]" id="29795">e</a>: <span title="Either[E,A]">Either</span><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#25074" title="anorm.MayErr[EE,AA]">MayErr</a><span class="delimiter">[</span>EE, AA<span class="delimiter">]</span> = <a href="#25074" title="[E, A](e: Either[E,A])anorm.MayErr[E,A]">MayErr</a><span title="(e: Either[E,A])anorm.MayErr[E,A]" class="delimiter">[</span><a href="#25061" title="E">E</a>, <a href="#25063" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#29795" title="Either[E,A]">e</a><span class="delimiter">)</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[E, EE &gt;: E, A, AA &gt;: A](e: anorm.MayErr[E,A])Either[EE,AA]" id="25065">errorToEither</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="25070">E</a>, <a title="&gt;: E &lt;: Any" id="25071">EE</a> &gt;: E, <a title="&gt;: Nothing &lt;: Any" id="25072">A</a>, <a title="&gt;: A &lt;: Any" id="25073">AA</a> &gt;: A<span class="delimiter">]</span><span class="delimiter">(</span><a title="anorm.MayErr[E,A]" id="29623">e</a>: <a href="#25074" title="anorm.MayErr[E,A]">MayErr</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Either[EE,AA]">Either</span><span class="delimiter">[</span>EE, AA<span class="delimiter">]</span> = <a href="#29623" title="anorm.MayErr[E,A]">e</a>.<a href="#56606" title="=&gt; Either[E,A]">e</a>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>