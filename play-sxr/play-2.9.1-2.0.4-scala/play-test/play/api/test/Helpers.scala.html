<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>play-test/play/api/test/Helpers.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> play.api.test

<span class="keyword">import</span> play.api._
<span class="keyword">import</span> play.api.mvc._
<span class="keyword">import</span> play.api.http._

<span class="keyword">import</span> play.api.libs.iteratee._

<span class="keyword">import</span> org.openqa.selenium._
<span class="keyword">import</span> org.openqa.selenium.firefox._
<span class="keyword">import</span> org.openqa.selenium.htmlunit._

<span class="comment">/**
 * Helper functions to run tests.
 */</span>
<span class="keyword">object</span> <a title="object play.api.test.Helpers" id="11036">Helpers</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../../../../play/play/api/http/StandardValues.scala.html#12932" title="play.api.http.Status">Status</a> <span class="keyword">with</span> <a href="../../../../play/play/api/http/StandardValues.scala.html#12977" title="play.api.http.HeaderNames">HeaderNames</a> <span class="delimiter">{</span>

  <span class="keyword">val</span> <a title="java.lang.String" id="67156">GET</a> = <span title="java.lang.String(&quot;GET&quot;)" class="string">&quot;GET&quot;</span>
  <span class="keyword">val</span> <a title="java.lang.String" id="67158">POST</a> = <span title="java.lang.String(&quot;POST&quot;)" class="string">&quot;POST&quot;</span>
  <span class="keyword">val</span> <a title="java.lang.String" id="67160">PUT</a> = <span title="java.lang.String(&quot;PUT&quot;)" class="string">&quot;PUT&quot;</span>
  <span class="keyword">val</span> <a title="java.lang.String" id="67162">DELETE</a> = <span title="java.lang.String(&quot;DELETE&quot;)" class="string">&quot;DELETE&quot;</span>
  <span class="keyword">val</span> <a title="java.lang.String" id="67164">HEAD</a> = <span title="java.lang.String(&quot;HEAD&quot;)" class="string">&quot;HEAD&quot;</span>

  <span class="keyword">val</span> <a title="java.lang.Class[org.openqa.selenium.htmlunit.HtmlUnitDriver]" id="67166">HTMLUNIT</a> = classOf<span title="java.lang.Class[org.openqa.selenium.htmlunit.HtmlUnitDriver](classOf[org.openqa.selenium.htmlunit.HtmlUnitDriver])" class="delimiter">[</span>HtmlUnitDriver<span class="delimiter">]</span>
  <span class="keyword">val</span> <a title="java.lang.Class[org.openqa.selenium.firefox.FirefoxDriver]" id="67168">FIREFOX</a> = classOf<span title="java.lang.Class[org.openqa.selenium.firefox.FirefoxDriver](classOf[org.openqa.selenium.firefox.FirefoxDriver])" class="delimiter">[</span>FirefoxDriver<span class="delimiter">]</span>

  <span class="comment">/**
   * Executes a block of code in a running application.
   */</span>
  <span class="keyword">def</span> <a title="[T](fakeApp: play.api.test.FakeApplication)(block: =&gt; T)T" id="67170">running</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="67172">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.test.FakeApplication" id="71738">fakeApp</a>: <a href="Fakes.scala.html#10996" title="play.api.test.FakeApplication">FakeApplication</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; T" id="71739">block</a>: =&gt; T<span class="delimiter">)</span>: <a href="#67172" title="T">T</a> = <span class="delimiter">{</span>
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <a href="../../../../play/play/api/Play.scala.html#10906" title="object play.api.Play">Play</a>.<a href="../../../../play/play/api/Play.scala.html#71749" title="(app: play.api.Application)Unit">start</a><span class="delimiter">(</span><a href="#71738" title="play.api.test.FakeApplication">fakeApp</a><span class="delimiter">)</span>
      <a href="#71739" title="=&gt; T">block</a>
    <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
      <a href="../../../../play/play/api/Play.scala.html#10906" title="object play.api.Play">Play</a>.<a href="../../../../play/play/api/Play.scala.html#71750" title="()Unit">stop</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Executes a block of code in a running server.
   */</span>
  <span class="keyword">def</span> <a title="[T](testServer: play.api.test.TestServer)(block: =&gt; T)T" id="67173">running</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="67175">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.test.TestServer" id="71767">testServer</a>: <a href="Selenium.scala.html#11011" title="play.api.test.TestServer">TestServer</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; T" id="71768">block</a>: =&gt; T<span class="delimiter">)</span>: <a href="#67175" title="T">T</a> = <span class="delimiter">{</span>
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <a href="#71767" title="play.api.test.TestServer">testServer</a>.<a href="Selenium.scala.html#71781" title="()Unit">start</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#71768" title="=&gt; T">block</a>
    <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
      <a href="#71767" title="play.api.test.TestServer">testServer</a>.<a href="Selenium.scala.html#71782" title="()Unit">stop</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Executes a block of code in a running server, with a test browser.
   */</span>
  <span class="keyword">def</span> <a title="[T, WEBDRIVER &lt;: org.openqa.selenium.WebDriver](testServer: play.api.test.TestServer, webDriver: Class[WEBDRIVER])(block: play.api.test.TestBrowser =&gt; T)T" id="67176">running</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="67179">T</a>, <a title="&gt;: Nothing &lt;: org.openqa.selenium.WebDriver" id="67180">WEBDRIVER</a> &lt;: WebDriver<span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.test.TestServer" id="71786">testServer</a>: <a href="Selenium.scala.html#11011" title="play.api.test.TestServer">TestServer</a>, <a title="Class[WEBDRIVER]" id="71787">webDriver</a>: <span title="Class[WEBDRIVER]">Class</span><span class="delimiter">[</span>WEBDRIVER<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="play.api.test.TestBrowser =&gt; T" id="71788">block</a>: TestBrowser =&gt; T<span class="delimiter">)</span>: <a href="#67179" title="T">T</a> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="play.api.test.TestBrowser" id="71793">browser</a>: <a href="Selenium.scala.html#11026" title="play.api.test.TestBrowser">TestBrowser</a> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <a href="#71786" title="play.api.test.TestServer">testServer</a>.<a href="Selenium.scala.html#71781" title="()Unit">start</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#71793" title="play.api.test.TestBrowser">browser</a> = <a href="Selenium.scala.html#11027" title="object play.api.test.TestBrowser">TestBrowser</a>.<a href="Selenium.scala.html#72162" title="(webDriver: Class[WEBDRIVER])play.api.test.TestBrowser">of</a><span class="delimiter">(</span><a href="#71787" title="Class[WEBDRIVER]">webDriver</a><span class="delimiter">)</span>
      <a href="#71788" title="(v1: play.api.test.TestBrowser)T">block</a><span class="delimiter">(</span><a href="#71793" title="play.api.test.TestBrowser">browser</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#71793" title="play.api.test.TestBrowser">browser</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#71793" title="play.api.test.TestBrowser">browser</a>.<span title="()Unit">quit</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#71786" title="play.api.test.TestServer">testServer</a>.<a href="Selenium.scala.html#71782" title="()Unit">stop</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Apply pending evolutions for the given DB.
   */</span>
  <span class="keyword">def</span> <a title="(dbName: String, path: java.io.File)Unit" id="67181">evolutionFor</a><span class="delimiter">(</span><a title="String" id="72192">dbName</a>: <span title="String">String</span>, <a title="java.io.File" id="72195">path</a>: java.io.<span title="java.io.File">File</span> = <span title="java.io.File" class="keyword">new</span> java.io.<span title="java.io.File">File</span><span class="delimiter">(</span><span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = play.api.db.evolutions.<a href="../../../../play/play/api/db/evolutions/Evolutions.scala.html#12892" title="object play.api.db.evolutions.OfflineEvolutions">OfflineEvolutions</a>.<a href="../../../../play/play/api/db/evolutions/Evolutions.scala.html#72201" title="(appPath: java.io.File, classloader: java.lang.ClassLoader, dbName: String)Unit">applyScript</a><span class="delimiter">(</span><a href="#72195" title="java.io.File">path</a>, <span class="keyword">this</span>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.ClassLoader">getClassLoader</span>, <a href="#72192" title="String">dbName</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Extracts the Content-Type of this Content value.
   */</span>
  <span class="keyword">def</span> <a title="(of: play.api.mvc.Content)String" id="67182">contentType</a><span class="delimiter">(</span><a title="play.api.mvc.Content" id="72641">of</a>: <a href="../../../../play/play/api/mvc/Content.scala.html#17088" title="play.api.mvc.Content">Content</a><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#72641" title="play.api.mvc.Content">of</a>.<a href="../../../../play/play/api/mvc/Content.scala.html#72644" title="=&gt; String">contentType</a>

  <span class="comment">/**
   * Extracts the content as String.
   */</span>
  <span class="keyword">def</span> <a title="(of: play.api.mvc.Content)String" id="67183">contentAsString</a><span class="delimiter">(</span><a title="play.api.mvc.Content" id="72645">of</a>: <a href="../../../../play/play/api/mvc/Content.scala.html#17088" title="play.api.mvc.Content">Content</a><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#72645" title="play.api.mvc.Content">of</a>.<a href="../../../../play/play/api/mvc/Content.scala.html#72643" title="=&gt; String">body</a>

  <span class="comment">/**
   * Extracts the content as bytes.
   */</span>
  <span class="keyword">def</span> <a title="(of: play.api.mvc.Content)Array[Byte]" id="67184">contentAsBytes</a><span class="delimiter">(</span><a title="play.api.mvc.Content" id="72647">of</a>: <a href="../../../../play/play/api/mvc/Content.scala.html#17088" title="play.api.mvc.Content">Content</a><span class="delimiter">)</span>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span> = <a href="#72647" title="play.api.mvc.Content">of</a>.<a href="../../../../play/play/api/mvc/Content.scala.html#72643" title="=&gt; String">body</a>.<span title="()Array[Byte]">getBytes</span>

  <span class="comment">/**
   * Extracts the Content-Type of this Result value.
   */</span>
  <span class="keyword">def</span> <a title="(of: play.api.mvc.Result)Option[String]" id="67185">contentType</a><span class="delimiter">(</span><a title="play.api.mvc.Result" id="72722">of</a>: <a href="../../../../play/play/api/mvc/Results.scala.html#16209" title="play.api.mvc.Result">Result</a><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#67194" title="(header: String, of: play.api.mvc.Result)Option[String]">header</a><span class="delimiter">(</span><a href="../../../../play/play/api/http/StandardValues.scala.html#65502" title="=&gt; java.lang.String">CONTENT_TYPE</a>, <a href="#72722" title="play.api.mvc.Result">of</a><span class="delimiter">)</span>.<span title="(f: String =&gt; java.lang.String)Option[java.lang.String]">map</span><span class="delimiter">(</span><a href="#72732" title="String">_</a>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><span title="java.lang.String(&quot;;&quot;)" class="string">&quot;;&quot;</span><span class="delimiter">)</span>.<span title="(n: Int)Array[java.lang.String]">take</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; String">mkString</span>.<span title="()java.lang.String">trim</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Extracts the Charset of this Result value.
   */</span>
  <span class="keyword">def</span> <a title="(of: play.api.mvc.Result)Option[String]" id="67186">charset</a><span class="delimiter">(</span><a title="play.api.mvc.Result" id="72978">of</a>: <a href="../../../../play/play/api/mvc/Results.scala.html#16209" title="play.api.mvc.Result">Result</a><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#67194" title="(header: String, of: play.api.mvc.Result)Option[String]">header</a><span class="delimiter">(</span><a href="../../../../play/play/api/http/StandardValues.scala.html#65502" title="=&gt; java.lang.String">CONTENT_TYPE</a>, <a href="#72978" title="play.api.mvc.Result">of</a><span class="delimiter">)</span> <span title="Option[String]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Some[java.lang.String]">Some</span><span class="delimiter">(</span><a title="String" id="72981">s</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#72981" title="String">s</a>.<span title="(x$1: java.lang.CharSequence)Boolean">contains</span><span class="delimiter">(</span><span title="java.lang.String(&quot;charset=&quot;)" class="string">&quot;charset=&quot;</span><span class="delimiter">)</span> =&gt; <span title="(x: java.lang.String)Some[java.lang.String]">Some</span><span class="delimiter">(</span><a href="#72981" title="String">s</a>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><span title="java.lang.String(&quot;; charset=&quot;)" class="string">&quot;; charset=&quot;</span><span class="delimiter">)</span>.<span title="(n: Int)Array[java.lang.String]">drop</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; String">mkString</span>.<span title="()java.lang.String">trim</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Extracts the content as String.
   */</span>
  <span class="keyword">def</span> <a title="(of: play.api.mvc.Result)String" id="67187">contentAsString</a><span class="delimiter">(</span><a title="play.api.mvc.Result" id="73226">of</a>: <a href="../../../../play/play/api/mvc/Results.scala.html#16209" title="play.api.mvc.Result">Result</a><span class="delimiter">)</span>: <span title="String">String</span> = <span title="(x$1: Array[Byte], x$2: java.lang.String)java.lang.String" class="keyword">new</span> <span title="java.lang.String">String</span><span class="delimiter">(</span><a href="#67188" title="(of: play.api.mvc.Result)Array[Byte]">contentAsBytes</a><span class="delimiter">(</span><a href="#73226" title="play.api.mvc.Result">of</a><span class="delimiter">)</span>, <a href="#67186" title="(of: play.api.mvc.Result)Option[String]">charset</a><span class="delimiter">(</span><a href="#73226" title="play.api.mvc.Result">of</a><span class="delimiter">)</span>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="java.lang.String(&quot;utf-8&quot;)" class="string">&quot;utf-8&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Extracts the content as bytes.
   */</span>
  <span class="keyword">def</span> <a title="(of: play.api.mvc.Result)Array[Byte]" id="67188">contentAsBytes</a><span class="delimiter">(</span><a title="play.api.mvc.Result" id="73841">of</a>: <a href="../../../../play/play/api/mvc/Results.scala.html#16209" title="play.api.mvc.Result">Result</a><span class="delimiter">)</span>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span> = <a href="#73841" title="play.api.mvc.Result">of</a> <span title="Array[Byte]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="Array[Byte]" id="73848">r</a> @ SimpleResult<span class="delimiter">(</span>_, <a title="play.api.libs.iteratee.Enumerator[Any]" id="73951">bodyEnumerator</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="play.api.libs.iteratee.Iteratee[r.BODY_CONTENT,Array[Byte]]" id="73952">readAsBytes</a> = <a href="../../../../play/play/api/libs/iteratee/Iteratee.scala.html#14278" title="object play.api.libs.iteratee.Enumeratee">Enumeratee</a>.<a href="../../../../play/play/api/libs/iteratee/Iteratee.scala.html#73976" title="[E]=&gt; java.lang.Object{def apply[NE](f: E =&gt; NE): play.api.libs.iteratee.Enumeratee[E,NE]}">map</a><a href="../../../../play/play/api/libs/iteratee/Iteratee.scala.html#74575" title="(f: r.BODY_CONTENT =&gt; Array[Byte])play.api.libs.iteratee.Enumeratee[r.BODY_CONTENT,Array[Byte]]" class="delimiter">[</a>r.<span title="r.BODY_CONTENT">BODY_CONTENT</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#73848" title="play.api.mvc.SimpleResult[Any]">r</a>.<a href="../../../../play/play/api/mvc/Results.scala.html#73872" title="=&gt; play.api.http.Writeable[Any]">writeable</a>.<a href="../../../../play/play/api/http/Writeable.scala.html#74584" title="(v1: Any)Array[Byte]">transform</a><span class="delimiter">(</span><a href="#74582" title="r.BODY_CONTENT">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../../play/play/api/libs/iteratee/Iteratee.scala.html#74020" title="(inner: play.api.libs.iteratee.Iteratee[Array[Byte],Array[Byte]])play.api.libs.iteratee.Iteratee[r.BODY_CONTENT,Array[Byte]]">transform</a><span class="delimiter">(</span><a href="../../../../play/play/api/libs/iteratee/Iteratee.scala.html#14614" title="object play.api.libs.iteratee.Iteratee">Iteratee</a>.<a href="../../../../play/play/api/libs/iteratee/Iteratee.scala.html#74619" title="[E]=&gt; java.lang.Object{def apply[B,That]()(implicit t: E =&gt; TraversableOnce[B],implicit bf: scala.collection.generic.CanBuildFrom[E,B,That]): play.api.libs.iteratee.Iteratee[E,That]}">consume</a><a href="../../../../play/play/api/libs/iteratee/Iteratee.scala.html#75863" title="()(implicit t: Array[Byte] =&gt; TraversableOnce[Byte], implicit bf: scala.collection.generic.CanBuildFrom[Array[Byte],Byte,Array[Byte]])play.api.libs.iteratee.Iteratee[Array[Byte],Array[Byte]]" class="delimiter">[</a><span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">]</span><a href="#75944" title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../../../../play/play/api/libs/iteratee/Iteratee.scala.html#73904" title="(i: play.api.libs.iteratee.Iteratee[Any,Array[Byte]])play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Any,Array[Byte]]]">bodyEnumerator</a><span class="delimiter">(</span><a href="#73952" title="play.api.libs.iteratee.Iteratee[r.BODY_CONTENT,Array[Byte]]">readAsBytes</a><span class="delimiter">)</span>.<a href="../../../../play/play/api/libs/concurrent/Promise.scala.html#76013" title="(f: play.api.libs.iteratee.Iteratee[Any,Array[Byte]] =&gt; play.api.libs.concurrent.Promise[Array[Byte]])play.api.libs.concurrent.Promise[Array[Byte]]">flatMap</a><span class="delimiter">(</span><a href="#77430" title="play.api.libs.iteratee.Iteratee[Any,Array[Byte]]">_</a>.<a href="../../../../play/play/api/libs/iteratee/Iteratee.scala.html#74071" title="play.api.libs.concurrent.Promise[Array[Byte]]">run</a><span class="delimiter">)</span>.<a href="../../../../play/play/api/libs/concurrent/Promise.scala.html#76006" title="=&gt; play.api.libs.concurrent.NotWaiting[Array[Byte]]">value</a>.<a href="../../../../play/play/api/libs/concurrent/Promise.scala.html#77448" title="=&gt; Array[Byte]">get</a>
    <span class="delimiter">}</span>
    <span class="keyword">case</span> <a title="Nothing" id="77513">r</a> =&gt; sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot extract the body content from a result of type &quot;)" class="string">&quot;Cannot extract the body content from a result of type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77513" title="play.api.mvc.Result">r</a>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Extracts the Status code of this Result value.
   */</span>
  <span class="keyword">def</span> <a title="(of: play.api.mvc.Result)Int" id="67189">status</a><span class="delimiter">(</span><a title="play.api.mvc.Result" id="77516">of</a>: <a href="../../../../play/play/api/mvc/Results.scala.html#16209" title="play.api.mvc.Result">Result</a><span class="delimiter">)</span>: <span title="Int">Int</span> = <a href="#77516" title="play.api.mvc.Result">of</a> <span title="Int" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../../../../play/play/api/mvc/Results.scala.html#77519" title="Int">Result</a><span class="delimiter">(</span><a title="Int" id="77523">status</a>, _<span class="delimiter">)</span> =&gt; <a href="#77523" title="Int">status</a>
    <span class="keyword">case</span> <a title="Nothing" id="77524">r</a> =&gt; sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot extract the status from a result of type &quot;)" class="string">&quot;Cannot extract the status from a result of type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77524" title="play.api.mvc.Result">r</a>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Extracts the Cookies of this Result value.
   */</span>
  <span class="keyword">def</span> <a title="(of: play.api.mvc.Result)play.api.mvc.Cookies" id="67190">cookies</a><span class="delimiter">(</span><a title="play.api.mvc.Result" id="77527">of</a>: <a href="../../../../play/play/api/mvc/Results.scala.html#16209" title="play.api.mvc.Result">Result</a><span class="delimiter">)</span>: <a href="../../../../play/play/api/mvc/Http.scala.html#16644" title="play.api.mvc.Cookies">Cookies</a> = <a href="../../../../play/play/api/mvc/Http.scala.html#65591" title="(header: Option[String])java.lang.Object with play.api.mvc.Cookies{lazy val cookies: Map[String,play.api.mvc.Cookie]}">Cookies</a><span class="delimiter">(</span><a href="#67194" title="(header: String, of: play.api.mvc.Result)Option[String]">header</a><span class="delimiter">(</span><a href="../../../../play/play/api/http/StandardValues.scala.html#65548" title="=&gt; java.lang.String">SET_COOKIE</a>, <a href="#77527" title="play.api.mvc.Result">of</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Extracts the Flash values of this Result value.
   */</span>
  <span class="keyword">def</span> <a title="(of: play.api.mvc.Result)play.api.mvc.Flash" id="67191">flash</a><span class="delimiter">(</span><a title="play.api.mvc.Result" id="77623">of</a>: <a href="../../../../play/play/api/mvc/Results.scala.html#16209" title="play.api.mvc.Result">Result</a><span class="delimiter">)</span>: <a href="../../../../play/play/api/mvc/Http.scala.html#16278" title="play.api.mvc.Flash">Flash</a> = <a href="../../../../play/play/api/mvc/Http.scala.html#16279" title="object play.api.mvc.Flash">Flash</a>.<a href="../../../../play/play/api/mvc/Http.scala.html#65790" title="(cookie: Option[play.api.mvc.Cookie])play.api.mvc.Flash">decodeFromCookie</a><span class="delimiter">(</span><a href="#67190" title="(of: play.api.mvc.Result)play.api.mvc.Cookies">cookies</a><span class="delimiter">(</span><a href="#77623" title="play.api.mvc.Result">of</a><span class="delimiter">)</span>.<a href="../../../../play/play/api/mvc/Http.scala.html#77530" title="(name: String)Option[play.api.mvc.Cookie]">get</a><span class="delimiter">(</span><a href="../../../../play/play/api/mvc/Http.scala.html#16279" title="object play.api.mvc.Flash">Flash</a>.<a href="../../../../play/play/api/mvc/Http.scala.html#65794" title="=&gt; java.lang.String">COOKIE_NAME</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Extracts the Session of this Result value.
   * Extracts the Session from this Result value.
   */</span>
  <span class="keyword">def</span> <a title="(of: play.api.mvc.Result)play.api.mvc.Session" id="67192">session</a><span class="delimiter">(</span><a title="play.api.mvc.Result" id="77627">of</a>: <a href="../../../../play/play/api/mvc/Results.scala.html#16209" title="play.api.mvc.Result">Result</a><span class="delimiter">)</span>: <a href="../../../../play/play/api/mvc/Http.scala.html#16851" title="play.api.mvc.Session">Session</a> = <a href="../../../../play/play/api/mvc/Http.scala.html#16852" title="object play.api.mvc.Session">Session</a>.<a href="../../../../play/play/api/mvc/Http.scala.html#65790" title="(cookie: Option[play.api.mvc.Cookie])play.api.mvc.Session">decodeFromCookie</a><span class="delimiter">(</span><a href="#67190" title="(of: play.api.mvc.Result)play.api.mvc.Cookies">cookies</a><span class="delimiter">(</span><a href="#77627" title="play.api.mvc.Result">of</a><span class="delimiter">)</span>.<a href="../../../../play/play/api/mvc/Http.scala.html#77530" title="(name: String)Option[play.api.mvc.Cookie]">get</a><span class="delimiter">(</span><a href="../../../../play/play/api/mvc/Http.scala.html#16852" title="object play.api.mvc.Session">Session</a>.<a href="../../../../play/play/api/mvc/Http.scala.html#65948" title="=&gt; String">COOKIE_NAME</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Extracts the Location header of this Result value if this Result is a Redirect.
   */</span>
  <span class="keyword">def</span> <a title="(of: play.api.mvc.Result)Option[String]" id="67193">redirectLocation</a><span class="delimiter">(</span><a title="play.api.mvc.Result" id="77651">of</a>: <a href="../../../../play/play/api/mvc/Results.scala.html#16209" title="play.api.mvc.Result">Result</a><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#77651" title="play.api.mvc.Result">of</a> <span title="Option[String]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../../../../play/play/api/mvc/Results.scala.html#77519" title="Option[String]">Result</a><span class="delimiter">(</span><a href="../../../../play/play/api/http/StandardValues.scala.html#67095" title="=&gt; Int">FOUND</a>, <a title="Map[String,String]" id="77654">headers</a><span class="delimiter">)</span> =&gt; <a href="#77654" title="Map[String,String]">headers</a>.<span title="(key: String)Option[String]">get</span><span class="delimiter">(</span><a href="../../../../play/play/api/http/StandardValues.scala.html#65530" title="=&gt; java.lang.String">LOCATION</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a href="../../../../play/play/api/mvc/Results.scala.html#77519" title="Option[String]">Result</a><span class="delimiter">(</span><a href="../../../../play/play/api/http/StandardValues.scala.html#67097" title="=&gt; Int">SEE_OTHER</a>, <a title="Map[String,String]" id="77658">headers</a><span class="delimiter">)</span> =&gt; <a href="#77658" title="Map[String,String]">headers</a>.<span title="(key: String)Option[String]">get</span><span class="delimiter">(</span><a href="../../../../play/play/api/http/StandardValues.scala.html#65530" title="=&gt; java.lang.String">LOCATION</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a href="../../../../play/play/api/mvc/Results.scala.html#77519" title="Option[String]">Result</a><span class="delimiter">(</span><a href="../../../../play/play/api/http/StandardValues.scala.html#67103" title="=&gt; Int">TEMPORARY_REDIRECT</a>, <a title="Map[String,String]" id="77662">headers</a><span class="delimiter">)</span> =&gt; <a href="#77662" title="Map[String,String]">headers</a>.<span title="(key: String)Option[String]">get</span><span class="delimiter">(</span><a href="../../../../play/play/api/http/StandardValues.scala.html#65530" title="=&gt; java.lang.String">LOCATION</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a href="../../../../play/play/api/mvc/Results.scala.html#77519" title="Option[String]">Result</a><span class="delimiter">(</span><a href="../../../../play/play/api/http/StandardValues.scala.html#67093" title="=&gt; Int">MOVED_PERMANENTLY</a>, <a title="Map[String,String]" id="77666">headers</a><span class="delimiter">)</span> =&gt; <a href="#77666" title="Map[String,String]">headers</a>.<span title="(key: String)Option[String]">get</span><span class="delimiter">(</span><a href="../../../../play/play/api/http/StandardValues.scala.html#65530" title="=&gt; java.lang.String">LOCATION</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a href="../../../../play/play/api/mvc/Results.scala.html#77519" title="None.type">Result</a><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <span title="object None">None</span>
    <span class="keyword">case</span> <a title="Nothing" id="77670">r</a> =&gt; sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot extract the headers from a result of type &quot;)" class="string">&quot;Cannot extract the headers from a result of type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77670" title="play.api.mvc.Result">r</a>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Extracts an Header value of this Result value.
   */</span>
  <span class="keyword">def</span> <a title="(header: String, of: play.api.mvc.Result)Option[String]" id="67194">header</a><span class="delimiter">(</span><a title="String" id="72725">header</a>: <span title="String">String</span>, <a title="play.api.mvc.Result" id="72726">of</a>: <a href="../../../../play/play/api/mvc/Results.scala.html#16209" title="play.api.mvc.Result">Result</a><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#67195" title="(of: play.api.mvc.Result)Map[String,String]">headers</a><span class="delimiter">(</span><a href="#72726" title="play.api.mvc.Result">of</a><span class="delimiter">)</span>.<span title="(key: String)Option[String]">get</span><span class="delimiter">(</span><a href="#72725" title="String">header</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Extracts all Headers of this Result value.
   */</span>
  <span class="keyword">def</span> <a title="(of: play.api.mvc.Result)Map[String,String]" id="67195">headers</a><span class="delimiter">(</span><a title="play.api.mvc.Result" id="77673">of</a>: <a href="../../../../play/play/api/mvc/Results.scala.html#16209" title="play.api.mvc.Result">Result</a><span class="delimiter">)</span>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <a href="#77673" title="play.api.mvc.Result">of</a> <span title="Map[String,String]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../../../../play/play/api/mvc/Results.scala.html#77519" title="Map[String,String]">Result</a><span class="delimiter">(</span>_, <a title="Map[String,String]" id="77687">headers</a><span class="delimiter">)</span> =&gt; <a href="#77687" title="Map[String,String]">headers</a>
    <span class="keyword">case</span> <a title="Nothing" id="77688">r</a> =&gt; sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot extract the headers from a result of type &quot;)" class="string">&quot;Cannot extract the headers from a result of type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77688" title="play.api.mvc.Result">r</a>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Use the Router to determine the Action to call for this request and executes it.
   */</span>
  <span class="keyword">def</span> <a title="[T](request: play.api.test.FakeRequest[T])Option[play.api.mvc.Result]" id="67196">routeAndCall</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="67198">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.test.FakeRequest[T]" id="77691">request</a>: <a href="Fakes.scala.html#10993" title="play.api.test.FakeRequest[T]">FakeRequest</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[play.api.mvc.Result]">Option</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#67199" title="(router: Class[play.core.Router.Routes], request: play.api.test.FakeRequest[T])Option[play.api.mvc.Result]">routeAndCall</a><span class="delimiter">(</span><span class="keyword">this</span>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.ClassLoader">getClassLoader</span>.<span title="(x$1: java.lang.String)java.lang.Class[_]">loadClass</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Routes&quot;)" class="string">&quot;Routes&quot;</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Class[play.core.Router.Routes]" class="delimiter">[</span><span title="Class[play.core.Router.Routes]">Class</span><span class="delimiter">[</span>play.core.Router.Routes<span class="delimiter">]</span><span class="delimiter">]</span>, <a href="#77691" title="play.api.test.FakeRequest[T]">request</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Use the Router to determine the Action to call for this request and executes it.
   */</span>
  <span class="keyword">def</span> <a title="[T, ROUTER &lt;: play.core.Router.Routes](router: Class[ROUTER], request: play.api.test.FakeRequest[T])Option[play.api.mvc.Result]" id="67199">routeAndCall</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="67202">T</a>, <a title="&gt;: Nothing &lt;: play.core.Router.Routes" id="67203">ROUTER</a> &lt;: play.core.Router.Routes<span class="delimiter">]</span><span class="delimiter">(</span><a title="Class[ROUTER]" id="77698">router</a>: <span title="Class[ROUTER]">Class</span><span class="delimiter">[</span>ROUTER<span class="delimiter">]</span>, <a title="play.api.test.FakeRequest[T]" id="77699">request</a>: <a href="Fakes.scala.html#10993" title="play.api.test.FakeRequest[T]">FakeRequest</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[play.api.mvc.Result]">Option</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="play.core.Router.Routes" id="78248">routes</a> = <a href="#77698" title="Class[ROUTER]">router</a>.<span title="()java.lang.ClassLoader">getClassLoader</span>.<span title="(x$1: java.lang.String)java.lang.Class[_]">loadClass</span><span class="delimiter">(</span><a href="#77698" title="Class[ROUTER]">router</a>.<span title="()java.lang.String">getName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>.<span title="(x$1: java.lang.String)java.lang.reflect.Field">getDeclaredField</span><span class="delimiter">(</span><span title="java.lang.String(&quot;MODULE$&quot;)" class="string">&quot;MODULE$&quot;</span><span class="delimiter">)</span>.<span title="(x$1: Any)java.lang.Object">get</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="play.core.Router.Routes" class="delimiter">[</span>play.core.Router.<a href="../../../../play/play/core/router/Router.scala.html#77737" title="play.core.Router.Routes">Routes</a><span class="delimiter">]</span>
    <a href="#78248" title="play.core.Router.Routes">routes</a>.<a href="../../../../play/play/core/router/Router.scala.html#77746" title="=&gt; PartialFunction[play.api.mvc.RequestHeader,play.api.mvc.Handler]">routes</a>.<span title="(v1: play.api.mvc.RequestHeader)Option[play.api.mvc.Handler]">lift</span><span class="delimiter">(</span><a href="#77699" title="play.api.test.FakeRequest[T]">request</a><span class="delimiter">)</span>.<span title="(f: play.api.mvc.Handler =&gt; play.api.mvc.Result)Option[play.api.mvc.Result]">map</span> <a href="#78411" title="play.api.mvc.Result" class="delimiter">{</a>
      <span class="keyword">case</span> <a title="play.api.mvc.Result" id="78412">action</a>: <a href="../../../../play/play/api/mvc/Action.scala.html#16341" title="play.api.mvc.Action[_]">Action</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <a href="#78412" title="play.api.mvc.Action[_]">action</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><a href="../../../../play/play/api/mvc/Action.scala.html#78417" title="(request: play.api.mvc.Request[T])play.api.mvc.Result" class="delimiter">[</a><a href="../../../../play/play/api/mvc/Action.scala.html#16341" title="play.api.mvc.Action[T]">Action</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#77699" title="play.api.test.FakeRequest[T]">request</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Block until a Promise is redeemed.
   */</span>
  <span class="keyword">def</span> <a title="[T](p: play.api.libs.concurrent.Promise[T])T" id="67204">await</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="67206">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.concurrent.Promise[T]" id="78446">p</a>: play.api.libs.concurrent.<a href="../../../../play/play/api/libs/concurrent/Promise.scala.html#13536" title="play.api.libs.concurrent.Promise[T]">Promise</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#67206" title="T">T</a> = <a href="#67207" title="(p: play.api.libs.concurrent.Promise[T], timeout: Long, unit: java.util.concurrent.TimeUnit)T">await</a><span class="delimiter">(</span><a href="#78446" title="play.api.libs.concurrent.Promise[T]">p</a>, <span title="Long(5000L)" class="int">5000</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Block until a Promise is redeemed with the specified timeout.
   */</span>
  <span class="keyword">def</span> <a title="[T](p: play.api.libs.concurrent.Promise[T], timeout: Long, unit: java.util.concurrent.TimeUnit)T" id="67207">await</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="78459">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.concurrent.Promise[T]" id="78453">p</a>: play.api.libs.concurrent.<a href="../../../../play/play/api/libs/concurrent/Promise.scala.html#13536" title="play.api.libs.concurrent.Promise[T]">Promise</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="Long" id="78454">timeout</a>: <span title="Long">Long</span>, <a title="java.util.concurrent.TimeUnit" id="78457">unit</a>: java.util.concurrent.<span title="java.util.concurrent.TimeUnit">TimeUnit</span> = java.util.concurrent.TimeUnit.<span title="java.util.concurrent.TimeUnit(value MILLISECONDS)">MILLISECONDS</span><span class="delimiter">)</span>: <a href="#78459" title="T">T</a> = <a href="#78453" title="play.api.libs.concurrent.Promise[T]">p</a>.<a href="../../../../play/play/api/libs/concurrent/Promise.scala.html#76008" title="(timeout: Long, unit: java.util.concurrent.TimeUnit)play.api.libs.concurrent.NotWaiting[T]">await</a><span class="delimiter">(</span><a href="#78454" title="Long">timeout</a>, <a href="#78457" title="java.util.concurrent.TimeUnit">unit</a><span class="delimiter">)</span>.<a href="../../../../play/play/api/libs/concurrent/Promise.scala.html#77448" title="=&gt; T">get</a>

  <span class="comment">/**
   * Constructs a in-memory (h2) database configuration to add to a FakeApplication.
   */</span>
  <span class="keyword">def</span> <a title="(name: String)Map[String,String]" id="67210">inMemoryDatabase</a><span class="delimiter">(</span><a title="String" id="78537">name</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;default&quot;)" class="string">&quot;default&quot;</span><span class="delimiter">)</span>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="(elems: (java.lang.String, java.lang.String)*)scala.collection.immutable.Map[java.lang.String,java.lang.String]">Map</span><span class="delimiter">(</span>
      <span class="delimiter">(</span><span title="java.lang.String(&quot;db.&quot;)" class="string">&quot;db.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#78537" title="String">name</a> <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]">+</span> <span title="java.lang.String(&quot;.driver&quot;)" class="string">&quot;.driver&quot;</span><span class="delimiter">)</span> <span title="(y: java.lang.String)(java.lang.String, java.lang.String)">-&gt;</span> <span title="java.lang.String(&quot;org.h2.Driver&quot;)" class="string">&quot;org.h2.Driver&quot;</span>,
      <span class="delimiter">(</span><span title="java.lang.String(&quot;db.&quot;)" class="string">&quot;db.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#78537" title="String">name</a> <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]">+</span> <span title="java.lang.String(&quot;.url&quot;)" class="string">&quot;.url&quot;</span><span class="delimiter">)</span> <span title="(y: java.lang.String)(java.lang.String, java.lang.String)">-&gt;</span> <span class="delimiter">(</span><span title="java.lang.String(&quot;jdbc:h2:mem:play-test-&quot;)" class="string">&quot;jdbc:h2:mem:play-test-&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> scala.util.<span title="object scala.util.Random">Random</span>.<span title="()Int">nextInt</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>