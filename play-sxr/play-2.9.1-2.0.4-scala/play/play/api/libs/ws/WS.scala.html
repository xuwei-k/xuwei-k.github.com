<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>play/play/api/libs/ws/WS.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> play.api.libs.ws

<span class="keyword">import</span> play.api.libs.concurrent._
<span class="keyword">import</span> play.api.libs.iteratee._
<span class="keyword">import</span> play.api.libs.iteratee.<a href="../iteratee/Iteratee.scala.html#14647" title="object play.api.libs.iteratee.Input">Input</a>._
<span class="keyword">import</span> play.api.libs.json._
<span class="keyword">import</span> play.api.http.<span class="delimiter">{</span> Writeable, ContentTypeOf <span class="delimiter">}</span>
<span class="keyword">import</span> com.ning.http.client.<span class="delimiter">{</span>
  AsyncHttpClient,
  AsyncHttpClientConfig,
  RequestBuilderBase,
  FluentCaseInsensitiveStringsMap,
  HttpResponseBodyPart,
  HttpResponseHeaders,
  HttpResponseStatus,
  Response =&gt; AHCResponse
<span class="delimiter">}</span>
<span class="keyword">import</span> com.ning.http.client.AsyncHttpClientConfig

<span class="comment">/**
 * Asynchronous API to to query web services, as an http client.
 *
 * Usage example:
 * {{{
 * WS.url(&quot;http://example.com/feed&quot;).get()
 * WS.url(&quot;http://example.com/item&quot;).post(&quot;content&quot;)
 * }}}
 *
 * The value returned is a Promise[Response],
 * and you should use Play's asynchronous mechanisms to use this response.
 *
 */</span>
<span class="keyword">object</span> <a title="object play.api.libs.ws.WS" id="15889">WS</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="keyword">import</span> com.ning.http.client.<span title="object com.ning.http.client.Realm">Realm</span>.<span class="delimiter">{</span> AuthScheme, RealmBuilder <span class="delimiter">}</span>
  <span class="keyword">import</span> javax.net.ssl.SSLContext

  <span class="comment">/**
   * The underlying HTTP client.
   */</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="com.ning.http.client.AsyncHttpClient" id="210086">client</a> = <span class="delimiter">{</span>
    <span class="keyword">import</span> play.api.<a href="../../Play.scala.html#10906" title="object play.api.Play">Play</a>.current
    <span class="keyword">val</span> <a title="com.ning.http.client.AsyncHttpClientConfig.Builder" id="215071">config</a> = <span title="com.ning.http.client.AsyncHttpClientConfig.Builder" class="keyword">new</span> <span title="object com.ning.http.client.AsyncHttpClientConfig">AsyncHttpClientConfig</span>.<span title="com.ning.http.client.AsyncHttpClientConfig.Builder">Builder</span><span class="delimiter">(</span><span class="delimiter">)</span>
      .<span title="(x$1: Int)com.ning.http.client.AsyncHttpClientConfig.Builder">setConnectionTimeoutInMs</span><span class="delimiter">(</span><a href="../../Play.scala.html#71745" title="=&gt; play.api.Application">current</a>.<a href="../../Application.scala.html#67468" title="=&gt; play.api.Configuration">configuration</a>.<a href="../../Configuration.scala.html#67749" title="(path: String)Option[Long]">getMilliseconds</a><span class="delimiter">(</span><span title="java.lang.String(&quot;ws.timeout&quot;)" class="string">&quot;ws.timeout&quot;</span><span class="delimiter">)</span>.<span title="(default: =&gt; Long)Long">getOrElse</span><span class="delimiter">(</span><span title="Long(120000L)" class="long">120000L</span><span class="delimiter">)</span>.<span title="=&gt; Int">toInt</span><span class="delimiter">)</span>
      .<span title="(x$1: Int)com.ning.http.client.AsyncHttpClientConfig.Builder">setRequestTimeoutInMs</span><span class="delimiter">(</span><a href="../../Play.scala.html#71745" title="=&gt; play.api.Application">current</a>.<a href="../../Application.scala.html#67468" title="=&gt; play.api.Configuration">configuration</a>.<a href="../../Configuration.scala.html#67749" title="(path: String)Option[Long]">getMilliseconds</a><span class="delimiter">(</span><span title="java.lang.String(&quot;ws.timeout&quot;)" class="string">&quot;ws.timeout&quot;</span><span class="delimiter">)</span>.<span title="(default: =&gt; Long)Long">getOrElse</span><span class="delimiter">(</span><span title="Long(120000L)" class="long">120000L</span><span class="delimiter">)</span>.<span title="=&gt; Int">toInt</span><span class="delimiter">)</span>
      .<span title="(x$1: Boolean)com.ning.http.client.AsyncHttpClientConfig.Builder">setFollowRedirects</span><span class="delimiter">(</span><a href="../../Play.scala.html#71745" title="=&gt; play.api.Application">current</a>.<a href="../../Application.scala.html#67468" title="=&gt; play.api.Configuration">configuration</a>.<a href="../../Configuration.scala.html#67748" title="(path: String)Option[Boolean]">getBoolean</a><span class="delimiter">(</span><span title="java.lang.String(&quot;ws.followRedirects&quot;)" class="string">&quot;ws.followRedirects&quot;</span><span class="delimiter">)</span>.<span title="(default: =&gt; Boolean)Boolean">getOrElse</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="../../Play.scala.html#71745" title="=&gt; play.api.Application">current</a>.<a href="../../Application.scala.html#67468" title="play.api.Configuration" id="215311">configuration</a>.<a href="../../Configuration.scala.html#77639" title="Option[Set[String]]" id="215313">getString</a><span class="delimiter">(</span><a title="java.lang.String(&quot;ws.useragent&quot;)" id="215312" class="string">&quot;ws.useragent&quot;</a><span class="delimiter">)</span>.<span title="(f: String =&gt; com.ning.http.client.AsyncHttpClientConfig.Builder)Option[com.ning.http.client.AsyncHttpClientConfig.Builder]">map</span> <span class="delimiter">{</span> <a title="String" id="215318">useragent</a> =&gt;
      <a href="#215071" title="com.ning.http.client.AsyncHttpClientConfig.Builder">config</a>.<span title="(x$1: java.lang.String)com.ning.http.client.AsyncHttpClientConfig.Builder">setUserAgent</span><span class="delimiter">(</span><a href="#215318" title="String">useragent</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Play.scala.html#71745" title="=&gt; play.api.Application">current</a>.<a href="../../Application.scala.html#67468" title="=&gt; play.api.Configuration">configuration</a>.<a href="../../Configuration.scala.html#67748" title="(path: String)Option[Boolean]">getBoolean</a><span class="delimiter">(</span><span title="java.lang.String(&quot;ws.acceptAnyCertificate&quot;)" class="string">&quot;ws.acceptAnyCertificate&quot;</span><span class="delimiter">)</span>.<span title="(default: =&gt; Boolean)Boolean">getOrElse</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">==</span> <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#215071" title="com.ning.http.client.AsyncHttpClientConfig.Builder">config</a>.<span title="(x$1: javax.net.ssl.SSLContext)com.ning.http.client.AsyncHttpClientConfig.Builder">setSSLContext</span><span class="delimiter">(</span><span title="object javax.net.ssl.SSLContext">SSLContext</span>.<span title="()javax.net.ssl.SSLContext">getDefault</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span title="(x$1: com.ning.http.client.AsyncHttpClientConfig)com.ning.http.client.AsyncHttpClient" class="keyword">new</span> <span title="com.ning.http.client.AsyncHttpClient">AsyncHttpClient</span><span class="delimiter">(</span><a href="#215071" title="com.ning.http.client.AsyncHttpClientConfig.Builder">config</a>.<span title="()com.ning.http.client.AsyncHttpClientConfig">build</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Prepare a new request. You can then construct it by chaining calls.
   *
   * @param url the URL to request
   */</span>
  <span class="keyword">def</span> <a title="(url: String)play.api.libs.ws.WS.WSRequestHolder" id="210087">url</a><span class="delimiter">(</span><a title="String" id="212390">url</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#217838" title="play.api.libs.ws.WS.WSRequestHolder">WSRequestHolder</a> = <a href="#217838" title="(url: String, headers: Map[String,Seq[String]], queryString: Map[String,String], calc: Option[play.api.libs.ws.SignatureCalculator], auth: Option[(String, String, com.ning.http.client.Realm.AuthScheme)])play.api.libs.ws.WS.WSRequestHolder">WSRequestHolder</a><span class="delimiter">(</span><a href="#212390" title="String">url</a>, <span title="(elems: (String, Nothing)*)scala.collection.immutable.Map[String,Nothing]">Map</span><span class="delimiter">(</span><span class="delimiter">)</span>, <span title="(elems: (String, Nothing)*)scala.collection.immutable.Map[String,Nothing]">Map</span><span class="delimiter">(</span><span class="delimiter">)</span>, <span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>

  <span class="comment">/**
   * A WS Request.
   */</span>
  <span class="keyword">class</span> <a title="class WSRequest extends com.ning.http.client.RequestBuilderBase[play.api.libs.ws.WS.WSRequest] with ScalaObject" id="210088">WSRequest</a><a href="#210088" title="ScalaObject" class="delimiter">(</a><a title="String" id="215487">_method</a>: <span title="String">String</span>, <a title="Option[(String, String, com.ning.http.client.Realm.AuthScheme)]" id="215488">_auth</a>: <span title="Option[(String, String, com.ning.http.client.Realm.AuthScheme)]">Option</span><span class="delimiter">[</span>Tuple3<span class="delimiter">[</span>String, String, AuthScheme<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Option[play.api.libs.ws.SignatureCalculator]" id="215489">_calc</a>: <span title="Option[play.api.libs.ws.SignatureCalculator]">Option</span><span class="delimiter">[</span>SignatureCalculator<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="com.ning.http.client.RequestBuilderBase[play.api.libs.ws.WS.WSRequest]">RequestBuilderBase</span><span class="delimiter">[</span>WSRequest<span class="delimiter">]</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[play.api.libs.ws.WS.WSRequest](classOf[play.api.libs.ws.WS$$WSRequest])" class="delimiter">[</span>WSRequest<span class="delimiter">]</span>, <a href="#215487" title="String">_method</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="delimiter">{</span>

    <span class="keyword">import</span> scala.collection.<span title="object scala.collection.JavaConverters">JavaConverters</span>._

    <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[play.api.libs.ws.SignatureCalculator]" id="211198">calculator</a>: <span title="Option[play.api.libs.ws.SignatureCalculator]">Option</span><span class="delimiter">[</span>SignatureCalculator<span class="delimiter">]</span> = <a href="#215489" title="Option[play.api.libs.ws.SignatureCalculator]">_calc</a>

    <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Map[String,Seq[String]]" id="211201">headers</a>: <span title="Map[String,Seq[String]]">Map</span><span class="delimiter">[</span>String, Seq<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="(elems: (String, Nothing)*)scala.collection.immutable.Map[String,Nothing]">Map</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">protected</span> <span class="keyword">var</span> <a title="String" id="211204">_url</a>: <span title="String">String</span> = <span title="Null(null)" class="keyword">null</span>

    <span class="comment">//this will do a java mutable set hence the {} response</span>
    <a href="#215488" title="Option[(String, String, com.ning.http.client.Realm.AuthScheme)]">_auth</a>.<span title="(f: (String, String, com.ning.http.client.Realm.AuthScheme) =&gt; play.api.libs.ws.WS.WSRequest)Option[play.api.libs.ws.WS.WSRequest]">map</span><span class="delimiter">(</span><a title="(String, String, com.ning.http.client.Realm.AuthScheme)" id="215506">data</a> =&gt; <a href="#211206" title="(username: String, password: String, scheme: com.ning.http.client.Realm.AuthScheme)play.api.libs.ws.WS.WSRequest">auth</a><span class="delimiter">(</span><a href="#215506" title="(String, String, com.ning.http.client.Realm.AuthScheme)">data</a>.<span title="=&gt; String">_1</span>, <a href="#215506" title="(String, String, com.ning.http.client.Realm.AuthScheme)">data</a>.<span title="=&gt; String">_2</span>, <a href="#215506" title="(String, String, com.ning.http.client.Realm.AuthScheme)">data</a>.<span title="=&gt; com.ning.http.client.Realm.AuthScheme">_3</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; Any)Any">getOrElse</span><span class="delimiter">(</span><span title="Unit" class="delimiter">{</span><span class="delimiter">}</span><span class="delimiter">)</span>

    <span class="comment">/**
     * Add http auth headers
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(username: String, password: String, scheme: com.ning.http.client.Realm.AuthScheme)play.api.libs.ws.WS.WSRequest" id="211206">auth</a><span class="delimiter">(</span><a title="String" id="215507">username</a>: <span title="String">String</span>, <a title="String" id="215508">password</a>: <span title="String">String</span>, <a title="com.ning.http.client.Realm.AuthScheme" id="215509">scheme</a>: <span title="com.ning.http.client.Realm.AuthScheme">AuthScheme</span><span class="delimiter">)</span>: <a href="#210088" title="play.api.libs.ws.WS.WSRequest">WSRequest</a> = <span class="delimiter">{</span>
      <a href="#210088" title="WSRequest.this.type" class="keyword">this</a>.<span title="(x$1: com.ning.http.client.Realm)play.api.libs.ws.WS.WSRequest">setRealm</span><span class="delimiter">(</span><span class="delimiter">(</span><span title="com.ning.http.client.Realm.RealmBuilder" class="keyword">new</span> <span title="com.ning.http.client.Realm.RealmBuilder">RealmBuilder</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        .<span title="(x$1: com.ning.http.client.Realm.AuthScheme)com.ning.http.client.Realm.RealmBuilder">setScheme</span><span class="delimiter">(</span><a href="#215509" title="com.ning.http.client.Realm.AuthScheme">scheme</a><span class="delimiter">)</span>
        .<span title="(x$1: java.lang.String)com.ning.http.client.Realm.RealmBuilder">setPrincipal</span><span class="delimiter">(</span><a href="#215507" title="String">username</a><span class="delimiter">)</span>
        .<span title="(x$1: java.lang.String)com.ning.http.client.Realm.RealmBuilder">setPassword</span><span class="delimiter">(</span><a href="#215508" title="String">password</a><span class="delimiter">)</span>
        .<span title="(x$1: Boolean)com.ning.http.client.Realm.RealmBuilder">setUsePreemptiveAuth</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
        .<span title="()com.ning.http.client.Realm">build</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Return the current headers of the request being constructed
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Map[String,Seq[String]]" id="211207">allHeaders</a>: <span title="Map[String,Seq[String]]">Map</span><span class="delimiter">[</span>String, Seq<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span title="(m: java.util.Map[java.lang.String,java.util.List[java.lang.String]])collection.JavaConverters.AsScala[scala.collection.mutable.Map[java.lang.String,java.util.List[java.lang.String]]]">mapAsScalaMapConverter</span><span class="delimiter">(</span><a href="#210088" title="com.ning.http.client.RequestBuilderBase.RequestImpl">request</a>.<span title="()com.ning.http.client.FluentCaseInsensitiveStringsMap">getHeaders</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; scala.collection.mutable.Map[java.lang.String,java.util.List[java.lang.String]]">asScala</span>.<span title="(f: (java.lang.String, java.util.List[java.lang.String]) =&gt; (java.lang.String, Seq[java.lang.String]))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.Map[java.lang.String,java.util.List[java.lang.String]],(java.lang.String, Seq[java.lang.String]),scala.collection.mutable.Map[java.lang.String,Seq[java.lang.String]]])scala.collection.mutable.Map[java.lang.String,Seq[java.lang.String]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.mutable.Map.Coll,(java.lang.String, Seq[java.lang.String]),scala.collection.mutable.Map[java.lang.String,Seq[java.lang.String]]]" class="delimiter">(</span><a title="(java.lang.String, java.util.List[java.lang.String])" id="215852">e</a> =&gt; <a href="#215852" title="(java.lang.String, java.util.List[java.lang.String])">e</a>.<span title="(x: java.lang.String)ArrowAssoc[java.lang.String]">_1</span> <span title="(y: Seq[java.lang.String])(java.lang.String, Seq[java.lang.String])">-&gt;</span> <a href="#215852" title="(java.lang.String, java.util.List[java.lang.String])">e</a>.<span title="(l: java.util.List[java.lang.String])collection.JavaConverters.AsScala[scala.collection.mutable.Buffer[java.lang.String]]">_2</span>.<span title="=&gt; scala.collection.mutable.Buffer[java.lang.String]">asScala</span>.<span title="=&gt; Seq[java.lang.String]">toSeq</span><span class="delimiter">)</span>.<span title="(implicit ev: &lt;:&lt;[(java.lang.String, Seq[java.lang.String]),(String, Seq[String])])scala.collection.immutable.Map[String,Seq[String]]">toMap</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Retrieve an HTTP header.
     */</span>
    <span class="keyword">def</span> <a title="(name: String)Option[String]" id="211208">header</a><span class="delimiter">(</span><a title="String" id="211452">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#211201" title="=&gt; Map[String,Seq[String]]">headers</a>.<span title="(key: String)Option[Seq[String]]">get</span><span class="delimiter">(</span><a href="#211452" title="String">name</a><span class="delimiter">)</span>.<span title="(f: Seq[String] =&gt; Option[String])Option[String]">flatMap</span><span class="delimiter">(</span><a href="#216263" title="Seq[String]">_</a>.<span title="=&gt; Option[String]">headOption</span><span class="delimiter">)</span>

    <span class="comment">/**
     * The HTTP method.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="211209">method</a>: <span title="String">String</span> = <a href="#215487" title="String">_method</a>

    <span class="comment">/**
     * The URL
     */</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="211210">url</a>: <span title="String">String</span> = <a href="#211204" title="=&gt; String">_url</a>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(headers: java.util.Map[String,java.util.Collection[String]])scala.collection.immutable.Map[String,Seq[String]]" id="211211">ningHeadersToMap</a><span class="delimiter">(</span><a title="java.util.Map[String,java.util.Collection[String]]" id="216265">headers</a>: java.util.<span title="java.util.Map[String,java.util.Collection[String]]">Map</span><span class="delimiter">[</span>String, java.util.Collection<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> =
      <span title="(m: java.util.Map[String,java.util.Collection[String]])collection.JavaConverters.AsScala[scala.collection.mutable.Map[String,java.util.Collection[String]]]">mapAsScalaMapConverter</span><span class="delimiter">(</span><a href="#216265" title="java.util.Map[String,java.util.Collection[String]]">headers</a><span class="delimiter">)</span>.<span title="=&gt; scala.collection.mutable.Map[String,java.util.Collection[String]]">asScala</span>.<span title="(f: (String, java.util.Collection[String]) =&gt; (String, Seq[String]))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.Map[String,java.util.Collection[String]],(String, Seq[String]),scala.collection.mutable.Map[String,Seq[String]]])scala.collection.mutable.Map[String,Seq[String]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.mutable.Map.Coll,(String, Seq[String]),scala.collection.mutable.Map[String,Seq[String]]]" class="delimiter">(</span><a title="(String, java.util.Collection[String])" id="216311">e</a> =&gt; <a href="#216311" title="(String, java.util.Collection[String])">e</a>.<span title="(x: String)ArrowAssoc[String]">_1</span> <span title="(y: Seq[String])(String, Seq[String])">-&gt;</span> <a href="#216311" title="(String, java.util.Collection[String])">e</a>.<span title="(i: java.util.Collection[String])collection.JavaConverters.AsScala[Iterable[String]]">_2</span>.<span title="=&gt; Iterable[String]">asScala</span>.<span title="=&gt; Seq[String]">toSeq</span><span class="delimiter">)</span>.<span title="(implicit ev: &lt;:&lt;[(String, Seq[String]),(String, Seq[String])])scala.collection.immutable.Map[String,Seq[String]]">toMap</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(headers: com.ning.http.client.FluentCaseInsensitiveStringsMap)scala.collection.immutable.Map[java.lang.String,Seq[java.lang.String]]" id="211212">ningHeadersToMap</a><span class="delimiter">(</span><a title="com.ning.http.client.FluentCaseInsensitiveStringsMap" id="216421">headers</a>: <span title="com.ning.http.client.FluentCaseInsensitiveStringsMap">FluentCaseInsensitiveStringsMap</span><span class="delimiter">)</span> =
      <span title="(m: java.util.Map[java.lang.String,java.util.List[java.lang.String]])collection.JavaConverters.AsScala[scala.collection.mutable.Map[java.lang.String,java.util.List[java.lang.String]]]">mapAsScalaMapConverter</span><span class="delimiter">(</span><a href="#216421" title="com.ning.http.client.FluentCaseInsensitiveStringsMap">headers</a><span class="delimiter">)</span>.<span title="=&gt; scala.collection.mutable.Map[java.lang.String,java.util.List[java.lang.String]]">asScala</span>.<span title="(f: (java.lang.String, java.util.List[java.lang.String]) =&gt; (java.lang.String, Seq[java.lang.String]))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.Map[java.lang.String,java.util.List[java.lang.String]],(java.lang.String, Seq[java.lang.String]),scala.collection.mutable.Map[java.lang.String,Seq[java.lang.String]]])scala.collection.mutable.Map[java.lang.String,Seq[java.lang.String]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.mutable.Map.Coll,(java.lang.String, Seq[java.lang.String]),scala.collection.mutable.Map[java.lang.String,Seq[java.lang.String]]]" class="delimiter">(</span><a title="(java.lang.String, java.util.List[java.lang.String])" id="216447">e</a> =&gt; <a href="#216447" title="(java.lang.String, java.util.List[java.lang.String])">e</a>.<span title="(x: java.lang.String)ArrowAssoc[java.lang.String]">_1</span> <span title="(y: Seq[java.lang.String])(java.lang.String, Seq[java.lang.String])">-&gt;</span> <a href="#216447" title="(java.lang.String, java.util.List[java.lang.String])">e</a>.<span title="(l: java.util.List[java.lang.String])collection.JavaConverters.AsScala[scala.collection.mutable.Buffer[java.lang.String]]">_2</span>.<span title="=&gt; scala.collection.mutable.Buffer[java.lang.String]">asScala</span>.<span title="=&gt; Seq[java.lang.String]">toSeq</span><span class="delimiter">)</span>.<span title="(implicit ev: &lt;:&lt;[(java.lang.String, Seq[java.lang.String]),(java.lang.String, Seq[java.lang.String])])scala.collection.immutable.Map[java.lang.String,Seq[java.lang.String]]">toMap</span>

    <span class="keyword">private</span><span class="delimiter">[</span>libs<span class="delimiter">]</span> <span class="keyword">def</span> <a title="=&gt; play.api.libs.concurrent.Promise[play.api.libs.ws.Response]" id="211213">execute</a>: <a href="../concurrent/Promise.scala.html#13536" title="play.api.libs.concurrent.Promise[play.api.libs.ws.Response]">Promise</a><span class="delimiter">[</span>Response<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">import</span> com.ning.http.client.AsyncCompletionHandler
      <span class="keyword">var</span> <a title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.ws.Response] with play.api.libs.concurrent.Redeemable[play.api.libs.ws.Response]" id="216553">result</a> = <a href="../concurrent/Promise.scala.html#78506" title="[A]()play.api.libs.concurrent.Promise[A] with play.api.libs.concurrent.Redeemable[A]">Promise</a><span title="()play.api.libs.concurrent.Promise[play.api.libs.ws.Response] with play.api.libs.concurrent.Redeemable[play.api.libs.ws.Response]" class="delimiter">[</span><a href="#218044" title="play.api.libs.ws.Response">Response</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#211198" title="=&gt; Option[play.api.libs.ws.SignatureCalculator]">calculator</a>.<span title="(f: play.api.libs.ws.SignatureCalculator =&gt; Unit)Option[Unit]">map</span><span class="delimiter">(</span><a href="#216559" title="play.api.libs.ws.SignatureCalculator">_</a>.<a href="#210734" title="(request: play.api.libs.ws.WS.WSRequest)Unit">sign</a><span class="delimiter">(</span><a href="#210088" title="play.api.libs.ws.WS.WSRequest" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#15889" title="object play.api.libs.ws.WS">WS</a>.<a href="#210085" title="=&gt; com.ning.http.client.AsyncHttpClient">client</a>.<span title="(x$1: com.ning.http.client.Request, x$2: com.ning.http.client.AsyncHandler[com.ning.http.client.Response])com.ning.http.client.ListenableFuture[com.ning.http.client.Response]">executeRequest</span><span class="delimiter">(</span><a href="#210088" title="WSRequest.this.type" class="keyword">this</a>.<span title="()com.ning.http.client.Request">build</span><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#216643" title="com.ning.http.client.AsyncCompletionHandler[com.ning.http.client.Response]" class="keyword">new</a> <a title="anonymous class $anon extends com.ning.http.client.AsyncCompletionHandler[com.ning.http.client.Response]" id="216643">AsyncCompletionHandler</a><span class="delimiter">[</span>AHCResponse<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(response: com.ning.http.client.Response)com.ning.http.client.Response" id="216667">onCompleted</a><span class="delimiter">(</span><a title="com.ning.http.client.Response" id="216677">response</a>: <span title="com.ning.http.client.Response">AHCResponse</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <a href="#216553" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.ws.Response] with play.api.libs.concurrent.Redeemable[play.api.libs.ws.Response]">result</a>.<a href="../concurrent/Promise.scala.html#102929" title="(a: =&gt; play.api.libs.ws.Response)Unit">redeem</a><span class="delimiter">(</span><a href="#218044" title="(ahcResponse: com.ning.http.client.Response)play.api.libs.ws.Response">Response</a><span class="delimiter">(</span><a href="#216677" title="com.ning.http.client.Response">response</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#216677" title="com.ning.http.client.Response">response</a>
        <span class="delimiter">}</span>
        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(t: Throwable)Unit" id="216668">onThrowable</a><span class="delimiter">(</span><a title="Throwable" id="216691">t</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <a href="#216553" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.ws.Response] with play.api.libs.concurrent.Redeemable[play.api.libs.ws.Response]">result</a>.<a href="../concurrent/Promise.scala.html#102929" title="(a: =&gt; play.api.libs.ws.Response)Unit">redeem</a><span class="delimiter">(</span><span title="Nothing" class="keyword">throw</span> <a href="#216691" title="Throwable">t</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
      <a href="#216553" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.ws.Response] with play.api.libs.concurrent.Redeemable[play.api.libs.ws.Response]">result</a>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Set an HTTP header.
     */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(name: String, value: String)play.api.libs.ws.WS.WSRequest" id="211214">setHeader</a><span class="delimiter">(</span><a title="String" id="211468">name</a>: <span title="String">String</span>, <a title="String" id="211469">value</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#211201" title="(x$1: Map[String,Seq[String]])Unit">headers</a> = <a href="#211201" title="=&gt; Map[String,Seq[String]]">headers</a> <span title="(kv: (String, Seq[String]))scala.collection.immutable.Map[String,Seq[String]]">+</span> <span class="delimiter">(</span><a href="#211468" title="(x: String)ArrowAssoc[String]">name</a> <span title="(y: List[String])(String, List[String])">-&gt;</span> <span title="(xs: String*)List[String]">List</span><span class="delimiter">(</span><a href="#211469" title="String">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#210088" title="play.api.libs.ws.WS.WSRequest" class="keyword">super</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String)play.api.libs.ws.WS.WSRequest">setHeader</span><span class="delimiter">(</span><a href="#211468" title="String">name</a>, <a href="#211469" title="String">value</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Add an HTTP header (used for headers with mutiple values).
     */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(name: String, value: String)play.api.libs.ws.WS.WSRequest" id="211215">addHeader</a><span class="delimiter">(</span><a title="String" id="216706">name</a>: <span title="String">String</span>, <a title="String" id="216707">value</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#211201" title="(x$1: Map[String,Seq[String]])Unit">headers</a> = <a href="#211201" title="=&gt; Map[String,Seq[String]]">headers</a> <span title="(kv: (String, Seq[String]))scala.collection.immutable.Map[String,Seq[String]]">+</span> <span class="delimiter">(</span><a href="#216706" title="(x: String)ArrowAssoc[String]">name</a> <span title="(y: Seq[String])(String, Seq[String])">-&gt;</span> <span class="delimiter">(</span><a href="#211201" title="=&gt; Map[String,Seq[String]]">headers</a>.<span title="(key: String)Option[Seq[String]]">get</span><span class="delimiter">(</span><a href="#216706" title="String">name</a><span class="delimiter">)</span>.<span title="(default: =&gt; Seq[String])Seq[String]">getOrElse</span><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(elem: String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[String],String,Seq[String]])Seq[String]">:+</span> <a href="#216707" title="String">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#210088" title="play.api.libs.ws.WS.WSRequest" class="keyword">super</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String)play.api.libs.ws.WS.WSRequest">addHeader</span><span class="delimiter">(</span><a href="#216706" title="String">name</a>, <a href="#216707" title="String">value</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Defines the request headers.
     */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(hdrs: com.ning.http.client.FluentCaseInsensitiveStringsMap)play.api.libs.ws.WS.WSRequest" id="211216">setHeaders</a><span class="delimiter">(</span><a title="com.ning.http.client.FluentCaseInsensitiveStringsMap" id="216849">hdrs</a>: <span title="com.ning.http.client.FluentCaseInsensitiveStringsMap">FluentCaseInsensitiveStringsMap</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#211201" title="(x$1: Map[String,Seq[String]])Unit">headers</a> = <a href="#211212" title="(headers: com.ning.http.client.FluentCaseInsensitiveStringsMap)scala.collection.immutable.Map[java.lang.String,Seq[java.lang.String]]">ningHeadersToMap</a><span class="delimiter">(</span><a href="#216849" title="com.ning.http.client.FluentCaseInsensitiveStringsMap">hdrs</a><span class="delimiter">)</span>
      <a href="#210088" title="play.api.libs.ws.WS.WSRequest" class="keyword">super</a>.<span title="(x$1: com.ning.http.client.FluentCaseInsensitiveStringsMap)play.api.libs.ws.WS.WSRequest">setHeaders</span><span class="delimiter">(</span><a href="#216849" title="com.ning.http.client.FluentCaseInsensitiveStringsMap">hdrs</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Defines the request headers.
     */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(hdrs: java.util.Map[String,java.util.Collection[String]])play.api.libs.ws.WS.WSRequest" id="211217">setHeaders</a><span class="delimiter">(</span><a title="java.util.Map[String,java.util.Collection[String]]" id="216865">hdrs</a>: java.util.<span title="java.util.Map[String,java.util.Collection[String]]">Map</span><span class="delimiter">[</span>String, java.util.Collection<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#211201" title="(x$1: Map[String,Seq[String]])Unit">headers</a> = <a href="#211211" title="(headers: java.util.Map[String,java.util.Collection[String]])scala.collection.immutable.Map[String,Seq[String]]">ningHeadersToMap</a><span class="delimiter">(</span><a href="#216865" title="java.util.Map[String,java.util.Collection[String]]">hdrs</a><span class="delimiter">)</span>
      <a href="#210088" title="play.api.libs.ws.WS.WSRequest" class="keyword">super</a>.<span title="(x$1: java.util.Map[java.lang.String,java.util.Collection[java.lang.String]])play.api.libs.ws.WS.WSRequest">setHeaders</span><span class="delimiter">(</span><a href="#216865" title="java.util.Map[String,java.util.Collection[String]]">hdrs</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Defines the request headers.
     */</span>
    <span class="keyword">def</span> <a title="(hdrs: Map[String,Seq[String]])play.api.libs.ws.WS.WSRequest" id="211218">setHeaders</a><span class="delimiter">(</span><a title="Map[String,Seq[String]]" id="216881">hdrs</a>: <span title="Map[String,Seq[String]]">Map</span><span class="delimiter">[</span>String, Seq<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#211201" title="(x$1: Map[String,Seq[String]])Unit">headers</a> = <a href="#216881" title="Map[String,Seq[String]]">hdrs</a>
      <a href="#216881" title="Map[String,Seq[String]]">hdrs</a>.<span title="(f: (String, Seq[String]) =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a title="(String, Seq[String])" id="216902">header</a> =&gt; <a href="#216902" title="(String, Seq[String])">header</a>.<span title="=&gt; Seq[String]">_2</span>.<span title="(f: String =&gt; play.api.libs.ws.WS.WSRequest)Unit">foreach</span><span class="delimiter">(</span><a title="String" id="216919">value</a> =&gt;
        <a href="#210088" title="play.api.libs.ws.WS.WSRequest" class="keyword">super</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String)play.api.libs.ws.WS.WSRequest">addHeader</span><span class="delimiter">(</span><a href="#216902" title="(String, Seq[String])">header</a>.<span title="=&gt; String">_1</span>, <a href="#216919" title="String">value</a><span class="delimiter">)</span>
      <span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#210088" title="play.api.libs.ws.WS.WSRequest" class="keyword">this</a>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Defines the query string.
     */</span>
    <span class="keyword">def</span> <a title="(queryString: Map[String,String])play.api.libs.ws.WS.WSRequest" id="211219">setQueryString</a><span class="delimiter">(</span><a title="Map[String,String]" id="216923">queryString</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#216923" title="Map[String,String]">queryString</a>.<span title="(f: (String, String) =&gt; play.api.libs.ws.WS.WSRequest)Unit">foreach</span> <span class="delimiter">{</span> param: <span title="(String, String)" class="delimiter">(</span>String, String<span class="delimiter">)</span> =&gt; <a href="#210088" title="WSRequest.this.type" class="keyword">this</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String)play.api.libs.ws.WS.WSRequest">addQueryParameter</span><span class="delimiter">(</span><a href="#216942" title="(String, String)">param</a>.<span title="=&gt; String">_1</span>, <a href="#216942" title="(String, String)">param</a>.<span title="=&gt; String">_2</span><span class="delimiter">)</span> <span class="delimiter">}</span>
      <a href="#210088" title="play.api.libs.ws.WS.WSRequest" class="keyword">this</a>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Defines the URL.
     */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(url: String)play.api.libs.ws.WS.WSRequest" id="211220">setUrl</a><span class="delimiter">(</span><a title="String" id="211771">url</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#211204" title="(x$1: String)Unit">_url</a> = <a href="#211771" title="String">url</a>
      <a href="#210088" title="play.api.libs.ws.WS.WSRequest" class="keyword">super</a>.<span title="(x$1: java.lang.String)play.api.libs.ws.WS.WSRequest">setUrl</span><span class="delimiter">(</span><a href="#211771" title="String">url</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span><span class="delimiter">[</span>libs<span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A](consumer: play.api.libs.ws.ResponseHeaders =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A])play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]" id="211221">executeStream</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="211223">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.ws.ResponseHeaders =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A]" id="216944">consumer</a>: ResponseHeaders =&gt; Iteratee<span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../concurrent/Promise.scala.html#13536" title="play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">Promise</a><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">import</span> com.ning.http.client.AsyncHandler
      <span class="keyword">var</span> <a title="Boolean" id="216948">doneOrError</a> = <span title="Boolean(false)" class="keyword">false</span>
      <a href="#211198" title="=&gt; Option[play.api.libs.ws.SignatureCalculator]">calculator</a>.<span title="(f: play.api.libs.ws.SignatureCalculator =&gt; Unit)Option[Unit]">map</span><span class="delimiter">(</span><a href="#216955" title="play.api.libs.ws.SignatureCalculator">_</a>.<a href="#210734" title="(request: play.api.libs.ws.WS.WSRequest)Unit">sign</a><span class="delimiter">(</span><a href="#210088" title="play.api.libs.ws.WS.WSRequest" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="Int" id="216949">statusCode</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">val</span> <a title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[Array[Byte],A]]" id="216950">iterateeP</a> = <a href="../concurrent/Promise.scala.html#78506" title="[A]()play.api.libs.concurrent.Promise[A] with play.api.libs.concurrent.Redeemable[A]">Promise</a><span title="()play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[Array[Byte],A]]" class="delimiter">[</span><a href="../iteratee/Iteratee.scala.html#14613" title="play.api.libs.iteratee.Iteratee[Array[Byte],A]">Iteratee</a><span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="play.api.libs.iteratee.Iteratee[Array[Byte],A]" id="216951">iteratee</a>: <a href="../iteratee/Iteratee.scala.html#14613" title="play.api.libs.iteratee.Iteratee[Array[Byte],A]">Iteratee</a><span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, A<span class="delimiter">]</span> = <span title="Null(null)" class="keyword">null</span>

      <a href="#15889" title="object play.api.libs.ws.WS">WS</a>.<a href="#210085" title="=&gt; com.ning.http.client.AsyncHttpClient">client</a>.<span title="(x$1: com.ning.http.client.Request, x$2: com.ning.http.client.AsyncHandler[Unit])com.ning.http.client.ListenableFuture[Unit]">executeRequest</span><span class="delimiter">(</span><a href="#210088" title="WSRequest.this.type" class="keyword">this</a>.<span title="()com.ning.http.client.Request">build</span><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#216966" title="java.lang.Object with com.ning.http.client.AsyncHandler[Unit]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with com.ning.http.client.AsyncHandler[Unit]" id="216966">AsyncHandler</a><span class="delimiter">[</span>Unit<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">import</span> com.ning.http.client.<span title="object com.ning.http.client.AsyncHandler">AsyncHandler</span>.STATE

        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(status: com.ning.http.client.HttpResponseStatus)com.ning.http.client.AsyncHandler.STATE" id="216971">onStatusReceived</a><span class="delimiter">(</span><a title="com.ning.http.client.HttpResponseStatus" id="216976">status</a>: <span title="com.ning.http.client.HttpResponseStatus">HttpResponseStatus</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <a href="#216949" title="Int">statusCode</a> = <a href="#216976" title="com.ning.http.client.HttpResponseStatus">status</a>.<span title="()Int">getStatusCode</span><span class="delimiter">(</span><span class="delimiter">)</span>
          STATE.<span title="com.ning.http.client.AsyncHandler.STATE(value CONTINUE)">CONTINUE</span>
        <span class="delimiter">}</span>

        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(h: com.ning.http.client.HttpResponseHeaders)com.ning.http.client.AsyncHandler.STATE" id="216972">onHeadersReceived</a><span class="delimiter">(</span><a title="com.ning.http.client.HttpResponseHeaders" id="217002">h</a>: <span title="com.ning.http.client.HttpResponseHeaders">HttpResponseHeaders</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="com.ning.http.client.FluentCaseInsensitiveStringsMap" id="217014">headers</a> = <a href="#217002" title="com.ning.http.client.HttpResponseHeaders">h</a>.<span title="()com.ning.http.client.FluentCaseInsensitiveStringsMap">getHeaders</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#216951" title="play.api.libs.iteratee.Iteratee[Array[Byte],A]">iteratee</a> = <a href="#216944" title="(v1: play.api.libs.ws.ResponseHeaders)play.api.libs.iteratee.Iteratee[Array[Byte],A]">consumer</a><span class="delimiter">(</span><a href="#218048" title="(status: Int, headers: Map[String,Seq[String]])play.api.libs.ws.ResponseHeaders">ResponseHeaders</a><span class="delimiter">(</span><a href="#216949" title="Int">statusCode</a>, <a href="#211212" title="(headers: com.ning.http.client.FluentCaseInsensitiveStringsMap)scala.collection.immutable.Map[java.lang.String,Seq[java.lang.String]]">ningHeadersToMap</a><span class="delimiter">(</span><a href="#217014" title="com.ning.http.client.FluentCaseInsensitiveStringsMap">headers</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          STATE.<span title="com.ning.http.client.AsyncHandler.STATE(value CONTINUE)">CONTINUE</span>
        <span class="delimiter">}</span>

        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(bodyPart: com.ning.http.client.HttpResponseBodyPart)com.ning.http.client.AsyncHandler.STATE" id="216973">onBodyPartReceived</a><span class="delimiter">(</span><a title="com.ning.http.client.HttpResponseBodyPart" id="217029">bodyPart</a>: <span title="com.ning.http.client.HttpResponseBodyPart">HttpResponseBodyPart</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span title="com.ning.http.client.AsyncHandler.STATE" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#216948" title="Boolean">doneOrError</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#216951" title="play.api.libs.iteratee.Iteratee[Array[Byte],A]">iteratee</a> = <a href="#216951" title="play.api.libs.iteratee.Iteratee[Array[Byte],A]">iteratee</a>.<a href="../iteratee/Iteratee.scala.html#74083" title="(done: (A, play.api.libs.iteratee.Input[Array[Byte]]) =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A], cont: play.api.libs.iteratee.Input[Array[Byte]] =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A] =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A], error: (String, play.api.libs.iteratee.Input[Array[Byte]]) =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A])play.api.libs.iteratee.Iteratee[Array[Byte],A]">pureFlatFold</a><span class="delimiter">(</span>
              <span class="comment">// DONE</span>
              <span class="delimiter">(</span><a title="A" id="217051">a</a>, <a title="play.api.libs.iteratee.Input[Array[Byte]]" id="217052">e</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
                <a href="#216948" title="Boolean">doneOrError</a> = <span title="Boolean(true)" class="keyword">true</span>
                <span class="keyword">val</span> <a title="play.api.libs.iteratee.Iteratee[Array[Byte],A]" id="217053">it</a> = <a href="../iteratee/Iteratee.scala.html#74229" title="(a: A, e: play.api.libs.iteratee.Input[Array[Byte]])play.api.libs.iteratee.Iteratee[Array[Byte],A]">Done</a><span class="delimiter">(</span><a href="#217051" title="A">a</a>, <a href="#217052" title="play.api.libs.iteratee.Input[Array[Byte]]">e</a><span class="delimiter">)</span>
                <a href="#216950" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">iterateeP</a>.<a href="../concurrent/Promise.scala.html#102929" title="(a: =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A])Unit">redeem</a><span class="delimiter">(</span><a href="#217053" title="play.api.libs.iteratee.Iteratee[Array[Byte],A]">it</a><span class="delimiter">)</span>
                <a href="#217053" title="play.api.libs.iteratee.Iteratee[Array[Byte],A]">it</a>
              <span class="delimiter">}</span>,

              <span class="comment">// CONTINUE</span>
              <a title="play.api.libs.iteratee.Input[Array[Byte]] =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A]" id="217062">k</a> =&gt; <span class="delimiter">{</span>
                <a href="#217062" title="(v1: play.api.libs.iteratee.Input[Array[Byte]])play.api.libs.iteratee.Iteratee[Array[Byte],A]">k</a><span class="delimiter">(</span><a href="../iteratee/Iteratee.scala.html#74157" title="(e: Array[Byte])play.api.libs.iteratee.Input.El[Array[Byte]]">El</a><span class="delimiter">(</span><a href="#217029" title="com.ning.http.client.HttpResponseBodyPart">bodyPart</a>.<span title="()Array[Byte]">getBodyPartBytes</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>,

              <span class="comment">// ERROR</span>
              <span class="delimiter">(</span><a title="String" id="217068">e</a>, <a title="play.api.libs.iteratee.Input[Array[Byte]]" id="217069">input</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
                <a href="#216948" title="Boolean">doneOrError</a> = <span title="Boolean(true)" class="keyword">true</span>
                <span class="keyword">val</span> <a title="play.api.libs.iteratee.Iteratee[Array[Byte],Nothing]" id="217070">it</a> = <a href="../iteratee/Iteratee.scala.html#177511" title="(msg: String, e: play.api.libs.iteratee.Input[Array[Byte]])play.api.libs.iteratee.Iteratee[Array[Byte],Nothing]">Error</a><span class="delimiter">(</span><a href="#217068" title="String">e</a>, <a href="#217069" title="play.api.libs.iteratee.Input[Array[Byte]]">input</a><span class="delimiter">)</span>
                <a href="#216950" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">iterateeP</a>.<a href="../concurrent/Promise.scala.html#102929" title="(a: =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A])Unit">redeem</a><span class="delimiter">(</span><a href="#217070" title="play.api.libs.iteratee.Iteratee[Array[Byte],Nothing]">it</a><span class="delimiter">)</span>
                <a href="#217070" title="play.api.libs.iteratee.Iteratee[Array[Byte],Nothing]">it</a>
              <span class="delimiter">}</span><span class="delimiter">)</span>
            STATE.<span title="com.ning.http.client.AsyncHandler.STATE(value CONTINUE)">CONTINUE</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#216951" title="play.api.libs.iteratee.Iteratee[Array[Byte],A]">iteratee</a> = <span title="Null(null)" class="keyword">null</span>
            STATE.<span title="com.ning.http.client.AsyncHandler.STATE(value ABORT)">ABORT</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Unit" id="216974">onCompleted</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span title="(x: play.api.libs.iteratee.Iteratee[Array[Byte],A])Option[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">Option</span><span class="delimiter">(</span><a href="#216951" title="play.api.libs.iteratee.Iteratee[Array[Byte],A]">iteratee</a><span class="delimiter">)</span>.<span title="(f: play.api.libs.iteratee.Iteratee[Array[Byte],A] =&gt; Unit)Option[Unit]">map</span><span title="Unit" class="delimiter">(</span><a href="#216950" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">iterateeP</a>.<a href="../concurrent/Promise.scala.html#102929" title="(a: =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A])Unit">redeem</a><span class="delimiter">(</span><a href="#217102" title="play.api.libs.iteratee.Iteratee[Array[Byte],A]">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(t: Throwable)Unit" id="216975">onThrowable</a><span class="delimiter">(</span><a title="Throwable" id="217104">t</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <a href="#216950" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">iterateeP</a>.<a href="../concurrent/Promise.scala.html#102929" title="(a: =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A])Unit">redeem</a><span class="delimiter">(</span><span title="Nothing" class="keyword">throw</span> <a href="#217104" title="Throwable">t</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
      <a href="#216950" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">iterateeP</a>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * A WS Request builder.
   */</span>
  case <span class="keyword">class</span> <a title="class WSRequestHolder extends java.lang.Object with ScalaObject with Product with Serializable" id="217838">WSRequestHolder</a><a href="#217838" title="ScalaObject" class="delimiter">(</a><a title="String" id="215458">url</a>: <span title="String">String</span>,
      <a title="Map[String,Seq[String]]" id="215459">headers</a>: <span title="Map[String,Seq[String]]">Map</span><span class="delimiter">[</span>String, Seq<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span>,
      <a title="Map[String,String]" id="215460">queryString</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span>,
      <a title="Option[play.api.libs.ws.SignatureCalculator]" id="215461">calc</a>: <span title="Option[play.api.libs.ws.SignatureCalculator]">Option</span><span class="delimiter">[</span>SignatureCalculator<span class="delimiter">]</span>,
      <a title="Option[(String, String, com.ning.http.client.Realm.AuthScheme)]" id="215462">auth</a>: <span title="Option[(String, String, com.ning.http.client.Realm.AuthScheme)]">Option</span><span class="delimiter">[</span>Tuple3<span class="delimiter">[</span>String, String, AuthScheme<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>

    <span class="comment">/**
     * sets the signature calculator for the request
     * @param calc
     */</span>
    <span class="keyword">def</span> <a title="(calc: play.api.libs.ws.SignatureCalculator)play.api.libs.ws.WS.WSRequestHolder" id="214221">sign</a><span class="delimiter">(</span><a title="play.api.libs.ws.SignatureCalculator" id="217132">calc</a>: <a href="#15921" title="play.api.libs.ws.SignatureCalculator">SignatureCalculator</a><span class="delimiter">)</span>: <a href="#217838" title="play.api.libs.ws.WS.WSRequestHolder">WSRequestHolder</a> = <a href="#217838" title="WSRequestHolder.this.type" class="keyword">this</a>.<a href="#215458" title="String" id="217164">copy</a><span class="delimiter">(</span>calc = <span title="(x: play.api.libs.ws.SignatureCalculator)Some[play.api.libs.ws.SignatureCalculator]">Some</span><a title="Some[play.api.libs.ws.SignatureCalculator]" id="217160" class="delimiter">(</a><a href="#217132" title="play.api.libs.ws.SignatureCalculator">calc</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/**
     * sets the authentication realm
     * @param calc
     */</span>
    <span class="keyword">def</span> <a title="(username: String, password: String, scheme: com.ning.http.client.Realm.AuthScheme)play.api.libs.ws.WS.WSRequestHolder" id="214222">withAuth</a><span class="delimiter">(</span><a title="String" id="217165">username</a>: <span title="String">String</span>, <a title="String" id="217166">password</a>: <span title="String">String</span>, <a title="com.ning.http.client.Realm.AuthScheme" id="217167">scheme</a>: <span title="com.ning.http.client.Realm.AuthScheme">AuthScheme</span><span class="delimiter">)</span>: <a href="#217838" title="play.api.libs.ws.WS.WSRequestHolder">WSRequestHolder</a> =
      <a href="#217838" title="WSRequestHolder.this.type" class="keyword">this</a>.<a href="#215458" title="String" id="217188">copy</a><span class="delimiter">(</span>auth = <span title="(x: (String, String, com.ning.http.client.Realm.AuthScheme))Some[(String, String, com.ning.http.client.Realm.AuthScheme)]">Some</span><a title="Some[(String, String, com.ning.http.client.Realm.AuthScheme)]" id="217184" class="delimiter">(</a><span title="(_1: String, _2: String, _3: com.ning.http.client.Realm.AuthScheme)(String, String, com.ning.http.client.Realm.AuthScheme)" class="delimiter">(</span><a href="#217165" title="String">username</a>, <a href="#217166" title="String">password</a>, <a href="#217167" title="com.ning.http.client.Realm.AuthScheme">scheme</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/**
     * adds any number of HTTP headers
     * @param hdrs
     */</span>
    <span class="keyword">def</span> <a title="(hdrs: (String, String)*)play.api.libs.ws.WS.WSRequestHolder" id="214223">withHeaders</a><span class="delimiter">(</span><a title="(String, String)*" id="217189">hdrs</a>: <span title="(String, String)*" class="delimiter">(</span>String, String<span class="delimiter">)</span>*<span class="delimiter">)</span>: <a href="#217838" title="play.api.libs.ws.WS.WSRequestHolder">WSRequestHolder</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Map[String,Seq[String]]" id="217191">headers</a> = <a href="#217189" title="(String, String)*">hdrs</a>.<span title="(z: Map[String,Seq[String]])(op: (Map[String,Seq[String]], (String, String)) =&gt; Map[String,Seq[String]])Map[String,Seq[String]]">foldLeft</span><span class="delimiter">(</span><a href="#217838" title="WSRequestHolder.this.type" class="keyword">this</a>.<a href="#215459" title="=&gt; Map[String,Seq[String]]">headers</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Map[String,Seq[String]]" id="217204">m</a>, <a title="(String, String)" id="217205">hdr</a><span class="delimiter">)</span> =&gt;
        <span title="Map[String,Seq[String]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#217204" title="Map[String,Seq[String]]">m</a>.<span title="(key: String)Boolean">contains</span><span class="delimiter">(</span><a href="#217205" title="(String, String)">hdr</a>.<span title="=&gt; String">_1</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#217204" title="Map[String,Seq[String]]">m</a>.<span title="(key: String, value: Seq[String])scala.collection.immutable.Map[String,Seq[String]]">updated</span><span class="delimiter">(</span><a href="#217205" title="(String, String)">hdr</a>.<span title="=&gt; String">_1</span>, <a href="#217204" title="(key: String)Seq[String]">m</a><span class="delimiter">(</span><a href="#217205" title="(String, String)">hdr</a>.<span title="=&gt; String">_1</span><span class="delimiter">)</span> <span title="(elem: String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[String],String,Seq[String]])Seq[String]">:+</span> <a href="#217205" title="(String, String)">hdr</a>.<span title="=&gt; String">_2</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">(</span><a href="#217204" title="Map[String,Seq[String]]">m</a> <span title="(kv: (String, Seq[String]))scala.collection.immutable.Map[String,Seq[String]]">+</span> <span class="delimiter">(</span><a href="#217205" title="(String, String)">hdr</a>.<span title="(x: String)ArrowAssoc[String]">_1</span> <span title="(y: Seq[String])(String, Seq[String])">-&gt;</span> <span title="(elems: String*)Seq[String]">Seq</span><span class="delimiter">(</span><a href="#217205" title="(String, String)">hdr</a>.<span title="=&gt; String">_2</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <a href="#217838" title="WSRequestHolder.this.type" class="keyword">this</a>.<a href="#215458" title="String" id="217366">copy</a><span class="delimiter">(</span>headers = <a href="#217191" title="Map[String,Seq[String]]" id="217362">headers</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * adds any number of query string parameters to the
     */</span>
    <span class="keyword">def</span> <a title="(parameters: (String, String)*)play.api.libs.ws.WS.WSRequestHolder" id="214224">withQueryString</a><span class="delimiter">(</span><a title="(String, String)*" id="217367">parameters</a>: <span title="(String, String)*" class="delimiter">(</span>String, String<span class="delimiter">)</span>*<span class="delimiter">)</span>: <a href="#217838" title="play.api.libs.ws.WS.WSRequestHolder">WSRequestHolder</a> =
      <a href="#217838" title="WSRequestHolder.this.type" class="keyword">this</a>.<a href="#215458" title="String" id="217440">copy</a><span class="delimiter">(</span>queryString = <a href="#217367" title="(String, String)*">parameters</a>.<span title="(z: Map[String,String])(op: (Map[String,String], (String, String)) =&gt; Map[String,String])Map[String,String]">foldLeft</span><span class="delimiter">(</span><a href="#215460" title="=&gt; Map[String,String]">queryString</a><span class="delimiter">)</span><a title="Map[String,String]" id="217436" class="delimiter">(</a><span class="delimiter">(</span><a title="Map[String,String]" id="217381">m</a>, <a title="(String, String)" id="217382">param</a><span class="delimiter">)</span> =&gt; <a href="#217381" title="Map[String,String]">m</a> <span title="(kv: (String, String))scala.collection.immutable.Map[String,String]">+</span> <a href="#217382" title="(String, String)">param</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/**
     * performs a get with supplied body
     */</span>

    <span class="keyword">def</span> <a title="()play.api.libs.concurrent.Promise[play.api.libs.ws.Response]" id="214225">get</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../concurrent/Promise.scala.html#13536" title="play.api.libs.concurrent.Promise[play.api.libs.ws.Response]">Promise</a><span class="delimiter">[</span>Response<span class="delimiter">]</span> = <a href="#214248" title="(method: String)play.api.libs.ws.WS.WSRequest">prepare</a><span class="delimiter">(</span><span title="java.lang.String(&quot;GET&quot;)" class="string">&quot;GET&quot;</span><span class="delimiter">)</span>.<a href="#211213" title="=&gt; play.api.libs.concurrent.Promise[play.api.libs.ws.Response]">execute</a>

    <span class="comment">/**
     * performs a get with supplied body
     * @param consumer that's handling the response
     */</span>
    <span class="keyword">def</span> <a title="[A](consumer: play.api.libs.ws.ResponseHeaders =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A])play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]" id="214226">get</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="214228">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.ws.ResponseHeaders =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A]" id="214760">consumer</a>: ResponseHeaders =&gt; Iteratee<span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../concurrent/Promise.scala.html#13536" title="play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">Promise</a><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, A<span class="delimiter">]</span><span class="delimiter">]</span> =
      <a href="#214248" title="(method: String)play.api.libs.ws.WS.WSRequest">prepare</a><span class="delimiter">(</span><span title="java.lang.String(&quot;GET&quot;)" class="string">&quot;GET&quot;</span><span class="delimiter">)</span>.<a href="#211221" title="(consumer: play.api.libs.ws.ResponseHeaders =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A])play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">executeStream</a><span class="delimiter">(</span><a href="#214760" title="play.api.libs.ws.ResponseHeaders =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A]">consumer</a><span class="delimiter">)</span>

    <span class="comment">/**
     * Perform a POST on the request asynchronously.
     */</span>
    <span class="keyword">def</span> <a title="[T](body: T)(implicit wrt: play.api.http.Writeable[T], implicit ct: play.api.http.ContentTypeOf[T])play.api.libs.concurrent.Promise[play.api.libs.ws.Response]" id="214229">post</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="214231">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="214253">body</a>: <a href="#214231" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="play.api.http.Writeable[T]" id="214254">wrt</a>: <a href="../../http/Writeable.scala.html#12962" title="play.api.http.Writeable[T]">Writeable</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="play.api.http.ContentTypeOf[T]" id="214255">ct</a>: <a href="../../http/ContentTypeOf.scala.html#12941" title="play.api.http.ContentTypeOf[T]">ContentTypeOf</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../concurrent/Promise.scala.html#13536" title="play.api.libs.concurrent.Promise[play.api.libs.ws.Response]">Promise</a><span class="delimiter">[</span>Response<span class="delimiter">]</span> = <a href="#214249" title="(method: String, body: T)(implicit wrt: play.api.http.Writeable[T], implicit ct: play.api.http.ContentTypeOf[T])play.api.libs.ws.WS.WSRequest">prepare</a><a href="#214254" title="play.api.http.Writeable[T]" class="delimiter">(</a><span title="java.lang.String(&quot;POST&quot;)" class="string">&quot;POST&quot;</span>, <a href="#214253" title="T">body</a><span class="delimiter">)</span>.<a href="#211213" title="=&gt; play.api.libs.concurrent.Promise[play.api.libs.ws.Response]">execute</a>

    <span class="comment">/**
     * performs a POST with supplied body
     * @param consumer that's handling the response
     */</span>
    <span class="keyword">def</span> <a title="[A, T](body: T)(consumer: play.api.libs.ws.ResponseHeaders =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A])(implicit wrt: play.api.http.Writeable[T], implicit ct: play.api.http.ContentTypeOf[T])play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]" id="214232">postAndRetrieveStream</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="214235">A</a>, <a title="&gt;: Nothing &lt;: Any" id="214236">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="217627">body</a>: <a href="#214236" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="play.api.libs.ws.ResponseHeaders =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A]" id="217628">consumer</a>: ResponseHeaders =&gt; Iteratee<span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="play.api.http.Writeable[T]" id="217629">wrt</a>: <a href="../../http/Writeable.scala.html#12962" title="play.api.http.Writeable[T]">Writeable</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="play.api.http.ContentTypeOf[T]" id="217630">ct</a>: <a href="../../http/ContentTypeOf.scala.html#12941" title="play.api.http.ContentTypeOf[T]">ContentTypeOf</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../concurrent/Promise.scala.html#13536" title="play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">Promise</a><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#214249" title="(method: String, body: T)(implicit wrt: play.api.http.Writeable[T], implicit ct: play.api.http.ContentTypeOf[T])play.api.libs.ws.WS.WSRequest">prepare</a><a href="#217629" title="play.api.http.Writeable[T]" class="delimiter">(</a><span title="java.lang.String(&quot;POST&quot;)" class="string">&quot;POST&quot;</span>, <a href="#217627" title="T">body</a><span class="delimiter">)</span>.<a href="#211221" title="(consumer: play.api.libs.ws.ResponseHeaders =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A])play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">executeStream</a><span class="delimiter">(</span><a href="#217628" title="play.api.libs.ws.ResponseHeaders =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A]">consumer</a><span class="delimiter">)</span>

    <span class="comment">/**
     * Perform a PUT on the request asynchronously.
     */</span>
    <span class="keyword">def</span> <a title="[T](body: T)(implicit wrt: play.api.http.Writeable[T], implicit ct: play.api.http.ContentTypeOf[T])play.api.libs.concurrent.Promise[play.api.libs.ws.Response]" id="214237">put</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="214239">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="217665">body</a>: <a href="#214239" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="play.api.http.Writeable[T]" id="217666">wrt</a>: <a href="../../http/Writeable.scala.html#12962" title="play.api.http.Writeable[T]">Writeable</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="play.api.http.ContentTypeOf[T]" id="217667">ct</a>: <a href="../../http/ContentTypeOf.scala.html#12941" title="play.api.http.ContentTypeOf[T]">ContentTypeOf</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../concurrent/Promise.scala.html#13536" title="play.api.libs.concurrent.Promise[play.api.libs.ws.Response]">Promise</a><span class="delimiter">[</span>Response<span class="delimiter">]</span> = <a href="#214249" title="(method: String, body: T)(implicit wrt: play.api.http.Writeable[T], implicit ct: play.api.http.ContentTypeOf[T])play.api.libs.ws.WS.WSRequest">prepare</a><a href="#217666" title="play.api.http.Writeable[T]" class="delimiter">(</a><span title="java.lang.String(&quot;PUT&quot;)" class="string">&quot;PUT&quot;</span>, <a href="#217665" title="T">body</a><span class="delimiter">)</span>.<a href="#211213" title="=&gt; play.api.libs.concurrent.Promise[play.api.libs.ws.Response]">execute</a>

    <span class="comment">/**
     * performs a PUT with supplied body
     * @param consumer that's handling the response
     */</span>
    <span class="keyword">def</span> <a title="[A, T](body: T)(consumer: play.api.libs.ws.ResponseHeaders =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A])(implicit wrt: play.api.http.Writeable[T], implicit ct: play.api.http.ContentTypeOf[T])play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]" id="214240">putAndRetrieveStream</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="214243">A</a>, <a title="&gt;: Nothing &lt;: Any" id="214244">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="217698">body</a>: <a href="#214244" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="play.api.libs.ws.ResponseHeaders =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A]" id="217699">consumer</a>: ResponseHeaders =&gt; Iteratee<span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="play.api.http.Writeable[T]" id="217700">wrt</a>: <a href="../../http/Writeable.scala.html#12962" title="play.api.http.Writeable[T]">Writeable</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="play.api.http.ContentTypeOf[T]" id="217701">ct</a>: <a href="../../http/ContentTypeOf.scala.html#12941" title="play.api.http.ContentTypeOf[T]">ContentTypeOf</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../concurrent/Promise.scala.html#13536" title="play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">Promise</a><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#214249" title="(method: String, body: T)(implicit wrt: play.api.http.Writeable[T], implicit ct: play.api.http.ContentTypeOf[T])play.api.libs.ws.WS.WSRequest">prepare</a><a href="#217700" title="play.api.http.Writeable[T]" class="delimiter">(</a><span title="java.lang.String(&quot;PUT&quot;)" class="string">&quot;PUT&quot;</span>, <a href="#217698" title="T">body</a><span class="delimiter">)</span>.<a href="#211221" title="(consumer: play.api.libs.ws.ResponseHeaders =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A])play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">executeStream</a><span class="delimiter">(</span><a href="#217699" title="play.api.libs.ws.ResponseHeaders =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A]">consumer</a><span class="delimiter">)</span>

    <span class="comment">/**
     * Perform a DELETE on the request asynchronously.
     */</span>
    <span class="keyword">def</span> <a title="()play.api.libs.concurrent.Promise[play.api.libs.ws.Response]" id="214245">delete</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../concurrent/Promise.scala.html#13536" title="play.api.libs.concurrent.Promise[play.api.libs.ws.Response]">Promise</a><span class="delimiter">[</span>Response<span class="delimiter">]</span> = <a href="#214248" title="(method: String)play.api.libs.ws.WS.WSRequest">prepare</a><span class="delimiter">(</span><span title="java.lang.String(&quot;DELETE&quot;)" class="string">&quot;DELETE&quot;</span><span class="delimiter">)</span>.<a href="#211213" title="=&gt; play.api.libs.concurrent.Promise[play.api.libs.ws.Response]">execute</a>

    <span class="comment">/**
     * Perform a HEAD on the request asynchronously.
     */</span>
    <span class="keyword">def</span> <a title="()play.api.libs.concurrent.Promise[play.api.libs.ws.Response]" id="214246">head</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../concurrent/Promise.scala.html#13536" title="play.api.libs.concurrent.Promise[play.api.libs.ws.Response]">Promise</a><span class="delimiter">[</span>Response<span class="delimiter">]</span> = <a href="#214248" title="(method: String)play.api.libs.ws.WS.WSRequest">prepare</a><span class="delimiter">(</span><span title="java.lang.String(&quot;HEAD&quot;)" class="string">&quot;HEAD&quot;</span><span class="delimiter">)</span>.<a href="#211213" title="=&gt; play.api.libs.concurrent.Promise[play.api.libs.ws.Response]">execute</a>

    <span class="comment">/**
     * Perform a OPTIONS on the request asynchronously.
     */</span>
    <span class="keyword">def</span> <a title="()play.api.libs.concurrent.Promise[play.api.libs.ws.Response]" id="214247">options</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../concurrent/Promise.scala.html#13536" title="play.api.libs.concurrent.Promise[play.api.libs.ws.Response]">Promise</a><span class="delimiter">[</span>Response<span class="delimiter">]</span> = <a href="#214248" title="(method: String)play.api.libs.ws.WS.WSRequest">prepare</a><span class="delimiter">(</span><span title="java.lang.String(&quot;OPTIONS&quot;)" class="string">&quot;OPTIONS&quot;</span><span class="delimiter">)</span>.<a href="#211213" title="=&gt; play.api.libs.concurrent.Promise[play.api.libs.ws.Response]">execute</a>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(method: String)play.api.libs.ws.WS.WSRequest" id="214248">prepare</a><span class="delimiter">(</span><a title="String" id="217579">method</a>: <span title="String">String</span><span class="delimiter">)</span> =
      <span title="play.api.libs.ws.WS.WSRequest" class="keyword">new</span> <a href="#210088" title="play.api.libs.ws.WS.WSRequest">WSRequest</a><span class="delimiter">(</span><a href="#217579" title="String">method</a>, <a href="#215462" title="=&gt; Option[(String, String, com.ning.http.client.Realm.AuthScheme)]">auth</a>, <a href="#215461" title="=&gt; Option[play.api.libs.ws.SignatureCalculator]">calc</a><span class="delimiter">)</span>.<a href="#211220" title="(url: String)play.api.libs.ws.WS.WSRequest">setUrl</a><span class="delimiter">(</span><a href="#215458" title="=&gt; String">url</a><span class="delimiter">)</span>
        .<a href="#211218" title="(hdrs: Map[String,Seq[String]])play.api.libs.ws.WS.WSRequest">setHeaders</a><span class="delimiter">(</span><a href="#215459" title="=&gt; Map[String,Seq[String]]">headers</a><span class="delimiter">)</span>
        .<a href="#211219" title="(queryString: Map[String,String])play.api.libs.ws.WS.WSRequest">setQueryString</a><span class="delimiter">(</span><a href="#215460" title="=&gt; Map[String,String]">queryString</a><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="[T](method: String, body: T)(implicit wrt: play.api.http.Writeable[T], implicit ct: play.api.http.ContentTypeOf[T])play.api.libs.ws.WS.WSRequest" id="214249">prepare</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="214251">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="217445">method</a>: <span title="String">String</span>, <a title="T" id="217446">body</a>: <a href="#214251" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="play.api.http.Writeable[T]" id="217447">wrt</a>: <a href="../../http/Writeable.scala.html#12962" title="play.api.http.Writeable[T]">Writeable</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="play.api.http.ContentTypeOf[T]" id="217448">ct</a>: <a href="../../http/ContentTypeOf.scala.html#12941" title="play.api.http.ContentTypeOf[T]">ContentTypeOf</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> =
      <span title="play.api.libs.ws.WS.WSRequest" class="keyword">new</span> <a href="#210088" title="play.api.libs.ws.WS.WSRequest">WSRequest</a><span class="delimiter">(</span><a href="#217445" title="String">method</a>, <a href="#215462" title="=&gt; Option[(String, String, com.ning.http.client.Realm.AuthScheme)]">auth</a>, <a href="#215461" title="=&gt; Option[play.api.libs.ws.SignatureCalculator]">calc</a><span class="delimiter">)</span>.<a href="#211220" title="(url: String)play.api.libs.ws.WS.WSRequest">setUrl</a><span class="delimiter">(</span><a href="#215458" title="=&gt; String">url</a><span class="delimiter">)</span>
        .<a href="#211218" title="(hdrs: Map[String,Seq[String]])play.api.libs.ws.WS.WSRequest">setHeaders</a><span class="delimiter">(</span><span title="(elems: (java.lang.String, Seq[String])*)scala.collection.immutable.Map[java.lang.String,Seq[String]]">Map</span><span class="delimiter">(</span><span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;Content-Type&quot;</span> <span title="(y: Seq[String])(java.lang.String, Seq[String])">-&gt;</span> <span title="(elems: String*)Seq[String]">Seq</span><span class="delimiter">(</span><a href="#217448" title="play.api.http.ContentTypeOf[T]">ct</a>.<a href="../../http/ContentTypeOf.scala.html#93348" title="=&gt; Option[String]">mimeType</a>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="java.lang.String(&quot;text/plain&quot;)" class="string">&quot;text/plain&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(xs: scala.collection.GenTraversableOnce[(java.lang.String, Seq[String])])scala.collection.immutable.Map[java.lang.String,Seq[String]]">++</span> <a href="#215459" title="=&gt; Map[String,Seq[String]]">headers</a><span class="delimiter">)</span>
        .<a href="#211219" title="(queryString: Map[String,String])play.api.libs.ws.WS.WSRequest">setQueryString</a><span class="delimiter">(</span><a href="#215460" title="=&gt; Map[String,String]">queryString</a><span class="delimiter">)</span>
        .<span title="(x$1: Array[Byte])play.api.libs.ws.WS.WSRequest">setBody</span><span class="delimiter">(</span><a href="#217447" title="play.api.http.Writeable[T]">wrt</a>.<a href="../../http/Writeable.scala.html#74584" title="(v1: T)Array[Byte]">transform</a><span class="delimiter">(</span><a href="#217446" title="T">body</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * A WS HTTP response.
 */</span>
case <span class="keyword">class</span> <a title="class Response extends java.lang.Object with ScalaObject with Product with Serializable" id="218044">Response</a><a href="#218044" title="ScalaObject" class="delimiter">(</a><a title="com.ning.http.client.Response" id="216687">ahcResponse</a>: <span title="com.ning.http.client.Response">AHCResponse</span><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="keyword">import</span> scala.xml._
  <span class="keyword">import</span> play.api.libs.json._

  <span class="comment">/**
   * Get the underlying response object.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; com.ning.http.client.Response" id="214286">getAHCResponse</a> = <a href="#216687" title="=&gt; com.ning.http.client.Response">ahcResponse</a>

  <span class="comment">/**
   * The response status code.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Int" id="214287">status</a>: <span title="Int">Int</span> = <a href="#216687" title="=&gt; com.ning.http.client.Response">ahcResponse</a>.<span title="()Int">getStatusCode</span><span class="delimiter">(</span><span class="delimiter">)</span>;

  <span class="comment">/**
   * Get a response header.
   */</span>
  <span class="keyword">def</span> <a title="(key: String)Option[String]" id="214288">header</a><span class="delimiter">(</span><a title="String" id="214794">key</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="(x: java.lang.String)Option[java.lang.String]">Option</span><span class="delimiter">(</span><a href="#216687" title="=&gt; com.ning.http.client.Response">ahcResponse</a>.<span title="(x$1: java.lang.String)java.lang.String">getHeader</span><span class="delimiter">(</span><a href="#214794" title="String">key</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * The response body as String.
   */</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="String" id="214290">body</a>: <span title="String">String</span> = <a href="#216687" title="=&gt; com.ning.http.client.Response">ahcResponse</a>.<span title="()java.lang.String">getResponseBody</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/**
   * The response body as Xml.
   */</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="scala.xml.Elem" id="214292">xml</a>: <span title="scala.xml.Elem">Elem</span> = <span title="object scala.xml.XML">XML</span>.<span title="(string: String)scala.xml.Elem">loadString</span><span class="delimiter">(</span><a href="#214289" title="=&gt; String">body</a><span class="delimiter">)</span>

  <span class="comment">/**
   * The response body as Json.
   */</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="play.api.libs.json.JsValue" id="214294">json</a>: <a href="../json/JsValue.scala.html#15346" title="play.api.libs.json.JsValue">JsValue</a> = <a href="../json/Json.scala.html#15440" title="object play.api.libs.json.Json">Json</a>.<a href="../json/Json.scala.html#106266" title="(input: String)play.api.libs.json.JsValue">parse</a><span class="delimiter">(</span><a href="#214289" title="=&gt; String">body</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * An HTTP response header (the body has not been retrieved yet)
 */</span>
case <span class="keyword">class</span> <a title="class ResponseHeaders extends java.lang.Object with ScalaObject with Product with Serializable" id="218048">ResponseHeaders</a><a href="#218048" title="ScalaObject" class="delimiter">(</a><a title="Int" id="217016">status</a>: <span title="Int">Int</span>, <a title="Map[String,Seq[String]]" id="217017">headers</a>: <span title="Map[String,Seq[String]]">Map</span><span class="delimiter">[</span>String, Seq<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>

<span class="comment">/**
 * Sign a WS call.
 */</span>
<span class="keyword">trait</span> <a title="trait SignatureCalculator extends java.lang.Object" id="15921">SignatureCalculator</a> <span title="java.lang.Object" class="delimiter">{</span>

  <span class="comment">/**
   * Sign it.
   */</span>
  <span class="keyword">def</span> <a title="(request: play.api.libs.ws.WS.WSRequest)Unit" id="210734">sign</a><span class="delimiter">(</span><a title="play.api.libs.ws.WS.WSRequest" id="211252">request</a>: WS.<a href="#210088" title="play.api.libs.ws.WS.WSRequest">WSRequest</a><span class="delimiter">)</span>

<span class="delimiter">}</span>


        </pre>
    </body>
</html>