<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>play/play/api/libs/iteratee/Concurrent.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> play.api.libs.iteratee

<span class="keyword">import</span> play.api.libs.concurrent._

<span class="keyword">object</span> <a title="object play.api.libs.iteratee.Concurrent" id="14152">Concurrent</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="keyword">def</span> <a title="[E](duration: Long, unit: java.util.concurrent.TimeUnit)play.api.libs.iteratee.Enumeratee[E,E]" id="177411">dropInputIfNotReady</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="177430">E</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Long" id="177425">duration</a>: <span title="Long">Long</span>, <a title="java.util.concurrent.TimeUnit" id="177428">unit</a>:  java.util.concurrent.<span title="java.util.concurrent.TimeUnit">TimeUnit</span> =  java.util.concurrent.TimeUnit.<span title="java.util.concurrent.TimeUnit(value MILLISECONDS)">MILLISECONDS</span><span class="delimiter">)</span>: <a href="Iteratee.scala.html#14277" title="play.api.libs.iteratee.Enumeratee[E,E]">Enumeratee</a><span class="delimiter">[</span>E,E<span class="delimiter">]</span> = <a href="#177431" title="java.lang.Object with play.api.libs.iteratee.Enumeratee[E,E]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with play.api.libs.iteratee.Enumeratee[E,E]" id="177431">Enumeratee</a><span class="delimiter">[</span>E,E<span class="delimiter">]</span> <span class="delimiter">{</span>

    <span class="keyword">def</span> <a title="[A](it: play.api.libs.iteratee.Iteratee[E,A])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]" id="177435">applyOn</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="177437">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[E,A]" id="177438">it</a>: <a href="Iteratee.scala.html#14613" title="play.api.libs.iteratee.Iteratee[E,A]">Iteratee</a><span class="delimiter">[</span>E,A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Iteratee.scala.html#14613" title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Iteratee</a><span class="delimiter">[</span>E,Iteratee<span class="delimiter">[</span>E,A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>

      <span class="keyword">def</span> <a title="(inner: play.api.libs.iteratee.Iteratee[E,A])(in: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]" id="177448">step</a><span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[E,A]" id="177449">inner</a>: <a href="Iteratee.scala.html#14613" title="play.api.libs.iteratee.Iteratee[E,A]">Iteratee</a><span class="delimiter">[</span>E,A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[E]" id="177450">in</a>:<a href="Iteratee.scala.html#14646" title="play.api.libs.iteratee.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>:<a href="Iteratee.scala.html#14613" title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Iteratee</a><span class="delimiter">[</span>E,Iteratee<span class="delimiter">[</span>E,A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>

        <a href="#177450" title="play.api.libs.iteratee.Input[E]">in</a> <span title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="Iteratee.scala.html#14647" title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Input</a>.<a href="Iteratee.scala.html#66599" title="object play.api.libs.iteratee.Input.EOF">EOF</a> =&gt;
            <a href="Iteratee.scala.html#74229" title="(a: play.api.libs.iteratee.Iteratee[E,A], e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Done</a><span class="delimiter">(</span><a href="#177449" title="play.api.libs.iteratee.Iteratee[E,A]">inner</a>,<a href="Iteratee.scala.html#14647" title="object play.api.libs.iteratee.Input">Input</a>.<a href="Iteratee.scala.html#66597" title="object play.api.libs.iteratee.Input.Empty">Empty</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <a title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]" id="177457">in</a> =&gt; 
            <span class="keyword">val</span> <a title="play.api.libs.concurrent.Promise[Either[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]],Unit]]" id="177458">readyOrNot</a>: <a href="../concurrent/Promise.scala.html#13536" title="play.api.libs.concurrent.Promise[Either[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]],Unit]]">Promise</a><span class="delimiter">[</span>Either<span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E,Iteratee<span class="delimiter">[</span>E,A<span class="delimiter">]</span><span class="delimiter">]</span>,Unit<span class="delimiter">]</span><span class="delimiter">]</span> =  <a href="#177449" title="play.api.libs.iteratee.Iteratee[E,A]">inner</a>.<a href="Iteratee.scala.html#74080" title="[B](done: (A, play.api.libs.iteratee.Input[E]) =&gt; B, cont: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A] =&gt; B, error: (String, play.api.libs.iteratee.Input[E]) =&gt; B)play.api.libs.concurrent.Promise[B]">pureFold</a><span title="(done: (A, play.api.libs.iteratee.Input[E]) =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]], cont: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]], error: (String, play.api.libs.iteratee.Input[E]) =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]])play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]]" class="delimiter">[</span><a href="Iteratee.scala.html#14613" title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Iteratee</a><span class="delimiter">[</span>E,Iteratee<span class="delimiter">[</span>E,A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span>
              <span class="delimiter">(</span><a title="A" id="177473">a</a>,<a title="play.api.libs.iteratee.Input[E]" id="177474">e</a><span class="delimiter">)</span> =&gt; <a href="Iteratee.scala.html#74229" title="(a: play.api.libs.iteratee.Iteratee[E,A], e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Done</a><span class="delimiter">(</span><a href="Iteratee.scala.html#74229" title="(a: A, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,A]">Done</a><span class="delimiter">(</span><a href="#177473" title="A">a</a>,<a href="#177474" title="play.api.libs.iteratee.Input[E]">e</a><span class="delimiter">)</span>,<a href="Iteratee.scala.html#14647" title="object play.api.libs.iteratee.Input">Input</a>.<a href="Iteratee.scala.html#66597" title="object play.api.libs.iteratee.Input.Empty">Empty</a><span class="delimiter">)</span>,
              <a title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]" id="177488">k</a> =&gt; <a href="Iteratee.scala.html#74129" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Cont</a><span class="delimiter">{</span> <a title="play.api.libs.iteratee.Input[E]" id="177493">in</a> =&gt; 
                <span class="keyword">val</span> <a title="play.api.libs.iteratee.Iteratee[E,A]" id="177494">next</a> = <a href="#177488" title="(v1: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,A]">k</a><span class="delimiter">(</span><a href="#177493" title="play.api.libs.iteratee.Input[E]">in</a><span class="delimiter">)</span>
                <a href="Iteratee.scala.html#74129" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Cont</a><span class="delimiter">(</span><a href="#177448" title="(inner: play.api.libs.iteratee.Iteratee[E,A])(in: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">step</a><a href="#177500" title="play.api.libs.iteratee.Input[E]" class="delimiter">(</a><a href="#177494" title="play.api.libs.iteratee.Iteratee[E,A]">next</a><span class="delimiter">)</span><span class="delimiter">)</span>
                      <span class="delimiter">}</span>,
              <span class="delimiter">(</span><a title="String" id="177504">msg</a>,<a title="play.api.libs.iteratee.Input[E]" id="177505">e</a><span class="delimiter">)</span> =&gt; <a href="Iteratee.scala.html#74229" title="(a: play.api.libs.iteratee.Iteratee[E,Nothing], e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,Nothing]]">Done</a><span class="delimiter">(</span><a href="Iteratee.scala.html#177511" title="(msg: String, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Nothing]">Error</a><span class="delimiter">(</span><a href="#177504" title="String">msg</a>,<a href="#177505" title="play.api.libs.iteratee.Input[E]">e</a><span class="delimiter">)</span>,<a href="Iteratee.scala.html#14647" title="object play.api.libs.iteratee.Input">Input</a>.<a href="Iteratee.scala.html#66597" title="object play.api.libs.iteratee.Input.Empty">Empty</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../concurrent/Promise.scala.html#76019" title="(message: =&gt; Unit, duration: Long, unit: java.util.concurrent.TimeUnit)play.api.libs.concurrent.Promise[Either[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]],Unit]]">orTimeout</a><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>,<a href="#177425" title="Long">duration</a>,<a href="#177428" title="java.util.concurrent.TimeUnit">unit</a><span class="delimiter">)</span>

            <a href="Iteratee.scala.html#14614" title="object play.api.libs.iteratee.Iteratee">Iteratee</a>.<a href="Iteratee.scala.html#74599" title="(i: play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">flatten</a><span class="delimiter">(</span> <a href="#177458" title="play.api.libs.concurrent.Promise[Either[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]],Unit]]">readyOrNot</a>.<a href="../concurrent/Promise.scala.html#76010" title="(f: Either[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]],Unit] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]])play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]]">map</a> <a href="#177540" title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]" class="delimiter">{</a>
              <span class="keyword">case</span> <span title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Left</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]" id="177542">ready</a><span class="delimiter">)</span> =&gt; <a href="Iteratee.scala.html#14614" title="object play.api.libs.iteratee.Iteratee">Iteratee</a>.<a href="Iteratee.scala.html#74599" title="(i: play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">flatten</a><span class="delimiter">(</span><a href="#177542" title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">ready</a>.<a href="Iteratee.scala.html#74074" title="(in: play.api.libs.iteratee.Input[E])play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]]">feed</a><span class="delimiter">(</span><a href="#177457" title="play.api.libs.iteratee.Input[E]">in</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Right</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="Iteratee.scala.html#74129" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Cont</a><span class="delimiter">(</span><a href="#177448" title="(inner: play.api.libs.iteratee.Iteratee[E,A])(in: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">step</a><a href="#177557" title="play.api.libs.iteratee.Input[E]" class="delimiter">(</a><a href="#177449" title="play.api.libs.iteratee.Iteratee[E,A]">inner</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="Iteratee.scala.html#74129" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Cont</a><span class="delimiter">(</span><a href="#177448" title="(inner: play.api.libs.iteratee.Iteratee[E,A])(in: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">step</a><a href="#177565" title="play.api.libs.iteratee.Input[E]" class="delimiter">(</a><a href="#177438" title="play.api.libs.iteratee.Iteratee[E,A]">it</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">trait</span> <a title="trait Hub[E] extends java.lang.Object" id="177414">Hub</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="177415">E</a><span class="delimiter">]</span> <span title="java.lang.Object" class="delimiter">{</span>

    <span class="keyword">def</span> <a title="()play.api.libs.iteratee.Enumerator[E]" id="177568">getPatchCord</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="Iteratee.scala.html#14352" title="play.api.libs.iteratee.Enumerator[E]">Enumerator</a><span class="delimiter">[</span>E<span class="delimiter">]</span>

    <span class="keyword">def</span> <a title="()Boolean" id="177569">noCords</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span>

    <span class="keyword">def</span> <a title="()Unit" id="177570">close</a><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="()Boolean" id="177571">closed</a><span class="delimiter">(</span><span class="delimiter">)</span>:<span title="Boolean">Boolean</span>
  <span class="delimiter">}</span>



  <span class="keyword">def</span> <a title="[E](e: play.api.libs.iteratee.Enumerator[E], interestIsDownToZero: () =&gt; Unit)play.api.libs.iteratee.Concurrent.Hub[E]" id="177416">hub</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="177578">E</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Enumerator[E]" id="177573">e</a>: <a href="Iteratee.scala.html#14352" title="play.api.libs.iteratee.Enumerator[E]">Enumerator</a><span class="delimiter">[</span>E<span class="delimiter">]</span>, <a title="() =&gt; Unit" id="177576">interestIsDownToZero</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Unit = <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>: <a href="#177414" title="play.api.libs.iteratee.Concurrent.Hub[E]">Hub</a><span class="delimiter">[</span>E<span class="delimiter">]</span> = <span class="delimiter">{</span>

    <span class="keyword">import</span> scala.concurrent.stm._

    <span class="keyword">val</span> <a title="scala.concurrent.stm.Ref[List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]]" id="177583">iteratees</a>: <span title="scala.concurrent.stm.Ref[List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]]">Ref</span><span class="delimiter">[</span>List<span class="delimiter">[</span><span class="delimiter">(</span>Iteratee<span class="delimiter">[</span>E, _<span class="delimiter">]</span>, Redeemable<span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E, _<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">]</span> = <span title="(initialValue: List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])])(implicit om: scala.reflect.OptManifest[List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]])scala.concurrent.stm.Ref[List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]]">Ref</span><span title="(clazz: java.lang.Class[_], arg1: scala.reflect.OptManifest[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]]" class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="scala.concurrent.stm.Ref[Boolean]" id="177584">started</a> = <span title="(initialValue: Boolean)scala.concurrent.stm.Ref[Boolean]">Ref</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

    <span class="keyword">var</span> <a title="Boolean" id="177585">closeFlag</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="keyword">def</span> <a title="(in: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Unit]" id="177586">step</a><span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[E]" id="177751">in</a>: <a href="Iteratee.scala.html#14646" title="play.api.libs.iteratee.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Iteratee.scala.html#14613" title="play.api.libs.iteratee.Iteratee[E,Unit]">Iteratee</a><span class="delimiter">[</span>E, Unit<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]" id="177752">interested</a>: <span title="List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>Iteratee<span class="delimiter">[</span>E, _<span class="delimiter">]</span>, Redeemable<span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E, _<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <a href="#177583" title="scala.concurrent.stm.Ref[List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]]">iteratees</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]]">single</span>.<span title="(v: List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])])List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]">swap</span><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="scala.concurrent.stm.Ref[List[(Int, (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]))]]" id="177753">commitReady</a>: <span title="scala.concurrent.stm.Ref[List[(Int, (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]))]]">Ref</span><span class="delimiter">[</span>List<span class="delimiter">[</span><span class="delimiter">(</span>Int, <span class="delimiter">(</span>Iteratee<span class="delimiter">[</span>E, _<span class="delimiter">]</span>, Redeemable<span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E, _<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">]</span> = <span title="(initialValue: List[(Int, (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]))])(implicit om: scala.reflect.OptManifest[List[(Int, (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]))]])scala.concurrent.stm.Ref[List[(Int, (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]))]]">Ref</span><span title="(clazz: java.lang.Class[_], arg1: scala.reflect.OptManifest[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[List[(Int, (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]))]]" class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="scala.concurrent.stm.Ref[List[Int]]" id="177754">commitDone</a>: <span title="scala.concurrent.stm.Ref[List[Int]]">Ref</span><span class="delimiter">[</span>List<span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="(initialValue: List[Int])(implicit om: scala.reflect.OptManifest[List[Int]])scala.concurrent.stm.Ref[List[Int]]">Ref</span><span title="(clazz: java.lang.Class[_], arg1: scala.reflect.OptManifest[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[List[Int]]" class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="play.api.libs.concurrent.Promise[Unit]" id="177755">ready</a> = <a href="#177752" title="List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]">interested</a>.<span title="(implicit bf: scala.collection.generic.CanBuildFrom[List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])],((play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]), Int),List[((play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]), Int)]])List[((play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]), Int)]">zipWithIndex</span>.<span title="(f: ((play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]), Int) =&gt; play.api.libs.concurrent.Promise[Unit])(implicit bf: scala.collection.generic.CanBuildFrom[List[((play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]), Int)],play.api.libs.concurrent.Promise[Unit],List[play.api.libs.concurrent.Promise[Unit]]])List[play.api.libs.concurrent.Promise[Unit]]">map</span> <a href="#178032" title="play.api.libs.concurrent.Promise[Unit]" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="play.api.libs.concurrent.Promise[Unit]" class="delimiter">(</span><a title="(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])" id="178035">t</a>, <a title="Int" id="178036">index</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]" id="178037">p</a> = <a href="#178035" title="(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])">t</a>.<span title="=&gt; play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]">_2</span>
          <a href="#178035" title="(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])">t</a>.<span title="=&gt; play.api.libs.iteratee.Iteratee[E, _]">_1</span>.<a href="Iteratee.scala.html#74077" title="(done: (_$3, play.api.libs.iteratee.Input[E]) =&gt; play.api.libs.concurrent.Promise[Unit], cont: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,_$3] =&gt; play.api.libs.concurrent.Promise[Unit], error: (java.lang.String, play.api.libs.iteratee.Input[E]) =&gt; play.api.libs.concurrent.Promise[Unit])play.api.libs.concurrent.Promise[Unit]">fold</a><span class="delimiter">(</span>
            <span class="delimiter">(</span><a title="_$3" id="178060">a</a>, <a title="play.api.libs.iteratee.Input[E]" id="178061">e</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
              <a href="#178037" title="play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]">p</a>.<a href="../concurrent/Promise.scala.html#102929" title="(a: =&gt; play.api.libs.iteratee.Iteratee[E, _])Unit">redeem</a><span class="delimiter">(</span><a href="Iteratee.scala.html#74229" title="(a: _$3, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,_$3]">Done</a><span class="delimiter">(</span><a href="#178060" title="_$3">a</a>, <a href="#178061" title="play.api.libs.iteratee.Input[E]">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#177754" title="scala.concurrent.stm.Ref[List[Int]]">commitDone</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[List[Int]]">single</span>.<span title="(f: List[Int] =&gt; List[Int])Unit">transform</span><span class="delimiter">(</span><a href="#178074" title="List[Int]">_</a> <span title="(elem: Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],Int,List[Int]])List[Int]">:+</span> <a href="#178036" title="Int">index</a><span class="delimiter">)</span>
              <a href="../concurrent/Promise.scala.html#13537" title="object play.api.libs.concurrent.Promise">Promise</a>.<a href="../concurrent/Promise.scala.html#78503" title="(a: =&gt; Unit)play.api.libs.concurrent.Promise[Unit]">pure</a><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>,
            <a title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,_$3]" id="178123">k</a> =&gt; <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="play.api.libs.iteratee.Iteratee[E,_$3]" id="178124">next</a> = <a href="#178123" title="(v1: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,_$3]">k</a><span class="delimiter">(</span><a href="#177751" title="play.api.libs.iteratee.Input[E]">in</a><span class="delimiter">)</span>
              <a href="#178124" title="play.api.libs.iteratee.Iteratee[E,_$3]">next</a>.<a href="Iteratee.scala.html#74080" title="(done: (_$3, play.api.libs.iteratee.Input[E]) =&gt; Unit, cont: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,_$3] =&gt; Unit, error: (String, play.api.libs.iteratee.Input[E]) =&gt; Unit)play.api.libs.concurrent.Promise[Unit]">pureFold</a><span class="delimiter">(</span>
                <span class="delimiter">(</span><a title="_$3" id="178134">a</a>, <a title="play.api.libs.iteratee.Input[E]" id="178135">e</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
                  <a href="#178037" title="play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]">p</a>.<a href="../concurrent/Promise.scala.html#102929" title="(a: =&gt; play.api.libs.iteratee.Iteratee[E, _])Unit">redeem</a><span class="delimiter">(</span><a href="Iteratee.scala.html#74229" title="(a: _$3, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,_$3]">Done</a><span class="delimiter">(</span><a href="#178134" title="_$3">a</a>, <a href="#178135" title="play.api.libs.iteratee.Input[E]">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#177754" title="scala.concurrent.stm.Ref[List[Int]]">commitDone</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[List[Int]]">single</span>.<span title="(f: List[Int] =&gt; List[Int])Unit">transform</span><span class="delimiter">(</span><a href="#178146" title="List[Int]">_</a> <span title="(elem: Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],Int,List[Int]])List[Int]">:+</span> <a href="#178036" title="Int">index</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>,
                <a title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,_$3]" id="178192">k</a> =&gt; <a href="#177753" title="scala.concurrent.stm.Ref[List[(Int, (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]))]]">commitReady</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[List[(Int, (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]))]]">single</span>.<span title="(f: List[(Int, (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]))] =&gt; List[(Int, (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]))])Unit">transform</span><span class="delimiter">(</span><a href="#178195" title="List[(Int, (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]))]">_</a> <span title="(elem: (Int, (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])))(implicit bf: scala.collection.generic.CanBuildFrom[List[(Int, (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]))],(Int, (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])),List[(Int, (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]))]])List[(Int, (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]))]">:+</span> <span class="delimiter">(</span><a href="#178036" title="Int">index</a>, <span title="(_1: play.api.libs.iteratee.Iteratee[E,_$3], _2: play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])(play.api.libs.iteratee.Iteratee[E,_$3], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])" class="delimiter">(</span><a href="Iteratee.scala.html#74129" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,_$3])play.api.libs.iteratee.Iteratee[E,_$3]">Cont</a><span class="delimiter">(</span><a href="#178192" title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,_$3]">k</a><span class="delimiter">)</span>, <a href="#178037" title="play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]">p</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
                <span class="delimiter">(</span><a title="String" id="178277">msg</a>, <a title="play.api.libs.iteratee.Input[E]" id="178278">e</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
                  <a href="#178037" title="play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]">p</a>.<a href="../concurrent/Promise.scala.html#102929" title="(a: =&gt; play.api.libs.iteratee.Iteratee[E, _])Unit">redeem</a><span class="delimiter">(</span><a href="Iteratee.scala.html#177511" title="(msg: String, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Nothing]">Error</a><span class="delimiter">(</span><a href="#178277" title="String">msg</a>, <a href="#178278" title="play.api.libs.iteratee.Input[E]">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#177754" title="scala.concurrent.stm.Ref[List[Int]]">commitDone</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[List[Int]]">single</span>.<span title="(f: List[Int] =&gt; List[Int])Unit">transform</span><span class="delimiter">(</span><a href="#178289" title="List[Int]">_</a> <span title="(elem: Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],Int,List[Int]])List[Int]">:+</span> <a href="#178036" title="Int">index</a><span class="delimiter">)</span>
                <span class="delimiter">}</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>,
            <span class="delimiter">(</span><a title="java.lang.String" id="178338">msg</a>, <a title="play.api.libs.iteratee.Input[E]" id="178339">e</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
              <a href="#178037" title="play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]">p</a>.<a href="../concurrent/Promise.scala.html#102929" title="(a: =&gt; play.api.libs.iteratee.Iteratee[E, _])Unit">redeem</a><span class="delimiter">(</span><a href="Iteratee.scala.html#177511" title="(msg: String, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Nothing]">Error</a><span class="delimiter">(</span><a href="#178338" title="java.lang.String">msg</a>, <a href="#178339" title="play.api.libs.iteratee.Input[E]">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#177754" title="scala.concurrent.stm.Ref[List[Int]]">commitDone</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[List[Int]]">single</span>.<span title="(f: List[Int] =&gt; List[Int])Unit">transform</span><span class="delimiter">(</span><a href="#178349" title="List[Int]">_</a> <span title="(elem: Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],Int,List[Int]])List[Int]">:+</span> <a href="#178036" title="Int">index</a><span class="delimiter">)</span>
              <a href="../concurrent/Promise.scala.html#13537" title="object play.api.libs.concurrent.Promise">Promise</a>.<a href="../concurrent/Promise.scala.html#78503" title="(a: =&gt; Unit)play.api.libs.concurrent.Promise[Unit]">pure</a><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>.<a href="../concurrent/Promise.scala.html#76003" title="(k: play.api.libs.concurrent.NotWaiting[Unit] =&gt; Unit)play.api.libs.concurrent.Promise[Unit]">extend1</a> <a href="#178404" title="Unit" class="delimiter">{</a>
              <span class="keyword">case</span> <span title="Unit">Redeemed</span><span class="delimiter">(</span><a title="Unit" id="178406">a</a><span class="delimiter">)</span> =&gt; <a href="#178406" title="Unit">a</a>
              <span class="keyword">case</span> <span title="Unit">Thrown</span><span class="delimiter">(</span><a title="Throwable" id="178407">e</a><span class="delimiter">)</span> =&gt; <a href="#178037" title="play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]">p</a>.<a href="../concurrent/Promise.scala.html#102930" title="(t: Throwable)Unit">throwing</a><span class="delimiter">(</span><a href="#178407" title="Throwable">e</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Nothing">_</span> =&gt; <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.RuntimeException" class="keyword">new</span> <span title="java.lang.RuntimeException">RuntimeException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;should be either Redeemed or Thrown at this point&quot;)" class="string">&quot;should be either Redeemed or Thrown at this point&quot;</span><span class="delimiter">)</span>

            <span class="delimiter">}</span>
      <span class="delimiter">}</span>.<span title="(z: play.api.libs.concurrent.Promise[Unit])(op: (play.api.libs.concurrent.Promise[Unit], play.api.libs.concurrent.Promise[Unit]) =&gt; play.api.libs.concurrent.Promise[Unit])play.api.libs.concurrent.Promise[Unit]">fold</span><span class="delimiter">(</span><a href="../concurrent/Promise.scala.html#13537" title="object play.api.libs.concurrent.Promise">Promise</a>.<a href="../concurrent/Promise.scala.html#78503" title="(a: =&gt; Unit)play.api.libs.concurrent.Promise[Unit]">pure</a><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="play.api.libs.concurrent.Promise[Unit]" id="178473">s</a>, <a title="play.api.libs.concurrent.Promise[Unit]" id="178474">p</a><span class="delimiter">)</span> =&gt; <a href="#178473" title="play.api.libs.concurrent.Promise[Unit]">s</a>.<a href="../concurrent/Promise.scala.html#76013" title="(f: Unit =&gt; play.api.libs.concurrent.Promise[Unit])play.api.libs.concurrent.Promise[Unit]">flatMap</a><span class="delimiter">(</span><a title="Unit" id="178479">_</a> =&gt; <a href="#178474" title="play.api.libs.concurrent.Promise[Unit]">p</a><span class="delimiter">)</span> <span class="delimiter">}</span>

      <a href="Iteratee.scala.html#14614" title="object play.api.libs.iteratee.Iteratee">Iteratee</a>.<a href="Iteratee.scala.html#74599" title="(i: play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Unit]])play.api.libs.iteratee.Iteratee[E,Unit]">flatten</a><span class="delimiter">(</span><a href="#177755" title="play.api.libs.concurrent.Promise[Unit]">ready</a>.<a href="../concurrent/Promise.scala.html#76010" title="(f: Unit =&gt; play.api.libs.iteratee.Iteratee[E,Unit])play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Unit]]">map</a> <span class="delimiter">{</span> <a title="Unit" id="178488">_</a> =&gt;

        <span class="keyword">val</span> <a href="#178490" title="(List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])], Boolean)" class="delimiter">(</a><a href="#178489" title="List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]" id="178490">hanging</a>, <a href="#178489" title="Boolean" id="178491">downToZero</a><span class="delimiter">)</span> = <span title="(block: scala.concurrent.stm.InTxn =&gt; (List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])], Boolean))(implicit mt: scala.concurrent.stm.MaybeTxn)(List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])], Boolean)">atomic</span> <span title="=&gt; scala.concurrent.stm.TxnUnknown.type" class="delimiter">{</span> <span class="keyword">implicit</span> <a title="scala.concurrent.stm.InTxn" id="178495">txn</a> =&gt;
          <span class="keyword">val</span> <a title="scala.collection.immutable.Set[Int]" id="178496">responsive</a> = <span class="delimiter">(</span><a href="#177753" title="()(implicit txn: scala.concurrent.stm.InTxn)List[(Int, (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]))]">commitReady</a><a href="#178495" title="scala.concurrent.stm.InTxn" class="delimiter">(</a><span class="delimiter">)</span>.<span title="(f: (Int, (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])) =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Int, (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]))],Int,List[Int]])List[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Int,List[Int]]" class="delimiter">(</span><a href="#178525" title="(Int, (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]))">_</a>.<span title="=&gt; Int">_1</span><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[Int])(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],Int,List[Int]])List[Int]">++</span> <a href="#177754" title="()(implicit txn: scala.concurrent.stm.InTxn)List[Int]">commitDone</a><a href="#178495" title="scala.concurrent.stm.InTxn" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[Int]">toSet</span>
          <span class="keyword">val</span> <a title="List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]" id="178497">hangs</a> = <a href="#177752" title="List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]">interested</a>.<span title="(implicit bf: scala.collection.generic.CanBuildFrom[List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])],((play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]), Int),List[((play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]), Int)]])List[((play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]), Int)]">zipWithIndex</span>.<span title="(pf: PartialFunction[((play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]), Int),(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])])(implicit bf: scala.collection.generic.CanBuildFrom[List[((play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]), Int)],(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]),List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]])List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]">collect</span> <a href="#178677" title="(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])" class="delimiter">{</a> <span class="keyword">case</span> <span title="(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])" class="delimiter">(</span><a title="(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])" id="178680">e</a>, <a title="Int" id="178681">i</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#178496" title="scala.collection.immutable.Set[Int]">responsive</a>.<span title="(elem: Int)Boolean">contains</span><span class="delimiter">(</span><a href="#178681" title="Int">i</a><span class="delimiter">)</span> =&gt; <a href="#178680" title="(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])">e</a> <span class="delimiter">}</span>
          <span class="comment">//send EOF to hanging</span>
          <span class="keyword">val</span> <a title="scala.collection.immutable.Map[Int,(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]" id="178498">ready</a> = <a href="#177753" title="()(implicit txn: scala.concurrent.stm.InTxn)List[(Int, (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]))]">commitReady</a><a href="#178495" title="scala.concurrent.stm.InTxn" class="delimiter">(</a><span class="delimiter">)</span>.<span title="(implicit ev: &lt;:&lt;[(Int, (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])),(Int, (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]))])scala.collection.immutable.Map[Int,(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]">toMap</span>
          <a href="#177583" title="scala.concurrent.stm.Ref[List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]]">iteratees</a>.<span title="(f: List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])] =&gt; List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])])(implicit txn: scala.concurrent.stm.InTxn)Unit">transform</span><a href="#178495" title="scala.concurrent.stm.InTxn" class="delimiter">(</a><a href="#177753" title="()(implicit txn: scala.concurrent.stm.InTxn)List[(Int, (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]))]">commitReady</a><a href="#178495" title="scala.concurrent.stm.InTxn" class="delimiter">(</a><span class="delimiter">)</span>.<span title="(f: (Int, (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])) =&gt; (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]))(implicit bf: scala.collection.generic.CanBuildFrom[List[(Int, (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]))],(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]),List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]])List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]),List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]]" class="delimiter">(</span><a href="#178750" title="(Int, (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]))">_</a>.<span title="=&gt; (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])">_2</span><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])])(implicit bf: scala.collection.generic.CanBuildFrom[List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])],(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]),List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]])List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]">++</span> <a href="#178730" title="List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]">_</a><span class="delimiter">)</span>
          <span title="(_1: List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])], _2: Boolean)(List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])], Boolean)" class="delimiter">(</span><a href="#178497" title="List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]">hangs</a>, <span class="delimiter">(</span><a href="#177752" title="List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]">interested</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#177583" title="()(implicit txn: scala.concurrent.stm.InTxn)List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]">iteratees</a><a href="#178495" title="scala.concurrent.stm.InTxn" class="delimiter">(</a><span class="delimiter">)</span>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&lt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="delimiter">}</span>
        <a href="#178490" title="List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]">hanging</a>.<span title="(f: (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]) =&gt; play.api.libs.concurrent.Promise[Unit])(implicit bf: scala.collection.generic.CanBuildFrom[List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])],play.api.libs.concurrent.Promise[Unit],List[play.api.libs.concurrent.Promise[Unit]]])List[play.api.libs.concurrent.Promise[Unit]]">map</span> <a href="#178938" title="play.api.libs.concurrent.Promise[Unit]" class="delimiter">{</a>
          <span class="keyword">case</span> <span title="play.api.libs.concurrent.Promise[Unit]" class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[E, Any]" id="178941">h</a>, <a title="play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]" id="178947">p</a><span class="delimiter">)</span> =&gt; <a href="#178941" title="play.api.libs.iteratee.Iteratee[E, Any]">h</a>.<a href="Iteratee.scala.html#74074" title="(in: play.api.libs.iteratee.Input[E])play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Any]]">feed</a><span class="delimiter">(</span><a href="Iteratee.scala.html#14647" title="object play.api.libs.iteratee.Input">Input</a>.<a href="Iteratee.scala.html#66599" title="object play.api.libs.iteratee.Input.EOF">EOF</a><span class="delimiter">)</span>.<a href="../concurrent/Promise.scala.html#76003" title="(k: play.api.libs.concurrent.NotWaiting[play.api.libs.iteratee.Iteratee[E,Any]] =&gt; Unit)play.api.libs.concurrent.Promise[Unit]">extend1</a> <a href="#178955" title="Unit" class="delimiter">{</a>
            <span class="keyword">case</span> <span title="Unit">Redeemed</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[E,Any]" id="178957">it</a><span class="delimiter">)</span> =&gt; <a href="#178947" title="play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]">p</a>.<a href="../concurrent/Promise.scala.html#102929" title="(a: =&gt; play.api.libs.iteratee.Iteratee[E, _])Unit">redeem</a><span class="delimiter">(</span><a href="#178957" title="play.api.libs.iteratee.Iteratee[E,Any]">it</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit">Thrown</span><span class="delimiter">(</span><a title="Throwable" id="178960">e</a><span class="delimiter">)</span> =&gt; <a href="#178947" title="play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]">p</a>.<a href="../concurrent/Promise.scala.html#102929" title="(a: =&gt; play.api.libs.iteratee.Iteratee[E, _])Unit">redeem</a><span class="delimiter">(</span><span title="Nothing" class="keyword">throw</span> <a href="#178960" title="Throwable">e</a><span class="delimiter">)</span>

          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#178491" title="Boolean">downToZero</a><span class="delimiter">)</span> <a href="#177576" title="()Unit">interestIsDownToZero</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span title="play.api.libs.iteratee.Iteratee[E,Unit]" class="keyword">if</span> <span class="delimiter">(</span><a href="#177751" title="play.api.libs.iteratee.Input[E]">in</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Iteratee.scala.html#14647" title="object play.api.libs.iteratee.Input">Input</a>.<a href="Iteratee.scala.html#66599" title="object play.api.libs.iteratee.Input.EOF">EOF</a> <span title="(x: Boolean)Boolean">||</span> <a href="#177585" title="Boolean">closeFlag</a><span class="delimiter">)</span> <a href="Iteratee.scala.html#74229" title="(a: Unit, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Unit]">Done</a><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>, <a href="Iteratee.scala.html#14647" title="object play.api.libs.iteratee.Input">Input</a>.<a href="Iteratee.scala.html#66597" title="object play.api.libs.iteratee.Input.Empty">Empty</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="Iteratee.scala.html#74129" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,Unit])play.api.libs.iteratee.Iteratee[E,Unit]">Cont</a><span class="delimiter">(</span><a href="#177586" title="(in: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Unit]">step</a><span class="delimiter">)</span>

      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    

    <a href="#179012" title="java.lang.Object with play.api.libs.iteratee.Concurrent.Hub[E]{}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with play.api.libs.iteratee.Concurrent.Hub[E]" id="179012">Hub</a><span class="delimiter">[</span>E<span class="delimiter">]</span> <span class="delimiter">{</span>

      <span class="keyword">def</span> <a title="()Boolean" id="179016">noCords</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#177583" title="scala.concurrent.stm.Ref[List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]]">iteratees</a>.<span title="()List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]">single</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="=&gt; Boolean">isEmpty</span>

      <span class="keyword">def</span> <a title="()Unit" id="179017">close</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#177585" title="Boolean">closeFlag</a> = <span title="Boolean(true)" class="keyword">true</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="()Boolean" id="179018">closed</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#177585" title="Boolean">closeFlag</a>

      <span class="keyword">val</span> <a title="scala.concurrent.stm.Ref[play.api.libs.concurrent.PromiseValue[play.api.libs.iteratee.Iteratee[E,Unit]]]" id="179019">redeemed</a> = <span title="(initialValue: play.api.libs.concurrent.PromiseValue[play.api.libs.iteratee.Iteratee[E,Unit]])(implicit om: scala.reflect.OptManifest[play.api.libs.concurrent.PromiseValue[play.api.libs.iteratee.Iteratee[E,Unit]]])scala.concurrent.stm.Ref[play.api.libs.concurrent.PromiseValue[play.api.libs.iteratee.Iteratee[E,Unit]]]">Ref</span><span title="(clazz: java.lang.Class[_], arg1: scala.reflect.OptManifest[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[play.api.libs.concurrent.PromiseValue[play.api.libs.iteratee.Iteratee[E,Unit]]]" class="delimiter">(</span><a href="../concurrent/Promise.scala.html#13516" title="object play.api.libs.concurrent.Waiting">Waiting</a> : <a href="../concurrent/Promise.scala.html#13524" title="play.api.libs.concurrent.PromiseValue[play.api.libs.iteratee.Iteratee[E,Unit]]">PromiseValue</a><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E,Unit<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="()java.lang.Object with play.api.libs.iteratee.Enumerator[E]" id="179021">getPatchCord</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#179030" title="java.lang.Object with play.api.libs.iteratee.Enumerator[E]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with play.api.libs.iteratee.Enumerator[E]" id="179030">Enumerator</a><span class="delimiter">[</span>E<span class="delimiter">]</span> <span class="delimiter">{</span>

        <span class="keyword">def</span> <a title="[A](it: play.api.libs.iteratee.Iteratee[E,A])play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]" id="179034">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="179036">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[E,A]" id="179037">it</a>: <a href="Iteratee.scala.html#14613" title="play.api.libs.iteratee.Iteratee[E,A]">Iteratee</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../concurrent/Promise.scala.html#13536" title="play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">Promise</a><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E,A]]" id="179047">result</a> = <a href="../concurrent/Promise.scala.html#78506" title="[A]()play.api.libs.concurrent.Promise[A] with play.api.libs.concurrent.Redeemable[A]">Promise</a><span title="()play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E,A]]" class="delimiter">[</span><a href="Iteratee.scala.html#14613" title="play.api.libs.iteratee.Iteratee[E,A]">Iteratee</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Boolean" id="179048">alreadyStarted</a> = <span title="=&gt; Boolean">!</span> <a href="#177584" title="scala.concurrent.stm.Ref[Boolean]">started</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[Boolean]">single</span>.<span title="(before: Boolean, after: Boolean)Boolean">compareAndSet</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#179048" title="Boolean">alreadyStarted</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Unit]]" id="179053">promise</a> = <span class="delimiter">(</span><a href="#177573" title="play.api.libs.iteratee.Enumerator[E]">e</a> <a href="Iteratee.scala.html#73907" title="(i: play.api.libs.iteratee.Iteratee[E,Unit])play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Unit]]">|&gt;&gt;</a> <a href="Iteratee.scala.html#74129" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,Unit])play.api.libs.iteratee.Iteratee[E,Unit]">Cont</a><span class="delimiter">(</span><a href="#177586" title="(in: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Unit]">step</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#179053" title="play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Unit]]">promise</a>.<a href="../concurrent/Promise.scala.html#76003" title="(k: play.api.libs.concurrent.NotWaiting[play.api.libs.iteratee.Iteratee[E,Unit]] =&gt; Unit)play.api.libs.concurrent.Promise[Unit]">extend1</a><span class="delimiter">{</span> <a title="play.api.libs.concurrent.NotWaiting[play.api.libs.iteratee.Iteratee[E,Unit]]" id="179068">v</a> =&gt;
              <span class="keyword">val</span> <a title="List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]" id="179069">its</a> = <span title="(block: scala.concurrent.stm.InTxn =&gt; List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])])(implicit mt: scala.concurrent.stm.MaybeTxn)List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]">atomic</span><span title="=&gt; scala.concurrent.stm.TxnUnknown.type" class="delimiter">{</span> <span class="keyword">implicit</span> <a title="scala.concurrent.stm.InTxn" id="179073">txn</a> =&gt;
                <a href="#179019" title="(v: play.api.libs.concurrent.PromiseValue[play.api.libs.iteratee.Iteratee[E,Unit]])(implicit txn: scala.concurrent.stm.InTxn)Unit">redeemed</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#179068" title="play.api.libs.concurrent.NotWaiting[play.api.libs.iteratee.Iteratee[E,Unit]]">v</a>
                <a href="#177583" title="scala.concurrent.stm.Ref[List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]]">iteratees</a>.<span title="(v: List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])])(implicit txn: scala.concurrent.stm.InTxn)List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]">swap</span><a href="#179073" title="scala.concurrent.stm.InTxn" class="delimiter">(</a>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <a href="#179068" title="play.api.libs.concurrent.NotWaiting[play.api.libs.iteratee.Iteratee[E,Unit]]">v</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">Thrown</span><span class="delimiter">(</span><a title="Throwable" id="179133">e</a><span class="delimiter">)</span> =&gt; 
                <a href="#179069" title="List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]">its</a>.<span title="(f: (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]) =&gt; Unit)Unit">foreach</span><a href="#179153" title="Unit" class="delimiter">{</a> <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span>_,<a title="play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]" id="179159">p</a><span class="delimiter">)</span> =&gt; <a href="#179159" title="play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]">p</a>.<a href="../concurrent/Promise.scala.html#102930" title="(t: Throwable)Unit">throwing</a><span class="delimiter">(</span><a href="#179133" title="Throwable">e</a><span class="delimiter">)</span> <span class="delimiter">}</span>
                
              <span class="keyword">case</span> <span title="Unit">Redeemed</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
                <a href="#179069" title="List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]">its</a>.<span title="(f: (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]) =&gt; Unit)Unit">foreach</span><a href="#179173" title="Unit" class="delimiter">{</a> <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[E, Any]" id="179176">it</a>,<a title="play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]" id="179182">p</a><span class="delimiter">)</span> =&gt; <a href="#179182" title="play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]">p</a>.<a href="../concurrent/Promise.scala.html#102929" title="(a: =&gt; play.api.libs.iteratee.Iteratee[E, _])Unit">redeem</a><span class="delimiter">(</span><a href="#179176" title="play.api.libs.iteratee.Iteratee[E, Any]">it</a><span class="delimiter">)</span><span class="delimiter">}</span>
              <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Option[play.api.libs.concurrent.PromiseValue[play.api.libs.iteratee.Iteratee[E,Unit]]]" id="179049">finished</a> = <span title="(block: scala.concurrent.stm.InTxn =&gt; Option[play.api.libs.concurrent.PromiseValue[play.api.libs.iteratee.Iteratee[E,Unit]]])(implicit mt: scala.concurrent.stm.MaybeTxn)Option[play.api.libs.concurrent.PromiseValue[play.api.libs.iteratee.Iteratee[E,Unit]]]">atomic</span> <span title="=&gt; scala.concurrent.stm.TxnUnknown.type" class="delimiter">{</span> <span class="keyword">implicit</span> <a title="scala.concurrent.stm.InTxn" id="179199">txn</a> =&gt;
            <a href="#179019" title="()(implicit txn: scala.concurrent.stm.InTxn)play.api.libs.concurrent.PromiseValue[play.api.libs.iteratee.Iteratee[E,Unit]]">redeemed</a><a href="#179199" title="scala.concurrent.stm.InTxn" class="delimiter">(</a><span class="delimiter">)</span> <span title="Option[play.api.libs.concurrent.PromiseValue[play.api.libs.iteratee.Iteratee[E,Unit]]]" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a href="../concurrent/Promise.scala.html#13516" title="None.type">Waiting</a> =&gt; 
                <a href="#177583" title="scala.concurrent.stm.Ref[List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]]">iteratees</a>.<span title="(f: List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])] =&gt; List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])])(implicit txn: scala.concurrent.stm.InTxn)Unit">transform</span><a href="#179199" title="scala.concurrent.stm.InTxn" class="delimiter">(</a><a href="#179202" title="List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]">_</a> <span title="(elem: (play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]))(implicit bf: scala.collection.generic.CanBuildFrom[List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])],(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]),List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]])List[(play.api.libs.iteratee.Iteratee[E, _], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])]">:+</span> <span class="delimiter">(</span><span title="(_1: play.api.libs.iteratee.Iteratee[E,A], _2: play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])(play.api.libs.iteratee.Iteratee[E,A], play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]])" class="delimiter">(</span><a href="#179037" title="play.api.libs.iteratee.Iteratee[E,A]">it</a>, <a href="#179047" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E,A]]">result</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]" class="delimiter">[</span><a href="../concurrent/Promise.scala.html#13680" title="play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E, _]]">Redeemable</a><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E, _<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="object None">None</span>
              <span class="keyword">case</span> <a title="Some[play.api.libs.concurrent.PromiseValue[play.api.libs.iteratee.Iteratee[E,Unit]]]" id="179264">notWaiting</a> =&gt; <span title="(x: play.api.libs.concurrent.PromiseValue[play.api.libs.iteratee.Iteratee[E,Unit]])Some[play.api.libs.concurrent.PromiseValue[play.api.libs.iteratee.Iteratee[E,Unit]]]">Some</span><span class="delimiter">(</span><a href="#179264" title="play.api.libs.concurrent.PromiseValue[play.api.libs.iteratee.Iteratee[E,Unit]]">notWaiting</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#179049" title="Option[play.api.libs.concurrent.PromiseValue[play.api.libs.iteratee.Iteratee[E,Unit]]]">finished</a>.<span title="(f: play.api.libs.concurrent.PromiseValue[play.api.libs.iteratee.Iteratee[E,Unit]] =&gt; Unit)Unit">foreach</span><a href="#179284" title="Unit" class="delimiter">{</a>
            <span class="keyword">case</span> <span title="Unit">Redeemed</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="#179047" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E,A]]">result</a>.<a href="../concurrent/Promise.scala.html#102929" title="(a: =&gt; play.api.libs.iteratee.Iteratee[E,A])Unit">redeem</a><span class="delimiter">(</span><a href="#179037" title="play.api.libs.iteratee.Iteratee[E,A]">it</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit">Thrown</span><span class="delimiter">(</span><a title="Throwable" id="179287">e</a><span class="delimiter">)</span> =&gt; <a href="#179047" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E,A]]">result</a>.<a href="../concurrent/Promise.scala.html#102930" title="(t: Throwable)Unit">throwing</a><span class="delimiter">(</span><a href="#179287" title="Throwable">e</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Nothing">_</span> =&gt; <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.RuntimeException" class="keyword">new</span> <span title="java.lang.RuntimeException">RuntimeException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;should be either Redeemed or Thrown&quot;)" class="string">&quot;should be either Redeemed or Thrown&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#179047" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E,A]]">result</a>
        <span class="delimiter">}</span>

      <span class="delimiter">}</span>

    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">trait</span> <a title="trait PatchPanel[E] extends java.lang.Object" id="177419">PatchPanel</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="177420">E</a><span class="delimiter">]</span> <span title="java.lang.Object" class="delimiter">{</span>

    <span class="keyword">def</span> <a title="(e: play.api.libs.iteratee.Enumerator[E])Boolean" id="179312">patchIn</a><span class="delimiter">(</span><a title="play.api.libs.iteratee.Enumerator[E]" id="179315">e</a>: <a href="Iteratee.scala.html#14352" title="play.api.libs.iteratee.Enumerator[E]">Enumerator</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span>

    <span class="keyword">def</span> <a title="()Boolean" id="179313">closed</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span>

  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="[E](patcher: play.api.libs.iteratee.Concurrent.PatchPanel[E] =&gt; Unit)play.api.libs.iteratee.Enumerator[E]" id="177421">patchPanel</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="177423">E</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Concurrent.PatchPanel[E] =&gt; Unit" id="179316">patcher</a>: PatchPanel<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; Unit<span class="delimiter">)</span>: <a href="Iteratee.scala.html#14352" title="play.api.libs.iteratee.Enumerator[E]">Enumerator</a><span class="delimiter">[</span>E<span class="delimiter">]</span> = <a href="#179319" title="java.lang.Object with play.api.libs.iteratee.Enumerator[E]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with play.api.libs.iteratee.Enumerator[E]" id="179319">Enumerator</a><span class="delimiter">[</span>E<span class="delimiter">]</span> <span class="delimiter">{</span>

    <span class="keyword">import</span> scala.concurrent.stm._

    <span class="keyword">def</span> <a title="[A](it: play.api.libs.iteratee.Iteratee[E,A])play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]" id="179324">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="179326">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[E,A]" id="179327">it</a>: <a href="Iteratee.scala.html#14613" title="play.api.libs.iteratee.Iteratee[E,A]">Iteratee</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../concurrent/Promise.scala.html#13536" title="play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">Promise</a><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E,A]]" id="179337">result</a> = <a href="../concurrent/Promise.scala.html#78506" title="[A]()play.api.libs.concurrent.Promise[A] with play.api.libs.concurrent.Redeemable[A]">Promise</a><span title="()play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E,A]]" class="delimiter">[</span><a href="Iteratee.scala.html#14613" title="play.api.libs.iteratee.Iteratee[E,A]">Iteratee</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Boolean" id="179338">isClosed</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>

      <a href="#179337" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E,A]]">result</a>.<a href="../concurrent/Promise.scala.html#75996" title="(k: play.api.libs.iteratee.Iteratee[E,A] =&gt; Unit)Unit">onRedeem</a><span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[E,A]" id="179344">_</a> =&gt; <a href="#179338" title="Boolean">isClosed</a> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>;

      <span class="keyword">def</span> <a title="(ref: scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]])play.api.libs.iteratee.Iteratee[E,Option[A]]" id="179339">refIteratee</a><span class="delimiter">(</span><a title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]" id="179345">ref</a>: <span title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]">Ref</span><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Iteratee.scala.html#14613" title="play.api.libs.iteratee.Iteratee[E,Option[A]]">Iteratee</a><span class="delimiter">[</span>E, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Option[A]]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E,Option[A]]]" id="179346">next</a> = <a href="../concurrent/Promise.scala.html#78506" title="[A]()play.api.libs.concurrent.Promise[A] with play.api.libs.concurrent.Redeemable[A]">Promise</a><span title="()play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Option[A]]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E,Option[A]]]" class="delimiter">[</span><a href="Iteratee.scala.html#14613" title="play.api.libs.iteratee.Iteratee[E,Option[A]]">Iteratee</a><span class="delimiter">[</span>E, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="play.api.libs.iteratee.Iteratee[E,Option[A]]" id="179347">current</a> = <a href="#179345" title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]">ref</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[play.api.libs.iteratee.Iteratee[E,Option[A]]]">single</span>.<span title="(v: play.api.libs.iteratee.Iteratee[E,Option[A]])play.api.libs.iteratee.Iteratee[E,Option[A]]">swap</span><span class="delimiter">(</span><a href="Iteratee.scala.html#14614" title="object play.api.libs.iteratee.Iteratee">Iteratee</a>.<a href="Iteratee.scala.html#74599" title="(i: play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Option[A]]])play.api.libs.iteratee.Iteratee[E,Option[A]]">flatten</a><span class="delimiter">(</span><a href="#179346" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Option[A]]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E,Option[A]]]">next</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#179347" title="play.api.libs.iteratee.Iteratee[E,Option[A]]">current</a>.<a href="Iteratee.scala.html#74083" title="(done: (Option[A], play.api.libs.iteratee.Input[E]) =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]], cont: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]] =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]], error: (String, play.api.libs.iteratee.Input[E]) =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]])play.api.libs.iteratee.Iteratee[E,Option[A]]">pureFlatFold</a><span class="delimiter">(</span>
          <span class="delimiter">(</span><a title="Option[A]" id="179370">a</a>, <a title="play.api.libs.iteratee.Input[E]" id="179371">e</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
            <a href="#179370" title="Option[A]">a</a>.<span title="(f: A =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a title="A" id="179376">aa</a> =&gt; <a href="#179337" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E,A]]">result</a>.<a href="../concurrent/Promise.scala.html#102929" title="(a: =&gt; play.api.libs.iteratee.Iteratee[E,A])Unit">redeem</a><span class="delimiter">(</span><a href="Iteratee.scala.html#74229" title="(a: A, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,A]">Done</a><span class="delimiter">(</span><a href="#179376" title="A">aa</a>, <a href="#179371" title="play.api.libs.iteratee.Input[E]">e</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#179346" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Option[A]]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E,Option[A]]]">next</a>.<a href="../concurrent/Promise.scala.html#102929" title="(a: =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]])Unit">redeem</a><span class="delimiter">(</span><a href="Iteratee.scala.html#74229" title="(a: Option[A], e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Option[A]]">Done</a><span class="delimiter">(</span><a href="#179370" title="Option[A]">a</a>, <a href="#179371" title="play.api.libs.iteratee.Input[E]">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="Iteratee.scala.html#74229" title="(a: Option[A], e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Option[A]]">Done</a><span class="delimiter">(</span><a href="#179370" title="Option[A]">a</a>, <a href="#179371" title="play.api.libs.iteratee.Input[E]">e</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>,
          <a title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]]" id="179399">k</a> =&gt; <span class="delimiter">{</span>
            <a href="#179346" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Option[A]]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E,Option[A]]]">next</a>.<a href="../concurrent/Promise.scala.html#102929" title="(a: =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]])Unit">redeem</a><span class="delimiter">(</span><a href="#179347" title="play.api.libs.iteratee.Iteratee[E,Option[A]]">current</a><span class="delimiter">)</span>
            <a href="Iteratee.scala.html#74129" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]])play.api.libs.iteratee.Iteratee[E,Option[A]]">Cont</a><span class="delimiter">(</span><a href="#179340" title="(ref: scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]])(in: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Option[A]]">step</a><a href="#179406" title="play.api.libs.iteratee.Input[E]" class="delimiter">(</a><a href="#179345" title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]">ref</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>,
          <span class="delimiter">(</span><a title="String" id="179409">msg</a>, <a title="play.api.libs.iteratee.Input[E]" id="179410">e</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
            <a href="#179337" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E,A]]">result</a>.<a href="../concurrent/Promise.scala.html#102929" title="(a: =&gt; play.api.libs.iteratee.Iteratee[E,A])Unit">redeem</a><span class="delimiter">(</span><a href="Iteratee.scala.html#177511" title="(msg: String, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Nothing]">Error</a><span class="delimiter">(</span><a href="#179409" title="String">msg</a>, <a href="#179410" title="play.api.libs.iteratee.Input[E]">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#179346" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Option[A]]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E,Option[A]]]">next</a>.<a href="../concurrent/Promise.scala.html#102929" title="(a: =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]])Unit">redeem</a><span class="delimiter">(</span><a href="Iteratee.scala.html#177511" title="(msg: String, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Nothing]">Error</a><span class="delimiter">(</span><a href="#179409" title="String">msg</a>, <a href="#179410" title="play.api.libs.iteratee.Input[E]">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="Iteratee.scala.html#177511" title="(msg: String, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Nothing]">Error</a><span class="delimiter">(</span><a href="#179409" title="String">msg</a>, <a href="#179410" title="play.api.libs.iteratee.Input[E]">e</a><span class="delimiter">)</span>

          <span class="delimiter">}</span><span class="delimiter">)</span>

      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(ref: scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]])(in: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Option[A]]" id="179340">step</a><span class="delimiter">(</span><a title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]" id="179403">ref</a>: <span title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]">Ref</span><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[E]" id="179404">in</a>: <a href="Iteratee.scala.html#14646" title="play.api.libs.iteratee.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Iteratee.scala.html#14613" title="play.api.libs.iteratee.Iteratee[E,Option[A]]">Iteratee</a><span class="delimiter">[</span>E, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Option[A]]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E,Option[A]]]" id="179431">next</a> = <a href="../concurrent/Promise.scala.html#78506" title="[A]()play.api.libs.concurrent.Promise[A] with play.api.libs.concurrent.Redeemable[A]">Promise</a><span title="()play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Option[A]]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E,Option[A]]]" class="delimiter">[</span><a href="Iteratee.scala.html#14613" title="play.api.libs.iteratee.Iteratee[E,Option[A]]">Iteratee</a><span class="delimiter">[</span>E, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="play.api.libs.iteratee.Iteratee[E,Option[A]]" id="179432">current</a> = <a href="#179403" title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]">ref</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[play.api.libs.iteratee.Iteratee[E,Option[A]]]">single</span>.<span title="(v: play.api.libs.iteratee.Iteratee[E,Option[A]])play.api.libs.iteratee.Iteratee[E,Option[A]]">swap</span><span class="delimiter">(</span><a href="Iteratee.scala.html#14614" title="object play.api.libs.iteratee.Iteratee">Iteratee</a>.<a href="Iteratee.scala.html#74599" title="(i: play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Option[A]]])play.api.libs.iteratee.Iteratee[E,Option[A]]">flatten</a><span class="delimiter">(</span><a href="#179431" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Option[A]]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E,Option[A]]]">next</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#179432" title="play.api.libs.iteratee.Iteratee[E,Option[A]]">current</a>.<a href="Iteratee.scala.html#74083" title="(done: (Option[A], play.api.libs.iteratee.Input[E]) =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]], cont: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]] =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]], error: (String, play.api.libs.iteratee.Input[E]) =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]])play.api.libs.iteratee.Iteratee[E,Option[A]]">pureFlatFold</a><span class="delimiter">(</span>
          <span class="delimiter">(</span><a title="Option[A]" id="179447">a</a>, <a title="play.api.libs.iteratee.Input[E]" id="179448">e</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
            <a href="#179431" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Option[A]]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E,Option[A]]]">next</a>.<a href="../concurrent/Promise.scala.html#102929" title="(a: =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]])Unit">redeem</a><span class="delimiter">(</span><a href="Iteratee.scala.html#74229" title="(a: Option[A], e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Option[A]]">Done</a><span class="delimiter">(</span><a href="#179447" title="Option[A]">a</a>, <a href="#179448" title="play.api.libs.iteratee.Input[E]">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="Iteratee.scala.html#74229" title="(a: Option[A], e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Option[A]]">Done</a><span class="delimiter">(</span><a href="#179447" title="Option[A]">a</a>, <a href="#179448" title="play.api.libs.iteratee.Input[E]">e</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>,
          <a title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]]" id="179463">k</a> =&gt; <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="play.api.libs.iteratee.Iteratee[E,Option[A]]" id="179464">n</a> = <a href="#179463" title="(v1: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Option[A]]">k</a><span class="delimiter">(</span><a href="#179404" title="play.api.libs.iteratee.Input[E]">in</a><span class="delimiter">)</span>
            <a href="#179431" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Option[A]]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E,Option[A]]]">next</a>.<a href="../concurrent/Promise.scala.html#102929" title="(a: =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]])Unit">redeem</a><span class="delimiter">(</span><a href="#179464" title="play.api.libs.iteratee.Iteratee[E,Option[A]]">n</a><span class="delimiter">)</span>
            <a href="#179464" title="play.api.libs.iteratee.Iteratee[E,Option[A]]">n</a>.<a href="Iteratee.scala.html#74083" title="(done: (Option[A], play.api.libs.iteratee.Input[E]) =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]], cont: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]] =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]], error: (String, play.api.libs.iteratee.Input[E]) =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]])play.api.libs.iteratee.Iteratee[E,Option[A]]">pureFlatFold</a><span class="delimiter">(</span>
              <span class="delimiter">(</span><a title="Option[A]" id="179475">a</a>, <a title="play.api.libs.iteratee.Input[E]" id="179476">e</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
                <a href="#179475" title="Option[A]">a</a>.<span title="(f: A =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a title="A" id="179481">aa</a> =&gt; <a href="#179337" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E,A]]">result</a>.<a href="../concurrent/Promise.scala.html#102929" title="(a: =&gt; play.api.libs.iteratee.Iteratee[E,A])Unit">redeem</a><span class="delimiter">(</span><a href="Iteratee.scala.html#74229" title="(a: A, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,A]">Done</a><span class="delimiter">(</span><a href="#179481" title="A">aa</a>, <a href="#179476" title="play.api.libs.iteratee.Input[E]">e</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="Iteratee.scala.html#74229" title="(a: Option[A], e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Option[A]]">Done</a><span class="delimiter">(</span><a href="#179475" title="Option[A]">a</a>, <a href="#179476" title="play.api.libs.iteratee.Input[E]">e</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>,
              <a title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]]" id="179497">k</a> =&gt; <a href="Iteratee.scala.html#74129" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]])play.api.libs.iteratee.Iteratee[E,Option[A]]">Cont</a><span class="delimiter">(</span><a href="#179340" title="(ref: scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]])(in: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Option[A]]">step</a><a href="#179502" title="play.api.libs.iteratee.Input[E]" class="delimiter">(</a><a href="#179403" title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]">ref</a><span class="delimiter">)</span><span class="delimiter">)</span>,
              <span class="delimiter">(</span><a title="String" id="179505">msg</a>, <a title="play.api.libs.iteratee.Input[E]" id="179506">e</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
                <a href="#179337" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E,A]]">result</a>.<a href="../concurrent/Promise.scala.html#102929" title="(a: =&gt; play.api.libs.iteratee.Iteratee[E,A])Unit">redeem</a><span class="delimiter">(</span><a href="Iteratee.scala.html#177511" title="(msg: String, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Nothing]">Error</a><span class="delimiter">(</span><a href="#179505" title="String">msg</a>, <a href="#179506" title="play.api.libs.iteratee.Input[E]">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="Iteratee.scala.html#177511" title="(msg: String, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Nothing]">Error</a><span class="delimiter">(</span><a href="#179505" title="String">msg</a>, <a href="#179506" title="play.api.libs.iteratee.Input[E]">e</a><span class="delimiter">)</span>
              <span class="delimiter">}</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>,
          <span class="delimiter">(</span><a title="String" id="179521">msg</a>, <a title="play.api.libs.iteratee.Input[E]" id="179522">e</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
            <a href="#179431" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Option[A]]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E,Option[A]]]">next</a>.<a href="../concurrent/Promise.scala.html#102929" title="(a: =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]])Unit">redeem</a><span class="delimiter">(</span><a href="Iteratee.scala.html#177511" title="(msg: String, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Nothing]">Error</a><span class="delimiter">(</span><a href="#179521" title="String">msg</a>, <a href="#179522" title="play.api.libs.iteratee.Input[E]">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="Iteratee.scala.html#177511" title="(msg: String, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Nothing]">Error</a><span class="delimiter">(</span><a href="#179521" title="String">msg</a>, <a href="#179522" title="play.api.libs.iteratee.Input[E]">e</a><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#179316" title="(v1: play.api.libs.iteratee.Concurrent.PatchPanel[E])Unit">patcher</a><span class="delimiter">(</span><a href="#179538" title="java.lang.Object with play.api.libs.iteratee.Concurrent.PatchPanel[E]{}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with play.api.libs.iteratee.Concurrent.PatchPanel[E]" id="179538">PatchPanel</a><span class="delimiter">[</span>E<span class="delimiter">]</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.concurrent.stm.Ref[scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]]" id="179542">ref</a>: <span title="scala.concurrent.stm.Ref[scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]]">Ref</span><span class="delimiter">[</span>Ref<span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span> = <span title="(initialValue: scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]])(implicit om: scala.reflect.OptManifest[scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]])scala.concurrent.stm.Ref[scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]]">Ref</span><span title="(clazz: java.lang.Class[_], arg1: scala.reflect.OptManifest[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]]" class="delimiter">(</span><span title="(initialValue: play.api.libs.iteratee.Iteratee[E,Option[A]])(implicit om: scala.reflect.OptManifest[play.api.libs.iteratee.Iteratee[E,Option[A]]])scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]">Ref</span><span title="(clazz: java.lang.Class[_], arg1: scala.reflect.OptManifest[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[play.api.libs.iteratee.Iteratee[E,Option[A]]]" class="delimiter">(</span><a href="#179327" title="play.api.libs.iteratee.Iteratee[E,A]">it</a>.<a href="Iteratee.scala.html#74096" title="(f: A =&gt; Some[A])play.api.libs.iteratee.Iteratee[E,Some[A]]">map</a><span class="delimiter">(</span><span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#179590" title="A">_</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="()Boolean" id="179544">closed</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#179338" title="Boolean">isClosed</a>

        <span class="keyword">def</span> <a title="(e: play.api.libs.iteratee.Enumerator[E])Boolean" id="179545">patchIn</a><span class="delimiter">(</span><a title="play.api.libs.iteratee.Enumerator[E]" id="179548">e</a>: <a href="Iteratee.scala.html#14352" title="play.api.libs.iteratee.Enumerator[E]">Enumerator</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
          <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#179544" title="()Boolean">closed</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]" id="179655">newRef</a> = <span title="(block: scala.concurrent.stm.InTxn =&gt; scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]])(implicit mt: scala.concurrent.stm.MaybeTxn)scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]">atomic</span> <span title="=&gt; scala.concurrent.stm.TxnUnknown.type" class="delimiter">{</span> <span class="keyword">implicit</span> <a title="scala.concurrent.stm.InTxn" id="179659">txn</a> =&gt;
              <span class="keyword">val</span> <a title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]" id="179660">enRef</a> = <a href="#179542" title="()(implicit txn: scala.concurrent.stm.InTxn)scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]">ref</a><a href="#179659" title="scala.concurrent.stm.InTxn" class="delimiter">(</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="play.api.libs.iteratee.Iteratee[E,Option[A]]" id="179661">it</a> = <a href="#179660" title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]">enRef</a>.<span title="(v: play.api.libs.iteratee.Iteratee[E,Option[A]])(implicit txn: scala.concurrent.stm.InTxn)play.api.libs.iteratee.Iteratee[E,Option[A]]">swap</span><a href="#179659" title="scala.concurrent.stm.InTxn" class="delimiter">(</a><a href="Iteratee.scala.html#74229" title="(a: None.type, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,None.type]">Done</a><span class="delimiter">(</span><span title="object None">None</span>, <a href="Iteratee.scala.html#14647" title="object play.api.libs.iteratee.Input">Input</a>.<a href="Iteratee.scala.html#66597" title="object play.api.libs.iteratee.Input.Empty">Empty</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]" id="179662">newRef</a> = <span title="(initialValue: play.api.libs.iteratee.Iteratee[E,Option[A]])(implicit om: scala.reflect.OptManifest[play.api.libs.iteratee.Iteratee[E,Option[A]]])scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]">Ref</span><span title="(clazz: java.lang.Class[_], arg1: scala.reflect.OptManifest[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[play.api.libs.iteratee.Iteratee[E,Option[A]]]" class="delimiter">(</span><a href="#179661" title="play.api.libs.iteratee.Iteratee[E,Option[A]]">it</a><span class="delimiter">)</span>
              <a href="#179542" title="(v: scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]])(implicit txn: scala.concurrent.stm.InTxn)Unit">ref</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#179662" title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]">newRef</a>
              <a href="#179662" title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]">newRef</a>
            <span class="delimiter">}</span>
            <a href="#179548" title="play.api.libs.iteratee.Enumerator[E]">e</a> <a href="Iteratee.scala.html#73907" title="(i: play.api.libs.iteratee.Iteratee[E,Option[A]])play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Option[A]]]">|&gt;&gt;</a> <a href="#179339" title="(ref: scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]])play.api.libs.iteratee.Iteratee[E,Option[A]]">refIteratee</a><span class="delimiter">(</span><a href="#179655" title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]">newRef</a><span class="delimiter">)</span> <span class="comment">//TODO maybe do something if the enumerator is done, maybe not</span>
            <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>

      <a href="#179337" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]] with play.api.libs.concurrent.Redeemable[play.api.libs.iteratee.Iteratee[E,A]]">result</a>

    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="delimiter">}</span>

        </pre>
    </body>
</html>