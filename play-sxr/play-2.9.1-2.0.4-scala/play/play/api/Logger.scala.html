<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>play/play/api/Logger.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> play.api

<span class="keyword">import</span> org.slf4j.<span class="delimiter">{</span> LoggerFactory, Logger =&gt; Slf4jLogger <span class="delimiter">}</span>

<span class="comment">/**
 * Typical logger interface.
 */</span>
<span class="keyword">trait</span> <a title="trait LoggerLike extends java.lang.Object with ScalaObject" id="10653">LoggerLike</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="comment">/**
   * The underlying SLF4J Logger.
   */</span>
  <span class="keyword">val</span> <a title="=&gt; org.slf4j.Logger" id="81600">logger</a>: <span title="org.slf4j.Logger">Slf4jLogger</span>

  <span class="comment">/**
   * The underlying SLF4J Logger.
   */</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.slf4j.Logger" id="81602">underlyingLogger</a> = <a href="#81600" title="=&gt; org.slf4j.Logger">logger</a>

  <span class="comment">/**
   * `true` if the logger instance is enabled for the `TRACE` level.
   */</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Boolean" id="81604">isTraceEnabled</a> = <a href="#81600" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isTraceEnabled</span>

  <span class="comment">/**
   * `true` if the logger instance is enabled for the `DEBUG` level.
   */</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Boolean" id="81606">isDebugEnabled</a> = <a href="#81600" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isDebugEnabled</span>

  <span class="comment">/**
   * `true` if the logger instance is enabled for the `INFO` level.
   */</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Boolean" id="81608">isInfoEnabled</a> = <a href="#81600" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isInfoEnabled</span>

  <span class="comment">/**
   * `true` if the logger instance is enabled for the `WARN` level.
   */</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Boolean" id="81610">isWarnEnabled</a> = <a href="#81600" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isWarnEnabled</span>

  <span class="comment">/**
   * `true` if the logger instance is enabled for the `ERROR` level.
   */</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Boolean" id="81612">isErrorEnabled</a> = <a href="#81600" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isErrorEnabled</span>

  <span class="comment">/**
   * Logs a message with the `TRACE` level.
   *
   * @param message the message to log
   */</span>
  <span class="keyword">def</span> <a title="(message: =&gt; String)Unit" id="81613">trace</a><span class="delimiter">(</span><a title="=&gt; String" id="93759">message</a>: =&gt; String<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#81603" title="=&gt; Boolean">isTraceEnabled</a><span class="delimiter">)</span> <a href="#81600" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String)Unit">trace</span><span class="delimiter">(</span><a href="#93759" title="=&gt; String">message</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Logs a message with the `TRACE` level.
   *
   * @param message the message to log
   * @param error the associated exception
   */</span>
  <span class="keyword">def</span> <a title="(message: =&gt; String, error: =&gt; Throwable)Unit" id="81614">trace</a><span class="delimiter">(</span><a title="=&gt; String" id="93763">message</a>: =&gt; String, <a title="=&gt; Throwable" id="93764">error</a>: =&gt; Throwable<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#81603" title="=&gt; Boolean">isTraceEnabled</a><span class="delimiter">)</span> <a href="#81600" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String, x$2: java.lang.Throwable)Unit">trace</span><span class="delimiter">(</span><a href="#93763" title="=&gt; String">message</a>, <a href="#93764" title="=&gt; Throwable">error</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Logs a message with the `DEBUG` level.
   *
   * @param message the message to log
   */</span>
  <span class="keyword">def</span> <a title="(message: =&gt; String)Unit" id="81615">debug</a><span class="delimiter">(</span><a title="=&gt; String" id="84288">message</a>: =&gt; String<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#81605" title="=&gt; Boolean">isDebugEnabled</a><span class="delimiter">)</span> <a href="#81600" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String)Unit">debug</span><span class="delimiter">(</span><a href="#84288" title="=&gt; String">message</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Logs a message with the `DEBUG` level.
   *
   * @param message the message to log
   * @param error the associated exception
   */</span>
  <span class="keyword">def</span> <a title="(message: =&gt; String, error: =&gt; Throwable)Unit" id="81616">debug</a><span class="delimiter">(</span><a title="=&gt; String" id="84285">message</a>: =&gt; String, <a title="=&gt; Throwable" id="84286">error</a>: =&gt; Throwable<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#81605" title="=&gt; Boolean">isDebugEnabled</a><span class="delimiter">)</span> <a href="#81600" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String, x$2: java.lang.Throwable)Unit">debug</span><span class="delimiter">(</span><a href="#84285" title="=&gt; String">message</a>, <a href="#84286" title="=&gt; Throwable">error</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Logs a message with the `INFO` level.
   *
   * @param message the message to log
   */</span>
  <span class="keyword">def</span> <a title="(message: =&gt; String)Unit" id="81617">info</a><span class="delimiter">(</span><a title="=&gt; String" id="93777">message</a>: =&gt; String<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#81607" title="=&gt; Boolean">isInfoEnabled</a><span class="delimiter">)</span> <a href="#81600" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String)Unit">info</span><span class="delimiter">(</span><a href="#93777" title="=&gt; String">message</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Logs a message with the `INFO` level.
   *
   * @param message the message to log
   * @param error the associated exception
   */</span>
  <span class="keyword">def</span> <a title="(message: =&gt; String, error: =&gt; Throwable)Unit" id="81618">info</a><span class="delimiter">(</span><a title="=&gt; String" id="93781">message</a>: =&gt; String, <a title="=&gt; Throwable" id="93782">error</a>: =&gt; Throwable<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#81607" title="=&gt; Boolean">isInfoEnabled</a><span class="delimiter">)</span> <a href="#81600" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String, x$2: java.lang.Throwable)Unit">info</span><span class="delimiter">(</span><a href="#93781" title="=&gt; String">message</a>, <a href="#93782" title="=&gt; Throwable">error</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Logs a message with the `WARN` level.
   *
   * @param message the message to log
   */</span>
  <span class="keyword">def</span> <a title="(message: =&gt; String)Unit" id="81619">warn</a><span class="delimiter">(</span><a title="=&gt; String" id="84356">message</a>: =&gt; String<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#81609" title="=&gt; Boolean">isWarnEnabled</a><span class="delimiter">)</span> <a href="#81600" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String)Unit">warn</span><span class="delimiter">(</span><a href="#84356" title="=&gt; String">message</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Logs a message with the `WARN` level.
   *
   * @param message the message to log
   * @param error the associated exception
   */</span>
  <span class="keyword">def</span> <a title="(message: =&gt; String, error: =&gt; Throwable)Unit" id="81620">warn</a><span class="delimiter">(</span><a title="=&gt; String" id="84353">message</a>: =&gt; String, <a title="=&gt; Throwable" id="84354">error</a>: =&gt; Throwable<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#81609" title="=&gt; Boolean">isWarnEnabled</a><span class="delimiter">)</span> <a href="#81600" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String, x$2: java.lang.Throwable)Unit">warn</span><span class="delimiter">(</span><a href="#84353" title="=&gt; String">message</a>, <a href="#84354" title="=&gt; Throwable">error</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Logs a message with the `ERROR` level.
   *
   * @param message the message to log
   */</span>
  <span class="keyword">def</span> <a title="(message: =&gt; String)Unit" id="81621">error</a><span class="delimiter">(</span><a title="=&gt; String" id="93794">message</a>: =&gt; String<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#81611" title="=&gt; Boolean">isErrorEnabled</a><span class="delimiter">)</span> <a href="#81600" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String)Unit">error</span><span class="delimiter">(</span><a href="#93794" title="=&gt; String">message</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Logs a message with the `ERROR` level.
   *
   * @param message the message to log
   * @param error the associated exception
   */</span>
  <span class="keyword">def</span> <a title="(message: =&gt; String, error: =&gt; Throwable)Unit" id="81622">error</a><span class="delimiter">(</span><a title="=&gt; String" id="93798">message</a>: =&gt; String, <a title="=&gt; Throwable" id="93799">error</a>: =&gt; Throwable<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#81611" title="=&gt; Boolean">isErrorEnabled</a><span class="delimiter">)</span> <a href="#81600" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String, x$2: java.lang.Throwable)Unit">error</span><span class="delimiter">(</span><a href="#93798" title="=&gt; String">message</a>, <a href="#93799" title="=&gt; Throwable">error</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * A Play logger.
 *
 * @param logger the underlying SL4FJ logger
 */</span>
<span class="keyword">class</span> <a title="class Logger extends java.lang.Object with play.api.LoggerLike with ScalaObject" id="10950">Logger</a><a href="#10950" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="org.slf4j.Logger" id="93807">logger</a>: <span title="org.slf4j.Logger">Slf4jLogger</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10653" title="play.api.LoggerLike">LoggerLike</a>

<span class="comment">/**
 * High-level API for logging operations.
 *
 * For example, logging with the default application logger:
 * {{{
 * Logger.info(&quot;Hello!&quot;)
 * }}}
 *
 * Logging with a custom logger:
 * {{{
 * Logger(&quot;my.logger&quot;).info(&quot;Hello!&quot;)
 * }}}
 *
 */</span>
<span class="keyword">object</span> <a title="object play.api.Logger" id="10951">Logger</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10653" title="play.api.LoggerLike">LoggerLike</a> <span class="delimiter">{</span>

  <span class="comment">/**
   * Initialize the Logger in a brut way.
   */</span>
  <span class="keyword">def</span> <a title="(home: java.io.File)Unit" id="81624">init</a><span class="delimiter">(</span><a title="java.io.File" id="93882">home</a>: java.io.<span title="java.io.File">File</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#10951" title="object play.api.Logger">Logger</a>.<a href="#81631" title="(properties: Map[String,String], levels: Map[String,ch.qos.logback.classic.Level], mode: play.api.Mode.Value)Unit">configure</a><span class="delimiter">(</span>
      <span title="(elems: (java.lang.String, java.lang.String)*)scala.collection.immutable.Map[java.lang.String,java.lang.String]">Map</span><span class="delimiter">(</span><span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;application.home&quot;</span> <span title="(y: java.lang.String)(java.lang.String, java.lang.String)">-&gt;</span> <a href="#93882" title="java.io.File">home</a>.<span title="()java.lang.String">getAbsolutePath</span><span class="delimiter">)</span>,
      <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[String,Nothing]">empty</span>,
      <a href="Play.scala.html#10864" title="object play.api.Mode">Mode</a>.<a href="Play.scala.html#67655" title="=&gt; play.api.Mode.Value">Test</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The 'application' logger.
   */</span>
  <span class="keyword">val</span> <a title="org.slf4j.Logger" id="81625">logger</a> = <span title="object org.slf4j.LoggerFactory">LoggerFactory</span>.<span title="(x$1: java.lang.String)org.slf4j.Logger">getLogger</span><span class="delimiter">(</span><span title="java.lang.String(&quot;application&quot;)" class="string">&quot;application&quot;</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Obtains a logger instance.
   *
   * @param name the name of the logger
   * @return a logger
   */</span>
  <span class="keyword">def</span> <a title="(name: String)play.api.Logger" id="81627">apply</a><span class="delimiter">(</span><a title="String" id="84267">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#10950" title="play.api.Logger">Logger</a> = <span title="play.api.Logger" class="keyword">new</span> <a href="#10950" title="play.api.Logger">Logger</a><span class="delimiter">(</span><span title="object org.slf4j.LoggerFactory">LoggerFactory</span>.<span title="(x$1: java.lang.String)org.slf4j.Logger">getLogger</span><span class="delimiter">(</span><a href="#84267" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Obtains a logger instance.
   *
   * @param clazz a class whose name will be used as logger name
   * @return a logger
   */</span>
  <span class="keyword">def</span> <a title="[T](clazz: Class[T])play.api.Logger" id="81628">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="81630">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Class[T]" id="84264">clazz</a>: <span title="Class[T]">Class</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#10950" title="play.api.Logger">Logger</a> = <span title="play.api.Logger" class="keyword">new</span> <a href="#10950" title="play.api.Logger">Logger</a><span class="delimiter">(</span><span title="object org.slf4j.LoggerFactory">LoggerFactory</span>.<span title="(x$1: java.lang.Class[_])org.slf4j.Logger">getLogger</span><span class="delimiter">(</span><a href="#84264" title="Class[T]">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Reconfigures the underlying logback infrastructure.
   *
   * @param configFile the logback configuration file
   * @param properties these properties will be added to the logger context (for example `application.home`)
   * @see http://logback.qos.ch/
   */</span>
  <span class="keyword">def</span> <a title="(properties: Map[String,String], levels: Map[String,ch.qos.logback.classic.Level], mode: play.api.Mode.Value)Unit" id="81631">configure</a><span class="delimiter">(</span><a title="Map[String,String]" id="81641">properties</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[String,Nothing]">empty</span>, <a title="Map[String,ch.qos.logback.classic.Level]" id="81642">levels</a>: <span title="Map[String,ch.qos.logback.classic.Level]">Map</span><span class="delimiter">[</span>String, ch.qos.logback.classic.Level<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[String,Nothing]">empty</span>, <a title="play.api.Mode.Value" id="81639">mode</a>: Mode.<span title="play.api.Mode.Value">Value</span><span class="delimiter">)</span> <span class="delimiter">{</span>

    <span class="comment">// Redirect JUL -&gt; SL4FJ</span>
    <span class="delimiter">{</span>
      <span class="keyword">import</span> org.slf4j.bridge._
      <span class="keyword">import</span> java.util.logging._

      <span title="(x: java.util.logging.Logger)Option[java.util.logging.Logger]">Option</span><span class="delimiter">(</span>java.util.logging.<span title="object java.util.logging.Logger">Logger</span>.<span title="(x$1: java.lang.String)java.util.logging.Logger">getLogger</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: java.util.logging.Logger =&gt; Unit)Option[Unit]">map</span> <span class="delimiter">{</span> <a title="java.util.logging.Logger" id="94652">root</a> =&gt;
        <a href="#94652" title="java.util.logging.Logger">root</a>.<span title="(x$1: java.util.logging.Level)Unit">setLevel</span><span class="delimiter">(</span><span title="object java.util.logging.Level">Level</span>.<span title="java.util.logging.Level">FINEST</span><span class="delimiter">)</span>
        <a href="#94652" title="java.util.logging.Logger">root</a>.<span title="(xs: Array[java.util.logging.Handler])scala.collection.mutable.ArrayOps[java.util.logging.Handler]">getHandlers</span>.<span title="(f: java.util.logging.Handler =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#94652" title="java.util.logging.Logger">root</a>.<span title="(x$1: java.util.logging.Handler)Unit">removeHandler</span><span class="delimiter">(</span><a href="#95429" title="java.util.logging.Handler">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span title="object org.slf4j.bridge.SLF4JBridgeHandler">SLF4JBridgeHandler</span>.<span title="()Unit">install</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">// Configure logback</span>
    <span class="delimiter">{</span>
      <span class="keyword">import</span> org.slf4j._

      <span class="keyword">import</span> ch.qos.logback.classic.joran._
      <span class="keyword">import</span> ch.qos.logback.core.util._
      <span class="keyword">import</span> ch.qos.logback.classic._

      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="ch.qos.logback.classic.LoggerContext" id="95607">ctx</a> = <span title="object org.slf4j.LoggerFactory">LoggerFactory</span>.<span title="()org.slf4j.ILoggerFactory">getILoggerFactory</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.qos.logback.classic.LoggerContext" class="delimiter">[</span><span title="ch.qos.logback.classic.LoggerContext">LoggerContext</span><span class="delimiter">]</span>
        <span class="keyword">val</span> <a title="ch.qos.logback.classic.joran.JoranConfigurator" id="95608">configurator</a> = <span title="ch.qos.logback.classic.joran.JoranConfigurator" class="keyword">new</span> <span title="ch.qos.logback.classic.joran.JoranConfigurator">JoranConfigurator</span>
        <a href="#95608" title="ch.qos.logback.classic.joran.JoranConfigurator">configurator</a>.<span title="(x$1: ch.qos.logback.core.Context)Unit">setContext</span><span class="delimiter">(</span><a href="#95607" title="ch.qos.logback.classic.LoggerContext">ctx</a><span class="delimiter">)</span>
        <a href="#95607" title="ch.qos.logback.classic.LoggerContext">ctx</a>.<span title="()Unit">reset</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#81641" title="Map[String,String]">properties</a>.<span title="(f: (String, String) =&gt; Unit)Unit">foreach</span> <a href="#96177" title="Unit" class="delimiter">{</a>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a title="String" id="96180">name</a>, <a title="String" id="96181">value</a><span class="delimiter">)</span> =&gt; <a href="#95607" title="ch.qos.logback.classic.LoggerContext">ctx</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String)Unit">putProperty</span><span class="delimiter">(</span><a href="#96180" title="String">name</a>, <a href="#96181" title="String">value</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">try</span> <span class="delimiter">{</span>
          <span title="(x: java.lang.String)Option[java.lang.String]">Option</span><span class="delimiter">(</span><span title="object java.lang.System">System</span>.<span title="(x$1: java.lang.String)java.lang.String">getProperty</span><span class="delimiter">(</span><span title="java.lang.String(&quot;logger.resource&quot;)" class="string">&quot;logger.resource&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: java.lang.String =&gt; String)Option[String]">map</span><span class="delimiter">(</span><a title="java.lang.String" id="96192">s</a> =&gt; <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#96192" title="java.lang.String">s</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#96192" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">s</a>.<span title="(n: Int)String">drop</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#96192" title="java.lang.String">s</a><span class="delimiter">)</span>.<span title="(f: String =&gt; java.net.URL)Option[java.net.URL]">map</span><span class="delimiter">(</span><a title="String" id="96263">r</a> =&gt; <span title="(x: java.net.URL)Option[java.net.URL]">Option</span><span class="delimiter">(</span><span class="keyword">this</span>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.ClassLoader">getClassLoader</span>.<span title="(x$1: java.lang.String)java.net.URL">getResource</span><span class="delimiter">(</span><a href="#96263" title="String">r</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; java.net.URL)java.net.URL">getOrElse</span><span class="delimiter">(</span><span title="(x$1: java.lang.String)java.net.URL" class="keyword">new</span> java.net.<span title="java.net.URL">URL</span><span class="delimiter">(</span><span title="java.lang.String(&quot;file:///&quot;)" class="string">&quot;file:///&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="object java.lang.System">System</span>.<span title="(x$1: java.lang.String)java.lang.String">getProperty</span><span class="delimiter">(</span><span title="java.lang.String(&quot;logger.resource&quot;)" class="string">&quot;logger.resource&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.
            <span title="(alternative: =&gt; Option[java.net.URL])Option[java.net.URL]">orElse</span> <span class="delimiter">{</span>
              <span title="(x: java.lang.String)Option[java.lang.String]">Option</span><span class="delimiter">(</span><span title="object java.lang.System">System</span>.<span title="(x$1: java.lang.String)java.lang.String">getProperty</span><span class="delimiter">(</span><span title="java.lang.String(&quot;logger.file&quot;)" class="string">&quot;logger.file&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: java.lang.String =&gt; java.net.URL)Option[java.net.URL]">map</span><span class="delimiter">(</span><span title="java.io.File" class="keyword">new</span> java.io.<span title="java.io.File">File</span><span class="delimiter">(</span><a href="#96336" title="java.lang.String">_</a><span class="delimiter">)</span>.<span title="()java.net.URI">toURI</span>.<span title="()java.net.URL">toURL</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>.
            <span title="(alternative: =&gt; Option[java.net.URL])Option[java.net.URL]">orElse</span> <span class="delimiter">{</span>
              <span title="(x: java.lang.String)Option[java.lang.String]">Option</span><span class="delimiter">(</span><span title="object java.lang.System">System</span>.<span title="(x$1: java.lang.String)java.lang.String">getProperty</span><span class="delimiter">(</span><span title="java.lang.String(&quot;logger.url&quot;)" class="string">&quot;logger.url&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: java.lang.String =&gt; java.net.URL)Option[java.net.URL]">map</span><span class="delimiter">(</span><span title="(x$1: java.lang.String)java.net.URL" class="keyword">new</span> java.net.<span title="java.net.URL">URL</span><span class="delimiter">(</span><a href="#96353" title="java.lang.String">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>.
            <span title="(alternative: =&gt; Option[java.net.URL])Option[java.net.URL]">orElse</span> <span class="delimiter">{</span>
              <span title="Option[java.net.URL]" class="keyword">if</span> <span class="delimiter">(</span><a href="#81639" title="play.api.Mode.Value">mode</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Play.scala.html#10864" title="object play.api.Mode">Mode</a>.<a href="Play.scala.html#67655" title="=&gt; play.api.Mode.Value">Test</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="(x: java.net.URL)Option[java.net.URL]">Option</span><span class="delimiter">(</span><span class="keyword">this</span>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.ClassLoader">getClassLoader</span>.<span title="(x$1: java.lang.String)java.net.URL">getResource</span><span class="delimiter">(</span><span title="java.lang.String(&quot;application-logger.xml&quot;)" class="string">&quot;application-logger.xml&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(alternative: =&gt; Option[java.net.URL])Option[java.net.URL]">orElse</span><span class="delimiter">(</span><span title="(x: java.net.URL)Option[java.net.URL]">Option</span><span class="delimiter">(</span><span class="keyword">this</span>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.ClassLoader">getClassLoader</span>.<span title="(x$1: java.lang.String)java.net.URL">getResource</span><span class="delimiter">(</span><span title="java.lang.String(&quot;logger.xml&quot;)" class="string">&quot;logger.xml&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <span title="object None">None</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>.
            <span title="(f: java.net.URL =&gt; Unit)Option[Unit]">map</span> <span class="delimiter">{</span> <a title="java.net.URL" id="96382">url</a> =&gt;
              <a href="#95608" title="ch.qos.logback.classic.joran.JoranConfigurator">configurator</a>.<span title="(x$1: java.net.URL)Unit">doConfigure</span><span class="delimiter">(</span><a href="#96382" title="java.net.URL">url</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Unit" id="96423">e</a> =&gt; <a href="#96423" title="java.lang.Throwable">e</a>.<span title="()Unit">printStackTrace</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="#81642" title="Map[String,ch.qos.logback.classic.Level]">levels</a>.<span title="(f: (String, ch.qos.logback.classic.Level) =&gt; Unit)Unit">foreach</span> <a href="#96707" title="Unit" class="delimiter">{</a>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a title="String" id="96710">logger</a>, <a title="ch.qos.logback.classic.Level" id="96711">level</a><span class="delimiter">)</span> =&gt; <a href="#95607" title="ch.qos.logback.classic.LoggerContext">ctx</a>.<span title="(x$1: java.lang.String)ch.qos.logback.classic.Logger">getLogger</span><span class="delimiter">(</span><a href="#96710" title="String">logger</a><span class="delimiter">)</span>.<span title="(x$1: ch.qos.logback.classic.Level)Unit">setLevel</span><span class="delimiter">(</span><a href="#96711" title="ch.qos.logback.classic.Level">level</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="object ch.qos.logback.core.util.StatusPrinter">StatusPrinter</span>.<span title="(x$1: ch.qos.logback.core.Context)Unit">printIfErrorsOccured</span><span class="delimiter">(</span><a href="#95607" title="ch.qos.logback.classic.LoggerContext">ctx</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>

    <span class="delimiter">}</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * Shutdown the logger infrastructure.
   */</span>
  <span class="keyword">def</span> <a title="()Unit" id="81632">shutdown</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">import</span> ch.qos.logback.classic.joran._
    <span class="keyword">import</span> ch.qos.logback.core.util._
    <span class="keyword">import</span> ch.qos.logback.classic._

    <span class="keyword">val</span> <a title="ch.qos.logback.classic.LoggerContext" id="97039">ctx</a> = <span title="object org.slf4j.LoggerFactory">LoggerFactory</span>.<span title="()org.slf4j.ILoggerFactory">getILoggerFactory</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.qos.logback.classic.LoggerContext" class="delimiter">[</span><span title="ch.qos.logback.classic.LoggerContext">LoggerContext</span><span class="delimiter">]</span>
    <a href="#97039" title="ch.qos.logback.classic.LoggerContext">ctx</a>.<span title="()Unit">stop</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="delimiter">}</span>

  <span class="keyword">import</span> ch.qos.logback.classic._
  <span class="keyword">import</span> ch.qos.logback.classic.spi._
  <span class="keyword">import</span> ch.qos.logback.classic.pattern._

  <span class="comment">/**
   * A logback converter generating colored, lower-case level names.
   *
   * Used for example as:
   * {{{
   * %coloredLevel %logger{15} - %message%n%xException{5}
   * }}}
   */</span>
  <span class="keyword">class</span> <a title="class ColoredLevel extends ch.qos.logback.classic.pattern.ClassicConverter with ScalaObject" id="81636">ColoredLevel</a> <a href="#81636" title="ScalaObject" class="keyword">extends</a> <span title="ch.qos.logback.classic.pattern.ClassicConverter">ClassicConverter</span> <span class="delimiter">{</span>

    <span class="keyword">import</span> play.utils.Colors

    <span class="keyword">def</span> <a title="(event: ch.qos.logback.classic.spi.ILoggingEvent)String" id="97173">convert</a><span class="delimiter">(</span><a title="ch.qos.logback.classic.spi.ILoggingEvent" id="97240">event</a>: <span title="ch.qos.logback.classic.spi.ILoggingEvent">ILoggingEvent</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
      <a href="#97240" title="ch.qos.logback.classic.spi.ILoggingEvent">event</a>.<span title="()ch.qos.logback.classic.Level">getLevel</span> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="java.lang.String">Level</span>.<span title="ch.qos.logback.classic.Level">TRACE</span> =&gt; <span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../core/utils/Color.scala.html#21230" title="object play.utils.Colors">Colors</a>.<a href="../core/utils/Color.scala.html#97268" title="(str: String)String">blue</a><span class="delimiter">(</span><span title="java.lang.String(&quot;trace&quot;)" class="string">&quot;trace&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span>
        <span class="keyword">case</span> <span title="java.lang.String">Level</span>.<span title="ch.qos.logback.classic.Level">DEBUG</span> =&gt; <span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../core/utils/Color.scala.html#21230" title="object play.utils.Colors">Colors</a>.<a href="../core/utils/Color.scala.html#97269" title="(str: String)String">cyan</a><span class="delimiter">(</span><span title="java.lang.String(&quot;debug&quot;)" class="string">&quot;debug&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span>
        <span class="keyword">case</span> <span title="java.lang.String">Level</span>.<span title="ch.qos.logback.classic.Level">INFO</span> =&gt; <span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../core/utils/Color.scala.html#21230" title="object play.utils.Colors">Colors</a>.<a href="../core/utils/Color.scala.html#97272" title="(str: String)String">white</a><span class="delimiter">(</span><span title="java.lang.String(&quot;info&quot;)" class="string">&quot;info&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span>
        <span class="keyword">case</span> <span title="java.lang.String">Level</span>.<span title="ch.qos.logback.classic.Level">WARN</span> =&gt; <span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../core/utils/Color.scala.html#21230" title="object play.utils.Colors">Colors</a>.<a href="../core/utils/Color.scala.html#97274" title="(str: String)String">yellow</a><span class="delimiter">(</span><span title="java.lang.String(&quot;warn&quot;)" class="string">&quot;warn&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span>
        <span class="keyword">case</span> <span title="java.lang.String">Level</span>.<span title="ch.qos.logback.classic.Level">ERROR</span> =&gt; <span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../core/utils/Color.scala.html#21230" title="object play.utils.Colors">Colors</a>.<a href="../core/utils/Color.scala.html#97267" title="(str: String)String">red</a><span class="delimiter">(</span><span title="java.lang.String(&quot;error&quot;)" class="string">&quot;error&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span>

<span class="delimiter">}</span>


        </pre>
    </body>
</html>