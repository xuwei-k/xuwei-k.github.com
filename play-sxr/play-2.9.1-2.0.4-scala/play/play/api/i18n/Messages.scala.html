<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>play/play/api/i18n/Messages.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> play.api.i18n

<span class="keyword">import</span> play.api._
<span class="keyword">import</span> play.core._

<span class="keyword">import</span> java.io._

<span class="keyword">import</span> scala.util.parsing.input._
<span class="keyword">import</span> scala.util.parsing.combinator._
<span class="keyword">import</span> scala.util.matching._

<span class="comment">/**
 * A Lang supported by the application.
 *
 * @param language a valid ISO Language Code.
 * @param country a valid ISO Country Code.
 */</span>
case <span class="keyword">class</span> <a title="class Lang extends java.lang.Object with ScalaObject with Product with Serializable" id="101332">Lang</a><a href="#101332" title="ScalaObject" class="delimiter">(</a><a title="String" id="101379">language</a>: <span title="String">String</span>, <a title="String" id="101380">country</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="comment">/**
   * Convert to a Java Locale value.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; java.util.Locale" id="101340">toLocale</a>: java.util.<span title="java.util.Locale">Locale</span> = <span class="delimiter">{</span>
    <span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><a href="#101380" title="=&gt; String">country</a><span class="delimiter">)</span>.<span title="(p: String =&gt; Boolean)Option[String]">filterNot</span><span class="delimiter">(</span><a href="#164992" title="String">_</a>.<span title="()Boolean">isEmpty</span><span class="delimiter">)</span>.<span title="(f: String =&gt; java.util.Locale)Option[java.util.Locale]">map</span><span class="delimiter">(</span><a title="String" id="164996">c</a> =&gt; <span title="(x$1: java.lang.String, x$2: java.lang.String)java.util.Locale" class="keyword">new</span> java.util.<span title="java.util.Locale">Locale</span><span class="delimiter">(</span><a href="#101379" title="=&gt; String">language</a>, <a href="#164996" title="String">c</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; java.util.Locale)java.util.Locale">getOrElse</span><span class="delimiter">(</span><span title="(x$1: java.lang.String)java.util.Locale" class="keyword">new</span> java.util.<span title="java.util.Locale">Locale</span><span class="delimiter">(</span><a href="#101379" title="=&gt; String">language</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The Lang code (such as fr or en-US).
   */</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.lang.String" id="101342">code</a> = <a href="#101379" title="=&gt; String">language</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><a href="#101380" title="=&gt; String">country</a><span class="delimiter">)</span>.<span title="(p: String =&gt; Boolean)Option[String]">filterNot</span><span class="delimiter">(</span><a href="#164971" title="String">_</a>.<span title="()Boolean">isEmpty</span><span class="delimiter">)</span>.<span title="(f: String =&gt; java.lang.String)Option[java.lang.String]">map</span><span class="delimiter">(</span><span title="java.lang.String(&quot;-&quot;)" class="string">&quot;-&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#164976" title="String">_</a><span class="delimiter">)</span>.<span title="(default: =&gt; java.lang.String)java.lang.String">getOrElse</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * Utilities related to Lang values.
 */</span>
<span class="keyword">object</span> <a title="object play.api.i18n.Lang" id="166211">Lang</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="comment">/**
   * The default Lang to use if nothing matches (platform default)
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="play.api.i18n.Lang" id="101324">defaultLang</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.util.Locale" id="101363">defaultLocale</a> = java.util.<span title="object java.util.Locale">Locale</span>.<span title="()java.util.Locale">getDefault</span>
    <a href="#101332" title="(language: String, country: String)play.api.i18n.Lang">Lang</a><span class="delimiter">(</span><a href="#101363" title="java.util.Locale">defaultLocale</a>.<span title="()java.lang.String">getLanguage</span>, <a href="#101363" title="java.util.Locale">defaultLocale</a>.<span title="()java.lang.String">getCountry</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.util.matching.Regex" id="101325">SimpleLocale</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;([a-zA-Z]{2})&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.util.matching.Regex" id="101327">CountryLocale</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;([a-zA-Z]{2})-([a-zA-Z]{2}|[0-9]{3})&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>

  <span class="comment">/**
   * Create a Lang value from a code (such as fr or en-US).
   */</span>
  <span class="keyword">def</span> <a title="(code: String)play.api.i18n.Lang" id="101329">apply</a><span class="delimiter">(</span><a title="String" id="101383">code</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#101332" title="play.api.i18n.Lang">Lang</a> = <span class="delimiter">{</span>
    <a href="#101383" title="String">code</a> <span title="play.api.i18n.Lang" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#101325" title="play.api.i18n.Lang">SimpleLocale</a><span class="delimiter">(</span><a title="String" id="165072">language</a><span class="delimiter">)</span> =&gt; <a href="#101332" title="(language: String, country: String)play.api.i18n.Lang">Lang</a><span class="delimiter">(</span><a href="#165072" title="String">language</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="#101327" title="play.api.i18n.Lang">CountryLocale</a><span class="delimiter">(</span><a title="String" id="165080">language</a>, <a title="String" id="165081">country</a><span class="delimiter">)</span> =&gt; <a href="#101332" title="(language: String, country: String)play.api.i18n.Lang">Lang</a><span class="delimiter">(</span><a href="#165080" title="String">language</a>, <a href="#165081" title="String">country</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Nothing">_</span> =&gt; sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Unrecognized language: %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#101383" title="String">code</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Retrieve Lang availables from the application configuration.
   *
   * {{{
   * application.langs=&quot;fr,en,de&quot;
   * }}}
   */</span>
  <span class="keyword">def</span> <a title="(implicit app: play.api.Application)Seq[play.api.i18n.Lang]" id="101330">availables</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="play.api.Application" id="165091">app</a>: <a href="../Application.scala.html#10686" title="play.api.Application">Application</a><span class="delimiter">)</span>: <span title="Seq[play.api.i18n.Lang]">Seq</span><span class="delimiter">[</span>Lang<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#165091" title="play.api.Application">app</a>.<a href="../Application.scala.html#67468" title="play.api.Configuration" id="165093">configuration</a>.<a href="../Configuration.scala.html#77639" title="Option[Set[String]]" id="165095">getString</a><span class="delimiter">(</span><a title="java.lang.String(&quot;application.langs&quot;)" id="165094" class="string">&quot;application.langs&quot;</a><span class="delimiter">)</span>.<span title="(f: String =&gt; Seq[play.api.i18n.Lang])Option[Seq[play.api.i18n.Lang]]">map</span> <span class="delimiter">{</span> <a title="String" id="165099">langs</a> =&gt;
      <a href="#165099" title="String">langs</a>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span>.<span title="(f: java.lang.String =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[Array[java.lang.String],java.lang.String,Array[java.lang.String]])Array[java.lang.String]">map</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><a href="#165547" title="java.lang.String">_</a>.<span title="()java.lang.String">trim</span><span class="delimiter">)</span>.<span title="(f: java.lang.String =&gt; play.api.i18n.Lang)(implicit bf: scala.collection.generic.CanBuildFrom[Array[java.lang.String],play.api.i18n.Lang,Array[play.api.i18n.Lang]])Array[play.api.i18n.Lang]">map</span> <span title="(xs: Array[play.api.i18n.Lang])scala.collection.mutable.ArrayOps[play.api.i18n.Lang]" class="delimiter">{</span> <a title="java.lang.String" id="166025">lang</a> =&gt;
        <span class="keyword">try</span> <span class="delimiter">{</span> <a href="#101329" title="(code: String)play.api.i18n.Lang">Lang</a><span class="delimiter">(</span><a href="#166025" title="java.lang.String">lang</a><span class="delimiter">)</span> <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Nothing" id="166034">e</a> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#165091" title="play.api.Application">app</a>.<a href="../Application.scala.html#67468" title="=&gt; play.api.Configuration">configuration</a>.<a href="../Configuration.scala.html#67754" title="(path: String, message: String, e: Option[Throwable])play.api.PlayException">reportError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;application.langs&quot;)" class="string">&quot;application.langs&quot;</span>, <span title="java.lang.String(&quot;Invalid language code [&quot;)" class="string">&quot;Invalid language code [&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#166025" title="java.lang.String">lang</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span>, <span title="(x: java.lang.Throwable)Some[java.lang.Throwable]">Some</span><span class="delimiter">(</span><a href="#166034" title="java.lang.Throwable">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>.<span title="=&gt; Seq[play.api.i18n.Lang]">toSeq</span>
    <span class="delimiter">}</span>.<span title="(default: =&gt; Seq[play.api.i18n.Lang])Seq[play.api.i18n.Lang]">getOrElse</span><span class="delimiter">(</span><span title="object Nil">Nil</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Guess the preferred lang in the langs set passed as argument.
   * The first Lang that matches an available Lang wins, otherwise returns the first Lang available in this application.
   */</span>
  <span class="keyword">def</span> <a title="(langs: Seq[play.api.i18n.Lang])(implicit app: play.api.Application)play.api.i18n.Lang" id="101331">preferred</a><span class="delimiter">(</span><a title="Seq[play.api.i18n.Lang]" id="101345">langs</a>: <span title="Seq[play.api.i18n.Lang]">Seq</span><span class="delimiter">[</span>Lang<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="play.api.Application" id="101346">app</a>: <a href="../Application.scala.html#10686" title="play.api.Application">Application</a><span class="delimiter">)</span>: <a href="#101332" title="play.api.i18n.Lang">Lang</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Seq[play.api.i18n.Lang]" id="166192">all</a> = <a href="#101330" title="(implicit app: play.api.Application)Seq[play.api.i18n.Lang]">availables</a>
    <a href="#101345" title="Seq[play.api.i18n.Lang]">langs</a>.<span title="(p: play.api.i18n.Lang =&gt; Boolean)Option[play.api.i18n.Lang]">find</span><span class="delimiter">(</span><a href="#166192" title="Seq[play.api.i18n.Lang]">all</a>.<span title="(elem: Any)Boolean">contains</span><span class="delimiter">(</span><a href="#166198" title="play.api.i18n.Lang">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; play.api.i18n.Lang)play.api.i18n.Lang">getOrElse</span><span class="delimiter">(</span><a href="#166192" title="Seq[play.api.i18n.Lang]">all</a>.<span title="=&gt; Option[play.api.i18n.Lang]">headOption</span>.<span title="(default: =&gt; play.api.i18n.Lang)play.api.i18n.Lang">getOrElse</span><span class="delimiter">(</span><a href="#166211" title="object play.api.i18n.Lang">Lang</a>.<a href="#101323" title="=&gt; play.api.i18n.Lang">defaultLang</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * High-level internationalisation API (not available yet).
 *
 * For example:
 * {{{
 * val msgString = Messages(&quot;items.found&quot;, items.size)
 * }}}
 */</span>
<span class="keyword">object</span> <a title="object play.api.i18n.Messages" id="13211">Messages</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="comment">/**
   * Translates a message.
   *
   * Uses `java.text.MessageFormat` internally to format the message.
   *
   * @param key the message key
   * @param args the message arguments
   * @return the formatted message or a default rendering if the key wasnâ€™t defined
   */</span>
  <span class="keyword">def</span> <a title="(key: String, args: Any*)(implicit lang: play.api.i18n.Lang)String" id="106328">apply</a><span class="delimiter">(</span><a title="String" id="106335">key</a>: <span title="String">String</span>, <a title="Any*" id="106336">args</a>: <span title="Any*">Any</span>*<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="play.api.i18n.Lang" id="106337">lang</a>: <a href="#101332" title="play.api.i18n.Lang">Lang</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <a href="../Play.scala.html#10906" title="object play.api.Play">Play</a>.<a href="../Play.scala.html#71744" title="=&gt; Option[play.api.Application]">maybeApplication</a>.<span title="(f: play.api.Application =&gt; Option[String])Option[String]">flatMap</span> <span class="delimiter">{</span> <a title="play.api.Application" id="166216">app</a> =&gt;
      <a href="#166216" title="play.api.Application">app</a>.<a href="../Application.scala.html#67474" title="[T](implicit m: Manifest[T])Option[T]">plugin</a><span title="(implicit m: Manifest[play.api.i18n.MessagesPlugin])Option[play.api.i18n.MessagesPlugin]" class="delimiter">[</span><a href="#13159" title="play.api.i18n.MessagesPlugin">MessagesPlugin</a><span class="delimiter">]</span>.<span title="(f: play.api.i18n.MessagesPlugin =&gt; Option[String])Option[Option[String]]">map</span><span class="delimiter">(</span><a href="#166253" title="play.api.i18n.MessagesPlugin">_</a>.<a href="#166229" title="=&gt; play.api.i18n.MessagesApi">api</a>.<a href="#166265" title="(key: String, args: Seq[Any])(implicit lang: play.api.i18n.Lang)Option[String]">translate</a><a href="#106337" title="play.api.i18n.Lang" class="delimiter">(</a><a href="#106335" title="String">key</a>, <a href="#106336" title="Any*">args</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; Option[String])Option[String]">getOrElse</span><span class="delimiter">(</span><span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.Exception" class="keyword">new</span> <span title="java.lang.Exception">Exception</span><span class="delimiter">(</span><span title="java.lang.String(&quot;this plugin was not registered or disabled&quot;)" class="string">&quot;this plugin was not registered or disabled&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><a href="#106330" title="(key: String, args: Seq[Any])String">noMatch</a><span class="delimiter">(</span><a href="#106335" title="String">key</a>, <a href="#106336" title="Any*">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Retrieves all messages defined in this application.
   */</span>
  <span class="keyword">def</span> <a title="(implicit app: play.api.Application)Map[String,Map[String,String]]" id="106329">messages</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="play.api.Application" id="166511">app</a>: <a href="../Application.scala.html#10686" title="play.api.Application">Application</a><span class="delimiter">)</span>: <span title="Map[String,Map[String,String]]">Map</span><span class="delimiter">[</span>String, Map<span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#166511" title="play.api.Application">app</a>.<a href="../Application.scala.html#67474" title="[T](implicit m: Manifest[T])Option[T]">plugin</a><span title="(implicit m: Manifest[play.api.i18n.MessagesPlugin])Option[play.api.i18n.MessagesPlugin]" class="delimiter">[</span><a href="#13159" title="play.api.i18n.MessagesPlugin">MessagesPlugin</a><span class="delimiter">]</span>.<span title="(f: play.api.i18n.MessagesPlugin =&gt; Map[String,Map[String,String]])Option[Map[String,Map[String,String]]]">map</span><span class="delimiter">(</span><a href="#166537" title="play.api.i18n.MessagesPlugin">_</a>.<a href="#166229" title="=&gt; play.api.i18n.MessagesApi">api</a>.<a href="#166268" title="=&gt; Map[String,Map[String,String]]">messages</a><span class="delimiter">)</span>.<span title="(default: =&gt; Map[String,Map[String,String]])Map[String,Map[String,String]]">getOrElse</span><span class="delimiter">(</span><span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.Exception" class="keyword">new</span> <span title="java.lang.Exception">Exception</span><span class="delimiter">(</span><span title="java.lang.String(&quot;this plugin was not registered or disabled&quot;)" class="string">&quot;this plugin was not registered or disabled&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(key: String, args: Seq[Any])String" id="106330">noMatch</a><span class="delimiter">(</span><a title="String" id="166506">key</a>: <span title="String">String</span>, <a title="Seq[Any]" id="166507">args</a>: <span title="Seq[Any]">Seq</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#166506" title="String">key</a>

  <span class="keyword">private</span><span class="delimiter">[</span>i18n<span class="delimiter">]</span> case <span class="keyword">class</span> <a title="class Message extends java.lang.Object with scala.util.parsing.input.Positional with ScalaObject with Product with Serializable" id="167218">Message</a><a href="#167218" title="ScalaObject" class="delimiter">(</a><a title="String" id="166989">key</a>: <span title="String">String</span>, <a title="String" id="166990">pattern</a>: <span title="String">String</span>, <a title="scalax.io.Input" id="166991">input</a>: scalax.io.<span title="scalax.io.Input">Input</span>, <a title="String" id="166992">sourceName</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="scala.util.parsing.input.Positional">Positional</span>

  <span class="comment">/**
   * Message file Parser.
   */</span>
  <span class="keyword">private</span><span class="delimiter">[</span>i18n<span class="delimiter">]</span> <span class="keyword">class</span> <a title="class MessagesParser extends java.lang.Object with scala.util.parsing.combinator.RegexParsers with ScalaObject" id="106334">MessagesParser</a><a href="#106334" title="ScalaObject" class="delimiter">(</a><a title="scalax.io.Input" id="166700">messageInput</a>: scalax.io.<span title="scalax.io.Input">Input</span>, <a title="String" id="166701">messageSourceName</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="scala.util.parsing.combinator.RegexParsers">RegexParsers</span> <span class="delimiter">{</span>

    case <span class="keyword">class</span> <a title="class Comment extends java.lang.Object with ScalaObject with Product with Serializable" id="166722">Comment</a><a href="#166722" title="ScalaObject" class="delimiter">(</a><a title="String" id="166909">msg</a>: <span title="String">String</span><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="166672">skipWhitespace</a> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="scala.util.matching.Regex" id="166673">whiteSpace</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;[ \t]+&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="[T](p: MessagesParser.this.Parser[T])MessagesParser.this.Parser[T]" id="166675">phrase</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="166677">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="MessagesParser.this.Parser[T]" id="166757">p</a>: <span title="MessagesParser.this.Parser[T]">Parser</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#166773" title="MessagesParser.this.Parser[T]" class="keyword">new</a> <a title="anonymous class $anon extends MessagesParser.this.Parser[T]" id="166773">Parser</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="delimiter">{</span>
      <a href="#106334" title="(x$1: MessagesParser.this.NoSuccess)Unit">lastNoSuccess</a> = <span title="Null(null)" class="keyword">null</span>
      <span class="keyword">def</span> <a title="(in: MessagesParser.this.Input)MessagesParser.this.ParseResult[T]" id="166779">apply</a><span class="delimiter">(</span><a title="MessagesParser.this.Input" id="166780">in</a>: <span title="MessagesParser.this.Input">Input</span><span class="delimiter">)</span> = <a href="#166757" title="(in: MessagesParser.this.Input)MessagesParser.this.ParseResult[T]">p</a><span class="delimiter">(</span><a href="#166780" title="MessagesParser.this.Input">in</a><span class="delimiter">)</span> <span title="MessagesParser.this.ParseResult[T]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="MessagesParser.this.ParseResult[T]" id="166800">s</a> @ Success<span class="delimiter">(</span><a title="T" id="166805">out</a>, <a title="MessagesParser.this.Input" id="166806">in1</a><span class="delimiter">)</span> =&gt;
          <span title="MessagesParser.this.ParseResult[T]" class="keyword">if</span> <span class="delimiter">(</span><a href="#166806" title="MessagesParser.this.Input">in1</a>.<span title="=&gt; Boolean">atEnd</span><span class="delimiter">)</span>
            <a href="#166800" title="MessagesParser.this.Success[T]">s</a>
          <span class="keyword">else</span> <span title="MessagesParser.this.ParseResult[T]" class="keyword">if</span> <span class="delimiter">(</span><a href="#106334" title="=&gt; MessagesParser.this.NoSuccess">lastNoSuccess</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">||</span> <a href="#106334" title="=&gt; MessagesParser.this.NoSuccess">lastNoSuccess</a>.<span title="=&gt; MessagesParser.this.Input">next</span>.<span title="=&gt; scala.util.parsing.input.Position">pos</span> <span title="(that: scala.util.parsing.input.Position)Boolean">&lt;</span> <a href="#166806" title="MessagesParser.this.Input">in1</a>.<span title="=&gt; scala.util.parsing.input.Position">pos</span><span class="delimiter">)</span>
            <a href="#106334" title="(msg: String, next: MessagesParser.this.Input)MessagesParser.this.Failure">Failure</a><span class="delimiter">(</span><span title="java.lang.String(&quot;end of input expected&quot;)" class="string">&quot;end of input expected&quot;</span>, <a href="#166806" title="MessagesParser.this.Input">in1</a><span class="delimiter">)</span>
          <span class="keyword">else</span>
            <a href="#106334" title="=&gt; MessagesParser.this.NoSuccess">lastNoSuccess</a>
        <span class="keyword">case</span> <span title="MessagesParser.this.NoSuccess">_</span> =&gt; <a href="#106334" title="=&gt; MessagesParser.this.NoSuccess">lastNoSuccess</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="[A](p: MessagesParser.this.Parser[A], msg: String)MessagesParser.this.Parser[A]" id="166678">namedError</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="166680">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="MessagesParser.this.Parser[A]" id="166843">p</a>: <span title="MessagesParser.this.Parser[A]">Parser</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="String" id="166844">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#106334" title="[T](f: MessagesParser.this.Input =&gt; MessagesParser.this.ParseResult[T])MessagesParser.this.Parser[T]">Parser</a><span title="(f: MessagesParser.this.Input =&gt; MessagesParser.this.ParseResult[A])MessagesParser.this.Parser[A]" class="delimiter">[</span><a href="#166680" title="A">A</a><span class="delimiter">]</span> <span class="delimiter">{</span> <a title="MessagesParser.this.Input" id="166850">i</a> =&gt;
      <a href="#166843" title="(in: MessagesParser.this.Input)MessagesParser.this.ParseResult[A]">p</a><span class="delimiter">(</span><a href="#166850" title="MessagesParser.this.Input">i</a><span class="delimiter">)</span> <span title="MessagesParser.this.ParseResult[A]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="MessagesParser.this.Failure">Failure</span><span class="delimiter">(</span>_, <a title="MessagesParser.this.Input" id="166864">in</a><span class="delimiter">)</span> =&gt; <a href="#106334" title="(msg: String, next: MessagesParser.this.Input)MessagesParser.this.Failure">Failure</a><span class="delimiter">(</span><a href="#166844" title="String">msg</a>, <a href="#166864" title="MessagesParser.this.Input">in</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="MessagesParser.this.ParseResult[A]" id="166865">o</a> =&gt; <a href="#166865" title="MessagesParser.this.ParseResult[A]">o</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; scala.util.matching.Regex" id="166681">end</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;\s*&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>
    <span class="keyword">def</span> <a title="=&gt; MessagesParser.this.Parser[String]" id="166682">newLine</a> = <a href="#166678" title="(p: MessagesParser.this.Parser[String], msg: String)MessagesParser.this.Parser[String]">namedError</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#106334" title="implicit scala.util.parsing.combinator.RegexParsers.literal : (s: String)MessagesParser.this.Parser[String]" class="string">&quot;\r&quot;</a><span title="=&gt; MessagesParser.this.Parser[Option[String]]">?</span><span class="delimiter">)</span> <span title="(q: =&gt; MessagesParser.this.Parser[String])MessagesParser.this.Parser[String]">~&gt;</span> <a href="#106334" title="implicit scala.util.parsing.combinator.RegexParsers.literal : (s: String)MessagesParser.this.Parser[String]" class="string">&quot;\n&quot;</a><span class="delimiter">)</span>, <span title="java.lang.String(&quot;End of line expected&quot;)" class="string">&quot;End of line expected&quot;</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; MessagesParser.this.Parser[MessagesParser.this.Comment]" id="166683">blankLine</a> = <a href="#166684" title="=&gt; MessagesParser.this.Parser[Option[String]]">ignoreWhiteSpace</a> <span title="(q: =&gt; MessagesParser.this.Parser[String])MessagesParser.this.Parser[Option[String]]">&lt;~</span> <a href="#166682" title="=&gt; MessagesParser.this.Parser[String]">newLine</a> <span title="(f: Option[String] =&gt; MessagesParser.this.Comment)MessagesParser.this.Parser[MessagesParser.this.Comment]">^^</span> <a href="#166908" title="MessagesParser.this.Comment" class="delimiter">{</a> <span class="keyword">case</span> <span title="MessagesParser.this.Comment">_</span> =&gt; <a href="#166722" title="(msg: String)MessagesParser.this.Comment">Comment</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="=&gt; MessagesParser.this.Parser[Option[String]]" id="166684">ignoreWhiteSpace</a> = <a href="#106334" title="(p: =&gt; MessagesParser.this.Parser[String])MessagesParser.this.Parser[Option[String]]">opt</a><span class="delimiter">(</span><a href="#106334" title="implicit scala.util.parsing.combinator.RegexParsers.regex : (r: scala.util.matching.Regex)MessagesParser.this.Parser[String]">whiteSpace</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; MessagesParser.this.Parser[MessagesParser.this.Comment]" id="166685">comment</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;#.*&quot;&quot;&quot;</span>.<a href="#106334" title="implicit scala.util.parsing.combinator.RegexParsers.regex : (r: scala.util.matching.Regex)MessagesParser.this.Parser[String]">r</a> <span title="(f: String =&gt; MessagesParser.this.Comment)MessagesParser.this.Parser[MessagesParser.this.Comment]">^^</span> <a href="#166928" title="MessagesParser.this.Comment" class="delimiter">{</a> <span class="keyword">case</span> <a title="MessagesParser.this.Comment" id="166929">s</a> =&gt; <a href="#166722" title="(msg: String)MessagesParser.this.Comment">Comment</a><span class="delimiter">(</span><a href="#166929" title="String">s</a><span class="delimiter">)</span> <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; MessagesParser.this.Parser[String]" id="166686">messageKey</a> = <a href="#166678" title="(p: MessagesParser.this.Parser[String], msg: String)MessagesParser.this.Parser[String]">namedError</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;[a-zA-Z0-9_.]+&quot;&quot;&quot;</span>.<a href="#106334" title="implicit scala.util.parsing.combinator.RegexParsers.regex : (r: scala.util.matching.Regex)MessagesParser.this.Parser[String]">r</a>, <span title="java.lang.String(&quot;Message key expected&quot;)" class="string">&quot;Message key expected&quot;</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; MessagesParser.this.Parser[String]" id="166687">messagePattern</a> = <a href="#166678" title="(p: MessagesParser.this.Parser[String], msg: String)MessagesParser.this.Parser[String]">namedError</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;.+&quot;&quot;&quot;</span>.<a href="#106334" title="implicit scala.util.parsing.combinator.RegexParsers.regex : (r: scala.util.matching.Regex)MessagesParser.this.Parser[String]">r</a>, <span title="java.lang.String(&quot;Message pattern expected&quot;)" class="string">&quot;Message pattern expected&quot;</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; MessagesParser.this.Parser[play.api.i18n.Messages.Message]" id="166688">message</a> = <a href="#166684" title="=&gt; MessagesParser.this.Parser[Option[String]]">ignoreWhiteSpace</a> <span title="(q: =&gt; MessagesParser.this.Parser[String])MessagesParser.this.Parser[MessagesParser.this.~[Option[String],String]]">~</span> <a href="#166686" title="=&gt; MessagesParser.this.Parser[String]">messageKey</a> <span title="(q: =&gt; MessagesParser.this.Parser[MessagesParser.this.~[MessagesParser.this.~[Option[String],String],Option[String]]])MessagesParser.this.Parser[MessagesParser.this.~[MessagesParser.this.~[Option[String],String],MessagesParser.this.~[MessagesParser.this.~[Option[String],String],Option[String]]]]">~</span> <span class="delimiter">(</span><a href="#166684" title="=&gt; MessagesParser.this.Parser[Option[String]]">ignoreWhiteSpace</a> <span title="(q: =&gt; MessagesParser.this.Parser[String])MessagesParser.this.Parser[MessagesParser.this.~[Option[String],String]]">~</span> <a href="#106334" title="implicit scala.util.parsing.combinator.RegexParsers.literal : (s: String)MessagesParser.this.Parser[String]" class="string">&quot;=&quot;</a> <span title="(q: =&gt; MessagesParser.this.Parser[Option[String]])MessagesParser.this.Parser[MessagesParser.this.~[MessagesParser.this.~[Option[String],String],Option[String]]]">~</span> <a href="#166684" title="=&gt; MessagesParser.this.Parser[Option[String]]">ignoreWhiteSpace</a><span class="delimiter">)</span> <span title="(q: =&gt; MessagesParser.this.Parser[String])MessagesParser.this.Parser[MessagesParser.this.~[MessagesParser.this.~[MessagesParser.this.~[Option[String],String],MessagesParser.this.~[MessagesParser.this.~[Option[String],String],Option[String]]],String]]">~</span> <a href="#166687" title="=&gt; MessagesParser.this.Parser[String]">messagePattern</a> <span title="(f: MessagesParser.this.~[MessagesParser.this.~[MessagesParser.this.~[Option[String],String],MessagesParser.this.~[MessagesParser.this.~[Option[String],String],Option[String]]],String] =&gt; play.api.i18n.Messages.Message)MessagesParser.this.Parser[play.api.i18n.Messages.Message]">^^</span> <a href="#166980" title="play.api.i18n.Messages.Message" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="play.api.i18n.Messages.Message" class="delimiter">(</span>_ ~ <a title="String" id="166987">k</a> ~ _ ~ <a title="String" id="166988">v</a><span class="delimiter">)</span> =&gt; <a href="#13211" title="object play.api.i18n.Messages">Messages</a>.<a href="#167218" title="(key: String, pattern: String, input: scalax.io.Input, sourceName: String)play.api.i18n.Messages.Message">Message</a><span class="delimiter">(</span><a href="#166987" title="String">k</a>, <a href="#166988" title="String">v</a>.<span title="()java.lang.String">trim</span>, <a href="#166700" title="scalax.io.Input">messageInput</a>, <a href="#166701" title="String">messageSourceName</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; MessagesParser.this.Parser[Product with Serializable]" id="166689">sentence</a> = <span class="delimiter">(</span><a href="#166685" title="=&gt; MessagesParser.this.Parser[MessagesParser.this.Comment]">comment</a> <span title="(q: =&gt; MessagesParser.this.Parser[Product with Serializable])MessagesParser.this.Parser[Product with Serializable]">|</span> <a href="#106334" title="(p: =&gt; MessagesParser.this.Parser[play.api.i18n.Messages.Message])MessagesParser.this.Parser[play.api.i18n.Messages.Message]">positioned</a><span class="delimiter">(</span><a href="#166688" title="=&gt; MessagesParser.this.Parser[play.api.i18n.Messages.Message]">message</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(q: =&gt; MessagesParser.this.Parser[String])MessagesParser.this.Parser[Product with Serializable]">&lt;~</span> <a href="#166682" title="=&gt; MessagesParser.this.Parser[String]">newLine</a>

    <span class="keyword">def</span> <a title="=&gt; MessagesParser.this.Parser[List[play.api.i18n.Messages.Message]]" id="166690">parser</a> = <a href="#166675" title="(p: MessagesParser.this.Parser[List[Product with Serializable]])MessagesParser.this.Parser[List[Product with Serializable]]">phrase</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="#166689" title="=&gt; MessagesParser.this.Parser[Product with Serializable]">sentence</a> <span title="(q: =&gt; MessagesParser.this.Parser[Product with Serializable])MessagesParser.this.Parser[Product with Serializable]">|</span> <a href="#166683" title="=&gt; MessagesParser.this.Parser[MessagesParser.this.Comment]">blankLine</a> <span title="=&gt; MessagesParser.this.Parser[List[Product with Serializable]]">*</span><span class="delimiter">)</span> <span title="(q: =&gt; MessagesParser.this.Parser[String])MessagesParser.this.Parser[List[Product with Serializable]]">&lt;~</span> <a href="#106334" title="implicit scala.util.parsing.combinator.RegexParsers.regex : (r: scala.util.matching.Regex)MessagesParser.this.Parser[String]">end</a><span class="delimiter">)</span> <span title="(f: List[Product with Serializable] =&gt; List[play.api.i18n.Messages.Message])MessagesParser.this.Parser[List[play.api.i18n.Messages.Message]]">^^</span> <a href="#167062" title="List[play.api.i18n.Messages.Message]" class="delimiter">{</a>
      <span class="keyword">case</span> <a title="List[play.api.i18n.Messages.Message]" id="167063">messages</a> =&gt; <a href="#167063" title="List[Product with Serializable]">messages</a>.<span title="(pf: PartialFunction[Product with Serializable,play.api.i18n.Messages.Message])(implicit bf: scala.collection.generic.CanBuildFrom[List[Product with Serializable],play.api.i18n.Messages.Message,List[play.api.i18n.Messages.Message]])List[play.api.i18n.Messages.Message]">collect</span> <a href="#167076" title="play.api.i18n.Messages.Message" class="delimiter">{</a>
        <span class="keyword">case</span> <a title="play.api.i18n.Messages.Message" id="167077">m</a> @ Messages.Message<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt; <a href="#167077" title="play.api.i18n.Messages.Message">m</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; List[play.api.i18n.Messages.Message]" id="166691">parse</a> = <span class="delimiter">{</span>
      <a href="#166690" title="(in: MessagesParser.this.Input)MessagesParser.this.ParseResult[List[play.api.i18n.Messages.Message]]">parser</a><span class="delimiter">(</span><span title="(source: java.lang.CharSequence)scala.util.parsing.input.CharSequenceReader" class="keyword">new</span> <span title="scala.util.parsing.input.CharSequenceReader">CharSequenceReader</span><span class="delimiter">(</span><a href="#166700" title="scalax.io.Input">messageInput</a>.<span title="(implicit codec: scalax.io.Codec)java.lang.String">slurpString</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="List[play.api.i18n.Messages.Message]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="List[play.api.i18n.Messages.Message]">Success</span><span class="delimiter">(</span><a title="List[play.api.i18n.Messages.Message]" id="167162">messages</a>, _<span class="delimiter">)</span> =&gt; <a href="#167162" title="List[play.api.i18n.Messages.Message]">messages</a>
        <span class="keyword">case</span> <a href="#106334" title="Nothing">NoSuccess</a><span class="delimiter">(</span><a title="String" id="167171">message</a>, <a title="MessagesParser.this.Input" id="167172">in</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
          <span title="Nothing" class="keyword">throw</span> <a href="#167173" title="play.api.PlayException with play.api.PlayException.ExceptionSource" class="keyword">new</a> <a href="../Exceptions.scala.html#10962" title="anonymous class $anon extends play.api.PlayException with play.api.PlayException.ExceptionSource" id="167173">PlayException</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Configuration error&quot;)" class="string">&quot;Configuration error&quot;</span>, <a href="#167171" title="String">message</a><span class="delimiter">)</span> <span class="keyword">with</span> PlayException.<a href="../Exceptions.scala.html#81024" title="play.api.PlayException.ExceptionSource">ExceptionSource</a> <span class="delimiter">{</span>
            <span class="keyword">def</span> <a title="=&gt; Some[Int]" id="167177">line</a> = <span title="(x: Int)Some[Int]">Some</span><span class="delimiter">(</span><a href="#167172" title="MessagesParser.this.Input">in</a>.<span title="=&gt; scala.util.parsing.input.Position">pos</span>.<span title="=&gt; Int">line</span><span class="delimiter">)</span>
            <span class="keyword">def</span> <a title="=&gt; Some[Int]" id="167178">position</a> = <span title="(x: Int)Some[Int]">Some</span><span class="delimiter">(</span><a href="#167172" title="MessagesParser.this.Input">in</a>.<span title="=&gt; scala.util.parsing.input.Position">pos</span>.<span title="=&gt; Int">column</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <span class="keyword">def</span> <a title="=&gt; Some[scalax.io.Input]" id="167179">input</a> = <span title="(x: scalax.io.Input)Some[scalax.io.Input]">Some</span><span class="delimiter">(</span><a href="#166700" title="scalax.io.Input">messageInput</a><span class="delimiter">)</span>
            <span class="keyword">def</span> <a title="=&gt; Some[String]" id="167180">sourceName</a> = <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="#166701" title="String">messageSourceName</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * The internationalisation API.
 */</span>
case <span class="keyword">class</span> <a title="class MessagesApi extends java.lang.Object with ScalaObject with Product with Serializable" id="167737">MessagesApi</a><a href="#167737" title="ScalaObject" class="delimiter">(</a><a title="Map[String,Map[String,String]]" id="166268">messages</a>: <span title="Map[String,Map[String,String]]">Map</span><span class="delimiter">[</span>String, Map<span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="keyword">import</span> java.text._

  <span class="comment">/**
   * Translates a message.
   *
   * Uses `java.text.MessageFormat` internally to format the message.
   *
   * @param key the message key
   * @param args the message arguments
   * @return the formatted message, if this key was defined
   */</span>
  <span class="keyword">def</span> <a title="(key: String, args: Seq[Any])(implicit lang: play.api.i18n.Lang)Option[String]" id="166265">translate</a><span class="delimiter">(</span><a title="String" id="166487">key</a>: <span title="String">String</span>, <a title="Seq[Any]" id="166488">args</a>: <span title="Seq[Any]">Seq</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="play.api.i18n.Lang" id="166489">lang</a>: <a href="#101332" title="play.api.i18n.Lang">Lang</a><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#166268" title="=&gt; Map[String,Map[String,String]]">messages</a>.<span title="(key: String)Option[Map[String,String]]">get</span><span class="delimiter">(</span><a href="#166489" title="play.api.i18n.Lang">lang</a>.<a href="#101341" title="=&gt; java.lang.String">code</a><span class="delimiter">)</span>.<span title="(f: Map[String,String] =&gt; Option[String])Option[String]">flatMap</span><span class="delimiter">(</span><a href="#167228" title="Map[String,String]">_</a>.<span title="(key: String)Option[String]">get</span><span class="delimiter">(</span><a href="#166487" title="String">key</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(alternative: =&gt; Option[String])Option[String]">orElse</span><span class="delimiter">(</span><a href="#166268" title="=&gt; Map[String,Map[String,String]]">messages</a>.<span title="(key: String)Option[Map[String,String]]">get</span><span class="delimiter">(</span><span title="java.lang.String(&quot;default&quot;)" class="string">&quot;default&quot;</span><span class="delimiter">)</span>.<span title="(f: Map[String,String] =&gt; Option[String])Option[String]">flatMap</span><span class="delimiter">(</span><a href="#167241" title="Map[String,String]">_</a>.<span title="(key: String)Option[String]">get</span><span class="delimiter">(</span><a href="#166487" title="String">key</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: String =&gt; java.lang.String)Option[java.lang.String]">map</span> <span class="delimiter">{</span> <a title="String" id="167250">pattern</a> =&gt;
      <span title="(x$1: java.lang.String, x$2: java.util.Locale)java.text.MessageFormat" class="keyword">new</span> <span title="java.text.MessageFormat">MessageFormat</span><span class="delimiter">(</span><a href="#167250" title="String">pattern</a>, <a href="#166489" title="play.api.i18n.Lang">lang</a>.<a href="#101340" title="=&gt; java.util.Locale">toLocale</a><span class="delimiter">)</span>.<span title="(x$1: Any)java.lang.String">format</span><span class="delimiter">(</span><a href="#166488" title="Seq[Any]">args</a>.<span title="(f: Any =&gt; java.lang.Object)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[Any],java.lang.Object,Seq[java.lang.Object]])Seq[java.lang.Object]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,java.lang.Object,Seq[java.lang.Object]]" class="delimiter">(</span><a href="#167326" title="Any">_</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="java.lang.Object" class="delimiter">[</span>java.lang.<span title="java.lang.Object">Object</span><span class="delimiter">]</span><span class="delimiter">)</span>.<span title="(implicit evidence$1: ClassManifest[java.lang.Object])Array[java.lang.Object]">toArray</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * Play Plugin for internationalisation.
 */</span>
<span class="keyword">class</span> <a title="class MessagesPlugin extends java.lang.Object with play.api.Plugin with ScalaObject" id="13159">MessagesPlugin</a><a href="#13159" title="ScalaObject" class="delimiter">(</a><a title="play.api.Application" id="167405">app</a>: <a href="../Application.scala.html#10686" title="play.api.Application">Application</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../Plugins.scala.html#10767" title="play.api.Plugin">Plugin</a> <span class="delimiter">{</span>

  <span class="keyword">import</span> scala.collection.<span title="object scala.collection.JavaConverters">JavaConverters</span>._

  <span class="keyword">import</span> scalax.file._
  <span class="keyword">import</span> scalax.io.<span title="object scalax.io.JavaConverters">JavaConverters</span>._

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(file: String)Map[String,String]" id="166226">loadMessages</a><span class="delimiter">(</span><a title="String" id="166341">file</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#167405" title="play.api.Application">app</a>.<a href="../Application.scala.html#67449" title="=&gt; java.lang.ClassLoader">classloader</a>.<span title="(x$1: java.lang.String)java.util.Enumeration[java.net.URL]">getResources</span><span title="(i: java.util.Enumeration[java.net.URL])collection.JavaConverters.AsScala[Iterator[java.net.URL]]" class="delimiter">(</span><a href="#166341" title="String">file</a><span class="delimiter">)</span>.<span title="=&gt; Iterator[java.net.URL]">asScala</span>.<span title="=&gt; List[java.net.URL]">toList</span>.<span title="=&gt; List[java.net.URL]">reverse</span>.<span title="(f: java.net.URL =&gt; scala.collection.immutable.Map[String,String])(implicit bf: scala.collection.generic.CanBuildFrom[List[java.net.URL],scala.collection.immutable.Map[String,String],List[scala.collection.immutable.Map[String,String]]])List[scala.collection.immutable.Map[String,String]]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,scala.collection.immutable.Map[String,String],List[scala.collection.immutable.Map[String,String]]]" class="delimiter">{</span> <a title="java.net.URL" id="167442">messageFile</a> =&gt;
      <span title="play.api.i18n.Messages.MessagesParser" class="keyword">new</span> <a href="#13211" title="object play.api.i18n.Messages">Messages</a>.<a href="#106334" title="play.api.i18n.Messages.MessagesParser">MessagesParser</a><span class="delimiter">(</span><a href="#167442" title="(src: java.net.URL)(implicit converter: scalax.io.JavaConverters.AsInputConverter[java.net.URL])scalax.io.JavaConverters.AsInput">messageFile</a>.<span title="=&gt; scalax.io.Input">asInput</span>, <a href="#167442" title="java.net.URL">messageFile</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span>.<a href="#166691" title="=&gt; List[play.api.i18n.Messages.Message]">parse</a>.<span title="(f: play.api.i18n.Messages.Message =&gt; (String, String))(implicit bf: scala.collection.generic.CanBuildFrom[List[play.api.i18n.Messages.Message],(String, String),List[(String, String)]])List[(String, String)]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,(String, String),List[(String, String)]]" class="delimiter">{</span> <a title="play.api.i18n.Messages.Message" id="167537">message</a> =&gt;
        <a href="#167537" title="play.api.i18n.Messages.Message">message</a>.<a href="#166989" title="(x: String)ArrowAssoc[String]">key</a> <span title="(y: String)(String, String)">-&gt;</span> <a href="#167537" title="play.api.i18n.Messages.Message">message</a>.<a href="#166990" title="=&gt; String">pattern</a>
      <span class="delimiter">}</span>.<span title="(implicit ev: &lt;:&lt;[(String, String),(String, String)])scala.collection.immutable.Map[String,String]">toMap</span>
    <span class="delimiter">}</span>.<span title="(z: scala.collection.immutable.Map[String,String])(f: (scala.collection.immutable.Map[String,String], scala.collection.immutable.Map[String,String]) =&gt; scala.collection.immutable.Map[String,String])scala.collection.immutable.Map[String,String]">foldLeft</span><span class="delimiter">(</span><span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="[A, B]=&gt; scala.collection.immutable.Map[A,B]">empty</span><span title="scala.collection.immutable.Map[String,String]" class="delimiter">[</span><span title="String">String</span>, <span title="String">String</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#167668" title="scala.collection.immutable.Map[String,String]">_</a> <span title="(xs: scala.collection.GenTraversableOnce[(String, String)])scala.collection.immutable.Map[String,String]">++</span> <a href="#167669" title="scala.collection.immutable.Map[String,String]">_</a> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="play.api.i18n.MessagesApi" id="166228">messages</a> = <span class="delimiter">{</span>
    <a href="#167737" title="(messages: Map[String,Map[String,String]])play.api.i18n.MessagesApi">MessagesApi</a> <span class="delimiter">{</span>
      <a href="#166211" title="object play.api.i18n.Lang">Lang</a>.<a href="#101330" title="(implicit app: play.api.Application)Seq[play.api.i18n.Lang]">availables</a><span class="delimiter">(</span><a href="#167405" title="play.api.Application">app</a><span class="delimiter">)</span>.<span title="(f: play.api.i18n.Lang =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[play.api.i18n.Lang],java.lang.String,Seq[java.lang.String]])Seq[java.lang.String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,java.lang.String,Seq[java.lang.String]]" class="delimiter">(</span><a href="#166295" title="play.api.i18n.Lang">_</a>.<a href="#101341" title="=&gt; java.lang.String">code</a><span class="delimiter">)</span>.<span title="(f: java.lang.String =&gt; (java.lang.String, Map[String,String]))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[java.lang.String],(java.lang.String, Map[String,String]),Seq[(java.lang.String, Map[String,String])]])Seq[(java.lang.String, Map[String,String])]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,(java.lang.String, Map[String,String]),Seq[(java.lang.String, Map[String,String])]]" class="delimiter">{</span> <a title="java.lang.String" id="166336">lang</a> =&gt;
        <span title="(_1: java.lang.String, _2: Map[String,String])(java.lang.String, Map[String,String])" class="delimiter">(</span><a href="#166336" title="java.lang.String">lang</a>, <a href="#166226" title="(file: String)Map[String,String]">loadMessages</a><span class="delimiter">(</span><span title="java.lang.String(&quot;messages.&quot;)" class="string">&quot;messages.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#166336" title="java.lang.String">lang</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<span title="(implicit ev: &lt;:&lt;[(java.lang.String, Map[String,String]),(java.lang.String, Map[String,String])])scala.collection.immutable.Map[java.lang.String,Map[String,String]]">toMap</span> <span title="(kv: (java.lang.String, Map[String,String]))scala.collection.immutable.Map[java.lang.String,Map[String,String]]">+</span> <span class="delimiter">(</span><span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;default&quot;</span> <span title="(y: Map[String,String])(java.lang.String, Map[String,String])">-&gt;</span> <a href="#166226" title="(file: String)Map[String,String]">loadMessages</a><span class="delimiter">(</span><span title="java.lang.String(&quot;messages&quot;)" class="string">&quot;messages&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The underlying internationalisation API.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; play.api.i18n.MessagesApi" id="166229">api</a> = <a href="#166227" title="=&gt; play.api.i18n.MessagesApi">messages</a>

  <span class="comment">/**
   * Loads all configuration and message files defined in the classpath.
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Unit" id="166230">onStart</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#166227" title="=&gt; play.api.i18n.MessagesApi">messages</a>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>