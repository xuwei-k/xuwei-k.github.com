<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>fork-run/play/forkrun/SbtClient.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright (C) 2009-2015 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
<span class="keyword">package</span> play.forkrun

<span class="keyword">import</span> akka.actor._
<span class="keyword">import</span> java.io.File
<span class="keyword">import</span> sbt.client.actors.<span class="delimiter">{</span> SbtClientProxy, SbtConnectionProxy <span class="delimiter">}</span>
<span class="keyword">import</span> sbt.client.<span class="delimiter">{</span> SbtConnector, TaskKey <span class="delimiter">}</span>
<span class="keyword">import</span> sbt.protocol.<span class="delimiter">{</span> ScopedKey, TaskResult, TaskFailure <span class="delimiter">}</span>
<span class="keyword">import</span> scala.concurrent.duration._
<span class="keyword">import</span> scala.concurrent.<span title="scala.concurrent.ExecutionContext.type">ExecutionContext</span>.<span title="concurrent.ExecutionContext.Implicits.type">Implicits</span>.global
<span class="keyword">import</span> scala.util.<span class="delimiter">{</span> Success, Failure <span class="delimiter">}</span>

<span class="keyword">object</span> <a title="play.forkrun.SbtClient.type" id="play.forkrun.SbtClient">SbtClient</a> <a href="#play.forkrun.SbtClient" title="play.forkrun.SbtClient.type" class="delimiter">{</a>
  <span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait SbtRequest extends AnyRef" id="play.forkrun.SbtClient;SbtRequest">SbtRequest</a>
  <span class="keyword">case class</span> <a title="class Execute extends AnyRef with play.forkrun.SbtClient.SbtRequest with Product with Serializable" id="play.forkrun.SbtClient.Execute.readResolve">Execute</a><a href="#play.forkrun.SbtClient.Execute.readResolve" title="Product" class="delimiter">(</a><a title="String" id="play.forkrun.SbtClient;Execute.input">input</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#play.forkrun.SbtClient;SbtRequest" title="play.forkrun.SbtClient.SbtRequest">SbtRequest</a>
  <span class="keyword">case class</span> <a title="class Request extends AnyRef with play.forkrun.SbtClient.SbtRequest with Product with Serializable" id="play.forkrun.SbtClient.Request.readResolve">Request</a><a href="#play.forkrun.SbtClient.Request.readResolve" title="Product" class="delimiter">(</a><a title="String" id="play.forkrun.SbtClient;Request.key">key</a>: <span title="String">String</span>, <a title="akka.actor.ActorRef" id="play.forkrun.SbtClient;Request.sendTo">sendTo</a>: <span title="akka.actor.ActorRef">ActorRef</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#play.forkrun.SbtClient;SbtRequest" title="play.forkrun.SbtClient.SbtRequest">SbtRequest</a>
  <span class="keyword">case class</span> <a title="class Response extends AnyRef with Product with Serializable" id="play.forkrun.SbtClient.Response.readResolve">Response</a><a href="#play.forkrun.SbtClient.Response.readResolve" title="Product" class="delimiter">(</a><a title="String" id="play.forkrun.SbtClient;Response.key">key</a>: <span title="String">String</span>, <a title="sbt.protocol.TaskResult" id="play.forkrun.SbtClient;Response.result">result</a>: <span title="sbt.protocol.TaskResult">TaskResult</span><span class="delimiter">)</span>
  <span class="keyword">case class</span> <a title="class Failed extends AnyRef with Product with Serializable" id="play.forkrun.SbtClient.Failed.readResolve">Failed</a><a href="#play.forkrun.SbtClient.Failed.readResolve" title="Product" class="delimiter">(</a><a title="Throwable" id="play.forkrun.SbtClient;Failed.error">error</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span>
  <span class="keyword">case object</span> <a href="#play.forkrun.SbtClient.Shutdown.productElement.x$1" title="play.forkrun.SbtClient.Shutdown.type" id="play.forkrun.SbtClient.Shutdown.readResolve">Shutdown</a>
  <span class="keyword">case object</span> <a href="#play.forkrun.SbtClient.ShutdownTimeout.productElement.x$1" title="play.forkrun.SbtClient.ShutdownTimeout.type" id="play.forkrun.SbtClient.ShutdownTimeout.readResolve">ShutdownTimeout</a>

  <span class="keyword">def</span> <a title="(baseDirectory: java.io.File, log: play.forkrun.Logger, logEvents: Boolean)akka.actor.Props" id="play.forkrun.SbtClient.props">props</a><span class="delimiter">(</span><a title="java.io.File" id="play.forkrun.SbtClient.props.baseDirectory">baseDirectory</a>: <span title="java.io.File">File</span>, <a title="play.forkrun.Logger" id="play.forkrun.SbtClient.props.log">log</a>: <a href="Logger.scala.html#play.forkrun;Logger" title="play.forkrun.Logger">Logger</a>, <a title="Boolean" id="play.forkrun.SbtClient.props.logEvents">logEvents</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="akka.actor.Props">Props</span> = <span title="(creator: =&gt; play.forkrun.SbtClient)(implicit evidence$2: scala.reflect.ClassTag[play.forkrun.SbtClient])akka.actor.Props">Props</span><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[play.forkrun.SbtClient]" class="delimiter">(</span><span title="play.forkrun.SbtClient" class="keyword">new</span> <a href="#play.forkrun;SbtClient" title="play.forkrun.SbtClient">SbtClient</a><span class="delimiter">(</span><a href="#play.forkrun.SbtClient.props.baseDirectory" title="java.io.File">baseDirectory</a>, <a href="#play.forkrun.SbtClient.props.log" title="play.forkrun.Logger">log</a>, <a href="#play.forkrun.SbtClient.props.logEvents" title="Boolean">logEvents</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span title="AnyRef" class="keyword">class</span> <a title="class SbtClient extends AnyRef with akka.actor.Actor" id="play.forkrun;SbtClient">SbtClient</a><a href="#play.forkrun;SbtClient" title="play.forkrun.SbtClient" class="delimiter">(</a><a title="java.io.File" id="play.forkrun;SbtClient.baseDirectory">baseDirectory</a>: <span title="java.io.File">File</span>, <a title="play.forkrun.Logger" id="play.forkrun;SbtClient.log">log</a>: <a href="Logger.scala.html#play.forkrun;Logger" title="play.forkrun.Logger">Logger</a>, <a title="Boolean" id="play.forkrun;SbtClient.logEvents">logEvents</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="akka.actor.Actor">Actor</span> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="#play.forkrun.SbtClient" title="play.forkrun.SbtClient.type">SbtClient</a>._

  <span class="keyword">val</span> <a title="sbt.client.SbtConnector" id="play.forkrun;SbtClient.connector">connector</a> = <span title="(configName: String, humanReadableName: String, directory: java.io.File)sbt.client.SbtConnector">SbtConnector</span><span class="delimiter">(</span><span title="String(&quot;play-fork-run&quot;)" class="string">&quot;play-fork-run&quot;</span>, <span title="String(&quot;Play Fork Run&quot;)" class="string">&quot;Play Fork Run&quot;</span>, <a href="#play.forkrun;SbtClient.baseDirectory" title="java.io.File">baseDirectory</a><span class="delimiter">)</span>
  <span class="keyword">val</span> <a title="akka.actor.ActorRef" id="play.forkrun;SbtClient.connection">connection</a> = <a href="#play.forkrun;SbtClient" title="=&gt; akka.actor.ActorContext">context</a>.<span title="(props: akka.actor.Props, name: String)akka.actor.ActorRef">actorOf</span><span class="delimiter">(</span><span title="sbt.client.actors.SbtConnectionProxy.type">SbtConnectionProxy</span>.<span title="(connector: sbt.client.SbtConnector, createClient: sbt.client.SbtChannel =&gt; sbt.client.SbtClient, builderProps: (sbt.client.actors.SbtConnectionProxy.NewClient, sbt.client.SbtClient =&gt; akka.actor.Props) =&gt; akka.actor.Props, clientProps: sbt.client.SbtClient =&gt; akka.actor.Props, notificationSink: sbt.client.actors.SbtConnectionProxy.Notification =&gt; Unit)(implicit ex: scala.concurrent.ExecutionContext)akka.actor.Props">props</span><span title="=&gt; scala.concurrent.ExecutionContextExecutor" class="delimiter">(</span><a href="#play.forkrun;SbtClient.connector" title="=&gt; sbt.client.SbtConnector">connector</a><span class="delimiter">)</span>, <span title="String(&quot;sbt-connection&quot;)" class="string">&quot;sbt-connection&quot;</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; SbtClient.this.Receive" id="play.forkrun;SbtClient.receive">receive</a>: <span title="SbtClient.this.Receive">Receive</span> = <a href="#play.forkrun;SbtClient.init" title="=&gt; SbtClient.this.Receive">init</a>

  <span class="keyword">def</span> <a title="=&gt; SbtClient.this.Receive" id="play.forkrun;SbtClient.init">init</a>: <span title="SbtClient.this.Receive">Receive</span> = <span class="delimiter">{</span>
    <a href="#play.forkrun;SbtClient.connection" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">connection</a> <a href="#play.forkrun;SbtClient" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <span title="sbt.client.actors.SbtConnectionProxy.type">SbtConnectionProxy</span>.<span title="(sendTo: akka.actor.ActorRef)sbt.client.actors.SbtConnectionProxy.NewClient">NewClient</span><span class="delimiter">(</span><a href="#play.forkrun;SbtClient" title="=&gt; akka.actor.ActorRef">self</a><span class="delimiter">)</span>
    <a href="#play.forkrun;SbtClient.connecting" title="(pending: Seq[play.forkrun.SbtClient.SbtRequest])SbtClient.this.Receive">connecting</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(client: akka.actor.ActorRef, pending: Seq[play.forkrun.SbtClient.SbtRequest])SbtClient.this.Receive" id="play.forkrun;SbtClient.awaitingDaemon">awaitingDaemon</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="play.forkrun;SbtClient.awaitingDaemon.client">client</a>: <span title="akka.actor.ActorRef">ActorRef</span>, <a title="Seq[play.forkrun.SbtClient.SbtRequest]" id="play.forkrun;SbtClient.awaitingDaemon$default$2">pending</a>: <span title="Seq[play.forkrun.SbtClient.SbtRequest]">Seq</span><span class="delimiter">[</span>SbtRequest<span class="delimiter">]</span> = <span title="scala.collection.Seq.type">Seq</span>.<span title="Seq[Nothing]">empty</span><span class="delimiter">)</span>: <span title="SbtClient.this.Receive">Receive</span> = <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="play.forkrun;SbtClient.awaitingDaemon;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    <span class="keyword">case</span> Terminated<span class="delimiter">(</span><a href="#play.forkrun;SbtClient.awaitingDaemon.client" title="akka.actor.ActorRef">`client`</a><span class="delimiter">)</span> =&gt; <a href="#play.forkrun;SbtClient.shutdownWithClient" title="(client: akka.actor.ActorRef)Unit">shutdownWithClient</a><span title="Boolean(true)" class="delimiter">(</span><a href="#play.forkrun;SbtClient.awaitingDaemon.client" title="akka.actor.ActorRef">client</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="sbt.client.actors.SbtClientProxy.type">SbtClientProxy</span>.<span title="sbt.client.actors.SbtClientProxy.DaemonSet.type">DaemonSet</span> =&gt;
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.forkrun;SbtClient.logEvents" title="Boolean">logEvents</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="akka.actor.ActorRef" id="play.forkrun;SbtClient.awaitingDaemon;$anonfun.applyOrElse.events">events</a> = <a href="#play.forkrun;SbtClient" title="=&gt; akka.actor.ActorContext">context</a>.<span title="(props: akka.actor.Props, name: String)akka.actor.ActorRef">actorOf</span><span class="delimiter">(</span><a href="#play.forkrun.SbtEvents" title="play.forkrun.SbtEvents.type">SbtEvents</a>.<a href="#play.forkrun.SbtEvents.props" title="(logger: play.forkrun.Logger)akka.actor.Props">props</a><span class="delimiter">(</span><a href="#play.forkrun;SbtClient.log" title="play.forkrun.Logger">log</a><span class="delimiter">)</span>, <span title="String(&quot;sbt-server-events&quot;)" class="string">&quot;sbt-server-events&quot;</span><span class="delimiter">)</span>
        <a href="#play.forkrun;SbtClient.awaitingDaemon.client" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">client</a> <a href="#play.forkrun;SbtClient" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <span title="sbt.client.actors.SbtClientProxy.type">SbtClientProxy</span>.<span title="(sendTo: akka.actor.ActorRef)sbt.client.actors.SbtClientProxy.SubscribeToEvents">SubscribeToEvents</span><span class="delimiter">(</span>sendTo = <a href="#play.forkrun;SbtClient.awaitingDaemon;$anonfun.applyOrElse.events" title="akka.actor.ActorRef">events</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#play.forkrun;SbtClient.awaitingDaemon$default$2" title="Seq[play.forkrun.SbtClient.SbtRequest]">pending</a> <span title="(f: play.forkrun.SbtClient.SbtRequest =&gt; Unit)Unit">foreach</span> <a href="#play.forkrun;SbtClient" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">self</a>.<a href="#play.forkrun;SbtClient.awaitingDaemon;$anonfun.applyOrElse.$anonfun.message" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a>
      <a href="#play.forkrun;SbtClient" title="=&gt; akka.actor.ActorContext">context</a> <span title="(behavior: akka.actor.Actor.Receive)Unit">become</span> <a href="#play.forkrun;SbtClient.active" title="(client: akka.actor.ActorRef)SbtClient.this.Receive">active</a><span class="delimiter">(</span><a href="#play.forkrun;SbtClient.awaitingDaemon.client" title="akka.actor.ActorRef">client</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="play.forkrun.SbtClient.SbtRequest" id="play.forkrun;SbtClient.awaitingDaemon;$anonfun.isDefinedAt.request">request</a>: <a href="#play.forkrun.SbtClient;SbtRequest" title="play.forkrun.SbtClient.SbtRequest">SbtRequest</a> =&gt;
      <a href="#play.forkrun;SbtClient" title="=&gt; akka.actor.ActorContext">context</a> <span title="(behavior: akka.actor.Actor.Receive)Unit">become</span> <a href="#play.forkrun;SbtClient.awaitingDaemon" title="(client: akka.actor.ActorRef, pending: Seq[play.forkrun.SbtClient.SbtRequest])SbtClient.this.Receive">awaitingDaemon</a><span class="delimiter">(</span><a href="#play.forkrun;SbtClient.awaitingDaemon.client" title="akka.actor.ActorRef">client</a>, <a href="#play.forkrun;SbtClient.awaitingDaemon$default$2" title="Seq[play.forkrun.SbtClient.SbtRequest]">pending</a> <span title="(elem: play.forkrun.SbtClient.SbtRequest)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[play.forkrun.SbtClient.SbtRequest],play.forkrun.SbtClient.SbtRequest,Seq[play.forkrun.SbtClient.SbtRequest]])Seq[play.forkrun.SbtClient.SbtRequest]">:+</span> <a href="#play.forkrun;SbtClient.awaitingDaemon;$anonfun.isDefinedAt.request" title="play.forkrun.SbtClient.SbtRequest">request</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a href="#play.forkrun.SbtClient.Shutdown.readResolve" title="play.forkrun.SbtClient.Shutdown.type">Shutdown</a> =&gt; <a href="#play.forkrun;SbtClient.shutdownWithClient" title="(client: akka.actor.ActorRef)Unit">shutdownWithClient</a><span title="Boolean(true)" class="delimiter">(</span><a href="#play.forkrun;SbtClient.awaitingDaemon.client" title="akka.actor.ActorRef">client</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(pending: Seq[play.forkrun.SbtClient.SbtRequest])SbtClient.this.Receive" id="play.forkrun;SbtClient.connecting">connecting</a><span class="delimiter">(</span><a title="Seq[play.forkrun.SbtClient.SbtRequest]" id="play.forkrun;SbtClient.connecting$default$1">pending</a>: <span title="Seq[play.forkrun.SbtClient.SbtRequest]">Seq</span><span class="delimiter">[</span>SbtRequest<span class="delimiter">]</span> = <span title="scala.collection.Seq.type">Seq</span>.<span title="Seq[Nothing]">empty</span><span class="delimiter">)</span>: <span title="SbtClient.this.Receive">Receive</span> = <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="play.forkrun;SbtClient.connecting;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    <span class="keyword">case</span> SbtConnectionProxy.NewClientResponse.Connected<span class="delimiter">(</span><a title="akka.actor.ActorRef" id="play.forkrun;SbtClient.connecting;$anonfun.isDefinedAt.client">client</a><span class="delimiter">)</span> =&gt;
      <span class="comment">// The SbtClientProxy will close and terminate if there is a non-recoverable error</span>
      <a href="#play.forkrun;SbtClient" title="=&gt; akka.actor.ActorContext">context</a>.<span title="(subject: akka.actor.ActorRef)akka.actor.ActorRef">watch</span><span class="delimiter">(</span><a href="#play.forkrun;SbtClient.connecting;$anonfun.isDefinedAt.client" title="akka.actor.ActorRef">client</a><span class="delimiter">)</span>
      <a href="#play.forkrun;SbtClient.connecting;$anonfun.isDefinedAt.client" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">client</a> <a href="#play.forkrun;SbtClient" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <span title="sbt.client.actors.SbtClientProxy.type">SbtClientProxy</span>.<span title="(daemon: Boolean, sendTo: akka.actor.ActorRef)sbt.client.actors.SbtClientProxy.SetDaemon">SetDaemon</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <a href="#play.forkrun;SbtClient" title="=&gt; akka.actor.ActorRef">self</a><span class="delimiter">)</span>
      <a href="#play.forkrun;SbtClient" title="=&gt; akka.actor.ActorContext">context</a> <span title="(behavior: akka.actor.Actor.Receive)Unit">become</span> <a href="#play.forkrun;SbtClient.awaitingDaemon" title="(client: akka.actor.ActorRef, pending: Seq[play.forkrun.SbtClient.SbtRequest])SbtClient.this.Receive">awaitingDaemon</a><span class="delimiter">(</span><a href="#play.forkrun;SbtClient.connecting;$anonfun.isDefinedAt.client" title="akka.actor.ActorRef">client</a>, <a href="#play.forkrun;SbtClient.connecting$default$1" title="Seq[play.forkrun.SbtClient.SbtRequest]">pending</a><span class="delimiter">)</span>
    <span class="keyword">case</span> SbtConnectionProxy.NewClientResponse.Error<span class="delimiter">(</span><a title="Boolean" id="play.forkrun;SbtClient.connecting;$anonfun.isDefinedAt.recoverable">recoverable</a>, <a title="String" id="play.forkrun;SbtClient.connecting;$anonfun.isDefinedAt.error">error</a><span class="delimiter">)</span> =&gt;
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#play.forkrun;SbtClient.connecting;$anonfun.isDefinedAt.recoverable" title="Boolean">recoverable</a><span class="delimiter">)</span> <a href="#play.forkrun;SbtClient.fail" title="(error: Throwable, requests: Seq[play.forkrun.SbtClient.SbtRequest])Unit">fail</a><span class="delimiter">(</span><span title="(x$1: String)Exception" class="keyword">new</span> <span title="Exception">Exception</span><span class="delimiter">(</span><a href="#play.forkrun;SbtClient.connecting;$anonfun.isDefinedAt.error" title="String">error</a><span class="delimiter">)</span>, <a href="#play.forkrun;SbtClient.connecting$default$1" title="Seq[play.forkrun.SbtClient.SbtRequest]">pending</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="play.forkrun.SbtClient.SbtRequest" id="play.forkrun;SbtClient.connecting;$anonfun.isDefinedAt.request">request</a>: <a href="#play.forkrun.SbtClient;SbtRequest" title="play.forkrun.SbtClient.SbtRequest">SbtRequest</a> =&gt;
      <a href="#play.forkrun;SbtClient" title="=&gt; akka.actor.ActorContext">context</a> <span title="(behavior: akka.actor.Actor.Receive)Unit">become</span> <a href="#play.forkrun;SbtClient.connecting" title="(pending: Seq[play.forkrun.SbtClient.SbtRequest])SbtClient.this.Receive">connecting</a><span class="delimiter">(</span><a href="#play.forkrun;SbtClient.connecting$default$1" title="Seq[play.forkrun.SbtClient.SbtRequest]">pending</a> <span title="(elem: play.forkrun.SbtClient.SbtRequest)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[play.forkrun.SbtClient.SbtRequest],play.forkrun.SbtClient.SbtRequest,Seq[play.forkrun.SbtClient.SbtRequest]])Seq[play.forkrun.SbtClient.SbtRequest]">:+</span> <a href="#play.forkrun;SbtClient.connecting;$anonfun.isDefinedAt.request" title="play.forkrun.SbtClient.SbtRequest">request</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a href="#play.forkrun.SbtClient.Shutdown.readResolve" title="play.forkrun.SbtClient.Shutdown.type">Shutdown</a> =&gt; <a href="#play.forkrun;SbtClient.shutdown" title="()Unit">shutdown</a><span title="Boolean(true)" class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(client: akka.actor.ActorRef)SbtClient.this.Receive" id="play.forkrun;SbtClient.active">active</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="play.forkrun;SbtClient.active.client">client</a>: <span title="akka.actor.ActorRef">ActorRef</span><span class="delimiter">)</span>: <span title="SbtClient.this.Receive">Receive</span> = <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="play.forkrun;SbtClient.active;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    <span class="keyword">case</span> Terminated<span class="delimiter">(</span><a href="#play.forkrun;SbtClient.active.client" title="akka.actor.ActorRef">`client`</a><span class="delimiter">)</span> =&gt; <a href="#play.forkrun;SbtClient.shutdownWithClient" title="(client: akka.actor.ActorRef)Unit">shutdownWithClient</a><span title="Boolean(true)" class="delimiter">(</span><a href="#play.forkrun;SbtClient.active.client" title="akka.actor.ActorRef">client</a><span class="delimiter">)</span>
    <span class="keyword">case</span> Execute<span class="delimiter">(</span><a title="String" id="play.forkrun;SbtClient.active;$anonfun.isDefinedAt.input">input</a><span class="delimiter">)</span> =&gt;
      <a href="#play.forkrun;SbtClient.active.client" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">client</a> <a href="#play.forkrun;SbtClient" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <span title="sbt.client.actors.SbtClientProxy.type">SbtClientProxy</span>.<span title="sbt.client.actors.SbtClientProxy.RequestExecution.type">RequestExecution</span>.<span title="(commandOrTask: String, interaction: Option[(sbt.client.Interaction, scala.concurrent.ExecutionContext)], sendTo: akka.actor.ActorRef)sbt.client.actors.SbtClientProxy.RequestExecution.ByCommandOrTask">ByCommandOrTask</span><span class="delimiter">(</span><a href="#play.forkrun;SbtClient.active;$anonfun.isDefinedAt.input" title="String">input</a>, interaction = <span title="None.type">None</span>, sendTo = <a href="#play.forkrun;SbtClient" title="=&gt; akka.actor.ActorRef">self</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="play.forkrun.SbtClient.Request" id="play.forkrun;SbtClient.active;$anonfun.isDefinedAt.request">request</a> @ Request<span class="delimiter">(</span><a title="String" id="play.forkrun;SbtClient.active;$anonfun.isDefinedAt.key">key</a>, <a title="akka.actor.ActorRef" id="play.forkrun;SbtClient.active;$anonfun.isDefinedAt.sendTo">sendTo</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">val</span> <a title="String" id="play.forkrun;SbtClient.active;$anonfun.applyOrElse.name">name</a> = java.net.<span title="java.net.URLEncoder.type">URLEncoder</span>.<span title="(x$1: String, x$2: String)String">encode</span><span class="delimiter">(</span><a href="#play.forkrun;SbtClient.active;$anonfun.isDefinedAt.key" title="String">key</a>, <span title="String(&quot;utf-8&quot;)" class="string">&quot;utf-8&quot;</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="akka.actor.ActorRef" id="play.forkrun;SbtClient.active;$anonfun.applyOrElse.task">task</a> = <a href="#play.forkrun;SbtClient" title="=&gt; akka.actor.ActorContext">context</a>.<span title="(name: String)Option[akka.actor.ActorRef]">child</span><span class="delimiter">(</span><a href="#play.forkrun;SbtClient.active;$anonfun.applyOrElse.name" title="String">name</a><span class="delimiter">)</span> <span title="(default: =&gt; akka.actor.ActorRef)akka.actor.ActorRef">getOrElse</span> <a href="#play.forkrun;SbtClient" title="=&gt; akka.actor.ActorContext">context</a>.<span title="(props: akka.actor.Props, name: String)akka.actor.ActorRef">actorOf</span><span class="delimiter">(</span><a href="#play.forkrun.SbtTask" title="play.forkrun.SbtTask.type">SbtTask</a>.<a href="#play.forkrun.SbtTask.props" title="(name: String, client: akka.actor.ActorRef)akka.actor.Props">props</a><span class="delimiter">(</span><a href="#play.forkrun;SbtClient.active;$anonfun.isDefinedAt.key" title="String">key</a>, <a href="#play.forkrun;SbtClient.active.client" title="akka.actor.ActorRef">client</a><span class="delimiter">)</span>, <a href="#play.forkrun;SbtClient.active;$anonfun.applyOrElse.name" title="String">name</a><span class="delimiter">)</span>
      <a href="#play.forkrun;SbtClient.active;$anonfun.applyOrElse.task" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">task</a> <a href="#play.forkrun;SbtClient" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#play.forkrun;SbtClient.active;$anonfun.isDefinedAt.request" title="play.forkrun.SbtClient.Request">request</a>
    <span class="keyword">case</span> <a href="#play.forkrun.SbtClient.Shutdown.readResolve" title="play.forkrun.SbtClient.Shutdown.type">Shutdown</a> =&gt; <a href="#play.forkrun;SbtClient.shutdownWithClient" title="(client: akka.actor.ActorRef)Unit">shutdownWithClient</a><span title="Boolean(true)" class="delimiter">(</span><a href="#play.forkrun;SbtClient.active.client" title="akka.actor.ActorRef">client</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(error: Throwable, requests: Seq[play.forkrun.SbtClient.SbtRequest])Unit" id="play.forkrun;SbtClient.fail">fail</a><span class="delimiter">(</span><a title="Throwable" id="play.forkrun;SbtClient.fail.error">error</a>: <span title="Throwable">Throwable</span>, <a title="Seq[play.forkrun.SbtClient.SbtRequest]" id="play.forkrun;SbtClient.fail.requests">requests</a>: <span title="Seq[play.forkrun.SbtClient.SbtRequest]">Seq</span><span class="delimiter">[</span>SbtRequest<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#play.forkrun;SbtClient.fail.requests" title="Seq[play.forkrun.SbtClient.SbtRequest]">requests</a> <span title="(f: play.forkrun.SbtClient.SbtRequest =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="play.forkrun.SbtClient.SbtRequest" id="play.forkrun;SbtClient.fail.$anonfun.request">request</a> =&gt;
      <a href="#play.forkrun;SbtClient.fail.$anonfun.request" title="play.forkrun.SbtClient.SbtRequest">request</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> Request<span class="delimiter">(</span>_, <a title="akka.actor.ActorRef" id="play.forkrun;SbtClient.fail.$anonfun.sendTo">sendTo</a><span class="delimiter">)</span> =&gt; <a href="#play.forkrun;SbtClient.fail.$anonfun.sendTo" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">sendTo</a> <a href="#play.forkrun;SbtClient" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#play.forkrun.SbtClient.Failed.readResolve" title="(error: Throwable)play.forkrun.SbtClient.Failed">Failed</a><span class="delimiter">(</span><a href="#play.forkrun;SbtClient.fail.error" title="Throwable">error</a><span class="delimiter">)</span>
        <span class="keyword">case</span> _ =&gt; <span class="comment">// ignore</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#play.forkrun;SbtClient" title="=&gt; akka.actor.ActorContext">context</a> <span title="(behavior: akka.actor.Actor.Receive)Unit">become</span> <a href="#play.forkrun;SbtClient.broken" title="(error: Throwable)SbtClient.this.Receive">broken</a><span class="delimiter">(</span><a href="#play.forkrun;SbtClient.fail.error" title="Throwable">error</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(error: Throwable)SbtClient.this.Receive" id="play.forkrun;SbtClient.broken">broken</a><span class="delimiter">(</span><a title="Throwable" id="play.forkrun;SbtClient.broken.error">error</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span>: <span title="SbtClient.this.Receive">Receive</span> = <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="play.forkrun;SbtClient.broken;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    <span class="keyword">case</span> <a title="play.forkrun.SbtClient.Request" id="play.forkrun;SbtClient.broken;$anonfun.isDefinedAt.request">request</a>: <a href="#play.forkrun.SbtClient.Request.readResolve" title="play.forkrun.SbtClient.Request">Request</a> =&gt; <a href="#play.forkrun;SbtClient.broken;$anonfun.isDefinedAt.request" title="play.forkrun.SbtClient.Request">request</a>.<a href="#play.forkrun.SbtClient;Request.sendTo" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">sendTo</a> <a href="#play.forkrun;SbtClient" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#play.forkrun.SbtClient.Failed.readResolve" title="(error: Throwable)play.forkrun.SbtClient.Failed">Failed</a><span class="delimiter">(</span><a href="#play.forkrun;SbtClient.broken.error" title="Throwable">error</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a href="#play.forkrun.SbtClient.Shutdown.readResolve" title="play.forkrun.SbtClient.Shutdown.type">Shutdown</a> =&gt; <a href="#play.forkrun;SbtClient.shutdown" title="()Unit">shutdown</a><span title="Boolean(true)" class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(client: akka.actor.ActorRef)Unit" id="play.forkrun;SbtClient.shutdownWithClient">shutdownWithClient</a><span class="delimiter">(</span><a title="akka.actor.ActorRef" id="play.forkrun;SbtClient.shutdownWithClient.client">client</a>: <span title="akka.actor.ActorRef">ActorRef</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#play.forkrun;SbtClient" title="=&gt; akka.actor.ActorContext">context</a>.<span title="(subject: akka.actor.ActorRef)akka.actor.ActorRef">unwatch</span><span class="delimiter">(</span><a href="#play.forkrun;SbtClient.shutdownWithClient.client" title="akka.actor.ActorRef">client</a><span class="delimiter">)</span>
    <a href="#play.forkrun;SbtClient.shutdown" title="()Unit">shutdown</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="()Unit" id="play.forkrun;SbtClient.shutdown">shutdown</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#play.forkrun;SbtClient.connection" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">connection</a> <a href="#play.forkrun;SbtClient" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <span title="sbt.client.actors.SbtConnectionProxy.type">SbtConnectionProxy</span>.<span title="(sendTo: akka.actor.ActorRef)sbt.client.actors.SbtConnectionProxy.Close">Close</span><span class="delimiter">(</span><a href="#play.forkrun;SbtClient" title="=&gt; akka.actor.ActorRef">self</a><span class="delimiter">)</span>
    <a href="#play.forkrun;SbtClient" title="=&gt; akka.actor.ActorContext">context</a> <span title="(behavior: akka.actor.Actor.Receive)Unit">become</span> <a href="#play.forkrun;SbtClient.exiting" title="=&gt; SbtClient.this.Receive">exiting</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; SbtClient.this.Receive" id="play.forkrun;SbtClient.exiting">exiting</a>: <span title="SbtClient.this.Receive">Receive</span> = <span class="delimiter">{</span>
    <span class="comment">// can only wait so long - set up race.</span>
    <a href="#play.forkrun;SbtClient" title="=&gt; akka.actor.ActorContext">context</a>.<span title="=&gt; akka.actor.ActorSystem">system</span>.<span title="=&gt; akka.actor.Scheduler">scheduler</span>.<span title="(delay: scala.concurrent.duration.FiniteDuration, receiver: akka.actor.ActorRef, message: Any)(implicit executor: scala.concurrent.ExecutionContext, implicit sender: akka.actor.ActorRef)akka.actor.Cancellable">scheduleOnce</span><a href="#play.forkrun;SbtClient" title="=&gt; scala.concurrent.ExecutionContextExecutor" class="delimiter">(</a><span title="implicit scala.concurrent.duration.package.DurationInt : (n: Int)concurrent.duration.DurationInt" class="int">10</span>.<span title="=&gt; scala.concurrent.duration.FiniteDuration">seconds</span>, <a href="#play.forkrun;SbtClient" title="=&gt; akka.actor.ActorRef">self</a>, <a href="#play.forkrun.SbtClient.ShutdownTimeout.readResolve" title="play.forkrun.SbtClient.ShutdownTimeout.type">ShutdownTimeout</a><span class="delimiter">)</span>

    <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="play.forkrun;SbtClient.exiting;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="sbt.client.actors.SbtConnectionProxy.type">SbtConnectionProxy</span>.<span title="sbt.client.actors.SbtConnectionProxy.Closed.type">Closed</span> | <a href="#play.forkrun.SbtClient.ShutdownTimeout.readResolve" title="play.forkrun.SbtClient.ShutdownTimeout.type">ShutdownTimeout</a> =&gt; <a href="#play.forkrun;SbtClient" title="=&gt; akka.actor.ActorContext">context</a>.<span title="=&gt; akka.actor.ActorSystem">system</span>.<span title="()Unit">shutdown</span><span title="Boolean(true)" class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="play.forkrun.SbtEvents.type" id="play.forkrun.SbtEvents">SbtEvents</a> <a href="#play.forkrun.SbtEvents" title="play.forkrun.SbtEvents.type" class="delimiter">{</a>
  <span class="keyword">def</span> <a title="(logger: play.forkrun.Logger)akka.actor.Props" id="play.forkrun.SbtEvents.props">props</a><span class="delimiter">(</span><a title="play.forkrun.Logger" id="play.forkrun.SbtEvents.props.logger">logger</a>: <a href="Logger.scala.html#play.forkrun;Logger" title="play.forkrun.Logger">Logger</a><span class="delimiter">)</span>: <span title="akka.actor.Props">Props</span> = <span title="(creator: =&gt; play.forkrun.SbtEvents)(implicit evidence$2: scala.reflect.ClassTag[play.forkrun.SbtEvents])akka.actor.Props">Props</span><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[play.forkrun.SbtEvents]" class="delimiter">(</span><span title="play.forkrun.SbtEvents" class="keyword">new</span> <a href="#play.forkrun;SbtEvents" title="play.forkrun.SbtEvents">SbtEvents</a><span class="delimiter">(</span><a href="#play.forkrun.SbtEvents.props.logger" title="play.forkrun.Logger">logger</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span title="AnyRef" class="keyword">class</span> <a title="class SbtEvents extends AnyRef with akka.actor.Actor" id="play.forkrun;SbtEvents">SbtEvents</a><a href="#play.forkrun;SbtEvents" title="play.forkrun.SbtEvents" class="delimiter">(</a><a title="play.forkrun.Logger" id="play.forkrun;SbtEvents.logger">logger</a>: <a href="Logger.scala.html#play.forkrun;Logger" title="play.forkrun.Logger">Logger</a><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="akka.actor.Actor">Actor</span> <span class="delimiter">{</span>
  <span class="keyword">import</span> sbt.protocol._

  <span class="keyword">def</span> <a title="=&gt; PartialFunction[Any,Unit]" id="play.forkrun;SbtEvents.receive">receive</a> = <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="play.forkrun;SbtEvents.receive;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    <span class="keyword">case</span> TaskLogEvent<span class="delimiter">(</span><a title="Long" id="play.forkrun;SbtEvents.receive;$anonfun.isDefinedAt.id">id</a>, LogMessage<span class="delimiter">(</span><a title="String" id="play.forkrun;SbtEvents.receive;$anonfun.isDefinedAt.level">level</a>, <a title="String" id="play.forkrun;SbtEvents.receive;$anonfun.isDefinedAt.message">message</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.forkrun;SbtEvents.accepted" title="(message: String)Boolean">accepted</a><span class="delimiter">(</span><a href="#play.forkrun;SbtEvents.receive;$anonfun.isDefinedAt.message" title="String">message</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#play.forkrun;SbtEvents.logger" title="play.forkrun.Logger">logger</a>.<a href="Logger.scala.html#play.forkrun;Logger.log(23c02cef8d)" title="(level: String, message: =&gt; String)Unit">log</a><span class="delimiter">(</span><a href="#play.forkrun;SbtEvents.receive;$anonfun.isDefinedAt.level" title="String">level</a>, <a href="#play.forkrun;SbtEvents.receive;$anonfun.isDefinedAt.message" title="String">message</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">// log events from sbt server currently have duplicates that are</span>
  <span class="comment">// taken from standard out and prefixed with &quot;Read from stdout: &quot;</span>
  <span class="keyword">def</span> <a title="(message: String)Boolean" id="play.forkrun;SbtEvents.accepted">accepted</a><span class="delimiter">(</span><a title="String" id="play.forkrun;SbtEvents.accepted.message">message</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#play.forkrun;SbtEvents.accepted.message" title="String">message</a> <span title="(x$1: String)Boolean">startsWith</span> <span title="String(&quot;Read from stdout: &quot;)" class="string">&quot;Read from stdout: &quot;</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="play.forkrun.SbtTask.type" id="play.forkrun.SbtTask">SbtTask</a> <a href="#play.forkrun.SbtTask" title="play.forkrun.SbtTask.type" class="delimiter">{</a>
  <span class="keyword">def</span> <a title="(name: String, client: akka.actor.ActorRef)akka.actor.Props" id="play.forkrun.SbtTask.props">props</a><span class="delimiter">(</span><a title="String" id="play.forkrun.SbtTask.props.name">name</a>: <span title="String">String</span>, <a title="akka.actor.ActorRef" id="play.forkrun.SbtTask.props.client">client</a>: <span title="akka.actor.ActorRef">ActorRef</span><span class="delimiter">)</span>: <span title="akka.actor.Props">Props</span> = <span title="(creator: =&gt; play.forkrun.SbtTask)(implicit evidence$2: scala.reflect.ClassTag[play.forkrun.SbtTask])akka.actor.Props">Props</span><span title="(runtimeClass1: Class[_])scala.reflect.ClassTag[play.forkrun.SbtTask]" class="delimiter">(</span><span title="play.forkrun.SbtTask" class="keyword">new</span> <a href="#play.forkrun;SbtTask" title="play.forkrun.SbtTask">SbtTask</a><span class="delimiter">(</span><a href="#play.forkrun.SbtTask.props.name" title="String">name</a>, <a href="#play.forkrun.SbtTask.props.client" title="akka.actor.ActorRef">client</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span title="AnyRef" class="keyword">class</span> <a title="class SbtTask extends AnyRef with akka.actor.Actor" id="play.forkrun;SbtTask">SbtTask</a><a href="#play.forkrun;SbtTask" title="play.forkrun.SbtTask" class="delimiter">(</a><a title="String" id="play.forkrun;SbtTask.name">name</a>: <span title="String">String</span>, <a title="akka.actor.ActorRef" id="play.forkrun;SbtTask.client">client</a>: <span title="akka.actor.ActorRef">ActorRef</span><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="akka.actor.Actor">Actor</span> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="#play.forkrun.SbtClient" title="play.forkrun.SbtClient.type">SbtClient</a>.<span class="delimiter">{</span> Request, Response, Failed <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; SbtTask.this.Receive" id="play.forkrun;SbtTask.receive">receive</a>: <span title="SbtTask.this.Receive">Receive</span> = <a href="#play.forkrun;SbtTask.init" title="=&gt; SbtTask.this.Receive">init</a>

  <span class="keyword">def</span> <a title="=&gt; SbtTask.this.Receive" id="play.forkrun;SbtTask.init">init</a>: <span title="SbtTask.this.Receive">Receive</span> = <span class="delimiter">{</span>
    <a href="#play.forkrun;SbtTask.client" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">client</a> <a href="#play.forkrun;SbtTask" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <span title="sbt.client.actors.SbtClientProxy.type">SbtClientProxy</span>.<span title="(name: String, sendTo: akka.actor.ActorRef)sbt.client.actors.SbtClientProxy.LookupScopedKey">LookupScopedKey</span><span class="delimiter">(</span><a href="#play.forkrun;SbtTask.name" title="String">name</a>, <a href="#play.forkrun;SbtTask" title="=&gt; akka.actor.ActorRef">self</a><span class="delimiter">)</span>
    <a href="#play.forkrun;SbtTask.connecting" title="(pending: Seq[play.forkrun.SbtClient.Request])SbtTask.this.Receive">connecting</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(pending: Seq[play.forkrun.SbtClient.Request])SbtTask.this.Receive" id="play.forkrun;SbtTask.connecting">connecting</a><span class="delimiter">(</span><a title="Seq[play.forkrun.SbtClient.Request]" id="play.forkrun;SbtTask.connecting$default$1">pending</a>: <span title="Seq[play.forkrun.SbtClient.Request]">Seq</span><span class="delimiter">[</span>Request<span class="delimiter">]</span> = <span title="scala.collection.Seq.type">Seq</span>.<span title="Seq[Nothing]">empty</span><span class="delimiter">)</span>: <span title="SbtTask.this.Receive">Receive</span> = <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="play.forkrun;SbtTask.connecting;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    <span class="keyword">case</span> <a title="play.forkrun.SbtClient.Request" id="play.forkrun;SbtTask.connecting;$anonfun.isDefinedAt.request">request</a>: <a href="#play.forkrun.SbtClient.Request.readResolve" title="play.forkrun.SbtClient.Request">Request</a> =&gt;
      <a href="#play.forkrun;SbtTask" title="=&gt; akka.actor.ActorContext">context</a> <span title="(behavior: akka.actor.Actor.Receive)Unit">become</span> <a href="#play.forkrun;SbtTask.connecting" title="(pending: Seq[play.forkrun.SbtClient.Request])SbtTask.this.Receive">connecting</a><span class="delimiter">(</span><a href="#play.forkrun;SbtTask.connecting$default$1" title="Seq[play.forkrun.SbtClient.Request]">pending</a> <span title="(elem: play.forkrun.SbtClient.Request)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[play.forkrun.SbtClient.Request],play.forkrun.SbtClient.Request,Seq[play.forkrun.SbtClient.Request]])Seq[play.forkrun.SbtClient.Request]">:+</span> <a href="#play.forkrun;SbtTask.connecting;$anonfun.isDefinedAt.request" title="play.forkrun.SbtClient.Request">request</a><span class="delimiter">)</span>
    <span class="keyword">case</span> SbtClientProxy.LookupScopedKeyResponse<span class="delimiter">(</span><span title="String">name</span>, Success<span class="delimiter">(</span><a title="Seq[sbt.protocol.ScopedKey]" id="play.forkrun;SbtTask.connecting;$anonfun.isDefinedAt.keys">keys</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.forkrun;SbtTask.connecting;$anonfun.isDefinedAt.keys" title="Seq[sbt.protocol.ScopedKey]">keys</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#play.forkrun;SbtTask.fail" title="(error: Throwable, requests: Seq[play.forkrun.SbtClient.Request])Unit">fail</a><span class="delimiter">(</span><span title="(x$1: String)Exception" class="keyword">new</span> <span title="Exception">Exception</span><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;No sbt key found for &quot;)">No sbt key found for $</span><span title="String">name</span><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>, <a href="#play.forkrun;SbtTask.connecting$default$1" title="Seq[play.forkrun.SbtClient.Request]">pending</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#play.forkrun;SbtTask.client" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">client</a> <a href="#play.forkrun;SbtTask" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <span title="sbt.client.actors.SbtClientProxy.type">SbtClientProxy</span>.<span title="(key: sbt.client.TaskKey[_], sendTo: akka.actor.ActorRef)sbt.client.actors.SbtClientProxy.WatchTask">WatchTask</span><span class="delimiter">(</span><span title="(key: sbt.protocol.ScopedKey)sbt.client.TaskKey[Nothing]">TaskKey</span><span class="delimiter">(</span><a href="#play.forkrun;SbtTask.connecting;$anonfun.isDefinedAt.keys" title="Seq[sbt.protocol.ScopedKey]">keys</a>.<span title="=&gt; sbt.protocol.ScopedKey">head</span><span class="delimiter">)</span>, <a href="#play.forkrun;SbtTask" title="=&gt; akka.actor.ActorRef">self</a><span class="delimiter">)</span>
    <span class="keyword">case</span> SbtClientProxy.LookupScopedKeyResponse<span class="delimiter">(</span><span title="String">name</span>, Failure<span class="delimiter">(</span><a title="Throwable" id="play.forkrun;SbtTask.connecting;$anonfun.isDefinedAt.error">error</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
      <a href="#play.forkrun;SbtTask.fail" title="(error: Throwable, requests: Seq[play.forkrun.SbtClient.Request])Unit">fail</a><span title="Boolean(true)" class="delimiter">(</span><a href="#play.forkrun;SbtTask.connecting;$anonfun.isDefinedAt.error" title="Throwable">error</a>, <a href="#play.forkrun;SbtTask.connecting$default$1" title="Seq[play.forkrun.SbtClient.Request]">pending</a><span class="delimiter">)</span>
    <span class="keyword">case</span> SbtClientProxy.WatchingTask<span class="delimiter">(</span><a title="sbt.client.TaskKey[_]" id="play.forkrun;SbtTask.connecting;$anonfun.isDefinedAt.taskKey">taskKey</a><span class="delimiter">)</span> =&gt;
      <a href="#play.forkrun;SbtTask.connecting$default$1" title="Seq[play.forkrun.SbtClient.Request]">pending</a> <span title="(f: play.forkrun.SbtClient.Request =&gt; Unit)Unit">foreach</span> <a href="#play.forkrun;SbtTask" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">self</a>.<a href="#play.forkrun;SbtTask.connecting;$anonfun.applyOrElse.$anonfun.message" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a>
      <a href="#play.forkrun;SbtTask" title="=&gt; akka.actor.ActorContext">context</a> <span title="(behavior: akka.actor.Actor.Receive)Unit">become</span> <a href="#play.forkrun;SbtTask.active" title="(key: sbt.protocol.ScopedKey, requests: Seq[play.forkrun.SbtClient.Request])SbtTask.this.Receive">active</a><span class="delimiter">(</span><a href="#play.forkrun;SbtTask.connecting;$anonfun.isDefinedAt.taskKey" title="sbt.client.TaskKey[_]">taskKey</a>.<span title="=&gt; sbt.protocol.ScopedKey">key</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(key: sbt.protocol.ScopedKey, requests: Seq[play.forkrun.SbtClient.Request])SbtTask.this.Receive" id="play.forkrun;SbtTask.active">active</a><span class="delimiter">(</span><a title="sbt.protocol.ScopedKey" id="play.forkrun;SbtTask.active.key">key</a>: <span title="sbt.protocol.ScopedKey">ScopedKey</span>, <a title="Seq[play.forkrun.SbtClient.Request]" id="play.forkrun;SbtTask.active$default$2">requests</a>: <span title="Seq[play.forkrun.SbtClient.Request]">Seq</span><span class="delimiter">[</span>Request<span class="delimiter">]</span> = <span title="scala.collection.Seq.type">Seq</span>.<span title="Seq[Nothing]">empty</span><span class="delimiter">)</span>: <span title="SbtTask.this.Receive">Receive</span> = <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="play.forkrun;SbtTask.active;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    <span class="keyword">case</span> <a title="play.forkrun.SbtClient.Request" id="play.forkrun;SbtTask.active;$anonfun.isDefinedAt.request">request</a>: <a href="#play.forkrun.SbtClient.Request.readResolve" title="play.forkrun.SbtClient.Request">Request</a> =&gt;
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.forkrun;SbtTask.active$default$2" title="Seq[play.forkrun.SbtClient.Request]">requests</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#play.forkrun;SbtTask.client" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">client</a> <a href="#play.forkrun;SbtTask" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <span title="sbt.client.actors.SbtClientProxy.type">SbtClientProxy</span>.<span title="sbt.client.actors.SbtClientProxy.RequestExecution.type">RequestExecution</span>.<span title="(key: sbt.protocol.ScopedKey, interaction: Option[(sbt.client.Interaction, scala.concurrent.ExecutionContext)], sendTo: akka.actor.ActorRef)sbt.client.actors.SbtClientProxy.RequestExecution.ByScopedKey">ByScopedKey</span><span class="delimiter">(</span><a href="#play.forkrun;SbtTask.active.key" title="sbt.protocol.ScopedKey">key</a>, interaction = <span title="None.type">None</span>, sendTo = <a href="#play.forkrun;SbtTask" title="=&gt; akka.actor.ActorRef">self</a><span class="delimiter">)</span>
      <a href="#play.forkrun;SbtTask" title="=&gt; akka.actor.ActorContext">context</a> <span title="(behavior: akka.actor.Actor.Receive)Unit">become</span> <a href="#play.forkrun;SbtTask.active" title="(key: sbt.protocol.ScopedKey, requests: Seq[play.forkrun.SbtClient.Request])SbtTask.this.Receive">active</a><span class="delimiter">(</span><a href="#play.forkrun;SbtTask.active.key" title="sbt.protocol.ScopedKey">key</a>, <a href="#play.forkrun;SbtTask.active$default$2" title="Seq[play.forkrun.SbtClient.Request]">requests</a> <span title="(elem: play.forkrun.SbtClient.Request)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[play.forkrun.SbtClient.Request],play.forkrun.SbtClient.Request,Seq[play.forkrun.SbtClient.Request]])Seq[play.forkrun.SbtClient.Request]">:+</span> <a href="#play.forkrun;SbtTask.active;$anonfun.isDefinedAt.request" title="play.forkrun.SbtClient.Request">request</a><span class="delimiter">)</span>
    <span class="keyword">case</span> SbtClientProxy.ExecutionId<span class="delimiter">(</span>Success<span class="delimiter">(</span><a title="Long" id="play.forkrun;SbtTask.active;$anonfun.isDefinedAt.tid">tid</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt; <span class="comment">// ignore</span>
    <span class="keyword">case</span> SbtClientProxy.ExecutionId<span class="delimiter">(</span>Failure<span class="delimiter">(</span><a title="Throwable" id="play.forkrun;SbtTask.active;$anonfun.isDefinedAt.error">error</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt;
      <a href="#play.forkrun;SbtTask.fail" title="(error: Throwable, requests: Seq[play.forkrun.SbtClient.Request])Unit">fail</a><span title="Boolean(true)" class="delimiter">(</span><a href="#play.forkrun;SbtTask.active;$anonfun.isDefinedAt.error" title="Throwable">error</a>, <a href="#play.forkrun;SbtTask.active$default$2" title="Seq[play.forkrun.SbtClient.Request]">requests</a><span class="delimiter">)</span>
    <span class="keyword">case</span> SbtClientProxy.WatchEvent<span class="delimiter">(</span><a title="sbt.protocol.ScopedKey" id="play.forkrun;SbtTask.active;$anonfun.isDefinedAt.key">key</a>, <a title="sbt.protocol.TaskResult" id="play.forkrun;SbtTask.active;$anonfun.isDefinedAt.result">result</a><span class="delimiter">)</span> =&gt;
      <a href="#play.forkrun;SbtTask.active$default$2" title="Seq[play.forkrun.SbtClient.Request]">requests</a> <span title="(f: play.forkrun.SbtClient.Request =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a href="#play.forkrun;SbtTask.active;$anonfun.applyOrElse.$anonfun.x$1" title="play.forkrun.SbtClient.Request">_</a>.<a href="#play.forkrun.SbtClient;Request.sendTo" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">sendTo</a> <a href="#play.forkrun;SbtTask" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#play.forkrun.SbtClient.Response.readResolve" title="(key: String, result: sbt.protocol.TaskResult)play.forkrun.SbtClient.Response">Response</a><span class="delimiter">(</span><a href="#play.forkrun;SbtTask.name" title="String">name</a>, <a href="#play.forkrun;SbtTask.active;$anonfun.isDefinedAt.result" title="sbt.protocol.TaskResult">result</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#play.forkrun;SbtTask" title="=&gt; akka.actor.ActorContext">context</a> <span title="(behavior: akka.actor.Actor.Receive)Unit">become</span> <a href="#play.forkrun;SbtTask.active" title="(key: sbt.protocol.ScopedKey, requests: Seq[play.forkrun.SbtClient.Request])SbtTask.this.Receive">active</a><span class="delimiter">(</span><a href="#play.forkrun;SbtTask.active;$anonfun.isDefinedAt.key" title="sbt.protocol.ScopedKey">key</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(error: Throwable, requests: Seq[play.forkrun.SbtClient.Request])Unit" id="play.forkrun;SbtTask.fail">fail</a><span class="delimiter">(</span><a title="Throwable" id="play.forkrun;SbtTask.fail.error">error</a>: <span title="Throwable">Throwable</span>, <a title="Seq[play.forkrun.SbtClient.Request]" id="play.forkrun;SbtTask.fail.requests">requests</a>: <span title="Seq[play.forkrun.SbtClient.Request]">Seq</span><span class="delimiter">[</span>Request<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#play.forkrun;SbtTask.fail.requests" title="Seq[play.forkrun.SbtClient.Request]">requests</a> <span title="(f: play.forkrun.SbtClient.Request =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a href="#play.forkrun;SbtTask.fail.$anonfun.x$2" title="play.forkrun.SbtClient.Request">_</a>.<a href="#play.forkrun.SbtClient;Request.sendTo" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">sendTo</a> <a href="#play.forkrun;SbtTask" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#play.forkrun.SbtClient.Failed.readResolve" title="(error: Throwable)play.forkrun.SbtClient.Failed">Failed</a><span class="delimiter">(</span><a href="#play.forkrun;SbtTask.fail.error" title="Throwable">error</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#play.forkrun;SbtTask" title="=&gt; akka.actor.ActorContext">context</a> <span title="(behavior: akka.actor.Actor.Receive)Unit">become</span> <a href="#play.forkrun;SbtTask.broken" title="(error: Throwable)SbtTask.this.Receive">broken</a><span class="delimiter">(</span><a href="#play.forkrun;SbtTask.fail.error" title="Throwable">error</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(error: Throwable)SbtTask.this.Receive" id="play.forkrun;SbtTask.broken">broken</a><span class="delimiter">(</span><a title="Throwable" id="play.forkrun;SbtTask.broken.error">error</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span>: <span title="SbtTask.this.Receive">Receive</span> = <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[Any,Unit] with Serializable" id="play.forkrun;SbtTask.broken;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    <span class="keyword">case</span> <a title="play.forkrun.SbtClient.Request" id="play.forkrun;SbtTask.broken;$anonfun.isDefinedAt.request">request</a>: <a href="#play.forkrun.SbtClient.Request.readResolve" title="play.forkrun.SbtClient.Request">Request</a> =&gt; <a href="#play.forkrun;SbtTask.broken;$anonfun.isDefinedAt.request" title="play.forkrun.SbtClient.Request">request</a>.<a href="#play.forkrun.SbtClient;Request.sendTo" title="implicit akka.actor.package.actorRef2Scala : (ref: akka.actor.ActorRef)akka.actor.ScalaActorRef">sendTo</a> <a href="#play.forkrun;SbtTask" title="(message: Any)(implicit sender: akka.actor.ActorRef)Unit">!</a> <a href="#play.forkrun.SbtClient.Failed.readResolve" title="(error: Throwable)play.forkrun.SbtClient.Failed">Failed</a><span class="delimiter">(</span><a href="#play.forkrun;SbtTask.broken.error" title="Throwable">error</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
