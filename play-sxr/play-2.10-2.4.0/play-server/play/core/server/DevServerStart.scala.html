<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>play-server/play/core/server/DevServerStart.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright (C) 2009-2015 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
<span class="keyword">package</span> play.core.server

<span class="keyword">import</span> java.io._
<span class="keyword">import</span> java.util.Properties
<span class="keyword">import</span> play.api._
<span class="keyword">import</span> play.api.mvc._
<span class="keyword">import</span> play.api.libs.concurrent.ActorSystemProvider
<span class="keyword">import</span> play.core._
<span class="keyword">import</span> play.utils.Threads
<span class="keyword">import</span> scala.collection.<span title="scala.collection.JavaConverters.type">JavaConverters</span>._
<span class="keyword">import</span> scala.concurrent.Await
<span class="keyword">import</span> scala.concurrent.duration.Duration
<span class="keyword">import</span> scala.util.control.NonFatal
<span class="keyword">import</span> scala.util.<span class="delimiter">{</span> Failure, Success, Try <span class="delimiter">}</span>

<span class="comment">/**
 * Used to start servers in 'dev' mode, a mode where the application
 * is reloaded whenever its source changes.
 */</span>
<span class="keyword">object</span> <a title="play.core.server.DevServerStart.type" id="play.core.server.DevServerStart">DevServerStart</a> <a href="#play.core.server.DevServerStart" title="play.core.server.DevServerStart.type" class="delimiter">{</a>

  <span class="comment">/**
   * Provides an HTTPS-only server for the dev environment.
   *
   * &lt;p&gt;This method uses simple Java types so that it can be used with reflection by code
   * compiled with different versions of Scala.
   */</span>
  <span class="keyword">def</span> <a title="(buildLink: play.core.BuildLink, buildDocHandler: play.core.BuildDocHandler, httpsPort: Int, httpAddress: String)play.core.server.ServerWithStop" id="play.core.server.DevServerStart.mainDevOnlyHttpsMode">mainDevOnlyHttpsMode</a><span class="delimiter">(</span>
    <a title="play.core.BuildLink" id="play.core.server.DevServerStart.mainDevOnlyHttpsMode.buildLink">buildLink</a>: <span title="play.core.BuildLink">BuildLink</span>,
    <a title="play.core.BuildDocHandler" id="play.core.server.DevServerStart.mainDevOnlyHttpsMode.buildDocHandler">buildDocHandler</a>: <span title="play.core.BuildDocHandler">BuildDocHandler</span>,
    <a title="Int" id="play.core.server.DevServerStart.mainDevOnlyHttpsMode.httpsPort">httpsPort</a>: <span title="Int">Int</span>,
    <a title="String" id="play.core.server.DevServerStart.mainDevOnlyHttpsMode.httpAddress">httpAddress</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="play.core.server.ServerWithStop">ServerWithStop</span> = <span class="delimiter">{</span>
    <a href="#play.core.server.DevServerStart.mainDev" title="(buildLink: play.core.BuildLink, buildDocHandler: play.core.BuildDocHandler, httpPort: Option[Int], httpsPort: Option[Int], httpAddress: String)play.core.server.ServerWithStop">mainDev</a><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDevOnlyHttpsMode.buildLink" title="play.core.BuildLink">buildLink</a>, <a href="#play.core.server.DevServerStart.mainDevOnlyHttpsMode.buildDocHandler" title="play.core.BuildDocHandler">buildDocHandler</a>, <span title="None.type">None</span>, <span title="(x: Int)Some[Int]">Some</span><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDevOnlyHttpsMode.httpsPort" title="Int">httpsPort</a><span class="delimiter">)</span>, <a href="#play.core.server.DevServerStart.mainDevOnlyHttpsMode.httpAddress" title="String">httpAddress</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Provides an HTTP server for the dev environment
   *
   * &lt;p&gt;This method uses simple Java types so that it can be used with reflection by code
   * compiled with different versions of Scala.
   */</span>
  <span class="keyword">def</span> <a title="(buildLink: play.core.BuildLink, buildDocHandler: play.core.BuildDocHandler, httpPort: Int, httpAddress: String)play.core.server.ServerWithStop" id="play.core.server.DevServerStart.mainDevHttpMode">mainDevHttpMode</a><span class="delimiter">(</span>
    <a title="play.core.BuildLink" id="play.core.server.DevServerStart.mainDevHttpMode.buildLink">buildLink</a>: <span title="play.core.BuildLink">BuildLink</span>,
    <a title="play.core.BuildDocHandler" id="play.core.server.DevServerStart.mainDevHttpMode.buildDocHandler">buildDocHandler</a>: <span title="play.core.BuildDocHandler">BuildDocHandler</span>,
    <a title="Int" id="play.core.server.DevServerStart.mainDevHttpMode.httpPort">httpPort</a>: <span title="Int">Int</span>,
    <a title="String" id="play.core.server.DevServerStart.mainDevHttpMode.httpAddress">httpAddress</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="play.core.server.ServerWithStop">ServerWithStop</span> = <span class="delimiter">{</span>
    <a href="#play.core.server.DevServerStart.mainDev" title="(buildLink: play.core.BuildLink, buildDocHandler: play.core.BuildDocHandler, httpPort: Option[Int], httpsPort: Option[Int], httpAddress: String)play.core.server.ServerWithStop">mainDev</a><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDevHttpMode.buildLink" title="play.core.BuildLink">buildLink</a>, <a href="#play.core.server.DevServerStart.mainDevHttpMode.buildDocHandler" title="play.core.BuildDocHandler">buildDocHandler</a>, <span title="(x: Int)Some[Int]">Some</span><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDevHttpMode.httpPort" title="Int">httpPort</a><span class="delimiter">)</span>, <span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><span title="System.type">System</span>.<span title="(x$1: String)String">getProperty</span><span class="delimiter">(</span><span title="String(&quot;https.port&quot;)" class="string">&quot;https.port&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: String =&gt; Int)Option[Int]">map</span><span class="delimiter">(</span><span title="Integer.type">Integer</span>.<span title="(x$1: String)Int">parseInt</span><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDevHttpMode.$anonfun.x$1" title="String">_</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#play.core.server.DevServerStart.mainDevHttpMode.httpAddress" title="String">httpAddress</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(buildLink: play.core.BuildLink, buildDocHandler: play.core.BuildDocHandler, httpPort: Option[Int], httpsPort: Option[Int], httpAddress: String)play.core.server.ServerWithStop" id="play.core.server.DevServerStart.mainDev">mainDev</a><span class="delimiter">(</span>
    <a title="play.core.BuildLink" id="play.core.server.DevServerStart.mainDev.buildLink">buildLink</a>: <span title="play.core.BuildLink">BuildLink</span>,
    <a title="play.core.BuildDocHandler" id="play.core.server.DevServerStart.mainDev.buildDocHandler">buildDocHandler</a>: <span title="play.core.BuildDocHandler">BuildDocHandler</span>,
    <a title="Option[Int]" id="play.core.server.DevServerStart.mainDev.httpPort">httpPort</a>: <span title="Option[Int]">Option</span><span class="delimiter">[</span>Int<span class="delimiter">]</span>,
    <a title="Option[Int]" id="play.core.server.DevServerStart.mainDev.httpsPort">httpsPort</a>: <span title="Option[Int]">Option</span><span class="delimiter">[</span>Int<span class="delimiter">]</span>,
    <a title="String" id="play.core.server.DevServerStart.mainDev.httpAddress">httpAddress</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="play.core.server.ServerWithStop">ServerWithStop</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="ClassLoader" id="play.core.server.DevServerStart.mainDev.classLoader">classLoader</a> = <span title="()Class[_]">getClass</span>.<span title="()ClassLoader">getClassLoader</span>
    <a href="../../../../play/play/utils/Threads.scala.html#play.utils.Threads" title="play.utils.Threads.type">Threads</a>.<a href="../../../../play/play/utils/Threads.scala.html#play.utils.Threads.withContextClassLoader" title="(classloader: ClassLoader)(b: =&gt; play.core.server.ServerWithStop)play.core.server.ServerWithStop">withContextClassLoader</a><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.classLoader" title="ClassLoader">classLoader</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="play.core.server.RealServerProcess" id="play.core.server.DevServerStart.mainDev.process">process</a> = <span title="play.core.server.RealServerProcess" class="keyword">new</span> <a href="ServerProcess.scala.html#play.core.server;RealServerProcess" title="play.core.server.RealServerProcess">RealServerProcess</a><span class="delimiter">(</span>args = <span title="scala.collection.Seq.type">Seq</span>.<span title="Seq[Nothing]">empty</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="java.io.File" id="play.core.server.DevServerStart.mainDev.path">path</a>: <span title="java.io.File">File</span> = <a href="#play.core.server.DevServerStart.mainDev.buildLink" title="play.core.BuildLink">buildLink</a>.<span title="()java.io.File">projectPath</span>

        <span class="keyword">val</span> <a title="Map[String,String]" id="play.core.server.DevServerStart.mainDev.dirAndDevSettings">dirAndDevSettings</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <a href="ServerConfig.scala.html#play.core.server.ServerConfig" title="play.core.server.ServerConfig.type">ServerConfig</a>.<a href="ServerConfig.scala.html#play.core.server.ServerConfig.rootDirConfig" title="(rootDir: java.io.File)Map[String,String]">rootDirConfig</a><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.path" title="java.io.File">path</a><span class="delimiter">)</span> <span title="(xs: scala.collection.GenTraversableOnce[(String, String)])scala.collection.immutable.Map[String,String]">++</span> <a href="#play.core.server.DevServerStart.mainDev.buildLink" title="play.core.BuildLink">buildLink</a>.<span title="(m: java.util.Map[String,String])scala.collection.convert.Decorators.AsScala[scala.collection.mutable.Map[String,String]]">settings</span>.<span title="=&gt; scala.collection.mutable.Map[String,String]">asScala</span>.<span title="(implicit ev: &lt;:&lt;[(String, String),(String, String)])scala.collection.immutable.Map[String,String]">toMap</span>

        <span class="comment">// Use plain Java call here in case of scala classloader mess</span>
        <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="System.type">System</span>.<span title="(x$1: String)String">getProperty</span><span class="delimiter">(</span><span title="String(&quot;play.debug.classpath&quot;)" class="string">&quot;play.debug.classpath&quot;</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="String(&quot;true&quot;)" class="string">&quot;true&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="System.type">System</span>.<span title="java.io.PrintStream">out</span>.<span title="(x$1: String)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;\n---- Current ClassLoader ----\n&quot;)" class="string">&quot;\n---- Current ClassLoader ----\n&quot;</span><span class="delimiter">)</span>
            <span title="System.type">System</span>.<span title="java.io.PrintStream">out</span>.<span title="(x$1: Any)Unit">println</span><span class="delimiter">(</span><span class="keyword">this</span>.<span title="()Class[_]">getClass</span>.<span title="()ClassLoader">getClassLoader</span><span class="delimiter">)</span>
            <span title="System.type">System</span>.<span title="java.io.PrintStream">out</span>.<span title="(x$1: String)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;\n---- The where is Scala? test ----\n&quot;)" class="string">&quot;\n---- The where is Scala? test ----\n&quot;</span><span class="delimiter">)</span>
            <span title="System.type">System</span>.<span title="java.io.PrintStream">out</span>.<span title="(x$1: Any)Unit">println</span><span class="delimiter">(</span><span class="keyword">this</span>.<span title="()Class[_]">getClass</span>.<span title="()ClassLoader">getClassLoader</span>.<span title="(x$1: String)java.net.URL">getResource</span><span class="delimiter">(</span><span title="String(&quot;scala/Predef$.class&quot;)" class="string">&quot;scala/Predef$.class&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="comment">// First delete the default log file for a fresh start (only in Dev Mode)</span>
        <span class="keyword">try</span> <span class="delimiter">{</span>
          <span title="(x$1: java.io.File, x$2: String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.path" title="java.io.File">path</a>, <span title="String(&quot;logs/application.log&quot;)" class="string">&quot;logs/application.log&quot;</span><span class="delimiter">)</span>.<span title="()Boolean">delete</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="#play.core.server.DevServerStart.mainDev.<unapply-selector>" title="(t: Throwable)Option[Throwable]">NonFatal</a><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
        <span class="delimiter">}</span>

        <span class="comment">// Configure the logger for the first time.</span>
        <span class="comment">// This is usually done by Application itself when it's instantiated, which for other types of ApplicationProviders,</span>
        <span class="comment">// is usually instantiated along with or before the provider.  But in dev mode, no application exists initially, so</span>
        <span class="comment">// configure it here.</span>
        <a href="../../../../play/play/api/Logger.scala.html#play.api.Logger" title="play.api.Logger.type">Logger</a>.<a href="../../../../play/play/api/Logger.scala.html#play.api.Logger.init" title="(rootPath: java.io.File, mode: play.api.Mode.Mode)Unit">init</a><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.path" title="java.io.File">path</a>, <a href="../../../../play/play/api/Play.scala.html#play.api.Mode" title="play.api.Mode.type">Mode</a>.<a href="../../../../play/play/api/Play.scala.html#play.api.Mode.Dev" title="=&gt; play.api.Mode.Value">Dev</a><span class="delimiter">)</span>

        <span title="(x: Any)Unit">println</span><span class="delimiter">(</span>play.utils.<a href="../../../../play/play/utils/Colors.scala.html#play.utils.Colors" title="play.utils.Colors.type">Colors</a>.<a href="../../../../play/play/utils/Colors.scala.html#play.utils.Colors.magenta" title="(str: String)String">magenta</a><span class="delimiter">(</span><span title="String(&quot;--- (Running the application, auto-reloading is enabled) ---&quot;)" class="string">&quot;--- (Running the application, auto-reloading is enabled) ---&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="()Unit">println</span><span class="delimiter">(</span><span class="delimiter">)</span>

        <span class="comment">// Create reloadable ApplicationProvider</span>
        <span class="keyword">val</span> <a title="appProvider extends AnyRef with play.core.ApplicationProvider" id="play.core.server.DevServerStart.mainDev.appProvider">appProvider</a> = <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon" title="play.core.ApplicationProvider{def lastState: scala.util.Try[play.api.Application]; def lastState_=(x$1: scala.util.Try[play.api.Application]): Unit; def currentWebCommands: Option[play.core.WebCommands]; def currentWebCommands_=(x$1: Option[play.core.WebCommands]): Unit}" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.core.ApplicationProvider" id="play.core.server.DevServerStart.mainDev.appProvider;$anon">ApplicationProvider</a> <span class="delimiter">{</span>

          <span class="keyword">var</span> <a title="scala.util.Try[play.api.Application]" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.lastState_=">lastState</a>: <span title="scala.util.Try[play.api.Application]">Try</span><span class="delimiter">[</span>Application<span class="delimiter">]</span> = <span title="(exception: Throwable)scala.util.Failure[Nothing]">Failure</span><span class="delimiter">(</span><a href="../../../../play-exceptions/play/api/PlayException.java.html#play.api;PlayException.<init>(50cc897f6f)" title="(title: String, description: String)play.api.PlayException" class="keyword">new</a> <a href="../../../../play-exceptions/play/api/PlayException.java.html#play.api;PlayException" title="play.api.PlayException">PlayException</a><span class="delimiter">(</span><span title="String(&quot;Not initialized&quot;)" class="string">&quot;Not initialized&quot;</span>, <span title="String(&quot;?&quot;)" class="string">&quot;?&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="Option[play.core.WebCommands]" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.currentWebCommands_=">currentWebCommands</a>: <span title="Option[play.core.WebCommands]">Option</span><span class="delimiter">[</span>WebCommands<span class="delimiter">]</span> = <span title="None.type">None</span>

          <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Option[play.api.Application]" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.current">current</a>: <span title="Option[play.api.Application]">Option</span><span class="delimiter">[</span>Application<span class="delimiter">]</span> = <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.lastState_=" title="=&gt; scala.util.Try[play.api.Application]">lastState</a>.<span title="=&gt; Option[play.api.Application]">toOption</span>

          <span class="keyword">def</span> <a title="=&gt; scala.util.Try[play.api.Application]" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.get">get</a>: <span title="scala.util.Try[play.api.Application]">Try</span><span class="delimiter">[</span>Application<span class="delimiter">]</span> = <span class="delimiter">{</span>

            <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon" title="(x$1: scala.util.Try[play.api.Application])scala.util.Try[play.api.Application]">synchronized</a> <span class="delimiter">{</span>

              <span class="comment">// Let's load the application on another thread</span>
              <span class="comment">// as we are now on the Netty IO thread.</span>
              <span class="comment">//</span>
              <span class="comment">// Because we are on DEV mode here, it doesn't really matter</span>
              <span class="comment">// but it's more coherent with the way it works in PROD mode.</span>
              <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scala.concurrent.ExecutionContext" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.get.ec">ec</a> = play.core.<a href="../../../../play/play/core/system/Execution.scala.html#play.core.Execution" title="play.core.Execution.type">Execution</a>.<a href="../../../../play/play/core/system/Execution.scala.html#play.core.Execution.internalContext" title="=&gt; scala.concurrent.ExecutionContext">internalContext</a>
              <span title="scala.concurrent.Await.type">Await</span>.<span title="(awaitable: scala.concurrent.Awaitable[scala.util.Try[play.api.Application]], atMost: scala.concurrent.duration.Duration)scala.util.Try[play.api.Application]">result</span><span class="delimiter">(</span>scala.concurrent.<span title="(body: =&gt; scala.util.Try[play.api.Application])(implicit execctx: scala.concurrent.ExecutionContext)scala.concurrent.Future[scala.util.Try[play.api.Application]]">Future</span> <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.ec" title="scala.concurrent.ExecutionContext" class="delimiter">{</a>

                <span class="keyword">val</span> <a title="&lt;root&gt; extends Product with Serializable with scala.util.Try[Option[ClassLoader]]" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.get.reloaded">reloaded</a> = <a href="#play.core.server.DevServerStart.mainDev.buildLink" title="play.core.BuildLink">buildLink</a>.<span title="()Object">reload</span> <span title="&lt;root&gt; extends Product with Serializable with scala.util.Try[Option[ClassLoader]]" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.reloaded.<unapply-selector>" title="(t: Throwable)Option[Throwable]">NonFatal</a><span class="delimiter">(</span><a title="Throwable" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.get.reloaded.t">t</a><span class="delimiter">)</span> =&gt; <span title="(exception: Throwable)scala.util.Failure[Nothing]">Failure</span><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.reloaded.t" title="Throwable">t</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> <a title="ClassLoader" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.get.reloaded.cl">cl</a>: <span title="ClassLoader">ClassLoader</span> =&gt; <span title="(value: Some[ClassLoader])scala.util.Success[Some[ClassLoader]]">Success</span><span class="delimiter">(</span><span title="(x: ClassLoader)Some[ClassLoader]">Some</span><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.reloaded.cl" title="ClassLoader">cl</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span> =&gt; <span title="(value: None.type)scala.util.Success[None.type]">Success</span><span class="delimiter">(</span><span title="None.type">None</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>

                <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.reloaded" title="&lt;root&gt; extends Product with Serializable with scala.util.Try[Option[ClassLoader]]">reloaded</a>.<span title="(f: Option[ClassLoader] =&gt; scala.util.Try[play.api.Application])scala.util.Try[play.api.Application]">flatMap</span> <span class="delimiter">{</span> <a title="Option[ClassLoader]" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeClassLoader">maybeClassLoader</a> =&gt;

                  <span class="keyword">val</span> <a title="Option[scala.util.Try[play.api.Application]]" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication">maybeApplication</a>: <span title="Option[scala.util.Try[play.api.Application]]">Option</span><span class="delimiter">[</span>Try<span class="delimiter">[</span>Application<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeClassLoader" title="Option[ClassLoader]">maybeClassLoader</a>.<span title="(f: ClassLoader =&gt; scala.util.Try[play.api.Application])Option[scala.util.Try[play.api.Application]]">map</span> <span class="delimiter">{</span> <a title="ClassLoader" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.projectClassloader">projectClassloader</a> =&gt;
                    <span class="keyword">try</span> <span class="delimiter">{</span>

                      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.lastState_=" title="=&gt; scala.util.Try[play.api.Application]">lastState</a>.<span title="=&gt; Boolean">isSuccess</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                        <span title="()Unit">println</span><span class="delimiter">(</span><span class="delimiter">)</span>
                        <span title="(x: Any)Unit">println</span><span class="delimiter">(</span>play.utils.<a href="../../../../play/play/utils/Colors.scala.html#play.utils.Colors" title="play.utils.Colors.type">Colors</a>.<a href="../../../../play/play/utils/Colors.scala.html#play.utils.Colors.magenta" title="(str: String)String">magenta</a><span class="delimiter">(</span><span title="String(&quot;--- (RELOAD) ---&quot;)" class="string">&quot;--- (RELOAD) ---&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
                        <span title="()Unit">println</span><span class="delimiter">(</span><span class="delimiter">)</span>
                      <span class="delimiter">}</span>

                      <span class="keyword">val</span> <a title="play.core.ApplicationProvider{def lastState: scala.util.Try[play.api.Application]; def lastState_=(x$1: scala.util.Try[play.api.Application]): Unit; def currentWebCommands: Option[play.core.WebCommands]; def currentWebCommands_=(x$1: Option[play.core.WebCommands]): Unit}" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.reloadable">reloadable</a> = <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon" title="play.core.ApplicationProvider{def lastState: scala.util.Try[play.api.Application]; def lastState_=(x$1: scala.util.Try[play.api.Application]): Unit; def currentWebCommands: Option[play.core.WebCommands]; def currentWebCommands_=(x$1: Option[play.core.WebCommands]): Unit}" class="keyword">this</a>

                      <span class="comment">// First, stop the old application if it exists</span>
                      <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.lastState_=" title="=&gt; scala.util.Try[play.api.Application]">lastState</a>.<span title="(f: play.api.Application =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="../../../../play/play/api/Play.scala.html#play.api.Play" title="play.api.Play.type">Play</a>.<a href="../../../../play/play/api/Play.scala.html#play.api.Play.stop" title="(app: play.api.Application)Unit">stop</a><span class="delimiter">)</span>

                      <span class="comment">// Create the new environment</span>
                      <span class="keyword">val</span> <a title="play.api.Environment" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.environment">environment</a> = <a href="../../../../play/play/api/Environment.scala.html#play.api;Environment" title="(rootPath: java.io.File, classLoader: ClassLoader, mode: play.api.Mode.Mode)play.api.Environment">Environment</a><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.path" title="java.io.File">path</a>, <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.projectClassloader" title="ClassLoader">projectClassloader</a>, <a href="../../../../play/play/api/Play.scala.html#play.api.Mode" title="play.api.Mode.type">Mode</a>.<a href="../../../../play/play/api/Play.scala.html#play.api.Mode.Dev" title="=&gt; play.api.Mode.Value">Dev</a><span class="delimiter">)</span>
                      <span class="keyword">val</span> <a title="sourceMapper extends AnyRef with play.core.SourceMapper" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.sourceMapper">sourceMapper</a> = <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.sourceMapper;$anon" title="play.core.SourceMapper" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.core.SourceMapper" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.sourceMapper;$anon">SourceMapper</a> <span class="delimiter">{</span>
                        <span class="keyword">def</span> <a title="(className: String, line: Option[Int])Option[(java.io.File, Option[Int])]" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.sourceMapper;$anon.sourceOf">sourceOf</a><span class="delimiter">(</span><a title="String" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.sourceMapper;$anon.sourceOf.className">className</a>: <span title="String">String</span>, <a title="Option[Int]" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.sourceMapper;$anon.sourceOf.line">line</a>: <span title="Option[Int]">Option</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
                          <span title="(x: Array[Object])Option[Array[Object]]">Option</span><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.buildLink" title="play.core.BuildLink">buildLink</a>.<span title="(x$1: String, x$2: Integer)Array[Object]">findSource</span><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.sourceMapper;$anon.sourceOf.className" title="String">className</a>, <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.sourceMapper;$anon.sourceOf.line" title="Option[Int]">line</a>.<span title="(f: Int =&gt; Integer)Option[Integer]">map</span><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.sourceMapper;$anon.sourceOf.$anonfun.x$2" title="Int">_</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Integer" class="delimiter">[</span>java.lang.<span title="Integer">Integer</span><span class="delimiter">]</span><span class="delimiter">)</span>.<span title="(implicit ev: &lt;:&lt;[Null,Integer])Integer">orNull</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: Array[Object] =&gt; Option[(java.io.File, Option[Int])])Option[(java.io.File, Option[Int])]">flatMap</span> <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.sourceMapper;$anon.sourceOf.$anonfun.x0$1" title="Option[(java.io.File, Option[Int])]" class="delimiter">{</a>
                            <span class="keyword">case</span> <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.sourceMapper;$anon.sourceOf.$anonfun.<unapply-selector>" title="(x: Array[Object])Option[IndexedSeq[Object]]">Array</a><span class="delimiter">(</span><span title="java.io.File">file</span>: java.io.<span title="java.io.File">File</span>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> =&gt; <span title="(x: (java.io.File, None.type))Some[(java.io.File, None.type)]">Some</span><span class="delimiter">(</span><span title="(_1: java.io.File, _2: None.type)(java.io.File, None.type)" class="delimiter">(</span><span title="java.io.File">file</span>, <span title="None.type">None</span><span class="delimiter">)</span><span class="delimiter">)</span>
                            <span class="keyword">case</span> <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.sourceMapper;$anon.sourceOf.$anonfun.<unapply-selector>" title="(x: Array[Object])Option[IndexedSeq[Object]]">Array</a><span class="delimiter">(</span><span title="java.io.File">file</span>: java.io.<span title="java.io.File">File</span>, <a title="Integer" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.sourceMapper;$anon.sourceOf.$anonfun.line">line</a>: java.lang.<span title="Integer">Integer</span><span class="delimiter">)</span> =&gt; <span title="(x: (java.io.File, Some[Int]))Some[(java.io.File, Some[Int])]">Some</span><span class="delimiter">(</span><span title="(_1: java.io.File, _2: Some[Int])(java.io.File, Some[Int])" class="delimiter">(</span><span title="java.io.File">file</span>, <span title="(x: Int)Some[Int]">Some</span><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.sourceMapper;$anon.sourceOf.$anonfun.line" title="implicit scala.Predef.Integer2int : (x: Integer)Int">line</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                            <span class="keyword">case</span> _ =&gt; <span title="None.type">None</span>
                          <span class="delimiter">}</span>
                        <span class="delimiter">}</span>
                      <span class="delimiter">}</span>

                      <span class="keyword">val</span> <a title="play.core.DefaultWebCommands" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.webCommands">webCommands</a> = <span title="play.core.DefaultWebCommands" class="keyword">new</span> <a href="../../../../play/play/core/system/WebCommands.scala.html#play.core;DefaultWebCommands" title="play.core.DefaultWebCommands">DefaultWebCommands</a>
                      <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.currentWebCommands_=" title="(x$1: Option[play.core.WebCommands])Unit">currentWebCommands</a> = <span title="(x: play.core.DefaultWebCommands)Some[play.core.DefaultWebCommands]">Some</span><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.webCommands" title="play.core.DefaultWebCommands">webCommands</a><span class="delimiter">)</span>

                      <span class="keyword">val</span> <a title="play.api.Application" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.newApplication">newApplication</a> = <a href="../../../../play/play/utils/Threads.scala.html#play.utils.Threads" title="play.utils.Threads.type">Threads</a>.<a href="../../../../play/play/utils/Threads.scala.html#play.utils.Threads.withContextClassLoader" title="(classloader: ClassLoader)(b: =&gt; play.api.Application)play.api.Application">withContextClassLoader</a><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.projectClassloader" title="ClassLoader">projectClassloader</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                        <span class="keyword">val</span> <a title="play.api.ApplicationLoader.Context" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.newApplication.context">context</a> = <a href="../../../../play/play/api/ApplicationLoader.scala.html#play.api.ApplicationLoader" title="play.api.ApplicationLoader.type">ApplicationLoader</a>.<a href="../../../../play/play/api/ApplicationLoader.scala.html#play.api.ApplicationLoader.createContext" title="(environment: play.api.Environment, initialSettings: Map[String,AnyRef], sourceMapper: Option[play.core.SourceMapper], webCommands: play.core.WebCommands)play.api.ApplicationLoader.Context">createContext</a><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.environment" title="play.api.Environment">environment</a>, <a href="#play.core.server.DevServerStart.mainDev.dirAndDevSettings" title="Map[String,String]">dirAndDevSettings</a>, <span title="(x: play.core.SourceMapper)Some[play.core.SourceMapper]">Some</span><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.sourceMapper" title="sourceMapper extends AnyRef with play.core.SourceMapper">sourceMapper</a><span class="delimiter">)</span>, <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.webCommands" title="play.core.DefaultWebCommands">webCommands</a><span class="delimiter">)</span>
                        <span class="keyword">val</span> <a title="play.api.ApplicationLoader" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.newApplication.loader">loader</a> = <a href="../../../../play/play/api/ApplicationLoader.scala.html#play.api.ApplicationLoader.apply" title="(context: play.api.ApplicationLoader.Context)play.api.ApplicationLoader">ApplicationLoader</a><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.newApplication.context" title="play.api.ApplicationLoader.Context">context</a><span class="delimiter">)</span>
                        <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.newApplication.loader" title="play.api.ApplicationLoader">loader</a>.<a href="../../../../play/play/api/ApplicationLoader.scala.html#play.api;ApplicationLoader.load" title="(context: play.api.ApplicationLoader.Context)play.api.Application">load</a><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.newApplication.context" title="play.api.ApplicationLoader.Context">context</a><span class="delimiter">)</span>
                      <span class="delimiter">}</span>

                      <a href="../../../../play/play/api/Play.scala.html#play.api.Play" title="play.api.Play.type">Play</a>.<a href="../../../../play/play/api/Play.scala.html#play.api.Play.start" title="(app: play.api.Application)Unit">start</a><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.newApplication" title="play.api.Application">newApplication</a><span class="delimiter">)</span>

                      <span title="(value: play.api.Application)scala.util.Success[play.api.Application]">Success</span><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.newApplication" title="play.api.Application">newApplication</a><span class="delimiter">)</span>
                    <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
                      <span class="keyword">case</span> <span title="play.api.PlayException">e</span>: <a href="../../../../play-exceptions/play/api/PlayException.java.html#play.api;PlayException" title="play.api.PlayException">PlayException</a> =&gt; <span class="delimiter">{</span>
                        <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.lastState_=" title="(x$1: scala.util.Try[play.api.Application])Unit">lastState</a> = <span title="(exception: Throwable)scala.util.Failure[Nothing]">Failure</span><span class="delimiter">(</span><span title="play.api.PlayException">e</span><span class="delimiter">)</span>
                        <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.lastState_=" title="=&gt; scala.util.Try[play.api.Application]">lastState</a>
                      <span class="delimiter">}</span>
                      <span class="keyword">case</span> <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.<unapply-selector>" title="(t: Throwable)Option[Throwable]">NonFatal</a><span class="delimiter">(</span><span title="Throwable">e</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
                        <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.lastState_=" title="(x$1: scala.util.Try[play.api.Application])Unit">lastState</a> = <span title="(exception: Throwable)scala.util.Failure[Nothing]">Failure</span><span class="delimiter">(</span><a href="../../../../play/play/api/Exceptions.scala.html#play.api.UnexpectedException.apply$default$1" title="Option[String] @scala.reflect.internal.annotations.uncheckedBounds" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.x$7">UnexpectedException</a><span class="delimiter">(</span>unexpected = <span title="(x: Throwable)Some[Throwable]">Some</span><a title="Some[Throwable] @scala.reflect.internal.annotations.uncheckedBounds" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.x$6" class="delimiter">(</a><span title="Throwable">e</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                        <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.lastState_=" title="=&gt; scala.util.Try[play.api.Application]">lastState</a>
                      <span class="delimiter">}</span>
                      <span class="keyword">case</span> <span title="LinkageError">e</span>: <span title="LinkageError">LinkageError</span> =&gt; <span class="delimiter">{</span>
                        <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.lastState_=" title="(x$1: scala.util.Try[play.api.Application])Unit">lastState</a> = <span title="(exception: Throwable)scala.util.Failure[Nothing]">Failure</span><span class="delimiter">(</span><a href="../../../../play/play/api/Exceptions.scala.html#play.api.UnexpectedException.apply$default$1" title="Option[String] @scala.reflect.internal.annotations.uncheckedBounds" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.x$9">UnexpectedException</a><span class="delimiter">(</span>unexpected = <span title="(x: LinkageError)Some[LinkageError]">Some</span><a title="Some[LinkageError] @scala.reflect.internal.annotations.uncheckedBounds" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication.$anonfun.x$8" class="delimiter">(</a><span title="LinkageError">e</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                        <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.lastState_=" title="=&gt; scala.util.Try[play.api.Application]">lastState</a>
                      <span class="delimiter">}</span>
                    <span class="delimiter">}</span>
                  <span class="delimiter">}</span>

                  <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication" title="Option[scala.util.Try[play.api.Application]]">maybeApplication</a>.<span title="(f: scala.util.Try[play.api.Application] =&gt; Option[play.api.Application])Option[play.api.Application]">flatMap</span><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.$anonfun.x$3" title="scala.util.Try[play.api.Application]">_</a>.<span title="=&gt; Option[play.api.Application]">toOption</span><span class="delimiter">)</span>.<span title="(f: play.api.Application =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="play.api.Application" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.$anonfun.app">app</a> =&gt;
                    <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.lastState_=" title="(x$1: scala.util.Try[play.api.Application])Unit">lastState</a> = <span title="(value: play.api.Application)scala.util.Success[play.api.Application]">Success</span><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.$anonfun.app" title="play.api.Application">app</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>

                  <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.get.$anonfun.maybeApplication" title="Option[scala.util.Try[play.api.Application]]">maybeApplication</a>.<span title="(default: =&gt; scala.util.Try[play.api.Application])scala.util.Try[play.api.Application]">getOrElse</span><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.lastState_=" title="=&gt; scala.util.Try[play.api.Application]">lastState</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>

              <span class="delimiter">}</span>, <span title="scala.concurrent.duration.Duration.type">Duration</span>.<span title="=&gt; scala.concurrent.duration.Duration.Infinite">Inf</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <span class="keyword">override</span> <span class="keyword">def</span> <a title="(request: play.api.mvc.RequestHeader)Option[play.api.mvc.Result]" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.handleWebCommand">handleWebCommand</a><span class="delimiter">(</span><a title="play.api.mvc.RequestHeader" id="play.core.server.DevServerStart.mainDev.appProvider;$anon.handleWebCommand.request">request</a>: play.api.mvc.<a href="../../../../play/play/api/mvc/Http.scala.html#play.api.mvc;RequestHeader" title="play.api.mvc.RequestHeader">RequestHeader</a><span class="delimiter">)</span>: <span title="Option[play.api.mvc.Result]">Option</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <span class="delimiter">{</span>
            <a href="#play.core.server.DevServerStart.mainDev.buildDocHandler" title="play.core.BuildDocHandler">buildDocHandler</a>.<span title="(x$1: Any)Object">maybeHandleDocRequest</span><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.handleWebCommand.request" title="play.api.mvc.RequestHeader">request</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Option[play.api.mvc.Result]" class="delimiter">[</span><span title="Option[play.api.mvc.Result]">Option</span><span class="delimiter">[</span>Result<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="(alternative: =&gt; Option[play.api.mvc.Result])Option[play.api.mvc.Result]">orElse</span><span class="delimiter">(</span>
              <a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.currentWebCommands_=" title="=&gt; Option[play.core.WebCommands]">currentWebCommands</a>.<span title="(f: play.core.WebCommands =&gt; Option[play.api.mvc.Result])Option[play.api.mvc.Result]">flatMap</span><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.handleWebCommand.$anonfun.x$4" title="play.core.WebCommands">_</a>.<a href="../../../../play/play/core/system/WebCommands.scala.html#play.core;WebCommands.handleWebCommand" title="(request: play.api.mvc.RequestHeader, buildLink: play.core.BuildLink, path: java.io.File)Option[play.api.mvc.Result]">handleWebCommand</a><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.appProvider;$anon.handleWebCommand.request" title="play.api.mvc.RequestHeader">request</a>, <a href="#play.core.server.DevServerStart.mainDev.buildLink" title="play.core.BuildLink">buildLink</a>, <a href="#play.core.server.DevServerStart.mainDev.path" title="java.io.File">path</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">)</span>

          <span class="delimiter">}</span>

        <span class="delimiter">}</span>

        <span class="comment">// Start server with the application</span>
        <span class="keyword">val</span> <a title="play.core.server.ServerConfig" id="play.core.server.DevServerStart.mainDev.serverConfig">serverConfig</a> = <a href="ServerConfig.scala.html#play.core.server;ServerConfig" title="(rootDir: java.io.File, port: Option[Int], sslPort: Option[Int], address: String, mode: play.api.Mode.Mode, properties: java.util.Properties, configuration: play.api.Configuration)play.core.server.ServerConfig">ServerConfig</a><span class="delimiter">(</span>
          rootDir = <a href="#play.core.server.DevServerStart.mainDev.path" title="java.io.File">path</a>,
          port = <a href="#play.core.server.DevServerStart.mainDev.httpPort" title="Option[Int]">httpPort</a>,
          sslPort = <a href="#play.core.server.DevServerStart.mainDev.httpsPort" title="Option[Int]">httpsPort</a>,
          address = <a href="#play.core.server.DevServerStart.mainDev.httpAddress" title="String">httpAddress</a>,
          mode = <a href="../../../../play/play/api/Play.scala.html#play.api.Mode" title="play.api.Mode.type">Mode</a>.<a href="../../../../play/play/api/Play.scala.html#play.api.Mode.Dev" title="=&gt; play.api.Mode.Value">Dev</a>,
          properties = <a href="#play.core.server.DevServerStart.mainDev.process" title="play.core.server.RealServerProcess">process</a>.<a href="ServerProcess.scala.html#play.core.server;RealServerProcess.properties" title="=&gt; java.util.Properties">properties</a>,
          configuration = <a href="../../../../play/play/api/Configuration.scala.html#play.api.Configuration" title="play.api.Configuration.type">Configuration</a>.<a href="../../../../play/play/api/Configuration.scala.html#play.api.Configuration.load(f566f92257)" title="(classLoader: ClassLoader, properties: java.util.Properties, directSettings: Map[String,AnyRef], allowMissingApplicationConf: Boolean)play.api.Configuration">load</a><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.classLoader" title="ClassLoader">classLoader</a>, <span title="System.type">System</span>.<span title="()java.util.Properties">getProperties</span>, <a href="#play.core.server.DevServerStart.mainDev.dirAndDevSettings" title="Map[String,String]">dirAndDevSettings</a>, allowMissingApplicationConf = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <span class="keyword">val</span> <a href="#play.core.server.DevServerStart.mainDev.actorSystem" title="(akka.actor.ActorSystem, () =&gt; scala.concurrent.Future[Unit])" class="delimiter">(</a><a href="#play.core.server.DevServerStart.mainDev.x$5" title="akka.actor.ActorSystem" id="play.core.server.DevServerStart.mainDev.actorSystem">actorSystem</a>, <a href="#play.core.server.DevServerStart.mainDev.x$5" title="() =&gt; scala.concurrent.Future[Unit]" id="play.core.server.DevServerStart.mainDev.actorSystemStopHook">actorSystemStopHook</a><span class="delimiter">)</span> = <a href="../../../../play/play/api/libs/concurrent/Akka.scala.html#play.api.libs.concurrent.ActorSystemProvider" title="play.api.libs.concurrent.ActorSystemProvider.type">ActorSystemProvider</a>.<a href="../../../../play/play/api/libs/concurrent/Akka.scala.html#play.api.libs.concurrent.ActorSystemProvider.start" title="(classLoader: ClassLoader, configuration: play.api.Configuration)(akka.actor.ActorSystem, () =&gt; scala.concurrent.Future[Unit])">start</a><span title="(akka.actor.ActorSystem, () =&gt; scala.concurrent.Future[Unit]) @unchecked" class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.classLoader" title="ClassLoader">classLoader</a>, <a href="#play.core.server.DevServerStart.mainDev.serverConfig" title="play.core.server.ServerConfig">serverConfig</a>.<a href="ServerConfig.scala.html#play.core.server;ServerConfig.configuration" title="=&gt; play.api.Configuration">configuration</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="play.core.server.ServerProvider.Context" id="play.core.server.DevServerStart.mainDev.serverContext">serverContext</a> = <a href="ServerProvider.scala.html#play.core.server.ServerProvider" title="play.core.server.ServerProvider.type">ServerProvider</a>.<a href="ServerProvider.scala.html#play.core.server.ServerProvider;Context" title="(config: play.core.server.ServerConfig, appProvider: play.core.ApplicationProvider, actorSystem: akka.actor.ActorSystem, stopHook: () =&gt; scala.concurrent.Future[Unit])play.core.server.ServerProvider.Context">Context</a><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.serverConfig" title="play.core.server.ServerConfig">serverConfig</a>, <a href="#play.core.server.DevServerStart.mainDev.appProvider" title="appProvider extends AnyRef with play.core.ApplicationProvider">appProvider</a>, <a href="#play.core.server.DevServerStart.mainDev.actorSystem" title="akka.actor.ActorSystem">actorSystem</a>, <a href="#play.core.server.DevServerStart.mainDev.actorSystemStopHook" title="() =&gt; scala.concurrent.Future[Unit]">actorSystemStopHook</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="play.core.server.ServerProvider" id="play.core.server.DevServerStart.mainDev.serverProvider">serverProvider</a> = <a href="ServerProvider.scala.html#play.core.server.ServerProvider" title="play.core.server.ServerProvider.type">ServerProvider</a>.<a href="ServerProvider.scala.html#play.core.server.ServerProvider.fromConfiguration" title="(classLoader: ClassLoader, configuration: play.api.Configuration)play.core.server.ServerProvider">fromConfiguration</a><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.classLoader" title="ClassLoader">classLoader</a>, <a href="#play.core.server.DevServerStart.mainDev.serverConfig" title="play.core.server.ServerConfig">serverConfig</a>.<a href="ServerConfig.scala.html#play.core.server;ServerConfig.configuration" title="=&gt; play.api.Configuration">configuration</a><span class="delimiter">)</span>
        <a href="#play.core.server.DevServerStart.mainDev.serverProvider" title="play.core.server.ServerProvider">serverProvider</a>.<a href="ServerProvider.scala.html#play.core.server;ServerProvider.createServer(3040ac8e4c)" title="(context: play.core.server.ServerProvider.Context)play.core.server.Server">createServer</a><span class="delimiter">(</span><a href="#play.core.server.DevServerStart.mainDev.serverContext" title="play.core.server.ServerProvider.Context">serverContext</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="ExceptionInInitializerError" id="play.core.server.DevServerStart.mainDev.e">e</a>: <span title="ExceptionInInitializerError">ExceptionInInitializerError</span> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#play.core.server.DevServerStart.mainDev.e" title="ExceptionInInitializerError">e</a>.<span title="()Throwable">getCause</span>
      <span class="delimiter">}</span>

    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>
        </pre>
    </body>
</html>
