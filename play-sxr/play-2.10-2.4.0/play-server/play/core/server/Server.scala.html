<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>play-server/play/core/server/Server.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright (C) 2009-2015 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
<span class="keyword">package</span> play.core.server

<span class="keyword">import</span> com.typesafe.config.ConfigFactory
<span class="keyword">import</span> play.api.http.<span class="delimiter">{</span> Port, DefaultHttpErrorHandler <span class="delimiter">}</span>
<span class="keyword">import</span> play.api.routing.Router

<span class="keyword">import</span> scala.<span title="language.type">language</span>.postfixOps

<span class="keyword">import</span> play.api._
<span class="keyword">import</span> play.api.mvc._
<span class="keyword">import</span> play.core.<span class="delimiter">{</span> DefaultWebCommands, ApplicationProvider <span class="delimiter">}</span>

<span class="keyword">import</span> scala.util.<span class="delimiter">{</span> Try, Success, Failure <span class="delimiter">}</span>
<span class="keyword">import</span> scala.concurrent.Future

<span class="keyword">trait</span> <a title="trait WebSocketable extends AnyRef" id="play.core.server;WebSocketable">WebSocketable</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(header: String)String" id="play.core.server;WebSocketable.getHeader">getHeader</a><span class="delimiter">(</span><a title="String" id="play.core.server;WebSocketable.getHeader.header">header</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="play.core.server;WebSocketable.check">check</a>: <span title="Boolean">Boolean</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * provides generic server behaviour for Play applications
 */</span>
<span title="AnyRef" class="keyword">trait</span> <a title="trait Server extends Object with play.core.server.ServerWithStop" id="play.core.server;Server">Server</a> <span title="Unit" class="keyword">extends</span> <span title="play.core.server.ServerWithStop">ServerWithStop</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="=&gt; play.api.Mode.Mode" id="play.core.server;Server.mode">mode</a>: Mode.<span title="play.api.Mode.Mode">Mode</span>

  <span class="keyword">def</span> <a title="(request: play.api.mvc.RequestHeader)Either[scala.concurrent.Future[play.api.mvc.Result],(play.api.mvc.RequestHeader, play.api.mvc.Handler, play.api.Application)]" id="play.core.server;Server.getHandlerFor">getHandlerFor</a><span class="delimiter">(</span><a title="play.api.mvc.RequestHeader" id="play.core.server;Server.getHandlerFor.request">request</a>: <a href="../../../../play/play/api/mvc/Http.scala.html#play.api.mvc;RequestHeader" title="play.api.mvc.RequestHeader">RequestHeader</a><span class="delimiter">)</span>: <span title="Either[scala.concurrent.Future[play.api.mvc.Result],(play.api.mvc.RequestHeader, play.api.mvc.Handler, play.api.Application)]">Either</span><span class="delimiter">[</span>Future<span class="delimiter">[</span>Result<span class="delimiter">]</span>, <span class="delimiter">(</span>RequestHeader, Handler, Application<span class="delimiter">)</span><span class="delimiter">]</span> = <span class="delimiter">{</span>

    <span class="keyword">import</span> scala.util.control.Exception

    <span class="keyword">def</span> <a title="=&gt; scala.util.Try[(play.api.mvc.RequestHeader, play.api.mvc.Handler, play.api.Application)]" id="play.core.server;Server.getHandlerFor.sendHandler">sendHandler</a>: <span title="scala.util.Try[(play.api.mvc.RequestHeader, play.api.mvc.Handler, play.api.Application)]">Try</span><span class="delimiter">[</span><span class="delimiter">(</span>RequestHeader, Handler, Application<span class="delimiter">)</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#play.core.server;Server.applicationProvider" title="=&gt; play.core.ApplicationProvider">applicationProvider</a>.<a href="../../../../play/play/core/ApplicationProvider.scala.html#play.core;ApplicationProvider.get" title="=&gt; scala.util.Try[play.api.Application]">get</a>.<span title="(f: play.api.Application =&gt; (play.api.mvc.RequestHeader, play.api.mvc.Handler, play.api.Application))scala.util.Try[(play.api.mvc.RequestHeader, play.api.mvc.Handler, play.api.Application)]">map</span> <span class="delimiter">{</span> <a title="play.api.Application" id="play.core.server;Server.getHandlerFor.sendHandler.$anonfun.application">application</a> =&gt;
          <a href="#play.core.server;Server.getHandlerFor.sendHandler.$anonfun.application" title="play.api.Application">application</a>.<a href="../../../../play/play/api/Application.scala.html#play.api;Application.requestHandler" title="=&gt; play.api.http.HttpRequestHandler">requestHandler</a>.<a href="../../../../play/play/api/http/HttpRequestHandler.scala.html#play.api.http;HttpRequestHandler.handlerForRequest" title="(request: play.api.mvc.RequestHeader)(play.api.mvc.RequestHeader, play.api.mvc.Handler)">handlerForRequest</a><span class="delimiter">(</span><a href="#play.core.server;Server.getHandlerFor.request" title="play.api.mvc.RequestHeader">request</a><span class="delimiter">)</span> <span title="(play.api.mvc.RequestHeader, play.api.mvc.Handler, play.api.Application)" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span class="delimiter">(</span><a title="play.api.mvc.RequestHeader" id="play.core.server;Server.getHandlerFor.sendHandler.$anonfun.requestHeader">requestHeader</a>, <a title="play.api.mvc.Handler" id="play.core.server;Server.getHandlerFor.sendHandler.$anonfun.handler">handler</a><span class="delimiter">)</span> =&gt; <span title="(_1: play.api.mvc.RequestHeader, _2: play.api.mvc.Handler, _3: play.api.Application)(play.api.mvc.RequestHeader, play.api.mvc.Handler, play.api.Application)" class="delimiter">(</span><a href="#play.core.server;Server.getHandlerFor.sendHandler.$anonfun.requestHeader" title="play.api.mvc.RequestHeader">requestHeader</a>, <a href="#play.core.server;Server.getHandlerFor.sendHandler.$anonfun.handler" title="play.api.mvc.Handler">handler</a>, <a href="#play.core.server;Server.getHandlerFor.sendHandler.$anonfun.application" title="play.api.Application">application</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="ThreadDeath">e</span>: <span title="ThreadDeath">ThreadDeath</span> =&gt; <span title="Nothing" class="keyword">throw</span> <span title="ThreadDeath">e</span>
        <span class="keyword">case</span> <span title="VirtualMachineError">e</span>: <span title="VirtualMachineError">VirtualMachineError</span> =&gt; <span title="Nothing" class="keyword">throw</span> <span title="VirtualMachineError">e</span>
        <span class="keyword">case</span> <span title="Throwable">e</span>: <span title="Throwable">Throwable</span> =&gt; <span title="(exception: Throwable)scala.util.Failure[Nothing]">Failure</span><span class="delimiter">(</span><span title="Throwable">e</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(e: Throwable)scala.concurrent.Future[play.api.mvc.Result]" id="play.core.server;Server.getHandlerFor.logExceptionAndGetResult">logExceptionAndGetResult</a><span class="delimiter">(</span><a title="Throwable" id="play.core.server;Server.getHandlerFor.logExceptionAndGetResult.e">e</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="../../../../play/play/api/http/HttpErrorHandler.scala.html#play.api.http.DefaultHttpErrorHandler" title="play.api.http.DefaultHttpErrorHandler.type">DefaultHttpErrorHandler</a>.<a href="../../../../play/play/api/http/HttpErrorHandler.scala.html#play.api.http;DefaultHttpErrorHandler.onServerError" title="(request: play.api.mvc.RequestHeader, exception: Throwable)scala.concurrent.Future[play.api.mvc.Result]">onServerError</a><span class="delimiter">(</span><a href="#play.core.server;Server.getHandlerFor.request" title="play.api.mvc.RequestHeader">request</a>, <a href="#play.core.server;Server.getHandlerFor.logExceptionAndGetResult.e" title="Throwable">e</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span title="scala.util.control.Exception.type">Exception</span>
      .<span title="[T]=&gt; scala.util.control.Exception.Catch[T]">allCatch</span><span title="scala.util.control.Exception.Catch[Option[scala.concurrent.Future[play.api.mvc.Result]]]" class="delimiter">[</span><span title="Option[scala.concurrent.Future[play.api.mvc.Result]]">Option</span><span class="delimiter">[</span>Future<span class="delimiter">[</span>Result<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span>
      .<span title="(body: =&gt; Option[scala.concurrent.Future[play.api.mvc.Result]])scala.util.Either[Throwable,Option[scala.concurrent.Future[play.api.mvc.Result]]]">either</span><span class="delimiter">(</span><a href="#play.core.server;Server.applicationProvider" title="=&gt; play.core.ApplicationProvider">applicationProvider</a>.<a href="../../../../play/play/core/ApplicationProvider.scala.html#play.core;ApplicationProvider.handleWebCommand" title="(requestHeader: play.api.mvc.RequestHeader)Option[play.api.mvc.Result]">handleWebCommand</a><span class="delimiter">(</span><a href="#play.core.server;Server.getHandlerFor.request" title="play.api.mvc.RequestHeader">request</a><span class="delimiter">)</span>.<span title="(f: play.api.mvc.Result =&gt; scala.concurrent.Future[play.api.mvc.Result])Option[scala.concurrent.Future[play.api.mvc.Result]]">map</span><span class="delimiter">(</span><span title="scala.concurrent.Future.type">Future</span>.<a href="#play.core.server;Server.getHandlerFor.$anonfun.result" title="(result: play.api.mvc.Result)scala.concurrent.Future[play.api.mvc.Result]">successful</a><span class="delimiter">)</span><span class="delimiter">)</span>
      .<span title="=&gt; scala.util.Either.LeftProjection[Throwable,Option[scala.concurrent.Future[play.api.mvc.Result]]]">left</span>.<span title="(f: Throwable =&gt; scala.concurrent.Future[play.api.mvc.Result])Serializable with Product with scala.util.Either[scala.concurrent.Future[play.api.mvc.Result],Option[scala.concurrent.Future[play.api.mvc.Result]]]">map</span><span class="delimiter">(</span><a href="#play.core.server;Server.getHandlerFor.logExceptionAndGetResult" title="(e: Throwable)scala.concurrent.Future[play.api.mvc.Result]">logExceptionAndGetResult</a><span class="delimiter">)</span>
      .<span title="=&gt; scala.util.Either.RightProjection[scala.concurrent.Future[play.api.mvc.Result],Option[scala.concurrent.Future[play.api.mvc.Result]]]">right</span>.<span title="(f: Option[scala.concurrent.Future[play.api.mvc.Result]] =&gt; scala.util.Either[scala.concurrent.Future[play.api.mvc.Result],Unit])scala.util.Either[scala.concurrent.Future[play.api.mvc.Result],Unit]">flatMap</span><span class="delimiter">(</span><a title="Option[scala.concurrent.Future[play.api.mvc.Result]]" id="play.core.server;Server.getHandlerFor.$anonfun.maybeResult">maybeResult</a> =&gt; <a href="#play.core.server;Server.getHandlerFor.$anonfun.maybeResult" title="Option[scala.concurrent.Future[play.api.mvc.Result]]">maybeResult</a>.<span title="(right: =&gt; Unit)Serializable with Product with scala.util.Either[scala.concurrent.Future[play.api.mvc.Result],Unit]">toLeft</span><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; scala.util.Either.RightProjection[scala.concurrent.Future[play.api.mvc.Result],Unit]">right</span>.<span title="(f: Unit =&gt; scala.util.Either[scala.concurrent.Future[play.api.mvc.Result],(play.api.mvc.RequestHeader, play.api.mvc.Handler, play.api.Application)])scala.util.Either[scala.concurrent.Future[play.api.mvc.Result],(play.api.mvc.RequestHeader, play.api.mvc.Handler, play.api.Application)]">flatMap</span> <span class="delimiter">{</span> <a title="Unit" id="play.core.server;Server.getHandlerFor.$anonfun.x$1">_</a> =&gt;
        <a href="#play.core.server;Server.getHandlerFor.sendHandler" title="=&gt; scala.util.Try[(play.api.mvc.RequestHeader, play.api.mvc.Handler, play.api.Application)]">sendHandler</a> <span title="scala.util.Either[scala.concurrent.Future[play.api.mvc.Result],(play.api.mvc.RequestHeader, play.api.mvc.Handler, play.api.Application)]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> Failure<span class="delimiter">(</span><a title="Throwable" id="play.core.server;Server.getHandlerFor.$anonfun.e">e</a><span class="delimiter">)</span> =&gt; <span title="(a: scala.concurrent.Future[play.api.mvc.Result])scala.util.Left[scala.concurrent.Future[play.api.mvc.Result],Nothing]">Left</span><span class="delimiter">(</span><a href="#play.core.server;Server.getHandlerFor.logExceptionAndGetResult" title="(e: Throwable)scala.concurrent.Future[play.api.mvc.Result]">logExceptionAndGetResult</a><span class="delimiter">(</span><a href="#play.core.server;Server.getHandlerFor.$anonfun.e" title="Throwable">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> Success<span class="delimiter">(</span><a title="(play.api.mvc.RequestHeader, play.api.mvc.Handler, play.api.Application)" id="play.core.server;Server.getHandlerFor.$anonfun.v">v</a><span class="delimiter">)</span> =&gt; <span title="(b: (play.api.mvc.RequestHeader, play.api.mvc.Handler, play.api.Application))scala.util.Right[Nothing,(play.api.mvc.RequestHeader, play.api.mvc.Handler, play.api.Application)]">Right</span><span class="delimiter">(</span><a href="#play.core.server;Server.getHandlerFor.$anonfun.v" title="(play.api.mvc.RequestHeader, play.api.mvc.Handler, play.api.Application)">v</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; play.core.ApplicationProvider" id="play.core.server;Server.applicationProvider">applicationProvider</a>: <a href="../../../../play/play/core/ApplicationProvider.scala.html#play.core;ApplicationProvider" title="play.core.ApplicationProvider">ApplicationProvider</a>

  <span class="keyword">def</span> <a title="()Unit" id="play.core.server;Server.stop">stop</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../../../../play/play/api/Logger.scala.html#play.api.Logger" title="play.api.Logger.type">Logger</a>.<a href="../../../../play/play/api/Logger.scala.html#play.api.Logger.shutdown" title="()Unit">shutdown</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the HTTP port of the server.
   *
   * This is useful when the port number has been automatically selected (by setting a port number of 0).
   *
   * @return The HTTP port the server is bound to, if the HTTP connector is enabled.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Option[Int]" id="play.core.server;Server.httpPort">httpPort</a>: <span title="Option[Int]">Option</span><span class="delimiter">[</span>Int<span class="delimiter">]</span>

  <span class="comment">/**
   * Returns the HTTPS port of the server.
   *
   * This is useful when the port number has been automatically selected (by setting a port number of 0).
   *
   * @return The HTTPS port the server is bound to, if the HTTPS connector is enabled.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Option[Int]" id="play.core.server;Server.httpsPort">httpsPort</a>: <span title="Option[Int]">Option</span><span class="delimiter">[</span>Int<span class="delimiter">]</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * Utilities for creating a server that runs around a block of code.
 */</span>
<span class="keyword">object</span> <a title="play.core.server.Server.type" id="play.core.server.Server">Server</a> <a href="#play.core.server.Server" title="play.core.server.Server.type" class="delimiter">{</a>

  <span class="comment">/**
   * Run a block of code with a server for the given application.
   *
   * The passed in block takes the port that the application is running on. By default, this will be a random ephemeral
   * port. This can be changed by passing in an explicit port with the config parameter.
   *
   * @param application The application for the server to server.
   * @param config The configuration for the server. Defaults to test config with the http port bound to a random
   *               ephemeral port.
   * @param block The block of code to run.
   * @param provider The server provider.
   * @return The result of the block of code.
   */</span>
  <span class="keyword">def</span> <a title="[T](application: play.api.Application, config: play.core.server.ServerConfig)(block: play.api.http.Port =&gt; T)(implicit provider: play.core.server.ServerProvider)T" id="play.core.server.Server.withApplication">withApplication</a><span class="delimiter">[</span><a title="" id="play.core.server.Server.withApplication$default$2;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.Application" id="play.core.server.Server.withApplication.application">application</a>: <a href="../../../../play/play/api/Application.scala.html#play.api;Application" title="play.api.Application">Application</a>, <a title="play.core.server.ServerConfig" id="play.core.server.Server.withApplication$default$2">config</a>: <a href="ServerConfig.scala.html#play.core.server;ServerConfig" title="play.core.server.ServerConfig">ServerConfig</a> = <a href="ServerConfig.scala.html#play.core.server.ServerConfig.apply$default$1" title="ClassLoader" id="play.core.server.Server.withApplication$default$2.x$22">ServerConfig</a><span class="delimiter">(</span>port = <span title="(x: Int)Some[Int]">Some</span><a title="Some[Int] @scala.reflect.internal.annotations.uncheckedBounds" id="play.core.server.Server.withApplication$default$2.x$16" class="delimiter">(</a><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>, mode = <a href="../../../../play/play/api/Play.scala.html#play.api.Mode" title="play.api.Mode.type">Mode</a>.<a href="../../../../play/play/api/Play.scala.html#play.api.Mode.Test" title="play.api.Mode.Value" id="play.core.server.Server.withApplication$default$2.x$17">Test</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="play.api.http.Port =&gt; T" id="play.core.server.Server.withApplication.block">block</a>: Port =&gt; T<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="play.core.server.ServerProvider" id="play.core.server.Server.withApplication.provider">provider</a>: <a href="ServerProvider.scala.html#play.core.server;ServerProvider" title="play.core.server.ServerProvider">ServerProvider</a><span class="delimiter">)</span>: <a href="#play.core.server.Server.withApplication$default$2;T" title="T">T</a> = <span class="delimiter">{</span>
    <a href="../../../../play/play/api/Play.scala.html#play.api.Play" title="play.api.Play.type">Play</a>.<a href="../../../../play/play/api/Play.scala.html#play.api.Play.start" title="(app: play.api.Application)Unit">start</a><span class="delimiter">(</span><a href="#play.core.server.Server.withApplication.application" title="play.api.Application">application</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="play.core.server.Server" id="play.core.server.Server.withApplication.server">server</a> = <a href="#play.core.server.Server.withApplication.provider" title="play.core.server.ServerProvider">provider</a>.<a href="ServerProvider.scala.html#play.core.server;ServerProvider.createServer(e55918b811)" title="(config: play.core.server.ServerConfig, app: play.api.Application)play.core.server.Server">createServer</a><span class="delimiter">(</span><a href="#play.core.server.Server.withApplication$default$2" title="play.core.server.ServerConfig">config</a>, <a href="#play.core.server.Server.withApplication.application" title="play.api.Application">application</a><span class="delimiter">)</span>
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <a href="#play.core.server.Server.withApplication.block" title="(v1: play.api.http.Port)T">block</a><span class="delimiter">(</span><span title="play.api.http.Port" class="keyword">new</span> <a href="../../../../play/play/api/http/Port.scala.html#play.api.http;Port" title="play.api.http.Port">Port</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="#play.core.server.Server.withApplication.server" title="play.core.server.Server">server</a>.<a href="#play.core.server;Server.httpPort" title="=&gt; Option[Int]">httpPort</a> <span title="(alternative: =&gt; Option[Int])Option[Int]">orElse</span> <a href="#play.core.server.Server.withApplication.server" title="play.core.server.Server">server</a>.<a href="#play.core.server;Server.httpsPort" title="=&gt; Option[Int]">httpsPort</a><span class="delimiter">)</span>.<span title="=&gt; Int">get</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
      <a href="#play.core.server.Server.withApplication.server" title="play.core.server.Server">server</a>.<a href="#play.core.server;Server.stop" title="()Unit">stop</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Run a block of code with a server for the given routes.
   *
   * The passed in block takes the port that the application is running on. By default, this will be a random ephemeral
   * port. This can be changed by passing in an explicit port with the config parameter.
   *
   * @param routes The routes for the server to server.
   * @param config The configuration for the server. Defaults to test config with the http port bound to a random
   *               ephemeral port.
   * @param block The block of code to run.
   * @param provider The server provider.
   * @return The result of the block of code.
   */</span>
  <span class="keyword">def</span> <a title="[T](config: play.core.server.ServerConfig)(routes: PartialFunction[play.api.mvc.RequestHeader,play.api.mvc.Handler])(block: play.api.http.Port =&gt; T)(implicit provider: play.core.server.ServerProvider)T" id="play.core.server.Server.withRouter">withRouter</a><span class="delimiter">[</span><a title="" id="play.core.server.Server.withRouter$default$1;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.core.server.ServerConfig" id="play.core.server.Server.withRouter$default$1">config</a>: <a href="ServerConfig.scala.html#play.core.server;ServerConfig" title="play.core.server.ServerConfig">ServerConfig</a> = <a href="ServerConfig.scala.html#play.core.server.ServerConfig.apply$default$1" title="ClassLoader" id="play.core.server.Server.withRouter$default$1.x$29">ServerConfig</a><span class="delimiter">(</span>port = <span title="(x: Int)Some[Int]">Some</span><a title="Some[Int] @scala.reflect.internal.annotations.uncheckedBounds" id="play.core.server.Server.withRouter$default$1.x$23" class="delimiter">(</a><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>, mode = <a href="../../../../play/play/api/Play.scala.html#play.api.Mode" title="play.api.Mode.type">Mode</a>.<a href="../../../../play/play/api/Play.scala.html#play.api.Mode.Test" title="play.api.Mode.Value" id="play.core.server.Server.withRouter$default$1.x$24">Test</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="PartialFunction[play.api.mvc.RequestHeader,play.api.mvc.Handler]" id="play.core.server.Server.withRouter.routes">routes</a>: <span title="PartialFunction[play.api.mvc.RequestHeader,play.api.mvc.Handler]">PartialFunction</span><span class="delimiter">[</span>RequestHeader, Handler<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="play.api.http.Port =&gt; T" id="play.core.server.Server.withRouter.block">block</a>: Port =&gt; T<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="play.core.server.ServerProvider" id="play.core.server.Server.withRouter.provider">provider</a>: <a href="ServerProvider.scala.html#play.core.server;ServerProvider" title="play.core.server.ServerProvider">ServerProvider</a><span class="delimiter">)</span>: <a href="#play.core.server.Server.withRouter$default$1;T" title="T">T</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="play.api.Application" id="play.core.server.Server.withRouter.application">application</a> = <a href="#play.core.server.Server.withRouter.application;$anon" title="play.api.BuiltInComponentsFromContext" class="keyword">new</a> <a href="../../../../play/play/api/ApplicationLoader.scala.html#play.api;BuiltInComponentsFromContext" title="anonymous class $anon extends play.api.BuiltInComponentsFromContext" id="play.core.server.Server.withRouter.application;$anon">BuiltInComponentsFromContext</a><span class="delimiter">(</span><a href="../../../../play/play/api/ApplicationLoader.scala.html#play.api.ApplicationLoader" title="play.api.ApplicationLoader.type">ApplicationLoader</a>.<a href="../../../../play/play/api/ApplicationLoader.scala.html#play.api.ApplicationLoader;Context" title="(environment: play.api.Environment, sourceMapper: Option[play.core.SourceMapper], webCommands: play.core.WebCommands, initialConfiguration: play.api.Configuration)play.api.ApplicationLoader.Context">Context</a><span class="delimiter">(</span>
      <a href="../../../../play/play/api/Environment.scala.html#play.api.Environment" title="play.api.Environment.type">Environment</a>.<a href="../../../../play/play/api/Environment.scala.html#play.api.Environment.simple" title="(path: java.io.File, mode: play.api.Mode.Mode)play.api.Environment">simple</a><span class="delimiter">(</span>path = <a href="#play.core.server.Server.withRouter$default$1" title="play.core.server.ServerConfig">config</a>.<a href="ServerConfig.scala.html#play.core.server;ServerConfig.rootDir" title="=&gt; java.io.File">rootDir</a>, mode = <a href="#play.core.server.Server.withRouter$default$1" title="play.core.server.ServerConfig">config</a>.<a href="ServerConfig.scala.html#play.core.server;ServerConfig.mode" title="=&gt; play.api.Mode.Mode">mode</a><span class="delimiter">)</span>,
      <span title="None.type">None</span>, <span title="play.core.DefaultWebCommands" class="keyword">new</span> <a href="../../../../play/play/core/system/WebCommands.scala.html#play.core;DefaultWebCommands" title="play.core.DefaultWebCommands">DefaultWebCommands</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="../../../../play/play/api/Configuration.scala.html#play.api;Configuration" title="(underlying: com.typesafe.config.Config)play.api.Configuration">Configuration</a><span class="delimiter">(</span><span title="com.typesafe.config.ConfigFactory.type">ConfigFactory</span>.<span title="()com.typesafe.config.Config">load</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; play.api.routing.Router" id="play.core.server.Server.withRouter.application;$anon.router">router</a> = <a href="../../../../play/play/api/routing/Router.scala.html#play.api.routing.Router" title="play.api.routing.Router.type">Router</a>.<a href="../../../../play/play/api/routing/Router.scala.html#play.api.routing.Router.from" title="(routes: play.api.routing.Router.Routes)play.api.routing.Router">from</a><span class="delimiter">(</span><a href="#play.core.server.Server.withRouter.routes" title="PartialFunction[play.api.mvc.RequestHeader,play.api.mvc.Handler]">routes</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>.<a href="../../../../play/play/api/Application.scala.html#play.api;BuiltInComponents.application" title="=&gt; play.api.Application">application</a>
    <a href="#play.core.server.Server.withApplication" title="(application: play.api.Application, config: play.core.server.ServerConfig)(block: play.api.http.Port =&gt; T)(implicit provider: play.core.server.ServerProvider)T">withApplication</a><span class="delimiter">(</span><a href="#play.core.server.Server.withRouter.application" title="play.api.Application">application</a>, <a href="#play.core.server.Server.withRouter$default$1" title="play.core.server.ServerConfig">config</a><span class="delimiter">)</span><a href="#play.core.server.Server.withRouter.provider" title="play.core.server.ServerProvider" class="delimiter">(</a><a href="#play.core.server.Server.withRouter.block" title="play.api.http.Port =&gt; T">block</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span title="AnyRef" class="keyword">private</span><span class="delimiter">[</span>play<span class="delimiter">]</span> <span class="keyword">object</span> <a title="play.core.server.JavaServerHelper.type" id="play.core.server.JavaServerHelper">JavaServerHelper</a> <a href="#play.core.server.JavaServerHelper" title="play.core.server.JavaServerHelper.type" class="delimiter">{</a>
  <span class="keyword">def</span> <a title="(router: play.api.routing.Router, mode: play.api.Mode.Mode, port: Int)play.core.server.Server" id="play.core.server.JavaServerHelper.forRouter">forRouter</a><span class="delimiter">(</span><a title="play.api.routing.Router" id="play.core.server.JavaServerHelper.forRouter.router">router</a>: <a href="../../../../play/play/api/routing/Router.scala.html#play.api.routing;Router" title="play.api.routing.Router">Router</a>, <a title="play.api.Mode.Mode" id="play.core.server.JavaServerHelper.forRouter.mode">mode</a>: Mode.<span title="play.api.Mode.Mode">Mode</span>, <a title="Int" id="play.core.server.JavaServerHelper.forRouter.port">port</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#play.core.server;Server" title="play.core.server.Server">Server</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="play.api.routing.Router" id="play.core.server.JavaServerHelper.forRouter.r">r</a> = <a href="#play.core.server.JavaServerHelper.forRouter.router" title="play.api.routing.Router">router</a>
    <span class="keyword">val</span> <a title="play.api.Application" id="play.core.server.JavaServerHelper.forRouter.application">application</a> = <a href="#play.core.server.JavaServerHelper.forRouter.application;$anon" title="play.api.BuiltInComponentsFromContext" class="keyword">new</a> <a href="../../../../play/play/api/ApplicationLoader.scala.html#play.api;BuiltInComponentsFromContext" title="anonymous class $anon extends play.api.BuiltInComponentsFromContext" id="play.core.server.JavaServerHelper.forRouter.application;$anon">BuiltInComponentsFromContext</a><span class="delimiter">(</span><a href="../../../../play/play/api/ApplicationLoader.scala.html#play.api.ApplicationLoader" title="play.api.ApplicationLoader.type">ApplicationLoader</a>.<a href="../../../../play/play/api/ApplicationLoader.scala.html#play.api.ApplicationLoader;Context" title="(environment: play.api.Environment, sourceMapper: Option[play.core.SourceMapper], webCommands: play.core.WebCommands, initialConfiguration: play.api.Configuration)play.api.ApplicationLoader.Context">Context</a><span class="delimiter">(</span>
      <a href="../../../../play/play/api/Environment.scala.html#play.api.Environment" title="play.api.Environment.type">Environment</a>.<a href="../../../../play/play/api/Environment.scala.html#play.api.Environment.simple$default$1" title="java.io.File" id="play.core.server.JavaServerHelper.forRouter.application;$anon.x$31">simple</a><span class="delimiter">(</span>mode = <a href="#play.core.server.JavaServerHelper.forRouter.mode" title="play.api.Mode.Mode" id="play.core.server.JavaServerHelper.forRouter.application;$anon.x$30">mode</a><span class="delimiter">)</span>,
      <span title="None.type">None</span>, <span title="play.core.DefaultWebCommands" class="keyword">new</span> <a href="../../../../play/play/core/system/WebCommands.scala.html#play.core;DefaultWebCommands" title="play.core.DefaultWebCommands">DefaultWebCommands</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="../../../../play/play/api/Configuration.scala.html#play.api;Configuration" title="(underlying: com.typesafe.config.Config)play.api.Configuration">Configuration</a><span class="delimiter">(</span><span title="com.typesafe.config.ConfigFactory.type">ConfigFactory</span>.<span title="()com.typesafe.config.Config">load</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; play.api.routing.Router" id="play.core.server.JavaServerHelper.forRouter.application;$anon.router">router</a> = <a href="#play.core.server.JavaServerHelper.forRouter.r" title="play.api.routing.Router">r</a>
    <span class="delimiter">}</span>.<a href="../../../../play/play/api/Application.scala.html#play.api;BuiltInComponents.application" title="=&gt; play.api.Application">application</a>
    <a href="../../../../play/play/api/Play.scala.html#play.api.Play" title="play.api.Play.type">Play</a>.<a href="../../../../play/play/api/Play.scala.html#play.api.Play.start" title="(app: play.api.Application)Unit">start</a><span class="delimiter">(</span><a href="#play.core.server.JavaServerHelper.forRouter.application" title="play.api.Application">application</a><span class="delimiter">)</span>
    <span title="[T](implicit e: T)T">implicitly</span><a href="ServerProvider.scala.html#play.core.server.ServerProvider.defaultServerProvider" title="(implicit e: play.core.server.ServerProvider)play.core.server.ServerProvider" class="delimiter">[</a><a href="ServerProvider.scala.html#play.core.server;ServerProvider" title="play.core.server.ServerProvider">ServerProvider</a><span class="delimiter">]</span>.<a href="ServerProvider.scala.html#play.core.server;ServerProvider.createServer(e55918b811)" title="(config: play.core.server.ServerConfig, app: play.api.Application)play.core.server.Server">createServer</a><span class="delimiter">(</span><a href="ServerConfig.scala.html#play.core.server.ServerConfig.apply$default$1" title="ClassLoader" id="play.core.server.JavaServerHelper.forRouter.x$38">ServerConfig</a><span class="delimiter">(</span>mode = <a href="#play.core.server.JavaServerHelper.forRouter.mode" title="play.api.Mode.Mode" id="play.core.server.JavaServerHelper.forRouter.x$32">mode</a>, port = <span title="(x: Int)Some[Int]">Some</span><a title="Some[Int] @scala.reflect.internal.annotations.uncheckedBounds" id="play.core.server.JavaServerHelper.forRouter.x$33" class="delimiter">(</a><a href="#play.core.server.JavaServerHelper.forRouter.port" title="Int">port</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#play.core.server.JavaServerHelper.forRouter.application" title="play.api.Application">application</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>
        </pre>
    </body>
</html>
