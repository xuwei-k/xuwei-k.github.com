<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>play-streams-experimental/play/api/libs/streams/impl/PublisherEnumerator.scala</title>
        <script type="text/javascript" src="../../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> play.api.libs.streams.impl

<span class="keyword">import</span> org.reactivestreams._
<span class="keyword">import</span> play.api.libs.iteratee._
<span class="keyword">import</span> scala.concurrent.<span class="delimiter">{</span> ExecutionContext, Future, Promise <span class="delimiter">}</span>

<span class="comment">/**
 * Adapts a Publisher to an Enumerator.
 *
 * When an Iteratee is applied to the Enumerator, we adapt the Iteratee into
 * a Subscriber, then subscribe it to the Publisher.
 */</span>
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class PublisherEnumerator[T] extends AnyRef with play.api.libs.iteratee.Enumerator[T]" id="play.api.libs.streams.impl;PublisherEnumerator">PublisherEnumerator</a><span class="delimiter">[</span><a title="" id="play.api.libs.streams.impl;PublisherEnumerator;T">T</a><span class="delimiter">]</span><a href="#play.api.libs.streams.impl;PublisherEnumerator" title="play.api.libs.streams.impl.PublisherEnumerator[T]" class="delimiter">(</a><a title="org.reactivestreams.Publisher[T]" id="play.api.libs.streams.impl;PublisherEnumerator.pubr">pubr</a>: <span title="org.reactivestreams.Publisher[T]">Publisher</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee;Enumerator" title="play.api.libs.iteratee.Enumerator[T]">Enumerator</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[A](i: play.api.libs.iteratee.Iteratee[T,A])scala.concurrent.Future[play.api.libs.iteratee.Iteratee[T,A]]" id="play.api.libs.streams.impl;PublisherEnumerator.apply">apply</a><span class="delimiter">[</span><a title="" id="play.api.libs.streams.impl;PublisherEnumerator.apply;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[T,A]" id="play.api.libs.streams.impl;PublisherEnumerator.apply.i">i</a>: <a href="../../../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[T,A]">Iteratee</a><span class="delimiter">[</span>T, A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scala.concurrent.Future[play.api.libs.iteratee.Iteratee[T,A]]">Future</span><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>T, A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="play.api.libs.streams.impl.IterateeSubscriber[T,A,Nothing]" id="play.api.libs.streams.impl;PublisherEnumerator.apply.subr">subr</a> = <span title="play.api.libs.streams.impl.IterateeSubscriber[T,A,Nothing]" class="keyword">new</span> <a href="IterateeSubscriber.scala.html#play.api.libs.streams.impl;IterateeSubscriber" title="play.api.libs.streams.impl.IterateeSubscriber[T,A,Nothing]">IterateeSubscriber</a><span class="delimiter">(</span><a href="#play.api.libs.streams.impl;PublisherEnumerator.apply.i" title="play.api.libs.iteratee.Iteratee[T,A]">i</a><span class="delimiter">)</span>
    <a href="#play.api.libs.streams.impl;PublisherEnumerator.pubr" title="org.reactivestreams.Publisher[T]">pubr</a>.<span title="(x$1: org.reactivestreams.Subscriber[_ &gt;: T])Unit">subscribe</span><span class="delimiter">(</span><a href="#play.api.libs.streams.impl;PublisherEnumerator.apply.subr" title="play.api.libs.streams.impl.IterateeSubscriber[T,A,Nothing]">subr</a><span class="delimiter">)</span>
    <span title="scala.concurrent.Future.type">Future</span>.<span title="(result: play.api.libs.iteratee.Iteratee[T,A])scala.concurrent.Future[play.api.libs.iteratee.Iteratee[T,A]]">successful</span><span class="delimiter">(</span><a href="#play.api.libs.streams.impl;PublisherEnumerator.apply.subr" title="play.api.libs.streams.impl.IterateeSubscriber[T,A,Nothing]">subr</a>.<a href="IterateeSubscriber.scala.html#play.api.libs.streams.impl;IterateeSubscriber.result" title="=&gt; play.api.libs.iteratee.Iteratee[T,A]">result</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
