<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>play/play/core/j/JavaAction.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright (C) 2009-2015 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
<span class="keyword">package</span> play.core.j

<span class="keyword">import</span> javax.inject.Inject

<span class="keyword">import</span> play.api.http.<span class="delimiter">{</span> HttpConfiguration, HttpRequestHandler <span class="delimiter">}</span>
<span class="keyword">import</span> play.api.inject.<span class="delimiter">{</span> Injector, NewInstanceInjector <span class="delimiter">}</span>

<span class="keyword">import</span> scala.<span title="language.type">language</span>.existentials

<span class="keyword">import</span> play.api.libs.iteratee.<a href="../../../../play-iteratees/play/api/libs/iteratee/Execution.scala.html#play.api.libs.iteratee.Execution" title="play.api.libs.iteratee.Execution.type">Execution</a>.trampoline
<span class="keyword">import</span> play.api.mvc._
<span class="keyword">import</span> play.mvc.<span class="delimiter">{</span> Action =&gt; JAction, Result =&gt; JResult <span class="delimiter">}</span>
<span class="keyword">import</span> play.mvc.<a href="../../mvc/Http.java.html#play.mvc.Http" title="play.mvc.Http.type">Http</a>.<span class="delimiter">{</span> Context =&gt; JContext <span class="delimiter">}</span>
<span class="keyword">import</span> play.libs.<a href="../../libs/F.java.html#play.libs.F" title="play.libs.F.type">F</a>.<span class="delimiter">{</span> Promise =&gt; JPromise <span class="delimiter">}</span>
<span class="keyword">import</span> scala.concurrent.<span class="delimiter">{</span> ExecutionContext, Future <span class="delimiter">}</span>

<span class="comment">/**
 * Retains and evaluates what is otherwise expensive reflection work on call by call basis.
 * @param controller The controller to be evaluated
 * @param method     The method to be evaluated
 */</span>
<span class="keyword">class</span> <a title="class JavaActionAnnotations extends AnyRef" id="play.core.j;JavaActionAnnotations">JavaActionAnnotations</a><a href="#play.core.j;JavaActionAnnotations" title="play.core.j.JavaActionAnnotations" class="delimiter">(</a><span class="keyword">val</span> <a title="Class[_]" id="play.core.j;JavaActionAnnotations.controller">controller</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span>, <span class="keyword">val</span> <a title="java.lang.reflect.Method" id="play.core.j;JavaActionAnnotations.method">method</a>: java.lang.reflect.<span title="java.lang.reflect.Method">Method</span><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="keyword">val</span> <a title="play.api.mvc.BodyParser[play.mvc.Http.RequestBody]" id="play.core.j;JavaActionAnnotations.parser">parser</a>: <a href="../../api/mvc/Action.scala.html#play.api.mvc;BodyParser" title="play.api.mvc.BodyParser[play.mvc.Http.RequestBody]">BodyParser</a><span class="delimiter">[</span>play.mvc.Http.RequestBody<span class="delimiter">]</span> =
    <span title="(elems: play.mvc.BodyParser.Of*)Seq[play.mvc.BodyParser.Of]">Seq</span><span class="delimiter">(</span><a href="#play.core.j;JavaActionAnnotations.method" title="=&gt; java.lang.reflect.Method">method</a>.<span title="(x$1: Class[play.mvc.BodyParser.Of])play.mvc.BodyParser.Of">getAnnotation</span><span class="delimiter">(</span>classOf<span title="Class[play.mvc.BodyParser.Of](classOf[play.mvc.BodyParser$Of])" class="delimiter">[</span>play.mvc.BodyParser.Of<span class="delimiter">]</span><span class="delimiter">)</span>, <a href="#play.core.j;JavaActionAnnotations.controller" title="=&gt; Class[_]">controller</a>.<span title="(x$1: Class[play.mvc.BodyParser.Of])play.mvc.BodyParser.Of">getAnnotation</span><span class="delimiter">(</span>classOf<span title="Class[play.mvc.BodyParser.Of](classOf[play.mvc.BodyParser$Of])" class="delimiter">[</span>play.mvc.BodyParser.Of<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
      .<span title="(p: play.mvc.BodyParser.Of =&gt; Boolean)Seq[play.mvc.BodyParser.Of]">filterNot</span><span class="delimiter">(</span><a href="#play.core.j;JavaActionAnnotations.parser.$anonfun.x$1" title="play.mvc.BodyParser.Of">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
      .<span title="=&gt; Option[play.mvc.BodyParser.Of]">headOption</span>.<span title="(f: play.mvc.BodyParser.Of =&gt; play.api.mvc.BodyParser[play.mvc.Http.RequestBody])Option[play.api.mvc.BodyParser[play.mvc.Http.RequestBody]]">map</span> <span class="delimiter">{</span> <a title="play.mvc.BodyParser.Of" id="play.core.j;JavaActionAnnotations.parser.$anonfun.bodyParserOf">bodyParserOf</a> =&gt;
        <a href="#play.core.j;JavaActionAnnotations.parser.$anonfun.bodyParserOf" title="play.mvc.BodyParser.Of">bodyParserOf</a>.<a href="../../mvc/BodyParser.java.html#play.mvc.BodyParser;Of.value" title="()Class[_ &lt;: play.mvc.BodyParser]">value</a>.<span title="()_$1">newInstance</span>.<a href="../../mvc/BodyParser.java.html#play.mvc;BodyParser.parser" title="(maxLength: Long)play.api.mvc.BodyParser[play.mvc.Http.RequestBody]">parser</a><span class="delimiter">(</span><a href="#play.core.j;JavaActionAnnotations.parser.$anonfun.bodyParserOf" title="play.mvc.BodyParser.Of">bodyParserOf</a>.<a href="../../mvc/BodyParser.java.html#play.mvc.BodyParser;Of.maxLength" title="()Long">maxLength</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<span title="(default: =&gt; play.api.mvc.BodyParser[play.mvc.Http.RequestBody])play.api.mvc.BodyParser[play.mvc.Http.RequestBody]">getOrElse</span><span class="delimiter">(</span><a href="JavaParsers.scala.html#play.core.j.JavaParsers" title="play.core.j.JavaParsers.type">JavaParsers</a>.<a href="JavaParsers.scala.html#play.core.j.JavaParsers.default_" title="(maxLength: Long)play.api.mvc.BodyParser[play.mvc.Http.RequestBody]">default_</a><span class="delimiter">(</span>-<span title="Long(-1L)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="Seq[java.lang.annotation.Annotation]" id="play.core.j;JavaActionAnnotations.controllerAnnotations">controllerAnnotations</a> = play.api.libs.<a href="../../api/libs/Collections.scala.html#play.api.libs.Collections" title="play.api.libs.Collections.type">Collections</a>.<a href="../../api/libs/Collections.scala.html#play.api.libs.Collections.unfoldLeft" title="[A, B](seed: B)(f: B =&gt; Option[(B, A)])Seq[A]">unfoldLeft</a><span title="(seed: Option[Class[_]])(f: Option[Class[_]] =&gt; Option[(Option[Class[_]], Seq[java.lang.annotation.Annotation])])Seq[Seq[java.lang.annotation.Annotation]]" class="delimiter">[</span><span title="Seq[java.lang.annotation.Annotation]">Seq</span><span class="delimiter">[</span>java.lang.annotation.Annotation<span class="delimiter">]</span>, <span title="Option[Class[_]]">Option</span><span class="delimiter">[</span>Class<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="(x: Class[_$1])Option[Class[_$1]]">Option</span><span class="delimiter">(</span><a href="#play.core.j;JavaActionAnnotations.controller" title="=&gt; Class[_]">controller</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="Option[Class[_]]" id="play.core.j;JavaActionAnnotations.controllerAnnotations.$anonfun.clazz">clazz</a> =&gt;
    <a href="#play.core.j;JavaActionAnnotations.controllerAnnotations.$anonfun.clazz" title="Option[Class[_]]">clazz</a>.<span title="(f: Class[_] =&gt; (Option[Class[?0]], Seq[java.lang.annotation.Annotation]) forSome { type ?0 &gt;: _$2; type _$2 })Option[(Option[Class[?0]], Seq[java.lang.annotation.Annotation]) forSome { type ?0 &gt;: _$2; type _$2 }]">map</span><span class="delimiter">(</span><a title="Class[_]" id="play.core.j;JavaActionAnnotations.controllerAnnotations.$anonfun.$anonfun.c">c</a> =&gt; <span title="(_1: Option[Class[?0]], _2: Seq[java.lang.annotation.Annotation])(Option[Class[?0]], Seq[java.lang.annotation.Annotation])" class="delimiter">(</span><span title="(x: Class[?0])Option[Class[?0]]">Option</span><span class="delimiter">(</span><a href="#play.core.j;JavaActionAnnotations.controllerAnnotations.$anonfun.$anonfun.c" title="Class[_]">c</a>.<span title="()Class[_ &gt;: _$2]">getSuperclass</span><span class="delimiter">)</span>, <a href="#play.core.j;JavaActionAnnotations.controllerAnnotations.$anonfun.$anonfun.c" title="Class[_]">c</a>.<span title="(xs: Array[java.lang.annotation.Annotation])scala.collection.mutable.ArrayOps[java.lang.annotation.Annotation]">getDeclaredAnnotations</span>.<span title="=&gt; Seq[java.lang.annotation.Annotation]">toSeq</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>.<span title="(implicit asTraversable: Seq[java.lang.annotation.Annotation] =&gt; scala.collection.GenTraversableOnce[java.lang.annotation.Annotation])Seq[java.lang.annotation.Annotation]">flatten</span>

  <span class="keyword">val</span> <a title="Seq[(java.lang.annotation.Annotation, Class[_$1]) forSome { type _$1 &lt;: play.mvc.Action[_] }]" id="play.core.j;JavaActionAnnotations.actionMixins">actionMixins</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Seq[java.lang.annotation.Annotation]" id="play.core.j;JavaActionAnnotations.actionMixins.allDeclaredAnnotations">allDeclaredAnnotations</a>: <span title="Seq[java.lang.annotation.Annotation]">Seq</span><span class="delimiter">[</span>java.lang.annotation.Annotation<span class="delimiter">]</span> = <span title="Seq[java.lang.annotation.Annotation]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../api/http/HttpConfiguration.scala.html#play.api.http.HttpConfiguration" title="play.api.http.HttpConfiguration.type">HttpConfiguration</a>.<a href="../../api/http/HttpConfiguration.scala.html#play.api.http.HttpConfiguration.current" title="=&gt; play.api.http.HttpConfiguration">current</a>.<a href="../../api/http/HttpConfiguration.scala.html#play.api.http;HttpConfiguration.actionComposition" title="=&gt; play.api.http.ActionCompositionConfiguration">actionComposition</a>.<a href="../../api/http/HttpConfiguration.scala.html#play.api.http;ActionCompositionConfiguration.controllerAnnotationsFirst" title="=&gt; Boolean">controllerAnnotationsFirst</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="delimiter">(</span><a href="#play.core.j;JavaActionAnnotations.controllerAnnotations" title="=&gt; Seq[java.lang.annotation.Annotation]">controllerAnnotations</a> <span title="(that: scala.collection.GenTraversableOnce[java.lang.annotation.Annotation])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[java.lang.annotation.Annotation],java.lang.annotation.Annotation,Seq[java.lang.annotation.Annotation]])Seq[java.lang.annotation.Annotation]">++</span> <a href="#play.core.j;JavaActionAnnotations.method" title="=&gt; java.lang.reflect.Method">method</a>.<span title="(xs: Array[java.lang.annotation.Annotation])scala.collection.mutable.ArrayOps[java.lang.annotation.Annotation]">getDeclaredAnnotations</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="delimiter">(</span><a href="#play.core.j;JavaActionAnnotations.method" title="=&gt; java.lang.reflect.Method">method</a>.<span title="(xs: Array[java.lang.annotation.Annotation])scala.collection.mutable.ArrayOps[java.lang.annotation.Annotation]">getDeclaredAnnotations</span> <span title="(that: scala.collection.GenTraversableOnce[java.lang.annotation.Annotation])(implicit bf: scala.collection.generic.CanBuildFrom[Array[java.lang.annotation.Annotation],java.lang.annotation.Annotation,Seq[java.lang.annotation.Annotation]])Seq[java.lang.annotation.Annotation]">++</span> <a href="#play.core.j;JavaActionAnnotations.controllerAnnotations" title="=&gt; Seq[java.lang.annotation.Annotation]">controllerAnnotations</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#play.core.j;JavaActionAnnotations.actionMixins.allDeclaredAnnotations" title="Seq[java.lang.annotation.Annotation]">allDeclaredAnnotations</a>.<span title="(pf: PartialFunction[java.lang.annotation.Annotation,Seq[(java.lang.annotation.Annotation, Class[_$1]) forSome { type _$1 &lt;: play.mvc.Action[_] }]])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[java.lang.annotation.Annotation],Seq[(java.lang.annotation.Annotation, Class[_$1]) forSome { type _$1 &lt;: play.mvc.Action[_] }],Seq[Seq[(java.lang.annotation.Annotation, Class[_$1]) forSome { type _$1 &lt;: play.mvc.Action[_] }]]])Seq[Seq[(java.lang.annotation.Annotation, Class[_$1]) forSome { type _$1 &lt;: play.mvc.Action[_] }]]">collect</span> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[java.lang.annotation.Annotation,Seq[(java.lang.annotation.Annotation, Class[_$1]) forSome { type _$1 &lt;: play.mvc.Action[_] }]] with Serializable" id="play.core.j;JavaActionAnnotations.actionMixins;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="play.mvc.With">a</span>: play.mvc.<a href="../../mvc/With.java.html#play.mvc;With" title="play.mvc.With">With</a> =&gt; <span title="play.mvc.With">a</span>.<a href="../../mvc/With.java.html#play.mvc;With.value" title="(xs: Array[Class[_ &lt;: play.mvc.Action[_]]])scala.collection.mutable.ArrayOps[Class[_ &lt;: play.mvc.Action[_]]]">value</a>.<span title="(f: Class[_ &lt;: play.mvc.Action[_]] =&gt; (play.mvc.With, Class[_$1]) forSome { type _$1 &lt;: play.mvc.Action[_] })(implicit bf: scala.collection.generic.CanBuildFrom[Array[Class[_ &lt;: play.mvc.Action[_]]],(play.mvc.With, Class[_$1]) forSome { type _$1 &lt;: play.mvc.Action[_] },Array[(play.mvc.With, Class[_$1]) forSome { type _$1 &lt;: play.mvc.Action[_] }]])Array[(play.mvc.With, Class[_$1]) forSome { type _$1 &lt;: play.mvc.Action[_] }]">map</span><span title="(xs: Array[(play.mvc.With, Class[_$1]) forSome { type _$1 &lt;: play.mvc.Action[_] }])scala.collection.mutable.ArrayOps[(play.mvc.With, Class[_$1]) forSome { type _$1 &lt;: play.mvc.Action[_] }]" class="delimiter">(</span><span title="Class[_ &lt;: play.mvc.Action[_]]">c</span> =&gt; <span title="(_1: play.mvc.With, _2: Class[_$1])(play.mvc.With, Class[_$1])" class="delimiter">(</span><span title="play.mvc.With">a</span>, <span title="Class[_ &lt;: play.mvc.Action[_]]">c</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Seq[(play.mvc.With, Class[_$1]) forSome { type _$1 &lt;: play.mvc.Action[_] }]">toSeq</span>
      <span class="keyword">case</span> <span title="java.lang.annotation.Annotation">a</span> <span class="keyword">if</span> <span title="java.lang.annotation.Annotation">a</span>.<span title="()Class[_ &lt;: java.lang.annotation.Annotation]">annotationType</span>.<span title="(x$1: Class[_ &lt;: java.lang.annotation.Annotation])Boolean">isAnnotationPresent</span><span class="delimiter">(</span>classOf<span title="Class[play.mvc.With](classOf[play.mvc.With])" class="delimiter">[</span>play.mvc.With<span class="delimiter">]</span><span class="delimiter">)</span> =&gt;
        <span title="java.lang.annotation.Annotation">a</span>.<span title="()Class[_ &lt;: java.lang.annotation.Annotation]">annotationType</span>.<span title="(x$1: Class[play.mvc.With])play.mvc.With">getAnnotation</span><span class="delimiter">(</span>classOf<span title="Class[play.mvc.With](classOf[play.mvc.With])" class="delimiter">[</span>play.mvc.With<span class="delimiter">]</span><span class="delimiter">)</span>.<a href="../../mvc/With.java.html#play.mvc;With.value" title="(xs: Array[Class[_ &lt;: play.mvc.Action[_]]])scala.collection.mutable.ArrayOps[Class[_ &lt;: play.mvc.Action[_]]]">value</a>.<span title="(f: Class[_ &lt;: play.mvc.Action[_]] =&gt; (java.lang.annotation.Annotation, Class[_$1]) forSome { type _$1 &lt;: play.mvc.Action[_] })(implicit bf: scala.collection.generic.CanBuildFrom[Array[Class[_ &lt;: play.mvc.Action[_]]],(java.lang.annotation.Annotation, Class[_$1]) forSome { type _$1 &lt;: play.mvc.Action[_] },Array[(java.lang.annotation.Annotation, Class[_$1]) forSome { type _$1 &lt;: play.mvc.Action[_] }]])Array[(java.lang.annotation.Annotation, Class[_$1]) forSome { type _$1 &lt;: play.mvc.Action[_] }]">map</span><span title="(xs: Array[(java.lang.annotation.Annotation, Class[_$1]) forSome { type _$1 &lt;: play.mvc.Action[_] }])scala.collection.mutable.ArrayOps[(java.lang.annotation.Annotation, Class[_$1]) forSome { type _$1 &lt;: play.mvc.Action[_] }]" class="delimiter">(</span><span title="Class[_ &lt;: play.mvc.Action[_]]">c</span> =&gt; <span title="(_1: java.lang.annotation.Annotation, _2: Class[_$1])(java.lang.annotation.Annotation, Class[_$1])" class="delimiter">(</span><span title="java.lang.annotation.Annotation">a</span>, <span title="Class[_ &lt;: play.mvc.Action[_]]">c</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Seq[(java.lang.annotation.Annotation, Class[_$1]) forSome { type _$1 &lt;: play.mvc.Action[_] }]">toSeq</span>
    <span class="delimiter">}</span>.<span title="(implicit asTraversable: Seq[(java.lang.annotation.Annotation, Class[_$1]) forSome { type _$1 &lt;: play.mvc.Action[_] }] =&gt; scala.collection.GenTraversableOnce[(java.lang.annotation.Annotation, Class[_$1]) forSome { type _$1 &lt;: play.mvc.Action[_] }])Seq[(java.lang.annotation.Annotation, Class[_$1]) forSome { type _$1 &lt;: play.mvc.Action[_] }]">flatten</span>.<span title="=&gt; Seq[(java.lang.annotation.Annotation, Class[_$1]) forSome { type _$1 &lt;: play.mvc.Action[_] }]">reverse</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/*
 * An action that's handling Java requests
 */</span>
<span title="AnyRef" class="keyword">abstract</span> <span class="keyword">class</span> <a title="class JavaAction extends AnyRef with play.api.mvc.Action[play.mvc.Http.RequestBody] with play.core.j.JavaHelpers" id="play.core.j;JavaAction">JavaAction</a><a href="#play.core.j;JavaAction" title="play.core.j.JavaAction" class="delimiter">(</a><a title="play.core.j.JavaHandlerComponents" id="play.core.j;JavaAction.components">components</a>: <a href="#play.core.j;JavaHandlerComponents" title="play.core.j.JavaHandlerComponents">JavaHandlerComponents</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../api/mvc/Action.scala.html#play.api.mvc;Action" title="play.api.mvc.Action[play.mvc.Http.RequestBody]">Action</a><span class="delimiter">[</span>play.mvc.Http.RequestBody<span class="delimiter">]</span> <span class="keyword">with</span> <a href="JavaHelpers.scala.html#play.core.j;JavaHelpers" title="play.core.j.JavaHelpers">JavaHelpers</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="=&gt; play.libs.F.Promise[play.mvc.Result]" id="play.core.j;JavaAction.invocation">invocation</a>: <a href="../../libs/F.java.html#play.libs.F;Promise" title="play.libs.F.Promise[play.mvc.Result]">JPromise</a><span class="delimiter">[</span>JResult<span class="delimiter">]</span>
  <span class="keyword">val</span> <a title="=&gt; play.core.j.JavaActionAnnotations" id="play.core.j;JavaAction.annotations">annotations</a>: <a href="#play.core.j;JavaActionAnnotations" title="play.core.j.JavaActionAnnotations">JavaActionAnnotations</a>

  <span class="keyword">def</span> <a title="(req: play.api.mvc.Request[play.mvc.Http.RequestBody])scala.concurrent.Future[play.api.mvc.Result]" id="play.core.j;JavaAction.apply(6b35979e1c)">apply</a><span class="delimiter">(</span><a title="play.api.mvc.Request[play.mvc.Http.RequestBody]" id="play.core.j;JavaAction.apply(6b35979e1c).req">req</a>: <a href="../../api/mvc/Http.scala.html#play.api.mvc;Request" title="play.api.mvc.Request[play.mvc.Http.RequestBody]">Request</a><span class="delimiter">[</span>play.mvc.Http.RequestBody<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scala.concurrent.Future[play.api.mvc.Result]">Future</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="play.mvc.Http.Context" id="play.core.j;JavaAction.apply(6b35979e1c).javaContext">javaContext</a>: <a href="../../mvc/Http.java.html#play.mvc.Http;Context" title="play.mvc.Http.Context">JContext</a> = <a href="JavaHelpers.scala.html#play.core.j;JavaHelpers.createJavaContext(d4a3b37c21)" title="(req: play.api.mvc.Request[play.mvc.Http.RequestBody])play.mvc.Http.Context">createJavaContext</a><span class="delimiter">(</span><a href="#play.core.j;JavaAction.apply(6b35979e1c).req" title="play.api.mvc.Request[play.mvc.Http.RequestBody]">req</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="play.mvc.Action[Any]" id="play.core.j;JavaAction.apply(6b35979e1c).rootAction">rootAction</a> = <a href="#play.core.j;JavaAction.apply(6b35979e1c).rootAction;$anon" title="play.mvc.Action[Any]" class="keyword">new</a> <a title="anonymous class $anon extends play.mvc.Action[Any]" id="play.core.j;JavaAction.apply(6b35979e1c).rootAction;$anon">JAction</a><span class="delimiter">[</span>Any<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(ctx: play.mvc.Http.Context)play.libs.F.Promise[play.mvc.Result]" id="play.core.j;JavaAction.apply(6b35979e1c).rootAction;$anon.call">call</a><span class="delimiter">(</span><a title="play.mvc.Http.Context" id="play.core.j;JavaAction.apply(6b35979e1c).rootAction;$anon.call.ctx">ctx</a>: <a href="../../mvc/Http.java.html#play.mvc.Http;Context" title="play.mvc.Http.Context">JContext</a><span class="delimiter">)</span>: <a href="../../libs/F.java.html#play.libs.F;Promise" title="play.libs.F.Promise[play.mvc.Result]">JPromise</a><span class="delimiter">[</span>JResult<span class="delimiter">]</span> = <a href="#play.core.j;JavaAction.invocation" title="=&gt; play.libs.F.Promise[play.mvc.Result]">invocation</a>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="play.mvc.Action[_]" id="play.core.j;JavaAction.apply(6b35979e1c).baseAction">baseAction</a> = <a href="#play.core.j;JavaAction.components" title="play.core.j.JavaHandlerComponents">components</a>.<a href="#play.core.j;JavaHandlerComponents.requestHandler" title="=&gt; play.http.HttpRequestHandler">requestHandler</a>.<a href="../../http/HttpRequestHandler.java.html#play.http;HttpRequestHandler.createAction" title="(request: play.mvc.Http.Request, actionMethod: java.lang.reflect.Method)play.mvc.Action[_]">createAction</a><span class="delimiter">(</span><a href="#play.core.j;JavaAction.apply(6b35979e1c).javaContext" title="play.mvc.Http.Context">javaContext</a>.<a href="../../mvc/Http.java.html#play.mvc.Http;Context.request(f37f53142b)" title="()play.mvc.Http.Request">request</a>, <a href="#play.core.j;JavaAction.annotations" title="=&gt; play.core.j.JavaActionAnnotations">annotations</a>.<a href="#play.core.j;JavaActionAnnotations.method" title="=&gt; java.lang.reflect.Method">method</a><span class="delimiter">)</span>
    <a href="#play.core.j;JavaAction.apply(6b35979e1c).baseAction" title="play.mvc.Action[_]">baseAction</a>.<a href="../../mvc/Action.java.html#play.mvc;Action.delegate" title="play.mvc.Action[_]">delegate</a> = <a href="#play.core.j;JavaAction.apply(6b35979e1c).rootAction" title="play.mvc.Action[Any]">rootAction</a>

    <span class="keyword">val</span> <a title="play.mvc.Action[_]" id="play.core.j;JavaAction.apply(6b35979e1c).finalAction">finalAction</a> = <a href="#play.core.j;JavaAction.components" title="play.core.j.JavaHandlerComponents">components</a>.<a href="#play.core.j;JavaHandlerComponents.requestHandler" title="=&gt; play.http.HttpRequestHandler">requestHandler</a>.<a href="../../http/HttpRequestHandler.java.html#play.http;HttpRequestHandler.wrapAction" title="(action: play.mvc.Action[_])play.mvc.Action[_]">wrapAction</a><span class="delimiter">(</span>
      <a href="#play.core.j;JavaAction.annotations" title="=&gt; play.core.j.JavaActionAnnotations">annotations</a>.<a href="#play.core.j;JavaActionAnnotations.actionMixins" title="=&gt; Seq[(java.lang.annotation.Annotation, Class[_$1]) forSome { type _$1 &lt;: play.mvc.Action[_] }]">actionMixins</a>.<span title="[B](z: B)(op: (B, (java.lang.annotation.Annotation, Class[_$1]) forSome { type _$1 &lt;: play.mvc.Action[_] }) =&gt; B)B">foldLeft</span><span title="(z: play.mvc.Action[_])(op: (play.mvc.Action[_], (java.lang.annotation.Annotation, Class[_$1]) forSome { type _$1 &lt;: play.mvc.Action[_] }) =&gt; play.mvc.Action[_])play.mvc.Action[_]" class="delimiter">[</span><a href="../../mvc/Action.java.html#play.mvc;Action" title="play.mvc.Action[_]">JAction</a><span class="delimiter">[</span>_ &lt;: Any<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#play.core.j;JavaAction.apply(6b35979e1c).baseAction" title="play.mvc.Action[_]">baseAction</a><span class="delimiter">)</span> <a href="#play.core.j;JavaAction.apply(6b35979e1c).finalAction.$anonfun.x0$1" title="play.mvc.Action[Object]" class="delimiter">{</a>
        <span class="keyword">case</span> <span class="delimiter">(</span><a title="play.mvc.Action[_$3]" id="play.core.j;JavaAction.apply(6b35979e1c).finalAction.$anonfun.delegate">delegate</a>, <span class="delimiter">(</span><a title="java.lang.annotation.Annotation" id="play.core.j;JavaAction.apply(6b35979e1c).finalAction.$anonfun.annotation">annotation</a>, <a title="Class[_$1]" id="play.core.j;JavaAction.apply(6b35979e1c).finalAction.$anonfun.actionClass">actionClass</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="play.mvc.Action[Object]" id="play.core.j;JavaAction.apply(6b35979e1c).finalAction.$anonfun.action">action</a> = <a href="#play.core.j;JavaAction.components" title="play.core.j.JavaHandlerComponents">components</a>.<a href="#play.core.j;JavaHandlerComponents.injector" title="=&gt; play.api.inject.Injector">injector</a>.<a href="../../api/inject/Injector.scala.html#play.api.inject;Injector.instanceOf(65ae6de67f)" title="(clazz: Class[_$1])_$1">instanceOf</a><span class="delimiter">(</span><a href="#play.core.j;JavaAction.apply(6b35979e1c).finalAction.$anonfun.actionClass" title="Class[_$1]">actionClass</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="play.mvc.Action[Object]" class="delimiter">[</span>play.mvc.<a href="../../mvc/Action.java.html#play.mvc;Action" title="play.mvc.Action[Object]">Action</a><span class="delimiter">[</span>Object<span class="delimiter">]</span><span class="delimiter">]</span>
          <a href="#play.core.j;JavaAction.apply(6b35979e1c).finalAction.$anonfun.action" title="play.mvc.Action[Object]">action</a>.<a href="../../mvc/Action.java.html#play.mvc;Action.configuration" title="Object">configuration</a> = <a href="#play.core.j;JavaAction.apply(6b35979e1c).finalAction.$anonfun.annotation" title="java.lang.annotation.Annotation">annotation</a>
          <a href="#play.core.j;JavaAction.apply(6b35979e1c).finalAction.$anonfun.action" title="play.mvc.Action[Object]">action</a>.<a href="../../mvc/Action.java.html#play.mvc;Action.delegate" title="play.mvc.Action[_]">delegate</a> = <a href="#play.core.j;JavaAction.apply(6b35979e1c).finalAction.$anonfun.delegate" title="play.mvc.Action[_$3]">delegate</a>
          <a href="#play.core.j;JavaAction.apply(6b35979e1c).finalAction.$anonfun.action" title="play.mvc.Action[Object]">action</a>
      <span class="delimiter">}</span>
    <span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="scala.concurrent.ExecutionContext" id="play.core.j;JavaAction.apply(6b35979e1c).trampolineWithContext">trampolineWithContext</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ClassLoader" id="play.core.j;JavaAction.apply(6b35979e1c).trampolineWithContext.javaClassLoader">javaClassLoader</a> = <span title="Thread.type">Thread</span>.<span title="()Thread">currentThread</span>.<span title="()ClassLoader">getContextClassLoader</span>
      <span title="play.core.j.HttpExecutionContext" class="keyword">new</span> <a href="HttpExecutionContext.scala.html#play.core.j;HttpExecutionContext" title="play.core.j.HttpExecutionContext">HttpExecutionContext</a><span class="delimiter">(</span><a href="#play.core.j;JavaAction.apply(6b35979e1c).trampolineWithContext.javaClassLoader" title="ClassLoader">javaClassLoader</a>, <a href="#play.core.j;JavaAction.apply(6b35979e1c).javaContext" title="play.mvc.Http.Context">javaContext</a>, <a href="../../../../play-iteratees/play/api/libs/iteratee/Execution.scala.html#play.api.libs.iteratee.Execution.trampoline" title="play.api.libs.iteratee.Execution.trampoline.type">trampoline</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="scala.concurrent.Future[scala.concurrent.Future[play.mvc.Result]]" id="play.core.j;JavaAction.apply(6b35979e1c).actionFuture">actionFuture</a>: <span title="scala.concurrent.Future[scala.concurrent.Future[play.mvc.Result]]">Future</span><span class="delimiter">[</span>Future<span class="delimiter">[</span>JResult<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="(body: =&gt; scala.concurrent.Future[play.mvc.Result])(implicit execctx: scala.concurrent.ExecutionContext)scala.concurrent.Future[scala.concurrent.Future[play.mvc.Result]]">Future</span> <span class="delimiter">{</span> <a href="#play.core.j;JavaAction.apply(6b35979e1c).finalAction" title="play.mvc.Action[_]">finalAction</a>.<a href="../../mvc/Action.java.html#play.mvc;Action.call" title="(ctx: play.mvc.Http.Context)play.libs.F.Promise[play.mvc.Result]">call</a><span class="delimiter">(</span><a href="#play.core.j;JavaAction.apply(6b35979e1c).javaContext" title="play.mvc.Http.Context">javaContext</a><span class="delimiter">)</span>.<a href="../../libs/F.java.html#play.libs.F;Promise.wrapped" title="()scala.concurrent.Future[play.mvc.Result]">wrapped</a> <span class="delimiter">}</span><span class="delimiter">(</span><a href="#play.core.j;JavaAction.apply(6b35979e1c).trampolineWithContext" title="scala.concurrent.ExecutionContext">trampolineWithContext</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.concurrent.Future[play.mvc.Result]" id="play.core.j;JavaAction.apply(6b35979e1c).flattenedActionFuture">flattenedActionFuture</a>: <span title="scala.concurrent.Future[play.mvc.Result]">Future</span><span class="delimiter">[</span>JResult<span class="delimiter">]</span> = <a href="#play.core.j;JavaAction.apply(6b35979e1c).actionFuture" title="scala.concurrent.Future[scala.concurrent.Future[play.mvc.Result]]">actionFuture</a>.<span title="(f: scala.concurrent.Future[play.mvc.Result] =&gt; scala.concurrent.Future[play.mvc.Result])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[play.mvc.Result]">flatMap</span><span class="delimiter">(</span><a href="#play.core.j;JavaAction.apply(6b35979e1c).flattenedActionFuture.$anonfun.x" title="(x: scala.concurrent.Future[play.mvc.Result])scala.concurrent.Future[play.mvc.Result]">identity</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../../play-iteratees/play/api/libs/iteratee/Execution.scala.html#play.api.libs.iteratee.Execution.trampoline" title="play.api.libs.iteratee.Execution.trampoline.type">trampoline</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.concurrent.Future[play.api.mvc.Result]" id="play.core.j;JavaAction.apply(6b35979e1c).resultFuture">resultFuture</a>: <span title="scala.concurrent.Future[play.api.mvc.Result]">Future</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <a href="#play.core.j;JavaAction.apply(6b35979e1c).flattenedActionFuture" title="scala.concurrent.Future[play.mvc.Result]">flattenedActionFuture</a>.<span title="(f: play.mvc.Result =&gt; play.api.mvc.Result)(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[play.api.mvc.Result]">map</span><span class="delimiter">(</span><a href="JavaHelpers.scala.html#play.core.j;JavaHelpers.createResult" title="(javaContext: play.mvc.Http.Context, javaResult: play.mvc.Result)play.api.mvc.Result">createResult</a><span class="delimiter">(</span><a href="#play.core.j;JavaAction.apply(6b35979e1c).javaContext" title="play.mvc.Http.Context">javaContext</a>, <a href="#play.core.j;JavaAction.apply(6b35979e1c).resultFuture.$anonfun.x$2" title="play.mvc.Result">_</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../../play-iteratees/play/api/libs/iteratee/Execution.scala.html#play.api.libs.iteratee.Execution.trampoline" title="play.api.libs.iteratee.Execution.trampoline.type">trampoline</a><span class="delimiter">)</span>
    <a href="#play.core.j;JavaAction.apply(6b35979e1c).resultFuture" title="scala.concurrent.Future[play.api.mvc.Result]">resultFuture</a>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * A Java handler.
 *
 * Java handlers, given that they have to load actions and perform Java specific interception, need extra components
 * that can't be supplied by the controller itself to do so.  So this handler is a factory for handlers that, given
 * the JavaComponents, will return a handler that can be invoked by a Play server.
 */</span>
<span class="keyword">trait</span> <a title="trait JavaHandler extends AnyRef with play.api.mvc.Handler" id="play.core.j;JavaHandler">JavaHandler</a> <span class="keyword">extends</span> <a href="../../api/mvc/Action.scala.html#play.api.mvc;Handler" title="play.api.mvc.Handler">Handler</a> <span class="delimiter">{</span>

  <span class="comment">/**
   * Return a Handler that has the necessary components supplied to execute it.
   */</span>
  <span class="keyword">def</span> <a title="(components: play.core.j.JavaHandlerComponents)play.api.mvc.Handler" id="play.core.j;JavaHandler.withComponents">withComponents</a><span class="delimiter">(</span><a title="play.core.j.JavaHandlerComponents" id="play.core.j;JavaHandler.withComponents.components">components</a>: <a href="#play.core.j;JavaHandlerComponents" title="play.core.j.JavaHandlerComponents">JavaHandlerComponents</a><span class="delimiter">)</span>: <a href="../../api/mvc/Action.scala.html#play.api.mvc;Handler" title="play.api.mvc.Handler">Handler</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * The components necessary to handle a Java handler.
 */</span>
<span class="keyword">class</span> <a title="class JavaHandlerComponents extends AnyRef" id="play.core.j;JavaHandlerComponents">JavaHandlerComponents</a> @Inject<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">(</span><span class="keyword">val</span> <a title="play.api.inject.Injector" id="play.core.j;JavaHandlerComponents.injector">injector</a>: <a href="../../api/inject/Injector.scala.html#play.api.inject;Injector" title="play.api.inject.Injector">Injector</a>,
  <span class="keyword">val</span> <a title="play.http.HttpRequestHandler" id="play.core.j;JavaHandlerComponents.requestHandler">requestHandler</a>: play.http.<a href="../../http/HttpRequestHandler.java.html#play.http;HttpRequestHandler" title="play.http.HttpRequestHandler">HttpRequestHandler</a><span class="delimiter">)</span>


        </pre>
    </body>
</html>
