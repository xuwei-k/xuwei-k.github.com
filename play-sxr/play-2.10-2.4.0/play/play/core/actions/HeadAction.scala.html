<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>play/play/core/actions/HeadAction.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright (C) 2009-2015 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>

<span class="keyword">package</span> play.core.actions

<span class="keyword">import</span> play.api.mvc._
<span class="keyword">import</span> play.api.libs.iteratee._
<span class="keyword">import</span> play.api.http.<span class="delimiter">{</span> HttpProtocol, HeaderNames, DefaultWriteables <span class="delimiter">}</span>
<span class="keyword">import</span> play.api.mvc.Result
<span class="keyword">import</span> scala.concurrent.Future

<span class="keyword">import</span> <a href="../../api/http/StandardValues.scala.html#play.api.http.HeaderNames" title="play.api.http.HeaderNames.type">HeaderNames</a>._

<span class="comment">/**
 * RFC2616-compatible HEAD implementation: provides a full header set and empty body for a given GET resource
 *
 * @param action Action for the relevant GET path.
 */</span>
<span class="keyword">class</span> <a title="class HeadAction extends AnyRef with play.api.mvc.EssentialAction with play.api.http.DefaultWriteables with play.api.http.HttpProtocol" id="play.core.actions;HeadAction">HeadAction</a><a href="#play.core.actions;HeadAction" title="play.core.actions.HeadAction" class="delimiter">(</a><a title="play.api.mvc.EssentialAction" id="play.core.actions;HeadAction.action">action</a>: <a href="../../api/mvc/Action.scala.html#play.api.mvc;EssentialAction" title="play.api.mvc.EssentialAction">EssentialAction</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../api/mvc/Action.scala.html#play.api.mvc;EssentialAction" title="play.api.mvc.EssentialAction">EssentialAction</a> <span class="keyword">with</span> <a href="../../api/http/Writeable.scala.html#play.api.http;DefaultWriteables" title="play.api.http.DefaultWriteables">DefaultWriteables</a> <span class="keyword">with</span> <a href="../../api/http/StandardValues.scala.html#play.api.http;HttpProtocol" title="play.api.http.HttpProtocol">HttpProtocol</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(requestHeader: play.api.mvc.RequestHeader)play.api.libs.iteratee.Iteratee[Array[Byte],play.api.mvc.Result]" id="play.core.actions;HeadAction.apply(0fb61ea3a6)">apply</a><span class="delimiter">(</span><a title="play.api.mvc.RequestHeader" id="play.core.actions;HeadAction.apply(0fb61ea3a6).requestHeader">requestHeader</a>: <a href="../../api/mvc/Http.scala.html#play.api.mvc;RequestHeader" title="play.api.mvc.RequestHeader">RequestHeader</a><span class="delimiter">)</span>: <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[Array[Byte],play.api.mvc.Result]">Iteratee</a><span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, Result<span class="delimiter">]</span> = <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="play.api.libs.iteratee.Iteratee[Array[Byte],play.api.mvc.Result]" id="play.core.actions;HeadAction.apply(0fb61ea3a6).bodyIterator">bodyIterator</a>: <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[Array[Byte],play.api.mvc.Result]">Iteratee</a><span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, Result<span class="delimiter">]</span> = <a href="#play.core.actions;HeadAction.action" title="(v1: play.api.mvc.RequestHeader)play.api.libs.iteratee.Iteratee[Array[Byte],play.api.mvc.Result]">action</a><span class="delimiter">(</span><a href="#play.core.actions;HeadAction.apply(0fb61ea3a6).requestHeader" title="play.api.mvc.RequestHeader">requestHeader</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(result: play.api.mvc.Result)scala.concurrent.Future[play.api.mvc.Result]" id="play.core.actions;HeadAction.apply(0fb61ea3a6).createHeadResult">createHeadResult</a><span class="delimiter">(</span><a title="play.api.mvc.Result" id="play.core.actions;HeadAction.apply(0fb61ea3a6).createHeadResult.result">result</a>: <a href="../../api/mvc/Results.scala.html#play.api.mvc;Result" title="play.api.mvc.Result">Result</a><span class="delimiter">)</span>: <span title="scala.concurrent.Future[play.api.mvc.Result]">Future</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <a href="#play.core.actions;HeadAction.apply(0fb61ea3a6).createHeadResult.result" title="play.api.mvc.Result">result</a> <span title="scala.concurrent.Future[play.api.mvc.Result]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="comment">// Respond immediately for bodies which have finished evaluating</span>
      <span class="keyword">case</span> <a href="#play.core.actions.UsesTransferEncoding.unapply" title="(result: play.api.mvc.Result)Boolean">UsesTransferEncoding</a><span class="delimiter">(</span><span class="delimiter">)</span> | <a href="#play.core.actions.HasContentLength.unapply" title="(result: play.api.mvc.Result)Boolean">HasContentLength</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="play.api.mvc.Result" id="play.core.actions;HeadAction.apply(0fb61ea3a6).createHeadResult.newResult">newResult</a> = <a href="../../api/mvc/Results.scala.html#play.api.mvc;Result" title="(header: play.api.mvc.ResponseHeader, body: play.api.libs.iteratee.Enumerator[Array[Byte]], connection: play.api.mvc.HttpConnection.Connection)play.api.mvc.Result">Result</a><span class="delimiter">(</span><a href="#play.core.actions;HeadAction.apply(0fb61ea3a6).createHeadResult.result" title="play.api.mvc.Result">result</a>.<a href="../../api/mvc/Results.scala.html#play.api.mvc;Result.header" title="=&gt; play.api.mvc.ResponseHeader">header</a>, <a href="../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee.Enumerator.apply" title="(in: Array[Byte]*)play.api.libs.iteratee.Enumerator[Array[Byte]]">Enumerator</a><span class="delimiter">(</span><span title="Array.type">Array</span>.<span title="=&gt; Array[Byte]">emptyByteArray</span><span class="delimiter">)</span>, <a href="#play.core.actions;HeadAction.apply(0fb61ea3a6).createHeadResult.result" title="play.api.mvc.Result">result</a>.<a href="../../api/mvc/Results.scala.html#play.api.mvc;Result.connection" title="=&gt; play.api.mvc.HttpConnection.Connection">connection</a><span class="delimiter">)</span>
        <span title="scala.concurrent.Future.type">Future</span>.<span title="(result: play.api.mvc.Result)scala.concurrent.Future[play.api.mvc.Result]">successful</span><span class="delimiter">(</span><a href="#play.core.actions;HeadAction.apply(0fb61ea3a6).createHeadResult.newResult" title="play.api.mvc.Result">newResult</a><span class="delimiter">)</span>
      <span class="comment">// We need to evaluate the body further to determine appropriate headers (Content-Length or Transfer-Encoding)</span>
      <span class="keyword">case</span> _ =&gt;
        <a href="#play.core.actions;HeadAction.apply(0fb61ea3a6).createHeadResult.result" title="play.api.mvc.Result">result</a>.<a href="../../api/mvc/Results.scala.html#play.api.mvc;Result.body" title="=&gt; play.api.libs.iteratee.Enumerator[Array[Byte]]">body</a> <a href="../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee;Enumerator.|>>>" title="(i: play.api.libs.iteratee.Iteratee[Array[Byte],play.api.mvc.Result])scala.concurrent.Future[play.api.mvc.Result]">|&gt;&gt;&gt;</a> <a href="#play.core.actions;HeadAction.singleChunkIteratee" title="(result: play.api.mvc.Result, httpVersion: String)play.api.libs.iteratee.Iteratee[Array[Byte],play.api.mvc.Result]">singleChunkIteratee</a><span class="delimiter">(</span><a href="#play.core.actions;HeadAction.apply(0fb61ea3a6).createHeadResult.result" title="play.api.mvc.Result">result</a>, <a href="#play.core.actions;HeadAction.apply(0fb61ea3a6).requestHeader" title="play.api.mvc.RequestHeader">requestHeader</a>.<a href="../../api/mvc/Http.scala.html#play.api.mvc;RequestHeader.version" title="=&gt; String">version</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">import</span> play.api.libs.iteratee.<a href="../../../../play-iteratees/play/api/libs/iteratee/Execution.scala.html#play.api.libs.iteratee.Execution" title="play.api.libs.iteratee.Execution.type">Execution</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Execution.scala.html#play.api.libs.iteratee.Execution.Implicits" title="play.api.libs.iteratee.Execution.Implicits.type">Implicits</a>.trampoline

    <a href="#play.core.actions;HeadAction.apply(0fb61ea3a6).bodyIterator" title="play.api.libs.iteratee.Iteratee[Array[Byte],play.api.mvc.Result]">bodyIterator</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.mapM" title="(f: play.api.mvc.Result =&gt; scala.concurrent.Future[play.api.mvc.Result])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[Array[Byte],play.api.mvc.Result]">mapM</a><a href="../../../../play-iteratees/play/api/libs/iteratee/Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.trampoline" title="=&gt; scala.concurrent.ExecutionContext" class="delimiter">(</a><a title="play.api.mvc.Result" id="play.core.actions;HeadAction.apply(0fb61ea3a6).$anonfun.result">result</a> =&gt;
      <a href="#play.core.actions;HeadAction.apply(0fb61ea3a6).createHeadResult" title="(result: play.api.mvc.Result)scala.concurrent.Future[play.api.mvc.Result]">createHeadResult</a><span class="delimiter">(</span><a href="#play.core.actions;HeadAction.apply(0fb61ea3a6).$anonfun.result" title="play.api.mvc.Result">result</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Creates an Iteratee that will evaluate at most one chunk of a given resource
   * @param result Contains initial result information
   * @param httpVersion HTTP Version from the RequestHeader to ensure proper response headers
   * @return
   */</span>
  <span class="keyword">def</span> <a title="(result: play.api.mvc.Result, httpVersion: String)play.api.libs.iteratee.Iteratee[Array[Byte],play.api.mvc.Result]" id="play.core.actions;HeadAction.singleChunkIteratee">singleChunkIteratee</a><span class="delimiter">(</span><a title="play.api.mvc.Result" id="play.core.actions;HeadAction.singleChunkIteratee.result">result</a>: <a href="../../api/mvc/Results.scala.html#play.api.mvc;Result" title="play.api.mvc.Result">Result</a>, <a title="String" id="play.core.actions;HeadAction.singleChunkIteratee.httpVersion">httpVersion</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[Array[Byte],play.api.mvc.Result]">Iteratee</a><span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, Result<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="play.api.mvc.Result" id="play.core.actions;HeadAction.singleChunkIteratee.resultWithEmptyBody">resultWithEmptyBody</a> = <a href="../../api/mvc/Results.scala.html#play.api.mvc;Result" title="(header: play.api.mvc.ResponseHeader, body: play.api.libs.iteratee.Enumerator[Array[Byte]], connection: play.api.mvc.HttpConnection.Connection)play.api.mvc.Result">Result</a><span class="delimiter">(</span><a href="#play.core.actions;HeadAction.singleChunkIteratee.result" title="play.api.mvc.Result">result</a>.<a href="../../api/mvc/Results.scala.html#play.api.mvc;Result.header" title="=&gt; play.api.mvc.ResponseHeader">header</a>, <a href="../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee.Enumerator.apply" title="(in: Array[Byte]*)play.api.libs.iteratee.Enumerator[Array[Byte]]">Enumerator</a><span class="delimiter">(</span><span title="Array.type">Array</span>.<span title="=&gt; Array[Byte]">emptyByteArray</span><span class="delimiter">)</span>, <a href="#play.core.actions;HeadAction.singleChunkIteratee.result" title="play.api.mvc.Result">result</a>.<a href="../../api/mvc/Results.scala.html#play.api.mvc;Result.connection" title="=&gt; play.api.mvc.HttpConnection.Connection">connection</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(chunk: Option[Array[Byte]])play.api.libs.iteratee.Iteratee[Array[Byte],Either[Array[Byte],Option[Array[Byte]]]]" id="play.core.actions;HeadAction.singleChunkIteratee.takeUpToOneChunk">takeUpToOneChunk</a><span class="delimiter">(</span><a title="Option[Array[Byte]]" id="play.core.actions;HeadAction.singleChunkIteratee.takeUpToOneChunk.chunk">chunk</a>: <span title="Option[Array[Byte]]">Option</span><span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[Array[Byte],Either[Array[Byte],Option[Array[Byte]]]]">Iteratee</a><span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, Either<span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, Option<span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span> = <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[Array[Byte]] =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],Either[Array[Byte],Option[Array[Byte]]]])play.api.libs.iteratee.Iteratee[Array[Byte],Either[Array[Byte],Option[Array[Byte]]]]">Cont</a> <a href="#play.core.actions;HeadAction.singleChunkIteratee.takeUpToOneChunk.$anonfun.x0$1" title="play.api.libs.iteratee.Iteratee[Array[Byte],Either[Array[Byte],Option[Array[Byte]]]]" class="delimiter">{</a>
      <span class="comment">// We have a second chunk, fail with left</span>
      <span class="keyword">case</span> <a title="play.api.libs.iteratee.Input.El[Array[Byte]]" id="play.core.actions;HeadAction.singleChunkIteratee.takeUpToOneChunk.$anonfun.in">in</a> @ Input.El<span class="delimiter">(</span><span title="Array[Byte]">data</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#play.core.actions;HeadAction.singleChunkIteratee.takeUpToOneChunk.chunk" title="Option[Array[Byte]]">chunk</a>.<span title="=&gt; Boolean">isDefined</span> =&gt; <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: scala.util.Left[Array[Byte],Nothing], e: play.api.libs.iteratee.Input[Array[Byte]])play.api.libs.iteratee.Iteratee[Array[Byte],scala.util.Left[Array[Byte],Nothing]]">Done</a><span class="delimiter">(</span><span title="(a: Array[Byte])scala.util.Left[Array[Byte],Nothing]">Left</span><span class="delimiter">(</span><a href="#play.core.actions;HeadAction.singleChunkIteratee.takeUpToOneChunk.chunk" title="Option[Array[Byte]]">chunk</a>.<span title="=&gt; Array[Byte]">get</span><span class="delimiter">)</span>, <a href="#play.core.actions;HeadAction.singleChunkIteratee.takeUpToOneChunk.$anonfun.in" title="play.api.libs.iteratee.Input.El[Array[Byte]]">in</a><span class="delimiter">)</span>
      <span class="comment">// This is the first chunk</span>
      <span class="keyword">case</span> Input.El<span class="delimiter">(</span><span title="Array[Byte]">data</span><span class="delimiter">)</span> =&gt; <a href="#play.core.actions;HeadAction.singleChunkIteratee.takeUpToOneChunk" title="(chunk: Option[Array[Byte]])play.api.libs.iteratee.Iteratee[Array[Byte],Either[Array[Byte],Option[Array[Byte]]]]">takeUpToOneChunk</a><span class="delimiter">(</span><span title="(x: Array[Byte])Some[Array[Byte]]">Some</span><span class="delimiter">(</span><span title="Array[Byte]">data</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.Empty" title="play.api.libs.iteratee.Input.Empty.type">Empty</a> =&gt; <a href="#play.core.actions;HeadAction.singleChunkIteratee.takeUpToOneChunk" title="(chunk: Option[Array[Byte]])play.api.libs.iteratee.Iteratee[Array[Byte],Either[Array[Byte],Option[Array[Byte]]]]">takeUpToOneChunk</a><span class="delimiter">(</span><a href="#play.core.actions;HeadAction.singleChunkIteratee.takeUpToOneChunk.chunk" title="Option[Array[Byte]]">chunk</a><span class="delimiter">)</span>
      <span class="comment">// We reached EOF, which means we either have one or zero chunks</span>
      <span class="keyword">case</span> <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.EOF" title="play.api.libs.iteratee.Input.EOF.type">EOF</a> =&gt; <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: scala.util.Right[Nothing,Option[Array[Byte]]], e: play.api.libs.iteratee.Input[Array[Byte]])play.api.libs.iteratee.Iteratee[Array[Byte],scala.util.Right[Nothing,Option[Array[Byte]]]]">Done</a><span class="delimiter">(</span><span title="(b: Option[Array[Byte]])scala.util.Right[Nothing,Option[Array[Byte]]]">Right</span><span class="delimiter">(</span><a href="#play.core.actions;HeadAction.singleChunkIteratee.takeUpToOneChunk.chunk" title="Option[Array[Byte]]">chunk</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">import</span> play.api.libs.iteratee.<a href="../../../../play-iteratees/play/api/libs/iteratee/Execution.scala.html#play.api.libs.iteratee.Execution" title="play.api.libs.iteratee.Execution.type">Execution</a>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Execution.scala.html#play.api.libs.iteratee.Execution.Implicits" title="play.api.libs.iteratee.Execution.Implicits.type">Implicits</a>.trampoline

    <a href="#play.core.actions;HeadAction.singleChunkIteratee.takeUpToOneChunk" title="(chunk: Option[Array[Byte]])play.api.libs.iteratee.Iteratee[Array[Byte],Either[Array[Byte],Option[Array[Byte]]]]">takeUpToOneChunk</a><span class="delimiter">(</span><span title="None.type">None</span><span class="delimiter">)</span>.<a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.flatMap" title="(f: Either[Array[Byte],Option[Array[Byte]]] =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],play.api.mvc.Result])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[Array[Byte],play.api.mvc.Result]">flatMap</a> <a href="#play.core.actions;HeadAction.singleChunkIteratee.$anonfun.x0$2" title="play.api.libs.iteratee.Iteratee[Array[Byte],play.api.mvc.Result]" class="delimiter">{</a>
      <span class="comment">// Single chunk response</span>
      <span class="keyword">case</span> Right<span class="delimiter">(</span><span title="Option[Array[Byte]]">chunk</span><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Int" id="play.core.actions;HeadAction.singleChunkIteratee.$anonfun.contentLength">contentLength</a> = <span title="Option[Array[Byte]]">chunk</span>.<span title="(f: Array[Byte] =&gt; Int)Option[Int]">map</span><span class="delimiter">(</span><a href="#play.core.actions;HeadAction.singleChunkIteratee.$anonfun.contentLength.$anonfun.x$1" title="Array[Byte]">_</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>.<span title="(default: =&gt; Int)Int">getOrElse</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <span title="play.api.mvc.Result">newResult</span> = <a href="#play.core.actions;HeadAction.singleChunkIteratee.resultWithEmptyBody" title="=&gt; play.api.mvc.Result">resultWithEmptyBody</a>.<a href="../../api/mvc/Results.scala.html#play.api.mvc;Result.withHeaders" title="(headers: (String, String)*)play.api.mvc.Result">withHeaders</a><span class="delimiter">(</span>
          <a href="../../api/http/StandardValues.scala.html#play.api.http;HeaderNames.CONTENT_LENGTH" title="(x: String)ArrowAssoc[String]">CONTENT_LENGTH</a> <span title="(y: String)(String, String)">-&gt;</span> <a href="#play.core.actions;HeadAction.singleChunkIteratee.$anonfun.contentLength" title="Int">contentLength</a>.<span title="()String">toString</span>
        <span class="delimiter">)</span>

        <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="[E, A](a: A, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,A]">Done</a><a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Done.apply$default$2" title="(a: play.api.mvc.Result, e: play.api.libs.iteratee.Input[Array[Byte]])play.api.libs.iteratee.Iteratee[Array[Byte],play.api.mvc.Result]" class="delimiter">[</a><span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span>, <a href="../../api/mvc/Results.scala.html#play.api.mvc;Result" title="play.api.mvc.Result">Result</a><span class="delimiter">]</span><span class="delimiter">(</span><span title="play.api.mvc.Result">newResult</span><span class="delimiter">)</span>

      <span class="keyword">case</span> Left<span class="delimiter">(</span><span title="Array[Byte]">chunk</span><span class="delimiter">)</span> =&gt;
        <span class="comment">// The body is in multiple chunks.</span>
        <span class="keyword">val</span> <span title="play.api.mvc.Result">newResult</span> = <a href="#play.core.actions;HeadAction.singleChunkIteratee.httpVersion" title="String">httpVersion</a> <span title="play.api.mvc.Result" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="comment">// HTTP 1.0 doesn't support chunked transfer</span>
          <span class="keyword">case</span> <a href="../../api/http/StandardValues.scala.html#play.api.http;HttpProtocol.HTTP_1_0" title="=&gt; String">HTTP_1_0</a> =&gt;
            <a href="#play.core.actions;HeadAction.singleChunkIteratee.resultWithEmptyBody" title="=&gt; play.api.mvc.Result">resultWithEmptyBody</a>
          <span class="keyword">case</span> <a href="../../api/http/StandardValues.scala.html#play.api.http;HttpProtocol.HTTP_1_1" title="=&gt; String">HTTP_1_1</a> =&gt;
            <a href="#play.core.actions;HeadAction.singleChunkIteratee.resultWithEmptyBody" title="=&gt; play.api.mvc.Result">resultWithEmptyBody</a>.<a href="../../api/mvc/Results.scala.html#play.api.mvc;Result.withHeaders" title="(headers: (String, String)*)play.api.mvc.Result">withHeaders</a><span class="delimiter">(</span>
              <a href="../../api/http/StandardValues.scala.html#play.api.http;HeaderNames.TRANSFER_ENCODING" title="(x: String)ArrowAssoc[String]">TRANSFER_ENCODING</a> <span title="(y: String)(String, String)">-&gt;</span> <a href="../../api/http/StandardValues.scala.html#play.api.http;HttpProtocol.CHUNKED" title="=&gt; String">CHUNKED</a>
            <span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="[E, A](a: A, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,A]">Done</a><a href="../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Done.apply$default$2" title="(a: play.api.mvc.Result, e: play.api.libs.iteratee.Input[Array[Byte]])play.api.libs.iteratee.Iteratee[Array[Byte],play.api.mvc.Result]" class="delimiter">[</a><span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span>, <a href="../../api/mvc/Results.scala.html#play.api.mvc;Result" title="play.api.mvc.Result">Result</a><span class="delimiter">]</span><span class="delimiter">(</span><span title="play.api.mvc.Result">newResult</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Extractor object that determines whether the result uses a transfer encoding
 */</span>
<span class="keyword">object</span> <a title="play.core.actions.UsesTransferEncoding.type" id="play.core.actions.UsesTransferEncoding">UsesTransferEncoding</a> <a href="#play.core.actions.UsesTransferEncoding" title="play.core.actions.UsesTransferEncoding.type" class="delimiter">{</a>
  <span class="keyword">def</span> <a title="(result: play.api.mvc.Result)Boolean" id="play.core.actions.UsesTransferEncoding.unapply">unapply</a><span class="delimiter">(</span><a title="play.api.mvc.Result" id="play.core.actions.UsesTransferEncoding.unapply.result">result</a>: <a href="../../api/mvc/Results.scala.html#play.api.mvc;Result" title="play.api.mvc.Result">Result</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#play.core.actions.UsesTransferEncoding.unapply.result" title="play.api.mvc.Result">result</a>.<a href="../../api/mvc/Results.scala.html#play.api.mvc;Result.header" title="=&gt; play.api.mvc.ResponseHeader">header</a>.<a href="../../api/mvc/Results.scala.html#play.api.mvc;ResponseHeader.headers" title="=&gt; Map[String,String]">headers</a>.<span title="(key: String)Boolean">contains</span><span class="delimiter">(</span><a href="../../api/http/StandardValues.scala.html#play.api.http;HeaderNames.TRANSFER_ENCODING" title="=&gt; String">TRANSFER_ENCODING</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Extractor that determines whether a content-length has been set on a result
 */</span>
<span title="AnyRef" class="keyword">object</span> <a title="play.core.actions.HasContentLength.type" id="play.core.actions.HasContentLength">HasContentLength</a> <a href="#play.core.actions.HasContentLength" title="play.core.actions.HasContentLength.type" class="delimiter">{</a>
  <span class="keyword">def</span> <a title="(result: play.api.mvc.Result)Boolean" id="play.core.actions.HasContentLength.unapply">unapply</a><span class="delimiter">(</span><a title="play.api.mvc.Result" id="play.core.actions.HasContentLength.unapply.result">result</a>: <a href="../../api/mvc/Results.scala.html#play.api.mvc;Result" title="play.api.mvc.Result">Result</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#play.core.actions.HasContentLength.unapply.result" title="play.api.mvc.Result">result</a>.<a href="../../api/mvc/Results.scala.html#play.api.mvc;Result.header" title="=&gt; play.api.mvc.ResponseHeader">header</a>.<a href="../../api/mvc/Results.scala.html#play.api.mvc;ResponseHeader.headers" title="=&gt; Map[String,String]">headers</a>.<span title="(key: String)Boolean">contains</span><span class="delimiter">(</span><a href="../../api/http/StandardValues.scala.html#play.api.http;HeaderNames.CONTENT_LENGTH" title="=&gt; String">CONTENT_LENGTH</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
