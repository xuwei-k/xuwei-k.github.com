<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>play/play/api/routing/JavascriptReverseRouter.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright (C) 2009-2015 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
<span class="keyword">package</span> play.api.routing

<span class="keyword">import</span> play.api.mvc.RequestHeader
<span class="keyword">import</span> play.twirl.api.JavaScript

<span class="comment">/**
 * A JavaScript reverse route
 */</span>
<span class="keyword">case class</span> <a title="class JavaScriptReverseRoute extends AnyRef with Product with Serializable" id="play.api.routing.JavaScriptReverseRoute.readResolve">JavaScriptReverseRoute</a><a href="#play.api.routing.JavaScriptReverseRoute.readResolve" title="Product" class="delimiter">(</a><a title="String" id="play.api.routing;JavaScriptReverseRoute.name">name</a>: <span title="String">String</span>, <a title="String" id="play.api.routing;JavaScriptReverseRoute.f">f</a>: <span title="String">String</span><span class="delimiter">)</span>

<span class="keyword">object</span> <a title="play.api.routing.JavaScriptReverseRouter.type" id="play.api.routing.JavaScriptReverseRouter">JavaScriptReverseRouter</a> <a href="#play.api.routing.JavaScriptReverseRouter" title="play.api.routing.JavaScriptReverseRouter.type" class="delimiter">{</a>

  <span class="comment">/**
   * Generates a JavaScript router.
   *
   * For example:
   * {{{
   * JavaScriptReverseRouter(&quot;MyRouter&quot;)(
   *   controllers.routes.javascript.Application.index,
   *   controllers.routes.javascript.Application.list,
   *   controllers.routes.javascript.Application.create
   * )
   * }}}
   *
   * And then you can use the JavaScript router as:
   * {{{
   * var routeToHome = MyRouter.controllers.Application.index()
   * }}}
   *
   * @param name the JavaScript object name
   * @param routes the routes to include in this JavaScript router
   * @return the JavaScript code
   */</span>
  <span class="keyword">def</span> <a title="(name: String, ajaxMethod: Option[String])(routes: play.api.routing.JavaScriptReverseRoute*)(implicit request: play.api.mvc.RequestHeader)play.twirl.api.JavaScript" id="play.api.routing.JavaScriptReverseRouter.apply(d954f6f192)">apply</a><span class="delimiter">(</span><a title="String" id="play.api.routing.JavaScriptReverseRouter.apply$default$1">name</a>: <span title="String">String</span> = <span title="String(&quot;Router&quot;)" class="string">&quot;Router&quot;</span>, <a title="Option[String]" id="play.api.routing.JavaScriptReverseRouter.apply$default$2">ajaxMethod</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><span title="String(&quot;jQuery.ajax&quot;)" class="string">&quot;jQuery.ajax&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="play.api.routing.JavaScriptReverseRoute*" id="play.api.routing.JavaScriptReverseRouter.apply(d954f6f192).routes">routes</a>: <span title="play.api.routing.JavaScriptReverseRoute*">JavaScriptReverseRoute</span>*<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="play.api.mvc.RequestHeader" id="play.api.routing.JavaScriptReverseRouter.apply(d954f6f192).request">request</a>: <a href="../mvc/Http.scala.html#play.api.mvc;RequestHeader" title="play.api.mvc.RequestHeader">RequestHeader</a><span class="delimiter">)</span>: <span title="play.twirl.api.JavaScript">JavaScript</span> = <span class="delimiter">{</span>
    <a href="#play.api.routing.JavaScriptReverseRouter.apply(41a933272b)" title="(name: String, ajaxMethod: Option[String], host: String, routes: play.api.routing.JavaScriptReverseRoute*)play.twirl.api.JavaScript">apply</a><span class="delimiter">(</span><a href="#play.api.routing.JavaScriptReverseRouter.apply$default$1" title="String">name</a>, <a href="#play.api.routing.JavaScriptReverseRouter.apply$default$2" title="Option[String]">ajaxMethod</a>, <a href="#play.api.routing.JavaScriptReverseRouter.apply(d954f6f192).request" title="play.api.mvc.RequestHeader">request</a>.<a href="../mvc/Http.scala.html#play.api.mvc;RequestHeader.host" title="=&gt; String">host</a>, <a href="#play.api.routing.JavaScriptReverseRouter.apply(d954f6f192).routes" title="play.api.routing.JavaScriptReverseRoute*">routes</a>: _*<span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Seq[String]" id="play.api.routing.JavaScriptReverseRouter.jsReservedWords">jsReservedWords</a> = <span title="(elems: String*)Seq[String]">Seq</span><span class="delimiter">(</span><span title="String(&quot;break&quot;)" class="string">&quot;break&quot;</span>, <span title="String(&quot;case&quot;)" class="string">&quot;case&quot;</span>, <span title="String(&quot;catch&quot;)" class="string">&quot;catch&quot;</span>, <span title="String(&quot;continue&quot;)" class="string">&quot;continue&quot;</span>, <span title="String(&quot;debugger&quot;)" class="string">&quot;debugger&quot;</span>,
    <span title="String(&quot;default&quot;)" class="string">&quot;default&quot;</span>, <span title="String(&quot;delete&quot;)" class="string">&quot;delete&quot;</span>, <span title="String(&quot;do&quot;)" class="string">&quot;do&quot;</span>, <span title="String(&quot;else&quot;)" class="string">&quot;else&quot;</span>, <span title="String(&quot;finally&quot;)" class="string">&quot;finally&quot;</span>, <span title="String(&quot;for&quot;)" class="string">&quot;for&quot;</span>, <span title="String(&quot;function&quot;)" class="string">&quot;function&quot;</span>, <span title="String(&quot;if&quot;)" class="string">&quot;if&quot;</span>,
    <span title="String(&quot;in&quot;)" class="string">&quot;in&quot;</span>, <span title="String(&quot;instanceof&quot;)" class="string">&quot;instanceof&quot;</span>, <span title="String(&quot;new&quot;)" class="string">&quot;new&quot;</span>, <span title="String(&quot;return&quot;)" class="string">&quot;return&quot;</span>, <span title="String(&quot;switch&quot;)" class="string">&quot;switch&quot;</span>, <span title="String(&quot;this&quot;)" class="string">&quot;this&quot;</span>, <span title="String(&quot;throw&quot;)" class="string">&quot;throw&quot;</span>, <span title="String(&quot;try&quot;)" class="string">&quot;try&quot;</span>,
    <span title="String(&quot;typeof&quot;)" class="string">&quot;typeof&quot;</span>, <span title="String(&quot;var&quot;)" class="string">&quot;var&quot;</span>, <span title="String(&quot;void&quot;)" class="string">&quot;void&quot;</span>, <span title="String(&quot;while&quot;)" class="string">&quot;while&quot;</span>, <span title="String(&quot;with&quot;)" class="string">&quot;with&quot;</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(name: String, ajaxMethod: Option[String], host: String, routes: play.api.routing.JavaScriptReverseRoute*)play.twirl.api.JavaScript" id="play.api.routing.JavaScriptReverseRouter.apply(41a933272b)">apply</a><span class="delimiter">(</span><a title="String" id="play.api.routing.JavaScriptReverseRouter.apply(41a933272b).name">name</a>: <span title="String">String</span>, <a title="Option[String]" id="play.api.routing.JavaScriptReverseRouter.apply(41a933272b).ajaxMethod">ajaxMethod</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="String" id="play.api.routing.JavaScriptReverseRouter.apply(41a933272b).host">host</a>: <span title="String">String</span>, <a title="play.api.routing.JavaScriptReverseRoute*" id="play.api.routing.JavaScriptReverseRouter.apply(41a933272b).routes">routes</a>: <span title="play.api.routing.JavaScriptReverseRoute*">JavaScriptReverseRoute</span>*<span class="delimiter">)</span>: <span title="play.twirl.api.JavaScript">JavaScript</span> = <span title="(text: String)play.twirl.api.JavaScript">JavaScript</span> <span class="delimiter">{</span>
    <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;|var %s = {}; (function(_root){
      |var _nS = function(c,f,b){var e=c.split(f||&quot;.&quot;),g=b||_root,d,a;for(d=0,a=e.length;d&lt;a;d++){g=g[e[d]]=g[e[d]]||{}}return g}
      |var _qS = function(items){var qs = ''; for(var i=0;i&lt;items.length;i++) {if(items[i]) qs += (qs ? '&amp;' : '') + items[i]}; return qs ? ('?' + qs) : ''}
      |var _s = function(p,s){return p+((s===true||(s&amp;&amp;s.secure))?'s':'')+'://'}
      |var _wA = function(r){return {%s method:r.method,type:r.method,url:r.url,absoluteURL: function(s){return _s('http',s)+'%s'+r.url},webSocketURL: function(s){return _s('ws',s)+'%s'+r.url}}}
      |%s
      |})(%s)
    &quot;&quot;&quot;</span>.<span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">stripMargin</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
      <a href="#play.api.routing.JavaScriptReverseRouter.apply(41a933272b).name" title="String">name</a>,
      <a href="#play.api.routing.JavaScriptReverseRouter.apply(41a933272b).ajaxMethod" title="Option[String]">ajaxMethod</a>.<span title="(f: String =&gt; String)Option[String]">map</span><span class="delimiter">(</span><span title="String(&quot;ajax:function(c){c=c||{};c.url=r.url;c.type=r.method;return &quot;)" class="string">&quot;ajax:function(c){c=c||{};c.url=r.url;c.type=r.method;return &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#play.api.routing.JavaScriptReverseRouter.apply(41a933272b).$anonfun.x$1" title="String">_</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;(c)},&quot;)" class="string">&quot;(c)},&quot;</span><span class="delimiter">)</span>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>,
      <a href="#play.api.routing.JavaScriptReverseRouter.apply(41a933272b).host" title="String">host</a>,
      <a href="#play.api.routing.JavaScriptReverseRouter.apply(41a933272b).host" title="String">host</a>,
      <a href="#play.api.routing.JavaScriptReverseRouter.apply(41a933272b).routes" title="play.api.routing.JavaScriptReverseRoute*">routes</a>.<span title="(f: play.api.routing.JavaScriptReverseRoute =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[play.api.routing.JavaScriptReverseRoute],String,Seq[String]])Seq[String]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,String,Seq[String]]" class="delimiter">{</span> <a title="play.api.routing.JavaScriptReverseRoute" id="play.api.routing.JavaScriptReverseRouter.apply(41a933272b).$anonfun.route">route</a> =&gt;
        <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;_nS('%s'); _root.%s = %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
          <a href="#play.api.routing.JavaScriptReverseRouter.apply(41a933272b).$anonfun.route" title="play.api.routing.JavaScriptReverseRoute">route</a>.<a href="#play.api.routing;JavaScriptReverseRoute.name" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">name</a>.<span title="(separator: Char)Array[String]">split</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="Char('.')" class="char">'.'</span><span class="delimiter">)</span>.<span title="(n: Int)Array[String]">dropRight</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>,
          <a href="#play.api.routing.JavaScriptReverseRouter.apply(41a933272b).$anonfun.route" title="play.api.routing.JavaScriptReverseRoute">route</a>.<a href="#play.api.routing;JavaScriptReverseRoute.name" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">name</a>.<span title="(separator: Char)Array[String]">split</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="Char('.')" class="char">'.'</span><span class="delimiter">)</span>.<span title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Array[String],String,Array[String]])Array[String]">map</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><a title="String" id="play.api.routing.JavaScriptReverseRouter.apply(41a933272b).$anonfun.$anonfun.name">name</a> =&gt; <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.api.routing.JavaScriptReverseRouter.jsReservedWords" title="=&gt; Seq[String]">jsReservedWords</a>.<span title="(elem: Any)Boolean">contains</span><span class="delimiter">(</span><a href="#play.api.routing.JavaScriptReverseRouter.apply(41a933272b).$anonfun.$anonfun.name" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="String(&quot;[\'&quot;)" class="string">&quot;['&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#play.api.routing.JavaScriptReverseRouter.apply(41a933272b).$anonfun.$anonfun.name" title="String">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\']&quot;)" class="string">&quot;']&quot;</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#play.api.routing.JavaScriptReverseRouter.apply(41a933272b).$anonfun.$anonfun.name" title="String">name</a>
          <span class="delimiter">}</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>.<span title="=&gt; String">tail</span>,
          <a href="#play.api.routing.JavaScriptReverseRouter.apply(41a933272b).$anonfun.route" title="play.api.routing.JavaScriptReverseRoute">route</a>.<a href="#play.api.routing;JavaScriptReverseRoute.f" title="=&gt; String">f</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>,
      <a href="#play.api.routing.JavaScriptReverseRouter.apply(41a933272b).name" title="String">name</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>
        </pre>
    </body>
</html>
