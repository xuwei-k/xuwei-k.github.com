<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>play/play/api/inject/Injector.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright (C) 2009-2015 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
<span class="keyword">package</span> play.api.inject

<span class="keyword">import</span> scala.reflect.ClassTag

<span class="comment">/**
 * An injector, capable of providing components.
 *
 * This is an abstraction over whatever dependency injection is being used in Play. A minimal implementation may only
 * call `newInstance` on the passed in class.
 *
 * This abstraction is primarily provided for libraries that want to remain agnostic to the type of dependency
 * injection being used. End users are encouraged to use the facilities provided by the dependency injection framework
 * they are using directly, for example, if using Guice, use [[com.google.inject.Injector]] instead of this.
 */</span>
<span class="keyword">trait</span> <a title="trait Injector extends AnyRef" id="play.api.inject;Injector">Injector</a> <span class="delimiter">{</span>

  <span class="comment">/**
   * Get an instance of the given class from the injector.
   */</span>
  <span class="keyword">def</span> <a title="[T](implicit evidence$1: scala.reflect.ClassTag[T])T" id="play.api.inject;Injector.instanceOf(ffe51818f2)">instanceOf</a><span class="delimiter">[</span><a title="" id="play.api.inject;Injector.instanceOf(ffe51818f2);T">T</a>: ClassTag<span class="delimiter">]</span>: <a href="#play.api.inject;Injector.instanceOf(ffe51818f2);T" title="T">T</a>

  <span class="comment">/**
   * Get an instance of the given class from the injector.
   */</span>
  <span class="keyword">def</span> <a title="[T](clazz: Class[T])T" id="play.api.inject;Injector.instanceOf(65ae6de67f)">instanceOf</a><span class="delimiter">[</span><a title="" id="play.api.inject;Injector.instanceOf(65ae6de67f);T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Class[T]" id="play.api.inject;Injector.instanceOf(65ae6de67f).clazz">clazz</a>: <span title="Class[T]">Class</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#play.api.inject;Injector.instanceOf(65ae6de67f);T" title="T">T</a>

  <span class="comment">/**
   * Get an instance bound to the given binding key.
   */</span>
  <span class="keyword">def</span> <a title="[T](key: play.api.inject.BindingKey[T])T" id="play.api.inject;Injector.instanceOf(cf4d843925)">instanceOf</a><span class="delimiter">[</span><a title="" id="play.api.inject;Injector.instanceOf(cf4d843925);T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.inject.BindingKey[T]" id="play.api.inject;Injector.instanceOf(cf4d843925).key">key</a>: <a href="Binding.scala.html#play.api.inject;BindingKey" title="play.api.inject.BindingKey[T]">BindingKey</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#play.api.inject;Injector.instanceOf(cf4d843925);T" title="T">T</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * An injector that simply creates a new instance of the passed in classes using the classes no-arg constructor.
 */</span>
<span title="AnyRef" class="keyword">object</span> <a title="play.api.inject.NewInstanceInjector.type" id="play.api.inject.NewInstanceInjector">NewInstanceInjector</a> <a href="#play.api.inject.NewInstanceInjector" title="play.api.inject.NewInstanceInjector.type" class="keyword">extends</a> <a href="#play.api.inject;Injector" title="play.api.inject.Injector">Injector</a> <span class="delimiter">{</span>

  <span class="comment">/**
   * Get an instance of the given class from the injector.
   */</span>
  <span class="keyword">def</span> <a title="[T](implicit ct: scala.reflect.ClassTag[T])T" id="play.api.inject.NewInstanceInjector.instanceOf(b6650da91e)">instanceOf</a><span class="delimiter">[</span><a title="" id="play.api.inject.NewInstanceInjector.instanceOf(b6650da91e);T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.reflect.ClassTag[T]" id="play.api.inject.NewInstanceInjector.instanceOf(b6650da91e).ct">ct</a>: <span title="scala.reflect.ClassTag[T]">ClassTag</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#play.api.inject.NewInstanceInjector.instanceOf(65ae6de67f)" title="(clazz: Class[T])T">instanceOf</a><span class="delimiter">(</span><a href="#play.api.inject.NewInstanceInjector.instanceOf(b6650da91e).ct" title="scala.reflect.ClassTag[T]">ct</a>.<span title="=&gt; Class[_]">runtimeClass</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Class[T]" class="delimiter">[</span><span title="Class[T]">Class</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Get an instance of the given class from the injector.
   */</span>
  <span class="keyword">def</span> <a title="[T](clazz: Class[T])T" id="play.api.inject.NewInstanceInjector.instanceOf(65ae6de67f)">instanceOf</a><span class="delimiter">[</span><a title="" id="play.api.inject.NewInstanceInjector.instanceOf(65ae6de67f);T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Class[T]" id="play.api.inject.NewInstanceInjector.instanceOf(65ae6de67f).clazz">clazz</a>: <span title="Class[T]">Class</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#play.api.inject.NewInstanceInjector.instanceOf(65ae6de67f).clazz" title="Class[T]">clazz</a>.<span title="()T">newInstance</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Get an instance bound to the given binding key.
   */</span>
  <span class="keyword">def</span> <a title="[T](key: play.api.inject.BindingKey[T])T" id="play.api.inject.NewInstanceInjector.instanceOf(cf4d843925)">instanceOf</a><span class="delimiter">[</span><a title="" id="play.api.inject.NewInstanceInjector.instanceOf(cf4d843925);T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.inject.BindingKey[T]" id="play.api.inject.NewInstanceInjector.instanceOf(cf4d843925).key">key</a>: <a href="Binding.scala.html#play.api.inject;BindingKey" title="play.api.inject.BindingKey[T]">BindingKey</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#play.api.inject.NewInstanceInjector.instanceOf(65ae6de67f)" title="(clazz: Class[T])T">instanceOf</a><span class="delimiter">(</span><a href="#play.api.inject.NewInstanceInjector.instanceOf(cf4d843925).key" title="play.api.inject.BindingKey[T]">key</a>.<a href="Binding.scala.html#play.api.inject;BindingKey.clazz" title="=&gt; Class[T]">clazz</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * A simple map backed injector.
 *
 * This injector is intended for use by compile time injected applications in the transitional period between when Play
 * fully supports dependency injection across the whole code base, and when some parts of Play still access core
 * components through Play's global state. Since Play's global state requires that some components are still dynamically
 * looked up from an injector, when using a compile time DI approach, there is typically no way to dynamically look up
 * components, so this provides a simple implementation of the [[Injector]] trait to allow components
 * that Play requires to be dynamically looked up.
 *
 * It is intended to just hold built in Play components, but may be used to add additional components by end users when
 * required.
 *
 * The injector is an immutable structure, new components can be added using the `+` convenience method, which returns
 * a new injector with that component included.
 *
 * @param fallback The injector to fallback to if no component can be found.
 * @param components The components that this injector provides.
 */</span>
<span class="keyword">class</span> <a title="class SimpleInjector extends AnyRef with play.api.inject.Injector" id="play.api.inject.SimpleInjector">SimpleInjector</a><a href="#play.api.inject.SimpleInjector" title="play.api.inject.SimpleInjector" class="delimiter">(</a><a title="play.api.inject.Injector" id="play.api.inject;SimpleInjector.fallback">fallback</a>: <a href="#play.api.inject;Injector" title="play.api.inject.Injector">Injector</a>, <a title="Map[Class[_],Any]" id="play.api.inject.SimpleInjector.<init>$default$2">components</a>: <span title="Map[Class[_],Any]">Map</span><span class="delimiter">[</span>Class<span class="delimiter">[</span>_<span class="delimiter">]</span>, Any<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[Class[_],Nothing]">empty</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#play.api.inject;Injector" title="play.api.inject.Injector">Injector</a> <span class="delimiter">{</span>
  <span class="comment">/**
   * Get an instance of the given class from the injector.
   */</span>
  <span class="keyword">def</span> <a title="[T](implicit ct: scala.reflect.ClassTag[T])T" id="play.api.inject;SimpleInjector.instanceOf(b6650da91e)">instanceOf</a><span class="delimiter">[</span><a title="" id="play.api.inject;SimpleInjector.instanceOf(b6650da91e);T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.reflect.ClassTag[T]" id="play.api.inject;SimpleInjector.instanceOf(b6650da91e).ct">ct</a>: <span title="scala.reflect.ClassTag[T]">ClassTag</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#play.api.inject;SimpleInjector.instanceOf(65ae6de67f)" title="(clazz: Class[T])T">instanceOf</a><span class="delimiter">(</span><a href="#play.api.inject;SimpleInjector.instanceOf(b6650da91e).ct" title="scala.reflect.ClassTag[T]">ct</a>.<span title="=&gt; Class[_]">runtimeClass</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Class[T]" class="delimiter">[</span><span title="Class[T]">Class</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Get an instance of the given class from the injector.
   */</span>
  <span class="keyword">def</span> <a title="[T](clazz: Class[T])T" id="play.api.inject;SimpleInjector.instanceOf(65ae6de67f)">instanceOf</a><span class="delimiter">[</span><a title="" id="play.api.inject;SimpleInjector.instanceOf(65ae6de67f);T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Class[T]" id="play.api.inject;SimpleInjector.instanceOf(65ae6de67f).clazz">clazz</a>: <span title="Class[T]">Class</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#play.api.inject.SimpleInjector.<init>$default$2" title="Map[Class[_],Any]">components</a>.<span title="(key: Class[_], default: =&gt; Any)Any">getOrElse</span><span class="delimiter">(</span><a href="#play.api.inject;SimpleInjector.instanceOf(65ae6de67f).clazz" title="Class[T]">clazz</a>, <a href="#play.api.inject;SimpleInjector.fallback" title="play.api.inject.Injector">fallback</a>.<a href="#play.api.inject;Injector.instanceOf(65ae6de67f)" title="(clazz: Class[T])T">instanceOf</a><span class="delimiter">(</span><a href="#play.api.inject;SimpleInjector.instanceOf(65ae6de67f).clazz" title="Class[T]">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="T" class="delimiter">[</span><a href="#play.api.inject;SimpleInjector.instanceOf(65ae6de67f);T" title="T">T</a><span class="delimiter">]</span>

  <span class="comment">/**
   * Get an instance bound to the given binding key.
   */</span>
  <span class="keyword">def</span> <a title="[T](key: play.api.inject.BindingKey[T])T" id="play.api.inject;SimpleInjector.instanceOf(cf4d843925)">instanceOf</a><span class="delimiter">[</span><a title="" id="play.api.inject;SimpleInjector.instanceOf(cf4d843925);T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.inject.BindingKey[T]" id="play.api.inject;SimpleInjector.instanceOf(cf4d843925).key">key</a>: <a href="Binding.scala.html#play.api.inject;BindingKey" title="play.api.inject.BindingKey[T]">BindingKey</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#play.api.inject;SimpleInjector.instanceOf(65ae6de67f)" title="(clazz: Class[T])T">instanceOf</a><span class="delimiter">(</span><a href="#play.api.inject;SimpleInjector.instanceOf(cf4d843925).key" title="play.api.inject.BindingKey[T]">key</a>.<a href="Binding.scala.html#play.api.inject;BindingKey.clazz" title="=&gt; Class[T]">clazz</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Add a component to the injector.
   */</span>
  <span class="keyword">def</span> <a title="[T](component: T)(implicit ct: scala.reflect.ClassTag[T])play.api.inject.SimpleInjector" id="play.api.inject;SimpleInjector.+">+</a><span class="delimiter">[</span><a title="" id="play.api.inject;SimpleInjector.+;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="play.api.inject;SimpleInjector.+.component">component</a>: <a href="#play.api.inject;SimpleInjector.+;T" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.reflect.ClassTag[T]" id="play.api.inject;SimpleInjector.+.ct">ct</a>: <span title="scala.reflect.ClassTag[T]">ClassTag</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> =
    <span title="play.api.inject.SimpleInjector" class="keyword">new</span> <a href="#play.api.inject.SimpleInjector" title="play.api.inject.SimpleInjector">SimpleInjector</a><span class="delimiter">(</span><a href="#play.api.inject;SimpleInjector.fallback" title="play.api.inject.Injector">fallback</a>, <a href="#play.api.inject.SimpleInjector.<init>$default$2" title="Map[Class[_],Any]">components</a> <span title="(kv: (Class[_], Any))scala.collection.immutable.Map[Class[_],Any]">+</span> <span class="delimiter">(</span><a href="#play.api.inject;SimpleInjector.+.ct" title="scala.reflect.ClassTag[T]">ct</a>.<span title="(x: Class[_$1])ArrowAssoc[Class[_$1]]">runtimeClass</span> <span title="(y: T)(Class[_$1], T)">-&gt;</span> <a href="#play.api.inject;SimpleInjector.+.component" title="T">component</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
