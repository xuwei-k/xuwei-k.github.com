<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>play-netty-server/play/core/server/netty/RequestBodyHandler.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright (C) 2009-2015 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
<span class="keyword">package</span> play.core.server.netty

<span class="keyword">import</span> org.jboss.netty.channel._
<span class="keyword">import</span> org.jboss.netty.handler.codec.http._

<span class="keyword">import</span> play.api._
<span class="keyword">import</span> play.api.libs.iteratee._
<span class="keyword">import</span> play.api.libs.iteratee.<a href="../../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>._

<span class="keyword">import</span> scala.concurrent.<span class="delimiter">{</span> Future, Promise <span class="delimiter">}</span>
<span class="keyword">import</span> scala.util.<span class="delimiter">{</span> Try, Success <span class="delimiter">}</span>

<span class="keyword">private</span><span class="delimiter">[</span>server<span class="delimiter">]</span> <span class="keyword">trait</span> <a title="trait RequestBodyHandler extends AnyRef" id="play.core.server.netty;RequestBodyHandler">RequestBodyHandler</a> <span title="Unit" class="delimiter">{</span>

  <span class="keyword">import</span> <a href="#play.core.server.netty.RequestBodyHandler" title="play.core.server.netty.RequestBodyHandler.type">RequestBodyHandler</a>._

  <span class="comment">/**
   * Creates a new upstream handler for the purposes of receiving chunked requests. Requests are buffered as an
   * optimization.
   *
   * @param bodyHandler the iteratee used to handle the body.
   * @param replaceHandler a function to handle the registration of a new handler. A handler is passed as a param.
   * @param handlerFinished a function to handle the de-registration of the handler i.e. when the chunked request is complete.
   * @return a future of an iteratee that will return the result.
   */</span>
  <span class="keyword">def</span> <a title="[A](bodyHandler: play.api.libs.iteratee.Iteratee[Array[Byte],A], replaceHandler: org.jboss.netty.channel.ChannelUpstreamHandler =&gt; Unit, handlerFinished: =&gt; Unit)scala.concurrent.Future[A]" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler">newRequestBodyUpstreamHandler</a><span class="delimiter">[</span><a title="" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[Array[Byte],A]" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.bodyHandler">bodyHandler</a>: <a href="../../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[Array[Byte],A]">Iteratee</a><span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, A<span class="delimiter">]</span>,
    <a title="org.jboss.netty.channel.ChannelUpstreamHandler =&gt; Unit" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.replaceHandler">replaceHandler</a>: ChannelUpstreamHandler =&gt; Unit,
    <a title="=&gt; Unit" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.handlerFinished">handlerFinished</a>: =&gt; Unit<span class="delimiter">)</span>: <span title="scala.concurrent.Future[A]">Future</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>

    <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scala.concurrent.ExecutionContext" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.internalContext">internalContext</a> = play.core.<a href="../../../../../play/play/core/system/Execution.scala.html#play.core.Execution" title="play.core.Execution.type">Execution</a>.<a href="../../../../../play/play/core/system/Execution.scala.html#play.core.Execution.internalContext" title="=&gt; scala.concurrent.ExecutionContext">internalContext</a>
    <span class="keyword">import</span> scala.concurrent.stm._

    <span class="comment">// A promise for the result of the body handler.  This will be returned to the caller immediately.</span>
    <span class="keyword">val</span> <a title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.bodyHandlerResult">bodyHandlerResult</a> = <span title="[T]()scala.concurrent.Promise[T]">Promise</span><span title="()scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]" class="delimiter">[</span><a href="../../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[Array[Byte],A]">Iteratee</a><span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="comment">// Constants for how many messages we're prepared to allow to be in flight.</span>
    <span class="keyword">val</span> <a title="Int" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.MaxMessages">MaxMessages</a> = <span title="Int(10)" class="int">10</span>
    <span class="keyword">val</span> <a title="Int" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.MinMessages">MinMessages</a> = <span title="Int(10)" class="int">10</span>

    <span class="comment">// How messages we currently have &quot;in flight&quot; that the bodyHandler hasn't acknowledged.</span>
    <span class="keyword">val</span> <a title="scala.concurrent.stm.Ref[Int]" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.counter">counter</a> = <span title="(initialValue: Int)scala.concurrent.stm.Ref[Int]">Ref</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>

    <span class="comment">// An STM reference to the body handler.</span>
    <span class="comment">// I don't think STM is needed here, since Netty won't give us two chunks at once.</span>
    <span class="comment">// But I don't want to remove it, in case I've misunderstood.</span>
    <span class="comment">// TODO: Work out whether STM is needed.</span>
    <span class="keyword">val</span> <a title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[Array[Byte],A]]" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.iteratee">iteratee</a>: <span title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">Ref</span><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, A<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="(initialValue: play.api.libs.iteratee.Iteratee[Array[Byte],A])(implicit om: scala.reflect.OptManifest[play.api.libs.iteratee.Iteratee[Array[Byte],A]])scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">Ref</span><span title="(clazz: Class[_], arg1: scala.reflect.OptManifest[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[play.api.libs.iteratee.Iteratee[Array[Byte],A]]" class="delimiter">(</span><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.bodyHandler" title="play.api.libs.iteratee.Iteratee[Array[Byte],A]">bodyHandler</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(ctx: org.jboss.netty.channel.ChannelHandlerContext, chunk: play.api.libs.iteratee.Input[Array[Byte]])Unit" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk">pushChunk</a><span class="delimiter">(</span><a title="org.jboss.netty.channel.ChannelHandlerContext" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.ctx">ctx</a>: <span title="org.jboss.netty.channel.ChannelHandlerContext">ChannelHandlerContext</span>, <a title="play.api.libs.iteratee.Input[Array[Byte]]" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.chunk">chunk</a>: <a href="../../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Input" title="play.api.libs.iteratee.Input[Array[Byte]]">Input</a><span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>

      <span class="comment">// If we have more messages in flight than the maximum, ensure that we have told upstream that</span>
      <span class="comment">// we don't want to received more.  But only if the channel is still open and we haven't finished handling it.</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.counter" title="scala.concurrent.stm.Ref[Int]">counter</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[Int]">single</span>.<span title="(f: Int =&gt; Int)Int">transformAndGet</span> <span class="delimiter">{</span> <a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.$anonfun.x$1" title="Int">_</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span> <span class="delimiter">}</span> <span title="(x: Int)Boolean">&gt;</span> <a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.MaxMessages" title="Int">MaxMessages</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.ctx" title="org.jboss.netty.channel.ChannelHandlerContext">ctx</a>.<span title="()org.jboss.netty.channel.Channel">getChannel</span>.<span title="()Boolean">isOpen</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.bodyHandlerResult" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">bodyHandlerResult</a>.<span title="=&gt; Boolean">isCompleted</span><span class="delimiter">)</span>
        <a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.ctx" title="org.jboss.netty.channel.ChannelHandlerContext">ctx</a>.<span title="()org.jboss.netty.channel.Channel">getChannel</span>.<span title="(x$1: Boolean)org.jboss.netty.channel.ChannelFuture">setReadable</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

      <span class="comment">// Promise for the next iteratee</span>
      <span class="keyword">val</span> <a title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.itPromise">itPromise</a> = <span title="[T]()scala.concurrent.Promise[T]">Promise</span><span title="()scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]" class="delimiter">[</span><a href="../../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[Array[Byte],A]">Iteratee</a><span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="comment">// Update our body handler iteratee to be the next iteratee, and get the current one atomically</span>
      <span class="keyword">val</span> <a title="Option[play.api.libs.iteratee.Iteratee[Array[Byte],A]]" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.current">current</a> = <span title="(block: scala.concurrent.stm.InTxn =&gt; Option[play.api.libs.iteratee.Iteratee[Array[Byte],A]])(implicit mt: scala.concurrent.stm.MaybeTxn)Option[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">atomic</span> <span title="=&gt; scala.concurrent.stm.TxnUnknown.type" class="delimiter">{</span> <span class="keyword">implicit</span> <a title="scala.concurrent.stm.InTxn" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.current.$anonfun.txn">txn</a> =&gt;
        <span title="Option[play.api.libs.iteratee.Iteratee[Array[Byte],A]]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.bodyHandlerResult" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">bodyHandlerResult</a>.<span title="=&gt; Boolean">isCompleted</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="(x: play.api.libs.iteratee.Iteratee[Array[Byte],A])Some[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">Some</span><span class="delimiter">(</span><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.iteratee" title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">iteratee</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">single</span>.<span title="(v: play.api.libs.iteratee.Iteratee[Array[Byte],A])play.api.libs.iteratee.Iteratee[Array[Byte],A]">swap</span><span class="delimiter">(</span><a href="../../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Iteratee" title="play.api.libs.iteratee.Iteratee.type">Iteratee</a>.<a href="../../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Iteratee.flatten" title="(i: scala.concurrent.Future[play.api.libs.iteratee.Iteratee[Array[Byte],A]])play.api.libs.iteratee.Iteratee[Array[Byte],A]">flatten</a><span class="delimiter">(</span><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.itPromise" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">itPromise</a>.<span title="=&gt; scala.concurrent.Future[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">future</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="comment">// We already have a result, but we're not at the end of the stream yet.  Replace the handler with one that</span>
          <span class="comment">// will simply ignore the rest of the body.</span>
          <span class="comment">// This means we can free up resources that this handler holds, namely, the promise for the parsed body,</span>
          <span class="comment">// which could be large, while the rest of the body comes.</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.chunk" title="play.api.libs.iteratee.Input[Array[Byte]]">chunk</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.EOF" title="play.api.libs.iteratee.Input.EOF.type">EOF</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.replaceHandler" title="(v1: org.jboss.netty.channel.ChannelUpstreamHandler)Unit">replaceHandler</a><span class="delimiter">(</span><span title="RequestBodyHandler.this.IgnoreBodyHandler" class="keyword">new</span> <a href="#play.core.server.netty;RequestBodyHandler;IgnoreBodyHandler" title="RequestBodyHandler.this.IgnoreBodyHandler">IgnoreBodyHandler</a><span class="delimiter">(</span><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.handlerFinished" title="=&gt; Unit">handlerFinished</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="None.type">None</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.current" title="Option[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">current</a>.<span title="(f: play.api.libs.iteratee.Iteratee[Array[Byte],A] =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="play.api.libs.iteratee.Iteratee[Array[Byte],A]" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.$anonfun.currentIteratee">currentIteratee</a> =&gt;
        <span class="comment">// Feed the chunk</span>
        <a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.$anonfun.currentIteratee" title="play.api.libs.iteratee.Iteratee[Array[Byte],A]">currentIteratee</a>.<a href="../../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.feed" title="(in: play.api.libs.iteratee.Input[Array[Byte]])scala.concurrent.Future[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">feed</a><span class="delimiter">(</span><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.chunk" title="play.api.libs.iteratee.Input[Array[Byte]]">chunk</a><span class="delimiter">)</span>.<span title="(f: play.api.libs.iteratee.Iteratee[Array[Byte],A] =&gt; scala.concurrent.Future[play.api.libs.iteratee.Step[Array[Byte],A]])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[play.api.libs.iteratee.Step[Array[Byte],A]]">flatMap</span><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.internalContext" title="scala.concurrent.ExecutionContext" class="delimiter">(</a><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.$anonfun.$anonfun.x$2" title="play.api.libs.iteratee.Iteratee[Array[Byte],A]">_</a>.<a href="../../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.unflatten" title="=&gt; scala.concurrent.Future[play.api.libs.iteratee.Step[Array[Byte],A]]">unflatten</a><span class="delimiter">)</span>.<span title="(func: scala.util.Try[play.api.libs.iteratee.Step[Array[Byte],A]] =&gt; Unit)(implicit executor: scala.concurrent.ExecutionContext)Unit">onComplete</span> <a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.$anonfun.$anonfun.x0$1" title="Unit" class="delimiter">{</a>
          <span class="keyword">case</span> Success<span class="delimiter">(</span><a title="play.api.libs.iteratee.Step.Cont[Array[Byte],A]" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.$anonfun.$anonfun.c">c</a> @ Step.Cont<span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[Array[Byte]] =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A]" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.$anonfun.$anonfun.k">k</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            <a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.continue" title="(it: play.api.libs.iteratee.Iteratee[Array[Byte],A])Unit">continue</a><span class="delimiter">(</span><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.$anonfun.$anonfun.c" title="play.api.libs.iteratee.Step.Cont[Array[Byte],A]">c</a>.<a href="../../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Step.it" title="=&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A]">it</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="scala.util.Try[play.api.libs.iteratee.Step[Array[Byte],A]]" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.$anonfun.$anonfun.done">done</a> =&gt;
            <a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.finish" title="(result: scala.util.Try[play.api.libs.iteratee.Iteratee[Array[Byte],A]])Unit">finish</a><span class="delimiter">(</span><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.$anonfun.$anonfun.done" title="scala.util.Try[play.api.libs.iteratee.Step[Array[Byte],A]]">done</a>.<span title="(f: play.api.libs.iteratee.Step[Array[Byte],A] =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A])scala.util.Try[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">map</span><span class="delimiter">(</span><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.$anonfun.$anonfun.$anonfun.x$3" title="play.api.libs.iteratee.Step[Array[Byte],A]">_</a>.<a href="../../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Step.it" title="=&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A]">it</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(it: play.api.libs.iteratee.Iteratee[Array[Byte],A])Unit" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.continue">continue</a><span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[Array[Byte],A]" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.continue.it">it</a>: <a href="../../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[Array[Byte],A]">Iteratee</a><span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, A<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// If we have less messages in flight than the minimum, ensure that we have told upstream that</span>
        <span class="comment">// we are ready to receive more.</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.counter" title="scala.concurrent.stm.Ref[Int]">counter</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[Int]">single</span>.<span title="(f: Int =&gt; Int)Int">transformAndGet</span> <span class="delimiter">{</span> <a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.continue.$anonfun.x$4" title="Int">_</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span> <span class="delimiter">}</span> <span title="(x: Int)Boolean">&lt;=</span> <a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.MinMessages" title="Int">MinMessages</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.ctx" title="org.jboss.netty.channel.ChannelHandlerContext">ctx</a>.<span title="()org.jboss.netty.channel.Channel">getChannel</span>.<span title="()Boolean">isOpen</span><span class="delimiter">)</span>
          <a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.ctx" title="org.jboss.netty.channel.ChannelHandlerContext">ctx</a>.<span title="()org.jboss.netty.channel.Channel">getChannel</span>.<span title="(x$1: Boolean)org.jboss.netty.channel.ChannelFuture">setReadable</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
        <a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.itPromise" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">itPromise</a>.<span title="(v: play.api.libs.iteratee.Iteratee[Array[Byte],A])itPromise.type">success</span><span title="Unit" class="delimiter">(</span><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.continue.it" title="play.api.libs.iteratee.Iteratee[Array[Byte],A]">it</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(result: scala.util.Try[play.api.libs.iteratee.Iteratee[Array[Byte],A]])Unit" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.finish">finish</a><span class="delimiter">(</span><a title="scala.util.Try[play.api.libs.iteratee.Iteratee[Array[Byte],A]]" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.finish.result">result</a>: <span title="scala.util.Try[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">Try</span><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// Redeem the body handler result</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.bodyHandlerResult" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">bodyHandlerResult</a>.<span title="(result: scala.util.Try[play.api.libs.iteratee.Iteratee[Array[Byte],A]])Boolean">tryComplete</span><span class="delimiter">(</span><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.finish.result" title="scala.util.Try[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">result</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.ctx" title="org.jboss.netty.channel.ChannelHandlerContext">ctx</a>.<span title="()org.jboss.netty.channel.Channel">getChannel</span>.<span title="()Boolean">isOpen</span><span class="delimiter">)</span> <a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.ctx" title="org.jboss.netty.channel.ChannelHandlerContext">ctx</a>.<span title="()org.jboss.netty.channel.Channel">getChannel</span>.<span title="(x$1: Boolean)org.jboss.netty.channel.ChannelFuture">setReadable</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.itPromise" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">itPromise</a>.<span title="(result: scala.util.Try[play.api.libs.iteratee.Iteratee[Array[Byte],A]])itPromise.type">complete</span><span title="Unit" class="delimiter">(</span><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk.finish.result" title="scala.util.Try[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">result</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span title="Unit" class="delimiter">}</span>

    <a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.replaceHandler" title="(v1: org.jboss.netty.channel.ChannelUpstreamHandler)Unit">replaceHandler</a><span class="delimiter">(</span><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler;$anon" title="org.jboss.netty.channel.SimpleChannelUpstreamHandler" class="keyword">new</a> <a title="anonymous class $anon extends org.jboss.netty.channel.SimpleChannelUpstreamHandler" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler;$anon">SimpleChannelUpstreamHandler</a> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(ctx: org.jboss.netty.channel.ChannelHandlerContext, e: org.jboss.netty.channel.MessageEvent)Unit" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler;$anon.messageReceived">messageReceived</a><span class="delimiter">(</span><a title="org.jboss.netty.channel.ChannelHandlerContext" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler;$anon.messageReceived.ctx">ctx</a>: <span title="org.jboss.netty.channel.ChannelHandlerContext">ChannelHandlerContext</span>, <a title="org.jboss.netty.channel.MessageEvent" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler;$anon.messageReceived.e">e</a>: <span title="org.jboss.netty.channel.MessageEvent">MessageEvent</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler;$anon.messageReceived.e" title="org.jboss.netty.channel.MessageEvent">e</a>.<span title="()Object">getMessage</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>

          <span class="keyword">case</span> <span title="org.jboss.netty.handler.codec.http.HttpChunk">chunk</span>: <span title="org.jboss.netty.handler.codec.http.HttpChunk">HttpChunk</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><span title="org.jboss.netty.handler.codec.http.HttpChunk">chunk</span>.<span title="()Boolean">isLast</span> =&gt;
            <span class="keyword">val</span> <a title="org.jboss.netty.buffer.ChannelBuffer" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler;$anon.messageReceived.cBuffer">cBuffer</a> = <span title="org.jboss.netty.handler.codec.http.HttpChunk">chunk</span>.<span title="()org.jboss.netty.buffer.ChannelBuffer">getContent</span>
            <span class="keyword">val</span> <a title="Array[Byte]" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler;$anon.messageReceived.bytes">bytes</a> = <span title="Array[Byte]" class="keyword">new</span> <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">(</span><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler;$anon.messageReceived.cBuffer" title="org.jboss.netty.buffer.ChannelBuffer">cBuffer</a>.<span title="()Int">readableBytes</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler;$anon.messageReceived.cBuffer" title="org.jboss.netty.buffer.ChannelBuffer">cBuffer</a>.<span title="(x$1: Array[Byte])Unit">readBytes</span><span class="delimiter">(</span><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler;$anon.messageReceived.bytes" title="Array[Byte]">bytes</a><span class="delimiter">)</span>
            <a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk" title="(ctx: org.jboss.netty.channel.ChannelHandlerContext, chunk: play.api.libs.iteratee.Input[Array[Byte]])Unit">pushChunk</a><span class="delimiter">(</span><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler;$anon.messageReceived.ctx" title="org.jboss.netty.channel.ChannelHandlerContext">ctx</a>, <a href="../../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input;El" title="(e: Array[Byte])play.api.libs.iteratee.Input.El[Array[Byte]]">El</a><span class="delimiter">(</span><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler;$anon.messageReceived.bytes" title="Array[Byte]">bytes</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="org.jboss.netty.handler.codec.http.HttpChunk">chunk</span>: <span title="org.jboss.netty.handler.codec.http.HttpChunk">HttpChunk</span> <span class="keyword">if</span> <span title="org.jboss.netty.handler.codec.http.HttpChunk">chunk</span>.<span title="()Boolean">isLast</span> =&gt; <span class="delimiter">{</span>
            <a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk" title="(ctx: org.jboss.netty.channel.ChannelHandlerContext, chunk: play.api.libs.iteratee.Input[Array[Byte]])Unit">pushChunk</a><span class="delimiter">(</span><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler;$anon.messageReceived.ctx" title="org.jboss.netty.channel.ChannelHandlerContext">ctx</a>, <a href="../../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.EOF" title="play.api.libs.iteratee.Input.EOF.type">EOF</a><span class="delimiter">)</span>
            <a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.handlerFinished" title="=&gt; Unit">handlerFinished</a>
          <span class="delimiter">}</span>

          <span class="keyword">case</span> <a title="Object" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler;$anon.messageReceived.unexpected">unexpected</a> =&gt;
            <a href="#play.core.server.netty.RequestBodyHandler.logger" title="=&gt; play.api.Logger">logger</a>.<a href="../../../../../play/play/api/Logger.scala.html#play.api;LoggerLike.error(83d3728a3c)" title="(message: =&gt; String)Unit">error</a><span class="delimiter">(</span><span class="string">&quot;Oops, unexpected message received in NettyServer/RequestBodyHandler&quot;</span> <span title="String(&quot;Oops, unexpected message received in NettyServer/RequestBodyHandler (please report this problem): &quot;)">+</span>
              <span class="string">&quot; (please report this problem): &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler;$anon.messageReceived.unexpected" title="Object">unexpected</a><span class="delimiter">)</span>

        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(ctx: org.jboss.netty.channel.ChannelHandlerContext, e: org.jboss.netty.channel.ExceptionEvent)Unit" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler;$anon.exceptionCaught">exceptionCaught</a><span class="delimiter">(</span><a title="org.jboss.netty.channel.ChannelHandlerContext" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler;$anon.exceptionCaught.ctx">ctx</a>: <span title="org.jboss.netty.channel.ChannelHandlerContext">ChannelHandlerContext</span>, <a title="org.jboss.netty.channel.ExceptionEvent" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler;$anon.exceptionCaught.e">e</a>: <span title="org.jboss.netty.channel.ExceptionEvent">ExceptionEvent</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#play.core.server.netty.RequestBodyHandler.logger" title="=&gt; play.api.Logger">logger</a>.<a href="../../../../../play/play/api/Logger.scala.html#play.api;LoggerLike.error(804ef4765b)" title="(message: =&gt; String, error: =&gt; Throwable)Unit">error</a><span class="delimiter">(</span><span title="String(&quot;Exception caught in RequestBodyHandler&quot;)" class="string">&quot;Exception caught in RequestBodyHandler&quot;</span>, <a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler;$anon.exceptionCaught.e" title="org.jboss.netty.channel.ExceptionEvent">e</a>.<span title="()Throwable">getCause</span><span class="delimiter">)</span>
        <a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler;$anon.exceptionCaught.e" title="org.jboss.netty.channel.ExceptionEvent">e</a>.<span title="()org.jboss.netty.channel.Channel">getChannel</span>.<span title="()org.jboss.netty.channel.ChannelFuture">close</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(ctx: org.jboss.netty.channel.ChannelHandlerContext, e: org.jboss.netty.channel.ChannelStateEvent)Unit" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler;$anon.channelDisconnected">channelDisconnected</a><span class="delimiter">(</span><a title="org.jboss.netty.channel.ChannelHandlerContext" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler;$anon.channelDisconnected.ctx">ctx</a>: <span title="org.jboss.netty.channel.ChannelHandlerContext">ChannelHandlerContext</span>, <a title="org.jboss.netty.channel.ChannelStateEvent" id="play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler;$anon.channelDisconnected.e">e</a>: <span title="org.jboss.netty.channel.ChannelStateEvent">ChannelStateEvent</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.pushChunk" title="(ctx: org.jboss.netty.channel.ChannelHandlerContext, chunk: play.api.libs.iteratee.Input[Array[Byte]])Unit">pushChunk</a><span class="delimiter">(</span><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler;$anon.channelDisconnected.ctx" title="org.jboss.netty.channel.ChannelHandlerContext">ctx</a>, <a href="../../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input.EOF" title="play.api.libs.iteratee.Input.EOF.type">EOF</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="delimiter">}</span><span class="delimiter">)</span>

    <a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.bodyHandlerResult" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">bodyHandlerResult</a>.<span title="=&gt; scala.concurrent.Future[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">future</span>.<span title="(f: play.api.libs.iteratee.Iteratee[Array[Byte],A] =&gt; scala.concurrent.Future[A])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[A]">flatMap</span><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.internalContext" title="scala.concurrent.ExecutionContext" class="delimiter">(</a><a href="#play.core.server.netty;RequestBodyHandler.newRequestBodyUpstreamHandler.$anonfun.x$5" title="play.api.libs.iteratee.Iteratee[Array[Byte],A]">_</a>.<a href="../../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee;Iteratee.run" title="=&gt; scala.concurrent.Future[A]">run</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Ignores the body, but calls finish when finished.
   */</span>
  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class IgnoreBodyHandler extends org.jboss.netty.channel.SimpleChannelUpstreamHandler" id="play.core.server.netty;RequestBodyHandler;IgnoreBodyHandler">IgnoreBodyHandler</a><a href="#play.core.server.netty;RequestBodyHandler;IgnoreBodyHandler" title="RequestBodyHandler.this.IgnoreBodyHandler" class="delimiter">(</a><a title="=&gt; Unit" id="play.core.server.netty;RequestBodyHandler;IgnoreBodyHandler.handlerFinished">handlerFinished</a>: =&gt; Unit<span class="delimiter">)</span> <span class="keyword">extends</span> <span title="org.jboss.netty.channel.SimpleChannelUpstreamHandler">SimpleChannelUpstreamHandler</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(ctx: org.jboss.netty.channel.ChannelHandlerContext, e: org.jboss.netty.channel.MessageEvent)Unit" id="play.core.server.netty;RequestBodyHandler;IgnoreBodyHandler.messageReceived">messageReceived</a><span class="delimiter">(</span><a title="org.jboss.netty.channel.ChannelHandlerContext" id="play.core.server.netty;RequestBodyHandler;IgnoreBodyHandler.messageReceived.ctx">ctx</a>: <span title="org.jboss.netty.channel.ChannelHandlerContext">ChannelHandlerContext</span>, <a title="org.jboss.netty.channel.MessageEvent" id="play.core.server.netty;RequestBodyHandler;IgnoreBodyHandler.messageReceived.e">e</a>: <span title="org.jboss.netty.channel.MessageEvent">MessageEvent</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#play.core.server.netty;RequestBodyHandler;IgnoreBodyHandler.messageReceived.e" title="org.jboss.netty.channel.MessageEvent">e</a>.<span title="()Object">getMessage</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="org.jboss.netty.handler.codec.http.HttpChunk" id="play.core.server.netty;RequestBodyHandler;IgnoreBodyHandler.messageReceived.chunk">chunk</a>: <span title="org.jboss.netty.handler.codec.http.HttpChunk">HttpChunk</span> =&gt; <span class="delimiter">{</span>
          <span class="comment">// Ignore, and invoke the callback if it's the last chunk.</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.core.server.netty;RequestBodyHandler;IgnoreBodyHandler.messageReceived.chunk" title="org.jboss.netty.handler.codec.http.HttpChunk">chunk</a>.<span title="()Boolean">isLast</span><span class="delimiter">)</span> <a href="#play.core.server.netty;RequestBodyHandler;IgnoreBodyHandler.handlerFinished" title="=&gt; Unit">handlerFinished</a>
        <span class="delimiter">}</span>

        <span class="comment">// Even though this handler essentially ignores everything it receives, it should only be handling HTTP chunks,</span>
        <span class="comment">// so if it gets something else log it so that we can know there's a bug.</span>
        <span class="keyword">case</span> <a title="Object" id="play.core.server.netty;RequestBodyHandler;IgnoreBodyHandler.messageReceived.unexpected">unexpected</a> =&gt;
          <a href="#play.core.server.netty.RequestBodyHandler.logger" title="=&gt; play.api.Logger">logger</a>.<a href="../../../../../play/play/api/Logger.scala.html#play.api;LoggerLike.error(83d3728a3c)" title="(message: =&gt; String)Unit">error</a><span class="delimiter">(</span><span class="string">&quot;Oops, unexpected message received in NettyServer/IgnoreBodyHandler&quot;</span> <span title="String(&quot;Oops, unexpected message received in NettyServer/IgnoreBodyHandler (please report this problem): &quot;)">+</span>
            <span class="string">&quot; (please report this problem): &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#play.core.server.netty;RequestBodyHandler;IgnoreBodyHandler.messageReceived.unexpected" title="Object">unexpected</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(ctx: org.jboss.netty.channel.ChannelHandlerContext, e: org.jboss.netty.channel.ExceptionEvent)Unit" id="play.core.server.netty;RequestBodyHandler;IgnoreBodyHandler.exceptionCaught">exceptionCaught</a><span class="delimiter">(</span><a title="org.jboss.netty.channel.ChannelHandlerContext" id="play.core.server.netty;RequestBodyHandler;IgnoreBodyHandler.exceptionCaught.ctx">ctx</a>: <span title="org.jboss.netty.channel.ChannelHandlerContext">ChannelHandlerContext</span>, <a title="org.jboss.netty.channel.ExceptionEvent" id="play.core.server.netty;RequestBodyHandler;IgnoreBodyHandler.exceptionCaught.e">e</a>: <span title="org.jboss.netty.channel.ExceptionEvent">ExceptionEvent</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#play.core.server.netty.RequestBodyHandler.logger" title="=&gt; play.api.Logger">logger</a>.<a href="../../../../../play/play/api/Logger.scala.html#play.api;LoggerLike.error(804ef4765b)" title="(message: =&gt; String, error: =&gt; Throwable)Unit">error</a><span class="delimiter">(</span><span title="String(&quot;Exception caught in IgnoreBodyHandler&quot;)" class="string">&quot;Exception caught in IgnoreBodyHandler&quot;</span>, <a href="#play.core.server.netty;RequestBodyHandler;IgnoreBodyHandler.exceptionCaught.e" title="org.jboss.netty.channel.ExceptionEvent">e</a>.<span title="()Throwable">getCause</span><span class="delimiter">)</span>
      <a href="#play.core.server.netty;RequestBodyHandler;IgnoreBodyHandler.exceptionCaught.e" title="org.jboss.netty.channel.ExceptionEvent">e</a>.<span title="()org.jboss.netty.channel.Channel">getChannel</span>.<span title="()org.jboss.netty.channel.ChannelFuture">close</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span title="AnyRef" class="keyword">object</span> <a title="play.core.server.netty.RequestBodyHandler.type" id="play.core.server.netty.RequestBodyHandler">RequestBodyHandler</a> <a href="#play.core.server.netty.RequestBodyHandler" title="play.core.server.netty.RequestBodyHandler.type" class="delimiter">{</a>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="play.api.Logger" id="play.core.server.netty.RequestBodyHandler.logger">logger</a> = <a href="../../../../../play/play/api/Logger.scala.html#play.api.Logger.apply(1f619881c1)" title="(clazz: Class[play.core.server.netty.RequestBodyHandler])play.api.Logger">Logger</a><span class="delimiter">(</span>classOf<span title="Class[play.core.server.netty.RequestBodyHandler](classOf[play.core.server.netty.RequestBodyHandler])" class="delimiter">[</span>RequestBodyHandler<span class="delimiter">]</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
