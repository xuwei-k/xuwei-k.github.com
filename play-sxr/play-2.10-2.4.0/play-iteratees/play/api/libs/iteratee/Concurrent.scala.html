<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>play-iteratees/play/api/libs/iteratee/Concurrent.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright (C) 2009-2015 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
<span class="keyword">package</span> play.api.libs.iteratee

<span class="keyword">import</span> scala.concurrent.<span class="delimiter">{</span> ExecutionContext, Future, Promise <span class="delimiter">}</span>
<span class="keyword">import</span> scala.util.<span class="delimiter">{</span> Try, Failure, Success <span class="delimiter">}</span>
<span class="keyword">import</span> scala.util.control.NonFatal
<span class="keyword">import</span> java.util.concurrent.<span class="delimiter">{</span> TimeUnit <span class="delimiter">}</span>
<span class="keyword">import</span> play.api.libs.iteratee.<a href="Execution.scala.html#play.api.libs.iteratee.Execution" title="play.api.libs.iteratee.Execution.type">Execution</a>.<a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits" title="play.api.libs.iteratee.Execution.Implicits.type">Implicits</a>.<span class="delimiter">{</span> defaultExecutionContext =&gt; dec <span class="delimiter">}</span>

<span class="comment">/**
 * Utilities for concurrent usage of iteratees, enumerators and enumeratees.
 *
 * @define paramEcSingle @param ec The context to execute the supplied function with. The context is prepared on the calling thread before being used.
 * @define paramEcMultiple @param ec The context to execute the supplied functions with. The context is prepared on the calling thread before being used.
 */</span>
<span class="keyword">object</span> <a title="play.api.libs.iteratee.Concurrent.type" id="play.api.libs.iteratee.Concurrent">Concurrent</a> <a href="#play.api.libs.iteratee.Concurrent" title="play.api.libs.iteratee.Concurrent.type" class="delimiter">{</a>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="java.util.Timer" id="play.api.libs.iteratee.Concurrent.timer">timer</a> = <span title="(x$1: Boolean)java.util.Timer" class="keyword">new</span> java.util.<span title="java.util.Timer">Timer</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[A](v: A, delay: Long, unit: java.util.concurrent.TimeUnit)scala.concurrent.Future[A]" id="play.api.libs.iteratee.Concurrent.timeoutFuture">timeoutFuture</a><span class="delimiter">[</span><a title="" id="play.api.libs.iteratee.Concurrent.timeoutFuture;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="play.api.libs.iteratee.Concurrent.timeoutFuture.v">v</a>: <a href="#play.api.libs.iteratee.Concurrent.timeoutFuture;A" title="A">A</a>, <a title="Long" id="play.api.libs.iteratee.Concurrent.timeoutFuture.delay">delay</a>: <span title="Long">Long</span>, <a title="java.util.concurrent.TimeUnit" id="play.api.libs.iteratee.Concurrent.timeoutFuture.unit">unit</a>: <span title="java.util.concurrent.TimeUnit">TimeUnit</span><span class="delimiter">)</span>: <span title="scala.concurrent.Future[A]">Future</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="scala.concurrent.Promise[A]" id="play.api.libs.iteratee.Concurrent.timeoutFuture.p">p</a> = <span title="[T]()scala.concurrent.Promise[T]">Promise</span><span title="()scala.concurrent.Promise[A]" class="delimiter">[</span><a href="#play.api.libs.iteratee.Concurrent.timeoutFuture;A" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#play.api.libs.iteratee.Concurrent.timer" title="=&gt; java.util.Timer">timer</a>.<span title="(x$1: java.util.TimerTask, x$2: Long)Unit">schedule</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.timeoutFuture;$anon" title="java.util.TimerTask" class="keyword">new</a> <a title="anonymous class $anon extends java.util.TimerTask" id="play.api.libs.iteratee.Concurrent.timeoutFuture;$anon">java</a>.util.<span title="java.util.TimerTask">TimerTask</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="()Unit" id="play.api.libs.iteratee.Concurrent.timeoutFuture;$anon.run">run</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#play.api.libs.iteratee.Concurrent.timeoutFuture.p" title="scala.concurrent.Promise[A]">p</a>.<span title="(v: A)p.type">success</span><span title="Unit" class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.timeoutFuture.v" title="A">v</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>, <a href="#play.api.libs.iteratee.Concurrent.timeoutFuture.unit" title="java.util.concurrent.TimeUnit">unit</a>.<span title="(x$1: Long)Long">toMillis</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.timeoutFuture.delay" title="Long">delay</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#play.api.libs.iteratee.Concurrent.timeoutFuture.p" title="scala.concurrent.Promise[A]">p</a>.<span title="=&gt; scala.concurrent.Future[A]">future</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A channel for imperative style feeding of input into one or more iteratees.
   */</span>
  <span class="keyword">trait</span> <a title="trait Channel[E] extends AnyRef" id="play.api.libs.iteratee.Concurrent;Channel">Channel</a><span class="delimiter">[</span><a title="" id="play.api.libs.iteratee.Concurrent;Channel;E">E</a><span class="delimiter">]</span> <span title="Unit" class="delimiter">{</span>

    <span class="comment">/**
     * Push an input chunk into this channel
     *
     * @param chunk The chunk to push
     */</span>
    <span class="keyword">def</span> <a title="(chunk: play.api.libs.iteratee.Input[E])Unit" id="play.api.libs.iteratee.Concurrent;Channel.push(48e5b65825)">push</a><span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[E]" id="play.api.libs.iteratee.Concurrent;Channel.push(48e5b65825).chunk">chunk</a>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Input" title="play.api.libs.iteratee.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>

    <span class="comment">/**
     * Push an item into this channel
     *
     * @param item The item to push
     */</span>
    <span class="keyword">def</span> <a title="(item: E)Unit" id="play.api.libs.iteratee.Concurrent;Channel.push(edc6f720b4)">push</a><span class="delimiter">(</span><a title="E" id="play.api.libs.iteratee.Concurrent;Channel.push(edc6f720b4).item">item</a>: <a href="#play.api.libs.iteratee.Concurrent;Channel;E" title="E">E</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#play.api.libs.iteratee.Concurrent;Channel.push(48e5b65825)" title="(chunk: play.api.libs.iteratee.Input[E])Unit">push</a><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Input;El" title="(e: E)play.api.libs.iteratee.Input.El[E]">El</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent;Channel.push(edc6f720b4).item" title="E">item</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>

    <span class="comment">/**
     * Send a failure to this channel.  This results in any promises that the enumerator associated with this channel
     * produced being redeemed with a failure.
     *
     * Calling this multiple times is ok.  In the case of a broadcast enumerator, any iteratees that are attached
     * after one of the end methods on this channel are invoked will be redeemed according to the most recent
     * invocation, that is, subsequent calls to end will change the behaviour of attaching new iteratees to the
     * broadcast enumerator.
     *
     * @param e The failure.
     */</span>
    <span class="keyword">def</span> <a title="(e: Throwable)Unit" id="play.api.libs.iteratee.Concurrent;Channel.end(3b9207e466)">end</a><span class="delimiter">(</span><a title="Throwable" id="play.api.libs.iteratee.Concurrent;Channel.end(3b9207e466).e">e</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span>

    <span class="comment">/**
     * End the input for this channel.  This results in any promises that the enumerator associated with this channel
     * produced being redeemed.
     *
     * Note that an EOF won't be sent, so any iteratees consuming this channel will still be able to consume input
     * (if they are in the cont state).
     *
     * Calling this multiple times is ok.  In the case of a broadcast enumerator, any iteratees that are attached
     * after one of the end methods on this channel are invoked will be redeemed according to the most recent
     * invocation, that is, subsequent calls to end will change the behaviour of attaching new iteratees to the
     * broadcast enumerator.
     */</span>
    <span class="keyword">def</span> <a title="()Unit" id="play.api.libs.iteratee.Concurrent;Channel.end(aa97cb1b3d)">end</a><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="comment">/**
     * Send an EOF to the channel, and then end the input for the channel.
     */</span>
    <span class="keyword">def</span> <a title="()Unit" id="play.api.libs.iteratee.Concurrent;Channel.eofAndEnd">eofAndEnd</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#play.api.libs.iteratee.Concurrent;Channel.push(48e5b65825)" title="(chunk: play.api.libs.iteratee.Input[E])Unit">push</a><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Input.EOF" title="play.api.libs.iteratee.Input.EOF.type">EOF</a><span class="delimiter">)</span>
      <a href="#play.api.libs.iteratee.Concurrent;Channel.end(aa97cb1b3d)" title="()Unit">end</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Create an enumerator and channel for broadcasting input to many iteratees.
   *
   * This is intended for imperative style push input feeding into iteratees.  For example:
   *
   * {{{
   * val (chatEnumerator, chatChannel) = Concurrent.broadcast[String]
   * val chatClient1 = Iteratee.foreach[String](m =&gt; println(&quot;Client 1: &quot; + m))
   * val chatClient2 = Iteratee.foreach[String](m =&gt; println(&quot;Client 2: &quot; + m))
   * chatEnumerator |&gt;&gt;&gt; chatClient1
   * chatEnumerator |&gt;&gt;&gt; chatClient2
   *
   * chatChannel.push(Message(&quot;Hello world!&quot;))
   * }}}
   */</span>
  <span class="keyword">def</span> <a title="[E]=&gt; (play.api.libs.iteratee.Enumerator[E], play.api.libs.iteratee.Concurrent.Channel[E])" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4)">broadcast</a><span class="delimiter">[</span><a title="" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4);E">E</a><span class="delimiter">]</span>: <span title="(play.api.libs.iteratee.Enumerator[E], play.api.libs.iteratee.Concurrent.Channel[E])" class="delimiter">(</span>Enumerator<span class="delimiter">[</span>E<span class="delimiter">]</span>, Channel<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>

    <span class="keyword">import</span> scala.concurrent.stm._

    <span class="keyword">val</span> <a title="scala.concurrent.stm.Ref[List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).iteratees">iteratees</a>: <span title="scala.concurrent.stm.Ref[List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]">Ref</span><span class="delimiter">[</span>List<span class="delimiter">[</span><span class="delimiter">(</span>Iteratee<span class="delimiter">[</span>E, _<span class="delimiter">]</span>, Promise<span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E, _<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">]</span> = <span title="(initialValue: List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])])(implicit om: scala.reflect.OptManifest[List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]])scala.concurrent.stm.Ref[List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]">Ref</span><span title="(clazz: Class[_], arg1: scala.reflect.OptManifest[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]" class="delimiter">(</span>List<span title="scala.collection.immutable.Nil.type" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(in: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Unit]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step">step</a><span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[E]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.in">in</a>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Input" title="play.api.libs.iteratee.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,Unit]">Iteratee</a><span class="delimiter">[</span>E, Unit<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.interested">interested</a> = <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).iteratees" title="scala.concurrent.stm.Ref[List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]">iteratees</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]">single</span>.<span title="(v: List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])])List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">swap</span><span class="delimiter">(</span>List<span title="scala.collection.immutable.Nil.type" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="List[scala.concurrent.Future[Option[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready">ready</a> = <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.interested" title="List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">interested</a>.<span title="(f: ((play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])) =&gt; scala.concurrent.Future[Option[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]])(implicit bf: scala.collection.generic.CanBuildFrom[List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])],scala.concurrent.Future[Option[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]],List[scala.concurrent.Future[Option[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]]])List[scala.concurrent.Future[Option[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]]">map</span> <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready.$anonfun.x0$1" title="scala.concurrent.Future[Option[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]" class="delimiter">{</a>
        <span class="keyword">case</span> <span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[E, Any]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready.$anonfun.it">it</a>, <a title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready.$anonfun.p">p</a><span class="delimiter">)</span> =&gt;
          <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready.$anonfun.it" title="play.api.libs.iteratee.Iteratee[E, Any]">it</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee.fold" title="(folder: play.api.libs.iteratee.Step[E,Any] =&gt; scala.concurrent.Future[Product with Serializable with scala.util.Either[play.api.libs.iteratee.Iteratee[E,Any],(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]])(implicit ec: scala.concurrent.ExecutionContext)scala.concurrent.Future[Product with Serializable with scala.util.Either[play.api.libs.iteratee.Iteratee[E,Any],(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]">fold</a> <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready.$anonfun.$anonfun.x0$2" title="scala.concurrent.Future[Product with Serializable with scala.util.Either[play.api.libs.iteratee.Iteratee[E,Any],(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]" class="delimiter">{</a>
            <span class="keyword">case</span> Step.Done<span class="delimiter">(</span><a title="Any" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready.$anonfun.$anonfun.a">a</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span> =&gt; <span title="scala.concurrent.Future.type">Future</span>.<span title="(result: scala.util.Left[play.api.libs.iteratee.Iteratee[E,Any],Nothing])scala.concurrent.Future[scala.util.Left[play.api.libs.iteratee.Iteratee[E,Any],Nothing]]">successful</span><span class="delimiter">(</span><span title="(a: play.api.libs.iteratee.Iteratee[E,Any])scala.util.Left[play.api.libs.iteratee.Iteratee[E,Any],Nothing]">Left</span><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: Any, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Any]">Done</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready.$anonfun.$anonfun.a" title="Any">a</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> Step.Cont<span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,Any]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready.$anonfun.$anonfun.k">k</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="play.api.libs.iteratee.Iteratee[E,Any]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready.$anonfun.$anonfun.next">next</a> = <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready.$anonfun.$anonfun.k" title="(v1: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Any]">k</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.in" title="play.api.libs.iteratee.Input[E]">in</a><span class="delimiter">)</span>
              <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready.$anonfun.$anonfun.next" title="play.api.libs.iteratee.Iteratee[E,Any]">next</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee.pureFold" title="(folder: play.api.libs.iteratee.Step[E,Any] =&gt; Product with Serializable with scala.util.Either[play.api.libs.iteratee.Iteratee[E,Any],(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])])(implicit ec: scala.concurrent.ExecutionContext)scala.concurrent.Future[Product with Serializable with scala.util.Either[play.api.libs.iteratee.Iteratee[E,Any],(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]">pureFold</a> <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready.$anonfun.$anonfun.$anonfun.x0$3" title="&lt;root&gt; extends Product with Serializable with scala.util.Either[play.api.libs.iteratee.Iteratee[E,Any],(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]" class="delimiter">{</a>
                <span class="keyword">case</span> Step.Done<span class="delimiter">(</span><a title="Any" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready.$anonfun.$anonfun.$anonfun.a">a</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span> =&gt; <span title="(a: play.api.libs.iteratee.Iteratee[E,Any])scala.util.Left[play.api.libs.iteratee.Iteratee[E,Any],Nothing]">Left</span><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: Any, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Any]">Done</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready.$anonfun.$anonfun.$anonfun.a" title="Any">a</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="keyword">case</span> Step.Cont<span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,Any]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready.$anonfun.$anonfun.$anonfun.k">k</a><span class="delimiter">)</span> =&gt; <span title="(b: (play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]))scala.util.Right[Nothing,(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">Right</span><span class="delimiter">(</span><span title="(_1: play.api.libs.iteratee.Iteratee[E,Any], _2: scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])" class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,Any])play.api.libs.iteratee.Iteratee[E,Any]">Cont</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready.$anonfun.$anonfun.$anonfun.k" title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,Any]">k</a><span class="delimiter">)</span>, <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready.$anonfun.p" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]">p</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="keyword">case</span> Step.Error<span class="delimiter">(</span><a title="String" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready.$anonfun.$anonfun.$anonfun.msg">msg</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span> =&gt; <span title="(a: play.api.libs.iteratee.Iteratee[E,Nothing])scala.util.Left[play.api.libs.iteratee.Iteratee[E,Nothing],Nothing]">Left</span><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Error.apply" title="(msg: String, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Nothing]">Error</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready.$anonfun.$anonfun.$anonfun.msg" title="String">msg</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">case</span> Step.Error<span class="delimiter">(</span><a title="String" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready.$anonfun.$anonfun.msg">msg</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span> =&gt; <span title="scala.concurrent.Future.type">Future</span>.<span title="(result: scala.util.Left[play.api.libs.iteratee.Iteratee[E,Nothing],Nothing])scala.concurrent.Future[scala.util.Left[play.api.libs.iteratee.Iteratee[E,Nothing],Nothing]]">successful</span><span class="delimiter">(</span><span title="(a: play.api.libs.iteratee.Iteratee[E,Nothing])scala.util.Left[play.api.libs.iteratee.Iteratee[E,Nothing],Nothing]">Left</span><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Error.apply" title="(msg: String, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Nothing]">Error</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready.$anonfun.$anonfun.msg" title="String">msg</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>.<span title="(f: Product with Serializable with scala.util.Either[play.api.libs.iteratee.Iteratee[E,Any],(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])] =&gt; Option[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[Option[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]">map</span> <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready.$anonfun.$anonfun.x0$4" title="Option[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]" class="delimiter">{</a>
            <span class="keyword">case</span> Left<span class="delimiter">(</span><span title="play.api.libs.iteratee.Iteratee[E,Any]">s</span><span class="delimiter">)</span> =&gt;
              <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready.$anonfun.p" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]">p</a>.<span title="(v: play.api.libs.iteratee.Iteratee[E, _])p.type">success</span><span class="delimiter">(</span><span title="play.api.libs.iteratee.Iteratee[E,Any]">s</span><span class="delimiter">)</span>
              <span title="None.type">None</span>
            <span class="keyword">case</span> Right<span class="delimiter">(</span><span title="(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])">s</span><span class="delimiter">)</span> =&gt;
              <span title="(x: (play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]))Some[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">Some</span><span class="delimiter">(</span><span title="(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])">s</span><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>.<span title="(pf: PartialFunction[Throwable,Option[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[Option[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]">recover</span> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[Throwable,None.type] with Serializable" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready.$anonfun;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
            <span class="keyword">case</span> <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready.$anonfun;$anonfun.applyOrElse.<unapply-selector>" title="(t: Throwable)Option[Throwable]">NonFatal</a><span class="delimiter">(</span><a title="Throwable" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready.$anonfun;$anonfun.isDefinedAt.e">e</a><span class="delimiter">)</span> =&gt;
              <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready.$anonfun.p" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]">p</a>.<span title="(t: Throwable)p.type">failure</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready.$anonfun;$anonfun.isDefinedAt.e" title="Throwable">e</a><span class="delimiter">)</span>
              <span title="None.type">None</span>
          <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="Iteratee.scala.html#play.api.libs.iteratee.Iteratee" title="play.api.libs.iteratee.Iteratee.type">Iteratee</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Iteratee.flatten" title="(i: scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,Unit]])play.api.libs.iteratee.Iteratee[E,Unit]">flatten</a><span class="delimiter">(</span><span title="scala.concurrent.Future.type">Future</span>.<span title="(in: List[scala.concurrent.Future[Option[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]])(implicit cbf: scala.collection.generic.CanBuildFrom[List[scala.concurrent.Future[Option[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]],Option[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])],List[Option[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]], implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[List[Option[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]]">sequence</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Option[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])],List[Option[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]]" class="delimiter">(</a><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.ready" title="List[scala.concurrent.Future[Option[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]]">ready</a><span class="delimiter">)</span>.<span title="[S](f: List[Option[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]] =&gt; S)(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[S]">map</span><span title="(f: List[Option[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]] =&gt; play.api.libs.iteratee.Iteratee[E,Unit])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,Unit]]" class="delimiter">[</span><a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,Unit]">Iteratee</a><span class="delimiter">[</span>E, Unit<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span> <a title="List[Option[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.$anonfun.commitReady">commitReady</a> =&gt;

        <span class="keyword">val</span> <a title="Boolean" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.$anonfun.downToZero">downToZero</a> = <span title="(block: scala.concurrent.stm.InTxn =&gt; Boolean)(implicit mt: scala.concurrent.stm.MaybeTxn)Boolean">atomic</span> <span title="=&gt; scala.concurrent.stm.TxnUnknown.type" class="delimiter">{</span> <span class="keyword">implicit</span> <a title="scala.concurrent.stm.InTxn" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.$anonfun.downToZero.$anonfun.txn">txn</a> =&gt;
          <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).iteratees" title="scala.concurrent.stm.Ref[List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]">iteratees</a>.<span title="(f: List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])] =&gt; List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])])(implicit txn: scala.concurrent.stm.InTxn)Unit">transform</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.$anonfun.downToZero.$anonfun.txn" title="scala.concurrent.stm.InTxn" class="delimiter">(</a><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.$anonfun.commitReady" title="List[Option[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]">commitReady</a>.<span title="(pf: PartialFunction[Option[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])],(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])])(implicit bf: scala.collection.generic.CanBuildFrom[List[Option[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]],(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]),List[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]])List[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">collect</span> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[Option[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])],(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])] with Serializable" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.$anonfun.downToZero.$anonfun.$anonfun;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a> <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.$anonfun.downToZero.$anonfun.$anonfun;$anonfun.isDefinedAt.s">s</a><span class="delimiter">)</span> =&gt; <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.$anonfun.downToZero.$anonfun.$anonfun;$anonfun.isDefinedAt.s" title="(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])">s</a> <span class="delimiter">}</span> <span title="(that: scala.collection.GenTraversableOnce[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])])(implicit bf: scala.collection.generic.CanBuildFrom[List[(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])],(play.api.libs.iteratee.Iteratee[E,Any], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]),List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]])List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">++</span> <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.$anonfun.downToZero.$anonfun.$anonfun.x$1" title="List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">_</a><span class="delimiter">)</span>
          <span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.interested" title="List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">interested</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).iteratees" title="()(implicit txn: scala.concurrent.stm.InTxn)List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">iteratees</a><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.$anonfun.downToZero.$anonfun.txn" title="scala.concurrent.stm.InTxn" class="delimiter">(</a><span class="delimiter">)</span>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&lt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span title="play.api.libs.iteratee.Iteratee[E,Unit]" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step.in" title="play.api.libs.iteratee.Input[E]">in</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Input.EOF" title="play.api.libs.iteratee.Input.EOF.type">EOF</a><span class="delimiter">)</span> <a href="Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: Unit, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Unit]">Done</a><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>, <a href="Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Input.Empty" title="play.api.libs.iteratee.Input.Empty.type">Empty</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,Unit])play.api.libs.iteratee.Iteratee[E,Unit]">Cont</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step" title="(in: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Unit]">step</a><span class="delimiter">)</span>

      <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="scala.concurrent.stm.Ref[Option[scala.util.Try[Unit]]]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).redeemed">redeemed</a> = <span title="(initialValue: Option[scala.util.Try[Unit]])(implicit om: scala.reflect.OptManifest[Option[scala.util.Try[Unit]]])scala.concurrent.stm.Ref[Option[scala.util.Try[Unit]]]">Ref</span><span title="(clazz: Class[_], arg1: scala.reflect.OptManifest[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[Option[scala.util.Try[Unit]]]" class="delimiter">(</span><span title="None.type">None</span>: <span title="Option[scala.util.Try[Unit]]">Option</span><span class="delimiter">[</span>Try<span class="delimiter">[</span>Unit<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="enumerator extends AnyRef with play.api.libs.iteratee.Enumerator[E]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).enumerator">enumerator</a> = <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).enumerator;$anon" title="play.api.libs.iteratee.Enumerator[E]" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.api.libs.iteratee.Enumerator[E]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).enumerator;$anon">Enumerator</a><span class="delimiter">[</span>E<span class="delimiter">]</span> <span class="delimiter">{</span>

      <span class="keyword">def</span> <a title="[A](it: play.api.libs.iteratee.Iteratee[E,A])scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,A]]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).enumerator;$anon.apply">apply</a><span class="delimiter">[</span><a title="" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).enumerator;$anon.apply;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[E,A]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).enumerator;$anon.apply.it">it</a>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,A]">Iteratee</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,A]]">Future</span><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).enumerator;$anon.apply.result">result</a> = <span title="[T]()scala.concurrent.Promise[T]">Promise</span><span title="()scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]" class="delimiter">[</span><a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,A]">Iteratee</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="Option[scala.util.Try[Unit]]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).enumerator;$anon.apply.finished">finished</a> = <span title="(block: scala.concurrent.stm.InTxn =&gt; Option[scala.util.Try[Unit]])(implicit mt: scala.concurrent.stm.MaybeTxn)Option[scala.util.Try[Unit]]">atomic</span> <span title="=&gt; scala.concurrent.stm.TxnUnknown.type" class="delimiter">{</span> <span class="keyword">implicit</span> <a title="scala.concurrent.stm.InTxn" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).enumerator;$anon.apply.finished.$anonfun.txn">txn</a> =&gt;
          <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).redeemed" title="()(implicit txn: scala.concurrent.stm.InTxn)Option[scala.util.Try[Unit]]">redeemed</a><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).enumerator;$anon.apply.finished.$anonfun.txn" title="scala.concurrent.stm.InTxn" class="delimiter">(</a><span class="delimiter">)</span> <span title="Option[scala.util.Try[Unit]]" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="None.type">None</span> =&gt;
              <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).iteratees" title="scala.concurrent.stm.Ref[List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]">iteratees</a>.<span title="(f: List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])] =&gt; List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])])(implicit txn: scala.concurrent.stm.InTxn)Unit">transform</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).enumerator;$anon.apply.finished.$anonfun.txn" title="scala.concurrent.stm.InTxn" class="delimiter">(</a><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).enumerator;$anon.apply.finished.$anonfun.$anonfun.x$2" title="List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">_</a> <span title="(elem: (play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]))(implicit bf: scala.collection.generic.CanBuildFrom[List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])],(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]),List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]])List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">:+</span> <span class="delimiter">(</span><span title="(_1: play.api.libs.iteratee.Iteratee[E,A], _2: scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])(play.api.libs.iteratee.Iteratee[E,A], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])" class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).enumerator;$anon.apply.it" title="play.api.libs.iteratee.Iteratee[E,A]">it</a>, <span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).enumerator;$anon.apply.result" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">result</a>: <span title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">Promise</span><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]" class="delimiter">[</span><span title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]">Promise</span><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E, _<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span title="None.type">None</span>
            <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="scala.util.Try[Unit]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).enumerator;$anon.apply.finished.$anonfun.notWaiting">notWaiting</a><span class="delimiter">)</span> =&gt; <span title="(x: scala.util.Try[Unit])Some[scala.util.Try[Unit]]">Some</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).enumerator;$anon.apply.finished.$anonfun.notWaiting" title="scala.util.Try[Unit]">notWaiting</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).enumerator;$anon.apply.finished" title="Option[scala.util.Try[Unit]]">finished</a>.<span title="(f: scala.util.Try[Unit] =&gt; scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]])Unit">foreach</span> <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).enumerator;$anon.apply.$anonfun.x0$5" title="result.type" class="delimiter">{</a>
          <span class="keyword">case</span> Success<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).enumerator;$anon.apply.result" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">result</a>.<span title="(v: play.api.libs.iteratee.Iteratee[E,A])result.type">success</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).enumerator;$anon.apply.it" title="play.api.libs.iteratee.Iteratee[E,A]">it</a><span class="delimiter">)</span>
          <span class="keyword">case</span> Failure<span class="delimiter">(</span><a title="Throwable" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).enumerator;$anon.apply.$anonfun.e">e</a><span class="delimiter">)</span> =&gt; <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).enumerator;$anon.apply.result" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">result</a>.<span title="(t: Throwable)result.type">failure</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).enumerator;$anon.apply.$anonfun.e" title="Throwable">e</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).enumerator;$anon.apply.result" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">result</a>.<span title="=&gt; scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,A]]">future</span>
      <span class="delimiter">}</span>

    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Unit]]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).mainIteratee">mainIteratee</a> = <span title="(initialValue: play.api.libs.iteratee.Iteratee[E,Unit])(implicit om: scala.reflect.OptManifest[play.api.libs.iteratee.Iteratee[E,Unit]])scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Unit]]">Ref</span><span title="(clazz: Class[_], arg1: scala.reflect.OptManifest[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[play.api.libs.iteratee.Iteratee[E,Unit]]" class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,Unit])play.api.libs.iteratee.Iteratee[E,Unit]">Cont</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).step" title="(in: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Unit]">step</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="toPush extends AnyRef with play.api.libs.iteratee.Concurrent.Channel[E]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush">toPush</a> = <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon" title="play.api.libs.iteratee.Concurrent.Channel[E]{}" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.api.libs.iteratee.Concurrent.Channel[E]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon">Channel</a><span class="delimiter">[</span>E<span class="delimiter">]</span> <span class="delimiter">{</span>

      <span class="keyword">private</span> <span class="keyword">val</span> <a title="play.api.libs.iteratee.RunQueue" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.runQueue">runQueue</a> = <span title="play.api.libs.iteratee.RunQueue" class="keyword">new</span> <a href="RunQueue.scala.html#play.api.libs.iteratee;RunQueue" title="play.api.libs.iteratee.RunQueue">RunQueue</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(body: =&gt; Unit)Unit" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.schedule">schedule</a><span class="delimiter">(</span><a title="=&gt; Unit" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.schedule.body">body</a>: =&gt; Unit<span class="delimiter">)</span> = <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.runQueue" title="=&gt; play.api.libs.iteratee.RunQueue">runQueue</a>.<a href="RunQueue.scala.html#play.api.libs.iteratee;RunQueue.scheduleSimple" title="(body: =&gt; Unit)(implicit ec: scala.concurrent.ExecutionContext)Unit">scheduleSimple</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.schedule.body" title="=&gt; Unit">body</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(chunk: play.api.libs.iteratee.Input[E])Unit" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825)">push</a><span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[E]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).chunk">chunk</a>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Input" title="play.api.libs.iteratee.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.schedule" title="(body: =&gt; Unit)Unit">schedule</a> <span class="delimiter">{</span>

        <span class="keyword">val</span> <a title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Unit]]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).itPromise">itPromise</a> = <span title="[T]()scala.concurrent.Promise[T]">Promise</span><span title="()scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Unit]]" class="delimiter">[</span><a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,Unit]">Iteratee</a><span class="delimiter">[</span>E, Unit<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="play.api.libs.iteratee.Iteratee[E,Unit]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).current">current</a>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,Unit]">Iteratee</a><span class="delimiter">[</span>E, Unit<span class="delimiter">]</span> = <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).mainIteratee" title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Unit]]">mainIteratee</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[play.api.libs.iteratee.Iteratee[E,Unit]]">single</span>.<span title="(v: play.api.libs.iteratee.Iteratee[E,Unit])play.api.libs.iteratee.Iteratee[E,Unit]">swap</span><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Iteratee" title="play.api.libs.iteratee.Iteratee.type">Iteratee</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Iteratee.flatten" title="(i: scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,Unit]])play.api.libs.iteratee.Iteratee[E,Unit]">flatten</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).itPromise" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Unit]]">itPromise</a>.<span title="=&gt; scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,Unit]]">future</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,Unit]]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).next">next</a> = <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).current" title="play.api.libs.iteratee.Iteratee[E,Unit]">current</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee.pureFold" title="(folder: play.api.libs.iteratee.Step[E,Unit] =&gt; play.api.libs.iteratee.Iteratee[E,Unit])(implicit ec: scala.concurrent.ExecutionContext)scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,Unit]]">pureFold</a> <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).next.$anonfun.x0$6" title="play.api.libs.iteratee.Iteratee[E,Unit]" class="delimiter">{</a>
          <span class="keyword">case</span> Step.Done<span class="delimiter">(</span><a title="Unit" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).next.$anonfun.a">a</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span> =&gt; <a href="Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: Unit, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Unit]">Done</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).next.$anonfun.a" title="Unit">a</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span>
          <span class="keyword">case</span> Step.Cont<span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,Unit]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).next.$anonfun.k">k</a><span class="delimiter">)</span> =&gt; <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).next.$anonfun.k" title="(v1: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Unit]">k</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).chunk" title="play.api.libs.iteratee.Input[E]">chunk</a><span class="delimiter">)</span>
          <span class="keyword">case</span> Step.Error<span class="delimiter">(</span><a title="String" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).next.$anonfun.msg">msg</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span> =&gt; <a href="Iteratee.scala.html#play.api.libs.iteratee.Error.apply" title="(msg: String, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Nothing]">Error</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).next.$anonfun.msg" title="String">msg</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>

        <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).next" title="scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,Unit]]">next</a>.<span title="(func: scala.util.Try[play.api.libs.iteratee.Iteratee[E,Unit]] =&gt; Any)(implicit executor: scala.concurrent.ExecutionContext)Unit">onComplete</span> <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).$anonfun.x0$7" title="Any" class="delimiter">{</a>
          <span class="keyword">case</span> Success<span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[E,Unit]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).$anonfun.it">it</a><span class="delimiter">)</span> =&gt; <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).itPromise" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Unit]]">itPromise</a>.<span title="(v: play.api.libs.iteratee.Iteratee[E,Unit])itPromise.type">success</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).$anonfun.it" title="play.api.libs.iteratee.Iteratee[E,Unit]">it</a><span class="delimiter">)</span>
          <span class="keyword">case</span> Failure<span class="delimiter">(</span><a title="Throwable" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).$anonfun.e">e</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).$anonfun.its">its</a> = <span title="(block: scala.concurrent.stm.InTxn =&gt; List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])])(implicit mt: scala.concurrent.stm.MaybeTxn)List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">atomic</span> <span title="=&gt; scala.concurrent.stm.TxnUnknown.type" class="delimiter">{</span> <span class="keyword">implicit</span> <a title="scala.concurrent.stm.InTxn" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).$anonfun.its.$anonfun.txn">txn</a> =&gt;
              <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).redeemed" title="(v: Option[scala.util.Try[Unit]])(implicit txn: scala.concurrent.stm.InTxn)Unit">redeemed</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="(x: scala.util.Failure[Nothing])Some[scala.util.Failure[Nothing]]">Some</span><span class="delimiter">(</span><span title="(exception: Throwable)scala.util.Failure[Nothing]">Failure</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).$anonfun.e" title="Throwable">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).iteratees" title="scala.concurrent.stm.Ref[List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]">iteratees</a>.<span title="(v: List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])])(implicit txn: scala.concurrent.stm.InTxn)List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">swap</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).$anonfun.its.$anonfun.txn" title="scala.concurrent.stm.InTxn" class="delimiter">(</a>List<span title="scala.collection.immutable.Nil.type" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).itPromise" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Unit]]">itPromise</a>.<span title="(t: Throwable)itPromise.type">failure</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).$anonfun.e" title="Throwable">e</a><span class="delimiter">)</span>
            <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).$anonfun.its" title="List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">its</a>.<span title="(f: ((play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])) =&gt; scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])Unit">foreach</span> <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).$anonfun.$anonfun.x0$8" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]" class="delimiter">{</a> <span class="keyword">case</span> <span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[E, Any]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).$anonfun.$anonfun.it">it</a>, <a title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).$anonfun.$anonfun.p">p</a><span class="delimiter">)</span> =&gt; <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).$anonfun.$anonfun.p" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]">p</a>.<span title="(v: play.api.libs.iteratee.Iteratee[E, _])p.type">success</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.push(48e5b65825).$anonfun.$anonfun.it" title="play.api.libs.iteratee.Iteratee[E, Any]">it</a><span class="delimiter">)</span> <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(e: Throwable)Unit" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(3b9207e466)">end</a><span class="delimiter">(</span><a title="Throwable" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(3b9207e466).e">e</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span> = <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.schedule" title="(body: =&gt; Unit)Unit">schedule</a> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="play.api.libs.iteratee.Iteratee[E,Unit]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(3b9207e466).current">current</a>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,Unit]">Iteratee</a><span class="delimiter">[</span>E, Unit<span class="delimiter">]</span> = <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).mainIteratee" title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Unit]]">mainIteratee</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[play.api.libs.iteratee.Iteratee[E,Unit]]">single</span>.<span title="(v: play.api.libs.iteratee.Iteratee[E,Unit])play.api.libs.iteratee.Iteratee[E,Unit]">swap</span><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: Unit, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Unit]">Done</a><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>, <a href="Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Input.Empty" title="play.api.libs.iteratee.Input.Empty.type">Empty</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="()scala.concurrent.Future[Unit]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(3b9207e466).endEveryone">endEveryone</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="(body: =&gt; Unit)(implicit execctx: scala.concurrent.ExecutionContext)scala.concurrent.Future[Unit]">Future</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(3b9207e466).endEveryone.its">its</a> = <span title="(block: scala.concurrent.stm.InTxn =&gt; List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])])(implicit mt: scala.concurrent.stm.MaybeTxn)List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">atomic</span> <span title="=&gt; scala.concurrent.stm.TxnUnknown.type" class="delimiter">{</span> <span class="keyword">implicit</span> <a title="scala.concurrent.stm.InTxn" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(3b9207e466).endEveryone.its.$anonfun.txn">txn</a> =&gt;
            <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).redeemed" title="(v: Option[scala.util.Try[Unit]])(implicit txn: scala.concurrent.stm.InTxn)Unit">redeemed</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="(x: scala.util.Failure[Nothing])Some[scala.util.Failure[Nothing]]">Some</span><span class="delimiter">(</span><span title="(exception: Throwable)scala.util.Failure[Nothing]">Failure</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(3b9207e466).e" title="Throwable">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).iteratees" title="scala.concurrent.stm.Ref[List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]">iteratees</a>.<span title="(v: List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])])(implicit txn: scala.concurrent.stm.InTxn)List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">swap</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(3b9207e466).endEveryone.its.$anonfun.txn" title="scala.concurrent.stm.InTxn" class="delimiter">(</a>List<span title="scala.collection.immutable.Nil.type" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(3b9207e466).endEveryone.its" title="List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">its</a>.<span title="(f: ((play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])) =&gt; scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])Unit">foreach</span> <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(3b9207e466).endEveryone.$anonfun.x0$9" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]" class="delimiter">{</a> <span class="keyword">case</span> <span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[E, Any]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(3b9207e466).endEveryone.$anonfun.it">it</a>, <a title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(3b9207e466).endEveryone.$anonfun.p">p</a><span class="delimiter">)</span> =&gt; <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(3b9207e466).endEveryone.$anonfun.p" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]">p</a>.<span title="(t: Throwable)p.type">failure</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(3b9207e466).e" title="Throwable">e</a><span class="delimiter">)</span> <span class="delimiter">}</span>
        <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>

        <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(3b9207e466).current" title="play.api.libs.iteratee.Iteratee[E,Unit]">current</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee.fold" title="(folder: play.api.libs.iteratee.Step[E,Unit] =&gt; scala.concurrent.Future[Unit])(implicit ec: scala.concurrent.ExecutionContext)scala.concurrent.Future[Unit]">fold</a> <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(3b9207e466).$anonfun.x0$10" title="scala.concurrent.Future[Unit]" class="delimiter">{</a> <span class="keyword">case</span> _ =&gt; <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(3b9207e466).endEveryone" title="()scala.concurrent.Future[Unit]">endEveryone</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span><span title="Unit" class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="()Unit" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(aa97cb1b3d)">end</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.schedule" title="(body: =&gt; Unit)Unit">schedule</a> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="play.api.libs.iteratee.Iteratee[E,Unit]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(aa97cb1b3d).current">current</a>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,Unit]">Iteratee</a><span class="delimiter">[</span>E, Unit<span class="delimiter">]</span> = <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).mainIteratee" title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Unit]]">mainIteratee</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[play.api.libs.iteratee.Iteratee[E,Unit]]">single</span>.<span title="(v: play.api.libs.iteratee.Iteratee[E,Unit])play.api.libs.iteratee.Iteratee[E,Unit]">swap</span><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: Unit, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Unit]">Done</a><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>, <a href="Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Input.Empty" title="play.api.libs.iteratee.Input.Empty.type">Empty</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="()scala.concurrent.Future[Unit]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(aa97cb1b3d).endEveryone">endEveryone</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="(body: =&gt; Unit)(implicit execctx: scala.concurrent.ExecutionContext)scala.concurrent.Future[Unit]">Future</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(aa97cb1b3d).endEveryone.its">its</a> = <span title="(block: scala.concurrent.stm.InTxn =&gt; List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])])(implicit mt: scala.concurrent.stm.MaybeTxn)List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">atomic</span> <span title="=&gt; scala.concurrent.stm.TxnUnknown.type" class="delimiter">{</span> <span class="keyword">implicit</span> <a title="scala.concurrent.stm.InTxn" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(aa97cb1b3d).endEveryone.its.$anonfun.txn">txn</a> =&gt;
            <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).redeemed" title="(v: Option[scala.util.Try[Unit]])(implicit txn: scala.concurrent.stm.InTxn)Unit">redeemed</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="(x: scala.util.Success[Unit])Some[scala.util.Success[Unit]]">Some</span><span class="delimiter">(</span><span title="(value: Unit)scala.util.Success[Unit]">Success</span><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).iteratees" title="scala.concurrent.stm.Ref[List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]">iteratees</a>.<span title="(v: List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])])(implicit txn: scala.concurrent.stm.InTxn)List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">swap</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(aa97cb1b3d).endEveryone.its.$anonfun.txn" title="scala.concurrent.stm.InTxn" class="delimiter">(</a>List<span title="scala.collection.immutable.Nil.type" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(aa97cb1b3d).endEveryone.its" title="List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">its</a>.<span title="(f: ((play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])) =&gt; scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])Unit">foreach</span> <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(aa97cb1b3d).endEveryone.$anonfun.x0$11" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]" class="delimiter">{</a> <span class="keyword">case</span> <span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[E, Any]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(aa97cb1b3d).endEveryone.$anonfun.it">it</a>, <a title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]" id="play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(aa97cb1b3d).endEveryone.$anonfun.p">p</a><span class="delimiter">)</span> =&gt; <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(aa97cb1b3d).endEveryone.$anonfun.p" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]">p</a>.<span title="(v: play.api.libs.iteratee.Iteratee[E, _])p.type">success</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(aa97cb1b3d).endEveryone.$anonfun.it" title="play.api.libs.iteratee.Iteratee[E, Any]">it</a><span class="delimiter">)</span> <span class="delimiter">}</span>
        <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>
        <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(aa97cb1b3d).current" title="play.api.libs.iteratee.Iteratee[E,Unit]">current</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee.fold" title="(folder: play.api.libs.iteratee.Step[E,Unit] =&gt; scala.concurrent.Future[Unit])(implicit ec: scala.concurrent.ExecutionContext)scala.concurrent.Future[Unit]">fold</a> <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(aa97cb1b3d).$anonfun.x0$12" title="scala.concurrent.Future[Unit]" class="delimiter">{</a> <span class="keyword">case</span> _ =&gt; <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush;$anon.end(aa97cb1b3d).endEveryone" title="()scala.concurrent.Future[Unit]">endEveryone</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span><span title="Unit" class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="delimiter">}</span>
    <span title="(_1: play.api.libs.iteratee.Enumerator[E], _2: play.api.libs.iteratee.Concurrent.Channel[E])(play.api.libs.iteratee.Enumerator[E], play.api.libs.iteratee.Concurrent.Channel[E])" class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).enumerator" title="enumerator extends AnyRef with play.api.libs.iteratee.Enumerator[E]">enumerator</a>, <a href="#play.api.libs.iteratee.Concurrent.broadcast(db265a0fc4).toPush" title="toPush extends AnyRef with play.api.libs.iteratee.Concurrent.Channel[E]">toPush</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Enumeratee that times out if the iteratee it feeds to takes too long to consume available input.
   *
   * @param timeout The timeout period
   * @param unit the time unit
   */</span>
  <span class="keyword">def</span> <a title="[E](timeout: Long, unit: java.util.concurrent.TimeUnit)play.api.libs.iteratee.Enumeratee[E,E]" id="play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady">lazyAndErrIfNotReady</a><span class="delimiter">[</span><a title="" id="play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady$default$2;E">E</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Long" id="play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady.timeout">timeout</a>: <span title="Long">Long</span>, <a title="java.util.concurrent.TimeUnit" id="play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady$default$2">unit</a>: <span title="java.util.concurrent.TimeUnit">TimeUnit</span> = TimeUnit.<span title="java.util.concurrent.TimeUnit(MILLISECONDS)">MILLISECONDS</span><span class="delimiter">)</span>: <a href="Enumeratee.scala.html#play.api.libs.iteratee;Enumeratee" title="play.api.libs.iteratee.Enumeratee[E,E]">Enumeratee</a><span class="delimiter">[</span>E, E<span class="delimiter">]</span> = <a href="#play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady;$anon" title="play.api.libs.iteratee.Enumeratee[E,E]" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.api.libs.iteratee.Enumeratee[E,E]" id="play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady;$anon">Enumeratee</a><span class="delimiter">[</span>E, E<span class="delimiter">]</span> <span class="delimiter">{</span>

    <span class="keyword">def</span> <a title="[A](inner: play.api.libs.iteratee.Iteratee[E,A])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]" id="play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady;$anon.applyOn">applyOn</a><span class="delimiter">[</span><a title="" id="play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady;$anon.applyOn;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[E,A]" id="play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady;$anon.applyOn.inner">inner</a>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,A]">Iteratee</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Iteratee</a><span class="delimiter">[</span>E, Iteratee<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(it: play.api.libs.iteratee.Iteratee[E,A])play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]" id="play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady;$anon.applyOn.step">step</a><span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[E,A]" id="play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady;$anon.applyOn.step.it">it</a>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,A]">Iteratee</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">K</span><span class="delimiter">[</span>E, Iteratee<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady;$anon.applyOn.step.$anonfun.x0$13" title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]" class="delimiter">{</a>
        <span class="keyword">case</span> <a href="Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Input.EOF" title="play.api.libs.iteratee.Input.EOF.type">EOF</a> =&gt; <a href="Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: play.api.libs.iteratee.Iteratee[E,A], e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Done</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady;$anon.applyOn.step.it" title="play.api.libs.iteratee.Iteratee[E,A]">it</a>, <a href="Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Input.EOF" title="play.api.libs.iteratee.Input.EOF.type">EOF</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="play.api.libs.iteratee.Input[E]" id="play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady;$anon.applyOn.step.$anonfun.other">other</a> =&gt; <a href="Iteratee.scala.html#play.api.libs.iteratee.Iteratee" title="play.api.libs.iteratee.Iteratee.type">Iteratee</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Iteratee.flatten" title="(i: scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">flatten</a><span class="delimiter">(</span>
          <span title="scala.concurrent.Future.type">Future</span>.<span title="(futures: TraversableOnce[scala.concurrent.Future[Product with Serializable with scala.util.Either[play.api.libs.iteratee.Step[E,A],Unit]]])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[Product with Serializable with scala.util.Either[play.api.libs.iteratee.Step[E,A],Unit]]">firstCompletedOf</span><span class="delimiter">(</span>
            <a href="#play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady;$anon.applyOn.step.it" title="play.api.libs.iteratee.Iteratee[E,A]">it</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee.unflatten" title="=&gt; scala.concurrent.Future[play.api.libs.iteratee.Step[E,A]]">unflatten</a>.<span title="(f: play.api.libs.iteratee.Step[E,A] =&gt; scala.util.Left[play.api.libs.iteratee.Step[E,A],Nothing])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[scala.util.Left[play.api.libs.iteratee.Step[E,A],Nothing]]">map</span><span class="delimiter">(</span><span title="(a: play.api.libs.iteratee.Step[E,A])scala.util.Left[play.api.libs.iteratee.Step[E,A],Nothing]">Left</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady;$anon.applyOn.step.$anonfun.x$5.$anonfun.x$3" title="play.api.libs.iteratee.Step[E,A]">_</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span> <a href="#play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady;$anon.applyOn.step.$anonfun.x$5" title="(x: scala.concurrent.Future[Product with Serializable with scala.util.Either[play.api.libs.iteratee.Step[E,A],Unit]])List[scala.concurrent.Future[Product with Serializable with scala.util.Either[play.api.libs.iteratee.Step[E,A],Unit]]]">::</a> <a href="#play.api.libs.iteratee.Concurrent.timeoutFuture" title="(v: scala.util.Right[Nothing,Unit], delay: Long, unit: java.util.concurrent.TimeUnit)scala.concurrent.Future[scala.util.Right[Nothing,Unit]]">timeoutFuture</a><span class="delimiter">(</span><span title="(b: Unit)scala.util.Right[Nothing,Unit]">Right</span><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady.timeout" title="Long">timeout</a>, <a href="#play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady$default$2" title="java.util.concurrent.TimeUnit">unit</a><span class="delimiter">)</span> <a href="#play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady;$anon.applyOn.step.$anonfun.x$4" title="(x: scala.concurrent.Future[scala.util.Right[Nothing,Unit]])List[scala.concurrent.Future[scala.util.Right[Nothing,Unit]]]">::</a> <span title="scala.collection.immutable.Nil.type">Nil</span>
          <span class="delimiter">)</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>.<span title="(f: Product with Serializable with scala.util.Either[play.api.libs.iteratee.Step[E,A],Unit] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]]">map</span> <a href="#play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady;$anon.applyOn.step.$anonfun.$anonfun.x0$14" title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]" class="delimiter">{</a>
              <span class="keyword">case</span> Left<span class="delimiter">(</span>Step.Cont<span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]" id="play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady;$anon.applyOn.step.$anonfun.$anonfun.k">k</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Cont</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady;$anon.applyOn.step" title="(it: play.api.libs.iteratee.Iteratee[E,A])play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">step</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady;$anon.applyOn.step.$anonfun.$anonfun.k" title="(v1: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,A]">k</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady;$anon.applyOn.step.$anonfun.other" title="play.api.libs.iteratee.Input[E]">other</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> Left<span class="delimiter">(</span><a title="play.api.libs.iteratee.Step[E,A]" id="play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady;$anon.applyOn.step.$anonfun.$anonfun.done">done</a><span class="delimiter">)</span> =&gt; <a href="Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: play.api.libs.iteratee.Iteratee[E,A], e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Done</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady;$anon.applyOn.step.$anonfun.$anonfun.done" title="play.api.libs.iteratee.Step[E,A]">done</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee;Step.it" title="=&gt; play.api.libs.iteratee.Iteratee[E,A]">it</a>, <a href="#play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady;$anon.applyOn.step.$anonfun.other" title="play.api.libs.iteratee.Input[E]">other</a><span class="delimiter">)</span>
              <span class="keyword">case</span> Right<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="Iteratee.scala.html#play.api.libs.iteratee.Error.apply" title="(msg: String, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Nothing]">Error</a><span class="delimiter">(</span><span title="String(&quot;iteratee is taking too long&quot;)" class="string">&quot;iteratee is taking too long&quot;</span>, <a href="#play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady;$anon.applyOn.step.$anonfun.other" title="play.api.libs.iteratee.Input[E]">other</a><span class="delimiter">)</span>
            <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Cont</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady;$anon.applyOn.step" title="(it: play.api.libs.iteratee.Iteratee[E,A])play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">step</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.lazyAndErrIfNotReady;$anon.applyOn.inner" title="play.api.libs.iteratee.Iteratee[E,A]">inner</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A buffering enumeratee.
   *
   * Maintains a buffer of maximum size maxBuffer, consuming as much of the input as the buffer will allow as quickly
   * as it comes, while allowing the iteratee it feeds to consume it as slowly as it likes.
   *
   * This is useful in situations where the enumerator holds expensive resources open, while the iteratee may be slow,
   * for example if the enumerator is a database result set that holds a transaction open, but the result set is being
   * serialised and fed directly to an HTTP response.
   *
   * @param maxBuffer The maximum number of items to buffer
   */</span>
  <span class="keyword">def</span> <a title="[E](maxBuffer: Int)play.api.libs.iteratee.Enumeratee[E,E]" id="play.api.libs.iteratee.Concurrent.buffer(4d236256e8)">buffer</a><span class="delimiter">[</span><a title="" id="play.api.libs.iteratee.Concurrent.buffer(4d236256e8);E">E</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Int" id="play.api.libs.iteratee.Concurrent.buffer(4d236256e8).maxBuffer">maxBuffer</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="Enumeratee.scala.html#play.api.libs.iteratee;Enumeratee" title="play.api.libs.iteratee.Enumeratee[E,E]">Enumeratee</a><span class="delimiter">[</span>E, E<span class="delimiter">]</span> = <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51)" title="[E](maxBuffer: Int, length: play.api.libs.iteratee.Input[E] =&gt; Int)(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Enumeratee[E,E]">buffer</a><span title="(maxBuffer: Int, length: play.api.libs.iteratee.Input[E] =&gt; Int)(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Enumeratee[E,E]" class="delimiter">[</span><a href="#play.api.libs.iteratee.Concurrent.buffer(4d236256e8);E" title="E">E</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.buffer(4d236256e8).maxBuffer" title="Int">maxBuffer</a>, length = <span class="delimiter">(</span>_: <a href="Iteratee.scala.html#play.api.libs.iteratee;Input" title="play.api.libs.iteratee.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>

  <span class="comment">/**
   * A buffering enumeratee.
   *
   * Maintains a buffer of maximum size maxBuffer, consuming as much of the input as the buffer will allow as quickly
   * as it comes, while allowing the iteratee it feeds to consume it as slowly as it likes.
   *
   * This is useful in situations where the enumerator holds expensive resources open, while the iteratee may be slow,
   * for example if the enumerator is a database result set that holds a transaction open, but the result set is being
   * serialised and fed directly to an HTTP response.
   *
   * @param maxBuffer The maximum size to buffer.  The size is computed using the given `length` function.
   * @param length A function that computes the length of an input item
   * $paramEcSingle
   */</span>
  <span class="keyword">def</span> <a title="[E](maxBuffer: Int, length: play.api.libs.iteratee.Input[E] =&gt; Int)(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Enumeratee[E,E]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51)">buffer</a><span class="delimiter">[</span><a title="" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);E">E</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Int" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51).maxBuffer">maxBuffer</a>: <span title="Int">Int</span>, <a title="play.api.libs.iteratee.Input[E] =&gt; Int" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51).length">length</a>: Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; Int<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.concurrent.ExecutionContext" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51).ec">ec</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span><span class="delimiter">)</span>: <a href="Enumeratee.scala.html#play.api.libs.iteratee;Enumeratee" title="play.api.libs.iteratee.Enumeratee[E,E]">Enumeratee</a><span class="delimiter">[</span>E, E<span class="delimiter">]</span> = <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon" title="play.api.libs.iteratee.Enumeratee[E,E]{}" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.api.libs.iteratee.Enumeratee[E,E]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon">Enumeratee</a><span class="delimiter">[</span>E, E<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.concurrent.ExecutionContext" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.pec">pec</a> = <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51).ec" title="scala.concurrent.ExecutionContext">ec</a>.<span title="()scala.concurrent.ExecutionContext">prepare</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">import</span> scala.collection.immutable.Queue
    <span class="keyword">import</span> scala.concurrent.stm._
    <span class="keyword">import</span> play.api.libs.iteratee.<a href="Enumeratee.scala.html#play.api.libs.iteratee.Enumeratee" title="play.api.libs.iteratee.Enumeratee.type">Enumeratee</a>.CheckDone

    <span class="keyword">def</span> <a title="[A](it: play.api.libs.iteratee.Iteratee[E,A])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn">applyOn</a><span class="delimiter">[</span><a title="" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[E,A]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.it">it</a>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,A]">Iteratee</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Iteratee</a><span class="delimiter">[</span>E, Iteratee<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>

      <span class="keyword">val</span> <a title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.last">last</a> = <span title="[T]()scala.concurrent.Promise[T]">Promise</span><span title="()scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]]" class="delimiter">[</span><a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Iteratee</a><span class="delimiter">[</span>E, Iteratee<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait State extends AnyRef" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;State">State</a>
      <span class="keyword">case class</span> <a title="class Queueing extends AnyRef with State with Product with Serializable" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;Queueing.readResolve">Queueing</a><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;Queueing.readResolve" title="Product" class="delimiter">(</a><a title="scala.collection.immutable.Queue[play.api.libs.iteratee.Input[E]]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;Queueing.q">q</a>: <span title="scala.collection.immutable.Queue[play.api.libs.iteratee.Input[E]]">Queue</span><span class="delimiter">[</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Long" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;Queueing.length">length</a>: <span title="Long">Long</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;State" title="State">State</a>
      <span class="keyword">case class</span> <a title="class Waiting extends AnyRef with State with Product with Serializable" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;Waiting.readResolve">Waiting</a><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;Waiting.readResolve" title="Product" class="delimiter">(</a><a title="scala.concurrent.Promise[play.api.libs.iteratee.Input[E]]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;Waiting.p">p</a>: scala.concurrent.<span title="scala.concurrent.Promise[play.api.libs.iteratee.Input[E]]">Promise</span><span class="delimiter">[</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;State" title="State">State</a>
      <span class="keyword">case class</span> <a title="class DoneIt extends AnyRef with State with Product with Serializable" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;DoneIt.readResolve">DoneIt</a><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;DoneIt.readResolve" title="Product" class="delimiter">(</a><a title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;DoneIt.s">s</a>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Iteratee</a><span class="delimiter">[</span>E, Iteratee<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;State" title="State">State</a>

      <span class="keyword">val</span> <a title="scala.concurrent.stm.Ref[State]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.state">state</a>: <span title="scala.concurrent.stm.Ref[State]">Ref</span><span class="delimiter">[</span>State<span class="delimiter">]</span> = <span title="(initialValue: State)(implicit om: scala.reflect.OptManifest[State])scala.concurrent.stm.Ref[State]">Ref</span><span title="(clazz: Class[_])scala.reflect.ClassManifest[State]" class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;Queueing.readResolve" title="(q: scala.collection.immutable.Queue[play.api.libs.iteratee.Input[E]], length: Long)Queueing">Queueing</a><span class="delimiter">(</span><span title="[A](xs: A*)scala.collection.immutable.Queue[A]">Queue</span><span title="(xs: play.api.libs.iteratee.Input[E]*)scala.collection.immutable.Queue[play.api.libs.iteratee.Input[E]]" class="delimiter">[</span><a href="Iteratee.scala.html#play.api.libs.iteratee;Input" title="play.api.libs.iteratee.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>, <span title="Long(0L)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="=&gt; play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.step">step</a>: <span title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">K</span><span class="delimiter">[</span>E, Iteratee<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.step.$anonfun.x0$15" title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]" class="delimiter">{</a>
        <span class="keyword">case</span> <a href="Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Input.EOF" title="play.api.libs.iteratee.Input.EOF.type">EOF</a> =&gt;
          <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.state" title="scala.concurrent.stm.Ref[State]">state</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[State]">single</span>.<span title="(f: State =&gt; State)State">getAndTransform</span> <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.step.$anonfun.$anonfun.x0$16" title="State" class="delimiter">{</a>
            <span class="keyword">case</span> Queueing<span class="delimiter">(</span><span title="scala.collection.immutable.Queue[play.api.libs.iteratee.Input[E]]">q</span>, <span title="Long">l</span><span class="delimiter">)</span> =&gt; <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;Queueing.readResolve" title="(q: scala.collection.immutable.Queue[play.api.libs.iteratee.Input[E]], length: Long)Queueing">Queueing</a><span class="delimiter">(</span><span title="scala.collection.immutable.Queue[play.api.libs.iteratee.Input[E]]">q</span>.<span title="(elem: play.api.libs.iteratee.Input[E])scala.collection.immutable.Queue[play.api.libs.iteratee.Input[E]]">enqueue</span><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Input.EOF" title="play.api.libs.iteratee.Input.EOF.type">EOF</a><span class="delimiter">)</span>, <span title="Long">l</span><span class="delimiter">)</span>

            <span class="keyword">case</span> Waiting<span class="delimiter">(</span><span title="scala.concurrent.Promise[play.api.libs.iteratee.Input[E]]">p</span><span class="delimiter">)</span> =&gt; <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;Queueing.readResolve" title="(q: scala.collection.immutable.Queue[play.api.libs.iteratee.Input[E]], length: Long)Queueing">Queueing</a><span class="delimiter">(</span><span title="(xs: Nothing*)scala.collection.immutable.Queue[Nothing]">Queue</span><span class="delimiter">(</span><span class="delimiter">)</span>, <span title="Long(0L)" class="int">0</span><span class="delimiter">)</span>

            <span class="keyword">case</span> <a title="DoneIt" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.step.$anonfun.$anonfun.d">d</a> @ DoneIt<span class="delimiter">(</span><span title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">it</span><span class="delimiter">)</span> =&gt; <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.step.$anonfun.$anonfun.d" title="DoneIt">d</a>

          <span class="delimiter">}</span> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> Waiting<span class="delimiter">(</span><a title="scala.concurrent.Promise[play.api.libs.iteratee.Input[E]]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.step.$anonfun.p">p</a><span class="delimiter">)</span> =&gt;
              <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.step.$anonfun.p" title="scala.concurrent.Promise[play.api.libs.iteratee.Input[E]]">p</a>.<span title="(v: play.api.libs.iteratee.Input[E])p.type">success</span><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Input.EOF" title="play.api.libs.iteratee.Input.EOF.type">EOF</a><span class="delimiter">)</span>
            <span class="keyword">case</span> _ =&gt;

          <span class="delimiter">}</span>
          <a href="Iteratee.scala.html#play.api.libs.iteratee.Iteratee" title="play.api.libs.iteratee.Iteratee.type">Iteratee</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Iteratee.flatten" title="(i: scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">flatten</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.last" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]]">last</a>.<span title="=&gt; scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]]">future</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="play.api.libs.iteratee.Input[E]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.step.$anonfun.other">other</a> =&gt;
          <a href="Iteratee.scala.html#play.api.libs.iteratee.Iteratee" title="play.api.libs.iteratee.Iteratee.type">Iteratee</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Iteratee.flatten" title="(i: scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">flatten</a><span class="delimiter">(</span><span title="(body: =&gt; Int)(implicit execctx: scala.concurrent.ExecutionContext)scala.concurrent.Future[Int]">Future</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51).length" title="(v1: play.api.libs.iteratee.Input[E])Int">length</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.step.$anonfun.other" title="play.api.libs.iteratee.Input[E]">other</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.pec" title="=&gt; scala.concurrent.ExecutionContext">pec</a><span class="delimiter">)</span>.<span title="(f: Int =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]]">map</span> <span class="delimiter">{</span> <a title="Int" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.step.$anonfun.$anonfun.chunkLength">chunkLength</a> =&gt;
            <span class="keyword">val</span> <a title="State" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.step.$anonfun.$anonfun.s">s</a> = <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.state" title="scala.concurrent.stm.Ref[State]">state</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[State]">single</span>.<span title="(f: State =&gt; State)State">getAndTransform</span> <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.step.$anonfun.$anonfun.s.$anonfun.x0$17" title="State" class="delimiter">{</a>
              <span class="keyword">case</span> Queueing<span class="delimiter">(</span><span title="scala.collection.immutable.Queue[play.api.libs.iteratee.Input[E]]">q</span>, <span title="Long">l</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51).maxBuffer" title="Int">maxBuffer</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="Long">l</span> <span title="(x: Int)Boolean">&lt;=</span> <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51).maxBuffer" title="Int">maxBuffer</a> =&gt; <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;Queueing.readResolve" title="(q: scala.collection.immutable.Queue[play.api.libs.iteratee.Input[E]], length: Long)Queueing">Queueing</a><span class="delimiter">(</span><span title="scala.collection.immutable.Queue[play.api.libs.iteratee.Input[E]]">q</span>.<span title="(elem: play.api.libs.iteratee.Input[E])scala.collection.immutable.Queue[play.api.libs.iteratee.Input[E]]">enqueue</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.step.$anonfun.other" title="play.api.libs.iteratee.Input[E]">other</a><span class="delimiter">)</span>, <span title="Long">l</span> <span title="(x: Int)Long">+</span> <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.step.$anonfun.$anonfun.chunkLength" title="Int">chunkLength</a><span class="delimiter">)</span>

              <span class="keyword">case</span> Queueing<span class="delimiter">(</span><span title="scala.collection.immutable.Queue[play.api.libs.iteratee.Input[E]]">q</span>, <span title="Long">l</span><span class="delimiter">)</span> =&gt; <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;Queueing.readResolve" title="(q: scala.collection.immutable.Queue[play.api.libs.iteratee.Input[E]], length: Long)Queueing">Queueing</a><span class="delimiter">(</span><span title="(xs: play.api.libs.iteratee.Input.EOF.type*)scala.collection.immutable.Queue[play.api.libs.iteratee.Input.EOF.type]">Queue</span><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Input.EOF" title="play.api.libs.iteratee.Input.EOF.type">EOF</a><span class="delimiter">)</span>, <span title="Long">l</span><span class="delimiter">)</span>

              <span class="keyword">case</span> Waiting<span class="delimiter">(</span><a title="scala.concurrent.Promise[play.api.libs.iteratee.Input[E]]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.step.$anonfun.$anonfun.s.$anonfun.p">p</a><span class="delimiter">)</span> =&gt; <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;Queueing.readResolve" title="(q: scala.collection.immutable.Queue[play.api.libs.iteratee.Input[E]], length: Long)Queueing">Queueing</a><span class="delimiter">(</span><span title="(xs: Nothing*)scala.collection.immutable.Queue[Nothing]">Queue</span><span class="delimiter">(</span><span class="delimiter">)</span>, <span title="Long(0L)" class="int">0</span><span class="delimiter">)</span>

              <span class="keyword">case</span> <a title="DoneIt" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.step.$anonfun.$anonfun.s.$anonfun.d">d</a> @ DoneIt<span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.step.$anonfun.$anonfun.s.$anonfun.it">it</a><span class="delimiter">)</span> =&gt; <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.step.$anonfun.$anonfun.s.$anonfun.d" title="DoneIt">d</a>

            <span class="delimiter">}</span>
            <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.step.$anonfun.$anonfun.s" title="State">s</a> <span title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> Waiting<span class="delimiter">(</span><span title="scala.concurrent.Promise[play.api.libs.iteratee.Input[E]]">p</span><span class="delimiter">)</span> =&gt;
                <span title="scala.concurrent.Promise[play.api.libs.iteratee.Input[E]]">p</span>.<span title="(v: play.api.libs.iteratee.Input[E])p.type">success</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.step.$anonfun.other" title="play.api.libs.iteratee.Input[E]">other</a><span class="delimiter">)</span>
                <a href="Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Cont</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.step" title="=&gt; play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">step</a><span class="delimiter">)</span>
              <span class="keyword">case</span> DoneIt<span class="delimiter">(</span><span title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">it</span><span class="delimiter">)</span> =&gt; <span title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">it</span>
              <span class="keyword">case</span> Queueing<span class="delimiter">(</span><span title="scala.collection.immutable.Queue[play.api.libs.iteratee.Input[E]]">q</span>, <span title="Long">l</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51).maxBuffer" title="Int">maxBuffer</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="Long">l</span> <span title="(x: Int)Boolean">&lt;=</span> <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51).maxBuffer" title="Int">maxBuffer</a> =&gt; <a href="Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Cont</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.step" title="=&gt; play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">step</a><span class="delimiter">)</span>
              <span class="keyword">case</span> Queueing<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="Iteratee.scala.html#play.api.libs.iteratee.Error.apply" title="(msg: String, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Nothing]">Error</a><span class="delimiter">(</span><span title="String(&quot;buffer overflow&quot;)" class="string">&quot;buffer overflow&quot;</span>, <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.step.$anonfun.other" title="play.api.libs.iteratee.Input[E]">other</a><span class="delimiter">)</span>

            <span class="delimiter">}</span>
          <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="[A](k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput">moreInput</a><span class="delimiter">[</span><a title="" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.k">k</a>: <span title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]">K</span><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Iteratee</a><span class="delimiter">[</span>E, Iteratee<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.concurrent.Future[play.api.libs.iteratee.Input[E]]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.in">in</a>: <span title="scala.concurrent.Future[play.api.libs.iteratee.Input[E]]">Future</span><span class="delimiter">[</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="(block: scala.concurrent.stm.InTxn =&gt; scala.concurrent.Future[play.api.libs.iteratee.Input[E]])(implicit mt: scala.concurrent.stm.MaybeTxn)scala.concurrent.Future[play.api.libs.iteratee.Input[E]]">atomic</span> <span title="=&gt; scala.concurrent.stm.TxnUnknown.type" class="delimiter">{</span> <span class="keyword">implicit</span> <a title="scala.concurrent.stm.InTxn" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.in.$anonfun.txn">txn</a> =&gt;
          <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.state" title="()(implicit txn: scala.concurrent.stm.InTxn)State">state</a><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.in.$anonfun.txn" title="scala.concurrent.stm.InTxn" class="delimiter">(</a><span class="delimiter">)</span> <span title="scala.concurrent.Future[play.api.libs.iteratee.Input[E]]" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> Queueing<span class="delimiter">(</span><a title="scala.collection.immutable.Queue[play.api.libs.iteratee.Input[E]]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.in.$anonfun.q">q</a>, <a title="Long" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.in.$anonfun.l">l</a><span class="delimiter">)</span> =&gt;
              <span title="scala.concurrent.Future[play.api.libs.iteratee.Input[E]]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.in.$anonfun.q" title="scala.collection.immutable.Queue[play.api.libs.iteratee.Input[E]]">q</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.in.$anonfun.e" title="(play.api.libs.iteratee.Input[E], scala.collection.immutable.Queue[play.api.libs.iteratee.Input[E]])" class="delimiter">(</a><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.in.$anonfun.x$7" title="play.api.libs.iteratee.Input[E]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.in.$anonfun.e">e</a>, <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.in.$anonfun.x$7" title="scala.collection.immutable.Queue[play.api.libs.iteratee.Input[E]]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.in.$anonfun.newB">newB</a><span class="delimiter">)</span> = <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.in.$anonfun.q" title="scala.collection.immutable.Queue[play.api.libs.iteratee.Input[E]]">q</a>.<span title="=&gt; (play.api.libs.iteratee.Input[E], scala.collection.immutable.Queue[play.api.libs.iteratee.Input[E]])">dequeue</span>
                <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.state" title="(v: State)(implicit txn: scala.concurrent.stm.InTxn)Unit">state</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;Queueing.readResolve" title="(q: scala.collection.immutable.Queue[play.api.libs.iteratee.Input[E]], length: Long)Queueing">Queueing</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.in.$anonfun.newB" title="scala.collection.immutable.Queue[play.api.libs.iteratee.Input[E]]">newB</a>, <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.in.$anonfun.l" title="Long">l</a> <span title="(x: Int)Long">-</span> <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51).length" title="(v1: play.api.libs.iteratee.Input[E])Int">length</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.in.$anonfun.e" title="play.api.libs.iteratee.Input[E]">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="scala.concurrent.Future.type">Future</span>.<span title="(result: play.api.libs.iteratee.Input[E])scala.concurrent.Future[play.api.libs.iteratee.Input[E]]">successful</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.in.$anonfun.e" title="play.api.libs.iteratee.Input[E]">e</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="scala.concurrent.Promise[play.api.libs.iteratee.Input[E]]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.in.$anonfun.p">p</a> = <span title="[T]()scala.concurrent.Promise[T]">Promise</span><span title="()scala.concurrent.Promise[play.api.libs.iteratee.Input[E]]" class="delimiter">[</span><a href="Iteratee.scala.html#play.api.libs.iteratee;Input" title="play.api.libs.iteratee.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.state" title="(v: State)(implicit txn: scala.concurrent.stm.InTxn)Unit">state</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;Waiting.readResolve" title="(p: scala.concurrent.Promise[play.api.libs.iteratee.Input[E]])Waiting">Waiting</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.in.$anonfun.p" title="scala.concurrent.Promise[play.api.libs.iteratee.Input[E]]">p</a><span class="delimiter">)</span>
                <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.in.$anonfun.p" title="scala.concurrent.Promise[play.api.libs.iteratee.Input[E]]">p</a>.<span title="=&gt; scala.concurrent.Future[play.api.libs.iteratee.Input[E]]">future</span>
              <span class="delimiter">}</span>
            <span class="keyword">case</span> _ =&gt; <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)Exception" class="keyword">new</span> <span title="Exception">Exception</span><span class="delimiter">(</span><span title="String(&quot;can\'t get here&quot;)" class="string">&quot;can't get here&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="Iteratee.scala.html#play.api.libs.iteratee.Iteratee" title="play.api.libs.iteratee.Iteratee.type">Iteratee</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Iteratee.flatten" title="(i: scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">flatten</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.in" title="scala.concurrent.Future[play.api.libs.iteratee.Input[E]]">in</a>.<span title="(f: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]]">map</span> <span class="delimiter">{</span> <a title="play.api.libs.iteratee.Input[E]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.$anonfun.in">in</a> =&gt; <span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.$anonfun;$anon" title="play.api.libs.iteratee.Enumeratee.CheckDone[E,E]" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.api.libs.iteratee.Enumeratee.CheckDone[E,E]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.$anonfun;$anon">CheckDone</a><span class="delimiter">[</span>E, E<span class="delimiter">]</span> <span class="delimiter">{</span> <span class="keyword">def</span> <a title="[A](cont: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.$anonfun;$anon.continue">continue</a><span class="delimiter">[</span><a title="" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.$anonfun;$anon.continue;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.$anonfun;$anon.continue.cont">cont</a>: <span title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]">K</span><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">moreInput</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.$anonfun;$anon.continue.cont" title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]">cont</a><span class="delimiter">)</span> <span class="delimiter">}</span> <a href="Enumeratee.scala.html#play.api.libs.iteratee;Enumeratee.&>" title="(inner: play.api.libs.iteratee.Iteratee[E,A])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">&amp;&gt;</a> <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.k" title="(v1: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,A]">k</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput.$anonfun.in" title="play.api.libs.iteratee.Input[E]">in</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="delimiter">}</span>
      <span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;$anon" title="play.api.libs.iteratee.Enumeratee.CheckDone[E,E]" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.api.libs.iteratee.Enumeratee.CheckDone[E,E]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;$anon">CheckDone</a><span class="delimiter">[</span>E, E<span class="delimiter">]</span> <span class="delimiter">{</span> <span class="keyword">def</span> <a title="[A](cont: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;$anon.continue">continue</a><span class="delimiter">[</span><a title="" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;$anon.continue;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;$anon.continue.cont">cont</a>: <span title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]">K</span><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.moreInput" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">moreInput</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;$anon.continue.cont" title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]">cont</a><span class="delimiter">)</span> <span class="delimiter">}</span> <a href="Enumeratee.scala.html#play.api.libs.iteratee;Enumeratee.&>" title="(inner: play.api.libs.iteratee.Iteratee[E,A])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">&amp;&gt;</a> <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.it" title="play.api.libs.iteratee.Iteratee[E,A]">it</a><span class="delimiter">)</span>.<a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee.unflatten" title="=&gt; scala.concurrent.Future[play.api.libs.iteratee.Step[E,play.api.libs.iteratee.Iteratee[E,A]]]">unflatten</a>.<span title="(func: scala.util.Try[play.api.libs.iteratee.Step[E,play.api.libs.iteratee.Iteratee[E,A]]] =&gt; scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]])(implicit executor: scala.concurrent.ExecutionContext)Unit">onComplete</span> <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.$anonfun.x0$18" title="last.type" class="delimiter">{</a>
        <span class="keyword">case</span> Success<span class="delimiter">(</span><a title="play.api.libs.iteratee.Step[E,play.api.libs.iteratee.Iteratee[E,A]]" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.$anonfun.it">it</a><span class="delimiter">)</span> =&gt;
          <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.state" title="scala.concurrent.stm.Ref[State]">state</a>.<span title="(v: State)Unit">single</span><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;DoneIt.readResolve" title="(s: play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]])DoneIt">DoneIt</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.$anonfun.it" title="play.api.libs.iteratee.Step[E,play.api.libs.iteratee.Iteratee[E,A]]">it</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee;Step.it" title="=&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">it</a><span class="delimiter">)</span>
          <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.last" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]]">last</a>.<span title="(v: play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]])last.type">success</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.$anonfun.it" title="play.api.libs.iteratee.Step[E,play.api.libs.iteratee.Iteratee[E,A]]">it</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee;Step.it" title="=&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">it</a><span class="delimiter">)</span>
        <span class="keyword">case</span> Failure<span class="delimiter">(</span><a title="Throwable" id="play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.$anonfun.e">e</a><span class="delimiter">)</span> =&gt;
          <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.state" title="scala.concurrent.stm.Ref[State]">state</a>.<span title="(v: State)Unit">single</span><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn;DoneIt.readResolve" title="(s: play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]])DoneIt">DoneIt</a><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Iteratee" title="play.api.libs.iteratee.Iteratee.type">Iteratee</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Iteratee.flatten" title="(i: scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">flatten</a><span class="delimiter">(</span><span title="scala.concurrent.Future.type">Future</span>.<span title="[T](exception: Throwable)scala.concurrent.Future[T]">failed</span><span title="(exception: Throwable)scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]]" class="delimiter">[</span><a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Iteratee</a><span class="delimiter">[</span>E, Iteratee<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.$anonfun.e" title="Throwable">e</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.last" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]]">last</a>.<span title="(t: Throwable)last.type">failure</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.$anonfun.e" title="Throwable">e</a><span class="delimiter">)</span>

      <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>
      <a href="Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Cont</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.buffer(4aeb26fb51);$anon.applyOn.step" title="=&gt; play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">step</a><span class="delimiter">)</span>

    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * An enumeratee that consumes all input immediately, and passes it to the iteratee only if the iteratee is ready to
   * handle it within the given timeout, otherwise it drops it.
   *
   * @param duration The time to wait for the iteratee to be ready
   * @param unit The timeunit
   */</span>
  <span class="keyword">def</span> <a title="[E](duration: Long, unit: java.util.concurrent.TimeUnit)play.api.libs.iteratee.Enumeratee[E,E]" id="play.api.libs.iteratee.Concurrent.dropInputIfNotReady">dropInputIfNotReady</a><span class="delimiter">[</span><a title="" id="play.api.libs.iteratee.Concurrent.dropInputIfNotReady$default$2;E">E</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Long" id="play.api.libs.iteratee.Concurrent.dropInputIfNotReady.duration">duration</a>: <span title="Long">Long</span>, <a title="java.util.concurrent.TimeUnit" id="play.api.libs.iteratee.Concurrent.dropInputIfNotReady$default$2">unit</a>: java.util.concurrent.<span title="java.util.concurrent.TimeUnit">TimeUnit</span> = java.util.concurrent.TimeUnit.<span title="java.util.concurrent.TimeUnit(MILLISECONDS)">MILLISECONDS</span><span class="delimiter">)</span>: <a href="Enumeratee.scala.html#play.api.libs.iteratee;Enumeratee" title="play.api.libs.iteratee.Enumeratee[E,E]">Enumeratee</a><span class="delimiter">[</span>E, E<span class="delimiter">]</span> = <a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon" title="play.api.libs.iteratee.Enumeratee[E,E]{}" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.api.libs.iteratee.Enumeratee[E,E]" id="play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon">Enumeratee</a><span class="delimiter">[</span>E, E<span class="delimiter">]</span> <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="scala.concurrent.stm.Ref[Boolean]" id="play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.busy">busy</a> = scala.concurrent.stm.<span title="(initialValue: Boolean)scala.concurrent.stm.Ref[Boolean]">Ref</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="[A](it: play.api.libs.iteratee.Iteratee[E,A])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]" id="play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn">applyOn</a><span class="delimiter">[</span><a title="" id="play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[E,A]" id="play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.it">it</a>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,A]">Iteratee</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Iteratee</a><span class="delimiter">[</span>E, Iteratee<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>

      <span class="keyword">def</span> <a title="(inner: play.api.libs.iteratee.Iteratee[E,A])(in: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]" id="play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step">step</a><span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[E,A]" id="play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step.inner">inner</a>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,A]">Iteratee</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span title="play.api.libs.iteratee.Input[E]">in</span>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Input" title="play.api.libs.iteratee.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Iteratee</a><span class="delimiter">[</span>E, Iteratee<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>

        <span title="play.api.libs.iteratee.Input[E]">in</span> <span title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Input.EOF" title="play.api.libs.iteratee.Input.EOF.type">EOF</a> =&gt;
            <a href="Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: play.api.libs.iteratee.Iteratee[E,A], e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Done</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step.inner" title="play.api.libs.iteratee.Iteratee[E,A]">inner</a>, <a href="Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Input.Empty" title="play.api.libs.iteratee.Input.Empty.type">Empty</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="play.api.libs.iteratee.Input[E]">in</span> =&gt;
            <span title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.busy" title="=&gt; scala.concurrent.stm.Ref[Boolean]">busy</a>.<span title="()Boolean">single</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="scala.concurrent.Future[Either[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]],Unit]]" id="play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step.readyOrNot">readyOrNot</a>: <span title="scala.concurrent.Future[Either[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]],Unit]]">Future</span><span class="delimiter">[</span>Either<span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E, Iteratee<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span>, Unit<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="scala.concurrent.Future.type">Future</span>.<span title="(futures: TraversableOnce[scala.concurrent.Future[Product with Serializable with scala.util.Either[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]],Unit]]])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[Product with Serializable with scala.util.Either[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]],Unit]]">firstCompletedOf</span><span class="delimiter">(</span>
                <span title="(elems: scala.concurrent.Future[Product with Serializable with scala.util.Either[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]],Unit]]*)Seq[scala.concurrent.Future[Product with Serializable with scala.util.Either[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]],Unit]]]">Seq</span><span class="delimiter">(</span>
                  <a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step.inner" title="play.api.libs.iteratee.Iteratee[E,A]">inner</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee.pureFold" title="[B](folder: play.api.libs.iteratee.Step[E,A] =&gt; B)(implicit ec: scala.concurrent.ExecutionContext)scala.concurrent.Future[B]">pureFold</a><span title="(folder: play.api.libs.iteratee.Step[E,A] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]])(implicit ec: scala.concurrent.ExecutionContext)scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]]" class="delimiter">[</span><a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Iteratee</a><span class="delimiter">[</span>E, Iteratee<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span> <a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step.readyOrNot.$anonfun.x0$19" title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]" class="delimiter">{</a>
                    <span class="keyword">case</span> Step.Done<span class="delimiter">(</span><a title="A" id="play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step.readyOrNot.$anonfun.a">a</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span> =&gt; <a href="Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: play.api.libs.iteratee.Iteratee[E,A], e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Done</a><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: A, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,A]">Done</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step.readyOrNot.$anonfun.a" title="A">a</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span>, <a href="Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Input.Empty" title="play.api.libs.iteratee.Input.Empty.type">Empty</a><span class="delimiter">)</span>
                    <span class="keyword">case</span> Step.Cont<span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]" id="play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step.readyOrNot.$anonfun.k">k</a><span class="delimiter">)</span> =&gt; <a href="Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Cont</a> <span class="delimiter">{</span> <a title="play.api.libs.iteratee.Input[E]" id="play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step.readyOrNot.$anonfun.$anonfun.in">in</a> =&gt;
                      <span class="keyword">val</span> <a title="play.api.libs.iteratee.Iteratee[E,A]" id="play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step.readyOrNot.$anonfun.$anonfun.next">next</a> = <a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step.readyOrNot.$anonfun.k" title="(v1: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,A]">k</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step.readyOrNot.$anonfun.$anonfun.in" title="play.api.libs.iteratee.Input[E]">in</a><span class="delimiter">)</span>
                      <a href="Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Cont</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step" title="(inner: play.api.libs.iteratee.Iteratee[E,A])(in: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">step</a><a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step.readyOrNot.$anonfun.$anonfun.$anonfun.in" title="play.api.libs.iteratee.Input[E]" class="delimiter">(</a><a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step.readyOrNot.$anonfun.$anonfun.next" title="play.api.libs.iteratee.Iteratee[E,A]">next</a><span class="delimiter">)</span><span class="delimiter">)</span>
                    <span class="delimiter">}</span>
                    <span class="keyword">case</span> Step.Error<span class="delimiter">(</span><a title="String" id="play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step.readyOrNot.$anonfun.msg">msg</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span> =&gt; <a href="Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: play.api.libs.iteratee.Iteratee[E,Nothing], e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,Nothing]]">Done</a><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Error.apply" title="(msg: String, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Nothing]">Error</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step.readyOrNot.$anonfun.msg" title="String">msg</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span>, <a href="Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Input.Empty" title="play.api.libs.iteratee.Input.Empty.type">Empty</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>.<span title="(f: play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]] =&gt; scala.util.Left[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]],Nothing])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[scala.util.Left[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]],Nothing]]">map</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]" id="play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step.readyOrNot.$anonfun.i">i</a> =&gt; <span class="delimiter">{</span> <a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.busy" title="=&gt; scala.concurrent.stm.Ref[Boolean]">busy</a>.<span title="(v: Boolean)Unit">single</span><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="Boolean(false)" class="keyword">false</span>; <span title="(a: play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]])scala.util.Left[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]],Nothing]">Left</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step.readyOrNot.$anonfun.i" title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">i</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>,
                  <a href="#play.api.libs.iteratee.Concurrent.timeoutFuture" title="(v: scala.util.Right[Nothing,Unit], delay: Long, unit: java.util.concurrent.TimeUnit)scala.concurrent.Future[scala.util.Right[Nothing,Unit]]">timeoutFuture</a><span class="delimiter">(</span><span title="(b: Unit)scala.util.Right[Nothing,Unit]">Right</span><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady.duration" title="Long">duration</a>, <a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady$default$2" title="java.util.concurrent.TimeUnit">unit</a><span class="delimiter">)</span>
                <span class="delimiter">)</span>
              <span class="delimiter">)</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>

              <a href="Iteratee.scala.html#play.api.libs.iteratee.Iteratee" title="play.api.libs.iteratee.Iteratee.type">Iteratee</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Iteratee.flatten" title="(i: scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">flatten</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step.readyOrNot" title="scala.concurrent.Future[Either[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]],Unit]]">readyOrNot</a>.<span title="(f: Either[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]],Unit] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]]">map</span> <a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step.$anonfun.x0$20" title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]" class="delimiter">{</a>
                <span class="keyword">case</span> Left<span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]" id="play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step.$anonfun.ready">ready</a><span class="delimiter">)</span> =&gt;
                  <a href="Iteratee.scala.html#play.api.libs.iteratee.Iteratee" title="play.api.libs.iteratee.Iteratee.type">Iteratee</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Iteratee.flatten" title="(i: scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">flatten</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step.$anonfun.ready" title="play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">ready</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee.feed" title="(in: play.api.libs.iteratee.Input[E])scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]]">feed</a><span class="delimiter">(</span><span title="play.api.libs.iteratee.Input[E]">in</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="keyword">case</span> Right<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
                  <a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.busy" title="=&gt; scala.concurrent.stm.Ref[Boolean]">busy</a>.<span title="(v: Boolean)Unit">single</span><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="Boolean(true)" class="keyword">true</span>
                  <a href="Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Cont</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step" title="(inner: play.api.libs.iteratee.Iteratee[E,A])(in: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">step</a><a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step.$anonfun.$anonfun.in" title="play.api.libs.iteratee.Input[E]" class="delimiter">(</a><a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step.inner" title="play.api.libs.iteratee.Iteratee[E,A]">inner</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <a href="Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Cont</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step" title="(inner: play.api.libs.iteratee.Iteratee[E,A])(in: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">step</a><a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step.$anonfun.in" title="play.api.libs.iteratee.Input[E]" class="delimiter">(</a><a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step.inner" title="play.api.libs.iteratee.Iteratee[E,A]">inner</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">Cont</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.step" title="(inner: play.api.libs.iteratee.Iteratee[E,A])(in: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,play.api.libs.iteratee.Iteratee[E,A]]">step</a><a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.$anonfun.in" title="play.api.libs.iteratee.Input[E]" class="delimiter">(</a><a href="#play.api.libs.iteratee.Concurrent.dropInputIfNotReady;$anon.applyOn.it" title="play.api.libs.iteratee.Iteratee[E,A]">it</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Create an enumerator that allows imperative style pushing of input into a single iteratee.
   *
   * The enumerator may be used multiple times, each time will cause a new invocation of `onStart`, which will pass a
   * [[play.api.libs.iteratee.Concurrent.Channel]] that can be used to feed input into the iteratee.  However, note that
   * there is no way for the caller to know which iteratee is finished or encountered an error in the `onComplete` or
   * `onError` functions.
   *
   * @param onStart Called when an enumerator is applied to an iteratee, providing the channel to feed input into that
   *                iteratee.
   * @param onComplete Called when an iteratee is done.
   * @param onError Called when an iteratee encounters an error, supplying the error and the input that caused the error.
   * $paramEcMultiple
   */</span>
  <span class="keyword">def</span> <a title="[E](onStart: play.api.libs.iteratee.Concurrent.Channel[E] =&gt; Unit, onComplete: =&gt; Unit, onError: (String, play.api.libs.iteratee.Input[E]) =&gt; Unit)(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Enumerator[E]{implicit val pec: scala.concurrent.ExecutionContext}" id="play.api.libs.iteratee.Concurrent.unicast">unicast</a><span class="delimiter">[</span><a title="" id="play.api.libs.iteratee.Concurrent.unicast$default$3;E">E</a><span class="delimiter">]</span><span class="delimiter">(</span>
    <a title="play.api.libs.iteratee.Concurrent.Channel[E] =&gt; Unit" id="play.api.libs.iteratee.Concurrent.unicast.onStart">onStart</a>: Channel<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; Unit,
    <a title="=&gt; Unit" id="play.api.libs.iteratee.Concurrent.unicast$default$2">onComplete</a>: =&gt; <span title="Unit">Unit</span> = <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>,
    <a title="(String, play.api.libs.iteratee.Input[E]) =&gt; Unit" id="play.api.libs.iteratee.Concurrent.unicast$default$3">onError</a>: <span class="delimiter">(</span>String, Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Unit = <span class="delimiter">(</span>_: <span title="String">String</span>, _: <a href="Iteratee.scala.html#play.api.libs.iteratee;Input" title="play.api.libs.iteratee.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.concurrent.ExecutionContext" id="play.api.libs.iteratee.Concurrent.unicast.ec">ec</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span><span class="delimiter">)</span> = <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon" title="play.api.libs.iteratee.Enumerator[E]{implicit val pec: scala.concurrent.ExecutionContext}" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.api.libs.iteratee.Enumerator[E]" id="play.api.libs.iteratee.Concurrent.unicast;$anon">Enumerator</a><span class="delimiter">[</span>E<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scala.concurrent.ExecutionContext" id="play.api.libs.iteratee.Concurrent.unicast;$anon.pec">pec</a> = <a href="#play.api.libs.iteratee.Concurrent.unicast.ec" title="scala.concurrent.ExecutionContext">ec</a>.<span title="()scala.concurrent.ExecutionContext">prepare</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">import</span> scala.concurrent.stm.Ref

    <span class="keyword">def</span> <a title="[A](it: play.api.libs.iteratee.Iteratee[E,A])scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,A]]" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply">apply</a><span class="delimiter">[</span><a title="" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[E,A]" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.it">it</a>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,A]">Iteratee</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,A]]">Future</span><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.promise">promise</a>: scala.concurrent.<span title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">Promise</span><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="[T]()scala.concurrent.Promise[T]">Promise</span><span title="()scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]" class="delimiter">[</span><a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,A]">Iteratee</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.concurrent.stm.Ref[scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]]" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.iteratee">iteratee</a>: <span title="scala.concurrent.stm.Ref[scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]]">Ref</span><span class="delimiter">[</span>Future<span class="delimiter">[</span>Option<span class="delimiter">[</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; Iteratee<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span> = <span title="(initialValue: scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]])(implicit om: scala.reflect.OptManifest[scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]])scala.concurrent.stm.Ref[scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]]">Ref</span><span title="(clazz: Class[_], arg1: scala.reflect.OptManifest[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]]" class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.it" title="play.api.libs.iteratee.Iteratee[E,A]">it</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee.pureFold" title="(folder: play.api.libs.iteratee.Step[E,A] =&gt; Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]])(implicit ec: scala.concurrent.ExecutionContext)scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]">pureFold</a> <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.iteratee.$anonfun.x0$21" title="Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]" class="delimiter">{</a> <span class="keyword">case</span> Step.Cont<span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.iteratee.$anonfun.k">k</a><span class="delimiter">)</span> =&gt; <span title="(x: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A])Some[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]">Some</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.iteratee.$anonfun.k" title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]">k</a><span class="delimiter">)</span>; <span class="keyword">case</span> <a title="play.api.libs.iteratee.Step[E,A]" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.iteratee.$anonfun.other">other</a> =&gt; <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.promise" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">promise</a>.<span title="(v: play.api.libs.iteratee.Iteratee[E,A])promise.type">success</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.iteratee.$anonfun.other" title="play.api.libs.iteratee.Step[E,A]">other</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee;Step.it" title="=&gt; play.api.libs.iteratee.Iteratee[E,A]">it</a><span class="delimiter">)</span>; <span title="None.type">None</span> <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="pushee extends AnyRef with play.api.libs.iteratee.Concurrent.Channel[E]" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee">pushee</a> = <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon" title="play.api.libs.iteratee.Concurrent.Channel[E]{def close(): Unit}" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.api.libs.iteratee.Concurrent.Channel[E]" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon">Channel</a><span class="delimiter">[</span>E<span class="delimiter">]</span> <span class="delimiter">{</span>

        <span class="keyword">private</span> <span class="keyword">val</span> <a title="play.api.libs.iteratee.RunQueue" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.runQueue">runQueue</a> = <span title="play.api.libs.iteratee.RunQueue" class="keyword">new</span> <a href="RunQueue.scala.html#play.api.libs.iteratee;RunQueue" title="play.api.libs.iteratee.RunQueue">RunQueue</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">private</span> <span class="keyword">def</span> <a title="(body: =&gt; Unit)Unit" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.schedule">schedule</a><span class="delimiter">(</span><a title="=&gt; Unit" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.schedule.body">body</a>: =&gt; Unit<span class="delimiter">)</span> = <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.runQueue" title="=&gt; play.api.libs.iteratee.RunQueue">runQueue</a>.<a href="RunQueue.scala.html#play.api.libs.iteratee;RunQueue.scheduleSimple" title="(body: =&gt; Unit)(implicit ec: scala.concurrent.ExecutionContext)Unit">scheduleSimple</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.schedule.body" title="=&gt; Unit">body</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="()Unit" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.close">close</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.schedule" title="(body: =&gt; Unit)Unit">schedule</a> <span class="delimiter">{</span>
          <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.iteratee" title="scala.concurrent.stm.Ref[scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]]">iteratee</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]]">single</span>.<span title="(v: scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]])scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]">swap</span><span class="delimiter">(</span><span title="scala.concurrent.Future.type">Future</span>.<span title="(result: None.type)scala.concurrent.Future[None.type]">successful</span><span class="delimiter">(</span><span title="None.type">None</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(func: scala.util.Try[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]] =&gt; Any)(implicit executor: scala.concurrent.ExecutionContext)Unit">onComplete</span> <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.close.$anonfun.x0$22" title="Any" class="delimiter">{</a>
            <span class="keyword">case</span> Success<span class="delimiter">(</span><a title="Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.close.$anonfun.maybeK">maybeK</a><span class="delimiter">)</span> =&gt; <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.close.$anonfun.maybeK" title="Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]">maybeK</a>.<span title="(f: (play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]) =&gt; scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]])Unit">foreach</span> <span class="delimiter">{</span> <a title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.close.$anonfun.$anonfun.k">k</a> =&gt;
              <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.promise" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">promise</a>.<span title="(v: play.api.libs.iteratee.Iteratee[E,A])promise.type">success</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.close.$anonfun.$anonfun.k" title="(v1: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,A]">k</a><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Input.EOF" title="play.api.libs.iteratee.Input.EOF.type">EOF</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">case</span> Failure<span class="delimiter">(</span><a title="Throwable" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.close.$anonfun.e">e</a><span class="delimiter">)</span> =&gt; <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.promise" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">promise</a>.<span title="(t: Throwable)promise.type">failure</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.close.$anonfun.e" title="Throwable">e</a><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(e: Throwable)Unit" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.end(3b9207e466)">end</a><span class="delimiter">(</span><a title="Throwable" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.end(3b9207e466).e">e</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span> = <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.schedule" title="(body: =&gt; Unit)Unit">schedule</a> <span class="delimiter">{</span>
          <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.iteratee" title="scala.concurrent.stm.Ref[scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]]">iteratee</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]]">single</span>.<span title="(v: scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]])scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]">swap</span><span class="delimiter">(</span><span title="scala.concurrent.Future.type">Future</span>.<span title="(result: None.type)scala.concurrent.Future[None.type]">successful</span><span class="delimiter">(</span><span title="None.type">None</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(func: scala.util.Try[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]] =&gt; Any)(implicit executor: scala.concurrent.ExecutionContext)Unit">onComplete</span> <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.end(3b9207e466).$anonfun.x0$23" title="Any" class="delimiter">{</a>
            <span class="keyword">case</span> Success<span class="delimiter">(</span><a title="Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.end(3b9207e466).$anonfun.maybeK">maybeK</a><span class="delimiter">)</span> =&gt;
              <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.end(3b9207e466).$anonfun.maybeK" title="Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]">maybeK</a>.<span title="(f: (play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]) =&gt; scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]])Unit">foreach</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.end(3b9207e466).$anonfun.$anonfun.x$10">_</a> =&gt; <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.promise" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">promise</a>.<span title="(t: Throwable)promise.type">failure</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.end(3b9207e466).e" title="Throwable">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> Failure<span class="delimiter">(</span><a title="Throwable" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.end(3b9207e466).$anonfun.e">e</a><span class="delimiter">)</span> =&gt; <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.promise" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">promise</a>.<span title="(t: Throwable)promise.type">failure</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.end(3b9207e466).$anonfun.e" title="Throwable">e</a><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="()Unit" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.end(aa97cb1b3d)">end</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.schedule" title="(body: =&gt; Unit)Unit">schedule</a> <span class="delimiter">{</span>
          <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.iteratee" title="scala.concurrent.stm.Ref[scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]]">iteratee</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]]">single</span>.<span title="(v: scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]])scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]">swap</span><span class="delimiter">(</span><span title="scala.concurrent.Future.type">Future</span>.<span title="(result: None.type)scala.concurrent.Future[None.type]">successful</span><span class="delimiter">(</span><span title="None.type">None</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(func: scala.util.Try[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]] =&gt; Unit)(implicit executor: scala.concurrent.ExecutionContext)Unit">onComplete</span> <span class="delimiter">{</span> <a title="scala.util.Try[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.end(aa97cb1b3d).$anonfun.maybeK">maybeK</a> =&gt;
            <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.end(aa97cb1b3d).$anonfun.maybeK" title="scala.util.Try[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]">maybeK</a>.<span title="=&gt; Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]">get</span>.<span title="(f: (play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]) =&gt; scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]])Unit">foreach</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.end(aa97cb1b3d).$anonfun.$anonfun.k">k</a> =&gt; <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.promise" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">promise</a>.<span title="(v: play.api.libs.iteratee.Iteratee[E,A])promise.type">success</span><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A])play.api.libs.iteratee.Iteratee[E,A]">Cont</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.end(aa97cb1b3d).$anonfun.$anonfun.k" title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]">k</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(item: play.api.libs.iteratee.Input[E])Unit" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137)">push</a><span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[E]" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).item">item</a>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Input" title="play.api.libs.iteratee.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.schedule" title="(body: =&gt; Unit)Unit">schedule</a> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="scala.concurrent.Promise[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).eventuallyNext">eventuallyNext</a> = <span title="[T]()scala.concurrent.Promise[T]">Promise</span><span title="()scala.concurrent.Promise[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]" class="delimiter">[</span><span title="Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]">Option</span><span class="delimiter">[</span>Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; Iteratee<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.iteratee" title="scala.concurrent.stm.Ref[scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]]">iteratee</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]]">single</span>.<span title="(v: scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]])scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]">swap</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).eventuallyNext" title="scala.concurrent.Promise[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]">eventuallyNext</a>.<span title="=&gt; scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]">future</span><span class="delimiter">)</span>.<span title="(func: scala.util.Try[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]] =&gt; scala.concurrent.Promise[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]])(implicit executor: scala.concurrent.ExecutionContext)Unit">onComplete</span> <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).$anonfun.x0$24" title="eventuallyNext.type" class="delimiter">{</a>
            <span class="keyword">case</span> Success<span class="delimiter">(</span><span title="None.type">None</span><span class="delimiter">)</span> =&gt; <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).eventuallyNext" title="scala.concurrent.Promise[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]">eventuallyNext</a>.<span title="(v: Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]])eventuallyNext.type">success</span><span class="delimiter">(</span><span title="None.type">None</span><span class="delimiter">)</span>
            <span class="keyword">case</span> Success<span class="delimiter">(</span>Some<span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).$anonfun.k">k</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).$anonfun.n">n</a> = <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="play.api.libs.iteratee.Iteratee[E,A]" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).$anonfun.n.next">next</a> = <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).$anonfun.k" title="(v1: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,A]">k</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).item" title="play.api.libs.iteratee.Input[E]">item</a><span class="delimiter">)</span>
                <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).$anonfun.n.next" title="play.api.libs.iteratee.Iteratee[E,A]">next</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee.fold" title="(folder: play.api.libs.iteratee.Step[E,A] =&gt; scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]])(implicit ec: scala.concurrent.ExecutionContext)scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]">fold</a> <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).$anonfun.n.$anonfun.x0$25" title="scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]" class="delimiter">{</a>
                  <span class="keyword">case</span> Step.Done<span class="delimiter">(</span><a title="A" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).$anonfun.n.$anonfun.a">a</a>, <a title="play.api.libs.iteratee.Input[E]" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).$anonfun.n.$anonfun.in">in</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
                    <span title="(body: =&gt; Unit)(implicit execctx: scala.concurrent.ExecutionContext)scala.concurrent.Future[Unit]">Future</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.unicast$default$2" title="=&gt; Unit">onComplete</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.pec" title="=&gt; scala.concurrent.ExecutionContext">pec</a><span class="delimiter">)</span>.<span title="(f: Unit =&gt; None.type)(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[None.type]">map</span> <span class="delimiter">{</span> <a title="Unit" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).$anonfun.n.$anonfun.$anonfun.x$11">_</a> =&gt;
                      <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.promise" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">promise</a>.<span title="(v: play.api.libs.iteratee.Iteratee[E,A])promise.type">success</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).$anonfun.n.next" title="play.api.libs.iteratee.Iteratee[E,A]">next</a><span class="delimiter">)</span>
                      <span title="None.type">None</span>
                    <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                  <span class="keyword">case</span> Step.Error<span class="delimiter">(</span><a title="String" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).$anonfun.n.$anonfun.msg">msg</a>, <a title="play.api.libs.iteratee.Input[E]" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).$anonfun.n.$anonfun.e">e</a><span class="delimiter">)</span> =&gt;
                    <span title="(body: =&gt; Unit)(implicit execctx: scala.concurrent.ExecutionContext)scala.concurrent.Future[Unit]">Future</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.unicast$default$3" title="(v1: String, v2: play.api.libs.iteratee.Input[E])Unit">onError</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).$anonfun.n.$anonfun.msg" title="String">msg</a>, <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).$anonfun.n.$anonfun.e" title="play.api.libs.iteratee.Input[E]">e</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.pec" title="=&gt; scala.concurrent.ExecutionContext">pec</a><span class="delimiter">)</span>.<span title="(f: Unit =&gt; None.type)(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[None.type]">map</span> <span class="delimiter">{</span> <a title="Unit" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).$anonfun.n.$anonfun.$anonfun.x$12">_</a> =&gt;
                      <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.promise" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">promise</a>.<span title="(v: play.api.libs.iteratee.Iteratee[E,A])promise.type">success</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).$anonfun.n.next" title="play.api.libs.iteratee.Iteratee[E,A]">next</a><span class="delimiter">)</span>
                      <span title="None.type">None</span>
                    <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> Step.Cont<span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).$anonfun.n.$anonfun.k">k</a><span class="delimiter">)</span> =&gt;
                    <span title="scala.concurrent.Future.type">Future</span>.<span title="(result: Some[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]])scala.concurrent.Future[Some[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]">successful</span><span class="delimiter">(</span><span title="(x: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A])Some[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]">Some</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).$anonfun.n.$anonfun.k" title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]">k</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).eventuallyNext" title="scala.concurrent.Promise[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]">eventuallyNext</a>.<span title="(other: scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]])eventuallyNext.type">completeWith</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).$anonfun.n" title="scala.concurrent.Future[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]">n</a><span class="delimiter">)</span>
            <span class="keyword">case</span> Failure<span class="delimiter">(</span><a title="Throwable" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).$anonfun.e">e</a><span class="delimiter">)</span> =&gt;
              <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.promise" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">promise</a>.<span title="(t: Throwable)promise.type">failure</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).$anonfun.e" title="Throwable">e</a><span class="delimiter">)</span>
              <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee;$anon.push(3862c48137).eventuallyNext" title="scala.concurrent.Promise[Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]]]">eventuallyNext</a>.<span title="(v: Option[play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,A]])eventuallyNext.type">success</span><span class="delimiter">(</span><span title="None.type">None</span><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="(body: =&gt; Unit)(implicit execctx: scala.concurrent.ExecutionContext)scala.concurrent.Future[Unit]">Future</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.unicast.onStart" title="(v1: play.api.libs.iteratee.Concurrent.Channel[E])Unit">onStart</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.pushee" title="pushee extends AnyRef with play.api.libs.iteratee.Concurrent.Channel[E]">pushee</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.pec" title="=&gt; scala.concurrent.ExecutionContext">pec</a><span class="delimiter">)</span>.<span title="(f: Unit =&gt; scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,A]])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,A]]">flatMap</span><span class="delimiter">(</span><a title="Unit" id="play.api.libs.iteratee.Concurrent.unicast;$anon.apply.$anonfun.x$13">_</a> =&gt; <a href="#play.api.libs.iteratee.Concurrent.unicast;$anon.apply.promise" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">promise</a>.<span title="=&gt; scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,A]]">future</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * Create a broadcaster from the given enumerator.  This allows iteratees to attach (and unattach by returning a done
   * state) to a single enumerator.  Iteratees will only receive input sent from the enumerator after they have
   * attached to the broadcasting enumerator.
   *
   * @param e The enumerator to broadcast
   * @param interestIsDownToZero Function that is invoked when all iteratees are done.  May be invoked multiple times.
   * $paramEcSingle
   * @return A tuple of the broadcasting enumerator, that can be applied to each iteratee that wants to receive the
   *         input, and the broadcaster.
   */</span>
  <span class="keyword">def</span> <a title="[E](e: play.api.libs.iteratee.Enumerator[E], interestIsDownToZero: play.api.libs.iteratee.Concurrent.Broadcaster =&gt; Unit)(implicit ec: scala.concurrent.ExecutionContext)(play.api.libs.iteratee.Enumerator[E], play.api.libs.iteratee.Concurrent.Broadcaster)" id="play.api.libs.iteratee.Concurrent.broadcast(8bd0617276)">broadcast</a><span class="delimiter">[</span><a title="" id="play.api.libs.iteratee.Concurrent.broadcast$default$2;E">E</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Enumerator[E]" id="play.api.libs.iteratee.Concurrent.broadcast(8bd0617276).e">e</a>: <a href="Enumerator.scala.html#play.api.libs.iteratee;Enumerator" title="play.api.libs.iteratee.Enumerator[E]">Enumerator</a><span class="delimiter">[</span>E<span class="delimiter">]</span>, <a title="play.api.libs.iteratee.Concurrent.Broadcaster =&gt; Unit" id="play.api.libs.iteratee.Concurrent.broadcast$default$2">interestIsDownToZero</a>: Broadcaster =&gt; Unit = <a title="play.api.libs.iteratee.Concurrent.Broadcaster" id="play.api.libs.iteratee.Concurrent.broadcast$default$2.$anonfun.x$14">_</a> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.concurrent.ExecutionContext" id="play.api.libs.iteratee.Concurrent.broadcast(8bd0617276).ec">ec</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span><span class="delimiter">)</span>: <span title="(play.api.libs.iteratee.Enumerator[E], play.api.libs.iteratee.Concurrent.Broadcaster)" class="delimiter">(</span>Enumerator<span class="delimiter">[</span>E<span class="delimiter">]</span>, Broadcaster<span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.concurrent.ExecutionContext" id="play.api.libs.iteratee.Concurrent.broadcast(8bd0617276).pec">pec</a> = <a href="#play.api.libs.iteratee.Concurrent.broadcast(8bd0617276).ec" title="scala.concurrent.ExecutionContext">ec</a>.<span title="()scala.concurrent.ExecutionContext">prepare</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="play.api.libs.iteratee.Concurrent.Hub[E]" id="play.api.libs.iteratee.Concurrent.broadcast(8bd0617276).h">h</a>: <a href="#play.api.libs.iteratee.Concurrent;Hub" title="play.api.libs.iteratee.Concurrent.Hub[E]">Hub</a><span class="delimiter">[</span>E<span class="delimiter">]</span> = <a href="#play.api.libs.iteratee.Concurrent.hub" title="(e: play.api.libs.iteratee.Enumerator[E], interestIsDownToZero: () =&gt; Unit)(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Concurrent.Hub[E]">hub</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(8bd0617276).e" title="play.api.libs.iteratee.Enumerator[E]">e</a>, <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#play.api.libs.iteratee.Concurrent.broadcast$default$2" title="(v1: play.api.libs.iteratee.Concurrent.Broadcaster)Unit">interestIsDownToZero</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(8bd0617276).h" title="=&gt; play.api.libs.iteratee.Concurrent.Hub[E]">h</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(8bd0617276).pec" title="scala.concurrent.ExecutionContext">pec</a><span class="delimiter">)</span>
    <span title="(_1: play.api.libs.iteratee.Enumerator[E], _2: play.api.libs.iteratee.Concurrent.Hub[E])(play.api.libs.iteratee.Enumerator[E], play.api.libs.iteratee.Concurrent.Hub[E])" class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.broadcast(8bd0617276).h" title="=&gt; play.api.libs.iteratee.Concurrent.Hub[E]">h</a>.<a href="#play.api.libs.iteratee.Concurrent;Hub.getPatchCord" title="()play.api.libs.iteratee.Enumerator[E]">getPatchCord</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#play.api.libs.iteratee.Concurrent.broadcast(8bd0617276).h" title="=&gt; play.api.libs.iteratee.Concurrent.Hub[E]">h</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A broadcaster.  Used to control a broadcasting enumerator.
   */</span>
  <span class="keyword">trait</span> <a title="trait Broadcaster extends AnyRef" id="play.api.libs.iteratee.Concurrent;Broadcaster">Broadcaster</a> <span class="delimiter">{</span>
    <span class="comment">/**
     * Are there any iteratees that are still receiving input?
     */</span>
    <span class="keyword">def</span> <a title="()Boolean" id="play.api.libs.iteratee.Concurrent;Broadcaster.noCords">noCords</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span>

    <span class="comment">/**
     * Close the broadcasting enumerator.
     */</span>
    <span class="keyword">def</span> <a title="()Unit" id="play.api.libs.iteratee.Concurrent;Broadcaster.close">close</a><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="comment">/**
     * Whether this broadcaster is closed.
     */</span>
    <span class="keyword">def</span> <a title="()Boolean" id="play.api.libs.iteratee.Concurrent;Broadcaster.closed">closed</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span>

  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">trait</span> <a title="trait Hub[E] extends AnyRef with play.api.libs.iteratee.Concurrent.Broadcaster" id="play.api.libs.iteratee.Concurrent;Hub">Hub</a><span class="delimiter">[</span><a title="" id="play.api.libs.iteratee.Concurrent;Hub;E">E</a><span class="delimiter">]</span> <span class="keyword">extends</span> <a href="#play.api.libs.iteratee.Concurrent;Broadcaster" title="play.api.libs.iteratee.Concurrent.Broadcaster">Broadcaster</a> <span class="delimiter">{</span>

    <span class="keyword">def</span> <a title="()play.api.libs.iteratee.Enumerator[E]" id="play.api.libs.iteratee.Concurrent;Hub.getPatchCord">getPatchCord</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="Enumerator.scala.html#play.api.libs.iteratee;Enumerator" title="play.api.libs.iteratee.Enumerator[E]">Enumerator</a><span class="delimiter">[</span>E<span class="delimiter">]</span>

  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[E](e: play.api.libs.iteratee.Enumerator[E], interestIsDownToZero: () =&gt; Unit)(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Concurrent.Hub[E]" id="play.api.libs.iteratee.Concurrent.hub">hub</a><span class="delimiter">[</span><a title="" id="play.api.libs.iteratee.Concurrent.hub$default$2;E">E</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Enumerator[E]" id="play.api.libs.iteratee.Concurrent.hub.e">e</a>: <a href="Enumerator.scala.html#play.api.libs.iteratee;Enumerator" title="play.api.libs.iteratee.Enumerator[E]">Enumerator</a><span class="delimiter">[</span>E<span class="delimiter">]</span>, <a title="() =&gt; Unit" id="play.api.libs.iteratee.Concurrent.hub$default$2">interestIsDownToZero</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Unit = <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.concurrent.ExecutionContext" id="play.api.libs.iteratee.Concurrent.hub.ec">ec</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span><span class="delimiter">)</span>: <a href="#play.api.libs.iteratee.Concurrent;Hub" title="play.api.libs.iteratee.Concurrent.Hub[E]">Hub</a><span class="delimiter">[</span>E<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.concurrent.ExecutionContext" id="play.api.libs.iteratee.Concurrent.hub.pec">pec</a> = <a href="#play.api.libs.iteratee.Concurrent.hub.ec" title="scala.concurrent.ExecutionContext">ec</a>.<span title="()scala.concurrent.ExecutionContext">prepare</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">import</span> scala.concurrent.stm._

    <span class="keyword">val</span> <a title="scala.concurrent.stm.Ref[List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]" id="play.api.libs.iteratee.Concurrent.hub.iteratees">iteratees</a>: <span title="scala.concurrent.stm.Ref[List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]">Ref</span><span class="delimiter">[</span>List<span class="delimiter">[</span><span class="delimiter">(</span>Iteratee<span class="delimiter">[</span>E, _<span class="delimiter">]</span>, Promise<span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E, _<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">]</span> = <span title="(initialValue: List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])])(implicit om: scala.reflect.OptManifest[List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]])scala.concurrent.stm.Ref[List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]">Ref</span><span title="(clazz: Class[_], arg1: scala.reflect.OptManifest[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]" class="delimiter">(</span>List<span title="scala.collection.immutable.Nil.type" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="scala.concurrent.stm.Ref[Boolean]" id="play.api.libs.iteratee.Concurrent.hub.started">started</a> = <span title="(initialValue: Boolean)scala.concurrent.stm.Ref[Boolean]">Ref</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

    <span class="keyword">var</span> <a title="Boolean" id="play.api.libs.iteratee.Concurrent.hub.closeFlag">closeFlag</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="keyword">def</span> <a title="(in: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Unit]" id="play.api.libs.iteratee.Concurrent.hub.step">step</a><span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[E]" id="play.api.libs.iteratee.Concurrent.hub.step.in">in</a>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Input" title="play.api.libs.iteratee.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,Unit]">Iteratee</a><span class="delimiter">[</span>E, Unit<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]" id="play.api.libs.iteratee.Concurrent.hub.step.interested">interested</a>: <span title="List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>Iteratee<span class="delimiter">[</span>E, _<span class="delimiter">]</span>, Promise<span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E, _<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <a href="#play.api.libs.iteratee.Concurrent.hub.iteratees" title="scala.concurrent.stm.Ref[List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]">iteratees</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]">single</span>.<span title="(v: List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])])List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">swap</span><span class="delimiter">(</span>List<span title="scala.collection.immutable.Nil.type" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="scala.concurrent.stm.Ref[List[(Int, (play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]))]]" id="play.api.libs.iteratee.Concurrent.hub.step.commitReady">commitReady</a>: <span title="scala.concurrent.stm.Ref[List[(Int, (play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]))]]">Ref</span><span class="delimiter">[</span>List<span class="delimiter">[</span><span class="delimiter">(</span>Int, <span class="delimiter">(</span>Iteratee<span class="delimiter">[</span>E, _<span class="delimiter">]</span>, Promise<span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E, _<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">]</span> = <span title="(initialValue: List[(Int, (play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]))])(implicit om: scala.reflect.OptManifest[List[(Int, (play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]))]])scala.concurrent.stm.Ref[List[(Int, (play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]))]]">Ref</span><span title="(clazz: Class[_], arg1: scala.reflect.OptManifest[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[List[(Int, (play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]))]]" class="delimiter">(</span>List<span title="scala.collection.immutable.Nil.type" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="scala.concurrent.stm.Ref[List[Int]]" id="play.api.libs.iteratee.Concurrent.hub.step.commitDone">commitDone</a>: <span title="scala.concurrent.stm.Ref[List[Int]]">Ref</span><span class="delimiter">[</span>List<span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="(initialValue: List[Int])(implicit om: scala.reflect.OptManifest[List[Int]])scala.concurrent.stm.Ref[List[Int]]">Ref</span><span title="(clazz: Class[_], arg1: scala.reflect.OptManifest[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[List[Int]]" class="delimiter">(</span>List<span title="scala.collection.immutable.Nil.type" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="scala.concurrent.Future[Unit]" id="play.api.libs.iteratee.Concurrent.hub.step.ready">ready</a> = <a href="#play.api.libs.iteratee.Concurrent.hub.step.interested" title="List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">interested</a>.<span title="(implicit bf: scala.collection.generic.CanBuildFrom[List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])],((play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]), Int),List[((play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]), Int)]])List[((play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]), Int)]">zipWithIndex</span>.<span title="(f: (((play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]), Int)) =&gt; scala.concurrent.Future[Unit])(implicit bf: scala.collection.generic.CanBuildFrom[List[((play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]), Int)],scala.concurrent.Future[Unit],List[scala.concurrent.Future[Unit]]])List[scala.concurrent.Future[Unit]]">map</span> <a href="#play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.x0$26" title="scala.concurrent.Future[Unit]" class="delimiter">{</a>
        <span class="keyword">case</span> <span class="delimiter">(</span><a title="(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])" id="play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.t">t</a>, <a title="Int" id="play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.index">index</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <span title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]">p</span> = <a href="#play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.t" title="(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])">t</a>.<span title="=&gt; scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]">_2</span>
          <a href="#play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.t" title="(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])">t</a>.<span title="=&gt; play.api.libs.iteratee.Iteratee[E, _]">_1</span>.<a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee.fold" title="(folder: play.api.libs.iteratee.Step[E,_$6] =&gt; scala.concurrent.Future[Unit])(implicit ec: scala.concurrent.ExecutionContext)scala.concurrent.Future[Unit]">fold</a> <a href="#play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.$anonfun.x0$27" title="scala.concurrent.Future[Unit]" class="delimiter">{</a>
            <span class="keyword">case</span> Step.Done<span class="delimiter">(</span><a title="_$6" id="play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.$anonfun.a">a</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span> =&gt;
              <span title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]">p</span>.<span title="(v: play.api.libs.iteratee.Iteratee[E, _])p.type">success</span><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: _$6, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,_$6]">Done</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.$anonfun.a" title="_$6">a</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#play.api.libs.iteratee.Concurrent.hub.step.commitDone" title="scala.concurrent.stm.Ref[List[Int]]">commitDone</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[List[Int]]">single</span>.<span title="(f: List[Int] =&gt; List[Int])Unit">transform</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.$anonfun.$anonfun.x$15" title="List[Int]">_</a> <span title="(elem: Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],Int,List[Int]])List[Int]">:+</span> <a href="#play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.index" title="Int">index</a><span class="delimiter">)</span>
              <span title="scala.concurrent.Future.type">Future</span>.<span title="(result: Unit)scala.concurrent.Future[Unit]">successful</span><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

            <span class="keyword">case</span> Step.Cont<span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,_$6]" id="play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.$anonfun.k">k</a><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="play.api.libs.iteratee.Iteratee[E,_$6]" id="play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.$anonfun.next">next</a> = <a href="#play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.$anonfun.k" title="(v1: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,_$6]">k</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub.step.in" title="play.api.libs.iteratee.Input[E]">in</a><span class="delimiter">)</span>
              <a href="#play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.$anonfun.next" title="play.api.libs.iteratee.Iteratee[E,_$6]">next</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee.pureFold" title="(folder: play.api.libs.iteratee.Step[E,_$6] =&gt; Unit)(implicit ec: scala.concurrent.ExecutionContext)scala.concurrent.Future[Unit]">pureFold</a> <a href="#play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.$anonfun.$anonfun.x0$28" title="Unit" class="delimiter">{</a>
                <span class="keyword">case</span> Step.Done<span class="delimiter">(</span><a title="_$6" id="play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.$anonfun.$anonfun.a">a</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
                  <span title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]">p</span>.<span title="(v: play.api.libs.iteratee.Iteratee[E, _])p.type">success</span><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: _$6, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,_$6]">Done</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.$anonfun.$anonfun.a" title="_$6">a</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#play.api.libs.iteratee.Concurrent.hub.step.commitDone" title="scala.concurrent.stm.Ref[List[Int]]">commitDone</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[List[Int]]">single</span>.<span title="(f: List[Int] =&gt; List[Int])Unit">transform</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.$anonfun.$anonfun.$anonfun.x$16" title="List[Int]">_</a> <span title="(elem: Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],Int,List[Int]])List[Int]">:+</span> <a href="#play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.index" title="Int">index</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <span class="keyword">case</span> Step.Cont<span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,_$6]" id="play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.$anonfun.$anonfun.k">k</a><span class="delimiter">)</span> =&gt; <a href="#play.api.libs.iteratee.Concurrent.hub.step.commitReady" title="scala.concurrent.stm.Ref[List[(Int, (play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]))]]">commitReady</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[List[(Int, (play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]))]]">single</span>.<span title="(f: List[(Int, (play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]))] =&gt; List[(Int, (play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]))])Unit">transform</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.$anonfun.$anonfun.$anonfun.x$17" title="List[(Int, (play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]))]">_</a> <span title="(elem: (Int, (play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])))(implicit bf: scala.collection.generic.CanBuildFrom[List[(Int, (play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]))],(Int, (play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])),List[(Int, (play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]))]])List[(Int, (play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]))]">:+</span> <span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.index" title="(x: Int)ArrowAssoc[Int]">index</a> <span title="(y: (play.api.libs.iteratee.Iteratee[E,_$6], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]))(Int, (play.api.libs.iteratee.Iteratee[E,_$6], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]))">-&gt;</span> <span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,_$6])play.api.libs.iteratee.Iteratee[E,_$6]">Cont</a><span title="(x: play.api.libs.iteratee.Iteratee[E,_$6])ArrowAssoc[play.api.libs.iteratee.Iteratee[E,_$6]]" class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.$anonfun.$anonfun.k" title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,_$6]">k</a><span class="delimiter">)</span> <span title="(y: scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])(play.api.libs.iteratee.Iteratee[E,_$6], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])">-&gt;</span> <span title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]">p</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="keyword">case</span> Step.Error<span class="delimiter">(</span><a title="String" id="play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.$anonfun.$anonfun.msg">msg</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
                  <span title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]">p</span>.<span title="(v: play.api.libs.iteratee.Iteratee[E, _])p.type">success</span><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Error.apply" title="(msg: String, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Nothing]">Error</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.$anonfun.$anonfun.msg" title="String">msg</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#play.api.libs.iteratee.Concurrent.hub.step.commitDone" title="scala.concurrent.stm.Ref[List[Int]]">commitDone</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[List[Int]]">single</span>.<span title="(f: List[Int] =&gt; List[Int])Unit">transform</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.$anonfun.$anonfun.$anonfun.x$18" title="List[Int]">_</a> <span title="(elem: Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],Int,List[Int]])List[Int]">:+</span> <a href="#play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.index" title="Int">index</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>

            <span class="keyword">case</span> Step.Error<span class="delimiter">(</span><a title="String" id="play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.$anonfun.msg">msg</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span> =&gt;
              <span title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]">p</span>.<span title="(v: play.api.libs.iteratee.Iteratee[E, _])p.type">success</span><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Error.apply" title="(msg: String, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Nothing]">Error</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.$anonfun.msg" title="String">msg</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#play.api.libs.iteratee.Concurrent.hub.step.commitDone" title="scala.concurrent.stm.Ref[List[Int]]">commitDone</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[List[Int]]">single</span>.<span title="(f: List[Int] =&gt; List[Int])Unit">transform</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.$anonfun.$anonfun.x$19" title="List[Int]">_</a> <span title="(elem: Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],Int,List[Int]])List[Int]">:+</span> <a href="#play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.index" title="Int">index</a><span class="delimiter">)</span>
              <span title="scala.concurrent.Future.type">Future</span>.<span title="(result: Unit)scala.concurrent.Future[Unit]">successful</span><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>.<span title="(pf: PartialFunction[scala.util.Try[Unit],Any])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[Unit]">andThen</span> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[scala.util.Try[Unit],Any] with Serializable" id="play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
            <span class="keyword">case</span> Success<span class="delimiter">(</span><a title="Unit" id="play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun;$anonfun.isDefinedAt.a">a</a><span class="delimiter">)</span> =&gt; <a href="#play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun;$anonfun.isDefinedAt.a" title="Unit">a</a>
            <span class="keyword">case</span> Failure<span class="delimiter">(</span><a title="Throwable" id="play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun;$anonfun.isDefinedAt.e">e</a><span class="delimiter">)</span> =&gt; <span title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]">p</span>.<span title="(t: Throwable)p.type">failure</span><span title="Boolean(true)" class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun;$anonfun.isDefinedAt.e" title="Throwable">e</a><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<span title="(z: scala.concurrent.Future[Unit])(op: (scala.concurrent.Future[Unit], scala.concurrent.Future[Unit]) =&gt; scala.concurrent.Future[Unit])scala.concurrent.Future[Unit]">fold</span><span class="delimiter">(</span><span title="scala.concurrent.Future.type">Future</span>.<span title="(result: Unit)scala.concurrent.Future[Unit]">successful</span><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="scala.concurrent.Future[Unit]" id="play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.s">s</a>, <span title="scala.concurrent.Future[Unit]">p</span><span class="delimiter">)</span> =&gt; <a href="#play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.s" title="scala.concurrent.Future[Unit]">s</a>.<span title="(f: Unit =&gt; scala.concurrent.Future[Unit])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[Unit]">flatMap</span><span class="delimiter">(</span><a title="Unit" id="play.api.libs.iteratee.Concurrent.hub.step.ready.$anonfun.$anonfun.x$20">_</a> =&gt; <span title="scala.concurrent.Future[Unit]">p</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span> <span class="delimiter">}</span>

      <a href="Iteratee.scala.html#play.api.libs.iteratee.Iteratee" title="play.api.libs.iteratee.Iteratee.type">Iteratee</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Iteratee.flatten" title="(i: scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,Unit]])play.api.libs.iteratee.Iteratee[E,Unit]">flatten</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub.step.ready" title="scala.concurrent.Future[Unit]">ready</a>.<span title="(f: Unit =&gt; scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,Unit]])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,Unit]]">flatMap</span> <span class="delimiter">{</span> <a title="Unit" id="play.api.libs.iteratee.Concurrent.hub.step.$anonfun.x$21">_</a> =&gt;

        <span class="keyword">val</span> <a title="Boolean" id="play.api.libs.iteratee.Concurrent.hub.step.$anonfun.downToZero">downToZero</a> = <span title="(block: scala.concurrent.stm.InTxn =&gt; Boolean)(implicit mt: scala.concurrent.stm.MaybeTxn)Boolean">atomic</span> <span title="=&gt; scala.concurrent.stm.TxnUnknown.type" class="delimiter">{</span> <span class="keyword">implicit</span> <a title="scala.concurrent.stm.InTxn" id="play.api.libs.iteratee.Concurrent.hub.step.$anonfun.downToZero.$anonfun.txn">txn</a> =&gt;
          <span class="keyword">val</span> <a title="scala.collection.immutable.Map[Int,(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]" id="play.api.libs.iteratee.Concurrent.hub.step.$anonfun.downToZero.$anonfun.ready">ready</a> = <a href="#play.api.libs.iteratee.Concurrent.hub.step.commitReady" title="()(implicit txn: scala.concurrent.stm.InTxn)List[(Int, (play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]))]">commitReady</a><a href="#play.api.libs.iteratee.Concurrent.hub.step.$anonfun.downToZero.$anonfun.txn" title="scala.concurrent.stm.InTxn" class="delimiter">(</a><span class="delimiter">)</span>.<span title="(implicit ev: &lt;:&lt;[(Int, (play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])),(Int, (play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]))])scala.collection.immutable.Map[Int,(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">toMap</span>
          <a href="#play.api.libs.iteratee.Concurrent.hub.iteratees" title="scala.concurrent.stm.Ref[List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]">iteratees</a>.<span title="(f: List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])] =&gt; List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])])(implicit txn: scala.concurrent.stm.InTxn)Unit">transform</span><a href="#play.api.libs.iteratee.Concurrent.hub.step.$anonfun.downToZero.$anonfun.txn" title="scala.concurrent.stm.InTxn" class="delimiter">(</a><a href="#play.api.libs.iteratee.Concurrent.hub.step.commitReady" title="()(implicit txn: scala.concurrent.stm.InTxn)List[(Int, (play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]))]">commitReady</a><a href="#play.api.libs.iteratee.Concurrent.hub.step.$anonfun.downToZero.$anonfun.txn" title="scala.concurrent.stm.InTxn" class="delimiter">(</a><span class="delimiter">)</span>.<span title="(f: ((Int, (play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]))) =&gt; (play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]))(implicit bf: scala.collection.generic.CanBuildFrom[List[(Int, (play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]))],(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]),List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]])List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]),List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]" class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub.step.$anonfun.downToZero.$anonfun.$anonfun.$anonfun.x$22" title="(Int, (play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]))">_</a>.<span title="=&gt; (play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])">_2</span><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])])(implicit bf: scala.collection.generic.CanBuildFrom[List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])],(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]),List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]])List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">++</span> <a href="#play.api.libs.iteratee.Concurrent.hub.step.$anonfun.downToZero.$anonfun.$anonfun.x$23" title="List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">_</a><span class="delimiter">)</span>
          <span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub.step.interested" title="List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">interested</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#play.api.libs.iteratee.Concurrent.hub.iteratees" title="()(implicit txn: scala.concurrent.stm.InTxn)List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">iteratees</a><a href="#play.api.libs.iteratee.Concurrent.hub.step.$anonfun.downToZero.$anonfun.txn" title="scala.concurrent.stm.InTxn" class="delimiter">(</a><span class="delimiter">)</span>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&lt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>

        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="()play.api.libs.iteratee.Iteratee[E,Unit]" id="play.api.libs.iteratee.Concurrent.hub.step.$anonfun.result">result</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,Unit]">Iteratee</a><span class="delimiter">[</span>E, Unit<span class="delimiter">]</span> = <span title="play.api.libs.iteratee.Iteratee[E,Unit]" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub.step.in" title="play.api.libs.iteratee.Input[E]">in</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Input.EOF" title="play.api.libs.iteratee.Input.EOF.type">EOF</a> <span title="(x: Boolean)Boolean">||</span> <a href="#play.api.libs.iteratee.Concurrent.hub.closeFlag" title="Boolean">closeFlag</a><span class="delimiter">)</span> <a href="Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: Unit, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Unit]">Done</a><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>, <a href="Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Input.Empty" title="play.api.libs.iteratee.Input.Empty.type">Empty</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,Unit])play.api.libs.iteratee.Iteratee[E,Unit]">Cont</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub.step" title="(in: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Unit]">step</a><span class="delimiter">)</span>
        <span title="scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,Unit]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub.step.$anonfun.downToZero" title="Boolean">downToZero</a><span class="delimiter">)</span> <span title="(body: =&gt; Unit)(implicit execctx: scala.concurrent.ExecutionContext)scala.concurrent.Future[Unit]">Future</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub$default$2" title="()Unit">interestIsDownToZero</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub.pec" title="scala.concurrent.ExecutionContext">pec</a><span class="delimiter">)</span>.<span title="(f: Unit =&gt; play.api.libs.iteratee.Iteratee[E,Unit])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,Unit]]">map</span><span class="delimiter">(</span><a title="Unit" id="play.api.libs.iteratee.Concurrent.hub.step.$anonfun.$anonfun.x$24">_</a> =&gt; <a href="#play.api.libs.iteratee.Concurrent.hub.step.$anonfun.result" title="()play.api.libs.iteratee.Iteratee[E,Unit]">result</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="scala.concurrent.Future.type">Future</span>.<span title="(result: play.api.libs.iteratee.Iteratee[E,Unit])scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,Unit]]">successful</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub.step.$anonfun.result" title="()play.api.libs.iteratee.Iteratee[E,Unit]">result</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="#play.api.libs.iteratee.Concurrent.hub;$anon" title="play.api.libs.iteratee.Concurrent.Hub[E]{}" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.api.libs.iteratee.Concurrent.Hub[E]" id="play.api.libs.iteratee.Concurrent.hub;$anon">Hub</a><span class="delimiter">[</span>E<span class="delimiter">]</span> <span class="delimiter">{</span>

      <span class="keyword">def</span> <a title="()Boolean" id="play.api.libs.iteratee.Concurrent.hub;$anon.noCords">noCords</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#play.api.libs.iteratee.Concurrent.hub.iteratees" title="scala.concurrent.stm.Ref[List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]">iteratees</a>.<span title="()List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">single</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="=&gt; Boolean">isEmpty</span>

      <span class="keyword">def</span> <a title="()Unit" id="play.api.libs.iteratee.Concurrent.hub;$anon.close">close</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#play.api.libs.iteratee.Concurrent.hub.closeFlag" title="Boolean">closeFlag</a> = <span title="Boolean(true)" class="keyword">true</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="()Boolean" id="play.api.libs.iteratee.Concurrent.hub;$anon.closed">closed</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#play.api.libs.iteratee.Concurrent.hub.closeFlag" title="Boolean">closeFlag</a>

      <span class="keyword">val</span> <a title="scala.concurrent.stm.Ref[Option[scala.util.Try[play.api.libs.iteratee.Iteratee[E,Unit]]]]" id="play.api.libs.iteratee.Concurrent.hub;$anon.redeemed">redeemed</a> = <span title="(initialValue: Option[scala.util.Try[play.api.libs.iteratee.Iteratee[E,Unit]]])(implicit om: scala.reflect.OptManifest[Option[scala.util.Try[play.api.libs.iteratee.Iteratee[E,Unit]]]])scala.concurrent.stm.Ref[Option[scala.util.Try[play.api.libs.iteratee.Iteratee[E,Unit]]]]">Ref</span><span title="(clazz: Class[_], arg1: scala.reflect.OptManifest[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[Option[scala.util.Try[play.api.libs.iteratee.Iteratee[E,Unit]]]]" class="delimiter">(</span><span title="None.type">None</span>: <span title="Option[scala.util.Try[play.api.libs.iteratee.Iteratee[E,Unit]]]">Option</span><span class="delimiter">[</span>Try<span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E, Unit<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="()play.api.libs.iteratee.Enumerator[E]" id="play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord">getPatchCord</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon" title="play.api.libs.iteratee.Enumerator[E]" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.api.libs.iteratee.Enumerator[E]" id="play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon">Enumerator</a><span class="delimiter">[</span>E<span class="delimiter">]</span> <span class="delimiter">{</span>

        <span class="keyword">def</span> <a title="[A](it: play.api.libs.iteratee.Iteratee[E,A])scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,A]]" id="play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply">apply</a><span class="delimiter">[</span><a title="" id="play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[E,A]" id="play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.it">it</a>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,A]">Iteratee</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,A]]">Future</span><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]" id="play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.result">result</a> = <span title="[T]()scala.concurrent.Promise[T]">Promise</span><span title="()scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]" class="delimiter">[</span><a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,A]">Iteratee</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Boolean" id="play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.alreadyStarted">alreadyStarted</a> = <span title="=&gt; Boolean">!</span><a href="#play.api.libs.iteratee.Concurrent.hub.started" title="scala.concurrent.stm.Ref[Boolean]">started</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[Boolean]">single</span>.<span title="(before: Boolean, after: Boolean)Boolean">compareAndSet</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.alreadyStarted" title="Boolean">alreadyStarted</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,Unit]]" id="play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.promise">promise</a> = <span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub.e" title="play.api.libs.iteratee.Enumerator[E]">e</a> <a href="Enumerator.scala.html#play.api.libs.iteratee;Enumerator.|>>" title="(i: play.api.libs.iteratee.Iteratee[E,Unit])scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,Unit]]">|&gt;&gt;</a> <a href="Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,Unit])play.api.libs.iteratee.Iteratee[E,Unit]">Cont</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub.step" title="(in: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Unit]">step</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.promise" title="scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,Unit]]">promise</a>.<span title="(func: scala.util.Try[play.api.libs.iteratee.Iteratee[E,Unit]] =&gt; Unit)(implicit executor: scala.concurrent.ExecutionContext)Unit">onComplete</span> <span class="delimiter">{</span> <a title="scala.util.Try[play.api.libs.iteratee.Iteratee[E,Unit]]" id="play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.$anonfun.v">v</a> =&gt;
              <span class="keyword">val</span> <a title="List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]" id="play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.$anonfun.its">its</a> = <span title="(block: scala.concurrent.stm.InTxn =&gt; List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])])(implicit mt: scala.concurrent.stm.MaybeTxn)List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">atomic</span> <span title="=&gt; scala.concurrent.stm.TxnUnknown.type" class="delimiter">{</span> <span class="keyword">implicit</span> <a title="scala.concurrent.stm.InTxn" id="play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.$anonfun.its.$anonfun.txn">txn</a> =&gt;
                <a href="#play.api.libs.iteratee.Concurrent.hub;$anon.redeemed" title="(v: Option[scala.util.Try[play.api.libs.iteratee.Iteratee[E,Unit]]])(implicit txn: scala.concurrent.stm.InTxn)Unit">redeemed</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="(x: scala.util.Try[play.api.libs.iteratee.Iteratee[E,Unit]])Some[scala.util.Try[play.api.libs.iteratee.Iteratee[E,Unit]]]">Some</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.$anonfun.v" title="scala.util.Try[play.api.libs.iteratee.Iteratee[E,Unit]]">v</a><span class="delimiter">)</span>
                <a href="#play.api.libs.iteratee.Concurrent.hub.iteratees" title="scala.concurrent.stm.Ref[List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]">iteratees</a>.<span title="(v: List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])])(implicit txn: scala.concurrent.stm.InTxn)List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">swap</span><a href="#play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.$anonfun.its.$anonfun.txn" title="scala.concurrent.stm.InTxn" class="delimiter">(</a>List<span title="scala.collection.immutable.Nil.type" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <a href="#play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.$anonfun.v" title="scala.util.Try[play.api.libs.iteratee.Iteratee[E,Unit]]">v</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> Failure<span class="delimiter">(</span><span title="Throwable">e</span><span class="delimiter">)</span> =&gt;
                  <a href="#play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.$anonfun.its" title="List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">its</a>.<span title="(f: ((play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])) =&gt; scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])Unit">foreach</span> <a href="#play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.$anonfun.$anonfun.x0$29" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]" class="delimiter">{</a> <span class="keyword">case</span> <span class="delimiter">(</span>_, <span title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]">p</span><span class="delimiter">)</span> =&gt; <span title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]">p</span>.<span title="(t: Throwable)p.type">failure</span><span class="delimiter">(</span><span title="Throwable">e</span><span class="delimiter">)</span> <span class="delimiter">}</span>

                <span class="keyword">case</span> Success<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
                  <a href="#play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.$anonfun.its" title="List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">its</a>.<span title="(f: ((play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])) =&gt; scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])Unit">foreach</span> <a href="#play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.$anonfun.$anonfun.x0$30" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]" class="delimiter">{</a> <span class="keyword">case</span> <span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[E, Any]" id="play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.$anonfun.$anonfun.it">it</a>, <span title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]">p</span><span class="delimiter">)</span> =&gt; <span title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]">p</span>.<span title="(v: play.api.libs.iteratee.Iteratee[E, _])p.type">success</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.$anonfun.$anonfun.it" title="play.api.libs.iteratee.Iteratee[E, Any]">it</a><span class="delimiter">)</span> <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Option[scala.util.Try[play.api.libs.iteratee.Iteratee[E,Unit]]]" id="play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.finished">finished</a> = <span title="(block: scala.concurrent.stm.InTxn =&gt; Option[scala.util.Try[play.api.libs.iteratee.Iteratee[E,Unit]]])(implicit mt: scala.concurrent.stm.MaybeTxn)Option[scala.util.Try[play.api.libs.iteratee.Iteratee[E,Unit]]]">atomic</span> <span title="=&gt; scala.concurrent.stm.TxnUnknown.type" class="delimiter">{</span> <span class="keyword">implicit</span> <a title="scala.concurrent.stm.InTxn" id="play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.finished.$anonfun.txn">txn</a> =&gt;
            <a href="#play.api.libs.iteratee.Concurrent.hub;$anon.redeemed" title="()(implicit txn: scala.concurrent.stm.InTxn)Option[scala.util.Try[play.api.libs.iteratee.Iteratee[E,Unit]]]">redeemed</a><a href="#play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.finished.$anonfun.txn" title="scala.concurrent.stm.InTxn" class="delimiter">(</a><span class="delimiter">)</span> <span title="Option[scala.util.Try[play.api.libs.iteratee.Iteratee[E,Unit]]]" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="None.type">None</span> =&gt;
                <a href="#play.api.libs.iteratee.Concurrent.hub.iteratees" title="scala.concurrent.stm.Ref[List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]]">iteratees</a>.<span title="(f: List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])] =&gt; List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])])(implicit txn: scala.concurrent.stm.InTxn)Unit">transform</span><a href="#play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.finished.$anonfun.txn" title="scala.concurrent.stm.InTxn" class="delimiter">(</a><a href="#play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.finished.$anonfun.$anonfun.x$25" title="List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">_</a> <span title="(elem: (play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]))(implicit bf: scala.collection.generic.CanBuildFrom[List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])],(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]),List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]])List[(play.api.libs.iteratee.Iteratee[E, _], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])]">:+</span> <span class="delimiter">(</span><span title="(_1: play.api.libs.iteratee.Iteratee[E,A], _2: scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])(play.api.libs.iteratee.Iteratee[E,A], scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]])" class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.it" title="play.api.libs.iteratee.Iteratee[E,A]">it</a>, <span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.result" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">result</a>: <span title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">Promise</span><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]" class="delimiter">[</span><span title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E, _]]">Promise</span><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E, _<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="None.type">None</span>
              <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="scala.util.Try[play.api.libs.iteratee.Iteratee[E,Unit]]" id="play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.finished.$anonfun.notWaiting">notWaiting</a><span class="delimiter">)</span> =&gt; <span title="(x: scala.util.Try[play.api.libs.iteratee.Iteratee[E,Unit]])Some[scala.util.Try[play.api.libs.iteratee.Iteratee[E,Unit]]]">Some</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.finished.$anonfun.notWaiting" title="scala.util.Try[play.api.libs.iteratee.Iteratee[E,Unit]]">notWaiting</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.finished" title="Option[scala.util.Try[play.api.libs.iteratee.Iteratee[E,Unit]]]">finished</a>.<span title="(f: scala.util.Try[play.api.libs.iteratee.Iteratee[E,Unit]] =&gt; scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]])Unit">foreach</span> <a href="#play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.$anonfun.x0$31" title="result.type" class="delimiter">{</a>
            <span class="keyword">case</span> Success<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="#play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.result" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">result</a>.<span title="(v: play.api.libs.iteratee.Iteratee[E,A])result.type">success</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.it" title="play.api.libs.iteratee.Iteratee[E,A]">it</a><span class="delimiter">)</span>
            <span class="keyword">case</span> Failure<span class="delimiter">(</span><span title="Throwable">e</span><span class="delimiter">)</span> =&gt; <a href="#play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.result" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">result</a>.<span title="(t: Throwable)result.type">failure</span><span class="delimiter">(</span><span title="Throwable">e</span><span class="delimiter">)</span>
            <span class="keyword">case</span> _ =&gt; <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)RuntimeException" class="keyword">new</span> <span title="RuntimeException">RuntimeException</span><span class="delimiter">(</span><span title="String(&quot;should be either Redeemed or Thrown&quot;)" class="string">&quot;should be either Redeemed or Thrown&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#play.api.libs.iteratee.Concurrent.hub;$anon.getPatchCord;$anon.apply.result" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">result</a>.<span title="=&gt; scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,A]]">future</span>
        <span class="delimiter">}</span>

      <span class="delimiter">}</span>

    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Allows patching in enumerators to an iteratee.
   */</span>
  <span class="keyword">trait</span> <a title="trait PatchPanel[E] extends AnyRef" id="play.api.libs.iteratee.Concurrent;PatchPanel">PatchPanel</a><span class="delimiter">[</span><a title="" id="play.api.libs.iteratee.Concurrent;PatchPanel;E">E</a><span class="delimiter">]</span> <span class="delimiter">{</span>

    <span class="comment">/**
     * Patch in the given enumerator into the iteratee.
     *
     * @return Whether the enumerator was successfully patched in.  Will return false if the patch panel is closed.
     */</span>
    <span class="keyword">def</span> <a title="(e: play.api.libs.iteratee.Enumerator[E])Boolean" id="play.api.libs.iteratee.Concurrent;PatchPanel.patchIn">patchIn</a><span class="delimiter">(</span><a title="play.api.libs.iteratee.Enumerator[E]" id="play.api.libs.iteratee.Concurrent;PatchPanel.patchIn.e">e</a>: <a href="Enumerator.scala.html#play.api.libs.iteratee;Enumerator" title="play.api.libs.iteratee.Enumerator[E]">Enumerator</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span>

    <span class="comment">/**
     * Whether the patch panel is closed.
     *
     * The patch panel will become closed when the iteratee it is feeding is done or is error.
     */</span>
    <span class="keyword">def</span> <a title="()Boolean" id="play.api.libs.iteratee.Concurrent;PatchPanel.closed">closed</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * An enumerator that allows patching in enumerators to supply it with input.
   *
   * @param patcher A function that passes a patch panel whenever the enumerator is applied to an iteratee.
   * $paramEcSingle
   */</span>
  <span class="keyword">def</span> <a title="[E](patcher: play.api.libs.iteratee.Concurrent.PatchPanel[E] =&gt; Unit)(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Enumerator[E]" id="play.api.libs.iteratee.Concurrent.patchPanel">patchPanel</a><span class="delimiter">[</span><a title="" id="play.api.libs.iteratee.Concurrent.patchPanel;E">E</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Concurrent.PatchPanel[E] =&gt; Unit" id="play.api.libs.iteratee.Concurrent.patchPanel.patcher">patcher</a>: PatchPanel<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; Unit<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.concurrent.ExecutionContext" id="play.api.libs.iteratee.Concurrent.patchPanel.ec">ec</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span><span class="delimiter">)</span>: <a href="Enumerator.scala.html#play.api.libs.iteratee;Enumerator" title="play.api.libs.iteratee.Enumerator[E]">Enumerator</a><span class="delimiter">[</span>E<span class="delimiter">]</span> = <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon" title="play.api.libs.iteratee.Enumerator[E]{}" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.api.libs.iteratee.Enumerator[E]" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon">Enumerator</a><span class="delimiter">[</span>E<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.concurrent.ExecutionContext" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.pec">pec</a> = <a href="#play.api.libs.iteratee.Concurrent.patchPanel.ec" title="scala.concurrent.ExecutionContext">ec</a>.<span title="()scala.concurrent.ExecutionContext">prepare</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">import</span> scala.concurrent.stm._

    <span class="keyword">def</span> <a title="[A](it: play.api.libs.iteratee.Iteratee[E,A])scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,A]]" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply">apply</a><span class="delimiter">[</span><a title="" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[E,A]" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.it">it</a>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,A]">Iteratee</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,A]]">Future</span><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.result">result</a> = <span title="[T]()scala.concurrent.Promise[T]">Promise</span><span title="()scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]" class="delimiter">[</span><a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,A]">Iteratee</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Boolean" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.isClosed">isClosed</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>

      <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.result" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">result</a>.<span title="=&gt; scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,A]]">future</span>.<span title="(func: scala.util.Try[play.api.libs.iteratee.Iteratee[E,A]] =&gt; Unit)(implicit executor: scala.concurrent.ExecutionContext)Unit">onComplete</span><span class="delimiter">(</span><a title="scala.util.Try[play.api.libs.iteratee.Iteratee[E,A]]" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.$anonfun.x$26">_</a> =&gt; <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.isClosed" title="Boolean">isClosed</a> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(ref: scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]])play.api.libs.iteratee.Iteratee[E,Option[A]]" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.refIteratee">refIteratee</a><span class="delimiter">(</span><a title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.refIteratee.ref">ref</a>: <span title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]">Ref</span><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,Option[A]]">Iteratee</a><span class="delimiter">[</span>E, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Option[A]]]" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.refIteratee.next">next</a> = <span title="[T]()scala.concurrent.Promise[T]">Promise</span><span title="()scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Option[A]]]" class="delimiter">[</span><a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,Option[A]]">Iteratee</a><span class="delimiter">[</span>E, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="play.api.libs.iteratee.Iteratee[E,Option[A]]" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.refIteratee.current">current</a> = <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.refIteratee.ref" title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]">ref</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[play.api.libs.iteratee.Iteratee[E,Option[A]]]">single</span>.<span title="(v: play.api.libs.iteratee.Iteratee[E,Option[A]])play.api.libs.iteratee.Iteratee[E,Option[A]]">swap</span><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Iteratee" title="play.api.libs.iteratee.Iteratee.type">Iteratee</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Iteratee.flatten" title="(i: scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,Option[A]]])play.api.libs.iteratee.Iteratee[E,Option[A]]">flatten</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.refIteratee.next" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Option[A]]]">next</a>.<span title="=&gt; scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,Option[A]]]">future</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.refIteratee.current" title="play.api.libs.iteratee.Iteratee[E,Option[A]]">current</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee.pureFlatFold" title="(folder: play.api.libs.iteratee.Step[E,Option[A]] =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[E,Option[A]]">pureFlatFold</a> <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.refIteratee.$anonfun.x0$32" title="play.api.libs.iteratee.Iteratee[E,Option[A]]" class="delimiter">{</a>
          <span class="keyword">case</span> Step.Done<span class="delimiter">(</span><a title="Option[A]" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.refIteratee.$anonfun.a">a</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
            <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.refIteratee.$anonfun.a" title="Option[A]">a</a>.<span title="(f: A =&gt; scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]])Unit">foreach</span><span class="delimiter">(</span><a title="A" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.refIteratee.$anonfun.$anonfun.aa">aa</a> =&gt; <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.result" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">result</a>.<span title="(v: play.api.libs.iteratee.Iteratee[E,A])result.type">success</span><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: A, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,A]">Done</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.refIteratee.$anonfun.$anonfun.aa" title="A">aa</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.refIteratee.next" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Option[A]]]">next</a>.<span title="(v: play.api.libs.iteratee.Iteratee[E,Option[A]])next.type">success</span><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: Option[A], e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Option[A]]">Done</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.refIteratee.$anonfun.a" title="Option[A]">a</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: Option[A], e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Option[A]]">Done</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.refIteratee.$anonfun.a" title="Option[A]">a</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">case</span> Step.Cont<span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]]" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.refIteratee.$anonfun.k">k</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
            <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.refIteratee.next" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Option[A]]]">next</a>.<span title="(v: play.api.libs.iteratee.Iteratee[E,Option[A]])next.type">success</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.refIteratee.current" title="play.api.libs.iteratee.Iteratee[E,Option[A]]">current</a><span class="delimiter">)</span>
            <a href="Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]])play.api.libs.iteratee.Iteratee[E,Option[A]]">Cont</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step" title="(ref: scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]])(in: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Option[A]]">step</a><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.refIteratee.$anonfun.$anonfun.in" title="play.api.libs.iteratee.Input[E]" class="delimiter">(</a><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.refIteratee.ref" title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]">ref</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">case</span> Step.Error<span class="delimiter">(</span><a title="String" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.refIteratee.$anonfun.msg">msg</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
            <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.result" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">result</a>.<span title="(v: play.api.libs.iteratee.Iteratee[E,A])result.type">success</span><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Error.apply" title="(msg: String, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Nothing]">Error</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.refIteratee.$anonfun.msg" title="String">msg</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.refIteratee.next" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Option[A]]]">next</a>.<span title="(v: play.api.libs.iteratee.Iteratee[E,Option[A]])next.type">success</span><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Error.apply" title="(msg: String, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Nothing]">Error</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.refIteratee.$anonfun.msg" title="String">msg</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="Iteratee.scala.html#play.api.libs.iteratee.Error.apply" title="(msg: String, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Nothing]">Error</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.refIteratee.$anonfun.msg" title="String">msg</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span>

          <span class="delimiter">}</span>
        <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>

      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(ref: scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]])(in: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Option[A]]" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step">step</a><span class="delimiter">(</span><a title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.ref">ref</a>: <span title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]">Ref</span><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[E]" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.in">in</a>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Input" title="play.api.libs.iteratee.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,Option[A]]">Iteratee</a><span class="delimiter">[</span>E, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Option[A]]]" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.next">next</a> = <span title="[T]()scala.concurrent.Promise[T]">Promise</span><span title="()scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Option[A]]]" class="delimiter">[</span><a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,Option[A]]">Iteratee</a><span class="delimiter">[</span>E, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="play.api.libs.iteratee.Iteratee[E,Option[A]]" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.current">current</a> = <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.ref" title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]">ref</a>.<span title="=&gt; scala.concurrent.stm.Ref.View[play.api.libs.iteratee.Iteratee[E,Option[A]]]">single</span>.<span title="(v: play.api.libs.iteratee.Iteratee[E,Option[A]])play.api.libs.iteratee.Iteratee[E,Option[A]]">swap</span><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Iteratee" title="play.api.libs.iteratee.Iteratee.type">Iteratee</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Iteratee.flatten" title="(i: scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,Option[A]]])play.api.libs.iteratee.Iteratee[E,Option[A]]">flatten</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.next" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Option[A]]]">next</a>.<span title="=&gt; scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,Option[A]]]">future</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.current" title="play.api.libs.iteratee.Iteratee[E,Option[A]]">current</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee.pureFlatFold" title="(folder: play.api.libs.iteratee.Step[E,Option[A]] =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[E,Option[A]]">pureFlatFold</a> <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.$anonfun.x0$33" title="play.api.libs.iteratee.Iteratee[E,Option[A]]" class="delimiter">{</a>
          <span class="keyword">case</span> Step.Done<span class="delimiter">(</span><a title="Option[A]" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.$anonfun.a">a</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
            <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.next" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Option[A]]]">next</a>.<span title="(v: play.api.libs.iteratee.Iteratee[E,Option[A]])next.type">success</span><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: Option[A], e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Option[A]]">Done</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.$anonfun.a" title="Option[A]">a</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: Option[A], e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Option[A]]">Done</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.$anonfun.a" title="Option[A]">a</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">case</span> Step.Cont<span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]]" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.$anonfun.k">k</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="play.api.libs.iteratee.Iteratee[E,Option[A]]" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.$anonfun.n">n</a> = <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.$anonfun.k" title="(v1: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Option[A]]">k</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.in" title="play.api.libs.iteratee.Input[E]">in</a><span class="delimiter">)</span>
            <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.next" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Option[A]]]">next</a>.<span title="(v: play.api.libs.iteratee.Iteratee[E,Option[A]])next.type">success</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.$anonfun.n" title="play.api.libs.iteratee.Iteratee[E,Option[A]]">n</a><span class="delimiter">)</span>
            <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.$anonfun.n" title="play.api.libs.iteratee.Iteratee[E,Option[A]]">n</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee.pureFlatFold" title="(folder: play.api.libs.iteratee.Step[E,Option[A]] =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[E,Option[A]]">pureFlatFold</a> <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.$anonfun.$anonfun.x0$34" title="play.api.libs.iteratee.Iteratee[E,Option[A]]" class="delimiter">{</a>
              <span class="keyword">case</span> Step.Done<span class="delimiter">(</span><a title="Option[A]" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.$anonfun.$anonfun.a">a</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
                <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.$anonfun.$anonfun.a" title="Option[A]">a</a>.<span title="(f: A =&gt; scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]])Unit">foreach</span><span class="delimiter">(</span><a title="A" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.$anonfun.$anonfun.$anonfun.aa">aa</a> =&gt; <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.result" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">result</a>.<span title="(v: play.api.libs.iteratee.Iteratee[E,A])result.type">success</span><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: A, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,A]">Done</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.$anonfun.$anonfun.$anonfun.aa" title="A">aa</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: Option[A], e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Option[A]]">Done</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.$anonfun.$anonfun.a" title="Option[A]">a</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <span class="keyword">case</span> Step.Cont<span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]]" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.$anonfun.$anonfun.k">k</a><span class="delimiter">)</span> =&gt; <a href="Iteratee.scala.html#play.api.libs.iteratee.Cont.apply" title="(k: play.api.libs.iteratee.Input[E] =&gt; play.api.libs.iteratee.Iteratee[E,Option[A]])play.api.libs.iteratee.Iteratee[E,Option[A]]">Cont</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step" title="(ref: scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]])(in: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Option[A]]">step</a><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.$anonfun.$anonfun.$anonfun.in" title="play.api.libs.iteratee.Input[E]" class="delimiter">(</a><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.ref" title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]">ref</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> Step.Error<span class="delimiter">(</span><a title="String" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.$anonfun.$anonfun.msg">msg</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
                <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.result" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">result</a>.<span title="(v: play.api.libs.iteratee.Iteratee[E,A])result.type">success</span><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Error.apply" title="(msg: String, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Nothing]">Error</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.$anonfun.$anonfun.msg" title="String">msg</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="Iteratee.scala.html#play.api.libs.iteratee.Error.apply" title="(msg: String, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Nothing]">Error</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.$anonfun.$anonfun.msg" title="String">msg</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">case</span> Step.Error<span class="delimiter">(</span><a title="String" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.$anonfun.msg">msg</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
            <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.next" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,Option[A]]]">next</a>.<span title="(v: play.api.libs.iteratee.Iteratee[E,Option[A]])next.type">success</span><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Error.apply" title="(msg: String, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Nothing]">Error</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.$anonfun.msg" title="String">msg</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="Iteratee.scala.html#play.api.libs.iteratee.Error.apply" title="(msg: String, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,Nothing]">Error</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.step.$anonfun.msg" title="String">msg</a>, <span title="play.api.libs.iteratee.Input[E]">e</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span title="(body: =&gt; Unit)(implicit execctx: scala.concurrent.ExecutionContext)scala.concurrent.Future[Unit]">Future</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel.patcher" title="(v1: play.api.libs.iteratee.Concurrent.PatchPanel[E])Unit">patcher</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply;$anon" title="play.api.libs.iteratee.Concurrent.PatchPanel[E]{}" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.api.libs.iteratee.Concurrent.PatchPanel[E]" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply;$anon">PatchPanel</a><span class="delimiter">[</span>E<span class="delimiter">]</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.concurrent.stm.Ref[scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]]" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply;$anon.ref">ref</a>: <span title="scala.concurrent.stm.Ref[scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]]">Ref</span><span class="delimiter">[</span>Ref<span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>E, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span> = <span title="(initialValue: scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]])(implicit om: scala.reflect.OptManifest[scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]])scala.concurrent.stm.Ref[scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]]">Ref</span><span title="(clazz: Class[_], arg1: scala.reflect.OptManifest[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]]" class="delimiter">(</span><span title="(initialValue: play.api.libs.iteratee.Iteratee[E,Option[A]])(implicit om: scala.reflect.OptManifest[play.api.libs.iteratee.Iteratee[E,Option[A]]])scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]">Ref</span><span title="(clazz: Class[_], arg1: scala.reflect.OptManifest[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[play.api.libs.iteratee.Iteratee[E,Option[A]]]" class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.it" title="play.api.libs.iteratee.Iteratee[E,A]">it</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee.map" title="(f: A =&gt; Some[A])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[E,Some[A]]">map</a><span class="delimiter">(</span><span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply;$anon.ref.$anonfun.x$27" title="A">_</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="()Boolean" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply;$anon.closed">closed</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.isClosed" title="Boolean">isClosed</a>

        <span class="keyword">def</span> <a title="(e: play.api.libs.iteratee.Enumerator[E])Boolean" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply;$anon.patchIn">patchIn</a><span class="delimiter">(</span><a title="play.api.libs.iteratee.Enumerator[E]" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply;$anon.patchIn.e">e</a>: <a href="Enumerator.scala.html#play.api.libs.iteratee;Enumerator" title="play.api.libs.iteratee.Enumerator[E]">Enumerator</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
          <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply;$anon.closed" title="()Boolean">closed</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply;$anon.patchIn.newRef">newRef</a> = <span title="(block: scala.concurrent.stm.InTxn =&gt; scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]])(implicit mt: scala.concurrent.stm.MaybeTxn)scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]">atomic</span> <span title="=&gt; scala.concurrent.stm.TxnUnknown.type" class="delimiter">{</span> <span class="keyword">implicit</span> <a title="scala.concurrent.stm.InTxn" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply;$anon.patchIn.newRef.$anonfun.txn">txn</a> =&gt;
              <span class="keyword">val</span> <a title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply;$anon.patchIn.newRef.$anonfun.enRef">enRef</a> = <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply;$anon.ref" title="()(implicit txn: scala.concurrent.stm.InTxn)scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]">ref</a><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply;$anon.patchIn.newRef.$anonfun.txn" title="scala.concurrent.stm.InTxn" class="delimiter">(</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="play.api.libs.iteratee.Iteratee[E,Option[A]]" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply;$anon.patchIn.newRef.$anonfun.it">it</a> = <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply;$anon.patchIn.newRef.$anonfun.enRef" title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]">enRef</a>.<span title="(v: play.api.libs.iteratee.Iteratee[E,Option[A]])(implicit txn: scala.concurrent.stm.InTxn)play.api.libs.iteratee.Iteratee[E,Option[A]]">swap</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply;$anon.patchIn.newRef.$anonfun.txn" title="scala.concurrent.stm.InTxn" class="delimiter">(</a><a href="Iteratee.scala.html#play.api.libs.iteratee.Done.apply" title="(a: None.type, e: play.api.libs.iteratee.Input[E])play.api.libs.iteratee.Iteratee[E,None.type]">Done</a><span class="delimiter">(</span><span title="None.type">None</span>, <a href="Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Input.Empty" title="play.api.libs.iteratee.Input.Empty.type">Empty</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply;$anon.patchIn.newRef.$anonfun.newRef">newRef</a> = <span title="(initialValue: play.api.libs.iteratee.Iteratee[E,Option[A]])(implicit om: scala.reflect.OptManifest[play.api.libs.iteratee.Iteratee[E,Option[A]]])scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]">Ref</span><span title="(clazz: Class[_], arg1: scala.reflect.OptManifest[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[play.api.libs.iteratee.Iteratee[E,Option[A]]]" class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply;$anon.patchIn.newRef.$anonfun.it" title="play.api.libs.iteratee.Iteratee[E,Option[A]]">it</a><span class="delimiter">)</span>
              <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply;$anon.ref" title="(v: scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]])(implicit txn: scala.concurrent.stm.InTxn)Unit">ref</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply;$anon.patchIn.newRef.$anonfun.newRef" title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]">newRef</a>
              <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply;$anon.patchIn.newRef.$anonfun.newRef" title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]">newRef</a>
            <span class="delimiter">}</span>
            <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply;$anon.patchIn.e" title="play.api.libs.iteratee.Enumerator[E]">e</a> <a href="Enumerator.scala.html#play.api.libs.iteratee;Enumerator.|>>" title="(i: play.api.libs.iteratee.Iteratee[E,Option[A]])scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,Option[A]]]">|&gt;&gt;</a> <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.refIteratee" title="(ref: scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]])play.api.libs.iteratee.Iteratee[E,Option[A]]">refIteratee</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply;$anon.patchIn.newRef" title="scala.concurrent.stm.Ref[play.api.libs.iteratee.Iteratee[E,Option[A]]]">newRef</a><span class="delimiter">)</span> <span class="comment">//TODO maybe do something if the enumerator is done, maybe not</span>
            <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.pec" title="=&gt; scala.concurrent.ExecutionContext">pec</a><span class="delimiter">)</span>.<span title="(f: Unit =&gt; scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,A]])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,A]]">flatMap</span><span class="delimiter">(</span><a title="Unit" id="play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.$anonfun.x$28">_</a> =&gt; <a href="#play.api.libs.iteratee.Concurrent.patchPanel;$anon.apply.result" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[E,A]]">result</a>.<span title="=&gt; scala.concurrent.Future[play.api.libs.iteratee.Iteratee[E,A]]">future</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>

    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Create a joined iteratee enumerator pair.
   *
   * When the enumerator is applied to an iteratee, the iteratee subsequently consumes whatever the iteratee in the pair
   * is applied to.  Consequently the enumerator is &quot;one shot&quot;, applying it to subsequent iteratees will throw an
   * exception.
   */</span>
  <span class="keyword">def</span> <a title="[A]=&gt; (play.api.libs.iteratee.Iteratee[A,Unit], play.api.libs.iteratee.Enumerator[A])" id="play.api.libs.iteratee.Concurrent.joined">joined</a><span class="delimiter">[</span><a title="" id="play.api.libs.iteratee.Concurrent.joined;A">A</a><span class="delimiter">]</span>: <span title="(play.api.libs.iteratee.Iteratee[A,Unit], play.api.libs.iteratee.Enumerator[A])" class="delimiter">(</span>Iteratee<span class="delimiter">[</span>A, Unit<span class="delimiter">]</span>, Enumerator<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[A,Unit]]" id="play.api.libs.iteratee.Concurrent.joined.promisedIteratee">promisedIteratee</a> = <span title="[T]()scala.concurrent.Promise[T]">Promise</span><span title="()scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[A,Unit]]" class="delimiter">[</span><a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[A,Unit]">Iteratee</a><span class="delimiter">[</span>A, Unit<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="enumerator extends AnyRef with play.api.libs.iteratee.Enumerator[A]" id="play.api.libs.iteratee.Concurrent.joined.enumerator">enumerator</a> = <a href="#play.api.libs.iteratee.Concurrent.joined.enumerator;$anon" title="play.api.libs.iteratee.Enumerator[A]" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.api.libs.iteratee.Enumerator[A]" id="play.api.libs.iteratee.Concurrent.joined.enumerator;$anon">Enumerator</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="[B](i: play.api.libs.iteratee.Iteratee[A,B])scala.concurrent.Future[play.api.libs.iteratee.Iteratee[A,B]]" id="play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply">apply</a><span class="delimiter">[</span><a title="" id="play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply;B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[A,B]" id="play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.i">i</a>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[A,B]">Iteratee</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[A,B]]" id="play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.doneIteratee">doneIteratee</a> = <span title="[T]()scala.concurrent.Promise[T]">Promise</span><span title="()scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[A,B]]" class="delimiter">[</span><a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[A,B]">Iteratee</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

        <span class="comment">// Equivalent to map, but allows us to handle failures</span>
        <span class="keyword">def</span> <a title="(delegate: play.api.libs.iteratee.Iteratee[A,B])play.api.libs.iteratee.Iteratee[A,B]" id="play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap">wrap</a><span class="delimiter">(</span><a title="play.api.libs.iteratee.Iteratee[A,B]" id="play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap.delegate">delegate</a>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[A,B]">Iteratee</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[A,B]">Iteratee</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap;$anon" title="play.api.libs.iteratee.Iteratee[A,B]" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.api.libs.iteratee.Iteratee[A,B]" id="play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap;$anon">Iteratee</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> <span class="delimiter">{</span>
          <span class="keyword">def</span> <a title="[C](folder: play.api.libs.iteratee.Step[A,B] =&gt; scala.concurrent.Future[C])(implicit ec: scala.concurrent.ExecutionContext)scala.concurrent.Future[C]" id="play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap;$anon.fold">fold</a><span class="delimiter">[</span><a title="" id="play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap;$anon.fold;C">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Step[A,B] =&gt; scala.concurrent.Future[C]" id="play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap;$anon.fold.folder">folder</a>: <span class="delimiter">(</span>Step<span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Future<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.concurrent.ExecutionContext" id="play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap;$anon.fold.ec">ec</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="scala.concurrent.Future[C]" id="play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap;$anon.fold.toReturn">toReturn</a> = <a href="#play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap.delegate" title="play.api.libs.iteratee.Iteratee[A,B]">delegate</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee.fold" title="(folder: play.api.libs.iteratee.Step[A,B] =&gt; scala.concurrent.Future[C])(implicit ec: scala.concurrent.ExecutionContext)scala.concurrent.Future[C]">fold</a> <a href="#play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap;$anon.fold.toReturn.$anonfun.x0$35" title="scala.concurrent.Future[C]" class="delimiter">{</a>
              <span class="keyword">case</span> <a title="play.api.libs.iteratee.Step.Done[B,A]" id="play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap;$anon.fold.toReturn.$anonfun.done">done</a> @ Step.Done<span class="delimiter">(</span><a title="B" id="play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap;$anon.fold.toReturn.$anonfun.a">a</a>, <a title="play.api.libs.iteratee.Input[A]" id="play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap;$anon.fold.toReturn.$anonfun.in">in</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
                <a href="#play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.doneIteratee" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[A,B]]">doneIteratee</a>.<span title="(v: play.api.libs.iteratee.Iteratee[A,B])doneIteratee.type">success</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap;$anon.fold.toReturn.$anonfun.done" title="play.api.libs.iteratee.Step.Done[B,A]">done</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee;Step.it" title="=&gt; play.api.libs.iteratee.Iteratee[A,B]">it</a><span class="delimiter">)</span>
                <a href="#play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap;$anon.fold.folder" title="(v1: play.api.libs.iteratee.Step[A,B])scala.concurrent.Future[C]">folder</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap;$anon.fold.toReturn.$anonfun.done" title="play.api.libs.iteratee.Step.Done[B,A]">done</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <span class="keyword">case</span> Step.Cont<span class="delimiter">(</span><a title="play.api.libs.iteratee.Input[A] =&gt; play.api.libs.iteratee.Iteratee[A,B]" id="play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap;$anon.fold.toReturn.$anonfun.k">k</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
                <a href="#play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap;$anon.fold.folder" title="(v1: play.api.libs.iteratee.Step[A,B])scala.concurrent.Future[C]">folder</a><span class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Step" title="play.api.libs.iteratee.Step.type">Step</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Step;Cont" title="(k: play.api.libs.iteratee.Input[A] =&gt; play.api.libs.iteratee.Iteratee[A,B])play.api.libs.iteratee.Step.Cont[A,B]">Cont</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap;$anon.fold.toReturn.$anonfun.k" title="play.api.libs.iteratee.Input[A] =&gt; play.api.libs.iteratee.Iteratee[A,B]">k</a>.<span title="(g: play.api.libs.iteratee.Iteratee[A,B] =&gt; play.api.libs.iteratee.Iteratee[A,B])play.api.libs.iteratee.Input[A] =&gt; play.api.libs.iteratee.Iteratee[A,B]">andThen</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap" title="(delegate: play.api.libs.iteratee.Iteratee[A,B])play.api.libs.iteratee.Iteratee[A,B]">wrap</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <span class="keyword">case</span> <a title="play.api.libs.iteratee.Step[A,B]" id="play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap;$anon.fold.toReturn.$anonfun.err">err</a> =&gt; <a href="#play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap;$anon.fold.folder" title="(v1: play.api.libs.iteratee.Step[A,B])scala.concurrent.Future[C]">folder</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap;$anon.fold.toReturn.$anonfun.err" title="play.api.libs.iteratee.Step[A,B]">err</a><span class="delimiter">)</span>
            <span class="delimiter">}</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap;$anon.fold.ec" title="scala.concurrent.ExecutionContext">ec</a><span class="delimiter">)</span>
            <a href="#play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap;$anon.fold.toReturn" title="scala.concurrent.Future[C]">toReturn</a>.<span title="(callback: PartialFunction[Throwable,scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[A,B]]])(implicit executor: scala.concurrent.ExecutionContext)Unit">onFailure</span> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[Throwable,doneIteratee.type] with Serializable" id="play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap;$anon.fold;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
              <span class="keyword">case</span> <a title="Throwable" id="play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap;$anon.fold;$anonfun.isDefinedAt.e">e</a> =&gt; <a href="#play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.doneIteratee" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[A,B]]">doneIteratee</a>.<span title="(t: Throwable)doneIteratee.type">failure</span><span title="Boolean(true)" class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap;$anon.fold;$anonfun.isDefinedAt.e" title="Throwable">e</a><span class="delimiter">)</span>
            <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>
            <a href="#play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap;$anon.fold.toReturn" title="scala.concurrent.Future[C]">toReturn</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span title="scala.concurrent.Future[play.api.libs.iteratee.Iteratee[A,B]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.joined.promisedIteratee" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[A,Unit]]">promisedIteratee</a>.<span title="(value: play.api.libs.iteratee.Iteratee[A,Unit])Boolean">trySuccess</span><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.wrap" title="(delegate: play.api.libs.iteratee.Iteratee[A,B])play.api.libs.iteratee.Iteratee[A,B]">wrap</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.i" title="play.api.libs.iteratee.Iteratee[A,B]">i</a><span class="delimiter">)</span>.<a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee.map" title="(f: B =&gt; Unit)(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[A,Unit]">map</a><span class="delimiter">(</span><a title="B" id="play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.$anonfun.x$29">_</a> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#play.api.libs.iteratee.Concurrent.joined.enumerator;$anon.apply.doneIteratee" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[A,B]]">doneIteratee</a>.<span title="=&gt; scala.concurrent.Future[play.api.libs.iteratee.Iteratee[A,B]]">future</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalStateException" class="keyword">new</span> <span title="IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><span title="String(&quot;Joined enumerator may only be applied once&quot;)" class="string">&quot;Joined enumerator may only be applied once&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span title="(_1: play.api.libs.iteratee.Iteratee[A,Unit], _2: play.api.libs.iteratee.Enumerator[A])(play.api.libs.iteratee.Iteratee[A,Unit], play.api.libs.iteratee.Enumerator[A])" class="delimiter">(</span><a href="Iteratee.scala.html#play.api.libs.iteratee.Iteratee" title="play.api.libs.iteratee.Iteratee.type">Iteratee</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee.Iteratee.flatten" title="(i: scala.concurrent.Future[play.api.libs.iteratee.Iteratee[A,Unit]])play.api.libs.iteratee.Iteratee[A,Unit]">flatten</a><span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.joined.promisedIteratee" title="scala.concurrent.Promise[play.api.libs.iteratee.Iteratee[A,Unit]]">promisedIteratee</a>.<span title="=&gt; scala.concurrent.Future[play.api.libs.iteratee.Iteratee[A,Unit]]">future</span><span class="delimiter">)</span>, <a href="#play.api.libs.iteratee.Concurrent.joined.enumerator" title="enumerator extends AnyRef with play.api.libs.iteratee.Enumerator[A]">enumerator</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Run the enumerator, and produce the remaining enumerator as part the result.
   *
   * The result will be the result of the iteratee, and an enumerator containing the remaining input.
   */</span>
  <span class="keyword">def</span> <a title="[E, A](enumerator: play.api.libs.iteratee.Enumerator[E], iteratee: play.api.libs.iteratee.Iteratee[E,A])scala.concurrent.Future[(A, play.api.libs.iteratee.Enumerator[E])]" id="play.api.libs.iteratee.Concurrent.runPartial">runPartial</a><span class="delimiter">[</span><a title="" id="play.api.libs.iteratee.Concurrent.runPartial;E">E</a>, <a title="" id="play.api.libs.iteratee.Concurrent.runPartial;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.iteratee.Enumerator[E]" id="play.api.libs.iteratee.Concurrent.runPartial.enumerator">enumerator</a>: <a href="Enumerator.scala.html#play.api.libs.iteratee;Enumerator" title="play.api.libs.iteratee.Enumerator[E]">Enumerator</a><span class="delimiter">[</span>E<span class="delimiter">]</span>, <a title="play.api.libs.iteratee.Iteratee[E,A]" id="play.api.libs.iteratee.Concurrent.runPartial.iteratee">iteratee</a>: <a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee" title="play.api.libs.iteratee.Iteratee[E,A]">Iteratee</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scala.concurrent.Future[(A, play.api.libs.iteratee.Enumerator[E])]">Future</span><span class="delimiter">[</span><span class="delimiter">(</span>A, Enumerator<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.concurrent.Promise[(A, play.api.libs.iteratee.Enumerator[E])]" id="play.api.libs.iteratee.Concurrent.runPartial.result">result</a> = <span title="[T]()scala.concurrent.Promise[T]">Promise</span><span title="()scala.concurrent.Promise[(A, play.api.libs.iteratee.Enumerator[E])]" class="delimiter">[</span><span title="(A, play.api.libs.iteratee.Enumerator[E])" class="delimiter">(</span>A, Enumerator<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.runPartial.enumerator" title="play.api.libs.iteratee.Enumerator[E]">enumerator</a> <a href="Enumerator.scala.html#play.api.libs.iteratee;Enumerator.|>>>" title="(i: play.api.libs.iteratee.Iteratee[E,Unit])scala.concurrent.Future[Unit]">|&gt;&gt;&gt;</a> <a href="#play.api.libs.iteratee.Concurrent.runPartial.iteratee" title="play.api.libs.iteratee.Iteratee[E,A]">iteratee</a>.<a href="Iteratee.scala.html#play.api.libs.iteratee;Iteratee.flatMap" title="(f: A =&gt; play.api.libs.iteratee.Iteratee[E,Unit])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Iteratee[E,Unit]">flatMap</a> <span class="delimiter">{</span> <a title="A" id="play.api.libs.iteratee.Concurrent.runPartial.$anonfun.a">a</a> =&gt;
      <span class="keyword">val</span> <a href="#play.api.libs.iteratee.Concurrent.runPartial.$anonfun.consumeRemaining" title="(play.api.libs.iteratee.Iteratee[E,Unit], play.api.libs.iteratee.Enumerator[E])" class="delimiter">(</a><a href="#play.api.libs.iteratee.Concurrent.runPartial.$anonfun.x$30" title="play.api.libs.iteratee.Iteratee[E,Unit]" id="play.api.libs.iteratee.Concurrent.runPartial.$anonfun.consumeRemaining">consumeRemaining</a>, <a href="#play.api.libs.iteratee.Concurrent.runPartial.$anonfun.x$30" title="play.api.libs.iteratee.Enumerator[E]" id="play.api.libs.iteratee.Concurrent.runPartial.$anonfun.remaining">remaining</a><span class="delimiter">)</span> = <a href="#play.api.libs.iteratee.Concurrent" title="play.api.libs.iteratee.Concurrent.type">Concurrent</a>.<a href="#play.api.libs.iteratee.Concurrent.joined" title="[A]=&gt; (play.api.libs.iteratee.Iteratee[A,Unit], play.api.libs.iteratee.Enumerator[A])">joined</a><span title="(play.api.libs.iteratee.Iteratee[E,Unit], play.api.libs.iteratee.Enumerator[E])" class="delimiter">[</span><a href="#play.api.libs.iteratee.Concurrent.runPartial;E" title="E">E</a><span class="delimiter">]</span>
      <a href="#play.api.libs.iteratee.Concurrent.runPartial.result" title="scala.concurrent.Promise[(A, play.api.libs.iteratee.Enumerator[E])]">result</a>.<span title="(v: (A, play.api.libs.iteratee.Enumerator[E]))result.type">success</span><span class="delimiter">(</span><span title="(_1: A, _2: play.api.libs.iteratee.Enumerator[E])(A, play.api.libs.iteratee.Enumerator[E])" class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.runPartial.$anonfun.a" title="A">a</a>, <a href="#play.api.libs.iteratee.Concurrent.runPartial.$anonfun.remaining" title="play.api.libs.iteratee.Enumerator[E]">remaining</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#play.api.libs.iteratee.Concurrent.runPartial.$anonfun.consumeRemaining" title="play.api.libs.iteratee.Iteratee[E,Unit]">consumeRemaining</a>
    <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(callback: PartialFunction[Throwable,Boolean])(implicit executor: scala.concurrent.ExecutionContext)Unit">onFailure</span> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[Throwable,Boolean] with Serializable" id="play.api.libs.iteratee.Concurrent.runPartial;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
      <span class="keyword">case</span> <a title="Throwable" id="play.api.libs.iteratee.Concurrent.runPartial;$anonfun.isDefinedAt.e">e</a> =&gt; <a href="#play.api.libs.iteratee.Concurrent.runPartial.result" title="scala.concurrent.Promise[(A, play.api.libs.iteratee.Enumerator[E])]">result</a>.<span title="(t: Throwable)Boolean">tryFailure</span><span title="Boolean(true)" class="delimiter">(</span><a href="#play.api.libs.iteratee.Concurrent.runPartial;$anonfun.isDefinedAt.e" title="Throwable">e</a><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">(</span><a href="Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.defaultExecutionContext" title="=&gt; scala.concurrent.ExecutionContext">dec</a><span class="delimiter">)</span>

    <a href="#play.api.libs.iteratee.Concurrent.runPartial.result" title="scala.concurrent.Promise[(A, play.api.libs.iteratee.Enumerator[E])]">result</a>.<span title="=&gt; scala.concurrent.Future[(A, play.api.libs.iteratee.Enumerator[E])]">future</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
