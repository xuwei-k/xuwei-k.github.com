<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>play-akka-http-server-experimental/play/core/server/akkahttp/ModelConversion.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> play.core.server.akkahttp

<span class="keyword">import</span> akka.http.scaladsl.model._
<span class="keyword">import</span> akka.http.scaladsl.model.ContentType
<span class="keyword">import</span> akka.http.scaladsl.model.headers._
<span class="keyword">import</span> akka.stream.FlowMaterializer
<span class="keyword">import</span> akka.stream.scaladsl.Source
<span class="keyword">import</span> akka.util.ByteString
<span class="keyword">import</span> java.net.InetSocketAddress
<span class="keyword">import</span> org.reactivestreams.Publisher
<span class="keyword">import</span> play.api.Logger
<span class="keyword">import</span> play.api.http.<a href="../../../../../play/play/api/http/StandardValues.scala.html#play.api.http.HeaderNames" title="play.api.http.HeaderNames.type">HeaderNames</a>._
<span class="keyword">import</span> play.api.libs.iteratee._
<span class="keyword">import</span> play.api.libs.streams.Streams
<span class="keyword">import</span> play.api.mvc._
<span class="keyword">import</span> play.core.server.common.<span class="delimiter">{</span> ForwardedHeaderHandler, ServerRequestUtils, ServerResultUtils <span class="delimiter">}</span>
<span class="keyword">import</span> scala.collection.immutable
<span class="keyword">import</span> scala.concurrent.Future

<span class="comment">/**
 * Conversions between Akka's and Play's HTTP model objects.
 */</span>
<span class="keyword">private</span><span class="delimiter">[</span>akkahttp<span class="delimiter">]</span> <span class="keyword">class</span> <a title="class ModelConversion extends AnyRef" id="play.core.server.akkahttp;ModelConversion">ModelConversion</a><a href="#play.core.server.akkahttp;ModelConversion" title="play.core.server.akkahttp.ModelConversion" class="delimiter">(</a><a title="play.core.server.common.ForwardedHeaderHandler" id="play.core.server.akkahttp;ModelConversion.forwardedHeaderHandler">forwardedHeaderHandler</a>: <a href="../../../../../play-server/play/core/server/common/ForwardedHeaderHandler.scala.html#play.core.server.common;ForwardedHeaderHandler" title="play.core.server.common.ForwardedHeaderHandler">ForwardedHeaderHandler</a><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="play.api.Logger" id="play.core.server.akkahttp;ModelConversion.logger">logger</a> = <a href="../../../../../play/play/api/Logger.scala.html#play.api.Logger.apply(1f619881c1)" title="(clazz: Class[?0])play.api.Logger">Logger</a><span class="delimiter">(</span><a href="#play.core.server.akkahttp;ModelConversion" title="()Class[_]">getClass</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Convert an Akka `HttpRequest` to a `RequestHeader` and an `Eumerator`
   * for its body.
   */</span>
  <span class="keyword">def</span> <a title="(requestId: Long, remoteAddress: java.net.InetSocketAddress, secureProtocol: Boolean, request: akka.http.scaladsl.model.HttpRequest)(implicit fm: akka.stream.FlowMaterializer)(play.api.mvc.RequestHeader, play.api.libs.iteratee.Enumerator[Array[Byte]])" id="play.core.server.akkahttp;ModelConversion.convertRequest">convertRequest</a><span class="delimiter">(</span>
    <a title="Long" id="play.core.server.akkahttp;ModelConversion.convertRequest.requestId">requestId</a>: <span title="Long">Long</span>,
    <a title="java.net.InetSocketAddress" id="play.core.server.akkahttp;ModelConversion.convertRequest.remoteAddress">remoteAddress</a>: <span title="java.net.InetSocketAddress">InetSocketAddress</span>,
    <a title="Boolean" id="play.core.server.akkahttp;ModelConversion.convertRequest.secureProtocol">secureProtocol</a>: <span title="Boolean">Boolean</span>,
    <a title="akka.http.scaladsl.model.HttpRequest" id="play.core.server.akkahttp;ModelConversion.convertRequest.request">request</a>: <span title="akka.http.scaladsl.model.HttpRequest">HttpRequest</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="akka.stream.FlowMaterializer" id="play.core.server.akkahttp;ModelConversion.convertRequest.fm">fm</a>: <span title="akka.stream.FlowMaterializer">FlowMaterializer</span><span class="delimiter">)</span>: <span title="(play.api.mvc.RequestHeader, play.api.libs.iteratee.Enumerator[Array[Byte]])" class="delimiter">(</span>RequestHeader, Enumerator<span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(_1: play.api.mvc.RequestHeader, _2: play.api.libs.iteratee.Enumerator[Array[Byte]])(play.api.mvc.RequestHeader, play.api.libs.iteratee.Enumerator[Array[Byte]])" class="delimiter">(</span>
      <a href="#play.core.server.akkahttp;ModelConversion.convertRequestHeader" title="(requestId: Long, remoteAddress: java.net.InetSocketAddress, secureProtocol: Boolean, request: akka.http.scaladsl.model.HttpRequest)play.api.mvc.RequestHeader">convertRequestHeader</a><span class="delimiter">(</span><a href="#play.core.server.akkahttp;ModelConversion.convertRequest.requestId" title="Long">requestId</a>, <a href="#play.core.server.akkahttp;ModelConversion.convertRequest.remoteAddress" title="java.net.InetSocketAddress">remoteAddress</a>, <a href="#play.core.server.akkahttp;ModelConversion.convertRequest.secureProtocol" title="Boolean">secureProtocol</a>, <a href="#play.core.server.akkahttp;ModelConversion.convertRequest.request" title="akka.http.scaladsl.model.HttpRequest">request</a><span class="delimiter">)</span>,
      <a href="#play.core.server.akkahttp;ModelConversion.convertRequestBody" title="(request: akka.http.scaladsl.model.HttpRequest)(implicit fm: akka.stream.FlowMaterializer)play.api.libs.iteratee.Enumerator[Array[Byte]]">convertRequestBody</a><a href="#play.core.server.akkahttp;ModelConversion.convertRequest.fm" title="akka.stream.FlowMaterializer" class="delimiter">(</a><a href="#play.core.server.akkahttp;ModelConversion.convertRequest.request" title="akka.http.scaladsl.model.HttpRequest">request</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Convert an Akka `HttpRequest` to a `RequestHeader`.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(requestId: Long, remoteAddress: java.net.InetSocketAddress, secureProtocol: Boolean, request: akka.http.scaladsl.model.HttpRequest)play.api.mvc.RequestHeader" id="play.core.server.akkahttp;ModelConversion.convertRequestHeader">convertRequestHeader</a><span class="delimiter">(</span>
    <a title="Long" id="play.core.server.akkahttp;ModelConversion.convertRequestHeader.requestId">requestId</a>: <span title="Long">Long</span>,
    <a title="java.net.InetSocketAddress" id="play.core.server.akkahttp;ModelConversion.convertRequestHeader.remoteAddress">remoteAddress</a>: <span title="java.net.InetSocketAddress">InetSocketAddress</span>,
    <a title="Boolean" id="play.core.server.akkahttp;ModelConversion.convertRequestHeader.secureProtocol">secureProtocol</a>: <span title="Boolean">Boolean</span>,
    <a title="akka.http.scaladsl.model.HttpRequest" id="play.core.server.akkahttp;ModelConversion.convertRequestHeader.request">request</a>: <span title="akka.http.scaladsl.model.HttpRequest">HttpRequest</span><span class="delimiter">)</span>: <a href="../../../../../play/play/api/mvc/Http.scala.html#play.api.mvc;RequestHeader" title="play.api.mvc.RequestHeader">RequestHeader</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="String" id="play.core.server.akkahttp;ModelConversion.convertRequestHeader.remoteHostAddress">remoteHostAddress</a> = <a href="#play.core.server.akkahttp;ModelConversion.convertRequestHeader.remoteAddress" title="java.net.InetSocketAddress">remoteAddress</a>.<span title="()java.net.InetAddress">getAddress</span>.<span title="()String">getHostAddress</span>
    <span class="comment">// Taken from PlayDefaultUpstreamHander</span>

    <span class="comment">// Avoid clash between method arg and RequestHeader field</span>
    <span class="keyword">val</span> <a title="java.net.InetSocketAddress" id="play.core.server.akkahttp;ModelConversion.convertRequestHeader.remoteAddressArg">remoteAddressArg</a> = <a href="#play.core.server.akkahttp;ModelConversion.convertRequestHeader.remoteAddress" title="java.net.InetSocketAddress">remoteAddress</a>

    <a href="#play.core.server.akkahttp;ModelConversion.convertRequestHeader;$anon" title="play.api.mvc.RequestHeader{}" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with play.api.mvc.RequestHeader" id="play.core.server.akkahttp;ModelConversion.convertRequestHeader;$anon">RequestHeader</a> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">val</span> <a title="Long" id="play.core.server.akkahttp;ModelConversion.convertRequestHeader;$anon.id">id</a> = <a href="#play.core.server.akkahttp;ModelConversion.convertRequestHeader.requestId" title="Long">requestId</a>
      <span class="comment">// Send a tag so our tests can tell which kind of server we're using.</span>
      <span class="comment">// We could get NettyServer to send a similar tag, but for the moment</span>
      <span class="comment">// let's not, just in case it slows NettyServer down a bit.</span>
      <span class="keyword">override</span> <span class="keyword">val</span> <a title="scala.collection.immutable.Map[String,String]" id="play.core.server.akkahttp;ModelConversion.convertRequestHeader;$anon.tags">tags</a> = <span title="(elems: (String, String)*)scala.collection.immutable.Map[String,String]">Map</span><span class="delimiter">(</span><span title="(x: String)ArrowAssoc[String]" class="string">&quot;HTTP_SERVER&quot;</span> <span title="(y: String)(String, String)">-&gt;</span> <span title="String(&quot;akka-http&quot;)" class="string">&quot;akka-http&quot;</span><span class="delimiter">)</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="play.core.server.akkahttp;ModelConversion.convertRequestHeader;$anon.uri">uri</a> = <a href="#play.core.server.akkahttp;ModelConversion.convertRequestHeader.request" title="akka.http.scaladsl.model.HttpRequest">request</a>.<span title="=&gt; akka.http.scaladsl.model.Uri">uri</span>.<span title="()String">toString</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="play.core.server.akkahttp;ModelConversion.convertRequestHeader;$anon.path">path</a> = <a href="#play.core.server.akkahttp;ModelConversion.convertRequestHeader.request" title="akka.http.scaladsl.model.HttpRequest">request</a>.<span title="=&gt; akka.http.scaladsl.model.Uri">uri</span>.<span title="=&gt; akka.http.scaladsl.model.Uri.Path">path</span>.<span title="()String">toString</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="play.core.server.akkahttp;ModelConversion.convertRequestHeader;$anon.method">method</a> = <a href="#play.core.server.akkahttp;ModelConversion.convertRequestHeader.request" title="akka.http.scaladsl.model.HttpRequest">request</a>.<span title="=&gt; akka.http.scaladsl.model.HttpMethod">method</span>.<span title="=&gt; String">name</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="play.core.server.akkahttp;ModelConversion.convertRequestHeader;$anon.version">version</a> = <a href="#play.core.server.akkahttp;ModelConversion.convertRequestHeader.request" title="akka.http.scaladsl.model.HttpRequest">request</a>.<span title="=&gt; akka.http.scaladsl.model.HttpProtocol">protocol</span>.<span title="=&gt; String">value</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Map[String,List[String]]" id="play.core.server.akkahttp;ModelConversion.convertRequestHeader;$anon.queryString">queryString</a> = <a href="#play.core.server.akkahttp;ModelConversion.convertRequestHeader.request" title="akka.http.scaladsl.model.HttpRequest">request</a>.<span title="=&gt; akka.http.scaladsl.model.Uri">uri</span>.<span title="=&gt; akka.http.scaladsl.model.Uri.Query">query</span>.<span title="=&gt; Map[String,List[String]]">toMultiMap</span>
      <span class="keyword">override</span> <span class="keyword">val</span> <a title="play.api.mvc.Headers" id="play.core.server.akkahttp;ModelConversion.convertRequestHeader;$anon.headers">headers</a> = <a href="#play.core.server.akkahttp;ModelConversion.convertRequestHeaders" title="(request: akka.http.scaladsl.model.HttpRequest)play.api.mvc.Headers">convertRequestHeaders</a><span class="delimiter">(</span><a href="#play.core.server.akkahttp;ModelConversion.convertRequestHeader.request" title="akka.http.scaladsl.model.HttpRequest">request</a><span class="delimiter">)</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="play.core.server.akkahttp;ModelConversion.convertRequestHeader;$anon.remoteAddress">remoteAddress</a>: <span title="String">String</span> = <a href="../../../../../play-server/play/core/server/common/ServerRequestUtils.scala.html#play.core.server.common.ServerRequestUtils" title="play.core.server.common.ServerRequestUtils.type">ServerRequestUtils</a>.<a href="../../../../../play-server/play/core/server/common/ServerRequestUtils.scala.html#play.core.server.common.ServerRequestUtils.findRemoteAddress" title="(forwardedHeaderHandler: play.core.server.common.ForwardedHeaderHandler, headers: play.api.mvc.Headers, connectionRemoteAddress: java.net.InetSocketAddress)String">findRemoteAddress</a><span class="delimiter">(</span>
        <a href="#play.core.server.akkahttp;ModelConversion.forwardedHeaderHandler" title="play.core.server.common.ForwardedHeaderHandler">forwardedHeaderHandler</a>,
        <a href="#play.core.server.akkahttp;ModelConversion.convertRequestHeader;$anon.headers" title="=&gt; play.api.mvc.Headers">headers</a>,
        <a href="#play.core.server.akkahttp;ModelConversion.convertRequestHeader.remoteAddressArg" title="java.net.InetSocketAddress">remoteAddressArg</a>
      <span class="delimiter">)</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="play.core.server.akkahttp;ModelConversion.convertRequestHeader;$anon.secure">secure</a>: <span title="Boolean">Boolean</span> = <a href="../../../../../play-server/play/core/server/common/ServerRequestUtils.scala.html#play.core.server.common.ServerRequestUtils" title="play.core.server.common.ServerRequestUtils.type">ServerRequestUtils</a>.<a href="../../../../../play-server/play/core/server/common/ServerRequestUtils.scala.html#play.core.server.common.ServerRequestUtils.findSecureProtocol" title="(forwardedHeaderHandler: play.core.server.common.ForwardedHeaderHandler, headers: play.api.mvc.Headers, connectionSecureProtocol: Boolean)Boolean">findSecureProtocol</a><span class="delimiter">(</span>
        <a href="#play.core.server.akkahttp;ModelConversion.forwardedHeaderHandler" title="play.core.server.common.ForwardedHeaderHandler">forwardedHeaderHandler</a>,
        <a href="#play.core.server.akkahttp;ModelConversion.convertRequestHeader;$anon.headers" title="=&gt; play.api.mvc.Headers">headers</a>,
        <a href="#play.core.server.akkahttp;ModelConversion.convertRequestHeader.secureProtocol" title="Boolean">secureProtocol</a>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Convert the request headers of an Akka `HttpRequest` to a Play
   * `Headers` object.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(request: akka.http.scaladsl.model.HttpRequest)play.api.mvc.Headers" id="play.core.server.akkahttp;ModelConversion.convertRequestHeaders">convertRequestHeaders</a><span class="delimiter">(</span><a title="akka.http.scaladsl.model.HttpRequest" id="play.core.server.akkahttp;ModelConversion.convertRequestHeaders.request">request</a>: <span title="akka.http.scaladsl.model.HttpRequest">HttpRequest</span><span class="delimiter">)</span>: <a href="../../../../../play/play/api/mvc/Http.scala.html#play.api.mvc;Headers" title="play.api.mvc.Headers">Headers</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Seq[(String, String)]" id="play.core.server.akkahttp;ModelConversion.convertRequestHeaders.entityHeaders">entityHeaders</a>: <span title="Seq[(String, String)]">Seq</span><span class="delimiter">[</span><span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span> = <a href="#play.core.server.akkahttp;ModelConversion.convertRequestHeaders.request" title="akka.http.scaladsl.model.HttpRequest">request</a>.<span title="=&gt; akka.http.scaladsl.model.RequestEntity">entity</span> <span title="Seq[(String, String)]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> HttpEntity.Strict<span class="delimiter">(</span><span title="akka.http.scaladsl.model.ContentType">contentType</span>, _<span class="delimiter">)</span> =&gt;
        <span title="(elems: (String, String)*)Seq[(String, String)]">Seq</span><span class="delimiter">(</span><span title="(_1: String, _2: String)(String, String)" class="delimiter">(</span><a href="../../../../../play/play/api/http/StandardValues.scala.html#play.api.http;HeaderNames.CONTENT_TYPE" title="=&gt; String">CONTENT_TYPE</a>, <span title="akka.http.scaladsl.model.ContentType">contentType</span>.<span title="=&gt; String">value</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> HttpEntity.Default<span class="delimiter">(</span><span title="akka.http.scaladsl.model.ContentType">contentType</span>, <a title="Long" id="play.core.server.akkahttp;ModelConversion.convertRequestHeaders.entityHeaders.contentLength">contentLength</a>, _<span class="delimiter">)</span> =&gt;
        <span title="(elems: (String, String)*)Seq[(String, String)]">Seq</span><span class="delimiter">(</span><span title="(_1: String, _2: String)(String, String)" class="delimiter">(</span><a href="../../../../../play/play/api/http/StandardValues.scala.html#play.api.http;HeaderNames.CONTENT_TYPE" title="=&gt; String">CONTENT_TYPE</a>, <span title="akka.http.scaladsl.model.ContentType">contentType</span>.<span title="=&gt; String">value</span><span class="delimiter">)</span>, <span title="(_1: String, _2: String)(String, String)" class="delimiter">(</span><a href="../../../../../play/play/api/http/StandardValues.scala.html#play.api.http;HeaderNames.CONTENT_LENGTH" title="=&gt; String">CONTENT_LENGTH</a>, <a href="#play.core.server.akkahttp;ModelConversion.convertRequestHeaders.entityHeaders.contentLength" title="Long">contentLength</a>.<span title="()String">toString</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> HttpEntity.Chunked<span class="delimiter">(</span><span title="akka.http.scaladsl.model.ContentType">contentType</span>, _<span class="delimiter">)</span> =&gt;
        <span title="(elems: (String, String)*)Seq[(String, String)]">Seq</span><span class="delimiter">(</span><span title="(_1: String, _2: String)(String, String)" class="delimiter">(</span><a href="../../../../../play/play/api/http/StandardValues.scala.html#play.api.http;HeaderNames.CONTENT_TYPE" title="=&gt; String">CONTENT_TYPE</a>, <span title="akka.http.scaladsl.model.ContentType">contentType</span>.<span title="=&gt; String">value</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="Seq[(String, String)]" id="play.core.server.akkahttp;ModelConversion.convertRequestHeaders.normalHeaders">normalHeaders</a>: <span title="Seq[(String, String)]">Seq</span><span class="delimiter">[</span><span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span> = <a href="#play.core.server.akkahttp;ModelConversion.convertRequestHeaders.request" title="akka.http.scaladsl.model.HttpRequest">request</a>.<span title="=&gt; scala.collection.immutable.Seq[akka.http.scaladsl.model.HttpHeader]">headers</span>.<span title="(f: akka.http.scaladsl.model.HttpHeader =&gt; (String, String))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Seq[akka.http.scaladsl.model.HttpHeader],(String, String),Seq[(String, String)]])Seq[(String, String)]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Seq.Coll,(String, String),scala.collection.immutable.Seq[(String, String)]]" class="delimiter">(</span><span class="delimiter">(</span>rh: <span title="akka.http.scaladsl.model.HttpHeader">HttpHeader</span><span class="delimiter">)</span> =&gt; <span title="(_1: String, _2: String)(String, String)" class="delimiter">(</span><a href="#play.core.server.akkahttp;ModelConversion.convertRequestHeaders.normalHeaders.$anonfun.rh" title="akka.http.scaladsl.model.HttpHeader">rh</a>.<span title="()String">name</span>, <a href="#play.core.server.akkahttp;ModelConversion.convertRequestHeaders.normalHeaders.$anonfun.rh" title="akka.http.scaladsl.model.HttpHeader">rh</a>.<span title="()String">value</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="play.api.mvc.Headers" class="keyword">new</span> <a href="../../../../../play/play/api/mvc/Http.scala.html#play.api.mvc;Headers" title="play.api.mvc.Headers">Headers</a><span class="delimiter">(</span><a href="#play.core.server.akkahttp;ModelConversion.convertRequestHeaders.entityHeaders" title="Seq[(String, String)]">entityHeaders</a> <span title="(that: scala.collection.GenTraversableOnce[(String, String)])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[(String, String)],(String, String),Seq[(String, String)]])Seq[(String, String)]">++</span> <a href="#play.core.server.akkahttp;ModelConversion.convertRequestHeaders.normalHeaders" title="Seq[(String, String)]">normalHeaders</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Convert an Akka `HttpRequest` to an `Enumerator` of the request body.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(request: akka.http.scaladsl.model.HttpRequest)(implicit fm: akka.stream.FlowMaterializer)play.api.libs.iteratee.Enumerator[Array[Byte]]" id="play.core.server.akkahttp;ModelConversion.convertRequestBody">convertRequestBody</a><span class="delimiter">(</span>
    <a title="akka.http.scaladsl.model.HttpRequest" id="play.core.server.akkahttp;ModelConversion.convertRequestBody.request">request</a>: <span title="akka.http.scaladsl.model.HttpRequest">HttpRequest</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="akka.stream.FlowMaterializer" id="play.core.server.akkahttp;ModelConversion.convertRequestBody.fm">fm</a>: <span title="akka.stream.FlowMaterializer">FlowMaterializer</span><span class="delimiter">)</span>: <a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee;Enumerator" title="play.api.libs.iteratee.Enumerator[Array[Byte]]">Enumerator</a><span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">import</span> play.api.libs.iteratee.<a href="../../../../../play-iteratees/play/api/libs/iteratee/Execution.scala.html#play.api.libs.iteratee.Execution" title="play.api.libs.iteratee.Execution.type">Execution</a>.<a href="../../../../../play-iteratees/play/api/libs/iteratee/Execution.scala.html#play.api.libs.iteratee.Execution.Implicits" title="play.api.libs.iteratee.Execution.Implicits.type">Implicits</a>.trampoline
    <a href="#play.core.server.akkahttp;ModelConversion.convertRequestBody.request" title="akka.http.scaladsl.model.HttpRequest">request</a>.<span title="=&gt; akka.http.scaladsl.model.RequestEntity">entity</span> <span title="play.api.libs.iteratee.Enumerator[Array[Byte]]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> HttpEntity.Strict<span class="delimiter">(</span>_, <span title="akka.util.ByteString">data</span><span class="delimiter">)</span> <span class="keyword">if</span> <span title="akka.util.ByteString">data</span>.<span title="=&gt; Boolean">isEmpty</span> =&gt;
        <a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee.Enumerator" title="play.api.libs.iteratee.Enumerator.type">Enumerator</a>.<a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee.Enumerator.eof" title="enumInput extends AnyRef with play.api.libs.iteratee.Enumerator[Array[Byte]]">eof</a>
      <span class="keyword">case</span> HttpEntity.Strict<span class="delimiter">(</span>_, <span title="akka.util.ByteString">data</span><span class="delimiter">)</span> =&gt;
        <a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee.Enumerator" title="play.api.libs.iteratee.Enumerator.type">Enumerator</a>.<a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee.Enumerator.apply" title="[E](in: E*)play.api.libs.iteratee.Enumerator[E]">apply</a><span title="(in: Array[Byte]*)play.api.libs.iteratee.Enumerator[Array[Byte]]" class="delimiter">[</span><span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="akka.util.ByteString">data</span>.<span title="(implicit arg0: scala.reflect.ClassTag[Byte])Array[Byte]">toArray</span><span class="delimiter">)</span> <a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee;Enumerator.>>>" title="(e: play.api.libs.iteratee.Enumerator[Array[Byte]])play.api.libs.iteratee.Enumerator[Array[Byte]]">&gt;&gt;&gt;</a> <a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee.Enumerator" title="play.api.libs.iteratee.Enumerator.type">Enumerator</a>.<a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee.Enumerator.eof" title="enumInput extends AnyRef with play.api.libs.iteratee.Enumerator[Array[Byte]]">eof</a>
      <span class="keyword">case</span> HttpEntity.Default<span class="delimiter">(</span>_, <span title="Int(0)" class="int">0</span>, _<span class="delimiter">)</span> =&gt;
        <a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee.Enumerator" title="play.api.libs.iteratee.Enumerator.type">Enumerator</a>.<a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee.Enumerator.eof" title="enumInput extends AnyRef with play.api.libs.iteratee.Enumerator[Array[Byte]]">eof</a>
      <span class="keyword">case</span> HttpEntity.Default<span class="delimiter">(</span><span title="akka.http.scaladsl.model.ContentType">contentType</span>, <a title="Long" id="play.core.server.akkahttp;ModelConversion.convertRequestBody.contentLength">contentLength</a>, <a title="akka.stream.scaladsl.Source[akka.util.ByteString,Any]" id="play.core.server.akkahttp;ModelConversion.convertRequestBody.pubr">pubr</a><span class="delimiter">)</span> =&gt;
        <span class="comment">// FIXME: should do something with the content-length?</span>
        <a href="AkkaStreamsConversion.scala.html#play.core.server.akkahttp.AkkaStreamsConversion" title="play.core.server.akkahttp.AkkaStreamsConversion.type">AkkaStreamsConversion</a>.<a href="AkkaStreamsConversion.scala.html#play.core.server.akkahttp.AkkaStreamsConversion.sourceToEnumerator" title="(source: akka.stream.scaladsl.Source[akka.util.ByteString,Any])(implicit fm: akka.stream.FlowMaterializer)play.api.libs.iteratee.Enumerator[akka.util.ByteString]">sourceToEnumerator</a><a href="#play.core.server.akkahttp;ModelConversion.convertRequestBody.fm" title="akka.stream.FlowMaterializer" class="delimiter">(</a><a href="#play.core.server.akkahttp;ModelConversion.convertRequestBody.pubr" title="akka.stream.scaladsl.Source[akka.util.ByteString,Any]">pubr</a><span class="delimiter">)</span> <a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee;Enumerator.&>" title="(enumeratee: play.api.libs.iteratee.Enumeratee[akka.util.ByteString,Array[Byte]])play.api.libs.iteratee.Enumerator[Array[Byte]]">&amp;&gt;</a> <a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumeratee.scala.html#play.api.libs.iteratee.Enumeratee" title="play.api.libs.iteratee.Enumeratee.type">Enumeratee</a>.<a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumeratee.scala.html#play.api.libs.iteratee.Enumeratee;Map.apply" title="(f: akka.util.ByteString =&gt; Array[Byte])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Enumeratee[akka.util.ByteString,Array[Byte]]">map</a><a href="../../../../../play-iteratees/play/api/libs/iteratee/Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.trampoline" title="=&gt; scala.concurrent.ExecutionContext" class="delimiter">(</a><span class="delimiter">(</span>data: <span title="akka.util.ByteString">ByteString</span><span class="delimiter">)</span> =&gt; <a href="#play.core.server.akkahttp;ModelConversion.convertRequestBody.$anonfun.data" title="akka.util.ByteString">data</a>.<span title="(implicit arg0: scala.reflect.ClassTag[Byte])Array[Byte]">toArray</span><span class="delimiter">)</span>
      <span class="keyword">case</span> HttpEntity.Chunked<span class="delimiter">(</span><span title="akka.http.scaladsl.model.ContentType">contentType</span>, <a title="akka.stream.scaladsl.Source[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart,Any]" id="play.core.server.akkahttp;ModelConversion.convertRequestBody.chunks">chunks</a><span class="delimiter">)</span> =&gt;
        <span class="comment">// FIXME: Don't enumerate LastChunk?</span>
        <span class="comment">// FIXME: do something with trailing headers?</span>
        <a href="AkkaStreamsConversion.scala.html#play.core.server.akkahttp.AkkaStreamsConversion" title="play.core.server.akkahttp.AkkaStreamsConversion.type">AkkaStreamsConversion</a>.<a href="AkkaStreamsConversion.scala.html#play.core.server.akkahttp.AkkaStreamsConversion.sourceToEnumerator" title="(source: akka.stream.scaladsl.Source[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart,Any])(implicit fm: akka.stream.FlowMaterializer)play.api.libs.iteratee.Enumerator[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart]">sourceToEnumerator</a><a href="#play.core.server.akkahttp;ModelConversion.convertRequestBody.fm" title="akka.stream.FlowMaterializer" class="delimiter">(</a><a href="#play.core.server.akkahttp;ModelConversion.convertRequestBody.chunks" title="akka.stream.scaladsl.Source[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart,Any]">chunks</a><span class="delimiter">)</span> <a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee;Enumerator.&>" title="(enumeratee: play.api.libs.iteratee.Enumeratee[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart,Array[Byte]])play.api.libs.iteratee.Enumerator[Array[Byte]]">&amp;&gt;</a> <a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumeratee.scala.html#play.api.libs.iteratee.Enumeratee" title="play.api.libs.iteratee.Enumeratee.type">Enumeratee</a>.<a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumeratee.scala.html#play.api.libs.iteratee.Enumeratee;Map.apply" title="(f: akka.http.scaladsl.model.HttpEntity.ChunkStreamPart =&gt; Array[Byte])(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Enumeratee[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart,Array[Byte]]">map</a><a href="../../../../../play-iteratees/play/api/libs/iteratee/Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.trampoline" title="=&gt; scala.concurrent.ExecutionContext" class="delimiter">(</a><span class="delimiter">(</span>chunk: HttpEntity.<span title="akka.http.scaladsl.model.HttpEntity.ChunkStreamPart">ChunkStreamPart</span><span class="delimiter">)</span> =&gt; <a href="#play.core.server.akkahttp;ModelConversion.convertRequestBody.$anonfun.chunk" title="akka.http.scaladsl.model.HttpEntity.ChunkStreamPart">chunk</a>.<span title="()akka.util.ByteString">data</span>.<span title="(implicit arg0: scala.reflect.ClassTag[Byte])Array[Byte]">toArray</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Convert a Play `Result` object into an Akka `HttpResponse` object.
   */</span>
  <span class="keyword">def</span> <a title="(requestHeaders: play.api.mvc.RequestHeader, result: play.api.mvc.Result, protocol: akka.http.scaladsl.model.HttpProtocol)scala.concurrent.Future[akka.http.scaladsl.model.HttpResponse]" id="play.core.server.akkahttp;ModelConversion.convertResult">convertResult</a><span class="delimiter">(</span>
    <a title="play.api.mvc.RequestHeader" id="play.core.server.akkahttp;ModelConversion.convertResult.requestHeaders">requestHeaders</a>: <a href="../../../../../play/play/api/mvc/Http.scala.html#play.api.mvc;RequestHeader" title="play.api.mvc.RequestHeader">RequestHeader</a>,
    <a title="play.api.mvc.Result" id="play.core.server.akkahttp;ModelConversion.convertResult.result">result</a>: <a href="../../../../../play/play/api/mvc/Results.scala.html#play.api.mvc;Result" title="play.api.mvc.Result">Result</a>,
    <a title="akka.http.scaladsl.model.HttpProtocol" id="play.core.server.akkahttp;ModelConversion.convertResult.protocol">protocol</a>: <span title="akka.http.scaladsl.model.HttpProtocol">HttpProtocol</span><span class="delimiter">)</span>: <span title="scala.concurrent.Future[akka.http.scaladsl.model.HttpResponse]">Future</span><span class="delimiter">[</span>HttpResponse<span class="delimiter">]</span> = <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="ModelConversion.this.AkkaHttpHeaders" id="play.core.server.akkahttp;ModelConversion.convertResult.convertedHeaders">convertedHeaders</a>: <a href="#play.core.server.akkahttp;ModelConversion.AkkaHttpHeaders.readResolve" title="ModelConversion.this.AkkaHttpHeaders">AkkaHttpHeaders</a> = <a href="#play.core.server.akkahttp;ModelConversion.convertResponseHeaders" title="(playHeaders: Map[String,String])ModelConversion.this.AkkaHttpHeaders">convertResponseHeaders</a><span class="delimiter">(</span><a href="#play.core.server.akkahttp;ModelConversion.convertResult.result" title="play.api.mvc.Result">result</a>.<a href="../../../../../play/play/api/mvc/Results.scala.html#play.api.mvc;Result.header" title="=&gt; play.api.mvc.ResponseHeader">header</a>.<a href="../../../../../play/play/api/mvc/Results.scala.html#play.api.mvc;ResponseHeader.headers" title="=&gt; Map[String,String]">headers</a><span class="delimiter">)</span>
    <span class="keyword">import</span> play.api.libs.iteratee.<a href="../../../../../play-iteratees/play/api/libs/iteratee/Execution.scala.html#play.api.libs.iteratee.Execution" title="play.api.libs.iteratee.Execution.type">Execution</a>.<a href="../../../../../play-iteratees/play/api/libs/iteratee/Execution.scala.html#play.api.libs.iteratee.Execution.Implicits" title="play.api.libs.iteratee.Execution.Implicits.type">Implicits</a>.trampoline
    <a href="#play.core.server.akkahttp;ModelConversion.convertResultBody" title="(requestHeaders: play.api.mvc.RequestHeader, convertedHeaders: ModelConversion.this.AkkaHttpHeaders, result: play.api.mvc.Result, protocol: akka.http.scaladsl.model.HttpProtocol)scala.concurrent.Future[Either[play.api.mvc.Result,(akka.http.scaladsl.model.ResponseEntity, Option[akka.http.scaladsl.model.headers.Connection])]]">convertResultBody</a><span class="delimiter">(</span><a href="#play.core.server.akkahttp;ModelConversion.convertResult.requestHeaders" title="play.api.mvc.RequestHeader">requestHeaders</a>, <a href="#play.core.server.akkahttp;ModelConversion.convertResult.convertedHeaders" title="ModelConversion.this.AkkaHttpHeaders">convertedHeaders</a>, <a href="#play.core.server.akkahttp;ModelConversion.convertResult.result" title="play.api.mvc.Result">result</a>, <a href="#play.core.server.akkahttp;ModelConversion.convertResult.protocol" title="akka.http.scaladsl.model.HttpProtocol">protocol</a><span class="delimiter">)</span>.<span title="(f: Either[play.api.mvc.Result,(akka.http.scaladsl.model.ResponseEntity, Option[akka.http.scaladsl.model.headers.Connection])] =&gt; scala.concurrent.Future[akka.http.scaladsl.model.HttpResponse])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[akka.http.scaladsl.model.HttpResponse]">flatMap</span> <a href="#play.core.server.akkahttp;ModelConversion.convertResult.$anonfun.x0$1" title="scala.concurrent.Future[akka.http.scaladsl.model.HttpResponse]" class="delimiter">{</a>
      <span class="keyword">case</span> Left<span class="delimiter">(</span><a title="play.api.mvc.Result" id="play.core.server.akkahttp;ModelConversion.convertResult.$anonfun.alternativeResult">alternativeResult</a><span class="delimiter">)</span> =&gt;
        <a href="#play.core.server.akkahttp;ModelConversion.convertResult" title="(requestHeaders: play.api.mvc.RequestHeader, result: play.api.mvc.Result, protocol: akka.http.scaladsl.model.HttpProtocol)scala.concurrent.Future[akka.http.scaladsl.model.HttpResponse]">convertResult</a><span class="delimiter">(</span><a href="#play.core.server.akkahttp;ModelConversion.convertResult.requestHeaders" title="play.api.mvc.RequestHeader">requestHeaders</a>, <a href="#play.core.server.akkahttp;ModelConversion.convertResult.$anonfun.alternativeResult" title="play.api.mvc.Result">alternativeResult</a>, <a href="#play.core.server.akkahttp;ModelConversion.convertResult.protocol" title="akka.http.scaladsl.model.HttpProtocol">protocol</a><span class="delimiter">)</span>
      <span class="keyword">case</span> Right<span class="delimiter">(</span><span class="delimiter">(</span><a title="akka.http.scaladsl.model.ResponseEntity" id="play.core.server.akkahttp;ModelConversion.convertResult.$anonfun.entity">entity</a>, <a title="Option[akka.http.scaladsl.model.headers.Connection]" id="play.core.server.akkahttp;ModelConversion.convertResult.$anonfun.connection">connection</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <span title="scala.concurrent.Future.type">Future</span>.<span title="(result: akka.http.scaladsl.model.HttpResponse)scala.concurrent.Future[akka.http.scaladsl.model.HttpResponse]">successful</span><span class="delimiter">(</span>
          <span title="(status: akka.http.scaladsl.model.StatusCode, headers: scala.collection.immutable.Seq[akka.http.scaladsl.model.HttpHeader], entity: akka.http.scaladsl.model.ResponseEntity, protocol: akka.http.scaladsl.model.HttpProtocol)akka.http.scaladsl.model.HttpResponse">HttpResponse</span><span class="delimiter">(</span>
            status = <a href="#play.core.server.akkahttp;ModelConversion.convertResult.result" title="play.api.mvc.Result">result</a>.<a href="../../../../../play/play/api/mvc/Results.scala.html#play.api.mvc;Result.header" title="=&gt; play.api.mvc.ResponseHeader">header</a>.<a href="../../../../../play/play/api/mvc/Results.scala.html#play.api.mvc;ResponseHeader.status" title="implicit akka.http.scaladsl.model.StatusCode.int2StatusCode : (code: Int)akka.http.scaladsl.model.StatusCode">status</a>,
            headers = <a href="#play.core.server.akkahttp;ModelConversion.convertResult.convertedHeaders" title="ModelConversion.this.AkkaHttpHeaders">convertedHeaders</a>.<a href="#play.core.server.akkahttp;ModelConversion;AkkaHttpHeaders.misc" title="=&gt; scala.collection.immutable.Seq[akka.http.scaladsl.model.HttpHeader]">misc</a> <span title="(that: scala.collection.GenTraversableOnce[akka.http.scaladsl.model.HttpHeader])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Seq[akka.http.scaladsl.model.HttpHeader],akka.http.scaladsl.model.HttpHeader,scala.collection.immutable.Seq[akka.http.scaladsl.model.HttpHeader]])scala.collection.immutable.Seq[akka.http.scaladsl.model.HttpHeader]">++</span> <a href="#play.core.server.akkahttp;ModelConversion.convertResult.$anonfun.connection" title="(xo: Option[akka.http.scaladsl.model.headers.Connection])Iterable[akka.http.scaladsl.model.headers.Connection]">connection</a>,
            entity = <a href="#play.core.server.akkahttp;ModelConversion.convertResult.$anonfun.entity" title="akka.http.scaladsl.model.ResponseEntity">entity</a>,
            protocol = <a href="#play.core.server.akkahttp;ModelConversion.convertResult.protocol" title="akka.http.scaladsl.model.HttpProtocol">protocol</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(requestHeaders: play.api.mvc.RequestHeader, convertedHeaders: ModelConversion.this.AkkaHttpHeaders, result: play.api.mvc.Result, protocol: akka.http.scaladsl.model.HttpProtocol)scala.concurrent.Future[Either[play.api.mvc.Result,(akka.http.scaladsl.model.ResponseEntity, Option[akka.http.scaladsl.model.headers.Connection])]]" id="play.core.server.akkahttp;ModelConversion.convertResultBody">convertResultBody</a><span class="delimiter">(</span>
    <a title="play.api.mvc.RequestHeader" id="play.core.server.akkahttp;ModelConversion.convertResultBody.requestHeaders">requestHeaders</a>: <a href="../../../../../play/play/api/mvc/Http.scala.html#play.api.mvc;RequestHeader" title="play.api.mvc.RequestHeader">RequestHeader</a>,
    <a title="ModelConversion.this.AkkaHttpHeaders" id="play.core.server.akkahttp;ModelConversion.convertResultBody.convertedHeaders">convertedHeaders</a>: <a href="#play.core.server.akkahttp;ModelConversion.AkkaHttpHeaders.readResolve" title="ModelConversion.this.AkkaHttpHeaders">AkkaHttpHeaders</a>,
    <a title="play.api.mvc.Result" id="play.core.server.akkahttp;ModelConversion.convertResultBody.result">result</a>: <a href="../../../../../play/play/api/mvc/Results.scala.html#play.api.mvc;Result" title="play.api.mvc.Result">Result</a>,
    <a title="akka.http.scaladsl.model.HttpProtocol" id="play.core.server.akkahttp;ModelConversion.convertResultBody.protocol">protocol</a>: <span title="akka.http.scaladsl.model.HttpProtocol">HttpProtocol</span><span class="delimiter">)</span>: <span title="scala.concurrent.Future[Either[play.api.mvc.Result,(akka.http.scaladsl.model.ResponseEntity, Option[akka.http.scaladsl.model.headers.Connection])]]">Future</span><span class="delimiter">[</span>Either<span class="delimiter">[</span>Result, <span class="delimiter">(</span>ResponseEntity, Option<span class="delimiter">[</span>Connection<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>

    <span class="keyword">import</span> <a href="../../../../../play-iteratees/play/api/libs/iteratee/Execution.scala.html#play.api.libs.iteratee.Execution" title="play.api.libs.iteratee.Execution.type">Execution</a>.<a href="../../../../../play-iteratees/play/api/libs/iteratee/Execution.scala.html#play.api.libs.iteratee.Execution.Implicits" title="play.api.libs.iteratee.Execution.Implicits.type">Implicits</a>.trampoline

    <span class="keyword">def</span> <a title="(enum: play.api.libs.iteratee.Enumerator[Array[Byte]])akka.stream.scaladsl.Source[akka.util.ByteString,Unit]" id="play.core.server.akkahttp;ModelConversion.convertResultBody.dataSource">dataSource</a><span class="delimiter">(</span><a title="play.api.libs.iteratee.Enumerator[Array[Byte]]" id="play.core.server.akkahttp;ModelConversion.convertResultBody.dataSource.enum">enum</a>: <a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee;Enumerator" title="play.api.libs.iteratee.Enumerator[Array[Byte]]">Enumerator</a><span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="akka.stream.scaladsl.Source[akka.util.ByteString,Unit]">Source</span><span class="delimiter">[</span>ByteString, Unit<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="play.api.libs.iteratee.Enumerator[akka.util.ByteString]" id="play.core.server.akkahttp;ModelConversion.convertResultBody.dataSource.dataEnum">dataEnum</a>: <a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee;Enumerator" title="play.api.libs.iteratee.Enumerator[akka.util.ByteString]">Enumerator</a><span class="delimiter">[</span>ByteString<span class="delimiter">]</span> = <a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.dataSource.enum" title="play.api.libs.iteratee.Enumerator[Array[Byte]]">enum</a>.<a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee;Enumerator.map" title="(f: Array[Byte] =&gt; akka.util.ByteString)(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Enumerator[akka.util.ByteString]">map</a><a href="../../../../../play-iteratees/play/api/libs/iteratee/Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.trampoline" title="=&gt; scala.concurrent.ExecutionContext" class="delimiter">(</a><span title="(bytes: Array[Byte])akka.util.ByteString">ByteString</span><span class="delimiter">(</span><a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.dataSource.dataEnum.$anonfun.x$1" title="Array[Byte]">_</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee;Enumerator.>>>" title="(e: play.api.libs.iteratee.Enumerator[akka.util.ByteString])play.api.libs.iteratee.Enumerator[akka.util.ByteString]">&gt;&gt;&gt;</a> <a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee.Enumerator" title="play.api.libs.iteratee.Enumerator.type">Enumerator</a>.<a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee.Enumerator.eof" title="enumInput extends AnyRef with play.api.libs.iteratee.Enumerator[akka.util.ByteString]">eof</a>
      <a href="AkkaStreamsConversion.scala.html#play.core.server.akkahttp.AkkaStreamsConversion" title="play.core.server.akkahttp.AkkaStreamsConversion.type">AkkaStreamsConversion</a>.<a href="AkkaStreamsConversion.scala.html#play.core.server.akkahttp.AkkaStreamsConversion.enumeratorToSource" title="(enum: play.api.libs.iteratee.Enumerator[akka.util.ByteString], emptyElement: Option[akka.util.ByteString])akka.stream.scaladsl.Source[akka.util.ByteString,Unit]">enumeratorToSource</a><span class="delimiter">(</span><a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.dataSource.dataEnum" title="play.api.libs.iteratee.Enumerator[akka.util.ByteString]">dataEnum</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="../../../../../play-server/play/core/server/common/ServerResultUtils.scala.html#play.core.server.common.ServerResultUtils" title="play.core.server.common.ServerResultUtils.type">ServerResultUtils</a>.<a href="../../../../../play-server/play/core/server/common/ServerResultUtils.scala.html#play.core.server.common.ServerResultUtils.determineResultStreaming" title="(requestHeader: play.api.mvc.RequestHeader, result: play.api.mvc.Result)scala.concurrent.Future[Either[play.core.server.common.ServerResultUtils.InvalidResult,(play.core.server.common.ServerResultUtils.ResultStreaming, play.core.server.common.ServerResultUtils.ConnectionHeader)]]">determineResultStreaming</a><span class="delimiter">(</span><a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.requestHeaders" title="play.api.mvc.RequestHeader">requestHeaders</a>, <a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.result" title="play.api.mvc.Result">result</a><span class="delimiter">)</span>.<span title="(f: Either[play.core.server.common.ServerResultUtils.InvalidResult,(play.core.server.common.ServerResultUtils.ResultStreaming, play.core.server.common.ServerResultUtils.ConnectionHeader)] =&gt; Either[play.api.mvc.Result,(akka.http.scaladsl.model.ResponseEntity, Option[akka.http.scaladsl.model.headers.Connection])])(implicit executor: scala.concurrent.ExecutionContext)scala.concurrent.Future[Either[play.api.mvc.Result,(akka.http.scaladsl.model.ResponseEntity, Option[akka.http.scaladsl.model.headers.Connection])]]">map</span> <a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.x0$2" title="Either[play.api.mvc.Result,(akka.http.scaladsl.model.ResponseEntity, Option[akka.http.scaladsl.model.headers.Connection])]" class="delimiter">{</a>
      <span class="keyword">case</span> Left<span class="delimiter">(</span>ServerResultUtils.InvalidResult<span class="delimiter">(</span><a title="String" id="play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.reason">reason</a>, <a title="play.api.mvc.Result" id="play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.alternativeResult">alternativeResult</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="#play.core.server.akkahttp;ModelConversion.logger" title="=&gt; play.api.Logger">logger</a>.<a href="../../../../../play/play/api/Logger.scala.html#play.api;LoggerLike.warn(83d3728a3c)" title="(message: =&gt; String)Unit">warn</a><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Cannot send result, sending error result instead: &quot;)">Cannot send result, sending error result instead: $</span><a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.reason" title="String">reason</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
        <span title="(a: play.api.mvc.Result)scala.util.Left[play.api.mvc.Result,Nothing]">Left</span><span class="delimiter">(</span><a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.alternativeResult" title="play.api.mvc.Result">alternativeResult</a><span class="delimiter">)</span>
      <span class="keyword">case</span> Right<span class="delimiter">(</span><span class="delimiter">(</span><a title="play.core.server.common.ServerResultUtils.ResultStreaming" id="play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.streaming">streaming</a>, <a title="play.core.server.common.ServerResultUtils.ConnectionHeader" id="play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.connectionHeader">connectionHeader</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <span class="keyword">def</span> <a title="(entity: akka.http.scaladsl.model.ResponseEntity)Right[Nothing,(akka.http.scaladsl.model.ResponseEntity, Option[akka.http.scaladsl.model.headers.Connection])]" id="play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.valid">valid</a><span class="delimiter">(</span><a title="akka.http.scaladsl.model.ResponseEntity" id="play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.valid.entity">entity</a>: <span title="akka.http.scaladsl.model.ResponseEntity">ResponseEntity</span><span class="delimiter">)</span>: <span title="Right[Nothing,(akka.http.scaladsl.model.ResponseEntity, Option[akka.http.scaladsl.model.headers.Connection])]">Right</span><span class="delimiter">[</span>Nothing, <span class="delimiter">(</span>ResponseEntity, Option<span class="delimiter">[</span>Connection<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Option[akka.http.scaladsl.model.headers.Connection]" id="play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.valid.akkaConnectionHeader">akkaConnectionHeader</a>: <span title="Option[akka.http.scaladsl.model.headers.Connection]">Option</span><span class="delimiter">[</span>Connection<span class="delimiter">]</span> = <a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.connectionHeader" title="play.core.server.common.ServerResultUtils.ConnectionHeader">connectionHeader</a>.<a href="../../../../../play-server/play/core/server/common/ServerResultUtils.scala.html#play.core.server.common.ServerResultUtils;ConnectionHeader.header" title="=&gt; Option[String]">header</a>.<span title="(f: String =&gt; akka.http.scaladsl.model.headers.Connection)Option[akka.http.scaladsl.model.headers.Connection]">map</span><span class="delimiter">(</span><a title="String" id="play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.valid.akkaConnectionHeader.$anonfun.h">h</a> =&gt; <span title="(first: String, more: String*)akka.http.scaladsl.model.headers.Connection">Connection</span><span class="delimiter">(</span><a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.valid.akkaConnectionHeader.$anonfun.h" title="String">h</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="(b: (akka.http.scaladsl.model.ResponseEntity, Option[akka.http.scaladsl.model.headers.Connection]))scala.util.Right[Nothing,(akka.http.scaladsl.model.ResponseEntity, Option[akka.http.scaladsl.model.headers.Connection])]">Right</span><span class="delimiter">(</span><span title="(_1: akka.http.scaladsl.model.ResponseEntity, _2: Option[akka.http.scaladsl.model.headers.Connection])(akka.http.scaladsl.model.ResponseEntity, Option[akka.http.scaladsl.model.headers.Connection])" class="delimiter">(</span><a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.valid.entity" title="akka.http.scaladsl.model.ResponseEntity">entity</a>, <a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.valid.akkaConnectionHeader" title="Option[akka.http.scaladsl.model.headers.Connection]">akkaConnectionHeader</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.streaming" title="play.core.server.common.ServerResultUtils.ResultStreaming">streaming</a> <span title="Either[play.api.mvc.Result,(akka.http.scaladsl.model.ResponseEntity, Option[akka.http.scaladsl.model.headers.Connection])]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> ServerResultUtils.StreamWithClose<span class="delimiter">(</span><span title="play.api.libs.iteratee.Enumerator[Array[Byte]]">enum</span><span class="delimiter">)</span> =&gt;
            <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.connectionHeader" title="play.core.server.common.ServerResultUtils.ConnectionHeader">connectionHeader</a>.<a href="../../../../../play-server/play/core/server/common/ServerResultUtils.scala.html#play.core.server.common.ServerResultUtils;ConnectionHeader.willClose" title="=&gt; Boolean">willClose</a><span class="delimiter">)</span>
            <a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.valid" title="(entity: akka.http.scaladsl.model.ResponseEntity)Right[Nothing,(akka.http.scaladsl.model.ResponseEntity, Option[akka.http.scaladsl.model.headers.Connection])]">valid</a><span class="delimiter">(</span><span title="akka.http.scaladsl.model.HttpEntity.type">HttpEntity</span>.<span title="(contentType: akka.http.scaladsl.model.ContentType, data: akka.stream.scaladsl.Source[akka.util.ByteString,Any])akka.http.scaladsl.model.HttpEntity.CloseDelimited">CloseDelimited</span><span class="delimiter">(</span>
              contentType = <a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.convertedHeaders" title="ModelConversion.this.AkkaHttpHeaders">convertedHeaders</a>.<a href="#play.core.server.akkahttp;ModelConversion;AkkaHttpHeaders.contentType" title="=&gt; akka.http.scaladsl.model.ContentType">contentType</a>,
              data = <a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.dataSource" title="(enum: play.api.libs.iteratee.Enumerator[Array[Byte]])akka.stream.scaladsl.Source[akka.util.ByteString,Unit]">dataSource</a><span class="delimiter">(</span><span title="play.api.libs.iteratee.Enumerator[Array[Byte]]">enum</span><span class="delimiter">)</span>
            <span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <a href="../../../../../play-server/play/core/server/common/ServerResultUtils.scala.html#play.core.server.common.ServerResultUtils" title="play.core.server.common.ServerResultUtils.type">ServerResultUtils</a>.<a href="../../../../../play-server/play/core/server/common/ServerResultUtils.scala.html#play.core.server.common.ServerResultUtils.StreamWithNoBody" title="play.core.server.common.ServerResultUtils.StreamWithNoBody.type">StreamWithNoBody</a> =&gt;
            <a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.valid" title="(entity: akka.http.scaladsl.model.ResponseEntity)Right[Nothing,(akka.http.scaladsl.model.ResponseEntity, Option[akka.http.scaladsl.model.headers.Connection])]">valid</a><span class="delimiter">(</span><span title="akka.http.scaladsl.model.HttpEntity.type">HttpEntity</span>.<span title="=&gt; akka.http.scaladsl.model.HttpEntity.Strict">Empty</span><span class="delimiter">)</span>
          <span class="keyword">case</span> ServerResultUtils.StreamWithKnownLength<span class="delimiter">(</span><span title="play.api.libs.iteratee.Enumerator[Array[Byte]]">enum</span><span class="delimiter">)</span> =&gt;
            <a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.convertedHeaders" title="ModelConversion.this.AkkaHttpHeaders">convertedHeaders</a>.<a href="#play.core.server.akkahttp;ModelConversion;AkkaHttpHeaders.contentLength" title="=&gt; Option[Long]">contentLength</a>.<span title="=&gt; Long">get</span> <span title="Either[play.api.mvc.Result,(akka.http.scaladsl.model.ResponseEntity, Option[akka.http.scaladsl.model.headers.Connection])]" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Int(0)" class="int">0</span> =&gt;
                <a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.valid" title="(entity: akka.http.scaladsl.model.ResponseEntity)Right[Nothing,(akka.http.scaladsl.model.ResponseEntity, Option[akka.http.scaladsl.model.headers.Connection])]">valid</a><span class="delimiter">(</span><span title="akka.http.scaladsl.model.HttpEntity.type">HttpEntity</span>.<span title="(contentType: akka.http.scaladsl.model.ContentType)akka.http.scaladsl.model.HttpEntity.Strict">empty</span><span class="delimiter">(</span>
                  contentType = <a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.convertedHeaders" title="ModelConversion.this.AkkaHttpHeaders">convertedHeaders</a>.<a href="#play.core.server.akkahttp;ModelConversion;AkkaHttpHeaders.contentType" title="=&gt; akka.http.scaladsl.model.ContentType">contentType</a>
                <span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <a title="Long" id="play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.contentLength">contentLength</a> =&gt;
                <a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.valid" title="(entity: akka.http.scaladsl.model.ResponseEntity)Right[Nothing,(akka.http.scaladsl.model.ResponseEntity, Option[akka.http.scaladsl.model.headers.Connection])]">valid</a><span class="delimiter">(</span><span title="akka.http.scaladsl.model.HttpEntity.type">HttpEntity</span>.<span title="(contentType: akka.http.scaladsl.model.ContentType, contentLength: Long, data: akka.stream.scaladsl.Source[akka.util.ByteString,Any])akka.http.scaladsl.model.HttpEntity.Default">Default</span><span class="delimiter">(</span>
                  contentType = <a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.convertedHeaders" title="ModelConversion.this.AkkaHttpHeaders">convertedHeaders</a>.<a href="#play.core.server.akkahttp;ModelConversion;AkkaHttpHeaders.contentType" title="=&gt; akka.http.scaladsl.model.ContentType">contentType</a>,
                  contentLength = <a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.contentLength" title="Long">contentLength</a>,
                  data = <a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.dataSource" title="(enum: play.api.libs.iteratee.Enumerator[Array[Byte]])akka.stream.scaladsl.Source[akka.util.ByteString,Unit]">dataSource</a><span class="delimiter">(</span><span title="play.api.libs.iteratee.Enumerator[Array[Byte]]">enum</span><span class="delimiter">)</span>
                <span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> ServerResultUtils.StreamWithStrictBody<span class="delimiter">(</span><a title="Array[Byte]" id="play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.body">body</a><span class="delimiter">)</span> =&gt;
            <a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.valid" title="(entity: akka.http.scaladsl.model.ResponseEntity)Right[Nothing,(akka.http.scaladsl.model.ResponseEntity, Option[akka.http.scaladsl.model.headers.Connection])]">valid</a><span class="delimiter">(</span><span title="akka.http.scaladsl.model.HttpEntity.type">HttpEntity</span>.<span title="(contentType: akka.http.scaladsl.model.ContentType, data: akka.util.ByteString)akka.http.scaladsl.model.HttpEntity.Strict">Strict</span><span class="delimiter">(</span>
              contentType = <a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.convertedHeaders" title="ModelConversion.this.AkkaHttpHeaders">convertedHeaders</a>.<a href="#play.core.server.akkahttp;ModelConversion;AkkaHttpHeaders.contentType" title="=&gt; akka.http.scaladsl.model.ContentType">contentType</a>,
              data = <span title="akka.util.ByteString" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.body" title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]">body</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="akka.util.ByteString.type">ByteString</span>.<span title="=&gt; akka.util.ByteString">empty</span> <span class="keyword">else</span> <span title="(bytes: Array[Byte])akka.util.ByteString">ByteString</span><span class="delimiter">(</span><a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.body" title="Array[Byte]">body</a><span class="delimiter">)</span>
            <span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> ServerResultUtils.UseExistingTransferEncoding<span class="delimiter">(</span><a title="play.api.libs.iteratee.Enumerator[Array[Byte]]" id="play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.transferEncodedEnum">transferEncodedEnum</a><span class="delimiter">)</span> =&gt;
            <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.convertedHeaders" title="ModelConversion.this.AkkaHttpHeaders">convertedHeaders</a>.<a href="#play.core.server.akkahttp;ModelConversion;AkkaHttpHeaders.transferEncoding" title="=&gt; Option[scala.collection.immutable.Seq[akka.http.scaladsl.model.TransferEncoding]]">transferEncoding</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <span class="comment">// Guaranteed by ServerResultUtils</span>
            <span class="keyword">val</span> <a title="scala.collection.immutable.Seq[akka.http.scaladsl.model.TransferEncoding]" id="play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.transferEncoding">transferEncoding</a> = <a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.convertedHeaders" title="ModelConversion.this.AkkaHttpHeaders">convertedHeaders</a>.<a href="#play.core.server.akkahttp;ModelConversion;AkkaHttpHeaders.transferEncoding" title="=&gt; Option[scala.collection.immutable.Seq[akka.http.scaladsl.model.TransferEncoding]]">transferEncoding</a>.<span title="=&gt; scala.collection.immutable.Seq[akka.http.scaladsl.model.TransferEncoding]">get</span>
            <a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.transferEncoding" title="scala.collection.immutable.Seq[akka.http.scaladsl.model.TransferEncoding]">transferEncoding</a> <span title="Either[play.api.mvc.Result,(akka.http.scaladsl.model.ResponseEntity, Option[akka.http.scaladsl.model.headers.Connection])]" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> immutable.<a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.<unapply-selector>" title="(x: scala.collection.immutable.Seq[akka.http.scaladsl.model.TransferEncoding])Some[scala.collection.immutable.Seq[akka.http.scaladsl.model.TransferEncoding]]">Seq</a><span class="delimiter">(</span><span title="akka.http.scaladsl.model.TransferEncodings.type">TransferEncodings</span>.<span title="akka.http.scaladsl.model.TransferEncodings.chunked.type">chunked</span><span class="delimiter">)</span> =&gt;
                <a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.valid" title="(entity: akka.http.scaladsl.model.ResponseEntity)Right[Nothing,(akka.http.scaladsl.model.ResponseEntity, Option[akka.http.scaladsl.model.headers.Connection])]">valid</a><span class="delimiter">(</span><span title="akka.http.scaladsl.model.HttpEntity.type">HttpEntity</span>.<span title="(contentType: akka.http.scaladsl.model.ContentType, chunks: akka.stream.scaladsl.Source[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart,Any])akka.http.scaladsl.model.HttpEntity.Chunked">Chunked</span><span class="delimiter">(</span>
                  contentType = <a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.convertedHeaders" title="ModelConversion.this.AkkaHttpHeaders">convertedHeaders</a>.<a href="#play.core.server.akkahttp;ModelConversion;AkkaHttpHeaders.contentType" title="=&gt; akka.http.scaladsl.model.ContentType">contentType</a>,
                  chunks = <a href="#play.core.server.akkahttp;ModelConversion.dechunkAndRechunk" title="(chunkEncodedEnum: play.api.libs.iteratee.Enumerator[Array[Byte]])akka.stream.scaladsl.Source[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart,Unit]">dechunkAndRechunk</a><span class="delimiter">(</span><a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.transferEncodedEnum" title="play.api.libs.iteratee.Enumerator[Array[Byte]]">transferEncodedEnum</a><span class="delimiter">)</span>
                <span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <a title="scala.collection.immutable.Seq[akka.http.scaladsl.model.TransferEncoding]" id="play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.other">other</a> =&gt;
                <a href="#play.core.server.akkahttp;ModelConversion.logger" title="=&gt; play.api.Logger">logger</a>.<a href="../../../../../play/play/api/Logger.scala.html#play.api;LoggerLike.warn(83d3728a3c)" title="(message: =&gt; String)Unit">warn</a><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Cannot send result, sending error instead: Akka HTTP server only supports \'Transfer-Encoding: chunked\', was &quot;)">Cannot send result, sending error instead: Akka HTTP server only supports 'Transfer-Encoding: chunked', was $</span><a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.other" title="scala.collection.immutable.Seq[akka.http.scaladsl.model.TransferEncoding]">other</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
                <span title="(a: play.api.mvc.Result)scala.util.Left[play.api.mvc.Result,Nothing]">Left</span><span class="delimiter">(</span><a href="../../../../../play/play/api/mvc/Results.scala.html#play.api.mvc.Results" title="play.api.mvc.Results.type">Results</a>.<a href="../../../../../play/play/api/mvc/Results.scala.html#play.api.mvc;Results;Status.apply" title="(content: String)(implicit writeable: play.api.http.Writeable[String])play.api.mvc.Result">InternalServerError</a><a href="../../../../../play/play/api/http/Writeable.scala.html#play.api.http;DefaultWriteables.wString" title="implicit play.api.http.DefaultWriteables.wString : (implicit codec: play.api.mvc.Codec)play.api.http.Writeable[String]" class="delimiter">(</a><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> ServerResultUtils.PerformChunkedTransferEncoding<span class="delimiter">(</span><span title="play.api.libs.iteratee.Enumerator[Array[Byte]]">enum</span><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="play.api.libs.iteratee.Enumerator[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart]" id="play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.chunksEnum">chunksEnum</a> = <span class="delimiter">(</span>
              <span title="play.api.libs.iteratee.Enumerator[Array[Byte]]">enum</span>.<a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee;Enumerator.map" title="(f: Array[Byte] =&gt; akka.http.scaladsl.model.HttpEntity.ChunkStreamPart)(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Enumerator[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart]">map</a><a href="../../../../../play-iteratees/play/api/libs/iteratee/Execution.scala.html#play.api.libs.iteratee.Execution.Implicits.trampoline" title="=&gt; scala.concurrent.ExecutionContext" class="delimiter">(</a><span title="akka.http.scaladsl.model.HttpEntity.type">HttpEntity</span>.<span title="implicit akka.http.scaladsl.model.HttpEntity.ChunkStreamPart.apply : (bytes: Array[Byte])akka.http.scaladsl.model.HttpEntity.ChunkStreamPart">ChunkStreamPart</span><span class="delimiter">(</span><a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.chunksEnum.$anonfun.x$2" title="Array[Byte]">_</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee;Enumerator.>>>" title="(e: play.api.libs.iteratee.Enumerator[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart])play.api.libs.iteratee.Enumerator[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart]">&gt;&gt;&gt;</a>
              <a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee.Enumerator" title="play.api.libs.iteratee.Enumerator.type">Enumerator</a>.<a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee.Enumerator.enumInput" title="(e: play.api.libs.iteratee.Input[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart])play.api.libs.iteratee.Enumerator[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart]">enumInput</a><span class="delimiter">(</span><a href="../../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input" title="play.api.libs.iteratee.Input.type">Input</a>.<a href="../../../../../play-iteratees/play/api/libs/iteratee/Iteratee.scala.html#play.api.libs.iteratee.Input;El" title="(e: akka.http.scaladsl.model.HttpEntity.LastChunk.type)play.api.libs.iteratee.Input.El[akka.http.scaladsl.model.HttpEntity.LastChunk.type]">El</a><span class="delimiter">(</span><span title="akka.http.scaladsl.model.HttpEntity.type">HttpEntity</span>.<span title="akka.http.scaladsl.model.HttpEntity.LastChunk.type">LastChunk</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee;Enumerator.>>>" title="(e: play.api.libs.iteratee.Enumerator[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart])play.api.libs.iteratee.Enumerator[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart]">&gt;&gt;&gt;</a>
              <a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee.Enumerator" title="play.api.libs.iteratee.Enumerator.type">Enumerator</a>.<a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee.Enumerator.eof" title="enumInput extends AnyRef with play.api.libs.iteratee.Enumerator[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart]">eof</a>
            <span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="akka.stream.scaladsl.Source[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart,Unit]" id="play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.chunksSource">chunksSource</a> = <a href="AkkaStreamsConversion.scala.html#play.core.server.akkahttp.AkkaStreamsConversion" title="play.core.server.akkahttp.AkkaStreamsConversion.type">AkkaStreamsConversion</a>.<a href="AkkaStreamsConversion.scala.html#play.core.server.akkahttp.AkkaStreamsConversion.enumeratorToSource" title="(enum: play.api.libs.iteratee.Enumerator[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart], emptyElement: Option[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart])akka.stream.scaladsl.Source[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart,Unit]">enumeratorToSource</a><span class="delimiter">(</span><a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.chunksEnum" title="play.api.libs.iteratee.Enumerator[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart]">chunksEnum</a><span class="delimiter">)</span>
            <a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.valid" title="(entity: akka.http.scaladsl.model.ResponseEntity)Right[Nothing,(akka.http.scaladsl.model.ResponseEntity, Option[akka.http.scaladsl.model.headers.Connection])]">valid</a><span class="delimiter">(</span><span title="akka.http.scaladsl.model.HttpEntity.type">HttpEntity</span>.<span title="(contentType: akka.http.scaladsl.model.ContentType, chunks: akka.stream.scaladsl.Source[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart,Any])akka.http.scaladsl.model.HttpEntity.Chunked">Chunked</span><span class="delimiter">(</span>
              contentType = <a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.convertedHeaders" title="ModelConversion.this.AkkaHttpHeaders">convertedHeaders</a>.<a href="#play.core.server.akkahttp;ModelConversion;AkkaHttpHeaders.contentType" title="=&gt; akka.http.scaladsl.model.ContentType">contentType</a>,
              chunks = <a href="#play.core.server.akkahttp;ModelConversion.convertResultBody.$anonfun.chunksSource" title="akka.stream.scaladsl.Source[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart,Unit]">chunksSource</a>
            <span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(headers: Iterable[(String, String)])scala.collection.immutable.Seq[akka.http.scaladsl.model.HttpHeader]" id="play.core.server.akkahttp;ModelConversion.convertHeaders">convertHeaders</a><span class="delimiter">(</span><a title="Iterable[(String, String)]" id="play.core.server.akkahttp;ModelConversion.convertHeaders.headers">headers</a>: <span title="Iterable[(String, String)]">Iterable</span><span class="delimiter">[</span><span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: immutable.<span title="scala.collection.immutable.Seq[akka.http.scaladsl.model.HttpHeader]">Seq</span><span class="delimiter">[</span>HttpHeader<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#play.core.server.akkahttp;ModelConversion.convertHeaders.headers" title="Iterable[(String, String)]">headers</a>.<span title="(f: ((String, String)) =&gt; akka.http.scaladsl.model.HttpHeader)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[(String, String)],akka.http.scaladsl.model.HttpHeader,Iterable[akka.http.scaladsl.model.HttpHeader]])Iterable[akka.http.scaladsl.model.HttpHeader]">map</span> <a href="#play.core.server.akkahttp;ModelConversion.convertHeaders.$anonfun.x0$3" title="akka.http.scaladsl.model.HttpHeader" class="delimiter">{</a>
      <span class="keyword">case</span> <span class="delimiter">(</span><a title="String" id="play.core.server.akkahttp;ModelConversion.convertHeaders.$anonfun.name">name</a>, <a title="String" id="play.core.server.akkahttp;ModelConversion.convertHeaders.$anonfun.value">value</a><span class="delimiter">)</span> =&gt;
        <span title="akka.http.scaladsl.model.HttpHeader.type">HttpHeader</span>.<span title="(name: String, value: String)akka.http.scaladsl.model.HttpHeader.ParsingResult">parse</span><span class="delimiter">(</span><a href="#play.core.server.akkahttp;ModelConversion.convertHeaders.$anonfun.name" title="String">name</a>, <a href="#play.core.server.akkahttp;ModelConversion.convertHeaders.$anonfun.value" title="String">value</a><span class="delimiter">)</span> <span title="akka.http.scaladsl.model.HttpHeader" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> HttpHeader.ParsingResult.Ok<span class="delimiter">(</span><a title="akka.http.scaladsl.model.HttpHeader" id="play.core.server.akkahttp;ModelConversion.convertHeaders.$anonfun.header">header</a>, <a title="List[akka.http.scaladsl.model.ErrorInfo]" id="play.core.server.akkahttp;ModelConversion.convertHeaders.$anonfun.errors">errors</a> <span class="comment">/* errors are ignored if Ok */</span> <span class="delimiter">)</span> =&gt;
            <a href="#play.core.server.akkahttp;ModelConversion.convertHeaders.$anonfun.header" title="akka.http.scaladsl.model.HttpHeader">header</a>
          <span class="keyword">case</span> HttpHeader.ParsingResult.Error<span class="delimiter">(</span><a title="akka.http.scaladsl.model.ErrorInfo" id="play.core.server.akkahttp;ModelConversion.convertHeaders.$anonfun.error">error</a><span class="delimiter">)</span> =&gt;
            sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Error parsing header: &quot;)">Error parsing header: $</span><a href="#play.core.server.akkahttp;ModelConversion.convertHeaders.$anonfun.error" title="akka.http.scaladsl.model.ErrorInfo">error</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>.<span title="[Col[_]](implicit cbf: scala.collection.generic.CanBuildFrom[Nothing,akka.http.scaladsl.model.HttpHeader,Col[akka.http.scaladsl.model.HttpHeader]])Col[akka.http.scaladsl.model.HttpHeader]">to</span><span title="(implicit cbf: scala.collection.generic.CanBuildFrom[Nothing,akka.http.scaladsl.model.HttpHeader,scala.collection.immutable.Seq[akka.http.scaladsl.model.HttpHeader]])scala.collection.immutable.Seq[akka.http.scaladsl.model.HttpHeader]" class="delimiter">[</span>immutable.<span title="scala.collection.immutable.Seq">Seq</span><span class="delimiter">]</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Given a chunk encoded stream, decode it and reencode it in Akka's chunk format.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(chunkEncodedEnum: play.api.libs.iteratee.Enumerator[Array[Byte]])akka.stream.scaladsl.Source[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart,Unit]" id="play.core.server.akkahttp;ModelConversion.dechunkAndRechunk">dechunkAndRechunk</a><span class="delimiter">(</span><a title="play.api.libs.iteratee.Enumerator[Array[Byte]]" id="play.core.server.akkahttp;ModelConversion.dechunkAndRechunk.chunkEncodedEnum">chunkEncodedEnum</a>: <a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee;Enumerator" title="play.api.libs.iteratee.Enumerator[Array[Byte]]">Enumerator</a><span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="akka.stream.scaladsl.Source[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart,Unit]">Source</span><span class="delimiter">[</span>HttpEntity.ChunkStreamPart, Unit<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="../../../../../play-iteratees/play/api/libs/iteratee/Execution.scala.html#play.api.libs.iteratee.Execution" title="play.api.libs.iteratee.Execution.type">Execution</a>.<a href="../../../../../play-iteratees/play/api/libs/iteratee/Execution.scala.html#play.api.libs.iteratee.Execution.Implicits" title="play.api.libs.iteratee.Execution.Implicits.type">Implicits</a>.trampoline
    <span class="keyword">val</span> <a title="play.api.libs.iteratee.Enumeratee[Array[Byte],akka.http.scaladsl.model.HttpEntity.ChunkStreamPart]" id="play.core.server.akkahttp;ModelConversion.dechunkAndRechunk.rechunkEnee">rechunkEnee</a> = <a href="../../../../../play/play/api/mvc/Results.scala.html#play.api.mvc.Results" title="play.api.mvc.Results.type">Results</a>.<a href="../../../../../play/play/api/mvc/Results.scala.html#play.api.mvc;Results.dechunkWithTrailers" title="=&gt; play.api.libs.iteratee.Enumeratee[Array[Byte],Either[Array[Byte],Seq[(String, String)]]]">dechunkWithTrailers</a> <a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumeratee.scala.html#play.api.libs.iteratee;Enumeratee.><>" title="(other: play.api.libs.iteratee.Enumeratee[Either[Array[Byte],Seq[(String, String)]],akka.http.scaladsl.model.HttpEntity.ChunkStreamPart])play.api.libs.iteratee.Enumeratee[Array[Byte],akka.http.scaladsl.model.HttpEntity.ChunkStreamPart]">&gt;&lt;&gt;</a> <a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumeratee.scala.html#play.api.libs.iteratee.Enumeratee" title="play.api.libs.iteratee.Enumeratee.type">Enumeratee</a>.<a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumeratee.scala.html#play.api.libs.iteratee.Enumeratee.map" title="[E]=&gt; play.api.libs.iteratee.Enumeratee.Map[E]">map</a><a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumeratee.scala.html#play.api.libs.iteratee.Enumeratee;Map.apply" title="[NE](f: Either[Array[Byte],Seq[(String, String)]] =&gt; NE)(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Enumeratee[Either[Array[Byte],Seq[(String, String)]],NE]" class="delimiter">[</a><span title="Either[Array[Byte],Seq[(String, String)]]">Either</span><span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, Seq<span class="delimiter">[</span><span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span title="(f: Either[Array[Byte],Seq[(String, String)]] =&gt; akka.http.scaladsl.model.HttpEntity.ChunkStreamPart)(implicit ec: scala.concurrent.ExecutionContext)play.api.libs.iteratee.Enumeratee[Either[Array[Byte],Seq[(String, String)]],akka.http.scaladsl.model.HttpEntity.ChunkStreamPart]" class="delimiter">[</span>HttpEntity.<span title="akka.http.scaladsl.model.HttpEntity.ChunkStreamPart">ChunkStreamPart</span><span class="delimiter">]</span> <a href="#play.core.server.akkahttp;ModelConversion.dechunkAndRechunk.rechunkEnee.$anonfun.x0$4" title="akka.http.scaladsl.model.HttpEntity.ChunkStreamPart" class="delimiter">{</a>
      <span class="keyword">case</span> Left<span class="delimiter">(</span><a title="Array[Byte]" id="play.core.server.akkahttp;ModelConversion.dechunkAndRechunk.rechunkEnee.$anonfun.bytes">bytes</a><span class="delimiter">)</span> =&gt;
        <span title="akka.http.scaladsl.model.HttpEntity.type">HttpEntity</span>.<span title="implicit akka.http.scaladsl.model.HttpEntity.ChunkStreamPart.apply : (bytes: Array[Byte])akka.http.scaladsl.model.HttpEntity.ChunkStreamPart">ChunkStreamPart</span><span class="delimiter">(</span><a href="#play.core.server.akkahttp;ModelConversion.dechunkAndRechunk.rechunkEnee.$anonfun.bytes" title="Array[Byte]">bytes</a><span class="delimiter">)</span>
      <span class="keyword">case</span> Right<span class="delimiter">(</span><a title="Seq[(String, String)]" id="play.core.server.akkahttp;ModelConversion.dechunkAndRechunk.rechunkEnee.$anonfun.rawHeaderStrings">rawHeaderStrings</a><span class="delimiter">)</span> =&gt;
        <span title="akka.http.scaladsl.model.HttpEntity.type">HttpEntity</span>.<a title="String" id="play.core.server.akkahttp;ModelConversion.dechunkAndRechunk.rechunkEnee.$anonfun.x$4">LastChunk</a><span class="delimiter">(</span>trailer = <a href="#play.core.server.akkahttp;ModelConversion.convertHeaders" title="(headers: Iterable[(String, String)])scala.collection.immutable.Seq[akka.http.scaladsl.model.HttpHeader]">convertHeaders</a><a title="scala.collection.immutable.Seq[akka.http.scaladsl.model.HttpHeader] @scala.reflect.internal.annotations.uncheckedBounds" id="play.core.server.akkahttp;ModelConversion.dechunkAndRechunk.rechunkEnee.$anonfun.x$3" class="delimiter">(</a><a href="#play.core.server.akkahttp;ModelConversion.dechunkAndRechunk.rechunkEnee.$anonfun.rawHeaderStrings" title="Seq[(String, String)]">rawHeaderStrings</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="play.api.libs.iteratee.Enumerator[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart]" id="play.core.server.akkahttp;ModelConversion.dechunkAndRechunk.akkaChunksEnum">akkaChunksEnum</a>: <a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee;Enumerator" title="play.api.libs.iteratee.Enumerator[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart]">Enumerator</a><span class="delimiter">[</span>HttpEntity.ChunkStreamPart<span class="delimiter">]</span> = <span class="delimiter">(</span><a href="#play.core.server.akkahttp;ModelConversion.dechunkAndRechunk.chunkEncodedEnum" title="play.api.libs.iteratee.Enumerator[Array[Byte]]">chunkEncodedEnum</a> <a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee;Enumerator.&>" title="(enumeratee: play.api.libs.iteratee.Enumeratee[Array[Byte],akka.http.scaladsl.model.HttpEntity.ChunkStreamPart])play.api.libs.iteratee.Enumerator[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart]">&amp;&gt;</a> <a href="#play.core.server.akkahttp;ModelConversion.dechunkAndRechunk.rechunkEnee" title="play.api.libs.iteratee.Enumeratee[Array[Byte],akka.http.scaladsl.model.HttpEntity.ChunkStreamPart]">rechunkEnee</a><span class="delimiter">)</span> <a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee;Enumerator.>>>" title="(e: play.api.libs.iteratee.Enumerator[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart])play.api.libs.iteratee.Enumerator[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart]">&gt;&gt;&gt;</a> <a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee.Enumerator" title="play.api.libs.iteratee.Enumerator.type">Enumerator</a>.<a href="../../../../../play-iteratees/play/api/libs/iteratee/Enumerator.scala.html#play.api.libs.iteratee.Enumerator.eof" title="enumInput extends AnyRef with play.api.libs.iteratee.Enumerator[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart]">eof</a>
    <a href="AkkaStreamsConversion.scala.html#play.core.server.akkahttp.AkkaStreamsConversion" title="play.core.server.akkahttp.AkkaStreamsConversion.type">AkkaStreamsConversion</a>.<a href="AkkaStreamsConversion.scala.html#play.core.server.akkahttp.AkkaStreamsConversion.enumeratorToSource" title="(enum: play.api.libs.iteratee.Enumerator[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart], emptyElement: Option[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart])akka.stream.scaladsl.Source[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart,Unit]">enumeratorToSource</a><span class="delimiter">(</span><a href="#play.core.server.akkahttp;ModelConversion.dechunkAndRechunk.akkaChunksEnum" title="play.api.libs.iteratee.Enumerator[akka.http.scaladsl.model.HttpEntity.ChunkStreamPart]">akkaChunksEnum</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A representation of Akka HTTP headers separate from an `HTTPMessage`.
   * Akka HTTP treats some headers specially and these are split out into
   * separate values.
   *
   * @misc General headers. Guaranteed not to contain any of the special
   * headers stored in the other values.
   * @contentType If present, the value of the `Content-Type` header.
   * @contentLength If present, the value of the `Content-Length` header.
   */</span>
  <span class="keyword">case class</span> <a title="class AkkaHttpHeaders extends AnyRef with Product with Serializable" id="play.core.server.akkahttp;ModelConversion.AkkaHttpHeaders.readResolve">AkkaHttpHeaders</a><a href="#play.core.server.akkahttp;ModelConversion.AkkaHttpHeaders.readResolve" title="Product" class="delimiter">(</a>
    <a title="scala.collection.immutable.Seq[akka.http.scaladsl.model.HttpHeader]" id="play.core.server.akkahttp;ModelConversion;AkkaHttpHeaders.misc">misc</a>: immutable.<span title="scala.collection.immutable.Seq[akka.http.scaladsl.model.HttpHeader]">Seq</span><span class="delimiter">[</span>HttpHeader<span class="delimiter">]</span>,
    <a title="akka.http.scaladsl.model.ContentType" id="play.core.server.akkahttp;ModelConversion;AkkaHttpHeaders.contentType">contentType</a>: <span title="akka.http.scaladsl.model.ContentType">ContentType</span>,
    <a title="Option[Long]" id="play.core.server.akkahttp;ModelConversion;AkkaHttpHeaders.contentLength">contentLength</a>: <span title="Option[Long]">Option</span><span class="delimiter">[</span>Long<span class="delimiter">]</span>,
    <a title="Option[scala.collection.immutable.Seq[akka.http.scaladsl.model.TransferEncoding]]" id="play.core.server.akkahttp;ModelConversion;AkkaHttpHeaders.transferEncoding">transferEncoding</a>: <span title="Option[scala.collection.immutable.Seq[akka.http.scaladsl.model.TransferEncoding]]">Option</span><span class="delimiter">[</span>immutable.Seq<span class="delimiter">[</span>TransferEncoding<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Convert Play response headers into `HttpHeader` objects, then separate
   * out any special headers.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(playHeaders: Map[String,String])ModelConversion.this.AkkaHttpHeaders" id="play.core.server.akkahttp;ModelConversion.convertResponseHeaders">convertResponseHeaders</a><span class="delimiter">(</span>
    <a title="Map[String,String]" id="play.core.server.akkahttp;ModelConversion.convertResponseHeaders.playHeaders">playHeaders</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#play.core.server.akkahttp;ModelConversion.AkkaHttpHeaders.readResolve" title="ModelConversion.this.AkkaHttpHeaders">AkkaHttpHeaders</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Iterable[(String, String)]" id="play.core.server.akkahttp;ModelConversion.convertResponseHeaders.rawHeaders">rawHeaders</a>: <span title="Iterable[(String, String)]">Iterable</span><span class="delimiter">[</span><span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span> = <a href="../../../../../play-server/play/core/server/common/ServerResultUtils.scala.html#play.core.server.common.ServerResultUtils" title="play.core.server.common.ServerResultUtils.type">ServerResultUtils</a>.<a href="../../../../../play-server/play/core/server/common/ServerResultUtils.scala.html#play.core.server.common.ServerResultUtils.splitSetCookieHeaders" title="(headers: Map[String,String])Iterable[(String, String)]">splitSetCookieHeaders</a><span class="delimiter">(</span><a href="#play.core.server.akkahttp;ModelConversion.convertResponseHeaders.playHeaders" title="Map[String,String]">playHeaders</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Seq[akka.http.scaladsl.model.HttpHeader]" id="play.core.server.akkahttp;ModelConversion.convertResponseHeaders.convertedHeaders">convertedHeaders</a>: <span title="Seq[akka.http.scaladsl.model.HttpHeader]">Seq</span><span class="delimiter">[</span>HttpHeader<span class="delimiter">]</span> = <a href="#play.core.server.akkahttp;ModelConversion.convertHeaders" title="(headers: Iterable[(String, String)])scala.collection.immutable.Seq[akka.http.scaladsl.model.HttpHeader]">convertHeaders</a><span class="delimiter">(</span><a href="#play.core.server.akkahttp;ModelConversion.convertResponseHeaders.rawHeaders" title="Iterable[(String, String)]">rawHeaders</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="ModelConversion.this.AkkaHttpHeaders" id="play.core.server.akkahttp;ModelConversion.convertResponseHeaders.emptyHeaders">emptyHeaders</a> = <a href="#play.core.server.akkahttp;ModelConversion.AkkaHttpHeaders.readResolve" title="(misc: scala.collection.immutable.Seq[akka.http.scaladsl.model.HttpHeader], contentType: akka.http.scaladsl.model.ContentType, contentLength: Option[Long], transferEncoding: Option[scala.collection.immutable.Seq[akka.http.scaladsl.model.TransferEncoding]])ModelConversion.this.AkkaHttpHeaders">AkkaHttpHeaders</a><span class="delimiter">(</span>immutable.<span title="scala.collection.immutable.Seq.type">Seq</span>.<span title="scala.collection.immutable.Seq[Nothing]">empty</span>, <span title="akka.http.scaladsl.model.ContentTypes.type">ContentTypes</span>.<span title="=&gt; akka.http.scaladsl.model.ContentType">`application/octet-stream`</span>, <span title="None.type">None</span>, <span title="None.type">None</span><span class="delimiter">)</span>
    <a href="#play.core.server.akkahttp;ModelConversion.convertResponseHeaders.convertedHeaders" title="Seq[akka.http.scaladsl.model.HttpHeader]">convertedHeaders</a>.<span title="(z: ModelConversion.this.AkkaHttpHeaders)(op: (ModelConversion.this.AkkaHttpHeaders, akka.http.scaladsl.model.HttpHeader) =&gt; ModelConversion.this.AkkaHttpHeaders)ModelConversion.this.AkkaHttpHeaders">foldLeft</span><span class="delimiter">(</span><a href="#play.core.server.akkahttp;ModelConversion.convertResponseHeaders.emptyHeaders" title="ModelConversion.this.AkkaHttpHeaders">emptyHeaders</a><span class="delimiter">)</span> <a href="#play.core.server.akkahttp;ModelConversion.convertResponseHeaders.$anonfun.x0$5" title="ModelConversion.this.AkkaHttpHeaders" class="delimiter">{</a>
      <span class="keyword">case</span> <span class="delimiter">(</span><span title="ModelConversion.this.AkkaHttpHeaders">accum</span>, <a title="akka.http.scaladsl.model.headers.Content-Type" id="play.core.server.akkahttp;ModelConversion.convertResponseHeaders.$anonfun.ct">ct</a>: <span title="akka.http.scaladsl.model.headers.Content-Type">`Content-Type`</span><span class="delimiter">)</span> =&gt;
        <span title="ModelConversion.this.AkkaHttpHeaders">accum</span>.<a href="#play.core.server.akkahttp;ModelConversion;AkkaHttpHeaders.misc" title="scala.collection.immutable.Seq[akka.http.scaladsl.model.HttpHeader] @scala.reflect.internal.annotations.uncheckedBounds" id="play.core.server.akkahttp;ModelConversion.convertResponseHeaders.$anonfun.x$8">copy</a><span class="delimiter">(</span>contentType = <a href="#play.core.server.akkahttp;ModelConversion.convertResponseHeaders.$anonfun.ct" title="akka.http.scaladsl.model.headers.Content-Type">ct</a>.<a title="akka.http.scaladsl.model.ContentType" id="play.core.server.akkahttp;ModelConversion.convertResponseHeaders.$anonfun.x$5">contentType</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span class="delimiter">(</span><span title="ModelConversion.this.AkkaHttpHeaders">accum</span>, <a title="akka.http.scaladsl.model.headers.Content-Length" id="play.core.server.akkahttp;ModelConversion.convertResponseHeaders.$anonfun.cl">cl</a>: <span title="akka.http.scaladsl.model.headers.Content-Length">`Content-Length`</span><span class="delimiter">)</span> =&gt;
        <span title="ModelConversion.this.AkkaHttpHeaders">accum</span>.<a href="#play.core.server.akkahttp;ModelConversion;AkkaHttpHeaders.misc" title="scala.collection.immutable.Seq[akka.http.scaladsl.model.HttpHeader] @scala.reflect.internal.annotations.uncheckedBounds" id="play.core.server.akkahttp;ModelConversion.convertResponseHeaders.$anonfun.x$12">copy</a><span class="delimiter">(</span>contentLength = <span title="(x: Long)Some[Long]">Some</span><a title="Some[Long] @scala.reflect.internal.annotations.uncheckedBounds" id="play.core.server.akkahttp;ModelConversion.convertResponseHeaders.$anonfun.x$9" class="delimiter">(</a><a href="#play.core.server.akkahttp;ModelConversion.convertResponseHeaders.$anonfun.cl" title="akka.http.scaladsl.model.headers.Content-Length">cl</a>.<span title="=&gt; Long">length</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span class="delimiter">(</span><span title="ModelConversion.this.AkkaHttpHeaders">accum</span>, <a title="akka.http.scaladsl.model.headers.Transfer-Encoding" id="play.core.server.akkahttp;ModelConversion.convertResponseHeaders.$anonfun.te">te</a>: <span title="akka.http.scaladsl.model.headers.Transfer-Encoding">`Transfer-Encoding`</span><span class="delimiter">)</span> =&gt;
        <span title="ModelConversion.this.AkkaHttpHeaders">accum</span>.<a href="#play.core.server.akkahttp;ModelConversion;AkkaHttpHeaders.misc" title="scala.collection.immutable.Seq[akka.http.scaladsl.model.HttpHeader] @scala.reflect.internal.annotations.uncheckedBounds" id="play.core.server.akkahttp;ModelConversion.convertResponseHeaders.$anonfun.x$16">copy</a><span class="delimiter">(</span>transferEncoding = <span title="(x: scala.collection.immutable.Seq[akka.http.scaladsl.model.TransferEncoding])Some[scala.collection.immutable.Seq[akka.http.scaladsl.model.TransferEncoding]]">Some</span><a title="Some[scala.collection.immutable.Seq[akka.http.scaladsl.model.TransferEncoding]] @scala.reflect.internal.annotations.uncheckedBounds" id="play.core.server.akkahttp;ModelConversion.convertResponseHeaders.$anonfun.x$13" class="delimiter">(</a><a href="#play.core.server.akkahttp;ModelConversion.convertResponseHeaders.$anonfun.te" title="akka.http.scaladsl.model.headers.Transfer-Encoding">te</a>.<span title="=&gt; scala.collection.immutable.Seq[akka.http.scaladsl.model.TransferEncoding]">encodings</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span class="delimiter">(</span><span title="ModelConversion.this.AkkaHttpHeaders">accum</span>, <a title="akka.http.scaladsl.model.HttpHeader" id="play.core.server.akkahttp;ModelConversion.convertResponseHeaders.$anonfun.miscHeader">miscHeader</a><span class="delimiter">)</span> =&gt;
        <span title="ModelConversion.this.AkkaHttpHeaders">accum</span>.<a href="#play.core.server.akkahttp;ModelConversion.AkkaHttpHeaders.readResolve" title="(misc: scala.collection.immutable.Seq[akka.http.scaladsl.model.HttpHeader], contentType: akka.http.scaladsl.model.ContentType, contentLength: Option[Long], transferEncoding: Option[scala.collection.immutable.Seq[akka.http.scaladsl.model.TransferEncoding]])ModelConversion.this.AkkaHttpHeaders">copy</a><span class="delimiter">(</span>misc = <span title="ModelConversion.this.AkkaHttpHeaders">accum</span>.<a href="#play.core.server.akkahttp;ModelConversion;AkkaHttpHeaders.misc" title="=&gt; scala.collection.immutable.Seq[akka.http.scaladsl.model.HttpHeader]">misc</a> <span title="(elem: akka.http.scaladsl.model.HttpHeader)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Seq[akka.http.scaladsl.model.HttpHeader],akka.http.scaladsl.model.HttpHeader,scala.collection.immutable.Seq[akka.http.scaladsl.model.HttpHeader]])scala.collection.immutable.Seq[akka.http.scaladsl.model.HttpHeader]">:+</span> <a href="#play.core.server.akkahttp;ModelConversion.convertResponseHeaders.$anonfun.miscHeader" title="akka.http.scaladsl.model.HttpHeader">miscHeader</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>
        </pre>
    </body>
</html>
