<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>play-jdbc/play/api/db/BoneCPModule.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright (C) 2009-2015 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>
<span class="keyword">package</span> play.api.db

<span class="keyword">import</span> java.sql.<span class="delimiter">{</span> Connection, Statement <span class="delimiter">}</span>
<span class="keyword">import</span> javax.inject.<span class="delimiter">{</span> Inject, Singleton <span class="delimiter">}</span>
<span class="keyword">import</span> javax.sql.DataSource

<span class="keyword">import</span> com.typesafe.config.Config
<span class="keyword">import</span> play.api._
<span class="keyword">import</span> play.api.inject.Module
<span class="keyword">import</span> play.api.libs.JNDI

<span class="keyword">import</span> com.jolbox.bonecp._
<span class="keyword">import</span> com.jolbox.bonecp.hooks._

<span class="keyword">import</span> scala.concurrent.duration.<span class="delimiter">{</span> FiniteDuration, Duration <span class="delimiter">}</span>

<span class="comment">/**
 * BoneCP runtime inject module.
 */</span>
<span class="keyword">class</span> <a title="class BoneCPModule extends play.api.inject.Module" id="play.api.db;BoneCPModule">BoneCPModule</a> <a href="#play.api.db;BoneCPModule" title="play.api.db.BoneCPModule" class="keyword">extends</a> <a href="../../../../play/play/api/inject/Module.scala.html#play.api.inject;Module" title="play.api.inject.Module">Module</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(environment: play.api.Environment, configuration: play.api.Configuration)Seq[play.api.inject.Binding[play.api.db.ConnectionPool]]" id="play.api.db;BoneCPModule.bindings">bindings</a><span class="delimiter">(</span><a title="play.api.Environment" id="play.api.db;BoneCPModule.bindings.environment">environment</a>: <a href="../../../../play/play/api/Environment.scala.html#play.api;Environment" title="play.api.Environment">Environment</a>, <a title="play.api.Configuration" id="play.api.db;BoneCPModule.bindings.configuration">configuration</a>: <a href="../../../../play/play/api/Configuration.scala.html#play.api;Configuration" title="play.api.Configuration">Configuration</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(elems: play.api.inject.Binding[play.api.db.ConnectionPool]*)Seq[play.api.inject.Binding[play.api.db.ConnectionPool]]">Seq</span><span class="delimiter">(</span>
      <a href="../../../../play/play/api/inject/Module.scala.html#play.api.inject;Module.bind(0f4f2e3300)" title="[T](implicit evidence$1: scala.reflect.ClassTag[T])play.api.inject.BindingKey[T]">bind</a><span title="(implicit evidence$1: scala.reflect.ClassTag[play.api.db.ConnectionPool])play.api.inject.BindingKey[play.api.db.ConnectionPool]" class="delimiter">[</span><a href="ConnectionPool.scala.html#play.api.db;ConnectionPool" title="play.api.db.ConnectionPool">ConnectionPool</a><span class="delimiter">]</span>.<a href="../../../../play/play/api/inject/Binding.scala.html#play.api.inject;BindingKey.to(4a488bace6)" title="[C &lt;: play.api.db.ConnectionPool](implicit evidence$3: scala.reflect.ClassTag[C])play.api.inject.Binding[play.api.db.ConnectionPool]">to</a><span title="(implicit evidence$3: scala.reflect.ClassTag[play.api.db.BoneConnectionPool])play.api.inject.Binding[play.api.db.ConnectionPool]" class="delimiter">[</span><a href="#play.api.db;BoneConnectionPool" title="play.api.db.BoneConnectionPool">BoneConnectionPool</a><span class="delimiter">]</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * BoneCP components (for compile-time injection).
 */</span>
<span class="keyword">trait</span> <a title="trait BoneCPComponents extends AnyRef" id="play.api.db;BoneCPComponents">BoneCPComponents</a> <span title="Unit" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; play.api.Environment" id="play.api.db;BoneCPComponents.environment">environment</a>: <a href="../../../../play/play/api/Environment.scala.html#play.api;Environment" title="play.api.Environment">Environment</a>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="play.api.db.ConnectionPool" id="play.api.db;BoneCPComponents.connectionPool">connectionPool</a>: <a href="ConnectionPool.scala.html#play.api.db;ConnectionPool" title="play.api.db.ConnectionPool">ConnectionPool</a> = <span title="play.api.db.BoneConnectionPool" class="keyword">new</span> <a href="#play.api.db;BoneConnectionPool" title="play.api.db.BoneConnectionPool">BoneConnectionPool</a><span class="delimiter">(</span><a href="#play.api.db;BoneCPComponents.environment" title="=&gt; play.api.Environment">environment</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * BoneCP implementation of connection pool interface.
 */</span>
@Singleton
<span class="keyword">class</span> <a title="class BoneConnectionPool extends AnyRef with play.api.db.ConnectionPool" id="play.api.db;BoneConnectionPool">BoneConnectionPool</a> @Inject<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">(</span><a title="play.api.Environment" id="play.api.db;BoneConnectionPool.environment">environment</a>: <a href="../../../../play/play/api/Environment.scala.html#play.api;Environment" title="play.api.Environment">Environment</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="ConnectionPool.scala.html#play.api.db;ConnectionPool" title="play.api.db.ConnectionPool">ConnectionPool</a> <span class="delimiter">{</span>

  <span class="keyword">import</span> <a href="#play.api.db.BoneConnectionPool" title="play.api.db.BoneConnectionPool.type">BoneConnectionPool</a>._

  <span class="comment">/**
   * Create a data source with the given configuration.
   */</span>
  <span class="keyword">def</span> <a title="(name: String, dbConfig: play.api.db.DatabaseConfig, conf: com.typesafe.config.Config)javax.sql.DataSource" id="play.api.db;BoneConnectionPool.create">create</a><span class="delimiter">(</span><a title="String" id="play.api.db;BoneConnectionPool.create.name">name</a>: <span title="String">String</span>, <a title="play.api.db.DatabaseConfig" id="play.api.db;BoneConnectionPool.create.dbConfig">dbConfig</a>: <a href="DatabaseConfig.scala.html#play.api.db;DatabaseConfig" title="play.api.db.DatabaseConfig">DatabaseConfig</a>, <a title="com.typesafe.config.Config" id="play.api.db;BoneConnectionPool.create.conf">conf</a>: <span title="com.typesafe.config.Config">Config</span><span class="delimiter">)</span>: <span title="javax.sql.DataSource">DataSource</span> = <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="play.api.PlayConfig" id="play.api.db;BoneConnectionPool.create.config">config</a> = <a href="../../../../play/play/api/Configuration.scala.html#play.api.PlayConfig.apply(ea963b663d)" title="(underlying: com.typesafe.config.Config)play.api.PlayConfig">PlayConfig</a><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create.conf" title="com.typesafe.config.Config">conf</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="com.jolbox.bonecp.BoneCPDataSource" id="play.api.db;BoneConnectionPool.create.datasource">datasource</a> = <span title="com.jolbox.bonecp.BoneCPDataSource" class="keyword">new</span> <span title="com.jolbox.bonecp.BoneCPDataSource">BoneCPDataSource</span>

    <span class="keyword">val</span> <a title="Boolean" id="play.api.db;BoneConnectionPool.create.autocommit">autocommit</a> = <a href="#play.api.db;BoneConnectionPool.create.config" title="play.api.PlayConfig">config</a>.<a href="../../../../play/play/api/Configuration.scala.html#play.api;PlayConfig.getDeprecated" title="[A](path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[A])A">getDeprecated</a><span title="(path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[Boolean])Boolean" class="delimiter">[</span><span title="Boolean">Boolean</span><span class="delimiter">]</span><a href="../../../../play/play/api/Configuration.scala.html#play.api.ConfigLoader.booleanLoader" title="=&gt; play.api.ConfigLoader[Boolean]" class="delimiter">(</a><span title="String(&quot;bonecp.autoCommit&quot;)" class="string">&quot;bonecp.autoCommit&quot;</span>, <span title="String(&quot;autocommit&quot;)" class="string">&quot;autocommit&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Option[Int]" id="play.api.db;BoneConnectionPool.create.isolation">isolation</a> = <a href="#play.api.db;BoneConnectionPool.create.config" title="play.api.PlayConfig">config</a>.<a href="../../../../play/play/api/Configuration.scala.html#play.api;PlayConfig.getOptionalDeprecated" title="[A](path: String, deprecated: String)(implicit evidence$2: play.api.ConfigLoader[A])Option[A]">getOptionalDeprecated</a><span title="(path: String, deprecated: String)(implicit evidence$2: play.api.ConfigLoader[String])Option[String]" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span><a href="../../../../play/play/api/Configuration.scala.html#play.api.ConfigLoader.stringLoader" title="=&gt; play.api.ConfigLoader[String]" class="delimiter">(</a><span title="String(&quot;bonecp.isolation&quot;)" class="string">&quot;bonecp.isolation&quot;</span>, <span title="String(&quot;isolation&quot;)" class="string">&quot;isolation&quot;</span><span class="delimiter">)</span>.<span title="(f: String =&gt; Int)Option[Int]">map</span> <a href="#play.api.db;BoneConnectionPool.create.isolation.$anonfun.x0$1" title="Int" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="String(&quot;NONE&quot;)" class="string">&quot;NONE&quot;</span> =&gt; Connection.<span title="Int(0)">TRANSACTION_NONE</span>
      <span class="keyword">case</span> <span title="String(&quot;READ_COMMITTED&quot;)" class="string">&quot;READ_COMMITTED&quot;</span> =&gt; Connection.<span title="Int(2)">TRANSACTION_READ_COMMITTED</span>
      <span class="keyword">case</span> <span title="String(&quot;READ_UNCOMMITTED&quot;)" class="string">&quot;READ_UNCOMMITTED&quot;</span> =&gt; Connection.<span title="Int(1)">TRANSACTION_READ_UNCOMMITTED</span>
      <span class="keyword">case</span> <span title="String(&quot;REPEATABLE_READ&quot;)" class="string">&quot;REPEATABLE_READ&quot;</span> =&gt; Connection.<span title="Int(4)">TRANSACTION_REPEATABLE_READ</span>
      <span class="keyword">case</span> <span title="String(&quot;SERIALIZABLE&quot;)" class="string">&quot;SERIALIZABLE&quot;</span> =&gt; Connection.<span title="Int(8)">TRANSACTION_SERIALIZABLE</span>
      <span class="keyword">case</span> <a title="String" id="play.api.db;BoneConnectionPool.create.isolation.$anonfun.unknown">unknown</a> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#play.api.db;BoneConnectionPool.create.config" title="play.api.PlayConfig">config</a>.<a href="../../../../play/play/api/Configuration.scala.html#play.api;PlayConfig.reportError" title="(path: String, message: String, e: Option[Throwable])play.api.PlayException">reportError</a><span class="delimiter">(</span><span title="String(&quot;bonecp.isolation&quot;)" class="string">&quot;bonecp.isolation&quot;</span>,
        <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Unknown isolation level [&quot;)">Unknown isolation level [$</span><a href="#play.api.db;BoneConnectionPool.create.isolation.$anonfun.unknown" title="String">unknown</a><span title="String(&quot;]&quot;)" class="string">]&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="Option[String]" id="play.api.db;BoneConnectionPool.create.catalog">catalog</a> = <a href="#play.api.db;BoneConnectionPool.create.config" title="play.api.PlayConfig">config</a>.<a href="../../../../play/play/api/Configuration.scala.html#play.api;PlayConfig.getOptionalDeprecated" title="[A](path: String, deprecated: String)(implicit evidence$2: play.api.ConfigLoader[A])Option[A]">getOptionalDeprecated</a><span title="(path: String, deprecated: String)(implicit evidence$2: play.api.ConfigLoader[String])Option[String]" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span><a href="../../../../play/play/api/Configuration.scala.html#play.api.ConfigLoader.stringLoader" title="=&gt; play.api.ConfigLoader[String]" class="delimiter">(</a><span title="String(&quot;bonecp.defaultCatalog&quot;)" class="string">&quot;bonecp.defaultCatalog&quot;</span>, <span title="String(&quot;defaultCatalog&quot;)" class="string">&quot;defaultCatalog&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Boolean" id="play.api.db;BoneConnectionPool.create.readOnly">readOnly</a> = <a href="#play.api.db;BoneConnectionPool.create.config" title="play.api.PlayConfig">config</a>.<a href="../../../../play/play/api/Configuration.scala.html#play.api;PlayConfig.getDeprecated" title="[A](path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[A])A">getDeprecated</a><span title="(path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[Boolean])Boolean" class="delimiter">[</span><span title="Boolean">Boolean</span><span class="delimiter">]</span><a href="../../../../play/play/api/Configuration.scala.html#play.api.ConfigLoader.booleanLoader" title="=&gt; play.api.ConfigLoader[Boolean]" class="delimiter">(</a><span title="String(&quot;bonecp.readOnly&quot;)" class="string">&quot;bonecp.readOnly&quot;</span>, <span title="String(&quot;readOnly&quot;)" class="string">&quot;readOnly&quot;</span><span class="delimiter">)</span>

    <a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>.<span title="(x$1: ClassLoader)Unit">setClassLoader</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.environment" title="play.api.Environment">environment</a>.<a href="../../../../play/play/api/Environment.scala.html#play.api;Environment.classLoader" title="=&gt; ClassLoader">classLoader</a><span class="delimiter">)</span>

    <span class="comment">// Re-apply per connection config @ checkout</span>
    <a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>.<span title="(x$1: com.jolbox.bonecp.hooks.ConnectionHook)Unit">setConnectionHook</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create;$anon" title="com.jolbox.bonecp.hooks.AbstractConnectionHook" class="keyword">new</a> <a title="anonymous class $anon extends com.jolbox.bonecp.hooks.AbstractConnectionHook" id="play.api.db;BoneConnectionPool.create;$anon">AbstractConnectionHook</a> <span class="delimiter">{</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(connection: com.jolbox.bonecp.ConnectionHandle)Unit" id="play.api.db;BoneConnectionPool.create;$anon.onCheckIn">onCheckIn</a><span class="delimiter">(</span><a title="com.jolbox.bonecp.ConnectionHandle" id="play.api.db;BoneConnectionPool.create;$anon.onCheckIn.connection">connection</a>: <span title="com.jolbox.bonecp.ConnectionHandle">ConnectionHandle</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.api.db.BoneConnectionPool.logger" title="=&gt; play.api.Logger">logger</a>.<a href="../../../../play/play/api/Logger.scala.html#play.api;LoggerLike.isTraceEnabled" title="=&gt; Boolean">isTraceEnabled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#play.api.db.BoneConnectionPool.logger" title="=&gt; play.api.Logger">logger</a>.<a href="../../../../play/play/api/Logger.scala.html#play.api;LoggerLike.trace(83d3728a3c)" title="(message: =&gt; String)Unit">trace</a><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Check in connection &quot;)">Check in connection $</span><a href="#play.api.db;BoneConnectionPool.create;$anon.onCheckIn.connection" title="com.jolbox.bonecp.ConnectionHandle">connection</a><span title="String(&quot; [&quot;)"> [$</span><span class="delimiter">{</span><a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>.<span title="()Int">getTotalLeased</span><span class="delimiter">}</span><span title="String(&quot; leased]&quot;)" class="string"> leased]&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(connection: com.jolbox.bonecp.ConnectionHandle)Unit" id="play.api.db;BoneConnectionPool.create;$anon.onCheckOut">onCheckOut</a><span class="delimiter">(</span><a title="com.jolbox.bonecp.ConnectionHandle" id="play.api.db;BoneConnectionPool.create;$anon.onCheckOut.connection">connection</a>: <span title="com.jolbox.bonecp.ConnectionHandle">ConnectionHandle</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#play.api.db;BoneConnectionPool.create;$anon.onCheckOut.connection" title="com.jolbox.bonecp.ConnectionHandle">connection</a>.<span title="(x$1: Boolean)Unit">setAutoCommit</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create.autocommit" title="Boolean">autocommit</a><span class="delimiter">)</span>
        <a href="#play.api.db;BoneConnectionPool.create.isolation" title="Option[Int]">isolation</a>.<span title="(f: Int =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create;$anon.onCheckOut.connection" title="com.jolbox.bonecp.ConnectionHandle">connection</a>.<a href="#play.api.db;BoneConnectionPool.create;$anon.onCheckOut.$anonfun.x$1" title="(x$1: Int)Unit">setTransactionIsolation</a><span class="delimiter">)</span>
        <a href="#play.api.db;BoneConnectionPool.create;$anon.onCheckOut.connection" title="com.jolbox.bonecp.ConnectionHandle">connection</a>.<span title="(x$1: Boolean)Unit">setReadOnly</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create.readOnly" title="Boolean">readOnly</a><span class="delimiter">)</span>
        <a href="#play.api.db;BoneConnectionPool.create.catalog" title="Option[String]">catalog</a>.<span title="(f: String =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create;$anon.onCheckOut.connection" title="com.jolbox.bonecp.ConnectionHandle">connection</a>.<a href="#play.api.db;BoneConnectionPool.create;$anon.onCheckOut.$anonfun.x$1" title="(x$1: String)Unit">setCatalog</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#play.api.db.BoneConnectionPool.logger" title="=&gt; play.api.Logger">logger</a>.<a href="../../../../play/play/api/Logger.scala.html#play.api;LoggerLike.isTraceEnabled" title="=&gt; Boolean">isTraceEnabled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#play.api.db.BoneConnectionPool.logger" title="=&gt; play.api.Logger">logger</a>.<a href="../../../../play/play/api/Logger.scala.html#play.api;LoggerLike.trace(83d3728a3c)" title="(message: =&gt; String)Unit">trace</a><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Check out connection &quot;)">Check out connection $</span><a href="#play.api.db;BoneConnectionPool.create;$anon.onCheckOut.connection" title="com.jolbox.bonecp.ConnectionHandle">connection</a><span title="String(&quot; [&quot;)"> [$</span><span class="delimiter">{</span><a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>.<span title="()Int">getTotalLeased</span><span class="delimiter">}</span><span title="String(&quot; leased]&quot;)" class="string"> leased]&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(handle: com.jolbox.bonecp.ConnectionHandle, statement: java.sql.Statement, sql: String, logParams: java.util.Map[AnyRef,AnyRef], timeElapsedInNs: Long)Unit" id="play.api.db;BoneConnectionPool.create;$anon.onQueryExecuteTimeLimitExceeded(8e5ca9d26a)">onQueryExecuteTimeLimitExceeded</a><span class="delimiter">(</span><a title="com.jolbox.bonecp.ConnectionHandle" id="play.api.db;BoneConnectionPool.create;$anon.onQueryExecuteTimeLimitExceeded(8e5ca9d26a).handle">handle</a>: <span title="com.jolbox.bonecp.ConnectionHandle">ConnectionHandle</span>, <a title="java.sql.Statement" id="play.api.db;BoneConnectionPool.create;$anon.onQueryExecuteTimeLimitExceeded(8e5ca9d26a).statement">statement</a>: <span title="java.sql.Statement">Statement</span>, <a title="String" id="play.api.db;BoneConnectionPool.create;$anon.onQueryExecuteTimeLimitExceeded(8e5ca9d26a).sql">sql</a>: <span title="String">String</span>, <a title="java.util.Map[AnyRef,AnyRef]" id="play.api.db;BoneConnectionPool.create;$anon.onQueryExecuteTimeLimitExceeded(8e5ca9d26a).logParams">logParams</a>: java.util.<span title="java.util.Map[AnyRef,AnyRef]">Map</span><span class="delimiter">[</span>AnyRef, AnyRef<span class="delimiter">]</span>, <a title="Long" id="play.api.db;BoneConnectionPool.create;$anon.onQueryExecuteTimeLimitExceeded(8e5ca9d26a).timeElapsedInNs">timeElapsedInNs</a>: <span title="Long">Long</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Long" id="play.api.db;BoneConnectionPool.create;$anon.onQueryExecuteTimeLimitExceeded(8e5ca9d26a).timeMs">timeMs</a> = <a href="#play.api.db;BoneConnectionPool.create;$anon.onQueryExecuteTimeLimitExceeded(8e5ca9d26a).timeElapsedInNs" title="Long">timeElapsedInNs</a> <span title="(x: Int)Long">/</span> <span title="Int(1000)" class="int">1000</span>
        <span class="keyword">val</span> <a title="String" id="play.api.db;BoneConnectionPool.create;$anon.onQueryExecuteTimeLimitExceeded(8e5ca9d26a).query">query</a> = <span title="com.jolbox.bonecp.PoolUtil.type">PoolUtil</span>.<span title="(x$1: String, x$2: java.util.Map[Object,Object])String">fillLogParams</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create;$anon.onQueryExecuteTimeLimitExceeded(8e5ca9d26a).sql" title="String">sql</a>, <a href="#play.api.db;BoneConnectionPool.create;$anon.onQueryExecuteTimeLimitExceeded(8e5ca9d26a).logParams" title="java.util.Map[AnyRef,AnyRef]">logParams</a><span class="delimiter">)</span>
        <a href="#play.api.db.BoneConnectionPool.logger" title="=&gt; play.api.Logger">logger</a>.<a href="../../../../play/play/api/Logger.scala.html#play.api;LoggerLike.warn(83d3728a3c)" title="(message: =&gt; String)Unit">warn</a><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Query execute time limit exceeded (&quot;)">Query execute time limit exceeded ($</span><span class="delimiter">{</span><a href="#play.api.db;BoneConnectionPool.create;$anon.onQueryExecuteTimeLimitExceeded(8e5ca9d26a).timeMs" title="Long">timeMs</a><span class="delimiter">}</span><span title="String(&quot;ms) - query: &quot;)">ms) - query: $</span><span class="delimiter">{</span><a href="#play.api.db;BoneConnectionPool.create;$anon.onQueryExecuteTimeLimitExceeded(8e5ca9d26a).query" title="String">query</a><span class="delimiter">}</span><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="delimiter">}</span><span class="delimiter">)</span>

    <a href="#play.api.db;BoneConnectionPool.create.dbConfig" title="play.api.db.DatabaseConfig">dbConfig</a>.<a href="DatabaseConfig.scala.html#play.api.db;DatabaseConfig.url" title="=&gt; Option[String]">url</a>.<span title="(f: String =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>.<a href="#play.api.db;BoneConnectionPool.create.$anonfun.x$1" title="(x$1: String)Unit">setJdbcUrl</a><span class="delimiter">)</span>
    <a href="#play.api.db;BoneConnectionPool.create.dbConfig" title="play.api.db.DatabaseConfig">dbConfig</a>.<a href="DatabaseConfig.scala.html#play.api.db;DatabaseConfig.username" title="=&gt; Option[String]">username</a>.<span title="(f: String =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>.<a href="#play.api.db;BoneConnectionPool.create.$anonfun.x$1" title="(x$1: String)Unit">setUsername</a><span class="delimiter">)</span>
    <a href="#play.api.db;BoneConnectionPool.create.dbConfig" title="play.api.db.DatabaseConfig">dbConfig</a>.<a href="DatabaseConfig.scala.html#play.api.db;DatabaseConfig.password" title="=&gt; Option[String]">password</a>.<span title="(f: String =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>.<a href="#play.api.db;BoneConnectionPool.create.$anonfun.x$1" title="(x$1: String)Unit">setPassword</a><span class="delimiter">)</span>

    <span class="comment">// Pool configuration</span>
    <a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>.<span title="(x$1: Boolean)Unit">setCloseOpenStatements</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create.config" title="play.api.PlayConfig">config</a>.<a href="../../../../play/play/api/Configuration.scala.html#play.api;PlayConfig.getDeprecated" title="[A](path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[A])A">getDeprecated</a><span title="(path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[Boolean])Boolean" class="delimiter">[</span><span title="Boolean">Boolean</span><span class="delimiter">]</span><a href="../../../../play/play/api/Configuration.scala.html#play.api.ConfigLoader.booleanLoader" title="=&gt; play.api.ConfigLoader[Boolean]" class="delimiter">(</a><span title="String(&quot;bonecp.closeOpenStatements&quot;)" class="string">&quot;bonecp.closeOpenStatements&quot;</span>, <span title="String(&quot;closeOpenStatements&quot;)" class="string">&quot;closeOpenStatements&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>.<span title="(x$1: Int)Unit">setPartitionCount</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create.config" title="play.api.PlayConfig">config</a>.<a href="../../../../play/play/api/Configuration.scala.html#play.api;PlayConfig.getDeprecated" title="[A](path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[A])A">getDeprecated</a><span title="(path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[Int])Int" class="delimiter">[</span><span title="Int">Int</span><span class="delimiter">]</span><a href="../../../../play/play/api/Configuration.scala.html#play.api.ConfigLoader.intLoader" title="=&gt; play.api.ConfigLoader[Int]" class="delimiter">(</a><span title="String(&quot;bonecp.partitionCount&quot;)" class="string">&quot;bonecp.partitionCount&quot;</span>, <span title="String(&quot;partitionCount&quot;)" class="string">&quot;partitionCount&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>.<span title="(x$1: Int)Unit">setMaxConnectionsPerPartition</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create.config" title="play.api.PlayConfig">config</a>.<a href="../../../../play/play/api/Configuration.scala.html#play.api;PlayConfig.getDeprecated" title="[A](path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[A])A">getDeprecated</a><span title="(path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[Int])Int" class="delimiter">[</span><span title="Int">Int</span><span class="delimiter">]</span><a href="../../../../play/play/api/Configuration.scala.html#play.api.ConfigLoader.intLoader" title="=&gt; play.api.ConfigLoader[Int]" class="delimiter">(</a><span title="String(&quot;bonecp.maxConnectionsPerPartition&quot;)" class="string">&quot;bonecp.maxConnectionsPerPartition&quot;</span>, <span title="String(&quot;maxConnectionsPerPartition&quot;)" class="string">&quot;maxConnectionsPerPartition&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>.<span title="(x$1: Int)Unit">setMinConnectionsPerPartition</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create.config" title="play.api.PlayConfig">config</a>.<a href="../../../../play/play/api/Configuration.scala.html#play.api;PlayConfig.getDeprecated" title="[A](path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[A])A">getDeprecated</a><span title="(path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[Int])Int" class="delimiter">[</span><span title="Int">Int</span><span class="delimiter">]</span><a href="../../../../play/play/api/Configuration.scala.html#play.api.ConfigLoader.intLoader" title="=&gt; play.api.ConfigLoader[Int]" class="delimiter">(</a><span title="String(&quot;bonecp.minConnectionsPerPartition&quot;)" class="string">&quot;bonecp.minConnectionsPerPartition&quot;</span>, <span title="String(&quot;minConnectionsPerPartition&quot;)" class="string">&quot;minConnectionsPerPartition&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>.<span title="(x$1: Int)Unit">setAcquireIncrement</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create.config" title="play.api.PlayConfig">config</a>.<a href="../../../../play/play/api/Configuration.scala.html#play.api;PlayConfig.getDeprecated" title="[A](path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[A])A">getDeprecated</a><span title="(path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[Int])Int" class="delimiter">[</span><span title="Int">Int</span><span class="delimiter">]</span><a href="../../../../play/play/api/Configuration.scala.html#play.api.ConfigLoader.intLoader" title="=&gt; play.api.ConfigLoader[Int]" class="delimiter">(</a><span title="String(&quot;bonecp.acquireIncrement&quot;)" class="string">&quot;bonecp.acquireIncrement&quot;</span>, <span title="String(&quot;acquireIncrement&quot;)" class="string">&quot;acquireIncrement&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>.<span title="(x$1: Int)Unit">setAcquireRetryAttempts</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create.config" title="play.api.PlayConfig">config</a>.<a href="../../../../play/play/api/Configuration.scala.html#play.api;PlayConfig.getDeprecated" title="[A](path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[A])A">getDeprecated</a><span title="(path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[Int])Int" class="delimiter">[</span><span title="Int">Int</span><span class="delimiter">]</span><a href="../../../../play/play/api/Configuration.scala.html#play.api.ConfigLoader.intLoader" title="=&gt; play.api.ConfigLoader[Int]" class="delimiter">(</a><span title="String(&quot;bonecp.acquireRetryAttempts&quot;)" class="string">&quot;bonecp.acquireRetryAttempts&quot;</span>, <span title="String(&quot;acquireRetryAttempts&quot;)" class="string">&quot;acquireRetryAttempts&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>.<span title="(x$1: Long)Unit">setAcquireRetryDelayInMs</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create.config" title="play.api.PlayConfig">config</a>.<a href="../../../../play/play/api/Configuration.scala.html#play.api;PlayConfig.getDeprecated" title="[A](path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[A])A">getDeprecated</a><span title="(path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[scala.concurrent.duration.FiniteDuration])scala.concurrent.duration.FiniteDuration" class="delimiter">[</span><span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">]</span><a href="../../../../play/play/api/Configuration.scala.html#play.api.ConfigLoader.finiteDurationLoader" title="=&gt; play.api.ConfigLoader[scala.concurrent.duration.FiniteDuration]" class="delimiter">(</a><span title="String(&quot;bonecp.acquireRetryDelay&quot;)" class="string">&quot;bonecp.acquireRetryDelay&quot;</span>, <span title="String(&quot;acquireRetryDelay&quot;)" class="string">&quot;acquireRetryDelay&quot;</span><span class="delimiter">)</span>.<span title="=&gt; Long">toMillis</span><span class="delimiter">)</span>
    <a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>.<span title="(x$1: Long)Unit">setConnectionTimeoutInMs</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create.config" title="play.api.PlayConfig">config</a>.<a href="../../../../play/play/api/Configuration.scala.html#play.api;PlayConfig.getDeprecated" title="[A](path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[A])A">getDeprecated</a><span title="(path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[scala.concurrent.duration.FiniteDuration])scala.concurrent.duration.FiniteDuration" class="delimiter">[</span><span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">]</span><a href="../../../../play/play/api/Configuration.scala.html#play.api.ConfigLoader.finiteDurationLoader" title="=&gt; play.api.ConfigLoader[scala.concurrent.duration.FiniteDuration]" class="delimiter">(</a><span title="String(&quot;bonecp.connectionTimeout&quot;)" class="string">&quot;bonecp.connectionTimeout&quot;</span>, <span title="String(&quot;connectionTimeout&quot;)" class="string">&quot;connectionTimeout&quot;</span><span class="delimiter">)</span>.<span title="=&gt; Long">toMillis</span><span class="delimiter">)</span>
    <a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>.<span title="(x$1: Long)Unit">setIdleMaxAgeInSeconds</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create.config" title="play.api.PlayConfig">config</a>.<a href="../../../../play/play/api/Configuration.scala.html#play.api;PlayConfig.getDeprecated" title="[A](path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[A])A">getDeprecated</a><span title="(path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[scala.concurrent.duration.FiniteDuration])scala.concurrent.duration.FiniteDuration" class="delimiter">[</span><span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">]</span><a href="../../../../play/play/api/Configuration.scala.html#play.api.ConfigLoader.finiteDurationLoader" title="=&gt; play.api.ConfigLoader[scala.concurrent.duration.FiniteDuration]" class="delimiter">(</a><span title="String(&quot;bonecp.idleMaxAge&quot;)" class="string">&quot;bonecp.idleMaxAge&quot;</span>, <span title="String(&quot;idleMaxAge&quot;)" class="string">&quot;idleMaxAge&quot;</span><span class="delimiter">)</span>.<span title="=&gt; Long">toSeconds</span><span class="delimiter">)</span>
    <a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>.<span title="(x$1: Long)Unit">setMaxConnectionAgeInSeconds</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create.config" title="play.api.PlayConfig">config</a>.<a href="../../../../play/play/api/Configuration.scala.html#play.api;PlayConfig.getDeprecated" title="[A](path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[A])A">getDeprecated</a><span title="(path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[scala.concurrent.duration.FiniteDuration])scala.concurrent.duration.FiniteDuration" class="delimiter">[</span><span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">]</span><a href="../../../../play/play/api/Configuration.scala.html#play.api.ConfigLoader.finiteDurationLoader" title="=&gt; play.api.ConfigLoader[scala.concurrent.duration.FiniteDuration]" class="delimiter">(</a><span title="String(&quot;bonecp.maxConnectionAge&quot;)" class="string">&quot;bonecp.maxConnectionAge&quot;</span>, <span title="String(&quot;maxConnectionAge&quot;)" class="string">&quot;maxConnectionAge&quot;</span><span class="delimiter">)</span>.<span title="=&gt; Long">toSeconds</span><span class="delimiter">)</span>
    <a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>.<span title="(x$1: Boolean)Unit">setDisableJMX</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create.config" title="play.api.PlayConfig">config</a>.<a href="../../../../play/play/api/Configuration.scala.html#play.api;PlayConfig.getDeprecated" title="[A](path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[A])A">getDeprecated</a><span title="(path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[Boolean])Boolean" class="delimiter">[</span><span title="Boolean">Boolean</span><span class="delimiter">]</span><a href="../../../../play/play/api/Configuration.scala.html#play.api.ConfigLoader.booleanLoader" title="=&gt; play.api.ConfigLoader[Boolean]" class="delimiter">(</a><span title="String(&quot;bonecp.disableJMX&quot;)" class="string">&quot;bonecp.disableJMX&quot;</span>, <span title="String(&quot;disableJMX&quot;)" class="string">&quot;disableJMX&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>.<span title="(x$1: Boolean)Unit">setStatisticsEnabled</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create.config" title="play.api.PlayConfig">config</a>.<a href="../../../../play/play/api/Configuration.scala.html#play.api;PlayConfig.getDeprecated" title="[A](path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[A])A">getDeprecated</a><span title="(path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[Boolean])Boolean" class="delimiter">[</span><span title="Boolean">Boolean</span><span class="delimiter">]</span><a href="../../../../play/play/api/Configuration.scala.html#play.api.ConfigLoader.booleanLoader" title="=&gt; play.api.ConfigLoader[Boolean]" class="delimiter">(</a><span title="String(&quot;bonecp.statisticsEnabled&quot;)" class="string">&quot;bonecp.statisticsEnabled&quot;</span>, <span title="String(&quot;statisticsEnabled&quot;)" class="string">&quot;statisticsEnabled&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>.<span title="(x$1: Long)Unit">setIdleConnectionTestPeriodInSeconds</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create.config" title="play.api.PlayConfig">config</a>.<a href="../../../../play/play/api/Configuration.scala.html#play.api;PlayConfig.getDeprecated" title="[A](path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[A])A">getDeprecated</a><span title="(path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[scala.concurrent.duration.FiniteDuration])scala.concurrent.duration.FiniteDuration" class="delimiter">[</span><span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">]</span><a href="../../../../play/play/api/Configuration.scala.html#play.api.ConfigLoader.finiteDurationLoader" title="=&gt; play.api.ConfigLoader[scala.concurrent.duration.FiniteDuration]" class="delimiter">(</a><span title="String(&quot;bonecp.idleConnectionTestPeriod&quot;)" class="string">&quot;bonecp.idleConnectionTestPeriod&quot;</span>, <span title="String(&quot;idleConnectionTestPeriod&quot;)" class="string">&quot;idleConnectionTestPeriod&quot;</span><span class="delimiter">)</span>.<span title="=&gt; Long">toSeconds</span><span class="delimiter">)</span>
    <a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>.<span title="(x$1: Boolean)Unit">setDisableConnectionTracking</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create.config" title="play.api.PlayConfig">config</a>.<a href="../../../../play/play/api/Configuration.scala.html#play.api;PlayConfig.getDeprecated" title="[A](path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[A])A">getDeprecated</a><span title="(path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[Boolean])Boolean" class="delimiter">[</span><span title="Boolean">Boolean</span><span class="delimiter">]</span><a href="../../../../play/play/api/Configuration.scala.html#play.api.ConfigLoader.booleanLoader" title="=&gt; play.api.ConfigLoader[Boolean]" class="delimiter">(</a><span title="String(&quot;bonecp.disableConnectionTracking&quot;)" class="string">&quot;bonecp.disableConnectionTracking&quot;</span>, <span title="String(&quot;disableConnectionTracking&quot;)" class="string">&quot;disableConnectionTracking&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>.<span title="(x$1: Long)Unit">setQueryExecuteTimeLimitInMs</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create.config" title="play.api.PlayConfig">config</a>.<a href="../../../../play/play/api/Configuration.scala.html#play.api;PlayConfig.getDeprecated" title="[A](path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[A])A">getDeprecated</a><span title="(path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[scala.concurrent.duration.FiniteDuration])scala.concurrent.duration.FiniteDuration" class="delimiter">[</span><span title="scala.concurrent.duration.FiniteDuration">FiniteDuration</span><span class="delimiter">]</span><a href="../../../../play/play/api/Configuration.scala.html#play.api.ConfigLoader.finiteDurationLoader" title="=&gt; play.api.ConfigLoader[scala.concurrent.duration.FiniteDuration]" class="delimiter">(</a><span title="String(&quot;bonecp.queryExecuteTimeLimit&quot;)" class="string">&quot;bonecp.queryExecuteTimeLimit&quot;</span>, <span title="String(&quot;queryExecuteTimeLimit&quot;)" class="string">&quot;queryExecuteTimeLimit&quot;</span><span class="delimiter">)</span>.<span title="=&gt; Long">toMillis</span><span class="delimiter">)</span>
    <a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>.<span title="(x$1: Boolean)Unit">setResetConnectionOnClose</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create.config" title="play.api.PlayConfig">config</a>.<a href="../../../../play/play/api/Configuration.scala.html#play.api;PlayConfig.getDeprecated" title="[A](path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[A])A">getDeprecated</a><span title="(path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[Boolean])Boolean" class="delimiter">[</span><span title="Boolean">Boolean</span><span class="delimiter">]</span><a href="../../../../play/play/api/Configuration.scala.html#play.api.ConfigLoader.booleanLoader" title="=&gt; play.api.ConfigLoader[Boolean]" class="delimiter">(</a><span title="String(&quot;bonecp.resetConnectionOnClose&quot;)" class="string">&quot;bonecp.resetConnectionOnClose&quot;</span>, <span title="String(&quot;resetConnectionOnClose&quot;)" class="string">&quot;resetConnectionOnClose&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>.<span title="(x$1: Boolean)Unit">setDetectUnresolvedTransactions</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create.config" title="play.api.PlayConfig">config</a>.<a href="../../../../play/play/api/Configuration.scala.html#play.api;PlayConfig.getDeprecated" title="[A](path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[A])A">getDeprecated</a><span title="(path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[Boolean])Boolean" class="delimiter">[</span><span title="Boolean">Boolean</span><span class="delimiter">]</span><a href="../../../../play/play/api/Configuration.scala.html#play.api.ConfigLoader.booleanLoader" title="=&gt; play.api.ConfigLoader[Boolean]" class="delimiter">(</a><span title="String(&quot;bonecp.detectUnresolvedTransactions&quot;)" class="string">&quot;bonecp.detectUnresolvedTransactions&quot;</span>, <span title="String(&quot;detectUnresolvedTransactions&quot;)" class="string">&quot;detectUnresolvedTransactions&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>.<span title="(x$1: Boolean)Unit">setLogStatementsEnabled</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create.config" title="play.api.PlayConfig">config</a>.<a href="../../../../play/play/api/Configuration.scala.html#play.api;PlayConfig.getDeprecated" title="[A](path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[A])A">getDeprecated</a><span title="(path: String, deprecated: String)(implicit evidence$3: play.api.ConfigLoader[Boolean])Boolean" class="delimiter">[</span><span title="Boolean">Boolean</span><span class="delimiter">]</span><a href="../../../../play/play/api/Configuration.scala.html#play.api.ConfigLoader.booleanLoader" title="=&gt; play.api.ConfigLoader[Boolean]" class="delimiter">(</a><span title="String(&quot;bonecp.logStatements&quot;)" class="string">&quot;bonecp.logStatements&quot;</span>, <span title="String(&quot;logStatements&quot;)" class="string">&quot;logStatements&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="#play.api.db;BoneConnectionPool.create.config" title="play.api.PlayConfig">config</a>.<a href="../../../../play/play/api/Configuration.scala.html#play.api;PlayConfig.getOptionalDeprecated" title="[A](path: String, deprecated: String)(implicit evidence$2: play.api.ConfigLoader[A])Option[A]">getOptionalDeprecated</a><span title="(path: String, deprecated: String)(implicit evidence$2: play.api.ConfigLoader[String])Option[String]" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span><a href="../../../../play/play/api/Configuration.scala.html#play.api.ConfigLoader.stringLoader" title="=&gt; play.api.ConfigLoader[String]" class="delimiter">(</a><span title="String(&quot;bonecp.initSQL&quot;)" class="string">&quot;bonecp.initSQL&quot;</span>, <span title="String(&quot;initSQL&quot;)" class="string">&quot;initSQL&quot;</span><span class="delimiter">)</span>.<span title="(f: String =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>.<a href="#play.api.db;BoneConnectionPool.create.$anonfun.x$1" title="(x$1: String)Unit">setInitSQL</a><span class="delimiter">)</span>
    <a href="#play.api.db;BoneConnectionPool.create.config" title="play.api.PlayConfig">config</a>.<a href="../../../../play/play/api/Configuration.scala.html#play.api;PlayConfig.getOptionalDeprecated" title="[A](path: String, deprecated: String)(implicit evidence$2: play.api.ConfigLoader[A])Option[A]">getOptionalDeprecated</a><span title="(path: String, deprecated: String)(implicit evidence$2: play.api.ConfigLoader[String])Option[String]" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span><a href="../../../../play/play/api/Configuration.scala.html#play.api.ConfigLoader.stringLoader" title="=&gt; play.api.ConfigLoader[String]" class="delimiter">(</a><span title="String(&quot;bonecp.connectionTestStatement&quot;)" class="string">&quot;bonecp.connectionTestStatement&quot;</span>, <span title="String(&quot;connectionTestStatement&quot;)" class="string">&quot;connectionTestStatement&quot;</span><span class="delimiter">)</span>.<span title="(f: String =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>.<a href="#play.api.db;BoneConnectionPool.create.$anonfun.x$1" title="(x$1: String)Unit">setConnectionTestStatement</a><span class="delimiter">)</span>

    <span class="comment">// Bind in JNDI</span>
    <a href="#play.api.db;BoneConnectionPool.create.dbConfig" title="play.api.db.DatabaseConfig">dbConfig</a>.<a href="DatabaseConfig.scala.html#play.api.db;DatabaseConfig.jndiName" title="=&gt; Option[String]">jndiName</a> <span title="(f: String =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="String" id="play.api.db;BoneConnectionPool.create.$anonfun.name">name</a> =&gt;
      <a href="../../../../play/play/api/libs/JNDI.scala.html#play.api.libs.JNDI" title="play.api.libs.JNDI.type">JNDI</a>.<a href="../../../../play/play/api/libs/JNDI.scala.html#play.api.libs.JNDI.initialContext" title="=&gt; javax.naming.InitialContext">initialContext</a>.<span title="(x$1: String, x$2: Any)Unit">rebind</span><span class="delimiter">(</span><a href="#play.api.db;BoneConnectionPool.create.$anonfun.name" title="String">name</a>, <a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="String" id="play.api.db;BoneConnectionPool.create.$anonfun.visibleUrl">visibleUrl</a> = <a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>.<span title="()String">getJdbcUrl</span>
      <a href="#play.api.db.BoneConnectionPool.logger" title="=&gt; play.api.Logger">logger</a>.<a href="../../../../play/play/api/Logger.scala.html#play.api;LoggerLike.info(83d3728a3c)" title="(message: =&gt; String)Unit">info</a><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;&quot;&quot;<span title="String(&quot;datasource [&quot;)">datasource [$</span><a href="#play.api.db;BoneConnectionPool.create.$anonfun.visibleUrl" title="String">visibleUrl</a><span title="String(&quot;] bound to JNDI as &quot;)">] bound to JNDI as $</span><a href="#play.api.db;BoneConnectionPool.create.$anonfun.name" title="String">name</a><span title="String(&quot;&quot;)" class="string">&quot;&quot;&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="#play.api.db;BoneConnectionPool.create.datasource" title="com.jolbox.bonecp.BoneCPDataSource">datasource</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Close the given data source.
   */</span>
  <span class="keyword">def</span> <a title="(ds: javax.sql.DataSource)Unit" id="play.api.db;BoneConnectionPool.close">close</a><span class="delimiter">(</span><a title="javax.sql.DataSource" id="play.api.db;BoneConnectionPool.close.ds">ds</a>: <span title="javax.sql.DataSource">DataSource</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#play.api.db;BoneConnectionPool.close.ds" title="javax.sql.DataSource">ds</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="com.jolbox.bonecp.BoneCPDataSource" id="play.api.db;BoneConnectionPool.close.bcp">bcp</a>: <span title="com.jolbox.bonecp.BoneCPDataSource">BoneCPDataSource</span> =&gt; <a href="#play.api.db;BoneConnectionPool.close.bcp" title="com.jolbox.bonecp.BoneCPDataSource">bcp</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">case</span> _ =&gt; sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="String(&quot;Unable to close data source: not a BoneCPDataSource&quot;)" class="string">&quot;Unable to close data source: not a BoneCPDataSource&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="play.api.db.BoneConnectionPool.type" id="play.api.db.BoneConnectionPool">BoneConnectionPool</a> <a href="#play.api.db.BoneConnectionPool" title="play.api.db.BoneConnectionPool.type" class="delimiter">{</a>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="play.api.Logger" id="play.api.db.BoneConnectionPool.logger">logger</a> = <a href="../../../../play/play/api/Logger.scala.html#play.api.Logger.apply(1f619881c1)" title="(clazz: Class[play.api.db.BoneConnectionPool])play.api.Logger">Logger</a><span class="delimiter">(</span>classOf<span title="Class[play.api.db.BoneConnectionPool](classOf[play.api.db.BoneConnectionPool])" class="delimiter">[</span>BoneConnectionPool<span class="delimiter">]</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
