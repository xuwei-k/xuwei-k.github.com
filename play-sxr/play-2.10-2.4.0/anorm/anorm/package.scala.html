<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>anorm/anorm/package.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright (C) 2009-2013 Typesafe Inc. &lt;http://www.typesafe.com&gt;
 */</span>

<span class="keyword">import</span> java.util.StringTokenizer
<span class="keyword">import</span> scala.collection.<span title="scala.collection.JavaConverters.type">JavaConverters</span>.enumerationAsScalaIteratorConverter

<span class="comment">/**
 * Anorm API
 *
 * Use the SQL method to start an SQL query
 *
 * {{{
 * import anorm._
 *
 * SQL(&quot;Select 1&quot;)
 * }}}
 */</span>
<span class="keyword">package</span> <span class="keyword">object</span> <a title="anorm.package.type" id="anorm.package">anorm</a> <a href="#anorm.package" title="anorm.package.type" class="delimiter">{</a>
  <span class="keyword">import</span> scala.<span title="language.type">language</span>.implicitConversions

  <span class="comment">/** Structural type for timestamp wrapper. */</span>
  <span class="keyword">type</span> <a title="package extends AnyRef" id="anorm.package;TimestampWrapper1">TimestampWrapper1</a> = <a href="#anorm.package;<refinement>" title="package extends AnyRef" class="delimiter">{</a> <span class="keyword">def</span> getTimestamp: java.sql.Timestamp <span class="delimiter">}</span>

  <span class="comment">// TODO: Review implicit usage there </span>
  <span class="comment">// (add explicit functions on SqlQuery?)</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit anorm.package.sqlToSimple : (sql: anorm.SqlQuery)anorm.SimpleSql[anorm.Row]" id="anorm.package.sqlToSimple">sqlToSimple</a><span class="delimiter">(</span><a title="anorm.SqlQuery" id="anorm.package.sqlToSimple.sql">sql</a>: <a href="SqlQuery.scala.html#anorm;SqlQuery" title="anorm.SqlQuery">SqlQuery</a><span class="delimiter">)</span>: <a href="SimpleSql.scala.html#anorm;SimpleSql" title="anorm.SimpleSql[anorm.Row]">SimpleSql</a><span class="delimiter">[</span>Row<span class="delimiter">]</span> = <a href="#anorm.package.sqlToSimple.sql" title="anorm.SqlQuery">sql</a>.<a href="SqlQuery.scala.html#anorm;SqlQuery.asSimple(46cbfd1644)" title="=&gt; anorm.SimpleSql[anorm.Row]">asSimple</a>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[ID](id: anorm.Id[ID])ID" id="anorm.package.implicitID">implicitID</a><span class="delimiter">[</span><a title="" id="anorm.package.implicitID;ID">ID</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="anorm.Id[ID]" id="anorm.package.implicitID.id">id</a>: <a href="Anorm.scala.html#anorm;Id" title="anorm.Id[ID]">Id</a><span class="delimiter">[</span>ID<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#anorm.package.implicitID;ID" title="ID">ID</a> = <a href="#anorm.package.implicitID.id" title="anorm.Id[ID]">id</a>.<a href="Anorm.scala.html#anorm;Id.id" title="=&gt; ID">id</a>

  <span class="comment">/**
   * Creates an SQL query with given statement.
   * @param stmt SQL statement
   *
   * {{{
   * val query = SQL(&quot;SELECT * FROM Country&quot;)
   * }}}
   */</span>
  <span class="keyword">def</span> <a title="(stmt: String)anorm.SqlQuery" id="anorm.package.SQL">SQL</a><span class="delimiter">(</span><a title="String" id="anorm.package.SQL.stmt">stmt</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="SqlQuery.scala.html#anorm;SqlQuery" title="anorm.SqlQuery">SqlQuery</a> =
    <a href="SqlStatementParser.scala.html#anorm.SqlStatementParser" title="anorm.SqlStatementParser.type">SqlStatementParser</a>.<a href="SqlStatementParser.scala.html#anorm.SqlStatementParser.parse(e77d5b871d)" title="(sql: String)scala.util.Try[anorm.TokenizedStatement]">parse</a><span class="delimiter">(</span><a href="#anorm.package.SQL.stmt" title="String">stmt</a><span class="delimiter">)</span>.<span title="(f: anorm.TokenizedStatement =&gt; anorm.SqlQuery)scala.util.Try[anorm.SqlQuery]">map</span><span class="delimiter">(</span><a title="anorm.TokenizedStatement" id="anorm.package.SQL.$anonfun.ts">ts</a> =&gt; <a href="SqlQuery.scala.html#anorm.SqlQuery" title="anorm.SqlQuery.type">SqlQuery</a>.<a href="SqlQuery.scala.html#anorm.SqlQuery.prepare" title="(st: anorm.TokenizedStatement, params: List[String], tmout: Option[Int])anorm.SqlQuery">prepare</a><span class="delimiter">(</span><a href="#anorm.package.SQL.$anonfun.ts" title="anorm.TokenizedStatement">ts</a>, <a href="#anorm.package.SQL.$anonfun.ts" title="anorm.TokenizedStatement">ts</a>.<a href="../../anorm-tokenizer/anorm/TokenizedStatement.scala.html#anorm;TokenizedStatement.names" title="=&gt; List[String]">names</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; anorm.SqlQuery">get</span>

  <span class="comment">/**
   * Creates an SQL query using String Interpolation feature.
   * It is a 1-step alternative for SQL(&quot;...&quot;).on(...) functions.
   *
   * {{{
   * SQL&quot;&quot;&quot;
   *   UPDATE computer SET name = \\${computer.name},
   *   introduced = \\${computer.introduced},
   *   discontinued = \\${computer.discontinued},
   *   company_id = \\${computer.companyId}
   *   WHERE id = \\$id
   * &quot;&quot;&quot;.executeUpdate()
   * }}}
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">class</span> <a href="#anorm.package.SqlStringInterpolation(b2850627d8).sc" title="class SqlStringInterpolation extends AnyVal" id="anorm.package.SqlStringInterpolation(b2850627d8)">SqlStringInterpolation</a><a href="#anorm.package.SqlStringInterpolation(b2850627d8)" title="anorm.package.SqlStringInterpolation" class="delimiter">(</a><span class="keyword">val</span> <a title="StringContext" id="anorm.package.SqlStringInterpolation(b2850627d8).sc">sc</a>: <span title="StringContext">StringContext</span><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="AnyVal">AnyVal</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(args: anorm.ParameterValue*)anorm.SimpleSql[anorm.Row]" id="anorm.package;SqlStringInterpolation.SQL">SQL</a><span class="delimiter">(</span><a title="anorm.ParameterValue*" id="anorm.package;SqlStringInterpolation.SQL.args">args</a>: <span title="anorm.ParameterValue*">ParameterValue</span>*<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#anorm.package;SqlStringInterpolation.SQL.ts" title="(anorm.TokenizedStatement, Map[String,anorm.ParameterValue])" class="delimiter">(</a><a href="#anorm.package;SqlStringInterpolation.SQL.x$1" title="anorm.TokenizedStatement" id="anorm.package;SqlStringInterpolation.SQL.ts">ts</a>, <a href="#anorm.package;SqlStringInterpolation.SQL.x$1" title="Map[String,anorm.ParameterValue]" id="anorm.package;SqlStringInterpolation.SQL.ps">ps</a><span class="delimiter">)</span> = TokenizedStatement.stringInterpolation<a href="../../anorm-tokenizer/anorm/TokenizedStatement.scala.html#anorm.TokenizedStatement.tokenize" title="(ti: Iterator[String], tks: List[anorm.StatementToken], parts: Seq[String], ps: Seq[anorm.ParameterValue with anorm.Show], gs: List[anorm.TokenGroup], ns: List[String], m: Map[String,anorm.ParameterValue])(anorm.TokenizedStatement, Map[String,anorm.ParameterValue])" class="delimiter">(</a><a href="#anorm.package.SqlStringInterpolation(b2850627d8).sc" title="=&gt; StringContext">sc</a>.<span title="=&gt; String*">parts</span>, <a href="#anorm.package;SqlStringInterpolation.SQL.args" title="anorm.ParameterValue*">args</a><span class="delimiter">)</span>
      <a href="SimpleSql.scala.html#anorm;SimpleSql" title="(sql: anorm.SqlQuery, params: Map[String,anorm.ParameterValue], defaultParser: anorm.RowParser[anorm.Row], resultSetOnFirstRow: Boolean)anorm.SimpleSql[anorm.Row]">SimpleSql</a><span class="delimiter">(</span><a href="SqlQuery.scala.html#anorm.SqlQuery" title="anorm.SqlQuery.type">SqlQuery</a>.<a href="SqlQuery.scala.html#anorm.SqlQuery.prepare" title="(st: anorm.TokenizedStatement, params: List[String], tmout: Option[Int])anorm.SqlQuery">prepare</a><span class="delimiter">(</span><a href="#anorm.package;SqlStringInterpolation.SQL.ts" title="anorm.TokenizedStatement">ts</a>, <a href="#anorm.package;SqlStringInterpolation.SQL.ts" title="anorm.TokenizedStatement">ts</a>.<a href="../../anorm-tokenizer/anorm/TokenizedStatement.scala.html#anorm;TokenizedStatement.names" title="=&gt; List[String]">names</a><span class="delimiter">)</span>, <a href="#anorm.package;SqlStringInterpolation.SQL.ps" title="Map[String,anorm.ParameterValue]">ps</a>, <a href="SqlParser.scala.html#anorm.RowParser.apply" title="(f: anorm.Row =&gt; anorm.SqlResult[anorm.Row])anorm.RowParser[anorm.Row]">RowParser</a><span class="delimiter">(</span><a href="SqlResult.scala.html#anorm;Success" title="(a: anorm.Row)anorm.Success[anorm.Row]">Success</a><span class="delimiter">(</span><a href="#anorm.package;SqlStringInterpolation.SQL.$anonfun.x$2" title="anorm.Row">_</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  @annotation.tailrec
  <span class="keyword">private</span><span class="delimiter">[</span>anorm<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(ti: Iterator[Any], tks: List[anorm.StatementToken], parts: Seq[String], ps: Seq[anorm.ParameterValue], gs: List[anorm.TokenGroup], ns: List[String], m: Map[String,anorm.ParameterValue])(anorm.TokenizedStatement, Map[String,anorm.ParameterValue])" id="anorm.package.tokenize">tokenize</a><span class="delimiter">(</span><a title="Iterator[Any]" id="anorm.package.tokenize.ti">ti</a>: <span title="Iterator[Any]">Iterator</span><span class="delimiter">[</span>Any<span class="delimiter">]</span>, <a title="List[anorm.StatementToken]" id="anorm.package.tokenize.tks">tks</a>: <span title="List[anorm.StatementToken]">List</span><span class="delimiter">[</span>StatementToken<span class="delimiter">]</span>, <a title="Seq[String]" id="anorm.package.tokenize.parts">parts</a>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="Seq[anorm.ParameterValue]" id="anorm.package.tokenize.ps">ps</a>: <span title="Seq[anorm.ParameterValue]">Seq</span><span class="delimiter">[</span>ParameterValue<span class="delimiter">]</span>, <a title="List[anorm.TokenGroup]" id="anorm.package.tokenize.gs">gs</a>: <span title="List[anorm.TokenGroup]">List</span><span class="delimiter">[</span>TokenGroup<span class="delimiter">]</span>, <a title="List[String]" id="anorm.package.tokenize.ns">ns</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="Map[String,anorm.ParameterValue]" id="anorm.package.tokenize.m">m</a>: <span title="Map[String,anorm.ParameterValue]">Map</span><span class="delimiter">[</span>String, ParameterValue<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="(anorm.TokenizedStatement, Map[String,anorm.ParameterValue])" class="delimiter">(</span>TokenizedStatement, Map<span class="delimiter">[</span>String, ParameterValue<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="(anorm.TokenizedStatement, Map[String,anorm.ParameterValue])" class="keyword">if</span> <span class="delimiter">(</span><a href="#anorm.package.tokenize.ti" title="Iterator[Any]">ti</a>.<span title="=&gt; Boolean">hasNext</span><span class="delimiter">)</span> <a href="#anorm.package.tokenize.ti" title="Iterator[Any]">ti</a>.<span title="()Any">next</span> <span title="(anorm.TokenizedStatement, Map[String,anorm.ParameterValue])" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="String(&quot;%&quot;)" class="string">&quot;%&quot;</span> =&gt; <a href="#anorm.package.tokenize" title="(ti: Iterator[Any], tks: List[anorm.StatementToken], parts: Seq[String], ps: Seq[anorm.ParameterValue], gs: List[anorm.TokenGroup], ns: List[String], m: Map[String,anorm.ParameterValue])(anorm.TokenizedStatement, Map[String,anorm.ParameterValue])">tokenize</a><span class="delimiter">(</span><a href="#anorm.package.tokenize.ti" title="Iterator[Any]">ti</a>, <a href="../../anorm-tokenizer/anorm/TokenizedStatement.scala.html#anorm.PercentToken" title="anorm.PercentToken.type">PercentToken</a> <a href="#anorm.package.tokenize.x$3" title="(x: anorm.StatementToken)List[anorm.StatementToken]">::</a> <a href="#anorm.package.tokenize.tks" title="List[anorm.StatementToken]">tks</a>, <a href="#anorm.package.tokenize.parts" title="Seq[String]">parts</a>, <a href="#anorm.package.tokenize.ps" title="Seq[anorm.ParameterValue]">ps</a>, <a href="#anorm.package.tokenize.gs" title="List[anorm.TokenGroup]">gs</a>, <a href="#anorm.package.tokenize.ns" title="List[String]">ns</a>, <a href="#anorm.package.tokenize.m" title="Map[String,anorm.ParameterValue]">m</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="String" id="anorm.package.tokenize.s">s</a>: <span title="String">String</span> =&gt;
      <a href="#anorm.package.tokenize" title="(ti: Iterator[Any], tks: List[anorm.StatementToken], parts: Seq[String], ps: Seq[anorm.ParameterValue], gs: List[anorm.TokenGroup], ns: List[String], m: Map[String,anorm.ParameterValue])(anorm.TokenizedStatement, Map[String,anorm.ParameterValue])">tokenize</a><span class="delimiter">(</span><a href="#anorm.package.tokenize.ti" title="Iterator[Any]">ti</a>, <a href="../../anorm-tokenizer/anorm/TokenizedStatement.scala.html#anorm;StringToken" title="(value: String)anorm.StringToken">StringToken</a><span class="delimiter">(</span><a href="#anorm.package.tokenize.s" title="String">s</a><span class="delimiter">)</span> <a href="#anorm.package.tokenize.x$4" title="(x: anorm.StatementToken)List[anorm.StatementToken]">::</a> <a href="#anorm.package.tokenize.tks" title="List[anorm.StatementToken]">tks</a>, <a href="#anorm.package.tokenize.parts" title="Seq[String]">parts</a>, <a href="#anorm.package.tokenize.ps" title="Seq[anorm.ParameterValue]">ps</a>, <a href="#anorm.package.tokenize.gs" title="List[anorm.TokenGroup]">gs</a>, <a href="#anorm.package.tokenize.ns" title="List[String]">ns</a>, <a href="#anorm.package.tokenize.m" title="Map[String,anorm.ParameterValue]">m</a><span class="delimiter">)</span>
    <span class="keyword">case</span> _ =&gt; <span class="comment">/* should not occur */</span> <a href="#anorm.package.tokenize" title="(ti: Iterator[Any], tks: List[anorm.StatementToken], parts: Seq[String], ps: Seq[anorm.ParameterValue], gs: List[anorm.TokenGroup], ns: List[String], m: Map[String,anorm.ParameterValue])(anorm.TokenizedStatement, Map[String,anorm.ParameterValue])">tokenize</a><span class="delimiter">(</span><a href="#anorm.package.tokenize.ti" title="Iterator[Any]">ti</a>, <a href="#anorm.package.tokenize.tks" title="List[anorm.StatementToken]">tks</a>, <a href="#anorm.package.tokenize.parts" title="Seq[String]">parts</a>, <a href="#anorm.package.tokenize.ps" title="Seq[anorm.ParameterValue]">ps</a>, <a href="#anorm.package.tokenize.gs" title="List[anorm.TokenGroup]">gs</a>, <a href="#anorm.package.tokenize.ns" title="List[String]">ns</a>, <a href="#anorm.package.tokenize.m" title="Map[String,anorm.ParameterValue]">m</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">else</span> <span class="delimiter">{</span>
    <span title="(anorm.TokenizedStatement, Map[String,anorm.ParameterValue])" class="keyword">if</span> <span class="delimiter">(</span><a href="#anorm.package.tokenize.tks" title="List[anorm.StatementToken]">tks</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#anorm.package.tokenize.gs" title="List[anorm.TokenGroup]">gs</a> <span title="(anorm.TokenizedStatement, Map[String,anorm.ParameterValue])" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="anorm.TokenGroup" id="anorm.package.tokenize.prev">prev</a> :: <span title="List[anorm.TokenGroup]">groups</span> =&gt; <a href="#anorm.package.tokenize.ps" title="Seq[anorm.ParameterValue]">ps</a>.<span title="=&gt; Option[anorm.ParameterValue]">headOption</span> <span title="(anorm.TokenizedStatement, Map[String,anorm.ParameterValue])" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="anorm.ParameterValue" id="anorm.package.tokenize.v">v</a><span class="delimiter">)</span> =&gt; <a href="#anorm.package.tokenize.prev" title="anorm.TokenGroup">prev</a> <span title="(anorm.TokenizedStatement, Map[String,anorm.ParameterValue])" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> TokenGroup<span class="delimiter">(</span>StringToken<span class="delimiter">(</span><a title="String" id="anorm.package.tokenize.str">str</a><span class="delimiter">)</span> :: <a title="List[anorm.StatementToken]" id="anorm.package.tokenize.gts">gts</a>, <a title="Option[String]" id="anorm.package.tokenize.pl">pl</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span>
              <a href="#anorm.package.tokenize.str" title="String">str</a> <span title="(x$1: String)Boolean">endsWith</span> <span title="String(&quot;#&quot;)" class="string">&quot;#&quot;</span> <span class="comment">/* escaped part */</span> <span class="delimiter">)</span> =&gt;

              <span class="keyword">val</span> <a title="List[anorm.StatementToken]" id="anorm.package.tokenize.before">before</a> = <span title="List[anorm.StatementToken]" class="keyword">if</span> <span class="delimiter">(</span><a href="#anorm.package.tokenize.str" title="String">str</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="String(&quot;#&quot;)" class="string">&quot;#&quot;</span><span class="delimiter">)</span> <a href="#anorm.package.tokenize.gts" title="List[anorm.StatementToken]">gts</a>.<span title="=&gt; List[anorm.StatementToken]">reverse</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="../../anorm-tokenizer/anorm/TokenizedStatement.scala.html#anorm;StringToken" title="(value: String)anorm.StringToken">StringToken</a><span class="delimiter">(</span><a href="#anorm.package.tokenize.str" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">str</a> <span title="(n: Int)String">dropRight</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#anorm.package.tokenize.before.x$5" title="(x: anorm.StatementToken)List[anorm.StatementToken]">::</a> <a href="#anorm.package.tokenize.gts" title="List[anorm.StatementToken]">gts</a>.<span title="=&gt; List[anorm.StatementToken]">reverse</span>
              <span class="delimiter">}</span>
              <span class="keyword">val</span> <span title="anorm.TokenGroup">ng</span> = <a href="../../anorm-tokenizer/anorm/TokenizedStatement.scala.html#anorm;TokenGroup" title="(prepared: List[anorm.StatementToken], placeholder: Option[String])anorm.TokenGroup">TokenGroup</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="#anorm.package.tokenize.tks" title="List[anorm.StatementToken]">tks</a> <a href="#anorm.package.tokenize.ng.x$7" title="(prefix: List[anorm.StatementToken])List[anorm.StatementToken]">:::</a> <a href="../../anorm-tokenizer/anorm/TokenizedStatement.scala.html#anorm;StringToken" title="(value: String)anorm.StringToken">StringToken</a><span class="delimiter">(</span><a href="#anorm.package.tokenize.v" title="anorm.ParameterValue">v</a>.<a href="ParameterValue.scala.html#anorm;ParameterValue.show" title="=&gt; String">show</a><span class="delimiter">)</span> <a href="#anorm.package.tokenize.ng.x$6" title="(x: anorm.StatementToken)List[anorm.StatementToken]">::</a>
                <a href="#anorm.package.tokenize.before" title="List[anorm.StatementToken]">before</a><span class="delimiter">)</span>, <a href="#anorm.package.tokenize.pl" title="Option[String]">pl</a><span class="delimiter">)</span>

              <a href="#anorm.package.tokenize" title="(ti: Iterator[Any], tks: List[anorm.StatementToken], parts: Seq[String], ps: Seq[anorm.ParameterValue], gs: List[anorm.TokenGroup], ns: List[String], m: Map[String,anorm.ParameterValue])(anorm.TokenizedStatement, Map[String,anorm.ParameterValue])">tokenize</a><span class="delimiter">(</span><a href="#anorm.package.tokenize.ti" title="Iterator[Any]">ti</a>, <a href="#anorm.package.tokenize.tks" title="List[anorm.StatementToken]">tks</a>.<span title="=&gt; List[anorm.StatementToken]">tail</span>, <a href="#anorm.package.tokenize.parts" title="Seq[String]">parts</a>, <a href="#anorm.package.tokenize.ps" title="Seq[anorm.ParameterValue]">ps</a>.<span title="=&gt; Seq[anorm.ParameterValue]">tail</span>, <span class="delimiter">(</span><span title="anorm.TokenGroup">ng</span> <a href="#anorm.package.tokenize.x$8" title="(x: anorm.TokenGroup)List[anorm.TokenGroup]">::</a> <span title="List[anorm.TokenGroup]">groups</span><span class="delimiter">)</span>, <a href="#anorm.package.tokenize.ns" title="List[String]">ns</a>, <a href="#anorm.package.tokenize.m" title="Map[String,anorm.ParameterValue]">m</a><span class="delimiter">)</span>

            <span class="keyword">case</span> _ =&gt;
              <span class="keyword">val</span> <span title="anorm.TokenGroup">ng</span> = <a href="../../anorm-tokenizer/anorm/TokenizedStatement.scala.html#anorm;TokenGroup" title="(prepared: List[anorm.StatementToken], placeholder: Option[String])anorm.TokenGroup">TokenGroup</a><span class="delimiter">(</span><a href="#anorm.package.tokenize.tks" title="List[anorm.StatementToken]">tks</a>, <span title="None.type">None</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="String" id="anorm.package.tokenize.n">n</a> = <span title="Char('_')" class="char">'_'</span>.<span title="()String">toString</span> <span title="(x$1: Any)String">+</span> <a href="#anorm.package.tokenize.ns" title="List[String]">ns</a>.<span title="=&gt; Int">size</span>
              <a href="#anorm.package.tokenize" title="(ti: Iterator[Any], tks: List[anorm.StatementToken], parts: Seq[String], ps: Seq[anorm.ParameterValue], gs: List[anorm.TokenGroup], ns: List[String], m: Map[String,anorm.ParameterValue])(anorm.TokenizedStatement, Map[String,anorm.ParameterValue])">tokenize</a><span class="delimiter">(</span><a href="#anorm.package.tokenize.ti" title="Iterator[Any]">ti</a>, <a href="#anorm.package.tokenize.tks" title="List[anorm.StatementToken]">tks</a>.<span title="=&gt; List[anorm.StatementToken]">tail</span>, <a href="#anorm.package.tokenize.parts" title="Seq[String]">parts</a>, <a href="#anorm.package.tokenize.ps" title="Seq[anorm.ParameterValue]">ps</a>.<span title="=&gt; Seq[anorm.ParameterValue]">tail</span>,
                <span class="delimiter">(</span><span title="anorm.TokenGroup">ng</span> <a href="#anorm.package.tokenize.x$10" title="(x: anorm.TokenGroup)List[anorm.TokenGroup]">::</a> <a href="#anorm.package.tokenize.prev" title="anorm.TokenGroup">prev</a>.<a href="../../anorm-tokenizer/anorm/TokenizedStatement.scala.html#anorm;TokenGroup.copy$default$1" title="List[anorm.StatementToken] @scala.reflect.internal.annotations.uncheckedBounds" id="anorm.package.tokenize.x$9.x$13">copy</a><span class="delimiter">(</span>placeholder = <span title="(x: String)Some[String]">Some</span><a title="Some[String] @scala.reflect.internal.annotations.uncheckedBounds" id="anorm.package.tokenize.x$9.x$12" class="delimiter">(</a><a href="#anorm.package.tokenize.n" title="String">n</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#anorm.package.tokenize.x$9" title="(x: anorm.TokenGroup)List[anorm.TokenGroup]">::</a> <span title="List[anorm.TokenGroup]">groups</span><span class="delimiter">)</span>,
                <span class="delimiter">(</span><a href="#anorm.package.tokenize.n" title="String">n</a> <a href="#anorm.package.tokenize.x$11" title="(x: String)List[String]">::</a> <a href="#anorm.package.tokenize.ns" title="List[String]">ns</a><span class="delimiter">)</span>, <a href="#anorm.package.tokenize.m" title="Map[String,anorm.ParameterValue]">m</a> <span title="(kv: (String, anorm.ParameterValue))scala.collection.immutable.Map[String,anorm.ParameterValue]">+</span> <span class="delimiter">(</span><a href="#anorm.package.tokenize.n" title="(x: String)ArrowAssoc[String]">n</a> <span title="(y: anorm.ParameterValue)(String, anorm.ParameterValue)">-&gt;</span> <a href="#anorm.package.tokenize.v" title="anorm.ParameterValue">v</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">case</span> _ =&gt;
            sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;No parameter value for placeholder: &quot;)">No parameter value for placeholder: $</span><span class="delimiter">{</span><a href="#anorm.package.tokenize.gs" title="List[anorm.TokenGroup]">gs</a>.<span title="=&gt; Int">size</span><span class="delimiter">}</span><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">case</span> _ =&gt; <a href="#anorm.package.tokenize" title="(ti: Iterator[Any], tks: List[anorm.StatementToken], parts: Seq[String], ps: Seq[anorm.ParameterValue], gs: List[anorm.TokenGroup], ns: List[String], m: Map[String,anorm.ParameterValue])(anorm.TokenizedStatement, Map[String,anorm.ParameterValue])">tokenize</a><span class="delimiter">(</span><a href="#anorm.package.tokenize.ti" title="Iterator[Any]">ti</a>, <a href="#anorm.package.tokenize.tks" title="List[anorm.StatementToken]">tks</a>.<span title="=&gt; List[anorm.StatementToken]">tail</span>, <a href="#anorm.package.tokenize.parts" title="Seq[String]">parts</a>, <a href="#anorm.package.tokenize.ps" title="Seq[anorm.ParameterValue]">ps</a>,
          <span title="(xs: anorm.TokenGroup*)List[anorm.TokenGroup]">List</span><span class="delimiter">(</span><a href="../../anorm-tokenizer/anorm/TokenizedStatement.scala.html#anorm;TokenGroup" title="(prepared: List[anorm.StatementToken], placeholder: Option[String])anorm.TokenGroup">TokenGroup</a><span class="delimiter">(</span><a href="#anorm.package.tokenize.tks" title="List[anorm.StatementToken]">tks</a>, <span title="None.type">None</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#anorm.package.tokenize.ns" title="List[String]">ns</a>, <a href="#anorm.package.tokenize.m" title="Map[String,anorm.ParameterValue]">m</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#anorm.package.tokenize.parts" title="Seq[String]">parts</a>.<span title="=&gt; Option[String]">headOption</span> <span title="(anorm.TokenizedStatement, Map[String,anorm.ParameterValue])" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="String" id="anorm.package.tokenize.part">part</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Iterator[Object]" id="anorm.package.tokenize.it">it</a> = <span title="(i: java.util.Enumeration[Object])scala.collection.convert.Decorators.AsScala[Iterator[Object]]" class="keyword">new</span> <span title="java.util.StringTokenizer">StringTokenizer</span><span class="delimiter">(</span><a href="#anorm.package.tokenize.part" title="String">part</a>, <span title="String(&quot;%&quot;)" class="string">&quot;%&quot;</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>.<span title="=&gt; Iterator[Object]">asScala</span>

        <span title="(anorm.TokenizedStatement, Map[String,anorm.ParameterValue])" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#anorm.package.tokenize.it" title="Iterator[Object]">it</a>.<span title="=&gt; Boolean">hasNext</span> <span class="comment">/* empty */</span> <span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#anorm.package.tokenize" title="(ti: Iterator[Any], tks: List[anorm.StatementToken], parts: Seq[String], ps: Seq[anorm.ParameterValue], gs: List[anorm.TokenGroup], ns: List[String], m: Map[String,anorm.ParameterValue])(anorm.TokenizedStatement, Map[String,anorm.ParameterValue])">tokenize</a><span class="delimiter">(</span><a href="#anorm.package.tokenize.it" title="Iterator[Object]">it</a>, <span title="(xs: anorm.StringToken*)List[anorm.StringToken]">List</span><span class="delimiter">(</span><a href="../../anorm-tokenizer/anorm/TokenizedStatement.scala.html#anorm;StringToken" title="(value: String)anorm.StringToken">StringToken</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#anorm.package.tokenize.parts" title="Seq[String]">parts</a>.<span title="=&gt; Seq[String]">tail</span>, <a href="#anorm.package.tokenize.ps" title="Seq[anorm.ParameterValue]">ps</a>, <a href="#anorm.package.tokenize.gs" title="List[anorm.TokenGroup]">gs</a>, <a href="#anorm.package.tokenize.ns" title="List[String]">ns</a>, <a href="#anorm.package.tokenize.m" title="Map[String,anorm.ParameterValue]">m</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#anorm.package.tokenize" title="(ti: Iterator[Any], tks: List[anorm.StatementToken], parts: Seq[String], ps: Seq[anorm.ParameterValue], gs: List[anorm.TokenGroup], ns: List[String], m: Map[String,anorm.ParameterValue])(anorm.TokenizedStatement, Map[String,anorm.ParameterValue])">tokenize</a><span class="delimiter">(</span><a href="#anorm.package.tokenize.it" title="Iterator[Object]">it</a>, <a href="#anorm.package.tokenize.tks" title="List[anorm.StatementToken]">tks</a>, <a href="#anorm.package.tokenize.parts" title="Seq[String]">parts</a>.<span title="=&gt; Seq[String]">tail</span>, <a href="#anorm.package.tokenize.ps" title="Seq[anorm.ParameterValue]">ps</a>, <a href="#anorm.package.tokenize.gs" title="List[anorm.TokenGroup]">gs</a>, <a href="#anorm.package.tokenize.ns" title="List[String]">ns</a>, <a href="#anorm.package.tokenize.m" title="Map[String,anorm.ParameterValue]">m</a><span class="delimiter">)</span>

      <span class="keyword">case</span> _ =&gt;
        <span class="keyword">val</span> <span title="List[anorm.TokenGroup]">groups</span> = <span class="delimiter">(</span><span class="delimiter">(</span><a href="#anorm.package.tokenize.gs" title="List[anorm.TokenGroup]">gs</a> <span title="List[anorm.TokenGroup]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> TokenGroup<span class="delimiter">(</span><a href="#anorm.package.tokenize.groups.<unapply-selector>" title="(x: List[anorm.StatementToken])Some[List[anorm.StatementToken]]">List</a><span class="delimiter">(</span>StringToken<span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>, <span title="None.type">None</span><span class="delimiter">)</span> :: <a title="List[anorm.TokenGroup]" id="anorm.package.tokenize.groups.tgs">tgs</a> =&gt; <a href="#anorm.package.tokenize.groups.tgs" title="List[anorm.TokenGroup]">tgs</a> <span class="comment">// trim end</span>
          <span class="keyword">case</span> _ =&gt; <a href="#anorm.package.tokenize.gs" title="List[anorm.TokenGroup]">gs</a>
        <span class="delimiter">}</span><span class="delimiter">)</span> <span title="(f: anorm.TokenGroup =&gt; anorm.TokenGroup)(implicit bf: scala.collection.generic.CanBuildFrom[List[anorm.TokenGroup],anorm.TokenGroup,List[anorm.TokenGroup]])List[anorm.TokenGroup]">map</span> <a href="#anorm.package.tokenize.groups.$anonfun.x0$1" title="anorm.TokenGroup" class="delimiter">{</a>
          <span class="keyword">case</span> TokenGroup<span class="delimiter">(</span><a title="List[anorm.StatementToken]" id="anorm.package.tokenize.groups.$anonfun.pr">pr</a>, <a title="Option[String]" id="anorm.package.tokenize.groups.$anonfun.pl">pl</a><span class="delimiter">)</span> =&gt; <a href="../../anorm-tokenizer/anorm/TokenizedStatement.scala.html#anorm;TokenGroup" title="(prepared: List[anorm.StatementToken], placeholder: Option[String])anorm.TokenGroup">TokenGroup</a><span class="delimiter">(</span><a href="#anorm.package.tokenize.groups.$anonfun.pr" title="List[anorm.StatementToken]">pr</a>.<span title="=&gt; List[anorm.StatementToken]">reverse</span>, <a href="#anorm.package.tokenize.groups.$anonfun.pl" title="Option[String]">pl</a><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>.<span title="=&gt; List[anorm.TokenGroup]">reverse</span>

        <a href="../../anorm-tokenizer/anorm/TokenizedStatement.scala.html#anorm;TokenizedStatement" title="(tokens: List[anorm.TokenGroup], names: List[String])anorm.TokenizedStatement">TokenizedStatement</a><span title="(x: anorm.TokenizedStatement)ArrowAssoc[anorm.TokenizedStatement]" class="delimiter">(</span><span title="List[anorm.TokenGroup]">groups</span>, <a href="#anorm.package.tokenize.ns" title="List[String]">ns</a>.<span title="=&gt; List[String]">reverse</span><span class="delimiter">)</span> <span title="(y: Map[String,anorm.ParameterValue])(anorm.TokenizedStatement, Map[String,anorm.ParameterValue])">-&gt;</span> <a href="#anorm.package.tokenize.m" title="Map[String,anorm.ParameterValue]">m</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">// Optimized resource typeclass not using reflection</span>
  <span class="keyword">object</span> <a title="anorm.package.StatementResource.type" id="anorm.package.StatementResource">StatementResource</a>
      <a href="#anorm.package.StatementResource" title="anorm.package.StatementResource.type" class="keyword">extends</a> resource.<span title="resource.Resource[java.sql.PreparedStatement]">Resource</span><span class="delimiter">[</span>java.sql.PreparedStatement<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(stmt: java.sql.PreparedStatement)Unit" id="anorm.package.StatementResource.close">close</a><span class="delimiter">(</span><a title="java.sql.PreparedStatement" id="anorm.package.StatementResource.close.stmt">stmt</a>: java.sql.<span title="java.sql.PreparedStatement">PreparedStatement</span><span class="delimiter">)</span> = <a href="#anorm.package.StatementResource.close.stmt" title="java.sql.PreparedStatement">stmt</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">// Optimized resource typeclass not using reflection</span>
  <span class="keyword">object</span> <a title="anorm.package.ResultSetResource.type" id="anorm.package.ResultSetResource">ResultSetResource</a> <a href="#anorm.package.ResultSetResource" title="anorm.package.ResultSetResource.type" class="keyword">extends</a> resource.<span title="resource.Resource[java.sql.ResultSet]">Resource</span><span class="delimiter">[</span>java.sql.ResultSet<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(rs: java.sql.ResultSet)Unit" id="anorm.package.ResultSetResource.close">close</a><span class="delimiter">(</span><a title="java.sql.ResultSet" id="anorm.package.ResultSetResource.close.rs">rs</a>: java.sql.<span title="java.sql.ResultSet">ResultSet</span><span class="delimiter">)</span> = <a href="#anorm.package.ResultSetResource.close.rs" title="java.sql.ResultSet">rs</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Activable features */</span>
  <span class="keyword">object</span> <a title="anorm.package.features.type" id="anorm.package.features">features</a> <a href="#anorm.package.features" title="anorm.package.features.type" class="delimiter">{</a>

    <span class="comment">/**
     * Conversion for parameter with untyped named.
     *
     * {{{
     * // For backward compatibility
     * import anorm.features.parameterWithUntypedName
     *
     * val untyped: Any = &quot;name&quot;
     * SQL(&quot;SELECT * FROM Country WHERE {p}&quot;).on(untyped -&gt; &quot;val&quot;)
     * }}}
     */</span>
    @deprecated<span class="delimiter">(</span>
      message = <span class="string">&quot;Use typed name for parameter, either string or symbol&quot;</span>,
      since = <span class="string">&quot;2.3.0&quot;</span><span class="delimiter">)</span>
    <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[V](t: (Any, V))(implicit c: V =&gt; anorm.ParameterValue)anorm.NamedParameter" id="anorm.package.features.parameterWithUntypedName">parameterWithUntypedName</a><span class="delimiter">[</span><a title="" id="anorm.package.features.parameterWithUntypedName;V">V</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Any, V)" id="anorm.package.features.parameterWithUntypedName.t">t</a>: <span title="(Any, V)" class="delimiter">(</span>Any, V<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="V =&gt; anorm.ParameterValue" id="anorm.package.features.parameterWithUntypedName.c">c</a>: V =&gt; ParameterValue<span class="delimiter">)</span>: <a href="Anorm.scala.html#anorm;NamedParameter" title="anorm.NamedParameter">NamedParameter</a> = <a href="Anorm.scala.html#anorm;NamedParameter" title="(name: String, value: anorm.ParameterValue)anorm.NamedParameter">NamedParameter</a><span class="delimiter">(</span><a href="#anorm.package.features.parameterWithUntypedName.t" title="(Any, V)">t</a>.<span title="=&gt; Any">_1</span>.<span title="()String">toString</span>, <a href="#anorm.package.features.parameterWithUntypedName.c" title="(v1: V)anorm.ParameterValue">c</a><span class="delimiter">(</span><a href="#anorm.package.features.parameterWithUntypedName.t" title="(Any, V)">t</a>.<span title="=&gt; V">_2</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/**
     * Unsafe conversion from untyped value to statement parameter.
     * Value will be passed using setObject.
     *
     * It's not recommanded to use it as it can hide conversion issue.
     *
     * {{{
     * // For backward compatibility
     * import anorm.features.anyToStatement
     *
     * val d = new java.util.Date()
     * val params: Seq[NamedParameter] = Seq(&quot;mod&quot; -&gt; d, &quot;id&quot; -&gt; &quot;idv&quot;)
     * // Values as Any as heterogenous
     *
     * SQL(&quot;UPDATE item SET last_modified = {mod} WHERE id = {id}&quot;).
     *   on(params:_*)
     * // date and string passed with setObject, rather than
     * // setDate and setString.
     * }}}
     */</span>
    @deprecated<span class="delimiter">(</span>
      message = <span class="string">&quot;Do not passed parameter as untyped/Any value&quot;</span>,
      since = <span class="string">&quot;2.3.0&quot;</span><span class="delimiter">)</span>
    <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[T]=&gt; anorm.ToStatement[T]" id="anorm.package.features.anyToStatement">anyToStatement</a><span class="delimiter">[</span><a title="" id="anorm.package.features.anyToStatement;T">T</a><span class="delimiter">]</span> = <a href="#anorm.package.features.anyToStatement;$anon" title="anorm.ToStatement[T]" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with anorm.ToStatement[T]" id="anorm.package.features.anyToStatement;$anon">ToStatement</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(s: java.sql.PreparedStatement, i: Int, any: T)Unit" id="anorm.package.features.anyToStatement;$anon.set">set</a><span class="delimiter">(</span><a title="java.sql.PreparedStatement" id="anorm.package.features.anyToStatement;$anon.set.s">s</a>: java.sql.<span title="java.sql.PreparedStatement">PreparedStatement</span>, <a title="Int" id="anorm.package.features.anyToStatement;$anon.set.i">i</a>: <span title="Int">Int</span>, <a title="T" id="anorm.package.features.anyToStatement;$anon.set.any">any</a>: <a href="#anorm.package.features.anyToStatement;T" title="T">T</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
        <a href="#anorm.package.features.anyToStatement;$anon.set.s" title="java.sql.PreparedStatement">s</a>.<span title="(x$1: Int, x$2: Any)Unit">setObject</span><span class="delimiter">(</span><a href="#anorm.package.features.anyToStatement;$anon.set.i" title="Int">i</a>, <a href="#anorm.package.features.anyToStatement;$anon.set.any" title="T">any</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span title="AnyRef" class="delimiter">}</span>

        </pre>
    </body>
</html>
