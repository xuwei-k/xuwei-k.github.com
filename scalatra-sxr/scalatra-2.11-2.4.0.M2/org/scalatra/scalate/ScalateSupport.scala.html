<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>org/scalatra/scalate/ScalateSupport.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
package org.scalatra
package scalate

import scala.collection.mutable
import java.io.<span class="delimiter">{</span>StringWriter, PrintWriter<span class="delimiter">}</span>
import javax.servlet.<span class="delimiter">{</span>ServletContext, ServletConfig, FilterConfig<span class="delimiter">}</span>
import javax.servlet.http.<span class="delimiter">{</span>HttpServletResponse, HttpServletRequest<span class="delimiter">}</span>
import org.fusesource.scalate.<span class="delimiter">{</span>TemplateEngine, Binding, RenderContext<span class="delimiter">}</span>
import org.fusesource.scalate.layout.DefaultLayoutStrategy
import org.fusesource.scalate.servlet.<span class="delimiter">{</span>ServletRenderContext, ServletTemplateEngine<span class="delimiter">}</span>
import org.fusesource.scalate.support.TemplateFinder
import java.util.concurrent.atomic.AtomicReference

object <a title="org.scalatra.scalate.ScalateSupport.type" id="org.scalatra.scalate.ScalateSupport">ScalateSupport</a> <a href="#org.scalatra.scalate.ScalateSupport" title="org.scalatra.scalate.ScalateSupport.type" class="delimiter">{</a>
  val <a title="Seq[String]" id="org.scalatra.scalate.ScalateSupport.DefaultLayouts">DefaultLayouts</a> = <span title="(elems: String*)Seq[String]">Seq</span><span class="delimiter">(</span>
    <span title="String(&quot;/WEB-INF/layouts/default&quot;)" class="string">&quot;/WEB-INF/layouts/default&quot;</span>,
    <span title="String(&quot;/WEB-INF/scalate/layouts/default&quot;)" class="string">&quot;/WEB-INF/scalate/layouts/default&quot;</span>
  <span class="delimiter">)</span>
  private def <a title="(engine: org.fusesource.scalate.TemplateEngine)Unit" id="org.scalatra.scalate.ScalateSupport.setLayoutStrategy">setLayoutStrategy</a><span class="delimiter">(</span><a title="org.fusesource.scalate.TemplateEngine" id="org.scalatra.scalate.ScalateSupport.setLayoutStrategy.engine">engine</a>: <span title="org.fusesource.scalate.TemplateEngine">TemplateEngine</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="Seq[String]" id="org.scalatra.scalate.ScalateSupport.setLayoutStrategy.layouts">layouts</a> = for <span class="delimiter">{</span>
      <a title="String" id="org.scalatra.scalate.ScalateSupport.setLayoutStrategy.layouts.$anonfun.base">base</a> &lt;- <a href="#org.scalatra.scalate.ScalateSupport" title="org.scalatra.scalate.ScalateSupport.type">ScalateSupport</a>.<a href="#org.scalatra.scalate.ScalateSupport.DefaultLayouts" title="(f: String =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[String],String,Seq[String]])Seq[String]">DefaultLayouts</a>
      <a title="String" id="org.scalatra.scalate.ScalateSupport.setLayoutStrategy.layouts.$anonfun.$anonfun.extension">extension</a> &lt;- <span title="org.fusesource.scalate.TemplateEngine.type">TemplateEngine</span>.<span title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">templateTypes</span>
    <span class="delimiter">}</span> yield <span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s.%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#org.scalatra.scalate.ScalateSupport.setLayoutStrategy.layouts.$anonfun.base" title="String">base</a>, <a href="#org.scalatra.scalate.ScalateSupport.setLayoutStrategy.layouts.$anonfun.$anonfun.extension" title="String">extension</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#org.scalatra.scalate.ScalateSupport.setLayoutStrategy.engine" title="org.fusesource.scalate.TemplateEngine">engine</a>.<span title="(x$1: org.fusesource.scalate.layout.LayoutStrategy)Unit">layoutStrategy</span> = new <span title="org.fusesource.scalate.layout.DefaultLayoutStrategy">DefaultLayoutStrategy</span><span class="delimiter">(</span><a href="#org.scalatra.scalate.ScalateSupport.setLayoutStrategy.engine" title="org.fusesource.scalate.TemplateEngine">engine</a>, <a href="#org.scalatra.scalate.ScalateSupport.setLayoutStrategy.layouts" title="Seq[String]">layouts</a>:_*<span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private val <a title="String" id="org.scalatra.scalate.ScalateSupport.TemplateAttributesKey">TemplateAttributesKey</a> = <span title="String(&quot;org.scalatra.scalate.ScalateSupport.TemplateAttributes&quot;)" class="string">&quot;org.scalatra.scalate.ScalateSupport.TemplateAttributes&quot;</span>

  private val <a title="java.util.concurrent.atomic.AtomicReference[org.fusesource.scalate.TemplateEngine]" id="org.scalatra.scalate.ScalateSupport.templateEngineInstance">templateEngineInstance</a>: <span title="java.util.concurrent.atomic.AtomicReference[org.fusesource.scalate.TemplateEngine]">AtomicReference</span><span class="delimiter">[</span>TemplateEngine<span class="delimiter">]</span> = new <span title="java.util.concurrent.atomic.AtomicReference[org.fusesource.scalate.TemplateEngine]">AtomicReference</span><span class="delimiter">[</span>TemplateEngine<span class="delimiter">]</span><span class="delimiter">(</span>null<span class="delimiter">)</span>

  def <a title="(init: =&gt; org.fusesource.scalate.TemplateEngine)org.fusesource.scalate.TemplateEngine" id="org.scalatra.scalate.ScalateSupport.scalateTemplateEngine">scalateTemplateEngine</a><span class="delimiter">(</span><a title="=&gt; org.fusesource.scalate.TemplateEngine" id="org.scalatra.scalate.ScalateSupport.scalateTemplateEngine.init">init</a>: =&gt; TemplateEngine<span class="delimiter">)</span>: <span title="org.fusesource.scalate.TemplateEngine">TemplateEngine</span> = <span class="delimiter">{</span>
    <a href="#org.scalatra.scalate.ScalateSupport.templateEngineInstance" title="=&gt; java.util.concurrent.atomic.AtomicReference[org.fusesource.scalate.TemplateEngine]">templateEngineInstance</a>.<span title="(x$1: org.fusesource.scalate.TemplateEngine, x$2: org.fusesource.scalate.TemplateEngine)Boolean">compareAndSet</span><span class="delimiter">(</span>null, <a href="#org.scalatra.scalate.ScalateSupport.scalateTemplateEngine.init" title="=&gt; org.fusesource.scalate.TemplateEngine">init</a><span class="delimiter">)</span>
    <a href="#org.scalatra.scalate.ScalateSupport.templateEngineInstance" title="=&gt; java.util.concurrent.atomic.AtomicReference[org.fusesource.scalate.TemplateEngine]">templateEngineInstance</a>.<span title="()org.fusesource.scalate.TemplateEngine">get</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * ScalateSupport creates and configures a template engine and provides
 * helper methods and bindings to integrate with the ScalatraKernel.
 */</span>
trait <a title="trait ScalateSupport extends AnyRef with org.scalatra.ScalatraKernel" id="org.scalatra.scalate;ScalateSupport">ScalateSupport</a> extends <a href="../servlet/ServletBase.scala.html#org.scalatra.servlet;ServletBase" title="org.scalatra.ScalatraKernel">ScalatraKernel</a> <span class="delimiter">{</span>
  <span class="comment">/**
   * The template engine used by the methods in this support class.  It
   * provides a lower-level interface to Scalate and may be used directly
   * to circumvent the conventions imposed by the helpers in this class.
   * For instance, paths passed directly to the template engine are not
   * run through `findTemplate`.
   */</span>
  protected<span class="delimiter">[</span>scalatra<span class="delimiter">]</span> var <a title="org.fusesource.scalate.TemplateEngine" id="org.scalatra.scalate;ScalateSupport.templateEngine_=">templateEngine</a>: <span title="org.fusesource.scalate.TemplateEngine">TemplateEngine</span> = _

  abstract override def <a title="(config: ScalateSupport.this.ConfigT)Unit" id="org.scalatra.scalate;ScalateSupport.initialize">initialize</a><span class="delimiter">(</span><a title="ScalateSupport.this.ConfigT" id="org.scalatra.scalate;ScalateSupport.initialize.config">config</a>: <a href="../servlet/ServletBase.scala.html#org.scalatra.servlet;ServletBase;ConfigT" title="ScalateSupport.this.ConfigT">ConfigT</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    super.<a href="../ScalatraBase.scala.html#org.scalatra;ScalatraBase.initialize" title="(config: ScalateSupport.this.ConfigT)Unit">initialize</a><span class="delimiter">(</span><a href="#org.scalatra.scalate;ScalateSupport.initialize.config" title="ScalateSupport.this.ConfigT">config</a><span class="delimiter">)</span>
    <a href="#org.scalatra.scalate;ScalateSupport.templateEngine_=" title="(x$1: org.fusesource.scalate.TemplateEngine)Unit">templateEngine</a> = <a href="#org.scalatra.scalate;ScalateSupport.createTemplateEngine" title="(config: ScalateSupport.this.ConfigT)org.fusesource.scalate.TemplateEngine">createTemplateEngine</a><span class="delimiter">(</span><a href="#org.scalatra.scalate;ScalateSupport.initialize.config" title="ScalateSupport.this.ConfigT">config</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  abstract override def <a title="()Unit" id="org.scalatra.scalate;ScalateSupport.shutdown">shutdown</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#org.scalatra.scalate;ScalateSupport.templateEngine_=" title="=&gt; org.fusesource.scalate.TemplateEngine">templateEngine</a> <span title="(x$1: Any)Boolean">!=</span> null<span class="delimiter">)</span> <a href="#org.scalatra.scalate;ScalateSupport.templateEngine_=" title="=&gt; org.fusesource.scalate.TemplateEngine">templateEngine</a>.<span title="=&gt; org.fusesource.scalate.support.Compiler">compiler</span>.<span title="()Unit">shutdown</span><span class="delimiter">(</span><span class="delimiter">)</span>
    super.<a href="../Initializable.scala.html#org.scalatra;Initializable.shutdown" title="()Unit">shutdown</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Creates the templateEngine from the config.  There is little reason to
   * override this unless you have created a ScalatraKernel extension outside
   * an HttpServlet or Filter.
   */</span>
  protected def <a title="(config: ScalateSupport.this.ConfigT)org.fusesource.scalate.TemplateEngine" id="org.scalatra.scalate;ScalateSupport.createTemplateEngine">createTemplateEngine</a><span class="delimiter">(</span><a title="ScalateSupport.this.ConfigT" id="org.scalatra.scalate;ScalateSupport.createTemplateEngine.config">config</a>: <a href="../servlet/ServletBase.scala.html#org.scalatra.servlet;ServletBase;ConfigT" title="ScalateSupport.this.ConfigT">ConfigT</a><span class="delimiter">)</span>: <span title="org.fusesource.scalate.TemplateEngine">TemplateEngine</span> =
    <a href="#org.scalatra.scalate;ScalateSupport.createTemplateEngine.config" title="ScalateSupport.this.ConfigT">config</a> match <span class="delimiter">{</span>
      case <a title="javax.servlet.ServletConfig" id="org.scalatra.scalate;ScalateSupport.createTemplateEngine.servletConfig">servletConfig</a>: <span title="javax.servlet.ServletConfig">ServletConfig</span> =&gt;
        <a href="#org.scalatra.scalate.ScalateSupport" title="org.scalatra.scalate.ScalateSupport.type">ScalateSupport</a>.<a href="#org.scalatra.scalate.ScalateSupport.scalateTemplateEngine" title="(init: =&gt; org.fusesource.scalate.TemplateEngine)org.fusesource.scalate.TemplateEngine">scalateTemplateEngine</a><span class="delimiter">(</span>new <span title="&lt;$anon: org.fusesource.scalate.servlet.ServletTemplateEngine with ScalateSupport.this.ScalatraTemplateEngine&gt; extends org.fusesource.scalate.servlet.ServletTemplateEngine with ScalateSupport.this.ScalatraTemplateEngine">ServletTemplateEngine</span><span class="delimiter">(</span><a href="#org.scalatra.scalate;ScalateSupport.createTemplateEngine.servletConfig" title="implicit org.fusesource.scalate.servlet.Config.servletConfig2Config : (servletConfig: javax.servlet.ServletConfig)org.fusesource.scalate.servlet.Config">servletConfig</a><span class="delimiter">)</span> with <a href="#org.scalatra.scalate;ScalateSupport;ScalatraTemplateEngine" title="ScalateSupport.this.ScalatraTemplateEngine">ScalatraTemplateEngine</a><span class="delimiter">)</span>
      case <a title="javax.servlet.FilterConfig" id="org.scalatra.scalate;ScalateSupport.createTemplateEngine.filterConfig">filterConfig</a>: <span title="javax.servlet.FilterConfig">FilterConfig</span> =&gt;
        <a href="#org.scalatra.scalate.ScalateSupport" title="org.scalatra.scalate.ScalateSupport.type">ScalateSupport</a>.<a href="#org.scalatra.scalate.ScalateSupport.scalateTemplateEngine" title="(init: =&gt; org.fusesource.scalate.TemplateEngine)org.fusesource.scalate.TemplateEngine">scalateTemplateEngine</a><span class="delimiter">(</span>new <span title="&lt;$anon: org.fusesource.scalate.servlet.ServletTemplateEngine with ScalateSupport.this.ScalatraTemplateEngine&gt; extends org.fusesource.scalate.servlet.ServletTemplateEngine with ScalateSupport.this.ScalatraTemplateEngine">ServletTemplateEngine</span><span class="delimiter">(</span><a href="#org.scalatra.scalate;ScalateSupport.createTemplateEngine.filterConfig" title="implicit org.fusesource.scalate.servlet.Config.filterConfig2Config : (filterConfig: javax.servlet.FilterConfig)org.fusesource.scalate.servlet.Config">filterConfig</a><span class="delimiter">)</span> with <a href="#org.scalatra.scalate;ScalateSupport;ScalatraTemplateEngine" title="ScalateSupport.this.ScalatraTemplateEngine">ScalatraTemplateEngine</a><span class="delimiter">)</span>
      case _ =&gt;
        <span class="comment">// Don't know how to convert your Config to something that</span>
        <span class="comment">// ServletTemplateEngine can accept, so fall back to a TemplateEngine</span>
        <a href="#org.scalatra.scalate.ScalateSupport" title="org.scalatra.scalate.ScalateSupport.type">ScalateSupport</a>.<a href="#org.scalatra.scalate.ScalateSupport.scalateTemplateEngine" title="(init: =&gt; org.fusesource.scalate.TemplateEngine)org.fusesource.scalate.TemplateEngine">scalateTemplateEngine</a><span class="delimiter">(</span>new <span title="&lt;$anon: org.fusesource.scalate.TemplateEngine with ScalateSupport.this.ScalatraTemplateEngine&gt; extends org.fusesource.scalate.TemplateEngine with ScalateSupport.this.ScalatraTemplateEngine">TemplateEngine</span> with <a href="#org.scalatra.scalate;ScalateSupport;ScalatraTemplateEngine" title="ScalateSupport.this.ScalatraTemplateEngine">ScalatraTemplateEngine</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * A TemplateEngine integrated with Scalatra.
   *
   * A ScalatraTemplateEngine looks for layouts in `/WEB-INF/layouts` before
   * searching the default `/WEB-INF/scalate/layouts`.
   */</span>
  trait <a title="trait ScalatraTemplateEngine extends AnyRef" id="org.scalatra.scalate;ScalateSupport;ScalatraTemplateEngine">ScalatraTemplateEngine</a> <span title="Unit" class="delimiter">{</span>
    this: TemplateEngine =&gt;

    <span class="comment">/**
     * Delegates to the ScalatraKernel's isDevelopmentMode flag.
     */</span>
    override def <a title="=&gt; Boolean" id="org.scalatra.scalate;ScalateSupport;ScalatraTemplateEngine.isDevelopmentMode">isDevelopmentMode</a> = <a href="#org.scalatra.scalate;ScalateSupport" title="ScalateSupport.this.type">ScalateSupport</a>.this.<a href="../ScalatraBase.scala.html#org.scalatra;ScalatraBase.isDevelopmentMode" title="=&gt; Boolean">isDevelopmentMode</a>

    <a href="#org.scalatra.scalate.ScalateSupport" title="org.scalatra.scalate.ScalateSupport.type">ScalateSupport</a>.<a href="#org.scalatra.scalate.ScalateSupport.setLayoutStrategy" title="(engine: org.fusesource.scalate.TemplateEngine)Unit">setLayoutStrategy</a><span class="delimiter">(</span>this<span class="delimiter">)</span>
    <a href="#org.scalatra.scalate;ScalateSupport;ScalatraTemplateEngine" title="(x$1: List[String])Unit">templateDirectories</a> = <a href="#org.scalatra.scalate;ScalateSupport.defaultTemplatePath" title="=&gt; List[String]">defaultTemplatePath</a>
    <a href="#org.scalatra.scalate;ScalateSupport;ScalatraTemplateEngine" title="(x$1: List[org.fusesource.scalate.Binding])Unit">bindings</a> <span title="(x: org.fusesource.scalate.Binding)List[org.fusesource.scalate.Binding]">::=</span> <a title="Option[String] @scala.reflect.internal.annotations.uncheckedBounds" id="org.scalatra.scalate;ScalateSupport;ScalatraTemplateEngine.<local ScalatraTemplateEngine>.x$8">Binding</a><span class="delimiter">(</span><a title="String" id="org.scalatra.scalate;ScalateSupport;ScalatraTemplateEngine.<local ScalatraTemplateEngine>.x$1" class="string">&quot;context&quot;</a>, <span title="String(&quot;_root_.&quot;)" class="string">&quot;_root_.&quot;</span><a title="String" id="org.scalatra.scalate;ScalateSupport;ScalatraTemplateEngine.<local ScalatraTemplateEngine>.x$2">+</a>classOf<span title="Class[org.scalatra.scalate.ScalatraRenderContext](classOf[org.scalatra.scalate.ScalatraRenderContext])" class="delimiter">[</span>ScalatraRenderContext<span class="delimiter">]</span>.<span title="()String">getName</span>, importMembers = true, isImplicit = true<span class="delimiter">)</span>
    <a href="#org.scalatra.scalate;ScalateSupport;ScalatraTemplateEngine" title="(x$1: List[String])Unit">importStatements</a> <span title="(x: String)List[String]">::=</span> <span title="String(&quot;import org.scalatra.servlet.ServletApiImplicits._&quot;)" class="string">&quot;import org.scalatra.servlet.ServletApiImplicits._&quot;</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Creates a render context to be used by default in the template engine.
   *
   * Returns a ScalatraRenderContext by default in order to bind some other
   * framework variables (e.g., multiParams, flash).  ScalatraTemplateEngine
   * assumes this returns ScalatraRenderContext in its binding of &quot;context&quot;.
   * If you return something other than a ScalatraRenderContext, you will
   * also want to redefine that binding.
   */</span>
  protected def <a title="(req: javax.servlet.http.HttpServletRequest, resp: javax.servlet.http.HttpServletResponse, out: java.io.PrintWriter)org.fusesource.scalate.RenderContext" id="org.scalatra.scalate;ScalateSupport.createRenderContext">createRenderContext</a><span class="delimiter">(</span><a title="javax.servlet.http.HttpServletRequest" id="org.scalatra.scalate;ScalateSupport.createRenderContext$default$1">req</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span> = <a href="../DynamicScope.scala.html#org.scalatra;DynamicScope.request" title="=&gt; javax.servlet.http.HttpServletRequest">request</a>, <a title="javax.servlet.http.HttpServletResponse" id="org.scalatra.scalate;ScalateSupport.createRenderContext$default$2">resp</a>: <span title="javax.servlet.http.HttpServletResponse">HttpServletResponse</span> = <a href="../DynamicScope.scala.html#org.scalatra;DynamicScope.response" title="=&gt; javax.servlet.http.HttpServletResponse">response</a>, <a title="java.io.PrintWriter" id="org.scalatra.scalate;ScalateSupport.createRenderContext$default$3">out</a>: <span title="java.io.PrintWriter">PrintWriter</span> = <a href="../DynamicScope.scala.html#org.scalatra;DynamicScope.response" title="=&gt; javax.servlet.http.HttpServletResponse">response</a>.<span title="()java.io.PrintWriter">getWriter</span><span class="delimiter">)</span>: <span title="org.fusesource.scalate.RenderContext">RenderContext</span> = <span class="delimiter">{</span>
    new <a href="ScalatraRenderContext.scala.html#org.scalatra.scalate;ScalatraRenderContext" title="org.scalatra.scalate.ScalatraRenderContext">ScalatraRenderContext</a><span class="delimiter">(</span>this, <a href="#org.scalatra.scalate;ScalateSupport.templateEngine_=" title="=&gt; org.fusesource.scalate.TemplateEngine">templateEngine</a>, <a href="#org.scalatra.scalate;ScalateSupport.createRenderContext$default$3" title="java.io.PrintWriter">out</a>, <a href="#org.scalatra.scalate;ScalateSupport.createRenderContext$default$1" title="javax.servlet.http.HttpServletRequest">req</a>, <a href="#org.scalatra.scalate;ScalateSupport.createRenderContext$default$2" title="javax.servlet.http.HttpServletResponse">resp</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Creates a render context and renders directly to that.  No template
   * search is performed, and the layout strategy is circumvented.  Clients
   * are urged to consider layoutTemplate instead.
   */</span>
  @deprecated<span class="delimiter">(</span><span class="string">&quot;not idiomatic Scalate; consider layoutTemplate instead&quot;</span>, <span class="string">&quot;2.0.0&quot;</span><span class="delimiter">)</span>
  def <a title="(path: String, attributes: (String, Any)*)(implicit request: javax.servlet.http.HttpServletRequest, implicit response: javax.servlet.http.HttpServletResponse)Unit" id="org.scalatra.scalate;ScalateSupport.renderTemplate">renderTemplate</a><span class="delimiter">(</span><a title="String" id="org.scalatra.scalate;ScalateSupport.renderTemplate.path">path</a>: <span title="String">String</span>, <a title="(String, Any)*" id="org.scalatra.scalate;ScalateSupport.renderTemplate.attributes">attributes</a>: <span title="(String, Any)*" class="delimiter">(</span>String, Any<span class="delimiter">)</span>*<span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra.scalate;ScalateSupport.renderTemplate.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span>, <a title="javax.servlet.http.HttpServletResponse" id="org.scalatra.scalate;ScalateSupport.renderTemplate.response">response</a>: <span title="javax.servlet.http.HttpServletResponse">HttpServletResponse</span><span class="delimiter">)</span> =
    <a href="#org.scalatra.scalate;ScalateSupport.createRenderContext" title="(req: javax.servlet.http.HttpServletRequest, resp: javax.servlet.http.HttpServletResponse, out: java.io.PrintWriter)org.fusesource.scalate.RenderContext">createRenderContext</a><span class="delimiter">(</span><a href="#org.scalatra.scalate;ScalateSupport.renderTemplate.request" title="javax.servlet.http.HttpServletRequest">request</a>, <a href="#org.scalatra.scalate;ScalateSupport.renderTemplate.response" title="javax.servlet.http.HttpServletResponse">response</a>, <a href="../servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichResponse" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichResponse : (response: javax.servlet.http.HttpServletResponse)org.scalatra.servlet.RichResponse">response</a>.<a href="../servlet/RichResponse.scala.html#org.scalatra.servlet;RichResponse.writer" title="=&gt; java.io.PrintWriter">writer</a><span class="delimiter">)</span>.<span title="(path: String, attributeMap: Map[String,Any])Unit">render</span><span class="delimiter">(</span><a href="#org.scalatra.scalate;ScalateSupport.renderTemplate.path" title="String">path</a>, <span title="(elems: (String, Any)*)scala.collection.immutable.Map[String,Any]">Map</span><span class="delimiter">(</span><a href="#org.scalatra.scalate;ScalateSupport.renderTemplate.attributes" title="(String, Any)*">attributes</a> : _*<span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Flag whether the Scalate error page is enabled.  If true, uncaught
   * exceptions will be caught and rendered by the Scalate error page.
   *
   * The default is true.
   */</span>
  protected def <a title="=&gt; Boolean" id="org.scalatra.scalate;ScalateSupport.isScalateErrorPageEnabled">isScalateErrorPageEnabled</a> = true

  abstract override def <a title="(req: javax.servlet.http.HttpServletRequest, res: javax.servlet.http.HttpServletResponse)Unit" id="org.scalatra.scalate;ScalateSupport.handle">handle</a><span class="delimiter">(</span><a title="javax.servlet.http.HttpServletRequest" id="org.scalatra.scalate;ScalateSupport.handle.req">req</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span>, <a title="javax.servlet.http.HttpServletResponse" id="org.scalatra.scalate;ScalateSupport.handle.res">res</a>: <span title="javax.servlet.http.HttpServletResponse">HttpServletResponse</span><span class="delimiter">)</span> <span class="delimiter">{</span>
<span class="comment">//    try {</span>
      super.<a href="../servlet/ServletBase.scala.html#org.scalatra.servlet;ServletBase.handle" title="(request: javax.servlet.http.HttpServletRequest, response: javax.servlet.http.HttpServletResponse)Unit">handle</a><span class="delimiter">(</span><a href="#org.scalatra.scalate;ScalateSupport.handle.req" title="javax.servlet.http.HttpServletRequest">req</a>, <a href="#org.scalatra.scalate;ScalateSupport.handle.res" title="javax.servlet.http.HttpServletResponse">res</a><span class="delimiter">)</span>
<span class="comment">//    }</span>
<span class="comment">//    catch {</span>
<span class="comment">//      case e if isScalateErrorPageEnabled =&gt; renderScalateErrorPage(req, res, e)</span>
<span class="comment">//    }</span>
  <span class="delimiter">}</span>


  override protected def <a title="(e: Throwable)(implicit request: javax.servlet.http.HttpServletRequest, implicit response: javax.servlet.http.HttpServletResponse)Unit" id="org.scalatra.scalate;ScalateSupport.renderUncaughtException">renderUncaughtException</a><span class="delimiter">(</span><a title="Throwable" id="org.scalatra.scalate;ScalateSupport.renderUncaughtException.e">e</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra.scalate;ScalateSupport.renderUncaughtException.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span>, <a title="javax.servlet.http.HttpServletResponse" id="org.scalatra.scalate;ScalateSupport.renderUncaughtException.response">response</a>: <span title="javax.servlet.http.HttpServletResponse">HttpServletResponse</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#org.scalatra.scalate;ScalateSupport.isScalateErrorPageEnabled" title="=&gt; Boolean">isScalateErrorPageEnabled</a><span class="delimiter">)</span> <a href="#org.scalatra.scalate;ScalateSupport.renderScalateErrorPage" title="(req: javax.servlet.http.HttpServletRequest, resp: javax.servlet.http.HttpServletResponse, e: Throwable)Unit">renderScalateErrorPage</a><span class="delimiter">(</span><a href="#org.scalatra.scalate;ScalateSupport.renderUncaughtException.request" title="javax.servlet.http.HttpServletRequest">request</a>, <a href="#org.scalatra.scalate;ScalateSupport.renderUncaughtException.response" title="javax.servlet.http.HttpServletResponse">response</a>, <a href="#org.scalatra.scalate;ScalateSupport.renderUncaughtException.e" title="Throwable">e</a><span class="delimiter">)</span>
    else super.<a href="../ScalatraBase.scala.html#org.scalatra;ScalatraBase.renderUncaughtException" title="(e: Throwable)(implicit request: javax.servlet.http.HttpServletRequest, implicit response: javax.servlet.http.HttpServletResponse)Unit">renderUncaughtException</a><a href="#org.scalatra.scalate;ScalateSupport.renderUncaughtException.request" title="javax.servlet.http.HttpServletRequest" class="delimiter">(</a><a href="#org.scalatra.scalate;ScalateSupport.renderUncaughtException.e" title="Throwable">e</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">// Hack: Have to pass it the request and response, because we're outside the</span>
  <span class="comment">// scope of the super handler.</span>
  private<span class="delimiter">[</span>this<span class="delimiter">]</span> def <a title="(req: javax.servlet.http.HttpServletRequest, resp: javax.servlet.http.HttpServletResponse, e: Throwable)Unit" id="org.scalatra.scalate;ScalateSupport.renderScalateErrorPage">renderScalateErrorPage</a><span class="delimiter">(</span><a title="javax.servlet.http.HttpServletRequest" id="org.scalatra.scalate;ScalateSupport.renderScalateErrorPage.req">req</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span>, <a title="javax.servlet.http.HttpServletResponse" id="org.scalatra.scalate;ScalateSupport.renderScalateErrorPage.resp">resp</a>: <span title="javax.servlet.http.HttpServletResponse">HttpServletResponse</span>, <a title="Throwable" id="org.scalatra.scalate;ScalateSupport.renderScalateErrorPage.e">e</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#org.scalatra.scalate;ScalateSupport.renderScalateErrorPage.resp" title="javax.servlet.http.HttpServletResponse">resp</a>.<span title="(x$1: Int)Unit">setStatus</span><span class="delimiter">(</span><span title="Int(500)" class="int">500</span><span class="delimiter">)</span>
    <a href="#org.scalatra.scalate;ScalateSupport.renderScalateErrorPage.resp" title="javax.servlet.http.HttpServletResponse">resp</a>.<span title="(x$1: String)Unit">setContentType</span><span class="delimiter">(</span><span title="String(&quot;text/html&quot;)" class="string">&quot;text/html&quot;</span><span class="delimiter">)</span>
    val <a title="org.fusesource.scalate.Template" id="org.scalatra.scalate;ScalateSupport.renderScalateErrorPage.errorPage">errorPage</a> = <a href="#org.scalatra.scalate;ScalateSupport.templateEngine_=" title="=&gt; org.fusesource.scalate.TemplateEngine">templateEngine</a>.<span title="(uri: String)org.fusesource.scalate.Template">load</span><span class="delimiter">(</span><span title="String(&quot;/WEB-INF/scalate/errors/500.scaml&quot;)" class="string">&quot;/WEB-INF/scalate/errors/500.scaml&quot;</span><span class="delimiter">)</span>
    val <a title="org.fusesource.scalate.RenderContext" id="org.scalatra.scalate;ScalateSupport.renderScalateErrorPage.context">context</a> = <a href="#org.scalatra.scalate;ScalateSupport.createRenderContext" title="(req: javax.servlet.http.HttpServletRequest, resp: javax.servlet.http.HttpServletResponse, out: java.io.PrintWriter)org.fusesource.scalate.RenderContext">createRenderContext</a><span class="delimiter">(</span><a href="#org.scalatra.scalate;ScalateSupport.renderScalateErrorPage.req" title="javax.servlet.http.HttpServletRequest">req</a>, <a href="#org.scalatra.scalate;ScalateSupport.renderScalateErrorPage.resp" title="javax.servlet.http.HttpServletResponse">resp</a>, <a href="#org.scalatra.scalate;ScalateSupport.renderScalateErrorPage.resp" title="javax.servlet.http.HttpServletResponse">resp</a>.<span title="()java.io.PrintWriter">getWriter</span><span class="delimiter">)</span>
    <a href="#org.scalatra.scalate;ScalateSupport.renderScalateErrorPage.context" title="org.fusesource.scalate.RenderContext">context</a>.<span title="(name: String, value: Option[Any])Unit">setAttribute</span><span class="delimiter">(</span><span title="String(&quot;javax.servlet.error.exception&quot;)" class="string">&quot;javax.servlet.error.exception&quot;</span>, <span title="(x: Throwable)Some[Throwable]">Some</span><span class="delimiter">(</span><a href="#org.scalatra.scalate;ScalateSupport.renderScalateErrorPage.e" title="Throwable">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#org.scalatra.scalate;ScalateSupport.templateEngine_=" title="=&gt; org.fusesource.scalate.TemplateEngine">templateEngine</a>.<span title="(template: org.fusesource.scalate.Template, context: org.fusesource.scalate.RenderContext)Unit">layout</span><span class="delimiter">(</span><a href="#org.scalatra.scalate;ScalateSupport.renderScalateErrorPage.errorPage" title="org.fusesource.scalate.Template">errorPage</a>, <a href="#org.scalatra.scalate;ScalateSupport.renderScalateErrorPage.context" title="org.fusesource.scalate.RenderContext">context</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The default index page when the path is a directory.
   */</span>
  protected def <a title="=&gt; String" id="org.scalatra.scalate;ScalateSupport.defaultIndexName">defaultIndexName</a>: <span title="String">String</span> = <span title="String(&quot;index&quot;)" class="string">&quot;index&quot;</span>

  <span class="comment">/**
   * The default template format.
   */</span>
  protected def <a title="=&gt; String" id="org.scalatra.scalate;ScalateSupport.defaultTemplateFormat">defaultTemplateFormat</a>: <span title="String">String</span> = <span title="String(&quot;jade&quot;)" class="string">&quot;jade&quot;</span>

  <span class="comment">/**
   * The default path to search for templates.  Left as a def so it can be
   * read from the servletContext in initialize, but you probably want a
   * constant.
   *
   * Defaults to:
   * - `/WEB-INF/views` (recommended)
   * - `/WEB-INF/scalate/templates` (used by previous Scalatra quickstarts)
   */</span>
  protected def <a title="=&gt; List[String]" id="org.scalatra.scalate;ScalateSupport.defaultTemplatePath">defaultTemplatePath</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    <span title="(xs: String*)List[String]">List</span><span class="delimiter">(</span><span title="String(&quot;/WEB-INF/views&quot;)" class="string">&quot;/WEB-INF/views&quot;</span>, <span title="String(&quot;/WEB-INF/scalate/templates&quot;)" class="string">&quot;/WEB-INF/scalate/templates&quot;</span><span class="delimiter">)</span>

  <span class="comment">/**
   * The default path to search for templates.  Left as a def so it can be
   * read from the servletContext in initialize, but you probably want a
   * constant.
   *
   * Defaults to:
   * - `/WEB-INF/views` (recommended)
   * - `/WEB-INF/scalate/templates` (used by previous Scalatra quickstarts)
   */</span>
  protected def <a title="=&gt; Option[String]" id="org.scalatra.scalate;ScalateSupport.defaultLayoutPath">defaultLayoutPath</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="None.type">None</span>

  <span class="comment">/**
   * Convenience method for `layoutTemplateAs(&quot;jade&quot;)`.
   */</span>
  protected def <a title="(path: String, attributes: (String, Any)*)(implicit request: javax.servlet.http.HttpServletRequest, implicit response: javax.servlet.http.HttpServletResponse)String" id="org.scalatra.scalate;ScalateSupport.jade">jade</a><span class="delimiter">(</span><a title="String" id="org.scalatra.scalate;ScalateSupport.jade.path">path</a>: <span title="String">String</span>, <a title="(String, Any)*" id="org.scalatra.scalate;ScalateSupport.jade.attributes">attributes</a>: <span title="(String, Any)*" class="delimiter">(</span>String, Any<span class="delimiter">)</span>*<span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra.scalate;ScalateSupport.jade.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span>, <a title="javax.servlet.http.HttpServletResponse" id="org.scalatra.scalate;ScalateSupport.jade.response">response</a>: <span title="javax.servlet.http.HttpServletResponse">HttpServletResponse</span><span class="delimiter">)</span>: <span title="String">String</span> =
    <a href="#org.scalatra.scalate;ScalateSupport.layoutTemplateAs" title="(ext: Set[String])(path: String, attributes: (String, Any)*)(implicit request: javax.servlet.http.HttpServletRequest, implicit response: javax.servlet.http.HttpServletResponse)String">layoutTemplateAs</a><span class="delimiter">(</span><span title="(elems: String*)scala.collection.immutable.Set[String]">Set</span><span class="delimiter">(</span><span title="String(&quot;jade&quot;)" class="string">&quot;jade&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><a href="#org.scalatra.scalate;ScalateSupport.jade.request" title="javax.servlet.http.HttpServletRequest" class="delimiter">(</a><a href="#org.scalatra.scalate;ScalateSupport.jade.path" title="String">path</a>, <a href="#org.scalatra.scalate;ScalateSupport.jade.attributes" title="(String, Any)*">attributes</a>:_*<span class="delimiter">)</span>

  <span class="comment">/**
   * Convenience method for `layoutTemplateAs(&quot;scaml&quot;)`.
   */</span>
  protected def <a title="(path: String, attributes: (String, Any)*)(implicit request: javax.servlet.http.HttpServletRequest, implicit response: javax.servlet.http.HttpServletResponse)String" id="org.scalatra.scalate;ScalateSupport.scaml">scaml</a><span class="delimiter">(</span><a title="String" id="org.scalatra.scalate;ScalateSupport.scaml.path">path</a>: <span title="String">String</span>, <a title="(String, Any)*" id="org.scalatra.scalate;ScalateSupport.scaml.attributes">attributes</a>: <span title="(String, Any)*" class="delimiter">(</span>String, Any<span class="delimiter">)</span>*<span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra.scalate;ScalateSupport.scaml.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span>, <a title="javax.servlet.http.HttpServletResponse" id="org.scalatra.scalate;ScalateSupport.scaml.response">response</a>: <span title="javax.servlet.http.HttpServletResponse">HttpServletResponse</span><span class="delimiter">)</span>: <span title="String">String</span> =
    <a href="#org.scalatra.scalate;ScalateSupport.layoutTemplateAs" title="(ext: Set[String])(path: String, attributes: (String, Any)*)(implicit request: javax.servlet.http.HttpServletRequest, implicit response: javax.servlet.http.HttpServletResponse)String">layoutTemplateAs</a><span class="delimiter">(</span><span title="(elems: String*)scala.collection.immutable.Set[String]">Set</span><span class="delimiter">(</span><span title="String(&quot;scaml&quot;)" class="string">&quot;scaml&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><a href="#org.scalatra.scalate;ScalateSupport.scaml.request" title="javax.servlet.http.HttpServletRequest" class="delimiter">(</a><a href="#org.scalatra.scalate;ScalateSupport.scaml.path" title="String">path</a>, <a href="#org.scalatra.scalate;ScalateSupport.scaml.attributes" title="(String, Any)*">attributes</a>:_*<span class="delimiter">)</span>

  <span class="comment">/**
   * Convenience method for `layoutTemplateAs(&quot;ssp&quot;)`.
   */</span>
  protected def <a title="(path: String, attributes: (String, Any)*)(implicit request: javax.servlet.http.HttpServletRequest, implicit response: javax.servlet.http.HttpServletResponse)String" id="org.scalatra.scalate;ScalateSupport.ssp">ssp</a><span class="delimiter">(</span><a title="String" id="org.scalatra.scalate;ScalateSupport.ssp.path">path</a>: <span title="String">String</span>, <a title="(String, Any)*" id="org.scalatra.scalate;ScalateSupport.ssp.attributes">attributes</a>: <span title="(String, Any)*" class="delimiter">(</span>String, Any<span class="delimiter">)</span>*<span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra.scalate;ScalateSupport.ssp.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span>, <a title="javax.servlet.http.HttpServletResponse" id="org.scalatra.scalate;ScalateSupport.ssp.response">response</a>: <span title="javax.servlet.http.HttpServletResponse">HttpServletResponse</span><span class="delimiter">)</span>: <span title="String">String</span> =
    <a href="#org.scalatra.scalate;ScalateSupport.layoutTemplateAs" title="(ext: Set[String])(path: String, attributes: (String, Any)*)(implicit request: javax.servlet.http.HttpServletRequest, implicit response: javax.servlet.http.HttpServletResponse)String">layoutTemplateAs</a><span class="delimiter">(</span><span title="(elems: String*)scala.collection.immutable.Set[String]">Set</span><span class="delimiter">(</span><span title="String(&quot;ssp&quot;)" class="string">&quot;ssp&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><a href="#org.scalatra.scalate;ScalateSupport.ssp.request" title="javax.servlet.http.HttpServletRequest" class="delimiter">(</a><a href="#org.scalatra.scalate;ScalateSupport.ssp.path" title="String">path</a>, <a href="#org.scalatra.scalate;ScalateSupport.ssp.attributes" title="(String, Any)*">attributes</a>:_*<span class="delimiter">)</span>

  <span class="comment">/**
   * Convenience method for `layoutTemplateAs(&quot;mustache&quot;)`.
   */</span>
  protected def <a title="(path: String, attributes: (String, Any)*)(implicit request: javax.servlet.http.HttpServletRequest, implicit response: javax.servlet.http.HttpServletResponse)String" id="org.scalatra.scalate;ScalateSupport.mustache">mustache</a><span class="delimiter">(</span><a title="String" id="org.scalatra.scalate;ScalateSupport.mustache.path">path</a>: <span title="String">String</span>, <a title="(String, Any)*" id="org.scalatra.scalate;ScalateSupport.mustache.attributes">attributes</a>: <span title="(String, Any)*" class="delimiter">(</span>String, Any<span class="delimiter">)</span>*<span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra.scalate;ScalateSupport.mustache.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span>, <a title="javax.servlet.http.HttpServletResponse" id="org.scalatra.scalate;ScalateSupport.mustache.response">response</a>: <span title="javax.servlet.http.HttpServletResponse">HttpServletResponse</span><span class="delimiter">)</span>: <span title="String">String</span> =
    <a href="#org.scalatra.scalate;ScalateSupport.layoutTemplateAs" title="(ext: Set[String])(path: String, attributes: (String, Any)*)(implicit request: javax.servlet.http.HttpServletRequest, implicit response: javax.servlet.http.HttpServletResponse)String">layoutTemplateAs</a><span class="delimiter">(</span><span title="(elems: String*)scala.collection.immutable.Set[String]">Set</span><span class="delimiter">(</span><span title="String(&quot;mustache&quot;)" class="string">&quot;mustache&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><a href="#org.scalatra.scalate;ScalateSupport.mustache.request" title="javax.servlet.http.HttpServletRequest" class="delimiter">(</a><a href="#org.scalatra.scalate;ScalateSupport.mustache.path" title="String">path</a>, <a href="#org.scalatra.scalate;ScalateSupport.mustache.attributes" title="(String, Any)*">attributes</a>:_*<span class="delimiter">)</span>

  <span class="comment">/**
   * Finds and renders a template with the current layout strategy,
   * returning the result.
   *
   * @param ext The extensions to look for a template.
   * @param path The path of the template, passed to `findTemplate`.
   * @param attributes Attributes to path to the render context.  Disable
   * layouts by passing `layout -&gt; &quot;&quot;`.
   */</span>
  protected def <a title="(ext: Set[String])(path: String, attributes: (String, Any)*)(implicit request: javax.servlet.http.HttpServletRequest, implicit response: javax.servlet.http.HttpServletResponse)String" id="org.scalatra.scalate;ScalateSupport.layoutTemplateAs">layoutTemplateAs</a><span class="delimiter">(</span><a title="Set[String]" id="org.scalatra.scalate;ScalateSupport.layoutTemplateAs.ext">ext</a>: <span title="Set[String]">Set</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="String" id="org.scalatra.scalate;ScalateSupport.layoutTemplateAs.path">path</a>: <span title="String">String</span>, <a title="(String, Any)*" id="org.scalatra.scalate;ScalateSupport.layoutTemplateAs.attributes">attributes</a>: <span title="(String, Any)*" class="delimiter">(</span>String, Any<span class="delimiter">)</span>*<span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra.scalate;ScalateSupport.layoutTemplateAs.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span>, <a title="javax.servlet.http.HttpServletResponse" id="org.scalatra.scalate;ScalateSupport.layoutTemplateAs.response">response</a>: <span title="javax.servlet.http.HttpServletResponse">HttpServletResponse</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    val <a title="String" id="org.scalatra.scalate;ScalateSupport.layoutTemplateAs.uri">uri</a> = <a href="#org.scalatra.scalate;ScalateSupport.findTemplate" title="(path: String, extensionSet: Set[String])Option[String]">findTemplate</a><span class="delimiter">(</span><a href="#org.scalatra.scalate;ScalateSupport.layoutTemplateAs.path" title="String">path</a>, <a href="#org.scalatra.scalate;ScalateSupport.layoutTemplateAs.ext" title="Set[String]">ext</a><span class="delimiter">)</span>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><a href="#org.scalatra.scalate;ScalateSupport.layoutTemplateAs.path" title="String">path</a><span class="delimiter">)</span>
    val <a title="java.io.StringWriter" id="org.scalatra.scalate;ScalateSupport.layoutTemplateAs.buffer">buffer</a> = new <span title="java.io.StringWriter">StringWriter</span><span class="delimiter">(</span><span class="delimiter">)</span>
    val <a title="java.io.PrintWriter" id="org.scalatra.scalate;ScalateSupport.layoutTemplateAs.out">out</a> = new <span title="java.io.PrintWriter">PrintWriter</span><span class="delimiter">(</span><a href="#org.scalatra.scalate;ScalateSupport.layoutTemplateAs.buffer" title="java.io.StringWriter">buffer</a><span class="delimiter">)</span>
    val <a title="org.fusesource.scalate.RenderContext" id="org.scalatra.scalate;ScalateSupport.layoutTemplateAs.context">context</a> = <a href="#org.scalatra.scalate;ScalateSupport.createRenderContext" title="(req: javax.servlet.http.HttpServletRequest, resp: javax.servlet.http.HttpServletResponse, out: java.io.PrintWriter)org.fusesource.scalate.RenderContext">createRenderContext</a><span class="delimiter">(</span><a href="#org.scalatra.scalate;ScalateSupport.layoutTemplateAs.request" title="javax.servlet.http.HttpServletRequest">request</a>, <a href="#org.scalatra.scalate;ScalateSupport.layoutTemplateAs.response" title="javax.servlet.http.HttpServletResponse">response</a>, <a href="#org.scalatra.scalate;ScalateSupport.layoutTemplateAs.out" title="java.io.PrintWriter">out</a><span class="delimiter">)</span>
    val attrs = <a href="#org.scalatra.scalate;ScalateSupport.templateAttributes(c612048c73)" title="(implicit request: javax.servlet.http.HttpServletRequest)scala.collection.mutable.Map[String,Any]">templateAttributes</a> <a title="scala.collection.mutable.Map[String,Any]" id="org.scalatra.scalate;ScalateSupport.layoutTemplateAs.attrs">++</a> <span class="delimiter">(</span><a href="#org.scalatra.scalate;ScalateSupport.defaultLayoutPath" title="=&gt; Option[String]">defaultLayoutPath</a> <span title="(f: String =&gt; scala.collection.immutable.Map[String,Any])Option[scala.collection.immutable.Map[String,Any]]">map</span> <span class="delimiter">(</span><a title="String" id="org.scalatra.scalate;ScalateSupport.layoutTemplateAs.attrs.$anonfun.p">p</a> =&gt; <span title="(elems: (String, String)*)scala.collection.immutable.Map[String,String]">Map</span><span class="delimiter">(</span><span title="(self: String)ArrowAssoc[String]" class="string">&quot;layout&quot;</span> <span title="(y: String)(String, String)">-&gt;</span> <a href="#org.scalatra.scalate;ScalateSupport.layoutTemplateAs.attrs.$anonfun.p" title="String">p</a><span class="delimiter">)</span> <span title="(xs: scala.collection.GenTraversableOnce[(String, Any)])scala.collection.immutable.Map[String,Any]">++</span> <span title="(elems: (String, Any)*)scala.collection.immutable.Map[String,Any]">Map</span><span class="delimiter">(</span><a href="#org.scalatra.scalate;ScalateSupport.layoutTemplateAs.attributes" title="(String, Any)*">attributes</a>:_*<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(default: =&gt; scala.collection.immutable.Map[String,Any])scala.collection.immutable.Map[String,Any]">getOrElse</span> <span title="(elems: (String, Any)*)scala.collection.immutable.Map[String,Any]">Map</span><span class="delimiter">(</span><a href="#org.scalatra.scalate;ScalateSupport.layoutTemplateAs.attributes" title="(String, Any)*">attributes</a>:_*<span class="delimiter">)</span><span class="delimiter">)</span>


    <a href="#org.scalatra.scalate;ScalateSupport.layoutTemplateAs.attrs" title="scala.collection.mutable.Map[String,Any]">attrs</a> <span title="(f: ((String, Any)) =&gt; Unit)Unit">foreach</span> <a href="#org.scalatra.scalate;ScalateSupport.layoutTemplateAs.$anonfun.x0$1" title="Unit" class="delimiter">{</a>
      case <span class="delimiter">(</span><a title="String" id="org.scalatra.scalate;ScalateSupport.layoutTemplateAs.$anonfun.k">k</a>, <a title="Any" id="org.scalatra.scalate;ScalateSupport.layoutTemplateAs.$anonfun.v">v</a><span class="delimiter">)</span> =&gt; <a href="#org.scalatra.scalate;ScalateSupport.layoutTemplateAs.context" title="org.fusesource.scalate.RenderContext">context</a>.<span title="(key: String, value: Any)Unit">attributes</span><span class="delimiter">(</span><a href="#org.scalatra.scalate;ScalateSupport.layoutTemplateAs.$anonfun.k" title="String">k</a><span class="delimiter">)</span> = <a href="#org.scalatra.scalate;ScalateSupport.layoutTemplateAs.$anonfun.v" title="Any">v</a>
    <span class="delimiter">}</span>
    <a href="#org.scalatra.scalate;ScalateSupport.templateEngine_=" title="=&gt; org.fusesource.scalate.TemplateEngine">templateEngine</a>.<span title="(uri: String, context: org.fusesource.scalate.RenderContext)Unit">layout</span><span class="delimiter">(</span><a href="#org.scalatra.scalate;ScalateSupport.layoutTemplateAs.uri" title="String">uri</a>, <a href="#org.scalatra.scalate;ScalateSupport.layoutTemplateAs.context" title="org.fusesource.scalate.RenderContext">context</a><span class="delimiter">)</span>
    <a href="#org.scalatra.scalate;ScalateSupport.layoutTemplateAs.buffer" title="java.io.StringWriter">buffer</a>.<span title="()String">toString</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Finds and renders a template with the current layout strategy,
   * looking for all known extensions, returning the result.
   *
   * @param path The path of the template, passed to `findTemplate`.
   * @param attributes Attributes to path to the render context.  Disable
   * layouts by passing `layout -&gt; &quot;&quot;`.
   */</span>
  protected def <a title="(path: String, attributes: (String, Any)*)(implicit request: javax.servlet.http.HttpServletRequest, implicit response: javax.servlet.http.HttpServletResponse)String" id="org.scalatra.scalate;ScalateSupport.layoutTemplate">layoutTemplate</a><span class="delimiter">(</span><a title="String" id="org.scalatra.scalate;ScalateSupport.layoutTemplate.path">path</a>: <span title="String">String</span>, <a title="(String, Any)*" id="org.scalatra.scalate;ScalateSupport.layoutTemplate.attributes">attributes</a>: <span title="(String, Any)*" class="delimiter">(</span>String, Any<span class="delimiter">)</span>*<span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra.scalate;ScalateSupport.layoutTemplate.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span>, <a title="javax.servlet.http.HttpServletResponse" id="org.scalatra.scalate;ScalateSupport.layoutTemplate.response">response</a>: <span title="javax.servlet.http.HttpServletResponse">HttpServletResponse</span><span class="delimiter">)</span>: <span title="String">String</span> =
    <a href="#org.scalatra.scalate;ScalateSupport.layoutTemplateAs" title="(ext: Set[String])(path: String, attributes: (String, Any)*)(implicit request: javax.servlet.http.HttpServletRequest, implicit response: javax.servlet.http.HttpServletResponse)String">layoutTemplateAs</a><span class="delimiter">(</span><a href="#org.scalatra.scalate;ScalateSupport.templateEngine_=" title="=&gt; org.fusesource.scalate.TemplateEngine">templateEngine</a>.<span title="=&gt; Set[String]">extensions</span><span class="delimiter">)</span><a href="#org.scalatra.scalate;ScalateSupport.layoutTemplate.request" title="javax.servlet.http.HttpServletRequest" class="delimiter">(</a><a href="#org.scalatra.scalate;ScalateSupport.layoutTemplate.path" title="String">path</a>, <a href="#org.scalatra.scalate;ScalateSupport.layoutTemplate.attributes" title="(String, Any)*">attributes</a> :_*<span class="delimiter">)</span>

  <span class="comment">/**
   * Finds a template for a path.  Delegates to a TemplateFinder, and if
   * that fails, tries again with `/defaultIndexName` appended.
   */</span>
  protected def <a title="(path: String, extensionSet: Set[String])Option[String]" id="org.scalatra.scalate;ScalateSupport.findTemplate">findTemplate</a><span class="delimiter">(</span><a title="String" id="org.scalatra.scalate;ScalateSupport.findTemplate.path">path</a>: <span title="String">String</span>, <a title="Set[String]" id="org.scalatra.scalate;ScalateSupport.findTemplate$default$2">extensionSet</a>: <span title="Set[String]">Set</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#org.scalatra.scalate;ScalateSupport.templateEngine_=" title="=&gt; org.fusesource.scalate.TemplateEngine">templateEngine</a>.<span title="=&gt; Set[String]">extensions</span><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="org.fusesource.scalate.support.TemplateFinder" id="org.scalatra.scalate;ScalateSupport.findTemplate.finder">finder</a> = new <a title="&lt;$anon: org.fusesource.scalate.support.TemplateFinder&gt; extends org.fusesource.scalate.support.TemplateFinder" id="org.scalatra.scalate;ScalateSupport.findTemplate.finder;$anon">TemplateFinder</a><span class="delimiter">(</span><a href="#org.scalatra.scalate;ScalateSupport.templateEngine_=" title="=&gt; org.fusesource.scalate.TemplateEngine">templateEngine</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      override lazy val <a title="Set[String]" id="org.scalatra.scalate;ScalateSupport.findTemplate.finder;$anon.extensions">extensions</a> = <a href="#org.scalatra.scalate;ScalateSupport.findTemplate$default$2" title="Set[String]">extensionSet</a>
    <span class="delimiter">}</span>
    <a href="#org.scalatra.scalate;ScalateSupport.findTemplate.finder" title="org.fusesource.scalate.support.TemplateFinder">finder</a>.<span title="(path: String)Option[String]">findTemplate</span><span class="delimiter">(</span><span class="delimiter">(</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span title="(x$1: Any)String">+</span><a href="#org.scalatra.scalate;ScalateSupport.findTemplate.path" title="String">path</a><span class="delimiter">)</span>.<span title="(x$1: String, x$2: String)String">replaceAll</span><span class="delimiter">(</span><span title="String(&quot;//&quot;)" class="string">&quot;//&quot;</span>, <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(alternative: =&gt; Option[String])Option[String]">orElse</span>
      <a href="#org.scalatra.scalate;ScalateSupport.findTemplate.finder" title="org.fusesource.scalate.support.TemplateFinder">finder</a>.<span title="(path: String)Option[String]">findTemplate</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;/%s/%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#org.scalatra.scalate;ScalateSupport.findTemplate.path" title="String">path</a>, <a href="#org.scalatra.scalate;ScalateSupport.defaultIndexName" title="=&gt; String">defaultIndexName</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A request-scoped map of attributes to pass to the template.  This map
   * will be set to any render context created with the `createRenderContext`
   * method.
   */</span>
  protected def <a title="(implicit request: javax.servlet.http.HttpServletRequest)scala.collection.mutable.Map[String,Any]" id="org.scalatra.scalate;ScalateSupport.templateAttributes(c612048c73)">templateAttributes</a><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra.scalate;ScalateSupport.templateAttributes(c612048c73).request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span>: mutable.<span title="scala.collection.mutable.Map[String,Any]">Map</span><span class="delimiter">[</span>String, Any<span class="delimiter">]</span> =
    <a href="../servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichRequest" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichRequest : (request: javax.servlet.http.HttpServletRequest)org.scalatra.servlet.RichRequest">request</a>.<span title="(key: String, op: =&gt; Any)Any">getOrElseUpdate</span><span class="delimiter">(</span><a href="#org.scalatra.scalate.ScalateSupport" title="org.scalatra.scalate.ScalateSupport.type">ScalateSupport</a>.<a href="#org.scalatra.scalate.ScalateSupport.TemplateAttributesKey" title="=&gt; String">TemplateAttributesKey</a>, mutable.<span title="scala.collection.mutable.Map.type">Map</span>.<span title="scala.collection.mutable.Map[Nothing,Nothing]">empty</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scala.collection.mutable.Map[String,Any]" class="delimiter">[</span>mutable.<span title="scala.collection.mutable.Map[String,Any]">Map</span><span class="delimiter">[</span>String, Any<span class="delimiter">]</span><span class="delimiter">]</span>

  protected def <a title="(key: String)(implicit request: javax.servlet.http.HttpServletRequest)Any" id="org.scalatra.scalate;ScalateSupport.templateAttributes(6b39da72d6)">templateAttributes</a><span class="delimiter">(</span><a title="String" id="org.scalatra.scalate;ScalateSupport.templateAttributes(6b39da72d6).key">key</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra.scalate;ScalateSupport.templateAttributes(6b39da72d6).request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span>: <span title="Any">Any</span> =
    <a href="#org.scalatra.scalate;ScalateSupport.templateAttributes(c612048c73)" title="(implicit request: javax.servlet.http.HttpServletRequest)scala.collection.mutable.Map[String,Any]">templateAttributes</a><span title="(key: String)Any" class="delimiter">(</span><a href="#org.scalatra.scalate;ScalateSupport.templateAttributes(6b39da72d6).request" title="javax.servlet.http.HttpServletRequest">request</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#org.scalatra.scalate;ScalateSupport.templateAttributes(6b39da72d6).key" title="String">key</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
