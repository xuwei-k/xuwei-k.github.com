<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>org/scalatra/swagger/reflect/ManifestFactory.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
package org.scalatra.swagger.reflect

import scala.reflect.Manifest
import java.lang.reflect.<span class="delimiter">{</span> TypeVariable, WildcardType, ParameterizedType, Type, GenericArrayType <span class="delimiter">}</span>

private<span class="delimiter">[</span>swagger<span class="delimiter">]</span> object <a title="org.scalatra.swagger.reflect.ManifestFactory.type" id="org.scalatra.swagger.reflect.ManifestFactory">ManifestFactory</a> <a href="#org.scalatra.swagger.reflect.ManifestFactory" title="org.scalatra.swagger.reflect.ManifestFactory.type" class="delimiter">{</a>
  def <a title="(t: java.lang.reflect.Type)scala.reflect.Manifest[_]" id="org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782)">manifestOf</a><span class="delimiter">(</span><a title="java.lang.reflect.Type" id="org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782).t">t</a>: <span title="java.lang.reflect.Type">Type</span><span class="delimiter">)</span>: <span title="scala.reflect.Manifest[_]">Manifest</span><span class="delimiter">[</span>_<span class="delimiter">]</span> = <a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782).t" title="java.lang.reflect.Type">t</a> match <span class="delimiter">{</span>

    case <a title="java.lang.reflect.ParameterizedType" id="org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782).pt">pt</a>: <span title="java.lang.reflect.ParameterizedType">ParameterizedType</span> =&gt;
      val <a title="Class[_]" id="org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782).clazz">clazz</a> = <a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782)" title="(t: java.lang.reflect.Type)scala.reflect.Manifest[_]">manifestOf</a><span class="delimiter">(</span><a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782).pt" title="java.lang.reflect.ParameterizedType">pt</a>.<span title="()java.lang.reflect.Type">getRawType</span><span class="delimiter">)</span>.<span title="=&gt; Class[_]">runtimeClass</span>
      val typeArgs = <a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782).pt" title="java.lang.reflect.ParameterizedType">pt</a>.<span title="(xs: Array[java.lang.reflect.Type])scala.collection.mutable.ArrayOps[java.lang.reflect.Type]">getActualTypeArguments</span> <a title="Array[scala.reflect.Manifest[_]]" id="org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782).typeArgs">map</a> <a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782)" title="(t: java.lang.reflect.Type)scala.reflect.Manifest[_]">manifestOf</a>

      if <span class="delimiter">(</span><a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782).pt" title="java.lang.reflect.ParameterizedType">pt</a>.<span title="()java.lang.reflect.Type">getOwnerType</span> <span title="(x$1: Any)Boolean">==</span> null<span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(c8ffe084e8)" title="(erasure: Class[_], typeArgs: Seq[scala.reflect.Manifest[_]])scala.reflect.Manifest[_]">manifestOf</a><span class="delimiter">(</span><a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782).clazz" title="Class[_]">clazz</a>, <a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782).typeArgs" title="(xs: Array[scala.reflect.Manifest[_]])scala.collection.mutable.WrappedArray[scala.reflect.Manifest[_]]">typeArgs</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> else <span class="delimiter">{</span>
        <span title="=&gt; scala.reflect.ManifestFactory.type">Manifest</span>.<span title="(prefix: scala.reflect.Manifest[_], clazz: Class[_], args: scala.reflect.Manifest[_]*)scala.reflect.Manifest[Nothing]">classType</span><span class="delimiter">(</span><a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782)" title="(t: java.lang.reflect.Type)scala.reflect.Manifest[_]">manifestOf</a><span class="delimiter">(</span><a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782).pt" title="java.lang.reflect.ParameterizedType">pt</a>.<span title="()java.lang.reflect.Type">getOwnerType</span><span class="delimiter">)</span>, <a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782).clazz" title="Class[_]">clazz</a>, <a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782).typeArgs" title="Array[scala.reflect.Manifest[_]]">typeArgs</a>: _*<span class="delimiter">)</span>
      <span class="delimiter">}</span>

    case <a title="java.lang.reflect.GenericArrayType" id="org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782).at">at</a>: <span title="java.lang.reflect.GenericArrayType">GenericArrayType</span> =&gt;
      val <a title="scala.reflect.Manifest[_]" id="org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782).componentManifest">componentManifest</a> = <a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782)" title="(t: java.lang.reflect.Type)scala.reflect.Manifest[_]">manifestOf</a><span class="delimiter">(</span><a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782).at" title="java.lang.reflect.GenericArrayType">at</a>.<span title="()java.lang.reflect.Type">getGenericComponentType</span><span class="delimiter">)</span>
      val <a title="scala.reflect.Manifest[Array[_$1]] forSome { type _$1 }" id="org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782).arrayManifest">arrayManifest</a> = <a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782).componentManifest" title="scala.reflect.Manifest[_]">componentManifest</a>.<span title="=&gt; scala.reflect.Manifest[Array[_$1]]">arrayManifest</span> <span class="comment">// strips component type args off</span>
      <span title="=&gt; scala.reflect.ManifestFactory.type">Manifest</span>.<span title="(clazz: Class[_$1], arg1: scala.reflect.Manifest[_], args: scala.reflect.Manifest[_]*)scala.reflect.Manifest[_$1]">classType</span><span class="delimiter">(</span><a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782).arrayManifest" title="scala.reflect.Manifest[Array[_$1]] forSome { type _$1 }">arrayManifest</a>.<span title="=&gt; Class[_]">runtimeClass</span>, <a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782).componentManifest" title="scala.reflect.Manifest[_]">componentManifest</a><span class="delimiter">)</span>

    case <span title="java.lang.reflect.WildcardType">wt</span>: <span title="java.lang.reflect.WildcardType">WildcardType</span> =&gt;
      val <span title="Array[java.lang.reflect.Type]">upper</span> = <span title="java.lang.reflect.WildcardType">wt</span>.<span title="()Array[java.lang.reflect.Type]">getUpperBounds</span>
      if <span class="delimiter">(</span><span title="Array[java.lang.reflect.Type]">upper</span> <span title="(x$1: Any)Boolean">!=</span> null <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="(xs: Array[java.lang.reflect.Type])scala.collection.mutable.ArrayOps[java.lang.reflect.Type]">upper</span>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782)" title="(t: java.lang.reflect.Type)scala.reflect.Manifest[_]">manifestOf</a><span class="delimiter">(</span><span title="(i: Int)java.lang.reflect.Type">upper</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
      else <a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782)" title="(t: java.lang.reflect.Type)scala.reflect.Manifest[_]">manifestOf</a><span class="delimiter">(</span>classOf<span title="Class[AnyRef](classOf[java.lang.Object])" class="delimiter">[</span>AnyRef<span class="delimiter">]</span><span class="delimiter">)</span>

    case <span title="java.lang.reflect.TypeVariable[_]">wt</span>: <span title="java.lang.reflect.TypeVariable[_]">TypeVariable</span><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt;
      val <span title="Array[java.lang.reflect.Type]">upper</span> = <span title="java.lang.reflect.TypeVariable[_]">wt</span>.<span title="()Array[java.lang.reflect.Type]">getBounds</span>
      if <span class="delimiter">(</span><span title="Array[java.lang.reflect.Type]">upper</span> <span title="(x$1: Any)Boolean">!=</span> null <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="(xs: Array[java.lang.reflect.Type])scala.collection.mutable.ArrayOps[java.lang.reflect.Type]">upper</span>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782)" title="(t: java.lang.reflect.Type)scala.reflect.Manifest[_]">manifestOf</a><span class="delimiter">(</span><span title="(i: Int)java.lang.reflect.Type">upper</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
      else <a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782)" title="(t: java.lang.reflect.Type)scala.reflect.Manifest[_]">manifestOf</a><span class="delimiter">(</span>classOf<span title="Class[AnyRef](classOf[java.lang.Object])" class="delimiter">[</span>AnyRef<span class="delimiter">]</span><span class="delimiter">)</span>

    case <a title="Class[_]" id="org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782).c">c</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <a href="#org.scalatra.swagger.reflect.ManifestFactory.fromClass" title="(clazz: Class[_])scala.reflect.Manifest[_]">fromClass</a><span class="delimiter">(</span><a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(0ea6e85782).c" title="Class[_]">c</a><span class="delimiter">)</span>

  <span class="delimiter">}</span>

  def <a title="(erasure: Class[_], typeArgs: Seq[scala.reflect.Manifest[_]])scala.reflect.Manifest[_]" id="org.scalatra.swagger.reflect.ManifestFactory.manifestOf(c8ffe084e8)">manifestOf</a><span class="delimiter">(</span><a title="Class[_]" id="org.scalatra.swagger.reflect.ManifestFactory.manifestOf(c8ffe084e8).erasure">erasure</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="Seq[scala.reflect.Manifest[_]]" id="org.scalatra.swagger.reflect.ManifestFactory.manifestOf(c8ffe084e8).typeArgs">typeArgs</a>: <span title="Seq[scala.reflect.Manifest[_]]">Seq</span><span class="delimiter">[</span>Manifest<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scala.reflect.Manifest[_]">Manifest</span><span class="delimiter">[</span>_<span class="delimiter">]</span> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(c8ffe084e8).typeArgs" title="Seq[scala.reflect.Manifest[_]]">typeArgs</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#org.scalatra.swagger.reflect.ManifestFactory.fromClass" title="(clazz: Class[_])scala.reflect.Manifest[_]">fromClass</a><span class="delimiter">(</span><a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(c8ffe084e8).erasure" title="Class[_]">erasure</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> else <span class="delimiter">{</span>
      val <a title="Class[_]" id="org.scalatra.swagger.reflect.ManifestFactory.manifestOf(c8ffe084e8).normalizedErasure">normalizedErasure</a> =
        if <span class="delimiter">(</span><a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(c8ffe084e8).erasure" title="Class[_]">erasure</a>.<span title="()String">getName</span> <span title="(x$1: Any)Boolean">==</span> <span title="String(&quot;scala.Array&quot;)" class="string">&quot;scala.Array&quot;</span><span class="delimiter">)</span>
          <a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(c8ffe084e8).typeArgs" title="(idx: Int)scala.reflect.Manifest[_]">typeArgs</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<span title="=&gt; scala.reflect.Manifest[Array[_$3]]">arrayManifest</span>.<span title="=&gt; Class[_]">runtimeClass</span>
        else
          <a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(c8ffe084e8).erasure" title="Class[_]">erasure</a>

      <span title="=&gt; scala.reflect.ManifestFactory.type">Manifest</span>.<span title="(clazz: Class[_$1], arg1: scala.reflect.Manifest[_], args: scala.reflect.Manifest[_]*)scala.reflect.Manifest[_$1]">classType</span><span class="delimiter">(</span><a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(c8ffe084e8).normalizedErasure" title="Class[_]">normalizedErasure</a>, <a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(c8ffe084e8).typeArgs" title="Seq[scala.reflect.Manifest[_]]">typeArgs</a>.<span title="=&gt; scala.reflect.Manifest[_]">head</span>, <a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(c8ffe084e8).typeArgs" title="Seq[scala.reflect.Manifest[_]]">typeArgs</a>.<span title="=&gt; Seq[scala.reflect.Manifest[_]]">tail</span>: _*<span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(st: org.scalatra.swagger.reflect.ScalaType)scala.reflect.Manifest[_]" id="org.scalatra.swagger.reflect.ManifestFactory.manifestOf(5757560000)">manifestOf</a><span class="delimiter">(</span><a title="org.scalatra.swagger.reflect.ScalaType" id="org.scalatra.swagger.reflect.ManifestFactory.manifestOf(5757560000).st">st</a>: <a href="descriptors.scala.html#org.scalatra.swagger.reflect;ScalaType" title="org.scalatra.swagger.reflect.ScalaType">ScalaType</a><span class="delimiter">)</span>: <span title="scala.reflect.Manifest[_]">Manifest</span><span class="delimiter">[</span>_<span class="delimiter">]</span> = <a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(5757560000).st" title="org.scalatra.swagger.reflect.ScalaType">st</a> match <span class="delimiter">{</span>
    case <a title="org.scalatra.swagger.reflect.ManifestScalaType" id="org.scalatra.swagger.reflect.ManifestFactory.manifestOf(5757560000).t">t</a>: <a href="descriptors.scala.html#org.scalatra.swagger.reflect;ManifestScalaType" title="org.scalatra.swagger.reflect.ManifestScalaType">ManifestScalaType</a> =&gt; <a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(5757560000).t" title="org.scalatra.swagger.reflect.ManifestScalaType">t</a>.<a href="descriptors.scala.html#org.scalatra.swagger.reflect;ManifestScalaType.manifest" title="=&gt; Manifest[_]">manifest</a>
    case _ =&gt;
      val typeArgs = <a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(5757560000).st" title="org.scalatra.swagger.reflect.ScalaType">st</a>.<a href="descriptors.scala.html#org.scalatra.swagger.reflect;ScalaType.typeArgs" title="=&gt; Seq[org.scalatra.swagger.reflect.ScalaType]">typeArgs</a> <a title="Seq[scala.reflect.Manifest[_]]" id="org.scalatra.swagger.reflect.ManifestFactory.manifestOf(5757560000).typeArgs">map</a> <a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(5757560000)" title="(st: org.scalatra.swagger.reflect.ScalaType)scala.reflect.Manifest[_]">manifestOf</a>
      <a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(c8ffe084e8)" title="(erasure: Class[_], typeArgs: Seq[scala.reflect.Manifest[_]])scala.reflect.Manifest[_]">manifestOf</a><span class="delimiter">(</span><a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(5757560000).st" title="org.scalatra.swagger.reflect.ScalaType">st</a>.<a href="descriptors.scala.html#org.scalatra.swagger.reflect;ScalaType.erasure" title="=&gt; Class[_]">erasure</a>, <a href="#org.scalatra.swagger.reflect.ManifestFactory.manifestOf(5757560000).typeArgs" title="Seq[scala.reflect.Manifest[_]]">typeArgs</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private def <a title="(clazz: Class[_])scala.reflect.Manifest[_]" id="org.scalatra.swagger.reflect.ManifestFactory.fromClass">fromClass</a><span class="delimiter">(</span><a title="Class[_]" id="org.scalatra.swagger.reflect.ManifestFactory.fromClass.clazz">clazz</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scala.reflect.Manifest[_]">Manifest</span><span class="delimiter">[</span>_<span class="delimiter">]</span> = <a href="#org.scalatra.swagger.reflect.ManifestFactory.fromClass.clazz" title="Class[_]">clazz</a> match <span class="delimiter">{</span>
    case java.lang.<span title="Byte.type">Byte</span>.<span title="Class[Byte]">TYPE</span> =&gt; <span title="=&gt; scala.reflect.ManifestFactory.type">Manifest</span>.<span title="=&gt; scala.reflect.AnyValManifest[Byte]">Byte</span>
    case java.lang.<span title="Short.type">Short</span>.<span title="Class[Short]">TYPE</span> =&gt; <span title="=&gt; scala.reflect.ManifestFactory.type">Manifest</span>.<span title="=&gt; scala.reflect.AnyValManifest[Short]">Short</span>
    case java.lang.<span title="Character.type">Character</span>.<span title="Class[Character]">TYPE</span> =&gt; <span title="=&gt; scala.reflect.ManifestFactory.type">Manifest</span>.<span title="=&gt; scala.reflect.AnyValManifest[Char]">Char</span>
    case java.lang.<span title="Integer.type">Integer</span>.<span title="Class[Integer]">TYPE</span> =&gt; <span title="=&gt; scala.reflect.ManifestFactory.type">Manifest</span>.<span title="=&gt; scala.reflect.AnyValManifest[Int]">Int</span>
    case java.lang.<span title="Long.type">Long</span>.<span title="Class[Long]">TYPE</span> =&gt; <span title="=&gt; scala.reflect.ManifestFactory.type">Manifest</span>.<span title="=&gt; scala.reflect.AnyValManifest[Long]">Long</span>
    case java.lang.<span title="Float.type">Float</span>.<span title="Class[Float]">TYPE</span> =&gt; <span title="=&gt; scala.reflect.ManifestFactory.type">Manifest</span>.<span title="=&gt; scala.reflect.AnyValManifest[Float]">Float</span>
    case java.lang.<span title="Double.type">Double</span>.<span title="Class[Double]">TYPE</span> =&gt; <span title="=&gt; scala.reflect.ManifestFactory.type">Manifest</span>.<span title="=&gt; scala.reflect.AnyValManifest[Double]">Double</span>
    case java.lang.<span title="Boolean.type">Boolean</span>.<span title="Class[Boolean]">TYPE</span> =&gt; <span title="=&gt; scala.reflect.ManifestFactory.type">Manifest</span>.<span title="=&gt; scala.reflect.AnyValManifest[Boolean]">Boolean</span>
    case java.lang.<span title="Void.type">Void</span>.<span title="Class[Void]">TYPE</span> =&gt; <span title="=&gt; scala.reflect.ManifestFactory.type">Manifest</span>.<span title="=&gt; scala.reflect.AnyValManifest[Unit]">Unit</span>
    case _ =&gt; <span title="=&gt; scala.reflect.ManifestFactory.type">Manifest</span>.<span title="(clazz: Class[_])scala.reflect.Manifest[Nothing]">classType</span><span class="delimiter">(</span><a href="#org.scalatra.swagger.reflect.ManifestFactory.fromClass.clazz" title="Class[_]">clazz</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>
        </pre>
    </body>
</html>
