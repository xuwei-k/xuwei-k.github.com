<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>org/scalatra/servlet/AsyncSupport.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
package org.scalatra
package servlet

import javax.servlet.<span class="delimiter">{</span>AsyncContext, AsyncEvent<span class="delimiter">}</span>
import javax.servlet.http.<span class="delimiter">{</span>HttpServletRequest, HttpServletResponse<span class="delimiter">}</span>

object <a title="org.scalatra.servlet.AsyncSupport.type" id="org.scalatra.servlet.AsyncSupport">AsyncSupport</a> <a href="#org.scalatra.servlet.AsyncSupport" title="org.scalatra.servlet.AsyncSupport.type" class="delimiter">{</a>
  val <a title="String" id="org.scalatra.servlet.AsyncSupport.ExecutionContextKey">ExecutionContextKey</a> = <span title="String(&quot;org.scalatra.ExecutionContext&quot;)" class="string">&quot;org.scalatra.ExecutionContext&quot;</span>
<span class="delimiter">}</span>

trait <a title="trait AsyncSupport extends AnyRef with org.scalatra.servlet.ServletBase with org.scalatra.servlet.ScalatraAsyncSupport" id="org.scalatra.servlet;AsyncSupport">AsyncSupport</a> extends <a href="ServletBase.scala.html#org.scalatra.servlet;ServletBase" title="org.scalatra.servlet.ServletBase">ServletBase</a> with <a href="ScalatraAsyncSupport.scala.html#org.scalatra.servlet;ScalatraAsyncSupport" title="org.scalatra.servlet.ScalatraAsyncSupport">ScalatraAsyncSupport</a> <span class="delimiter">{</span>

  <span class="comment">/**
   * Takes a block and converts it to an action that can be run asynchronously.
   */</span>
  protected def <a title="(f: =&gt; Any)org.scalatra.Action" id="org.scalatra.servlet;AsyncSupport.asynchronously">asynchronously</a><span class="delimiter">(</span><a title="=&gt; Any" id="org.scalatra.servlet;AsyncSupport.asynchronously.f">f</a>: =&gt; Any<span class="delimiter">)</span>: <span title="org.scalatra.Action">Action</span>

  protected def <a title="(event: javax.servlet.AsyncEvent)(thunk: =&gt; Any)Unit" id="org.scalatra.servlet;AsyncSupport.onAsyncEvent">onAsyncEvent</a><span class="delimiter">(</span><a title="javax.servlet.AsyncEvent" id="org.scalatra.servlet;AsyncSupport.onAsyncEvent.event">event</a>: <span title="javax.servlet.AsyncEvent">AsyncEvent</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; Any" id="org.scalatra.servlet;AsyncSupport.onAsyncEvent.thunk">thunk</a>: =&gt; Any<span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../DynamicScope.scala.html#org.scalatra;DynamicScope.withRequest" title="(request: javax.servlet.http.HttpServletRequest)(f: =&gt; Any)Any">withRequest</a><span class="delimiter">(</span><a href="#org.scalatra.servlet;AsyncSupport.onAsyncEvent.event" title="javax.servlet.AsyncEvent">event</a>.<span title="()javax.servlet.ServletRequest">getSuppliedRequest</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="javax.servlet.http.HttpServletRequest" class="delimiter">[</span><span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">]</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span>
      <a href="../DynamicScope.scala.html#org.scalatra;DynamicScope.withResponse" title="(response: javax.servlet.http.HttpServletResponse)(f: =&gt; Any)Any">withResponse</a><span class="delimiter">(</span><a href="#org.scalatra.servlet;AsyncSupport.onAsyncEvent.event" title="javax.servlet.AsyncEvent">event</a>.<span title="()javax.servlet.ServletResponse">getSuppliedResponse</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="javax.servlet.http.HttpServletResponse" class="delimiter">[</span><span title="javax.servlet.http.HttpServletResponse">HttpServletResponse</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#org.scalatra.servlet;AsyncSupport.onAsyncEvent.thunk" title="=&gt; Any">thunk</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  protected def <a title="(context: javax.servlet.AsyncContext)(thunk: =&gt; Any)Unit" id="org.scalatra.servlet;AsyncSupport.withinAsyncContext">withinAsyncContext</a><span class="delimiter">(</span><a title="javax.servlet.AsyncContext" id="org.scalatra.servlet;AsyncSupport.withinAsyncContext.context">context</a>: javax.servlet.<span title="javax.servlet.AsyncContext">AsyncContext</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; Any" id="org.scalatra.servlet;AsyncSupport.withinAsyncContext.thunk">thunk</a>: =&gt; Any<span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../DynamicScope.scala.html#org.scalatra;DynamicScope.withRequest" title="(request: javax.servlet.http.HttpServletRequest)(f: =&gt; Any)Any">withRequest</a><span class="delimiter">(</span><a href="#org.scalatra.servlet;AsyncSupport.withinAsyncContext.context" title="javax.servlet.AsyncContext">context</a>.<span title="()javax.servlet.ServletRequest">getRequest</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="javax.servlet.http.HttpServletRequest" class="delimiter">[</span><span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">]</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span>
      <a href="../DynamicScope.scala.html#org.scalatra;DynamicScope.withResponse" title="(response: javax.servlet.http.HttpServletResponse)(f: =&gt; Any)Any">withResponse</a><span class="delimiter">(</span><a href="#org.scalatra.servlet;AsyncSupport.withinAsyncContext.context" title="javax.servlet.AsyncContext">context</a>.<span title="()javax.servlet.ServletResponse">getResponse</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="javax.servlet.http.HttpServletResponse" class="delimiter">[</span><span title="javax.servlet.http.HttpServletResponse">HttpServletResponse</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#org.scalatra.servlet;AsyncSupport.withinAsyncContext.thunk" title="=&gt; Any">thunk</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The Scalatra DSL core methods take a list of [[org.scalatra.RouteMatcher]]
   * and a block as the action body.  The return value of the block is
   * rendered through the pipeline and sent to the client as the response body.
   * The block of these methods is executed in a lightweight event-driven thread
   * from Akka's dispatchers
   *
   * See [[org.scalatra.ScalatraBase#renderResponseBody]] for the detailed
   * behaviour and how to handle your response body more explicitly, and see
   * how different return types are handled.
   *
   * The block is executed in the context of a CoreDsl instance, so all the
   * methods defined in this trait are also available inside the block.
   *
   * {{{
   *   asyncGet(&quot;/&quot;) {
   *     &lt;form action=&quot;/echo&quot;&gt;
   *       &lt;label&gt;Enter your name&lt;/label&gt;
   *       &lt;input type=&quot;text&quot; name=&quot;name&quot;/&gt;
   *     &lt;/form&gt;
   *   }
   *
   *   asyncPost(&quot;/echo&quot;) {
   *     s&quot;hello {params('name)}!&quot;
   *   }
   * }}}
   *
   * ScalatraKernel provides implicit transformation from boolean blocks,
   * strings and regular expressions to [[org.scalatra.RouteMatcher]], so
   * you can write code naturally.
   * {{{
   *   asyncGet(&quot;/&quot;, request.getRemoteHost == &quot;127.0.0.1&quot;) { &quot;Hello localhost!&quot; }
   * }}}
   *
   */</span>
  def <a title="(transformers: org.scalatra.RouteTransformer*)(block: =&gt; Any)org.scalatra.Route" id="org.scalatra.servlet;AsyncSupport.asyncGet">asyncGet</a><span class="delimiter">(</span><a title="org.scalatra.RouteTransformer*" id="org.scalatra.servlet;AsyncSupport.asyncGet.transformers">transformers</a>: <span title="org.scalatra.RouteTransformer*">RouteTransformer</span>*<span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; Any" id="org.scalatra.servlet;AsyncSupport.asyncGet.block">block</a>: =&gt; Any<span class="delimiter">)</span>: <a href="../route.scala.html#org.scalatra;Route" title="org.scalatra.Route">Route</a> = 
    <a href="../ScalatraBase.scala.html#org.scalatra;ScalatraBase.get" title="(transformers: org.scalatra.RouteTransformer*)(action: =&gt; Any)org.scalatra.Route">get</a><span class="delimiter">(</span><a href="#org.scalatra.servlet;AsyncSupport.asyncGet.transformers" title="org.scalatra.RouteTransformer*">transformers</a>: _*<span class="delimiter">)</span><span class="delimiter">(</span><a href="#org.scalatra.servlet;AsyncSupport.asynchronously" title="(f: =&gt; Any)org.scalatra.Action">asynchronously</a><span title="()Any" class="delimiter">(</span><a href="#org.scalatra.servlet;AsyncSupport.asyncGet.block" title="=&gt; Any">block</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * @see asyncGet
   */</span>
  def <a title="(transformers: org.scalatra.RouteTransformer*)(block: =&gt; Any)org.scalatra.Route" id="org.scalatra.servlet;AsyncSupport.asyncPost">asyncPost</a><span class="delimiter">(</span><a title="org.scalatra.RouteTransformer*" id="org.scalatra.servlet;AsyncSupport.asyncPost.transformers">transformers</a>: <span title="org.scalatra.RouteTransformer*">RouteTransformer</span>*<span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; Any" id="org.scalatra.servlet;AsyncSupport.asyncPost.block">block</a>: =&gt; Any<span class="delimiter">)</span>: <a href="../route.scala.html#org.scalatra;Route" title="org.scalatra.Route">Route</a> = 
    <a href="../ScalatraBase.scala.html#org.scalatra;ScalatraBase.post" title="(transformers: org.scalatra.RouteTransformer*)(action: =&gt; Any)org.scalatra.Route">post</a><span class="delimiter">(</span><a href="#org.scalatra.servlet;AsyncSupport.asyncPost.transformers" title="org.scalatra.RouteTransformer*">transformers</a>: _*<span class="delimiter">)</span><span class="delimiter">(</span><a href="#org.scalatra.servlet;AsyncSupport.asynchronously" title="(f: =&gt; Any)org.scalatra.Action">asynchronously</a><span title="()Any" class="delimiter">(</span><a href="#org.scalatra.servlet;AsyncSupport.asyncPost.block" title="=&gt; Any">block</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * @see asyncGet
   */</span>
  def <a title="(transformers: org.scalatra.RouteTransformer*)(block: =&gt; Any)org.scalatra.Route" id="org.scalatra.servlet;AsyncSupport.asyncPut">asyncPut</a><span class="delimiter">(</span><a title="org.scalatra.RouteTransformer*" id="org.scalatra.servlet;AsyncSupport.asyncPut.transformers">transformers</a>: <span title="org.scalatra.RouteTransformer*">RouteTransformer</span>*<span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; Any" id="org.scalatra.servlet;AsyncSupport.asyncPut.block">block</a>: =&gt; Any<span class="delimiter">)</span>: <a href="../route.scala.html#org.scalatra;Route" title="org.scalatra.Route">Route</a> = 
    <a href="../ScalatraBase.scala.html#org.scalatra;ScalatraBase.put" title="(transformers: org.scalatra.RouteTransformer*)(action: =&gt; Any)org.scalatra.Route">put</a><span class="delimiter">(</span><a href="#org.scalatra.servlet;AsyncSupport.asyncPut.transformers" title="org.scalatra.RouteTransformer*">transformers</a>: _*<span class="delimiter">)</span><span class="delimiter">(</span><a href="#org.scalatra.servlet;AsyncSupport.asynchronously" title="(f: =&gt; Any)org.scalatra.Action">asynchronously</a><span title="()Any" class="delimiter">(</span><a href="#org.scalatra.servlet;AsyncSupport.asyncPut.block" title="=&gt; Any">block</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * @see asyncGet
   */</span>
  def <a title="(transformers: org.scalatra.RouteTransformer*)(block: =&gt; Any)org.scalatra.Route" id="org.scalatra.servlet;AsyncSupport.asyncDelete">asyncDelete</a><span class="delimiter">(</span><a title="org.scalatra.RouteTransformer*" id="org.scalatra.servlet;AsyncSupport.asyncDelete.transformers">transformers</a>: <span title="org.scalatra.RouteTransformer*">RouteTransformer</span>*<span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; Any" id="org.scalatra.servlet;AsyncSupport.asyncDelete.block">block</a>: =&gt; Any<span class="delimiter">)</span>: <a href="../route.scala.html#org.scalatra;Route" title="org.scalatra.Route">Route</a> = 
    <a href="../ScalatraBase.scala.html#org.scalatra;ScalatraBase.delete" title="(transformers: org.scalatra.RouteTransformer*)(action: =&gt; Any)org.scalatra.Route">delete</a><span class="delimiter">(</span><a href="#org.scalatra.servlet;AsyncSupport.asyncDelete.transformers" title="org.scalatra.RouteTransformer*">transformers</a>: _*<span class="delimiter">)</span><span class="delimiter">(</span><a href="#org.scalatra.servlet;AsyncSupport.asynchronously" title="(f: =&gt; Any)org.scalatra.Action">asynchronously</a><span title="()Any" class="delimiter">(</span><a href="#org.scalatra.servlet;AsyncSupport.asyncDelete.block" title="=&gt; Any">block</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * @see asyncGet
   */</span>
  def <a title="(transformers: org.scalatra.RouteTransformer*)(block: =&gt; Any)org.scalatra.Route" id="org.scalatra.servlet;AsyncSupport.asyncOptions">asyncOptions</a><span class="delimiter">(</span><a title="org.scalatra.RouteTransformer*" id="org.scalatra.servlet;AsyncSupport.asyncOptions.transformers">transformers</a>: <span title="org.scalatra.RouteTransformer*">RouteTransformer</span>*<span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; Any" id="org.scalatra.servlet;AsyncSupport.asyncOptions.block">block</a>: =&gt; Any<span class="delimiter">)</span>: <a href="../route.scala.html#org.scalatra;Route" title="org.scalatra.Route">Route</a> = 
    <a href="../ScalatraBase.scala.html#org.scalatra;ScalatraBase.options" title="(transformers: org.scalatra.RouteTransformer*)(action: =&gt; Any)org.scalatra.Route">options</a><span class="delimiter">(</span><a href="#org.scalatra.servlet;AsyncSupport.asyncOptions.transformers" title="org.scalatra.RouteTransformer*">transformers</a>: _*<span class="delimiter">)</span><span class="delimiter">(</span><a href="#org.scalatra.servlet;AsyncSupport.asynchronously" title="(f: =&gt; Any)org.scalatra.Action">asynchronously</a><span title="()Any" class="delimiter">(</span><a href="#org.scalatra.servlet;AsyncSupport.asyncOptions.block" title="=&gt; Any">block</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * @see asyncGet
   */</span>
  def <a title="(transformers: org.scalatra.RouteTransformer*)(block: =&gt; Any)org.scalatra.Route" id="org.scalatra.servlet;AsyncSupport.asyncPatch">asyncPatch</a><span class="delimiter">(</span><a title="org.scalatra.RouteTransformer*" id="org.scalatra.servlet;AsyncSupport.asyncPatch.transformers">transformers</a>: <span title="org.scalatra.RouteTransformer*">RouteTransformer</span>*<span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; Any" id="org.scalatra.servlet;AsyncSupport.asyncPatch.block">block</a>: =&gt; Any<span class="delimiter">)</span>: <a href="../route.scala.html#org.scalatra;Route" title="org.scalatra.Route">Route</a> = 
    <a href="../ScalatraBase.scala.html#org.scalatra;ScalatraBase.patch" title="(transformers: org.scalatra.RouteTransformer*)(action: =&gt; Any)org.scalatra.Route">patch</a><span class="delimiter">(</span><a href="#org.scalatra.servlet;AsyncSupport.asyncPatch.transformers" title="org.scalatra.RouteTransformer*">transformers</a>: _*<span class="delimiter">)</span><span class="delimiter">(</span><a href="#org.scalatra.servlet;AsyncSupport.asynchronously" title="(f: =&gt; Any)org.scalatra.Action">asynchronously</a><span title="()Any" class="delimiter">(</span><a href="#org.scalatra.servlet;AsyncSupport.asyncPatch.block" title="=&gt; Any">block</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
