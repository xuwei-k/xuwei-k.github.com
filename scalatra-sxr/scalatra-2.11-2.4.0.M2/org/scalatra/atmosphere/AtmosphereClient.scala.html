<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>org/scalatra/atmosphere/AtmosphereClient.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
package org.scalatra
package atmosphere

import org.atmosphere.cpr._
import org.scalatra.util.<a href="../util/RicherString.scala.html#org.scalatra.util.RicherString" title="org.scalatra.util.RicherString.type">RicherString</a>._
import grizzled.slf4j.Logger
import concurrent.ExecutionContext
import scala.collection.<span title="scala.collection.JavaConverters.type">JavaConverters</span>._

object <a title="org.scalatra.atmosphere.AtmosphereClient.type" id="org.scalatra.atmosphere.AtmosphereClient.readResolve">AtmosphereClient</a> <a href="#org.scalatra.atmosphere.AtmosphereClient.readResolve" title="org.scalatra.atmosphere.AtmosphereClient.type" class="delimiter">{</a>
  def <a title="()Seq[org.scalatra.atmosphere.ScalatraBroadcaster]" id="org.scalatra.atmosphere.AtmosphereClient.lookupAll">lookupAll</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Seq[org.scalatra.atmosphere.ScalatraBroadcaster]">Seq</span><span class="delimiter">[</span>ScalatraBroadcaster<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="org.atmosphere.cpr.BroadcasterFactory.type">BroadcasterFactory</span>.<span title="()org.atmosphere.cpr.BroadcasterFactory">getDefault</span>.<span title="()java.util.Collection[org.atmosphere.cpr.Broadcaster]">lookupAll</span><span title="(i: java.util.Collection[org.atmosphere.cpr.Broadcaster])scala.collection.convert.Decorators.AsScala[Iterable[org.atmosphere.cpr.Broadcaster]]" class="delimiter">(</span><span class="delimiter">)</span>.<span title="=&gt; Iterable[org.atmosphere.cpr.Broadcaster]">asScala</span>.<span title="=&gt; Seq[org.atmosphere.cpr.Broadcaster]">toSeq</span> <span title="(pf: PartialFunction[org.atmosphere.cpr.Broadcaster,org.scalatra.atmosphere.ScalatraBroadcaster])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[org.atmosphere.cpr.Broadcaster],org.scalatra.atmosphere.ScalatraBroadcaster,Seq[org.scalatra.atmosphere.ScalatraBroadcaster]])Seq[org.scalatra.atmosphere.ScalatraBroadcaster]">collect</span> <a title="&lt;$anon: org.atmosphere.cpr.Broadcaster =&gt; org.scalatra.atmosphere.ScalatraBroadcaster&gt; extends scala.runtime.AbstractPartialFunction[org.atmosphere.cpr.Broadcaster,org.scalatra.atmosphere.ScalatraBroadcaster] with Serializable" id="org.scalatra.atmosphere.AtmosphereClient.lookupAll;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
      case <a title="org.scalatra.atmosphere.ScalatraBroadcaster" id="org.scalatra.atmosphere.AtmosphereClient.lookupAll;$anonfun.isDefinedAt.b">b</a>: <a href="ScalatraBroadcaster.scala.html#org.scalatra.atmosphere;ScalatraBroadcaster" title="org.scalatra.atmosphere.ScalatraBroadcaster">ScalatraBroadcaster</a> =&gt; <a href="#org.scalatra.atmosphere.AtmosphereClient.lookupAll;$anonfun.isDefinedAt.b" title="org.scalatra.atmosphere.ScalatraBroadcaster">b</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(path: String)Option[org.scalatra.atmosphere.ScalatraBroadcaster]" id="org.scalatra.atmosphere.AtmosphereClient.lookup">lookup</a><span class="delimiter">(</span><a title="String" id="org.scalatra.atmosphere.AtmosphereClient.lookup.path">path</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[org.scalatra.atmosphere.ScalatraBroadcaster]">Option</span><span class="delimiter">[</span>ScalatraBroadcaster<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val pth = <a href="../util/RicherString.scala.html#org.scalatra.util.RicherString.stringToRicherString" title="implicit org.scalatra.util.RicherString.stringToRicherString : (s: String)org.scalatra.util.RicherString">path</a>.<a href="../util/RicherString.scala.html#org.scalatra.util;RicherString.blankOption" title="=&gt; Option[String]">blankOption</a> <a title="String" id="org.scalatra.atmosphere.AtmosphereClient.lookup.pth">getOrElse</a> <span title="String(&quot;/*&quot;)" class="string">&quot;/*&quot;</span>
    val <a title="String" id="org.scalatra.atmosphere.AtmosphereClient.lookup.norm">norm</a> = if <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#org.scalatra.atmosphere.AtmosphereClient.lookup.pth" title="String">pth</a>.<span title="(x$1: String)Boolean">endsWith</span><span class="delimiter">(</span><span title="String(&quot;/*&quot;)" class="string">&quot;/*&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      if <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#org.scalatra.atmosphere.AtmosphereClient.lookup.pth" title="String">pth</a>.<span title="(x$1: String)Boolean">endsWith</span><span class="delimiter">(</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#org.scalatra.atmosphere.AtmosphereClient.lookup.pth" title="String">pth</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;/*&quot;)" class="string">&quot;/*&quot;</span> else <span title="String(&quot;*&quot;)" class="string">&quot;*&quot;</span>
    <span class="delimiter">}</span> else <a href="#org.scalatra.atmosphere.AtmosphereClient.lookup.pth" title="String">pth</a>
    val <a title="org.atmosphere.cpr.Broadcaster" id="org.scalatra.atmosphere.AtmosphereClient.lookup.res">res</a>: <span title="org.atmosphere.cpr.Broadcaster">Broadcaster</span> = <span title="org.atmosphere.cpr.BroadcasterFactory.type">BroadcasterFactory</span>.<span title="()org.atmosphere.cpr.BroadcasterFactory">getDefault</span>.<span title="(x$1: Any)Nothing">lookup</span><span class="delimiter">(</span><a href="#org.scalatra.atmosphere.AtmosphereClient.lookup.norm" title="String">norm</a><span class="delimiter">)</span>
    if<span class="delimiter">(</span> <a href="#org.scalatra.atmosphere.AtmosphereClient.lookup.res" title="org.atmosphere.cpr.Broadcaster">res</a> <span title="(x$1: Any)Boolean">!=</span> null <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#org.scalatra.atmosphere.AtmosphereClient.lookup.res" title="org.atmosphere.cpr.Broadcaster">res</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="ScalatraBroadcaster.scala.html#org.scalatra.atmosphere;ScalatraBroadcaster" title="org.scalatra.atmosphere.ScalatraBroadcaster">ScalatraBroadcaster</a><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="(x: org.scalatra.atmosphere.ScalatraBroadcaster)Some[org.scalatra.atmosphere.ScalatraBroadcaster]">Some</span><span class="delimiter">(</span><a href="#org.scalatra.atmosphere.AtmosphereClient.lookup.res" title="org.atmosphere.cpr.Broadcaster">res</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.scalatra.atmosphere.ScalatraBroadcaster" class="delimiter">[</span><a href="ScalatraBroadcaster.scala.html#org.scalatra.atmosphere;ScalatraBroadcaster" title="org.scalatra.atmosphere.ScalatraBroadcaster">ScalatraBroadcaster</a><span class="delimiter">]</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> else <span class="delimiter">{</span>
      <span title="None.type">None</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(path: String, message: org.scalatra.atmosphere.OutboundMessage, filter: org.scalatra.atmosphere.ClientFilter)(implicit executionContext: scala.concurrent.ExecutionContext)Unit" id="org.scalatra.atmosphere.AtmosphereClient.broadcast">broadcast</a><span class="delimiter">(</span><a title="String" id="org.scalatra.atmosphere.AtmosphereClient.broadcast.path">path</a>: <span title="String">String</span>, <a title="org.scalatra.atmosphere.OutboundMessage" id="org.scalatra.atmosphere.AtmosphereClient.broadcast.message">message</a>: <a href="messages.scala.html#org.scalatra.atmosphere;OutboundMessage" title="org.scalatra.atmosphere.OutboundMessage">OutboundMessage</a>, <a title="org.scalatra.atmosphere.ClientFilter" id="org.scalatra.atmosphere.AtmosphereClient.broadcast$default$3">filter</a>: <a href="package.scala.html#org.scalatra.atmosphere.package;ClientFilter" title="org.scalatra.atmosphere.ClientFilter">ClientFilter</a> = new <a href="package.scala.html#org.scalatra.atmosphere.package;Everyone" title="org.scalatra.atmosphere.Everyone">Everyone</a><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="scala.concurrent.ExecutionContext" id="org.scalatra.atmosphere.AtmosphereClient.broadcast.executionContext">executionContext</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#org.scalatra.atmosphere.AtmosphereClient.lookup" title="(path: String)Option[org.scalatra.atmosphere.ScalatraBroadcaster]">lookup</a><span class="delimiter">(</span><a href="#org.scalatra.atmosphere.AtmosphereClient.broadcast.path" title="String">path</a><span class="delimiter">)</span> <span title="(f: org.scalatra.atmosphere.ScalatraBroadcaster =&gt; scala.concurrent.Future[org.scalatra.atmosphere.OutboundMessage])Unit">foreach</span> <span class="delimiter">{</span> <a href="#org.scalatra.atmosphere.AtmosphereClient.broadcast.$anonfun.x$1" title="org.scalatra.atmosphere.ScalatraBroadcaster">_</a>.<a href="ScalatraBroadcaster.scala.html#org.scalatra.atmosphere;ScalatraBroadcaster.broadcast(2bc3b7de84)" title="(msg: org.scalatra.atmosphere.OutboundMessage, clientFilter: org.scalatra.atmosphere.ClientFilter)(implicit executionContext: scala.concurrent.ExecutionContext)scala.concurrent.Future[org.scalatra.atmosphere.OutboundMessage]">broadcast</a><a href="#org.scalatra.atmosphere.AtmosphereClient.broadcast.executionContext" title="scala.concurrent.ExecutionContext" class="delimiter">(</a><a href="#org.scalatra.atmosphere.AtmosphereClient.broadcast.message" title="org.scalatra.atmosphere.OutboundMessage">message</a>, <a href="#org.scalatra.atmosphere.AtmosphereClient.broadcast$default$3" title="org.scalatra.atmosphere.ClientFilter">filter</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(message: org.scalatra.atmosphere.OutboundMessage, filter: org.scalatra.atmosphere.ClientFilter)(implicit executionContext: scala.concurrent.ExecutionContext)Unit" id="org.scalatra.atmosphere.AtmosphereClient.broadcastAll">broadcastAll</a><span class="delimiter">(</span><a title="org.scalatra.atmosphere.OutboundMessage" id="org.scalatra.atmosphere.AtmosphereClient.broadcastAll.message">message</a>: <a href="messages.scala.html#org.scalatra.atmosphere;OutboundMessage" title="org.scalatra.atmosphere.OutboundMessage">OutboundMessage</a>, <a title="org.scalatra.atmosphere.ClientFilter" id="org.scalatra.atmosphere.AtmosphereClient.broadcastAll$default$2">filter</a>: <a href="package.scala.html#org.scalatra.atmosphere.package;ClientFilter" title="org.scalatra.atmosphere.ClientFilter">ClientFilter</a> = new <a href="package.scala.html#org.scalatra.atmosphere.package;Everyone" title="org.scalatra.atmosphere.Everyone">Everyone</a><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="scala.concurrent.ExecutionContext" id="org.scalatra.atmosphere.AtmosphereClient.broadcastAll.executionContext">executionContext</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#org.scalatra.atmosphere.AtmosphereClient.lookupAll" title="()Seq[org.scalatra.atmosphere.ScalatraBroadcaster]">lookupAll</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(f: org.scalatra.atmosphere.ScalatraBroadcaster =&gt; scala.concurrent.Future[org.scalatra.atmosphere.OutboundMessage])Unit">foreach</span> <span class="delimiter">{</span>
      <a href="#org.scalatra.atmosphere.AtmosphereClient.broadcastAll.$anonfun.x$2" title="org.scalatra.atmosphere.ScalatraBroadcaster">_</a> <a href="ScalatraBroadcaster.scala.html#org.scalatra.atmosphere;ScalatraBroadcaster.broadcast(2bc3b7de84)" title="(msg: org.scalatra.atmosphere.OutboundMessage, clientFilter: org.scalatra.atmosphere.ClientFilter)(implicit executionContext: scala.concurrent.ExecutionContext)scala.concurrent.Future[org.scalatra.atmosphere.OutboundMessage]">broadcast</a> <span class="delimiter">(</span><a href="#org.scalatra.atmosphere.AtmosphereClient.broadcastAll.message" title="org.scalatra.atmosphere.OutboundMessage">message</a>, <a href="#org.scalatra.atmosphere.AtmosphereClient.broadcastAll$default$2" title="org.scalatra.atmosphere.ClientFilter">filter</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Provides a handle for a single Atmosphere connection. 
 * 
 * Each browser or other device which connects to an `atmosphere` route is
 * assigned its own AtmosphereClient, with a uuid. This is a good bet for
 * subclassing if you need to implement your own message distribution logic.
 * Subclasses may define their own ClientFilter logic in addition to the
 * stock ClientFilters already defined, in order to segment message delivery.
 */</span>
trait <a title="trait AtmosphereClient extends AnyRef with org.scalatra.atmosphere.AtmosphereClientFilters" id="org.scalatra.atmosphere;AtmosphereClient">AtmosphereClient</a> extends <a href="AtmosphereClientFilters.scala.html#org.scalatra.atmosphere;AtmosphereClientFilters" title="org.scalatra.atmosphere.AtmosphereClientFilters">AtmosphereClientFilters</a> <span class="delimiter">{</span>

  @volatile private<span class="delimiter">[</span>atmosphere<span class="delimiter">]</span> var <a title="org.atmosphere.cpr.AtmosphereResource" id="org.scalatra.atmosphere;AtmosphereClient.resource_=">resource</a>: <span title="org.atmosphere.cpr.AtmosphereResource">AtmosphereResource</span> = _
  @transient private<span class="delimiter">[</span>this<span class="delimiter">]</span> val <a title="grizzled.slf4j.Logger" id="org.scalatra.atmosphere;AtmosphereClient.internalLogger">internalLogger</a> = <span title="[C]()(implicit evidence$1: scala.reflect.ClassTag[C])grizzled.slf4j.Logger">Logger</span><span title="()(implicit evidence$1: scala.reflect.ClassTag[org.scalatra.atmosphere.AtmosphereClient])grizzled.slf4j.Logger" class="delimiter">[</span><a href="#org.scalatra.atmosphere;AtmosphereClient" title="org.scalatra.atmosphere.AtmosphereClient">AtmosphereClient</a><span class="delimiter">]</span>
  @transient private<span class="delimiter">[</span>this<span class="delimiter">]</span> def <a title="=&gt; org.scalatra.atmosphere.ScalatraBroadcaster" id="org.scalatra.atmosphere;AtmosphereClient.broadcaster">broadcaster</a> = <a href="#org.scalatra.atmosphere;AtmosphereClient.resource_=" title="=&gt; org.atmosphere.cpr.AtmosphereResource">resource</a>.<span title="()org.atmosphere.cpr.Broadcaster">getBroadcaster</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.scalatra.atmosphere.ScalatraBroadcaster" class="delimiter">[</span><a href="ScalatraBroadcaster.scala.html#org.scalatra.atmosphere;ScalatraBroadcaster" title="org.scalatra.atmosphere.ScalatraBroadcaster">ScalatraBroadcaster</a><span class="delimiter">]</span>

  protected def <a title="=&gt; String" id="org.scalatra.atmosphere;AtmosphereClient.requestUri">requestUri</a> = <span class="delimiter">{</span>
    val u = <a href="#org.scalatra.atmosphere;AtmosphereClient.resource_=" title="=&gt; org.atmosphere.cpr.AtmosphereResource">resource</a>.<span title="()org.atmosphere.cpr.AtmosphereRequest">getRequest</span>.<a href="../util/RicherString.scala.html#org.scalatra.util.RicherString.stringToRicherString" title="implicit org.scalatra.util.RicherString.stringToRicherString : (s: String)org.scalatra.util.RicherString">getRequestURI</a>.<a href="../util/RicherString.scala.html#org.scalatra.util;RicherString.blankOption" title="=&gt; Option[String]">blankOption</a> <a title="String" id="org.scalatra.atmosphere;AtmosphereClient.requestUri.u">getOrElse</a> <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span>
    if <span class="delimiter">(</span><a href="#org.scalatra.atmosphere;AtmosphereClient.requestUri.u" title="String">u</a>.<span title="(x$1: String)Boolean">endsWith</span><span class="delimiter">(</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#org.scalatra.atmosphere;AtmosphereClient.requestUri.u" title="String">u</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;*&quot;)" class="string">&quot;*&quot;</span> else <a href="#org.scalatra.atmosphere;AtmosphereClient.requestUri.u" title="String">u</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;/*&quot;)" class="string">&quot;/*&quot;</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A unique identifier for a given connection. Can be used for filtering
   * purposes.
   */</span>
  final def <a title="=&gt; String" id="org.scalatra.atmosphere;AtmosphereClient.uuid">uuid</a>: <span title="String">String</span> = <a href="#org.scalatra.atmosphere;AtmosphereClient.resource_=" title="=&gt; org.atmosphere.cpr.AtmosphereResource">resource</a>.<span title="()String">uuid</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Receive an inbound message.
   */</span>
  def <a title="=&gt; org.scalatra.atmosphere.AtmoReceive" id="org.scalatra.atmosphere;AtmosphereClient.receive">receive</a>: <span title="org.scalatra.atmosphere.AtmoReceive">AtmoReceive</span>

  <span class="comment">/**
   * A convenience method which sends a message only to the current client,
   * using a broadcast filter.  This is the same as calling `broadcast(message, to = Me)`
   */</span>
  final def <a title="(msg: org.scalatra.atmosphere.OutboundMessage)(implicit executionContext: scala.concurrent.ExecutionContext)scala.concurrent.Future[org.scalatra.atmosphere.OutboundMessage]" id="org.scalatra.atmosphere;AtmosphereClient.send">send</a><span class="delimiter">(</span><a title="org.scalatra.atmosphere.OutboundMessage" id="org.scalatra.atmosphere;AtmosphereClient.send.msg">msg</a>: <a href="messages.scala.html#org.scalatra.atmosphere;OutboundMessage" title="org.scalatra.atmosphere.OutboundMessage">OutboundMessage</a><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="scala.concurrent.ExecutionContext" id="org.scalatra.atmosphere;AtmosphereClient.send.executionContext">executionContext</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span><span class="delimiter">)</span> = <a href="#org.scalatra.atmosphere;AtmosphereClient.broadcast" title="(msg: org.scalatra.atmosphere.OutboundMessage, to: org.scalatra.atmosphere.ClientFilter)(implicit executionContext: scala.concurrent.ExecutionContext)scala.concurrent.Future[org.scalatra.atmosphere.OutboundMessage]">broadcast</a><span class="delimiter">(</span><a href="#org.scalatra.atmosphere;AtmosphereClient.send.msg" title="org.scalatra.atmosphere.OutboundMessage">msg</a>, to = <a href="AtmosphereClientFilters.scala.html#org.scalatra.atmosphere;AtmosphereClientFilters.Me" title="=&gt; org.scalatra.atmosphere.ClientFilter">Me</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#org.scalatra.atmosphere;AtmosphereClient.send.executionContext" title="scala.concurrent.ExecutionContext">executionContext</a><span class="delimiter">)</span>

  <span class="comment">/**
   * A convenience method which sends a message only to the current client,
   * using a broadcast filter.
   */</span>
  final def <a title="(msg: org.scalatra.atmosphere.OutboundMessage)(implicit executionContext: scala.concurrent.ExecutionContext)scala.concurrent.Future[org.scalatra.atmosphere.OutboundMessage]" id="org.scalatra.atmosphere;AtmosphereClient.!">!</a><span class="delimiter">(</span><a title="org.scalatra.atmosphere.OutboundMessage" id="org.scalatra.atmosphere;AtmosphereClient.!.msg">msg</a>: <a href="messages.scala.html#org.scalatra.atmosphere;OutboundMessage" title="org.scalatra.atmosphere.OutboundMessage">OutboundMessage</a><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="scala.concurrent.ExecutionContext" id="org.scalatra.atmosphere;AtmosphereClient.!.executionContext">executionContext</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span><span class="delimiter">)</span> = <a href="#org.scalatra.atmosphere;AtmosphereClient.send" title="(msg: org.scalatra.atmosphere.OutboundMessage)(implicit executionContext: scala.concurrent.ExecutionContext)scala.concurrent.Future[org.scalatra.atmosphere.OutboundMessage]">send</a><span class="delimiter">(</span><a href="#org.scalatra.atmosphere;AtmosphereClient.!.msg" title="org.scalatra.atmosphere.OutboundMessage">msg</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#org.scalatra.atmosphere;AtmosphereClient.!.executionContext" title="scala.concurrent.ExecutionContext">executionContext</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Broadcast a message to all clients, skipping the current client by default
   * (i.e. normal chat server behaviour). Optionally filter the clients to
   * deliver the message to by applying a filter.
   */</span>
  final def <a title="(msg: org.scalatra.atmosphere.OutboundMessage, to: org.scalatra.atmosphere.ClientFilter)(implicit executionContext: scala.concurrent.ExecutionContext)scala.concurrent.Future[org.scalatra.atmosphere.OutboundMessage]" id="org.scalatra.atmosphere;AtmosphereClient.broadcast">broadcast</a><span class="delimiter">(</span><a title="org.scalatra.atmosphere.OutboundMessage" id="org.scalatra.atmosphere;AtmosphereClient.broadcast.msg">msg</a>: <a href="messages.scala.html#org.scalatra.atmosphere;OutboundMessage" title="org.scalatra.atmosphere.OutboundMessage">OutboundMessage</a>, <a title="org.scalatra.atmosphere.ClientFilter" id="org.scalatra.atmosphere;AtmosphereClient.broadcast$default$2">to</a>: <a href="package.scala.html#org.scalatra.atmosphere.package;ClientFilter" title="org.scalatra.atmosphere.ClientFilter">ClientFilter</a> = <a href="AtmosphereClientFilters.scala.html#org.scalatra.atmosphere;AtmosphereClientFilters.Others" title="=&gt; org.scalatra.atmosphere.ClientFilter">Others</a><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="scala.concurrent.ExecutionContext" id="org.scalatra.atmosphere;AtmosphereClient.broadcast.executionContext">executionContext</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#org.scalatra.atmosphere;AtmosphereClient.resource_=" title="=&gt; org.atmosphere.cpr.AtmosphereResource">resource</a> <span title="(x$1: Any)Boolean">==</span> null<span class="delimiter">)</span>
      <a href="#org.scalatra.atmosphere;AtmosphereClient.internalLogger" title="grizzled.slf4j.Logger">internalLogger</a>.<span title="(msg: =&gt; Any)Unit">warn</span><span class="delimiter">(</span><span title="String(&quot;The resource is null, can\'t publish&quot;)" class="string">&quot;The resource is null, can't publish&quot;</span><span class="delimiter">)</span>

    if <span class="delimiter">(</span><a href="#org.scalatra.atmosphere;AtmosphereClient.resource_=" title="=&gt; org.atmosphere.cpr.AtmosphereResource">resource</a>.<span title="()org.atmosphere.cpr.Broadcaster">getBroadcaster</span> <span title="(x$1: Any)Boolean">==</span> null<span class="delimiter">)</span>
      <a href="#org.scalatra.atmosphere;AtmosphereClient.internalLogger" title="grizzled.slf4j.Logger">internalLogger</a>.<span title="(msg: =&gt; Any)Unit">warn</span><span class="delimiter">(</span><span title="String(&quot;The broadcaster is null, can\'t publish&quot;)" class="string">&quot;The broadcaster is null, can't publish&quot;</span><span class="delimiter">)</span>

    <a href="#org.scalatra.atmosphere;AtmosphereClient.broadcaster" title="=&gt; org.scalatra.atmosphere.ScalatraBroadcaster">broadcaster</a>.<a href="ScalatraBroadcaster.scala.html#org.scalatra.atmosphere;ScalatraBroadcaster.broadcast(2bc3b7de84)" title="(msg: org.scalatra.atmosphere.OutboundMessage, clientFilter: org.scalatra.atmosphere.ClientFilter)(implicit executionContext: scala.concurrent.ExecutionContext)scala.concurrent.Future[org.scalatra.atmosphere.OutboundMessage]">broadcast</a><a href="#org.scalatra.atmosphere;AtmosphereClient.broadcast.executionContext" title="scala.concurrent.ExecutionContext" class="delimiter">(</a><a href="#org.scalatra.atmosphere;AtmosphereClient.broadcast.msg" title="org.scalatra.atmosphere.OutboundMessage">msg</a>, <a href="#org.scalatra.atmosphere;AtmosphereClient.broadcast$default$2" title="org.scalatra.atmosphere.ClientFilter">to</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Broadcast a message to all clients, skipping the current client by default
   * (i.e. normal chat server behaviour). Optionally filter the clients to
   * deliver the message to by applying a filter.
   */</span>
  final def <a title="(msg: org.scalatra.atmosphere.OutboundMessage, to: org.scalatra.atmosphere.ClientFilter)(implicit executionContext: scala.concurrent.ExecutionContext)scala.concurrent.Future[org.scalatra.atmosphere.OutboundMessage]" id="org.scalatra.atmosphere;AtmosphereClient.><">&gt;&lt;</a><span class="delimiter">(</span><a title="org.scalatra.atmosphere.OutboundMessage" id="org.scalatra.atmosphere;AtmosphereClient.><.msg">msg</a>: <a href="messages.scala.html#org.scalatra.atmosphere;OutboundMessage" title="org.scalatra.atmosphere.OutboundMessage">OutboundMessage</a>, <a title="org.scalatra.atmosphere.ClientFilter" id="org.scalatra.atmosphere;AtmosphereClient.><$default$2">to</a>: <a href="package.scala.html#org.scalatra.atmosphere.package;ClientFilter" title="org.scalatra.atmosphere.ClientFilter">ClientFilter</a> = <a href="AtmosphereClientFilters.scala.html#org.scalatra.atmosphere;AtmosphereClientFilters.Others" title="=&gt; org.scalatra.atmosphere.ClientFilter">Others</a><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="scala.concurrent.ExecutionContext" id="org.scalatra.atmosphere;AtmosphereClient.><.executionContext">executionContext</a>: <span title="scala.concurrent.ExecutionContext">ExecutionContext</span><span class="delimiter">)</span> = <a href="#org.scalatra.atmosphere;AtmosphereClient.broadcast" title="(msg: org.scalatra.atmosphere.OutboundMessage, to: org.scalatra.atmosphere.ClientFilter)(implicit executionContext: scala.concurrent.ExecutionContext)scala.concurrent.Future[org.scalatra.atmosphere.OutboundMessage]">broadcast</a><span class="delimiter">(</span><a href="#org.scalatra.atmosphere;AtmosphereClient.><.msg" title="org.scalatra.atmosphere.OutboundMessage">msg</a>, <a href="#org.scalatra.atmosphere;AtmosphereClient.><$default$2" title="org.scalatra.atmosphere.ClientFilter">to</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#org.scalatra.atmosphere;AtmosphereClient.><.executionContext" title="scala.concurrent.ExecutionContext">executionContext</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>
