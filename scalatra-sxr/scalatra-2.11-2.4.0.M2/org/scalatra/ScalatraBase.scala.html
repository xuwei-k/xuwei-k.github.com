<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>org/scalatra/ScalatraBase.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
package org.scalatra

import scala.util.matching.Regex
import servlet.ServletApiImplicits
import util.conversion.DefaultImplicitConversions
import util.io.zeroCopy
import java.io.<span class="delimiter">{</span>File, FileInputStream<span class="delimiter">}</span>
import scala.annotation.tailrec
import util._
import util.<a href="util/RicherString.scala.html#org.scalatra.util.RicherString" title="org.scalatra.util.RicherString.type">RicherString</a>._
import rl.UrlCodingUtils
import javax.servlet.<span class="delimiter">{</span>Filter, ServletContext<span class="delimiter">}</span>
import javax.servlet.http.<span class="delimiter">{</span>HttpServlet, HttpServletRequest, HttpServletResponse<span class="delimiter">}</span>
import scala.util.control.<span title="scala.util.control.Exception.type">Exception</span>._
import org.scalatra.<a href="#org.scalatra.ScalatraBase" title="org.scalatra.ScalatraBase.type">ScalatraBase</a>._
import scala.util.<span class="delimiter">{</span>Failure, Try, Success<span class="delimiter">}</span>

object <a title="org.scalatra.UriDecoder.type" id="org.scalatra.UriDecoder">UriDecoder</a> <a href="#org.scalatra.UriDecoder" title="org.scalatra.UriDecoder.type" class="delimiter">{</a>
  def <a title="(uri: String)String" id="org.scalatra.UriDecoder.firstStep">firstStep</a><span class="delimiter">(</span><a title="String" id="org.scalatra.UriDecoder.firstStep.uri">uri</a>: <span title="String">String</span><span class="delimiter">)</span> = <span title="rl.UrlCodingUtils.type">UrlCodingUtils</span>.<a title="java.nio.charset.Charset" id="org.scalatra.UriDecoder.firstStep.x$28">urlDecode</a><span class="delimiter">(</span><span title="rl.UrlCodingUtils.type">UrlCodingUtils</span>.<span title="(string: String)String">ensureUrlEncoding</span><a title="String" id="org.scalatra.UriDecoder.firstStep.x$25" class="delimiter">(</a><a href="#org.scalatra.UriDecoder.firstStep.uri" title="String">uri</a><span class="delimiter">)</span>, toSkip = <a href="pathPatternParsers.scala.html#org.scalatra.PathPatternParser" title="org.scalatra.PathPatternParser.type">PathPatternParser</a>.<a href="pathPatternParsers.scala.html#org.scalatra.PathPatternParser.PathReservedCharacters" title="String" id="org.scalatra.UriDecoder.firstStep.x$26">PathReservedCharacters</a><span class="delimiter">)</span>

  def <a title="(uri: String)String" id="org.scalatra.UriDecoder.secondStep">secondStep</a><span class="delimiter">(</span><a title="String" id="org.scalatra.UriDecoder.secondStep.uri">uri</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#org.scalatra.UriDecoder.secondStep.uri" title="String">uri</a>.<span title="(x$1: String, x$2: String)String">replaceAll</span><span class="delimiter">(</span><span title="String(&quot;%23&quot;)" class="string">&quot;%23&quot;</span>, <span title="String(&quot;#&quot;)" class="string">&quot;#&quot;</span><span class="delimiter">)</span>.<span title="(x$1: String, x$2: String)String">replaceAll</span><span class="delimiter">(</span><span title="String(&quot;%2F&quot;)" class="string">&quot;%2F&quot;</span>, <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span>.<span title="(x$1: String, x$2: String)String">replaceAll</span><span class="delimiter">(</span><span title="String(&quot;%3F&quot;)" class="string">&quot;%3F&quot;</span>, <span title="String(&quot;?&quot;)" class="string">&quot;?&quot;</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

object <a title="org.scalatra.ScalatraBase.type" id="org.scalatra.ScalatraBase">ScalatraBase</a> <a href="#org.scalatra.ScalatraBase" title="org.scalatra.ScalatraBase.type" class="delimiter">{</a>
  <span class="comment">/**
   * A key for request attribute that contains any exception
   * that might have occured before the handling has been
   * propagated to ScalatraBase#handle (such as in
   * FileUploadSupport)
   */</span>
  val <a title="String" id="org.scalatra.ScalatraBase.PrehandleExceptionKey">PrehandleExceptionKey</a> = <span title="String(&quot;org.scalatra.PrehandleException&quot;)" class="string">&quot;org.scalatra.PrehandleException&quot;</span>
  val <a title="String" id="org.scalatra.ScalatraBase.HostNameKey">HostNameKey</a> = <span title="String(&quot;org.scalatra.HostName&quot;)" class="string">&quot;org.scalatra.HostName&quot;</span>
  val <a title="String" id="org.scalatra.ScalatraBase.PortKey">PortKey</a> = <span title="String(&quot;org.scalatra.Port&quot;)" class="string">&quot;org.scalatra.Port&quot;</span>
  val <a title="String" id="org.scalatra.ScalatraBase.ForceHttpsKey">ForceHttpsKey</a> = <span title="String(&quot;org.scalatra.ForceHttps&quot;)" class="string">&quot;org.scalatra.ForceHttps&quot;</span>

  private<span class="delimiter">[</span>this<span class="delimiter">]</span> val <a title="String" id="org.scalatra.ScalatraBase.KeyPrefix">KeyPrefix</a> = classOf<span title="Class[org.scalatra.FutureSupport](classOf[org.scalatra.FutureSupport])" class="delimiter">[</span>FutureSupport<span class="delimiter">]</span>.<span title="()String">getName</span>
  val <a title="String" id="org.scalatra.ScalatraBase.Callbacks">Callbacks</a> = <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;&quot;)">$</span><a href="#org.scalatra.ScalatraBase.KeyPrefix" title="String">KeyPrefix</a><span title="String(&quot;.callbacks&quot;)" class="string">.callbacks&quot;</span>
  val <a title="String" id="org.scalatra.ScalatraBase.RenderCallbacks">RenderCallbacks</a> = <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;&quot;)">$</span><a href="#org.scalatra.ScalatraBase.KeyPrefix" title="String">KeyPrefix</a><span title="String(&quot;.renderCallbacks&quot;)" class="string">.renderCallbacks&quot;</span>
  val <a title="String" id="org.scalatra.ScalatraBase.IsAsyncKey">IsAsyncKey</a> = <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;&quot;)">$</span><a href="#org.scalatra.ScalatraBase.KeyPrefix" title="String">KeyPrefix</a><span title="String(&quot;.isAsync&quot;)" class="string">.isAsync&quot;</span>

  import servlet.<a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet.ServletApiImplicits" title="org.scalatra.servlet.ServletApiImplicits.type">ServletApiImplicits</a>._
  def <a title="(implicit request: javax.servlet.http.HttpServletRequest)Any" id="org.scalatra.ScalatraBase.isAsyncResponse">isAsyncResponse</a><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra.ScalatraBase.isAsyncResponse.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span> = <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichRequest" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichRequest : (request: javax.servlet.http.HttpServletRequest)org.scalatra.servlet.RichRequest">request</a>.<a href="servlet/AttributesMap.scala.html#org.scalatra.servlet;AttributesMap.get(adc3586498)" title="(key: String)Option[Any]">get</a><span class="delimiter">(</span><a href="#org.scalatra.ScalatraBase.IsAsyncKey" title="=&gt; String">IsAsyncKey</a><span class="delimiter">)</span>.<span title="(default: =&gt; Any)Any">getOrElse</span><span class="delimiter">(</span>false<span class="delimiter">)</span>

  def <a title="(fn: Any =&gt; Unit)(implicit request: javax.servlet.http.HttpServletRequest)Unit" id="org.scalatra.ScalatraBase.onSuccess">onSuccess</a><span class="delimiter">(</span><a title="Any =&gt; Unit" id="org.scalatra.ScalatraBase.onSuccess.fn">fn</a>: Any =&gt; Unit<span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra.ScalatraBase.onSuccess.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span> = <a href="#org.scalatra.ScalatraBase.addCallback" title="(callback: scala.util.Try[Any] =&gt; Unit)(implicit request: javax.servlet.http.HttpServletRequest)Unit">addCallback</a><a href="#org.scalatra.ScalatraBase.onSuccess.request" title="javax.servlet.http.HttpServletRequest" class="delimiter">(</a><a href="#org.scalatra.ScalatraBase.onSuccess.$anonfun.x$1" title="scala.util.Try[Any]">_</a>.<span title="(f: Any =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#org.scalatra.ScalatraBase.onSuccess.fn" title="Any =&gt; Unit">fn</a><span class="delimiter">)</span><span class="delimiter">)</span>
  def <a title="(fn: Throwable =&gt; Unit)(implicit request: javax.servlet.http.HttpServletRequest)Unit" id="org.scalatra.ScalatraBase.onFailure">onFailure</a><span class="delimiter">(</span><a title="Throwable =&gt; Unit" id="org.scalatra.ScalatraBase.onFailure.fn">fn</a>: Throwable =&gt; Unit<span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra.ScalatraBase.onFailure.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span> = <a href="#org.scalatra.ScalatraBase.addCallback" title="(callback: scala.util.Try[Any] =&gt; Unit)(implicit request: javax.servlet.http.HttpServletRequest)Unit">addCallback</a><a href="#org.scalatra.ScalatraBase.onFailure.request" title="javax.servlet.http.HttpServletRequest" class="delimiter">(</a><a href="#org.scalatra.ScalatraBase.onFailure.$anonfun.x$2" title="scala.util.Try[Any]">_</a>.<span title="=&gt; scala.util.Try[Throwable]">failed</span>.<span title="(f: Throwable =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#org.scalatra.ScalatraBase.onFailure.fn" title="Throwable =&gt; Unit">fn</a><span class="delimiter">)</span><span class="delimiter">)</span>
  def <a title="(fn: scala.util.Try[Any] =&gt; Unit)(implicit request: javax.servlet.http.HttpServletRequest)Unit" id="org.scalatra.ScalatraBase.onCompleted">onCompleted</a><span class="delimiter">(</span><a title="scala.util.Try[Any] =&gt; Unit" id="org.scalatra.ScalatraBase.onCompleted.fn">fn</a>: Try<span class="delimiter">[</span>Any<span class="delimiter">]</span> =&gt; Unit<span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra.ScalatraBase.onCompleted.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span> = <a href="#org.scalatra.ScalatraBase.addCallback" title="(callback: scala.util.Try[Any] =&gt; Unit)(implicit request: javax.servlet.http.HttpServletRequest)Unit">addCallback</a><a href="#org.scalatra.ScalatraBase.onCompleted.request" title="javax.servlet.http.HttpServletRequest" class="delimiter">(</a><a href="#org.scalatra.ScalatraBase.onCompleted.fn" title="scala.util.Try[Any] =&gt; Unit">fn</a><span class="delimiter">)</span>
  def <a title="(fn: Any =&gt; Unit)(implicit request: javax.servlet.http.HttpServletRequest)Unit" id="org.scalatra.ScalatraBase.onRenderedSuccess">onRenderedSuccess</a><span class="delimiter">(</span><a title="Any =&gt; Unit" id="org.scalatra.ScalatraBase.onRenderedSuccess.fn">fn</a>: Any =&gt; Unit<span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra.ScalatraBase.onRenderedSuccess.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span> = <a href="#org.scalatra.ScalatraBase.addRenderCallback" title="(callback: scala.util.Try[Any] =&gt; Unit)(implicit request: javax.servlet.http.HttpServletRequest)Unit">addRenderCallback</a><a href="#org.scalatra.ScalatraBase.onRenderedSuccess.request" title="javax.servlet.http.HttpServletRequest" class="delimiter">(</a><a href="#org.scalatra.ScalatraBase.onRenderedSuccess.$anonfun.x$3" title="scala.util.Try[Any]">_</a>.<span title="(f: Any =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#org.scalatra.ScalatraBase.onRenderedSuccess.fn" title="Any =&gt; Unit">fn</a><span class="delimiter">)</span><span class="delimiter">)</span>
  def <a title="(fn: Throwable =&gt; Unit)(implicit request: javax.servlet.http.HttpServletRequest)Unit" id="org.scalatra.ScalatraBase.onRenderedFailure">onRenderedFailure</a><span class="delimiter">(</span><a title="Throwable =&gt; Unit" id="org.scalatra.ScalatraBase.onRenderedFailure.fn">fn</a>: Throwable =&gt; Unit<span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra.ScalatraBase.onRenderedFailure.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span> = <a href="#org.scalatra.ScalatraBase.addRenderCallback" title="(callback: scala.util.Try[Any] =&gt; Unit)(implicit request: javax.servlet.http.HttpServletRequest)Unit">addRenderCallback</a><a href="#org.scalatra.ScalatraBase.onRenderedFailure.request" title="javax.servlet.http.HttpServletRequest" class="delimiter">(</a><a href="#org.scalatra.ScalatraBase.onRenderedFailure.$anonfun.x$4" title="scala.util.Try[Any]">_</a>.<span title="=&gt; scala.util.Try[Throwable]">failed</span>.<span title="(f: Throwable =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#org.scalatra.ScalatraBase.onRenderedFailure.fn" title="Throwable =&gt; Unit">fn</a><span class="delimiter">)</span><span class="delimiter">)</span>
  def <a title="(fn: scala.util.Try[Any] =&gt; Unit)(implicit request: javax.servlet.http.HttpServletRequest)Unit" id="org.scalatra.ScalatraBase.onRenderedCompleted">onRenderedCompleted</a><span class="delimiter">(</span><a title="scala.util.Try[Any] =&gt; Unit" id="org.scalatra.ScalatraBase.onRenderedCompleted.fn">fn</a>: Try<span class="delimiter">[</span>Any<span class="delimiter">]</span> =&gt; Unit<span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra.ScalatraBase.onRenderedCompleted.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span> = <a href="#org.scalatra.ScalatraBase.addRenderCallback" title="(callback: scala.util.Try[Any] =&gt; Unit)(implicit request: javax.servlet.http.HttpServletRequest)Unit">addRenderCallback</a><a href="#org.scalatra.ScalatraBase.onRenderedCompleted.request" title="javax.servlet.http.HttpServletRequest" class="delimiter">(</a><a href="#org.scalatra.ScalatraBase.onRenderedCompleted.fn" title="scala.util.Try[Any] =&gt; Unit">fn</a><span class="delimiter">)</span>

  def <a title="(implicit request: javax.servlet.http.HttpServletRequest)List[scala.util.Try[Any] =&gt; Unit]" id="org.scalatra.ScalatraBase.callbacks">callbacks</a><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra.ScalatraBase.callbacks.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span> =
    <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichRequest" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichRequest : (request: javax.servlet.http.HttpServletRequest)org.scalatra.servlet.RichRequest">request</a>.<span title="(key: String, default: =&gt; Any)Any">getOrElse</span><span class="delimiter">(</span><a href="#org.scalatra.ScalatraBase.Callbacks" title="=&gt; String">Callbacks</a>, <span title="scala.collection.immutable.List.type">List</span>.<span title="[A]=&gt; List[A]">empty</span><span title="List[scala.util.Try[Any] =&gt; Unit]" class="delimiter">[</span>Try<span class="delimiter">[</span>Any<span class="delimiter">]</span> =&gt; Unit<span class="delimiter">]</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="List[scala.util.Try[Any] =&gt; Unit]" class="delimiter">[</span><span title="List[scala.util.Try[Any] =&gt; Unit]">List</span><span class="delimiter">[</span>Try<span class="delimiter">[</span>Any<span class="delimiter">]</span> =&gt; Unit<span class="delimiter">]</span><span class="delimiter">]</span>

  def <a title="(callback: scala.util.Try[Any] =&gt; Unit)(implicit request: javax.servlet.http.HttpServletRequest)Unit" id="org.scalatra.ScalatraBase.addCallback">addCallback</a><span class="delimiter">(</span><a title="scala.util.Try[Any] =&gt; Unit" id="org.scalatra.ScalatraBase.addCallback.callback">callback</a>: Try<span class="delimiter">[</span>Any<span class="delimiter">]</span> =&gt; Unit<span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra.ScalatraBase.addCallback.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichRequest" title="(key: String, value: Any)Unit">request</a><span class="delimiter">(</span><a href="#org.scalatra.ScalatraBase.Callbacks" title="=&gt; String">Callbacks</a><span class="delimiter">)</span> = <a href="#org.scalatra.ScalatraBase.addCallback.callback" title="scala.util.Try[Any] =&gt; Unit">callback</a> <a href="#org.scalatra.ScalatraBase.addCallback.x$5" title="(x: scala.util.Try[Any] =&gt; Unit)List[scala.util.Try[Any] =&gt; Unit]">::</a> <a href="#org.scalatra.ScalatraBase.callbacks" title="(implicit request: javax.servlet.http.HttpServletRequest)List[scala.util.Try[Any] =&gt; Unit]">callbacks</a>
  <span class="delimiter">}</span>

  def <a title="(data: scala.util.Try[Any])(implicit request: javax.servlet.http.HttpServletRequest)Unit" id="org.scalatra.ScalatraBase.runCallbacks">runCallbacks</a><span class="delimiter">(</span><a title="scala.util.Try[Any]" id="org.scalatra.ScalatraBase.runCallbacks.data">data</a>: <span title="scala.util.Try[Any]">Try</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra.ScalatraBase.runCallbacks.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span> = <a href="#org.scalatra.ScalatraBase.callbacks" title="(implicit request: javax.servlet.http.HttpServletRequest)List[scala.util.Try[Any] =&gt; Unit]">callbacks</a>.<span title="=&gt; List[scala.util.Try[Any] =&gt; Unit]">reverse</span> <span title="(f: (scala.util.Try[Any] =&gt; Unit) =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a href="#org.scalatra.ScalatraBase.runCallbacks.$anonfun.x$6" title="(v1: scala.util.Try[Any])Unit">_</a><span class="delimiter">(</span><a href="#org.scalatra.ScalatraBase.runCallbacks.data" title="scala.util.Try[Any]">data</a><span class="delimiter">)</span><span class="delimiter">)</span>
  def <a title="(implicit request: javax.servlet.http.HttpServletRequest)List[scala.util.Try[Any] =&gt; Unit]" id="org.scalatra.ScalatraBase.renderCallbacks">renderCallbacks</a><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra.ScalatraBase.renderCallbacks.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span> =
    <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichRequest" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichRequest : (request: javax.servlet.http.HttpServletRequest)org.scalatra.servlet.RichRequest">request</a>.<span title="(key: String, default: =&gt; Any)Any">getOrElse</span><span class="delimiter">(</span><a href="#org.scalatra.ScalatraBase.RenderCallbacks" title="=&gt; String">RenderCallbacks</a>, <span title="scala.collection.immutable.List.type">List</span>.<span title="[A]=&gt; List[A]">empty</span><span title="List[scala.util.Try[Any] =&gt; Unit]" class="delimiter">[</span>Try<span class="delimiter">[</span>Any<span class="delimiter">]</span> =&gt; Unit<span class="delimiter">]</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="List[scala.util.Try[Any] =&gt; Unit]" class="delimiter">[</span><span title="List[scala.util.Try[Any] =&gt; Unit]">List</span><span class="delimiter">[</span>Try<span class="delimiter">[</span>Any<span class="delimiter">]</span> =&gt; Unit<span class="delimiter">]</span><span class="delimiter">]</span>

  def <a title="(callback: scala.util.Try[Any] =&gt; Unit)(implicit request: javax.servlet.http.HttpServletRequest)Unit" id="org.scalatra.ScalatraBase.addRenderCallback">addRenderCallback</a><span class="delimiter">(</span><a title="scala.util.Try[Any] =&gt; Unit" id="org.scalatra.ScalatraBase.addRenderCallback.callback">callback</a>: Try<span class="delimiter">[</span>Any<span class="delimiter">]</span> =&gt; Unit<span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra.ScalatraBase.addRenderCallback.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichRequest" title="(key: String, value: Any)Unit">request</a><span class="delimiter">(</span><a href="#org.scalatra.ScalatraBase.RenderCallbacks" title="=&gt; String">RenderCallbacks</a><span class="delimiter">)</span> = <a href="#org.scalatra.ScalatraBase.addRenderCallback.callback" title="scala.util.Try[Any] =&gt; Unit">callback</a> <a href="#org.scalatra.ScalatraBase.addRenderCallback.x$7" title="(x: scala.util.Try[Any] =&gt; Unit)List[scala.util.Try[Any] =&gt; Unit]">::</a> <a href="#org.scalatra.ScalatraBase.renderCallbacks" title="(implicit request: javax.servlet.http.HttpServletRequest)List[scala.util.Try[Any] =&gt; Unit]">renderCallbacks</a>
  <span class="delimiter">}</span>

  def <a title="(data: scala.util.Try[Any])(implicit request: javax.servlet.http.HttpServletRequest)Unit" id="org.scalatra.ScalatraBase.runRenderCallbacks">runRenderCallbacks</a><span class="delimiter">(</span><a title="scala.util.Try[Any]" id="org.scalatra.ScalatraBase.runRenderCallbacks.data">data</a>: <span title="scala.util.Try[Any]">Try</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra.ScalatraBase.runRenderCallbacks.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span> = <a href="#org.scalatra.ScalatraBase.renderCallbacks" title="(implicit request: javax.servlet.http.HttpServletRequest)List[scala.util.Try[Any] =&gt; Unit]">renderCallbacks</a>.<span title="=&gt; List[scala.util.Try[Any] =&gt; Unit]">reverse</span> <span title="(f: (scala.util.Try[Any] =&gt; Unit) =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a href="#org.scalatra.ScalatraBase.runRenderCallbacks.$anonfun.x$8" title="(v1: scala.util.Try[Any])Unit">_</a><span class="delimiter">(</span><a href="#org.scalatra.ScalatraBase.runRenderCallbacks.data" title="scala.util.Try[Any]">data</a><span class="delimiter">)</span><span class="delimiter">)</span>

  import collection.<span title="scala.collection.JavaConverters.type">JavaConverters</span>._

  def <a title="(app: org.scalatra.ScalatraBase)Option[javax.servlet.ServletRegistration]" id="org.scalatra.ScalatraBase.getServletRegistration">getServletRegistration</a><span class="delimiter">(</span><a title="org.scalatra.ScalatraBase" id="org.scalatra.ScalatraBase.getServletRegistration.app">app</a>: <a href="#org.scalatra;ScalatraBase" title="org.scalatra.ScalatraBase">ScalatraBase</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="List[javax.servlet.ServletRegistration]" id="org.scalatra.ScalatraBase.getServletRegistration.registrations">registrations</a> = <a href="#org.scalatra.ScalatraBase.getServletRegistration.app" title="org.scalatra.ScalatraBase">app</a>.<a href="#org.scalatra;ScalatraBase.servletContext" title="=&gt; javax.servlet.ServletContext">servletContext</a>.<span title="()java.util.Map[String, _ &lt;: javax.servlet.ServletRegistration]">getServletRegistrations</span>.<span title="()java.util.Collection[?0]">values</span><span title="(i: java.util.Collection[?0])scala.collection.convert.Decorators.AsScala[Iterable[?0]]" class="delimiter">(</span><span class="delimiter">)</span>.<span title="=&gt; Iterable[?0]">asScala</span>.<span title="=&gt; List[?0]">toList</span>
    <a href="#org.scalatra.ScalatraBase.getServletRegistration.registrations" title="List[javax.servlet.ServletRegistration]">registrations</a>.<span title="(p: javax.servlet.ServletRegistration =&gt; Boolean)Option[javax.servlet.ServletRegistration]">find</span><span class="delimiter">(</span><a href="#org.scalatra.ScalatraBase.getServletRegistration.$anonfun.x$9" title="javax.servlet.ServletRegistration">_</a>.<span title="()String">getClassName</span> <span title="(x$1: Any)Boolean">==</span> <a href="#org.scalatra.ScalatraBase.getServletRegistration.app" title="org.scalatra.ScalatraBase">app</a>.<span title="()Class[_]">getClass</span>.<span title="()String">getName</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * The base implementation of the Scalatra DSL.  Intended to be portable
 * to all supported backends.
 */</span>
trait <a title="trait ScalatraBase extends AnyRef with org.scalatra.ScalatraContext with org.scalatra.CoreDsl with org.scalatra.DynamicScope with org.scalatra.Initializable with org.scalatra.servlet.ServletApiImplicits with org.scalatra.ScalatraParamsImplicits with org.scalatra.util.conversion.DefaultImplicitConversions with org.scalatra.SessionSupport with org.scalatra.CookieSupport" id="org.scalatra;ScalatraBase">ScalatraBase</a> extends <a href="ScalatraContext.scala.html#org.scalatra;ScalatraContext" title="org.scalatra.ScalatraContext">ScalatraContext</a> with <a href="CoreDsl.scala.html#org.scalatra;CoreDsl" title="org.scalatra.CoreDsl">CoreDsl</a> with <a href="DynamicScope.scala.html#org.scalatra;DynamicScope" title="org.scalatra.DynamicScope">DynamicScope</a> with <a href="Initializable.scala.html#org.scalatra;Initializable" title="org.scalatra.Initializable">Initializable</a> with <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits" title="org.scalatra.servlet.ServletApiImplicits">ServletApiImplicits</a> with <a href="params.scala.html#org.scalatra;ScalatraParamsImplicits" title="org.scalatra.ScalatraParamsImplicits">ScalatraParamsImplicits</a> with <a href="util/conversion/conversions.scala.html#org.scalatra.util.conversion;DefaultImplicitConversions" title="org.scalatra.util.conversion.DefaultImplicitConversions">DefaultImplicitConversions</a> with <a href="SessionSupport.scala.html#org.scalatra;SessionSupport" title="org.scalatra.SessionSupport">SessionSupport</a> with <a href="CookieSupport.scala.html#org.scalatra;CookieSupport" title="org.scalatra.CookieSupport">CookieSupport</a> <span class="delimiter">{</span>
  @deprecated<span class="delimiter">(</span><span class="string">&quot;Use servletContext instead&quot;</span>, <span class="string">&quot;2.1.0&quot;</span><span class="delimiter">)</span>
  def <a title="=&gt; javax.servlet.ServletContext" id="org.scalatra;ScalatraBase.applicationContext">applicationContext</a>: <span title="javax.servlet.ServletContext">ServletContext</span> = <a href="#org.scalatra;ScalatraBase.servletContext" title="=&gt; javax.servlet.ServletContext">servletContext</a>

  <span class="comment">/**
   * The routes registered in this kernel.
   */</span>
  lazy val <a title="org.scalatra.RouteRegistry" id="org.scalatra;ScalatraBase.routes">routes</a>: <a href="RouteRegistry.scala.html#org.scalatra;RouteRegistry" title="org.scalatra.RouteRegistry">RouteRegistry</a> = new <a href="RouteRegistry.scala.html#org.scalatra;RouteRegistry" title="org.scalatra.RouteRegistry">RouteRegistry</a>

  <span class="comment">/**
   * The default character encoding for requests and responses.
   */</span>
  protected val <a title="String" id="org.scalatra;ScalatraBase.defaultCharacterEncoding">defaultCharacterEncoding</a> = <span title="String(&quot;UTF-8&quot;)" class="string">&quot;UTF-8&quot;</span>

  <span class="comment">/**
   * Handles a request and renders a response.
   *
   * $ 1. If the request lacks a character encoding, `defaultCharacterEncoding`
   * is set to the request.
   *
   * $ 2. Sets the response's character encoding to `defaultCharacterEncoding`.
   *
   * $ 3. Binds the current `request`, `response`, and `multiParams`, and calls
   * `executeRoutes()`.
   */</span>
  override def <a title="(request: javax.servlet.http.HttpServletRequest, response: javax.servlet.http.HttpServletResponse)Unit" id="org.scalatra;ScalatraBase.handle">handle</a><span class="delimiter">(</span><a title="javax.servlet.http.HttpServletRequest" id="org.scalatra;ScalatraBase.handle.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span>, <a title="javax.servlet.http.HttpServletResponse" id="org.scalatra;ScalatraBase.handle.response">response</a>: <span title="javax.servlet.http.HttpServletResponse">HttpServletResponse</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="comment">//    val realMultiParams = request.multiParameters</span>
    <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichRequest" title="(key: String, value: Any)Unit">request</a><span class="delimiter">(</span><a href="CookieSupport.scala.html#org.scalatra.CookieSupport" title="org.scalatra.CookieSupport.type">CookieSupport</a>.<a href="CookieSupport.scala.html#org.scalatra.CookieSupport.SweetCookiesKey" title="=&gt; String">SweetCookiesKey</a><span class="delimiter">)</span> = new <a href="CookieSupport.scala.html#org.scalatra;SweetCookies" title="org.scalatra.SweetCookies">SweetCookies</a><span class="delimiter">(</span><a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichRequest" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichRequest : (request: javax.servlet.http.HttpServletRequest)org.scalatra.servlet.RichRequest">request</a>.<a href="servlet/RichRequest.scala.html#org.scalatra.servlet;RichRequest.cookies" title="=&gt; scala.collection.Map[String,String]">cookies</a>, <a href="#org.scalatra;ScalatraBase.handle.response" title="javax.servlet.http.HttpServletResponse">response</a><span class="delimiter">)</span>
    <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichResponse" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichResponse : (response: javax.servlet.http.HttpServletResponse)org.scalatra.servlet.RichResponse">response</a>.<a href="servlet/RichResponse.scala.html#org.scalatra.servlet;RichResponse.characterEncoding_=" title="(encoding: Option[String])Unit">characterEncoding</a> = <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.defaultCharacterEncoding" title="=&gt; String">defaultCharacterEncoding</a><span class="delimiter">)</span>

    <a href="DynamicScope.scala.html#org.scalatra;DynamicScope.withRequestResponse" title="(request: javax.servlet.http.HttpServletRequest, response: javax.servlet.http.HttpServletResponse)(f: =&gt; Unit)Unit">withRequestResponse</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.handle.request" title="javax.servlet.http.HttpServletRequest">request</a>, <a href="#org.scalatra;ScalatraBase.handle.response" title="javax.servlet.http.HttpServletResponse">response</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="comment">//      request(MultiParamsKey) = MultiMap(Map() ++ realMultiParams)</span>
      <a href="#org.scalatra;ScalatraBase.executeRoutes" title="()Unit">executeRoutes</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>


  <span class="comment">/**
   * The servlet context in which this kernel runs.
   */</span>
  def <a title="=&gt; javax.servlet.ServletContext" id="org.scalatra;ScalatraBase.servletContext">servletContext</a>: <span title="javax.servlet.ServletContext">ServletContext</span> = <a href="Initializable.scala.html#org.scalatra;Initializable.configWrapper" title="implicit org.scalatra.Initializable.configWrapper : (config: ScalatraBase.this.ConfigT)ScalatraBase.this.Config">config</a>.<a href="Initializable.scala.html#org.scalatra;Initializable;Config.context" title="=&gt; javax.servlet.ServletContext">context</a>

  <span class="comment">/**
   * Executes routes in the context of the current request and response.
   *
   * $ 1. Executes each before filter with `runFilters`.
   * $ 2. Executes the routes in the route registry with `runRoutes` for
   * the request's method.
   * a. The result of runRoutes becomes the _action result_.
   * b. If no route matches the requested method, but matches are
   * found for other methods, then the `doMethodNotAllowed` hook is
   * run with each matching method.
   * c. If no route matches any method, then the `doNotFound` hook is
   * run, and its return value becomes the action result.
   * $ 3. If an exception is thrown during the before filters or the route
   * $    actions, then it is passed to the `errorHandler` function, and its
   * $    result becomes the action result.
   * $ 4. Executes the after filters with `runFilters`.
   * $ 5. The action result is passed to `renderResponse`.
   */</span>
  protected def <a title="()Unit" id="org.scalatra;ScalatraBase.executeRoutes">executeRoutes</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    var <a title="Any" id="org.scalatra;ScalatraBase.executeRoutes.result">result</a>: <span title="Any">Any</span> = null
    var <a title="Boolean" id="org.scalatra;ScalatraBase.executeRoutes.rendered">rendered</a> = true

    def <a title="=&gt; Any" id="org.scalatra;ScalatraBase.executeRoutes.runActions">runActions</a> = <span class="delimiter">{</span>
      val <a title="Option[Any]" id="org.scalatra;ScalatraBase.executeRoutes.runActions.prehandleException">prehandleException</a> = <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichRequest" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichRequest : (request: javax.servlet.http.HttpServletRequest)org.scalatra.servlet.RichRequest">request</a>.<a href="servlet/AttributesMap.scala.html#org.scalatra.servlet;AttributesMap.get(adc3586498)" title="(key: String)Option[Any]">get</a><span class="delimiter">(</span><a href="#org.scalatra.ScalatraBase.PrehandleExceptionKey" title="=&gt; String">PrehandleExceptionKey</a><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.executeRoutes.runActions.prehandleException" title="Option[Any]">prehandleException</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        val <a href="#org.scalatra;ScalatraBase.executeRoutes.runActions.rq" title="(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse)" class="delimiter">(</a><a href="#org.scalatra;ScalatraBase.executeRoutes.runActions.x$10" title="javax.servlet.http.HttpServletRequest" id="org.scalatra;ScalatraBase.executeRoutes.runActions.rq">rq</a>, <a href="#org.scalatra;ScalatraBase.executeRoutes.runActions.x$10" title="javax.servlet.http.HttpServletResponse" id="org.scalatra;ScalatraBase.executeRoutes.runActions.rs">rs</a><span class="delimiter">)</span> = <span title="(_1: javax.servlet.http.HttpServletRequest, _2: javax.servlet.http.HttpServletResponse)(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse)" class="delimiter">(</span><a href="DynamicScope.scala.html#org.scalatra;DynamicScope.request" title="=&gt; javax.servlet.http.HttpServletRequest">request</a>, <a href="DynamicScope.scala.html#org.scalatra;DynamicScope.response" title="=&gt; javax.servlet.http.HttpServletResponse">response</a><span class="delimiter">)</span>
        <a href="#org.scalatra.ScalatraBase.onCompleted" title="(fn: scala.util.Try[Any] =&gt; Unit)(implicit request: javax.servlet.http.HttpServletRequest)Unit">onCompleted</a> <a href="DynamicScope.scala.html#org.scalatra;DynamicScope.request" title="=&gt; javax.servlet.http.HttpServletRequest" class="delimiter">{</a> <a title="scala.util.Try[Any]" id="org.scalatra;ScalatraBase.executeRoutes.runActions.$anonfun.x$11">_</a> =&gt;
          <a href="DynamicScope.scala.html#org.scalatra;DynamicScope.withRequestResponse" title="(request: javax.servlet.http.HttpServletRequest, response: javax.servlet.http.HttpServletResponse)(f: =&gt; Unit)Unit">withRequestResponse</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.executeRoutes.runActions.rq" title="javax.servlet.http.HttpServletRequest">rq</a>, <a href="#org.scalatra;ScalatraBase.executeRoutes.runActions.rs" title="javax.servlet.http.HttpServletResponse">rs</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            this match <span class="delimiter">{</span>
              case <span title="&lt;refinement of org.scalatra.ScalatraBase with javax.servlet.Filter&gt; extends org.scalatra.ScalatraBase with javax.servlet.Filter">f</span>: <span title="javax.servlet.Filter">Filter</span> if <span title="=&gt; Boolean">!</span><a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichRequest" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichRequest : (request: javax.servlet.http.HttpServletRequest)org.scalatra.servlet.RichRequest">rq</a>.<span title="(key: String)Boolean">contains</span><span class="delimiter">(</span><span title="String(&quot;org.scalatra.ScalatraFilter.afterFilters.Run&quot;)" class="string">&quot;org.scalatra.ScalatraFilter.afterFilters.Run&quot;</span><span class="delimiter">)</span> =&gt;
                <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichRequest" title="(key: String, value: Any)Unit">rq</a><span class="delimiter">(</span><span title="String(&quot;org.scalatra.ScalatraFilter.afterFilters.Run&quot;)" class="string">&quot;org.scalatra.ScalatraFilter.afterFilters.Run&quot;</span><span class="delimiter">)</span> = new <span title="&lt;$anon: AnyRef&gt; extends AnyRef" class="delimiter">{</span><span class="delimiter">}</span>
                <a href="#org.scalatra;ScalatraBase.runFilters" title="(filters: Traversable[org.scalatra.Route])Unit">runFilters</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.routes" title="=&gt; org.scalatra.RouteRegistry">routes</a>.<a href="RouteRegistry.scala.html#org.scalatra;RouteRegistry.afterFilters" title="=&gt; Seq[org.scalatra.Route]">afterFilters</a><span class="delimiter">)</span>
              case <span title="&lt;refinement of org.scalatra.ScalatraBase with javax.servlet.http.HttpServlet&gt; extends org.scalatra.ScalatraBase with javax.servlet.http.HttpServlet">f</span>: <span title="javax.servlet.http.HttpServlet">HttpServlet</span> if <span title="=&gt; Boolean">!</span><a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichRequest" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichRequest : (request: javax.servlet.http.HttpServletRequest)org.scalatra.servlet.RichRequest">rq</a>.<span title="(key: String)Boolean">contains</span><span class="delimiter">(</span><span title="String(&quot;org.scalatra.ScalatraServlet.afterFilters.Run&quot;)" class="string">&quot;org.scalatra.ScalatraServlet.afterFilters.Run&quot;</span><span class="delimiter">)</span> =&gt;
                <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichRequest" title="(key: String, value: Any)Unit">rq</a><span class="delimiter">(</span><span title="String(&quot;org.scalatra.ScalatraServlet.afterFilters.Run&quot;)" class="string">&quot;org.scalatra.ScalatraServlet.afterFilters.Run&quot;</span><span class="delimiter">)</span> = new <span title="&lt;$anon: AnyRef&gt; extends AnyRef" class="delimiter">{</span><span class="delimiter">}</span>
                <a href="#org.scalatra;ScalatraBase.runFilters" title="(filters: Traversable[org.scalatra.Route])Unit">runFilters</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.routes" title="=&gt; org.scalatra.RouteRegistry">routes</a>.<a href="RouteRegistry.scala.html#org.scalatra;RouteRegistry.afterFilters" title="=&gt; Seq[org.scalatra.Route]">afterFilters</a><span class="delimiter">)</span>
              case _ =&gt;
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="#org.scalatra;ScalatraBase.runFilters" title="(filters: Traversable[org.scalatra.Route])Unit">runFilters</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.routes" title="=&gt; org.scalatra.RouteRegistry">routes</a>.<a href="RouteRegistry.scala.html#org.scalatra;RouteRegistry.beforeFilters" title="=&gt; Seq[org.scalatra.Route]">beforeFilters</a><span class="delimiter">)</span>
        val <a title="Option[Any]" id="org.scalatra;ScalatraBase.executeRoutes.runActions.actionResult">actionResult</a> = <a href="#org.scalatra;ScalatraBase.runRoutes" title="(routes: Traversable[org.scalatra.Route])scala.collection.immutable.Stream[Any]">runRoutes</a><span class="delimiter">(</span><a href="RouteRegistry.scala.html#org.scalatra;RouteRegistry.apply(7a78a51ab2)" title="(method: org.scalatra.HttpMethod)Seq[org.scalatra.Route]">routes</a><span class="delimiter">(</span><a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichRequest" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichRequest : (request: javax.servlet.http.HttpServletRequest)org.scalatra.servlet.RichRequest">request</a>.<a href="servlet/RichRequest.scala.html#org.scalatra.servlet;RichRequest.requestMethod" title="=&gt; org.scalatra.HttpMethod">requestMethod</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Option[Any]">headOption</span>
        <span class="comment">// Give the status code handler a chance to override the actionResult</span>
        val r = <a href="#org.scalatra;ScalatraBase.handleStatusCode" title="(status: Int)Option[Any]">handleStatusCode</a><span class="delimiter">(</span><a href="ScalatraContext.scala.html#org.scalatra;ScalatraContext.status(f94e342797)" title="=&gt; Int">status</a><span class="delimiter">)</span> <a title="Any" id="org.scalatra;ScalatraBase.executeRoutes.runActions.r">getOrElse</a> <span class="delimiter">{</span>
          <a href="#org.scalatra;ScalatraBase.executeRoutes.runActions.actionResult" title="Option[Any]">actionResult</a> <span title="(alternative: =&gt; Option[Any])Option[Any]">orElse</span> <a href="#org.scalatra;ScalatraBase.matchOtherMethods" title="()Option[Any]">matchOtherMethods</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(default: =&gt; Any)Any">getOrElse</span> <a href="#org.scalatra;ScalatraBase.doNotFound_=" title="()Any">doNotFound</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#org.scalatra;ScalatraBase.executeRoutes.rendered" title="Boolean">rendered</a> = false
        <a href="#org.scalatra;ScalatraBase.executeRoutes.runActions.r" title="Any">r</a>
      <span class="delimiter">}</span> else <span class="delimiter">{</span>
        throw <a href="#org.scalatra;ScalatraBase.executeRoutes.runActions.prehandleException" title="Option[Any]">prehandleException</a>.<span title="=&gt; Any">get</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Exception" class="delimiter">[</span><span title="Exception">Exception</span><span class="delimiter">]</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <a href="#org.scalatra;ScalatraBase.cradleHalt" title="(body: =&gt; Any, error: Throwable =&gt; Any)Any">cradleHalt</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.executeRoutes.result" title="Any">result</a> = <a href="#org.scalatra;ScalatraBase.executeRoutes.runActions" title="=&gt; Any">runActions</a>, <a title="Throwable" id="org.scalatra;ScalatraBase.executeRoutes.$anonfun.e">e</a> =&gt; <span class="delimiter">{</span>
      <a href="#org.scalatra;ScalatraBase.cradleHalt" title="(body: =&gt; Any, error: Throwable =&gt; Any)Any">cradleHalt</a><span class="delimiter">(</span><span class="delimiter">{</span>
        <a href="#org.scalatra;ScalatraBase.executeRoutes.result" title="Any">result</a> = <a href="#org.scalatra;ScalatraBase.errorHandler_=" title="(v1: Throwable)Any">errorHandler</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.executeRoutes.$anonfun.e" title="Throwable">e</a><span class="delimiter">)</span>
        <a href="#org.scalatra;ScalatraBase.executeRoutes.rendered" title="Boolean">rendered</a> = false
      <span class="delimiter">}</span>, <a title="Throwable" id="org.scalatra;ScalatraBase.executeRoutes.$anonfun.$anonfun.e">e</a> =&gt; <span class="delimiter">{</span>
        <a href="#org.scalatra.ScalatraBase.runCallbacks" title="(data: scala.util.Try[Any])(implicit request: javax.servlet.http.HttpServletRequest)Unit">runCallbacks</a><a href="DynamicScope.scala.html#org.scalatra;DynamicScope.request" title="=&gt; javax.servlet.http.HttpServletRequest" class="delimiter">(</a><span title="(exception: Throwable)scala.util.Failure[Nothing]">Failure</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.executeRoutes.$anonfun.$anonfun.e" title="Throwable">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
        try <span class="delimiter">{</span>
          <a href="#org.scalatra;ScalatraBase.renderUncaughtException" title="(e: Throwable)(implicit request: javax.servlet.http.HttpServletRequest, implicit response: javax.servlet.http.HttpServletResponse)Unit">renderUncaughtException</a><a href="DynamicScope.scala.html#org.scalatra;DynamicScope.request" title="=&gt; javax.servlet.http.HttpServletRequest" class="delimiter">(</a><a href="#org.scalatra;ScalatraBase.executeRoutes.$anonfun.$anonfun.e" title="Throwable">e</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> finally <span class="delimiter">{</span>
          <a href="#org.scalatra.ScalatraBase.runRenderCallbacks" title="(data: scala.util.Try[Any])(implicit request: javax.servlet.http.HttpServletRequest)Unit">runRenderCallbacks</a><a href="DynamicScope.scala.html#org.scalatra;DynamicScope.request" title="=&gt; javax.servlet.http.HttpServletRequest" class="delimiter">(</a><span title="(exception: Throwable)scala.util.Failure[Nothing]">Failure</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.executeRoutes.$anonfun.$anonfun.e" title="Throwable">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>

    if <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#org.scalatra;ScalatraBase.executeRoutes.rendered" title="Boolean">rendered</a><span class="delimiter">)</span> <a href="#org.scalatra;ScalatraBase.renderResponse" title="(actionResult: Any)Unit">renderResponse</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.executeRoutes.result" title="Any">result</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private<span class="delimiter">[</span>this<span class="delimiter">]</span> def <a title="(body: =&gt; Any, error: Throwable =&gt; Any)Any" id="org.scalatra;ScalatraBase.cradleHalt">cradleHalt</a><span class="delimiter">(</span><a title="=&gt; Any" id="org.scalatra;ScalatraBase.cradleHalt.body">body</a>: =&gt; Any, <a title="Throwable =&gt; Any" id="org.scalatra;ScalatraBase.cradleHalt.error">error</a>: Throwable =&gt; Any<span class="delimiter">)</span> = <span class="delimiter">{</span>
    try <span class="delimiter">{</span> <a href="#org.scalatra;ScalatraBase.cradleHalt.body" title="=&gt; Any">body</a> <span class="delimiter">}</span> catch <span class="delimiter">{</span>
      case <span title="org.scalatra.HaltException">e</span>: <a href="control.scala.html#org.scalatra;HaltException" title="org.scalatra.HaltException">HaltException</a> =&gt; <span class="delimiter">{</span>
        try <span class="delimiter">{</span>
          <a href="#org.scalatra;ScalatraBase.handleStatusCode" title="(status: Int)Option[Any]">handleStatusCode</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.extractStatusCode" title="(e: org.scalatra.HaltException)Int">extractStatusCode</a><span class="delimiter">(</span><span title="org.scalatra.HaltException">e</span><span class="delimiter">)</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
            case Some<span class="delimiter">(</span><a title="Any" id="org.scalatra;ScalatraBase.cradleHalt.result">result</a><span class="delimiter">)</span> =&gt; <a href="#org.scalatra;ScalatraBase.renderResponse" title="(actionResult: Any)Unit">renderResponse</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.cradleHalt.result" title="Any">result</a><span class="delimiter">)</span>
            case _            =&gt; <a href="#org.scalatra;ScalatraBase.renderHaltException" title="(e: org.scalatra.HaltException)Unit">renderHaltException</a><span class="delimiter">(</span><span title="org.scalatra.HaltException">e</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> catch <span class="delimiter">{</span>
          case <span title="org.scalatra.HaltException">e</span>: <a href="control.scala.html#org.scalatra;HaltException" title="org.scalatra.HaltException">HaltException</a> =&gt; <a href="#org.scalatra;ScalatraBase.renderHaltException" title="(e: org.scalatra.HaltException)Unit">renderHaltException</a><span class="delimiter">(</span><span title="org.scalatra.HaltException">e</span><span class="delimiter">)</span>
          case <span title="Throwable">e</span>: <span title="Throwable">Throwable</span>     =&gt; <a href="#org.scalatra;ScalatraBase.cradleHalt.error" title="(v1: Throwable)Any">error</a><span class="delimiter">(</span><span title="Throwable">e</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      
      case <span title="Throwable">e</span>: <span title="Throwable">Throwable</span> =&gt; <a href="#org.scalatra;ScalatraBase.cradleHalt.error" title="(v1: Throwable)Any">error</a><span class="delimiter">(</span><span title="Throwable">e</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  protected def <a title="(e: Throwable)(implicit request: javax.servlet.http.HttpServletRequest, implicit response: javax.servlet.http.HttpServletResponse)Unit" id="org.scalatra;ScalatraBase.renderUncaughtException">renderUncaughtException</a><span class="delimiter">(</span><a title="Throwable" id="org.scalatra;ScalatraBase.renderUncaughtException.e">e</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra;ScalatraBase.renderUncaughtException.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span>, <a title="javax.servlet.http.HttpServletResponse" id="org.scalatra;ScalatraBase.renderUncaughtException.response">response</a>: <span title="javax.servlet.http.HttpServletResponse">HttpServletResponse</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="ScalatraContext.scala.html#org.scalatra;ScalatraContext.status_=" title="(code: Int)Unit">status</a> = <span title="Int(500)" class="int">500</span>
    if <span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.isDevelopmentMode" title="=&gt; Boolean">isDevelopmentMode</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="ScalatraContext.scala.html#org.scalatra;ScalatraContext.contentType_=" title="(contentType: String)Unit">contentType</a> = <span title="String(&quot;text/plain&quot;)" class="string">&quot;text/plain&quot;</span>
      <a href="#org.scalatra;ScalatraBase.renderUncaughtException.e" title="Throwable">e</a>.<span title="(x$1: java.io.PrintWriter)Unit">printStackTrace</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.renderUncaughtException.response" title="javax.servlet.http.HttpServletResponse">response</a>.<span title="()java.io.PrintWriter">getWriter</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  protected def <a title="(result: Any)Boolean" id="org.scalatra;ScalatraBase.isAsyncExecutable">isAsyncExecutable</a><span class="delimiter">(</span><a title="Any" id="org.scalatra;ScalatraBase.isAsyncExecutable.result">result</a>: <span title="Any">Any</span><span class="delimiter">)</span> = false

  <span class="comment">/**
   * Invokes each filters with `invoke`.  The results of the filters
   * are discarded.
   */</span>
  protected def <a title="(filters: Traversable[org.scalatra.Route])Unit" id="org.scalatra;ScalatraBase.runFilters">runFilters</a><span class="delimiter">(</span><a title="Traversable[org.scalatra.Route]" id="org.scalatra;ScalatraBase.runFilters.filters">filters</a>: <span title="Traversable[org.scalatra.Route]">Traversable</span><span class="delimiter">[</span>Route<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    for <span class="delimiter">{</span>
      <a title="org.scalatra.Route" id="org.scalatra;ScalatraBase.runFilters.$anonfun.route">route</a> &lt;- <a href="#org.scalatra;ScalatraBase.runFilters.filters" title="(f: org.scalatra.Route =&gt; Unit)Unit">filters</a>
      <a title="org.scalatra.MatchedRoute" id="org.scalatra;ScalatraBase.runFilters.$anonfun.$anonfun.matchedRoute">matchedRoute</a> &lt;- <a href="route.scala.html#org.scalatra;Route.apply" title="(requestPath: String)Option[org.scalatra.MatchedRoute]">route</a><span title="(f: org.scalatra.MatchedRoute =&gt; Option[Any])Unit" class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.requestPath" title="(implicit request: javax.servlet.http.HttpServletRequest)String">requestPath</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <a href="#org.scalatra;ScalatraBase.invoke" title="(matchedRoute: org.scalatra.MatchedRoute)Option[Any]">invoke</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.runFilters.$anonfun.$anonfun.matchedRoute" title="org.scalatra.MatchedRoute">matchedRoute</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Lazily invokes routes with `invoke`.  The results of the routes
   * are returned as a stream.
   */</span>
  protected def <a title="(routes: Traversable[org.scalatra.Route])scala.collection.immutable.Stream[Any]" id="org.scalatra;ScalatraBase.runRoutes">runRoutes</a><span class="delimiter">(</span><a title="Traversable[org.scalatra.Route]" id="org.scalatra;ScalatraBase.runRoutes.routes">routes</a>: <span title="Traversable[org.scalatra.Route]">Traversable</span><span class="delimiter">[</span>Route<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    for <span class="delimiter">{</span>
      <a title="org.scalatra.Route" id="org.scalatra;ScalatraBase.runRoutes.$anonfun.route">route</a> &lt;- <a href="#org.scalatra;ScalatraBase.runRoutes.routes" title="Traversable[org.scalatra.Route]">routes</a>.<span title="(f: org.scalatra.Route =&gt; scala.collection.GenTraversableOnce[Any])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[org.scalatra.Route],Any,scala.collection.immutable.Stream[Any]])scala.collection.immutable.Stream[Any]">toStream</span> <span class="comment">// toStream makes it lazy so we stop after match</span>
      <a title="org.scalatra.MatchedRoute" id="org.scalatra;ScalatraBase.runRoutes.$anonfun.$anonfun.matchedRoute">matchedRoute</a> &lt;- <a href="#org.scalatra;ScalatraBase.runRoutes.$anonfun.route" title="org.scalatra.Route">route</a>.<a href="route.scala.html#org.scalatra;Route.apply" title="(requestPath: String)Option[org.scalatra.MatchedRoute]">apply</a><span title="(f: org.scalatra.MatchedRoute =&gt; (org.scalatra.MatchedRoute, org.scalatra.MatchedRoute))Option[(org.scalatra.MatchedRoute, org.scalatra.MatchedRoute)]" class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.requestPath" title="(implicit request: javax.servlet.http.HttpServletRequest)String">requestPath</a><span class="delimiter">)</span>
      <a title="org.scalatra.MatchedRoute" id="org.scalatra;ScalatraBase.runRoutes.$anonfun.$anonfun.saved">saved</a> = <a href="#org.scalatra;ScalatraBase.saveMatchedRoute" title="(matchedRoute: org.scalatra.MatchedRoute)org.scalatra.MatchedRoute">saveMatchedRoute</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.runRoutes.$anonfun.$anonfun.matchedRoute" title="org.scalatra.MatchedRoute">matchedRoute</a><span class="delimiter">)</span>
      <a title="Any" id="org.scalatra;ScalatraBase.runRoutes.$anonfun.$anonfun.$anonfun.actionResult">actionResult</a> &lt;- <a href="#org.scalatra;ScalatraBase.invoke" title="(matchedRoute: org.scalatra.MatchedRoute)Option[Any]">invoke</a><span title="(f: Any =&gt; Any)Option[Any]" class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.runRoutes.$anonfun.$anonfun.saved" title="org.scalatra.MatchedRoute">saved</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> yield <a href="#org.scalatra;ScalatraBase.runRoutes.$anonfun.$anonfun.$anonfun.actionResult" title="Any">actionResult</a>
  <span class="delimiter">}</span>

  private<span class="delimiter">[</span>scalatra<span class="delimiter">]</span> def <a title="(matchedRoute: org.scalatra.MatchedRoute)org.scalatra.MatchedRoute" id="org.scalatra;ScalatraBase.saveMatchedRoute">saveMatchedRoute</a><span class="delimiter">(</span><a title="org.scalatra.MatchedRoute" id="org.scalatra;ScalatraBase.saveMatchedRoute.matchedRoute">matchedRoute</a>: <a href="route.scala.html#org.scalatra;MatchedRoute" title="org.scalatra.MatchedRoute">MatchedRoute</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichRequest" title="(key: String, value: Any)Unit">request</a><span class="delimiter">(</span><span title="String(&quot;org.scalatra.MatchedRoute&quot;)" class="string">&quot;org.scalatra.MatchedRoute&quot;</span><span class="delimiter">)</span> = <a href="#org.scalatra;ScalatraBase.saveMatchedRoute.matchedRoute" title="org.scalatra.MatchedRoute">matchedRoute</a>
    <a href="#org.scalatra;ScalatraBase.setMultiparams" title="(matchedRoute: Option[org.scalatra.MatchedRoute], originalParams: org.scalatra.MultiParams)(implicit request: javax.servlet.http.HttpServletRequest)Unit">setMultiparams</a><a href="DynamicScope.scala.html#org.scalatra;DynamicScope.request" title="=&gt; javax.servlet.http.HttpServletRequest" class="delimiter">(</a><span title="(x: org.scalatra.MatchedRoute)Some[org.scalatra.MatchedRoute]">Some</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.saveMatchedRoute.matchedRoute" title="org.scalatra.MatchedRoute">matchedRoute</a><span class="delimiter">)</span>, <a href="#org.scalatra;ScalatraBase.multiParams(53d1ef321f)" title="(implicit request: javax.servlet.http.HttpServletRequest)org.scalatra.MultiParams">multiParams</a><span class="delimiter">)</span>
    <a href="#org.scalatra;ScalatraBase.saveMatchedRoute.matchedRoute" title="org.scalatra.MatchedRoute">matchedRoute</a>
  <span class="delimiter">}</span>

  private<span class="delimiter">[</span>scalatra<span class="delimiter">]</span> def <a title="(implicit request: javax.servlet.http.HttpServletRequest)Option[org.scalatra.MatchedRoute]" id="org.scalatra;ScalatraBase.matchedRoute">matchedRoute</a><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra;ScalatraBase.matchedRoute.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span> =
    <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichRequest" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichRequest : (request: javax.servlet.http.HttpServletRequest)org.scalatra.servlet.RichRequest">request</a>.<a href="servlet/AttributesMap.scala.html#org.scalatra.servlet;AttributesMap.get(adc3586498)" title="(key: String)Option[Any]">get</a><span class="delimiter">(</span><span title="String(&quot;org.scalatra.MatchedRoute&quot;)" class="string">&quot;org.scalatra.MatchedRoute&quot;</span><span class="delimiter">)</span>.<span title="(f: Any =&gt; org.scalatra.MatchedRoute)Option[org.scalatra.MatchedRoute]">map</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.matchedRoute.$anonfun.x$13" title="Any">_</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.scalatra.MatchedRoute" class="delimiter">[</span><a href="route.scala.html#org.scalatra;MatchedRoute" title="org.scalatra.MatchedRoute">MatchedRoute</a><span class="delimiter">]</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Invokes a route or filter.  The multiParams gathered from the route
   * matchers are merged into the existing route params, and then the action
   * is run.
   *
   * @param matchedRoute the matched route to execute
   *
   * @return the result of the matched route's action wrapped in `Some`,
   *         or `None` if the action calls `pass`.
   */</span>
  protected def <a title="(matchedRoute: org.scalatra.MatchedRoute)Option[Any]" id="org.scalatra;ScalatraBase.invoke">invoke</a><span class="delimiter">(</span><a title="org.scalatra.MatchedRoute" id="org.scalatra;ScalatraBase.invoke.matchedRoute">matchedRoute</a>: <a href="route.scala.html#org.scalatra;MatchedRoute" title="org.scalatra.MatchedRoute">MatchedRoute</a><span class="delimiter">)</span> =
    <a href="#org.scalatra;ScalatraBase.withRouteMultiParams" title="(matchedRoute: Option[org.scalatra.MatchedRoute])(thunk: =&gt; Option[Any])Option[Any]">withRouteMultiParams</a><span class="delimiter">(</span><span title="(x: org.scalatra.MatchedRoute)Some[org.scalatra.MatchedRoute]">Some</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.invoke.matchedRoute" title="org.scalatra.MatchedRoute">matchedRoute</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#org.scalatra;ScalatraBase.liftAction" title="(action: org.scalatra.Action)Option[Any]">liftAction</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.invoke.matchedRoute" title="org.scalatra.MatchedRoute">matchedRoute</a>.<a href="route.scala.html#org.scalatra;MatchedRoute.action" title="=&gt; org.scalatra.Action">action</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  private def <a title="(action: org.scalatra.Action)Option[Any]" id="org.scalatra;ScalatraBase.liftAction">liftAction</a><span class="delimiter">(</span><a title="org.scalatra.Action" id="org.scalatra;ScalatraBase.liftAction.action">action</a>: <span title="org.scalatra.Action">Action</span><span class="delimiter">)</span>: <span title="Option[Any]">Option</span><span class="delimiter">[</span>Any<span class="delimiter">]</span> =
    try <span class="delimiter">{</span>
      <span title="(x: Any)Some[Any]">Some</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.liftAction.action" title="()Any">action</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    catch <span class="delimiter">{</span>
      case <a title="org.scalatra.PassException" id="org.scalatra;ScalatraBase.liftAction.e">e</a>: <a href="control.scala.html#org.scalatra;PassException" title="org.scalatra.PassException">PassException</a> =&gt; <span title="None.type">None</span>
    <span class="delimiter">}</span>


  def <a title="(transformers: org.scalatra.RouteTransformer*)(fun: =&gt; Any)Unit" id="org.scalatra;ScalatraBase.before">before</a><span class="delimiter">(</span><a title="org.scalatra.RouteTransformer*" id="org.scalatra;ScalatraBase.before.transformers">transformers</a>: <span title="org.scalatra.RouteTransformer*">RouteTransformer</span>*<span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; Any" id="org.scalatra;ScalatraBase.before.fun">fun</a>: =&gt; Any<span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#org.scalatra;ScalatraBase.routes" title="=&gt; org.scalatra.RouteRegistry">routes</a>.<a href="RouteRegistry.scala.html#org.scalatra;RouteRegistry.appendBeforeFilter" title="(route: org.scalatra.Route)Unit">appendBeforeFilter</a><span class="delimiter">(</span><a href="route.scala.html#org.scalatra.Route.apply(b2f5af2606)" title="(transformers: Seq[org.scalatra.RouteTransformer], action: org.scalatra.Action)org.scalatra.Route">Route</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.before.transformers" title="org.scalatra.RouteTransformer*">transformers</a>, <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#org.scalatra;ScalatraBase.before.fun" title="=&gt; Any">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(transformers: org.scalatra.RouteTransformer*)(fun: =&gt; Any)Unit" id="org.scalatra;ScalatraBase.after">after</a><span class="delimiter">(</span><a title="org.scalatra.RouteTransformer*" id="org.scalatra;ScalatraBase.after.transformers">transformers</a>: <span title="org.scalatra.RouteTransformer*">RouteTransformer</span>*<span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; Any" id="org.scalatra;ScalatraBase.after.fun">fun</a>: =&gt; Any<span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#org.scalatra;ScalatraBase.routes" title="=&gt; org.scalatra.RouteRegistry">routes</a>.<a href="RouteRegistry.scala.html#org.scalatra;RouteRegistry.appendAfterFilter" title="(route: org.scalatra.Route)Unit">appendAfterFilter</a><span class="delimiter">(</span><a href="route.scala.html#org.scalatra.Route.apply(b2f5af2606)" title="(transformers: Seq[org.scalatra.RouteTransformer], action: org.scalatra.Action)org.scalatra.Route">Route</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.after.transformers" title="org.scalatra.RouteTransformer*">transformers</a>, <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#org.scalatra;ScalatraBase.after.fun" title="=&gt; Any">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Called if no route matches the current request for any method.  The
   * default implementation varies between servlet and filter.
   */</span>
  protected var <a title="=&gt; org.scalatra.Action" id="org.scalatra;ScalatraBase.doNotFound_=">doNotFound</a>: <span title="org.scalatra.Action">Action</span>

  def <a title="(fun: =&gt; Any)Unit" id="org.scalatra;ScalatraBase.notFound">notFound</a><span class="delimiter">(</span><a title="=&gt; Any" id="org.scalatra;ScalatraBase.notFound.fun">fun</a>: =&gt; Any<span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#org.scalatra;ScalatraBase.doNotFound_=" title="(x$1: org.scalatra.Action)Unit">doNotFound</a> = <span class="delimiter">{</span>
      <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#org.scalatra;ScalatraBase.notFound.fun" title="=&gt; Any">fun</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Called if no route matches the current request method, but routes
   * match for other methods.  By default, sends an HTTP status of 405
   * and an `Allow` header containing a comma-delimited list of the allowed
   * methods.
   */</span>
  protected var <a title="Set[org.scalatra.HttpMethod] =&gt; Any" id="org.scalatra;ScalatraBase.doMethodNotAllowed_=">doMethodNotAllowed</a>: <span class="delimiter">(</span>Set<span class="delimiter">[</span>HttpMethod<span class="delimiter">]</span> =&gt; Any<span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a title="Set[org.scalatra.HttpMethod]" id="org.scalatra;ScalatraBase.doMethodNotAllowed.$anonfun.allow">allow</a> =&gt;
      <a href="ScalatraContext.scala.html#org.scalatra;ScalatraContext.status_=" title="(code: Int)Unit">status</a> = <span title="Int(405)" class="int">405</span>
      <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichResponse" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichResponse : (response: javax.servlet.http.HttpServletResponse)org.scalatra.servlet.RichResponse">response</a>.<a href="servlet/RichResponse.scala.html#org.scalatra.servlet;RichResponse.headers" title="(key: String, value: String)Unit">headers</a><span class="delimiter">(</span><span title="String(&quot;Allow&quot;)" class="string">&quot;Allow&quot;</span><span class="delimiter">)</span> = <a href="#org.scalatra;ScalatraBase.doMethodNotAllowed.$anonfun.allow" title="Set[org.scalatra.HttpMethod]">allow</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(f: Set[org.scalatra.HttpMethod] =&gt; Any)Unit" id="org.scalatra;ScalatraBase.methodNotAllowed">methodNotAllowed</a><span class="delimiter">(</span><a title="Set[org.scalatra.HttpMethod] =&gt; Any" id="org.scalatra;ScalatraBase.methodNotAllowed.f">f</a>: Set<span class="delimiter">[</span>HttpMethod<span class="delimiter">]</span> =&gt; Any<span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#org.scalatra;ScalatraBase.doMethodNotAllowed_=" title="(x$1: Set[org.scalatra.HttpMethod] =&gt; Any)Unit">doMethodNotAllowed</a> = <a href="#org.scalatra;ScalatraBase.methodNotAllowed.f" title="Set[org.scalatra.HttpMethod] =&gt; Any">f</a>
  <span class="delimiter">}</span>

  private<span class="delimiter">[</span>this<span class="delimiter">]</span> def <a title="()Option[Any]" id="org.scalatra;ScalatraBase.matchOtherMethods">matchOtherMethods</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Option[Any]">Option</span><span class="delimiter">[</span>Any<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="Set[org.scalatra.HttpMethod]" id="org.scalatra;ScalatraBase.matchOtherMethods.allow">allow</a> = <a href="#org.scalatra;ScalatraBase.routes" title="=&gt; org.scalatra.RouteRegistry">routes</a>.<a href="RouteRegistry.scala.html#org.scalatra;RouteRegistry.matchingMethodsExcept(1136c98797)" title="(method: org.scalatra.HttpMethod, requestPath: String)Set[org.scalatra.HttpMethod]">matchingMethodsExcept</a><span class="delimiter">(</span><a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichRequest" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichRequest : (request: javax.servlet.http.HttpServletRequest)org.scalatra.servlet.RichRequest">request</a>.<a href="servlet/RichRequest.scala.html#org.scalatra.servlet;RichRequest.requestMethod" title="=&gt; org.scalatra.HttpMethod">requestMethod</a>, <a href="#org.scalatra;ScalatraBase.requestPath" title="(implicit request: javax.servlet.http.HttpServletRequest)String">requestPath</a><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.matchOtherMethods.allow" title="Set[org.scalatra.HttpMethod]">allow</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="None.type">None</span> else <a href="#org.scalatra;ScalatraBase.liftAction" title="(action: org.scalatra.Action)Option[Any]">liftAction</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#org.scalatra;ScalatraBase.doMethodNotAllowed_=" title="(v1: Set[org.scalatra.HttpMethod])Any">doMethodNotAllowed</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.matchOtherMethods.allow" title="Set[org.scalatra.HttpMethod]">allow</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private<span class="delimiter">[</span>this<span class="delimiter">]</span> def <a title="(status: Int)Option[Any]" id="org.scalatra;ScalatraBase.handleStatusCode">handleStatusCode</a><span class="delimiter">(</span><a title="Int" id="org.scalatra;ScalatraBase.handleStatusCode.status">status</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Option[Any]">Option</span><span class="delimiter">[</span>Any<span class="delimiter">]</span> =
    for <span class="delimiter">{</span>
      <a title="org.scalatra.Route" id="org.scalatra;ScalatraBase.handleStatusCode.$anonfun.handler">handler</a> &lt;- <a href="RouteRegistry.scala.html#org.scalatra;RouteRegistry.apply(617297f2cf)" title="(statusCode: Int)Option[org.scalatra.Route]">routes</a><span title="(f: org.scalatra.Route =&gt; Option[Any])Option[Any]" class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.handleStatusCode.status" title="Int">status</a><span class="delimiter">)</span>
      <a title="org.scalatra.MatchedRoute" id="org.scalatra;ScalatraBase.handleStatusCode.$anonfun.$anonfun.matchedHandler">matchedHandler</a> &lt;- <a href="route.scala.html#org.scalatra;Route.apply" title="(requestPath: String)Option[org.scalatra.MatchedRoute]">handler</a><span title="(f: org.scalatra.MatchedRoute =&gt; Option[Any])Option[Any]" class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.requestPath" title="(implicit request: javax.servlet.http.HttpServletRequest)String">requestPath</a><span class="delimiter">)</span>
      <a title="Any" id="org.scalatra;ScalatraBase.handleStatusCode.$anonfun.$anonfun.$anonfun.handlerResult">handlerResult</a> &lt;- <a href="#org.scalatra;ScalatraBase.invoke" title="(matchedRoute: org.scalatra.MatchedRoute)Option[Any]">invoke</a><span title="(f: Any =&gt; Any)Option[Any]" class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.handleStatusCode.$anonfun.$anonfun.matchedHandler" title="org.scalatra.MatchedRoute">matchedHandler</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> yield <a href="#org.scalatra;ScalatraBase.handleStatusCode.$anonfun.$anonfun.$anonfun.handlerResult" title="Any">handlerResult</a>

  <span class="comment">/**
   * The error handler function, called if an exception is thrown during
   * before filters or the routes.
   */</span>
  protected var <a title="org.scalatra.ErrorHandler" id="org.scalatra;ScalatraBase.errorHandler_=">errorHandler</a>: <span title="org.scalatra.ErrorHandler">ErrorHandler</span> = <a title="&lt;$anon: Throwable =&gt; Any&gt; extends scala.runtime.AbstractPartialFunction[Throwable,Any] with Serializable" id="org.scalatra;ScalatraBase.errorHandler;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    case <a title="Throwable" id="org.scalatra;ScalatraBase.errorHandler;$anonfun.isDefinedAt.t">t</a> =&gt; throw <a href="#org.scalatra;ScalatraBase.errorHandler;$anonfun.isDefinedAt.t" title="Throwable">t</a>
  <span class="delimiter">}</span>

  def <a title="(handler: org.scalatra.ErrorHandler)Unit" id="org.scalatra;ScalatraBase.error">error</a><span class="delimiter">(</span><a title="org.scalatra.ErrorHandler" id="org.scalatra;ScalatraBase.error.handler">handler</a>: <span title="org.scalatra.ErrorHandler">ErrorHandler</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#org.scalatra;ScalatraBase.errorHandler_=" title="(x$1: org.scalatra.ErrorHandler)Unit">errorHandler</a> = <a href="#org.scalatra;ScalatraBase.error.handler" title="org.scalatra.ErrorHandler">handler</a> <span title="(that: PartialFunction[Throwable,Any])PartialFunction[Throwable,Any]">orElse</span> <a href="#org.scalatra;ScalatraBase.errorHandler_=" title="=&gt; org.scalatra.ErrorHandler">errorHandler</a>
  <span class="delimiter">}</span>

  protected def <a title="[S](matchedRoute: Option[org.scalatra.MatchedRoute])(thunk: =&gt; S)S" id="org.scalatra;ScalatraBase.withRouteMultiParams">withRouteMultiParams</a><span class="delimiter">[</span><a title="" id="org.scalatra;ScalatraBase.withRouteMultiParams;S">S</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Option[org.scalatra.MatchedRoute]" id="org.scalatra;ScalatraBase.withRouteMultiParams.matchedRoute">matchedRoute</a>: <span title="Option[org.scalatra.MatchedRoute]">Option</span><span class="delimiter">[</span>MatchedRoute<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; S" id="org.scalatra;ScalatraBase.withRouteMultiParams.thunk">thunk</a>: =&gt; S<span class="delimiter">)</span>: <a href="#org.scalatra;ScalatraBase.withRouteMultiParams;S" title="S">S</a> = <span class="delimiter">{</span>
    val <a title="org.scalatra.MultiParams" id="org.scalatra;ScalatraBase.withRouteMultiParams.originalParams">originalParams</a> = <a href="#org.scalatra;ScalatraBase.multiParams(53d1ef321f)" title="(implicit request: javax.servlet.http.HttpServletRequest)org.scalatra.MultiParams">multiParams</a>
    <a href="#org.scalatra;ScalatraBase.setMultiparams" title="(matchedRoute: Option[org.scalatra.MatchedRoute], originalParams: org.scalatra.MultiParams)(implicit request: javax.servlet.http.HttpServletRequest)Unit">setMultiparams</a><a href="DynamicScope.scala.html#org.scalatra;DynamicScope.request" title="=&gt; javax.servlet.http.HttpServletRequest" class="delimiter">(</a><a href="#org.scalatra;ScalatraBase.withRouteMultiParams.matchedRoute" title="Option[org.scalatra.MatchedRoute]">matchedRoute</a>, <a href="#org.scalatra;ScalatraBase.withRouteMultiParams.originalParams" title="org.scalatra.MultiParams">originalParams</a><span class="delimiter">)</span>
    try <span class="delimiter">{</span>
      <a href="#org.scalatra;ScalatraBase.withRouteMultiParams.thunk" title="=&gt; S">thunk</a>
    <span class="delimiter">}</span> finally <span class="delimiter">{</span>
      <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichRequest" title="(key: String, value: Any)Unit">request</a><span class="delimiter">(</span><a href="package.scala.html#org.scalatra.package.MultiParamsKey" title="=&gt; String">MultiParamsKey</a><span class="delimiter">)</span> = <a href="#org.scalatra;ScalatraBase.withRouteMultiParams.originalParams" title="org.scalatra.MultiParams">originalParams</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>


  protected def <a title="[S](matchedRoute: Option[org.scalatra.MatchedRoute], originalParams: org.scalatra.MultiParams)(implicit request: javax.servlet.http.HttpServletRequest)Unit" id="org.scalatra;ScalatraBase.setMultiparams">setMultiparams</a><span class="delimiter">[</span><a title="" id="org.scalatra;ScalatraBase.setMultiparams;S">S</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Option[org.scalatra.MatchedRoute]" id="org.scalatra;ScalatraBase.setMultiparams.matchedRoute">matchedRoute</a>: <span title="Option[org.scalatra.MatchedRoute]">Option</span><span class="delimiter">[</span>MatchedRoute<span class="delimiter">]</span>, <a title="org.scalatra.MultiParams" id="org.scalatra;ScalatraBase.setMultiparams.originalParams">originalParams</a>: <a href="util/MultiMap.scala.html#org.scalatra.util;MultiMap" title="org.scalatra.MultiParams">MultiParams</a><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra;ScalatraBase.setMultiparams.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    val <a title="scala.collection.immutable.Map[_ &lt;: String, Seq[String]]" id="org.scalatra;ScalatraBase.setMultiparams.routeParams">routeParams</a> = <a href="#org.scalatra;ScalatraBase.setMultiparams.matchedRoute" title="Option[org.scalatra.MatchedRoute]">matchedRoute</a>.<span title="(f: org.scalatra.MatchedRoute =&gt; org.scalatra.MultiParams)Option[org.scalatra.MultiParams]">map</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.setMultiparams.routeParams.$anonfun.x$14" title="org.scalatra.MatchedRoute">_</a>.<a href="route.scala.html#org.scalatra;MatchedRoute.multiParams" title="=&gt; org.scalatra.MultiParams">multiParams</a><span class="delimiter">)</span>.<span title="(default: =&gt; scala.collection.immutable.Map[_ &lt;: String, Seq[String]])scala.collection.immutable.Map[_ &lt;: String, Seq[String]]">getOrElse</span><span class="delimiter">(</span><span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[Nothing,Nothing]">empty</span><span class="delimiter">)</span>.<span title="(f: ((_40, Seq[String])) =&gt; (_40, Seq[String]))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[_40,Seq[String]],(_40, Seq[String]),scala.collection.immutable.Map[_40,Seq[String]]])scala.collection.immutable.Map[_40,Seq[String]]">map</span> <a href="#org.scalatra;ScalatraBase.setMultiparams.routeParams.$anonfun.x0$1" title="(_40, Seq[String])" class="delimiter">{</a>
      case <span class="delimiter">(</span><a title="_40" id="org.scalatra;ScalatraBase.setMultiparams.routeParams.$anonfun.key">key</a>, <a title="Seq[String]" id="org.scalatra;ScalatraBase.setMultiparams.routeParams.$anonfun.values">values</a><span class="delimiter">)</span> =&gt;
        <a href="#org.scalatra;ScalatraBase.setMultiparams.routeParams.$anonfun.key" title="(self: _40)ArrowAssoc[_40]">key</a> <span title="(y: Seq[String])(_40, Seq[String])">-&gt;</span> <a href="#org.scalatra;ScalatraBase.setMultiparams.routeParams.$anonfun.values" title="Seq[String]">values</a>.<span title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[String],String,Seq[String]])Seq[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,String,Seq[String]]" class="delimiter">(</span><a title="String" id="org.scalatra;ScalatraBase.setMultiparams.routeParams.$anonfun.$anonfun.s">s</a> =&gt; if <span class="delimiter">(</span><a href="util/RicherString.scala.html#org.scalatra.util.RicherString.stringToRicherString" title="implicit org.scalatra.util.RicherString.stringToRicherString : (s: String)org.scalatra.util.RicherString">s</a>.<a href="util/RicherString.scala.html#org.scalatra.util;RicherString.nonBlank" title="=&gt; Boolean">nonBlank</a><span class="delimiter">)</span> <a href="#org.scalatra.UriDecoder" title="org.scalatra.UriDecoder.type">UriDecoder</a>.<a href="#org.scalatra.UriDecoder.secondStep" title="(uri: String)String">secondStep</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.setMultiparams.routeParams.$anonfun.$anonfun.s" title="String">s</a><span class="delimiter">)</span> else <a href="#org.scalatra;ScalatraBase.setMultiparams.routeParams.$anonfun.$anonfun.s" title="String">s</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichRequest" title="(key: String, value: Any)Unit">request</a><span class="delimiter">(</span><a href="package.scala.html#org.scalatra.package.MultiParamsKey" title="=&gt; String">MultiParamsKey</a><span class="delimiter">)</span> = <a href="#org.scalatra;ScalatraBase.setMultiparams.originalParams" title="org.scalatra.MultiParams">originalParams</a> <span title="(xs: scala.collection.GenTraversableOnce[(String, Seq[String])])scala.collection.immutable.Map[String,Seq[String]]">++</span> <a href="#org.scalatra;ScalatraBase.setMultiparams.routeParams" title="scala.collection.immutable.Map[_ &lt;: String, Seq[String]]">routeParams</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Renders the action result to the response.
   * $ - If the content type is still null, call the contentTypeInferrer.
   * $ - Call the render pipeline on the result.
   */</span>
  protected def <a title="(actionResult: Any)Unit" id="org.scalatra;ScalatraBase.renderResponse">renderResponse</a><span class="delimiter">(</span><a title="Any" id="org.scalatra;ScalatraBase.renderResponse.actionResult">actionResult</a>: <span title="Any">Any</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="ScalatraContext.scala.html#org.scalatra;ScalatraContext.contentType" title="=&gt; String">contentType</a> <span title="(x$1: Any)Boolean">==</span> null<span class="delimiter">)</span>
      <a href="#org.scalatra;ScalatraBase.contentTypeInferrer" title="=&gt; org.scalatra.ContentTypeInferrer">contentTypeInferrer</a>.<span title="(v1: Any)Option[String]">lift</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.renderResponse.actionResult" title="Any">actionResult</a><span class="delimiter">)</span> <span title="(f: String =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span>
        <a href="ScalatraContext.scala.html#org.scalatra;ScalatraContext.contentType_=" title="(contentType: String)Unit">contentType</a> = <a href="#org.scalatra;ScalatraBase.renderResponse.$anonfun.x$15" title="String">_</a>
      <span class="delimiter">}</span>

    <a href="#org.scalatra;ScalatraBase.renderResponseBody" title="(actionResult: Any)Unit">renderResponseBody</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.renderResponse.actionResult" title="Any">actionResult</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A partial function to infer the content type from the action result.
   *
   * @return
   * $ - &quot;text/plain&quot; for String
   * $ - &quot;application/octet-stream&quot; for a byte array
   * $ - &quot;text/html&quot; for any other result
   */</span>
  protected def <a title="=&gt; org.scalatra.ContentTypeInferrer" id="org.scalatra;ScalatraBase.contentTypeInferrer">contentTypeInferrer</a>: <span title="org.scalatra.ContentTypeInferrer">ContentTypeInferrer</span> = <a title="&lt;$anon: Any =&gt; String&gt; extends scala.runtime.AbstractPartialFunction[Any,String] with Serializable" id="org.scalatra;ScalatraBase.contentTypeInferrer;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    case <a title="String" id="org.scalatra;ScalatraBase.contentTypeInferrer;$anonfun.isDefinedAt.s">s</a>: <span title="String">String</span> =&gt; <span title="String(&quot;text/plain&quot;)" class="string">&quot;text/plain&quot;</span>
    case <a title="Array[Byte]" id="org.scalatra;ScalatraBase.contentTypeInferrer;$anonfun.isDefinedAt.bytes">bytes</a>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span> =&gt; <a href="util/Mimes.scala.html#org.scalatra.util;Mimes.apply(f717a17611)" title="(bytes: Array[Byte])String">MimeTypes</a><span title="Boolean(true)" class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.contentTypeInferrer;$anonfun.isDefinedAt.bytes" title="Array[Byte]">bytes</a><span class="delimiter">)</span>
    case <a title="java.io.InputStream" id="org.scalatra;ScalatraBase.contentTypeInferrer;$anonfun.isDefinedAt.is">is</a>: java.io.<span title="java.io.InputStream">InputStream</span> =&gt; <a href="util/Mimes.scala.html#org.scalatra.util;Mimes.apply(f4f51f8dac)" title="(input: java.io.InputStream)String">MimeTypes</a><span title="Boolean(true)" class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.contentTypeInferrer;$anonfun.isDefinedAt.is" title="java.io.InputStream">is</a><span class="delimiter">)</span>
    case <a title="java.io.File" id="org.scalatra;ScalatraBase.contentTypeInferrer;$anonfun.isDefinedAt.file">file</a>: <span title="java.io.File">File</span> =&gt; <a href="util/Mimes.scala.html#org.scalatra.util;Mimes.apply(bfb8fe8402)" title="(file: java.io.File)String">MimeTypes</a><span title="Boolean(true)" class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.contentTypeInferrer;$anonfun.isDefinedAt.file" title="java.io.File">file</a><span class="delimiter">)</span>
    case <a title="org.scalatra.ActionResult" id="org.scalatra;ScalatraBase.contentTypeInferrer;$anonfun.isDefinedAt.actionResult">actionResult</a>: <a href="ActionResult.scala.html#org.scalatra;ActionResult" title="org.scalatra.ActionResult">ActionResult</a> =&gt;
      <a href="#org.scalatra;ScalatraBase.contentTypeInferrer;$anonfun.isDefinedAt.actionResult" title="org.scalatra.ActionResult">actionResult</a>.<a href="ActionResult.scala.html#org.scalatra;ActionResult.headers" title="=&gt; Map[String,String]">headers</a>.<span title="(p: ((String, String)) =&gt; Boolean)Option[(String, String)]">find</span> <a href="#org.scalatra;ScalatraBase.contentTypeInferrer;$anonfun.applyOrElse.$anonfun.x0$2" title="Boolean" class="delimiter">{</a>
        case <span class="delimiter">(</span><a title="String" id="org.scalatra;ScalatraBase.contentTypeInferrer;$anonfun.applyOrElse.$anonfun.name">name</a>, <a title="String" id="org.scalatra;ScalatraBase.contentTypeInferrer;$anonfun.applyOrElse.$anonfun.value">value</a><span class="delimiter">)</span> =&gt; <a href="#org.scalatra;ScalatraBase.contentTypeInferrer;$anonfun.applyOrElse.$anonfun.name" title="String">name</a> <span title="(x$1: String)Boolean">equalsIgnoreCase</span> <span title="String(&quot;CONTENT-TYPE&quot;)" class="string">&quot;CONTENT-TYPE&quot;</span>
      <span class="delimiter">}</span>.<span title="(default: =&gt; (String, String))(String, String)">getOrElse</span><span class="delimiter">(</span><span title="(_1: String, _2: String)(String, String)" class="delimiter">(</span><span title="String(&quot;Content-Type&quot;)" class="string">&quot;Content-Type&quot;</span>, <a href="#org.scalatra;ScalatraBase.contentTypeInferrer" title="(v1: Any)String">contentTypeInferrer</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.contentTypeInferrer;$anonfun.isDefinedAt.actionResult" title="org.scalatra.ActionResult">actionResult</a>.<a href="ActionResult.scala.html#org.scalatra;ActionResult.body" title="=&gt; Any">body</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; String">_2</span>
<span class="comment">//    case Unit | _: Unit =&gt; null</span>
    case _ =&gt; <span title="String(&quot;text/html&quot;)" class="string">&quot;text/html&quot;</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Renders the action result to the response body via the render pipeline.
   *
   * @see #renderPipeline
   */</span>
  protected def <a title="(actionResult: Any)Unit" id="org.scalatra;ScalatraBase.renderResponseBody">renderResponseBody</a><span class="delimiter">(</span><a title="Any" id="org.scalatra;ScalatraBase.renderResponseBody.actionResult">actionResult</a>: <span title="Any">Any</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    @tailrec def <a title="(ar: Any)Any" id="org.scalatra;ScalatraBase.renderResponseBody.loop">loop</a><span class="delimiter">(</span><a title="Any" id="org.scalatra;ScalatraBase.renderResponseBody.loop.ar">ar</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Any">Any</span> = <a href="#org.scalatra;ScalatraBase.renderResponseBody.loop.ar" title="Any">ar</a> match <span class="delimiter">{</span>
      case _: <span title="Unit">Unit</span> | <span title="Unit.type">Unit</span> =&gt; <a href="#org.scalatra.ScalatraBase.runRenderCallbacks" title="(data: scala.util.Try[Any])(implicit request: javax.servlet.http.HttpServletRequest)Unit">runRenderCallbacks</a><a href="DynamicScope.scala.html#org.scalatra;DynamicScope.request" title="=&gt; javax.servlet.http.HttpServletRequest" class="delimiter">(</a><span title="(value: Any)scala.util.Success[Any]">Success</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.renderResponseBody.actionResult" title="Any">actionResult</a><span class="delimiter">)</span><span class="delimiter">)</span>
      case <a title="Any" id="org.scalatra;ScalatraBase.renderResponseBody.loop.a">a</a> =&gt; <a href="#org.scalatra;ScalatraBase.renderResponseBody.loop" title="(ar: Any)Any">loop</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.renderPipeline" title="=&gt; org.scalatra.RenderPipeline">renderPipeline</a>.<span title="(v1: Any)Option[Any]">lift</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.renderResponseBody.loop.a" title="Any">a</a><span class="delimiter">)</span> <span title="(default: =&gt; Any)Any">getOrElse</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    try <span class="delimiter">{</span>
      <a href="#org.scalatra.ScalatraBase.runCallbacks" title="(data: scala.util.Try[Any])(implicit request: javax.servlet.http.HttpServletRequest)Unit">runCallbacks</a><a href="DynamicScope.scala.html#org.scalatra;DynamicScope.request" title="=&gt; javax.servlet.http.HttpServletRequest" class="delimiter">(</a><span title="(value: Any)scala.util.Success[Any]">Success</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.renderResponseBody.actionResult" title="Any">actionResult</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#org.scalatra;ScalatraBase.renderResponseBody.loop" title="(ar: Any)Any">loop</a><span title="Unit" class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.renderResponseBody.actionResult" title="Any">actionResult</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> catch <span class="delimiter">{</span>
      case <a title="Throwable" id="org.scalatra;ScalatraBase.renderResponseBody.e">e</a>: <span title="Throwable">Throwable</span> =&gt;
        <a href="#org.scalatra.ScalatraBase.runCallbacks" title="(data: scala.util.Try[Any])(implicit request: javax.servlet.http.HttpServletRequest)Unit">runCallbacks</a><a href="DynamicScope.scala.html#org.scalatra;DynamicScope.request" title="=&gt; javax.servlet.http.HttpServletRequest" class="delimiter">(</a><span title="(exception: Throwable)scala.util.Failure[Nothing]">Failure</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.renderResponseBody.e" title="Throwable">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
        try <span class="delimiter">{</span>
          <a href="#org.scalatra;ScalatraBase.renderUncaughtException" title="(e: Throwable)(implicit request: javax.servlet.http.HttpServletRequest, implicit response: javax.servlet.http.HttpServletResponse)Unit">renderUncaughtException</a><a href="DynamicScope.scala.html#org.scalatra;DynamicScope.request" title="=&gt; javax.servlet.http.HttpServletRequest" class="delimiter">(</a><a href="#org.scalatra;ScalatraBase.renderResponseBody.e" title="Throwable">e</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> finally <span class="delimiter">{</span>
          <a href="#org.scalatra.ScalatraBase.runRenderCallbacks" title="(data: scala.util.Try[Any])(implicit request: javax.servlet.http.HttpServletRequest)Unit">runRenderCallbacks</a><a href="DynamicScope.scala.html#org.scalatra;DynamicScope.request" title="=&gt; javax.servlet.http.HttpServletRequest" class="delimiter">(</a><span title="(exception: Throwable)scala.util.Failure[Nothing]">Failure</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.renderResponseBody.e" title="Throwable">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The render pipeline is a partial function of Any =&gt; Any.  It is
   * called recursively until it returns ().  () indicates that the
   * response has been rendered.
   */</span>
  protected def <a title="=&gt; org.scalatra.RenderPipeline" id="org.scalatra;ScalatraBase.renderPipeline">renderPipeline</a>: <span title="org.scalatra.RenderPipeline">RenderPipeline</span> = <a title="&lt;$anon: Any =&gt; Any&gt; extends scala.runtime.AbstractPartialFunction[Any,Any] with Serializable" id="org.scalatra;ScalatraBase.renderPipeline;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    case <span title="Int(404)" class="int">404</span> =&gt;
      <a href="#org.scalatra;ScalatraBase.doNotFound_=" title="()Any">doNotFound</a><span title="Boolean(true)" class="delimiter">(</span><span class="delimiter">)</span>
    case ActionResult<span class="delimiter">(</span><span title="org.scalatra.ResponseStatus">status</span>, <span title="Int">x</span>: <span title="Int">Int</span>, <a title="Map[String,String]" id="org.scalatra;ScalatraBase.renderPipeline;$anonfun.isDefinedAt.resultHeaders">resultHeaders</a><span class="delimiter">)</span> =&gt;
      <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichResponse" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichResponse : (response: javax.servlet.http.HttpServletResponse)org.scalatra.servlet.RichResponse">response</a>.<a href="servlet/RichResponse.scala.html#org.scalatra.servlet;RichResponse.status_=" title="(statusLine: org.scalatra.ResponseStatus)Unit">status</a> = <span title="org.scalatra.ResponseStatus">status</span>
      <a href="#org.scalatra;ScalatraBase.renderPipeline;$anonfun.isDefinedAt.resultHeaders" title="Map[String,String]">resultHeaders</a> <span title="(f: ((String, String)) =&gt; Unit)Unit">foreach</span> <a href="#org.scalatra;ScalatraBase.renderPipeline;$anonfun.applyOrElse.$anonfun.x0$3" title="Unit" class="delimiter">{</a>
        case <span class="delimiter">(</span><span title="String">name</span>, <span title="String">value</span><span class="delimiter">)</span> =&gt; <a href="DynamicScope.scala.html#org.scalatra;DynamicScope.response" title="=&gt; javax.servlet.http.HttpServletResponse">response</a>.<span title="(x$1: String, x$2: String)Unit">addHeader</span><span class="delimiter">(</span><span title="String">name</span>, <span title="String">value</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichResponse" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichResponse : (response: javax.servlet.http.HttpServletResponse)org.scalatra.servlet.RichResponse">response</a>.<a href="servlet/RichResponse.scala.html#org.scalatra.servlet;RichResponse.writer" title="=&gt; java.io.PrintWriter">writer</a>.<span title="(x$1: String)Unit">print</span><span class="delimiter">(</span><span title="Int">x</span>.<span title="()String">toString</span><span class="delimiter">)</span>
    case <span title="Int">status</span>: <span title="Int">Int</span> =&gt;
      <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichResponse" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichResponse : (response: javax.servlet.http.HttpServletResponse)org.scalatra.servlet.RichResponse">response</a>.<a href="servlet/RichResponse.scala.html#org.scalatra.servlet;RichResponse.status_=" title="(statusLine: org.scalatra.ResponseStatus)Unit">status</a> = <a href="ResponseStatus.scala.html#org.scalatra.ResponseStatus.apply(73c19e4089)" title="(code: Int)org.scalatra.ResponseStatus">ResponseStatus</a><span class="delimiter">(</span><span title="Int">status</span><span class="delimiter">)</span>
    case <a title="Array[Byte]" id="org.scalatra;ScalatraBase.renderPipeline;$anonfun.isDefinedAt.bytes">bytes</a>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span> =&gt;
      if <span class="delimiter">(</span><a href="ScalatraContext.scala.html#org.scalatra;ScalatraContext.contentType" title="=&gt; String">contentType</a> <span title="(x$1: Any)Boolean">!=</span> null <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="ScalatraContext.scala.html#org.scalatra;ScalatraContext.contentType" title="=&gt; String">contentType</a>.<span title="(x$1: String)Boolean">startsWith</span><span class="delimiter">(</span><span title="String(&quot;text&quot;)" class="string">&quot;text&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="DynamicScope.scala.html#org.scalatra;DynamicScope.response" title="=&gt; javax.servlet.http.HttpServletResponse">response</a>.<span title="(x$1: String)Unit">setCharacterEncoding</span><span class="delimiter">(</span><a href="util/FileCharset.scala.html#org.scalatra.util.FileCharset.apply(b69a6ff5e0)" title="(barr: Array[Byte])java.nio.charset.Charset">FileCharset</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.renderPipeline;$anonfun.isDefinedAt.bytes" title="Array[Byte]">bytes</a><span class="delimiter">)</span>.<span title="()String">name</span><span class="delimiter">)</span>
      <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichResponse" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichResponse : (response: javax.servlet.http.HttpServletResponse)org.scalatra.servlet.RichResponse">response</a>.<a href="servlet/RichResponse.scala.html#org.scalatra.servlet;RichResponse.outputStream" title="=&gt; java.io.OutputStream">outputStream</a>.<span title="(x$1: Array[Byte])Unit">write</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.renderPipeline;$anonfun.isDefinedAt.bytes" title="Array[Byte]">bytes</a><span class="delimiter">)</span>
    case <a title="java.io.InputStream" id="org.scalatra;ScalatraBase.renderPipeline;$anonfun.isDefinedAt.is">is</a>: java.io.<span title="java.io.InputStream">InputStream</span> =&gt;
      <a href="util/package.scala.html#org.scalatra.util.package.using" title="(closeable: java.io.InputStream)(f: java.io.InputStream =&gt; Unit)Unit">using</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.renderPipeline;$anonfun.isDefinedAt.is" title="java.io.InputStream">is</a><span class="delimiter">)</span> <span title="Boolean(true)" class="delimiter">{</span>
        util.io.<a href="util/io/package.scala.html#org.scalatra.util.io.package.copy" title="(in: java.io.InputStream, out: java.io.OutputStream, bufferSize: Int)Unit">copy</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.renderPipeline;$anonfun.applyOrElse.$anonfun.x$16" title="java.io.InputStream">_</a>, <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichResponse" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichResponse : (response: javax.servlet.http.HttpServletResponse)org.scalatra.servlet.RichResponse">response</a>.<a href="servlet/RichResponse.scala.html#org.scalatra.servlet;RichResponse.outputStream" title="=&gt; java.io.OutputStream">outputStream</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    case <a title="java.io.File" id="org.scalatra;ScalatraBase.renderPipeline;$anonfun.isDefinedAt.file">file</a>: <span title="java.io.File">File</span> =&gt;
      if <span class="delimiter">(</span><a href="ScalatraContext.scala.html#org.scalatra;ScalatraContext.contentType" title="=&gt; String">contentType</a> <span title="(x$1: String)Boolean">startsWith</span> <span title="String(&quot;text&quot;)" class="string">&quot;text&quot;</span><span class="delimiter">)</span> <a href="DynamicScope.scala.html#org.scalatra;DynamicScope.response" title="=&gt; javax.servlet.http.HttpServletResponse">response</a>.<span title="(x$1: String)Unit">setCharacterEncoding</span><span class="delimiter">(</span><a href="util/FileCharset.scala.html#org.scalatra.util.FileCharset.apply(15efa3e55c)" title="(file: java.io.File)java.nio.charset.Charset">FileCharset</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.renderPipeline;$anonfun.isDefinedAt.file" title="java.io.File">file</a><span class="delimiter">)</span>.<span title="()String">name</span><span class="delimiter">)</span>
      <a href="util/package.scala.html#org.scalatra.util.package.using" title="(closeable: java.io.FileInputStream)(f: java.io.FileInputStream =&gt; Unit)Unit">using</a><span class="delimiter">(</span>new <span title="java.io.FileInputStream">FileInputStream</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.renderPipeline;$anonfun.isDefinedAt.file" title="java.io.File">file</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a title="java.io.FileInputStream" id="org.scalatra;ScalatraBase.renderPipeline;$anonfun.applyOrElse.$anonfun.in">in</a> =&gt; <a href="util/io/package.scala.html#org.scalatra.util.io.package.zeroCopy" title="(in: java.io.FileInputStream, out: java.io.OutputStream)Unit">zeroCopy</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.renderPipeline;$anonfun.applyOrElse.$anonfun.in" title="java.io.FileInputStream">in</a>, <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichResponse" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichResponse : (response: javax.servlet.http.HttpServletResponse)org.scalatra.servlet.RichResponse">response</a>.<a href="servlet/RichResponse.scala.html#org.scalatra.servlet;RichResponse.outputStream" title="=&gt; java.io.OutputStream">outputStream</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="comment">// If an action returns Unit, it assumes responsibility for the response</span>
    case _: <span title="Unit">Unit</span> | <span title="Unit.type">Unit</span> | null =&gt;
    <span class="comment">// If an action returns Unit, it assumes responsibility for the response</span>
    case ActionResult<span class="delimiter">(</span>ResponseStatus<span class="delimiter">(</span><span title="Int(404)" class="int">404</span>, _<span class="delimiter">)</span>, _: <span title="Unit">Unit</span> | <span title="Unit.type">Unit</span>, _<span class="delimiter">)</span> =&gt; <a href="#org.scalatra;ScalatraBase.doNotFound_=" title="()Any">doNotFound</a><span title="Boolean(true)" class="delimiter">(</span><span class="delimiter">)</span>
    case <a title="org.scalatra.ActionResult" id="org.scalatra;ScalatraBase.renderPipeline;$anonfun.isDefinedAt.actionResult">actionResult</a>: <a href="ActionResult.scala.html#org.scalatra;ActionResult" title="org.scalatra.ActionResult">ActionResult</a> =&gt;
      <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichResponse" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichResponse : (response: javax.servlet.http.HttpServletResponse)org.scalatra.servlet.RichResponse">response</a>.<a href="servlet/RichResponse.scala.html#org.scalatra.servlet;RichResponse.status_=" title="(statusLine: org.scalatra.ResponseStatus)Unit">status</a> = <a href="#org.scalatra;ScalatraBase.renderPipeline;$anonfun.isDefinedAt.actionResult" title="org.scalatra.ActionResult">actionResult</a>.<a href="ActionResult.scala.html#org.scalatra;ActionResult.status" title="=&gt; org.scalatra.ResponseStatus">status</a>
      <a href="#org.scalatra;ScalatraBase.renderPipeline;$anonfun.isDefinedAt.actionResult" title="org.scalatra.ActionResult">actionResult</a>.<a href="ActionResult.scala.html#org.scalatra;ActionResult.headers" title="=&gt; Map[String,String]">headers</a>.<span title="(f: ((String, String)) =&gt; Unit)Unit">foreach</span> <a href="#org.scalatra;ScalatraBase.renderPipeline;$anonfun.applyOrElse.$anonfun.x0$4" title="Unit" class="delimiter">{</a>
        case <span class="delimiter">(</span><span title="String">name</span>, <span title="String">value</span><span class="delimiter">)</span> =&gt; <a href="DynamicScope.scala.html#org.scalatra;DynamicScope.response" title="=&gt; javax.servlet.http.HttpServletResponse">response</a>.<span title="(x$1: String, x$2: String)Unit">addHeader</span><span class="delimiter">(</span><span title="String">name</span>, <span title="String">value</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#org.scalatra;ScalatraBase.renderPipeline;$anonfun.isDefinedAt.actionResult" title="org.scalatra.ActionResult">actionResult</a>.<a href="ActionResult.scala.html#org.scalatra;ActionResult.body" title="=&gt; Any">body</a>
    case <span title="Any">x</span> =&gt;
      <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichResponse" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichResponse : (response: javax.servlet.http.HttpServletResponse)org.scalatra.servlet.RichResponse">response</a>.<a href="servlet/RichResponse.scala.html#org.scalatra.servlet;RichResponse.writer" title="=&gt; java.io.PrintWriter">writer</a>.<span title="(x$1: String)Unit">print</span><span title="Boolean(true)" class="delimiter">(</span><span title="Any">x</span>.<span title="()String">toString</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Pluggable way to convert a path expression to a route matcher.
   * The default implementation is compatible with Sinatra's route syntax.
   *
   * @param path a path expression
   * @return a route matcher based on `path`
   */</span>
  protected implicit def <a title="implicit org.scalatra.ScalatraBase.string2RouteMatcher : (path: String)org.scalatra.RouteMatcher" id="org.scalatra;ScalatraBase.string2RouteMatcher">string2RouteMatcher</a><span class="delimiter">(</span><a title="String" id="org.scalatra;ScalatraBase.string2RouteMatcher.path">path</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="routeMatcher.scala.html#org.scalatra;RouteMatcher" title="org.scalatra.RouteMatcher">RouteMatcher</a> =
    new <a href="routeMatcher.scala.html#org.scalatra;SinatraRouteMatcher" title="org.scalatra.SinatraRouteMatcher">SinatraRouteMatcher</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.string2RouteMatcher.path" title="String">path</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Path pattern is decoupled from requests.  This adapts the PathPattern to
   * a RouteMatcher by supplying the request path.
   */</span>
  protected implicit def <a title="implicit org.scalatra.ScalatraBase.pathPatternParser2RouteMatcher : (pattern: org.scalatra.PathPattern)org.scalatra.RouteMatcher" id="org.scalatra;ScalatraBase.pathPatternParser2RouteMatcher">pathPatternParser2RouteMatcher</a><span class="delimiter">(</span><a title="org.scalatra.PathPattern" id="org.scalatra;ScalatraBase.pathPatternParser2RouteMatcher.pattern">pattern</a>: <a href="pathPatternParsers.scala.html#org.scalatra;PathPattern" title="org.scalatra.PathPattern">PathPattern</a><span class="delimiter">)</span>: <a href="routeMatcher.scala.html#org.scalatra;RouteMatcher" title="org.scalatra.RouteMatcher">RouteMatcher</a> =
    new <a href="routeMatcher.scala.html#org.scalatra;PathPatternRouteMatcher" title="org.scalatra.PathPatternRouteMatcher">PathPatternRouteMatcher</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.pathPatternParser2RouteMatcher.pattern" title="org.scalatra.PathPattern">pattern</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Converts a regular expression to a route matcher.
   *
   * @param regex the regular expression
   * @return a route matcher based on `regex`
   * @see [[org.scalatra.RegexRouteMatcher]]
   */</span>
  protected implicit def <a title="implicit org.scalatra.ScalatraBase.regex2RouteMatcher : (regex: scala.util.matching.Regex)org.scalatra.RouteMatcher" id="org.scalatra;ScalatraBase.regex2RouteMatcher">regex2RouteMatcher</a><span class="delimiter">(</span><a title="scala.util.matching.Regex" id="org.scalatra;ScalatraBase.regex2RouteMatcher.regex">regex</a>: <span title="scala.util.matching.Regex">Regex</span><span class="delimiter">)</span>: <a href="routeMatcher.scala.html#org.scalatra;RouteMatcher" title="org.scalatra.RouteMatcher">RouteMatcher</a> =
    new <a href="routeMatcher.scala.html#org.scalatra;RegexRouteMatcher" title="org.scalatra.RegexRouteMatcher">RegexRouteMatcher</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.regex2RouteMatcher.regex" title="scala.util.matching.Regex">regex</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Converts a boolean expression to a route matcher.
   *
   * @param block a block that evaluates to a boolean
   *
   * @return a route matcher based on `block`.  The route matcher should
   *         return `Some` if the block is true and `None` if the block is false.
   *
   * @see [[org.scalatra.BooleanBlockRouteMatcher]]
   */</span>
  protected implicit def <a title="implicit org.scalatra.ScalatraBase.booleanBlock2RouteMatcher : (block: =&gt; Boolean)org.scalatra.RouteMatcher" id="org.scalatra;ScalatraBase.booleanBlock2RouteMatcher">booleanBlock2RouteMatcher</a><span class="delimiter">(</span><a title="=&gt; Boolean" id="org.scalatra;ScalatraBase.booleanBlock2RouteMatcher.block">block</a>: =&gt; Boolean<span class="delimiter">)</span>: <a href="routeMatcher.scala.html#org.scalatra;RouteMatcher" title="org.scalatra.RouteMatcher">RouteMatcher</a> =
    new <a href="routeMatcher.scala.html#org.scalatra;BooleanBlockRouteMatcher" title="org.scalatra.BooleanBlockRouteMatcher">BooleanBlockRouteMatcher</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.booleanBlock2RouteMatcher.block" title="=&gt; Boolean">block</a><span class="delimiter">)</span>

  protected def <a title="(e: org.scalatra.HaltException)Unit" id="org.scalatra;ScalatraBase.renderHaltException">renderHaltException</a><span class="delimiter">(</span><span title="org.scalatra.HaltException">e</span>: <a href="control.scala.html#org.scalatra;HaltException" title="org.scalatra.HaltException">HaltException</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    try <span class="delimiter">{</span>
      var <a title="Boolean" id="org.scalatra;ScalatraBase.renderHaltException.rendered">rendered</a> = false
      <span title="org.scalatra.HaltException">e</span> match <span class="delimiter">{</span>
        case HaltException<span class="delimiter">(</span>Some<span class="delimiter">(</span><span title="Int(404)" class="int">404</span><span class="delimiter">)</span>, _, _, _: <span title="Unit">Unit</span> | <span title="Unit.type">Unit</span><span class="delimiter">)</span> | HaltException<span class="delimiter">(</span>_, _, _, ActionResult<span class="delimiter">(</span>ResponseStatus<span class="delimiter">(</span><span title="Int(404)" class="int">404</span>, _<span class="delimiter">)</span>, _: <span title="Unit">Unit</span> | <span title="Unit.type">Unit</span>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#org.scalatra;ScalatraBase.renderResponse" title="(actionResult: Any)Unit">renderResponse</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.doNotFound_=" title="()Any">doNotFound</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#org.scalatra;ScalatraBase.renderHaltException.rendered" title="Boolean">rendered</a> = true
        case HaltException<span class="delimiter">(</span>Some<span class="delimiter">(</span><span title="Int">status</span><span class="delimiter">)</span>, Some<span class="delimiter">(</span><a title="String" id="org.scalatra;ScalatraBase.renderHaltException.reason">reason</a><span class="delimiter">)</span>, _, _<span class="delimiter">)</span> =&gt;
          <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichResponse" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichResponse : (response: javax.servlet.http.HttpServletResponse)org.scalatra.servlet.RichResponse">response</a>.<a href="servlet/RichResponse.scala.html#org.scalatra.servlet;RichResponse.status_=" title="(statusLine: org.scalatra.ResponseStatus)Unit">status</a> = <a href="ResponseStatus.scala.html#org.scalatra;ResponseStatus" title="(code: Int, message: String)org.scalatra.ResponseStatus">ResponseStatus</a><span class="delimiter">(</span><span title="Int">status</span>, <a href="#org.scalatra;ScalatraBase.renderHaltException.reason" title="String">reason</a><span class="delimiter">)</span>
        case HaltException<span class="delimiter">(</span>Some<span class="delimiter">(</span><span title="Int">status</span><span class="delimiter">)</span>, <span title="None.type">None</span>, _, _<span class="delimiter">)</span> =&gt;
          <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichResponse" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichResponse : (response: javax.servlet.http.HttpServletResponse)org.scalatra.servlet.RichResponse">response</a>.<a href="servlet/RichResponse.scala.html#org.scalatra.servlet;RichResponse.status_=" title="(statusLine: org.scalatra.ResponseStatus)Unit">status</a> = <a href="ResponseStatus.scala.html#org.scalatra.ResponseStatus.apply(73c19e4089)" title="(code: Int)org.scalatra.ResponseStatus">ResponseStatus</a><span class="delimiter">(</span><span title="Int">status</span><span class="delimiter">)</span>
        case HaltException<span class="delimiter">(</span><span title="None.type">None</span>, _, _, _<span class="delimiter">)</span> =&gt; <span class="comment">// leave status line alone</span>
      <span class="delimiter">}</span>
      <span title="org.scalatra.HaltException">e</span>.<a href="control.scala.html#org.scalatra;HaltException.headers" title="=&gt; Map[String,String]">headers</a> <span title="(f: ((String, String)) =&gt; Unit)Unit">foreach</span> <a href="#org.scalatra;ScalatraBase.renderHaltException.$anonfun.x0$5" title="Unit" class="delimiter">{</a>
        case <span class="delimiter">(</span><a title="String" id="org.scalatra;ScalatraBase.renderHaltException.$anonfun.name">name</a>, <a title="String" id="org.scalatra;ScalatraBase.renderHaltException.$anonfun.value">value</a><span class="delimiter">)</span> =&gt; <a href="DynamicScope.scala.html#org.scalatra;DynamicScope.response" title="=&gt; javax.servlet.http.HttpServletResponse">response</a>.<span title="(x$1: String, x$2: String)Unit">addHeader</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.renderHaltException.$anonfun.name" title="String">name</a>, <a href="#org.scalatra;ScalatraBase.renderHaltException.$anonfun.value" title="String">value</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      if <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#org.scalatra;ScalatraBase.renderHaltException.rendered" title="Boolean">rendered</a><span class="delimiter">)</span> <a href="#org.scalatra;ScalatraBase.renderResponse" title="(actionResult: Any)Unit">renderResponse</a><span class="delimiter">(</span><span title="org.scalatra.HaltException">e</span>.<a href="control.scala.html#org.scalatra;HaltException.body" title="=&gt; Any">body</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> catch <span class="delimiter">{</span>
      case <span title="Throwable">e</span>: <span title="Throwable">Throwable</span> =&gt;
        <a href="#org.scalatra.ScalatraBase.runCallbacks" title="(data: scala.util.Try[Any])(implicit request: javax.servlet.http.HttpServletRequest)Unit">runCallbacks</a><a href="DynamicScope.scala.html#org.scalatra;DynamicScope.request" title="=&gt; javax.servlet.http.HttpServletRequest" class="delimiter">(</a><span title="(exception: Throwable)scala.util.Failure[Nothing]">Failure</span><span class="delimiter">(</span><span title="Throwable">e</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#org.scalatra;ScalatraBase.renderUncaughtException" title="(e: Throwable)(implicit request: javax.servlet.http.HttpServletRequest, implicit response: javax.servlet.http.HttpServletResponse)Unit">renderUncaughtException</a><a href="DynamicScope.scala.html#org.scalatra;DynamicScope.request" title="=&gt; javax.servlet.http.HttpServletRequest" class="delimiter">(</a><span title="Throwable">e</span><span class="delimiter">)</span>
        <a href="#org.scalatra.ScalatraBase.runCallbacks" title="(data: scala.util.Try[Any])(implicit request: javax.servlet.http.HttpServletRequest)Unit">runCallbacks</a><a href="DynamicScope.scala.html#org.scalatra;DynamicScope.request" title="=&gt; javax.servlet.http.HttpServletRequest" class="delimiter">(</a><span title="(exception: Throwable)scala.util.Failure[Nothing]">Failure</span><span class="delimiter">(</span><span title="Throwable">e</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  protected def <a title="(e: org.scalatra.HaltException)Int" id="org.scalatra;ScalatraBase.extractStatusCode">extractStatusCode</a><span class="delimiter">(</span><a title="org.scalatra.HaltException" id="org.scalatra;ScalatraBase.extractStatusCode.e">e</a>: <a href="control.scala.html#org.scalatra;HaltException" title="org.scalatra.HaltException">HaltException</a><span class="delimiter">)</span> = <a href="#org.scalatra;ScalatraBase.extractStatusCode.e" title="org.scalatra.HaltException">e</a> match <span class="delimiter">{</span>
    case HaltException<span class="delimiter">(</span>Some<span class="delimiter">(</span><a title="Int" id="org.scalatra;ScalatraBase.extractStatusCode.status">status</a><span class="delimiter">)</span>, _, _, _<span class="delimiter">)</span> =&gt; <a href="#org.scalatra;ScalatraBase.extractStatusCode.status" title="Int">status</a>
    case _                                    =&gt; <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichResponse" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichResponse : (response: javax.servlet.http.HttpServletResponse)org.scalatra.servlet.RichResponse">response</a>.<a href="servlet/RichResponse.scala.html#org.scalatra.servlet;RichResponse.status" title="=&gt; org.scalatra.ResponseStatus">status</a>.<a href="ResponseStatus.scala.html#org.scalatra;ResponseStatus.code" title="=&gt; Int">code</a>
  <span class="delimiter">}</span>

  def <a title="(transformers: org.scalatra.RouteTransformer*)(action: =&gt; Any)org.scalatra.Route" id="org.scalatra;ScalatraBase.get">get</a><span class="delimiter">(</span><a title="org.scalatra.RouteTransformer*" id="org.scalatra;ScalatraBase.get.transformers">transformers</a>: <span title="org.scalatra.RouteTransformer*">RouteTransformer</span>*<span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; Any" id="org.scalatra;ScalatraBase.get.action">action</a>: =&gt; Any<span class="delimiter">)</span> = <a href="#org.scalatra;ScalatraBase.addRoute" title="(method: org.scalatra.HttpMethod, transformers: Seq[org.scalatra.RouteTransformer], action: =&gt; Any)org.scalatra.Route">addRoute</a><span class="delimiter">(</span><a href="HttpMethod.scala.html#org.scalatra.Get" title="org.scalatra.Get.type">Get</a>, <a href="#org.scalatra;ScalatraBase.get.transformers" title="org.scalatra.RouteTransformer*">transformers</a>, <a href="#org.scalatra;ScalatraBase.get.action" title="=&gt; Any">action</a><span class="delimiter">)</span>

  def <a title="(transformers: org.scalatra.RouteTransformer*)(action: =&gt; Any)org.scalatra.Route" id="org.scalatra;ScalatraBase.post">post</a><span class="delimiter">(</span><a title="org.scalatra.RouteTransformer*" id="org.scalatra;ScalatraBase.post.transformers">transformers</a>: <span title="org.scalatra.RouteTransformer*">RouteTransformer</span>*<span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; Any" id="org.scalatra;ScalatraBase.post.action">action</a>: =&gt; Any<span class="delimiter">)</span> = <a href="#org.scalatra;ScalatraBase.addRoute" title="(method: org.scalatra.HttpMethod, transformers: Seq[org.scalatra.RouteTransformer], action: =&gt; Any)org.scalatra.Route">addRoute</a><span class="delimiter">(</span><a href="HttpMethod.scala.html#org.scalatra.Post" title="org.scalatra.Post.type">Post</a>, <a href="#org.scalatra;ScalatraBase.post.transformers" title="org.scalatra.RouteTransformer*">transformers</a>, <a href="#org.scalatra;ScalatraBase.post.action" title="=&gt; Any">action</a><span class="delimiter">)</span>

  def <a title="(transformers: org.scalatra.RouteTransformer*)(action: =&gt; Any)org.scalatra.Route" id="org.scalatra;ScalatraBase.put">put</a><span class="delimiter">(</span><a title="org.scalatra.RouteTransformer*" id="org.scalatra;ScalatraBase.put.transformers">transformers</a>: <span title="org.scalatra.RouteTransformer*">RouteTransformer</span>*<span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; Any" id="org.scalatra;ScalatraBase.put.action">action</a>: =&gt; Any<span class="delimiter">)</span> = <a href="#org.scalatra;ScalatraBase.addRoute" title="(method: org.scalatra.HttpMethod, transformers: Seq[org.scalatra.RouteTransformer], action: =&gt; Any)org.scalatra.Route">addRoute</a><span class="delimiter">(</span><a href="HttpMethod.scala.html#org.scalatra.Put" title="org.scalatra.Put.type">Put</a>, <a href="#org.scalatra;ScalatraBase.put.transformers" title="org.scalatra.RouteTransformer*">transformers</a>, <a href="#org.scalatra;ScalatraBase.put.action" title="=&gt; Any">action</a><span class="delimiter">)</span>

  def <a title="(transformers: org.scalatra.RouteTransformer*)(action: =&gt; Any)org.scalatra.Route" id="org.scalatra;ScalatraBase.delete">delete</a><span class="delimiter">(</span><a title="org.scalatra.RouteTransformer*" id="org.scalatra;ScalatraBase.delete.transformers">transformers</a>: <span title="org.scalatra.RouteTransformer*">RouteTransformer</span>*<span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; Any" id="org.scalatra;ScalatraBase.delete.action">action</a>: =&gt; Any<span class="delimiter">)</span> = <a href="#org.scalatra;ScalatraBase.addRoute" title="(method: org.scalatra.HttpMethod, transformers: Seq[org.scalatra.RouteTransformer], action: =&gt; Any)org.scalatra.Route">addRoute</a><span class="delimiter">(</span><a href="HttpMethod.scala.html#org.scalatra.Delete" title="org.scalatra.Delete.type">Delete</a>, <a href="#org.scalatra;ScalatraBase.delete.transformers" title="org.scalatra.RouteTransformer*">transformers</a>, <a href="#org.scalatra;ScalatraBase.delete.action" title="=&gt; Any">action</a><span class="delimiter">)</span>

  def <a title="(codes: Range)(block: =&gt; Any)Unit" id="org.scalatra;ScalatraBase.trap(bc8391effd)">trap</a><span class="delimiter">(</span><a title="Range" id="org.scalatra;ScalatraBase.trap(bc8391effd).codes">codes</a>: <span title="Range">Range</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; Any" id="org.scalatra;ScalatraBase.trap(bc8391effd).block">block</a>: =&gt; Any<span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#org.scalatra;ScalatraBase.addStatusRoute" title="(codes: Range, action: =&gt; Any)Unit">addStatusRoute</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.trap(bc8391effd).codes" title="Range">codes</a>, <a href="#org.scalatra;ScalatraBase.trap(bc8391effd).block" title="=&gt; Any">block</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(transformers: org.scalatra.RouteTransformer*)(action: =&gt; Any)org.scalatra.Route" id="org.scalatra;ScalatraBase.options">options</a><span class="delimiter">(</span><a title="org.scalatra.RouteTransformer*" id="org.scalatra;ScalatraBase.options.transformers">transformers</a>: <span title="org.scalatra.RouteTransformer*">RouteTransformer</span>*<span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; Any" id="org.scalatra;ScalatraBase.options.action">action</a>: =&gt; Any<span class="delimiter">)</span> = <a href="#org.scalatra;ScalatraBase.addRoute" title="(method: org.scalatra.HttpMethod, transformers: Seq[org.scalatra.RouteTransformer], action: =&gt; Any)org.scalatra.Route">addRoute</a><span class="delimiter">(</span><a href="HttpMethod.scala.html#org.scalatra.Options" title="org.scalatra.Options.type">Options</a>, <a href="#org.scalatra;ScalatraBase.options.transformers" title="org.scalatra.RouteTransformer*">transformers</a>, <a href="#org.scalatra;ScalatraBase.options.action" title="=&gt; Any">action</a><span class="delimiter">)</span>

  def <a title="(transformers: org.scalatra.RouteTransformer*)(action: =&gt; Any)org.scalatra.Route" id="org.scalatra;ScalatraBase.head">head</a><span class="delimiter">(</span><a title="org.scalatra.RouteTransformer*" id="org.scalatra;ScalatraBase.head.transformers">transformers</a>: <span title="org.scalatra.RouteTransformer*">RouteTransformer</span>*<span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; Any" id="org.scalatra;ScalatraBase.head.action">action</a>: =&gt; Any<span class="delimiter">)</span> = <a href="#org.scalatra;ScalatraBase.addRoute" title="(method: org.scalatra.HttpMethod, transformers: Seq[org.scalatra.RouteTransformer], action: =&gt; Any)org.scalatra.Route">addRoute</a><span class="delimiter">(</span><a href="HttpMethod.scala.html#org.scalatra.Head" title="org.scalatra.Head.type">Head</a>, <a href="#org.scalatra;ScalatraBase.head.transformers" title="org.scalatra.RouteTransformer*">transformers</a>, <a href="#org.scalatra;ScalatraBase.head.action" title="=&gt; Any">action</a><span class="delimiter">)</span>

  def <a title="(transformers: org.scalatra.RouteTransformer*)(action: =&gt; Any)org.scalatra.Route" id="org.scalatra;ScalatraBase.patch">patch</a><span class="delimiter">(</span><a title="org.scalatra.RouteTransformer*" id="org.scalatra;ScalatraBase.patch.transformers">transformers</a>: <span title="org.scalatra.RouteTransformer*">RouteTransformer</span>*<span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; Any" id="org.scalatra;ScalatraBase.patch.action">action</a>: =&gt; Any<span class="delimiter">)</span> = <a href="#org.scalatra;ScalatraBase.addRoute" title="(method: org.scalatra.HttpMethod, transformers: Seq[org.scalatra.RouteTransformer], action: =&gt; Any)org.scalatra.Route">addRoute</a><span class="delimiter">(</span><a href="HttpMethod.scala.html#org.scalatra.Patch" title="org.scalatra.Patch.type">Patch</a>, <a href="#org.scalatra;ScalatraBase.patch.transformers" title="org.scalatra.RouteTransformer*">transformers</a>, <a href="#org.scalatra;ScalatraBase.patch.action" title="=&gt; Any">action</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Prepends a new route for the given HTTP method.
   *
   * Can be overriden so that subtraits can use their own logic.
   * Possible examples:
   * $ - restricting protocols
   * $ - namespace routes based on class name
   * $ - raising errors on overlapping entries.
   *
   * This is the method invoked by get(), post() etc.
   *
   * @see org.scalatra.ScalatraKernel#removeRoute
   */</span>
  protected def <a title="(method: org.scalatra.HttpMethod, transformers: Seq[org.scalatra.RouteTransformer], action: =&gt; Any)org.scalatra.Route" id="org.scalatra;ScalatraBase.addRoute">addRoute</a><span class="delimiter">(</span><a title="org.scalatra.HttpMethod" id="org.scalatra;ScalatraBase.addRoute.method">method</a>: <a href="HttpMethod.scala.html#org.scalatra;HttpMethod" title="org.scalatra.HttpMethod">HttpMethod</a>, <a title="Seq[org.scalatra.RouteTransformer]" id="org.scalatra;ScalatraBase.addRoute.transformers">transformers</a>: <span title="Seq[org.scalatra.RouteTransformer]">Seq</span><span class="delimiter">[</span>RouteTransformer<span class="delimiter">]</span>, <a title="=&gt; Any" id="org.scalatra;ScalatraBase.addRoute.action">action</a>: =&gt; Any<span class="delimiter">)</span>: <a href="route.scala.html#org.scalatra;Route" title="org.scalatra.Route">Route</a> = <span class="delimiter">{</span>
    val <a title="org.scalatra.Route" id="org.scalatra;ScalatraBase.addRoute.route">route</a> = <a href="route.scala.html#org.scalatra.Route.apply(50c0ab7852)" title="(transformers: Seq[org.scalatra.RouteTransformer], action: org.scalatra.Action, contextPath: javax.servlet.http.HttpServletRequest =&gt; String)org.scalatra.Route">Route</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.addRoute.transformers" title="Seq[org.scalatra.RouteTransformer]">transformers</a>, <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#org.scalatra;ScalatraBase.addRoute.action" title="=&gt; Any">action</a>, <span class="delimiter">(</span>req: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span> =&gt; <a href="#org.scalatra;ScalatraBase.routeBasePath" title="(implicit request: javax.servlet.http.HttpServletRequest)String">routeBasePath</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.addRoute.route.$anonfun.req" title="javax.servlet.http.HttpServletRequest">req</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#org.scalatra;ScalatraBase.routes" title="=&gt; org.scalatra.RouteRegistry">routes</a>.<a href="RouteRegistry.scala.html#org.scalatra;RouteRegistry.prependRoute" title="(method: org.scalatra.HttpMethod, route: org.scalatra.Route)Unit">prependRoute</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.addRoute.method" title="org.scalatra.HttpMethod">method</a>, <a href="#org.scalatra;ScalatraBase.addRoute.route" title="org.scalatra.Route">route</a><span class="delimiter">)</span>
    <a href="#org.scalatra;ScalatraBase.addRoute.route" title="org.scalatra.Route">route</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Removes _all_ the actions of a given route for a given HTTP method.
   * If addRoute is overridden then this should probably be overriden too.
   *
   * @see org.scalatra.ScalatraKernel#addRoute
   */</span>
  protected def <a title="(method: org.scalatra.HttpMethod, route: org.scalatra.Route)Unit" id="org.scalatra;ScalatraBase.removeRoute(16fa4c4253)">removeRoute</a><span class="delimiter">(</span><a title="org.scalatra.HttpMethod" id="org.scalatra;ScalatraBase.removeRoute(16fa4c4253).method">method</a>: <a href="HttpMethod.scala.html#org.scalatra;HttpMethod" title="org.scalatra.HttpMethod">HttpMethod</a>, <a title="org.scalatra.Route" id="org.scalatra;ScalatraBase.removeRoute(16fa4c4253).route">route</a>: <a href="route.scala.html#org.scalatra;Route" title="org.scalatra.Route">Route</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#org.scalatra;ScalatraBase.routes" title="=&gt; org.scalatra.RouteRegistry">routes</a>.<a href="RouteRegistry.scala.html#org.scalatra;RouteRegistry.removeRoute" title="(method: org.scalatra.HttpMethod, route: org.scalatra.Route)Unit">removeRoute</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.removeRoute(16fa4c4253).method" title="org.scalatra.HttpMethod">method</a>, <a href="#org.scalatra;ScalatraBase.removeRoute(16fa4c4253).route" title="org.scalatra.Route">route</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  protected def <a title="(method: String, route: org.scalatra.Route)Unit" id="org.scalatra;ScalatraBase.removeRoute(9cd3fe7f2a)">removeRoute</a><span class="delimiter">(</span><a title="String" id="org.scalatra;ScalatraBase.removeRoute(9cd3fe7f2a).method">method</a>: <span title="String">String</span>, <a title="org.scalatra.Route" id="org.scalatra;ScalatraBase.removeRoute(9cd3fe7f2a).route">route</a>: <a href="route.scala.html#org.scalatra;Route" title="org.scalatra.Route">Route</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#org.scalatra;ScalatraBase.removeRoute(16fa4c4253)" title="(method: org.scalatra.HttpMethod, route: org.scalatra.Route)Unit">removeRoute</a><span class="delimiter">(</span><a href="HttpMethod.scala.html#org.scalatra.HttpMethod.apply" title="(name: String)org.scalatra.HttpMethod">HttpMethod</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.removeRoute(9cd3fe7f2a).method" title="String">method</a><span class="delimiter">)</span>, <a href="#org.scalatra;ScalatraBase.removeRoute(9cd3fe7f2a).route" title="org.scalatra.Route">route</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  protected<span class="delimiter">[</span>scalatra<span class="delimiter">]</span> def <a title="(codes: Range, action: =&gt; Any)Unit" id="org.scalatra;ScalatraBase.addStatusRoute">addStatusRoute</a><span class="delimiter">(</span><a title="Range" id="org.scalatra;ScalatraBase.addStatusRoute.codes">codes</a>: <span title="Range">Range</span>, <a title="=&gt; Any" id="org.scalatra;ScalatraBase.addStatusRoute.action">action</a>: =&gt; Any<span class="delimiter">)</span> <span class="delimiter">{</span>
    val <a title="org.scalatra.Route" id="org.scalatra;ScalatraBase.addStatusRoute.route">route</a> = <a href="route.scala.html#org.scalatra.Route.apply(50c0ab7852)" title="(transformers: Seq[org.scalatra.RouteTransformer], action: org.scalatra.Action, contextPath: javax.servlet.http.HttpServletRequest =&gt; String)org.scalatra.Route">Route</a><span class="delimiter">(</span><span title="scala.collection.Seq.type">Seq</span>.<span title="Seq[Nothing]">empty</span>, <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#org.scalatra;ScalatraBase.addStatusRoute.action" title="=&gt; Any">action</a>, <span class="delimiter">(</span>req: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span> =&gt; <a href="#org.scalatra;ScalatraBase.routeBasePath" title="(implicit request: javax.servlet.http.HttpServletRequest)String">routeBasePath</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.addStatusRoute.route.$anonfun.req" title="javax.servlet.http.HttpServletRequest">req</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#org.scalatra;ScalatraBase.routes" title="=&gt; org.scalatra.RouteRegistry">routes</a>.<a href="RouteRegistry.scala.html#org.scalatra;RouteRegistry.addStatusRoute" title="(codes: Range, route: org.scalatra.Route)Unit">addStatusRoute</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.addStatusRoute.codes" title="Range">codes</a>, <a href="#org.scalatra;ScalatraBase.addStatusRoute.route" title="org.scalatra.Route">route</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The configuration, typically a ServletConfig or FilterConfig.
   */</span>
  var <a title="ScalatraBase.this.ConfigT" id="org.scalatra;ScalatraBase.config_=">config</a>: <a href="Initializable.scala.html#org.scalatra;Initializable;ConfigT" title="ScalatraBase.this.ConfigT">ConfigT</a> = _


  <span class="comment">/**
   * Initializes the kernel.  Used to provide context that is unavailable
   * when the instance is constructed, for example the servlet lifecycle.
   * Should set the `config` variable to the parameter.
   *
   * @param config the configuration.
   */</span>
  def <a title="(config: ScalatraBase.this.ConfigT)Unit" id="org.scalatra;ScalatraBase.initialize">initialize</a><span class="delimiter">(</span><a title="ScalatraBase.this.ConfigT" id="org.scalatra;ScalatraBase.initialize.config">config</a>: <a href="Initializable.scala.html#org.scalatra;Initializable;ConfigT" title="ScalatraBase.this.ConfigT">ConfigT</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    this.<a href="#org.scalatra;ScalatraBase.config_=" title="(x$1: ScalatraBase.this.ConfigT)Unit">config</a> = <a href="#org.scalatra;ScalatraBase.initialize.config" title="ScalatraBase.this.ConfigT">config</a>
    val <a title="String" id="org.scalatra;ScalatraBase.initialize.path">path</a> = <a href="#org.scalatra;ScalatraBase.contextPath" title="=&gt; String">contextPath</a> match <span class="delimiter">{</span>
      case <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> =&gt; <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span class="comment">// The root servlet is &quot;&quot;, but the root cookie path is &quot;/&quot;</span>
      case <a title="String" id="org.scalatra;ScalatraBase.initialize.path.p">p</a> =&gt; <a href="#org.scalatra;ScalatraBase.initialize.path.p" title="String">p</a>
    <span class="delimiter">}</span>
    <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichServletContext" title="(key: String, value: Any)Unit">servletContext</a><span class="delimiter">(</span><a href="CookieSupport.scala.html#org.scalatra.CookieSupport" title="org.scalatra.CookieSupport.type">CookieSupport</a>.<a href="CookieSupport.scala.html#org.scalatra.CookieSupport.CookieOptionsKey" title="=&gt; String">CookieOptionsKey</a><span class="delimiter">)</span> = <a href="CookieSupport.scala.html#org.scalatra.CookieOptions.apply$default$1" title="String" id="org.scalatra;ScalatraBase.initialize.x$36">CookieOptions</a><span class="delimiter">(</span>path = <a href="#org.scalatra;ScalatraBase.initialize.path" title="String" id="org.scalatra;ScalatraBase.initialize.x$29">path</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(path: String, params: Iterable[(String, Any)], includeContextPath: Boolean, includeServletPath: Boolean)(implicit request: javax.servlet.http.HttpServletRequest, implicit response: javax.servlet.http.HttpServletResponse)String" id="org.scalatra;ScalatraBase.relativeUrl">relativeUrl</a><span class="delimiter">(</span><a title="String" id="org.scalatra;ScalatraBase.relativeUrl.path">path</a>: <span title="String">String</span>, <a title="Iterable[(String, Any)]" id="org.scalatra;ScalatraBase.relativeUrl$default$2">params</a>: <span title="Iterable[(String, Any)]">Iterable</span><span class="delimiter">[</span><span class="delimiter">(</span>String, Any<span class="delimiter">)</span><span class="delimiter">]</span> = <span title="=&gt; collection.Iterable.type">Iterable</span>.<span title="Iterable[Nothing]">empty</span>, <a title="Boolean" id="org.scalatra;ScalatraBase.relativeUrl$default$3">includeContextPath</a>: <span title="Boolean">Boolean</span> = true, <a title="Boolean" id="org.scalatra;ScalatraBase.relativeUrl$default$4">includeServletPath</a>: <span title="Boolean">Boolean</span> = true<span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra;ScalatraBase.relativeUrl.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span>, <a title="javax.servlet.http.HttpServletResponse" id="org.scalatra;ScalatraBase.relativeUrl.response">response</a>: <span title="javax.servlet.http.HttpServletResponse">HttpServletResponse</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <a href="#org.scalatra;ScalatraBase.url" title="(path: String, params: Iterable[(String, Any)], includeContextPath: Boolean, includeServletPath: Boolean, absolutize: Boolean, withSessionId: Boolean)(implicit request: javax.servlet.http.HttpServletRequest, implicit response: javax.servlet.http.HttpServletResponse)String">url</a><a href="#org.scalatra;ScalatraBase.relativeUrl.request" title="javax.servlet.http.HttpServletRequest" class="delimiter">(</a><a href="#org.scalatra;ScalatraBase.relativeUrl.path" title="String">path</a>, <a href="#org.scalatra;ScalatraBase.relativeUrl$default$2" title="Iterable[(String, Any)]">params</a>, <a href="#org.scalatra;ScalatraBase.relativeUrl$default$3" title="Boolean">includeContextPath</a>, <a href="#org.scalatra;ScalatraBase.relativeUrl$default$4" title="Boolean">includeServletPath</a>, absolutize = false<span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a context-relative, session-aware URL for a path and specified
   * parameters.
   * Finally, the result is run through `response.encodeURL` for a session
   * ID, if necessary.
   *
   * @param path the base path.  If a path begins with '/', then the context
   *             path will be prepended to the result
   *
   * @param params params, to be appended in the form of a query string
   *
   * @return the path plus the query string, if any.  The path is run through
   *         `response.encodeURL` to add any necessary session tracking parameters.
   */</span>
  def <a title="(path: String, params: Iterable[(String, Any)], includeContextPath: Boolean, includeServletPath: Boolean, absolutize: Boolean, withSessionId: Boolean)(implicit request: javax.servlet.http.HttpServletRequest, implicit response: javax.servlet.http.HttpServletResponse)String" id="org.scalatra;ScalatraBase.url">url</a><span class="delimiter">(</span><a title="String" id="org.scalatra;ScalatraBase.url.path">path</a>: <span title="String">String</span>, <a title="Iterable[(String, Any)]" id="org.scalatra;ScalatraBase.url$default$2">params</a>: <span title="Iterable[(String, Any)]">Iterable</span><span class="delimiter">[</span><span class="delimiter">(</span>String, Any<span class="delimiter">)</span><span class="delimiter">]</span> = <span title="=&gt; collection.Iterable.type">Iterable</span>.<span title="Iterable[Nothing]">empty</span>, <a title="Boolean" id="org.scalatra;ScalatraBase.url$default$3">includeContextPath</a>: <span title="Boolean">Boolean</span> = true, <a title="Boolean" id="org.scalatra;ScalatraBase.url$default$4">includeServletPath</a>: <span title="Boolean">Boolean</span> = true, <a title="Boolean" id="org.scalatra;ScalatraBase.url$default$5">absolutize</a>: <span title="Boolean">Boolean</span> = true, <a title="Boolean" id="org.scalatra;ScalatraBase.url$default$6">withSessionId</a>: <span title="Boolean">Boolean</span> = true<span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra;ScalatraBase.url.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span>, <a title="javax.servlet.http.HttpServletResponse" id="org.scalatra;ScalatraBase.url.response">response</a>: <span title="javax.servlet.http.HttpServletResponse">HttpServletResponse</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>

    val <a title="String" id="org.scalatra;ScalatraBase.url.newPath">newPath</a> = <a href="#org.scalatra;ScalatraBase.url.path" title="String">path</a> match <span class="delimiter">{</span>
      case <span title="String">x</span> if <span title="String">x</span>.<span title="(x$1: String)Boolean">startsWith</span><span class="delimiter">(</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#org.scalatra;ScalatraBase.url$default$3" title="Boolean">includeContextPath</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#org.scalatra;ScalatraBase.url$default$4" title="Boolean">includeServletPath</a> =&gt;
        <a href="#org.scalatra;ScalatraBase.ensureSlash" title="(candidate: String)String">ensureSlash</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.routeBasePath" title="(implicit request: javax.servlet.http.HttpServletRequest)String">routeBasePath</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <a href="#org.scalatra;ScalatraBase.ensureContextPathsStripped" title="(path: String)(implicit request: javax.servlet.http.HttpServletRequest)String">ensureContextPathsStripped</a><a href="#org.scalatra;ScalatraBase.url.request" title="javax.servlet.http.HttpServletRequest" class="delimiter">(</a><a href="#org.scalatra;ScalatraBase.ensureSlash" title="(candidate: String)String">ensureSlash</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.url.path" title="String">path</a><span class="delimiter">)</span><span class="delimiter">)</span>
      case <span title="String">x</span> if <span title="String">x</span>.<span title="(x$1: String)Boolean">startsWith</span><span class="delimiter">(</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#org.scalatra;ScalatraBase.url$default$3" title="Boolean">includeContextPath</a> =&gt;
        <a href="#org.scalatra;ScalatraBase.ensureSlash" title="(candidate: String)String">ensureSlash</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.contextPath" title="=&gt; String">contextPath</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <a href="#org.scalatra;ScalatraBase.ensureContextPathStripped" title="(path: String)String">ensureContextPathStripped</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.ensureSlash" title="(candidate: String)String">ensureSlash</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.url.path" title="String">path</a><span class="delimiter">)</span><span class="delimiter">)</span>
      case <span title="String">x</span> if <span title="String">x</span>.<span title="(x$1: String)Boolean">startsWith</span><span class="delimiter">(</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#org.scalatra;ScalatraBase.url$default$4" title="Boolean">includeServletPath</a> =&gt; <a href="#org.scalatra;ScalatraBase.url.request" title="javax.servlet.http.HttpServletRequest">request</a>.<a href="util/RicherString.scala.html#org.scalatra.util.RicherString.stringToRicherString" title="implicit org.scalatra.util.RicherString.stringToRicherString : (s: String)org.scalatra.util.RicherString">getServletPath</a>.<a href="util/RicherString.scala.html#org.scalatra.util;RicherString.blankOption" title="=&gt; Option[String]">blankOption</a> <span title="(f: String =&gt; String)Option[String]">map</span> <span class="delimiter">{</span>
        <a href="#org.scalatra;ScalatraBase.ensureSlash" title="(candidate: String)String">ensureSlash</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.url.newPath.$anonfun.x$17" title="String">_</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <a href="#org.scalatra;ScalatraBase.ensureServletPathStripped" title="(path: String)(implicit request: javax.servlet.http.HttpServletRequest)String">ensureServletPathStripped</a><a href="#org.scalatra;ScalatraBase.url.request" title="javax.servlet.http.HttpServletRequest" class="delimiter">(</a><a href="#org.scalatra;ScalatraBase.ensureSlash" title="(candidate: String)String">ensureSlash</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.url.path" title="String">path</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span title="(default: =&gt; String)String">getOrElse</span> <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span>
      case _ if <a href="#org.scalatra;ScalatraBase.url$default$5" title="Boolean">absolutize</a> =&gt; <a href="#org.scalatra;ScalatraBase.ensureContextPathsStripped" title="(path: String)(implicit request: javax.servlet.http.HttpServletRequest)String">ensureContextPathsStripped</a><a href="#org.scalatra;ScalatraBase.url.request" title="javax.servlet.http.HttpServletRequest" class="delimiter">(</a><a href="#org.scalatra;ScalatraBase.ensureSlash" title="(candidate: String)String">ensureSlash</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.url.path" title="String">path</a><span class="delimiter">)</span><span class="delimiter">)</span>
      case _ =&gt; <a href="#org.scalatra;ScalatraBase.url.path" title="String">path</a>
    <span class="delimiter">}</span>

    val pairs = <a href="#org.scalatra;ScalatraBase.url$default$2" title="Iterable[(String, Any)]">params</a> <a title="Iterable[String]" id="org.scalatra;ScalatraBase.url.pairs">map</a> <a href="#org.scalatra;ScalatraBase.url.pairs.$anonfun.x0$6" title="String" class="delimiter">{</a>
      case <span class="delimiter">(</span><span title="String">key</span>, <span title="None.type">None</span><span class="delimiter">)</span> =&gt; <a href="util/RicherString.scala.html#org.scalatra.util.RicherString.stringToRicherString" title="implicit org.scalatra.util.RicherString.stringToRicherString : (s: String)org.scalatra.util.RicherString">key</a>.<a href="util/RicherString.scala.html#org.scalatra.util;RicherString.urlEncode(3bf7c90be7)" title="=&gt; String">urlEncode</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;=&quot;)" class="string">&quot;=&quot;</span>
      case <span class="delimiter">(</span><span title="String">key</span>, Some<span class="delimiter">(</span><span title="Any">value</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="util/RicherString.scala.html#org.scalatra.util.RicherString.stringToRicherString" title="implicit org.scalatra.util.RicherString.stringToRicherString : (s: String)org.scalatra.util.RicherString">key</a>.<a href="util/RicherString.scala.html#org.scalatra.util;RicherString.urlEncode(3bf7c90be7)" title="=&gt; String">urlEncode</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;=&quot;)" class="string">&quot;=&quot;</span> <span title="(x$1: Any)String">+</span> <span title="Any">value</span>.<a href="util/RicherString.scala.html#org.scalatra.util.RicherString.stringToRicherString" title="implicit org.scalatra.util.RicherString.stringToRicherString : (s: String)org.scalatra.util.RicherString">toString</a>.<a href="util/RicherString.scala.html#org.scalatra.util;RicherString.urlEncode(3bf7c90be7)" title="=&gt; String">urlEncode</a>
      case <span class="delimiter">(</span><span title="String">key</span>, <span title="Any">value</span><span class="delimiter">)</span> =&gt; <a href="util/RicherString.scala.html#org.scalatra.util.RicherString.stringToRicherString" title="implicit org.scalatra.util.RicherString.stringToRicherString : (s: String)org.scalatra.util.RicherString">key</a>.<a href="util/RicherString.scala.html#org.scalatra.util;RicherString.urlEncode(3bf7c90be7)" title="=&gt; String">urlEncode</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;=&quot;)" class="string">&quot;=&quot;</span> <span title="(x$1: Any)String">+</span> <span title="Any">value</span>.<a href="util/RicherString.scala.html#org.scalatra.util.RicherString.stringToRicherString" title="implicit org.scalatra.util.RicherString.stringToRicherString : (s: String)org.scalatra.util.RicherString">toString</a>.<a href="util/RicherString.scala.html#org.scalatra.util;RicherString.urlEncode(3bf7c90be7)" title="=&gt; String">urlEncode</a>
    <span class="delimiter">}</span>
    val <a title="String" id="org.scalatra;ScalatraBase.url.queryString">queryString</a> = if <span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.url.pairs" title="Iterable[String]">pairs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> else <a href="#org.scalatra;ScalatraBase.url.pairs" title="Iterable[String]">pairs</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;?&quot;)" class="string">&quot;?&quot;</span>, <span title="String(&quot;&amp;&quot;)" class="string">&quot;&amp;&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.url$default$6" title="Boolean">withSessionId</a><span class="delimiter">)</span> <a href="#org.scalatra;ScalatraBase.addSessionId" title="(uri: String)(implicit response: javax.servlet.http.HttpServletResponse)String">addSessionId</a><a href="#org.scalatra;ScalatraBase.url.response" title="javax.servlet.http.HttpServletResponse" class="delimiter">(</a><a href="#org.scalatra;ScalatraBase.url.newPath" title="String">newPath</a> <span title="(x$1: Any)String">+</span> <a href="#org.scalatra;ScalatraBase.url.queryString" title="String">queryString</a><span class="delimiter">)</span> else <a href="#org.scalatra;ScalatraBase.url.newPath" title="String">newPath</a> <span title="(x$1: Any)String">+</span> <a href="#org.scalatra;ScalatraBase.url.queryString" title="String">queryString</a>
  <span class="delimiter">}</span>

  private<span class="delimiter">[</span>this<span class="delimiter">]</span> def <a title="(path: String)(implicit request: javax.servlet.http.HttpServletRequest)String" id="org.scalatra;ScalatraBase.ensureContextPathsStripped">ensureContextPathsStripped</a><span class="delimiter">(</span><a title="String" id="org.scalatra;ScalatraBase.ensureContextPathsStripped.path">path</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra;ScalatraBase.ensureContextPathsStripped.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span> =
    <span class="delimiter">(</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.ensureContextPathStripped" title="(path: String)String">ensureContextPathStripped</a> _<span class="delimiter">)</span> <span title="(v1: String)String">andThen</span> <span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.ensureServletPathStripped" title="(path: String)(implicit request: javax.servlet.http.HttpServletRequest)String">ensureServletPathStripped</a> _<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.ensureContextPathsStripped.path" title="String">path</a><span class="delimiter">)</span>

  private<span class="delimiter">[</span>this<span class="delimiter">]</span> def <a title="(path: String)(implicit request: javax.servlet.http.HttpServletRequest)String" id="org.scalatra;ScalatraBase.ensureServletPathStripped">ensureServletPathStripped</a><span class="delimiter">(</span><a title="String" id="org.scalatra;ScalatraBase.ensureServletPathStripped.path">path</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra;ScalatraBase.ensureServletPathStripped.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="String" id="org.scalatra;ScalatraBase.ensureServletPathStripped.sp">sp</a> = <a href="#org.scalatra;ScalatraBase.ensureSlash" title="(candidate: String)String">ensureSlash</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.ensureServletPathStripped.request" title="javax.servlet.http.HttpServletRequest">request</a>.<a href="util/RicherString.scala.html#org.scalatra.util.RicherString.stringToRicherString" title="implicit org.scalatra.util.RicherString.stringToRicherString : (s: String)org.scalatra.util.RicherString">getServletPath</a>.<a href="util/RicherString.scala.html#org.scalatra.util;RicherString.blankOption" title="=&gt; Option[String]">blankOption</a> <span title="(default: =&gt; String)String">getOrElse</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
    val <a title="String" id="org.scalatra;ScalatraBase.ensureServletPathStripped.np">np</a> = if <span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.ensureServletPathStripped.path" title="String">path</a>.<span title="(x$1: String)Boolean">startsWith</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.ensureServletPathStripped.sp" title="String">sp</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#org.scalatra;ScalatraBase.ensureServletPathStripped.path" title="String">path</a>.<span title="(x$1: Int)String">substring</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.ensureServletPathStripped.sp" title="String">sp</a>.<span title="()Int">length</span><span class="delimiter">)</span> else <a href="#org.scalatra;ScalatraBase.ensureServletPathStripped.path" title="String">path</a>
    <a href="#org.scalatra;ScalatraBase.ensureSlash" title="(candidate: String)String">ensureSlash</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.ensureServletPathStripped.np" title="String">np</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private<span class="delimiter">[</span>this<span class="delimiter">]</span> def <a title="(path: String)String" id="org.scalatra;ScalatraBase.ensureContextPathStripped">ensureContextPathStripped</a><span class="delimiter">(</span><a title="String" id="org.scalatra;ScalatraBase.ensureContextPathStripped.path">path</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="String" id="org.scalatra;ScalatraBase.ensureContextPathStripped.cp">cp</a> = <a href="#org.scalatra;ScalatraBase.ensureSlash" title="(candidate: String)String">ensureSlash</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.contextPath" title="=&gt; String">contextPath</a><span class="delimiter">)</span>
    val <a title="String" id="org.scalatra;ScalatraBase.ensureContextPathStripped.np">np</a> = if <span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.ensureContextPathStripped.path" title="String">path</a>.<span title="(x$1: String)Boolean">startsWith</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.ensureContextPathStripped.cp" title="String">cp</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#org.scalatra;ScalatraBase.ensureContextPathStripped.path" title="String">path</a>.<span title="(x$1: Int)String">substring</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.ensureContextPathStripped.cp" title="String">cp</a>.<span title="()Int">length</span><span class="delimiter">)</span> else <a href="#org.scalatra;ScalatraBase.ensureContextPathStripped.path" title="String">path</a>
    <a href="#org.scalatra;ScalatraBase.ensureSlash" title="(candidate: String)String">ensureSlash</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.ensureContextPathStripped.np" title="String">np</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private<span class="delimiter">[</span>this<span class="delimiter">]</span> def <a title="(candidate: String)String" id="org.scalatra;ScalatraBase.ensureSlash">ensureSlash</a><span class="delimiter">(</span><a title="String" id="org.scalatra;ScalatraBase.ensureSlash.candidate">candidate</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="String" id="org.scalatra;ScalatraBase.ensureSlash.p">p</a> = if <span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.ensureSlash.candidate" title="String">candidate</a>.<span title="(x$1: String)Boolean">startsWith</span><span class="delimiter">(</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#org.scalatra;ScalatraBase.ensureSlash.candidate" title="String">candidate</a> else <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#org.scalatra;ScalatraBase.ensureSlash.candidate" title="String">candidate</a>
    if <span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.ensureSlash.p" title="String">p</a>.<span title="(x$1: String)Boolean">endsWith</span><span class="delimiter">(</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#org.scalatra;ScalatraBase.ensureSlash.p" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">p</a>.<span title="(n: Int)String">dropRight</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> else <a href="#org.scalatra;ScalatraBase.ensureSlash.p" title="String">p</a>
  <span class="delimiter">}</span>


  protected def <a title="(implicit request: javax.servlet.http.HttpServletRequest)Boolean" id="org.scalatra;ScalatraBase.isHttps">isHttps</a><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra;ScalatraBase.isHttps.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="comment">// also respect load balancer version of the protocol</span>
    val <a title="Option[String]" id="org.scalatra;ScalatraBase.isHttps.h">h</a> = <a href="#org.scalatra;ScalatraBase.isHttps.request" title="javax.servlet.http.HttpServletRequest">request</a>.<span title="(x$1: String)String">getHeader</span><a href="util/RicherString.scala.html#org.scalatra.util.RicherString.stringToRicherString" title="implicit org.scalatra.util.RicherString.stringToRicherString : (s: String)org.scalatra.util.RicherString" class="delimiter">(</a><span title="String(&quot;X-Forwarded-Proto&quot;)" class="string">&quot;X-Forwarded-Proto&quot;</span><span class="delimiter">)</span>.<a href="util/RicherString.scala.html#org.scalatra.util;RicherString.blankOption" title="=&gt; Option[String]">blankOption</a>
    <a href="#org.scalatra;ScalatraBase.isHttps.request" title="javax.servlet.http.HttpServletRequest">request</a>.<span title="()Boolean">isSecure</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.isHttps.h" title="Option[String]">h</a>.<span title="=&gt; Boolean">isDefined</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#org.scalatra;ScalatraBase.isHttps.h" title="Option[String]">h</a>.<span title="(p: String =&gt; Boolean)Boolean">forall</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.isHttps.$anonfun.x$18" title="String">_</a> <span title="(x$1: String)Boolean">equalsIgnoreCase</span> <span title="String(&quot;HTTPS&quot;)" class="string">&quot;HTTPS&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  protected def <a title="=&gt; Boolean" id="org.scalatra;ScalatraBase.needsHttps">needsHttps</a> =
    <span title="util.control.Exception.Catch[Nothing]">allCatch</span>.<span title="(f: Throwable =&gt; Boolean)util.control.Exception.Catch[Boolean]">withApply</span><span title="(body: =&gt; Boolean)Boolean" class="delimiter">(</span><a title="Throwable" id="org.scalatra;ScalatraBase.needsHttps.$anonfun.x$19">_</a> =&gt; false<span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#org.scalatra;ScalatraBase.servletContext" title="=&gt; javax.servlet.ServletContext">servletContext</a>.<span title="(x$1: String)String">getInitParameter</span><a href="util/RicherString.scala.html#org.scalatra.util.RicherString.stringToRicherString" title="implicit org.scalatra.util.RicherString.stringToRicherString : (s: String)org.scalatra.util.RicherString" class="delimiter">(</a><a href="#org.scalatra.ScalatraBase.ForceHttpsKey" title="=&gt; String">ForceHttpsKey</a><span class="delimiter">)</span>.<a href="util/RicherString.scala.html#org.scalatra.util;RicherString.blankOption" title="=&gt; Option[String]">blankOption</a>.<span title="(f: String =&gt; Boolean)Option[Boolean]">map</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.needsHttps.$anonfun.x$20" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">_</a>.<span title="=&gt; Boolean">toBoolean</span><span class="delimiter">)</span> <span title="(default: =&gt; Boolean)Boolean">getOrElse</span> false
    <span class="delimiter">}</span>

  <span class="comment">/**
   * Sends a redirect response and immediately halts the current action.
   */</span>
  def <a title="(uri: String)(implicit request: javax.servlet.http.HttpServletRequest, implicit response: javax.servlet.http.HttpServletResponse)Nothing" id="org.scalatra;ScalatraBase.redirect">redirect</a><span class="delimiter">(</span><a title="String" id="org.scalatra;ScalatraBase.redirect.uri">uri</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra;ScalatraBase.redirect.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span>, <a title="javax.servlet.http.HttpServletResponse" id="org.scalatra;ScalatraBase.redirect.response">response</a>: <span title="javax.servlet.http.HttpServletResponse">HttpServletResponse</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="control.scala.html#org.scalatra;Control.halt(7895b1044b)" title="(result: org.scalatra.ActionResult)Nothing">halt</a><span class="delimiter">(</span><a href="ActionResult.scala.html#org.scalatra.Found.apply" title="(location: String, headers: Map[String,String], reason: String)org.scalatra.ActionResult">Found</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.fullUrl$default$2" title="Iterable[(String, Any)] @scala.reflect.internal.annotations.uncheckedBounds" id="org.scalatra;ScalatraBase.redirect.x$41">fullUrl</a><a href="#org.scalatra;ScalatraBase.redirect.request" title="javax.servlet.http.HttpServletRequest" class="delimiter">(</a><a href="#org.scalatra;ScalatraBase.redirect.uri" title="String" id="org.scalatra;ScalatraBase.redirect.x$37">uri</a>, includeServletPath = false<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The base path for URL generation
   */</span>
  protected def <a title="(implicit request: javax.servlet.http.HttpServletRequest)String" id="org.scalatra;ScalatraBase.routeBasePath">routeBasePath</a><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra;ScalatraBase.routeBasePath.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span>: <span title="String">String</span>

  <span class="comment">/**
   * Builds a full URL from the given relative path. Takes into account the port configuration, https, ...
   *
   * @param path a relative path
   *
   * @return the full URL
   */</span>
  def <a title="(path: String, params: Iterable[(String, Any)], includeContextPath: Boolean, includeServletPath: Boolean, withSessionId: Boolean)(implicit request: javax.servlet.http.HttpServletRequest, implicit response: javax.servlet.http.HttpServletResponse)String" id="org.scalatra;ScalatraBase.fullUrl">fullUrl</a><span class="delimiter">(</span><a title="String" id="org.scalatra;ScalatraBase.fullUrl.path">path</a>: <span title="String">String</span>, <a title="Iterable[(String, Any)]" id="org.scalatra;ScalatraBase.fullUrl$default$2">params</a>: <span title="Iterable[(String, Any)]">Iterable</span><span class="delimiter">[</span><span class="delimiter">(</span>String, Any<span class="delimiter">)</span><span class="delimiter">]</span> = <span title="=&gt; collection.Iterable.type">Iterable</span>.<span title="Iterable[Nothing]">empty</span>, <a title="Boolean" id="org.scalatra;ScalatraBase.fullUrl$default$3">includeContextPath</a>: <span title="Boolean">Boolean</span> = true, <a title="Boolean" id="org.scalatra;ScalatraBase.fullUrl$default$4">includeServletPath</a>: <span title="Boolean">Boolean</span> = true, <a title="Boolean" id="org.scalatra;ScalatraBase.fullUrl$default$5">withSessionId</a>: <span title="Boolean">Boolean</span> = true<span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra;ScalatraBase.fullUrl.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span>, <a title="javax.servlet.http.HttpServletResponse" id="org.scalatra;ScalatraBase.fullUrl.response">response</a>: <span title="javax.servlet.http.HttpServletResponse">HttpServletResponse</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.fullUrl.path" title="String">path</a>.<span title="(x$1: String)Boolean">startsWith</span><span class="delimiter">(</span><span title="String(&quot;http&quot;)" class="string">&quot;http&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#org.scalatra;ScalatraBase.fullUrl.path" title="String">path</a>
    else <span class="delimiter">{</span>
      val <a title="String" id="org.scalatra;ScalatraBase.fullUrl.p">p</a> = <a href="#org.scalatra;ScalatraBase.url" title="(path: String, params: Iterable[(String, Any)], includeContextPath: Boolean, includeServletPath: Boolean, absolutize: Boolean, withSessionId: Boolean)(implicit request: javax.servlet.http.HttpServletRequest, implicit response: javax.servlet.http.HttpServletResponse)String">url</a><a href="#org.scalatra;ScalatraBase.fullUrl.request" title="javax.servlet.http.HttpServletRequest" class="delimiter">(</a><a href="#org.scalatra;ScalatraBase.fullUrl.path" title="String">path</a>, <a href="#org.scalatra;ScalatraBase.fullUrl$default$2" title="Iterable[(String, Any)]">params</a>, <a href="#org.scalatra;ScalatraBase.fullUrl$default$3" title="Boolean">includeContextPath</a>, <a href="#org.scalatra;ScalatraBase.fullUrl$default$4" title="Boolean">includeServletPath</a>, <a href="#org.scalatra;ScalatraBase.fullUrl$default$5" title="Boolean">withSessionId</a><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.fullUrl.p" title="String">p</a>.<span title="(x$1: String)Boolean">startsWith</span><span class="delimiter">(</span><span title="String(&quot;http&quot;)" class="string">&quot;http&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#org.scalatra;ScalatraBase.fullUrl.p" title="String">p</a> else <a href="#org.scalatra;ScalatraBase.buildBaseUrl" title="(implicit request: javax.servlet.http.HttpServletRequest)String">buildBaseUrl</a> <span title="(x$1: Any)String">+</span> <a href="#org.scalatra;ScalatraBase.ensureSlash" title="(candidate: String)String">ensureSlash</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.fullUrl.p" title="String">p</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  private<span class="delimiter">[</span>this<span class="delimiter">]</span> def <a title="(implicit request: javax.servlet.http.HttpServletRequest)String" id="org.scalatra;ScalatraBase.buildBaseUrl">buildBaseUrl</a><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra;ScalatraBase.buildBaseUrl.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s://%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
      if <span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.needsHttps" title="=&gt; Boolean">needsHttps</a> <span title="(x: Boolean)Boolean">||</span> <a href="#org.scalatra;ScalatraBase.isHttps" title="(implicit request: javax.servlet.http.HttpServletRequest)Boolean">isHttps</a><span class="delimiter">)</span> <span title="String(&quot;https&quot;)" class="string">&quot;https&quot;</span> else <span title="String(&quot;http&quot;)" class="string">&quot;http&quot;</span>,
      <a href="#org.scalatra;ScalatraBase.serverAuthority" title="(implicit request: javax.servlet.http.HttpServletRequest)String">serverAuthority</a>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private<span class="delimiter">[</span>this<span class="delimiter">]</span> def <a title="(implicit request: javax.servlet.http.HttpServletRequest)String" id="org.scalatra;ScalatraBase.serverAuthority">serverAuthority</a><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra;ScalatraBase.serverAuthority.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="Int" id="org.scalatra;ScalatraBase.serverAuthority.p">p</a> = <a href="#org.scalatra;ScalatraBase.serverPort" title="(implicit request: javax.servlet.http.HttpServletRequest)Int">serverPort</a>
    val <a title="String" id="org.scalatra;ScalatraBase.serverAuthority.h">h</a> = <a href="#org.scalatra;ScalatraBase.serverHost" title="(implicit request: javax.servlet.http.HttpServletRequest)String">serverHost</a>
    if <span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.serverAuthority.p" title="Int">p</a> <span title="(x: Int)Boolean">==</span> <span title="Int(80)" class="int">80</span> <span title="(x: Boolean)Boolean">||</span> <a href="#org.scalatra;ScalatraBase.serverAuthority.p" title="Int">p</a> <span title="(x: Int)Boolean">==</span> <span title="Int(443)" class="int">443</span><span class="delimiter">)</span> <a href="#org.scalatra;ScalatraBase.serverAuthority.h" title="String">h</a> else <a href="#org.scalatra;ScalatraBase.serverAuthority.h" title="String">h</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#org.scalatra;ScalatraBase.serverAuthority.p" title="Int">p</a>.<span title="()String">toString</span>
  <span class="delimiter">}</span>

  def <a title="(implicit request: javax.servlet.http.HttpServletRequest)String" id="org.scalatra;ScalatraBase.serverHost">serverHost</a><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra;ScalatraBase.serverHost.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#org.scalatra;ScalatraBase.initParameter" title="(name: String)Option[String]">initParameter</a><span class="delimiter">(</span><a href="#org.scalatra.ScalatraBase.HostNameKey" title="=&gt; String">HostNameKey</a><span class="delimiter">)</span>.<span title="(f: String =&gt; Option[String])Option[String]">flatMap</span><span class="delimiter">(</span><a href="util/RicherString.scala.html#org.scalatra.util.RicherString.stringToRicherString" title="implicit org.scalatra.util.RicherString.stringToRicherString : (s: String)org.scalatra.util.RicherString">_</a>.<a href="util/RicherString.scala.html#org.scalatra.util;RicherString.blankOption" title="=&gt; Option[String]">blankOption</a><span class="delimiter">)</span> <span title="(default: =&gt; String)String">getOrElse</span> <a href="#org.scalatra;ScalatraBase.serverHost.request" title="javax.servlet.http.HttpServletRequest">request</a>.<span title="()String">getServerName</span>
  <span class="delimiter">}</span>

  def <a title="(implicit request: javax.servlet.http.HttpServletRequest)Int" id="org.scalatra;ScalatraBase.serverPort">serverPort</a><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra;ScalatraBase.serverPort.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#org.scalatra;ScalatraBase.initParameter" title="(name: String)Option[String]">initParameter</a><span class="delimiter">(</span><a href="#org.scalatra.ScalatraBase.PortKey" title="=&gt; String">PortKey</a><span class="delimiter">)</span>.<span title="(f: String =&gt; Option[String])Option[String]">flatMap</span><span class="delimiter">(</span><a href="util/RicherString.scala.html#org.scalatra.util.RicherString.stringToRicherString" title="implicit org.scalatra.util.RicherString.stringToRicherString : (s: String)org.scalatra.util.RicherString">_</a>.<a href="util/RicherString.scala.html#org.scalatra.util;RicherString.blankOption" title="=&gt; Option[String]">blankOption</a><span class="delimiter">)</span>.<span title="(f: String =&gt; Int)Option[Int]">map</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.serverPort.$anonfun.x$23" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">_</a>.<span title="=&gt; Int">toInt</span><span class="delimiter">)</span> <span title="(default: =&gt; Int)Int">getOrElse</span> <a href="#org.scalatra;ScalatraBase.serverPort.request" title="javax.servlet.http.HttpServletRequest">request</a>.<span title="()Int">getServerPort</span>
  <span class="delimiter">}</span>

  protected def <a title="=&gt; String" id="org.scalatra;ScalatraBase.contextPath">contextPath</a>: <span title="String">String</span> = <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichServletContext" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichServletContext : (servletContext: javax.servlet.ServletContext)org.scalatra.servlet.RichServletContext">servletContext</a>.<a href="servlet/RichServletContext.scala.html#org.scalatra.servlet;RichServletContext.contextPath" title="=&gt; String">contextPath</a>

  <span class="comment">/**
   * Gets an init paramter from the config.
   *
   * @param name the name of the key
   *
   * @return an option containing the value of the parameter if defined, or
   *         `None` if the parameter is not set.
   */</span>
  def <a title="(name: String)Option[String]" id="org.scalatra;ScalatraBase.initParameter">initParameter</a><span class="delimiter">(</span><a title="String" id="org.scalatra;ScalatraBase.initParameter.name">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    <a href="Initializable.scala.html#org.scalatra;Initializable.configWrapper" title="implicit org.scalatra.Initializable.configWrapper : (config: ScalatraBase.this.ConfigT)ScalatraBase.this.Config">config</a>.<a href="Initializable.scala.html#org.scalatra;Initializable;Config.initParameters" title="=&gt; Map[String,String]">initParameters</a>.<span title="(key: String)Option[String]">get</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.initParameter.name" title="String">name</a><span class="delimiter">)</span> <span title="(alternative: =&gt; Option[String])Option[String]">orElse</span> <span class="delimiter">{</span>
      <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichServletContext" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichServletContext : (servletContext: javax.servlet.ServletContext)org.scalatra.servlet.RichServletContext">servletContext</a>.<a href="servlet/RichServletContext.scala.html#org.scalatra.servlet;RichServletContext.initParameters" title="org.scalatra.servlet.RichServletContext#initParameters.type">initParameters</a>.<a href="servlet/RichServletContext.scala.html#org.scalatra.servlet;RichServletContext.initParameters.get" title="(key: String)Option[String]">get</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.initParameter.name" title="String">name</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  def <a title="=&gt; String" id="org.scalatra;ScalatraBase.environment">environment</a>: <span title="String">String</span> = sys.<span title="=&gt; scala.sys.SystemProperties">props</span>.<span title="(key: String)Option[String]">get</span><span class="delimiter">(</span><a href="package.scala.html#org.scalatra.package.EnvironmentKey" title="=&gt; String">EnvironmentKey</a><span class="delimiter">)</span> <span title="(alternative: =&gt; Option[String])Option[String]">orElse</span> <a href="#org.scalatra;ScalatraBase.initParameter" title="(name: String)Option[String]">initParameter</a><span class="delimiter">(</span><a href="package.scala.html#org.scalatra.package.EnvironmentKey" title="=&gt; String">EnvironmentKey</a><span class="delimiter">)</span> <span title="(default: =&gt; String)String">getOrElse</span> <span title="String(&quot;DEVELOPMENT&quot;)" class="string">&quot;DEVELOPMENT&quot;</span>

  <span class="comment">/**
   * A boolean flag representing whether the kernel is in development mode.
   * The default is true if the `environment` begins with &quot;dev&quot;, case-insensitive.
   */</span>
  def <a title="=&gt; Boolean" id="org.scalatra;ScalatraBase.isDevelopmentMode">isDevelopmentMode</a> = <a href="#org.scalatra;ScalatraBase.environment" title="=&gt; String">environment</a>.<span title="()String">toUpperCase</span>.<span title="(x$1: String)Boolean">startsWith</span><span class="delimiter">(</span><span title="String(&quot;DEV&quot;)" class="string">&quot;DEV&quot;</span><span class="delimiter">)</span>


  <span class="comment">/**
   * The effective path against which routes are matched.  The definition
   * varies between servlets and filters.
   */</span>
  def <a title="(implicit request: javax.servlet.http.HttpServletRequest)String" id="org.scalatra;ScalatraBase.requestPath">requestPath</a><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra;ScalatraBase.requestPath.request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span>: <span title="String">String</span>

  protected def <a title="(uri: String)(implicit response: javax.servlet.http.HttpServletResponse)String" id="org.scalatra;ScalatraBase.addSessionId">addSessionId</a><span class="delimiter">(</span><a title="String" id="org.scalatra;ScalatraBase.addSessionId.uri">uri</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletResponse" id="org.scalatra;ScalatraBase.addSessionId.response">response</a>: <span title="javax.servlet.http.HttpServletResponse">HttpServletResponse</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#org.scalatra;ScalatraBase.addSessionId.response" title="javax.servlet.http.HttpServletResponse">response</a>.<span title="(x$1: String)String">encodeURL</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.addSessionId.uri" title="String">uri</a><span class="delimiter">)</span>

  def <a title="(key: String)(implicit request: javax.servlet.http.HttpServletRequest)Seq[String]" id="org.scalatra;ScalatraBase.multiParams(2fe900463a)">multiParams</a><span class="delimiter">(</span><a title="String" id="org.scalatra;ScalatraBase.multiParams(2fe900463a).key">key</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra;ScalatraBase.multiParams(2fe900463a).request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#org.scalatra;ScalatraBase.multiParams(53d1ef321f)" title="(implicit request: javax.servlet.http.HttpServletRequest)org.scalatra.MultiParams">multiParams</a><span title="(key: String)Seq[String]" class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.multiParams(2fe900463a).request" title="javax.servlet.http.HttpServletRequest">request</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.multiParams(2fe900463a).key" title="String">key</a><span class="delimiter">)</span>
  <span class="comment">/**
   * The current multiparams.  Multiparams are a result of merging the
   * standard request params (query string or post params) with the route
   * parameters extracted from the route matchers of the current route.
   * The default value for an unknown param is the empty sequence.  Invalid
   * outside `handle`.
   */</span>
  def <a title="(implicit request: javax.servlet.http.HttpServletRequest)org.scalatra.MultiParams" id="org.scalatra;ScalatraBase.multiParams(53d1ef321f)">multiParams</a><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra;ScalatraBase.multiParams(53d1ef321f).request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span>: <a href="util/MultiMap.scala.html#org.scalatra.util;MultiMap" title="org.scalatra.MultiParams">MultiParams</a> = <span class="delimiter">{</span>
    val <a title="Boolean" id="org.scalatra;ScalatraBase.multiParams(53d1ef321f).read">read</a> = <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichRequest" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichRequest : (request: javax.servlet.http.HttpServletRequest)org.scalatra.servlet.RichRequest">request</a>.<span title="(key: String)Boolean">contains</span><span class="delimiter">(</span><span title="String(&quot;MultiParamsRead&quot;)" class="string">&quot;MultiParamsRead&quot;</span><span class="delimiter">)</span>
    val found = <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichRequest" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichRequest : (request: javax.servlet.http.HttpServletRequest)org.scalatra.servlet.RichRequest">request</a>.<a href="servlet/AttributesMap.scala.html#org.scalatra.servlet;AttributesMap.get(adc3586498)" title="(key: String)Option[Any]">get</a><span class="delimiter">(</span><a href="package.scala.html#org.scalatra.package.MultiParamsKey" title="=&gt; String">MultiParamsKey</a><span class="delimiter">)</span> <a title="Option[scala.collection.immutable.Map[String,Seq[String]]]" id="org.scalatra;ScalatraBase.multiParams(53d1ef321f).found">map</a> <span class="delimiter">(</span>
     <a href="#org.scalatra;ScalatraBase.multiParams(53d1ef321f).found.$anonfun.x$24" title="Any">_</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.scalatra.MultiParams" class="delimiter">[</span><a href="util/MultiMap.scala.html#org.scalatra.util;MultiMap" title="org.scalatra.MultiParams">MultiParams</a><span class="delimiter">]</span> <span title="(xs: scala.collection.GenTraversableOnce[(String, Seq[String])])scala.collection.immutable.Map[String,Seq[String]]">++</span> <span class="delimiter">(</span>if <span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.multiParams(53d1ef321f).read" title="Boolean">read</a><span class="delimiter">)</span> <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[Nothing,Nothing]">empty</span> else <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichRequest" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichRequest : (request: javax.servlet.http.HttpServletRequest)org.scalatra.servlet.RichRequest">request</a>.<a href="servlet/RichRequest.scala.html#org.scalatra.servlet;RichRequest.multiParameters" title="=&gt; org.scalatra.MultiParams">multiParameters</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    val multi = <a href="#org.scalatra;ScalatraBase.multiParams(53d1ef321f).found" title="Option[scala.collection.immutable.Map[String,Seq[String]]]">found</a> <a title="scala.collection.immutable.Map[String,Seq[String]]" id="org.scalatra;ScalatraBase.multiParams(53d1ef321f).multi">getOrElse</a> <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichRequest" title="implicit org.scalatra.servlet.ServletApiImplicits.enrichRequest : (request: javax.servlet.http.HttpServletRequest)org.scalatra.servlet.RichRequest">request</a>.<a href="servlet/RichRequest.scala.html#org.scalatra.servlet;RichRequest.multiParameters" title="=&gt; org.scalatra.MultiParams">multiParameters</a>
    <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichRequest" title="(key: String, value: Any)Unit">request</a><span class="delimiter">(</span><span title="String(&quot;MultiParamsRead&quot;)" class="string">&quot;MultiParamsRead&quot;</span><span class="delimiter">)</span> = new <a title="&lt;$anon: AnyRef&gt; extends AnyRef" id="org.scalatra;ScalatraBase.multiParams(53d1ef321f);$anon" class="delimiter">{</a><span class="delimiter">}</span>
    <a href="servlet/ServletApiImplicits.scala.html#org.scalatra.servlet;ServletApiImplicits.enrichRequest" title="(key: String, value: Any)Unit">request</a><span class="delimiter">(</span><a href="package.scala.html#org.scalatra.package.MultiParamsKey" title="=&gt; String">MultiParamsKey</a><span class="delimiter">)</span> = <a href="#org.scalatra;ScalatraBase.multiParams(53d1ef321f).multi" title="scala.collection.immutable.Map[String,Seq[String]]">multi</a>
    <a href="#org.scalatra;ScalatraBase.multiParams(53d1ef321f).multi" title="scala.collection.immutable.Map[String,Seq[String]]">multi</a>.<span title="(d: Seq[String])scala.collection.immutable.Map[String,Seq[String]]">withDefaultValue</span><a href="util/MultiMap.scala.html#org.scalatra.util.MultiMap.map2MultiMap" title="implicit org.scalatra.util.MultiMap.map2MultiMap : (map: scala.collection.immutable.Map[String,Seq[String]])org.scalatra.util.MultiMap" class="delimiter">(</a><span title="scala.collection.Seq.type">Seq</span>.<span title="Seq[Nothing]">empty</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(key: String)(implicit request: javax.servlet.http.HttpServletRequest)String" id="org.scalatra;ScalatraBase.params(3a8be32ac5)">params</a><span class="delimiter">(</span><a title="String" id="org.scalatra;ScalatraBase.params(3a8be32ac5).key">key</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra;ScalatraBase.params(3a8be32ac5).request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#org.scalatra;ScalatraBase.params(253444d747)" title="(implicit request: javax.servlet.http.HttpServletRequest)org.scalatra.Params">params</a><span title="(key: String)String" class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.params(3a8be32ac5).request" title="javax.servlet.http.HttpServletRequest">request</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.params(3a8be32ac5).key" title="String">key</a><span class="delimiter">)</span>
  def <a title="(key: Symbol)(implicit request: javax.servlet.http.HttpServletRequest)String" id="org.scalatra;ScalatraBase.params(92b8918a71)">params</a><span class="delimiter">(</span><a title="Symbol" id="org.scalatra;ScalatraBase.params(92b8918a71).key">key</a>: <span title="Symbol">Symbol</span><span class="delimiter">)</span><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra;ScalatraBase.params(92b8918a71).request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#org.scalatra;ScalatraBase.params(253444d747)" title="(implicit request: javax.servlet.http.HttpServletRequest)org.scalatra.Params">params</a><a href="util/MapWithIndifferentAccess.scala.html#org.scalatra.util;MapWithIndifferentAccess.apply(1a505e6165)" title="(key: Symbol)String" class="delimiter">(</a><a href="#org.scalatra;ScalatraBase.params(92b8918a71).request" title="javax.servlet.http.HttpServletRequest">request</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.params(92b8918a71).key" title="Symbol">key</a><span class="delimiter">)</span>
  def <a title="(implicit request: javax.servlet.http.HttpServletRequest)org.scalatra.Params" id="org.scalatra;ScalatraBase.params(253444d747)">params</a><span class="delimiter">(</span>implicit <a title="javax.servlet.http.HttpServletRequest" id="org.scalatra;ScalatraBase.params(253444d747).request">request</a>: <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span>: <a href="package.scala.html#org.scalatra.package;<refinement>" title="org.scalatra.Params">Params</a> = new <a href="ScalatraContext.scala.html#org.scalatra;ScalatraParams" title="org.scalatra.ScalatraParams">ScalatraParams</a><span class="delimiter">(</span><a href="#org.scalatra;ScalatraBase.multiParams(53d1ef321f)" title="(implicit request: javax.servlet.http.HttpServletRequest)org.scalatra.MultiParams">multiParams</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
