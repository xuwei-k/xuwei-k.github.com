<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/tools/scalap/scalax/rules/Rules.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">// -----------------------------------------------------------------------------</span>
<span class="comment">//</span>
<span class="comment">//  Scalax - The Scala Community Library</span>
<span class="comment">//  Copyright (c) 2005-8 The Scalax Project. All rights reserved.</span>
<span class="comment">//</span>
<span class="comment">//  The primary distribution site is http://scalax.scalaforge.org/</span>
<span class="comment">//</span>
<span class="comment">//  This software is released under the terms of the Revised BSD License.</span>
<span class="comment">//  There is NO WARRANTY.  See the file LICENSE for the full text.</span>
<span class="comment">//</span>
<span class="comment">// -----------------------------------------------------------------------------</span>

package scala.tools.scalap
package scalax
package rules

import <a href="../../../../language.scala.html#scala.language" title="language.type">language</a>.postfixOps

trait <a title="trait Name extends AnyRef" id="scala.tools.scalap.scalax.rules;Name">Name</a> <a href="../../../../Unit.scala.html#scala;Unit" title="Unit" class="delimiter">{</a>
  def <a title="=&gt; String" id="scala.tools.scalap.scalax.rules;Name.name">name</a>: <span title="String">String</span>
  override def <a title="()String" id="scala.tools.scalap.scalax.rules;Name.toString">toString</a> = <a href="#scala.tools.scalap.scalax.rules;Name.name" title="=&gt; String">name</a>
<span class="delimiter">}</span>

<span class="comment">/** A factory for rules.
  *
  * @author Andrew Foggin
  *
  * Inspired by the Scala parser combinator.
  */</span>
trait <a title="trait Rules extends AnyRef" id="scala.tools.scalap.scalax.rules;Rules">Rules</a> <a href="../../../../Unit.scala.html#scala;Unit" title="Unit" class="delimiter">{</a>

  import scala.<a href="../../../../language.scala.html#scala.language" title="language.type">language</a>.implicitConversions
  implicit def <a title="[In, Out, A, X](f: In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X])scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]" id="scala.tools.scalap.scalax.rules;Rules.rule">rule</a><span class="delimiter">[</span><a title="" id="scala.tools.scalap.scalax.rules;Rules.rule;In">In</a>, <a title="" id="scala.tools.scalap.scalax.rules;Rules.rule;Out">Out</a>, <a title="" id="scala.tools.scalap.scalax.rules;Rules.rule;A">A</a>, <a title="" id="scala.tools.scalap.scalax.rules;Rules.rule;X">X</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X]" id="scala.tools.scalap.scalax.rules;Rules.rule.f">f</a>: In =&gt; Result<span class="delimiter">[</span>Out, A, X<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Rule.scala.html#scala.tools.scalap.scalax.rules;Rule" title="scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]">Rule</a><span class="delimiter">[</span>In, Out, A, X<span class="delimiter">]</span> = new <a href="#scala.tools.scalap.scalax.rules;Rules;DefaultRule" title="Rules.this.DefaultRule[In,Out,A,X]">DefaultRule</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;Rules.rule.f" title="In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X]">f</a><span class="delimiter">)</span>
  implicit def <a title="[In, Out, A, X](rule: scala.tools.scalap.scalax.rules.Rule[In,Out,A,X])scala.tools.scalap.scalax.rules.InRule[In,Out,A,X]" id="scala.tools.scalap.scalax.rules;Rules.inRule">inRule</a><span class="delimiter">[</span><a title="" id="scala.tools.scalap.scalax.rules;Rules.inRule;In">In</a>, <a title="" id="scala.tools.scalap.scalax.rules;Rules.inRule;Out">Out</a>, <a title="" id="scala.tools.scalap.scalax.rules;Rules.inRule;A">A</a>, <a title="" id="scala.tools.scalap.scalax.rules;Rules.inRule;X">X</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]" id="scala.tools.scalap.scalax.rules;Rules.inRule.rule">rule</a>: <a href="Rule.scala.html#scala.tools.scalap.scalax.rules;Rule" title="scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]">Rule</a><span class="delimiter">[</span>In, Out, A, X<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="SeqRule.scala.html#scala.tools.scalap.scalax.rules;InRule" title="scala.tools.scalap.scalax.rules.InRule[In,Out,A,X]">InRule</a><span class="delimiter">[</span>In, Out, A, X<span class="delimiter">]</span> = new <a href="SeqRule.scala.html#scala.tools.scalap.scalax.rules;InRule" title="scala.tools.scalap.scalax.rules.InRule[In,Out,A,X]">InRule</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;Rules.inRule.rule" title="scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]">rule</a><span class="delimiter">)</span>
  implicit def <a title="[In, A, X](rule: scala.tools.scalap.scalax.rules.Rule[In,In,A,X])scala.tools.scalap.scalax.rules.SeqRule[In,A,X]" id="scala.tools.scalap.scalax.rules;Rules.seqRule">seqRule</a><span class="delimiter">[</span><a title="" id="scala.tools.scalap.scalax.rules;Rules.seqRule;In">In</a>, <a title="" id="scala.tools.scalap.scalax.rules;Rules.seqRule;A">A</a>, <a title="" id="scala.tools.scalap.scalax.rules;Rules.seqRule;X">X</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.tools.scalap.scalax.rules.Rule[In,In,A,X]" id="scala.tools.scalap.scalax.rules;Rules.seqRule.rule">rule</a>: <a href="Rule.scala.html#scala.tools.scalap.scalax.rules;Rule" title="scala.tools.scalap.scalax.rules.Rule[In,In,A,X]">Rule</a><span class="delimiter">[</span>In, In, A, X<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="SeqRule.scala.html#scala.tools.scalap.scalax.rules;SeqRule" title="scala.tools.scalap.scalax.rules.SeqRule[In,A,X]">SeqRule</a><span class="delimiter">[</span>In, A, X<span class="delimiter">]</span> = new <a href="SeqRule.scala.html#scala.tools.scalap.scalax.rules;SeqRule" title="scala.tools.scalap.scalax.rules.SeqRule[In,A,X]">SeqRule</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;Rules.seqRule.rule" title="scala.tools.scalap.scalax.rules.Rule[In,In,A,X]">rule</a><span class="delimiter">)</span>

  trait <a title="trait FromRule[In] extends AnyRef" id="scala.tools.scalap.scalax.rules;Rules;FromRule">FromRule</a><span class="delimiter">[</span><a title="" id="scala.tools.scalap.scalax.rules;Rules;FromRule;In">In</a><span class="delimiter">]</span> <span class="delimiter">{</span>
    def <a title="[Out, A, X](f: In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X])scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]" id="scala.tools.scalap.scalax.rules;Rules;FromRule.apply">apply</a><span class="delimiter">[</span><a title="" id="scala.tools.scalap.scalax.rules;Rules;FromRule.apply;Out">Out</a>, <a title="" id="scala.tools.scalap.scalax.rules;Rules;FromRule.apply;A">A</a>, <a title="" id="scala.tools.scalap.scalax.rules;Rules;FromRule.apply;X">X</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X]" id="scala.tools.scalap.scalax.rules;Rules;FromRule.apply.f">f</a>: In =&gt; Result<span class="delimiter">[</span>Out, A, X<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Rule.scala.html#scala.tools.scalap.scalax.rules;Rule" title="scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]">Rule</a><span class="delimiter">[</span>In, Out, A, X<span class="delimiter">]</span>
  <span class="delimiter">}</span>

  def <a title="[In]=&gt; Rules.this.FromRule[In]" id="scala.tools.scalap.scalax.rules;Rules.from">from</a><span class="delimiter">[</span><a title="" id="scala.tools.scalap.scalax.rules;Rules.from;In">In</a><span class="delimiter">]</span> = new <a title="&lt;$anon: Rules.this.FromRule[In]&gt; extends AnyRef with Rules.this.FromRule[In]" id="scala.tools.scalap.scalax.rules;Rules.from;$anon">FromRule</a><span class="delimiter">[</span>In<span class="delimiter">]</span> <span class="delimiter">{</span>
    def <a title="[Out, A, X](f: In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X])scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]" id="scala.tools.scalap.scalax.rules;Rules.from;$anon.apply">apply</a><span class="delimiter">[</span><a title="" id="scala.tools.scalap.scalax.rules;Rules.from;$anon.apply;Out">Out</a>, <a title="" id="scala.tools.scalap.scalax.rules;Rules.from;$anon.apply;A">A</a>, <a title="" id="scala.tools.scalap.scalax.rules;Rules.from;$anon.apply;X">X</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X]" id="scala.tools.scalap.scalax.rules;Rules.from;$anon.apply.f">f</a>: In =&gt; Result<span class="delimiter">[</span>Out, A, X<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#scala.tools.scalap.scalax.rules;Rules.rule" title="(f: In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X])scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]">rule</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;Rules.from;$anon.apply.f" title="In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X]">f</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="[s]=&gt; scala.tools.scalap.scalax.rules.StateRules{type S = s}" id="scala.tools.scalap.scalax.rules;Rules.state">state</a><span class="delimiter">[</span><a title="" id="scala.tools.scalap.scalax.rules;Rules.state;s">s</a><span class="delimiter">]</span> = new <a title="&lt;$anon: scala.tools.scalap.scalax.rules.StateRules&gt; extends AnyRef with scala.tools.scalap.scalax.rules.StateRules" id="scala.tools.scalap.scalax.rules;Rules.state;$anon">StateRules</a> <span class="delimiter">{</span>
    type <a title="s" id="scala.tools.scalap.scalax.rules;Rules.state;$anon;S">S</a> = <a href="#scala.tools.scalap.scalax.rules;Rules.state;s" title="s">s</a>
    val <a title="scala.tools.scalap.scalax.rules.Rules" id="scala.tools.scalap.scalax.rules;Rules.state;$anon.factory">factory</a> = <a href="#scala.tools.scalap.scalax.rules;Rules" title="scala.tools.scalap.scalax.rules.Rules">Rules</a>.this
  <span class="delimiter">}</span>

  def <a title="[Out, A](out: Out, a: A)scala.tools.scalap.scalax.rules.Rule[Any,Out,A,Nothing]" id="scala.tools.scalap.scalax.rules;Rules.success">success</a><span class="delimiter">[</span><a title="" id="scala.tools.scalap.scalax.rules;Rules.success;Out">Out</a>, <a title="" id="scala.tools.scalap.scalax.rules;Rules.success;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Out" id="scala.tools.scalap.scalax.rules;Rules.success.out">out</a>: <a href="#scala.tools.scalap.scalax.rules;Rules.success;Out" title="Out">Out</a>, <a title="A" id="scala.tools.scalap.scalax.rules;Rules.success.a">a</a>: <a href="#scala.tools.scalap.scalax.rules;Rules.success;A" title="A">A</a><span class="delimiter">)</span> = <a href="#scala.tools.scalap.scalax.rules;Rules.rule" title="(f: Any =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,Nothing])scala.tools.scalap.scalax.rules.Rule[Any,Out,A,Nothing]">rule</a> <span class="delimiter">{</span> in: <span title="Any">Any</span> =&gt; <a href="Result.scala.html#scala.tools.scalap.scalax.rules;Success" title="(out: Out, value: A)scala.tools.scalap.scalax.rules.Success[Out,A]">Success</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;Rules.success.out" title="Out">out</a>, <a href="#scala.tools.scalap.scalax.rules;Rules.success.a" title="A">a</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  def <a title="=&gt; scala.tools.scalap.scalax.rules.Rule[Any,Nothing,Nothing,Nothing]" id="scala.tools.scalap.scalax.rules;Rules.failure">failure</a> = <a href="#scala.tools.scalap.scalax.rules;Rules.rule" title="(f: Any =&gt; scala.tools.scalap.scalax.rules.Result[Nothing,Nothing,Nothing])scala.tools.scalap.scalax.rules.Rule[Any,Nothing,Nothing,Nothing]">rule</a> <span class="delimiter">{</span> in: <span title="Any">Any</span> =&gt; <a href="Result.scala.html#scala.tools.scalap.scalax.rules.Failure" title="scala.tools.scalap.scalax.rules.Failure.type">Failure</a> <span class="delimiter">}</span>

  def <a title="[In]=&gt; scala.tools.scalap.scalax.rules.Rule[In,Nothing,Nothing,In]" id="scala.tools.scalap.scalax.rules;Rules.error(92c4effb6f)">error</a><span class="delimiter">[</span><a title="" id="scala.tools.scalap.scalax.rules;Rules.error(92c4effb6f);In">In</a><span class="delimiter">]</span> = <a href="#scala.tools.scalap.scalax.rules;Rules.rule" title="(f: In =&gt; scala.tools.scalap.scalax.rules.Result[Nothing,Nothing,In])scala.tools.scalap.scalax.rules.Rule[In,Nothing,Nothing,In]">rule</a> <span class="delimiter">{</span> in: <a href="#scala.tools.scalap.scalax.rules;Rules.error(92c4effb6f);In" title="In">In</a> =&gt; <a href="Result.scala.html#scala.tools.scalap.scalax.rules;Error" title="(error: In)scala.tools.scalap.scalax.rules.Error[In]">Error</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;Rules.error(92c4effb6f).$anonfun.in" title="In">in</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  def <a title="[X](err: X)scala.tools.scalap.scalax.rules.Rule[Any,Nothing,Nothing,X]" id="scala.tools.scalap.scalax.rules;Rules.error(c84d2d572f)">error</a><span class="delimiter">[</span><a title="" id="scala.tools.scalap.scalax.rules;Rules.error(c84d2d572f);X">X</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="X" id="scala.tools.scalap.scalax.rules;Rules.error(c84d2d572f).err">err</a>: <a href="#scala.tools.scalap.scalax.rules;Rules.error(c84d2d572f);X" title="X">X</a><span class="delimiter">)</span> = <a href="#scala.tools.scalap.scalax.rules;Rules.rule" title="(f: Any =&gt; scala.tools.scalap.scalax.rules.Result[Nothing,Nothing,X])scala.tools.scalap.scalax.rules.Rule[Any,Nothing,Nothing,X]">rule</a> <span class="delimiter">{</span> in: <span title="Any">Any</span> =&gt; <a href="Result.scala.html#scala.tools.scalap.scalax.rules;Error" title="(error: X)scala.tools.scalap.scalax.rules.Error[X]">Error</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;Rules.error(c84d2d572f).err" title="X">err</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  def <a title="[In, Out, A, X](rules: scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]*)scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]" id="scala.tools.scalap.scalax.rules;Rules.oneOf">oneOf</a><span class="delimiter">[</span><a title="" id="scala.tools.scalap.scalax.rules;Rules.oneOf;In">In</a>, <a title="" id="scala.tools.scalap.scalax.rules;Rules.oneOf;Out">Out</a>, <a title="" id="scala.tools.scalap.scalax.rules;Rules.oneOf;A">A</a>, <a title="" id="scala.tools.scalap.scalax.rules;Rules.oneOf;X">X</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]*" id="scala.tools.scalap.scalax.rules;Rules.oneOf.rules">rules</a>: <span title="scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]*">Rule</span><span class="delimiter">[</span>In, Out, A, X<span class="delimiter">]</span> *<span class="delimiter">)</span>: <a href="Rule.scala.html#scala.tools.scalap.scalax.rules;Rule" title="scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]">Rule</a><span class="delimiter">[</span>In, Out, A, X<span class="delimiter">]</span> = new <a title="&lt;$anon: In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X]&gt; extends AnyRef with scala.tools.scalap.scalax.rules.Choice[In,Out,A,X]" id="scala.tools.scalap.scalax.rules;Rules.oneOf;$anon">Choice</a><span class="delimiter">[</span>In, Out, A, X<span class="delimiter">]</span> <span class="delimiter">{</span>
    val <a title="scala.tools.scalap.scalax.rules.Rules" id="scala.tools.scalap.scalax.rules;Rules.oneOf;$anon.factory">factory</a> = <a href="#scala.tools.scalap.scalax.rules;Rules" title="scala.tools.scalap.scalax.rules.Rules">Rules</a>.this
    val <a title="List[scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]]" id="scala.tools.scalap.scalax.rules;Rules.oneOf;$anon.choices">choices</a> = <a href="#scala.tools.scalap.scalax.rules;Rules.oneOf.rules" title="scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]*">rules</a>.<a href="../../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toList" title="=&gt; List[scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]]">toList</a>
  <span class="delimiter">}</span>

  def <a title="[In, Out, A, X](_name: String, f: In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X])scala.tools.scalap.scalax.rules.Rule[In,Out,A,X] with scala.tools.scalap.scalax.rules.Name" id="scala.tools.scalap.scalax.rules;Rules.ruleWithName">ruleWithName</a><span class="delimiter">[</span><a title="" id="scala.tools.scalap.scalax.rules;Rules.ruleWithName;In">In</a>, <a title="" id="scala.tools.scalap.scalax.rules;Rules.ruleWithName;Out">Out</a>, <a title="" id="scala.tools.scalap.scalax.rules;Rules.ruleWithName;A">A</a>, <a title="" id="scala.tools.scalap.scalax.rules;Rules.ruleWithName;X">X</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="scala.tools.scalap.scalax.rules;Rules.ruleWithName._name">_name</a>: <span title="String">String</span>, <a title="In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X]" id="scala.tools.scalap.scalax.rules;Rules.ruleWithName.f">f</a>: In =&gt; Result<span class="delimiter">[</span>Out, A, X<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#scala.tools.scalap.scalax.rules;Rules;<refinement>" title="&lt;refinement of In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X] with scala.tools.scalap.scalax.rules.Name&gt; extends scala.tools.scalap.scalax.rules.Rule[In,Out,A,X] with scala.tools.scalap.scalax.rules.Name">Rule</a><span class="delimiter">[</span>In, Out, A, X<span class="delimiter">]</span> with Name =
    new <a title="&lt;$anon: In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X] with scala.tools.scalap.scalax.rules.Name&gt; extends Rules.this.DefaultRule[In,Out,A,X] with scala.tools.scalap.scalax.rules.Name" id="scala.tools.scalap.scalax.rules;Rules.ruleWithName;$anon">DefaultRule</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;Rules.ruleWithName.f" title="In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X]">f</a><span class="delimiter">)</span> with <a href="#scala.tools.scalap.scalax.rules;Name" title="scala.tools.scalap.scalax.rules.Name">Name</a> <span class="delimiter">{</span>
      val <a title="String" id="scala.tools.scalap.scalax.rules;Rules.ruleWithName;$anon.name">name</a> = <a href="#scala.tools.scalap.scalax.rules;Rules.ruleWithName._name" title="String">_name</a>
    <span class="delimiter">}</span>

  class <a title="class DefaultRule[In, Out, A, X] extends AnyRef with scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]" id="scala.tools.scalap.scalax.rules;Rules;DefaultRule">DefaultRule</a><span class="delimiter">[</span><a title="" id="scala.tools.scalap.scalax.rules;Rules;DefaultRule;In">In</a>, <a title="" id="scala.tools.scalap.scalax.rules;Rules;DefaultRule;Out">Out</a>, <a title="" id="scala.tools.scalap.scalax.rules;Rules;DefaultRule;A">A</a>, <a title="" id="scala.tools.scalap.scalax.rules;Rules;DefaultRule;X">X</a><span class="delimiter">]</span><a href="#scala.tools.scalap.scalax.rules;Rules;DefaultRule" title="Rules.this.DefaultRule[In,Out,A,X]" class="delimiter">(</a><a title="In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X]" id="scala.tools.scalap.scalax.rules;Rules;DefaultRule.f">f</a>: In =&gt; Result<span class="delimiter">[</span>Out, A, X<span class="delimiter">]</span><span class="delimiter">)</span> extends <a href="Rule.scala.html#scala.tools.scalap.scalax.rules;Rule" title="scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]">Rule</a><span class="delimiter">[</span>In, Out, A, X<span class="delimiter">]</span> <span class="delimiter">{</span>
    val <a title="scala.tools.scalap.scalax.rules.Rules" id="scala.tools.scalap.scalax.rules;Rules;DefaultRule.factory">factory</a> = <a href="#scala.tools.scalap.scalax.rules;Rules" title="scala.tools.scalap.scalax.rules.Rules">Rules</a>.this
    def <a title="(in: In)scala.tools.scalap.scalax.rules.Result[Out,A,X]" id="scala.tools.scalap.scalax.rules;Rules;DefaultRule.apply">apply</a><span class="delimiter">(</span><a title="In" id="scala.tools.scalap.scalax.rules;Rules;DefaultRule.apply.in">in</a>: <a href="#scala.tools.scalap.scalax.rules;Rules;DefaultRule;In" title="In">In</a><span class="delimiter">)</span> = <a href="../../../../Function1.scala.html#scala;Function1.apply" title="(v1: In)scala.tools.scalap.scalax.rules.Result[Out,A,X]">f</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;Rules;DefaultRule.apply.in" title="In">in</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

 <span class="comment">/** Converts a rule into a function that throws an Exception on failure. */</span>
  def <a title="[In, Out, A, Any](rule: scala.tools.scalap.scalax.rules.Rule[In,Out,A,Any])In =&gt; A" id="scala.tools.scalap.scalax.rules;Rules.expect">expect</a><span class="delimiter">[</span><a title="" id="scala.tools.scalap.scalax.rules;Rules.expect;In">In</a>, <a title="" id="scala.tools.scalap.scalax.rules;Rules.expect;Out">Out</a>, <a title="" id="scala.tools.scalap.scalax.rules;Rules.expect;A">A</a>, <a title="" id="scala.tools.scalap.scalax.rules;Rules.expect;Any">Any</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.tools.scalap.scalax.rules.Rule[In,Out,A,Any]" id="scala.tools.scalap.scalax.rules;Rules.expect.rule">rule</a>: <a href="Rule.scala.html#scala.tools.scalap.scalax.rules;Rule" title="scala.tools.scalap.scalax.rules.Rule[In,Out,A,Any]">Rule</a><span class="delimiter">[</span>In, Out, A, Any<span class="delimiter">]</span><span class="delimiter">)</span>: In =&gt; A = <span class="delimiter">(</span><a title="In" id="scala.tools.scalap.scalax.rules;Rules.expect.$anonfun.in">in</a><span class="delimiter">)</span> =&gt; <a href="../../../../Function1.scala.html#scala;Function1.apply" title="(v1: In)scala.tools.scalap.scalax.rules.Result[Out,A,Any]">rule</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;Rules.expect.$anonfun.in" title="In">in</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
    case Success<span class="delimiter">(</span>_, <a title="A" id="scala.tools.scalap.scalax.rules;Rules.expect.$anonfun.a">a</a><span class="delimiter">)</span> =&gt; <a href="#scala.tools.scalap.scalax.rules;Rules.expect.$anonfun.a" title="A">a</a>
    case <a href="Result.scala.html#scala.tools.scalap.scalax.rules.Failure" title="scala.tools.scalap.scalax.rules.Failure.type">Failure</a> =&gt; throw new <a href="Result.scala.html#scala.tools.scalap.scalax.rules;ScalaSigParserError" title="scala.tools.scalap.scalax.rules.ScalaSigParserError">ScalaSigParserError</a><span class="delimiter">(</span><span title="String(&quot;Unexpected failure&quot;)" class="string">&quot;Unexpected failure&quot;</span><span class="delimiter">)</span>
    case Error<span class="delimiter">(</span><a title="Any" id="scala.tools.scalap.scalax.rules;Rules.expect.$anonfun.x">x</a><span class="delimiter">)</span> =&gt; throw new <a href="Result.scala.html#scala.tools.scalap.scalax.rules;ScalaSigParserError" title="scala.tools.scalap.scalax.rules.ScalaSigParserError">ScalaSigParserError</a><span class="delimiter">(</span><span title="String(&quot;Unexpected error: &quot;)" class="string">&quot;Unexpected error: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.scalap.scalax.rules;Rules.expect.$anonfun.x" title="Any">x</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/** A factory for rules that apply to a particular context.
  *
  * @requires S the context to which rules apply.
  *
  * @author Andrew Foggin
  *
  * Inspired by the Scala parser combinator.
  */</span>
trait <a title="trait StateRules extends AnyRef" id="scala.tools.scalap.scalax.rules;StateRules">StateRules</a> <a href="../../../../Unit.scala.html#scala;Unit" title="Unit" class="delimiter">{</a>
  type <a title="" id="scala.tools.scalap.scalax.rules;StateRules;S">S</a>
  type <a title="[+A, +X]scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,A,X]" id="scala.tools.scalap.scalax.rules;StateRules;Rule">Rule</a><span class="delimiter">[</span>+<a title="" id="scala.tools.scalap.scalax.rules;StateRules;Rule;A">A</a>, +<a title="" id="scala.tools.scalap.scalax.rules;StateRules;Rule;X">X</a><span class="delimiter">]</span> = rules.<a href="Rule.scala.html#scala.tools.scalap.scalax.rules;Rule" title="scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,A,X]">Rule</a><span class="delimiter">[</span>S, S, A, X<span class="delimiter">]</span>

  val <a title="=&gt; scala.tools.scalap.scalax.rules.Rules" id="scala.tools.scalap.scalax.rules;StateRules.factory">factory</a>: <a href="#scala.tools.scalap.scalax.rules;Rules" title="scala.tools.scalap.scalax.rules.Rules">Rules</a>
  import <a href="#scala.tools.scalap.scalax.rules;StateRules.factory" title="=&gt; scala.tools.scalap.scalax.rules.Rules">factory</a>._

  def <a title="[A, X](f: StateRules.this.S =&gt; scala.tools.scalap.scalax.rules.Result[StateRules.this.S,A,X])scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,A,X]" id="scala.tools.scalap.scalax.rules;StateRules.apply">apply</a><span class="delimiter">[</span><a title="" id="scala.tools.scalap.scalax.rules;StateRules.apply;A">A</a>, <a title="" id="scala.tools.scalap.scalax.rules;StateRules.apply;X">X</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="StateRules.this.S =&gt; scala.tools.scalap.scalax.rules.Result[StateRules.this.S,A,X]" id="scala.tools.scalap.scalax.rules;StateRules.apply.f">f</a>: S =&gt; Result<span class="delimiter">[</span>S, A, X<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#scala.tools.scalap.scalax.rules;Rules.rule" title="(f: StateRules.this.S =&gt; scala.tools.scalap.scalax.rules.Result[StateRules.this.S,A,X])scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,A,X]">rule</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;StateRules.apply.f" title="StateRules.this.S =&gt; scala.tools.scalap.scalax.rules.Result[StateRules.this.S,A,X]">f</a><span class="delimiter">)</span>

  def <a title="[A](a: =&gt; A)scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,A,Nothing]" id="scala.tools.scalap.scalax.rules;StateRules.unit">unit</a><span class="delimiter">[</span><a title="" id="scala.tools.scalap.scalax.rules;StateRules.unit;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="scala.tools.scalap.scalax.rules;StateRules.unit.a">a</a>: =&gt; A<span class="delimiter">)</span> = <a href="#scala.tools.scalap.scalax.rules;StateRules.apply" title="(f: StateRules.this.S =&gt; scala.tools.scalap.scalax.rules.Result[StateRules.this.S,A,Nothing])scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,A,Nothing]">apply</a> <span class="delimiter">{</span> <a title="StateRules.this.S" id="scala.tools.scalap.scalax.rules;StateRules.unit.$anonfun.s">s</a> =&gt; <a href="Result.scala.html#scala.tools.scalap.scalax.rules;Success" title="(out: StateRules.this.S, value: A)scala.tools.scalap.scalax.rules.Success[StateRules.this.S,A]">Success</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;StateRules.unit.$anonfun.s" title="StateRules.this.S">s</a>, <a href="#scala.tools.scalap.scalax.rules;StateRules.unit.a" title="=&gt; A">a</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  def <a title="[A](f: StateRules.this.S =&gt; A)scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,A,Nothing]" id="scala.tools.scalap.scalax.rules;StateRules.read">read</a><span class="delimiter">[</span><a title="" id="scala.tools.scalap.scalax.rules;StateRules.read;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="StateRules.this.S =&gt; A" id="scala.tools.scalap.scalax.rules;StateRules.read.f">f</a>: S =&gt; A<span class="delimiter">)</span> = <a href="#scala.tools.scalap.scalax.rules;StateRules.apply" title="(f: StateRules.this.S =&gt; scala.tools.scalap.scalax.rules.Result[StateRules.this.S,A,Nothing])scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,A,Nothing]">apply</a> <span class="delimiter">{</span> <a title="StateRules.this.S" id="scala.tools.scalap.scalax.rules;StateRules.read.$anonfun.s">s</a> =&gt; <a href="Result.scala.html#scala.tools.scalap.scalax.rules;Success" title="(out: StateRules.this.S, value: A)scala.tools.scalap.scalax.rules.Success[StateRules.this.S,A]">Success</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;StateRules.read.$anonfun.s" title="StateRules.this.S">s</a>, <a href="../../../../Function1.scala.html#scala;Function1.apply" title="(v1: StateRules.this.S)A">f</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;StateRules.read.$anonfun.s" title="StateRules.this.S">s</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>

  def <a title="=&gt; scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,StateRules.this.S,Nothing]" id="scala.tools.scalap.scalax.rules;StateRules.get">get</a> = <a href="#scala.tools.scalap.scalax.rules;StateRules.apply" title="(f: StateRules.this.S =&gt; scala.tools.scalap.scalax.rules.Result[StateRules.this.S,StateRules.this.S,Nothing])scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,StateRules.this.S,Nothing]">apply</a> <span class="delimiter">{</span> <a title="StateRules.this.S" id="scala.tools.scalap.scalax.rules;StateRules.get.$anonfun.s">s</a> =&gt; <a href="Result.scala.html#scala.tools.scalap.scalax.rules;Success" title="(out: StateRules.this.S, value: StateRules.this.S)scala.tools.scalap.scalax.rules.Success[StateRules.this.S,StateRules.this.S]">Success</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;StateRules.get.$anonfun.s" title="StateRules.this.S">s</a>, <a href="#scala.tools.scalap.scalax.rules;StateRules.get.$anonfun.s" title="StateRules.this.S">s</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  def <a title="(s: =&gt; StateRules.this.S)scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,StateRules.this.S,Nothing]" id="scala.tools.scalap.scalax.rules;StateRules.set">set</a><span class="delimiter">(</span><a title="=&gt; StateRules.this.S" id="scala.tools.scalap.scalax.rules;StateRules.set.s">s</a>: =&gt; S<span class="delimiter">)</span> = <a href="#scala.tools.scalap.scalax.rules;StateRules.apply" title="(f: StateRules.this.S =&gt; scala.tools.scalap.scalax.rules.Result[StateRules.this.S,StateRules.this.S,Nothing])scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,StateRules.this.S,Nothing]">apply</a> <span class="delimiter">{</span> <a title="StateRules.this.S" id="scala.tools.scalap.scalax.rules;StateRules.set.$anonfun.oldS">oldS</a> =&gt; <a href="Result.scala.html#scala.tools.scalap.scalax.rules;Success" title="(out: StateRules.this.S, value: StateRules.this.S)scala.tools.scalap.scalax.rules.Success[StateRules.this.S,StateRules.this.S]">Success</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;StateRules.set.s" title="=&gt; StateRules.this.S">s</a>, <a href="#scala.tools.scalap.scalax.rules;StateRules.set.$anonfun.oldS" title="StateRules.this.S">oldS</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  def <a title="(f: StateRules.this.S =&gt; StateRules.this.S)scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,StateRules.this.S,Nothing]" id="scala.tools.scalap.scalax.rules;StateRules.update">update</a><span class="delimiter">(</span><a title="StateRules.this.S =&gt; StateRules.this.S" id="scala.tools.scalap.scalax.rules;StateRules.update.f">f</a>: S =&gt; S<span class="delimiter">)</span> = <a href="#scala.tools.scalap.scalax.rules;StateRules.apply" title="(f: StateRules.this.S =&gt; scala.tools.scalap.scalax.rules.Result[StateRules.this.S,StateRules.this.S,Nothing])scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,StateRules.this.S,Nothing]">apply</a> <span class="delimiter">{</span> <a title="StateRules.this.S" id="scala.tools.scalap.scalax.rules;StateRules.update.$anonfun.s">s</a> =&gt; <a href="Result.scala.html#scala.tools.scalap.scalax.rules;Success" title="(out: StateRules.this.S, value: StateRules.this.S)scala.tools.scalap.scalax.rules.Success[StateRules.this.S,StateRules.this.S]">Success</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;StateRules.update.$anonfun.s" title="StateRules.this.S">s</a>, <a href="../../../../Function1.scala.html#scala;Function1.apply" title="(v1: StateRules.this.S)StateRules.this.S">f</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;StateRules.update.$anonfun.s" title="StateRules.this.S">s</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>

  def <a title="=&gt; scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,scala.collection.immutable.Nil.type,Nothing]" id="scala.tools.scalap.scalax.rules;StateRules.nil">nil</a> = <a href="#scala.tools.scalap.scalax.rules;StateRules.unit" title="(a: =&gt; scala.collection.immutable.Nil.type)scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,scala.collection.immutable.Nil.type,Nothing]">unit</a><span class="delimiter">(</span><a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>
  def <a title="=&gt; scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,None.type,Nothing]" id="scala.tools.scalap.scalax.rules;StateRules.none">none</a> = <a href="#scala.tools.scalap.scalax.rules;StateRules.unit" title="(a: =&gt; None.type)scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,None.type,Nothing]">unit</a><span class="delimiter">(</span><a href="../../../../Option.scala.html#scala.None" title="None.type">None</a><span class="delimiter">)</span>

  <span class="comment">/** Create a rule that identities if f(in) is true. */</span>
  def <a title="(f: StateRules.this.S =&gt; Boolean)scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,StateRules.this.S,Nothing]" id="scala.tools.scalap.scalax.rules;StateRules.cond">cond</a><span class="delimiter">(</span><a title="StateRules.this.S =&gt; Boolean" id="scala.tools.scalap.scalax.rules;StateRules.cond.f">f</a>: S =&gt; Boolean<span class="delimiter">)</span> = <a href="#scala.tools.scalap.scalax.rules;StateRules.get" title="=&gt; scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,StateRules.this.S,Nothing]">get</a> <a href="Rule.scala.html#scala.tools.scalap.scalax.rules;Rule.filter" title="(f: StateRules.this.S =&gt; Boolean)scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,StateRules.this.S,Nothing]">filter</a> <a href="#scala.tools.scalap.scalax.rules;StateRules.cond.f" title="StateRules.this.S =&gt; Boolean">f</a>

  <span class="comment">/** Create a rule that succeeds if all of the given rules succeed.
      @param rules the rules to apply in sequence.
  */</span>
  def <a title="[A, X](rules: Seq[StateRules.this.Rule[A,X]])StateRules.this.S =&gt; scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[A],X]" id="scala.tools.scalap.scalax.rules;StateRules.allOf">allOf</a><span class="delimiter">[</span><a title="" id="scala.tools.scalap.scalax.rules;StateRules.allOf;A">A</a>, <a title="" id="scala.tools.scalap.scalax.rules;StateRules.allOf;X">X</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Seq[StateRules.this.Rule[A,X]]" id="scala.tools.scalap.scalax.rules;StateRules.allOf.rules">rules</a>: <a href="../../../../collection/Seq.scala.html#scala.collection;Seq" title="Seq[StateRules.this.Rule[A,X]]">Seq</a><span class="delimiter">[</span>Rule<span class="delimiter">[</span>A, X<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    def <a title="(in: StateRules.this.S, rules: List[StateRules.this.Rule[A,X]], results: List[A])scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[A],X]" id="scala.tools.scalap.scalax.rules;StateRules.allOf.rep">rep</a><span class="delimiter">(</span><a title="StateRules.this.S" id="scala.tools.scalap.scalax.rules;StateRules.allOf.rep.in">in</a>: <a href="#scala.tools.scalap.scalax.rules;StateRules;S" title="StateRules.this.S">S</a>, <a title="List[StateRules.this.Rule[A,X]]" id="scala.tools.scalap.scalax.rules;StateRules.allOf.rep.rules">rules</a>: <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[StateRules.this.Rule[A,X]]">List</a><span class="delimiter">[</span>Rule<span class="delimiter">[</span>A, X<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="List[A]" id="scala.tools.scalap.scalax.rules;StateRules.allOf.rep.results">results</a>: <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[A]">List</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Result.scala.html#scala.tools.scalap.scalax.rules;Result" title="scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[A],X]">Result</a><span class="delimiter">[</span>S, List<span class="delimiter">[</span>A<span class="delimiter">]</span>, X<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <a href="#scala.tools.scalap.scalax.rules;StateRules.allOf.rep.rules" title="List[StateRules.this.Rule[A,X]]">rules</a> match <span class="delimiter">{</span>
        case <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a> =&gt; <a href="Result.scala.html#scala.tools.scalap.scalax.rules;Success" title="(out: StateRules.this.S, value: List[A])scala.tools.scalap.scalax.rules.Success[StateRules.this.S,List[A]]">Success</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;StateRules.allOf.rep.in" title="StateRules.this.S">in</a>, <a href="#scala.tools.scalap.scalax.rules;StateRules.allOf.rep.results" title="List[A]">results</a>.<a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.reverse" title="=&gt; List[A]">reverse</a><span class="delimiter">)</span>
        case <a title="StateRules.this.Rule[A,X]" id="scala.tools.scalap.scalax.rules;StateRules.allOf.rep.rule">rule</a>::<a title="List[StateRules.this.Rule[A,X]]" id="scala.tools.scalap.scalax.rules;StateRules.allOf.rep.tl">tl</a> =&gt; <a href="../../../../Function1.scala.html#scala;Function1.apply" title="(v1: StateRules.this.S)scala.tools.scalap.scalax.rules.Result[StateRules.this.S,A,X]">rule</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;StateRules.allOf.rep.in" title="StateRules.this.S">in</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
          case <a href="Result.scala.html#scala.tools.scalap.scalax.rules.Failure" title="scala.tools.scalap.scalax.rules.Failure.type">Failure</a> =&gt; <a href="Result.scala.html#scala.tools.scalap.scalax.rules.Failure" title="scala.tools.scalap.scalax.rules.Failure.type">Failure</a>
          case Error<span class="delimiter">(</span><a title="X" id="scala.tools.scalap.scalax.rules;StateRules.allOf.rep.x">x</a><span class="delimiter">)</span> =&gt; <a href="Result.scala.html#scala.tools.scalap.scalax.rules;Error" title="(error: X)scala.tools.scalap.scalax.rules.Error[X]">Error</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;StateRules.allOf.rep.x" title="X">x</a><span class="delimiter">)</span>
          case Success<span class="delimiter">(</span><a title="StateRules.this.S" id="scala.tools.scalap.scalax.rules;StateRules.allOf.rep.out">out</a>, <a title="A" id="scala.tools.scalap.scalax.rules;StateRules.allOf.rep.v">v</a><span class="delimiter">)</span> =&gt; <a href="#scala.tools.scalap.scalax.rules;StateRules.allOf.rep" title="(in: StateRules.this.S, rules: List[StateRules.this.Rule[A,X]], results: List[A])scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[A],X]">rep</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;StateRules.allOf.rep.out" title="StateRules.this.S">out</a>, <a href="#scala.tools.scalap.scalax.rules;StateRules.allOf.rep.tl" title="List[StateRules.this.Rule[A,X]]">tl</a>, <a href="#scala.tools.scalap.scalax.rules;StateRules.allOf.rep.v" title="A">v</a><a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: A)List[A]">::</a><a href="#scala.tools.scalap.scalax.rules;StateRules.allOf.rep.results" title="List[A]">results</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    in: <a href="#scala.tools.scalap.scalax.rules;StateRules;S" title="StateRules.this.S">S</a> =&gt; <a href="#scala.tools.scalap.scalax.rules;StateRules.allOf.rep" title="(in: StateRules.this.S, rules: List[StateRules.this.Rule[A,X]], results: List[A])scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[A],X]">rep</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;StateRules.allOf.$anonfun.in" title="StateRules.this.S">in</a>, <a href="#scala.tools.scalap.scalax.rules;StateRules.allOf.rules" title="Seq[StateRules.this.Rule[A,X]]">rules</a>.<a href="../../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toList" title="=&gt; List[StateRules.this.Rule[A,X]]">toList</a>, <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>


  <span class="comment">/** Create a rule that succeeds with a list of all the provided rules that succeed.
      @param rules the rules to apply in sequence.
  */</span>
  def <a title="[A, X](rules: Seq[StateRules.this.Rule[A,X]])scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,List[A],X]" id="scala.tools.scalap.scalax.rules;StateRules.anyOf">anyOf</a><span class="delimiter">[</span><a title="" id="scala.tools.scalap.scalax.rules;StateRules.anyOf;A">A</a>, <a title="" id="scala.tools.scalap.scalax.rules;StateRules.anyOf;X">X</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Seq[StateRules.this.Rule[A,X]]" id="scala.tools.scalap.scalax.rules;StateRules.anyOf.rules">rules</a>: <a href="../../../../collection/Seq.scala.html#scala.collection;Seq" title="Seq[StateRules.this.Rule[A,X]]">Seq</a><span class="delimiter">[</span>Rule<span class="delimiter">[</span>A, X<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#scala.tools.scalap.scalax.rules;StateRules.allOf" title="(rules: Seq[StateRules.this.Rule[Option[A],X]])StateRules.this.S =&gt; scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[Option[A]],X]">allOf</a><a href="#scala.tools.scalap.scalax.rules;Rules.rule" title="(f: StateRules.this.S =&gt; scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[Option[A]],X])scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,List[Option[A]],X]" class="delimiter">(</a><a href="#scala.tools.scalap.scalax.rules;StateRules.anyOf.rules" title="Seq[StateRules.this.Rule[A,X]]">rules</a>.<a href="../../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.map" title="(f: StateRules.this.Rule[A,X] =&gt; scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,Option[A],X])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[StateRules.this.Rule[A,X]],scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,Option[A],X],Seq[scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,Option[A],X]]])Seq[scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,Option[A],X]]">map</a><a href="../../../../collection/Seq.scala.html#scala.collection.Seq.canBuildFrom" title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,Option[A],X],Seq[scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,Option[A],X]]]" class="delimiter">(</a><a href="#scala.tools.scalap.scalax.rules;Rules.seqRule" title="(rule: scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,A,X])scala.tools.scalap.scalax.rules.SeqRule[StateRules.this.S,A,X]">_</a> <a href="SeqRule.scala.html#scala.tools.scalap.scalax.rules;SeqRule.?" title="=&gt; scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,Option[A],X]">?</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="Rule.scala.html#scala.tools.scalap.scalax.rules;Rule.^^" title="(fa2b: List[Option[A]] =&gt; List[A])scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,List[A],X]">^^</a> <span class="delimiter">{</span> <a title="List[Option[A]]" id="scala.tools.scalap.scalax.rules;StateRules.anyOf.$anonfun.opts">opts</a> =&gt; <a href="#scala.tools.scalap.scalax.rules;StateRules.anyOf.$anonfun.opts" title="List[Option[A]]">opts</a>.<a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.flatMap" title="(f: Option[A] =&gt; scala.collection.GenTraversableOnce[A])(implicit bf: scala.collection.generic.CanBuildFrom[List[Option[A]],A,List[A]])List[A]">flatMap</a><a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.List.canBuildFrom" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,A,List[A]]" class="delimiter">(</a><a title="Option[A]" id="scala.tools.scalap.scalax.rules;StateRules.anyOf.$anonfun.$anonfun.x">x</a> =&gt; <a href="../../../../Option.scala.html#scala.Option.option2Iterable" title="(xo: Option[A])Iterable[A]">x</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="comment">/** Repeatedly apply a rule from initial value until finished condition is met. */</span>
  def <a title="[T, X](rule: StateRules.this.Rule[T =&gt; T,X])(finished: T =&gt; Boolean)(initial: T)scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,T,X]" id="scala.tools.scalap.scalax.rules;StateRules.repeatUntil">repeatUntil</a><span class="delimiter">[</span><a title="" id="scala.tools.scalap.scalax.rules;StateRules.repeatUntil;T">T</a>, <a title="" id="scala.tools.scalap.scalax.rules;StateRules.repeatUntil;X">X</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="StateRules.this.Rule[T =&gt; T,X]" id="scala.tools.scalap.scalax.rules;StateRules.repeatUntil.rule">rule</a>: <a href="Rule.scala.html#scala.tools.scalap.scalax.rules;Rule" title="StateRules.this.Rule[T =&gt; T,X]">Rule</a><span class="delimiter">[</span>T =&gt; T, X<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="T =&gt; Boolean" id="scala.tools.scalap.scalax.rules;StateRules.repeatUntil.finished">finished</a>: T =&gt; Boolean<span class="delimiter">)</span><span class="delimiter">(</span><a title="T" id="scala.tools.scalap.scalax.rules;StateRules.repeatUntil.initial">initial</a>: <a href="#scala.tools.scalap.scalax.rules;StateRules.repeatUntil;T" title="T">T</a><span class="delimiter">)</span> = <a href="#scala.tools.scalap.scalax.rules;StateRules.apply" title="(f: StateRules.this.S =&gt; scala.tools.scalap.scalax.rules.Result[StateRules.this.S,T,X])scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,T,X]">apply</a> <span class="delimiter">{</span>
    <span class="comment">// more compact using HoF but written this way so it's tail-recursive</span>
    def <a title="(in: StateRules.this.S, t: T)scala.tools.scalap.scalax.rules.Result[StateRules.this.S,T,X]" id="scala.tools.scalap.scalax.rules;StateRules.repeatUntil.rep">rep</a><span class="delimiter">(</span><a title="StateRules.this.S" id="scala.tools.scalap.scalax.rules;StateRules.repeatUntil.rep.in">in</a>: <a href="#scala.tools.scalap.scalax.rules;StateRules;S" title="StateRules.this.S">S</a>, <a title="T" id="scala.tools.scalap.scalax.rules;StateRules.repeatUntil.rep.t">t</a>: <a href="#scala.tools.scalap.scalax.rules;StateRules.repeatUntil;T" title="T">T</a><span class="delimiter">)</span>: <a href="Result.scala.html#scala.tools.scalap.scalax.rules;Result" title="scala.tools.scalap.scalax.rules.Result[StateRules.this.S,T,X]">Result</a><span class="delimiter">[</span>S, T, X<span class="delimiter">]</span> = <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="../../../../Function1.scala.html#scala;Function1.apply" title="(v1: T)Boolean">finished</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;StateRules.repeatUntil.rep.t" title="T">t</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="Result.scala.html#scala.tools.scalap.scalax.rules;Success" title="(out: StateRules.this.S, value: T)scala.tools.scalap.scalax.rules.Success[StateRules.this.S,T]">Success</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;StateRules.repeatUntil.rep.in" title="StateRules.this.S">in</a>, <a href="#scala.tools.scalap.scalax.rules;StateRules.repeatUntil.rep.t" title="T">t</a><span class="delimiter">)</span>
      else <a href="../../../../Function1.scala.html#scala;Function1.apply" title="(v1: StateRules.this.S)scala.tools.scalap.scalax.rules.Result[StateRules.this.S,T =&gt; T,X]">rule</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;StateRules.repeatUntil.rep.in" title="StateRules.this.S">in</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
        case Success<span class="delimiter">(</span><a title="StateRules.this.S" id="scala.tools.scalap.scalax.rules;StateRules.repeatUntil.rep.out">out</a>, <a title="T =&gt; T" id="scala.tools.scalap.scalax.rules;StateRules.repeatUntil.rep.f">f</a><span class="delimiter">)</span> =&gt; <a href="#scala.tools.scalap.scalax.rules;StateRules.repeatUntil.rep" title="(in: StateRules.this.S, t: T)scala.tools.scalap.scalax.rules.Result[StateRules.this.S,T,X]">rep</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;StateRules.repeatUntil.rep.out" title="StateRules.this.S">out</a>, <a href="../../../../Function1.scala.html#scala;Function1.apply" title="(v1: T)T">f</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;StateRules.repeatUntil.rep.t" title="T">t</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// SI-5189 f.asInstanceOf[T =&gt; T]</span>
        case <a href="Result.scala.html#scala.tools.scalap.scalax.rules.Failure" title="scala.tools.scalap.scalax.rules.Failure.type">Failure</a> =&gt; <a href="Result.scala.html#scala.tools.scalap.scalax.rules.Failure" title="scala.tools.scalap.scalax.rules.Failure.type">Failure</a>
        case Error<span class="delimiter">(</span><a title="X" id="scala.tools.scalap.scalax.rules;StateRules.repeatUntil.rep.x">x</a><span class="delimiter">)</span> =&gt; <a href="Result.scala.html#scala.tools.scalap.scalax.rules;Error" title="(error: X)scala.tools.scalap.scalax.rules.Error[X]">Error</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;StateRules.repeatUntil.rep.x" title="X">x</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a title="StateRules.this.S" id="scala.tools.scalap.scalax.rules;StateRules.repeatUntil.$anonfun.in">in</a> =&gt; <a href="#scala.tools.scalap.scalax.rules;StateRules.repeatUntil.rep" title="(in: StateRules.this.S, t: T)scala.tools.scalap.scalax.rules.Result[StateRules.this.S,T,X]">rep</a><span class="delimiter">(</span><a href="#scala.tools.scalap.scalax.rules;StateRules.repeatUntil.$anonfun.in" title="StateRules.this.S">in</a>, <a href="#scala.tools.scalap.scalax.rules;StateRules.repeatUntil.initial" title="T">initial</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>


<span class="delimiter">}</span>

trait <a title="trait RulesWithState extends AnyRef with scala.tools.scalap.scalax.rules.Rules with scala.tools.scalap.scalax.rules.StateRules" id="scala.tools.scalap.scalax.rules;RulesWithState">RulesWithState</a> extends <a href="#scala.tools.scalap.scalax.rules;Rules" title="scala.tools.scalap.scalax.rules.Rules">Rules</a> with <a href="#scala.tools.scalap.scalax.rules;StateRules" title="scala.tools.scalap.scalax.rules.StateRules">StateRules</a> <span class="delimiter">{</span>
  val <a title="scala.tools.scalap.scalax.rules.RulesWithState" id="scala.tools.scalap.scalax.rules;RulesWithState.factory">factory</a> = this
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
