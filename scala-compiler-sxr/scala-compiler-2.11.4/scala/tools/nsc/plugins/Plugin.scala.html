<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/tools/nsc/plugins/Plugin.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2007-2013 LAMP/EPFL
 * @author Lex Spoon
 */</span>

package scala.tools.nsc
package plugins

import scala.tools.nsc.io.<span class="delimiter">{</span> Jar <span class="delimiter">}</span>
import scala.tools.nsc.util.ScalaClassLoader
import scala.reflect.io.<span class="delimiter">{</span> Directory, File, Path <span class="delimiter">}</span>
import java.io.InputStream
import java.util.zip.ZipException

import scala.collection.mutable
import mutable.ListBuffer
import scala.util.<span class="delimiter">{</span> Try, Success, Failure <span class="delimiter">}</span>

<span class="comment">/** Information about a plugin loaded from a jar file.
 *
 *  The concrete subclass must have a one-argument constructor
 *  that accepts an instance of `global`.
 *  {{{
 *    (val global: Global)
 *  }}}
 *
 *  @author Lex Spoon
 *  @version 1.0, 2007-5-21
 */</span>
abstract class <a title="class Plugin extends AnyRef" id="scala.tools.nsc.plugins;Plugin">Plugin</a> <a href="#scala.tools.nsc.plugins;Plugin" title="scala.tools.nsc.plugins.Plugin" class="delimiter">{</a>
  <span class="comment">/** The name of this plugin */</span>
  val <a title="=&gt; String" id="scala.tools.nsc.plugins;Plugin.name">name</a>: <span title="String">String</span>

  <span class="comment">/** The components that this phase defines */</span>
  val <a title="=&gt; List[scala.tools.nsc.plugins.PluginComponent]" id="scala.tools.nsc.plugins;Plugin.components">components</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[scala.tools.nsc.plugins.PluginComponent]">List</a><span class="delimiter">[</span>PluginComponent<span class="delimiter">]</span>

  <span class="comment">/** A one-line description of the plugin */</span>
  val <a title="=&gt; String" id="scala.tools.nsc.plugins;Plugin.description">description</a>: <span title="String">String</span>

  <span class="comment">/** The compiler that this plugin uses.  This is normally equated
   *  to a constructor parameter in the concrete subclass.
   */</span>
  val <a title="=&gt; scala.tools.nsc.Global" id="scala.tools.nsc.plugins;Plugin.global">global</a>: <a href="../Global.scala.html#scala.tools.nsc;Global" title="scala.tools.nsc.Global">Global</a>

  def <a title="=&gt; List[String]" id="scala.tools.nsc.plugins;Plugin.options">options</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// Process plugin options of form plugin:option</span>
    def <a title="=&gt; String" id="scala.tools.nsc.plugins;Plugin.options.namec">namec</a> = <a href="#scala.tools.nsc.plugins;Plugin.name" title="=&gt; String">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span>
    <a href="#scala.tools.nsc.plugins;Plugin.global" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#scala.tools.nsc;Global.settings" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#scala.tools.nsc.settings;ScalaSettings.pluginOptions" title="=&gt; scala.tools.nsc.Settings#MultiStringSetting">pluginOptions</a>.<a href="../../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings;MutableSettings;SettingValue.value" title="=&gt; List[String]">value</a> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.filter" title="(p: String =&gt; Boolean)List[String]">filter</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.plugins;Plugin.options.$anonfun.x$1" title="String">_</a> <span title="(x$1: String)Boolean">startsWith</span> <a href="#scala.tools.nsc.plugins;Plugin.options.namec" title="=&gt; String">namec</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">map</a> <span class="delimiter">(</span><a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">_</a> <a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.stripPrefix" title="(prefix: String)String">stripPrefix</a> <a href="#scala.tools.nsc.plugins;Plugin.options.namec" title="=&gt; String">namec</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Handle any plugin-specific options.
   *  The user writes `-P:plugname:opt1,opt2`,
   *  but the plugin sees `List(opt1, opt2)`.
   *  The plugin can opt out of further processing
   *  by returning false.  For example, if the plugin
   *  has an &quot;enable&quot; flag, now would be a good time
   *  to sit on the bench.
   *  @param options plugin arguments
   *  @param error error function
   *  @return true to continue, or false to opt out
   */</span>
  def <a title="(options: List[String], error: String =&gt; Unit)Boolean" id="scala.tools.nsc.plugins;Plugin.init">init</a><span class="delimiter">(</span><a title="List[String]" id="scala.tools.nsc.plugins;Plugin.init.options">options</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="String =&gt; Unit" id="scala.tools.nsc.plugins;Plugin.init.error">error</a>: String =&gt; Unit<span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.plugins;Plugin.processOptions" title="(options: List[String], error: String =&gt; Unit)Unit">processOptions</a><span class="delimiter">(</span><a href="#scala.tools.nsc.plugins;Plugin.init.options" title="List[String]">options</a>, <a href="#scala.tools.nsc.plugins;Plugin.init.error" title="String =&gt; Unit">error</a><span class="delimiter">)</span>
    true
  <span class="delimiter">}</span>

  @deprecated<span class="delimiter">(</span><span class="string">&quot;use Plugin#init instead&quot;</span>, since=<span class="string">&quot;2.11&quot;</span><span class="delimiter">)</span>
  def <a title="(options: List[String], error: String =&gt; Unit)Unit" id="scala.tools.nsc.plugins;Plugin.processOptions">processOptions</a><span class="delimiter">(</span><a title="List[String]" id="scala.tools.nsc.plugins;Plugin.processOptions.options">options</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="String =&gt; Unit" id="scala.tools.nsc.plugins;Plugin.processOptions.error">error</a>: String =&gt; Unit<span class="delimiter">)</span>: <a href="../../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.plugins;Plugin.processOptions.options" title="List[String]">options</a>.<a href="../../../collection/SeqLike.scala.html#scala.collection;SeqLike.isEmpty" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../Function1.scala.html#scala;Function1.apply" title="(v1: String)Unit">error</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;Error: &quot;)">Error: $</span><a href="#scala.tools.nsc.plugins;Plugin.name" title="=&gt; String">name</a><span title="String(&quot; takes no options&quot;)" class="string"> takes no options&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A description of this plugin's options, suitable as a response
   *  to the -help command-line option.  Conventionally, the options
   *  should be listed with the `-P:plugname:` part included.
   */</span>
  val <a title="Option[String]" id="scala.tools.nsc.plugins;Plugin.optionsHelp">optionsHelp</a>: <a href="../../../Option.scala.html#scala;Option" title="Option[String]">Option</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../../../Option.scala.html#scala.None" title="None.type">None</a>
<span class="delimiter">}</span>

<span class="comment">/** ...
 *
 *  @author Lex Spoon
 *  @version 1.0, 2007-5-21
 */</span>
object <a title="scala.tools.nsc.plugins.Plugin.type" id="scala.tools.nsc.plugins.Plugin">Plugin</a> <a href="#scala.tools.nsc.plugins.Plugin" title="scala.tools.nsc.plugins.Plugin.type" class="delimiter">{</a>

  private val <a title="String" id="scala.tools.nsc.plugins.Plugin.PluginXML">PluginXML</a> = <span title="String(&quot;scalac-plugin.xml&quot;)" class="string">&quot;scalac-plugin.xml&quot;</span>

  <span class="comment">/** Create a class loader with the specified locations plus
   *  the loader that loaded the Scala compiler.
   */</span>
  private def <a title="(locations: Seq[scala.reflect.io.Path])tools.nsc.util.ScalaClassLoader" id="scala.tools.nsc.plugins.Plugin.loaderFor">loaderFor</a><span class="delimiter">(</span><a title="Seq[scala.reflect.io.Path]" id="scala.tools.nsc.plugins.Plugin.loaderFor.locations">locations</a>: <a href="../../../collection/Seq.scala.html#scala.collection;Seq" title="Seq[scala.reflect.io.Path]">Seq</a><span class="delimiter">[</span>Path<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/util/ScalaClassLoader.scala.html#scala.reflect.internal.util;ScalaClassLoader" title="tools.nsc.util.ScalaClassLoader">ScalaClassLoader</a> = <span class="delimiter">{</span>
    val <a title="ClassLoader" id="scala.tools.nsc.plugins.Plugin.loaderFor.compilerLoader">compilerLoader</a> = classOf<span title="Class[scala.tools.nsc.plugins.Plugin](classOf[scala.tools.nsc.plugins.Plugin])" class="delimiter">[</span>Plugin<span class="delimiter">]</span>.<span title="()ClassLoader">getClassLoader</span>
    val urls = <a href="#scala.tools.nsc.plugins.Plugin.loaderFor.locations" title="Seq[scala.reflect.io.Path]">locations</a> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.map" title="Seq[java.net.URL]" id="scala.tools.nsc.plugins.Plugin.loaderFor.urls">map</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.plugins.Plugin.loaderFor.urls.$anonfun.x$3" title="scala.reflect.io.Path">_</a>.<a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path.toURL" title="=&gt; java.net.URL">toURL</a><span class="delimiter">)</span>

    <a href="../util/package.scala.html#scala.tools.nsc.util.package.ScalaClassLoader" title="=&gt; reflect.internal.util.ScalaClassLoader.type">ScalaClassLoader</a> <a href="../../../reflect/internal/util/ScalaClassLoader.scala.html#scala.reflect.internal.util.ScalaClassLoader.fromURLs" title="(urls: Seq[java.net.URL], parent: ClassLoader)tools.nsc.util.ScalaClassLoader.URLClassLoader">fromURLs</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.plugins.Plugin.loaderFor.urls" title="Seq[java.net.URL]">urls</a>, <a href="#scala.tools.nsc.plugins.Plugin.loaderFor.compilerLoader" title="ClassLoader">compilerLoader</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Try to load a plugin description from the specified location.
   */</span>
  private def <a title="(jarp: scala.reflect.io.Path)scala.util.Try[scala.tools.nsc.plugins.PluginDescription]" id="scala.tools.nsc.plugins.Plugin.loadDescriptionFromJar">loadDescriptionFromJar</a><span class="delimiter">(</span><a title="scala.reflect.io.Path" id="scala.tools.nsc.plugins.Plugin.loadDescriptionFromJar.jarp">jarp</a>: <a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path" title="scala.reflect.io.Path">Path</a><span class="delimiter">)</span>: <a href="../../../util/Try.scala.html#scala.util;Try" title="scala.util.Try[scala.tools.nsc.plugins.PluginDescription]">Try</a><span class="delimiter">[</span>PluginDescription<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// XXX Return to this once we have more ARM support</span>
    def <a title="(is: Option[java.io.InputStream])scala.tools.nsc.plugins.PluginDescription" id="scala.tools.nsc.plugins.Plugin.loadDescriptionFromJar.read">read</a><span class="delimiter">(</span><span title="Option[java.io.InputStream]">is</span>: <a href="../../../Option.scala.html#scala;Option" title="Option[java.io.InputStream]">Option</a><span class="delimiter">[</span>InputStream<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="Option[java.io.InputStream]">is</span> match <span class="delimiter">{</span>
      case <a href="../../../Option.scala.html#scala.None" title="None.type">None</a>     =&gt; throw new <a href="#scala.tools.nsc.plugins;PluginLoadException" title="scala.tools.nsc.plugins.PluginLoadException">PluginLoadException</a><span class="delimiter">(</span><a href="#scala.tools.nsc.plugins.Plugin.loadDescriptionFromJar.jarp" title="scala.reflect.io.Path">jarp</a>.<a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path.path" title="=&gt; String">path</a>, <a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;Missing &quot;)">Missing $</span><a href="#scala.tools.nsc.plugins.Plugin.PluginXML" title="=&gt; String">PluginXML</a><span title="String(&quot; in &quot;)"> in $</span><a href="#scala.tools.nsc.plugins.Plugin.loadDescriptionFromJar.jarp" title="scala.reflect.io.Path">jarp</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
      case Some<span class="delimiter">(</span><span title="java.io.InputStream">is</span><span class="delimiter">)</span> =&gt; <a href="PluginDescription.scala.html#scala.tools.nsc.plugins.PluginDescription" title="scala.tools.nsc.plugins.PluginDescription.type">PluginDescription</a>.<a href="PluginDescription.scala.html#scala.tools.nsc.plugins.PluginDescription.fromXML" title="(xml: java.io.InputStream)scala.tools.nsc.plugins.PluginDescription">fromXML</a><span class="delimiter">(</span><span title="java.io.InputStream">is</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="../../../util/Try.scala.html#scala.util.Try.apply" title="(r: =&gt; scala.tools.nsc.plugins.PluginDescription)scala.util.Try[scala.tools.nsc.plugins.PluginDescription]">Try</a><span class="delimiter">(</span>new <a href="../io/Jar.scala.html#scala.tools.nsc.io;Jar" title="scala.tools.nsc.io.Jar">Jar</a><span class="delimiter">(</span><a href="#scala.tools.nsc.plugins.Plugin.loadDescriptionFromJar.jarp" title="scala.reflect.io.Path">jarp</a>.<a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path.jfile" title="=&gt; java.io.File">jfile</a><span class="delimiter">)</span>.<a href="../io/Jar.scala.html#scala.tools.nsc.io;Jar.withEntryStream" title="(name: String)(f: Option[java.io.InputStream] =&gt; scala.tools.nsc.plugins.PluginDescription)scala.tools.nsc.plugins.PluginDescription">withEntryStream</a><span class="delimiter">(</span><a href="#scala.tools.nsc.plugins.Plugin.PluginXML" title="=&gt; String">PluginXML</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.tools.nsc.plugins.Plugin.loadDescriptionFromJar.read" title="(is: Option[java.io.InputStream])scala.tools.nsc.plugins.PluginDescription">read</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private def <a title="(f: scala.reflect.io.Path)scala.util.Try[scala.tools.nsc.plugins.PluginDescription]" id="scala.tools.nsc.plugins.Plugin.loadDescriptionFromFile">loadDescriptionFromFile</a><span class="delimiter">(</span><a title="scala.reflect.io.Path" id="scala.tools.nsc.plugins.Plugin.loadDescriptionFromFile.f">f</a>: <a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path" title="scala.reflect.io.Path">Path</a><span class="delimiter">)</span>: <a href="../../../util/Try.scala.html#scala.util;Try" title="scala.util.Try[scala.tools.nsc.plugins.PluginDescription]">Try</a><span class="delimiter">[</span>PluginDescription<span class="delimiter">]</span> =
    <a href="../../../util/Try.scala.html#scala.util.Try.apply" title="(r: =&gt; scala.tools.nsc.plugins.PluginDescription)scala.util.Try[scala.tools.nsc.plugins.PluginDescription]">Try</a><span class="delimiter">(</span><a href="PluginDescription.scala.html#scala.tools.nsc.plugins.PluginDescription" title="scala.tools.nsc.plugins.PluginDescription.type">PluginDescription</a>.<a href="PluginDescription.scala.html#scala.tools.nsc.plugins.PluginDescription.fromXML" title="(xml: java.io.InputStream)scala.tools.nsc.plugins.PluginDescription">fromXML</a><span class="delimiter">(</span>new java.io.<span title="java.io.FileInputStream">FileInputStream</span><span class="delimiter">(</span><a href="#scala.tools.nsc.plugins.Plugin.loadDescriptionFromFile.f" title="scala.reflect.io.Path">f</a>.<a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path.jfile" title="=&gt; java.io.File">jfile</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  type <a title="Class[_]" id="scala.tools.nsc.plugins.Plugin;AnyClass">AnyClass</a> = <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span>

  <span class="comment">/** Use a class loader to load the plugin class.
   */</span>
  def <a title="(classname: String, loader: ClassLoader)scala.util.Try[scala.tools.nsc.plugins.Plugin.AnyClass]" id="scala.tools.nsc.plugins.Plugin.load">load</a><span class="delimiter">(</span><a title="String" id="scala.tools.nsc.plugins.Plugin.load.classname">classname</a>: <span title="String">String</span>, <a title="ClassLoader" id="scala.tools.nsc.plugins.Plugin.load.loader">loader</a>: <span title="ClassLoader">ClassLoader</span><span class="delimiter">)</span>: <a href="../../../util/Try.scala.html#scala.util;Try" title="scala.util.Try[scala.tools.nsc.plugins.Plugin.AnyClass]">Try</a><span class="delimiter">[</span>AnyClass<span class="delimiter">]</span> = <span class="delimiter">{</span>
    import scala.util.control.NonFatal
    try <span class="delimiter">{</span>
      <a href="../../../util/Try.scala.html#scala.util;Success" title="[T](value: T)scala.util.Success[T]">Success</a><span title="(value: scala.tools.nsc.plugins.Plugin.AnyClass)scala.util.Success[scala.tools.nsc.plugins.Plugin.AnyClass]" class="delimiter">[</span><span title="scala.tools.nsc.plugins.Plugin.AnyClass">AnyClass</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.tools.nsc.plugins.Plugin.load.loader" title="ClassLoader">loader</a> <span title="(x$1: String)Class[_]">loadClass</span> <a href="#scala.tools.nsc.plugins.Plugin.load.classname" title="String">classname</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> catch <span class="delimiter">{</span>
      case <a href="../../../util/control/NonFatal.scala.html#scala.util.control.NonFatal.unapply" title="(t: Throwable)Option[Throwable]">NonFatal</a><span class="delimiter">(</span><span title="Throwable">e</span><span class="delimiter">)</span> =&gt;
        <a href="../../../util/Try.scala.html#scala.util;Failure" title="(exception: Throwable)scala.util.Failure[Nothing]">Failure</a><span class="delimiter">(</span>new <a href="#scala.tools.nsc.plugins;PluginLoadException" title="scala.tools.nsc.plugins.PluginLoadException">PluginLoadException</a><span class="delimiter">(</span><a href="#scala.tools.nsc.plugins.Plugin.load.classname" title="String">classname</a>, <a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;Error: unable to load class: &quot;)">Error: unable to load class: $</span><a href="#scala.tools.nsc.plugins.Plugin.load.classname" title="String">classname</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      case <span title="NoClassDefFoundError">e</span>: <span title="NoClassDefFoundError">NoClassDefFoundError</span> =&gt;
        <a href="../../../util/Try.scala.html#scala.util;Failure" title="(exception: Throwable)scala.util.Failure[Nothing]">Failure</a><span class="delimiter">(</span>new <a href="#scala.tools.nsc.plugins;PluginLoadException" title="scala.tools.nsc.plugins.PluginLoadException">PluginLoadException</a><span class="delimiter">(</span><a href="#scala.tools.nsc.plugins.Plugin.load.classname" title="String">classname</a>, <a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;Error: class not found: &quot;)">Error: class not found: $</span><span class="delimiter">{</span><span title="NoClassDefFoundError">e</span>.<span title="()String">getMessage</span><span class="delimiter">}</span><span title="String(&quot; required by &quot;)"> required by $</span><a href="#scala.tools.nsc.plugins.Plugin.load.classname" title="String">classname</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Load all plugins specified by the arguments.
   *  Each location of `paths` must be a valid plugin archive or exploded archive.
   *  Each of `paths` must define one plugin.
   *  Each of `dirs` may be a directory containing arbitrary plugin archives.
   *  Skips all plugins named in `ignoring`.
   *  A classloader is created to load each plugin.
   */</span>
  def <a title="(paths: List[List[scala.reflect.io.Path]], dirs: List[scala.reflect.io.Path], ignoring: List[String])List[scala.util.Try[scala.tools.nsc.plugins.Plugin.AnyClass]]" id="scala.tools.nsc.plugins.Plugin.loadAllFrom">loadAllFrom</a><span class="delimiter">(</span>
    <a title="List[List[scala.reflect.io.Path]]" id="scala.tools.nsc.plugins.Plugin.loadAllFrom.paths">paths</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[List[scala.reflect.io.Path]]">List</a><span class="delimiter">[</span>List<span class="delimiter">[</span>Path<span class="delimiter">]</span><span class="delimiter">]</span>,
    <a title="List[scala.reflect.io.Path]" id="scala.tools.nsc.plugins.Plugin.loadAllFrom.dirs">dirs</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[scala.reflect.io.Path]">List</a><span class="delimiter">[</span>Path<span class="delimiter">]</span>,
    <a title="List[String]" id="scala.tools.nsc.plugins.Plugin.loadAllFrom.ignoring">ignoring</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[scala.util.Try[scala.tools.nsc.plugins.Plugin.AnyClass]]">List</a><span class="delimiter">[</span>Try<span class="delimiter">[</span>AnyClass<span class="delimiter">]</span><span class="delimiter">]</span> =
  <span class="delimiter">{</span>
    <span class="comment">// List[(jar, Try(descriptor))] in dir</span>
    def <a title="(d: scala.reflect.io.Directory)List[(scala.reflect.io.File, scala.util.Try[scala.tools.nsc.plugins.PluginDescription])]" id="scala.tools.nsc.plugins.Plugin.loadAllFrom.scan">scan</a><span class="delimiter">(</span><a title="scala.reflect.io.Directory" id="scala.tools.nsc.plugins.Plugin.loadAllFrom.scan.d">d</a>: <a href="../../../reflect/io/Directory.scala.html#scala.reflect.io;Directory" title="scala.reflect.io.Directory">Directory</a><span class="delimiter">)</span> =
      <a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.scan.d" title="scala.reflect.io.Directory">d</a>.<a href="../../../reflect/io/Directory.scala.html#scala.reflect.io;Directory.files" title="=&gt; Iterator[scala.reflect.io.File]">files</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toList" title="=&gt; List[scala.reflect.io.File]">toList</a> <a href="../../../collection/SeqLike.scala.html#scala.collection;SeqLike.sortBy" title="(f: scala.reflect.io.File =&gt; String)(implicit ord: scala.math.Ordering[String])List[scala.reflect.io.File]">sortBy</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.scan.$anonfun.x$4" title="scala.reflect.io.File">_</a>.<a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path.name" title="=&gt; String">name</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.filter" title="(p: scala.reflect.io.File =&gt; Boolean)List[scala.reflect.io.File]">filter</a> <span class="delimiter">(</span><a href="../io/Jar.scala.html#scala.tools.nsc.io.Jar" title="scala.tools.nsc.io.Jar.type">Jar</a> <a href="../io/Jar.scala.html#scala.tools.nsc.io.Jar.isJarOrZip(94b5365cbf)" title="(f: scala.tools.nsc.io.Path)Boolean">isJarOrZip</a> <a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.scan.$anonfun.x$5" title="scala.reflect.io.File">_</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: scala.reflect.io.File =&gt; (scala.reflect.io.File, scala.util.Try[scala.tools.nsc.plugins.PluginDescription]))(implicit bf: scala.collection.generic.CanBuildFrom[List[scala.reflect.io.File],(scala.reflect.io.File, scala.util.Try[scala.tools.nsc.plugins.PluginDescription]),List[(scala.reflect.io.File, scala.util.Try[scala.tools.nsc.plugins.PluginDescription])]])List[(scala.reflect.io.File, scala.util.Try[scala.tools.nsc.plugins.PluginDescription])]">map</a> <span class="delimiter">(</span><a title="scala.reflect.io.File" id="scala.tools.nsc.plugins.Plugin.loadAllFrom.scan.$anonfun.j">j</a> =&gt; <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: scala.reflect.io.File, _2: scala.util.Try[scala.tools.nsc.plugins.PluginDescription])(scala.reflect.io.File, scala.util.Try[scala.tools.nsc.plugins.PluginDescription])" class="delimiter">(</a><a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.scan.$anonfun.j" title="scala.reflect.io.File">j</a>, <a href="#scala.tools.nsc.plugins.Plugin.loadDescriptionFromJar" title="(jarp: scala.reflect.io.Path)scala.util.Try[scala.tools.nsc.plugins.PluginDescription]">loadDescriptionFromJar</a><span class="delimiter">(</span><a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.scan.$anonfun.j" title="scala.reflect.io.File">j</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

    type <a title="List[scala.util.Try[(scala.tools.nsc.plugins.PluginDescription, tools.nsc.util.ScalaClassLoader)]]" id="scala.tools.nsc.plugins.Plugin.loadAllFrom;PDResults">PDResults</a> = <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[scala.util.Try[(scala.tools.nsc.plugins.PluginDescription, tools.nsc.util.ScalaClassLoader)]]">List</a><span class="delimiter">[</span>Try<span class="delimiter">[</span><span class="delimiter">(</span>PluginDescription, ScalaClassLoader<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">]</span>

    <span class="comment">// scan plugin dirs for jars containing plugins, ignoring dirs with none and other jars</span>
    val fromDirs: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="PDResults">PDResults</a> = <a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.dirs" title="List[scala.reflect.io.Path]">dirs</a> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.filter" title="(p: scala.reflect.io.Path =&gt; Boolean)List[scala.reflect.io.Path]">filter</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.fromDirs.$anonfun.x$6" title="scala.reflect.io.Path">_</a>.<a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path.isDirectory" title="=&gt; Boolean">isDirectory</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.flatMap" title="PDResults" id="scala.tools.nsc.plugins.Plugin.loadAllFrom.fromDirs">flatMap</a> <span class="delimiter">{</span> <a title="scala.reflect.io.Path" id="scala.tools.nsc.plugins.Plugin.loadAllFrom.fromDirs.$anonfun.d">d</a> =&gt;
      <a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.scan" title="(d: scala.reflect.io.Directory)List[(scala.reflect.io.File, scala.util.Try[scala.tools.nsc.plugins.PluginDescription])]">scan</a><span class="delimiter">(</span><a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.fromDirs.$anonfun.d" title="scala.reflect.io.Path">d</a>.<a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path.toDirectory" title="=&gt; scala.reflect.io.Directory">toDirectory</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.collect" title="(pf: PartialFunction[(scala.reflect.io.File, scala.util.Try[scala.tools.nsc.plugins.PluginDescription]),scala.util.Success[(scala.tools.nsc.plugins.PluginDescription, tools.nsc.util.ScalaClassLoader)]])(implicit bf: scala.collection.generic.CanBuildFrom[List[(scala.reflect.io.File, scala.util.Try[scala.tools.nsc.plugins.PluginDescription])],scala.util.Success[(scala.tools.nsc.plugins.PluginDescription, tools.nsc.util.ScalaClassLoader)],List[scala.util.Success[(scala.tools.nsc.plugins.PluginDescription, tools.nsc.util.ScalaClassLoader)]]])List[scala.util.Success[(scala.tools.nsc.plugins.PluginDescription, tools.nsc.util.ScalaClassLoader)]]">collect</a> <a title="&lt;$anon: ((scala.reflect.io.File, scala.util.Try[scala.tools.nsc.plugins.PluginDescription])) =&gt; scala.util.Success[(scala.tools.nsc.plugins.PluginDescription, tools.nsc.util.ScalaClassLoader)]&gt; extends scala.runtime.AbstractPartialFunction[(scala.reflect.io.File, scala.util.Try[scala.tools.nsc.plugins.PluginDescription]),scala.util.Success[(scala.tools.nsc.plugins.PluginDescription, tools.nsc.util.ScalaClassLoader)]] with Serializable" id="scala.tools.nsc.plugins.Plugin.loadAllFrom.fromDirs.$anonfun;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
        case <span class="delimiter">(</span><a title="scala.reflect.io.File" id="scala.tools.nsc.plugins.Plugin.loadAllFrom.fromDirs.$anonfun;$anonfun.isDefinedAt.j">j</a>, Success<span class="delimiter">(</span><a title="scala.tools.nsc.plugins.PluginDescription" id="scala.tools.nsc.plugins.Plugin.loadAllFrom.fromDirs.$anonfun;$anonfun.isDefinedAt.pd">pd</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="../../../util/Try.scala.html#scala.util;Success" title="(value: (scala.tools.nsc.plugins.PluginDescription, tools.nsc.util.ScalaClassLoader))scala.util.Success[(scala.tools.nsc.plugins.PluginDescription, tools.nsc.util.ScalaClassLoader)]">Success</a><span title="Boolean(true)" class="delimiter">(</span><a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: scala.tools.nsc.plugins.PluginDescription, _2: tools.nsc.util.ScalaClassLoader)(scala.tools.nsc.plugins.PluginDescription, tools.nsc.util.ScalaClassLoader)" class="delimiter">(</a><a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.fromDirs.$anonfun;$anonfun.isDefinedAt.pd" title="scala.tools.nsc.plugins.PluginDescription">pd</a>, <a href="#scala.tools.nsc.plugins.Plugin.loaderFor" title="(locations: Seq[scala.reflect.io.Path])tools.nsc.util.ScalaClassLoader">loaderFor</a><span class="delimiter">(</span><a href="../../../collection/generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="(elems: scala.reflect.io.File*)Seq[scala.reflect.io.File]">Seq</a><span class="delimiter">(</span><a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.fromDirs.$anonfun;$anonfun.isDefinedAt.j" title="scala.reflect.io.File">j</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">// scan jar paths for plugins, taking the first plugin you find.</span>
    <span class="comment">// a path element can be either a plugin.jar or an exploded dir.</span>
    def <a title="(ps: List[scala.reflect.io.Path])scala.util.Try[scala.tools.nsc.plugins.PluginDescription]" id="scala.tools.nsc.plugins.Plugin.loadAllFrom.findDescriptor">findDescriptor</a><span class="delimiter">(</span><a title="List[scala.reflect.io.Path]" id="scala.tools.nsc.plugins.Plugin.loadAllFrom.findDescriptor.ps">ps</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[scala.reflect.io.Path]">List</a><span class="delimiter">[</span>Path<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      def <a title="(qs: List[scala.reflect.io.Path])scala.util.Try[scala.tools.nsc.plugins.PluginDescription]" id="scala.tools.nsc.plugins.Plugin.loadAllFrom.findDescriptor.loop">loop</a><span class="delimiter">(</span><a title="List[scala.reflect.io.Path]" id="scala.tools.nsc.plugins.Plugin.loadAllFrom.findDescriptor.loop.qs">qs</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[scala.reflect.io.Path]">List</a><span class="delimiter">[</span>Path<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../util/Try.scala.html#scala.util;Try" title="scala.util.Try[scala.tools.nsc.plugins.PluginDescription]">Try</a><span class="delimiter">[</span>PluginDescription<span class="delimiter">]</span> = <a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.findDescriptor.loop.qs" title="List[scala.reflect.io.Path]">qs</a> match <span class="delimiter">{</span>
        case <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>       =&gt; <a href="../../../util/Try.scala.html#scala.util;Failure" title="(exception: Throwable)scala.util.Failure[Nothing]">Failure</a><span class="delimiter">(</span>new <a href="#scala.tools.nsc.plugins;MissingPluginException" title="scala.tools.nsc.plugins.MissingPluginException">MissingPluginException</a><span class="delimiter">(</span><a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.findDescriptor.ps" title="List[scala.reflect.io.Path]">ps</a><span class="delimiter">)</span><span class="delimiter">)</span>
        case <a title="scala.reflect.io.Path" id="scala.tools.nsc.plugins.Plugin.loadAllFrom.findDescriptor.loop.p">p</a> :: <a title="List[scala.reflect.io.Path]" id="scala.tools.nsc.plugins.Plugin.loadAllFrom.findDescriptor.loop.rest">rest</a> =&gt;
          if <span class="delimiter">(</span><a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.findDescriptor.loop.p" title="scala.reflect.io.Path">p</a>.<a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path.isDirectory" title="=&gt; Boolean">isDirectory</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.plugins.Plugin.loadDescriptionFromFile" title="(f: scala.reflect.io.Path)scala.util.Try[scala.tools.nsc.plugins.PluginDescription]">loadDescriptionFromFile</a><span class="delimiter">(</span><a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.findDescriptor.loop.p" title="scala.reflect.io.Path">p</a>.<a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path.toDirectory" title="=&gt; scala.reflect.io.Directory">toDirectory</a> <a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path./(4a8983e5f7)" title="(child: scala.reflect.io.Path)scala.reflect.io.Path">/</a> <a href="../../../reflect/io/Path.scala.html#scala.reflect.io.Path.string2path" title="implicit scala.reflect.io.Path.string2path : (s: String)scala.reflect.io.Path">PluginXML</a><span class="delimiter">)</span>
          else if <span class="delimiter">(</span><a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.findDescriptor.loop.p" title="scala.reflect.io.Path">p</a>.<a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path.isFile" title="=&gt; Boolean">isFile</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.plugins.Plugin.loadDescriptionFromJar" title="(jarp: scala.reflect.io.Path)scala.util.Try[scala.tools.nsc.plugins.PluginDescription]">loadDescriptionFromJar</a><span class="delimiter">(</span><a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.findDescriptor.loop.p" title="scala.reflect.io.Path">p</a>.<a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path.toFile" title="=&gt; scala.reflect.io.File">toFile</a><span class="delimiter">)</span>
          else <a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.findDescriptor.loop" title="(qs: List[scala.reflect.io.Path])scala.util.Try[scala.tools.nsc.plugins.PluginDescription]">loop</a><span class="delimiter">(</span><a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.findDescriptor.loop.rest" title="List[scala.reflect.io.Path]">rest</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.findDescriptor.loop" title="(qs: List[scala.reflect.io.Path])scala.util.Try[scala.tools.nsc.plugins.PluginDescription]">loop</a><span class="delimiter">(</span><a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.findDescriptor.ps" title="List[scala.reflect.io.Path]">ps</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    val fromPaths: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="PDResults">PDResults</a> = <a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.paths" title="List[List[scala.reflect.io.Path]]">paths</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: List[scala.reflect.io.Path] =&gt; (List[scala.reflect.io.Path], scala.util.Try[scala.tools.nsc.plugins.PluginDescription]))(implicit bf: scala.collection.generic.CanBuildFrom[List[List[scala.reflect.io.Path]],(List[scala.reflect.io.Path], scala.util.Try[scala.tools.nsc.plugins.PluginDescription]),List[(List[scala.reflect.io.Path], scala.util.Try[scala.tools.nsc.plugins.PluginDescription])]])List[(List[scala.reflect.io.Path], scala.util.Try[scala.tools.nsc.plugins.PluginDescription])]">map</a> <span class="delimiter">(</span><span title="List[scala.reflect.io.Path]">p</span> =&gt; <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: List[scala.reflect.io.Path], _2: scala.util.Try[scala.tools.nsc.plugins.PluginDescription])(List[scala.reflect.io.Path], scala.util.Try[scala.tools.nsc.plugins.PluginDescription])" class="delimiter">(</a><span title="List[scala.reflect.io.Path]">p</span>, <a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.findDescriptor" title="(ps: List[scala.reflect.io.Path])scala.util.Try[scala.tools.nsc.plugins.PluginDescription]">findDescriptor</a><span class="delimiter">(</span><span title="List[scala.reflect.io.Path]">p</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="PDResults" id="scala.tools.nsc.plugins.Plugin.loadAllFrom.fromPaths">map</a> <a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.fromPaths.$anonfun.x0$1" title="&lt;refinement of Product with scala.util.Try[(scala.tools.nsc.plugins.PluginDescription, tools.nsc.util.ScalaClassLoader)]&gt; extends Product with Serializable with scala.util.Try[(scala.tools.nsc.plugins.PluginDescription, tools.nsc.util.ScalaClassLoader)]" class="delimiter">{</a>
      case <span class="delimiter">(</span><span title="List[scala.reflect.io.Path]">p</span>, Success<span class="delimiter">(</span><a title="scala.tools.nsc.plugins.PluginDescription" id="scala.tools.nsc.plugins.Plugin.loadAllFrom.fromPaths.$anonfun.pd">pd</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="../../../util/Try.scala.html#scala.util;Success" title="(value: (scala.tools.nsc.plugins.PluginDescription, tools.nsc.util.ScalaClassLoader))scala.util.Success[(scala.tools.nsc.plugins.PluginDescription, tools.nsc.util.ScalaClassLoader)]">Success</a><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: scala.tools.nsc.plugins.PluginDescription, _2: tools.nsc.util.ScalaClassLoader)(scala.tools.nsc.plugins.PluginDescription, tools.nsc.util.ScalaClassLoader)" class="delimiter">(</a><a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.fromPaths.$anonfun.pd" title="scala.tools.nsc.plugins.PluginDescription">pd</a>, <a href="#scala.tools.nsc.plugins.Plugin.loaderFor" title="(locations: Seq[scala.reflect.io.Path])tools.nsc.util.ScalaClassLoader">loaderFor</a><span class="delimiter">(</span><span title="List[scala.reflect.io.Path]">p</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      case <span class="delimiter">(</span>_, Failure<span class="delimiter">(</span><a title="Throwable" id="scala.tools.nsc.plugins.Plugin.loadAllFrom.fromPaths.$anonfun.e">e</a><span class="delimiter">)</span><span class="delimiter">)</span>  =&gt; <a href="../../../util/Try.scala.html#scala.util;Failure" title="(exception: Throwable)scala.util.Failure[Nothing]">Failure</a><span class="delimiter">(</span><a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.fromPaths.$anonfun.e" title="Throwable">e</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    val <a title="scala.collection.mutable.HashSet[String]" id="scala.tools.nsc.plugins.Plugin.loadAllFrom.seen">seen</a> = mutable.<a href="../../../collection/generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="[A](elems: A*)scala.collection.mutable.HashSet[A]">HashSet</a><span title="(elems: String*)scala.collection.mutable.HashSet[String]" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    val enabled = <span class="delimiter">(</span><a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.fromPaths" title="PDResults">fromPaths</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.:::" title="(prefix: List[scala.util.Try[(scala.tools.nsc.plugins.PluginDescription, tools.nsc.util.ScalaClassLoader)]])List[scala.util.Try[(scala.tools.nsc.plugins.PluginDescription, tools.nsc.util.ScalaClassLoader)]]">:::</a> <a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.fromDirs" title="PDResults">fromDirs</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="List[scala.util.Try[scala.tools.nsc.plugins.Plugin.AnyClass]]" id="scala.tools.nsc.plugins.Plugin.loadAllFrom.enabled">map</a> <a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.enabled.$anonfun.x0$2" title="scala.util.Try[scala.tools.nsc.plugins.Plugin.AnyClass]" class="delimiter">{</a>
      case Success<span class="delimiter">(</span><span class="delimiter">(</span><span title="scala.tools.nsc.plugins.PluginDescription">pd</span>, <span title="tools.nsc.util.ScalaClassLoader">loader</span><span class="delimiter">)</span><span class="delimiter">)</span> if <a href="../../../collection/GenSetLike.scala.html#scala.collection;GenSetLike.apply" title="(elem: String)Boolean">seen</a><span class="delimiter">(</span><span title="scala.tools.nsc.plugins.PluginDescription">pd</span>.<a href="PluginDescription.scala.html#scala.tools.nsc.plugins;PluginDescription.classname" title="=&gt; String">classname</a><span class="delimiter">)</span>        =&gt;
        <span class="comment">// a nod to SI-7494, take the plugin classes distinctly</span>
        <a href="../../../util/Try.scala.html#scala.util;Failure" title="(exception: Throwable)scala.util.Failure[Nothing]">Failure</a><span class="delimiter">(</span>new <a href="#scala.tools.nsc.plugins;PluginLoadException" title="scala.tools.nsc.plugins.PluginLoadException">PluginLoadException</a><span class="delimiter">(</span><span title="scala.tools.nsc.plugins.PluginDescription">pd</span>.<a href="PluginDescription.scala.html#scala.tools.nsc.plugins;PluginDescription.name" title="=&gt; String">name</a>, <a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;Ignoring duplicate plugin &quot;)">Ignoring duplicate plugin $</span><span class="delimiter">{</span><span title="scala.tools.nsc.plugins.PluginDescription">pd</span>.<a href="PluginDescription.scala.html#scala.tools.nsc.plugins;PluginDescription.name" title="=&gt; String">name</a><span class="delimiter">}</span><span title="String(&quot; (&quot;)"> ($</span><span class="delimiter">{</span><span title="scala.tools.nsc.plugins.PluginDescription">pd</span>.<a href="PluginDescription.scala.html#scala.tools.nsc.plugins;PluginDescription.classname" title="=&gt; String">classname</a><span class="delimiter">}</span><span title="String(&quot;)&quot;)" class="string">)&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      case Success<span class="delimiter">(</span><span class="delimiter">(</span><span title="scala.tools.nsc.plugins.PluginDescription">pd</span>, <span title="tools.nsc.util.ScalaClassLoader">loader</span><span class="delimiter">)</span><span class="delimiter">)</span> if <a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.ignoring" title="List[String]">ignoring</a> <a href="../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.contains" title="(elem: String)Boolean">contains</a> <span title="scala.tools.nsc.plugins.PluginDescription">pd</span>.<a href="PluginDescription.scala.html#scala.tools.nsc.plugins;PluginDescription.name" title="=&gt; String">name</a> =&gt;
        <a href="../../../util/Try.scala.html#scala.util;Failure" title="(exception: Throwable)scala.util.Failure[Nothing]">Failure</a><span class="delimiter">(</span>new <a href="#scala.tools.nsc.plugins;PluginLoadException" title="scala.tools.nsc.plugins.PluginLoadException">PluginLoadException</a><span class="delimiter">(</span><span title="scala.tools.nsc.plugins.PluginDescription">pd</span>.<a href="PluginDescription.scala.html#scala.tools.nsc.plugins;PluginDescription.name" title="=&gt; String">name</a>, <a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;Disabling plugin &quot;)">Disabling plugin $</span><span class="delimiter">{</span><span title="scala.tools.nsc.plugins.PluginDescription">pd</span>.<a href="PluginDescription.scala.html#scala.tools.nsc.plugins;PluginDescription.name" title="=&gt; String">name</a><span class="delimiter">}</span><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      case Success<span class="delimiter">(</span><span class="delimiter">(</span><span title="scala.tools.nsc.plugins.PluginDescription">pd</span>, <span title="tools.nsc.util.ScalaClassLoader">loader</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.seen" title="scala.collection.mutable.HashSet[String]">seen</a> <a href="../../../collection/mutable/HashSet.scala.html#scala.collection.mutable;HashSet.+=(53f2a8289f)" title="(elem: String)seen.type">+=</a> <span title="scala.tools.nsc.plugins.PluginDescription">pd</span>.<a href="PluginDescription.scala.html#scala.tools.nsc.plugins;PluginDescription.classname" title="=&gt; String">classname</a>
        <a href="#scala.tools.nsc.plugins.Plugin" title="scala.tools.nsc.plugins.Plugin.type">Plugin</a>.<a href="#scala.tools.nsc.plugins.Plugin.load" title="(classname: String, loader: ClassLoader)scala.util.Try[scala.tools.nsc.plugins.Plugin.AnyClass]">load</a><span class="delimiter">(</span><span title="scala.tools.nsc.plugins.PluginDescription">pd</span>.<a href="PluginDescription.scala.html#scala.tools.nsc.plugins;PluginDescription.classname" title="=&gt; String">classname</a>, <span title="tools.nsc.util.ScalaClassLoader">loader</span><span class="delimiter">)</span>
      case Failure<span class="delimiter">(</span><a title="Throwable" id="scala.tools.nsc.plugins.Plugin.loadAllFrom.enabled.$anonfun.e">e</a><span class="delimiter">)</span>            =&gt;
        <a href="../../../util/Try.scala.html#scala.util;Failure" title="(exception: Throwable)scala.util.Failure[Nothing]">Failure</a><span class="delimiter">(</span><a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.enabled.$anonfun.e" title="Throwable">e</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#scala.tools.nsc.plugins.Plugin.loadAllFrom.enabled" title="List[scala.util.Try[scala.tools.nsc.plugins.Plugin.AnyClass]]">enabled</a>   <span class="comment">// distinct and not disabled</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Instantiate a plugin class, given the class and
   *  the compiler it is to be used in.
   */</span>
  def <a title="(clazz: scala.tools.nsc.plugins.Plugin.AnyClass, global: scala.tools.nsc.Global)scala.tools.nsc.plugins.Plugin" id="scala.tools.nsc.plugins.Plugin.instantiate">instantiate</a><span class="delimiter">(</span><a title="scala.tools.nsc.plugins.Plugin.AnyClass" id="scala.tools.nsc.plugins.Plugin.instantiate.clazz">clazz</a>: <span title="scala.tools.nsc.plugins.Plugin.AnyClass">AnyClass</span>, <a title="scala.tools.nsc.Global" id="scala.tools.nsc.plugins.Plugin.instantiate.global">global</a>: <a href="../Global.scala.html#scala.tools.nsc;Global" title="scala.tools.nsc.Global">Global</a><span class="delimiter">)</span>: <a href="#scala.tools.nsc.plugins;Plugin" title="scala.tools.nsc.plugins.Plugin">Plugin</a> = <span class="delimiter">{</span>
    <span class="delimiter">(</span><a href="#scala.tools.nsc.plugins.Plugin.instantiate.clazz" title="scala.tools.nsc.plugins.Plugin.AnyClass">clazz</a> <span title="(x$1: Class[_]*)java.lang.reflect.Constructor[_$1]">getConstructor</span> classOf<span title="Class[scala.tools.nsc.Global](classOf[scala.tools.nsc.Global])" class="delimiter">[</span>Global<span class="delimiter">]</span> <span title="(x$1: Object*)_$1">newInstance</span> <a href="#scala.tools.nsc.plugins.Plugin.instantiate.global" title="scala.tools.nsc.Global">global</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scala.tools.nsc.plugins.Plugin" class="delimiter">[</span><a href="#scala.tools.nsc.plugins;Plugin" title="scala.tools.nsc.plugins.Plugin">Plugin</a><span class="delimiter">]</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

class <a title="class PluginLoadException extends Exception" id="scala.tools.nsc.plugins;PluginLoadException">PluginLoadException</a><a href="#scala.tools.nsc.plugins;PluginLoadException" title="scala.tools.nsc.plugins.PluginLoadException" class="delimiter">(</a>val <a title="String" id="scala.tools.nsc.plugins;PluginLoadException.path">path</a>: <span title="String">String</span>, <a title="String" id="scala.tools.nsc.plugins;PluginLoadException.message">message</a>: <span title="String">String</span>, <a title="Exception" id="scala.tools.nsc.plugins;PluginLoadException.cause">cause</a>: <span title="Exception">Exception</span><span class="delimiter">)</span> extends <a href="../../../package.scala.html#scala.package;Exception" title="Exception">Exception</a><span class="delimiter">(</span><a href="#scala.tools.nsc.plugins;PluginLoadException.message" title="String">message</a>, <a href="#scala.tools.nsc.plugins;PluginLoadException.cause" title="Exception">cause</a><span class="delimiter">)</span> <span class="delimiter">{</span>
  def this<span class="delimiter">(</span><a title="String" id="scala.tools.nsc.plugins;PluginLoadException.<init>(d915cc6910).path">path</a>: <span title="String">String</span>, <a title="String" id="scala.tools.nsc.plugins;PluginLoadException.<init>(d915cc6910).message">message</a>: <span title="String">String</span><span class="delimiter">)</span> = this<span class="delimiter">(</span><a href="#scala.tools.nsc.plugins;PluginLoadException.<init>(d915cc6910).path" title="String">path</a>, <a href="#scala.tools.nsc.plugins;PluginLoadException.<init>(d915cc6910).message" title="String">message</a>, null<span class="delimiter">)</span>
<span class="delimiter">}</span>

class <a title="class MissingPluginException extends scala.tools.nsc.plugins.PluginLoadException" id="scala.tools.nsc.plugins;MissingPluginException">MissingPluginException</a><a href="#scala.tools.nsc.plugins;MissingPluginException" title="scala.tools.nsc.plugins.MissingPluginException" class="delimiter">(</a><a title="String" id="scala.tools.nsc.plugins;MissingPluginException.path">path</a>: <span title="String">String</span><span class="delimiter">)</span> extends <a href="#scala.tools.nsc.plugins;PluginLoadException" title="scala.tools.nsc.plugins.PluginLoadException">PluginLoadException</a><span class="delimiter">(</span><a href="#scala.tools.nsc.plugins;MissingPluginException.path" title="String">path</a>, <a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;No plugin in path &quot;)">No plugin in path $</span><a href="#scala.tools.nsc.plugins;MissingPluginException.path" title="String">path</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  def this<span class="delimiter">(</span><a title="List[scala.reflect.io.Path]" id="scala.tools.nsc.plugins;MissingPluginException.<init>(a8c48939f6).paths">paths</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[scala.reflect.io.Path]">List</a><span class="delimiter">[</span>Path<span class="delimiter">]</span><span class="delimiter">)</span> = this<span class="delimiter">(</span><a href="#scala.tools.nsc.plugins;MissingPluginException.<init>(a8c48939f6).paths" title="List[scala.reflect.io.Path]">paths</a> <a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.mkString(f5d728d244)" title="(sep: String)String">mkString</a> <a href="../../../reflect/io/File.scala.html#scala.reflect.io.File" title="scala.reflect.io.File.type">File</a>.<a href="../../../reflect/io/File.scala.html#scala.reflect.io.File.pathSeparator" title="=&gt; String">pathSeparator</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
