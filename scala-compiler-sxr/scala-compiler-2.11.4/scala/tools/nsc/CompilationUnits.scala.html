<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/tools/nsc/CompilationUnits.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2013 LAMP/EPFL
 * @author  Martin Odersky
 */</span>

package scala.tools.nsc

import scala.reflect.internal.util.<span class="delimiter">{</span> SourceFile, NoSourceFile, FreshNameCreator <span class="delimiter">}</span>
import scala.collection.mutable
import scala.collection.mutable.<span class="delimiter">{</span> LinkedHashSet, ListBuffer <span class="delimiter">}</span>
import scala.tools.nsc.reporters.Reporter

trait <a title="trait CompilationUnits extends AnyRef" id="scala.tools.nsc;CompilationUnits">CompilationUnits</a> <a href="../../Unit.scala.html#scala;Unit" title="Unit" class="delimiter">{</a> global: Global =&gt;

  <span class="comment">/** An object representing a missing compilation unit.
   */</span>
  object <a title="CompilationUnits.this.NoCompilationUnit.type" id="scala.tools.nsc;CompilationUnits.NoCompilationUnit">NoCompilationUnit</a> extends <a href="#scala.tools.nsc;CompilationUnits;CompilationUnit" title="CompilationUnits.this.CompilationUnit">CompilationUnit</a><span class="delimiter">(</span><a href="../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util.NoSourceFile" title="scala.reflect.internal.util.NoSourceFile.type">NoSourceFile</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    override lazy val <a title="Boolean" id="scala.tools.nsc;CompilationUnits.NoCompilationUnit.isJava">isJava</a> = false
    override def <a title="=&gt; Boolean" id="scala.tools.nsc;CompilationUnits.NoCompilationUnit.exists">exists</a> = false
    override def <a title="()String" id="scala.tools.nsc;CompilationUnits.NoCompilationUnit.toString">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="String(&quot;NoCompilationUnit&quot;)" class="string">&quot;NoCompilationUnit&quot;</span>
  <span class="delimiter">}</span>

  <span class="comment">/** One unit of compilation that has been submitted to the compiler.
    * It typically corresponds to a single file of source code.  It includes
    * error-reporting hooks.  */</span>
  class <a title="class CompilationUnit extends AnyRef with CompilationUnits.this.CompilationUnitContextApi" id="scala.tools.nsc;CompilationUnits;CompilationUnit">CompilationUnit</a><a href="#scala.tools.nsc;CompilationUnits;CompilationUnit" title="CompilationUnits.this.CompilationUnit" class="delimiter">(</a>val <a title="scala.reflect.internal.util.SourceFile" id="scala.tools.nsc;CompilationUnits;CompilationUnit.source">source</a>: <a href="../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile" title="scala.reflect.internal.util.SourceFile">SourceFile</a><span class="delimiter">)</span> extends <a href="../../reflect/macros/Universe.scala.html#scala.reflect.macros;Universe;CompilationUnitContextApi" title="CompilationUnits.this.CompilationUnitContextApi">CompilationUnitContextApi</a> <span class="delimiter">{</span> self =&gt;

    <span class="comment">/** the fresh name creator */</span>
    implicit val <a title="scala.reflect.internal.util.FreshNameCreator" id="scala.tools.nsc;CompilationUnits;CompilationUnit.fresh">fresh</a>: <a href="../../reflect/internal/util/FreshNameCreator.scala.html#scala.reflect.internal.util;FreshNameCreator" title="scala.reflect.internal.util.FreshNameCreator">FreshNameCreator</a>     = new <a href="../../reflect/internal/util/FreshNameCreator.scala.html#scala.reflect.internal.util;FreshNameCreator" title="scala.reflect.internal.util.FreshNameCreator">FreshNameCreator</a>
    def <a title="(prefix: String)CompilationUnits.this.TermName" id="scala.tools.nsc;CompilationUnits;CompilationUnit.freshTermName">freshTermName</a><span class="delimiter">(</span><a title="String" id="scala.tools.nsc;CompilationUnits;CompilationUnit.freshTermName$default$1">prefix</a>: <span title="String">String</span> = <span title="String(&quot;x$&quot;)" class="string">&quot;x$&quot;</span><span class="delimiter">)</span> = <a href="#scala.tools.nsc;CompilationUnits" title="CompilationUnits.this.type">global</a>.<a href="../../reflect/internal/FreshNames.scala.html#scala.reflect.internal;FreshNames.freshTermName" title="(prefix: String)(implicit creator: scala.reflect.internal.util.FreshNameCreator)CompilationUnits.this.TermName">freshTermName</a><a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.fresh" title="=&gt; scala.reflect.internal.util.FreshNameCreator" class="delimiter">(</a><a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.freshTermName$default$1" title="String">prefix</a><span class="delimiter">)</span>
    def <a title="(prefix: String)CompilationUnits.this.TypeName" id="scala.tools.nsc;CompilationUnits;CompilationUnit.freshTypeName">freshTypeName</a><span class="delimiter">(</span><a title="String" id="scala.tools.nsc;CompilationUnits;CompilationUnit.freshTypeName.prefix">prefix</a>: <span title="String">String</span><span class="delimiter">)</span>        = <a href="#scala.tools.nsc;CompilationUnits" title="CompilationUnits.this.type">global</a>.<a href="../../reflect/internal/FreshNames.scala.html#scala.reflect.internal;FreshNames.freshTypeName" title="(prefix: String)(implicit creator: scala.reflect.internal.util.FreshNameCreator)CompilationUnits.this.TypeName">freshTypeName</a><a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.fresh" title="=&gt; scala.reflect.internal.util.FreshNameCreator" class="delimiter">(</a><a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.freshTypeName.prefix" title="String">prefix</a><span class="delimiter">)</span>

    <span class="comment">/** the content of the compilation unit in tree form */</span>
    var <a title="CompilationUnits.this.Tree" id="scala.tools.nsc;CompilationUnits;CompilationUnit.body_=">body</a>: <a href="../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="CompilationUnits.this.Tree">Tree</a> = <a href="../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="CompilationUnits.this.EmptyTree.type">EmptyTree</a>

    <span class="comment">/** The position of the first xml literal encountered while parsing this compilation unit.
     * NoPosition if there were none. Write-once.
     */</span>
    private<span class="delimiter">[</span>this<span class="delimiter">]</span> var <a title="CompilationUnits.this.Position" id="scala.tools.nsc;CompilationUnits;CompilationUnit._firstXmlPos">_firstXmlPos</a>: <a href="../../reflect/internal/util/Position.scala.html#scala.reflect.internal.util;Position" title="CompilationUnits.this.Position">Position</a> = <a href="../../reflect/internal/Positions.scala.html#scala.reflect.internal;Positions.NoPosition" title="=&gt; reflect.internal.util.NoPosition.type">NoPosition</a>

    <span class="comment">/** Record that we encountered XML. Should only be called once. */</span>
    protected<span class="delimiter">[</span>nsc<span class="delimiter">]</span> def <a title="(pos: CompilationUnits.this.Position)Unit" id="scala.tools.nsc;CompilationUnits;CompilationUnit.encounteredXml">encounteredXml</a><span class="delimiter">(</span><a title="CompilationUnits.this.Position" id="scala.tools.nsc;CompilationUnits;CompilationUnit.encounteredXml.pos">pos</a>: <a href="../../reflect/internal/util/Position.scala.html#scala.reflect.internal.util;Position" title="CompilationUnits.this.Position">Position</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc;CompilationUnits;CompilationUnit._firstXmlPos" title="CompilationUnits.this.Position">_firstXmlPos</a> = <a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.encounteredXml.pos" title="CompilationUnits.this.Position">pos</a>

    <span class="comment">/** Does this unit contain XML? */</span>
    def <a title="=&gt; Boolean" id="scala.tools.nsc;CompilationUnits;CompilationUnit.hasXml">hasXml</a> = <a href="#scala.tools.nsc;CompilationUnits;CompilationUnit._firstXmlPos" title="CompilationUnits.this.Position">_firstXmlPos</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../reflect/internal/Positions.scala.html#scala.reflect.internal;Positions.NoPosition" title="=&gt; reflect.internal.util.NoPosition.type">NoPosition</a>

    <span class="comment">/** Position of first XML literal in this unit. */</span>
    def <a title="=&gt; CompilationUnits.this.Position" id="scala.tools.nsc;CompilationUnits;CompilationUnit.firstXmlPos">firstXmlPos</a> = <a href="#scala.tools.nsc;CompilationUnits;CompilationUnit._firstXmlPos" title="CompilationUnits.this.Position">_firstXmlPos</a>

    def <a title="=&gt; Boolean" id="scala.tools.nsc;CompilationUnits;CompilationUnit.exists">exists</a> = <a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.source" title="=&gt; scala.reflect.internal.util.SourceFile">source</a> <span title="(x$1: Any)Boolean">!=</span> <a href="../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util.NoSourceFile" title="scala.reflect.internal.util.NoSourceFile.type">NoSourceFile</a> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.source" title="=&gt; scala.reflect.internal.util.SourceFile">source</a> <span title="(x$1: Any)Boolean">!=</span> null

    <span class="comment">/** Note: depends now contains toplevel classes.
     *  To get their sourcefiles, you need to dereference with .sourcefile
     */</span>
    private<span class="delimiter">[</span>this<span class="delimiter">]</span> val <a title="scala.collection.mutable.HashSet[CompilationUnits.this.Symbol]" id="scala.tools.nsc;CompilationUnits;CompilationUnit._depends">_depends</a> = mutable.<a href="../../collection/generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="[A](elems: A*)scala.collection.mutable.HashSet[A]">HashSet</a><span title="(elems: CompilationUnits.this.Symbol*)scala.collection.mutable.HashSet[CompilationUnits.this.Symbol]" class="delimiter">[</span><a href="../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="CompilationUnits.this.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="comment">// SBT compatibility (SI-6875)</span>
    <span class="comment">//</span>
    <span class="comment">// imagine we have a file named A.scala, which defines a trait named Foo and a module named Main</span>
    <span class="comment">// Main contains a call to a macro, which calls compileLate to define a mock for Foo</span>
    <span class="comment">// compileLate creates a virtual file Virt35af32.scala, which contains a class named FooMock extending Foo,</span>
    <span class="comment">// and macro expansion instantiates FooMock. the stage is now set. let's see what happens next.</span>
    <span class="comment">//</span>
    <span class="comment">// without this workaround in scalac or without being patched itself, sbt will think that</span>
    <span class="comment">// * Virt35af32 depends on A (because it extends Foo from A)</span>
    <span class="comment">// * A depends on Virt35af32 (because it contains a macro expansion referring to FooMock from Virt35af32)</span>
    <span class="comment">//</span>
    <span class="comment">// after compiling A.scala, SBT will notice that it has a new source file named Virt35af32.</span>
    <span class="comment">// it will also think that this file hasn't yet been compiled and since A depends on it</span>
    <span class="comment">// it will think that A needs to be recompiled.</span>
    <span class="comment">//</span>
    <span class="comment">// recompilation will lead to another macro expansion. that another macro expansion might choose to create a fresh mock,</span>
    <span class="comment">// producing another virtual file, say, Virtee509a, which will again trick SBT into thinking that A needs a recompile,</span>
    <span class="comment">// which will lead to another macro expansion, which will produce another virtual file and so on</span>
    def <a title="=&gt; scala.collection.mutable.HashSet[CompilationUnits.this.Symbol]" id="scala.tools.nsc;CompilationUnits;CompilationUnit.depends">depends</a> = if <span class="delimiter">(</span><a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.exists" title="=&gt; Boolean">exists</a> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.source" title="=&gt; scala.reflect.internal.util.SourceFile">source</a>.<a href="../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile.file" title="=&gt; scala.reflect.io.AbstractFile">file</a>.<a href="../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile.isVirtual" title="=&gt; Boolean">isVirtual</a><span class="delimiter">)</span> <a href="#scala.tools.nsc;CompilationUnits;CompilationUnit._depends" title="scala.collection.mutable.HashSet[CompilationUnits.this.Symbol]">_depends</a> else mutable.<a href="../../collection/generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="[A](elems: A*)scala.collection.mutable.HashSet[A]">HashSet</a><span title="(elems: CompilationUnits.this.Symbol*)scala.collection.mutable.HashSet[CompilationUnits.this.Symbol]" class="delimiter">[</span><a href="../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="CompilationUnits.this.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="comment">/** so we can relink
     */</span>
    private<span class="delimiter">[</span>this<span class="delimiter">]</span> val <a title="scala.collection.mutable.HashSet[CompilationUnits.this.Symbol]" id="scala.tools.nsc;CompilationUnits;CompilationUnit._defined">_defined</a> = mutable.<a href="../../collection/generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="[A](elems: A*)scala.collection.mutable.HashSet[A]">HashSet</a><span title="(elems: CompilationUnits.this.Symbol*)scala.collection.mutable.HashSet[CompilationUnits.this.Symbol]" class="delimiter">[</span><a href="../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="CompilationUnits.this.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    def <a title="=&gt; scala.collection.mutable.HashSet[CompilationUnits.this.Symbol]" id="scala.tools.nsc;CompilationUnits;CompilationUnit.defined">defined</a> = if <span class="delimiter">(</span><a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.exists" title="=&gt; Boolean">exists</a> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.source" title="=&gt; scala.reflect.internal.util.SourceFile">source</a>.<a href="../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile.file" title="=&gt; scala.reflect.io.AbstractFile">file</a>.<a href="../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile.isVirtual" title="=&gt; Boolean">isVirtual</a><span class="delimiter">)</span> <a href="#scala.tools.nsc;CompilationUnits;CompilationUnit._defined" title="scala.collection.mutable.HashSet[CompilationUnits.this.Symbol]">_defined</a> else mutable.<a href="../../collection/generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="[A](elems: A*)scala.collection.mutable.HashSet[A]">HashSet</a><span title="(elems: CompilationUnits.this.Symbol*)scala.collection.mutable.HashSet[CompilationUnits.this.Symbol]" class="delimiter">[</span><a href="../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="CompilationUnits.this.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="comment">/** Synthetic definitions generated by namer, eliminated by typer.
     */</span>
    object <a title="CompilationUnit.this.synthetics.type" id="scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics">synthetics</a> <a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics" title="CompilationUnit.this.synthetics.type" class="delimiter">{</a>
      private val <a title="scala.collection.mutable.HashMap[CompilationUnits.this.Symbol,CompilationUnits.this.Tree]" id="scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics.map">map</a> = mutable.<a href="../../collection/generic/GenMapFactory.scala.html#scala.collection.generic;GenMapFactory.apply" title="[A, B](elems: (A, B)*)scala.collection.mutable.HashMap[A,B]">HashMap</a><span title="(elems: (CompilationUnits.this.Symbol, CompilationUnits.this.Tree)*)scala.collection.mutable.HashMap[CompilationUnits.this.Symbol,CompilationUnits.this.Tree]" class="delimiter">[</span><a href="../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="CompilationUnits.this.Symbol">Symbol</a>, <a href="../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="CompilationUnits.this.Tree">Tree</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      def <a title="(sym: CompilationUnits.this.Symbol, tree: CompilationUnits.this.Tree)Unit" id="scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics.update">update</a><span class="delimiter">(</span><a title="CompilationUnits.this.Symbol" id="scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics.update.sym">sym</a>: <a href="../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="CompilationUnits.this.Symbol">Symbol</a>, <a title="CompilationUnits.this.Tree" id="scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics.update.tree">tree</a>: <a href="../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="CompilationUnits.this.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="Global.scala.html#scala.tools.nsc;Global.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;adding synthetic (&quot;)">adding synthetic ($</span><a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics.update.sym" title="CompilationUnits.this.Symbol">sym</a><span title="String(&quot;, &quot;)">, $</span><a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics.update.tree" title="CompilationUnits.this.Tree">tree</a><span title="String(&quot;) to &quot;)">) to $</span><a href="#scala.tools.nsc;CompilationUnits;CompilationUnit" title="CompilationUnits.this.CompilationUnit">self</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
        <a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics.map" title="=&gt; scala.collection.mutable.HashMap[CompilationUnits.this.Symbol,CompilationUnits.this.Tree]">map</a>.<a href="../../collection/mutable/HashMap.scala.html#scala.collection.mutable;HashMap.update" title="(key: CompilationUnits.this.Symbol, value: CompilationUnits.this.Tree)Unit">update</a><span class="delimiter">(</span><a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics.update.sym" title="CompilationUnits.this.Symbol">sym</a>, <a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics.update.tree" title="CompilationUnits.this.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      def <a title="(sym: CompilationUnits.this.Symbol)Unit" id="scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics.-=">-=</a><span class="delimiter">(</span><a title="CompilationUnits.this.Symbol" id="scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics.-=.sym">sym</a>: <a href="../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="CompilationUnits.this.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="Global.scala.html#scala.tools.nsc;Global.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;removing synthetic &quot;)">removing synthetic $</span><a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics.-=.sym" title="CompilationUnits.this.Symbol">sym</a><span title="String(&quot; from &quot;)"> from $</span><a href="#scala.tools.nsc;CompilationUnits;CompilationUnit" title="CompilationUnits.this.CompilationUnit">self</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
        <a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics.map" title="=&gt; scala.collection.mutable.HashMap[CompilationUnits.this.Symbol,CompilationUnits.this.Tree]">map</a> <a href="../../collection/mutable/HashMap.scala.html#scala.collection.mutable;HashMap.-=(e1f1766304)" title="(key: CompilationUnits.this.Symbol)scala.tools.nsc.CompilationUnits.CompilationUnit.synthetics.map.type">-=</a> <a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics.-=.sym" title="CompilationUnits.this.Symbol">sym</a>
      <span class="delimiter">}</span>
      def <a title="(sym: CompilationUnits.this.Symbol)Option[CompilationUnits.this.Tree]" id="scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics.get">get</a><span class="delimiter">(</span><a title="CompilationUnits.this.Symbol" id="scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics.get.sym">sym</a>: <a href="../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="CompilationUnits.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../Option.scala.html#scala;Option" title="Option[CompilationUnits.this.Tree]">Option</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="../../reflect/internal/SymbolTable.scala.html#scala.reflect.internal;SymbolTable.debuglogResultIf" title="[T](msg: =&gt; String, cond: T =&gt; Boolean)(result: T)T">debuglogResultIf</a><span title="(msg: =&gt; String, cond: Option[CompilationUnits.this.Tree] =&gt; Boolean)(result: Option[CompilationUnits.this.Tree])Option[CompilationUnits.this.Tree]" class="delimiter">[</span><a href="../../Option.scala.html#scala;Option" title="Option[CompilationUnits.this.Tree]">Option</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;found synthetic for &quot;)">found synthetic for $</span><a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics.get.sym" title="CompilationUnits.this.Symbol">sym</a><span title="String(&quot; in &quot;)"> in $</span><a href="#scala.tools.nsc;CompilationUnits;CompilationUnit" title="CompilationUnits.this.CompilationUnit">self</a><span title="String(&quot;&quot;)" class="string">&quot;</span>, <a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics.get.$anonfun.x$1" title="Option[CompilationUnits.this.Tree]">_</a>.<a href="../../Option.scala.html#scala;Option.isDefined" title="=&gt; Boolean">isDefined</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics.map" title="=&gt; scala.collection.mutable.HashMap[CompilationUnits.this.Symbol,CompilationUnits.this.Tree]">map</a> <a href="../../collection/mutable/HashMap.scala.html#scala.collection.mutable;HashMap.get" title="(key: CompilationUnits.this.Symbol)Option[CompilationUnits.this.Tree]">get</a> <a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics.get.sym" title="CompilationUnits.this.Symbol">sym</a>
      <span class="delimiter">}</span>
      def <a title="=&gt; Iterable[CompilationUnits.this.Symbol]" id="scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics.keys">keys</a>: <a href="../../collection/Iterable.scala.html#scala.collection;Iterable" title="Iterable[CompilationUnits.this.Symbol]">Iterable</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics.map" title="=&gt; scala.collection.mutable.HashMap[CompilationUnits.this.Symbol,CompilationUnits.this.Tree]">map</a>.<a href="../../collection/MapLike.scala.html#scala.collection;MapLike.keys" title="=&gt; Iterable[CompilationUnits.this.Symbol]">keys</a>
      def <a title="()Unit" id="scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics.clear">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = <a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics.map" title="=&gt; scala.collection.mutable.HashMap[CompilationUnits.this.Symbol,CompilationUnits.this.Tree]">map</a>.<a href="../../collection/mutable/HashMap.scala.html#scala.collection.mutable;HashMap.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
      override def <a title="()String" id="scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics.toString">toString</a> = <a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics.map" title="=&gt; scala.collection.mutable.HashMap[CompilationUnits.this.Symbol,CompilationUnits.this.Tree]">map</a>.<a href="../../collection/MapLike.scala.html#scala.collection;MapLike.toString" title="()String">toString</a>
    <span class="delimiter">}</span>

    <span class="comment">// namer calls typer.computeType(rhs) on DefDef / ValDef when tpt is empty. the result</span>
    <span class="comment">// is cached here and re-used in typedDefDef / typedValDef</span>
    <span class="comment">// Also used to cache imports type-checked by namer.</span>
    val <a title="scala.collection.mutable.AnyRefMap[CompilationUnits.this.Tree,CompilationUnits.this.Tree]" id="scala.tools.nsc;CompilationUnits;CompilationUnit.transformed">transformed</a> = new mutable.<a href="../../collection/mutable/AnyRefMap.scala.html#scala.collection.mutable;AnyRefMap" title="scala.collection.mutable.AnyRefMap[CompilationUnits.this.Tree,CompilationUnits.this.Tree]">AnyRefMap</a><span class="delimiter">[</span>Tree, Tree<span class="delimiter">]</span>

    <span class="comment">/** things to check at end of compilation unit */</span>
    val <a title="scala.collection.mutable.ListBuffer[() =&gt; Unit]" id="scala.tools.nsc;CompilationUnits;CompilationUnit.toCheck">toCheck</a> = new <a href="../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer" title="scala.collection.mutable.ListBuffer[() =&gt; Unit]">ListBuffer</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Unit<span class="delimiter">]</span>

    <span class="comment">/** The features that were already checked for this unit */</span>
    var <a title="scala.collection.immutable.Set[CompilationUnits.this.Symbol]" id="scala.tools.nsc;CompilationUnits;CompilationUnit.checkedFeatures_=">checkedFeatures</a> = <a href="../../collection/generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</a><span title="(elems: CompilationUnits.this.Symbol*)scala.collection.immutable.Set[CompilationUnits.this.Symbol]" class="delimiter">[</span><a href="../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="CompilationUnits.this.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    def <a title="(pos: Int)scala.reflect.internal.util.Position" id="scala.tools.nsc;CompilationUnits;CompilationUnit.position">position</a><span class="delimiter">(</span><a title="Int" id="scala.tools.nsc;CompilationUnits;CompilationUnit.position.pos">pos</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.source" title="=&gt; scala.reflect.internal.util.SourceFile">source</a>.<a href="../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile.position" title="(offset: Int)scala.reflect.internal.util.Position">position</a><span class="delimiter">(</span><a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.position.pos" title="Int">pos</a><span class="delimiter">)</span>

    <span class="comment">/** The position of a targeted type check
     *  If this is different from NoPosition, the type checking
     *  will stop once a tree that contains this position range
     *  is fully attributed.
     */</span>
    def <a title="=&gt; CompilationUnits.this.Position" id="scala.tools.nsc;CompilationUnits;CompilationUnit.targetPos">targetPos</a>: <a href="../../reflect/internal/util/Position.scala.html#scala.reflect.internal.util;Position" title="CompilationUnits.this.Position">Position</a> = <a href="../../reflect/internal/Positions.scala.html#scala.reflect.internal;Positions.NoPosition" title="=&gt; reflect.internal.util.NoPosition.type">NoPosition</a>

    <span class="comment">/** The icode representation of classes in this compilation unit.
     *  It is empty up to phase 'icode'.
     */</span>
    val <a title="scala.collection.mutable.LinkedHashSet[CompilationUnits.this.icodes.IClass]" id="scala.tools.nsc;CompilationUnits;CompilationUnit.icode">icode</a>: <a href="../../collection/mutable/LinkedHashSet.scala.html#scala.collection.mutable;LinkedHashSet" title="scala.collection.mutable.LinkedHashSet[CompilationUnits.this.icodes.IClass]">LinkedHashSet</a><span class="delimiter">[</span>icodes.IClass<span class="delimiter">]</span> = new <a href="../../collection/mutable/LinkedHashSet.scala.html#scala.collection.mutable;LinkedHashSet" title="scala.collection.mutable.LinkedHashSet[CompilationUnits.this.icodes.IClass]">LinkedHashSet</a>

    @deprecated<span class="delimiter">(</span><span class="string">&quot;Call global.reporter.echo directly instead.&quot;</span>, <span class="string">&quot;2.11.2&quot;</span><span class="delimiter">)</span>
    final def <a title="(pos: CompilationUnits.this.Position, msg: String)Unit" id="scala.tools.nsc;CompilationUnits;CompilationUnit.echo">echo</a><span class="delimiter">(</span><a title="CompilationUnits.this.Position" id="scala.tools.nsc;CompilationUnits;CompilationUnit.echo.pos">pos</a>: <a href="../../reflect/internal/util/Position.scala.html#scala.reflect.internal.util;Position" title="CompilationUnits.this.Position">Position</a>, <a title="String" id="scala.tools.nsc;CompilationUnits;CompilationUnit.echo.msg">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../Unit.scala.html#scala;Unit" title="Unit">Unit</a>    = <a href="Global.scala.html#scala.tools.nsc;Global.reporter" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../../reflect/internal/Reporting.scala.html#scala.reflect.internal;Reporter.echo" title="(pos: scala.reflect.internal.util.Position, msg: String)Unit">echo</a><span class="delimiter">(</span><a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.echo.pos" title="CompilationUnits.this.Position">pos</a>, <a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.echo.msg" title="String">msg</a><span class="delimiter">)</span>
    @deprecated<span class="delimiter">(</span><span class="string">&quot;Call global.reporter.error (or typer.context.error) directly instead.&quot;</span>, <span class="string">&quot;2.11.2&quot;</span><span class="delimiter">)</span>
    final def <a title="(pos: CompilationUnits.this.Position, msg: String)Unit" id="scala.tools.nsc;CompilationUnits;CompilationUnit.error">error</a><span class="delimiter">(</span><a title="CompilationUnits.this.Position" id="scala.tools.nsc;CompilationUnits;CompilationUnit.error.pos">pos</a>: <a href="../../reflect/internal/util/Position.scala.html#scala.reflect.internal.util;Position" title="CompilationUnits.this.Position">Position</a>, <a title="String" id="scala.tools.nsc;CompilationUnits;CompilationUnit.error.msg">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../Unit.scala.html#scala;Unit" title="Unit">Unit</a>   = <a href="Global.scala.html#scala.tools.nsc;Global.reporter" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../../reflect/internal/Reporting.scala.html#scala.reflect.internal;Reporter.error" title="(pos: scala.reflect.internal.util.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.error.pos" title="CompilationUnits.this.Position">pos</a>, <a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.error.msg" title="String">msg</a><span class="delimiter">)</span>
    @deprecated<span class="delimiter">(</span><span class="string">&quot;Call global.reporter.warning (or typer.context.warning) directly instead.&quot;</span>, <span class="string">&quot;2.11.2&quot;</span><span class="delimiter">)</span>
    final def <a title="(pos: CompilationUnits.this.Position, msg: String)Unit" id="scala.tools.nsc;CompilationUnits;CompilationUnit.warning">warning</a><span class="delimiter">(</span><a title="CompilationUnits.this.Position" id="scala.tools.nsc;CompilationUnits;CompilationUnit.warning.pos">pos</a>: <a href="../../reflect/internal/util/Position.scala.html#scala.reflect.internal.util;Position" title="CompilationUnits.this.Position">Position</a>, <a title="String" id="scala.tools.nsc;CompilationUnits;CompilationUnit.warning.msg">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = <a href="Global.scala.html#scala.tools.nsc;Global.reporter" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../../reflect/internal/Reporting.scala.html#scala.reflect.internal;Reporter.warning" title="(pos: scala.reflect.internal.util.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.warning.pos" title="CompilationUnits.this.Position">pos</a>, <a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.warning.msg" title="String">msg</a><span class="delimiter">)</span>

    @deprecated<span class="delimiter">(</span><span class="string">&quot;Call global.currentRun.reporting.deprecationWarning directly instead.&quot;</span>, <span class="string">&quot;2.11.2&quot;</span><span class="delimiter">)</span>
    final def <a title="(pos: CompilationUnits.this.Position, msg: String)Unit" id="scala.tools.nsc;CompilationUnits;CompilationUnit.deprecationWarning">deprecationWarning</a><span class="delimiter">(</span><a title="CompilationUnits.this.Position" id="scala.tools.nsc;CompilationUnits;CompilationUnit.deprecationWarning.pos">pos</a>: <a href="../../reflect/internal/util/Position.scala.html#scala.reflect.internal.util;Position" title="CompilationUnits.this.Position">Position</a>, <a title="String" id="scala.tools.nsc;CompilationUnits;CompilationUnit.deprecationWarning.msg">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = <a href="Global.scala.html#scala.tools.nsc;Global.currentRun" title="=&gt; CompilationUnits.this.Run">currentRun</a>.<a href="../../reflect/internal/Reporting.scala.html#scala.reflect.internal;Reporting;RunReporting.reporting" title="=&gt; CompilationUnits.this.PerRunReporting">reporting</a>.<a href="Reporting.scala.html#scala.tools.nsc;Reporting;PerRunReporting.deprecationWarning(cf951b9848)" title="(pos: CompilationUnits.this.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span><a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.deprecationWarning.pos" title="CompilationUnits.this.Position">pos</a>, <a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.deprecationWarning.msg" title="String">msg</a><span class="delimiter">)</span>
    @deprecated<span class="delimiter">(</span><span class="string">&quot;Call global.currentRun.reporting.uncheckedWarning directly instead.&quot;</span>, <span class="string">&quot;2.11.2&quot;</span><span class="delimiter">)</span>
    final def <a title="(pos: CompilationUnits.this.Position, msg: String)Unit" id="scala.tools.nsc;CompilationUnits;CompilationUnit.uncheckedWarning">uncheckedWarning</a><span class="delimiter">(</span><a title="CompilationUnits.this.Position" id="scala.tools.nsc;CompilationUnits;CompilationUnit.uncheckedWarning.pos">pos</a>: <a href="../../reflect/internal/util/Position.scala.html#scala.reflect.internal.util;Position" title="CompilationUnits.this.Position">Position</a>, <a title="String" id="scala.tools.nsc;CompilationUnits;CompilationUnit.uncheckedWarning.msg">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../Unit.scala.html#scala;Unit" title="Unit">Unit</a>   = <a href="Global.scala.html#scala.tools.nsc;Global.currentRun" title="=&gt; CompilationUnits.this.Run">currentRun</a>.<a href="../../reflect/internal/Reporting.scala.html#scala.reflect.internal;Reporting;RunReporting.reporting" title="=&gt; CompilationUnits.this.PerRunReporting">reporting</a>.<a href="Reporting.scala.html#scala.tools.nsc;Reporting;PerRunReporting.uncheckedWarning" title="(pos: CompilationUnits.this.Position, msg: String)Unit">uncheckedWarning</a><span class="delimiter">(</span><a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.uncheckedWarning.pos" title="CompilationUnits.this.Position">pos</a>, <a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.uncheckedWarning.msg" title="String">msg</a><span class="delimiter">)</span>

    @deprecated<span class="delimiter">(</span><span class="string">&quot;This method will be removed. It does nothing.&quot;</span>, <span class="string">&quot;2.11.2&quot;</span><span class="delimiter">)</span>
    final def <a title="(pos: CompilationUnits.this.Position, msg: String)Unit" id="scala.tools.nsc;CompilationUnits;CompilationUnit.comment">comment</a><span class="delimiter">(</span><a title="CompilationUnits.this.Position" id="scala.tools.nsc;CompilationUnits;CompilationUnit.comment.pos">pos</a>: <a href="../../reflect/internal/util/Position.scala.html#scala.reflect.internal.util;Position" title="CompilationUnits.this.Position">Position</a>, <a title="String" id="scala.tools.nsc;CompilationUnits;CompilationUnit.comment.msg">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>

    <span class="comment">/** Is this about a .java source file? */</span>
    lazy val <a title="Boolean" id="scala.tools.nsc;CompilationUnits;CompilationUnit.isJava">isJava</a> = <a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.source" title="=&gt; scala.reflect.internal.util.SourceFile">source</a>.<a href="../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile.file" title="=&gt; scala.reflect.io.AbstractFile">file</a>.<a href="../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile.name" title="=&gt; String">name</a>.<span title="(x$1: String)Boolean">endsWith</span><span class="delimiter">(</span><span title="String(&quot;.java&quot;)" class="string">&quot;.java&quot;</span><span class="delimiter">)</span>

    override def <a title="()String" id="scala.tools.nsc;CompilationUnits;CompilationUnit.toString">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#scala.tools.nsc;CompilationUnits;CompilationUnit.source" title="=&gt; scala.reflect.internal.util.SourceFile">source</a>.<a href="../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile.toString" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
