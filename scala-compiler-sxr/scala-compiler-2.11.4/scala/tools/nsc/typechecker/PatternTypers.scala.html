<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/tools/nsc/typechecker/PatternTypers.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2013 LAMP/EPFL
 * @author  Paul Phillips
 */</span>

package scala
package tools
package nsc
package typechecker

import scala.collection.mutable
import symtab.Flags
import <a href="../package.scala.html#scala.tools.nsc.package.Mode" title="=&gt; reflect.internal.Mode.type">Mode</a>._

 <span class="comment">/**
 *
 *  A pattern match such as
 *
 *    x match { case Foo(a, b) =&gt; ...}
 *
 *  Might match an instance of any of the following definitions of Foo.
 *  Note the analogous treatment between case classes and unapplies.
 *
 *    case class Foo(xs: Int*)
 *    case class Foo(a: Int, xs: Int*)
 *    case class Foo(a: Int, b: Int)
 *    case class Foo(a: Int, b: Int, xs: Int*)
 *
 *    object Foo { def unapplySeq(x: Any): Option[Seq[Int]] }
 *    object Foo { def unapplySeq(x: Any): Option[(Int, Seq[Int])] }
 *    object Foo { def unapply(x: Any): Option[(Int, Int)] }
 *    object Foo { def unapplySeq(x: Any): Option[(Int, Int, Seq[Int])] }
 */</span>

trait <a title="trait PatternTypers extends AnyRef" id="scala.tools.nsc.typechecker;PatternTypers">PatternTypers</a> <a href="../../../Unit.scala.html#scala;Unit" title="Unit" class="delimiter">{</a>
  self: Analyzer =&gt;

  import <a href="Analyzer.scala.html#scala.tools.nsc.typechecker;Analyzer.global" title="=&gt; scala.tools.nsc.Global">global</a>._
  import <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions.definitions" title="PatternTypers.this.global.definitions.type">definitions</a>._

  private object <a title="PatternTypers.this.FixedAndRepeatedTypes.type" id="scala.tools.nsc.typechecker;PatternTypers.FixedAndRepeatedTypes">FixedAndRepeatedTypes</a> <a href="#scala.tools.nsc.typechecker;PatternTypers.FixedAndRepeatedTypes" title="PatternTypers.this.FixedAndRepeatedTypes.type" class="delimiter">{</a>
    def <a title="(types: List[PatternTypers.this.global.Type])Some[(List[PatternTypers.this.global.Type], PatternTypers.this.global.Type)]" id="scala.tools.nsc.typechecker;PatternTypers.FixedAndRepeatedTypes.unapply">unapply</a><span class="delimiter">(</span><a title="List[PatternTypers.this.global.Type]" id="scala.tools.nsc.typechecker;PatternTypers.FixedAndRepeatedTypes.unapply.types">types</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[PatternTypers.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#scala.tools.nsc.typechecker;PatternTypers.FixedAndRepeatedTypes.unapply.types" title="List[PatternTypers.this.global.Type]">types</a> match <span class="delimiter">{</span>
      case <a title="List[PatternTypers.this.global.Type]" id="scala.tools.nsc.typechecker;PatternTypers.FixedAndRepeatedTypes.unapply.init">init</a> <a href="../../../collection/SeqExtractors.scala.html#scala.collection.:+.unapply" title="(t: List[PatternTypers.this.global.Type] with scala.collection.SeqLike[PatternTypers.this.global.Type,List[PatternTypers.this.global.Type]])Option[(List[PatternTypers.this.global.Type], PatternTypers.this.global.Type)]">:+</a> <a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers.FixedAndRepeatedTypes.unapply.last">last</a> if <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.isRepeatedParamType" title="(tp: PatternTypers.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers.FixedAndRepeatedTypes.unapply.last" title="PatternTypers.this.global.Type">last</a><span class="delimiter">)</span> =&gt; <a href="../../../Option.scala.html#scala;Some" title="(x: (List[PatternTypers.this.global.Type], PatternTypers.this.global.Type))Some[(List[PatternTypers.this.global.Type], PatternTypers.this.global.Type)]">Some</a><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: List[PatternTypers.this.global.Type], _2: PatternTypers.this.global.Type)(List[PatternTypers.this.global.Type], PatternTypers.this.global.Type)" class="delimiter">(</a><a href="#scala.tools.nsc.typechecker;PatternTypers.FixedAndRepeatedTypes.unapply.init" title="List[PatternTypers.this.global.Type]">init</a>, <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.dropRepeated" title="(tp: PatternTypers.this.global.Type)PatternTypers.this.global.Type">dropRepeated</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers.FixedAndRepeatedTypes.unapply.last" title="PatternTypers.this.global.Type">last</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      case _                                         =&gt; <a href="../../../Option.scala.html#scala;Some" title="(x: (List[PatternTypers.this.global.Type], PatternTypers.this.global.NoType.type))Some[(List[PatternTypers.this.global.Type], PatternTypers.this.global.NoType.type)]">Some</a><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: List[PatternTypers.this.global.Type], _2: PatternTypers.this.global.NoType.type)(List[PatternTypers.this.global.Type], PatternTypers.this.global.NoType.type)" class="delimiter">(</a><a href="#scala.tools.nsc.typechecker;PatternTypers.FixedAndRepeatedTypes.unapply.types" title="List[PatternTypers.this.global.Type]">types</a>, <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.NoType" title="PatternTypers.this.global.NoType.type">NoType</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  trait <a title="trait PatternTyper extends AnyRef" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper">PatternTyper</a> <a href="../../../Unit.scala.html#scala;Unit" title="Unit" class="delimiter">{</a>
    self: Typer =&gt;

    import <a href="ContextErrors.scala.html#scala.tools.nsc.typechecker;ContextErrors;TyperContextErrors.TyperErrorGen" title="PatternTyper.this.TyperErrorGen.type">TyperErrorGen</a>._
    import <a href="Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.infer" title="=&gt; PatternTypers.this.Inferencer">infer</a>._

    private def <a title="=&gt; PatternTypers.this.global.CompilationUnit" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.unit">unit</a> = <a href="Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.context" title="=&gt; PatternTypers.this.Context">context</a>.<a href="Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.unit" title="=&gt; PatternTypers.this.global.CompilationUnit">unit</a>

    <span class="comment">// If the tree's symbol's type does not define an extractor, maybe the tree's type does.</span>
    <span class="comment">// this is the case when we encounter an arbitrary tree as the target of an unapply call</span>
    <span class="comment">// (rather than something that looks like a constructor call.) (for now, this only happens</span>
    <span class="comment">// due to wrapClassTagUnapply, but when we support parameterized extractors, it will become</span>
    <span class="comment">// more common place)</span>
    private def <a title="(tpe: PatternTypers.this.global.Type)Boolean" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.hasUnapplyMember(191c6e0f37)">hasUnapplyMember</a><span class="delimiter">(</span><a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.hasUnapplyMember(191c6e0f37).tpe">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="PatternTypers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a>   = <a href="Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.reallyExists" title="(sym: PatternTypers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="Unapplies.scala.html#scala.tools.nsc.typechecker;Unapplies.unapplyMember" title="(tp: PatternTypers.this.global.Type)PatternTypers.this.global.Symbol">unapplyMember</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.hasUnapplyMember(191c6e0f37).tpe" title="PatternTypers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
    private def <a title="(sym: PatternTypers.this.global.Symbol)Boolean" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.hasUnapplyMember(b233531661)">hasUnapplyMember</a><span class="delimiter">(</span><a title="PatternTypers.this.global.Symbol" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.hasUnapplyMember(b233531661).sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="PatternTypers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.hasUnapplyMember(191c6e0f37)" title="(tpe: PatternTypers.this.global.Type)Boolean">hasUnapplyMember</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.hasUnapplyMember(b233531661).sym" title="PatternTypers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.tpe_*" title="=&gt; PatternTypers.this.global.Type">tpe_*</a><span class="delimiter">)</span>
    private def <a title="(fun: PatternTypers.this.global.Tree)Boolean" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.hasUnapplyMember(f3f45917c6)">hasUnapplyMember</a><span class="delimiter">(</span><a title="PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.hasUnapplyMember(f3f45917c6).fun">fun</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="PatternTypers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a>   = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.hasUnapplyMember(b233531661)" title="(sym: PatternTypers.this.global.Symbol)Boolean">hasUnapplyMember</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.hasUnapplyMember(f3f45917c6).fun" title="PatternTypers.this.global.Tree">fun</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; PatternTypers.this.global.Symbol">symbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.hasUnapplyMember(191c6e0f37)" title="(tpe: PatternTypers.this.global.Type)Boolean">hasUnapplyMember</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.hasUnapplyMember(f3f45917c6).fun" title="PatternTypers.this.global.Tree">fun</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; PatternTypers.this.global.Type">tpe</a><span class="delimiter">)</span>

    <span class="comment">// ad-hoc overloading resolution to deal with unapplies and case class constructors</span>
    <span class="comment">// If some but not all alternatives survive filtering the tree's symbol with `p`,</span>
    <span class="comment">// then update the tree's symbol and type to exclude the filtered out alternatives.</span>
    private def <a title="(fun: PatternTypers.this.global.Tree)(p: PatternTypers.this.global.Symbol =&gt; Boolean)PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.inPlaceAdHocOverloadingResolution">inPlaceAdHocOverloadingResolution</a><span class="delimiter">(</span><a title="PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.inPlaceAdHocOverloadingResolution.fun">fun</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="PatternTypers.this.global.Tree">Tree</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="PatternTypers.this.global.Symbol =&gt; Boolean" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.inPlaceAdHocOverloadingResolution.p">p</a>: Symbol =&gt; Boolean<span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="PatternTypers.this.global.Tree">Tree</a> = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.inPlaceAdHocOverloadingResolution.fun" title="PatternTypers.this.global.Tree">fun</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; PatternTypers.this.global.Symbol">symbol</a> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.filter" title="(cond: PatternTypers.this.global.Symbol =&gt; Boolean)PatternTypers.this.global.Symbol">filter</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.inPlaceAdHocOverloadingResolution.p" title="PatternTypers.this.global.Symbol =&gt; Boolean">p</a> match <span class="delimiter">{</span>
      case <a title="PatternTypers.this.global.Symbol" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.inPlaceAdHocOverloadingResolution.sym">sym</a> if <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.inPlaceAdHocOverloadingResolution.sym" title="PatternTypers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.exists" title="=&gt; Boolean">exists</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.inPlaceAdHocOverloadingResolution.sym" title="PatternTypers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.inPlaceAdHocOverloadingResolution.fun" title="PatternTypers.this.global.Tree">fun</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; PatternTypers.this.global.Symbol">symbol</a><span class="delimiter">)</span> =&gt; <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.inPlaceAdHocOverloadingResolution.fun" title="PatternTypers.this.global.Tree">fun</a> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.setSymbol" title="(sym: PatternTypers.this.global.Symbol)fun.type">setSymbol</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.inPlaceAdHocOverloadingResolution.sym" title="PatternTypers.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;TreeContextApiImpl.modifyType" title="(f: PatternTypers.this.global.Type =&gt; PatternTypers.this.global.Type)PatternTypers.this.global.Tree">modifyType</a> <span class="delimiter">(</span><a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.inPlaceAdHocOverloadingResolution.$anonfun.tp">tp</a> =&gt; <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.filterOverloadedAlts" title="(tpe: PatternTypers.this.global.Type)(p: PatternTypers.this.global.Symbol =&gt; Boolean)PatternTypers.this.global.Type">filterOverloadedAlts</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.inPlaceAdHocOverloadingResolution.$anonfun.tp" title="PatternTypers.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.inPlaceAdHocOverloadingResolution.p" title="PatternTypers.this.global.Symbol =&gt; Boolean">p</a><span class="delimiter">)</span><span class="delimiter">)</span>
      case _                                        =&gt; <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.inPlaceAdHocOverloadingResolution.fun" title="PatternTypers.this.global.Tree">fun</a>
    <span class="delimiter">}</span>
    private def <a title="(tpe: PatternTypers.this.global.Type)(p: PatternTypers.this.global.Symbol =&gt; Boolean)PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.filterOverloadedAlts">filterOverloadedAlts</a><span class="delimiter">(</span><a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.filterOverloadedAlts.tpe">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="PatternTypers.this.global.Type">Type</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="PatternTypers.this.global.Symbol =&gt; Boolean" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.filterOverloadedAlts.p">p</a>: Symbol =&gt; Boolean<span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="PatternTypers.this.global.Type">Type</a> = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.filterOverloadedAlts.tpe" title="PatternTypers.this.global.Type">tpe</a> match <span class="delimiter">{</span>
      case OverloadedType<span class="delimiter">(</span><a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.filterOverloadedAlts.pre">pre</a>, <a title="List[PatternTypers.this.global.Symbol]" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.filterOverloadedAlts.alts">alts</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.overloadedType" title="(pre: PatternTypers.this.global.Type, alternatives: List[PatternTypers.this.global.Symbol])PatternTypers.this.global.Type">overloadedType</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.filterOverloadedAlts.pre" title="PatternTypers.this.global.Type">pre</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.filterOverloadedAlts.alts" title="List[PatternTypers.this.global.Symbol]">alts</a> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.filter" title="(p: PatternTypers.this.global.Symbol =&gt; Boolean)List[PatternTypers.this.global.Symbol]">filter</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.filterOverloadedAlts.p" title="PatternTypers.this.global.Symbol =&gt; Boolean">p</a><span class="delimiter">)</span>
      case <a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.filterOverloadedAlts.tp">tp</a>                        =&gt; <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.filterOverloadedAlts.tp" title="PatternTypers.this.global.Type">tp</a>
    <span class="delimiter">}</span>

    def <a title="(fun0: PatternTypers.this.global.Tree, pt: PatternTypers.this.global.Type)PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern">typedConstructorPattern</a><span class="delimiter">(</span><a title="PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.fun0">fun0</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="PatternTypers.this.global.Tree">Tree</a>, <a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.pt">pt</a>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="PatternTypers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="PatternTypers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="comment">// Do some ad-hoc overloading resolution and update the tree's symbol and type</span>
      <span class="comment">// do not update the symbol if the tree's symbol's type does not define an unapply member</span>
      <span class="comment">// (e.g. since it's some method that returns an object with an unapply member)</span>
      val <a title="PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.fun">fun</a>         = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.inPlaceAdHocOverloadingResolution" title="(fun: PatternTypers.this.global.Tree)(p: PatternTypers.this.global.Symbol =&gt; Boolean)PatternTypers.this.global.Tree">inPlaceAdHocOverloadingResolution</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.fun0" title="PatternTypers.this.global.Tree">fun0</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.hasUnapplyMember(b233531661)" title="(sym: PatternTypers.this.global.Symbol)Boolean">hasUnapplyMember</a><span class="delimiter">)</span>
      val <a title="PatternTypers.this.global.Symbol" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.caseClass">caseClass</a>   = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.fun" title="PatternTypers.this.global.Tree">fun</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; PatternTypers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.typeSymbol" title="=&gt; PatternTypers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.linkedClassOfClass" title="=&gt; PatternTypers.this.global.Symbol">linkedClassOfClass</a>
      val <a title="PatternTypers.this.global.Symbol" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.member">member</a>      = <a href="Unapplies.scala.html#scala.tools.nsc.typechecker;Unapplies.unapplyMember" title="(tp: PatternTypers.this.global.Type)PatternTypers.this.global.Symbol">unapplyMember</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.fun" title="PatternTypers.this.global.Tree">fun</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; PatternTypers.this.global.Type">tpe</a><span class="delimiter">)</span>
      def <a title="=&gt; PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.resultType">resultType</a>  = <span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.fun" title="PatternTypers.this.global.Tree">fun</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; PatternTypers.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.memberType" title="(sym: PatternTypers.this.global.Symbol)PatternTypers.this.global.Type">memberType</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.member" title="PatternTypers.this.global.Symbol">member</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.finalResultType" title="=&gt; PatternTypers.this.global.Type">finalResultType</a>
      def <a title="=&gt; PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.isEmptyType">isEmptyType</a> = <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.resultOfMatchingMethod" title="(tp: PatternTypers.this.global.Type, name: PatternTypers.this.global.TermName)(paramTypes: PatternTypers.this.global.Type*)PatternTypers.this.global.Type">resultOfMatchingMethod</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.resultType" title="=&gt; PatternTypers.this.global.Type">resultType</a>, <a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="PatternTypers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.isEmpty" title="=&gt; PatternTypers.this.global.nme.NameType">isEmpty</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span>
      def <a title="=&gt; Boolean" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.isOkay">isOkay</a>      = <span class="delimiter">(</span>
           <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.resultType" title="=&gt; PatternTypers.this.global.Type">resultType</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.isErroneous" title="=&gt; Boolean">isErroneous</a>
        <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.resultType" title="=&gt; PatternTypers.this.global.Type">resultType</a> <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.<:<" title="(that: PatternTypers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;ValueClassDefinitions.BooleanTpe" title="=&gt; PatternTypers.this.global.Type">BooleanTpe</a><span class="delimiter">)</span>
        <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.isEmptyType" title="=&gt; PatternTypers.this.global.Type">isEmptyType</a> <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.<:<" title="(that: PatternTypers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;ValueClassDefinitions.BooleanTpe" title="=&gt; PatternTypers.this.global.Type">BooleanTpe</a><span class="delimiter">)</span>
        <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.member" title="PatternTypers.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#scala.reflect.internal;HasFlags.isMacro" title="=&gt; Boolean">isMacro</a>
        <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.member" title="PatternTypers.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isOverloaded" title="=&gt; Boolean">isOverloaded</a> <span class="comment">// the whole overloading situation is over the rails</span>
      <span class="delimiter">)</span>

      <span class="comment">// Dueling test cases: pos/overloaded-unapply.scala, run/case-class-23.scala, pos/t5022.scala</span>
      <span class="comment">// A case class with 23+ params has no unapply method.</span>
      <span class="comment">// A case class constructor may be overloaded with unapply methods in the companion.</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.caseClass" title="PatternTypers.this.global.Symbol">caseClass</a>.<a href="../../../reflect/internal/HasFlags.scala.html#scala.reflect.internal;HasFlags.isCase" title="=&gt; Boolean">isCase</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.member" title="PatternTypers.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isOverloaded" title="=&gt; Boolean">isOverloaded</a><span class="delimiter">)</span>
        <a href="../../../reflect/internal/SymbolTable.scala.html#scala.reflect.internal;SymbolTable.logResult" title="(msg: =&gt; String)(result: PatternTypers.this.global.Tree)PatternTypers.this.global.Tree">logResult</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;convertToCaseConstructor(&quot;)">convertToCaseConstructor($</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.fun" title="PatternTypers.this.global.Tree">fun</a><span title="String(&quot;, &quot;)">, $</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.caseClass" title="PatternTypers.this.global.Symbol">caseClass</a><span title="String(&quot;, pt=&quot;)">, pt=$</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.pt" title="PatternTypers.this.global.Type">pt</a><span title="String(&quot;)&quot;)" class="string">)&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor" title="(tree: PatternTypers.this.global.Tree, caseClass: PatternTypers.this.global.Symbol, ptIn: PatternTypers.this.global.Type)PatternTypers.this.global.Tree">convertToCaseConstructor</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.fun" title="PatternTypers.this.global.Tree">fun</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.caseClass" title="PatternTypers.this.global.Symbol">caseClass</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.pt" title="PatternTypers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
      else if <span class="delimiter">(</span><a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.reallyExists" title="(sym: PatternTypers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.member" title="PatternTypers.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="ContextErrors.scala.html#scala.tools.nsc.typechecker;ContextErrors;TyperContextErrors.TyperErrorGen.CaseClassConstructorError" title="(tree: PatternTypers.this.global.Tree, baseMessage: String)PatternTypers.this.global.Tree">CaseClassConstructorError</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.fun" title="PatternTypers.this.global.Tree">fun</a>, <a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;&quot;)">$</span><span class="delimiter">{</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.fun" title="PatternTypers.this.global.Tree">fun</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; PatternTypers.this.global.Symbol">symbol</a><span class="delimiter">}</span><span title="String(&quot; is not a case class, nor does it have an unapply/unapplySeq member&quot;)" class="string"> is not a case class, nor does it have an unapply/unapplySeq member&quot;</span><span class="delimiter">)</span>
      else if <span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.isOkay" title="=&gt; Boolean">isOkay</a><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.fun" title="PatternTypers.this.global.Tree">fun</a>
      else if <span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.isEmptyType" title="=&gt; PatternTypers.this.global.Type">isEmptyType</a> <span title="(x$1: Any)Boolean">==</span> <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.NoType" title="PatternTypers.this.global.NoType.type">NoType</a><span class="delimiter">)</span>
        <a href="ContextErrors.scala.html#scala.tools.nsc.typechecker;ContextErrors;TyperContextErrors.TyperErrorGen.CaseClassConstructorError" title="(tree: PatternTypers.this.global.Tree, baseMessage: String)PatternTypers.this.global.Tree">CaseClassConstructorError</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.fun" title="PatternTypers.this.global.Tree">fun</a>, <a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;an unapply result must have a member `def isEmpty: Boolean&quot;)" class="string">an unapply result must have a member `def isEmpty: Boolean&quot;</span><span class="delimiter">)</span>
      else
        <a href="ContextErrors.scala.html#scala.tools.nsc.typechecker;ContextErrors;TyperContextErrors.TyperErrorGen.CaseClassConstructorError" title="(tree: PatternTypers.this.global.Tree, baseMessage: String)PatternTypers.this.global.Tree">CaseClassConstructorError</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.fun" title="PatternTypers.this.global.Tree">fun</a>, <a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;an unapply result must have a member `def isEmpty: Boolean (found: def isEmpty: &quot;)">an unapply result must have a member `def isEmpty: Boolean (found: def isEmpty: $</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedConstructorPattern.isEmptyType" title="=&gt; PatternTypers.this.global.Type">isEmptyType</a><span title="String(&quot;)&quot;)" class="string">)&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    def <a title="(args: List[PatternTypers.this.global.Tree], formals: List[PatternTypers.this.global.Type], mode: scala.tools.nsc.Mode)List[PatternTypers.this.global.Tree]" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals">typedArgsForFormals</a><span class="delimiter">(</span><a title="List[PatternTypers.this.global.Tree]" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.args">args</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[PatternTypers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="List[PatternTypers.this.global.Type]" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.formals">formals</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[PatternTypers.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="scala.tools.nsc.Mode" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.mode">mode</a>: <a href="../../../reflect/internal/Mode.scala.html#scala.reflect.internal;Mode" title="scala.tools.nsc.Mode">Mode</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[PatternTypers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      def <a title="(arg: PatternTypers.this.global.Tree, pt: PatternTypers.this.global.Type)PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.typedArgWithFormal">typedArgWithFormal</a><span class="delimiter">(</span><a title="PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.typedArgWithFormal.arg">arg</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="PatternTypers.this.global.Tree">Tree</a>, <a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.typedArgWithFormal.pt">pt</a>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="PatternTypers.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        val <a title="scala.reflect.internal.Mode" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.typedArgWithFormal.newMode">newMode</a> = if <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.isByNameParamType" title="(tp: PatternTypers.this.global.Type)Boolean">isByNameParamType</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.typedArgWithFormal.pt" title="PatternTypers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.mode" title="scala.tools.nsc.Mode">mode</a>.<a href="../../../reflect/internal/Mode.scala.html#scala.reflect.internal;Mode.onlySticky" title="=&gt; scala.reflect.internal.Mode">onlySticky</a> else <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.mode" title="scala.tools.nsc.Mode">mode</a>.<a href="../../../reflect/internal/Mode.scala.html#scala.reflect.internal;Mode.onlySticky" title="=&gt; scala.reflect.internal.Mode">onlySticky</a> <a href="../../../reflect/internal/Mode.scala.html#scala.reflect.internal;Mode.|" title="(other: scala.reflect.internal.Mode)scala.reflect.internal.Mode">|</a> <a href="../../../reflect/internal/Mode.scala.html#scala.reflect.internal.Mode.BYVALmode" title="=&gt; scala.reflect.internal.Mode">BYVALmode</a>
        <a href="Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.typedArg" title="(arg: PatternTypers.this.global.Tree, mode: scala.tools.nsc.Mode, newmode: scala.tools.nsc.Mode, pt: PatternTypers.this.global.Type)PatternTypers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.typedArgWithFormal.arg" title="PatternTypers.this.global.Tree">arg</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.mode" title="scala.tools.nsc.Mode">mode</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.typedArgWithFormal.newMode" title="scala.reflect.internal.Mode">newMode</a>, <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.dropByName" title="(tp: PatternTypers.this.global.Type)PatternTypers.this.global.Type">dropByName</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.typedArgWithFormal.pt" title="PatternTypers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      val <a href="#scala.tools.nsc.typechecker;PatternTypers.FixedAndRepeatedTypes.unapply" title="(types: List[PatternTypers.this.global.Type])Some[(List[PatternTypers.this.global.Type], PatternTypers.this.global.Type)]">FixedAndRepeatedTypes</a><a href="../../../Tuple2.scala.html#scala;Tuple2" title="(List[PatternTypers.this.global.Type], PatternTypers.this.global.Type)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#scala;Tuple2._1" title="List[PatternTypers.this.global.Type]" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.fixed">fixed</a>, <a href="../../../Tuple2.scala.html#scala;Tuple2._2" title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.elem">elem</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.formals" title="List[PatternTypers.this.global.Type]">formals</a>
      val front = <a href="../../../Predef.scala.html#scala.Predef.tuple2ToZippedOps" title="(x: (List[PatternTypers.this.global.Tree], List[PatternTypers.this.global.Type]))runtime.Tuple2Zipped.Ops[List[PatternTypers.this.global.Tree],List[PatternTypers.this.global.Type]]" class="delimiter">(</a><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.args" title="List[PatternTypers.this.global.Tree]">args</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.fixed" title="List[PatternTypers.this.global.Type]">fixed</a><span class="delimiter">)</span>.<a href="../../../runtime/Tuple2Zipped.scala.html#scala.runtime.Tuple2Zipped;Ops.zipped" title="(implicit w1: List[PatternTypers.this.global.Tree] =&gt; scala.collection.TraversableLike[PatternTypers.this.global.Tree,List[PatternTypers.this.global.Tree]], implicit w2: List[PatternTypers.this.global.Type] =&gt; scala.collection.IterableLike[PatternTypers.this.global.Type,List[PatternTypers.this.global.Type]])scala.runtime.Tuple2Zipped[PatternTypers.this.global.Tree,List[PatternTypers.this.global.Tree],PatternTypers.this.global.Type,List[PatternTypers.this.global.Type]]">zipped</a> <a href="../../../runtime/Tuple2Zipped.scala.html#scala.runtime;Tuple2Zipped.map" title="List[PatternTypers.this.global.Tree]" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.front">map</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.typedArgWithFormal" title="(arg: PatternTypers.this.global.Tree, pt: PatternTypers.this.global.Type)PatternTypers.this.global.Tree">typedArgWithFormal</a>
      def <a title="=&gt; List[PatternTypers.this.global.Tree]" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.rest">rest</a>  = <a href="Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.context" title="=&gt; PatternTypers.this.Context">context</a> <a href="Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.withinStarPatterns" title="(op: =&gt; List[PatternTypers.this.global.Tree])List[PatternTypers.this.global.Tree]">withinStarPatterns</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.args" title="List[PatternTypers.this.global.Tree]">args</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.drop" title="(n: Int)List[PatternTypers.this.global.Tree]">drop</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.front" title="List[PatternTypers.this.global.Tree]">front</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.length" title="=&gt; Int">length</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: PatternTypers.this.global.Tree =&gt; PatternTypers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[PatternTypers.this.global.Tree],PatternTypers.this.global.Tree,List[PatternTypers.this.global.Tree]])List[PatternTypers.this.global.Tree]">map</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.typedArgWithFormal" title="(arg: PatternTypers.this.global.Tree, pt: PatternTypers.this.global.Type)PatternTypers.this.global.Tree">typedArgWithFormal</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.rest.$anonfun.x$2" title="PatternTypers.this.global.Tree">_</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.elem" title="PatternTypers.this.global.Type">elem</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.elem" title="PatternTypers.this.global.Type">elem</a> match <span class="delimiter">{</span>
        case <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.NoType" title="PatternTypers.this.global.NoType.type">NoType</a> =&gt; <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.front" title="List[PatternTypers.this.global.Tree]">front</a>
        case _      =&gt; <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.front" title="List[PatternTypers.this.global.Tree]">front</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.:::" title="(prefix: List[PatternTypers.this.global.Tree])List[PatternTypers.this.global.Tree]">:::</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals.rest" title="=&gt; List[PatternTypers.this.global.Tree]">rest</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    private def <a title="(bound: PatternTypers.this.global.Type)PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.boundedArrayType">boundedArrayType</a><span class="delimiter">(</span><a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.boundedArrayType.bound">bound</a>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="PatternTypers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="PatternTypers.this.global.Type">Type</a> = <span class="delimiter">{</span>
      val tparam = <a href="Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.context" title="=&gt; PatternTypers.this.Context">context</a>.<a href="Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.owner" title="=&gt; PatternTypers.this.global.Symbol">owner</a> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.freshExistential" title="(suffix: String)PatternTypers.this.global.TypeSymbol">freshExistential</a> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.setInfo" title="PatternTypers.this.global.TypeSymbol" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.boundedArrayType.tparam">setInfo</a> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.TypeBounds" title="PatternTypers.this.global.TypeBounds.type">TypeBounds</a> <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.TypeBounds.upper" title="(hi: PatternTypers.this.global.Type)PatternTypers.this.global.TypeBounds">upper</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.boundedArrayType.bound" title="PatternTypers.this.global.Type">bound</a><span class="delimiter">)</span>
      <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.newExistentialType" title="(quantified: List[PatternTypers.this.global.Symbol], underlying: PatternTypers.this.global.Type)PatternTypers.this.global.Type">newExistentialType</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.boundedArrayType.tparam" title="PatternTypers.this.global.TypeSymbol">tparam</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: PatternTypers.this.global.TypeSymbol)List[PatternTypers.this.global.TypeSymbol]">::</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.arrayType" title="(arg: PatternTypers.this.global.Type)PatternTypers.this.global.Type">arrayType</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.boundedArrayType.tparam" title="PatternTypers.this.global.TypeSymbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;TypeSymbol.tpe_*" title="=&gt; PatternTypers.this.global.Type">tpe_*</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    protected def <a title="(tree: PatternTypers.this.global.Tree, mode: scala.tools.nsc.Mode, pt: PatternTypers.this.global.Type)PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern">typedStarInPattern</a><span class="delimiter">(</span><a title="PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.tree">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="PatternTypers.this.global.Tree">Tree</a>, <a title="scala.tools.nsc.Mode" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.mode">mode</a>: <a href="../../../reflect/internal/Mode.scala.html#scala.reflect.internal;Mode" title="scala.tools.nsc.Mode">Mode</a>, <a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.pt">pt</a>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="PatternTypers.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      val Typed<a href="../../../Tuple2.scala.html#scala;Tuple2" title="(PatternTypers.this.global.Tree, PatternTypers.this.global.Tree)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#scala;Tuple2._1" title="PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.expr">expr</a>, <a href="../../../Tuple2.scala.html#scala;Tuple2._2" title="PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.tpt">tpt</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.tree" title="PatternTypers.this.global.Tree">tree</a>
      val <a title="PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.exprTyped">exprTyped</a> = <a href="Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.typed(2cf834f19c)" title="(tree: PatternTypers.this.global.Tree, mode: scala.tools.nsc.Mode)PatternTypers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.expr" title="PatternTypers.this.global.Tree">expr</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.mode" title="scala.tools.nsc.Mode">mode</a><span class="delimiter">)</span>
      val <a title="PatternTypers.this.global.ClassSymbol" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.baseClass">baseClass</a> = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.exprTyped" title="PatternTypers.this.global.Tree">exprTyped</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; PatternTypers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.typeSymbol" title="=&gt; PatternTypers.this.global.Symbol">typeSymbol</a> match <span class="delimiter">{</span>
        case <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.ArrayClass" title="=&gt; PatternTypers.this.global.ClassSymbol">ArrayClass</a> =&gt; <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.ArrayClass" title="=&gt; PatternTypers.this.global.ClassSymbol">ArrayClass</a>
        case _          =&gt; <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.SeqClass" title="=&gt; PatternTypers.this.global.ClassSymbol">SeqClass</a>
      <span class="delimiter">}</span>
      val <a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.starType">starType</a> = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.baseClass" title="PatternTypers.this.global.ClassSymbol">baseClass</a> match <span class="delimiter">{</span>
        case <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.ArrayClass" title="=&gt; PatternTypers.this.global.ClassSymbol">ArrayClass</a> if <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.isPrimitiveValueType" title="(tp: PatternTypers.this.global.Type)Boolean">isPrimitiveValueType</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.pt" title="PatternTypers.this.global.Type">pt</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="Infer.scala.html#scala.tools.nsc.typechecker;Infer.isFullyDefined" title="(tp: PatternTypers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.pt" title="PatternTypers.this.global.Type">pt</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.arrayType" title="(arg: PatternTypers.this.global.Type)PatternTypers.this.global.Type">arrayType</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.pt" title="PatternTypers.this.global.Type">pt</a><span class="delimiter">)</span>
        case <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.ArrayClass" title="=&gt; PatternTypers.this.global.ClassSymbol">ArrayClass</a>                                                    =&gt; <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.boundedArrayType" title="(bound: PatternTypers.this.global.Type)PatternTypers.this.global.Type">boundedArrayType</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.pt" title="PatternTypers.this.global.Type">pt</a><span class="delimiter">)</span>
        case _                                                             =&gt; <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.seqType" title="(arg: PatternTypers.this.global.Type)PatternTypers.this.global.Type">seqType</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.pt" title="PatternTypers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      val <a title="PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.exprAdapted">exprAdapted</a> = <a href="Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.adapt" title="(tree: PatternTypers.this.global.Tree, mode: scala.tools.nsc.Mode, pt: PatternTypers.this.global.Type, original: PatternTypers.this.global.Tree)PatternTypers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.exprTyped" title="PatternTypers.this.global.Tree">exprTyped</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.mode" title="scala.tools.nsc.Mode">mode</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.starType" title="PatternTypers.this.global.Type">starType</a><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.exprAdapted" title="PatternTypers.this.global.Tree">exprAdapted</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; PatternTypers.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.baseType" title="(clazz: PatternTypers.this.global.Symbol)PatternTypers.this.global.Type">baseType</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.baseClass" title="PatternTypers.this.global.ClassSymbol">baseClass</a> match <span class="delimiter">{</span>
        case TypeRef<span class="delimiter">(</span>_, _, <a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.elemtp">elemtp</a> :: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees.treeCopy" title="=&gt; PatternTypers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;TreeCopierOps.Typed" title="(tree: PatternTypers.this.global.Tree, expr: PatternTypers.this.global.Tree, tpt: PatternTypers.this.global.Tree)PatternTypers.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.tree" title="PatternTypers.this.global.Tree">tree</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.exprAdapted" title="PatternTypers.this.global.Tree">exprAdapted</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.tpt" title="PatternTypers.this.global.Tree">tpt</a> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.setType" title="(tp: PatternTypers.this.global.Type)tpt.type">setType</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.elemtp" title="PatternTypers.this.global.Type">elemtp</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.setType" title="(tp: PatternTypers.this.global.Type)PatternTypers.this.global.Typed">setType</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.elemtp" title="PatternTypers.this.global.Type">elemtp</a>
        case _                            =&gt; <a href="Infer.scala.html#scala.tools.nsc.typechecker;Infer;Inferencer.setError" title="(tree: PatternTypers.this.global.Tree)PatternTypers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedStarInPattern.tree" title="PatternTypers.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    protected def <a title="(tree: PatternTypers.this.global.Typed, mode: scala.tools.nsc.Mode, pt: PatternTypers.this.global.Type)PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern">typedInPattern</a><span class="delimiter">(</span><a title="PatternTypers.this.global.Typed" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.tree">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Typed" title="PatternTypers.this.global.Typed">Typed</a>, <a title="scala.tools.nsc.Mode" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.mode">mode</a>: <a href="../../../reflect/internal/Mode.scala.html#scala.reflect.internal;Mode" title="scala.tools.nsc.Mode">Mode</a>, <a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.pt">pt</a>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="PatternTypers.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      val Typed<a href="../../../Tuple2.scala.html#scala;Tuple2" title="(PatternTypers.this.global.Tree, PatternTypers.this.global.Tree)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#scala;Tuple2._1" title="PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.expr">expr</a>, <a href="../../../Tuple2.scala.html#scala;Tuple2._2" title="PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.tpt">tpt</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.tree" title="PatternTypers.this.global.Typed">tree</a>
      val <a title="PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.tptTyped">tptTyped</a>  = <a href="Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.typedType(2cf834f19c)" title="(tree: PatternTypers.this.global.Tree, mode: scala.tools.nsc.Mode)PatternTypers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.tpt" title="PatternTypers.this.global.Tree">tpt</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.mode" title="scala.tools.nsc.Mode">mode</a><span class="delimiter">)</span>
      val <a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.tpe">tpe</a>       = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.tptTyped" title="PatternTypers.this.global.Tree">tptTyped</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; PatternTypers.this.global.Type">tpe</a>
      val <a title="PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.exprTyped">exprTyped</a> = <a href="Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.typed(301a5271e9)" title="(tree: PatternTypers.this.global.Tree, mode: scala.tools.nsc.Mode, pt: PatternTypers.this.global.Type)PatternTypers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.expr" title="PatternTypers.this.global.Tree">expr</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.mode" title="scala.tools.nsc.Mode">mode</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.tpe" title="PatternTypers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.deconst" title="=&gt; PatternTypers.this.global.Type">deconst</a><span class="delimiter">)</span>
      val <a title="PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.extractor">extractor</a> = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType" title="(pos: PatternTypers.this.global.Position, pt: PatternTypers.this.global.Type)PatternTypers.this.global.Tree">extractorForUncheckedType</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.tpt" title="PatternTypers.this.global.Tree">tpt</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; PatternTypers.this.global.Position">pos</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.tpe" title="PatternTypers.this.global.Type">tpe</a><span class="delimiter">)</span>

      val <a title="Boolean" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.canRemedy">canRemedy</a> = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.tpe" title="PatternTypers.this.global.Type">tpe</a> match <span class="delimiter">{</span>
        case RefinedType<span class="delimiter">(</span>_, <a title="PatternTypers.this.global.Scope" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.canRemedy.decls">decls</a><span class="delimiter">)</span> if <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.canRemedy.decls" title="PatternTypers.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#scala.reflect.internal;Scopes;Scope.isEmpty" title="=&gt; Boolean">isEmpty</a>                 =&gt; false
        case RefinedType<span class="delimiter">(</span><a title="List[PatternTypers.this.global.Type]" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.canRemedy.parents">parents</a>, _<span class="delimiter">)</span> if <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.canRemedy.parents" title="List[PatternTypers.this.global.Type]">parents</a> <a href="../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.exists" title="(p: PatternTypers.this.global.Type =&gt; Boolean)Boolean">exists</a> <a href="Checkable.scala.html#scala.tools.nsc.typechecker;Checkable;InferCheckable.isUncheckable" title="(P0: PatternTypers.this.global.Type)Boolean">isUncheckable</a> =&gt; false
        case _                                                       =&gt; <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.extractor" title="PatternTypers.this.global.Tree">extractor</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.nonEmpty" title="=&gt; Boolean">nonEmpty</a>
      <span class="delimiter">}</span>

      val <a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.ownType">ownType</a>   = <a href="Infer.scala.html#scala.tools.nsc.typechecker;Infer;Inferencer.inferTypedPattern" title="(tree0: PatternTypers.this.global.Tree, pattp: PatternTypers.this.global.Type, pt0: PatternTypers.this.global.Type, canRemedy: Boolean)PatternTypers.this.global.Type">inferTypedPattern</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.tptTyped" title="PatternTypers.this.global.Tree">tptTyped</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.tpe" title="PatternTypers.this.global.Type">tpe</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.pt" title="PatternTypers.this.global.Type">pt</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.canRemedy" title="Boolean">canRemedy</a><span class="delimiter">)</span>
      val treeTyped = <a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees.treeCopy" title="=&gt; PatternTypers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;TreeCopierOps.Typed" title="(tree: PatternTypers.this.global.Tree, expr: PatternTypers.this.global.Tree, tpt: PatternTypers.this.global.Tree)PatternTypers.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.tree" title="PatternTypers.this.global.Typed">tree</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.exprTyped" title="PatternTypers.this.global.Tree">exprTyped</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.tptTyped" title="PatternTypers.this.global.Tree">tptTyped</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.setType" title="PatternTypers.this.global.Typed" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.treeTyped">setType</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.ownType" title="PatternTypers.this.global.Type">ownType</a>

      <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.extractor" title="PatternTypers.this.global.Tree">extractor</a> match <span class="delimiter">{</span>
        case <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="PatternTypers.this.global.EmptyTree.type">EmptyTree</a> =&gt; <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.treeTyped" title="PatternTypers.this.global.Typed">treeTyped</a>
        case _         =&gt; <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.wrapClassTagUnapply" title="(uncheckedPattern: PatternTypers.this.global.Tree, classTagExtractor: PatternTypers.this.global.Tree, pt: PatternTypers.this.global.Type)PatternTypers.this.global.Tree">wrapClassTagUnapply</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.treeTyped" title="PatternTypers.this.global.Typed">treeTyped</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.extractor" title="PatternTypers.this.global.Tree">extractor</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedInPattern.tpe" title="PatternTypers.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    private class <a title="class VariantToSkolemMap extends PatternTypers.this.global.TypeMap" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap">VariantToSkolemMap</a> extends <a href="../../../reflect/internal/tpe/TypeMaps.scala.html#scala.reflect.internal.tpe;TypeMaps;TypeMap" title="PatternTypers.this.global.TypeMap">TypeMap</a><span class="delimiter">(</span>trackVariance = true<span class="delimiter">)</span> <span class="delimiter">{</span>
      private val <a title="scala.collection.mutable.ListBuffer[PatternTypers.this.global.TypeSymbol]" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.skolemBuffer">skolemBuffer</a> = mutable.<a href="../../../collection/generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="[A](elems: A*)scala.collection.mutable.ListBuffer[A]">ListBuffer</a><span title="(elems: PatternTypers.this.global.TypeSymbol*)scala.collection.mutable.ListBuffer[PatternTypers.this.global.TypeSymbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;TypeSymbol" title="PatternTypers.this.global.TypeSymbol">TypeSymbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="comment">// !!! FIXME - skipping this when variance.isInvariant allows unsoundness, see SI-5189</span>
      <span class="comment">// Test case which presently requires the exclusion is run/gadts.scala.</span>
      def <a title="(tparam: PatternTypers.this.global.Symbol)Boolean" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.eligible">eligible</a><span class="delimiter">(</span><a title="PatternTypers.this.global.Symbol" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.eligible.tparam">tparam</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="PatternTypers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
           <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.eligible.tparam" title="PatternTypers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isTypeParameterOrSkolem" title="=&gt; Boolean">isTypeParameterOrSkolem</a>
        <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.eligible.tparam" title="PatternTypers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; PatternTypers.this.global.Symbol">owner</a>.<a href="../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isTerm" title="=&gt; Boolean">isTerm</a>
        <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../Global.scala.html#scala.tools.nsc;Global.settings" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings.MutableSettings.reflectSettingToBoolean" title="implicit scala.reflect.internal.settings.MutableSettings.reflectSettingToBoolean : (s: scala.reflect.internal.settings.MutableSettings#BooleanSetting)Boolean">strictInference</a> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/tpe/TypeMaps.scala.html#scala.reflect.internal.tpe;TypeMaps;TypeMap.variance" title="=&gt; scala.reflect.internal.Variance">variance</a>.<a href="../../../reflect/internal/Variance.scala.html#scala.reflect.internal;Variance.isInvariant" title="=&gt; Boolean">isInvariant</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>

      def <a title="=&gt; List[PatternTypers.this.global.TypeSymbol]" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.skolems">skolems</a> = try <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.skolemBuffer" title="=&gt; scala.collection.mutable.ListBuffer[PatternTypers.this.global.TypeSymbol]">skolemBuffer</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.toList" title="=&gt; List[PatternTypers.this.global.TypeSymbol]">toList</a> finally <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.skolemBuffer" title="=&gt; scala.collection.mutable.ListBuffer[PatternTypers.this.global.TypeSymbol]">skolemBuffer</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
      def <a title="(tp: PatternTypers.this.global.Type)PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.apply">apply</a><span class="delimiter">(</span><span title="PatternTypers.this.global.Type">tp</span>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="PatternTypers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="PatternTypers.this.global.Type">Type</a> = <a href="../../../reflect/internal/tpe/TypeMaps.scala.html#scala.reflect.internal.tpe;TypeMaps;TypeMap.mapOver(ad9e013c92)" title="(tp: PatternTypers.this.global.Type)PatternTypers.this.global.Type">mapOver</a><span class="delimiter">(</span><span title="PatternTypers.this.global.Type">tp</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
        case <span title="PatternTypers.this.global.TypeRef">tp</span> @ TypeRef<span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.NoPrefix" title="PatternTypers.this.global.NoPrefix.type">NoPrefix</a>, <a title="PatternTypers.this.global.Symbol" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.apply.tpSym">tpSym</a>, <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span> if <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.eligible" title="(tparam: PatternTypers.this.global.Symbol)Boolean">eligible</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.apply.tpSym" title="PatternTypers.this.global.Symbol">tpSym</a><span class="delimiter">)</span> =&gt;
          val <a title="PatternTypers.this.global.TypeBounds" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.apply.bounds">bounds</a> = <span class="delimiter">(</span>
            if <span class="delimiter">(</span><a href="../../../reflect/internal/tpe/TypeMaps.scala.html#scala.reflect.internal.tpe;TypeMaps;TypeMap.variance" title="=&gt; scala.reflect.internal.Variance">variance</a>.<a href="../../../reflect/internal/Variance.scala.html#scala.reflect.internal;Variance.isInvariant" title="=&gt; Boolean">isInvariant</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.apply.tpSym" title="PatternTypers.this.global.Symbol">tpSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.tpeHK" title="=&gt; PatternTypers.this.global.Type">tpeHK</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.bounds" title="=&gt; PatternTypers.this.global.TypeBounds">bounds</a>
            else if <span class="delimiter">(</span><a href="../../../reflect/internal/tpe/TypeMaps.scala.html#scala.reflect.internal.tpe;TypeMaps;TypeMap.variance" title="=&gt; scala.reflect.internal.Variance">variance</a>.<a href="../../../reflect/internal/Variance.scala.html#scala.reflect.internal;Variance.isPositive" title="=&gt; Boolean">isPositive</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.TypeBounds" title="PatternTypers.this.global.TypeBounds.type">TypeBounds</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.TypeBounds.upper" title="(hi: PatternTypers.this.global.Type)PatternTypers.this.global.TypeBounds">upper</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.apply.tpSym" title="PatternTypers.this.global.Symbol">tpSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.tpeHK" title="=&gt; PatternTypers.this.global.Type">tpeHK</a><span class="delimiter">)</span>
            else <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.TypeBounds" title="PatternTypers.this.global.TypeBounds.type">TypeBounds</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.TypeBounds.lower" title="(lo: PatternTypers.this.global.Type)PatternTypers.this.global.TypeBounds">lower</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.apply.tpSym" title="PatternTypers.this.global.Symbol">tpSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.tpeHK" title="=&gt; PatternTypers.this.global.Type">tpeHK</a><span class="delimiter">)</span>
          <span class="delimiter">)</span>
          <span class="comment">// origin must be the type param so we can deskolemize</span>
          val <a title="PatternTypers.this.global.TypeSkolem" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.apply.skolem">skolem</a> = <a href="Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.context" title="=&gt; PatternTypers.this.Context">context</a>.<a href="Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.owner" title="=&gt; PatternTypers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.newGADTSkolem" title="(name: PatternTypers.this.global.TypeName, origin: PatternTypers.this.global.Symbol, info: PatternTypers.this.global.Type)PatternTypers.this.global.TypeSkolem">newGADTSkolem</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.unit" title="=&gt; PatternTypers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.freshTypeName" title="(prefix: String)PatternTypers.this.global.TypeName">freshTypeName</a><span class="delimiter">(</span><span title="String(&quot;?&quot;)" class="string">&quot;?&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.apply.tpSym" title="PatternTypers.this.global.Symbol">tpSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; tpSym.NameType">name</a><span class="delimiter">)</span>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.apply.tpSym" title="PatternTypers.this.global.Symbol">tpSym</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.apply.bounds" title="PatternTypers.this.global.TypeBounds">bounds</a><span class="delimiter">)</span>
          <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.skolemBuffer" title="=&gt; scala.collection.mutable.ListBuffer[PatternTypers.this.global.TypeSymbol]">skolemBuffer</a> <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.+=(f93df146a4)" title="(x: PatternTypers.this.global.TypeSymbol)VariantToSkolemMap.this.skolemBuffer.type">+=</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.apply.skolem" title="PatternTypers.this.global.TypeSkolem">skolem</a>
          <a href="../../../reflect/internal/SymbolTable.scala.html#scala.reflect.internal;SymbolTable.logResult" title="(msg: =&gt; String)(result: PatternTypers.this.global.Type)PatternTypers.this.global.Type">logResult</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;Created gadt skolem &quot;)">Created gadt skolem $</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.apply.skolem" title="PatternTypers.this.global.TypeSkolem">skolem</a><span title="String(&quot;: &quot;)">: $</span><span class="delimiter">{</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.apply.skolem" title="PatternTypers.this.global.TypeSkolem">skolem</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;TypeSymbol.tpe_*" title="=&gt; PatternTypers.this.global.Type">tpe_*</a><span class="delimiter">}</span><span title="String(&quot; to stand in for &quot;)"> to stand in for $</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.apply.tpSym" title="PatternTypers.this.global.Symbol">tpSym</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.apply.skolem" title="PatternTypers.this.global.TypeSkolem">skolem</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;TypeSymbol.tpe_*" title="=&gt; PatternTypers.this.global.Type">tpe_*</a><span class="delimiter">)</span>
        case <a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.apply.tp1">tp1</a> =&gt; <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.apply.tp1" title="PatternTypers.this.global.Type">tp1</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/*
     * To deal with the type slack between actual (run-time) types and statically known types, for each abstract type T,
     * reflect its variance as a skolem that is upper-bounded by T (covariant position), or lower-bounded by T (contravariant).
     *
     * Consider the following example:
     *
     *  class AbsWrapperCov[+A]
     *  case class Wrapper[B](x: Wrapped[B]) extends AbsWrapperCov[B]
     *
     *  def unwrap[T](x: AbsWrapperCov[T]): Wrapped[T] = x match {
     *    case Wrapper(wrapped) =&gt; // Wrapper's type parameter must not be assumed to be equal to T, it's *upper-bounded* by it
     *      wrapped // : Wrapped[_ &lt;: T]
     *  }
     *
     * this method should type check if and only if Wrapped is covariant in its type parameter
     *
     * when inferring Wrapper's type parameter B from x's type AbsWrapperCov[T],
     * we must take into account that x's actual type is AbsWrapperCov[Tactual] forSome {type Tactual &lt;: T}
     * as AbsWrapperCov is covariant in A -- in other words, we must not assume we know T exactly, all we know is its upper bound
     *
     * since method application is the only way to generate this slack between run-time and compile-time types (TODO: right!?),
     * we can simply replace skolems that represent method type parameters as seen from the method's body
     * by other skolems that are (upper/lower)-bounded by that type-parameter skolem
     * (depending on the variance position of the skolem in the statically assumed type of the scrutinee, pt)
     *
     * see test/files/../t5189*.scala
     */</span>
    private def <a title="(tree: PatternTypers.this.global.Tree, caseClass: PatternTypers.this.global.Symbol, ptIn: PatternTypers.this.global.Type)PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor">convertToCaseConstructor</a><span class="delimiter">(</span><a title="PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.tree">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="PatternTypers.this.global.Tree">Tree</a>, <a title="PatternTypers.this.global.Symbol" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.caseClass">caseClass</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="PatternTypers.this.global.Symbol">Symbol</a>, <a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.ptIn">ptIn</a>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="PatternTypers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="PatternTypers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="comment">// TODO SI-7886 / SI-5900 This is well intentioned but doesn't quite hit the nail on the head.</span>
      <span class="comment">//      For now, I've put it completely behind -Xstrict-inference.</span>
      val untrustworthyPt = <a href="../Global.scala.html#scala.tools.nsc;Global.settings" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings.MutableSettings.reflectSettingToBoolean" title="implicit scala.reflect.internal.settings.MutableSettings.reflectSettingToBoolean : (s: scala.reflect.internal.settings.MutableSettings#BooleanSetting)Boolean">strictInference</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="Boolean" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.untrustworthyPt">&amp;&amp;</a> <span class="delimiter">(</span>
           <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.ptIn" title="PatternTypers.this.global.Type">ptIn</a> <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.=:=" title="(that: PatternTypers.this.global.Type)Boolean">=:=</a> <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.AnyTpe" title="=&gt; PatternTypers.this.global.Type">AnyTpe</a>
        <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.ptIn" title="PatternTypers.this.global.Type">ptIn</a> <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.=:=" title="(that: PatternTypers.this.global.Type)Boolean">=:=</a> <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.NothingTpe" title="=&gt; PatternTypers.this.global.Type">NothingTpe</a>
        <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.ptIn" title="PatternTypers.this.global.Type">ptIn</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.typeSymbol" title="=&gt; PatternTypers.this.global.Symbol">typeSymbol</a> <span title="(x$1: Any)Boolean">!=</span> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.caseClass" title="PatternTypers.this.global.Symbol">caseClass</a>
      <span class="delimiter">)</span>
      val <a title="PatternTyper.this.VariantToSkolemMap" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.variantToSkolem">variantToSkolem</a>     = new <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap" title="PatternTyper.this.VariantToSkolemMap">VariantToSkolemMap</a>
      val caseClassType       = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.tree" title="PatternTypers.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; PatternTypers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.prefix" title="=&gt; PatternTypers.this.global.Type">prefix</a> <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.memberType" title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.caseClassType">memberType</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.caseClass" title="PatternTypers.this.global.Symbol">caseClass</a>
      val caseConstructorType = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.caseClassType" title="PatternTypers.this.global.Type">caseClassType</a> <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.memberType" title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.caseConstructorType">memberType</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.caseClass" title="PatternTypers.this.global.Symbol">caseClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.primaryConstructor" title="=&gt; PatternTypers.this.global.Symbol">primaryConstructor</a>
      val tree1               = <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.TypeTree(559e7d9959)" title="(tp: PatternTypers.this.global.Type)PatternTypers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.caseConstructorType" title="PatternTypers.this.global.Type">caseConstructorType</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;TypeTree.setOriginal" title="PatternTypers.this.global.TypeTree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.tree1">setOriginal</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.tree" title="PatternTypers.this.global.Tree">tree</a>
      val <a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.pt">pt</a>                  = if <span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.untrustworthyPt" title="Boolean">untrustworthyPt</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.caseClassType" title="PatternTypers.this.global.Type">caseClassType</a> else <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.ptIn" title="PatternTypers.this.global.Type">ptIn</a>

      <span class="comment">// have to open up the existential and put the skolems in scope</span>
      <span class="comment">// can't simply package up pt in an ExistentialType, because that takes us back to square one (List[_ &lt;: T] == List[T] due to covariance)</span>
      val <a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.ptSafe">ptSafe</a>   = <a href="../../../reflect/internal/SymbolTable.scala.html#scala.reflect.internal;SymbolTable.logResult" title="(msg: =&gt; String)(result: PatternTypers.this.global.Type)PatternTypers.this.global.Type">logResult</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;case constructor from (&quot;)">case constructor from ($</span><span class="delimiter">{</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.tree" title="PatternTypers.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;TreeContextApiImpl.summaryString" title="=&gt; String">summaryString</a><span class="delimiter">}</span><span title="String(&quot;, &quot;)">, $</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.caseClassType" title="PatternTypers.this.global.Type">caseClassType</a><span title="String(&quot;, &quot;)">, $</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.pt" title="PatternTypers.this.global.Type">pt</a><span title="String(&quot;)&quot;)" class="string">)&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.apply" title="(tp: PatternTypers.this.global.Type)PatternTypers.this.global.Type">variantToSkolem</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.pt" title="PatternTypers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
      val <a title="List[PatternTypers.this.global.TypeSymbol]" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.freeVars">freeVars</a> = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.variantToSkolem" title="PatternTyper.this.VariantToSkolemMap">variantToSkolem</a>.<a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper;VariantToSkolemMap.skolems" title="=&gt; List[PatternTypers.this.global.TypeSymbol]">skolems</a>

      <span class="comment">// use &quot;tree&quot; for the context, not context.tree: don't make another CaseDef context,</span>
      <span class="comment">// as instantiateTypeVar's bounds would end up there</span>
      val <a title="PatternTypers.this.Context" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.ctorContext">ctorContext</a> = <a href="Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.context" title="PatternTypers.this.Context" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.ctorContext.qual$1">context</a>.<a href="Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.makeNewScope$default$3" title="PatternTypers.this.ContextReporter" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.ctorContext.x$16">makeNewScope</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.tree" title="PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.ctorContext.x$14">tree</a>, <a href="Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.context" title="=&gt; PatternTypers.this.Context">context</a>.<a href="Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.owner" title="PatternTypers.this.global.Symbol" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.ctorContext.x$15">owner</a><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.freeVars" title="List[PatternTypers.this.global.TypeSymbol]">freeVars</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.foreach" title="(f: PatternTypers.this.global.TypeSymbol =&gt; PatternTypers.this.global.TypeSymbol)Unit">foreach</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.ctorContext" title="PatternTypers.this.Context">ctorContext</a>.<a href="Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.scope" title="=&gt; PatternTypers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#scala.reflect.internal;Scopes;Scope.enter" title="(sym: PatternTypers.this.global.TypeSymbol)PatternTypers.this.global.TypeSymbol">enter</a>
      <a href="Typers.scala.html#scala.tools.nsc.typechecker;Typers.newTyper" title="(context: PatternTypers.this.Context)PatternTypers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.ctorContext" title="PatternTypers.this.Context">ctorContext</a><span class="delimiter">)</span>.<a href="Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.infer" title="=&gt; PatternTypers.this.Inferencer">infer</a>.<a href="Infer.scala.html#scala.tools.nsc.typechecker;Infer;Inferencer.inferConstructorInstance" title="(tree: PatternTypers.this.global.Tree, undetparams: List[PatternTypers.this.global.Symbol], pt0: PatternTypers.this.global.Type)Unit">inferConstructorInstance</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.tree1" title="PatternTypers.this.global.TypeTree">tree1</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.caseClass" title="PatternTypers.this.global.Symbol">caseClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.typeParams" title="=&gt; List[PatternTypers.this.global.Symbol]">typeParams</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.ptSafe" title="PatternTypers.this.global.Type">ptSafe</a><span class="delimiter">)</span>

      <span class="comment">// simplify types without losing safety,</span>
      <span class="comment">// so that we get rid of unnecessary type slack, and so that error messages don't unnecessarily refer to skolems</span>
      val <a title="PatternTypers.this.global.ExistentialExtrapolation" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.extrapolator">extrapolator</a> = new <a href="../../../reflect/internal/tpe/TypeMaps.scala.html#scala.reflect.internal.tpe;TypeMaps;ExistentialExtrapolation" title="PatternTypers.this.global.ExistentialExtrapolation">ExistentialExtrapolation</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.freeVars" title="List[PatternTypers.this.global.TypeSymbol]">freeVars</a><span class="delimiter">)</span>
      def <a title="(tp: PatternTypers.this.global.Type)PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.extrapolate">extrapolate</a><span class="delimiter">(</span><a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.extrapolate.tp">tp</a>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="PatternTypers.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.extrapolator" title="PatternTypers.this.global.ExistentialExtrapolation">extrapolator</a> <a href="../../../reflect/internal/tpe/TypeMaps.scala.html#scala.reflect.internal.tpe;TypeMaps;ExistentialExtrapolation.extrapolate" title="(tpe: PatternTypers.this.global.Type)PatternTypers.this.global.Type">extrapolate</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.extrapolate.tp" title="PatternTypers.this.global.Type">tp</a>

      <span class="comment">// once the containing CaseDef has been type checked (see typedCase),</span>
      <span class="comment">// tree1's remaining type-slack skolems will be deskolemized (to the method type parameter skolems)</span>
      <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.tree1" title="PatternTypers.this.global.TypeTree">tree1</a> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;TreeContextApiImpl.modifyType" title="(f: PatternTypers.this.global.Type =&gt; PatternTypers.this.global.Type)PatternTypers.this.global.Tree">modifyType</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.$anonfun.x0$1" title="PatternTypers.this.global.Type" class="delimiter">{</a>
        case MethodType<span class="delimiter">(</span><a title="List[PatternTypers.this.global.Symbol]" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.$anonfun.ctorArgs">ctorArgs</a>, <a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.$anonfun.restpe">restpe</a><span class="delimiter">)</span> =&gt; <span class="comment">// ctorArgs are actually in a covariant position, since this is the type of the subpatterns of the pattern represented by this Apply node</span>
          <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.copyMethodType" title="(tp: PatternTypers.this.global.Type, params: List[PatternTypers.this.global.Symbol], restpe: PatternTypers.this.global.Type)PatternTypers.this.global.Type">copyMethodType</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.tree1" title="PatternTypers.this.global.TypeTree">tree1</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; PatternTypers.this.global.Type">tpe</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.$anonfun.ctorArgs" title="List[PatternTypers.this.global.Symbol]">ctorArgs</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: PatternTypers.this.global.Symbol =&gt; PatternTypers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[PatternTypers.this.global.Symbol],PatternTypers.this.global.Symbol,List[PatternTypers.this.global.Symbol]])List[PatternTypers.this.global.Symbol]">map</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.$anonfun.$anonfun.x$7" title="PatternTypers.this.global.Symbol">_</a> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.modifyInfo" title="(f: PatternTypers.this.global.Type =&gt; PatternTypers.this.global.Type)x$7.type">modifyInfo</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.extrapolate" title="(tp: PatternTypers.this.global.Type)PatternTypers.this.global.Type">extrapolate</a><span class="delimiter">)</span>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.extrapolate" title="(tp: PatternTypers.this.global.Type)PatternTypers.this.global.Type">extrapolate</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.$anonfun.restpe" title="PatternTypers.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// no need to clone ctorArgs, this is OUR method type</span>
        case <a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.$anonfun.tp">tp</a> =&gt; <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.convertToCaseConstructor.$anonfun.tp" title="PatternTypers.this.global.Type">tp</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    def <a title="(tree: PatternTypers.this.global.Tree, fun0: PatternTypers.this.global.Tree, fun: PatternTypers.this.global.Tree, args: List[PatternTypers.this.global.Tree], mode: scala.tools.nsc.Mode, pt: PatternTypers.this.global.Type)PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply">doTypedUnapply</a><span class="delimiter">(</span><a title="PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.tree">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="PatternTypers.this.global.Tree">Tree</a>, <a title="PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.fun0">fun0</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="PatternTypers.this.global.Tree">Tree</a>, <a title="PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.fun">fun</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="PatternTypers.this.global.Tree">Tree</a>, <a title="List[PatternTypers.this.global.Tree]" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.args">args</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[PatternTypers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="scala.tools.nsc.Mode" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.mode">mode</a>: <a href="../../../reflect/internal/Mode.scala.html#scala.reflect.internal;Mode" title="scala.tools.nsc.Mode">Mode</a>, <a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.pt">pt</a>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="PatternTypers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="PatternTypers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      def <a title="=&gt; PatternTypers.this.global.Apply" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.duplErrTree">duplErrTree</a> = <a href="Infer.scala.html#scala.tools.nsc.typechecker;Infer;Inferencer.setError" title="(tree: PatternTypers.this.global.Apply)PatternTypers.this.global.Apply">setError</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees.treeCopy" title="=&gt; PatternTypers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;TreeCopierOps.Apply" title="(tree: PatternTypers.this.global.Tree, fun: PatternTypers.this.global.Tree, args: List[PatternTypers.this.global.Tree])PatternTypers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.tree" title="PatternTypers.this.global.Tree">tree</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.fun0" title="PatternTypers.this.global.Tree">fun0</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.args" title="List[PatternTypers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
      def <a title="(err: PatternTypers.this.AbsTypeError)PatternTypers.this.global.Apply" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.duplErrorTree">duplErrorTree</a><span class="delimiter">(</span><a title="PatternTypers.this.AbsTypeError" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.duplErrorTree.err">err</a>: <a href="ContextErrors.scala.html#scala.tools.nsc.typechecker;ContextErrors;AbsTypeError" title="PatternTypers.this.AbsTypeError">AbsTypeError</a><span class="delimiter">)</span> = <span class="delimiter">{</span> <a href="Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.context" title="=&gt; PatternTypers.this.Context">context</a>.<a href="Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.issue" title="(err: PatternTypers.this.AbsTypeError)Unit">issue</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.duplErrorTree.err" title="PatternTypers.this.AbsTypeError">err</a><span class="delimiter">)</span>; <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.duplErrTree" title="=&gt; PatternTypers.this.global.Apply">duplErrTree</a> <span class="delimiter">}</span>

      if <span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.args" title="List[PatternTypers.this.global.Tree]">args</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.length" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#scala;Int.>(5f58a84eb3)" title="(x: Int)Boolean">&gt;</a> <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.MaxTupleArity" title="=&gt; Int">MaxTupleArity</a><span class="delimiter">)</span>
        return <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.duplErrorTree" title="(err: PatternTypers.this.AbsTypeError)PatternTypers.this.global.Apply">duplErrorTree</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#scala.tools.nsc.typechecker;ContextErrors;TyperContextErrors.TyperErrorGen.TooManyArgsPatternError" title="(fun: PatternTypers.this.global.Tree)PatternTypers.this.NormalTypeError">TooManyArgsPatternError</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.fun" title="PatternTypers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>

      def <a title="(tp: PatternTypers.this.global.Type)PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshArgType">freshArgType</a><span class="delimiter">(</span><a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshArgType.tp">tp</a>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="PatternTypers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="PatternTypers.this.global.Type">Type</a> = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshArgType.tp" title="PatternTypers.this.global.Type">tp</a> match <span class="delimiter">{</span>
        case MethodType<span class="delimiter">(</span><a title="PatternTypers.this.global.Symbol" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshArgType.param">param</a> :: _, _<span class="delimiter">)</span> =&gt; <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshArgType.param" title="PatternTypers.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.tpe" title="=&gt; PatternTypers.this.global.Type">tpe</a>
        case PolyType<span class="delimiter">(</span><a title="List[PatternTypers.this.global.Symbol]" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshArgType.tparams">tparams</a>, <a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshArgType.restpe">restpe</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols.createFromClonedSymbols" title="(syms: List[PatternTypers.this.global.Symbol], tpe: PatternTypers.this.global.Type)(creator: (List[PatternTypers.this.global.Symbol], PatternTypers.this.global.Type) =&gt; PatternTypers.this.global.Type)PatternTypers.this.global.Type">createFromClonedSymbols</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshArgType.tparams" title="List[PatternTypers.this.global.Symbol]">tparams</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshArgType" title="(tp: PatternTypers.this.global.Type)PatternTypers.this.global.Type">freshArgType</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshArgType.restpe" title="PatternTypers.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.polyType" title="(params: List[PatternTypers.this.global.Symbol], tpe: PatternTypers.this.global.Type)PatternTypers.this.global.Type">polyType</a><span class="delimiter">)</span>
        case OverloadedType<span class="delimiter">(</span>_, _<span class="delimiter">)</span>      =&gt; <a href="ContextErrors.scala.html#scala.tools.nsc.typechecker;ContextErrors;TyperContextErrors.TyperErrorGen.OverloadedUnapplyError" title="(tree: PatternTypers.this.global.Tree)Unit">OverloadedUnapplyError</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.fun" title="PatternTypers.this.global.Tree">fun</a><span class="delimiter">)</span> ; <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.ErrorType" title="PatternTypers.this.global.ErrorType.type">ErrorType</a>
        case _                         =&gt; <a href="ContextErrors.scala.html#scala.tools.nsc.typechecker;ContextErrors;TyperContextErrors.TyperErrorGen.UnapplyWithSingleArgError" title="(tree: PatternTypers.this.global.Tree)Unit">UnapplyWithSingleArgError</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.fun" title="PatternTypers.this.global.Tree">fun</a><span class="delimiter">)</span> ; <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.ErrorType" title="PatternTypers.this.global.ErrorType.type">ErrorType</a>
      <span class="delimiter">}</span>
      val <a title="PatternTypers.this.global.Symbol" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.unapplyMethod">unapplyMethod</a>    = <a href="Unapplies.scala.html#scala.tools.nsc.typechecker;Unapplies.unapplyMember" title="(tp: PatternTypers.this.global.Type)PatternTypers.this.global.Symbol">unapplyMember</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.fun" title="PatternTypers.this.global.Tree">fun</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; PatternTypers.this.global.Type">tpe</a><span class="delimiter">)</span>
      val unapplyType      = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.fun" title="PatternTypers.this.global.Tree">fun</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; PatternTypers.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.memberType" title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.unapplyType">memberType</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.unapplyMethod" title="PatternTypers.this.global.Symbol">unapplyMethod</a>
      val <a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.unapplyParamType">unapplyParamType</a> = <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.firstParamType" title="(tpe: PatternTypers.this.global.Type)PatternTypers.this.global.Type">firstParamType</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.unapplyType" title="PatternTypers.this.global.Type">unapplyType</a><span class="delimiter">)</span>
      def <a title="=&gt; Boolean" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.isSeq">isSeq</a>            = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.unapplyMethod" title="PatternTypers.this.global.Symbol">unapplyMethod</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; unapplyMethod.NameType">name</a> <span title="(x$1: Any)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="PatternTypers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.unapplySeq" title="=&gt; PatternTypers.this.global.nme.NameType">unapplySeq</a>

      def <a title="=&gt; PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.extractor">extractor</a>     = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType" title="(pos: PatternTypers.this.global.Position, pt: PatternTypers.this.global.Type)PatternTypers.this.global.Tree">extractorForUncheckedType</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.fun" title="PatternTypers.this.global.Tree">fun</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; PatternTypers.this.global.Position">pos</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.unapplyParamType" title="PatternTypers.this.global.Type">unapplyParamType</a><span class="delimiter">)</span>
      def <a title="=&gt; Boolean" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.canRemedy">canRemedy</a>     = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.unapplyParamType" title="PatternTypers.this.global.Type">unapplyParamType</a> match <span class="delimiter">{</span>
        case RefinedType<span class="delimiter">(</span>_, <a title="PatternTypers.this.global.Scope" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.canRemedy.decls">decls</a><span class="delimiter">)</span> if <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.canRemedy.decls" title="PatternTypers.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#scala.reflect.internal;Scopes;Scope.isEmpty" title="=&gt; Boolean">isEmpty</a>                 =&gt; false
        case RefinedType<span class="delimiter">(</span><a title="List[PatternTypers.this.global.Type]" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.canRemedy.parents">parents</a>, _<span class="delimiter">)</span> if <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.canRemedy.parents" title="List[PatternTypers.this.global.Type]">parents</a> <a href="../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.exists" title="(p: PatternTypers.this.global.Type =&gt; Boolean)Boolean">exists</a> <a href="Checkable.scala.html#scala.tools.nsc.typechecker;Checkable;InferCheckable.isUncheckable" title="(P0: PatternTypers.this.global.Type)Boolean">isUncheckable</a> =&gt; false
        case _                                                       =&gt; <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.extractor" title="=&gt; PatternTypers.this.global.Tree">extractor</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.nonEmpty" title="=&gt; Boolean">nonEmpty</a>
      <span class="delimiter">}</span>

      def <a title="()PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshUnapplyArgType">freshUnapplyArgType</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="PatternTypers.this.global.Type">Type</a> = <span class="delimiter">{</span>
        val <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.GenPolyType.unapply" title="(tpe: PatternTypers.this.global.Type)Option[(List[PatternTypers.this.global.Symbol], PatternTypers.this.global.Type)]">GenPolyType</a><a href="../../../Tuple2.scala.html#scala;Tuple2" title="(List[PatternTypers.this.global.Symbol], PatternTypers.this.global.Type)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#scala;Tuple2._1" title="List[PatternTypers.this.global.Symbol]" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshUnapplyArgType.freeVars">freeVars</a>, <a href="../../../Tuple2.scala.html#scala;Tuple2._2" title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshUnapplyArgType.unappFormal">unappFormal</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshArgType" title="(tp: PatternTypers.this.global.Type)PatternTypers.this.global.Type">freshArgType</a><a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="PatternTypers.this.global.Type @unchecked" class="delimiter">(</a><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.unapplyType" title="PatternTypers.this.global.Type">unapplyType</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.skolemizeExistential(3dd66220a2)" title="(owner: PatternTypers.this.global.Symbol, origin: AnyRef)PatternTypers.this.global.Type">skolemizeExistential</a><span class="delimiter">(</span><a href="Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.context" title="=&gt; PatternTypers.this.Context">context</a>.<a href="Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.owner" title="=&gt; PatternTypers.this.global.Symbol">owner</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.tree" title="PatternTypers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
        val <a title="PatternTypers.this.Context" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshUnapplyArgType.unapplyContext">unapplyContext</a> = <a href="Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.context" title="PatternTypers.this.Context" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshUnapplyArgType.unapplyContext.qual$2">context</a>.<a href="Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.makeNewScope$default$3" title="PatternTypers.this.ContextReporter" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshUnapplyArgType.unapplyContext.x$19">makeNewScope</a><span class="delimiter">(</span><a href="Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.context" title="=&gt; PatternTypers.this.Context">context</a>.<a href="Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.tree" title="PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshUnapplyArgType.unapplyContext.x$17">tree</a>, <a href="Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.context" title="=&gt; PatternTypers.this.Context">context</a>.<a href="Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.owner" title="PatternTypers.this.global.Symbol" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshUnapplyArgType.unapplyContext.x$18">owner</a><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshUnapplyArgType.freeVars" title="List[PatternTypers.this.global.Symbol]">freeVars</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.foreach" title="(f: PatternTypers.this.global.Symbol =&gt; PatternTypers.this.global.Symbol)Unit">foreach</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshUnapplyArgType.unapplyContext" title="PatternTypers.this.Context">unapplyContext</a>.<a href="Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.scope" title="=&gt; PatternTypers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#scala.reflect.internal;Scopes;Scope.enter" title="(sym: PatternTypers.this.global.Symbol)PatternTypers.this.global.Symbol">enter</a>
        val <a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshUnapplyArgType.pattp">pattp</a> = <a href="Typers.scala.html#scala.tools.nsc.typechecker;Typers.newTyper" title="(context: PatternTypers.this.Context)PatternTypers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshUnapplyArgType.unapplyContext" title="PatternTypers.this.Context">unapplyContext</a><span class="delimiter">)</span>.<a href="Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.infer" title="=&gt; PatternTypers.this.Inferencer">infer</a>.<a href="Infer.scala.html#scala.tools.nsc.typechecker;Infer;Inferencer.inferTypedPattern" title="(tree0: PatternTypers.this.global.Tree, pattp: PatternTypers.this.global.Type, pt0: PatternTypers.this.global.Type, canRemedy: Boolean)PatternTypers.this.global.Type">inferTypedPattern</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.tree" title="PatternTypers.this.global.Tree">tree</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshUnapplyArgType.unappFormal" title="PatternTypers.this.global.Type">unappFormal</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.pt" title="PatternTypers.this.global.Type">pt</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.canRemedy" title="=&gt; Boolean">canRemedy</a><span class="delimiter">)</span>
        <span class="comment">// turn any unresolved type variables in freevars into existential skolems</span>
        val skolems = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshUnapplyArgType.freeVars" title="List[PatternTypers.this.global.Symbol]">freeVars</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="List[PatternTypers.this.global.TypeSkolem]" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshUnapplyArgType.skolems">map</a> <span class="delimiter">(</span><a title="PatternTypers.this.global.Symbol" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshUnapplyArgType.skolems.$anonfun.fv">fv</a> =&gt; <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshUnapplyArgType.unapplyContext" title="PatternTypers.this.Context">unapplyContext</a>.<a href="Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.owner" title="=&gt; PatternTypers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.newExistentialSkolem(4c30eb3c49)" title="(basis: PatternTypers.this.global.Symbol, origin: AnyRef)PatternTypers.this.global.TypeSkolem">newExistentialSkolem</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshUnapplyArgType.skolems.$anonfun.fv" title="PatternTypers.this.global.Symbol">fv</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshUnapplyArgType.skolems.$anonfun.fv" title="PatternTypers.this.global.Symbol">fv</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshUnapplyArgType.pattp" title="PatternTypers.this.global.Type">pattp</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.substSym" title="(from: List[PatternTypers.this.global.Symbol], to: List[PatternTypers.this.global.Symbol])PatternTypers.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshUnapplyArgType.freeVars" title="List[PatternTypers.this.global.Symbol]">freeVars</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshUnapplyArgType.skolems" title="List[PatternTypers.this.global.TypeSkolem]">skolems</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      val unapplyArg = <span class="delimiter">(</span>
        <a href="Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.context" title="=&gt; PatternTypers.this.Context">context</a>.<a href="Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.owner" title="=&gt; PatternTypers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.newValue" title="(name: PatternTypers.this.global.TermName, pos: PatternTypers.this.global.Position, newFlags: Long)PatternTypers.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="PatternTypers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.SELECTOR_DUMMY" title="=&gt; PatternTypers.this.global.nme.NameType">SELECTOR_DUMMY</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.fun" title="PatternTypers.this.global.Tree">fun</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; PatternTypers.this.global.Position">pos</a>, Flags.<span title="Long(2097152L)">SYNTHETIC</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.setInfo" title="PatternTypers.this.global.TermSymbol" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.unapplyArg">setInfo</a> <span class="delimiter">(</span>
          if <span class="delimiter">(</span><a href="Infer.scala.html#scala.tools.nsc.typechecker;Infer;Inferencer.isApplicableSafe" title="(undetparams: List[PatternTypers.this.global.Symbol], ftpe: PatternTypers.this.global.Type, argtpes0: List[PatternTypers.this.global.Type], pt: PatternTypers.this.global.Type)Boolean">isApplicableSafe</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.unapplyType" title="PatternTypers.this.global.Type">unapplyType</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.pt" title="PatternTypers.this.global.Type">pt</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: PatternTypers.this.global.Type)List[PatternTypers.this.global.Type]">::</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.WildcardType" title="PatternTypers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.pt" title="PatternTypers.this.global.Type">pt</a>
          else <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.freshUnapplyArgType" title="()PatternTypers.this.global.Type">freshUnapplyArgType</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="delimiter">)</span>
      val unapplyArgTree = <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.Ident(e8c336bf3b)" title="(sym: PatternTypers.this.global.Symbol)PatternTypers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.unapplyArg" title="PatternTypers.this.global.TermSymbol">unapplyArg</a><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#scala.reflect.internal;StdAttachments;Attachable.updateAttachment" title="PatternTypers.this.global.Ident" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.unapplyArgTree">updateAttachment</a> <a href="../../../reflect/internal/StdAttachments.scala.html#scala.reflect.internal;StdAttachments;SubpatternsAttachment" title="(patterns: List[PatternTypers.this.global.Tree])PatternTypers.this.global.SubpatternsAttachment">SubpatternsAttachment</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.args" title="List[PatternTypers.this.global.Tree]">args</a><span class="delimiter">)</span>

      <span class="comment">// clearing the type is necessary so that ref will be stabilized; see bug 881</span>
      val <a title="PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.fun1">fun1</a> = <a href="Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.typedPos(b526320510)" title="(pos: PatternTypers.this.global.Position)(tree: PatternTypers.this.global.Tree)PatternTypers.this.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.fun" title="PatternTypers.this.global.Tree">fun</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; PatternTypers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Apply" title="(fun: PatternTypers.this.global.Tree, args: List[PatternTypers.this.global.Tree])PatternTypers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.Select(dd97d6dc80)" title="(qualifier: PatternTypers.this.global.Tree, sym: PatternTypers.this.global.Symbol)PatternTypers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.fun" title="PatternTypers.this.global.Tree">fun</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.clearType" title="()fun.type">clearType</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.unapplyMethod" title="PatternTypers.this.global.Symbol">unapplyMethod</a><span class="delimiter">)</span>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.unapplyArgTree" title="PatternTypers.this.global.Ident">unapplyArgTree</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: PatternTypers.this.global.Ident)List[PatternTypers.this.global.Ident]">::</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span><span class="delimiter">)</span>

      def <a title="()PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.makeTypedUnApply">makeTypedUnApply</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="comment">// the union of the expected type and the inferred type of the argument to unapply</span>
        val <a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.makeTypedUnApply.glbType">glbType</a>        = <a href="../../../reflect/internal/tpe/GlbLubs.scala.html#scala.reflect.internal.tpe;GlbLubs.glb(d5711a700e)" title="(ts: List[PatternTypers.this.global.Type])PatternTypers.this.global.Type">glb</a><span class="delimiter">(</span><a href="Infer.scala.html#scala.tools.nsc.typechecker;Infer;Inferencer.ensureFullyDefined" title="(tp: PatternTypers.this.global.Type)PatternTypers.this.global.Type">ensureFullyDefined</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.pt" title="PatternTypers.this.global.Type">pt</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: PatternTypers.this.global.Type)List[PatternTypers.this.global.Type]">::</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.unapplyArg" title="PatternTypers.this.global.TermSymbol">unapplyArg</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.tpe_*" title="=&gt; PatternTypers.this.global.Type">tpe_*</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: PatternTypers.this.global.Type)List[PatternTypers.this.global.Type]">::</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>
        val wrapInTypeTest = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.canRemedy" title="=&gt; Boolean">canRemedy</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="Boolean" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.makeTypedUnApply.wrapInTypeTest">&amp;&amp;</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.fun1" title="PatternTypers.this.global.Tree">fun1</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; PatternTypers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; PatternTypers.this.global.Symbol">owner</a> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isNonBottomSubClass" title="(that: PatternTypers.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.ClassTagClass" title="=&gt; PatternTypers.this.global.ClassSymbol">ClassTagClass</a><span class="delimiter">)</span>
        val <a title="List[PatternTypers.this.global.patmat.global.Type]" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.makeTypedUnApply.formals">formals</a>        = <a href="../Global.scala.html#scala.tools.nsc;Global.patmat" title="PatternTypers.this.global.patmat.type">patmat</a>.<a href="../transform/patmat/ScalacPatternExpanders.scala.html#scala.tools.nsc.transform.patmat;ScalacPatternExpanders.alignPatterns.apply(332c592e2b)" title="(context: PatternTypers.this.global.patmat.global.analyzer.Context, sel: PatternTypers.this.global.patmat.global.Tree, args: List[PatternTypers.this.global.patmat.global.Tree])PatternTypers.this.global.patmat.alignPatterns.Aligned">alignPatterns</a><a href="../transform/patmat/ScalacPatternExpanders.scala.html#scala.tools.nsc.transform.patmat;ScalacPatternExpanders.AlignedOps" title="implicit scala.tools.nsc.transform.patmat.ScalacPatternExpanders.AlignedOps : (aligned: PatternTypers.this.global.patmat.PatternAligned)PatternTypers.this.global.patmat.AlignedOps" class="delimiter">(</a><a href="Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.context" title="=&gt; PatternTypers.this.Context">context</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="PatternTypers.this.global.analyzer.Context" class="delimiter">[</span>analyzer.<a href="Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context" title="PatternTypers.this.global.analyzer.Context">Context</a><span class="delimiter">]</span>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.fun1" title="PatternTypers.this.global.Tree">fun1</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.args" title="List[PatternTypers.this.global.Tree]">args</a><span class="delimiter">)</span>.<a href="../transform/patmat/ScalacPatternExpanders.scala.html#scala.tools.nsc.transform.patmat;ScalacPatternExpanders;AlignedOps.unexpandedFormals" title="=&gt; List[PatternTypers.this.global.patmat.global.Type]">unexpandedFormals</a>
        val <a title="List[PatternTypers.this.global.Tree]" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.makeTypedUnApply.args1">args1</a>          = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.typedArgsForFormals" title="(args: List[PatternTypers.this.global.Tree], formals: List[PatternTypers.this.global.Type], mode: scala.tools.nsc.Mode)List[PatternTypers.this.global.Tree]">typedArgsForFormals</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.args" title="List[PatternTypers.this.global.Tree]">args</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.makeTypedUnApply.formals" title="List[PatternTypers.this.global.patmat.global.Type]">formals</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.mode" title="scala.tools.nsc.Mode">mode</a><span class="delimiter">)</span>
        val result         = <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;UnApply" title="(fun: PatternTypers.this.global.Tree, args: List[PatternTypers.this.global.Tree])PatternTypers.this.global.UnApply">UnApply</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.fun1" title="PatternTypers.this.global.Tree">fun1</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.makeTypedUnApply.args1" title="List[PatternTypers.this.global.Tree]">args1</a><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#scala.reflect.internal;StdAttachments;Attachable.setPos" title="(newpos: scala.reflect.internal.util.Position)PatternTypers.this.global.UnApply">setPos</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.tree" title="PatternTypers.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; PatternTypers.this.global.Position">pos</a> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.setType" title="PatternTypers.this.global.UnApply" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.makeTypedUnApply.result">setType</a> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.makeTypedUnApply.glbType" title="PatternTypers.this.global.Type">glbType</a>

        if <span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.makeTypedUnApply.wrapInTypeTest" title="Boolean">wrapInTypeTest</a><span class="delimiter">)</span>
          <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.wrapClassTagUnapply" title="(uncheckedPattern: PatternTypers.this.global.Tree, classTagExtractor: PatternTypers.this.global.Tree, pt: PatternTypers.this.global.Type)PatternTypers.this.global.Tree">wrapClassTagUnapply</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.makeTypedUnApply.result" title="PatternTypers.this.global.UnApply">result</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.extractor" title="=&gt; PatternTypers.this.global.Tree">extractor</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.makeTypedUnApply.glbType" title="PatternTypers.this.global.Type">glbType</a><span class="delimiter">)</span>
        else
          <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.makeTypedUnApply.result" title="PatternTypers.this.global.UnApply">result</a>
      <span class="delimiter">}</span>

      if <span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.fun1" title="PatternTypers.this.global.Tree">fun1</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; PatternTypers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.isErroneous" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.duplErrTree" title="=&gt; PatternTypers.this.global.Apply">duplErrTree</a>
      else if <span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.unapplyMethod" title="PatternTypers.this.global.Symbol">unapplyMethod</a>.<a href="../../../reflect/internal/HasFlags.scala.html#scala.reflect.internal;HasFlags.isMacro" title="=&gt; Boolean">isMacro</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.fun1" title="PatternTypers.this.global.Tree">fun1</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Apply" title="PatternTypers.this.global.Apply">Apply</a><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        if <span class="delimiter">(</span><a href="Macros.scala.html#scala.tools.nsc.typechecker;Macros.isBlackbox(3130669c4e)" title="(macroDef: PatternTypers.this.global.Symbol)Boolean">isBlackbox</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.unapplyMethod" title="PatternTypers.this.global.Symbol">unapplyMethod</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.duplErrorTree" title="(err: PatternTypers.this.AbsTypeError)PatternTypers.this.global.Apply">duplErrorTree</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#scala.tools.nsc.typechecker;ContextErrors;TyperContextErrors.TyperErrorGen.BlackboxExtractorExpansion" title="(fun: PatternTypers.this.global.Tree)PatternTypers.this.NormalTypeError">BlackboxExtractorExpansion</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.tree" title="PatternTypers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
        else <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.duplErrorTree" title="(err: PatternTypers.this.AbsTypeError)PatternTypers.this.global.Apply">duplErrorTree</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#scala.tools.nsc.typechecker;ContextErrors;TyperContextErrors.TyperErrorGen.WrongShapeExtractorExpansion" title="(fun: PatternTypers.this.global.Tree)PatternTypers.this.NormalTypeError">WrongShapeExtractorExpansion</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.tree" title="PatternTypers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> else
        <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply.makeTypedUnApply" title="()PatternTypers.this.global.Tree">makeTypedUnApply</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    def <a title="(uncheckedPattern: PatternTypers.this.global.Tree, classTagExtractor: PatternTypers.this.global.Tree, pt: PatternTypers.this.global.Type)PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.wrapClassTagUnapply">wrapClassTagUnapply</a><span class="delimiter">(</span><a title="PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.wrapClassTagUnapply.uncheckedPattern">uncheckedPattern</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="PatternTypers.this.global.Tree">Tree</a>, <a title="PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.wrapClassTagUnapply.classTagExtractor">classTagExtractor</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="PatternTypers.this.global.Tree">Tree</a>, <a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.wrapClassTagUnapply.pt">pt</a>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="PatternTypers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="PatternTypers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="comment">// TODO: disable when in unchecked match</span>
      <span class="comment">// we don't create a new Context for a Match, so find the CaseDef,</span>
      <span class="comment">// then go out one level and navigate back to the match that has this case</span>
      val <a title="List[PatternTypers.this.global.Tree]" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.wrapClassTagUnapply.args">args</a> = <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: PatternTypers.this.global.Tree*)List[PatternTypers.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.wrapClassTagUnapply.uncheckedPattern" title="PatternTypers.this.global.Tree">uncheckedPattern</a><span class="delimiter">)</span>
      val <a title="PatternTypers.this.global.Apply" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.wrapClassTagUnapply.app">app</a>  = <a href="../../../reflect/internal/Positions.scala.html#scala.reflect.internal;Positions.atPos" title="(pos: PatternTypers.this.global.Position)(tree: PatternTypers.this.global.Apply)PatternTypers.this.global.Apply">atPos</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.wrapClassTagUnapply.uncheckedPattern" title="PatternTypers.this.global.Tree">uncheckedPattern</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; PatternTypers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Apply" title="(fun: PatternTypers.this.global.Tree, args: List[PatternTypers.this.global.Tree])PatternTypers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.wrapClassTagUnapply.classTagExtractor" title="PatternTypers.this.global.Tree">classTagExtractor</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.wrapClassTagUnapply.args" title="List[PatternTypers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="comment">// must call doTypedUnapply directly, as otherwise we get undesirable rewrites</span>
      <span class="comment">// and re-typechecks of the target of the unapply call in PATTERNmode,</span>
      <span class="comment">// this breaks down when the classTagExtractor (which defineds the unapply member) is not a simple reference to an object,</span>
      <span class="comment">// but an arbitrary tree as is the case here</span>
      val <a title="PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.wrapClassTagUnapply.res">res</a> = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.doTypedUnapply" title="(tree: PatternTypers.this.global.Tree, fun0: PatternTypers.this.global.Tree, fun: PatternTypers.this.global.Tree, args: List[PatternTypers.this.global.Tree], mode: scala.tools.nsc.Mode, pt: PatternTypers.this.global.Type)PatternTypers.this.global.Tree">doTypedUnapply</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.wrapClassTagUnapply.app" title="PatternTypers.this.global.Apply">app</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.wrapClassTagUnapply.classTagExtractor" title="PatternTypers.this.global.Tree">classTagExtractor</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.wrapClassTagUnapply.classTagExtractor" title="PatternTypers.this.global.Tree">classTagExtractor</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.wrapClassTagUnapply.args" title="List[PatternTypers.this.global.Tree]">args</a>, <a href="../../../reflect/internal/Mode.scala.html#scala.reflect.internal.Mode.PATTERNmode" title="=&gt; scala.reflect.internal.Mode">PATTERNmode</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.wrapClassTagUnapply.pt" title="PatternTypers.this.global.Type">pt</a><span class="delimiter">)</span>

      <a href="../Global.scala.html#scala.tools.nsc;Global.log" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="../../../reflect/internal/util/StripMarginInterpolator.scala.html#scala.reflect.internal.util;StripMarginInterpolator.sm" title="(args: Any*)String">sm</a>&quot;&quot;&quot;<span title="String(&quot;\n        |wrapClassTagUnapply {\n        |  pattern: &quot;)">
        |wrapClassTagUnapply {
        |  pattern: $</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.wrapClassTagUnapply.uncheckedPattern" title="PatternTypers.this.global.Tree">uncheckedPattern</a><span title="String(&quot;\n        |  extract: &quot;)">
        |  extract: $</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.wrapClassTagUnapply.classTagExtractor" title="PatternTypers.this.global.Tree">classTagExtractor</a><span title="String(&quot;\n        |       pt: &quot;)">
        |       pt: $</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.wrapClassTagUnapply.pt" title="PatternTypers.this.global.Type">pt</a><span title="String(&quot;\n        |      res: &quot;)">
        |      res: $</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.wrapClassTagUnapply.res" title="PatternTypers.this.global.Tree">res</a><span title="String(&quot;\n        |}&quot;)" class="string">
        |}&quot;&quot;&quot;</span>.<span title="()String">trim</span><span class="delimiter">)</span>

      <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.wrapClassTagUnapply.res" title="PatternTypers.this.global.Tree">res</a>
    <span class="delimiter">}</span>

    <span class="comment">// if there's a ClassTag that allows us to turn the unchecked type test for `pt` into a checked type test</span>
    <span class="comment">// return the corresponding extractor (an instance of ClassTag[`pt`])</span>
    def <a title="(pos: PatternTypers.this.global.Position, pt: PatternTypers.this.global.Type)PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType">extractorForUncheckedType</a><span class="delimiter">(</span><a title="PatternTypers.this.global.Position" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.pos">pos</a>: <a href="../../../reflect/internal/util/Position.scala.html#scala.reflect.internal.util;Position" title="PatternTypers.this.global.Position">Position</a>, <a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.pt">pt</a>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="PatternTypers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="PatternTypers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="../Global.scala.html#scala.tools.nsc;Global.isPastTyper" title="=&gt; Boolean">isPastTyper</a> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.pt" title="PatternTypers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.NoType" title="PatternTypers.this.global.NoType.type">NoType</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="PatternTypers.this.global.EmptyTree.type">EmptyTree</a> else <span class="delimiter">{</span>
        <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.pt" title="PatternTypers.this.global.Type">pt</a> match <span class="delimiter">{</span>
          case RefinedType<span class="delimiter">(</span><a title="List[PatternTypers.this.global.Type]" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.parents">parents</a>, <a title="PatternTypers.this.global.Scope" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.decls">decls</a><span class="delimiter">)</span> if <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.decls" title="PatternTypers.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#scala.reflect.internal;Scopes;Scope.isEmpty" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.parents" title="List[PatternTypers.this.global.Type]">parents</a> <a href="../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.exists" title="(p: PatternTypers.this.global.Type =&gt; Boolean)Boolean">exists</a> <a href="Checkable.scala.html#scala.tools.nsc.typechecker;Checkable;InferCheckable.isUncheckable" title="(P0: PatternTypers.this.global.Type)Boolean">isUncheckable</a><span class="delimiter">)</span> =&gt; return <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="PatternTypers.this.global.EmptyTree.type">EmptyTree</a>
          case _                                                                               =&gt;
        <span class="delimiter">}</span>
        <span class="comment">// only look at top-level type, can't (reliably) do anything about unchecked type args (in general)</span>
        <span class="comment">// but at least make a proper type before passing it elsewhere</span>
        val <a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.pt1">pt1</a> = <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.pt" title="PatternTypers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.dealiasWiden" title="=&gt; PatternTypers.this.global.Type">dealiasWiden</a> match <span class="delimiter">{</span>
          case <a title="PatternTypers.this.global.TypeRef" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.pt1.tr">tr</a> @ TypeRef<span class="delimiter">(</span><a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.pt1.pre">pre</a>, <a title="PatternTypers.this.global.Symbol" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.pt1.sym">sym</a>, <a title="List[PatternTypers.this.global.Type]" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.pt1.args">args</a><span class="delimiter">)</span> if <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.pt1.args" title="List[PatternTypers.this.global.Type]">args</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.nonEmpty" title="=&gt; Boolean">nonEmpty</a> =&gt; <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.copyTypeRef" title="(tp: PatternTypers.this.global.Type, pre: PatternTypers.this.global.Type, sym: PatternTypers.this.global.Symbol, args: List[PatternTypers.this.global.Type])PatternTypers.this.global.Type">copyTypeRef</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.pt1.tr" title="PatternTypers.this.global.TypeRef">tr</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.pt1.pre" title="PatternTypers.this.global.Type">pre</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.pt1.sym" title="PatternTypers.this.global.Symbol">sym</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.pt1.sym" title="PatternTypers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.typeParams" title="=&gt; List[PatternTypers.this.global.Symbol]">typeParams</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: PatternTypers.this.global.Symbol =&gt; PatternTypers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[PatternTypers.this.global.Symbol],PatternTypers.this.global.Type,List[PatternTypers.this.global.Type]])List[PatternTypers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.pt1.$anonfun.x$13" title="PatternTypers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.tpeHK" title="=&gt; PatternTypers.this.global.Type">tpeHK</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// replace actual type args with dummies</span>
          case <a title="PatternTypers.this.global.Type" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.pt1.pt1">pt1</a>                                           =&gt; <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.pt1.pt1" title="PatternTypers.this.global.Type">pt1</a>
        <span class="delimiter">}</span>
        if <span class="delimiter">(</span><a href="Checkable.scala.html#scala.tools.nsc.typechecker;Checkable;InferCheckable.isCheckable" title="(P0: PatternTypers.this.global.Type)Boolean">isCheckable</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.pt1" title="PatternTypers.this.global.Type">pt1</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="PatternTypers.this.global.EmptyTree.type">EmptyTree</a>
        else <a href="Tags.scala.html#scala.tools.nsc.typechecker;Tags;Tag.resolveClassTag" title="(pos: PatternTypers.this.global.Position, tp: PatternTypers.this.global.Type, allowMaterialization: Boolean)PatternTypers.this.global.Tree">resolveClassTag</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.pos" title="PatternTypers.this.global.Position">pos</a>, <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.pt1" title="PatternTypers.this.global.Type">pt1</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
          case <a title="PatternTypers.this.global.Tree" id="scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.tree">tree</a> if <a href="Unapplies.scala.html#scala.tools.nsc.typechecker;Unapplies.unapplyMember" title="(tp: PatternTypers.this.global.Type)PatternTypers.this.global.Symbol">unapplyMember</a><span class="delimiter">(</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.tree" title="PatternTypers.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; PatternTypers.this.global.Type">tpe</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.exists" title="=&gt; Boolean">exists</a> =&gt; <a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.tree" title="PatternTypers.this.global.Tree">tree</a>
          case _                                      =&gt; <a href="../Global.scala.html#scala.tools.nsc;Global.devWarning(1729dbc42f)" title="(msg: =&gt; String)Unit">devWarning</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;Cannot create runtime type test for &quot;)">Cannot create runtime type test for $</span><a href="#scala.tools.nsc.typechecker;PatternTypers;PatternTyper.extractorForUncheckedType.pt1" title="PatternTypers.this.global.Type">pt1</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span> ; <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="PatternTypers.this.global.EmptyTree.type">EmptyTree</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span title="AnyRef" class="delimiter">}</span>

        </pre>
    </body>
</html>
