<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/tools/nsc/backend/JavaPlatform.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2013 LAMP/EPFL
 * @author  Paul Phillips
 */</span>

package scala.tools.nsc
package backend

import io.AbstractFile
import util.<span class="delimiter">{</span>ClassPath,MergedClassPath,DeltaClassPath<span class="delimiter">}</span>
import scala.tools.util.PathResolver

trait <a title="trait JavaPlatform extends AnyRef with scala.tools.nsc.backend.Platform" id="scala.tools.nsc.backend;JavaPlatform">JavaPlatform</a> extends <a href="Platform.scala.html#scala.tools.nsc.backend;Platform" title="scala.tools.nsc.backend.Platform">Platform</a> <span class="delimiter">{</span>
  val <a title="=&gt; scala.tools.nsc.Global" id="scala.tools.nsc.backend;JavaPlatform.global">global</a>: <a href="../Global.scala.html#scala.tools.nsc;Global" title="scala.tools.nsc.Global">Global</a>
  override val <a title="JavaPlatform.this.global.type" id="scala.tools.nsc.backend;JavaPlatform.symbolTable">symbolTable</a>: global.type = <a href="#scala.tools.nsc.backend;JavaPlatform.global" title="=&gt; scala.tools.nsc.Global">global</a>
  import <a href="#scala.tools.nsc.backend;JavaPlatform.global" title="=&gt; scala.tools.nsc.Global">global</a>._
  import <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions.definitions" title="JavaPlatform.this.global.definitions.type">definitions</a>._

  private var <a title="Option[scala.tools.nsc.util.MergedClassPath[scala.tools.nsc.io.AbstractFile]]" id="scala.tools.nsc.backend;JavaPlatform.currentClassPath_=">currentClassPath</a>: <a href="../../../Option.scala.html#scala;Option" title="Option[scala.tools.nsc.util.MergedClassPath[scala.tools.nsc.io.AbstractFile]]">Option</a><span class="delimiter">[</span>MergedClassPath<span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="../../../Option.scala.html#scala.None" title="None.type">None</a>

  def <a title="=&gt; scala.tools.nsc.util.ClassPath[scala.tools.nsc.io.AbstractFile]" id="scala.tools.nsc.backend;JavaPlatform.classPath">classPath</a>: <a href="../util/ClassPath.scala.html#scala.tools.nsc.util;ClassPath" title="scala.tools.nsc.util.ClassPath[scala.tools.nsc.io.AbstractFile]">ClassPath</a><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend;JavaPlatform.currentClassPath_=" title="=&gt; Option[scala.tools.nsc.util.MergedClassPath[scala.tools.nsc.io.AbstractFile]]">currentClassPath</a>.<a href="../../../Option.scala.html#scala;Option.isEmpty" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.backend;JavaPlatform.currentClassPath_=" title="(x$1: Option[scala.tools.nsc.util.MergedClassPath[scala.tools.nsc.io.AbstractFile]])Unit">currentClassPath</a> = <a href="../../../Option.scala.html#scala;Some" title="(x: scala.tools.nsc.util.JavaClassPath)Some[scala.tools.nsc.util.JavaClassPath]">Some</a><span class="delimiter">(</span>new <a href="../../util/PathResolver.scala.html#scala.tools.util;PathResolver" title="scala.tools.util.PathResolver">PathResolver</a><span class="delimiter">(</span><a href="../Global.scala.html#scala.tools.nsc;Global.settings" title="=&gt; scala.tools.nsc.Settings">settings</a><span class="delimiter">)</span>.<a href="../../util/PathResolver.scala.html#scala.tools.util;PathResolver.result" title="=&gt; scala.tools.nsc.util.JavaClassPath">result</a><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.backend;JavaPlatform.currentClassPath_=" title="=&gt; Option[scala.tools.nsc.util.MergedClassPath[scala.tools.nsc.io.AbstractFile]]">currentClassPath</a>.<a href="../../../Option.scala.html#scala;Option.get" title="=&gt; scala.tools.nsc.util.MergedClassPath[scala.tools.nsc.io.AbstractFile]">get</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Update classpath with a substituted subentry */</span>
  def <a title="(subst: Map[scala.tools.nsc.util.ClassPath[scala.tools.nsc.io.AbstractFile],scala.tools.nsc.util.ClassPath[scala.tools.nsc.io.AbstractFile]])Unit" id="scala.tools.nsc.backend;JavaPlatform.updateClassPath">updateClassPath</a><span class="delimiter">(</span><a title="Map[scala.tools.nsc.util.ClassPath[scala.tools.nsc.io.AbstractFile],scala.tools.nsc.util.ClassPath[scala.tools.nsc.io.AbstractFile]]" id="scala.tools.nsc.backend;JavaPlatform.updateClassPath.subst">subst</a>: <a href="../../../collection/immutable/Map.scala.html#scala.collection.immutable;Map" title="Map[scala.tools.nsc.util.ClassPath[scala.tools.nsc.io.AbstractFile],scala.tools.nsc.util.ClassPath[scala.tools.nsc.io.AbstractFile]]">Map</a><span class="delimiter">[</span>ClassPath<span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span>, ClassPath<span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#scala.tools.nsc.backend;JavaPlatform.currentClassPath_=" title="(x$1: Option[scala.tools.nsc.util.MergedClassPath[scala.tools.nsc.io.AbstractFile]])Unit">currentClassPath</a> = <a href="../../../Option.scala.html#scala;Some" title="(x: scala.tools.nsc.util.DeltaClassPath[scala.tools.nsc.io.AbstractFile])Some[scala.tools.nsc.util.DeltaClassPath[scala.tools.nsc.io.AbstractFile]]">Some</a><span class="delimiter">(</span>new <a href="../util/ClassPath.scala.html#scala.tools.nsc.util;DeltaClassPath" title="scala.tools.nsc.util.DeltaClassPath[scala.tools.nsc.io.AbstractFile]">DeltaClassPath</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend;JavaPlatform.currentClassPath_=" title="=&gt; Option[scala.tools.nsc.util.MergedClassPath[scala.tools.nsc.io.AbstractFile]]">currentClassPath</a>.<a href="../../../Option.scala.html#scala;Option.get" title="=&gt; scala.tools.nsc.util.MergedClassPath[scala.tools.nsc.io.AbstractFile]">get</a>, <a href="#scala.tools.nsc.backend;JavaPlatform.updateClassPath.subst" title="Map[scala.tools.nsc.util.ClassPath[scala.tools.nsc.io.AbstractFile],scala.tools.nsc.util.ClassPath[scala.tools.nsc.io.AbstractFile]]">subst</a><span class="delimiter">)</span><span class="delimiter">)</span>

  private def <a title="=&gt; scala.tools.nsc.SubComponent with scala.tools.nsc.backend.jvm.BytecodeWriters{val global: JavaPlatform.this.global.type; val runsRightAfter: None.type}" id="scala.tools.nsc.backend;JavaPlatform.classEmitPhase">classEmitPhase</a> =
    if <span class="delimiter">(</span><a href="../Global.scala.html#scala.tools.nsc;Global.settings" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#scala.tools.nsc.settings;ScalaSettings.isBCodeActive" title="=&gt; Boolean">isBCodeActive</a><span class="delimiter">)</span> <a href="../Global.scala.html#scala.tools.nsc;Global.genBCode" title="JavaPlatform.this.global.genBCode.type">genBCode</a>
    else <a href="../Global.scala.html#scala.tools.nsc;Global.genASM" title="JavaPlatform.this.global.genASM.type">genASM</a>

  def <a title="=&gt; List[scala.tools.nsc.SubComponent{val runsRightAfter: None.type; val global: JavaPlatform.this.global.type}]" id="scala.tools.nsc.backend;JavaPlatform.platformPhases">platformPhases</a> = <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: scala.tools.nsc.SubComponent{val runsRightAfter: None.type; val global: JavaPlatform.this.global.type}*)List[scala.tools.nsc.SubComponent{val runsRightAfter: None.type; val global: JavaPlatform.this.global.type}]">List</a><span class="delimiter">(</span>
    <a href="../Global.scala.html#scala.tools.nsc;Global.flatten" title="JavaPlatform.this.global.flatten.type">flatten</a>,        <span class="comment">// get rid of inner classes</span>
    <a href="#scala.tools.nsc.backend;JavaPlatform.classEmitPhase" title="=&gt; scala.tools.nsc.SubComponent with scala.tools.nsc.backend.jvm.BytecodeWriters{val global: JavaPlatform.this.global.type; val runsRightAfter: None.type}">classEmitPhase</a>  <span class="comment">// generate .class files</span>
  <span class="delimiter">)</span>

  lazy val <a title="JavaPlatform.this.global.Symbol" id="scala.tools.nsc.backend;JavaPlatform.externalEquals">externalEquals</a>          = <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.getDecl" title="(owner: JavaPlatform.this.global.Symbol, name: JavaPlatform.this.global.Name)JavaPlatform.this.global.Symbol">getDecl</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.BoxesRunTimeClass" title="=&gt; JavaPlatform.this.global.Symbol">BoxesRunTimeClass</a>, <a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="JavaPlatform.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.equals_" title="=&gt; JavaPlatform.this.global.nme.NameType">equals_</a><span class="delimiter">)</span>
  lazy val <a title="JavaPlatform.this.global.Symbol" id="scala.tools.nsc.backend;JavaPlatform.externalEqualsNumNum">externalEqualsNumNum</a>    = <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.getDecl" title="(owner: JavaPlatform.this.global.Symbol, name: JavaPlatform.this.global.Name)JavaPlatform.this.global.Symbol">getDecl</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.BoxesRunTimeClass" title="=&gt; JavaPlatform.this.global.Symbol">BoxesRunTimeClass</a>, <a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="JavaPlatform.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.equalsNumNum" title="=&gt; JavaPlatform.this.global.nme.NameType">equalsNumNum</a><span class="delimiter">)</span>
  lazy val <a title="JavaPlatform.this.global.Symbol" id="scala.tools.nsc.backend;JavaPlatform.externalEqualsNumChar">externalEqualsNumChar</a>   = <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.getDecl" title="(owner: JavaPlatform.this.global.Symbol, name: JavaPlatform.this.global.Name)JavaPlatform.this.global.Symbol">getDecl</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.BoxesRunTimeClass" title="=&gt; JavaPlatform.this.global.Symbol">BoxesRunTimeClass</a>, <a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="JavaPlatform.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.equalsNumChar" title="=&gt; JavaPlatform.this.global.nme.NameType">equalsNumChar</a><span class="delimiter">)</span>
  lazy val <a title="JavaPlatform.this.global.Symbol" id="scala.tools.nsc.backend;JavaPlatform.externalEqualsNumObject">externalEqualsNumObject</a> = <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.getDecl" title="(owner: JavaPlatform.this.global.Symbol, name: JavaPlatform.this.global.Name)JavaPlatform.this.global.Symbol">getDecl</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.BoxesRunTimeClass" title="=&gt; JavaPlatform.this.global.Symbol">BoxesRunTimeClass</a>, <a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="JavaPlatform.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.equalsNumObject" title="=&gt; JavaPlatform.this.global.nme.NameType">equalsNumObject</a><span class="delimiter">)</span>

  <span class="comment">/** We could get away with excluding BoxedBooleanClass for the
   *  purpose of equality testing since it need not compare equal
   *  to anything but other booleans, but it should be present in
   *  case this is put to other uses.
   */</span>
  def <a title="(sym: JavaPlatform.this.global.Symbol)Boolean" id="scala.tools.nsc.backend;JavaPlatform.isMaybeBoxed">isMaybeBoxed</a><span class="delimiter">(</span><a title="JavaPlatform.this.global.Symbol" id="scala.tools.nsc.backend;JavaPlatform.isMaybeBoxed.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="JavaPlatform.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="delimiter">(</span><a href="#scala.tools.nsc.backend;JavaPlatform.isMaybeBoxed.sym" title="JavaPlatform.this.global.Symbol">sym</a> <span title="(x$1: Any)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.ObjectClass" title="=&gt; JavaPlatform.this.global.ClassSymbol">ObjectClass</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a>
    <span class="delimiter">(</span><a href="#scala.tools.nsc.backend;JavaPlatform.isMaybeBoxed.sym" title="JavaPlatform.this.global.Symbol">sym</a> <span title="(x$1: Any)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.JavaSerializableClass" title="=&gt; JavaPlatform.this.global.ClassSymbol">JavaSerializableClass</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a>
    <span class="delimiter">(</span><a href="#scala.tools.nsc.backend;JavaPlatform.isMaybeBoxed.sym" title="JavaPlatform.this.global.Symbol">sym</a> <span title="(x$1: Any)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.ComparableClass" title="=&gt; JavaPlatform.this.global.ClassSymbol">ComparableClass</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a>
    <span class="delimiter">(</span><a href="#scala.tools.nsc.backend;JavaPlatform.isMaybeBoxed.sym" title="JavaPlatform.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isNonBottomSubClass" title="(that: JavaPlatform.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.BoxedNumberClass" title="=&gt; JavaPlatform.this.global.ClassSymbol">BoxedNumberClass</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a>
    <span class="delimiter">(</span><a href="#scala.tools.nsc.backend;JavaPlatform.isMaybeBoxed.sym" title="JavaPlatform.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isNonBottomSubClass" title="(that: JavaPlatform.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.BoxedCharacterClass" title="=&gt; JavaPlatform.this.global.ClassSymbol">BoxedCharacterClass</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a>
    <span class="delimiter">(</span><a href="#scala.tools.nsc.backend;JavaPlatform.isMaybeBoxed.sym" title="JavaPlatform.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isNonBottomSubClass" title="(that: JavaPlatform.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.BoxedBooleanClass" title="=&gt; JavaPlatform.this.global.ClassSymbol">BoxedBooleanClass</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(bin: scala.tools.nsc.io.AbstractFile, src: scala.tools.nsc.io.AbstractFile)Boolean" id="scala.tools.nsc.backend;JavaPlatform.needCompile">needCompile</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.AbstractFile" id="scala.tools.nsc.backend;JavaPlatform.needCompile.bin">bin</a>: <a href="../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a>, <a title="scala.tools.nsc.io.AbstractFile" id="scala.tools.nsc.backend;JavaPlatform.needCompile.src">src</a>: <a href="../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a><span class="delimiter">)</span> =
    <a href="#scala.tools.nsc.backend;JavaPlatform.needCompile.src" title="scala.tools.nsc.io.AbstractFile">src</a>.<a href="../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile.lastModified" title="=&gt; Long">lastModified</a> <a href="../../../Long.scala.html#scala;Long.>=(2dca8a685a)" title="(x: Long)Boolean">&gt;=</a> <a href="#scala.tools.nsc.backend;JavaPlatform.needCompile.bin" title="scala.tools.nsc.io.AbstractFile">bin</a>.<a href="../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile.lastModified" title="=&gt; Long">lastModified</a>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
