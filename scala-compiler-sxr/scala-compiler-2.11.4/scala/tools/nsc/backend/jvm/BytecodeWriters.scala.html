<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/tools/nsc/backend/jvm/BytecodeWriters.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2013 LAMP/EPFL
 * @author  Martin Odersky
 */</span>

package scala.tools.nsc
package backend.jvm

import java.io.<span class="delimiter">{</span> DataOutputStream, FileOutputStream, IOException, OutputStream, File =&gt; JFile <span class="delimiter">}</span>
import scala.tools.nsc.io._
import java.util.jar.<span title="java.util.jar.Attributes.type">Attributes</span>.Name
import scala.<a href="../../../../language.scala.html#scala.language" title="language.type">language</a>.postfixOps

<span class="comment">/** Can't output a file due to the state of the file system. */</span>
class <a title="class FileConflictException extends java.io.IOException" id="scala.tools.nsc.backend.jvm;FileConflictException">FileConflictException</a><a href="#scala.tools.nsc.backend.jvm;FileConflictException" title="scala.tools.nsc.backend.jvm.FileConflictException" class="delimiter">(</a><a title="String" id="scala.tools.nsc.backend.jvm;FileConflictException.msg">msg</a>: <span title="String">String</span>, val <a title="tools.nsc.io.AbstractFile" id="scala.tools.nsc.backend.jvm;FileConflictException.file">file</a>: <a href="../../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile" title="tools.nsc.io.AbstractFile">AbstractFile</a><span class="delimiter">)</span> extends <a href="#scala.tools.nsc.backend.jvm;FileConflictException" title="java.io.IOException">IOException</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;FileConflictException.msg" title="String">msg</a><span class="delimiter">)</span>

<span class="comment">/** For the last mile: turning generated bytecode in memory into
 *  something you can use.  Has implementations for writing to class
 *  files, jars, and disassembled/javap output.
 */</span>
trait <a title="trait BytecodeWriters extends AnyRef" id="scala.tools.nsc.backend.jvm;BytecodeWriters">BytecodeWriters</a> <a href="../../../../Unit.scala.html#scala;Unit" title="Unit" class="delimiter">{</a>
  val <a title="=&gt; scala.tools.nsc.Global" id="scala.tools.nsc.backend.jvm;BytecodeWriters.global">global</a>: <a href="../../Global.scala.html#scala.tools.nsc;Global" title="scala.tools.nsc.Global">Global</a>
  import <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters.global" title="=&gt; scala.tools.nsc.Global">global</a>._

  def <a title="(sym: BytecodeWriters.this.global.Symbol)tools.nsc.io.AbstractFile" id="scala.tools.nsc.backend.jvm;BytecodeWriters.outputDirectory">outputDirectory</a><span class="delimiter">(</span><a title="BytecodeWriters.this.global.Symbol" id="scala.tools.nsc.backend.jvm;BytecodeWriters.outputDirectory.sym">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="BytecodeWriters.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile" title="tools.nsc.io.AbstractFile">AbstractFile</a> =
    <a href="../../Global.scala.html#scala.tools.nsc;Global.settings" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/MutableSettings.scala.html#scala.tools.nsc.settings;MutableSettings.outputDirs" title="=&gt; scala.tools.nsc.Settings#OutputDirs">outputDirs</a> <a href="../../settings/MutableSettings.scala.html#scala.tools.nsc.settings;MutableSettings;OutputDirs.outputDirFor" title="(src: scala.tools.nsc.io.AbstractFile)scala.tools.nsc.io.AbstractFile">outputDirFor</a> <a href="../../Global.scala.html#scala.tools.nsc;Global.enteringFlatten" title="(op: =&gt; scala.reflect.io.AbstractFile)scala.reflect.io.AbstractFile">enteringFlatten</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters.outputDirectory.sym" title="BytecodeWriters.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.sourceFile" title="=&gt; scala.reflect.io.AbstractFile">sourceFile</a><span class="delimiter">)</span>

  <span class="comment">/**
   * @param clsName cls.getName
   */</span>
  def <a title="(base: tools.nsc.io.AbstractFile, clsName: String, suffix: String)tools.nsc.io.AbstractFile" id="scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(fe03a1e934)">getFile</a><span class="delimiter">(</span><a title="tools.nsc.io.AbstractFile" id="scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(fe03a1e934).base">base</a>: <a href="../../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile" title="tools.nsc.io.AbstractFile">AbstractFile</a>, <a title="String" id="scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(fe03a1e934).clsName">clsName</a>: <span title="String">String</span>, <a title="String" id="scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(fe03a1e934).suffix">suffix</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile" title="tools.nsc.io.AbstractFile">AbstractFile</a> = <span class="delimiter">{</span>
    def <a title="(dir: tools.nsc.io.AbstractFile)tools.nsc.io.AbstractFile" id="scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(fe03a1e934).ensureDirectory">ensureDirectory</a><span class="delimiter">(</span><a title="tools.nsc.io.AbstractFile" id="scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(fe03a1e934).ensureDirectory.dir">dir</a>: <a href="../../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile" title="tools.nsc.io.AbstractFile">AbstractFile</a><span class="delimiter">)</span>: <a href="../../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile" title="tools.nsc.io.AbstractFile">AbstractFile</a> =
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(fe03a1e934).ensureDirectory.dir" title="tools.nsc.io.AbstractFile">dir</a>.<a href="../../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile.isDirectory" title="=&gt; Boolean">isDirectory</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(fe03a1e934).ensureDirectory.dir" title="tools.nsc.io.AbstractFile">dir</a>
      else throw new <a href="#scala.tools.nsc.backend.jvm;FileConflictException" title="scala.tools.nsc.backend.jvm.FileConflictException">FileConflictException</a><span class="delimiter">(</span><a href="../../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;&quot;)">$</span><span class="delimiter">{</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(fe03a1e934).base" title="tools.nsc.io.AbstractFile">base</a>.<a href="../../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile.path" title="=&gt; String">path</a><span class="delimiter">}</span><span title="String(&quot;/&quot;)">/$</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(fe03a1e934).clsName" title="String">clsName</a><span title="String(&quot;&quot;)">$</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(fe03a1e934).suffix" title="String">suffix</a><span title="String(&quot;: &quot;)">: $</span><span class="delimiter">{</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(fe03a1e934).ensureDirectory.dir" title="tools.nsc.io.AbstractFile">dir</a>.<a href="../../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile.path" title="=&gt; String">path</a><span class="delimiter">}</span><span title="String(&quot; is not a directory&quot;)" class="string"> is not a directory&quot;</span>, <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(fe03a1e934).ensureDirectory.dir" title="tools.nsc.io.AbstractFile">dir</a><span class="delimiter">)</span>
    var <a title="tools.nsc.io.AbstractFile" id="scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(fe03a1e934).dir">dir</a> = <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(fe03a1e934).base" title="tools.nsc.io.AbstractFile">base</a>
    val <a title="List[String]" id="scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(fe03a1e934).pathParts">pathParts</a> = <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(fe03a1e934).clsName" title="String">clsName</a>.<span title="(x$1: String)Array[String]">split</span><a href="../../../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</a><span title="String(&quot;[./]&quot;)" class="string">&quot;[./]&quot;</span><span class="delimiter">)</span>.<a href="../../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toList" title="=&gt; List[String]">toList</a>
    for <span class="delimiter">(</span><a title="String" id="scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(fe03a1e934).$anonfun.part">part</a> &lt;- <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(fe03a1e934).pathParts" title="List[String]">pathParts</a>.<a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.foreach" title="(f: String =&gt; Unit)Unit">init</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(fe03a1e934).dir" title="tools.nsc.io.AbstractFile">dir</a> = <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(fe03a1e934).ensureDirectory" title="(dir: tools.nsc.io.AbstractFile)tools.nsc.io.AbstractFile">ensureDirectory</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(fe03a1e934).dir" title="tools.nsc.io.AbstractFile">dir</a><span class="delimiter">)</span> <a href="../../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile.subdirectoryNamed" title="(name: String)scala.reflect.io.AbstractFile">subdirectoryNamed</a> <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(fe03a1e934).$anonfun.part" title="String">part</a>
    <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(fe03a1e934).ensureDirectory" title="(dir: tools.nsc.io.AbstractFile)tools.nsc.io.AbstractFile">ensureDirectory</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(fe03a1e934).dir" title="tools.nsc.io.AbstractFile">dir</a><span class="delimiter">)</span> <a href="../../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile.fileNamed" title="(name: String)scala.reflect.io.AbstractFile">fileNamed</a> <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(fe03a1e934).pathParts" title="List[String]">pathParts</a>.<a href="../../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.last" title="=&gt; String">last</a> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(fe03a1e934).suffix" title="String">suffix</a>
  <span class="delimiter">}</span>
  def <a title="(sym: BytecodeWriters.this.global.Symbol, clsName: String, suffix: String)tools.nsc.io.AbstractFile" id="scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(70d36bb402)">getFile</a><span class="delimiter">(</span><a title="BytecodeWriters.this.global.Symbol" id="scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(70d36bb402).sym">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="BytecodeWriters.this.global.Symbol">Symbol</a>, <a title="String" id="scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(70d36bb402).clsName">clsName</a>: <span title="String">String</span>, <a title="String" id="scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(70d36bb402).suffix">suffix</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile" title="tools.nsc.io.AbstractFile">AbstractFile</a> =
    <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(fe03a1e934)" title="(base: tools.nsc.io.AbstractFile, clsName: String, suffix: String)tools.nsc.io.AbstractFile">getFile</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters.outputDirectory" title="(sym: BytecodeWriters.this.global.Symbol)tools.nsc.io.AbstractFile">outputDirectory</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(70d36bb402).sym" title="BytecodeWriters.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(70d36bb402).clsName" title="String">clsName</a>, <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters.getFile(70d36bb402).suffix" title="String">suffix</a><span class="delimiter">)</span>

  def <a title="()BytecodeWriters.this.BytecodeWriter" id="scala.tools.nsc.backend.jvm;BytecodeWriters.factoryNonJarBytecodeWriter">factoryNonJarBytecodeWriter</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;BytecodeWriter" title="BytecodeWriters.this.BytecodeWriter">BytecodeWriter</a> = <span class="delimiter">{</span>
    val <a title="Boolean" id="scala.tools.nsc.backend.jvm;BytecodeWriters.factoryNonJarBytecodeWriter.emitAsmp">emitAsmp</a>  = <a href="../../Global.scala.html#scala.tools.nsc;Global.settings" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#scala.tools.nsc.settings;ScalaSettings.Ygenasmp" title="=&gt; scala.tools.nsc.Settings#StringSetting">Ygenasmp</a>.<a href="../../../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings;MutableSettings;SettingValue.isSetByUser" title="=&gt; Boolean">isSetByUser</a>
    val <a title="Boolean" id="scala.tools.nsc.backend.jvm;BytecodeWriters.factoryNonJarBytecodeWriter.doDump">doDump</a>    = <a href="../../Global.scala.html#scala.tools.nsc;Global.settings" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#scala.tools.nsc.settings;ScalaSettings.Ydumpclasses" title="=&gt; scala.tools.nsc.Settings#StringSetting">Ydumpclasses</a>.<a href="../../../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings;MutableSettings;SettingValue.isSetByUser" title="=&gt; Boolean">isSetByUser</a>
    <a href="../../../../Tuple2.scala.html#scala;Tuple2" title="(_1: Boolean, _2: Boolean)(Boolean, Boolean)" class="delimiter">(</a><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters.factoryNonJarBytecodeWriter.emitAsmp" title="Boolean">emitAsmp</a>, <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters.factoryNonJarBytecodeWriter.doDump" title="Boolean">doDump</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case <span class="delimiter">(</span>false, false<span class="delimiter">)</span> =&gt; new <span title="&lt;$anon: BytecodeWriters.this.ClassBytecodeWriter&gt; extends AnyRef with BytecodeWriters.this.ClassBytecodeWriter">ClassBytecodeWriter</span> <span class="delimiter">{</span> <span class="delimiter">}</span>
      case <span class="delimiter">(</span>false, true <span class="delimiter">)</span> =&gt; new <span title="&lt;$anon: BytecodeWriters.this.ClassBytecodeWriter with BytecodeWriters.this.DumpBytecodeWriter&gt; extends AnyRef with BytecodeWriters.this.ClassBytecodeWriter with BytecodeWriters.this.DumpBytecodeWriter">ClassBytecodeWriter</span> with <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter" title="BytecodeWriters.this.DumpBytecodeWriter">DumpBytecodeWriter</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
      case <span class="delimiter">(</span>true,  false<span class="delimiter">)</span> =&gt; new <span title="&lt;$anon: BytecodeWriters.this.ClassBytecodeWriter with BytecodeWriters.this.AsmpBytecodeWriter&gt; extends AnyRef with BytecodeWriters.this.ClassBytecodeWriter with BytecodeWriters.this.AsmpBytecodeWriter">ClassBytecodeWriter</span> with <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter" title="BytecodeWriters.this.AsmpBytecodeWriter">AsmpBytecodeWriter</a>
      case <span class="delimiter">(</span>true,  true <span class="delimiter">)</span> =&gt; new <span title="&lt;$anon: BytecodeWriters.this.ClassBytecodeWriter with BytecodeWriters.this.AsmpBytecodeWriter with BytecodeWriters.this.DumpBytecodeWriter&gt; extends AnyRef with BytecodeWriters.this.ClassBytecodeWriter with BytecodeWriters.this.AsmpBytecodeWriter with BytecodeWriters.this.DumpBytecodeWriter">ClassBytecodeWriter</span> with <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter" title="BytecodeWriters.this.AsmpBytecodeWriter">AsmpBytecodeWriter</a> with <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter" title="BytecodeWriters.this.DumpBytecodeWriter">DumpBytecodeWriter</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  trait <a title="trait BytecodeWriter extends AnyRef" id="scala.tools.nsc.backend.jvm;BytecodeWriters;BytecodeWriter">BytecodeWriter</a> <a href="../../../../Unit.scala.html#scala;Unit" title="Unit" class="delimiter">{</a>
    def <a title="(label: String, jclassName: String, jclassBytes: Array[Byte], outfile: tools.nsc.io.AbstractFile)Unit" id="scala.tools.nsc.backend.jvm;BytecodeWriters;BytecodeWriter.writeClass">writeClass</a><span class="delimiter">(</span><a title="String" id="scala.tools.nsc.backend.jvm;BytecodeWriters;BytecodeWriter.writeClass.label">label</a>: <span title="String">String</span>, <a title="String" id="scala.tools.nsc.backend.jvm;BytecodeWriters;BytecodeWriter.writeClass.jclassName">jclassName</a>: <span title="String">String</span>, <a title="Array[Byte]" id="scala.tools.nsc.backend.jvm;BytecodeWriters;BytecodeWriter.writeClass.jclassBytes">jclassBytes</a>: <a href="../../../../Array.scala.html#scala;Array" title="Array[Byte]">Array</a><span class="delimiter">[</span>Byte<span class="delimiter">]</span>, <a title="tools.nsc.io.AbstractFile" id="scala.tools.nsc.backend.jvm;BytecodeWriters;BytecodeWriter.writeClass.outfile">outfile</a>: <a href="../../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile" title="tools.nsc.io.AbstractFile">AbstractFile</a><span class="delimiter">)</span>: <a href="../../../../Unit.scala.html#scala;Unit" title="Unit">Unit</a>
    def <a title="()Unit" id="scala.tools.nsc.backend.jvm;BytecodeWriters;BytecodeWriter.close">close</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  class <a title="class DirectToJarfileWriter extends AnyRef with BytecodeWriters.this.BytecodeWriter" id="scala.tools.nsc.backend.jvm;BytecodeWriters;DirectToJarfileWriter">DirectToJarfileWriter</a><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DirectToJarfileWriter" title="BytecodeWriters.this.DirectToJarfileWriter" class="delimiter">(</a><a title="java.io.File" id="scala.tools.nsc.backend.jvm;BytecodeWriters;DirectToJarfileWriter.jfile">jfile</a>: <span title="java.io.File">JFile</span><span class="delimiter">)</span> extends <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;BytecodeWriter" title="BytecodeWriters.this.BytecodeWriter">BytecodeWriter</a> <span class="delimiter">{</span>
    val <a title="List[(java.util.jar.Attributes.Name, String)]" id="scala.tools.nsc.backend.jvm;BytecodeWriters;DirectToJarfileWriter.jarMainAttrs">jarMainAttrs</a> = <span class="delimiter">(</span>
      if <span class="delimiter">(</span><a href="../../Global.scala.html#scala.tools.nsc;Global.settings" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#scala.tools.nsc.settings;ScalaSettings.mainClass" title="=&gt; scala.tools.nsc.Settings#StringSetting">mainClass</a>.<a href="../../../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings;MutableSettings;SettingValue.isDefault" title="=&gt; Boolean">isDefault</a><span class="delimiter">)</span> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>
      else <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: (java.util.jar.Attributes.Name, String)*)List[(java.util.jar.Attributes.Name, String)]">List</a><span class="delimiter">(</span><span title="java.util.jar.Attributes.Name.type">Name</span>.<a href="../../../../Predef.scala.html#scala.Predef.ArrowAssoc(fefc64a42a)" title="(self: java.util.jar.Attributes.Name)ArrowAssoc[java.util.jar.Attributes.Name]">MAIN_CLASS</a> <a href="../../../../Predef.scala.html#scala.Predef;ArrowAssoc.->" title="(y: String)(java.util.jar.Attributes.Name, String)">-&gt;</a> <a href="../../Global.scala.html#scala.tools.nsc;Global.settings" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#scala.tools.nsc.settings;ScalaSettings.mainClass" title="=&gt; scala.tools.nsc.Settings#StringSetting">mainClass</a>.<a href="../../../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings;MutableSettings;SettingValue.value" title="=&gt; String">value</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    val <a title="scala.tools.nsc.io.JarWriter" id="scala.tools.nsc.backend.jvm;BytecodeWriters;DirectToJarfileWriter.writer">writer</a> = new <a href="../../io/Jar.scala.html#scala.tools.nsc.io;Jar" title="scala.tools.nsc.io.Jar">Jar</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DirectToJarfileWriter.jfile" title="java.io.File">jfile</a><span class="delimiter">)</span>.<a href="../../io/Jar.scala.html#scala.tools.nsc.io;Jar.jarWriter" title="(mainAttrs: (java.util.jar.Attributes.Name, String)*)scala.tools.nsc.io.JarWriter">jarWriter</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DirectToJarfileWriter.jarMainAttrs" title="=&gt; List[(java.util.jar.Attributes.Name, String)]">jarMainAttrs</a>: _*<span class="delimiter">)</span>

    def <a title="(label: String, jclassName: String, jclassBytes: Array[Byte], outfile: tools.nsc.io.AbstractFile)Unit" id="scala.tools.nsc.backend.jvm;BytecodeWriters;DirectToJarfileWriter.writeClass">writeClass</a><span class="delimiter">(</span><a title="String" id="scala.tools.nsc.backend.jvm;BytecodeWriters;DirectToJarfileWriter.writeClass.label">label</a>: <span title="String">String</span>, <a title="String" id="scala.tools.nsc.backend.jvm;BytecodeWriters;DirectToJarfileWriter.writeClass.jclassName">jclassName</a>: <span title="String">String</span>, <a title="Array[Byte]" id="scala.tools.nsc.backend.jvm;BytecodeWriters;DirectToJarfileWriter.writeClass.jclassBytes">jclassBytes</a>: <a href="../../../../Array.scala.html#scala;Array" title="Array[Byte]">Array</a><span class="delimiter">[</span>Byte<span class="delimiter">]</span>, <a title="tools.nsc.io.AbstractFile" id="scala.tools.nsc.backend.jvm;BytecodeWriters;DirectToJarfileWriter.writeClass.outfile">outfile</a>: <a href="../../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile" title="tools.nsc.io.AbstractFile">AbstractFile</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../Global.scala.html#scala.tools.nsc;Global.assert(0f40bc559c)" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DirectToJarfileWriter.writeClass.outfile" title="tools.nsc.io.AbstractFile">outfile</a> <span title="(x$1: Any)Boolean">==</span> null,
             <span title="String(&quot;The outfile formal param is there just because ClassBytecodeWriter overrides this method and uses it.&quot;)" class="string">&quot;The outfile formal param is there just because ClassBytecodeWriter overrides this method and uses it.&quot;</span><span class="delimiter">)</span>
      val path = <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DirectToJarfileWriter.writeClass.jclassName" title="String">jclassName</a> <a title="String" id="scala.tools.nsc.backend.jvm;BytecodeWriters;DirectToJarfileWriter.writeClass.path">+</a> <span title="String(&quot;.class&quot;)" class="string">&quot;.class&quot;</span>
      val <a title="java.io.DataOutputStream" id="scala.tools.nsc.backend.jvm;BytecodeWriters;DirectToJarfileWriter.writeClass.out">out</a>  = <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DirectToJarfileWriter.writer" title="=&gt; scala.tools.nsc.io.JarWriter">writer</a>.<a href="../../io/Jar.scala.html#scala.tools.nsc.io;JarWriter.newOutputStream" title="(path: String)java.io.DataOutputStream">newOutputStream</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DirectToJarfileWriter.writeClass.path" title="String">path</a><span class="delimiter">)</span>

      try <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DirectToJarfileWriter.writeClass.out" title="java.io.DataOutputStream">out</a>.<span title="(x$1: Array[Byte], x$2: Int, x$3: Int)Unit">write</span><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DirectToJarfileWriter.writeClass.jclassBytes" title="Array[Byte]">jclassBytes</a>, <span title="Int(0)" class="int">0</span>, <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DirectToJarfileWriter.writeClass.jclassBytes" title="Array[Byte]">jclassBytes</a>.<a href="../../../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a><span class="delimiter">)</span>
      finally <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DirectToJarfileWriter.writeClass.out" title="java.io.DataOutputStream">out</a>.<span title="()Unit">flush</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <a href="../../../../reflect/internal/SymbolTable.scala.html#scala.reflect.internal;SymbolTable.informProgress" title="(msg: String)Unit">informProgress</a><span class="delimiter">(</span><span title="String(&quot;added &quot;)" class="string">&quot;added &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DirectToJarfileWriter.writeClass.label" title="String">label</a> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DirectToJarfileWriter.writeClass.path" title="String">path</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; to jar&quot;)" class="string">&quot; to jar&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    override def <a title="()Unit" id="scala.tools.nsc.backend.jvm;BytecodeWriters;DirectToJarfileWriter.close">close</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DirectToJarfileWriter.writer" title="=&gt; scala.tools.nsc.io.JarWriter">writer</a>.<a href="../../io/Jar.scala.html#scala.tools.nsc.io;JarWriter.close" title="()Unit">close</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/*
   * The ASM textual representation for bytecode overcomes disadvantages of javap ouput in three areas:
   *    (a) pickle dingbats undecipherable to the naked eye;
   *    (b) two constant pools, while having identical contents, are displayed differently due to physical layout.
   *    (c) stack maps (classfile version 50 and up) are displayed in encoded form by javap,
   *        their expansion by ASM is more readable.
   *
   * */</span>
  trait <a title="trait AsmpBytecodeWriter extends AnyRef with BytecodeWriters.this.BytecodeWriter" id="scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter">AsmpBytecodeWriter</a> extends <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;BytecodeWriter" title="BytecodeWriters.this.BytecodeWriter">BytecodeWriter</a> <span class="delimiter">{</span>
    import scala.tools.asm

    private val <a title="scala.reflect.io.Directory" id="scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.baseDir">baseDir</a> = <a href="../../../../reflect/io/Directory.scala.html#scala.reflect.io.Directory.apply" title="(path: scala.reflect.io.Path)scala.reflect.io.Directory">Directory</a><a title="scala.reflect.io.Directory" id="scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.baseDir.qual$1" class="delimiter">(</a><a href="../../Global.scala.html#scala.tools.nsc;Global.settings" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#scala.tools.nsc.settings;ScalaSettings.Ygenasmp" title="=&gt; scala.tools.nsc.Settings#StringSetting">Ygenasmp</a>.<a href="../../../../reflect/io/Path.scala.html#scala.reflect.io.Path.string2path" title="implicit scala.reflect.io.Path.string2path : (s: String)scala.reflect.io.Path">value</a><span class="delimiter">)</span>.<a href="../../../../reflect/io/Path.scala.html#scala.reflect.io;Path.createDirectory$default$1" title="Boolean" id="scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.baseDir.x$6">createDirectory</a><span class="delimiter">(</span><span class="delimiter">)</span>

    private def <a title="(jclassBytes: Array[Byte], asmpFile: scala.tools.nsc.io.File)Unit" id="scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.emitAsmp">emitAsmp</a><span class="delimiter">(</span><a title="Array[Byte]" id="scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.emitAsmp.jclassBytes">jclassBytes</a>: <a href="../../../../Array.scala.html#scala;Array" title="Array[Byte]">Array</a><span class="delimiter">[</span>Byte<span class="delimiter">]</span>, <a title="scala.tools.nsc.io.File" id="scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.emitAsmp.asmpFile">asmpFile</a>: io.<a href="../../../../reflect/io/File.scala.html#scala.reflect.io;File" title="scala.tools.nsc.io.File">File</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      val <a title="java.io.PrintWriter" id="scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.emitAsmp.pw">pw</a> = <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.emitAsmp.asmpFile" title="scala.tools.nsc.io.File">asmpFile</a>.<a href="../../../../reflect/io/File.scala.html#scala.reflect.io;File.printWriter" title="()java.io.PrintWriter">printWriter</a><span class="delimiter">(</span><span class="delimiter">)</span>
      try <span class="delimiter">{</span>
        val <a title="scala.tools.asm.tree.ClassNode" id="scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.emitAsmp.cnode">cnode</a> = new asm.tree.<span title="scala.tools.asm.tree.ClassNode">ClassNode</span><span class="delimiter">(</span><span class="delimiter">)</span>
        val <a title="scala.tools.asm.ClassReader" id="scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.emitAsmp.cr">cr</a>    = new asm.<span title="scala.tools.asm.ClassReader">ClassReader</span><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.emitAsmp.jclassBytes" title="Array[Byte]">jclassBytes</a><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.emitAsmp.cr" title="scala.tools.asm.ClassReader">cr</a>.<span title="(x$1: scala.tools.asm.ClassVisitor, x$2: Int)Unit">accept</span><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.emitAsmp.cnode" title="scala.tools.asm.tree.ClassNode">cnode</a>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
        val <a title="scala.tools.asm.util.TraceClassVisitor" id="scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.emitAsmp.trace">trace</a> = new scala.tools.asm.util.<span title="scala.tools.asm.util.TraceClassVisitor">TraceClassVisitor</span><span class="delimiter">(</span>new java.io.<span title="java.io.PrintWriter">PrintWriter</span><span class="delimiter">(</span>new java.io.<span title="java.io.StringWriter">StringWriter</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.emitAsmp.cnode" title="scala.tools.asm.tree.ClassNode">cnode</a>.<span title="(x$1: scala.tools.asm.ClassVisitor)Unit">accept</span><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.emitAsmp.trace" title="scala.tools.asm.util.TraceClassVisitor">trace</a><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.emitAsmp.trace" title="scala.tools.asm.util.TraceClassVisitor">trace</a>.<span title="scala.tools.asm.util.Printer">p</span>.<span title="(x$1: java.io.PrintWriter)Unit">print</span><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.emitAsmp.pw" title="java.io.PrintWriter">pw</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      finally <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.emitAsmp.pw" title="java.io.PrintWriter">pw</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    abstract override def <a title="(label: String, jclassName: String, jclassBytes: Array[Byte], outfile: tools.nsc.io.AbstractFile)Unit" id="scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.writeClass">writeClass</a><span class="delimiter">(</span><a title="String" id="scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.writeClass.label">label</a>: <span title="String">String</span>, <a title="String" id="scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.writeClass.jclassName">jclassName</a>: <span title="String">String</span>, <a title="Array[Byte]" id="scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.writeClass.jclassBytes">jclassBytes</a>: <a href="../../../../Array.scala.html#scala;Array" title="Array[Byte]">Array</a><span class="delimiter">[</span>Byte<span class="delimiter">]</span>, <a title="tools.nsc.io.AbstractFile" id="scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.writeClass.outfile">outfile</a>: <a href="../../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile" title="tools.nsc.io.AbstractFile">AbstractFile</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      super.<a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;BytecodeWriter.writeClass" title="(label: String, jclassName: String, jclassBytes: Array[Byte], outfile: tools.nsc.io.AbstractFile)Unit">writeClass</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.writeClass.label" title="String">label</a>, <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.writeClass.jclassName" title="String">jclassName</a>, <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.writeClass.jclassBytes" title="Array[Byte]">jclassBytes</a>, <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.writeClass.outfile" title="tools.nsc.io.AbstractFile">outfile</a><span class="delimiter">)</span>

      val <a title="Array[String]" id="scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.writeClass.segments">segments</a> = <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.writeClass.jclassName" title="String">jclassName</a>.<span title="(x$1: String)Array[String]">split</span><span class="delimiter">(</span><span title="String(&quot;[./]&quot;)" class="string">&quot;[./]&quot;</span><span class="delimiter">)</span>
      val <a title="scala.reflect.io.File" id="scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.writeClass.asmpFile">asmpFile</a> = <a href="../../../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">segments</a>.<a href="../../../../collection/IndexedSeqOptimized.scala.html#scala.collection;IndexedSeqOptimized.foldLeft" title="(z: tools.nsc.io.Path)(op: (tools.nsc.io.Path, String) =&gt; tools.nsc.io.Path)tools.nsc.io.Path">foldLeft</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.baseDir" title="=&gt; scala.reflect.io.Directory">baseDir</a>: <a href="../../../../reflect/io/Path.scala.html#scala.reflect.io;Path" title="tools.nsc.io.Path">Path</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.writeClass.asmpFile.$anonfun.x$1" title="tools.nsc.io.Path">_</a> <a href="../../../../reflect/io/Path.scala.html#scala.reflect.io;Path./(4a8983e5f7)" title="(child: scala.reflect.io.Path)scala.reflect.io.Path">/</a> <a href="../../../../reflect/io/Path.scala.html#scala.reflect.io.Path.string2path" title="implicit scala.reflect.io.Path.string2path : (s: String)scala.reflect.io.Path">_</a><span class="delimiter">)</span> <a href="../../../../reflect/io/Path.scala.html#scala.reflect.io;Path.changeExtension" title="(ext: String)scala.reflect.io.Path">changeExtension</a> <span title="String(&quot;asmp&quot;)" class="string">&quot;asmp&quot;</span> <a href="../../../../reflect/io/Path.scala.html#scala.reflect.io;Path.toFile" title="=&gt; scala.reflect.io.File">toFile</a>;

      <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.writeClass.asmpFile" title="scala.reflect.io.File">asmpFile</a>.<a href="../../../../reflect/io/Path.scala.html#scala.reflect.io;Path.parent" title="scala.reflect.io.Directory" id="scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.writeClass.qual$2">parent</a>.<a href="../../../../reflect/io/Path.scala.html#scala.reflect.io;Path.createDirectory$default$1" title="Boolean" id="scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.writeClass.x$8">createDirectory</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.emitAsmp" title="(jclassBytes: Array[Byte], asmpFile: scala.tools.nsc.io.File)Unit">emitAsmp</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.writeClass.jclassBytes" title="Array[Byte]">jclassBytes</a>, <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;AsmpBytecodeWriter.writeClass.asmpFile" title="scala.reflect.io.File">asmpFile</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  trait <a title="trait ClassBytecodeWriter extends AnyRef with BytecodeWriters.this.BytecodeWriter" id="scala.tools.nsc.backend.jvm;BytecodeWriters;ClassBytecodeWriter">ClassBytecodeWriter</a> extends <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;BytecodeWriter" title="BytecodeWriters.this.BytecodeWriter">BytecodeWriter</a> <span class="delimiter">{</span>
    def <a title="(label: String, jclassName: String, jclassBytes: Array[Byte], outfile: tools.nsc.io.AbstractFile)Unit" id="scala.tools.nsc.backend.jvm;BytecodeWriters;ClassBytecodeWriter.writeClass">writeClass</a><span class="delimiter">(</span><a title="String" id="scala.tools.nsc.backend.jvm;BytecodeWriters;ClassBytecodeWriter.writeClass.label">label</a>: <span title="String">String</span>, <a title="String" id="scala.tools.nsc.backend.jvm;BytecodeWriters;ClassBytecodeWriter.writeClass.jclassName">jclassName</a>: <span title="String">String</span>, <a title="Array[Byte]" id="scala.tools.nsc.backend.jvm;BytecodeWriters;ClassBytecodeWriter.writeClass.jclassBytes">jclassBytes</a>: <a href="../../../../Array.scala.html#scala;Array" title="Array[Byte]">Array</a><span class="delimiter">[</span>Byte<span class="delimiter">]</span>, <a title="tools.nsc.io.AbstractFile" id="scala.tools.nsc.backend.jvm;BytecodeWriters;ClassBytecodeWriter.writeClass.outfile">outfile</a>: <a href="../../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile" title="tools.nsc.io.AbstractFile">AbstractFile</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../Global.scala.html#scala.tools.nsc;Global.assert(0f40bc559c)" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;ClassBytecodeWriter.writeClass.outfile" title="tools.nsc.io.AbstractFile">outfile</a> <span title="(x$1: Any)Boolean">!=</span> null,
             <span title="String(&quot;Precisely this override requires its invoker to hand out a non-null AbstractFile.&quot;)" class="string">&quot;Precisely this override requires its invoker to hand out a non-null AbstractFile.&quot;</span><span class="delimiter">)</span>
      val <a title="java.io.DataOutputStream" id="scala.tools.nsc.backend.jvm;BytecodeWriters;ClassBytecodeWriter.writeClass.outstream">outstream</a> = new <span title="java.io.DataOutputStream">DataOutputStream</span><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;ClassBytecodeWriter.writeClass.outfile" title="tools.nsc.io.AbstractFile">outfile</a>.<a href="../../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile.bufferedOutput" title="=&gt; java.io.BufferedOutputStream">bufferedOutput</a><span class="delimiter">)</span>

      try <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;ClassBytecodeWriter.writeClass.outstream" title="java.io.DataOutputStream">outstream</a>.<span title="(x$1: Array[Byte], x$2: Int, x$3: Int)Unit">write</span><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;ClassBytecodeWriter.writeClass.jclassBytes" title="Array[Byte]">jclassBytes</a>, <span title="Int(0)" class="int">0</span>, <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;ClassBytecodeWriter.writeClass.jclassBytes" title="Array[Byte]">jclassBytes</a>.<a href="../../../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a><span class="delimiter">)</span>
      finally <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;ClassBytecodeWriter.writeClass.outstream" title="java.io.DataOutputStream">outstream</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="../../../../reflect/internal/SymbolTable.scala.html#scala.reflect.internal;SymbolTable.informProgress" title="(msg: String)Unit">informProgress</a><span class="delimiter">(</span><span title="String(&quot;wrote \'&quot;)" class="string">&quot;wrote '&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;ClassBytecodeWriter.writeClass.label" title="String">label</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\' to &quot;)" class="string">&quot;' to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;ClassBytecodeWriter.writeClass.outfile" title="tools.nsc.io.AbstractFile">outfile</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  trait <a title="trait DumpBytecodeWriter extends AnyRef with BytecodeWriters.this.BytecodeWriter" id="scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter">DumpBytecodeWriter</a> extends <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;BytecodeWriter" title="BytecodeWriters.this.BytecodeWriter">BytecodeWriter</a> <span class="delimiter">{</span>
    val <a title="scala.reflect.io.Directory" id="scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter.baseDir">baseDir</a> = <a href="../../../../reflect/io/Directory.scala.html#scala.reflect.io.Directory.apply" title="(path: scala.reflect.io.Path)scala.reflect.io.Directory">Directory</a><a title="scala.reflect.io.Directory" id="scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter.baseDir.qual$3" class="delimiter">(</a><a href="../../Global.scala.html#scala.tools.nsc;Global.settings" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#scala.tools.nsc.settings;ScalaSettings.Ydumpclasses" title="=&gt; scala.tools.nsc.Settings#StringSetting">Ydumpclasses</a>.<a href="../../../../reflect/io/Path.scala.html#scala.reflect.io.Path.string2path" title="implicit scala.reflect.io.Path.string2path : (s: String)scala.reflect.io.Path">value</a><span class="delimiter">)</span>.<a href="../../../../reflect/io/Path.scala.html#scala.reflect.io;Path.createDirectory$default$1" title="Boolean" id="scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter.baseDir.x$10">createDirectory</a><span class="delimiter">(</span><span class="delimiter">)</span>

    abstract override def <a title="(label: String, jclassName: String, jclassBytes: Array[Byte], outfile: tools.nsc.io.AbstractFile)Unit" id="scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter.writeClass">writeClass</a><span class="delimiter">(</span><a title="String" id="scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter.writeClass.label">label</a>: <span title="String">String</span>, <a title="String" id="scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter.writeClass.jclassName">jclassName</a>: <span title="String">String</span>, <a title="Array[Byte]" id="scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter.writeClass.jclassBytes">jclassBytes</a>: <a href="../../../../Array.scala.html#scala;Array" title="Array[Byte]">Array</a><span class="delimiter">[</span>Byte<span class="delimiter">]</span>, <a title="tools.nsc.io.AbstractFile" id="scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter.writeClass.outfile">outfile</a>: <a href="../../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile" title="tools.nsc.io.AbstractFile">AbstractFile</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      super.<a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;BytecodeWriter.writeClass" title="(label: String, jclassName: String, jclassBytes: Array[Byte], outfile: tools.nsc.io.AbstractFile)Unit">writeClass</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter.writeClass.label" title="String">label</a>, <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter.writeClass.jclassName" title="String">jclassName</a>, <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter.writeClass.jclassBytes" title="Array[Byte]">jclassBytes</a>, <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter.writeClass.outfile" title="tools.nsc.io.AbstractFile">outfile</a><span class="delimiter">)</span>

      val <a title="String" id="scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter.writeClass.pathName">pathName</a> = <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter.writeClass.jclassName" title="String">jclassName</a>
      val <a title="scala.reflect.io.File" id="scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter.writeClass.dumpFile">dumpFile</a> = <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter.writeClass.pathName" title="String">pathName</a>.<span title="(x$1: String)Array[String]">split</span><a href="../../../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</a><span title="String(&quot;[./]&quot;)" class="string">&quot;[./]&quot;</span><span class="delimiter">)</span>.<a href="../../../../collection/IndexedSeqOptimized.scala.html#scala.collection;IndexedSeqOptimized.foldLeft" title="(z: tools.nsc.io.Path)(op: (tools.nsc.io.Path, String) =&gt; tools.nsc.io.Path)tools.nsc.io.Path">foldLeft</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter.baseDir" title="=&gt; scala.reflect.io.Directory">baseDir</a>: <a href="../../../../reflect/io/Path.scala.html#scala.reflect.io;Path" title="tools.nsc.io.Path">Path</a><span class="delimiter">)</span> <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter.writeClass.dumpFile.$anonfun.x$3" title="tools.nsc.io.Path">_</a> <a href="../../../../reflect/io/Path.scala.html#scala.reflect.io;Path./(4a8983e5f7)" title="(child: scala.reflect.io.Path)scala.reflect.io.Path">/</a> <a href="../../../../reflect/io/Path.scala.html#scala.reflect.io.Path.string2path" title="implicit scala.reflect.io.Path.string2path : (s: String)scala.reflect.io.Path">_</a><span class="delimiter">)</span> <a href="../../../../reflect/io/Path.scala.html#scala.reflect.io;Path.changeExtension" title="(ext: String)scala.reflect.io.Path">changeExtension</a> <span title="String(&quot;class&quot;)" class="string">&quot;class&quot;</span> <a href="../../../../reflect/io/Path.scala.html#scala.reflect.io;Path.toFile" title="=&gt; scala.reflect.io.File">toFile</a>;
      <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter.writeClass.dumpFile" title="scala.reflect.io.File">dumpFile</a>.<a href="../../../../reflect/io/Path.scala.html#scala.reflect.io;Path.parent" title="scala.reflect.io.Directory" id="scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter.writeClass.qual$4">parent</a>.<a href="../../../../reflect/io/Path.scala.html#scala.reflect.io;Path.createDirectory$default$1" title="Boolean" id="scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter.writeClass.x$12">createDirectory</a><span class="delimiter">(</span><span class="delimiter">)</span>
      val <a title="java.io.DataOutputStream" id="scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter.writeClass.outstream">outstream</a> = new <span title="java.io.DataOutputStream">DataOutputStream</span><span class="delimiter">(</span>new <span title="java.io.FileOutputStream">FileOutputStream</span><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter.writeClass.dumpFile" title="scala.reflect.io.File">dumpFile</a>.<a href="../../../../reflect/io/Path.scala.html#scala.reflect.io;Path.path" title="=&gt; String">path</a><span class="delimiter">)</span><span class="delimiter">)</span>

      try <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter.writeClass.outstream" title="java.io.DataOutputStream">outstream</a>.<span title="(x$1: Array[Byte], x$2: Int, x$3: Int)Unit">write</span><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter.writeClass.jclassBytes" title="Array[Byte]">jclassBytes</a>, <span title="Int(0)" class="int">0</span>, <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter.writeClass.jclassBytes" title="Array[Byte]">jclassBytes</a>.<a href="../../../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a><span class="delimiter">)</span>
      finally <a href="#scala.tools.nsc.backend.jvm;BytecodeWriters;DumpBytecodeWriter.writeClass.outstream" title="java.io.DataOutputStream">outstream</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
