<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/tools/nsc/backend/jvm/BCodeSyncAndTry.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2012 LAMP/EPFL
 * @author  Martin Odersky
 */</span>


package scala
package tools.nsc
package backend
package jvm

import scala.collection.immutable
import scala.tools.asm

<span class="comment">/*
 *
 *  @author  Miguel Garcia, http://lamp.epfl.ch/~magarcia/ScalaCompilerCornerReloaded/
 *  @version 1.0
 *
 */</span>
abstract class <a title="class BCodeSyncAndTry extends scala.tools.nsc.backend.jvm.BCodeBodyBuilder" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry">BCodeSyncAndTry</a> extends <a href="BCodeBodyBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeBodyBuilder" title="scala.tools.nsc.backend.jvm.BCodeBodyBuilder">BCodeBodyBuilder</a> <span class="delimiter">{</span>
  import <a href="BytecodeWriters.scala.html#scala.tools.nsc.backend.jvm;BytecodeWriters.global" title="=&gt; scala.tools.nsc.Global">global</a>._
  import <a href="BCodeIdiomatic.scala.html#scala.tools.nsc.backend.jvm;BCodeIdiomatic.bTypes" title="=&gt; scala.tools.nsc.backend.jvm.BTypesFromSymbols[BCodeSyncAndTry.this.global.type]">bTypes</a>._
  import <a href="BTypesFromSymbols.scala.html#scala.tools.nsc.backend.jvm;BTypesFromSymbols.coreBTypes" title="=&gt; scala.tools.nsc.backend.jvm.CoreBTypesProxy[BCodeSyncAndTry.this.bTypes.type]">coreBTypes</a>._

  <span class="comment">/*
   * Functionality to lower `synchronized` and `try` expressions.
   */</span>
  abstract class <a title="class SyncAndTryBuilder extends BCodeSyncAndTry.this.PlainBodyBuilder" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder">SyncAndTryBuilder</a><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder" title="BCodeSyncAndTry.this.SyncAndTryBuilder" class="delimiter">(</a><a title="BCodeSyncAndTry.this.global.CompilationUnit" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.cunit">cunit</a>: <a href="../../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit" title="BCodeSyncAndTry.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> extends <a href="BCodeBodyBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeBodyBuilder;PlainBodyBuilder" title="BCodeSyncAndTry.this.PlainBodyBuilder">PlainBodyBuilder</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.cunit" title="BCodeSyncAndTry.this.global.CompilationUnit">cunit</a><span class="delimiter">)</span> <span class="delimiter">{</span>

    def <a title="(tree: BCodeSyncAndTry.this.global.Apply, expectedType: BCodeSyncAndTry.this.bTypes.BType)BCodeSyncAndTry.this.bTypes.BType" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized">genSynchronized</a><span class="delimiter">(</span><a title="BCodeSyncAndTry.this.global.Apply" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.tree">tree</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Apply" title="BCodeSyncAndTry.this.global.Apply">Apply</a>, <a title="BCodeSyncAndTry.this.bTypes.BType" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.expectedType">expectedType</a>: <a href="BTypes.scala.html#scala.tools.nsc.backend.jvm;BTypes;BType" title="BCodeSyncAndTry.this.bTypes.BType">BType</a><span class="delimiter">)</span>: <a href="BTypes.scala.html#scala.tools.nsc.backend.jvm;BTypes;BType" title="BCodeSyncAndTry.this.bTypes.BType">BType</a> = <span class="delimiter">{</span>
      val Apply<a href="../../../../Tuple2.scala.html#scala;Tuple2" title="(BCodeSyncAndTry.this.global.Tree, List[BCodeSyncAndTry.this.global.Tree])" class="delimiter">(</a><a href="../../../../Tuple2.scala.html#scala;Tuple2._1" title="BCodeSyncAndTry.this.global.Tree" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.fun">fun</a>, <a href="../../../../Tuple2.scala.html#scala;Tuple2._2" title="List[BCodeSyncAndTry.this.global.Tree]" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.args">args</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.tree" title="BCodeSyncAndTry.this.global.Apply">tree</a>
      val <a title="BCodeSyncAndTry.this.global.Symbol" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.monitor">monitor</a> = <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals" title="SyncAndTryBuilder.this.locals.type">locals</a>.<a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals.makeLocal(266b19597d)" title="(tk: BCodeSyncAndTry.this.bTypes.BType, name: String)BCodeSyncAndTry.this.global.Symbol">makeLocal</a><span class="delimiter">(</span><a href="CoreBTypes.scala.html#scala.tools.nsc.backend.jvm;CoreBTypesProxy.ObjectReference" title="=&gt; BCodeSyncAndTry.this.bTypes.coreBTypes.bTypes.ClassBType">ObjectReference</a>, <span title="String(&quot;monitor&quot;)" class="string">&quot;monitor&quot;</span><span class="delimiter">)</span>
      val <a title="scala.tools.asm.Label" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.monCleanup">monCleanup</a> = new asm.<span title="scala.tools.asm.Label">Label</span>

      <span class="comment">// if the synchronized block returns a result, store it in a local variable.</span>
      <span class="comment">// Just leaving it on the stack is not valid in MSIL (stack is cleaned when leaving try-blocks).</span>
      val hasResult = <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.expectedType" title="BCodeSyncAndTry.this.bTypes.BType">expectedType</a> <a title="Boolean" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.hasResult">!=</a> <a href="BTypes.scala.html#scala.tools.nsc.backend.jvm;BTypes.UNIT" title="BCodeSyncAndTry.this.bTypes.UNIT.type">UNIT</a><span class="delimiter">)</span>
      val <a title="BCodeSyncAndTry.this.global.Symbol" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.monitorResult">monitorResult</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="BCodeSyncAndTry.this.global.Symbol">Symbol</a> = if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.hasResult" title="Boolean">hasResult</a><span class="delimiter">)</span> <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals" title="SyncAndTryBuilder.this.locals.type">locals</a>.<a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals.makeLocal(266b19597d)" title="(tk: BCodeSyncAndTry.this.bTypes.BType, name: String)BCodeSyncAndTry.this.global.Symbol">makeLocal</a><span class="delimiter">(</span><a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.tpeTK" title="(tree: BCodeSyncAndTry.this.global.Tree)BCodeSyncAndTry.this.bTypes.BType">tpeTK</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.args" title="List[BCodeSyncAndTry.this.global.Tree]">args</a>.<a href="../../../../collection/IterableLike.scala.html#scala.collection;IterableLike.head" title="=&gt; BCodeSyncAndTry.this.global.Tree">head</a><span class="delimiter">)</span>, <span title="String(&quot;monitorResult&quot;)" class="string">&quot;monitorResult&quot;</span><span class="delimiter">)</span> else null;

      <span class="comment">/* ------ (1) pushing and entering the monitor, also keeping a reference to it in a local var. ------ */</span>
      <a href="BCodeBodyBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeBodyBuilder;PlainBodyBuilder.genLoadQualifier" title="(tree: BCodeSyncAndTry.this.global.Tree)Unit">genLoadQualifier</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.fun" title="BCodeSyncAndTry.this.global.Tree">fun</a><span class="delimiter">)</span>
      <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.bc" title="SyncAndTryBuilder.this.bc.type">bc</a> <a href="BCodeIdiomatic.scala.html#scala.tools.nsc.backend.jvm;BCodeIdiomatic;JCodeMethodN.dup" title="(tk: BCodeSyncAndTry.this.bTypes.BType)Unit">dup</a> <a href="CoreBTypes.scala.html#scala.tools.nsc.backend.jvm;CoreBTypesProxy.ObjectReference" title="=&gt; BCodeSyncAndTry.this.bTypes.coreBTypes.bTypes.ClassBType">ObjectReference</a>
      <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals" title="SyncAndTryBuilder.this.locals.type">locals</a>.<a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals.store" title="(locSym: BCodeSyncAndTry.this.global.Symbol)Unit">store</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.monitor" title="BCodeSyncAndTry.this.global.Symbol">monitor</a><span class="delimiter">)</span>
      <a href="BCodeBodyBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeBodyBuilder;PlainBodyBuilder.emit" title="(opc: Int)Unit">emit</a><span class="delimiter">(</span>asm.Opcodes.<span title="Int(194)">MONITORENTER</span><span class="delimiter">)</span>

      <span class="comment">/* ------ (2) Synchronized block.
       *            Reached by fall-through from (1).
       *            Protected by:
       *            (2.a) the EH-version of the monitor-exit, and
       *            (2.b) whatever protects the whole synchronized expression.
       * ------
       */</span>
      val <a title="scala.tools.asm.Label" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.startProtected">startProtected</a> = <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.currProgramPoint" title="()scala.tools.asm.Label">currProgramPoint</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.registerCleanup" title="(finCleanup: scala.tools.asm.Label)Unit">registerCleanup</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.monCleanup" title="scala.tools.asm.Label">monCleanup</a><span class="delimiter">)</span>
      <a href="BCodeBodyBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeBodyBuilder;PlainBodyBuilder.genLoad(4bc76d841c)" title="(tree: BCodeSyncAndTry.this.global.Tree, expectedType: BCodeSyncAndTry.this.bTypes.BType)Unit">genLoad</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.args" title="List[BCodeSyncAndTry.this.global.Tree]">args</a>.<a href="../../../../collection/IterableLike.scala.html#scala.collection;IterableLike.head" title="=&gt; BCodeSyncAndTry.this.global.Tree">head</a>, <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.expectedType" title="BCodeSyncAndTry.this.bTypes.BType">expectedType</a> <span class="comment">/* toTypeKind(tree.tpe.resultType) */</span><span class="delimiter">)</span>
      <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.unregisterCleanup" title="(finCleanup: scala.tools.asm.Label)Unit">unregisterCleanup</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.monCleanup" title="scala.tools.asm.Label">monCleanup</a><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.hasResult" title="Boolean">hasResult</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals" title="SyncAndTryBuilder.this.locals.type">locals</a>.<a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals.store" title="(locSym: BCodeSyncAndTry.this.global.Symbol)Unit">store</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.monitorResult" title="BCodeSyncAndTry.this.global.Symbol">monitorResult</a><span class="delimiter">)</span> <span class="delimiter">}</span>
      <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.nopIfNeeded" title="(lbl: scala.tools.asm.Label)Unit">nopIfNeeded</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.startProtected" title="scala.tools.asm.Label">startProtected</a><span class="delimiter">)</span>
      val <a title="scala.tools.asm.Label" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.endProtected">endProtected</a> = <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.currProgramPoint" title="()scala.tools.asm.Label">currProgramPoint</a><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="comment">/* ------ (3) monitor-exit after normal, non-early-return, termination of (2).
       *            Reached by fall-through from (2).
       *            Protected by whatever protects the whole synchronized expression.
       * ------
       */</span>
      <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals" title="SyncAndTryBuilder.this.locals.type">locals</a>.<a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals.load" title="(locSym: BCodeSyncAndTry.this.global.Symbol)Unit">load</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.monitor" title="BCodeSyncAndTry.this.global.Symbol">monitor</a><span class="delimiter">)</span>
      <a href="BCodeBodyBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeBodyBuilder;PlainBodyBuilder.emit" title="(opc: Int)Unit">emit</a><span class="delimiter">(</span>asm.Opcodes.<span title="Int(195)">MONITOREXIT</span><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.hasResult" title="Boolean">hasResult</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals" title="SyncAndTryBuilder.this.locals.type">locals</a>.<a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals.load" title="(locSym: BCodeSyncAndTry.this.global.Symbol)Unit">load</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.monitorResult" title="BCodeSyncAndTry.this.global.Symbol">monitorResult</a><span class="delimiter">)</span> <span class="delimiter">}</span>
      val <a title="scala.tools.asm.Label" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.postHandler">postHandler</a> = new asm.<span title="scala.tools.asm.Label">Label</span>
      <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.bc" title="SyncAndTryBuilder.this.bc.type">bc</a> <a href="BCodeIdiomatic.scala.html#scala.tools.nsc.backend.jvm;BCodeIdiomatic;JCodeMethodN.goTo" title="(label: scala.tools.asm.Label)Unit">goTo</a> <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.postHandler" title="scala.tools.asm.Label">postHandler</a>

      <span class="comment">/* ------ (4) exception-handler version of monitor-exit code.
       *            Reached upon abrupt termination of (2).
       *            Protected by whatever protects the whole synchronized expression.
       * ------
       */</span>
      <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.protect" title="(start: scala.tools.asm.Label, end: scala.tools.asm.Label, handler: scala.tools.asm.Label, excType: BCodeSyncAndTry.this.bTypes.ClassBType)Unit">protect</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.startProtected" title="scala.tools.asm.Label">startProtected</a>, <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.endProtected" title="scala.tools.asm.Label">endProtected</a>, <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.currProgramPoint" title="()scala.tools.asm.Label">currProgramPoint</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="CoreBTypes.scala.html#scala.tools.nsc.backend.jvm;CoreBTypesProxy.ThrowableReference" title="=&gt; BCodeSyncAndTry.this.bTypes.coreBTypes.bTypes.ClassBType">ThrowableReference</a><span class="delimiter">)</span>
      <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals" title="SyncAndTryBuilder.this.locals.type">locals</a>.<a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals.load" title="(locSym: BCodeSyncAndTry.this.global.Symbol)Unit">load</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.monitor" title="BCodeSyncAndTry.this.global.Symbol">monitor</a><span class="delimiter">)</span>
      <a href="BCodeBodyBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeBodyBuilder;PlainBodyBuilder.emit" title="(opc: Int)Unit">emit</a><span class="delimiter">(</span>asm.Opcodes.<span title="Int(195)">MONITOREXIT</span><span class="delimiter">)</span>
      <a href="BCodeBodyBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeBodyBuilder;PlainBodyBuilder.emit" title="(opc: Int)Unit">emit</a><span class="delimiter">(</span>asm.Opcodes.<span title="Int(191)">ATHROW</span><span class="delimiter">)</span>

      <span class="comment">/* ------ (5) cleanup version of monitor-exit code.
       *            Reached upon early-return from (2).
       *            Protected by whatever protects the whole synchronized expression.
       * ------
       */</span>
      if <span class="delimiter">(</span><a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.shouldEmitCleanup" title="=&gt; Boolean">shouldEmitCleanup</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.markProgramPoint" title="(lbl: scala.tools.asm.Label)Unit">markProgramPoint</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.monCleanup" title="scala.tools.asm.Label">monCleanup</a><span class="delimiter">)</span>
        <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals" title="SyncAndTryBuilder.this.locals.type">locals</a>.<a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals.load" title="(locSym: BCodeSyncAndTry.this.global.Symbol)Unit">load</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.monitor" title="BCodeSyncAndTry.this.global.Symbol">monitor</a><span class="delimiter">)</span>
        <a href="BCodeBodyBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeBodyBuilder;PlainBodyBuilder.emit" title="(opc: Int)Unit">emit</a><span class="delimiter">(</span>asm.Opcodes.<span title="Int(195)">MONITOREXIT</span><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.pendingCleanups" title="()Unit">pendingCleanups</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">/* ------ (6) normal exit of the synchronized expression.
       *            Reached after normal, non-early-return, termination of (3).
       *            Protected by whatever protects the whole synchronized expression.
       * ------
       */</span>
      <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.mnode" title="=&gt; scala.tools.asm.tree.MethodNode">mnode</a> <span title="(x$1: scala.tools.asm.Label)Unit">visitLabel</span> <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.postHandler" title="scala.tools.asm.Label">postHandler</a>

      <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.lineNumber" title="(tree: BCodeSyncAndTry.this.global.Tree)Unit">lineNumber</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.tree" title="BCodeSyncAndTry.this.global.Apply">tree</a><span class="delimiter">)</span>

      <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genSynchronized.expectedType" title="BCodeSyncAndTry.this.bTypes.BType">expectedType</a>
    <span class="delimiter">}</span>

    <span class="comment">/*
     *  Detects whether no instructions have been emitted since label `lbl` and if so emits a NOP.
     *  Useful to avoid emitting an empty try-block being protected by exception handlers,
     *  which results in &quot;java.lang.ClassFormatError: Illegal exception table range&quot;. See SI-6102.
     */</span>
    def <a title="(lbl: scala.tools.asm.Label)Unit" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.nopIfNeeded">nopIfNeeded</a><span class="delimiter">(</span><a title="scala.tools.asm.Label" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.nopIfNeeded.lbl">lbl</a>: asm.<span title="scala.tools.asm.Label">Label</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      val <a title="Boolean" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.nopIfNeeded.noInstructionEmitted">noInstructionEmitted</a> = <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.isAtProgramPoint" title="(lbl: scala.tools.asm.Label)Boolean">isAtProgramPoint</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.nopIfNeeded.lbl" title="scala.tools.asm.Label">lbl</a><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.nopIfNeeded.noInstructionEmitted" title="Boolean">noInstructionEmitted</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="BCodeBodyBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeBodyBuilder;PlainBodyBuilder.emit" title="(opc: Int)Unit">emit</a><span class="delimiter">(</span>asm.Opcodes.<span title="Int(0)">NOP</span><span class="delimiter">)</span> <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/*
     *  Emitting try-catch is easy, emitting try-catch-finally not quite so.
     *  A finally-block (which always has type Unit, thus leaving the operand stack unchanged)
     *  affects control-transfer from protected regions, as follows:
     *
     *    (a) `return` statement:
     *
     *        First, the value to return (if any) is evaluated.
     *        Afterwards, all enclosing finally-blocks are run, from innermost to outermost.
     *        Only then is the return value (if any) returned.
     *
     *        Some terminology:
     *          (a.1) Executing a return statement that is protected
     *                by one or more finally-blocks is called &quot;early return&quot;
     *          (a.2) the chain of code sections (a code section for each enclosing finally-block)
     *                to run upon early returns is called &quot;cleanup chain&quot;
     *
     *        As an additional spin, consider a return statement in a finally-block.
     *        In this case, the value to return depends on how control arrived at that statement:
     *        in case it arrived via a previous return, the previous return enjoys priority:
     *        the value to return is given by that statement.
     *
     *    (b) A finally-block protects both the try-clause and the catch-clauses.
     *
     *           Sidenote:
     *             A try-clause may contain an empty block. On CLR, a finally-block has special semantics
     *             regarding Abort interruptions; but on the JVM it's safe to elide an exception-handler
     *             that protects an &quot;empty&quot; range (&quot;empty&quot; as in &quot;containing NOPs only&quot;,
     *             see `asm.optimiz.DanglingExcHandlers` and SI-6720).
     *
     *        This means a finally-block indicates instructions that can be reached:
     *          (b.1) Upon normal (non-early-returning) completion of the try-clause or a catch-clause
     *                In this case, the next-program-point is that following the try-catch-finally expression.
     *          (b.2) Upon early-return initiated in the try-clause or a catch-clause
     *                In this case, the next-program-point is the enclosing cleanup section (if any), otherwise return.
     *          (b.3) Upon abrupt termination (due to unhandled exception) of the try-clause or a catch-clause
     *                In this case, the unhandled exception must be re-thrown after running the finally-block.
     *
     *    (c) finally-blocks are implicit to `synchronized` (a finally-block is added to just release the lock)
     *        that's why `genSynchronized()` too emits cleanup-sections.
     *
     *  A number of code patterns can be emitted to realize the intended semantics.
     *
     *  A popular alternative (GenICode, javac) consists in duplicating the cleanup-chain at each early-return position.
     *  The principle at work being that once control is transferred to a cleanup-section,
     *  control will always stay within the cleanup-chain.
     *  That is, barring an exception being thrown in a cleanup-section, in which case the enclosing try-block
     *  (reached via abrupt termination) takes over.
     *
     *  The observations above hint at another code layout, less verbose, for the cleanup-chain.
     *
     *  The code layout that GenBCode emits takes into account that once a cleanup section has been reached,
     *  jumping to the next cleanup-section (and so on, until the outermost one) realizes the correct semantics.
     *
     *  There is still code duplication in that two cleanup-chains are needed (but this is unavoidable, anyway):
     *  one for normal control flow and another chain consisting of exception handlers.
     *  The in-line comments below refer to them as
     *    - &quot;early-return-cleanups&quot; and
     *    - &quot;exception-handler-version-of-finally-block&quot; respectively.
     *
     */</span>
    def <a title="(tree: BCodeSyncAndTry.this.global.Try)BCodeSyncAndTry.this.bTypes.BType" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry">genLoadTry</a><span class="delimiter">(</span><a title="BCodeSyncAndTry.this.global.Try" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.tree">tree</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Try" title="BCodeSyncAndTry.this.global.Try">Try</a><span class="delimiter">)</span>: <a href="BTypes.scala.html#scala.tools.nsc.backend.jvm;BTypes;BType" title="BCodeSyncAndTry.this.bTypes.BType">BType</a> = <span class="delimiter">{</span>

      val Try<a href="../../../../Tuple3.scala.html#scala;Tuple3" title="(BCodeSyncAndTry.this.global.Tree, List[BCodeSyncAndTry.this.global.CaseDef], BCodeSyncAndTry.this.global.Tree)" class="delimiter">(</a><a href="../../../../Tuple3.scala.html#scala;Tuple3._1" title="BCodeSyncAndTry.this.global.Tree" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.block">block</a>, <a href="../../../../Tuple3.scala.html#scala;Tuple3._2" title="List[BCodeSyncAndTry.this.global.CaseDef]" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.catches">catches</a>, <a href="../../../../Tuple3.scala.html#scala;Tuple3._3" title="BCodeSyncAndTry.this.global.Tree" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.finalizer">finalizer</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.tree" title="BCodeSyncAndTry.this.global.Try">tree</a>
      val <a title="BCodeSyncAndTry.this.bTypes.BType" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.kind">kind</a> = <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.tpeTK" title="(tree: BCodeSyncAndTry.this.global.Tree)BCodeSyncAndTry.this.bTypes.BType">tpeTK</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.tree" title="BCodeSyncAndTry.this.global.Try">tree</a><span class="delimiter">)</span>

      val <a title="List[SyncAndTryBuilder.this.EHClause]" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.caseHandlers">caseHandlers</a>: <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[SyncAndTryBuilder.this.EHClause]">List</a><span class="delimiter">[</span>EHClause<span class="delimiter">]</span> =
        for <span class="delimiter">(</span>CaseDef<span class="delimiter">(</span><a title="BCodeSyncAndTry.this.global.Tree" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.caseHandlers.$anonfun.pat">pat</a>, _, <a title="BCodeSyncAndTry.this.global.Tree" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.caseHandlers.$anonfun.caseBody">caseBody</a><span class="delimiter">)</span> &lt;- <a href="../../../../collection/generic/FilterMonadic.scala.html#scala.collection.generic;FilterMonadic.map" title="(f: BCodeSyncAndTry.this.global.CaseDef =&gt; Product with Serializable with SyncAndTryBuilder.this.EHClause)(implicit bf: scala.collection.generic.CanBuildFrom[List[BCodeSyncAndTry.this.global.CaseDef],Product with Serializable with SyncAndTryBuilder.this.EHClause,List[SyncAndTryBuilder.this.EHClause]])List[SyncAndTryBuilder.this.EHClause]">catches</a><span class="delimiter">)</span> yield <span class="delimiter">{</span>
          <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.caseHandlers.$anonfun.pat" title="BCodeSyncAndTry.this.global.Tree">pat</a> match <span class="delimiter">{</span>
            case Typed<span class="delimiter">(</span>Ident<span class="delimiter">(</span><a href="../../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="BCodeSyncAndTry.this.global.nme.type">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;CommonNames.WILDCARD" title="=&gt; BCodeSyncAndTry.this.global.nme.NameType">WILDCARD</a><span class="delimiter">)</span>, <a title="BCodeSyncAndTry.this.global.Tree" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.caseHandlers.$anonfun.tpt">tpt</a><span class="delimiter">)</span>  =&gt; <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.NamelessEH.readResolve" title="(typeToDrop: BCodeSyncAndTry.this.bTypes.ClassBType, caseBody: BCodeSyncAndTry.this.global.Tree)SyncAndTryBuilder.this.NamelessEH">NamelessEH</a><span class="delimiter">(</span><a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.tpeTK" title="(tree: BCodeSyncAndTry.this.global.Tree)BCodeSyncAndTry.this.bTypes.BType">tpeTK</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.caseHandlers.$anonfun.tpt" title="BCodeSyncAndTry.this.global.Tree">tpt</a><span class="delimiter">)</span>.<a href="BTypes.scala.html#scala.tools.nsc.backend.jvm;BTypes;BType.asClassBType" title="=&gt; BCodeSyncAndTry.this.bTypes.ClassBType">asClassBType</a>, <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.caseHandlers.$anonfun.caseBody" title="BCodeSyncAndTry.this.global.Tree">caseBody</a><span class="delimiter">)</span>
            case Ident<span class="delimiter">(</span><a href="../../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="BCodeSyncAndTry.this.global.nme.type">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;CommonNames.WILDCARD" title="=&gt; BCodeSyncAndTry.this.global.nme.NameType">WILDCARD</a><span class="delimiter">)</span>              =&gt; <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.NamelessEH.readResolve" title="(typeToDrop: BCodeSyncAndTry.this.bTypes.ClassBType, caseBody: BCodeSyncAndTry.this.global.Tree)SyncAndTryBuilder.this.NamelessEH">NamelessEH</a><span class="delimiter">(</span><a href="CoreBTypes.scala.html#scala.tools.nsc.backend.jvm;CoreBTypesProxy.ThrowableReference" title="=&gt; BCodeSyncAndTry.this.bTypes.coreBTypes.bTypes.ClassBType">ThrowableReference</a>,  <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.caseHandlers.$anonfun.caseBody" title="BCodeSyncAndTry.this.global.Tree">caseBody</a><span class="delimiter">)</span>
            case Bind<span class="delimiter">(</span>_, _<span class="delimiter">)</span>                       =&gt; <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.BoundEH.readResolve" title="(patSymbol: BCodeSyncAndTry.this.global.Symbol, caseBody: BCodeSyncAndTry.this.global.Tree)SyncAndTryBuilder.this.BoundEH">BoundEH</a>   <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.caseHandlers.$anonfun.pat" title="BCodeSyncAndTry.this.global.Tree">pat</a>.<a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; BCodeSyncAndTry.this.global.Symbol">symbol</a>, <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.caseHandlers.$anonfun.caseBody" title="BCodeSyncAndTry.this.global.Tree">caseBody</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

      <span class="comment">// ------ (0) locals used later ------</span>

      <span class="comment">/*
       * `postHandlers` is a program point denoting:
       *     (a) the finally-clause conceptually reached via fall-through from try-catch-finally
       *         (in case a finally-block is present); or
       *     (b) the program point right after the try-catch
       *         (in case there's no finally-block).
       * The name choice emphasizes that the code section lies &quot;after all exception handlers&quot;,
       * where &quot;all exception handlers&quot; includes those derived from catch-clauses as well as from finally-blocks.
       */</span>
      val <a title="scala.tools.asm.Label" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.postHandlers">postHandlers</a> = new asm.<span title="scala.tools.asm.Label">Label</span>

      val hasFinally   = <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.finalizer" title="BCodeSyncAndTry.this.global.Tree">finalizer</a> <a title="Boolean" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.hasFinally">!=</a> <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="BCodeSyncAndTry.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span>

      <span class="comment">/*
       * used in the finally-clause reached via fall-through from try-catch, if any.
       */</span>
      val guardResult  = <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.hasFinally" title="Boolean">hasFinally</a> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.kind" title="BCodeSyncAndTry.this.bTypes.BType">kind</a> <span title="(x$1: Any)Boolean">!=</span> <a href="BTypes.scala.html#scala.tools.nsc.backend.jvm;BTypes.UNIT" title="BCodeSyncAndTry.this.bTypes.UNIT.type">UNIT</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="Boolean" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.guardResult">&amp;&amp;</a> <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.mayCleanStack" title="(tree: BCodeSyncAndTry.this.global.Tree)Boolean">mayCleanStack</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.finalizer" title="BCodeSyncAndTry.this.global.Tree">finalizer</a><span class="delimiter">)</span>

      <span class="comment">/*
       * please notice `tmp` has type tree.tpe, while `earlyReturnVar` has the method return type.
       * Because those two types can be different, dedicated vars are needed.
       */</span>
      val <a title="BCodeSyncAndTry.this.global.Symbol" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.tmp">tmp</a>          = if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.guardResult" title="Boolean">guardResult</a><span class="delimiter">)</span> <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals" title="SyncAndTryBuilder.this.locals.type">locals</a>.<a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals.makeLocal(266b19597d)" title="(tk: BCodeSyncAndTry.this.bTypes.BType, name: String)BCodeSyncAndTry.this.global.Symbol">makeLocal</a><span class="delimiter">(</span><a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.tpeTK" title="(tree: BCodeSyncAndTry.this.global.Tree)BCodeSyncAndTry.this.bTypes.BType">tpeTK</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.tree" title="BCodeSyncAndTry.this.global.Try">tree</a><span class="delimiter">)</span>, <span title="String(&quot;tmp&quot;)" class="string">&quot;tmp&quot;</span><span class="delimiter">)</span> else null;

      <span class="comment">/*
       * upon early return from the try-body or one of its EHs (but not the EH-version of the finally-clause)
       * AND hasFinally, a cleanup is needed.
       */</span>
      val <a title="scala.tools.asm.Label" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.finCleanup">finCleanup</a>   = if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.hasFinally" title="Boolean">hasFinally</a><span class="delimiter">)</span> new asm.<span title="scala.tools.asm.Label">Label</span> else null

      <span class="comment">/* ------ (1) try-block, protected by:
       *                       (1.a) the EHs due to case-clauses,   emitted in (2),
       *                       (1.b) the EH  due to finally-clause, emitted in (3.A)
       *                       (1.c) whatever protects the whole try-catch-finally expression.
       * ------
       */</span>

      val <a title="scala.tools.asm.Label" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.startTryBody">startTryBody</a> = <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.currProgramPoint" title="()scala.tools.asm.Label">currProgramPoint</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.registerCleanup" title="(finCleanup: scala.tools.asm.Label)Unit">registerCleanup</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.finCleanup" title="scala.tools.asm.Label">finCleanup</a><span class="delimiter">)</span>
      <a href="BCodeBodyBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeBodyBuilder;PlainBodyBuilder.genLoad(4bc76d841c)" title="(tree: BCodeSyncAndTry.this.global.Tree, expectedType: BCodeSyncAndTry.this.bTypes.BType)Unit">genLoad</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.block" title="BCodeSyncAndTry.this.global.Tree">block</a>, <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.kind" title="BCodeSyncAndTry.this.bTypes.BType">kind</a><span class="delimiter">)</span>
      <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.unregisterCleanup" title="(finCleanup: scala.tools.asm.Label)Unit">unregisterCleanup</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.finCleanup" title="scala.tools.asm.Label">finCleanup</a><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.nopIfNeeded" title="(lbl: scala.tools.asm.Label)Unit">nopIfNeeded</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.startTryBody" title="scala.tools.asm.Label">startTryBody</a><span class="delimiter">)</span>
      val <a title="scala.tools.asm.Label" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.endTryBody">endTryBody</a> = <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.currProgramPoint" title="()scala.tools.asm.Label">currProgramPoint</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.bc" title="SyncAndTryBuilder.this.bc.type">bc</a> <a href="BCodeIdiomatic.scala.html#scala.tools.nsc.backend.jvm;BCodeIdiomatic;JCodeMethodN.goTo" title="(label: scala.tools.asm.Label)Unit">goTo</a> <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.postHandlers" title="scala.tools.asm.Label">postHandlers</a>

      <span class="comment">/* ------ (2) One EH for each case-clause (this does not include the EH-version of the finally-clause)
       *            An EH in (2) is reached upon abrupt termination of (1).
       *            An EH in (2) is protected by:
       *                         (2.a) the EH-version of the finally-clause, if any.
       *                         (2.b) whatever protects the whole try-catch-finally expression.
       * ------
       */</span>

      for <span class="delimiter">(</span><a title="SyncAndTryBuilder.this.EHClause" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.$anonfun.ch">ch</a> &lt;- <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.foreach" title="(f: SyncAndTryBuilder.this.EHClause =&gt; Unit)Unit">caseHandlers</a><span class="delimiter">)</span> <span class="delimiter">{</span>

        <span class="comment">// (2.a) emit case clause proper</span>
        val <a title="scala.tools.asm.Label" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.$anonfun.startHandler">startHandler</a> = <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.currProgramPoint" title="()scala.tools.asm.Label">currProgramPoint</a><span class="delimiter">(</span><span class="delimiter">)</span>
        var <a title="scala.tools.asm.Label" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.$anonfun.endHandler">endHandler</a>: asm.<span title="scala.tools.asm.Label">Label</span> = null
        var <a title="BCodeSyncAndTry.this.bTypes.ClassBType" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.$anonfun.excType">excType</a>: <a href="BTypes.scala.html#scala.tools.nsc.backend.jvm;BTypes;ClassBType" title="BCodeSyncAndTry.this.bTypes.ClassBType">ClassBType</a> = null
        <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.registerCleanup" title="(finCleanup: scala.tools.asm.Label)Unit">registerCleanup</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.finCleanup" title="scala.tools.asm.Label">finCleanup</a><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.$anonfun.ch" title="SyncAndTryBuilder.this.EHClause">ch</a> match <span class="delimiter">{</span>
          case NamelessEH<span class="delimiter">(</span><a title="BCodeSyncAndTry.this.bTypes.ClassBType" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.$anonfun.typeToDrop">typeToDrop</a>, <span title="BCodeSyncAndTry.this.global.Tree">caseBody</span><span class="delimiter">)</span> =&gt;
            <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.bc" title="SyncAndTryBuilder.this.bc.type">bc</a> <a href="BCodeIdiomatic.scala.html#scala.tools.nsc.backend.jvm;BCodeIdiomatic;JCodeMethodN.drop" title="(tk: BCodeSyncAndTry.this.bTypes.BType)Unit">drop</a> <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.$anonfun.typeToDrop" title="BCodeSyncAndTry.this.bTypes.ClassBType">typeToDrop</a>
            <a href="BCodeBodyBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeBodyBuilder;PlainBodyBuilder.genLoad(4bc76d841c)" title="(tree: BCodeSyncAndTry.this.global.Tree, expectedType: BCodeSyncAndTry.this.bTypes.BType)Unit">genLoad</a><span class="delimiter">(</span><span title="BCodeSyncAndTry.this.global.Tree">caseBody</span>, <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.kind" title="BCodeSyncAndTry.this.bTypes.BType">kind</a><span class="delimiter">)</span> <span class="comment">// adapts caseBody to `kind`, thus it can be stored, if `guardResult`, in `tmp`.</span>
            <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.nopIfNeeded" title="(lbl: scala.tools.asm.Label)Unit">nopIfNeeded</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.$anonfun.startHandler" title="scala.tools.asm.Label">startHandler</a><span class="delimiter">)</span>
            <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.$anonfun.endHandler" title="scala.tools.asm.Label">endHandler</a> = <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.currProgramPoint" title="()scala.tools.asm.Label">currProgramPoint</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.$anonfun.excType" title="BCodeSyncAndTry.this.bTypes.ClassBType">excType</a> = <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.$anonfun.typeToDrop" title="BCodeSyncAndTry.this.bTypes.ClassBType">typeToDrop</a>

          case BoundEH   <span class="delimiter">(</span><a title="BCodeSyncAndTry.this.global.Symbol" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.$anonfun.patSymbol">patSymbol</a>,  <span title="BCodeSyncAndTry.this.global.Tree">caseBody</span><span class="delimiter">)</span> =&gt;
            <span class="comment">// test/files/run/contrib674.scala , a local-var already exists for patSymbol.</span>
            <span class="comment">// rather than creating on first-access, we do it right away to emit debug-info for the created local var.</span>
            val Local<a href="../../../../Tuple2.scala.html#scala;Tuple2" title="(BCodeSyncAndTry.this.bTypes.BType, Int)" class="delimiter">(</a><a href="../../../../Tuple2.scala.html#scala;Tuple2._1" title="BCodeSyncAndTry.this.bTypes.BType" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.$anonfun.patTK">patTK</a>, _, <a href="../../../../Tuple2.scala.html#scala;Tuple2._2" title="Int" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.$anonfun.patIdx">patIdx</a>, _<span class="delimiter">)</span> = <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals" title="SyncAndTryBuilder.this.locals.type">locals</a>.<a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals.getOrMakeLocal" title="(locSym: BCodeSyncAndTry.this.global.Symbol)SyncAndTryBuilder.this.Local">getOrMakeLocal</a><a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder;Local" title="SyncAndTryBuilder.this.Local @unchecked" class="delimiter">(</a><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.$anonfun.patSymbol" title="BCodeSyncAndTry.this.global.Symbol">patSymbol</a><span class="delimiter">)</span>
            <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.bc" title="SyncAndTryBuilder.this.bc.type">bc</a>.<a href="BCodeIdiomatic.scala.html#scala.tools.nsc.backend.jvm;BCodeIdiomatic;JCodeMethodN.store" title="(idx: Int, tk: BCodeSyncAndTry.this.bTypes.BType)Unit">store</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.$anonfun.patIdx" title="Int">patIdx</a>, <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.$anonfun.patTK" title="BCodeSyncAndTry.this.bTypes.BType">patTK</a><span class="delimiter">)</span>
            <a href="BCodeBodyBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeBodyBuilder;PlainBodyBuilder.genLoad(4bc76d841c)" title="(tree: BCodeSyncAndTry.this.global.Tree, expectedType: BCodeSyncAndTry.this.bTypes.BType)Unit">genLoad</a><span class="delimiter">(</span><span title="BCodeSyncAndTry.this.global.Tree">caseBody</span>, <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.kind" title="BCodeSyncAndTry.this.bTypes.BType">kind</a><span class="delimiter">)</span>
            <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.nopIfNeeded" title="(lbl: scala.tools.asm.Label)Unit">nopIfNeeded</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.$anonfun.startHandler" title="scala.tools.asm.Label">startHandler</a><span class="delimiter">)</span>
            <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.$anonfun.endHandler" title="scala.tools.asm.Label">endHandler</a> = <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.currProgramPoint" title="()scala.tools.asm.Label">currProgramPoint</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.emitLocalVarScope" title="(sym: BCodeSyncAndTry.this.global.Symbol, start: scala.tools.asm.Label, end: scala.tools.asm.Label, force: Boolean)Unit">emitLocalVarScope</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.$anonfun.patSymbol" title="BCodeSyncAndTry.this.global.Symbol">patSymbol</a>, <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.$anonfun.startHandler" title="scala.tools.asm.Label">startHandler</a>, <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.$anonfun.endHandler" title="scala.tools.asm.Label">endHandler</a><span class="delimiter">)</span>
            <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.$anonfun.excType" title="BCodeSyncAndTry.this.bTypes.ClassBType">excType</a> = <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.$anonfun.patTK" title="BCodeSyncAndTry.this.bTypes.BType">patTK</a>.<a href="BTypes.scala.html#scala.tools.nsc.backend.jvm;BTypes;BType.asClassBType" title="=&gt; BCodeSyncAndTry.this.bTypes.ClassBType">asClassBType</a>
        <span class="delimiter">}</span>
        <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.unregisterCleanup" title="(finCleanup: scala.tools.asm.Label)Unit">unregisterCleanup</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.finCleanup" title="scala.tools.asm.Label">finCleanup</a><span class="delimiter">)</span>
        <span class="comment">// (2.b)  mark the try-body as protected by this case clause.</span>
        <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.protect" title="(start: scala.tools.asm.Label, end: scala.tools.asm.Label, handler: scala.tools.asm.Label, excType: BCodeSyncAndTry.this.bTypes.ClassBType)Unit">protect</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.startTryBody" title="scala.tools.asm.Label">startTryBody</a>, <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.endTryBody" title="scala.tools.asm.Label">endTryBody</a>, <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.$anonfun.startHandler" title="scala.tools.asm.Label">startHandler</a>, <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.$anonfun.excType" title="BCodeSyncAndTry.this.bTypes.ClassBType">excType</a><span class="delimiter">)</span>
        <span class="comment">// (2.c) emit jump to the program point where the finally-clause-for-normal-exit starts, or in effect `after` if no finally-clause was given.</span>
        <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.bc" title="SyncAndTryBuilder.this.bc.type">bc</a> <a href="BCodeIdiomatic.scala.html#scala.tools.nsc.backend.jvm;BCodeIdiomatic;JCodeMethodN.goTo" title="(label: scala.tools.asm.Label)Unit">goTo</a> <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.postHandlers" title="scala.tools.asm.Label">postHandlers</a>

      <span class="delimiter">}</span>

      <span class="comment">/* ------ (3.A) The exception-handler-version of the finally-clause.
       *              Reached upon abrupt termination of (1) or one of the EHs in (2).
       *              Protected only by whatever protects the whole try-catch-finally expression.
       * ------
       */</span>

      <span class="comment">// a note on terminology: this is not &quot;postHandlers&quot;, despite appearences.</span>
      <span class="comment">// &quot;postHandlers&quot; as in the source-code view. And from that perspective, both (3.A) and (3.B) are invisible implementation artifacts.</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.hasFinally" title="Boolean">hasFinally</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.nopIfNeeded" title="(lbl: scala.tools.asm.Label)Unit">nopIfNeeded</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.startTryBody" title="scala.tools.asm.Label">startTryBody</a><span class="delimiter">)</span>
        val <a title="scala.tools.asm.Label" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.finalHandler">finalHandler</a> = <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.currProgramPoint" title="()scala.tools.asm.Label">currProgramPoint</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="comment">// version of the finally-clause reached via unhandled exception.</span>
        <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.protect" title="(start: scala.tools.asm.Label, end: scala.tools.asm.Label, handler: scala.tools.asm.Label, excType: BCodeSyncAndTry.this.bTypes.ClassBType)Unit">protect</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.startTryBody" title="scala.tools.asm.Label">startTryBody</a>, <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.finalHandler" title="scala.tools.asm.Label">finalHandler</a>, <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.finalHandler" title="scala.tools.asm.Label">finalHandler</a>, null<span class="delimiter">)</span>
        val Local<a href="../../../../Tuple2.scala.html#scala;Tuple2" title="(BCodeSyncAndTry.this.bTypes.BType, Int)" class="delimiter">(</a><a href="../../../../Tuple2.scala.html#scala;Tuple2._1" title="BCodeSyncAndTry.this.bTypes.BType" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.eTK">eTK</a>, _, <a href="../../../../Tuple2.scala.html#scala;Tuple2._2" title="Int" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.eIdx">eIdx</a>, _<span class="delimiter">)</span> = <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals.apply" title="(locSym: BCodeSyncAndTry.this.global.Symbol)SyncAndTryBuilder.this.Local">locals</a><a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder;Local" title="SyncAndTryBuilder.this.Local @unchecked" class="delimiter">(</a><a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals" title="SyncAndTryBuilder.this.locals.type">locals</a>.<a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals.makeLocal(266b19597d)" title="(tk: BCodeSyncAndTry.this.bTypes.BType, name: String)BCodeSyncAndTry.this.global.Symbol">makeLocal</a><span class="delimiter">(</span><a href="CoreBTypes.scala.html#scala.tools.nsc.backend.jvm;CoreBTypesProxy.ThrowableReference" title="=&gt; BCodeSyncAndTry.this.bTypes.coreBTypes.bTypes.ClassBType">ThrowableReference</a>, <span title="String(&quot;exc&quot;)" class="string">&quot;exc&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.bc" title="SyncAndTryBuilder.this.bc.type">bc</a>.<a href="BCodeIdiomatic.scala.html#scala.tools.nsc.backend.jvm;BCodeIdiomatic;JCodeMethodN.store" title="(idx: Int, tk: BCodeSyncAndTry.this.bTypes.BType)Unit">store</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.eIdx" title="Int">eIdx</a>, <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.eTK" title="BCodeSyncAndTry.this.bTypes.BType">eTK</a><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.emitFinalizer" title="(finalizer: BCodeSyncAndTry.this.global.Tree, tmp: BCodeSyncAndTry.this.global.Symbol, isDuplicate: Boolean)Unit">emitFinalizer</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.finalizer" title="BCodeSyncAndTry.this.global.Tree">finalizer</a>, null, isDuplicate = true<span class="delimiter">)</span>
        <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.bc" title="SyncAndTryBuilder.this.bc.type">bc</a>.<a href="BCodeIdiomatic.scala.html#scala.tools.nsc.backend.jvm;BCodeIdiomatic;JCodeMethodN.load" title="(idx: Int, tk: BCodeSyncAndTry.this.bTypes.BType)Unit">load</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.eIdx" title="Int">eIdx</a>, <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.eTK" title="BCodeSyncAndTry.this.bTypes.BType">eTK</a><span class="delimiter">)</span>
        <a href="BCodeBodyBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeBodyBuilder;PlainBodyBuilder.emit" title="(opc: Int)Unit">emit</a><span class="delimiter">(</span>asm.Opcodes.<span title="Int(191)">ATHROW</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">/* ------ (3.B) Cleanup-version of the finally-clause.
       *              Reached upon early RETURN from (1) or upon early RETURN from one of the EHs in (2)
       *              (and only from there, ie reached only upon early RETURN from
       *               program regions bracketed by registerCleanup/unregisterCleanup).
       *              Protected only by whatever protects the whole try-catch-finally expression.
       *
       *              Given that control arrives to a cleanup section only upon early RETURN,
       *              the value to return (if any) is always available. Therefore, a further RETURN
       *              found in a cleanup section is always ignored (a warning is displayed, @see `genReturn()`).
       *              In order for `genReturn()` to know whether the return statement is enclosed in a cleanup section,
       *              the variable `insideCleanupBlock` is used.
       * ------
       */</span>

      <span class="comment">// this is not &quot;postHandlers&quot; either.</span>
      <span class="comment">// `shouldEmitCleanup` can be set, and at the same time this try expression may lack a finally-clause.</span>
      <span class="comment">// In other words, all combinations of (hasFinally, shouldEmitCleanup) are valid.</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.hasFinally" title="Boolean">hasFinally</a> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.shouldEmitCleanup" title="=&gt; Boolean">shouldEmitCleanup</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        val <a title="Boolean" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.savedInsideCleanup">savedInsideCleanup</a> = <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.insideCleanupBlock" title="=&gt; Boolean">insideCleanupBlock</a>
        <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.insideCleanupBlock_=" title="(x$1: Boolean)Unit">insideCleanupBlock</a> = true
        <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.markProgramPoint" title="(lbl: scala.tools.asm.Label)Unit">markProgramPoint</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.finCleanup" title="scala.tools.asm.Label">finCleanup</a><span class="delimiter">)</span>
        <span class="comment">// regarding return value, the protocol is: in place of a `return-stmt`, a sequence of `adapt, store, jump` are inserted.</span>
        <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.emitFinalizer" title="(finalizer: BCodeSyncAndTry.this.global.Tree, tmp: BCodeSyncAndTry.this.global.Symbol, isDuplicate: Boolean)Unit">emitFinalizer</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.finalizer" title="BCodeSyncAndTry.this.global.Tree">finalizer</a>, null, isDuplicate = true<span class="delimiter">)</span>
        <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.pendingCleanups" title="()Unit">pendingCleanups</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.insideCleanupBlock_=" title="(x$1: Boolean)Unit">insideCleanupBlock</a> = <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.savedInsideCleanup" title="Boolean">savedInsideCleanup</a>
      <span class="delimiter">}</span>

      <span class="comment">/* ------ (4) finally-clause-for-normal-nonEarlyReturn-exit
       *            Reached upon normal, non-early-return termination of (1) or of an EH in (2).
       *            Protected only by whatever protects the whole try-catch-finally expression.
       * TODO explain what happens upon RETURN contained in (4)
       * ------
       */</span>

      <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.markProgramPoint" title="(lbl: scala.tools.asm.Label)Unit">markProgramPoint</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.postHandlers" title="scala.tools.asm.Label">postHandlers</a><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.hasFinally" title="Boolean">hasFinally</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.emitFinalizer" title="(finalizer: BCodeSyncAndTry.this.global.Tree, tmp: BCodeSyncAndTry.this.global.Symbol, isDuplicate: Boolean)Unit">emitFinalizer</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.finalizer" title="BCodeSyncAndTry.this.global.Tree">finalizer</a>, <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.tmp" title="BCodeSyncAndTry.this.global.Symbol">tmp</a>, isDuplicate = false<span class="delimiter">)</span> <span class="comment">// the only invocation of emitFinalizer with `isDuplicate == false`</span>
      <span class="delimiter">}</span>

      <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.genLoadTry.kind" title="BCodeSyncAndTry.this.bTypes.BType">kind</a>
    <span class="delimiter">}</span> <span class="comment">// end of genLoadTry()</span>

    <span class="comment">/* if no more pending cleanups, all that remains to do is return. Otherwise jump to the next (outer) pending cleanup. */</span>
    private def <a title="()Unit" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.pendingCleanups">pendingCleanups</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.cleanups" title="=&gt; List[scala.tools.asm.Label]">cleanups</a> match <span class="delimiter">{</span>
        case <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a> =&gt;
          if <span class="delimiter">(</span><a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.earlyReturnVar" title="=&gt; BCodeSyncAndTry.this.global.Symbol">earlyReturnVar</a> <span title="(x$1: Any)Boolean">!=</span> null<span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals" title="SyncAndTryBuilder.this.locals.type">locals</a>.<a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals.load" title="(locSym: BCodeSyncAndTry.this.global.Symbol)Unit">load</a><span class="delimiter">(</span><a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.earlyReturnVar" title="=&gt; BCodeSyncAndTry.this.global.Symbol">earlyReturnVar</a><span class="delimiter">)</span>
            <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.bc" title="SyncAndTryBuilder.this.bc.type">bc</a>.<a href="BCodeIdiomatic.scala.html#scala.tools.nsc.backend.jvm;BCodeIdiomatic;JCodeMethodN.emitRETURN" title="(tk: BCodeSyncAndTry.this.bTypes.BType)Unit">emitRETURN</a><span class="delimiter">(</span><a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals.apply" title="(locSym: BCodeSyncAndTry.this.global.Symbol)SyncAndTryBuilder.this.Local">locals</a><span class="delimiter">(</span><a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.earlyReturnVar" title="=&gt; BCodeSyncAndTry.this.global.Symbol">earlyReturnVar</a><span class="delimiter">)</span>.<a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder;Local.tk" title="=&gt; BCodeSyncAndTry.this.bTypes.BType">tk</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> else <span class="delimiter">{</span>
            <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.bc" title="SyncAndTryBuilder.this.bc.type">bc</a> <a href="BCodeIdiomatic.scala.html#scala.tools.nsc.backend.jvm;BCodeIdiomatic;JCodeMethodN.emitRETURN" title="(tk: BCodeSyncAndTry.this.bTypes.BType)Unit">emitRETURN</a> <a href="BTypes.scala.html#scala.tools.nsc.backend.jvm;BTypes.UNIT" title="BCodeSyncAndTry.this.bTypes.UNIT.type">UNIT</a>
          <span class="delimiter">}</span>
          <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.shouldEmitCleanup_=" title="(x$1: Boolean)Unit">shouldEmitCleanup</a> = false

        case <a title="scala.tools.asm.Label" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.pendingCleanups.nextCleanup">nextCleanup</a> :: _ =&gt;
          <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.bc" title="SyncAndTryBuilder.this.bc.type">bc</a> <a href="BCodeIdiomatic.scala.html#scala.tools.nsc.backend.jvm;BCodeIdiomatic;JCodeMethodN.goTo" title="(label: scala.tools.asm.Label)Unit">goTo</a> <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.pendingCleanups.nextCleanup" title="scala.tools.asm.Label">nextCleanup</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    def <a title="(start: scala.tools.asm.Label, end: scala.tools.asm.Label, handler: scala.tools.asm.Label, excType: BCodeSyncAndTry.this.bTypes.ClassBType)Unit" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.protect">protect</a><span class="delimiter">(</span><a title="scala.tools.asm.Label" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.protect.start">start</a>: asm.<span title="scala.tools.asm.Label">Label</span>, <a title="scala.tools.asm.Label" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.protect.end">end</a>: asm.<span title="scala.tools.asm.Label">Label</span>, <a title="scala.tools.asm.Label" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.protect.handler">handler</a>: asm.<span title="scala.tools.asm.Label">Label</span>, <a title="BCodeSyncAndTry.this.bTypes.ClassBType" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.protect.excType">excType</a>: <a href="BTypes.scala.html#scala.tools.nsc.backend.jvm;BTypes;ClassBType" title="BCodeSyncAndTry.this.bTypes.ClassBType">ClassBType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      val <a title="String" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.protect.excInternalName">excInternalName</a>: <span title="String">String</span> =
        if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.protect.excType" title="BCodeSyncAndTry.this.bTypes.ClassBType">excType</a> <span title="(x$1: Any)Boolean">==</span> null<span class="delimiter">)</span> null
        else <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.protect.excType" title="BCodeSyncAndTry.this.bTypes.ClassBType">excType</a>.<a href="BTypes.scala.html#scala.tools.nsc.backend.jvm;BTypes;ClassBType.internalName" title="=&gt; String">internalName</a>
      <a href="../../Global.scala.html#scala.tools.nsc;Global.assert(0f40bc559c)" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.protect.start" title="scala.tools.asm.Label">start</a> <span title="(x$1: Any)Boolean">!=</span> <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.protect.end" title="scala.tools.asm.Label">end</a>, <span title="String(&quot;protecting a range of zero instructions leads to illegal class format. Solution: add a NOP to that range.&quot;)" class="string">&quot;protecting a range of zero instructions leads to illegal class format. Solution: add a NOP to that range.&quot;</span><span class="delimiter">)</span>
      <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.mnode" title="=&gt; scala.tools.asm.tree.MethodNode">mnode</a>.<span title="(x$1: scala.tools.asm.Label, x$2: scala.tools.asm.Label, x$3: scala.tools.asm.Label, x$4: String)Unit">visitTryCatchBlock</span><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.protect.start" title="scala.tools.asm.Label">start</a>, <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.protect.end" title="scala.tools.asm.Label">end</a>, <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.protect.handler" title="scala.tools.asm.Label">handler</a>, <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.protect.excInternalName" title="String">excInternalName</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/* `tmp` (if non-null) is the symbol of the local-var used to preserve the result of the try-body, see `guardResult` */</span>
    def <a title="(finalizer: BCodeSyncAndTry.this.global.Tree, tmp: BCodeSyncAndTry.this.global.Symbol, isDuplicate: Boolean)Unit" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.emitFinalizer">emitFinalizer</a><span class="delimiter">(</span><a title="BCodeSyncAndTry.this.global.Tree" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.emitFinalizer.finalizer">finalizer</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="BCodeSyncAndTry.this.global.Tree">Tree</a>, <a title="BCodeSyncAndTry.this.global.Symbol" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.emitFinalizer.tmp">tmp</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="BCodeSyncAndTry.this.global.Symbol">Symbol</a>, <a title="Boolean" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.emitFinalizer.isDuplicate">isDuplicate</a>: <a href="../../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      var <a title="scala.collection.immutable.Map[BCodeSyncAndTry.this.global.Symbol,scala.tools.asm.Label]" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.emitFinalizer.saved">saved</a>: immutable.<a href="../../../../collection/immutable/Map.scala.html#scala.collection.immutable;Map" title="scala.collection.immutable.Map[BCodeSyncAndTry.this.global.Symbol,scala.tools.asm.Label]">Map</a><span class="delimiter">[</span> <span class="comment">/* LabelDef */</span> Symbol, asm.Label <span class="delimiter">]</span> = null
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.emitFinalizer.isDuplicate" title="Boolean">isDuplicate</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.emitFinalizer.saved" title="scala.collection.immutable.Map[BCodeSyncAndTry.this.global.Symbol,scala.tools.asm.Label]">saved</a> = <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.jumpDest" title="=&gt; scala.collection.immutable.Map[BCodeSyncAndTry.this.global.Symbol,scala.tools.asm.Label]">jumpDest</a>
        for<span class="delimiter">(</span><a title="BCodeSyncAndTry.this.global.LabelDef" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.emitFinalizer.$anonfun.ldef">ldef</a> &lt;- <a href="../../../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: BCodeSyncAndTry.this.global.Tree)List[BCodeSyncAndTry.this.global.LabelDef]">labelDefsAtOrUnder</a><a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.foreach" title="(f: BCodeSyncAndTry.this.global.LabelDef =&gt; Unit)Unit" class="delimiter">(</a><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.emitFinalizer.finalizer" title="BCodeSyncAndTry.this.global.Tree">finalizer</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.jumpDest_=" title="(x$1: scala.collection.immutable.Map[BCodeSyncAndTry.this.global.Symbol,scala.tools.asm.Label])Unit">jumpDest</a> <a href="../../../../collection/MapLike.scala.html#scala.collection;MapLike.-(168732680e)" title="(key: BCodeSyncAndTry.this.global.Symbol)scala.collection.immutable.Map[BCodeSyncAndTry.this.global.Symbol,scala.tools.asm.Label]">-=</a> <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.emitFinalizer.$anonfun.ldef" title="BCodeSyncAndTry.this.global.LabelDef">ldef</a>.<a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;SymTree.symbol" title="=&gt; BCodeSyncAndTry.this.global.Symbol">symbol</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="comment">// when duplicating, the above guarantees new asm.Labels are used for LabelDefs contained in the finalizer (their vars are reused, that's ok)</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.emitFinalizer.tmp" title="BCodeSyncAndTry.this.global.Symbol">tmp</a> <span title="(x$1: Any)Boolean">!=</span> null<span class="delimiter">)</span> <span class="delimiter">{</span> <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals" title="SyncAndTryBuilder.this.locals.type">locals</a>.<a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals.store" title="(locSym: BCodeSyncAndTry.this.global.Symbol)Unit">store</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.emitFinalizer.tmp" title="BCodeSyncAndTry.this.global.Symbol">tmp</a><span class="delimiter">)</span> <span class="delimiter">}</span>
      <a href="BCodeBodyBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeBodyBuilder;PlainBodyBuilder.genLoad(4bc76d841c)" title="(tree: BCodeSyncAndTry.this.global.Tree, expectedType: BCodeSyncAndTry.this.bTypes.BType)Unit">genLoad</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.emitFinalizer.finalizer" title="BCodeSyncAndTry.this.global.Tree">finalizer</a>, <a href="BTypes.scala.html#scala.tools.nsc.backend.jvm;BTypes.UNIT" title="BCodeSyncAndTry.this.bTypes.UNIT.type">UNIT</a><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.emitFinalizer.tmp" title="BCodeSyncAndTry.this.global.Symbol">tmp</a> <span title="(x$1: Any)Boolean">!=</span> null<span class="delimiter">)</span> <span class="delimiter">{</span> <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals" title="SyncAndTryBuilder.this.locals.type">locals</a>.<a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.locals.load" title="(locSym: BCodeSyncAndTry.this.global.Symbol)Unit">load</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.emitFinalizer.tmp" title="BCodeSyncAndTry.this.global.Symbol">tmp</a><span class="delimiter">)</span>  <span class="delimiter">}</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.emitFinalizer.isDuplicate" title="Boolean">isDuplicate</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="BCodeSkelBuilder.scala.html#scala.tools.nsc.backend.jvm;BCodeSkelBuilder;PlainSkelBuilder.jumpDest_=" title="(x$1: scala.collection.immutable.Map[BCodeSyncAndTry.this.global.Symbol,scala.tools.asm.Label])Unit">jumpDest</a> = <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.emitFinalizer.saved" title="scala.collection.immutable.Map[BCodeSyncAndTry.this.global.Symbol,scala.tools.asm.Label]">saved</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/* Does this tree have a try-catch block? */</span>
    def <a title="(tree: BCodeSyncAndTry.this.global.Tree)Boolean" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.mayCleanStack">mayCleanStack</a><span class="delimiter">(</span><a title="BCodeSyncAndTry.this.global.Tree" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.mayCleanStack.tree">tree</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="BCodeSyncAndTry.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.mayCleanStack.tree" title="BCodeSyncAndTry.this.global.Tree">tree</a> <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;TreeContextApiImpl.exists" title="(p: BCodeSyncAndTry.this.global.Tree =&gt; Boolean)Boolean">exists</a> <span class="delimiter">{</span> <a title="BCodeSyncAndTry.this.global.Tree" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.mayCleanStack.$anonfun.t">t</a> =&gt; <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.mayCleanStack.$anonfun.t" title="BCodeSyncAndTry.this.global.Tree">t</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Try" title="BCodeSyncAndTry.this.global.Try">Try</a><span class="delimiter">]</span> <span class="delimiter">}</span>

    trait <a title="trait EHClause extends AnyRef" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder;EHClause">EHClause</a>
    case class <a title="class NamelessEH extends AnyRef with SyncAndTryBuilder.this.EHClause with Product with Serializable" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.NamelessEH.readResolve">NamelessEH</a><a href="../../../../Product.scala.html#scala;Product" title="Product" class="delimiter">(</a><a title="BCodeSyncAndTry.this.bTypes.ClassBType" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder;NamelessEH.typeToDrop">typeToDrop</a>: <a href="BTypes.scala.html#scala.tools.nsc.backend.jvm;BTypes;ClassBType" title="BCodeSyncAndTry.this.bTypes.ClassBType">ClassBType</a>,  <a title="BCodeSyncAndTry.this.global.Tree" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder;NamelessEH.caseBody">caseBody</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="BCodeSyncAndTry.this.global.Tree">Tree</a><span class="delimiter">)</span> extends <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder;EHClause" title="SyncAndTryBuilder.this.EHClause">EHClause</a>
    case class <a title="class BoundEH extends AnyRef with SyncAndTryBuilder.this.EHClause with Product with Serializable" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder.BoundEH.readResolve">BoundEH</a>    <a href="../../../../Product.scala.html#scala;Product" title="Product" class="delimiter">(</a><a title="BCodeSyncAndTry.this.global.Symbol" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder;BoundEH.patSymbol">patSymbol</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="BCodeSyncAndTry.this.global.Symbol">Symbol</a>, <a title="BCodeSyncAndTry.this.global.Tree" id="scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder;BoundEH.caseBody">caseBody</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="BCodeSyncAndTry.this.global.Tree">Tree</a><span class="delimiter">)</span> extends <a href="#scala.tools.nsc.backend.jvm;BCodeSyncAndTry;SyncAndTryBuilder;EHClause" title="SyncAndTryBuilder.this.EHClause">EHClause</a>

  <span class="delimiter">}</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>
