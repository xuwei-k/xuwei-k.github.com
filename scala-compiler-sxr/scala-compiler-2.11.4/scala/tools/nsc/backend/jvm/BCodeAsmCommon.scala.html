<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/tools/nsc/backend/jvm/BCodeAsmCommon.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2014 LAMP/EPFL
 * @author  Martin Odersky
 */</span>

package scala.tools.nsc.backend.jvm

import scala.tools.nsc.Global
import <a href="../../../../PartialFunction.scala.html#scala.PartialFunction" title="PartialFunction.type">PartialFunction</a>._

<span class="comment">/**
 * This trait contains code shared between GenBCode and GenASM that depends on types defined in
 * the compiler cake (Global).
 */</span>
final class <a title="class BCodeAsmCommon[G &lt;: scala.tools.nsc.Global] extends AnyRef" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon">BCodeAsmCommon</a><span class="delimiter">[</span><a title=" &lt;: scala.tools.nsc.Global" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon;G">G</a> &lt;: Global<span class="delimiter">]</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon" title="scala.tools.nsc.backend.jvm.BCodeAsmCommon[G]" class="delimiter">(</a>val <a title="G" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.global">global</a>: <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon;G" title="G">G</a><span class="delimiter">)</span> <span class="delimiter">{</span>
  import <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.global" title="=&gt; G">global</a>._
  import <a href="../../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions.definitions" title="BCodeAsmCommon.this.global.definitions.type">definitions</a>._

  val <a title="Long" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.ExcludedForwarderFlags">ExcludedForwarderFlags</a> = <span class="delimiter">{</span>
    import scala.tools.nsc.symtab.<a href="../../symtab/package.scala.html#scala.tools.nsc.symtab.package.Flags" title="=&gt; reflect.internal.Flags.type">Flags</a>._
    <span class="comment">// Should include DEFERRED but this breaks findMember.</span>
    SPECIALIZED | LIFTED | PROTECTED | STATIC | EXPANDEDNAME | BridgeAndPrivateFlags <span title="Long(5583533015045L)">|</span> MACRO
  <span class="delimiter">}</span>

  <span class="comment">/**
   * True if `classSym` is an anonymous class or a local class. I.e., false if `classSym` is a
   * member class. This method is used to decide if we should emit an EnclosingMethod attribute.
   * It is also used to decide whether the &quot;owner&quot; field in the InnerClass attribute should be
   * null.
   */</span>
  def <a title="(classSym: BCodeAsmCommon.this.global.Symbol)Boolean" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.isAnonymousOrLocalClass">isAnonymousOrLocalClass</a><span class="delimiter">(</span><a title="BCodeAsmCommon.this.global.Symbol" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.isAnonymousOrLocalClass.classSym">classSym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="BCodeAsmCommon.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <a href="../../Global.scala.html#scala.tools.nsc;Global.assert(0f40bc559c)" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.isAnonymousOrLocalClass.classSym" title="BCodeAsmCommon.this.global.Symbol">classSym</a>.<a href="../../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isClass" title="=&gt; Boolean">isClass</a>, <a href="../../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;not a class: &quot;)">not a class: $</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.isAnonymousOrLocalClass.classSym" title="BCodeAsmCommon.this.global.Symbol">classSym</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
    <span class="comment">// Here used to be an `assert(!classSym.isDelambdafyFunction)`: delambdafy lambda classes are</span>
    <span class="comment">// always top-level. However, SI-8900 shows an example where the weak name-based implementation</span>
    <span class="comment">// of isDelambdafyFunction failed (for a function declared in a package named &quot;lambda&quot;).</span>
    <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.isAnonymousOrLocalClass.classSym" title="BCodeAsmCommon.this.global.Symbol">classSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isAnonymousClass" title="=&gt; Boolean">isAnonymousClass</a> <a href="../../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="../../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.isAnonymousOrLocalClass.classSym" title="BCodeAsmCommon.this.global.Symbol">classSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.originalOwner" title="=&gt; BCodeAsmCommon.this.global.Symbol">originalOwner</a>.<a href="../../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isClass" title="=&gt; Boolean">isClass</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the enclosing method for non-member classes. In the following example
   *
   * class A {
   *   def f = {
   *     class B {
   *       class C
   *     }
   *   }
   * }
   *
   * the method returns Some(f) for B, but None for C, because C is a member class. For non-member
   * classes that are not enclosed by a method, it returns None:
   *
   * class A {
   *   { class B }
   * }
   *
   * In this case, for B, we return None.
   *
   * The EnclosingMethod attribute needs to be added to non-member classes (see doc in BTypes).
   * This is a source-level property, so we need to use the originalOwner chain to reconstruct it.
   */</span>
  private def <a title="(classSym: BCodeAsmCommon.this.global.Symbol)Option[BCodeAsmCommon.this.global.Symbol]" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodForEnclosingMethodAttribute">enclosingMethodForEnclosingMethodAttribute</a><span class="delimiter">(</span><a title="BCodeAsmCommon.this.global.Symbol" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodForEnclosingMethodAttribute.classSym">classSym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="BCodeAsmCommon.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../Option.scala.html#scala;Option" title="Option[BCodeAsmCommon.this.global.Symbol]">Option</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="../../Global.scala.html#scala.tools.nsc;Global.assert(0f40bc559c)" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodForEnclosingMethodAttribute.classSym" title="BCodeAsmCommon.this.global.Symbol">classSym</a>.<a href="../../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isClass" title="=&gt; Boolean">isClass</a>, <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodForEnclosingMethodAttribute.classSym" title="BCodeAsmCommon.this.global.Symbol">classSym</a><span class="delimiter">)</span>
    def <a title="(sym: BCodeAsmCommon.this.global.Symbol)Option[BCodeAsmCommon.this.global.Symbol]" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodForEnclosingMethodAttribute.enclosingMethod">enclosingMethod</a><span class="delimiter">(</span><a title="BCodeAsmCommon.this.global.Symbol" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodForEnclosingMethodAttribute.enclosingMethod.sym">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="BCodeAsmCommon.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../Option.scala.html#scala;Option" title="Option[BCodeAsmCommon.this.global.Symbol]">Option</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodForEnclosingMethodAttribute.enclosingMethod.sym" title="BCodeAsmCommon.this.global.Symbol">sym</a>.<a href="../../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isClass" title="=&gt; Boolean">isClass</a> <a href="../../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodForEnclosingMethodAttribute.enclosingMethod.sym" title="BCodeAsmCommon.this.global.Symbol">sym</a> <span title="(x$1: Any)Boolean">==</span> <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols.NoSymbol" title="=&gt; BCodeAsmCommon.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="../../../../Option.scala.html#scala.None" title="None.type">None</a>
      else if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodForEnclosingMethodAttribute.enclosingMethod.sym" title="BCodeAsmCommon.this.global.Symbol">sym</a>.<a href="../../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isMethod" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <a href="../../../../Option.scala.html#scala;Some" title="(x: BCodeAsmCommon.this.global.Symbol)Some[BCodeAsmCommon.this.global.Symbol]">Some</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodForEnclosingMethodAttribute.enclosingMethod.sym" title="BCodeAsmCommon.this.global.Symbol">sym</a><span class="delimiter">)</span>
      else <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodForEnclosingMethodAttribute.enclosingMethod" title="(sym: BCodeAsmCommon.this.global.Symbol)Option[BCodeAsmCommon.this.global.Symbol]">enclosingMethod</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodForEnclosingMethodAttribute.enclosingMethod.sym" title="BCodeAsmCommon.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.originalOwner" title="=&gt; BCodeAsmCommon.this.global.Symbol">originalOwner</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodForEnclosingMethodAttribute.enclosingMethod" title="(sym: BCodeAsmCommon.this.global.Symbol)Option[BCodeAsmCommon.this.global.Symbol]">enclosingMethod</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodForEnclosingMethodAttribute.classSym" title="BCodeAsmCommon.this.global.Symbol">classSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.originalOwner" title="=&gt; BCodeAsmCommon.this.global.Symbol">originalOwner</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The enclosing class for emitting the EnclosingMethod attribute. Since this is a source-level
   * property, this method looks at the originalOwner chain. See doc in BTypes.
   */</span>
  private def <a title="(classSym: BCodeAsmCommon.this.global.Symbol)BCodeAsmCommon.this.global.Symbol" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingClassForEnclosingMethodAttribute">enclosingClassForEnclosingMethodAttribute</a><span class="delimiter">(</span><a title="BCodeAsmCommon.this.global.Symbol" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingClassForEnclosingMethodAttribute.classSym">classSym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="BCodeAsmCommon.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="BCodeAsmCommon.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <a href="../../Global.scala.html#scala.tools.nsc;Global.assert(0f40bc559c)" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingClassForEnclosingMethodAttribute.classSym" title="BCodeAsmCommon.this.global.Symbol">classSym</a>.<a href="../../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isClass" title="=&gt; Boolean">isClass</a>, <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingClassForEnclosingMethodAttribute.classSym" title="BCodeAsmCommon.this.global.Symbol">classSym</a><span class="delimiter">)</span>
    def <a title="(sym: BCodeAsmCommon.this.global.Symbol)BCodeAsmCommon.this.global.Symbol" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingClassForEnclosingMethodAttribute.enclosingClass">enclosingClass</a><span class="delimiter">(</span><a title="BCodeAsmCommon.this.global.Symbol" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingClassForEnclosingMethodAttribute.enclosingClass.sym">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="BCodeAsmCommon.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="BCodeAsmCommon.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingClassForEnclosingMethodAttribute.enclosingClass.sym" title="BCodeAsmCommon.this.global.Symbol">sym</a>.<a href="../../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isClass" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingClassForEnclosingMethodAttribute.enclosingClass.sym" title="BCodeAsmCommon.this.global.Symbol">sym</a>
      else <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingClassForEnclosingMethodAttribute.enclosingClass" title="(sym: BCodeAsmCommon.this.global.Symbol)BCodeAsmCommon.this.global.Symbol">enclosingClass</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingClassForEnclosingMethodAttribute.enclosingClass.sym" title="BCodeAsmCommon.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.originalOwner" title="=&gt; BCodeAsmCommon.this.global.Symbol">originalOwner</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingClassForEnclosingMethodAttribute.enclosingClass" title="(sym: BCodeAsmCommon.this.global.Symbol)BCodeAsmCommon.this.global.Symbol">enclosingClass</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingClassForEnclosingMethodAttribute.classSym" title="BCodeAsmCommon.this.global.Symbol">classSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.originalOwner" title="=&gt; BCodeAsmCommon.this.global.Symbol">originalOwner</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  final case class <a title="class EnclosingMethodEntry extends AnyRef with Product with Serializable" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.EnclosingMethodEntry.readResolve">EnclosingMethodEntry</a><a href="../../../../Product.scala.html#scala;Product" title="Product" class="delimiter">(</a><a title="String" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon;EnclosingMethodEntry.owner">owner</a>: <span title="String">String</span>, <a title="String" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon;EnclosingMethodEntry.name">name</a>: <span title="String">String</span>, <a title="String" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon;EnclosingMethodEntry.methodDescriptor">methodDescriptor</a>: <span title="String">String</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Data for emitting an EnclosingMethod attribute. None if `classSym` is a member class (not
   * an anonymous or local class). See doc in BTypes.
   *
   * The class is parametrized by two functions to obtain a bytecode class descriptor for a class
   * symbol, and to obtain a method signature descriptor fro a method symbol. These function depend
   * on the implementation of GenASM / GenBCode, so they need to be passed in.
   */</span>
  def <a title="(classSym: BCodeAsmCommon.this.global.Symbol, classDesc: BCodeAsmCommon.this.global.Symbol =&gt; String, methodDesc: BCodeAsmCommon.this.global.Symbol =&gt; String)Option[BCodeAsmCommon.this.EnclosingMethodEntry]" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodAttribute">enclosingMethodAttribute</a><span class="delimiter">(</span><a title="BCodeAsmCommon.this.global.Symbol" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodAttribute.classSym">classSym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="BCodeAsmCommon.this.global.Symbol">Symbol</a>, <a title="BCodeAsmCommon.this.global.Symbol =&gt; String" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodAttribute.classDesc">classDesc</a>: Symbol =&gt; String, <a title="BCodeAsmCommon.this.global.Symbol =&gt; String" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodAttribute.methodDesc">methodDesc</a>: Symbol =&gt; String<span class="delimiter">)</span>: <a href="../../../../Option.scala.html#scala;Option" title="Option[BCodeAsmCommon.this.EnclosingMethodEntry]">Option</a><span class="delimiter">[</span>EnclosingMethodEntry<span class="delimiter">]</span> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.isAnonymousOrLocalClass" title="(classSym: BCodeAsmCommon.this.global.Symbol)Boolean">isAnonymousOrLocalClass</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodAttribute.classSym" title="BCodeAsmCommon.this.global.Symbol">classSym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      val <a title="Option[BCodeAsmCommon.this.global.Symbol]" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodAttribute.methodOpt">methodOpt</a> = <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodForEnclosingMethodAttribute" title="(classSym: BCodeAsmCommon.this.global.Symbol)Option[BCodeAsmCommon.this.global.Symbol]">enclosingMethodForEnclosingMethodAttribute</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodAttribute.classSym" title="BCodeAsmCommon.this.global.Symbol">classSym</a><span class="delimiter">)</span>
      <a href="../../Global.scala.html#scala.tools.nsc;Global.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;enclosing method for &quot;)">enclosing method for $</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodAttribute.classSym" title="BCodeAsmCommon.this.global.Symbol">classSym</a><span title="String(&quot; is &quot;)"> is $</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodAttribute.methodOpt" title="Option[BCodeAsmCommon.this.global.Symbol]">methodOpt</a><span title="String(&quot; (in &quot;)"> (in $</span><span class="delimiter">{</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodAttribute.methodOpt" title="Option[BCodeAsmCommon.this.global.Symbol]">methodOpt</a>.<a href="../../../../Option.scala.html#scala;Option.map" title="(f: BCodeAsmCommon.this.global.Symbol =&gt; BCodeAsmCommon.this.global.Symbol)Option[BCodeAsmCommon.this.global.Symbol]">map</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodAttribute.$anonfun.x$1" title="BCodeAsmCommon.this.global.Symbol">_</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.enclClass" title="=&gt; BCodeAsmCommon.this.global.Symbol">enclClass</a><span class="delimiter">)</span><span class="delimiter">}</span><span title="String(&quot;)&quot;)" class="string">)&quot;</span><span class="delimiter">)</span>
      <a href="../../../../Option.scala.html#scala;Some" title="(x: BCodeAsmCommon.this.EnclosingMethodEntry)Some[BCodeAsmCommon.this.EnclosingMethodEntry]">Some</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.EnclosingMethodEntry.readResolve" title="(owner: String, name: String, methodDescriptor: String)BCodeAsmCommon.this.EnclosingMethodEntry">EnclosingMethodEntry</a><span class="delimiter">(</span>
        <a href="../../../../Function1.scala.html#scala;Function1.apply" title="(v1: BCodeAsmCommon.this.global.Symbol)String">classDesc</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingClassForEnclosingMethodAttribute" title="(classSym: BCodeAsmCommon.this.global.Symbol)BCodeAsmCommon.this.global.Symbol">enclosingClassForEnclosingMethodAttribute</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodAttribute.classSym" title="BCodeAsmCommon.this.global.Symbol">classSym</a><span class="delimiter">)</span><span class="delimiter">)</span>,
        <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodAttribute.methodOpt" title="Option[BCodeAsmCommon.this.global.Symbol]">methodOpt</a>.<a href="../../../../Option.scala.html#scala;Option.map" title="(f: BCodeAsmCommon.this.global.Symbol =&gt; String)Option[String]">map</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodAttribute.$anonfun.x$2" title="BCodeAsmCommon.this.global.Symbol">_</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.javaSimpleName" title="=&gt; BCodeAsmCommon.this.global.Name">javaSimpleName</a>.<span title="()String">toString</span><span class="delimiter">)</span>.<a href="../../../../Option.scala.html#scala;Option.orNull" title="(implicit ev: &lt;:&lt;[Null,String])String">orNull</a>,
        <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodAttribute.methodOpt" title="Option[BCodeAsmCommon.this.global.Symbol]">methodOpt</a>.<a href="../../../../Option.scala.html#scala;Option.map" title="(f: BCodeAsmCommon.this.global.Symbol =&gt; String)Option[String]">map</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.enclosingMethodAttribute.methodDesc" title="BCodeAsmCommon.this.global.Symbol =&gt; String">methodDesc</a><span class="delimiter">)</span>.<a href="../../../../Option.scala.html#scala;Option.orNull" title="(implicit ev: &lt;:&lt;[Null,String])String">orNull</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> else <span class="delimiter">{</span>
      <a href="../../../../Option.scala.html#scala.None" title="None.type">None</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * This is basically a re-implementation of sym.isStaticOwner, but using the originalOwner chain.
   *
   * The problem is that we are interested in a source-level property. Various phases changed the
   * symbol's properties in the meantime, mostly lambdalift modified (destructively) the owner.
   * Therefore, `sym.isStatic` is not what we want. For example, in
   *   object T { def f { object U } }
   * the owner of U is T, so UModuleClass.isStatic is true. Phase travel does not help here.
   */</span>
  def <a title="(sym: BCodeAsmCommon.this.global.Symbol)Boolean" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.isOriginallyStaticOwner">isOriginallyStaticOwner</a><span class="delimiter">(</span><a title="BCodeAsmCommon.this.global.Symbol" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.isOriginallyStaticOwner.sym">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="BCodeAsmCommon.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.isOriginallyStaticOwner.sym" title="BCodeAsmCommon.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isPackageClass" title="=&gt; Boolean">isPackageClass</a> <a href="../../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.isOriginallyStaticOwner.sym" title="BCodeAsmCommon.this.global.Symbol">sym</a>.<a href="../../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isModuleClass" title="=&gt; Boolean">isModuleClass</a> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.isOriginallyStaticOwner" title="(sym: BCodeAsmCommon.this.global.Symbol)Boolean">isOriginallyStaticOwner</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.isOriginallyStaticOwner.sym" title="BCodeAsmCommon.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.originalOwner" title="=&gt; BCodeAsmCommon.this.global.Symbol">originalOwner</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The member classes of a class symbol. Note that the result of this method depends on the
   * current phase, for example, after lambdalift, all local classes become member of the enclosing
   * class.
   */</span>
  def <a title="(classSymbol: BCodeAsmCommon.this.global.Symbol)List[BCodeAsmCommon.this.global.Symbol]" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.memberClassesOf">memberClassesOf</a><span class="delimiter">(</span><a title="BCodeAsmCommon.this.global.Symbol" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.memberClassesOf.classSymbol">classSymbol</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="BCodeAsmCommon.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[BCodeAsmCommon.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.memberClassesOf.classSymbol" title="BCodeAsmCommon.this.global.Symbol">classSymbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.info" title="=&gt; BCodeAsmCommon.this.global.Type">info</a>.<a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.decls" title="=&gt; BCodeAsmCommon.this.global.Scope">decls</a>.<a href="../../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.collect" title="(pf: PartialFunction[BCodeAsmCommon.this.global.Symbol,BCodeAsmCommon.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[BCodeAsmCommon.this.global.Symbol],BCodeAsmCommon.this.global.Symbol,List[BCodeAsmCommon.this.global.Symbol]])List[BCodeAsmCommon.this.global.Symbol]">collect</a><span class="delimiter">(</span><a title="&lt;$anon: BCodeAsmCommon.this.global.Symbol =&gt; BCodeAsmCommon.this.global.Symbol&gt; extends scala.runtime.AbstractPartialFunction[BCodeAsmCommon.this.global.Symbol,BCodeAsmCommon.this.global.Symbol] with Serializable" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.memberClassesOf;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    case <span title="BCodeAsmCommon.this.global.Symbol">sym</span> if <span title="BCodeAsmCommon.this.global.Symbol">sym</span>.<a href="../../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isClass" title="=&gt; Boolean">isClass</a> =&gt;
      <span title="BCodeAsmCommon.this.global.Symbol">sym</span>
    case <span title="BCodeAsmCommon.this.global.Symbol">sym</span> if <span title="BCodeAsmCommon.this.global.Symbol">sym</span>.<a href="../../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isModule" title="=&gt; Boolean">isModule</a> =&gt;
      val <a title="BCodeAsmCommon.this.global.Symbol" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.memberClassesOf;$anonfun.applyOrElse.r">r</a> = <a href="../../Global.scala.html#scala.tools.nsc;Global.exitingPickler" title="(op: =&gt; BCodeAsmCommon.this.global.Symbol)BCodeAsmCommon.this.global.Symbol">exitingPickler</a><span class="delimiter">(</span><span title="BCodeAsmCommon.this.global.Symbol">sym</span>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.moduleClass" title="=&gt; BCodeAsmCommon.this.global.Symbol">moduleClass</a><span class="delimiter">)</span>
      <a href="../../Global.scala.html#scala.tools.nsc;Global.assert(0f40bc559c)" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.memberClassesOf;$anonfun.applyOrElse.r" title="BCodeAsmCommon.this.global.Symbol">r</a> <span title="(x$1: Any)Boolean">!=</span> <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols.NoSymbol" title="=&gt; BCodeAsmCommon.this.global.NoSymbol">NoSymbol</a>, <span title="BCodeAsmCommon.this.global.Symbol">sym</span>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.fullLocationString" title="=&gt; String">fullLocationString</a><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.memberClassesOf;$anonfun.applyOrElse.r" title="BCodeAsmCommon.this.global.Symbol">r</a>
  <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">(</span>collection.<a href="../../../../collection/package.scala.html#scala.collection.package.breakOut" title="(implicit b: scala.collection.generic.CanBuildFrom[Nothing,BCodeAsmCommon.this.global.Symbol,List[BCodeAsmCommon.this.global.Symbol]])scala.collection.generic.CanBuildFrom[Iterable[BCodeAsmCommon.this.global.Symbol],BCodeAsmCommon.this.global.Symbol,List[BCodeAsmCommon.this.global.Symbol]]">breakOut</a><span class="delimiter">)</span>

  lazy val <a title="BCodeAsmCommon.this.global.Symbol" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.AnnotationRetentionPolicyModule">AnnotationRetentionPolicyModule</a>       = <a href="../../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.AnnotationRetentionPolicyAttr" title="=&gt; BCodeAsmCommon.this.global.ClassSymbol">AnnotationRetentionPolicyAttr</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;ClassSymbol.companionModule" title="=&gt; BCodeAsmCommon.this.global.Symbol">companionModule</a>
  lazy val <a title="BCodeAsmCommon.this.global.Symbol" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.AnnotationRetentionPolicySourceValue">AnnotationRetentionPolicySourceValue</a>  = <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.AnnotationRetentionPolicyModule" title="=&gt; BCodeAsmCommon.this.global.Symbol">AnnotationRetentionPolicyModule</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.tpe" title="=&gt; BCodeAsmCommon.this.global.Type">tpe</a>.<a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.member" title="(name: BCodeAsmCommon.this.global.Name)BCodeAsmCommon.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Names.scala.html#scala.reflect.internal;Names.TermName.apply" title="(s: String)BCodeAsmCommon.this.global.TermName">TermName</a><span class="delimiter">(</span><span title="String(&quot;SOURCE&quot;)" class="string">&quot;SOURCE&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
  lazy val <a title="BCodeAsmCommon.this.global.Symbol" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.AnnotationRetentionPolicyClassValue">AnnotationRetentionPolicyClassValue</a>   = <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.AnnotationRetentionPolicyModule" title="=&gt; BCodeAsmCommon.this.global.Symbol">AnnotationRetentionPolicyModule</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.tpe" title="=&gt; BCodeAsmCommon.this.global.Type">tpe</a>.<a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.member" title="(name: BCodeAsmCommon.this.global.Name)BCodeAsmCommon.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Names.scala.html#scala.reflect.internal;Names.TermName.apply" title="(s: String)BCodeAsmCommon.this.global.TermName">TermName</a><span class="delimiter">(</span><span title="String(&quot;CLASS&quot;)" class="string">&quot;CLASS&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
  lazy val <a title="BCodeAsmCommon.this.global.Symbol" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.AnnotationRetentionPolicyRuntimeValue">AnnotationRetentionPolicyRuntimeValue</a> = <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.AnnotationRetentionPolicyModule" title="=&gt; BCodeAsmCommon.this.global.Symbol">AnnotationRetentionPolicyModule</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.tpe" title="=&gt; BCodeAsmCommon.this.global.Type">tpe</a>.<a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.member" title="(name: BCodeAsmCommon.this.global.Name)BCodeAsmCommon.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Names.scala.html#scala.reflect.internal;Names.TermName.apply" title="(s: String)BCodeAsmCommon.this.global.TermName">TermName</a><span class="delimiter">(</span><span title="String(&quot;RUNTIME&quot;)" class="string">&quot;RUNTIME&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Whether an annotation should be emitted as a Java annotation
    * .initialize: if 'annot' is read from pickle, atp might be un-initialized
    */</span>
  def <a title="(annot: BCodeAsmCommon.this.global.AnnotationInfo)Boolean" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.shouldEmitAnnotation">shouldEmitAnnotation</a><span class="delimiter">(</span><a title="BCodeAsmCommon.this.global.AnnotationInfo" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.shouldEmitAnnotation.annot">annot</a>: <a href="../../../../reflect/internal/AnnotationInfos.scala.html#scala.reflect.internal;AnnotationInfos;AnnotationInfo" title="BCodeAsmCommon.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.shouldEmitAnnotation.annot" title="BCodeAsmCommon.this.global.AnnotationInfo">annot</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#scala.reflect.internal;AnnotationInfos;AnnotationInfo.symbol" title="=&gt; BCodeAsmCommon.this.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.initialize" title="=&gt; BCodeAsmCommon.this.global.Symbol">initialize</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#scala.reflect.internal;HasFlags.isJavaDefined" title="=&gt; Boolean">isJavaDefined</a> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.shouldEmitAnnotation.annot" title="BCodeAsmCommon.this.global.AnnotationInfo">annot</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#scala.reflect.internal;AnnotationInfos;AnnotationInfo.matches" title="(clazz: BCodeAsmCommon.this.global.Symbol)Boolean">matches</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.ClassfileAnnotationClass" title="=&gt; BCodeAsmCommon.this.global.ClassSymbol">ClassfileAnnotationClass</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.retentionPolicyOf" title="(annot: BCodeAsmCommon.this.global.AnnotationInfo)BCodeAsmCommon.this.global.Symbol">retentionPolicyOf</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.shouldEmitAnnotation.annot" title="BCodeAsmCommon.this.global.AnnotationInfo">annot</a><span class="delimiter">)</span> <span title="(x$1: Any)Boolean">!=</span> <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.AnnotationRetentionPolicySourceValue" title="=&gt; BCodeAsmCommon.this.global.Symbol">AnnotationRetentionPolicySourceValue</a> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.shouldEmitAnnotation.annot" title="BCodeAsmCommon.this.global.AnnotationInfo">annot</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#scala.reflect.internal;AnnotationInfos;AnnotationInfo.args" title="=&gt; List[BCodeAsmCommon.this.global.Tree]">args</a>.<a href="../../../../collection/SeqLike.scala.html#scala.collection;SeqLike.isEmpty" title="=&gt; Boolean">isEmpty</a>
  <span class="delimiter">}</span>

  def <a title="(annot: BCodeAsmCommon.this.global.AnnotationInfo)Boolean" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.isRuntimeVisible">isRuntimeVisible</a><span class="delimiter">(</span><a title="BCodeAsmCommon.this.global.AnnotationInfo" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.isRuntimeVisible.annot">annot</a>: <a href="../../../../reflect/internal/AnnotationInfos.scala.html#scala.reflect.internal;AnnotationInfos;AnnotationInfo" title="BCodeAsmCommon.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">)</span>: <a href="../../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.isRuntimeVisible.annot" title="BCodeAsmCommon.this.global.AnnotationInfo">annot</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#scala.reflect.internal;AnnotationInfos;AnnotationInfo.atp" title="=&gt; BCodeAsmCommon.this.global.Type">atp</a>.<a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.typeSymbol" title="=&gt; BCodeAsmCommon.this.global.Symbol">typeSymbol</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#scala.reflect.internal;AnnotationInfos;Annotatable.getAnnotation" title="(cls: BCodeAsmCommon.this.global.Symbol)Option[BCodeAsmCommon.this.global.AnnotationInfo]">getAnnotation</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.AnnotationRetentionAttr" title="=&gt; BCodeAsmCommon.this.global.ClassSymbol">AnnotationRetentionAttr</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case Some<span class="delimiter">(</span><a title="BCodeAsmCommon.this.global.AnnotationInfo" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.isRuntimeVisible.retentionAnnot">retentionAnnot</a><span class="delimiter">)</span> =&gt;
        <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.isRuntimeVisible.retentionAnnot" title="BCodeAsmCommon.this.global.AnnotationInfo">retentionAnnot</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#scala.reflect.internal;AnnotationInfos;AnnotationInfo.assocs" title="=&gt; List[(BCodeAsmCommon.this.global.Name, BCodeAsmCommon.this.global.ClassfileAnnotArg)]">assocs</a>.<a href="../../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.contains" title="(elem: (BCodeAsmCommon.this.global.Name, BCodeAsmCommon.this.global.ClassfileAnnotArg))Boolean">contains</a><span class="delimiter">(</span><a href="../../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="BCodeAsmCommon.this.global.nme.type">nme</a>.<a href="../../../../Predef.scala.html#scala.Predef.ArrowAssoc(fefc64a42a)" title="(self: BCodeAsmCommon.this.global.nme.NameType)ArrowAssoc[BCodeAsmCommon.this.global.nme.NameType]">value</a> <a href="../../../../Predef.scala.html#scala.Predef;ArrowAssoc.->" title="(y: BCodeAsmCommon.this.global.LiteralAnnotArg)(BCodeAsmCommon.this.global.nme.NameType, BCodeAsmCommon.this.global.LiteralAnnotArg)">-&gt;</a> <a href="../../../../reflect/internal/AnnotationInfos.scala.html#scala.reflect.internal;AnnotationInfos;LiteralAnnotArg" title="(const: BCodeAsmCommon.this.global.Constant)BCodeAsmCommon.this.global.LiteralAnnotArg">LiteralAnnotArg</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Constants.scala.html#scala.reflect.internal;Constants;Constant" title="(value: Any)BCodeAsmCommon.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.AnnotationRetentionPolicyRuntimeValue" title="=&gt; BCodeAsmCommon.this.global.Symbol">AnnotationRetentionPolicyRuntimeValue</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      case _ =&gt;
        <span class="comment">// SI-8926: if the annotation class symbol doesn't have a @RetentionPolicy annotation, the</span>
        <span class="comment">// annotation is emitted with visibility `RUNTIME`</span>
        true
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  private def <a title="(annot: BCodeAsmCommon.this.global.AnnotationInfo)BCodeAsmCommon.this.global.Symbol" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.retentionPolicyOf">retentionPolicyOf</a><span class="delimiter">(</span><a title="BCodeAsmCommon.this.global.AnnotationInfo" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.retentionPolicyOf.annot">annot</a>: <a href="../../../../reflect/internal/AnnotationInfos.scala.html#scala.reflect.internal;AnnotationInfos;AnnotationInfo" title="BCodeAsmCommon.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="BCodeAsmCommon.this.global.Symbol">Symbol</a> =
    <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.retentionPolicyOf.annot" title="BCodeAsmCommon.this.global.AnnotationInfo">annot</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#scala.reflect.internal;AnnotationInfos;AnnotationInfo.atp" title="=&gt; BCodeAsmCommon.this.global.Type">atp</a>.<a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.typeSymbol" title="=&gt; BCodeAsmCommon.this.global.Symbol">typeSymbol</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#scala.reflect.internal;AnnotationInfos;Annotatable.getAnnotation" title="(cls: BCodeAsmCommon.this.global.Symbol)Option[BCodeAsmCommon.this.global.AnnotationInfo]">getAnnotation</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.AnnotationRetentionAttr" title="=&gt; BCodeAsmCommon.this.global.ClassSymbol">AnnotationRetentionAttr</a><span class="delimiter">)</span>.<a href="../../../../Option.scala.html#scala;Option.map" title="(f: BCodeAsmCommon.this.global.AnnotationInfo =&gt; List[(BCodeAsmCommon.this.global.Name, BCodeAsmCommon.this.global.ClassfileAnnotArg)])Option[List[(BCodeAsmCommon.this.global.Name, BCodeAsmCommon.this.global.ClassfileAnnotArg)]]">map</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.retentionPolicyOf.$anonfun.x$3" title="BCodeAsmCommon.this.global.AnnotationInfo">_</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#scala.reflect.internal;AnnotationInfos;AnnotationInfo.assocs" title="=&gt; List[(BCodeAsmCommon.this.global.Name, BCodeAsmCommon.this.global.ClassfileAnnotArg)]">assocs</a><span class="delimiter">)</span>.<a href="../../../../Option.scala.html#scala;Option.map" title="(f: List[(BCodeAsmCommon.this.global.Name, BCodeAsmCommon.this.global.ClassfileAnnotArg)] =&gt; Option[BCodeAsmCommon.this.global.Symbol])Option[Option[BCodeAsmCommon.this.global.Symbol]]">map</a><span class="delimiter">(</span><a title="List[(BCodeAsmCommon.this.global.Name, BCodeAsmCommon.this.global.ClassfileAnnotArg)]" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.retentionPolicyOf.$anonfun.assoc">assoc</a> =&gt;
      <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.retentionPolicyOf.$anonfun.assoc" title="List[(BCodeAsmCommon.this.global.Name, BCodeAsmCommon.this.global.ClassfileAnnotArg)]">assoc</a>.<a href="../../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.collectFirst" title="(pf: PartialFunction[(BCodeAsmCommon.this.global.Name, BCodeAsmCommon.this.global.ClassfileAnnotArg),BCodeAsmCommon.this.global.Symbol])Option[BCodeAsmCommon.this.global.Symbol]">collectFirst</a> <a title="&lt;$anon: ((BCodeAsmCommon.this.global.Name, BCodeAsmCommon.this.global.ClassfileAnnotArg)) =&gt; BCodeAsmCommon.this.global.Symbol&gt; extends scala.runtime.AbstractPartialFunction[(BCodeAsmCommon.this.global.Name, BCodeAsmCommon.this.global.ClassfileAnnotArg),BCodeAsmCommon.this.global.Symbol] with Serializable" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.retentionPolicyOf.$anonfun;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
        case <span class="delimiter">(</span><a href="../../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="BCodeAsmCommon.this.global.nme.type">`nme`</a>.<a href="../../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.value" title="=&gt; BCodeAsmCommon.this.global.nme.NameType">value</a>, LiteralAnnotArg<span class="delimiter">(</span>Constant<span class="delimiter">(</span><a title="BCodeAsmCommon.this.global.Symbol" id="scala.tools.nsc.backend.jvm;BCodeAsmCommon.retentionPolicyOf.$anonfun;$anonfun.isDefinedAt.value">value</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="BCodeAsmCommon.this.global.Symbol">Symbol</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.retentionPolicyOf.$anonfun;$anonfun.isDefinedAt.value" title="BCodeAsmCommon.this.global.Symbol">value</a>
      <span class="delimiter">}</span><span class="delimiter">)</span>.<a href="../../../../Option.scala.html#scala;Option.flatten" title="(implicit ev: &lt;:&lt;[Option[BCodeAsmCommon.this.global.Symbol],Option[BCodeAsmCommon.this.global.Symbol]])Option[BCodeAsmCommon.this.global.Symbol]">flatten</a>.<a href="../../../../Option.scala.html#scala;Option.getOrElse" title="(default: =&gt; BCodeAsmCommon.this.global.Symbol)BCodeAsmCommon.this.global.Symbol">getOrElse</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.jvm;BCodeAsmCommon.AnnotationRetentionPolicyClassValue" title="=&gt; BCodeAsmCommon.this.global.Symbol">AnnotationRetentionPolicyClassValue</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
