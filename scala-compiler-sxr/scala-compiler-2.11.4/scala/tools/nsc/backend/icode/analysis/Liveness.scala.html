<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/tools/nsc/backend/icode/analysis/Liveness.scala</title>
        <script type="text/javascript" src="../../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2013 LAMP/EPFL
 * @author  Martin Odersky
 */</span>


package scala.tools.nsc
package backend.icode
package analysis

import scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
import immutable.ListSet

<span class="comment">/**
 * Compute liveness information for local variables.
 *
 * @author Iulian Dragos
 */</span>
abstract class <a title="class Liveness extends AnyRef" id="scala.tools.nsc.backend.icode.analysis;Liveness">Liveness</a> <a href="#scala.tools.nsc.backend.icode.analysis;Liveness" title="scala.tools.nsc.backend.icode.analysis.Liveness" class="delimiter">{</a>
  val <a title="=&gt; scala.tools.nsc.Global" id="scala.tools.nsc.backend.icode.analysis;Liveness.global">global</a>: <a href="../../../Global.scala.html#scala.tools.nsc;Global" title="scala.tools.nsc.Global">Global</a>
  import <a href="#scala.tools.nsc.backend.icode.analysis;Liveness.global" title="=&gt; scala.tools.nsc.Global">global</a>._
  import <a href="../../../Global.scala.html#scala.tools.nsc;Global.icodes" title="Liveness.this.global.icodes.type">icodes</a>._

  <span class="comment">/** The lattice for this analysis.   */</span>
  object <a title="Liveness.this.livenessLattice.type" id="scala.tools.nsc.backend.icode.analysis;Liveness.livenessLattice">livenessLattice</a> extends <a href="SemiLattice.scala.html#scala.tools.nsc.backend.icode.analysis;SemiLattice" title="scala.tools.nsc.backend.icode.analysis.SemiLattice">SemiLattice</a> <span class="delimiter">{</span>
    type <a title="Set[Liveness.this.global.icodes.Local]" id="scala.tools.nsc.backend.icode.analysis;Liveness.livenessLattice;Elem">Elem</a> = <a href="../../../../../collection/immutable/Set.scala.html#scala.collection.immutable;Set" title="Set[Liveness.this.global.icodes.Local]">Set</a><span class="delimiter">[</span>Local<span class="delimiter">]</span>

    object <a title="scala.tools.nsc.backend.icode.analysis.Liveness.livenessLattice.top.type" id="scala.tools.nsc.backend.icode.analysis;Liveness.livenessLattice.top.readResolve">top</a> extends <a href="../../../../../collection/immutable/ListSet.scala.html#scala.collection.immutable;ListSet" title="scala.collection.immutable.ListSet[Liveness.this.global.icodes.Local]">ListSet</a><span class="delimiter">[</span>Local<span class="delimiter">]</span> with <a href="../Members.scala.html#scala.tools.nsc.backend.icode;ReferenceEquality" title="scala.tools.nsc.backend.icode.ReferenceEquality">ReferenceEquality</a>
    object <a title="scala.tools.nsc.backend.icode.analysis.Liveness.livenessLattice.bottom.type" id="scala.tools.nsc.backend.icode.analysis;Liveness.livenessLattice.bottom.readResolve">bottom</a> extends <a href="../../../../../collection/immutable/ListSet.scala.html#scala.collection.immutable;ListSet" title="scala.collection.immutable.ListSet[Liveness.this.global.icodes.Local]">ListSet</a><span class="delimiter">[</span>Local<span class="delimiter">]</span> with <a href="../Members.scala.html#scala.tools.nsc.backend.icode;ReferenceEquality" title="scala.tools.nsc.backend.icode.ReferenceEquality">ReferenceEquality</a>

    def <a title="(exceptional: Boolean)(a: scala.tools.nsc.backend.icode.analysis.Liveness.livenessLattice.Elem, b: scala.tools.nsc.backend.icode.analysis.Liveness.livenessLattice.Elem)scala.tools.nsc.backend.icode.analysis.Liveness.livenessLattice.Elem" id="scala.tools.nsc.backend.icode.analysis;Liveness.livenessLattice.lub2">lub2</a><span class="delimiter">(</span><a title="Boolean" id="scala.tools.nsc.backend.icode.analysis;Liveness.livenessLattice.lub2.exceptional">exceptional</a>: <a href="../../../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="scala.tools.nsc.backend.icode.analysis.Liveness.livenessLattice.Elem" id="scala.tools.nsc.backend.icode.analysis;Liveness.livenessLattice.lub2.a">a</a>: <a href="../../../../../collection/immutable/Set.scala.html#scala.collection.immutable;Set" title="scala.tools.nsc.backend.icode.analysis.Liveness.livenessLattice.Elem">Elem</a>, <a title="scala.tools.nsc.backend.icode.analysis.Liveness.livenessLattice.Elem" id="scala.tools.nsc.backend.icode.analysis;Liveness.livenessLattice.lub2.b">b</a>: <a href="../../../../../collection/immutable/Set.scala.html#scala.collection.immutable;Set" title="scala.tools.nsc.backend.icode.analysis.Liveness.livenessLattice.Elem">Elem</a><span class="delimiter">)</span>: <a href="../../../../../collection/immutable/Set.scala.html#scala.collection.immutable;Set" title="scala.tools.nsc.backend.icode.analysis.Liveness.livenessLattice.Elem">Elem</a> = <a href="#scala.tools.nsc.backend.icode.analysis;Liveness.livenessLattice.lub2.a" title="scala.tools.nsc.backend.icode.analysis.Liveness.livenessLattice.Elem">a</a> <a href="../../../../../collection/SetLike.scala.html#scala.collection;SetLike.++(07e1553119)" title="(elems: scala.collection.GenTraversableOnce[Liveness.this.global.icodes.Local])scala.collection.immutable.Set[Liveness.this.global.icodes.Local]">++</a> <a href="#scala.tools.nsc.backend.icode.analysis;Liveness.livenessLattice.lub2.b" title="scala.tools.nsc.backend.icode.analysis.Liveness.livenessLattice.Elem">b</a>
  <span class="delimiter">}</span>

  final class <a title="class LivenessAnalysis extends AnyRef with scala.tools.nsc.backend.icode.analysis.DataFlowAnalysis[Liveness.this.livenessLattice.type]" id="scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis">LivenessAnalysis</a> extends <a href="DataFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;DataFlowAnalysis" title="scala.tools.nsc.backend.icode.analysis.DataFlowAnalysis[Liveness.this.livenessLattice.type]">DataFlowAnalysis</a><span class="delimiter">[</span>livenessLattice.type<span class="delimiter">]</span> <span class="delimiter">{</span>
    type <a title="Liveness.this.global.icodes.BasicBlock" id="scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis;P">P</a> = <a href="../BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock" title="Liveness.this.global.icodes.BasicBlock">BasicBlock</a>
    val <a title="Liveness.this.livenessLattice.type" id="scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.lattice">lattice</a>                                   = <a href="#scala.tools.nsc.backend.icode.analysis;Liveness.livenessLattice" title="Liveness.this.livenessLattice.type">livenessLattice</a>
    var <a title="Liveness.this.global.icodes.IMethod" id="scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.method_=">method</a>: <a href="../Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod" title="Liveness.this.global.icodes.IMethod">IMethod</a>                           = _
    val <a title="scala.collection.mutable.Map[Liveness.this.global.icodes.BasicBlock,Set[Liveness.this.global.icodes.Local]]" id="scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.gen">gen</a>: mutable.<a href="../../../../../collection/mutable/Map.scala.html#scala.collection.mutable;Map" title="scala.collection.mutable.Map[Liveness.this.global.icodes.BasicBlock,Set[Liveness.this.global.icodes.Local]]">Map</a><span class="delimiter">[</span>BasicBlock, Set<span class="delimiter">[</span>Local<span class="delimiter">]</span><span class="delimiter">]</span>  = <a href="../../../../../reflect/internal/SymbolTable.scala.html#scala.reflect.internal;SymbolTable.perRunCaches" title="Liveness.this.global.perRunCaches.type">perRunCaches</a>.<a href="../../../../../reflect/internal/SymbolTable.scala.html#scala.reflect.internal;SymbolTable.perRunCaches.newMap" title="()scala.collection.mutable.HashMap[Liveness.this.global.icodes.BasicBlock,Set[Liveness.this.global.icodes.Local]]">newMap</a><span class="delimiter">(</span><span class="delimiter">)</span>
    val <a title="scala.collection.mutable.Map[Liveness.this.global.icodes.BasicBlock,Set[Liveness.this.global.icodes.Local]]" id="scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.kill">kill</a>: mutable.<a href="../../../../../collection/mutable/Map.scala.html#scala.collection.mutable;Map" title="scala.collection.mutable.Map[Liveness.this.global.icodes.BasicBlock,Set[Liveness.this.global.icodes.Local]]">Map</a><span class="delimiter">[</span>BasicBlock, Set<span class="delimiter">[</span>Local<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="../../../../../reflect/internal/SymbolTable.scala.html#scala.reflect.internal;SymbolTable.perRunCaches" title="Liveness.this.global.perRunCaches.type">perRunCaches</a>.<a href="../../../../../reflect/internal/SymbolTable.scala.html#scala.reflect.internal;SymbolTable.perRunCaches.newMap" title="()scala.collection.mutable.HashMap[Liveness.this.global.icodes.BasicBlock,Set[Liveness.this.global.icodes.Local]]">newMap</a><span class="delimiter">(</span><span class="delimiter">)</span>

    def <a title="(m: Liveness.this.global.icodes.IMethod)Unit" id="scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.init(0b4449db73)">init</a><span class="delimiter">(</span><a title="Liveness.this.global.icodes.IMethod" id="scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.init(0b4449db73).m">m</a>: <a href="../Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod" title="Liveness.this.global.icodes.IMethod">IMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      this.<a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.method_=" title="(x$1: Liveness.this.global.icodes.IMethod)Unit">method</a> = <a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.init(0b4449db73).m" title="Liveness.this.global.icodes.IMethod">m</a>
      <a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.gen" title="=&gt; scala.collection.mutable.Map[Liveness.this.global.icodes.BasicBlock,Set[Liveness.this.global.icodes.Local]]">gen</a>.<a href="../../../../../collection/mutable/MapLike.scala.html#scala.collection.mutable;MapLike.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.kill" title="=&gt; scala.collection.mutable.Map[Liveness.this.global.icodes.BasicBlock,Set[Liveness.this.global.icodes.Local]]">kill</a>.<a href="../../../../../collection/mutable/MapLike.scala.html#scala.collection.mutable;MapLike.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>

      <a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.init(0b4449db73).m" title="Liveness.this.global.icodes.IMethod">m</a> <a href="../Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.foreachBlock" title="(f: Liveness.this.global.icodes.BasicBlock =&gt; scala.collection.mutable.Map[Liveness.this.global.icodes.BasicBlock,Set[Liveness.this.global.icodes.Local]])Unit">foreachBlock</a> <span class="delimiter">{</span> <span title="Liveness.this.global.icodes.BasicBlock">b</span> =&gt;
        val <a href="../../../../../Tuple2.scala.html#scala;Tuple2" title="(Set[Liveness.this.global.icodes.Local], Set[Liveness.this.global.icodes.Local])" class="delimiter">(</a><a href="../../../../../Tuple2.scala.html#scala;Tuple2._1" title="Set[Liveness.this.global.icodes.Local]" id="scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.init(0b4449db73).$anonfun.g">g</a>, <a href="../../../../../Tuple2.scala.html#scala;Tuple2._2" title="Set[Liveness.this.global.icodes.Local]" id="scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.init(0b4449db73).$anonfun.k">k</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.genAndKill" title="(b: Liveness.this.global.icodes.BasicBlock)(Set[Liveness.this.global.icodes.Local], Set[Liveness.this.global.icodes.Local])">genAndKill</a><a href="../../../../../Tuple2.scala.html#scala;Tuple2" title="(Set[Liveness.this.global.icodes.Local], Set[Liveness.this.global.icodes.Local]) @unchecked" class="delimiter">(</a><span title="Liveness.this.global.icodes.BasicBlock">b</span><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.gen" title="=&gt; scala.collection.mutable.Map[Liveness.this.global.icodes.BasicBlock,Set[Liveness.this.global.icodes.Local]]">gen</a>  <a href="../../../../../collection/mutable/MapLike.scala.html#scala.collection.mutable;MapLike.+=(71a5850576)" title="(kv: (Liveness.this.global.icodes.BasicBlock, Set[Liveness.this.global.icodes.Local]))LivenessAnalysis.this.gen.type">+=</a> <span class="delimiter">(</span><a href="../../../../../Predef.scala.html#scala.Predef.ArrowAssoc(fefc64a42a)" title="(self: Liveness.this.global.icodes.BasicBlock)ArrowAssoc[Liveness.this.global.icodes.BasicBlock]">b</a> <a href="../../../../../Predef.scala.html#scala.Predef;ArrowAssoc.->" title="(y: Set[Liveness.this.global.icodes.Local])(Liveness.this.global.icodes.BasicBlock, Set[Liveness.this.global.icodes.Local])">-&gt;</a> <a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.init(0b4449db73).$anonfun.g" title="Set[Liveness.this.global.icodes.Local]">g</a><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.kill" title="=&gt; scala.collection.mutable.Map[Liveness.this.global.icodes.BasicBlock,Set[Liveness.this.global.icodes.Local]]">kill</a> <a href="../../../../../collection/mutable/MapLike.scala.html#scala.collection.mutable;MapLike.+=(71a5850576)" title="(kv: (Liveness.this.global.icodes.BasicBlock, Set[Liveness.this.global.icodes.Local]))LivenessAnalysis.this.kill.type">+=</a> <span class="delimiter">(</span><a href="../../../../../Predef.scala.html#scala.Predef.ArrowAssoc(fefc64a42a)" title="(self: Liveness.this.global.icodes.BasicBlock)ArrowAssoc[Liveness.this.global.icodes.BasicBlock]">b</a> <a href="../../../../../Predef.scala.html#scala.Predef;ArrowAssoc.->" title="(y: Set[Liveness.this.global.icodes.Local])(Liveness.this.global.icodes.BasicBlock, Set[Liveness.this.global.icodes.Local])">-&gt;</a> <a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.init(0b4449db73).$anonfun.k" title="Set[Liveness.this.global.icodes.Local]">k</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="DataFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;DataFlowAnalysis.init" title="(f: =&gt; Unit)Unit">init</a> <span class="delimiter">{</span>
        <a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.init(0b4449db73).m" title="Liveness.this.global.icodes.IMethod">m</a> <a href="../Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.foreachBlock" title="(f: Liveness.this.global.icodes.BasicBlock =&gt; Unit)Unit">foreachBlock</a> <span class="delimiter">{</span> <span title="Liveness.this.global.icodes.BasicBlock">b</span> =&gt;
          <a href="DataFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;DataFlowAnalysis.worklist" title="=&gt; scala.collection.mutable.Set[LivenessAnalysis.this.P]">worklist</a> <a href="../../../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.+=(70ec98e56e)" title="(elem: LivenessAnalysis.this.P)LivenessAnalysis.this.worklist.type">+=</a> <span title="Liveness.this.global.icodes.BasicBlock">b</span>
          <a href="../../../../../collection/mutable/MapLike.scala.html#scala.collection.mutable;MapLike.update" title="(key: LivenessAnalysis.this.P, value: LivenessAnalysis.this.lattice.Elem)Unit">in</a><span class="delimiter">(</span><span title="Liveness.this.global.icodes.BasicBlock">b</span><span class="delimiter">)</span>  = <a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.lattice" title="=&gt; Liveness.this.livenessLattice.type">lattice</a>.<a href="#scala.tools.nsc.backend.icode.analysis;Liveness.livenessLattice.bottom.readResolve" title="LivenessAnalysis.this.lattice.bottom.type">bottom</a>
          <a href="../../../../../collection/mutable/MapLike.scala.html#scala.collection.mutable;MapLike.update" title="(key: LivenessAnalysis.this.P, value: LivenessAnalysis.this.lattice.Elem)Unit">out</a><span class="delimiter">(</span><span title="Liveness.this.global.icodes.BasicBlock">b</span><span class="delimiter">)</span> = <a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.lattice" title="=&gt; Liveness.this.livenessLattice.type">lattice</a>.<a href="#scala.tools.nsc.backend.icode.analysis;Liveness.livenessLattice.bottom.readResolve" title="LivenessAnalysis.this.lattice.bottom.type">bottom</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    import <a href="../Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes" title="Liveness.this.global.icodes.opcodes.type">opcodes</a>._

    <span class="comment">/** Return the gen and kill sets for this block. */</span>
    def <a title="(b: Liveness.this.global.icodes.BasicBlock)(Set[Liveness.this.global.icodes.Local], Set[Liveness.this.global.icodes.Local])" id="scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.genAndKill">genAndKill</a><span class="delimiter">(</span><a title="Liveness.this.global.icodes.BasicBlock" id="scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.genAndKill.b">b</a>: <a href="../BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock" title="Liveness.this.global.icodes.BasicBlock">BasicBlock</a><span class="delimiter">)</span>: <a href="../../../../../Tuple2.scala.html#scala;Tuple2" title="(Set[Liveness.this.global.icodes.Local], Set[Liveness.this.global.icodes.Local])" class="delimiter">(</a>Set<span class="delimiter">[</span>Local<span class="delimiter">]</span>, Set<span class="delimiter">[</span>Local<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      var <a title="scala.collection.immutable.ListSet[Liveness.this.global.icodes.Local]" id="scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.genAndKill.genSet">genSet</a> = new <a href="../../../../../collection/immutable/ListSet.scala.html#scala.collection.immutable;ListSet" title="scala.collection.immutable.ListSet[Liveness.this.global.icodes.Local]">ListSet</a><span class="delimiter">[</span>Local<span class="delimiter">]</span>
      var <a title="scala.collection.immutable.ListSet[Liveness.this.global.icodes.Local]" id="scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.genAndKill.killSet">killSet</a> = new <a href="../../../../../collection/immutable/ListSet.scala.html#scala.collection.immutable;ListSet" title="scala.collection.immutable.ListSet[Liveness.this.global.icodes.Local]">ListSet</a><span class="delimiter">[</span>Local<span class="delimiter">]</span>
      for <span class="delimiter">(</span><a title="Liveness.this.global.icodes.Instruction" id="scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.genAndKill.$anonfun.i">i</a> &lt;- <a href="../BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.foreach" title="(f: Liveness.this.global.icodes.Instruction =&gt; Unit)Unit">b</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.genAndKill.$anonfun.i" title="Liveness.this.global.icodes.Instruction">i</a> match <span class="delimiter">{</span>
        case LOAD_LOCAL<span class="delimiter">(</span><span title="Liveness.this.global.icodes.Local">local</span><span class="delimiter">)</span>  if <span class="delimiter">(</span><a href="../../../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="../../../../../collection/GenSetLike.scala.html#scala.collection;GenSetLike.apply" title="(elem: Liveness.this.global.icodes.Local)Boolean">killSet</a><span class="delimiter">(</span><span title="Liveness.this.global.icodes.Local">local</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.genAndKill.genSet" title="scala.collection.immutable.ListSet[Liveness.this.global.icodes.Local]">genSet</a> = <a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.genAndKill.genSet" title="scala.collection.immutable.ListSet[Liveness.this.global.icodes.Local]">genSet</a> <a href="../../../../../collection/immutable/ListSet.scala.html#scala.collection.immutable;ListSet.+(f37116eb2d)" title="(elem: Liveness.this.global.icodes.Local)scala.collection.immutable.ListSet[Liveness.this.global.icodes.Local]">+</a> <span title="Liveness.this.global.icodes.Local">local</span>
        case STORE_LOCAL<span class="delimiter">(</span><span title="Liveness.this.global.icodes.Local">local</span><span class="delimiter">)</span> if <span class="delimiter">(</span><a href="../../../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="../../../../../collection/GenSetLike.scala.html#scala.collection;GenSetLike.apply" title="(elem: Liveness.this.global.icodes.Local)Boolean">genSet</a><span class="delimiter">(</span><span title="Liveness.this.global.icodes.Local">local</span><span class="delimiter">)</span><span class="delimiter">)</span>  =&gt; <a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.genAndKill.killSet" title="scala.collection.immutable.ListSet[Liveness.this.global.icodes.Local]">killSet</a> = <a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.genAndKill.killSet" title="scala.collection.immutable.ListSet[Liveness.this.global.icodes.Local]">killSet</a> <a href="../../../../../collection/immutable/ListSet.scala.html#scala.collection.immutable;ListSet.+(f37116eb2d)" title="(elem: Liveness.this.global.icodes.Local)scala.collection.immutable.ListSet[Liveness.this.global.icodes.Local]">+</a> <span title="Liveness.this.global.icodes.Local">local</span>
        case _ =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="../../../../../Tuple2.scala.html#scala;Tuple2" title="(_1: scala.collection.immutable.ListSet[Liveness.this.global.icodes.Local], _2: scala.collection.immutable.ListSet[Liveness.this.global.icodes.Local])(scala.collection.immutable.ListSet[Liveness.this.global.icodes.Local], scala.collection.immutable.ListSet[Liveness.this.global.icodes.Local])" class="delimiter">(</a><a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.genAndKill.genSet" title="scala.collection.immutable.ListSet[Liveness.this.global.icodes.Local]">genSet</a>, <a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.genAndKill.killSet" title="scala.collection.immutable.ListSet[Liveness.this.global.icodes.Local]">killSet</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    override def <a title="()Unit" id="scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.run">run</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="DataFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;DataFlowAnalysis.backwardAnalysis" title="(f: (LivenessAnalysis.this.P, LivenessAnalysis.this.lattice.Elem) =&gt; LivenessAnalysis.this.lattice.Elem)Unit">backwardAnalysis</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.blockTransfer" title="(b: Liveness.this.global.icodes.BasicBlock, out: LivenessAnalysis.this.lattice.Elem)LivenessAnalysis.this.lattice.Elem">blockTransfer</a><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="../../../Global.scala.html#scala.tools.nsc;Global.settings" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../../../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings.MutableSettings.reflectSettingToBoolean" title="implicit scala.reflect.internal.settings.MutableSettings.reflectSettingToBoolean : (s: scala.reflect.internal.settings.MutableSettings#BooleanSetting)Boolean">debug</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../ICodes.scala.html#scala.tools.nsc.backend.icode;ICodes.linearizer" title="=&gt; Liveness.this.global.icodes.Linearizer">linearizer</a>.<a href="../Linearizers.scala.html#scala.tools.nsc.backend.icode;Linearizers;Linearizer.linearize" title="(c: Liveness.this.global.icodes.IMethod)List[Liveness.this.global.icodes.BasicBlock]">linearize</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.method_=" title="=&gt; Liveness.this.global.icodes.IMethod">method</a><span class="delimiter">)</span>.<a href="../../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.foreach" title="(f: Liveness.this.global.icodes.BasicBlock =&gt; Unit)Unit">foreach</a><span class="delimiter">(</span><a title="Liveness.this.global.icodes.BasicBlock" id="scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.run.$anonfun.b">b</a> =&gt; if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.run.$anonfun.b" title="Liveness.this.global.icodes.BasicBlock">b</a> <span title="(x$1: Any)Boolean">!=</span> <a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.method_=" title="=&gt; Liveness.this.global.icodes.IMethod">method</a>.<a href="../Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.startBlock" title="=&gt; Liveness.this.global.icodes.BasicBlock">startBlock</a><span class="delimiter">)</span>
          <a href="../../../Global.scala.html#scala.tools.nsc;Global.assert(0f40bc559c)" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.lattice" title="=&gt; Liveness.this.livenessLattice.type">lattice</a>.<a href="#scala.tools.nsc.backend.icode.analysis;Liveness.livenessLattice.bottom.readResolve" title="LivenessAnalysis.this.lattice.bottom.type">bottom</a> <span title="(x$1: Any)Boolean">!=</span> <a href="../../../../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: LivenessAnalysis.this.P)LivenessAnalysis.this.lattice.Elem">in</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.run.$anonfun.b" title="Liveness.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>,
            <span title="String(&quot;Block &quot;)" class="string">&quot;Block &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.run.$anonfun.b" title="Liveness.this.global.icodes.BasicBlock">b</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)String">+</span> this.<a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.method_=" title="=&gt; Liveness.this.global.icodes.IMethod">method</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; has input equal to bottom -- not visited?&quot;)" class="string">&quot; has input equal to bottom -- not visited?&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    def <a title="(b: Liveness.this.global.icodes.BasicBlock, out: LivenessAnalysis.this.lattice.Elem)LivenessAnalysis.this.lattice.Elem" id="scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.blockTransfer">blockTransfer</a><span class="delimiter">(</span><a title="Liveness.this.global.icodes.BasicBlock" id="scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.blockTransfer.b">b</a>: <a href="../BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock" title="Liveness.this.global.icodes.BasicBlock">BasicBlock</a>, <a title="LivenessAnalysis.this.lattice.Elem" id="scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.blockTransfer.out">out</a>: lattice.<a href="../../../../../collection/immutable/Set.scala.html#scala.collection.immutable;Set" title="LivenessAnalysis.this.lattice.Elem">Elem</a><span class="delimiter">)</span>: lattice.<a href="../../../../../collection/immutable/Set.scala.html#scala.collection.immutable;Set" title="LivenessAnalysis.this.lattice.Elem">Elem</a> =
      <a href="../../../../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: Liveness.this.global.icodes.BasicBlock)Set[Liveness.this.global.icodes.Local]">gen</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.blockTransfer.b" title="Liveness.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span> <a href="../../../../../collection/SetLike.scala.html#scala.collection;SetLike.++(07e1553119)" title="(elems: scala.collection.GenTraversableOnce[Liveness.this.global.icodes.Local])scala.collection.immutable.Set[Liveness.this.global.icodes.Local]">++</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.blockTransfer.out" title="LivenessAnalysis.this.lattice.Elem">out</a> <a href="../../../../../collection/generic/Subtractable.scala.html#scala.collection.generic;Subtractable.--" title="(xs: scala.collection.GenTraversableOnce[Liveness.this.global.icodes.Local])scala.collection.immutable.Set[Liveness.this.global.icodes.Local]">--</a> <a href="../../../../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: Liveness.this.global.icodes.BasicBlock)Set[Liveness.this.global.icodes.Local]">kill</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.blockTransfer.b" title="Liveness.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/** Abstract interpretation for one instruction. Very important:
     *  liveness is a backward DFA, so this method should be used to compute
     *  liveness *before* the given instruction `i`.
     */</span>
    def <a title="(out: LivenessAnalysis.this.lattice.Elem, i: Liveness.this.global.icodes.Instruction)LivenessAnalysis.this.lattice.Elem" id="scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.interpret">interpret</a><span class="delimiter">(</span><a title="LivenessAnalysis.this.lattice.Elem" id="scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.interpret.out">out</a>: lattice.<a href="../../../../../collection/immutable/Set.scala.html#scala.collection.immutable;Set" title="LivenessAnalysis.this.lattice.Elem">Elem</a>, <a title="Liveness.this.global.icodes.Instruction" id="scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.interpret.i">i</a>: <a href="../Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes;Instruction" title="Liveness.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span>: lattice.<a href="../../../../../collection/immutable/Set.scala.html#scala.collection.immutable;Set" title="LivenessAnalysis.this.lattice.Elem">Elem</a> = <span class="delimiter">{</span>
      <a href="../../../Global.scala.html#scala.tools.nsc;Global.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;- &quot;)" class="string">&quot;- &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.interpret.i" title="Liveness.this.global.icodes.Instruction">i</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\nout: &quot;)" class="string">&quot;\nout: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.interpret.out" title="LivenessAnalysis.this.lattice.Elem">out</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.interpret.i" title="Liveness.this.global.icodes.Instruction">i</a> match <span class="delimiter">{</span>
        case LOAD_LOCAL<span class="delimiter">(</span><span title="Liveness.this.global.icodes.Local">l</span><span class="delimiter">)</span>  =&gt; <a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.interpret.out" title="LivenessAnalysis.this.lattice.Elem">out</a> <a href="../../../../../collection/SetLike.scala.html#scala.collection;SetLike.+(daf7108c0f)" title="(elem: Liveness.this.global.icodes.Local)scala.collection.immutable.Set[Liveness.this.global.icodes.Local]">+</a> <span title="Liveness.this.global.icodes.Local">l</span>
        case STORE_LOCAL<span class="delimiter">(</span><span title="Liveness.this.global.icodes.Local">l</span><span class="delimiter">)</span> =&gt; <a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.interpret.out" title="LivenessAnalysis.this.lattice.Elem">out</a> <a href="../../../../../collection/SetLike.scala.html#scala.collection;SetLike.-(daf7108c0f)" title="(elem: Liveness.this.global.icodes.Local)scala.collection.immutable.Set[Liveness.this.global.icodes.Local]">-</a> <span title="Liveness.this.global.icodes.Local">l</span>
        case _              =&gt; <a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.interpret.out" title="LivenessAnalysis.this.lattice.Elem">out</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    override def <a title="()String" id="scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.toString">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> =
      <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.method_=" title="=&gt; Liveness.this.global.icodes.IMethod">method</a>.<a href="../Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.blocks" title="=&gt; List[Liveness.this.global.icodes.BasicBlock]">blocks</a> <a href="../../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: Liveness.this.global.icodes.BasicBlock =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Liveness.this.global.icodes.BasicBlock],String,List[String]])List[String]">map</a> <span class="delimiter">(</span><a title="Liveness.this.global.icodes.BasicBlock" id="scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.toString.$anonfun.b">b</a> =&gt; <a href="../../../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;\nlive-in(%s)=%s\nlive-out(%s)=%s&quot;</a>.<a href="../../../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.toString.$anonfun.b" title="Liveness.this.global.icodes.BasicBlock">b</a>, <a href="../../../../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: LivenessAnalysis.this.P)LivenessAnalysis.this.lattice.Elem">in</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.toString.$anonfun.b" title="Liveness.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>, <a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.toString.$anonfun.b" title="Liveness.this.global.icodes.BasicBlock">b</a>, <a href="../../../../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: LivenessAnalysis.this.P)LivenessAnalysis.this.lattice.Elem">out</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.toString.$anonfun.b" title="Liveness.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.mkString(3bf7c90be7)" title="=&gt; String">mkString</a>
  <span class="delimiter">}</span> <span class="comment">/* Liveness analysis */</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
